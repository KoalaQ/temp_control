                        .module out.c
                        .area text(rom, con, rel)
 0000                   .dbfile out.c
 0000                   .dbfile E:\ICCDemo\Temp_Control\temp_control\out.c
 0000                   .dbfunc e out_all _out_all fV
 0000           ;            out -> R16
                        .even
 0000           _out_all::
 0000                   .dbline -1
 0000                   .dbline 4
 0000           ; #include<iom128v.h>
 0000           ; #include "out.h"
 0000           ; 
 0000           ; void out_all(uchar out){
 0000                   .dbline 5
 0000           ;   DDRC=0xFF;
 0000 8FEF              ldi R24,255
 0002 84BB              out 0x14,R24
 0004                   .dbline 6
 0004           ;   PORTC=out;
 0004 05BB              out 0x15,R16
 0006                   .dbline -2
 0006           L1:
 0006                   .dbline 0 ; func end
 0006 0895              ret
 0008                   .dbsym r out 16 c
 0008                   .dbend
 0008                   .dbfunc e out_port _out_port fV
 0008           ;           port -> R10,R11
 0008           ;            out -> R20,R21
                        .even
 0008           _out_port::
 0008 0E940000          xcall push_xgset300C
 000C 5901              movw R10,R18
 000E A801              movw R20,R16
 0010                   .dbline -1
 0010                   .dbline 9
 0010           ; }
 0010           ; //0、1的传入。port由0~7
 0010           ; void out_port(uint out,uint port){
 0010                   .dbline 10
 0010           ;   DDRC=0xFF;
 0010 8FEF              ldi R24,255
 0012 84BB              out 0x14,R24
 0014                   .dbline 11
 0014           ;   if(out==0){
 0014 4030              cpi R20,0
 0016 4507              cpc R20,R21
 0018 71F4              brne L3
 001A           X0:
 001A                   .dbline 11
 001A                   .dbline 12
 001A           ;    PORTC&=~(1<<port);
 001A 01E0              ldi R16,1
 001C 10E0              ldi R17,0
 001E 9501              movw R18,R10
 0020 0E940000          xcall lsl16
 0024 1801              movw R2,R16
 0026 2094              com R2
 0028 3094              com R3
 002A 45B2              in R4,0x15
 002C 5524              clr R5
 002E 4220              and R4,R2
 0030 5320              and R5,R3
 0032 45BA              out 0x15,R4
 0034                   .dbline 13
 0034           ;   }else if(out==1){
 0034 0EC0              xjmp L4
 0036           L3:
 0036                   .dbline 13
 0036 4130              cpi R20,1
 0038 E0E0              ldi R30,0
 003A 5E07              cpc R21,R30
 003C 51F4              brne L5
 003E           X1:
 003E                   .dbline 13
 003E                   .dbline 14
 003E           ;    PORTC|=(1<<port);
 003E 01E0              ldi R16,1
 0040 10E0              ldi R17,0
 0042 9501              movw R18,R10
 0044 0E940000          xcall lsl16
 0048 25B2              in R2,0x15
 004A 3324              clr R3
 004C 202A              or R2,R16
 004E 312A              or R3,R17
 0050 25BA              out 0x15,R2
 0052                   .dbline 15
 0052           ;   }
 0052           L5:
 0052           L4:
 0052                   .dbline -2
 0052           L2:
 0052                   .dbline 0 ; func end
 0052 0C940000          xjmp pop_xgset300C
 0056                   .dbsym r port 10 i
 0056                   .dbsym r out 20 i
 0056                   .dbend
 0056                   .dbfunc e read_port _read_port fi
 0056           ;           port -> R10,R11
                        .even
 0056           _read_port::
 0056 AA92              st -y,R10
 0058 BA92              st -y,R11
 005A 5801              movw R10,R16
 005C                   .dbline -1
 005C                   .dbline 17
 005C           ; }
 005C           ; uint read_port(uint port){
 005C                   .dbline 18
 005C           ;   return PINC&(1<<port);
 005C 01E0              ldi R16,1
 005E 10E0              ldi R17,0
 0060 9501              movw R18,R10
 0062 0E940000          xcall lsl16
 0066 23B2              in R2,0x13
 0068 3324              clr R3
 006A 2022              and R2,R16
 006C 3122              and R3,R17
 006E 8101              movw R16,R2
 0070                   .dbline -2
 0070           L7:
 0070                   .dbline 0 ; func end
 0070 B990              ld R11,y+
 0072 A990              ld R10,y+
 0074 0895              ret
 0076                   .dbsym r port 10 i
 0076                   .dbend
 0076           ; }
