                        .module out.c
                        .area text(rom, con, rel)
 0000                   .dbfile out.c
                        .area data(ram, con, rel)
 0000                   .dbfile out.c
 0000           _hz::
 0000                   .blkb 2
                        .area idata
 0000 0100              .word 1
                        .area data(ram, con, rel)
 0002                   .dbfile out.c
 0002                   .dbfile E:\ICCDemo\Temp_Control\temp_control\out.c
 0002                   .dbsym e hz _hz i
                        .area text(rom, con, rel)
 0000                   .dbfile E:\ICCDemo\Temp_Control\temp_control\out.c
 0000                   .dbfunc e out_port _out_port fV
                        .even
 0000           _out_port::
 0000 AA92              st -y,R10
 0002 BA92              st -y,R11
 0004                   .dbline -1
 0004                   .dbline 11
 0004           ; #include<iom128v.h>
 0004           ; #include "out.h"
 0004           ; #include "lcd.h"
 0004           ; #include "main.h"
 0004           ; //*********************
 0004           ; // 1秒钟50周期，控制功率是50周期输出量
 0004           ; //*********************
 0004           ; uint hz=1;//1~50表示周期
 0004           ; 
 0004           ; //0、1的传入。port由0~7
 0004           ; void out_port(void){
 0004                   .dbline 12
 0004           ;    if(hz==51){
 0004 80910000          lds R24,_hz
 0008 90910100          lds R25,_hz+1
 000C 8333              cpi R24,51
 000E E0E0              ldi R30,0
 0010 9E07              cpc R25,R30
 0012 31F4              brne L2
 0014           X0:
 0014                   .dbline 12
 0014                   .dbline 13
 0014           ;      hz=0;
 0014 2224              clr R2
 0016 3324              clr R3
 0018 30920100          sts _hz+1,R3
 001C 20920000          sts _hz,R2
 0020                   .dbline 14
 0020           ;    }
 0020           L2:
 0020                   .dbline 15
 0020           ;    if(temps[0].flag==1){
 0020 80910000          lds R24,_temps
 0024 90910100          lds R25,_temps+1
 0028 8130              cpi R24,1
 002A E0E0              ldi R30,0
 002C 9E07              cpc R25,R30
 002E E9F4              brne L4
 0030           X1:
 0030                   .dbline 15
 0030                   .dbline 16
 0030           ;         if(temps[0].incrementtemp>=hz){
 0030 40904201          lds R4,_temps+320+2
 0034 50904301          lds R5,_temps+320+2+1
 0038 20904001          lds R2,_temps+320
 003C 30904101          lds R3,_temps+320+1
 0040 00910000          lds R16,_hz
 0044 10910100          lds R17,_hz+1
 0048 0E940000          xcall uint2fp
 004C 3A93              st -y,R19
 004E 2A93              st -y,R18
 0050 1A93              st -y,R17
 0052 0A93              st -y,R16
 0054 8101              movw R16,R2
 0056 9201              movw R18,R4
 0058 0E940000          xcall fpcmp2
 005C 14F0              brlt L6
 005E           X2:
 005E                   .dbline 16
 005E                   .dbline 17
 005E           ;           PORTE |=0x01;
 005E 189A              sbi 0x3,0
 0060                   .dbline 18
 0060           ;         }else {
 0060 07C0              xjmp L5
 0062           L6:
 0062                   .dbline 18
 0062                   .dbline 19
 0062           ;           PORTE &=0xFE;
 0062 83B1              in R24,0x3
 0064 8E7F              andi R24,254
 0066 83B9              out 0x3,R24
 0068                   .dbline 20
 0068           ;         }
 0068                   .dbline 21
 0068           ;    }else{
 0068 03C0              xjmp L5
 006A           L4:
 006A                   .dbline 21
 006A                   .dbline 22
 006A           ;       PORTE &=0xFE;
 006A 83B1              in R24,0x3
 006C 8E7F              andi R24,254
 006E 83B9              out 0x3,R24
 0070                   .dbline 23
 0070           ;    }
 0070           L5:
 0070                   .dbline 24
 0070           ;     if(temps[1].flag==1){
 0070 80914401          lds R24,_temps+324
 0074 90914501          lds R25,_temps+324+1
 0078 8130              cpi R24,1
 007A E0E0              ldi R30,0
 007C 9E07              cpc R25,R30
 007E E9F4              brne L9
 0080           X3:
 0080                   .dbline 24
 0080                   .dbline 25
 0080           ;         if(temps[0].incrementtemp>=hz){
 0080 40904201          lds R4,_temps+320+2
 0084 50904301          lds R5,_temps+320+2+1
 0088 20904001          lds R2,_temps+320
 008C 30904101          lds R3,_temps+320+1
 0090 00910000          lds R16,_hz
 0094 10910100          lds R17,_hz+1
 0098 0E940000          xcall uint2fp
 009C 3A93              st -y,R19
 009E 2A93              st -y,R18
 00A0 1A93              st -y,R17
 00A2 0A93              st -y,R16
 00A4 8101              movw R16,R2
 00A6 9201              movw R18,R4
 00A8 0E940000          xcall fpcmp2
 00AC 14F0              brlt L12
 00AE           X4:
 00AE                   .dbline 25
 00AE                   .dbline 26
 00AE           ;             PORTE |=0x02;
 00AE 199A              sbi 0x3,1
 00B0                   .dbline 27
 00B0           ;           }else {
 00B0 07C0              xjmp L10
 00B2           L12:
 00B2                   .dbline 27
 00B2                   .dbline 28
 00B2           ;             PORTE &=0xFD;
 00B2 83B1              in R24,0x3
 00B4 8D7F              andi R24,253
 00B6 83B9              out 0x3,R24
 00B8                   .dbline 29
 00B8           ;           }
 00B8                   .dbline 30
 00B8           ;    }else{
 00B8 03C0              xjmp L10
 00BA           L9:
 00BA                   .dbline 30
 00BA                   .dbline 31
 00BA           ;       PORTE &=0xFD;
 00BA 83B1              in R24,0x3
 00BC 8D7F              andi R24,253
 00BE 83B9              out 0x3,R24
 00C0                   .dbline 32
 00C0           ;    }
 00C0           L10:
 00C0                   .dbline 33
 00C0           ;     if(temps[2].flag==1){
 00C0 80918802          lds R24,_temps+648
 00C4 90918902          lds R25,_temps+648+1
 00C8 8130              cpi R24,1
 00CA E0E0              ldi R30,0
 00CC 9E07              cpc R25,R30
 00CE E9F4              brne L15
 00D0           X5:
 00D0                   .dbline 33
 00D0                   .dbline 34
 00D0           ;         if(temps[0].incrementtemp>=hz){
 00D0 40904201          lds R4,_temps+320+2
 00D4 50904301          lds R5,_temps+320+2+1
 00D8 20904001          lds R2,_temps+320
 00DC 30904101          lds R3,_temps+320+1
 00E0 00910000          lds R16,_hz
 00E4 10910100          lds R17,_hz+1
 00E8 0E940000          xcall uint2fp
 00EC 3A93              st -y,R19
 00EE 2A93              st -y,R18
 00F0 1A93              st -y,R17
 00F2 0A93              st -y,R16
 00F4 8101              movw R16,R2
 00F6 9201              movw R18,R4
 00F8 0E940000          xcall fpcmp2
 00FC 14F0              brlt L18
 00FE           X6:
 00FE                   .dbline 34
 00FE                   .dbline 35
 00FE           ;             PORTE |=0x04;
 00FE 1A9A              sbi 0x3,2
 0100                   .dbline 36
 0100           ;           }else {
 0100 07C0              xjmp L16
 0102           L18:
 0102                   .dbline 36
 0102                   .dbline 37
 0102           ;             PORTE &=0xFB;
 0102 83B1              in R24,0x3
 0104 8B7F              andi R24,251
 0106 83B9              out 0x3,R24
 0108                   .dbline 38
 0108           ;           }
 0108                   .dbline 39
 0108           ;    }else{
 0108 03C0              xjmp L16
 010A           L15:
 010A                   .dbline 39
 010A                   .dbline 40
 010A           ;       PORTE &=0xFB;
 010A 83B1              in R24,0x3
 010C 8B7F              andi R24,251
 010E 83B9              out 0x3,R24
 0110                   .dbline 41
 0110           ;    }
 0110           L16:
 0110                   .dbline 42
 0110           ;     if(temps[3].flag==1){
 0110 8091CC03          lds R24,_temps+972
 0114 9091CD03          lds R25,_temps+972+1
 0118 8130              cpi R24,1
 011A E0E0              ldi R30,0
 011C 9E07              cpc R25,R30
 011E E9F4              brne L21
 0120           X7:
 0120                   .dbline 42
 0120                   .dbline 43
 0120           ;         if(temps[0].incrementtemp>=hz){
 0120 40904201          lds R4,_temps+320+2
 0124 50904301          lds R5,_temps+320+2+1
 0128 20904001          lds R2,_temps+320
 012C 30904101          lds R3,_temps+320+1
 0130 00910000          lds R16,_hz
 0134 10910100          lds R17,_hz+1
 0138 0E940000          xcall uint2fp
 013C 3A93              st -y,R19
 013E 2A93              st -y,R18
 0140 1A93              st -y,R17
 0142 0A93              st -y,R16
 0144 8101              movw R16,R2
 0146 9201              movw R18,R4
 0148 0E940000          xcall fpcmp2
 014C 14F0              brlt L24
 014E           X8:
 014E                   .dbline 43
 014E                   .dbline 44
 014E           ;             PORTE |=0x08;
 014E 1B9A              sbi 0x3,3
 0150                   .dbline 45
 0150           ;           }else {
 0150 07C0              xjmp L22
 0152           L24:
 0152                   .dbline 45
 0152                   .dbline 46
 0152           ;             PORTE &=0xF7;
 0152 83B1              in R24,0x3
 0154 877F              andi R24,247
 0156 83B9              out 0x3,R24
 0158                   .dbline 47
 0158           ;           }
 0158                   .dbline 48
 0158           ;    }else{
 0158 03C0              xjmp L22
 015A           L21:
 015A                   .dbline 48
 015A                   .dbline 49
 015A           ;      PORTE &=0xF7;
 015A 83B1              in R24,0x3
 015C 877F              andi R24,247
 015E 83B9              out 0x3,R24
 0160                   .dbline 50
 0160           ;    }
 0160           L22:
 0160                   .dbline 51
 0160           ;     hz++;
 0160 80910000          lds R24,_hz
 0164 90910100          lds R25,_hz+1
 0168 0196              adiw R24,1
 016A 90930100          sts _hz+1,R25
 016E 80930000          sts _hz,R24
 0172                   .dbline -2
 0172           L1:
 0172                   .dbline 0 ; func end
 0172 B990              ld R11,y+
 0174 A990              ld R10,y+
 0176 0895              ret
 0178                   .dbend
 0178           ; }
