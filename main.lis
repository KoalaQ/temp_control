                        .module main.c
                        .area text(rom, con, rel)
 0000                   .dbfile main.c
                        .area data(ram, con, rel)
 0000                   .dbfile main.c
 0000           _waitflag::
 0000                   .blkb 2
                        .area idata
 0000 E803              .word 1000
                        .area data(ram, con, rel)
 0002                   .dbfile main.c
 0002                   .dbfile E:\ICCDemo\Temp_Control\temp_control\main.c
 0002                   .dbsym e waitflag _waitflag i
 0002           _temp_h::
 0002                   .blkb 2
                        .area idata
 0002 0000              .word 0
                        .area data(ram, con, rel)
 0004                   .dbfile E:\ICCDemo\Temp_Control\temp_control\main.c
 0004                   .dbsym e temp_h _temp_h i
 0004           _temp_l::
 0004                   .blkb 2
                        .area idata
 0004 0000              .word 0
                        .area data(ram, con, rel)
 0006                   .dbfile E:\ICCDemo\Temp_Control\temp_control\main.c
 0006                   .dbsym e temp_l _temp_l i
 0006           _temps::
 0006                   .blkb 2
                        .area idata
 0006 0000              .word 0
                        .area data(ram, con, rel)
 0008                   .dbfile E:\ICCDemo\Temp_Control\temp_control\main.c
 0008                   .blkb 322
                        .area idata
 0008 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 0044 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 0080 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 00BC 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 00F8 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 0134 00000000000000000000      .word 0,0,0,0,0
 013E 00000000000000000000      .word 0,0,0,0,0
 0148 0000              .byte 0,0
                        .area data(ram, con, rel)
 014A                   .dbfile E:\ICCDemo\Temp_Control\temp_control\main.c
 014A                   .blkb 2
                        .area idata
 014A 0000              .word 0
                        .area data(ram, con, rel)
 014C                   .dbfile E:\ICCDemo\Temp_Control\temp_control\main.c
 014C                   .blkb 322
                        .area idata
 014C 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 0188 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 01C4 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 0200 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 023C 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 0278 00000000000000000000      .word 0,0,0,0,0
 0282 00000000000000000000      .word 0,0,0,0,0
 028C 0000              .byte 0,0
                        .area data(ram, con, rel)
 028E                   .dbfile E:\ICCDemo\Temp_Control\temp_control\main.c
 028E                   .blkb 2
                        .area idata
 028E 0000              .word 0
                        .area data(ram, con, rel)
 0290                   .dbfile E:\ICCDemo\Temp_Control\temp_control\main.c
 0290                   .blkb 322
                        .area idata
 0290 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 02CC 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 0308 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 0344 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 0380 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 03BC 00000000000000000000      .word 0,0,0,0,0
 03C6 00000000000000000000      .word 0,0,0,0,0
 03D0 0000              .byte 0,0
                        .area data(ram, con, rel)
 03D2                   .dbfile E:\ICCDemo\Temp_Control\temp_control\main.c
 03D2                   .blkb 2
                        .area idata
 03D2 0000              .word 0
                        .area data(ram, con, rel)
 03D4                   .dbfile E:\ICCDemo\Temp_Control\temp_control\main.c
 03D4                   .blkb 322
                        .area idata
 03D4 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 0410 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 044C 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 0488 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 04C4 000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000  .word 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 0500 00000000000000000000      .word 0,0,0,0,0
 050A 00000000000000000000      .word 0,0,0,0,0
 0514 0000              .byte 0,0
                        .area data(ram, con, rel)
 0516                   .dbfile E:\ICCDemo\Temp_Control\temp_control\main.c
 0516                   .dbstruct 0 324 temp
 0516                   .dbfield 0 flag i
 0516                   .dbfield 2 temp_data A[264:132]i
 0516                   .dbfield 266 status i
 0516                   .dbfield 268 needtime i
 0516                   .dbfield 270 nowtime i
 0516                   .dbfield 272 pertime i
 0516                   .dbfield 274 pertimecnt i
 0516                   .dbfield 276 statusflag i
 0516                   .dbfield 278 p_settemp i
 0516                   .dbfield 280 p_err_next i
 0516                   .dbfield 282 p_Kp i
 0516                   .dbfield 284 p_Ki i
 0516                   .dbfield 286 p_err_last i
 0516                   .dbfield 288 settemp D
 0516                   .dbfield 292 actualtemp D
 0516                   .dbfield 296 err D
 0516                   .dbfield 300 err_last D
 0516                   .dbfield 304 err_next D
 0516                   .dbfield 308 Kp D
 0516                   .dbfield 312 Ki D
 0516                   .dbfield 316 Kd D
 0516                   .dbfield 320 incrementtemp D
 0516                   .dbend
 0516                   .dbsym e temps _temps A[1296:4]S[temp]
                        .area text(rom, con, rel)
 0000                   .dbfile E:\ICCDemo\Temp_Control\temp_control\main.c
 0000                   .dbfunc e main _main fV
 0000           ;           data -> <dead>
 0000           ;              i -> <dead>
                        .even
 0000           _main::
 0000 2197              sbiw R28,1
 0002                   .dbline -1
 0002                   .dbline 34
 0002           ; 
 0002           ; #include<iom128v.h>
 0002           ; #include "main.h"
 0002           ; #include "lcd.h"
 0002           ; #include "time1307.h"
 0002           ; #include "key.h"
 0002           ; #include "delay.h"
 0002           ; #include "timertask.h"
 0002           ; #include "eeprom.h"
 0002           ; #include "pages.h"
 0002           ; #include "temp.h"
 0002           ; //const unsigned char nihao[1536]={};
 0002           ; unsigned int waitflag=1000;//确认恢复的等待标记，初始为10，如果为0代表到时
 0002           ; //下面两个继续使用。暂时保存数据使用
 0002           ;  unsigned int temp_h=0;
 0002           ;  unsigned int temp_l=0;
 0002           ;  //uart需要参数
 0002           ;  unsigned char send_buf[600];
 0002           ;  unsigned char receive_buf[600];
 0002           ;  unsigned int send_len;
 0002           ;  unsigned int receive_len;
 0002           ;  //界面需要参数
 0002           ;  unsigned int pageNum;//当前页面，如需跳转改变这个值就行
 0002           ;  unsigned int pageParam[5];//传递参数。界面间参数暂存
 0002           ;  unsigned int prePageNum; //上一界面。应该在跳转前设置这个参数。但是用到这个参数的就Page3、4、8.所以可以直接在该界面用到在设置。不用理会规则
 0002           ;  //**************
 0002           ; struct temp temps[4]={{0},{0},{0},{0}};
 0002           ; 
 0002           ; 
 0002           ; //*************************************************************************
 0002           ; //                    主程序
 0002           ; //*************************************************************************
 0002           ; void main(void)
 0002           ; { 
 0002                   .dbline 37
 0002           ; uint i;
 0002           ;   uchar data;
 0002           ;   DDRE=0xFF;
 0002 8FEF              ldi R24,255
 0004 82B9              out 0x2,R24
 0006                   .dbline 38
 0006           ;   PORTE=~0xaa;
 0006 85E5              ldi R24,85
 0008 83B9              out 0x3,R24
 000A                   .dbline 39
 000A           ;   SREG|=0x80;//开中断
 000A 7894              bset 7
 000C                   .dbline 40
 000C           ;   lcd_init();
 000C 0E940000          xcall _lcd_init
 0010                   .dbline 41
 0010           ;   lcd_clear();
 0010 0E940000          xcall _lcd_clear
 0014                   .dbline 45
 0014           ;    //画欢迎界面
 0014           ;   //Draw_Pic( 0, 0, nihao);
 0014           ;    //delay_ms(1000);
 0014           ;      pageNum=2;
 0014 82E0              ldi R24,2
 0016 90E0              ldi R25,0
 0018 9093C104          sts _pageNum+1,R25
 001C 8093C004          sts _pageNum,R24
 0020                   .dbline 46
 0020           ;      Set_White_off(1,0,12);
 0020 8CE0              ldi R24,12
 0022 8883              std y+0,R24
 0024 2227              clr R18
 0026 01E0              ldi R16,1
 0028 0E940000          xcall _Set_White_off
 002C                   .dbline 47
 002C           ;        Set_White_off(1,1,12);
 002C 8CE0              ldi R24,12
 002E 8883              std y+0,R24
 0030 21E0              ldi R18,1
 0032 01E0              ldi R16,1
 0034 0E940000          xcall _Set_White_off
 0038                   .dbline 48
 0038           ;        Set_White_off(1,2,12);
 0038 8CE0              ldi R24,12
 003A 8883              std y+0,R24
 003C 22E0              ldi R18,2
 003E 01E0              ldi R16,1
 0040 0E940000          xcall _Set_White_off
 0044                   .dbline 49
 0044           ;        Set_White_off(1,3,12);
 0044 8CE0              ldi R24,12
 0046 8883              std y+0,R24
 0048 23E0              ldi R18,3
 004A 01E0              ldi R16,1
 004C 0E940000          xcall _Set_White_off
 0050                   .dbline 51
 0050           ;        //测试使用
 0050           ;          temp_l=0x50;
 0050 80E5              ldi R24,80
 0052 90E0              ldi R25,0
 0054 90930500          sts _temp_l+1,R25
 0058 80930400          sts _temp_l,R24
 005C                   .dbline 52
 005C           ;       temp_h=0x12;
 005C 82E1              ldi R24,18
 005E 90930300          sts _temp_h+1,R25
 0062 80930200          sts _temp_h,R24
 0066                   .dbline 53
 0066           ;         tempdata_init();//数据初始化，清空
 0066 0E940000          xcall _tempdata_init
 006A                   .dbline 54
 006A           ;       Initial_time(); //初始化时间的
 006A 0E940000          xcall _Initial_time
 006E                   .dbline 55
 006E           ;         Timerinit_3(0xe0,0x00);//使用16位的定时器3来读取温度和pid算法
 006E 2227              clr R18
 0070 00EE              ldi R16,224
 0072 0E940000          xcall _Timerinit_3
 0076                   .dbline 56
 0076           ;         Timerinit_1(0xFe,0xb8);//使用16位的定时器1来输出
 0076 28EB              ldi R18,184
 0078 0EEF              ldi R16,254
 007A 0E940000          xcall _Timerinit_1
 007E                   .dbline 57
 007E           ;         Timerinit_2(0x00);
 007E 0027              clr R16
 0080 0E940000          xcall _Timerinit_2
 0084 02C0              xjmp L3
 0086           L2:
 0086                   .dbline 58
 0086           ;        while(1){
 0086                   .dbline 59
 0086           ;      dispatchPages();
 0086 0E940000          xcall _dispatchPages
 008A                   .dbline 60
 008A           ;   }
 008A           L3:
 008A                   .dbline 58
 008A FDCF              xjmp L2
 008C           X0:
 008C                   .dbline -2
 008C           L1:
 008C                   .dbline 0 ; func end
 008C 2196              adiw R28,1
 008E 0895              ret
 0090                   .dbsym l data 2 c
 0090                   .dbsym l i 2 i
 0090                   .dbend
                        .area bss(ram, con, rel)
 0000                   .dbfile E:\ICCDemo\Temp_Control\temp_control\main.c
 0000           _receive_len::
 0000                   .blkb 2
 0002                   .dbsym e receive_len _receive_len i
 0002           _send_len::
 0002                   .blkb 2
 0004                   .dbsym e send_len _send_len i
 0004           _receive_buf::
 0004                   .blkb 600
 025C                   .dbsym e receive_buf _receive_buf A[600:600]c
 025C           _send_buf::
 025C                   .blkb 600
 04B4                   .dbsym e send_buf _send_buf A[600:600]c
 04B4           _prePageNum::
 04B4                   .blkb 2
 04B6                   .dbsym e prePageNum _prePageNum i
 04B6           _pageParam::
 04B6                   .blkb 10
 04C0                   .dbsym e pageParam _pageParam A[10:5]i
 04C0           _pageNum::
 04C0                   .blkb 2
 04C2                   .dbsym e pageNum _pageNum i
 04C2           ;   /*Initial_time();
 04C2           ;    lcd_Desk(); 
 04C2           ;    delay_us(10);
 04C2           ;     data=read_data_xy(0,0);
 04C2           ;   data=read_data_xy(0,0);
 04C2           ;   lcd_write_char(2,2,data);
 04C2           ;   lcd_write_char_con(2,date_cmd_1());
 04C2           ;   lcd_write_char_con(2,date_cmd_1());
 04C2           ;   lcd_write_char_con(2,date_cmd_1());
 04C2           ;   lcd_write_char_con(2,date_cmd_1());
 04C2           ;   lcd_write_char_con(2,date_cmd_1());
 04C2           ;   lcd_write_char_con(2,date_cmd_1());
 04C2           ;   lcd_write_char_con(2,date_cmd_1());
 04C2           ;   lcd_write_char_con(2,date_cmd_1());
 04C2           ;   lcd_write_char_con(2,date_cmd_1());
 04C2           ;   lcd_write_char_con(2,date_cmd_1());
 04C2           ;   lcd_write_char_con(2,date_cmd_1());
 04C2           ;   lcd_write_char_con(2,date_cmd_1());
 04C2           ;   lcd_write_char_con(2,date_cmd_1());
 04C2           ;    //Timerinit_1(0x00,0x00);
 04C2           ;    Timerinit_3(0x88,0x88);
 04C2           ;    //Timerinit_0(0x88);
 04C2           ;   // Timerinit_2(0x01);*/
 04C2           ;  // EEPROM_write(0x00,0x00,0x02);
 04C2           ;  // data=EEPROM_read(0x00,0x00);
 04C2           ;   // lcd_write_char(8,0,0x30|data);
 04C2           ;   // EEPROM_write(0x00,0x00,data+1);
 04C2           ;   //PORTE=~data;
 04C2           ;   // lcd_Desk(); 
 04C2           ;  /*
 04C2           ;   while(1){
 04C2           ;    
 04C2           ;    
 04C2           ;    
 04C2           ;    showTimeLcd();
 04C2           ;     lcd_write_char(0,2,KeyScan_once());
 04C2           ;       cur_set(0);
 04C2           ;       delay_ms(3000);
 04C2           ;       cur_set(1);
 04C2           ;       delay_ms(3000);
 04C2           ;       cur_set(2);
 04C2           ;       delay_ms(3000);
 04C2           ;       cur_set(3);
 04C2           ;       delay_ms(3000);
 04C2           ;       cur_set(4);
 04C2           ;       delay_ms(3000);
 04C2           ;       cur_set(5);
 04C2           ;       delay_ms(3000);
 04C2           ;       cur_set(6);
 04C2           ;       delay_ms(3000);
 04C2           ;       cur_set(7);
 04C2           ;       delay_ms(3000);
 04C2           ;   }*/
 04C2           ;  
 04C2           ; 
 04C2           ;  /* SREG|=0x80;
 04C2           ;   //ADCSRA=0x8E;  
 04C2           ;   DDRE=0xFF;
 04C2           ;   PORTE=0xFF;
 04C2           ;   lcd_init();                                 //液晶参数初始化设置
 04C2           ;   lcd_clear();                                //清屏
 04C2           ;   lcd_Desk();//adc初始化配置
 04C2           ;   //adc_init();
 04C2           ;    // adc_init_once() ;                       
 04C2           ;                           //开启全局中断
 04C2           ;  //Timerinit_1(0xFF,0xF0);
 04C2           ;  Initial_time();
 04C2           ;  Timerinit_3( 0xCC, 0xC5);//16M,0.8s
 04C2           ;  //Timerinit_3( 0xE6, 0x62);//8M,0.8s
 04C2           ;  
 04C2           ;  //初始化按键
 04C2           ;  //KeyInit();*/
 04C2           ;  
 04C2           ; 
 04C2           ; }
