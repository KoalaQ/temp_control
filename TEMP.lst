Interrupt Vectors
    00000 940C 0401 JMP	__text_start|__start
    00006 940C 2881 JMP	_int_int2
    00014 940C 0AA5 JMP	_int_timer2
    0001C 940C 0A6C JMP	_int_timer1
    00020 940C 0A13 JMP	_int_timer0
    0003A 940C 0AF3 JMP	_int_timer3

Program Code (text area)
__text_start|__start:
    00401 EFCF      LDI	R28,0xFF
    00402 E1D0      LDI	R29,0x10
    00403 BFCD      OUT	0x3D,R28
    00404 BFDE      OUT	0x3E,R29
    00405 51CE      SUBI	R28,0x1E
    00406 40D0      SBCI	R29,0
    00407 EA0A      LDI	R16,0xAA
    00408 8308      ST	Y,R16
    00409 2400      CLR	R0
    0040A E5EE      LDI	R30,0x5E
    0040B E0F8      LDI	R31,0x8
    0040C E01D      LDI	R17,0xD
    0040D 32EA      CPI	R30,0x2A
    0040E 07F1      CPC	R31,R17
    0040F F011      BEQ	0x0412
    00410 9201      ST	Z+,R0
    00411 CFFB      RJMP	0x040D
    00412 8300      ST	Z,R16
    00413 EAE4      LDI	R30,0xA4
    00414 E0F0      LDI	R31,0
    00415 E0A0      LDI	R26,0
    00416 E0B1      LDI	R27,1
    00417 E018      LDI	R17,0x8
    00418 E000      LDI	R16,0
    00419 BF0B      OUT	0x3B,R16
    0041A 30E2      CPI	R30,2
    0041B 07F1      CPC	R31,R17
    0041C F021      BEQ	0x0421
    0041D 95C8      LPM
    0041E 9631      ADIW	R30,1
    0041F 920D      ST	X+,R0
    00420 CFF9      RJMP	0x041A
    00421 940E 0997 CALL	_main
_exit:
    00423 CFFF      RJMP	_exit
FILE: E:\ICCDemo\Temp_Control\temp_control\delay.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) 
(0004) 
(0005) void delay_us(uint n)//延时us
(0006) {
(0007)   n=2*n;
_delay_us:
  n                    --> R16
    00424 0F00      LSL	R16
    00425 1F11      ROL	R17
(0008)   do{ n--;
    00426 5001      SUBI	R16,1
    00427 4010      SBCI	R17,0
(0009)   }while(n>1);
    00428 E081      LDI	R24,1
    00429 E090      LDI	R25,0
    0042A 1780      CP	R24,R16
    0042B 0791      CPC	R25,R17
    0042C F3C8      BCS	0x0426
    0042D 9508      RET
_delay_ms:
  j                    --> R20
    0042E 934A      ST	-Y,R20
    0042F 935A      ST	-Y,R21
    00430 01A8      MOVW	R20,R16
(0010) }
(0011) void delay_ms(uint j)//延时ms
(0012) {
(0013)    do{j--;
    00431 5041      SUBI	R20,1
    00432 4050      SBCI	R21,0
(0014)      delay_us(1141);
    00433 E705      LDI	R16,0x75
    00434 E014      LDI	R17,4
    00435 DFEE      RCALL	_delay_us
(0015)    }while(j>1);
    00436 E081      LDI	R24,1
    00437 E090      LDI	R25,0
    00438 1784      CP	R24,R20
    00439 0795      CPC	R25,R21
    0043A F3B0      BCS	0x0431
    0043B 9159      LD	R21,Y+
    0043C 9149      LD	R20,Y+
    0043D 9508      RET
_delay_s:
  i                    --> R20
    0043E 934A      ST	-Y,R20
    0043F 935A      ST	-Y,R21
    00440 01A8      MOVW	R20,R16
(0016) }
(0017) void delay_s(uint i)
(0018) {
(0019)    do{
(0020)    i--;
    00441 5041      SUBI	R20,1
    00442 4050      SBCI	R21,0
(0021)    delay_ms(1000);
    00443 EE08      LDI	R16,0xE8
    00444 E013      LDI	R17,3
    00445 DFE8      RCALL	_delay_ms
(0022)    }while(i>1);
    00446 E081      LDI	R24,1
    00447 E090      LDI	R25,0
    00448 1784      CP	R24,R20
    00449 0795      CPC	R25,R21
    0044A F3B0      BCS	0x0441
    0044B 9159      LD	R21,Y+
    0044C 9149      LD	R20,Y+
    0044D 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\key.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) #include "lcd.h"
(0004) uchar key_value='n';
(0005) void KeyInit(void){
_KeyInit:
    0044E 9508      RET
_KeyScan:
    0044F 934A      ST	-Y,R20
    00450 935A      ST	-Y,R21
(0006) }
(0007) uchar KeyScan(void){
(0008)   //初始化端口
(0009)    DDRC=0xE0;
    00451 EE80      LDI	R24,0xE0
    00452 BB84      OUT	0x14,R24
(0010)    DDRG|=0x10;
    00453 9180 0064 LDS	R24,0x64
    00455 6180      ORI	R24,0x10
    00456 9380 0064 STS	0x64,R24
(0011)    
(0012)    //第一次扫描
(0013)    PORTC=0xDF;
    00458 ED8F      LDI	R24,0xDF
    00459 BB85      OUT	0x15,R24
(0014)    PORTG|=0x10;
    0045A 9180 0065 LDS	R24,0x65
    0045C 6180      ORI	R24,0x10
    0045D 9380 0065 STS	0x65,R24
(0015)    delay_us(1);
    0045F E001      LDI	R16,1
    00460 E010      LDI	R17,0
    00461 940E 0424 CALL	_delay_us
(0016)    switch(PINC)
    00463 B343      IN	R20,0x13
    00464 2755      CLR	R21
    00465 3C4F      CPI	R20,0xCF
    00466 E0E0      LDI	R30,0
    00467 075E      CPC	R21,R30
    00468 F0E9      BEQ	0x0486
    00469 3C4F      CPI	R20,0xCF
    0046A E0E0      LDI	R30,0
    0046B 075E      CPC	R21,R30
    0046C F0DC      BLT	0x0488
    0046D 3D47      CPI	R20,0xD7
    0046E E0E0      LDI	R30,0
    0046F 075E      CPC	R21,R30
    00470 F099      BEQ	0x0484
    00471 3D4B      CPI	R20,0xDB
    00472 E0E0      LDI	R30,0
    00473 075E      CPC	R21,R30
    00474 F069      BEQ	0x0482
    00475 3D4D      CPI	R20,0xDD
    00476 E0E0      LDI	R30,0
    00477 075E      CPC	R21,R30
    00478 F039      BEQ	0x0480
    00479 3D4E      CPI	R20,0xDE
    0047A E0E0      LDI	R30,0
    0047B 075E      CPC	R21,R30
    0047C F009      BEQ	0x047E
    0047D C00A      RJMP	0x0488
(0017)    {
(0018)    		case 0xDE:return  'e';//'esc';
    0047E E605      LDI	R16,0x65
    0047F C099      RJMP	0x0519
(0019) 		case 0xdd:return  'a';//'alm';
    00480 E601      LDI	R16,0x61
    00481 C097      RJMP	0x0519
(0020) 		case 0xdb:return  'd';//'down';  
    00482 E604      LDI	R16,0x64
    00483 C095      RJMP	0x0519
(0021) 		case 0xd7:return  'u';//'up';
    00484 E705      LDI	R16,0x75
    00485 C093      RJMP	0x0519
(0022) 		case 0xcf:return  'l';//'left';
    00486 E60C      LDI	R16,0x6C
    00487 C091      RJMP	0x0519
(0023) 		default:break;	   
(0024)    } 
(0025)     //第二次扫描
(0026)    PORTC=0xBF;
    00488 EB8F      LDI	R24,0xBF
    00489 BB85      OUT	0x15,R24
(0027)    PORTG|=0x10;
    0048A 9180 0065 LDS	R24,0x65
    0048C 6180      ORI	R24,0x10
    0048D 9380 0065 STS	0x65,R24
(0028)    delay_us(1);
    0048F E001      LDI	R16,1
    00490 E010      LDI	R17,0
    00491 940E 0424 CALL	_delay_us
(0029)    switch(PINC)
    00493 B343      IN	R20,0x13
    00494 2755      CLR	R21
    00495 3A4F      CPI	R20,0xAF
    00496 E0E0      LDI	R30,0
    00497 075E      CPC	R21,R30
    00498 F0E9      BEQ	0x04B6
    00499 3A4F      CPI	R20,0xAF
    0049A E0E0      LDI	R30,0
    0049B 075E      CPC	R21,R30
    0049C F0DC      BLT	0x04B8
    0049D 3B47      CPI	R20,0xB7
    0049E E0E0      LDI	R30,0
    0049F 075E      CPC	R21,R30
    004A0 F099      BEQ	0x04B4
    004A1 3B4B      CPI	R20,0xBB
    004A2 E0E0      LDI	R30,0
    004A3 075E      CPC	R21,R30
    004A4 F069      BEQ	0x04B2
    004A5 3B4D      CPI	R20,0xBD
    004A6 E0E0      LDI	R30,0
    004A7 075E      CPC	R21,R30
    004A8 F039      BEQ	0x04B0
    004A9 3B4E      CPI	R20,0xBE
    004AA E0E0      LDI	R30,0
    004AB 075E      CPC	R21,R30
    004AC F009      BEQ	0x04AE
    004AD C00A      RJMP	0x04B8
(0030)    {
(0031)    		case 0xbE:return 's';//'set';
    004AE E703      LDI	R16,0x73
    004AF C069      RJMP	0x0519
(0032) 		case 0xbd:return 'r';//'right';
    004B0 E702      LDI	R16,0x72
    004B1 C067      RJMP	0x0519
(0033) 		case 0xbb:return 't';//'ent';  
    004B2 E704      LDI	R16,0x74
    004B3 C065      RJMP	0x0519
(0034) 		case 0xb7:return 'c';//'clr';
    004B4 E603      LDI	R16,0x63
    004B5 C063      RJMP	0x0519
(0035) 		case 0xaf:return '+';//'+/-';
    004B6 E20B      LDI	R16,0x2B
    004B7 C061      RJMP	0x0519
(0036) 		default:break;	   
(0037)    } 
(0038)     //第三次扫描
(0039)    PORTC=0x7F;
    004B8 E78F      LDI	R24,0x7F
    004B9 BB85      OUT	0x15,R24
(0040)    PORTG|=0x10;
    004BA 9180 0065 LDS	R24,0x65
    004BC 6180      ORI	R24,0x10
    004BD 9380 0065 STS	0x65,R24
(0041)    delay_us(1);
    004BF E001      LDI	R16,1
    004C0 E010      LDI	R17,0
    004C1 940E 0424 CALL	_delay_us
(0042)    switch(PINC)
    004C3 B343      IN	R20,0x13
    004C4 2755      CLR	R21
    004C5 364F      CPI	R20,0x6F
    004C6 E0E0      LDI	R30,0
    004C7 075E      CPC	R21,R30
    004C8 F0E9      BEQ	0x04E6
    004C9 364F      CPI	R20,0x6F
    004CA E0E0      LDI	R30,0
    004CB 075E      CPC	R21,R30
    004CC F0DC      BLT	0x04E8
    004CD 3747      CPI	R20,0x77
    004CE E0E0      LDI	R30,0
    004CF 075E      CPC	R21,R30
    004D0 F099      BEQ	0x04E4
    004D1 374B      CPI	R20,0x7B
    004D2 E0E0      LDI	R30,0
    004D3 075E      CPC	R21,R30
    004D4 F069      BEQ	0x04E2
    004D5 374D      CPI	R20,0x7D
    004D6 E0E0      LDI	R30,0
    004D7 075E      CPC	R21,R30
    004D8 F039      BEQ	0x04E0
    004D9 374E      CPI	R20,0x7E
    004DA E0E0      LDI	R30,0
    004DB 075E      CPC	R21,R30
    004DC F009      BEQ	0x04DE
    004DD C00A      RJMP	0x04E8
(0043)    {
(0044)    		case 0x7E:return '0';
    004DE E300      LDI	R16,0x30
    004DF C039      RJMP	0x0519
(0045) 		case 0x7d:return '3';
    004E0 E303      LDI	R16,0x33
    004E1 C037      RJMP	0x0519
(0046) 		case 0x7b:return '2';  
    004E2 E302      LDI	R16,0x32
    004E3 C035      RJMP	0x0519
(0047) 		case 0x77:return '1';
    004E4 E301      LDI	R16,0x31
    004E5 C033      RJMP	0x0519
(0048) 		case 0x6f:return '6';
    004E6 E306      LDI	R16,0x36
    004E7 C031      RJMP	0x0519
(0049) 		default:break;	   
(0050)    } 
(0051)       //第四次扫描
(0052)    PORTC=0xFF;
    004E8 EF8F      LDI	R24,0xFF
    004E9 BB85      OUT	0x15,R24
(0053)    PORTG&=0x0F;
    004EA 9180 0065 LDS	R24,0x65
    004EC 708F      ANDI	R24,0xF
    004ED 9380 0065 STS	0x65,R24
(0054)    delay_us(1);
    004EF E001      LDI	R16,1
    004F0 E010      LDI	R17,0
    004F1 940E 0424 CALL	_delay_us
(0055)    switch(PINC)
    004F3 B343      IN	R20,0x13
    004F4 2755      CLR	R21
    004F5 3E4F      CPI	R20,0xEF
    004F6 E0E0      LDI	R30,0
    004F7 075E      CPC	R21,R30
    004F8 F0E9      BEQ	0x0516
    004F9 3E4F      CPI	R20,0xEF
    004FA E0E0      LDI	R30,0
    004FB 075E      CPC	R21,R30
    004FC F0DC      BLT	0x0518
    004FD 3F47      CPI	R20,0xF7
    004FE E0E0      LDI	R30,0
    004FF 075E      CPC	R21,R30
    00500 F099      BEQ	0x0514
    00501 3F4B      CPI	R20,0xFB
    00502 E0E0      LDI	R30,0
    00503 075E      CPC	R21,R30
    00504 F069      BEQ	0x0512
    00505 3F4D      CPI	R20,0xFD
    00506 E0E0      LDI	R30,0
    00507 075E      CPC	R21,R30
    00508 F039      BEQ	0x0510
    00509 3F4E      CPI	R20,0xFE
    0050A E0E0      LDI	R30,0
    0050B 075E      CPC	R21,R30
    0050C F009      BEQ	0x050E
    0050D C00A      RJMP	0x0518
(0056)    {
(0057)    		case 0xFE:return '7';
    0050E E307      LDI	R16,0x37
    0050F C009      RJMP	0x0519
(0058) 		case 0xFd:return '8';
    00510 E308      LDI	R16,0x38
    00511 C007      RJMP	0x0519
(0059) 		case 0xFb:return '9';  
    00512 E309      LDI	R16,0x39
    00513 C005      RJMP	0x0519
(0060) 		case 0xF7:return '4';
    00514 E304      LDI	R16,0x34
    00515 C003      RJMP	0x0519
(0061) 		case 0xEf:return '5';
    00516 E305      LDI	R16,0x35
    00517 C001      RJMP	0x0519
(0062) 		default:break;	   
(0063)    }
(0064)  return 'n';
    00518 E60E      LDI	R16,0x6E
    00519 9159      LD	R21,Y+
    0051A 9149      LD	R20,Y+
    0051B 9508      RET
_KeyScan_once:
  keyValue2            --> R10
  keyValue             --> R20
    0051C 92AA      ST	-Y,R10
    0051D 934A      ST	-Y,R20
(0065)    
(0066) }
(0067) //********************************
(0068) //		加上延时抖动的读取，一次读取一个
(0069) //********************************
(0070) uchar KeyScan_once(void){
(0071) 	  uchar keyValue,keyValue2;
(0072) 	  keyValue=KeyScan();
    0051E DF30      RCALL	_KeyScan
    0051F 2F40      MOV	R20,R16
(0073) 	  delay_ms(2);
    00520 E002      LDI	R16,2
    00521 E010      LDI	R17,0
    00522 940E 042E CALL	_delay_ms
(0074) 	  keyValue2=KeyScan();
    00524 DF2A      RCALL	_KeyScan
    00525 2EA0      MOV	R10,R16
(0075) 	 if(keyValue==keyValue2 && keyValue!='n'){//两次扫描，消除抖动
    00526 1740      CP	R20,R16
    00527 F461      BNE	0x0534
    00528 364E      CPI	R20,0x6E
    00529 F051      BEQ	0x0534
(0076) 	 	if(key_value==keyValue){//如果还是上一次保存的值则代表一直按着，返回‘n’
    0052A 9020 0100 LDS	R2,key_value
    0052C 1624      CP	R2,R20
    0052D F411      BNE	0x0530
(0077) 		    return 'n';  
    0052E E60E      LDI	R16,0x6E
    0052F C008      RJMP	0x0538
(0078) 	    }else{                  //松开后第一次按下，返回该键的值
(0079) 		 key_value=keyValue;
    00530 9340 0100 STS	key_value,R20
(0080) 		  return keyValue;
    00532 2F04      MOV	R16,R20
    00533 C004      RJMP	0x0538
(0081) 		}
(0082) 	 }else{                     //因为读取键盘的值会多次刷新，所以在松开按键时key_value重置
(0083) 	   key_value='n';
    00534 E68E      LDI	R24,0x6E
    00535 9380 0100 STS	key_value,R24
(0084) 	   return 'n';
    00537 E60E      LDI	R16,0x6E
    00538 9149      LD	R20,Y+
    00539 90A9      LD	R10,Y+
    0053A 9508      RET
_lcd_bz_1:
  result               --> R20
    0053B 934A      ST	-Y,R20
    0053C 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\lcd.c
(0001) #include<iom128v.h>
(0002) #include "lcd.h"
(0003) #include "delay.h" 
(0004) #define rs_l PORTG&=~(1<<PG1)
(0005) #define rs_h PORTG|=1<<PG1
(0006) #define rw_l PORTG&=~(1<<PG0)
(0007) #define rw_h PORTG|=1<<PG0
(0008) #define ep1_l PORTG&=~(1<<PG3)
(0009) #define ep1_h PORTG|=1<<PG3
(0010) #define ep2_l PORTF&=~(1<<PF0)
(0011) #define ep2_h PORTF|=1<<PF0
(0012) //***********************************
(0013) //上半屏幕
(0014) //**********************************
(0015) /*
(0016)  读忙程序。命令后，读入BF
(0017) */
(0018) uint lcd_bz_1(void){
(0019) 	uint result;
(0020) 	DDRA=0x00;
    0053D 2422      CLR	R2
    0053E BA2A      OUT	0x1A,R2
(0021) 	rs_l;
    0053F 9180 0065 LDS	R24,0x65
    00541 7F8D      ANDI	R24,0xFD
    00542 9380 0065 STS	0x65,R24
(0022) 	rw_h;
    00544 9180 0065 LDS	R24,0x65
    00546 6081      ORI	R24,1
    00547 9380 0065 STS	0x65,R24
(0023) 	ep1_h;
    00549 9180 0065 LDS	R24,0x65
    0054B 6088      ORI	R24,0x8
    0054C 9380 0065 STS	0x65,R24
(0024) 	delay_us(1);
    0054E E001      LDI	R16,1
    0054F E010      LDI	R17,0
    00550 940E 0424 CALL	_delay_us
(0025) 	result=PINA&(1<<PINA7);
    00552 B349      IN	R20,0x19
    00553 2755      CLR	R21
    00554 7840      ANDI	R20,0x80
    00555 7050      ANDI	R21,0
(0026) 	DDRA=0xFF;
    00556 EF8F      LDI	R24,0xFF
    00557 BB8A      OUT	0x1A,R24
(0027) 	ep1_l;
    00558 9180 0065 LDS	R24,0x65
    0055A 7F87      ANDI	R24,0xF7
    0055B 9380 0065 STS	0x65,R24
(0028) 	return result;
    0055D 018A      MOVW	R16,R20
    0055E 9159      LD	R21,Y+
    0055F 9149      LD	R20,Y+
    00560 9508      RET
_lcd_wcmd_1:
  cmd                  --> R10
    00561 92AA      ST	-Y,R10
    00562 2EA0      MOV	R10,R16
(0029) }
(0030) void lcd_wcmd_1(uchar cmd){
(0031) 	 while(lcd_bz_1());
    00563 DFD7      RCALL	_lcd_bz_1
    00564 3000      CPI	R16,0
    00565 0701      CPC	R16,R17
    00566 F7E1      BNE	0x0563
(0032) 	 rs_l;
    00567 9180 0065 LDS	R24,0x65
    00569 7F8D      ANDI	R24,0xFD
    0056A 9380 0065 STS	0x65,R24
(0033) 	 rw_l;
    0056C 9180 0065 LDS	R24,0x65
    0056E 7F8E      ANDI	R24,0xFE
    0056F 9380 0065 STS	0x65,R24
(0034) 	 ep1_l;
    00571 9180 0065 LDS	R24,0x65
    00573 7F87      ANDI	R24,0xF7
    00574 9380 0065 STS	0x65,R24
(0035) 	 PORTA=cmd;
    00576 BAAB      OUT	0x1B,R10
(0036) 	 ep1_h;
    00577 9180 0065 LDS	R24,0x65
    00579 6088      ORI	R24,0x8
    0057A 9380 0065 STS	0x65,R24
(0037) 	 delay_us(1);
    0057C E001      LDI	R16,1
    0057D E010      LDI	R17,0
    0057E 940E 0424 CALL	_delay_us
(0038) 	 ep1_l;
    00580 9180 0065 LDS	R24,0x65
    00582 7F87      ANDI	R24,0xF7
    00583 9380 0065 STS	0x65,R24
(0039) 	 return;
    00585 90A9      LD	R10,Y+
    00586 9508      RET
_lcd_wdat_1:
  dat                  --> R10
    00587 92AA      ST	-Y,R10
    00588 2EA0      MOV	R10,R16
(0040) }
(0041) /*
(0042) 写输出数据,char
(0043) */
(0044) void lcd_wdat_1(uchar dat){
(0045) 	 while(lcd_bz_1());
    00589 DFB1      RCALL	_lcd_bz_1
    0058A 3000      CPI	R16,0
    0058B 0701      CPC	R16,R17
    0058C F7E1      BNE	0x0589
(0046) 	 rs_h;
    0058D 9180 0065 LDS	R24,0x65
    0058F 6082      ORI	R24,2
    00590 9380 0065 STS	0x65,R24
(0047) 	 rw_l;
    00592 9180 0065 LDS	R24,0x65
    00594 7F8E      ANDI	R24,0xFE
    00595 9380 0065 STS	0x65,R24
(0048) 	 ep1_l;
    00597 9180 0065 LDS	R24,0x65
    00599 7F87      ANDI	R24,0xF7
    0059A 9380 0065 STS	0x65,R24
(0049) 	 PORTA=dat;
    0059C BAAB      OUT	0x1B,R10
(0050) 	 ep1_h;
    0059D 9180 0065 LDS	R24,0x65
    0059F 6088      ORI	R24,0x8
    005A0 9380 0065 STS	0x65,R24
(0051) 	 delay_us(1);
    005A2 E001      LDI	R16,1
    005A3 E010      LDI	R17,0
    005A4 940E 0424 CALL	_delay_us
(0052) 	 ep1_l;
    005A6 9180 0065 LDS	R24,0x65
    005A8 7F87      ANDI	R24,0xF7
    005A9 9380 0065 STS	0x65,R24
    005AB 90A9      LD	R10,Y+
    005AC 9508      RET
(0053) }
(0054) 
(0055) /*清显示*/
(0056) void lcd_clear_1(void) 
(0057) {
(0058) 	lcd_wcmd_1(0x01);
_lcd_clear_1:
    005AD E001      LDI	R16,1
    005AE DFB2      RCALL	_lcd_wcmd_1
(0059) 	delay_ms(1);
    005AF E001      LDI	R16,1
    005B0 E010      LDI	R17,0
    005B1 940C 042E JMP	_delay_ms
_lcd_bz_2:
  result               --> R20
    005B3 934A      ST	-Y,R20
    005B4 935A      ST	-Y,R21
(0060) }
(0061) //***********************************
(0062) //    下半屏幕
(0063) //***********************************
(0064) uint lcd_bz_2(void){
(0065) 	uint result;
(0066) 	DDRA=0x00;
    005B5 2422      CLR	R2
    005B6 BA2A      OUT	0x1A,R2
(0067) 	rs_l;
    005B7 9180 0065 LDS	R24,0x65
    005B9 7F8D      ANDI	R24,0xFD
    005BA 9380 0065 STS	0x65,R24
(0068) 	rw_h;
    005BC 9180 0065 LDS	R24,0x65
    005BE 6081      ORI	R24,1
    005BF 9380 0065 STS	0x65,R24
(0069) 	ep2_h;
    005C1 9180 0062 LDS	R24,0x62
    005C3 6081      ORI	R24,1
    005C4 9380 0062 STS	0x62,R24
(0070) 	delay_us(1);
    005C6 E001      LDI	R16,1
    005C7 E010      LDI	R17,0
    005C8 940E 0424 CALL	_delay_us
(0071) 	result=PINA&(1<<PINA7);
    005CA B349      IN	R20,0x19
    005CB 2755      CLR	R21
    005CC 7840      ANDI	R20,0x80
    005CD 7050      ANDI	R21,0
(0072) 	DDRA=0xFF;
    005CE EF8F      LDI	R24,0xFF
    005CF BB8A      OUT	0x1A,R24
(0073) 	ep2_l;
    005D0 9180 0062 LDS	R24,0x62
    005D2 7F8E      ANDI	R24,0xFE
    005D3 9380 0062 STS	0x62,R24
(0074) 	return result;
    005D5 018A      MOVW	R16,R20
    005D6 9159      LD	R21,Y+
    005D7 9149      LD	R20,Y+
    005D8 9508      RET
_lcd_wcmd_2:
  cmd                  --> R10
    005D9 92AA      ST	-Y,R10
    005DA 2EA0      MOV	R10,R16
(0075) }
(0076) void lcd_wcmd_2(uchar cmd){
(0077) 	 while(lcd_bz_2());
    005DB DFD7      RCALL	_lcd_bz_2
    005DC 3000      CPI	R16,0
    005DD 0701      CPC	R16,R17
    005DE F7E1      BNE	0x05DB
(0078) 	 rs_l;
    005DF 9180 0065 LDS	R24,0x65
    005E1 7F8D      ANDI	R24,0xFD
    005E2 9380 0065 STS	0x65,R24
(0079) 	 rw_l;
    005E4 9180 0065 LDS	R24,0x65
    005E6 7F8E      ANDI	R24,0xFE
    005E7 9380 0065 STS	0x65,R24
(0080) 	 ep2_l;
    005E9 9180 0062 LDS	R24,0x62
    005EB 7F8E      ANDI	R24,0xFE
    005EC 9380 0062 STS	0x62,R24
(0081) 	 PORTA=cmd;
    005EE BAAB      OUT	0x1B,R10
(0082) 	 ep2_h;
    005EF 9180 0062 LDS	R24,0x62
    005F1 6081      ORI	R24,1
    005F2 9380 0062 STS	0x62,R24
(0083) 	delay_us(1);
    005F4 E001      LDI	R16,1
    005F5 E010      LDI	R17,0
    005F6 940E 0424 CALL	_delay_us
(0084) 	 ep2_l;
    005F8 9180 0062 LDS	R24,0x62
    005FA 7F8E      ANDI	R24,0xFE
    005FB 9380 0062 STS	0x62,R24
    005FD 90A9      LD	R10,Y+
    005FE 9508      RET
_lcd_wdat_2:
  dat                  --> R10
    005FF 92AA      ST	-Y,R10
    00600 2EA0      MOV	R10,R16
(0085) }
(0086) //  写输出数据,char
(0087) void lcd_wdat_2(uchar dat){
(0088) 	 while(lcd_bz_2());
    00601 DFB1      RCALL	_lcd_bz_2
    00602 3000      CPI	R16,0
    00603 0701      CPC	R16,R17
    00604 F7E1      BNE	0x0601
(0089) 	 rs_h;
    00605 9180 0065 LDS	R24,0x65
    00607 6082      ORI	R24,2
    00608 9380 0065 STS	0x65,R24
(0090) 	 rw_l;
    0060A 9180 0065 LDS	R24,0x65
    0060C 7F8E      ANDI	R24,0xFE
    0060D 9380 0065 STS	0x65,R24
(0091) 	 ep2_l;
    0060F 9180 0062 LDS	R24,0x62
    00611 7F8E      ANDI	R24,0xFE
    00612 9380 0062 STS	0x62,R24
(0092) 	 PORTA=dat;
    00614 BAAB      OUT	0x1B,R10
(0093) 	 ep2_h;
    00615 9180 0062 LDS	R24,0x62
    00617 6081      ORI	R24,1
    00618 9380 0062 STS	0x62,R24
(0094) 	delay_us(1);
    0061A E001      LDI	R16,1
    0061B E010      LDI	R17,0
    0061C 940E 0424 CALL	_delay_us
(0095) 	 ep2_l;
    0061E 9180 0062 LDS	R24,0x62
    00620 7F8E      ANDI	R24,0xFE
    00621 9380 0062 STS	0x62,R24
    00623 90A9      LD	R10,Y+
    00624 9508      RET
(0096) }
(0097) /*清显示*/
(0098) void lcd_clear_2(void) 
(0099) {
(0100) 	lcd_wcmd_2(0x01);
_lcd_clear_2:
    00625 E001      LDI	R16,1
    00626 CFB2      RJMP	_lcd_wcmd_2
_lcd_write_char_con:
  data                 --> R10
  y                    --> R20
    00627 92AA      ST	-Y,R10
    00628 934A      ST	-Y,R20
    00629 2EA2      MOV	R10,R18
    0062A 2F40      MOV	R20,R16
(0101) }
(0102) 
(0103) //*************************************************
(0104) //					写字符
(0105) //***************************************************
(0106) /*
(0107)   附带y。调用 lcd_wdat（）方法。传入时转换为char。直接连续写入使用
(0108) */
(0109) void lcd_write_char_con(unsigned char y,unsigned char data) 
(0110) {
(0111) 	
(0112)     if (y == 0 || y==1) 
    0062B 2344      TST	R20
    0062C F011      BEQ	0x062F
    0062D 3041      CPI	R20,1
    0062E F419      BNE	0x0632
(0113)     {
(0114)     	
(0115) 		 lcd_wdat_1( data);
    0062F 2D0A      MOV	R16,R10
    00630 DF56      RCALL	_lcd_wdat_1
(0116)     }else  if(y==2 || y==3 )
    00631 C006      RJMP	0x0638
    00632 3042      CPI	R20,2
    00633 F011      BEQ	0x0636
    00634 3043      CPI	R20,3
    00635 F411      BNE	0x0638
(0117)     {
(0118)     	
(0119) 		 lcd_wdat_2( data);
    00636 2D0A      MOV	R16,R10
    00637 DFC7      RCALL	_lcd_wdat_2
(0120)     }
(0121)    return; 
    00638 9149      LD	R20,Y+
    00639 90A9      LD	R10,Y+
    0063A 9508      RET
_lcd_write_pos:
  y                    --> R22
  x                    --> R20
    0063B 934A      ST	-Y,R20
    0063C 936A      ST	-Y,R22
    0063D 2F62      MOV	R22,R18
    0063E 2F40      MOV	R20,R16
(0122) }
(0123) /*
(0124)   附带x,y。写光标位置
(0125) */
(0126) void lcd_write_pos(unsigned char x,unsigned char y) 
(0127) {
(0128) 	
(0129)     if (y == 0) 
    0063F 2366      TST	R22
    00640 F421      BNE	0x0645
(0130)     {
(0131)     	lcd_wcmd_1(0x80 + x);
    00641 2F04      MOV	R16,R20
    00642 5800      SUBI	R16,0x80
    00643 DF1D      RCALL	_lcd_wcmd_1
(0132)     }
    00644 C011      RJMP	0x0656
(0133)     else  if(y==1)
    00645 3061      CPI	R22,1
    00646 F421      BNE	0x064B
(0134)     {
(0135)     	lcd_wcmd_1(0x90 + x);
    00647 2F04      MOV	R16,R20
    00648 5700      SUBI	R16,0x70
    00649 DF17      RCALL	_lcd_wcmd_1
(0136)     }else  if(y==2)
    0064A C00B      RJMP	0x0656
    0064B 3062      CPI	R22,2
    0064C F421      BNE	0x0651
(0137)     {
(0138)     	lcd_wcmd_2(0x80 + x);
    0064D 2F04      MOV	R16,R20
    0064E 5800      SUBI	R16,0x80
    0064F DF89      RCALL	_lcd_wcmd_2
(0139)     }else  if(y==3)
    00650 C005      RJMP	0x0656
    00651 3063      CPI	R22,3
    00652 F419      BNE	0x0656
(0140)     {
(0141)     	lcd_wcmd_2(0x90 + x);
    00653 2F04      MOV	R16,R20
    00654 5700      SUBI	R16,0x70
    00655 DF83      RCALL	_lcd_wcmd_2
(0142)     }
(0143)    return; 
    00656 9169      LD	R22,Y+
    00657 9149      LD	R20,Y+
    00658 9508      RET
_lcd_write_char:
  data                 --> R10
  y                    --> R22
  x                    --> R20
    00659 940E 2933 CALL	push_xgsetF00C
    0065B 2F62      MOV	R22,R18
    0065C 2F40      MOV	R20,R16
    0065D 80AE      LDD	R10,Y+6
(0144) }
(0145) /*
(0146)   附带x,y。调用 lcd_wdat（）方法。传入时转换为char
(0147) */
(0148) void lcd_write_char(unsigned char x,unsigned char y,unsigned char data) 
(0149) {
(0150) 	
(0151)     if (y == 0) 
    0065E 2366      TST	R22
    0065F F431      BNE	0x0666
(0152)     {
(0153)     	lcd_wcmd_1(0x80 + x);
    00660 2F04      MOV	R16,R20
    00661 5800      SUBI	R16,0x80
    00662 DEFE      RCALL	_lcd_wcmd_1
(0154) 		 lcd_wdat_1( data);
    00663 2D0A      MOV	R16,R10
    00664 DF22      RCALL	_lcd_wdat_1
(0155)     }
    00665 C017      RJMP	0x067D
(0156)     else  if(y==1)
    00666 3061      CPI	R22,1
    00667 F431      BNE	0x066E
(0157)     {
(0158)     	lcd_wcmd_1(0x90 + x);
    00668 2F04      MOV	R16,R20
    00669 5700      SUBI	R16,0x70
    0066A DEF6      RCALL	_lcd_wcmd_1
(0159) 		 lcd_wdat_1( data);
    0066B 2D0A      MOV	R16,R10
    0066C DF1A      RCALL	_lcd_wdat_1
(0160)     }else  if(y==2)
    0066D C00F      RJMP	0x067D
    0066E 3062      CPI	R22,2
    0066F F431      BNE	0x0676
(0161)     {
(0162)     	lcd_wcmd_2(0x80 + x);
    00670 2F04      MOV	R16,R20
    00671 5800      SUBI	R16,0x80
    00672 DF66      RCALL	_lcd_wcmd_2
(0163) 		 lcd_wdat_2( data);
    00673 2D0A      MOV	R16,R10
    00674 DF8A      RCALL	_lcd_wdat_2
(0164)     }else  if(y==3)
    00675 C007      RJMP	0x067D
    00676 3063      CPI	R22,3
    00677 F429      BNE	0x067D
(0165)     {
(0166)     	lcd_wcmd_2(0x90 + x);
    00678 2F04      MOV	R16,R20
    00679 5700      SUBI	R16,0x70
    0067A DF5E      RCALL	_lcd_wcmd_2
(0167) 		 lcd_wdat_2( data);
    0067B 2D0A      MOV	R16,R10
    0067C DF82      RCALL	_lcd_wdat_2
(0168)     }
(0169)    return; 
    0067D 940C 293A JMP	pop_xgsetF00C
_lcd_write_str:
  s                    --> R20
  y                    --> R10
  x                    --> R22
    0067F 940E 2933 CALL	push_xgsetF00C
    00681 2EA2      MOV	R10,R18
    00682 2F60      MOV	R22,R16
    00683 814E      LDD	R20,Y+6
    00684 815F      LDD	R21,Y+7
(0170) }
(0171) /*
(0172)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0173) */
(0174) void lcd_write_str(unsigned char x,unsigned char y,unsigned char *s) 
(0175) {
(0176) 	
(0177)     if (y == 0) 
    00685 20AA      TST	R10
    00686 F471      BNE	0x0695
(0178)     {
(0179)     	lcd_wcmd_1(0x80 + x);
    00687 2F06      MOV	R16,R22
    00688 5800      SUBI	R16,0x80
    00689 DED7      RCALL	_lcd_wcmd_1
    0068A C005      RJMP	0x0690
(0180) 		 while (*s) 
(0181)        {
(0182)     	lcd_wdat_1( *s);
    0068B 01FA      MOVW	R30,R20
    0068C 8100      LD	R16,Z
    0068D DEF9      RCALL	_lcd_wdat_1
(0183)     	s ++;
    0068E 5F4F      SUBI	R20,0xFF
    0068F 4F5F      SBCI	R21,0xFF
    00690 01FA      MOVW	R30,R20
    00691 8020      LD	R2,Z
    00692 2022      TST	R2
    00693 F7B9      BNE	0x068B
(0184)         }
(0185)     }
    00694 C032      RJMP	0x06C7
(0186)     else  if(y==1)
    00695 2D8A      MOV	R24,R10
    00696 3081      CPI	R24,1
    00697 F471      BNE	0x06A6
(0187)     {
(0188)     	lcd_wcmd_1(0x90 + x);
    00698 2F06      MOV	R16,R22
    00699 5700      SUBI	R16,0x70
    0069A DEC6      RCALL	_lcd_wcmd_1
    0069B C005      RJMP	0x06A1
(0189) 		 while (*s) 
(0190)         {
(0191)     	lcd_wdat_1( *s);
    0069C 01FA      MOVW	R30,R20
    0069D 8100      LD	R16,Z
    0069E DEE8      RCALL	_lcd_wdat_1
(0192)     	s ++;
    0069F 5F4F      SUBI	R20,0xFF
    006A0 4F5F      SBCI	R21,0xFF
    006A1 01FA      MOVW	R30,R20
    006A2 8020      LD	R2,Z
    006A3 2022      TST	R2
    006A4 F7B9      BNE	0x069C
(0193)        }
(0194)     }else  if(y==2)
    006A5 C021      RJMP	0x06C7
    006A6 2D8A      MOV	R24,R10
    006A7 3082      CPI	R24,2
    006A8 F471      BNE	0x06B7
(0195)     {
(0196)     	lcd_wcmd_2(0x80 + x);
    006A9 2F06      MOV	R16,R22
    006AA 5800      SUBI	R16,0x80
    006AB DF2D      RCALL	_lcd_wcmd_2
    006AC C005      RJMP	0x06B2
(0197) 		  while (*s) 
(0198)        {
(0199)     	lcd_wdat_2( *s);
    006AD 01FA      MOVW	R30,R20
    006AE 8100      LD	R16,Z
    006AF DF4F      RCALL	_lcd_wdat_2
(0200)     	s ++;
    006B0 5F4F      SUBI	R20,0xFF
    006B1 4F5F      SBCI	R21,0xFF
    006B2 01FA      MOVW	R30,R20
    006B3 8020      LD	R2,Z
    006B4 2022      TST	R2
    006B5 F7B9      BNE	0x06AD
(0201)        }
(0202)     }else  if(y==3)
    006B6 C010      RJMP	0x06C7
    006B7 2D8A      MOV	R24,R10
    006B8 3083      CPI	R24,3
    006B9 F469      BNE	0x06C7
(0203)     {
(0204)     	lcd_wcmd_2(0x90 + x);
    006BA 2F06      MOV	R16,R22
    006BB 5700      SUBI	R16,0x70
    006BC DF1C      RCALL	_lcd_wcmd_2
    006BD C005      RJMP	0x06C3
(0205) 		  while (*s) 
(0206)        {
(0207)     	lcd_wdat_2( *s);
    006BE 01FA      MOVW	R30,R20
    006BF 8100      LD	R16,Z
    006C0 DF3E      RCALL	_lcd_wdat_2
(0208)     	s ++;
    006C1 5F4F      SUBI	R20,0xFF
    006C2 4F5F      SBCI	R21,0xFF
    006C3 01FA      MOVW	R30,R20
    006C4 8020      LD	R2,Z
    006C5 2022      TST	R2
    006C6 F7B9      BNE	0x06BE
(0209)        }
(0210)     }
    006C7 940C 293A JMP	pop_xgsetF00C
_lcd_write_str_con:
  s                    --> R20
  y                    --> R22
    006C9 940E 2929 CALL	push_xgsetF000
    006CB 01A9      MOVW	R20,R18
    006CC 2F60      MOV	R22,R16
(0211)    
(0212) }
(0213) /*
(0214)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0215) */
(0216) void lcd_write_str_con(unsigned char y,unsigned char *s) 
(0217) {
(0218) 	
(0219)     if (y == 0 || y==1) 
    006CD 2366      TST	R22
    006CE F011      BEQ	0x06D1
    006CF 3061      CPI	R22,1
    006D0 F459      BNE	0x06DC
(0220)     {
    006D1 C005      RJMP	0x06D7
(0221)     	
(0222) 		 while (*s) 
(0223)        {
(0224)     	lcd_wdat_1( *s);
    006D2 01FA      MOVW	R30,R20
    006D3 8100      LD	R16,Z
    006D4 DEB2      RCALL	_lcd_wdat_1
(0225)     	s ++;
    006D5 5F4F      SUBI	R20,0xFF
    006D6 4F5F      SBCI	R21,0xFF
    006D7 01FA      MOVW	R30,R20
    006D8 8020      LD	R2,Z
    006D9 2022      TST	R2
    006DA F7B9      BNE	0x06D2
(0226)         }
(0227)     }
    006DB C00E      RJMP	0x06EA
(0228)     else  if(y==2 || y==3)
    006DC 3062      CPI	R22,2
    006DD F011      BEQ	0x06E0
    006DE 3063      CPI	R22,3
    006DF F451      BNE	0x06EA
(0229)     {
    006E0 C005      RJMP	0x06E6
(0230)     	
(0231) 		  while (*s) 
(0232)        {
(0233)     	lcd_wdat_2( *s);
    006E1 01FA      MOVW	R30,R20
    006E2 8100      LD	R16,Z
    006E3 DF1B      RCALL	_lcd_wdat_2
(0234)     	s ++;
    006E4 5F4F      SUBI	R20,0xFF
    006E5 4F5F      SBCI	R21,0xFF
    006E6 01FA      MOVW	R30,R20
    006E7 8020      LD	R2,Z
    006E8 2022      TST	R2
    006E9 F7B9      BNE	0x06E1
(0235)        }
(0236)     }
    006EA 940C 292E JMP	pop_xgsetF000
_read_ac_1:
  result               --> R20
    006EC 934A      ST	-Y,R20
    006ED 935A      ST	-Y,R21
(0237)    
(0238) }
(0239) //****************************
(0240) //  读出数据,.不知道有没有用，先放在这
(0241) //****************************
(0242) /**
(0243)  读程序。命令后，读AC地址
(0244) */
(0245) uchar read_ac_1(void){
(0246) 	uint result;
(0247) 	DDRA=0x00;
    006EE 2422      CLR	R2
    006EF BA2A      OUT	0x1A,R2
(0248) 	rs_l;
    006F0 9180 0065 LDS	R24,0x65
    006F2 7F8D      ANDI	R24,0xFD
    006F3 9380 0065 STS	0x65,R24
(0249) 	rw_h;
    006F5 9180 0065 LDS	R24,0x65
    006F7 6081      ORI	R24,1
    006F8 9380 0065 STS	0x65,R24
(0250) 	ep1_h;
    006FA 9180 0065 LDS	R24,0x65
    006FC 6088      ORI	R24,0x8
    006FD 9380 0065 STS	0x65,R24
(0251) 	delay_ms(1);
    006FF E001      LDI	R16,1
    00700 E010      LDI	R17,0
    00701 940E 042E CALL	_delay_ms
(0252) 	result=PINA&(~(1<<PINA7));
    00703 B349      IN	R20,0x19
    00704 2755      CLR	R21
    00705 774F      ANDI	R20,0x7F
(0253) 	DDRA=0xFF;
    00706 EF8F      LDI	R24,0xFF
    00707 BB8A      OUT	0x1A,R24
(0254) 	ep1_l;
    00708 9180 0065 LDS	R24,0x65
    0070A 7F87      ANDI	R24,0xF7
    0070B 9380 0065 STS	0x65,R24
(0255) 	return result;
    0070D 2F04      MOV	R16,R20
    0070E 9159      LD	R21,Y+
    0070F 9149      LD	R20,Y+
    00710 9508      RET
_read_ac_2:
  result               --> R20
    00711 934A      ST	-Y,R20
    00712 935A      ST	-Y,R21
(0256) }
(0257) uchar read_ac_2(void){
(0258) 	uint result;
(0259) 	DDRA=0x00;
    00713 2422      CLR	R2
    00714 BA2A      OUT	0x1A,R2
(0260) 	rs_l;
    00715 9180 0065 LDS	R24,0x65
    00717 7F8D      ANDI	R24,0xFD
    00718 9380 0065 STS	0x65,R24
(0261) 	rw_h;
    0071A 9180 0065 LDS	R24,0x65
    0071C 6081      ORI	R24,1
    0071D 9380 0065 STS	0x65,R24
(0262) 	ep2_h;
    0071F 9180 0062 LDS	R24,0x62
    00721 6081      ORI	R24,1
    00722 9380 0062 STS	0x62,R24
(0263) 	delay_ms(1);
    00724 E001      LDI	R16,1
    00725 E010      LDI	R17,0
    00726 940E 042E CALL	_delay_ms
(0264) 	result=PINA&(~(1<<PINA7));
    00728 B349      IN	R20,0x19
    00729 2755      CLR	R21
    0072A 774F      ANDI	R20,0x7F
(0265) 	DDRA=0xFF;
    0072B EF8F      LDI	R24,0xFF
    0072C BB8A      OUT	0x1A,R24
(0266) 	ep2_l;
    0072D 9180 0062 LDS	R24,0x62
    0072F 7F8E      ANDI	R24,0xFE
    00730 9380 0062 STS	0x62,R24
(0267) 	return result;
    00732 2F04      MOV	R16,R20
    00733 9159      LD	R21,Y+
    00734 9149      LD	R20,Y+
    00735 9508      RET
(0268) }
(0269) 
(0270) void lcd_clear(void){
(0271)    lcd_clear_1();
_lcd_clear:
    00736 DE76      RCALL	_lcd_clear_1
(0272)     lcd_clear_2();
    00737 CEED      RJMP	_lcd_clear_2
_date_cmd_1:
  result               --> R10
    00738 92AA      ST	-Y,R10
    00739 92BA      ST	-Y,R11
(0273) }
(0274) /*
(0275)  读数据程序。命令后，读入。使用read_data函数会是设定的值，再吃调用本函数会使ac
(0276)  移动一次，8读取位的数据
(0277) */
(0278) uchar date_cmd_1(void){
(0279) 	uint result;
(0280) 	DDRA=0x00;
    0073A 2422      CLR	R2
    0073B BA2A      OUT	0x1A,R2
(0281) 	rs_h;
    0073C 9180 0065 LDS	R24,0x65
    0073E 6082      ORI	R24,2
    0073F 9380 0065 STS	0x65,R24
(0282) 	rw_h;
    00741 9180 0065 LDS	R24,0x65
    00743 6081      ORI	R24,1
    00744 9380 0065 STS	0x65,R24
(0283) 	ep1_h;
    00746 9180 0065 LDS	R24,0x65
    00748 6088      ORI	R24,0x8
    00749 9380 0065 STS	0x65,R24
(0284) 	delay_ms(1);
    0074B E001      LDI	R16,1
    0074C E010      LDI	R17,0
    0074D 940E 042E CALL	_delay_ms
(0285) 	result=PINA;
    0074F B2A9      IN	R10,0x19
    00750 24BB      CLR	R11
(0286) 	DDRA=0xFF;
    00751 EF8F      LDI	R24,0xFF
    00752 BB8A      OUT	0x1A,R24
(0287) 	ep1_l;
    00753 9180 0065 LDS	R24,0x65
    00755 7F87      ANDI	R24,0xF7
    00756 9380 0065 STS	0x65,R24
(0288) 	return result;
    00758 2D0A      MOV	R16,R10
    00759 90B9      LD	R11,Y+
    0075A 90A9      LD	R10,Y+
    0075B 9508      RET
_date_cmd_2:
  result               --> R10
    0075C 92AA      ST	-Y,R10
    0075D 92BA      ST	-Y,R11
(0289) }
(0290) uchar date_cmd_2(void){
(0291) 	uint result;
(0292) 	DDRA=0x00;
    0075E 2422      CLR	R2
    0075F BA2A      OUT	0x1A,R2
(0293) 	rs_h;
    00760 9180 0065 LDS	R24,0x65
    00762 6082      ORI	R24,2
    00763 9380 0065 STS	0x65,R24
(0294) 	rw_h;
    00765 9180 0065 LDS	R24,0x65
    00767 6081      ORI	R24,1
    00768 9380 0065 STS	0x65,R24
(0295) 	ep2_h;
    0076A 9180 0062 LDS	R24,0x62
    0076C 6081      ORI	R24,1
    0076D 9380 0062 STS	0x62,R24
(0296) 	delay_ms(1);
    0076F E001      LDI	R16,1
    00770 E010      LDI	R17,0
    00771 940E 042E CALL	_delay_ms
(0297) 	result=PINA;
    00773 B2A9      IN	R10,0x19
    00774 24BB      CLR	R11
(0298) 	DDRA=0xFF;
    00775 EF8F      LDI	R24,0xFF
    00776 BB8A      OUT	0x1A,R24
(0299) 	ep2_l;
    00777 9180 0062 LDS	R24,0x62
    00779 7F8E      ANDI	R24,0xFE
    0077A 9380 0062 STS	0x62,R24
(0300) 	return result;
    0077C 2D0A      MOV	R16,R10
    0077D 90B9      LD	R11,Y+
    0077E 90A9      LD	R10,Y+
    0077F 9508      RET
_read_data_xy:
  y                    --> R22
  x                    --> R20
    00780 940E 2933 CALL	push_xgsetF00C
    00782 2F62      MOV	R22,R18
    00783 2F40      MOV	R20,R16
(0301) }
(0302) //**************************
(0303) //读取函数，注意会ac位置
(0304) //**************************
(0305) uchar read_data_xy(unsigned char x,unsigned char y){
(0306) 	if (y == 0) {
    00784 2366      TST	R22
    00785 F449      BNE	0x078F
(0307)     	lcd_wcmd_1(0x80 + x);
    00786 2F04      MOV	R16,R20
    00787 5800      SUBI	R16,0x80
    00788 DDD8      RCALL	_lcd_wcmd_1
(0308) 		delay_us(10);
    00789 E00A      LDI	R16,0xA
    0078A E010      LDI	R17,0
    0078B 940E 0424 CALL	_delay_us
(0309) 		return date_cmd_1();
    0078D DFAA      RCALL	_date_cmd_1
    0078E C024      RJMP	0x07B3
(0310) 		
(0311)     }else  if(y==1){
    0078F 3061      CPI	R22,1
    00790 F449      BNE	0x079A
(0312)     	lcd_wcmd_1(0x90 + x);
    00791 2F04      MOV	R16,R20
    00792 5700      SUBI	R16,0x70
    00793 DDCD      RCALL	_lcd_wcmd_1
(0313) 		delay_us(10);
    00794 E00A      LDI	R16,0xA
    00795 E010      LDI	R17,0
    00796 940E 0424 CALL	_delay_us
(0314) 		return date_cmd_1();
    00798 DF9F      RCALL	_date_cmd_1
    00799 C019      RJMP	0x07B3
(0315)     }else  if(y==2){
    0079A 3062      CPI	R22,2
    0079B F451      BNE	0x07A6
(0316)     	lcd_wcmd_2(0x80 + x);
    0079C 2F04      MOV	R16,R20
    0079D 5800      SUBI	R16,0x80
    0079E DE3A      RCALL	_lcd_wcmd_2
(0317) 		delay_us(10);
    0079F E00A      LDI	R16,0xA
    007A0 E010      LDI	R17,0
    007A1 940E 0424 CALL	_delay_us
(0318) 		return date_cmd_2();
    007A3 DFB8      RCALL	_date_cmd_2
    007A4 2EA0      MOV	R10,R16
    007A5 C00D      RJMP	0x07B3
(0319)     }else  if(y==3){
    007A6 3063      CPI	R22,3
    007A7 F451      BNE	0x07B2
(0320)     	lcd_wcmd_2(0x90 + x);
    007A8 2F04      MOV	R16,R20
    007A9 5700      SUBI	R16,0x70
    007AA DE2E      RCALL	_lcd_wcmd_2
(0321) 		delay_us(10);
    007AB E00A      LDI	R16,0xA
    007AC E010      LDI	R17,0
    007AD 940E 0424 CALL	_delay_us
(0322) 		return date_cmd_2();
    007AF DFAC      RCALL	_date_cmd_2
    007B0 2EA0      MOV	R10,R16
    007B1 C001      RJMP	0x07B3
(0323)     }
(0324) 	
(0325) 	return 0x00;
    007B2 2700      CLR	R16
    007B3 940C 293A JMP	pop_xgsetF00C
_read_data_1:
  addr                 --> R10
    007B5 92AA      ST	-Y,R10
    007B6 2EA0      MOV	R10,R16
(0326) }
(0327) uchar read_data_1(unsigned char addr){
(0328) 	
(0329)     	lcd_wcmd_1(addr);
    007B7 2D0A      MOV	R16,R10
    007B8 DDA8      RCALL	_lcd_wcmd_1
(0330)     	return date_cmd_1();
    007B9 DF7E      RCALL	_date_cmd_1
    007BA 90A9      LD	R10,Y+
    007BB 9508      RET
_read_data_2:
  addr                 --> R10
    007BC 92AA      ST	-Y,R10
    007BD 2EA0      MOV	R10,R16
(0331) }
(0332) uchar read_data_2(unsigned char addr){
(0333)     	lcd_wcmd_1(addr);
    007BE 2D0A      MOV	R16,R10
    007BF DDA1      RCALL	_lcd_wcmd_1
(0334) 		return date_cmd_2();
    007C0 DF9B      RCALL	_date_cmd_2
    007C1 90A9      LD	R10,Y+
    007C2 9508      RET
(0335) }
(0336) 
(0337) 
(0338) /*初始化功能*/
(0339) void lcd_init(void){
(0340) 	 //初始化端口功能
(0341) 	 DDRA |=0xFF;
_lcd_init:
    007C3 B38A      IN	R24,0x1A
    007C4 6F8F      ORI	R24,0xFF
    007C5 BB8A      OUT	0x1A,R24
(0342) 	 PORTA=0xFF;
    007C6 EF8F      LDI	R24,0xFF
    007C7 BB8B      OUT	0x1B,R24
(0343) 	 DDRG |=0x0F;
    007C8 9180 0064 LDS	R24,0x64
    007CA 608F      ORI	R24,0xF
    007CB 9380 0064 STS	0x64,R24
(0344) 	 PORTG|=0x0F;
    007CD 9180 0065 LDS	R24,0x65
    007CF 608F      ORI	R24,0xF
    007D0 9380 0065 STS	0x65,R24
(0345) 	 DDRF|=0x01;
    007D2 9180 0061 LDS	R24,0x61
    007D4 6081      ORI	R24,1
    007D5 9380 0061 STS	0x61,R24
(0346) 	 PORTF|=0x01;
    007D7 9180 0062 LDS	R24,0x62
    007D9 6081      ORI	R24,1
    007DA 9380 0062 STS	0x62,R24
(0347) 	 //lcd_wcmd(0x38);//初始化功能,8位，基本指令
(0348) 	 lcd_wcmd_1(0x30);//初始化功能,8位，基本指令
    007DC E300      LDI	R16,0x30
    007DD DD83      RCALL	_lcd_wcmd_1
(0349) 	  lcd_wcmd_1(0x08);//关显示
    007DE E008      LDI	R16,0x8
    007DF DD81      RCALL	_lcd_wcmd_1
(0350) 	  lcd_wcmd_1(0x01);//清显示
    007E0 E001      LDI	R16,1
    007E1 DD7F      RCALL	_lcd_wcmd_1
(0351) 	  lcd_wcmd_1(0x06);//输入模式，右移
    007E2 E006      LDI	R16,6
    007E3 DD7D      RCALL	_lcd_wcmd_1
(0352) 	  lcd_wcmd_1(0x0c);//初始化光标,开显示
    007E4 E00C      LDI	R16,0xC
    007E5 DD7B      RCALL	_lcd_wcmd_1
(0353) 	
(0354) 	  lcd_wcmd_2(0x30);//初始化功能,8位，基本指令
    007E6 E300      LDI	R16,0x30
    007E7 DDF1      RCALL	_lcd_wcmd_2
(0355) 	 lcd_wcmd_2(0x08);//关显示
    007E8 E008      LDI	R16,0x8
    007E9 DDEF      RCALL	_lcd_wcmd_2
(0356) 	 lcd_wcmd_2(0x01);//清显示
    007EA E001      LDI	R16,1
    007EB DDED      RCALL	_lcd_wcmd_2
(0357) 	 lcd_wcmd_2(0x06);//输入模式，右移
    007EC E006      LDI	R16,6
    007ED DDEB      RCALL	_lcd_wcmd_2
(0358) 	 lcd_wcmd_2(0x0c);//初始化光标,开显示
    007EE E00C      LDI	R16,0xC
    007EF CDE9      RJMP	_lcd_wcmd_2
_cur_set:
  type                 --> R20
    007F0 934A      ST	-Y,R20
    007F1 935A      ST	-Y,R21
    007F2 01A8      MOVW	R20,R16
(0359) }
(0360) //************
(0361) // 光标显示操作,默认初始化都是关闭。上半屏 0:关闭,1：开游标,2：游标反白,3：开游标、反白
(0362) // 下半屏  4:关闭,5：开游标,6：游标反白,7：开游标、反白
(0363) //************
(0364) void cur_set(uint type){
(0365) 	 if(type==0){
    007F3 3040      CPI	R20,0
    007F4 0745      CPC	R20,R21
    007F5 F419      BNE	0x07F9
(0366) 	 	lcd_wcmd_1(0x0c);	 
    007F6 E00C      LDI	R16,0xC
    007F7 DD69      RCALL	_lcd_wcmd_1
(0367) 	 }else if(type==1){
    007F8 C030      RJMP	0x0829
    007F9 3041      CPI	R20,1
    007FA E0E0      LDI	R30,0
    007FB 075E      CPC	R21,R30
    007FC F419      BNE	0x0800
(0368) 	     lcd_wcmd_1(0x0e);
    007FD E00E      LDI	R16,0xE
    007FE DD62      RCALL	_lcd_wcmd_1
(0369) 	 }else if(type==2){
    007FF C029      RJMP	0x0829
    00800 3042      CPI	R20,2
    00801 E0E0      LDI	R30,0
    00802 075E      CPC	R21,R30
    00803 F419      BNE	0x0807
(0370) 	    lcd_wcmd_1(0x0d);
    00804 E00D      LDI	R16,0xD
    00805 DD5B      RCALL	_lcd_wcmd_1
(0371) 	 }else if(type==3){
    00806 C022      RJMP	0x0829
    00807 3043      CPI	R20,3
    00808 E0E0      LDI	R30,0
    00809 075E      CPC	R21,R30
    0080A F419      BNE	0x080E
(0372) 	    lcd_wcmd_1(0x0f);
    0080B E00F      LDI	R16,0xF
    0080C DD54      RCALL	_lcd_wcmd_1
(0373) 	 }else if(type==4){
    0080D C01B      RJMP	0x0829
    0080E 3044      CPI	R20,4
    0080F E0E0      LDI	R30,0
    00810 075E      CPC	R21,R30
    00811 F419      BNE	0x0815
(0374) 	    lcd_wcmd_2(0x0c);
    00812 E00C      LDI	R16,0xC
    00813 DDC5      RCALL	_lcd_wcmd_2
(0375) 	 }else if(type==5){
    00814 C014      RJMP	0x0829
    00815 3045      CPI	R20,5
    00816 E0E0      LDI	R30,0
    00817 075E      CPC	R21,R30
    00818 F419      BNE	0x081C
(0376) 	    lcd_wcmd_2(0x0e);
    00819 E00E      LDI	R16,0xE
    0081A DDBE      RCALL	_lcd_wcmd_2
(0377) 	 }else if(type==6){
    0081B C00D      RJMP	0x0829
    0081C 3046      CPI	R20,6
    0081D E0E0      LDI	R30,0
    0081E 075E      CPC	R21,R30
    0081F F419      BNE	0x0823
(0378) 	    lcd_wcmd_2(0x0d);
    00820 E00D      LDI	R16,0xD
    00821 DDB7      RCALL	_lcd_wcmd_2
(0379) 	 }else if(type==7){
    00822 C006      RJMP	0x0829
    00823 3047      CPI	R20,7
    00824 E0E0      LDI	R30,0
    00825 075E      CPC	R21,R30
    00826 F411      BNE	0x0829
(0380) 	    lcd_wcmd_2(0x0f);
    00827 E00F      LDI	R16,0xF
    00828 DDB0      RCALL	_lcd_wcmd_2
(0381) 	 }
    00829 9159      LD	R21,Y+
    0082A 9149      LD	R20,Y+
    0082B 9508      RET
(0382) }
(0383) //***************************************************
(0384) //   反白相关
(0385) //***************************************************
(0386) /********************************************************************  
(0387)     函 数 名：Set_Draw(  
(0388)     入口参数：无  
(0389)     出口参数：无  
(0390)     修改日期：  
(0391)     函数作用：  
(0392)     说    明：  
(0393)     ********************************************************************/   
(0394)     void Set_Draw(void)   
(0395)     {   
(0396)         //W_1byte(0,0,0x01);            //清屏    
(0397)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0398)         lcd_wcmd_1(0x36); 
_Set_Draw:
    0082C E306      LDI	R16,0x36
    0082D DD33      RCALL	_lcd_wcmd_1
(0399) 		lcd_wcmd_2(0x36);   
    0082E E306      LDI	R16,0x36
    0082F CDA9      RJMP	_lcd_wcmd_2
(0400)     }
(0401) 	void Set_UNDraw(void)   
(0402)     {   
(0403)         //W_1byte(0,0,0x01);            //清屏   
(0404)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0405)         lcd_wcmd_1(0x30); 
_Set_UNDraw:
    00830 E300      LDI	R16,0x30
    00831 DD2F      RCALL	_lcd_wcmd_1
(0406) 		lcd_wcmd_2(0x30);   
    00832 E300      LDI	R16,0x30
    00833 CDA5      RJMP	_lcd_wcmd_2
_Set_White_off:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    00834 940E 2893 CALL	push_arg4
    00836 940E 2914 CALL	push_xgsetF0FC
    00838 2F62      MOV	R22,R18
    00839 9721      SBIW	R28,1
    0083A 84AF      LDD	R10,Y+15
(0407)     }
(0408) /**************************************************  
(0409)     uchar x,起始位置
(0410) 	uchar y,对应y
(0411) 	uchar end_x, 反白结束位置
(0412) 	uchar clear 0：反白，1：不反白
(0413)  **************************************************/   
(0414)     void Set_White_off(uchar x,uchar y,uchar end_x)   
(0415)     {   
(0416)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0417)         white_end_x = (end_x-x+1);   
    0083B 2D8A      MOV	R24,R10
    0083C 840B      LDD	R0,Y+11
    0083D 1980      SUB	R24,R0
    0083E 5F8F      SUBI	R24,0xFF
    0083F 2EC8      MOV	R12,R24
(0418)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    00840 0CCC      LSL	R12
(0419) 		Set_Draw(); //开画图
    00841 DFEA      RCALL	_Set_Draw
(0420)         if(y==0)   
    00842 2366      TST	R22
    00843 F449      BNE	0x084D
(0421)         {   
(0422)             white_x = (0x80+x-1);   
    00844 858B      LDD	R24,Y+11
    00845 5880      SUBI	R24,0x80
    00846 5081      SUBI	R24,1
    00847 8388      ST	Y,R24
(0423)             white_y = 0x80;   
    00848 E840      LDI	R20,0x80
(0424)             clr_x = 0x80;   
    00849 E880      LDI	R24,0x80
    0084A 2EA8      MOV	R10,R24
(0425)             clr_y = 0x80;   
    0084B 2EE8      MOV	R14,R24
(0426)         }   
    0084C C022      RJMP	0x086F
(0427)         else if(y==1)   
    0084D 3061      CPI	R22,1
    0084E F451      BNE	0x0859
(0428)         {   
(0429)             white_x = (0x80+x-1);   
    0084F 858B      LDD	R24,Y+11
    00850 5880      SUBI	R24,0x80
    00851 5081      SUBI	R24,1
    00852 8388      ST	Y,R24
(0430)             white_y = 0x90;   
    00853 E940      LDI	R20,0x90
(0431)             clr_x = 0x80;   
    00854 E880      LDI	R24,0x80
    00855 2EA8      MOV	R10,R24
(0432)             clr_y = 0x90;   
    00856 E980      LDI	R24,0x90
    00857 2EE8      MOV	R14,R24
(0433)         }   
    00858 C016      RJMP	0x086F
(0434)         else if(y==2)   
    00859 3062      CPI	R22,2
    0085A F449      BNE	0x0864
(0435)         {   
(0436)             white_x = (0x80+x-1);   
    0085B 858B      LDD	R24,Y+11
    0085C 5880      SUBI	R24,0x80
    0085D 5081      SUBI	R24,1
    0085E 8388      ST	Y,R24
(0437)             white_y = 0x80;   
    0085F E840      LDI	R20,0x80
(0438)             clr_x = 0x80;   
    00860 E880      LDI	R24,0x80
    00861 2EA8      MOV	R10,R24
(0439)             clr_y = 0x80;   
    00862 2EE8      MOV	R14,R24
(0440)         }   
    00863 C00B      RJMP	0x086F
(0441)         else if(y==3)   
    00864 3063      CPI	R22,3
    00865 F449      BNE	0x086F
(0442)         {   
(0443)             white_x = (0x80+x-1);   
    00866 858B      LDD	R24,Y+11
    00867 5880      SUBI	R24,0x80
    00868 5081      SUBI	R24,1
    00869 8388      ST	Y,R24
(0444)             white_y = 0x90;   
    0086A E940      LDI	R20,0x90
(0445)             clr_x = 0x80;   
    0086B E880      LDI	R24,0x80
    0086C 2EA8      MOV	R10,R24
(0446)             clr_y = 0x90;   
    0086D E980      LDI	R24,0x90
    0086E 2EE8      MOV	R14,R24
(0447)         }   
(0448) 		if(y==0 || y==1){    
    0086F 2366      TST	R22
    00870 F011      BEQ	0x0873
    00871 3061      CPI	R22,1
    00872 F4A1      BNE	0x0887
(0449)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00873 24AA      CLR	R10
    00874 C00E      RJMP	0x0883
(0450)           {   
(0451)              lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    00875 2E24      MOV	R2,R20
    00876 5F4F      SUBI	R20,0xFF
    00877 2D02      MOV	R16,R2
    00878 DCE8      RCALL	_lcd_wcmd_1
(0452)              lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    00879 8108      LD	R16,Y
    0087A DCE6      RCALL	_lcd_wcmd_1
(0453)              for(j=0;j<white_end_x;j++)   //   
    0087B 24EE      CLR	R14
    0087C C003      RJMP	0x0880
(0454)              {     
(0455)                lcd_wdat_1(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    0087D 2700      CLR	R16
    0087E DD08      RCALL	_lcd_wdat_1
    0087F 94E3      INC	R14
    00880 14EC      CP	R14,R12
    00881 F3D8      BCS	0x087D
    00882 94A3      INC	R10
    00883 2D8A      MOV	R24,R10
    00884 3180      CPI	R24,0x10
    00885 F378      BCS	0x0875
(0456)              }   
(0457)           }
(0458) 		}else if(y==2 || y==3){
    00886 C017      RJMP	0x089E
    00887 3062      CPI	R22,2
    00888 F011      BEQ	0x088B
    00889 3063      CPI	R22,3
    0088A F499      BNE	0x089E
(0459) 		    for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    0088B 24AA      CLR	R10
    0088C C00E      RJMP	0x089B
(0460)           {   
(0461)              lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    0088D 2E24      MOV	R2,R20
    0088E 5F4F      SUBI	R20,0xFF
    0088F 2D02      MOV	R16,R2
    00890 DD48      RCALL	_lcd_wcmd_2
(0462)              lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    00891 8108      LD	R16,Y
    00892 DD46      RCALL	_lcd_wcmd_2
(0463)              for(j=0;j<white_end_x;j++)   //   
    00893 24EE      CLR	R14
    00894 C003      RJMP	0x0898
(0464)              {     
(0465)                lcd_wdat_2(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    00895 2700      CLR	R16
    00896 DD68      RCALL	_lcd_wdat_2
    00897 94E3      INC	R14
    00898 14EC      CP	R14,R12
    00899 F3D8      BCS	0x0895
    0089A 94A3      INC	R10
    0089B 2D8A      MOV	R24,R10
    0089C 3180      CPI	R24,0x10
    0089D F378      BCS	0x088D
(0466)              }   
(0467)           }
(0468) 		}
(0469) 		  Set_UNDraw();//关画图  
    0089E DF91      RCALL	_Set_UNDraw
    0089F 9621      ADIW	R28,1
    008A0 940E 2909 CALL	pop_xgsetF0FC
    008A2 9624      ADIW	R28,4
    008A3 9508      RET
_Set_White:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    008A4 940E 2893 CALL	push_arg4
    008A6 940E 2914 CALL	push_xgsetF0FC
    008A8 2F62      MOV	R22,R18
    008A9 9721      SBIW	R28,1
    008AA 84AF      LDD	R10,Y+15
(0470)     } 
(0471) 	void Set_White(uchar x,uchar y,uchar end_x)   
(0472)     {   
(0473)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0474)         white_end_x = (end_x-x+1);   
    008AB 2D8A      MOV	R24,R10
    008AC 840B      LDD	R0,Y+11
    008AD 1980      SUB	R24,R0
    008AE 5F8F      SUBI	R24,0xFF
    008AF 2EC8      MOV	R12,R24
(0475)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    008B0 0CCC      LSL	R12
(0476) 		Set_Draw(); //开画图
    008B1 DF7A      RCALL	_Set_Draw
(0477)         if(y==0)   
    008B2 2366      TST	R22
    008B3 F449      BNE	0x08BD
(0478)         {   
(0479)             white_x = (0x80+x-1);   
    008B4 858B      LDD	R24,Y+11
    008B5 5880      SUBI	R24,0x80
    008B6 5081      SUBI	R24,1
    008B7 8388      ST	Y,R24
(0480)             white_y = 0x80;   
    008B8 E840      LDI	R20,0x80
(0481)             clr_x = 0x80;   
    008B9 E880      LDI	R24,0x80
    008BA 2EA8      MOV	R10,R24
(0482)             clr_y = 0x80;   
    008BB 2EE8      MOV	R14,R24
(0483)         }   
    008BC C022      RJMP	0x08DF
(0484)         else if(y==1)   
    008BD 3061      CPI	R22,1
    008BE F451      BNE	0x08C9
(0485)         {   
(0486)             white_x = (0x80+x-1);   
    008BF 858B      LDD	R24,Y+11
    008C0 5880      SUBI	R24,0x80
    008C1 5081      SUBI	R24,1
    008C2 8388      ST	Y,R24
(0487)             white_y = 0x90;   
    008C3 E940      LDI	R20,0x90
(0488)             clr_x = 0x80;   
    008C4 E880      LDI	R24,0x80
    008C5 2EA8      MOV	R10,R24
(0489)             clr_y = 0x90;   
    008C6 E980      LDI	R24,0x90
    008C7 2EE8      MOV	R14,R24
(0490)         }   
    008C8 C016      RJMP	0x08DF
(0491)         else if(y==2)   
    008C9 3062      CPI	R22,2
    008CA F449      BNE	0x08D4
(0492)         {   
(0493)             white_x = (0x80+x-1);   
    008CB 858B      LDD	R24,Y+11
    008CC 5880      SUBI	R24,0x80
    008CD 5081      SUBI	R24,1
    008CE 8388      ST	Y,R24
(0494)             white_y = 0x80;   
    008CF E840      LDI	R20,0x80
(0495)             clr_x = 0x80;   
    008D0 E880      LDI	R24,0x80
    008D1 2EA8      MOV	R10,R24
(0496)             clr_y = 0x80;   
    008D2 2EE8      MOV	R14,R24
(0497)         }   
    008D3 C00B      RJMP	0x08DF
(0498)         else if(y==3)   
    008D4 3063      CPI	R22,3
    008D5 F449      BNE	0x08DF
(0499)         {   
(0500)             white_x = (0x80+x-1);   
    008D6 858B      LDD	R24,Y+11
    008D7 5880      SUBI	R24,0x80
    008D8 5081      SUBI	R24,1
    008D9 8388      ST	Y,R24
(0501)             white_y = 0x90;   
    008DA E940      LDI	R20,0x90
(0502)             clr_x = 0x80;   
    008DB E880      LDI	R24,0x80
    008DC 2EA8      MOV	R10,R24
(0503)             clr_y = 0x90;   
    008DD E980      LDI	R24,0x90
    008DE 2EE8      MOV	R14,R24
(0504)         } 
(0505) 		if(y==0 || y==1){          
    008DF 2366      TST	R22
    008E0 F011      BEQ	0x08E3
    008E1 3061      CPI	R22,1
    008E2 F4A1      BNE	0x08F7
(0506)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    008E3 24AA      CLR	R10
    008E4 C00E      RJMP	0x08F3
(0507)           {   
(0508)               lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    008E5 2E24      MOV	R2,R20
    008E6 5F4F      SUBI	R20,0xFF
    008E7 2D02      MOV	R16,R2
    008E8 DC78      RCALL	_lcd_wcmd_1
(0509)               lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    008E9 8108      LD	R16,Y
    008EA DC76      RCALL	_lcd_wcmd_1
(0510)               for(j=0;j<white_end_x;j++)   //   
    008EB 24EE      CLR	R14
    008EC C003      RJMP	0x08F0
(0511)               {    
(0512)                     lcd_wdat_1(0xff); //反白这一行的8个点，液晶地址自动加1     
    008ED EF0F      LDI	R16,0xFF
    008EE DC98      RCALL	_lcd_wdat_1
    008EF 94E3      INC	R14
    008F0 14EC      CP	R14,R12
    008F1 F3D8      BCS	0x08ED
    008F2 94A3      INC	R10
    008F3 2D8A      MOV	R24,R10
    008F4 3180      CPI	R24,0x10
    008F5 F378      BCS	0x08E5
(0513)               }   
(0514)           }
(0515) 		}else if(y==2 || y==3){
    008F6 C017      RJMP	0x090E
    008F7 3062      CPI	R22,2
    008F8 F011      BEQ	0x08FB
    008F9 3063      CPI	R22,3
    008FA F499      BNE	0x090E
(0516) 		   for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    008FB 24AA      CLR	R10
    008FC C00E      RJMP	0x090B
(0517)             {   
(0518)               lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    008FD 2E24      MOV	R2,R20
    008FE 5F4F      SUBI	R20,0xFF
    008FF 2D02      MOV	R16,R2
    00900 DCD8      RCALL	_lcd_wcmd_2
(0519)               lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    00901 8108      LD	R16,Y
    00902 DCD6      RCALL	_lcd_wcmd_2
(0520)               for(j=0;j<white_end_x;j++)   //   
    00903 24EE      CLR	R14
    00904 C003      RJMP	0x0908
(0521)               {    
(0522)                     lcd_wdat_2(0xff); //反白这一行的8个点，液晶地址自动加1     
    00905 EF0F      LDI	R16,0xFF
    00906 DCF8      RCALL	_lcd_wdat_2
    00907 94E3      INC	R14
    00908 14EC      CP	R14,R12
    00909 F3D8      BCS	0x0905
    0090A 94A3      INC	R10
    0090B 2D8A      MOV	R24,R10
    0090C 3180      CPI	R24,0x10
    0090D F378      BCS	0x08FD
(0523)               }   
(0524)             }
(0525) 		}
(0526) 		  Set_UNDraw();//关画图  
    0090E DF21      RCALL	_Set_UNDraw
    0090F 9621      ADIW	R28,1
    00910 940E 2909 CALL	pop_xgsetF0FC
    00912 9624      ADIW	R28,4
    00913 9508      RET
_Draw_Pic:
  temp_y               --> R20
  temp_x               --> R22
  i                    --> R10
  j                    --> R14
  Draw                 --> Y,+12
  y                    --> Y,+10
  x                    --> R12
    00914 933A      ST	-Y,R19
    00915 932A      ST	-Y,R18
    00916 940E 2914 CALL	push_xgsetF0FC
    00918 2EC0      MOV	R12,R16
(0527)     } 
(0528) 	/********************************************************************  
(0529)     函 数 名：Draw_Pic  128*64  
(0530)     入口参数：x,y,*Draw  
(0531)     出口参数：无  
(0532)     建立日期：2007年8月26日  
(0533)     修改日期：  
(0534)     函数作用：  
(0535)     说    明：  
(0536)     ********************************************************************/   
(0537)     /*************************************************/   
(0538)        
(0539)     void Draw_Pic(uchar x, uchar y, const uchar *Draw)   
(0540)     {   
(0541)         uchar i, j, temp_x, temp_y;     //   
(0542) 		lcd_wcmd_1(0x34);
    00919 E304      LDI	R16,0x34
    0091A DC46      RCALL	_lcd_wcmd_1
(0543) 		lcd_wcmd_2(0x34);
    0091B E304      LDI	R16,0x34
    0091C DCBC      RCALL	_lcd_wcmd_2
(0544)         temp_x = x;                     //   
    0091D 2D6C      MOV	R22,R12
(0545)         temp_y = y;                     //   
    0091E 854A      LDD	R20,Y+10
(0546)         temp_x |= 0x80;                 //   
    0091F 6860      ORI	R22,0x80
(0547)         temp_y |= 0x80;                 //   
    00920 6840      ORI	R20,0x80
(0548)         for(i=0;i<32;i++ )               //上半屏32行   
    00921 24AA      CLR	R10
    00922 C013      RJMP	0x0936
(0549)         {   
(0550)             lcd_wcmd_1(temp_y++);      //设置绘图区的Y地址坐标0   
    00923 2E24      MOV	R2,R20
    00924 5F4F      SUBI	R20,0xFF
    00925 2D02      MOV	R16,R2
    00926 DC3A      RCALL	_lcd_wcmd_1
(0551)             lcd_wcmd_1(temp_x);        //设置绘图区的X地址坐标0   
    00927 2F06      MOV	R16,R22
    00928 DC38      RCALL	_lcd_wcmd_1
(0552)             for(j=0;j<24;j++)            //   
    00929 24EE      CLR	R14
    0092A C007      RJMP	0x0932
(0553)             {   
(0554)                  lcd_wdat_1(*Draw++);  //   
    0092B 85EC      LDD	R30,Y+12
    0092C 85FD      LDD	R31,Y+13
    0092D 9101      LD	R16,Z+
    0092E 87FD      STD	Y+13,R31
    0092F 87EC      STD	Y+12,R30
    00930 DC56      RCALL	_lcd_wdat_1
    00931 94E3      INC	R14
    00932 2D8E      MOV	R24,R14
    00933 3188      CPI	R24,0x18
    00934 F3B0      BCS	0x092B
    00935 94A3      INC	R10
    00936 2D8A      MOV	R24,R10
    00937 3280      CPI	R24,0x20
    00938 F350      BCS	0x0923
(0555)             }   
(0556)         }   
(0557)            
(0558)         temp_x = x;                     //   
    00939 2D6C      MOV	R22,R12
(0559)         temp_y = y;                     //   
    0093A 854A      LDD	R20,Y+10
(0560)         temp_x |= 0x80;                 //   
    0093B 6860      ORI	R22,0x80
(0561)         temp_y |= 0x80;                   //   
    0093C 6840      ORI	R20,0x80
(0562)         j = 0;                          //   
    0093D 24EE      CLR	R14
(0563)         for(;i<64;i++ )   
    0093E C013      RJMP	0x0952
(0564)         {   
(0565)             lcd_wcmd_2(temp_y++);      //设置绘图区的Y地址坐标   
    0093F 2E24      MOV	R2,R20
    00940 5F4F      SUBI	R20,0xFF
    00941 2D02      MOV	R16,R2
    00942 DC96      RCALL	_lcd_wcmd_2
(0566)             lcd_wcmd_2(temp_x);        //设置绘图区的X地址坐标   
    00943 2F06      MOV	R16,R22
    00944 DC94      RCALL	_lcd_wcmd_2
(0567)             for(j=0;j<24;j++)   
    00945 24EE      CLR	R14
    00946 C007      RJMP	0x094E
(0568)             {   
(0569)                  lcd_wdat_2(*Draw++);  //   
    00947 85EC      LDD	R30,Y+12
    00948 85FD      LDD	R31,Y+13
    00949 9101      LD	R16,Z+
    0094A 87FD      STD	Y+13,R31
    0094B 87EC      STD	Y+12,R30
    0094C DCB2      RCALL	_lcd_wdat_2
    0094D 94E3      INC	R14
    0094E 2D8E      MOV	R24,R14
    0094F 3188      CPI	R24,0x18
    00950 F3B0      BCS	0x0947
    00951 94A3      INC	R10
    00952 2D8A      MOV	R24,R10
    00953 3480      CPI	R24,0x40
    00954 F350      BCS	0x093F
(0570)             }   
(0571)         }   
(0572)        lcd_wcmd_1(0x36);
    00955 E306      LDI	R16,0x36
    00956 DC0A      RCALL	_lcd_wcmd_1
(0573) 	   lcd_wcmd_2(0x36);
    00957 E306      LDI	R16,0x36
    00958 DC80      RCALL	_lcd_wcmd_2
(0574) 	   delay_us(1);
    00959 E001      LDI	R16,1
    0095A E010      LDI	R17,0
    0095B 940E 0424 CALL	_delay_us
(0575) 	   lcd_wcmd_1(0x30);
    0095D E300      LDI	R16,0x30
    0095E DC02      RCALL	_lcd_wcmd_1
(0576) 	   lcd_wcmd_2(0x30);
    0095F E300      LDI	R16,0x30
    00960 DC78      RCALL	_lcd_wcmd_2
    00961 940E 2909 CALL	pop_xgsetF0FC
    00963 9622      ADIW	R28,2
    00964 9508      RET
_lcd_Desk:
    00965 9722      SBIW	R28,2
(0577) 	        
(0578)     }  
(0579)     /*************************************************/  
(0580) //***********************************************************************
(0581) //      液晶显示界面初始化
(0582) //***********************************************************************
(0583) void lcd_Desk(void)
(0584) { 
(0585)   //uint i=0;   
(0586)  // lcd_clear();
(0587)   //lcd_write_str(0,0,"ADC0:");
(0588)   lcd_write_str(0,3,"反白测试第一次");
    00966 E081      LDI	R24,1
    00967 E091      LDI	R25,1
    00968 8399      STD	Y+1,R25
    00969 8388      ST	Y,R24
    0096A E023      LDI	R18,3
    0096B 2700      CLR	R16
    0096C DD12      RCALL	_lcd_write_str
(0589)   lcd_write_str(0,0,"反白测试第一次");
    0096D E081      LDI	R24,1
    0096E E091      LDI	R25,1
    0096F 8399      STD	Y+1,R25
    00970 8388      ST	Y,R24
    00971 2722      CLR	R18
    00972 2700      CLR	R16
    00973 DD0B      RCALL	_lcd_write_str
(0590)   //delay_ms(100);
(0591)      
(0592)     Set_White(1,1,7); 
    00974 E087      LDI	R24,7
    00975 8388      ST	Y,R24
    00976 E021      LDI	R18,1
    00977 E001      LDI	R16,1
    00978 DF2B      RCALL	_Set_White
(0593) 	   
(0594) 	 
(0595)     delay_ms(3000); 
    00979 EB08      LDI	R16,0xB8
    0097A E01B      LDI	R17,0xB
    0097B 940E 042E CALL	_delay_ms
(0596)      Set_White_off(1,1,7);
    0097D E087      LDI	R24,7
    0097E 8388      ST	Y,R24
    0097F E021      LDI	R18,1
    00980 E001      LDI	R16,1
    00981 DEB2      RCALL	_Set_White_off
(0597) 	Set_White(2,1,2); 
    00982 E082      LDI	R24,2
    00983 8388      ST	Y,R24
    00984 E021      LDI	R18,1
    00985 E002      LDI	R16,2
    00986 DF1D      RCALL	_Set_White
(0598) 	 delay_ms(300); 
    00987 E20C      LDI	R16,0x2C
    00988 E011      LDI	R17,1
    00989 940E 042E CALL	_delay_ms
(0599) 	 Set_White_off(2,2,7);
    0098B E087      LDI	R24,7
    0098C 8388      ST	Y,R24
    0098D E022      LDI	R18,2
    0098E E002      LDI	R16,2
    0098F DEA4      RCALL	_Set_White_off
(0600) 	 Set_White(3,1,5);   
    00990 E085      LDI	R24,5
    00991 8388      ST	Y,R24
    00992 E021      LDI	R18,1
    00993 E003      LDI	R16,3
    00994 DF0F      RCALL	_Set_White
    00995 9622      ADIW	R28,2
    00996 9508      RET
_main:
  data                 --> Y,+2
  i                    --> Y,+2
    00997 9721      SBIW	R28,1
FILE: E:\ICCDemo\Temp_Control\temp_control\main.c
(0001) 
(0002) #include<iom128v.h>
(0003) #include "main.h"
(0004) #include "lcd.h"
(0005) #include "time1307.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "timertask.h"
(0009) #include "eeprom.h"
(0010) #include "pages.h"
(0011) #include "temp.h"
(0012) //const unsigned char nihao[1536]={};
(0013) unsigned int waitflag=1000;//确认恢复的等待标记，初始为10，如果为0代表到时
(0014) //下面两个继续使用。暂时保存数据使用
(0015)  unsigned int temp_h=0;
(0016)  unsigned int temp_l=0;
(0017)  //uart需要参数
(0018)  unsigned char send_buf[600];
(0019)  unsigned char receive_buf[600];
(0020)  unsigned int send_len;
(0021)  unsigned int receive_len;
(0022)  //界面需要参数
(0023)  unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0024)  unsigned int pageParam[5];//传递参数。界面间参数暂存
(0025)  unsigned int prePageNum; //上一界面。应该在跳转前设置这个参数。但是用到这个参数的就Page3、4、8.所以可以直接在该界面用到在设置。不用理会规则
(0026)  //**************
(0027) struct temp temps[4]={{0},{0},{0},{0}};
(0028) 
(0029) 
(0030) //*************************************************************************
(0031) //			主程序
(0032) //*************************************************************************
(0033) void main(void)
(0034) { 
(0035) uint i;
(0036)   uchar data;
(0037)   DDRE=0xFF;
    00998 EF8F      LDI	R24,0xFF
    00999 B982      OUT	0x02,R24
(0038)   PORTE=~0xaa;
    0099A E585      LDI	R24,0x55
    0099B B983      OUT	0x03,R24
(0039)   SREG|=0x80;//开中断
    0099C 9478      BSET	7
(0040)   lcd_init();
    0099D 940E 07C3 CALL	_lcd_init
(0041)   lcd_clear();
    0099F 940E 0736 CALL	_lcd_clear
(0042)    //画欢迎界面
(0043)   //Draw_Pic( 0, 0, nihao);
(0044)    //delay_ms(1000);
(0045)      pageNum=2;
    009A1 E082      LDI	R24,2
    009A2 E090      LDI	R25,0
    009A3 9390 0D1F STS	pageNum+1,R25
    009A5 9380 0D1E STS	pageNum,R24
(0046)      Set_White_off(1,0,12);
    009A7 E08C      LDI	R24,0xC
    009A8 8388      ST	Y,R24
    009A9 2722      CLR	R18
    009AA E001      LDI	R16,1
    009AB 940E 0834 CALL	_Set_White_off
(0047) 	 Set_White_off(1,1,12);
    009AD E08C      LDI	R24,0xC
    009AE 8388      ST	Y,R24
    009AF E021      LDI	R18,1
    009B0 E001      LDI	R16,1
    009B1 940E 0834 CALL	_Set_White_off
(0048) 	 Set_White_off(1,2,12);
    009B3 E08C      LDI	R24,0xC
    009B4 8388      ST	Y,R24
    009B5 E022      LDI	R18,2
    009B6 E001      LDI	R16,1
    009B7 940E 0834 CALL	_Set_White_off
(0049) 	 Set_White_off(1,3,12);
    009B9 E08C      LDI	R24,0xC
    009BA 8388      ST	Y,R24
    009BB E023      LDI	R18,3
    009BC E001      LDI	R16,1
    009BD 940E 0834 CALL	_Set_White_off
(0050) 	 //测试使用
(0051) 	   temp_l=0x50;
    009BF E580      LDI	R24,0x50
    009C0 E090      LDI	R25,0
    009C1 9390 0115 STS	temp_l+1,R25
    009C3 9380 0114 STS	temp_l,R24
(0052)       temp_h=0x12;
    009C5 E182      LDI	R24,0x12
    009C6 9390 0113 STS	temp_h+1,R25
    009C8 9380 0112 STS	temp_h,R24
(0053) 	  tempdata_init();//数据初始化，清空
    009CA 940E 2390 CALL	_tempdata_init
(0054)       Initial_time(); //初始化时间的
    009CC 940E 27EA CALL	_Initial_time
(0055) 	  Timerinit_3(0xF0,0x00);//使用16位的定时器3来读取温度和pid算法
    009CE 2722      CLR	R18
    009CF EF00      LDI	R16,0xF0
    009D0 940E 09EB CALL	_Timerinit_3
(0056) 	  Timerinit_1(0xFe,0xb8);//使用16位的定时器1来输出
    009D2 EB28      LDI	R18,0xB8
    009D3 EF0E      LDI	R16,0xFE
    009D4 940E 09DC CALL	_Timerinit_1
    009D6 C002      RJMP	0x09D9
(0057) 	  
(0058) 	 while(1){
(0059)      dispatchPages();
    009D7 940E 21EB CALL	_dispatchPages
    009D9 CFFD      RJMP	0x09D7
    009DA 9621      ADIW	R28,1
    009DB 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\timertask.c
(0001) #include<iom128v.h>
(0002) #include "timertask.h"
(0003) #include "time.h"
(0004) #include "lcd.h"
(0005) #include "delay.h"
(0006) #include "main.h"
(0007) #include "temp.h"
(0008) #include "out.h"
(0009) unsigned char time_h_1, time_l_1,time_h_3, time_l_3,time_0, time_2,i;
(0010) //************************************************
(0011) //16位定时器，定时器1
(0012) //*************************************************
(0013) /*
(0014)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0015)   自行计算时间传入。传入高低八位
(0016) */
(0017) void Timerinit_1(uchar time_h,uchar time_l){
(0018)     time_h_1=time_h;
_Timerinit_1:
  time_l               --> R18
  time_h               --> R16
    009DC 9300 0D26 STS	time_h_1,R16
(0019) 	time_l_1=time_l;
    009DE 9320 0D25 STS	time_l_1,R18
(0020) 	 TCCR1B=0x00;
    009E0 2422      CLR	R2
    009E1 BC2E      OUT	0x2E,R2
(0021) 	//写入初值
(0022)     TCNT1H=time_h;
    009E2 BD0D      OUT	0x2D,R16
(0023)     TCNT1L=time_l;
    009E3 BD2C      OUT	0x2C,R18
(0024) 	//普通计数，1024分频
(0025)     TCCR1A=0x00;
    009E4 BC2F      OUT	0x2F,R2
(0026)     TCCR1B=0x05;
    009E5 E085      LDI	R24,5
    009E6 BD8E      OUT	0x2E,R24
(0027) 	 TIMSK|=0x04;//开定时器1溢出中断,16位的
    009E7 B787      IN	R24,0x37
    009E8 6084      ORI	R24,4
    009E9 BF87      OUT	0x37,R24
    009EA 9508      RET
(0028) }
(0029) //************************************************
(0030) //16位定时器，定时器3
(0031) //*************************************************
(0032) /*
(0033)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0034)   自行计算时间传入。传入高低八位
(0035) */
(0036) void Timerinit_3(uchar time_h,uchar time_l){
(0037)  	time_h_3=time_h;
_Timerinit_3:
  time_l               --> R18
  time_h               --> R16
    009EB 9300 0D24 STS	time_h_3,R16
(0038) 	time_l_3=time_l;
    009ED 9320 0D23 STS	time_l_3,R18
(0039) 	//写入初值
(0040) 	 TCCR3B=0x00;
    009EF 2422      CLR	R2
    009F0 9220 008A STS	0x8A,R2
(0041)     TCNT3H=time_h;
    009F2 9300 0089 STS	0x89,R16
(0042)     TCNT3L=time_l;
    009F4 9320 0088 STS	0x88,R18
(0043) 	//普通计数，1024分频
(0044)     TCCR3A=0x00;
    009F6 9220 008B STS	0x8B,R2
(0045)     TCCR3B=0x05;
    009F8 E085      LDI	R24,5
    009F9 9380 008A STS	0x8A,R24
(0046) 	ETIMSK |=0x04;//开外部中断
    009FB 9180 007D LDS	R24,0x7D
    009FD 6084      ORI	R24,4
    009FE 9380 007D STS	0x7D,R24
    00A00 9508      RET
(0047) }
(0048) //************************************************
(0049) //8位定时器，定时器0
(0050) //*************************************************
(0051) 
(0052) /*
(0053)   计数器0，8位的。普通计时，1024分频。
(0054)   自行计算时间传入。
(0055) */
(0056) void Timerinit_0(uchar time){
(0057)     time_0=time;
_Timerinit_0:
  time                 --> R16
    00A01 9300 0D22 STS	time_0,R16
(0058) 	//写入初值
(0059)     TCNT0=time;
    00A03 BF02      OUT	0x32,R16
(0060) 	TIMSK|=0x01;//开定时器0溢出中断,8位的
    00A04 B787      IN	R24,0x37
    00A05 6081      ORI	R24,1
    00A06 BF87      OUT	0x37,R24
(0061) 	 TCCR0=0x07;//普通计数，1024分频
    00A07 E087      LDI	R24,7
    00A08 BF83      OUT	0x33,R24
    00A09 9508      RET
(0062) 	 
(0063) }
(0064) //************************************************
(0065) //8位定时器，定时器2
(0066) //*************************************************
(0067) /*
(0068)   计数器0，8位的。普通计时，1024分频。
(0069)   自行计算时间传入。
(0070) */
(0071) void Timerinit_2(uchar time){
(0072)     time_2=time;
_Timerinit_2:
  time                 --> R16
    00A0A 9300 0D21 STS	time_2,R16
(0073) 	//写入初值
(0074)     TCNT2=time;
    00A0C BD04      OUT	0x24,R16
(0075) 	TIMSK|=0x40;//开定时器0溢出中断,8位的
    00A0D B787      IN	R24,0x37
    00A0E 6480      ORI	R24,0x40
    00A0F BF87      OUT	0x37,R24
(0076) 	//普通计数，1024分频
(0077)     TCCR2=0x05;
    00A10 E085      LDI	R24,5
    00A11 BD85      OUT	0x25,R24
    00A12 9508      RET
_int_timer0:
    00A13 920A      ST	-Y,R0
    00A14 921A      ST	-Y,R1
    00A15 922A      ST	-Y,R2
    00A16 923A      ST	-Y,R3
    00A17 924A      ST	-Y,R4
    00A18 925A      ST	-Y,R5
    00A19 926A      ST	-Y,R6
    00A1A 927A      ST	-Y,R7
    00A1B 928A      ST	-Y,R8
    00A1C 929A      ST	-Y,R9
    00A1D 930A      ST	-Y,R16
    00A1E 931A      ST	-Y,R17
    00A1F 932A      ST	-Y,R18
    00A20 933A      ST	-Y,R19
    00A21 938A      ST	-Y,R24
    00A22 939A      ST	-Y,R25
    00A23 93AA      ST	-Y,R26
    00A24 93BA      ST	-Y,R27
    00A25 93EA      ST	-Y,R30
    00A26 93FA      ST	-Y,R31
    00A27 B60F      IN	R0,0x3F
    00A28 920A      ST	-Y,R0
    00A29 9721      SBIW	R28,1
(0078) }
(0079) #pragma interrupt_handler int_timer0:17
(0080) void int_timer0(void){ 
(0081) 		TCCR0=0x00;
    00A2A 2422      CLR	R2
    00A2B BE23      OUT	0x33,R2
(0082) 		waitflag--;
    00A2C 9180 0110 LDS	R24,waitflag
    00A2E 9190 0111 LDS	R25,waitflag+1
    00A30 9701      SBIW	R24,1
    00A31 9390 0111 STS	waitflag+1,R25
    00A33 9380 0110 STS	waitflag,R24
(0083) 	lcd_write_char(10,0,0x30+(waitflag/100));
    00A35 E624      LDI	R18,0x64
    00A36 E030      LDI	R19,0
    00A37 018C      MOVW	R16,R24
    00A38 940E 28BF CALL	div16u
    00A3A 01C8      MOVW	R24,R16
    00A3B 96C0      ADIW	R24,0x30
    00A3C 8388      ST	Y,R24
    00A3D 2722      CLR	R18
    00A3E E00A      LDI	R16,0xA
    00A3F 940E 0659 CALL	_lcd_write_char
(0084) 	lcd_write_char(11,0,'s');	
    00A41 E783      LDI	R24,0x73
    00A42 8388      ST	Y,R24
    00A43 2722      CLR	R18
    00A44 E00B      LDI	R16,0xB
    00A45 940E 0659 CALL	_lcd_write_char
(0085) 	if(waitflag>1){
    00A47 E081      LDI	R24,1
    00A48 E090      LDI	R25,0
    00A49 9020 0110 LDS	R2,waitflag
    00A4B 9030 0111 LDS	R3,waitflag+1
    00A4D 1582      CP	R24,R2
    00A4E 0593      CPC	R25,R3
    00A4F F420      BCC	0x0A54
(0086) 	   TCNT0=0x00;
    00A50 2422      CLR	R2
    00A51 BE22      OUT	0x32,R2
(0087) 	   TCCR0=0x07;
    00A52 E087      LDI	R24,7
    00A53 BF83      OUT	0x33,R24
(0088) 	 }
(0089) 		return;
    00A54 9621      ADIW	R28,1
    00A55 9009      LD	R0,Y+
    00A56 BE0F      OUT	0x3F,R0
    00A57 91F9      LD	R31,Y+
    00A58 91E9      LD	R30,Y+
    00A59 91B9      LD	R27,Y+
    00A5A 91A9      LD	R26,Y+
    00A5B 9199      LD	R25,Y+
    00A5C 9189      LD	R24,Y+
    00A5D 9139      LD	R19,Y+
    00A5E 9129      LD	R18,Y+
    00A5F 9119      LD	R17,Y+
    00A60 9109      LD	R16,Y+
    00A61 9099      LD	R9,Y+
    00A62 9089      LD	R8,Y+
    00A63 9079      LD	R7,Y+
    00A64 9069      LD	R6,Y+
    00A65 9059      LD	R5,Y+
    00A66 9049      LD	R4,Y+
    00A67 9039      LD	R3,Y+
    00A68 9029      LD	R2,Y+
    00A69 9019      LD	R1,Y+
    00A6A 9009      LD	R0,Y+
    00A6B 9518      RETI
_int_timer1:
    00A6C 920A      ST	-Y,R0
    00A6D 921A      ST	-Y,R1
    00A6E 922A      ST	-Y,R2
    00A6F 923A      ST	-Y,R3
    00A70 924A      ST	-Y,R4
    00A71 925A      ST	-Y,R5
    00A72 926A      ST	-Y,R6
    00A73 927A      ST	-Y,R7
    00A74 928A      ST	-Y,R8
    00A75 929A      ST	-Y,R9
    00A76 930A      ST	-Y,R16
    00A77 931A      ST	-Y,R17
    00A78 932A      ST	-Y,R18
    00A79 933A      ST	-Y,R19
    00A7A 938A      ST	-Y,R24
    00A7B 939A      ST	-Y,R25
    00A7C 93AA      ST	-Y,R26
    00A7D 93BA      ST	-Y,R27
    00A7E 93EA      ST	-Y,R30
    00A7F 93FA      ST	-Y,R31
    00A80 B60F      IN	R0,0x3F
    00A81 920A      ST	-Y,R0
(0090) }
(0091) //溢出中断。
(0092) #pragma interrupt_handler int_timer1:15
(0093) void int_timer1(void){
(0094) 		 TCCR1B=0x00;
    00A82 2422      CLR	R2
    00A83 BC2E      OUT	0x2E,R2
(0095) 		 out_port();
    00A84 940E 0D7C CALL	_out_port
(0096) 		TCNT1H=time_h_1;
    00A86 9020 0D26 LDS	R2,time_h_1
    00A88 BC2D      OUT	0x2D,R2
(0097)          TCNT1L=time_l_1;
    00A89 9020 0D25 LDS	R2,time_l_1
    00A8B BC2C      OUT	0x2C,R2
(0098) 		 TCCR1B=0x05;
    00A8C E085      LDI	R24,5
    00A8D BD8E      OUT	0x2E,R24
(0099) 		return;
    00A8E 9009      LD	R0,Y+
    00A8F BE0F      OUT	0x3F,R0
    00A90 91F9      LD	R31,Y+
    00A91 91E9      LD	R30,Y+
    00A92 91B9      LD	R27,Y+
    00A93 91A9      LD	R26,Y+
    00A94 9199      LD	R25,Y+
    00A95 9189      LD	R24,Y+
    00A96 9139      LD	R19,Y+
    00A97 9129      LD	R18,Y+
    00A98 9119      LD	R17,Y+
    00A99 9109      LD	R16,Y+
    00A9A 9099      LD	R9,Y+
    00A9B 9089      LD	R8,Y+
    00A9C 9079      LD	R7,Y+
    00A9D 9069      LD	R6,Y+
    00A9E 9059      LD	R5,Y+
    00A9F 9049      LD	R4,Y+
    00AA0 9039      LD	R3,Y+
    00AA1 9029      LD	R2,Y+
    00AA2 9019      LD	R1,Y+
    00AA3 9009      LD	R0,Y+
    00AA4 9518      RETI
_int_timer2:
    00AA5 920A      ST	-Y,R0
    00AA6 921A      ST	-Y,R1
    00AA7 922A      ST	-Y,R2
    00AA8 923A      ST	-Y,R3
    00AA9 924A      ST	-Y,R4
    00AAA 925A      ST	-Y,R5
    00AAB 926A      ST	-Y,R6
    00AAC 927A      ST	-Y,R7
    00AAD 928A      ST	-Y,R8
    00AAE 929A      ST	-Y,R9
    00AAF 930A      ST	-Y,R16
    00AB0 931A      ST	-Y,R17
    00AB1 932A      ST	-Y,R18
    00AB2 933A      ST	-Y,R19
    00AB3 938A      ST	-Y,R24
    00AB4 939A      ST	-Y,R25
    00AB5 93AA      ST	-Y,R26
    00AB6 93BA      ST	-Y,R27
    00AB7 93EA      ST	-Y,R30
    00AB8 93FA      ST	-Y,R31
    00AB9 B60F      IN	R0,0x3F
    00ABA 920A      ST	-Y,R0
    00ABB 9721      SBIW	R28,1
(0100) }
(0101) #pragma interrupt_handler int_timer2:11
(0102) void int_timer2(void){
(0103)       //PORTE=~PORTE;
(0104) 		TCCR2=0x00;
    00ABC 2422      CLR	R2
    00ABD BC25      OUT	0x25,R2
(0105) 		for(i=0;i<5;i++){
    00ABE 9220 0D20 STS	i,R2
    00AC0 C011      RJMP	0x0AD2
(0106)   		 lcd_write_char(0x00,3,0x30+i);	
    00AC1 9180 0D20 LDS	R24,i
    00AC3 5D80      SUBI	R24,0xD0
    00AC4 8388      ST	Y,R24
    00AC5 E023      LDI	R18,3
    00AC6 2700      CLR	R16
    00AC7 940E 0659 CALL	_lcd_write_char
(0107) 		 delay_ms(100);		
    00AC9 E604      LDI	R16,0x64
    00ACA E010      LDI	R17,0
    00ACB 940E 042E CALL	_delay_ms
    00ACD 9180 0D20 LDS	R24,i
    00ACF 5F8F      SUBI	R24,0xFF
    00AD0 9380 0D20 STS	i,R24
    00AD2 9180 0D20 LDS	R24,i
    00AD4 3085      CPI	R24,5
    00AD5 F358      BCS	0x0AC1
(0108)         }
(0109) 		TCNT2=time_2;
    00AD6 9020 0D21 LDS	R2,time_2
    00AD8 BC24      OUT	0x24,R2
(0110) 		TCCR2=0x05;
    00AD9 E085      LDI	R24,5
    00ADA BD85      OUT	0x25,R24
(0111) 		return;
    00ADB 9621      ADIW	R28,1
    00ADC 9009      LD	R0,Y+
    00ADD BE0F      OUT	0x3F,R0
    00ADE 91F9      LD	R31,Y+
    00ADF 91E9      LD	R30,Y+
    00AE0 91B9      LD	R27,Y+
    00AE1 91A9      LD	R26,Y+
    00AE2 9199      LD	R25,Y+
    00AE3 9189      LD	R24,Y+
    00AE4 9139      LD	R19,Y+
    00AE5 9129      LD	R18,Y+
    00AE6 9119      LD	R17,Y+
    00AE7 9109      LD	R16,Y+
    00AE8 9099      LD	R9,Y+
    00AE9 9089      LD	R8,Y+
    00AEA 9079      LD	R7,Y+
    00AEB 9069      LD	R6,Y+
    00AEC 9059      LD	R5,Y+
    00AED 9049      LD	R4,Y+
    00AEE 9039      LD	R3,Y+
    00AEF 9029      LD	R2,Y+
    00AF0 9019      LD	R1,Y+
    00AF1 9009      LD	R0,Y+
    00AF2 9518      RETI
_int_timer3:
    00AF3 920A      ST	-Y,R0
    00AF4 921A      ST	-Y,R1
    00AF5 922A      ST	-Y,R2
    00AF6 923A      ST	-Y,R3
    00AF7 924A      ST	-Y,R4
    00AF8 925A      ST	-Y,R5
    00AF9 926A      ST	-Y,R6
    00AFA 927A      ST	-Y,R7
    00AFB 928A      ST	-Y,R8
    00AFC 929A      ST	-Y,R9
    00AFD 930A      ST	-Y,R16
    00AFE 931A      ST	-Y,R17
    00AFF 932A      ST	-Y,R18
    00B00 933A      ST	-Y,R19
    00B01 938A      ST	-Y,R24
    00B02 939A      ST	-Y,R25
    00B03 93AA      ST	-Y,R26
    00B04 93BA      ST	-Y,R27
    00B05 93EA      ST	-Y,R30
    00B06 93FA      ST	-Y,R31
    00B07 B60F      IN	R0,0x3F
    00B08 920A      ST	-Y,R0
(0112) }
(0113) //16位定时器，定时器3溢出中断。
(0114) #pragma interrupt_handler int_timer3:30
(0115) void int_timer3(void){
(0116)       TCCR3B=0x00;
    00B09 2422      CLR	R2
    00B0A 9220 008A STS	0x8A,R2
(0117)       tempcontrol();//执行温度调节
    00B0C 940E 224B CALL	_tempcontrol
(0118) 	  TCNT3H=time_h_3;
    00B0E 9020 0D24 LDS	R2,time_h_3
    00B10 9220 0089 STS	0x89,R2
(0119)       TCNT3L=time_l_3;
    00B12 9020 0D23 LDS	R2,time_l_3
    00B14 9220 0088 STS	0x88,R2
(0120)       TCCR3B=0x05;
    00B16 E085      LDI	R24,5
    00B17 9380 008A STS	0x8A,R24
    00B19 9009      LD	R0,Y+
    00B1A BE0F      OUT	0x3F,R0
    00B1B 91F9      LD	R31,Y+
    00B1C 91E9      LD	R30,Y+
    00B1D 91B9      LD	R27,Y+
    00B1E 91A9      LD	R26,Y+
    00B1F 9199      LD	R25,Y+
    00B20 9189      LD	R24,Y+
    00B21 9139      LD	R19,Y+
    00B22 9129      LD	R18,Y+
    00B23 9119      LD	R17,Y+
    00B24 9109      LD	R16,Y+
    00B25 9099      LD	R9,Y+
    00B26 9089      LD	R8,Y+
    00B27 9079      LD	R7,Y+
    00B28 9069      LD	R6,Y+
    00B29 9059      LD	R5,Y+
    00B2A 9049      LD	R4,Y+
    00B2B 9039      LD	R3,Y+
    00B2C 9029      LD	R2,Y+
    00B2D 9019      LD	R1,Y+
    00B2E 9009      LD	R0,Y+
    00B2F 9518      RETI
_readTemp_1:
  i                    --> R20
    00B30 934A      ST	-Y,R20
    00B31 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\max6675.c
(0001) #include<iom128v.h>
(0002) #include "max6675.h"
(0003) #include "main.h"
(0004) #include "delay.h"
(0005) #define sck_h_1 PORTE|=(1<<PE3) 
(0006) #define sck_l_1 PORTE&=~(1<<PE3) 
(0007) #define cs_h_1 PORTE|=1<<PE4 
(0008) #define cs_l_1 PORTE&=~(1<<PE4) 
(0009) 
(0010) #define sck_h_2 PORTE|=(1<<PE6) 
(0011) #define sck_l_2 PORTE&=~(1<<PE6) 
(0012) #define cs_h_2 PORTE|=1<<PE7 
(0013) #define cs_l_2 PORTE&=~(1<<PE7) 
(0014) 
(0015) #define sck_h_3 PORTF|=(1<<PF1) 
(0016) #define sck_l_3 PORTF&=~(1<<PF1) 
(0017) #define cs_h_3 PORTF|=1<<PF2 
(0018) #define cs_l_3 PORTF&=~(1<<PF2) 
(0019) 
(0020) #define sck_h_4 PORTF|=(1<<PF4) 
(0021) #define sck_l_4 PORTF&=~(1<<PF4) 
(0022) #define cs_h_4 PORTF|=1<<PF5 
(0023) #define cs_l_4 PORTF&=~(1<<PF5) 
(0024) void readTemp_1(void){
(0025) 	   uint i;
(0026) 	   sck_h_1;
    00B32 9A1B      SBI	0x03,3
(0027) 	   cs_h_1;
    00B33 9A1C      SBI	0x03,4
(0028) 	   delay_us(1);
    00B34 E001      LDI	R16,1
    00B35 E010      LDI	R17,0
    00B36 940E 0424 CALL	_delay_us
(0029) 	   cs_l_1;
    00B38 981C      CBI	0x03,4
(0030) 	   delay_us(1);
    00B39 E001      LDI	R16,1
    00B3A E010      LDI	R17,0
    00B3B 940E 0424 CALL	_delay_us
(0031) 	   sck_l_1;
    00B3D 981B      CBI	0x03,3
(0032) 	   delay_us(1);
    00B3E E001      LDI	R16,1
    00B3F E010      LDI	R17,0
    00B40 940E 0424 CALL	_delay_us
(0033) 	   sck_h_1;
    00B42 9A1B      SBI	0x03,3
(0034) 	  for(i=0;i<8;i++){
    00B43 2744      CLR	R20
    00B44 2755      CLR	R21
    00B45 C024      RJMP	0x0B6A
(0035) 			sck_l_1;
    00B46 981B      CBI	0x03,3
(0036) 			delay_us(1);
    00B47 E001      LDI	R16,1
    00B48 E010      LDI	R17,0
    00B49 940E 0424 CALL	_delay_us
(0037) 			temp_h=temp_h<<1;
    00B4B 9020 0112 LDS	R2,temp_h
    00B4D 9030 0113 LDS	R3,temp_h+1
    00B4F 0C22      LSL	R2
    00B50 1C33      ROL	R3
    00B51 9230 0113 STS	temp_h+1,R3
    00B53 9220 0112 STS	temp_h,R2
(0038) 	    	temp_h=temp_h|((PINE&0x04)>>2);
    00B55 B181      IN	R24,0x01
    00B56 2799      CLR	R25
    00B57 7084      ANDI	R24,4
    00B58 7090      ANDI	R25,0
    00B59 9595      ASR	R25
    00B5A 9587      ROR	R24
    00B5B 9595      ASR	R25
    00B5C 9587      ROR	R24
    00B5D 2A28      OR	R2,R24
    00B5E 2A39      OR	R3,R25
    00B5F 9230 0113 STS	temp_h+1,R3
    00B61 9220 0112 STS	temp_h,R2
(0039) 			sck_h_1;
    00B63 9A1B      SBI	0x03,3
(0040) 			delay_us(1);
    00B64 E001      LDI	R16,1
    00B65 E010      LDI	R17,0
    00B66 940E 0424 CALL	_delay_us
    00B68 5F4F      SUBI	R20,0xFF
    00B69 4F5F      SBCI	R21,0xFF
    00B6A 3048      CPI	R20,0x8
    00B6B E0E0      LDI	R30,0
    00B6C 075E      CPC	R21,R30
    00B6D F2C0      BCS	0x0B46
(0041) 			
(0042) 	   }
(0043) 	   for(i=0;i<8;i++){
    00B6E 2744      CLR	R20
    00B6F 2755      CLR	R21
    00B70 C024      RJMP	0x0B95
(0044) 			sck_l_1;
    00B71 981B      CBI	0x03,3
(0045) 			delay_us(1);
    00B72 E001      LDI	R16,1
    00B73 E010      LDI	R17,0
    00B74 940E 0424 CALL	_delay_us
(0046) 			temp_l<<=1;
    00B76 9020 0114 LDS	R2,temp_l
    00B78 9030 0115 LDS	R3,temp_l+1
    00B7A 0C22      LSL	R2
    00B7B 1C33      ROL	R3
    00B7C 9230 0115 STS	temp_l+1,R3
    00B7E 9220 0114 STS	temp_l,R2
(0047) 	    	temp_l=temp_l|((PINE&0x04)>>2);
    00B80 B181      IN	R24,0x01
    00B81 2799      CLR	R25
    00B82 7084      ANDI	R24,4
    00B83 7090      ANDI	R25,0
    00B84 9595      ASR	R25
    00B85 9587      ROR	R24
    00B86 9595      ASR	R25
    00B87 9587      ROR	R24
    00B88 2A28      OR	R2,R24
    00B89 2A39      OR	R3,R25
    00B8A 9230 0115 STS	temp_l+1,R3
    00B8C 9220 0114 STS	temp_l,R2
(0048) 			sck_h_1;
    00B8E 9A1B      SBI	0x03,3
(0049) 			delay_us(1);
    00B8F E001      LDI	R16,1
    00B90 E010      LDI	R17,0
    00B91 940E 0424 CALL	_delay_us
    00B93 5F4F      SUBI	R20,0xFF
    00B94 4F5F      SBCI	R21,0xFF
    00B95 3048      CPI	R20,0x8
    00B96 E0E0      LDI	R30,0
    00B97 075E      CPC	R21,R30
    00B98 F2C0      BCS	0x0B71
(0050) 	   }
(0051) 	    cs_h_1;
    00B99 9A1C      SBI	0x03,4
(0052) 	   delay_us(10);
    00B9A E00A      LDI	R16,0xA
    00B9B E010      LDI	R17,0
    00B9C 940E 0424 CALL	_delay_us
(0053) 	  // temp_l=0x55;
(0054) 	   return ;
    00B9E 9159      LD	R21,Y+
    00B9F 9149      LD	R20,Y+
    00BA0 9508      RET
_readTemp_2:
  i                    --> R20
    00BA1 934A      ST	-Y,R20
    00BA2 935A      ST	-Y,R21
(0055) }
(0056) void readTemp_2(void){
(0057) 	   uint i;
(0058) 	   sck_h_2;
    00BA3 9A1E      SBI	0x03,6
(0059) 	   cs_h_2;
    00BA4 9A1F      SBI	0x03,7
(0060) 	   delay_us(1);
    00BA5 E001      LDI	R16,1
    00BA6 E010      LDI	R17,0
    00BA7 940E 0424 CALL	_delay_us
(0061) 	   cs_l_2;
    00BA9 981F      CBI	0x03,7
(0062) 	   delay_us(1);
    00BAA E001      LDI	R16,1
    00BAB E010      LDI	R17,0
    00BAC 940E 0424 CALL	_delay_us
(0063) 	   sck_l_2;
    00BAE 981E      CBI	0x03,6
(0064) 	   delay_us(1);
    00BAF E001      LDI	R16,1
    00BB0 E010      LDI	R17,0
    00BB1 940E 0424 CALL	_delay_us
(0065) 	   sck_h_2;
    00BB3 9A1E      SBI	0x03,6
(0066) 	  for(i=0;i<8;i++){
    00BB4 2744      CLR	R20
    00BB5 2755      CLR	R21
    00BB6 C028      RJMP	0x0BDF
(0067) 			sck_l_2;
    00BB7 981E      CBI	0x03,6
(0068) 			delay_us(1);
    00BB8 E001      LDI	R16,1
    00BB9 E010      LDI	R17,0
    00BBA 940E 0424 CALL	_delay_us
(0069) 			temp_h=temp_h<<1;
    00BBC 9020 0112 LDS	R2,temp_h
    00BBE 9030 0113 LDS	R3,temp_h+1
    00BC0 0C22      LSL	R2
    00BC1 1C33      ROL	R3
    00BC2 9230 0113 STS	temp_h+1,R3
    00BC4 9220 0112 STS	temp_h,R2
(0070) 	    	temp_h=temp_h|((PINE&0x20)>>5);
    00BC6 E025      LDI	R18,5
    00BC7 E030      LDI	R19,0
    00BC8 B101      IN	R16,0x01
    00BC9 2711      CLR	R17
    00BCA 7200      ANDI	R16,0x20
    00BCB 7010      ANDI	R17,0
    00BCC 940E 2898 CALL	asr16
    00BCE 9020 0112 LDS	R2,temp_h
    00BD0 9030 0113 LDS	R3,temp_h+1
    00BD2 2A20      OR	R2,R16
    00BD3 2A31      OR	R3,R17
    00BD4 9230 0113 STS	temp_h+1,R3
    00BD6 9220 0112 STS	temp_h,R2
(0071) 			sck_h_2;
    00BD8 9A1E      SBI	0x03,6
(0072) 			delay_us(1);
    00BD9 E001      LDI	R16,1
    00BDA E010      LDI	R17,0
    00BDB 940E 0424 CALL	_delay_us
    00BDD 5F4F      SUBI	R20,0xFF
    00BDE 4F5F      SBCI	R21,0xFF
    00BDF 3048      CPI	R20,0x8
    00BE0 E0E0      LDI	R30,0
    00BE1 075E      CPC	R21,R30
    00BE2 F2A0      BCS	0x0BB7
(0073) 			
(0074) 	   }
(0075) 	   for(i=0;i<8;i++){
    00BE3 2744      CLR	R20
    00BE4 2755      CLR	R21
    00BE5 C028      RJMP	0x0C0E
(0076) 			sck_l_2;
    00BE6 981E      CBI	0x03,6
(0077) 			delay_us(1);
    00BE7 E001      LDI	R16,1
    00BE8 E010      LDI	R17,0
    00BE9 940E 0424 CALL	_delay_us
(0078) 			temp_l<<=1;
    00BEB 9020 0114 LDS	R2,temp_l
    00BED 9030 0115 LDS	R3,temp_l+1
    00BEF 0C22      LSL	R2
    00BF0 1C33      ROL	R3
    00BF1 9230 0115 STS	temp_l+1,R3
    00BF3 9220 0114 STS	temp_l,R2
(0079) 	    	temp_l=temp_l|((PINE&0x20)>>5);
    00BF5 E025      LDI	R18,5
    00BF6 E030      LDI	R19,0
    00BF7 B101      IN	R16,0x01
    00BF8 2711      CLR	R17
    00BF9 7200      ANDI	R16,0x20
    00BFA 7010      ANDI	R17,0
    00BFB 940E 2898 CALL	asr16
    00BFD 9020 0114 LDS	R2,temp_l
    00BFF 9030 0115 LDS	R3,temp_l+1
    00C01 2A20      OR	R2,R16
    00C02 2A31      OR	R3,R17
    00C03 9230 0115 STS	temp_l+1,R3
    00C05 9220 0114 STS	temp_l,R2
(0080) 			sck_h_2;
    00C07 9A1E      SBI	0x03,6
(0081) 			delay_us(1);
    00C08 E001      LDI	R16,1
    00C09 E010      LDI	R17,0
    00C0A 940E 0424 CALL	_delay_us
    00C0C 5F4F      SUBI	R20,0xFF
    00C0D 4F5F      SBCI	R21,0xFF
    00C0E 3048      CPI	R20,0x8
    00C0F E0E0      LDI	R30,0
    00C10 075E      CPC	R21,R30
    00C11 F2A0      BCS	0x0BE6
(0082) 	   }
(0083) 	    cs_h_2;
    00C12 9A1F      SBI	0x03,7
(0084) 	   delay_us(10);
    00C13 E00A      LDI	R16,0xA
    00C14 E010      LDI	R17,0
    00C15 940E 0424 CALL	_delay_us
(0085) 	  // temp_l=0x55;
(0086) 	   return ;
    00C17 9159      LD	R21,Y+
    00C18 9149      LD	R20,Y+
    00C19 9508      RET
_readTemp_3:
  i                    --> R20
    00C1A 934A      ST	-Y,R20
    00C1B 935A      ST	-Y,R21
(0087) }
(0088) void readTemp_3(void){
(0089) 	   uint i;
(0090) 	   sck_h_3;
    00C1C 9180 0062 LDS	R24,0x62
    00C1E 6082      ORI	R24,2
    00C1F 9380 0062 STS	0x62,R24
(0091) 	   cs_h_3;
    00C21 9180 0062 LDS	R24,0x62
    00C23 6084      ORI	R24,4
    00C24 9380 0062 STS	0x62,R24
(0092) 	   delay_us(1);
    00C26 E001      LDI	R16,1
    00C27 E010      LDI	R17,0
    00C28 940E 0424 CALL	_delay_us
(0093) 	   cs_l_3;
    00C2A 9180 0062 LDS	R24,0x62
    00C2C 7F8B      ANDI	R24,0xFB
    00C2D 9380 0062 STS	0x62,R24
(0094) 	   delay_us(1);
    00C2F E001      LDI	R16,1
    00C30 E010      LDI	R17,0
    00C31 940E 0424 CALL	_delay_us
(0095) 	   sck_l_3;
    00C33 9180 0062 LDS	R24,0x62
    00C35 7F8D      ANDI	R24,0xFD
    00C36 9380 0062 STS	0x62,R24
(0096) 	   delay_us(1);
    00C38 E001      LDI	R16,1
    00C39 E010      LDI	R17,0
    00C3A 940E 0424 CALL	_delay_us
(0097) 	   sck_h_3;
    00C3C 9180 0062 LDS	R24,0x62
    00C3E 6082      ORI	R24,2
    00C3F 9380 0062 STS	0x62,R24
(0098) 	  for(i=0;i<8;i++){
    00C41 2744      CLR	R20
    00C42 2755      CLR	R21
    00C43 C028      RJMP	0x0C6C
(0099) 			sck_l_3;
    00C44 9180 0062 LDS	R24,0x62
    00C46 7F8D      ANDI	R24,0xFD
    00C47 9380 0062 STS	0x62,R24
(0100) 			delay_us(1);
    00C49 E001      LDI	R16,1
    00C4A E010      LDI	R17,0
    00C4B 940E 0424 CALL	_delay_us
(0101) 			temp_h=temp_h<<1;
    00C4D 9020 0112 LDS	R2,temp_h
    00C4F 9030 0113 LDS	R3,temp_h+1
    00C51 0C22      LSL	R2
    00C52 1C33      ROL	R3
    00C53 9230 0113 STS	temp_h+1,R3
    00C55 9220 0112 STS	temp_h,R2
(0102) 	    	temp_h=temp_h|(PINF&0x01);
    00C57 B180      IN	R24,0x00
    00C58 2799      CLR	R25
    00C59 7081      ANDI	R24,1
    00C5A 7090      ANDI	R25,0
    00C5B 2A28      OR	R2,R24
    00C5C 2A39      OR	R3,R25
    00C5D 9230 0113 STS	temp_h+1,R3
    00C5F 9220 0112 STS	temp_h,R2
(0103) 			sck_h_3;
    00C61 9180 0062 LDS	R24,0x62
    00C63 6082      ORI	R24,2
    00C64 9380 0062 STS	0x62,R24
(0104) 			delay_us(1);
    00C66 E001      LDI	R16,1
    00C67 E010      LDI	R17,0
    00C68 940E 0424 CALL	_delay_us
    00C6A 5F4F      SUBI	R20,0xFF
    00C6B 4F5F      SBCI	R21,0xFF
    00C6C 3048      CPI	R20,0x8
    00C6D E0E0      LDI	R30,0
    00C6E 075E      CPC	R21,R30
    00C6F F2A0      BCS	0x0C44
(0105) 			
(0106) 	   }
(0107) 	   for(i=0;i<8;i++){
    00C70 2744      CLR	R20
    00C71 2755      CLR	R21
    00C72 C028      RJMP	0x0C9B
(0108) 			sck_l_3;
    00C73 9180 0062 LDS	R24,0x62
    00C75 7F8D      ANDI	R24,0xFD
    00C76 9380 0062 STS	0x62,R24
(0109) 			delay_us(1);
    00C78 E001      LDI	R16,1
    00C79 E010      LDI	R17,0
    00C7A 940E 0424 CALL	_delay_us
(0110) 			temp_l<<=1;
    00C7C 9020 0114 LDS	R2,temp_l
    00C7E 9030 0115 LDS	R3,temp_l+1
    00C80 0C22      LSL	R2
    00C81 1C33      ROL	R3
    00C82 9230 0115 STS	temp_l+1,R3
    00C84 9220 0114 STS	temp_l,R2
(0111) 	    	temp_l=temp_l|(PINF&0x01);
    00C86 B180      IN	R24,0x00
    00C87 2799      CLR	R25
    00C88 7081      ANDI	R24,1
    00C89 7090      ANDI	R25,0
    00C8A 2A28      OR	R2,R24
    00C8B 2A39      OR	R3,R25
    00C8C 9230 0115 STS	temp_l+1,R3
    00C8E 9220 0114 STS	temp_l,R2
(0112) 			sck_h_3;
    00C90 9180 0062 LDS	R24,0x62
    00C92 6082      ORI	R24,2
    00C93 9380 0062 STS	0x62,R24
(0113) 			delay_us(1);
    00C95 E001      LDI	R16,1
    00C96 E010      LDI	R17,0
    00C97 940E 0424 CALL	_delay_us
    00C99 5F4F      SUBI	R20,0xFF
    00C9A 4F5F      SBCI	R21,0xFF
    00C9B 3048      CPI	R20,0x8
    00C9C E0E0      LDI	R30,0
    00C9D 075E      CPC	R21,R30
    00C9E F2A0      BCS	0x0C73
(0114) 	   }
(0115) 	    cs_h_3;
    00C9F 9180 0062 LDS	R24,0x62
    00CA1 6084      ORI	R24,4
    00CA2 9380 0062 STS	0x62,R24
(0116) 	   delay_us(10);
    00CA4 E00A      LDI	R16,0xA
    00CA5 E010      LDI	R17,0
    00CA6 940E 0424 CALL	_delay_us
(0117) 	  // temp_l=0x55;
(0118) 	   return ;
    00CA8 9159      LD	R21,Y+
    00CA9 9149      LD	R20,Y+
    00CAA 9508      RET
_readTemp_4:
  i                    --> R20
    00CAB 934A      ST	-Y,R20
    00CAC 935A      ST	-Y,R21
(0119) }
(0120) void readTemp_4(void){
(0121) 	  uint i;
(0122) 	   sck_h_4;
    00CAD 9180 0062 LDS	R24,0x62
    00CAF 6180      ORI	R24,0x10
    00CB0 9380 0062 STS	0x62,R24
(0123) 	   cs_h_4;
    00CB2 9180 0062 LDS	R24,0x62
    00CB4 6280      ORI	R24,0x20
    00CB5 9380 0062 STS	0x62,R24
(0124) 	   delay_us(1);
    00CB7 E001      LDI	R16,1
    00CB8 E010      LDI	R17,0
    00CB9 940E 0424 CALL	_delay_us
(0125) 	   cs_l_4;
    00CBB 9180 0062 LDS	R24,0x62
    00CBD 7D8F      ANDI	R24,0xDF
    00CBE 9380 0062 STS	0x62,R24
(0126) 	   delay_us(1);
    00CC0 E001      LDI	R16,1
    00CC1 E010      LDI	R17,0
    00CC2 940E 0424 CALL	_delay_us
(0127) 	   sck_l_4;
    00CC4 9180 0062 LDS	R24,0x62
    00CC6 7E8F      ANDI	R24,0xEF
    00CC7 9380 0062 STS	0x62,R24
(0128) 	   delay_us(1);
    00CC9 E001      LDI	R16,1
    00CCA E010      LDI	R17,0
    00CCB 940E 0424 CALL	_delay_us
(0129) 	   sck_h_4;
    00CCD 9180 0062 LDS	R24,0x62
    00CCF 6180      ORI	R24,0x10
    00CD0 9380 0062 STS	0x62,R24
(0130) 	  for(i=0;i<8;i++){
    00CD2 2744      CLR	R20
    00CD3 2755      CLR	R21
    00CD4 C033      RJMP	0x0D08
(0131) 			sck_l_4;
    00CD5 9180 0062 LDS	R24,0x62
    00CD7 7E8F      ANDI	R24,0xEF
    00CD8 9380 0062 STS	0x62,R24
(0132) 			delay_us(1);
    00CDA E001      LDI	R16,1
    00CDB E010      LDI	R17,0
    00CDC 940E 0424 CALL	_delay_us
(0133) 			temp_h=temp_h<<1;
    00CDE 9020 0112 LDS	R2,temp_h
    00CE0 9030 0113 LDS	R3,temp_h+1
    00CE2 0C22      LSL	R2
    00CE3 1C33      ROL	R3
    00CE4 9230 0113 STS	temp_h+1,R3
    00CE6 9220 0112 STS	temp_h,R2
(0134) 	    	temp_h=temp_h|((PINE&0x08)>>3);
    00CE8 B181      IN	R24,0x01
    00CE9 2799      CLR	R25
    00CEA 7088      ANDI	R24,0x8
    00CEB 7090      ANDI	R25,0
    00CEC 011C      MOVW	R2,R24
    00CED 9435      ASR	R3
    00CEE 9427      ROR	R2
    00CEF 9435      ASR	R3
    00CF0 9427      ROR	R2
    00CF1 9435      ASR	R3
    00CF2 9427      ROR	R2
    00CF3 9040 0112 LDS	R4,temp_h
    00CF5 9050 0113 LDS	R5,temp_h+1
    00CF7 2842      OR	R4,R2
    00CF8 2853      OR	R5,R3
    00CF9 9250 0113 STS	temp_h+1,R5
    00CFB 9240 0112 STS	temp_h,R4
(0135) 			sck_h_4;
    00CFD 9180 0062 LDS	R24,0x62
    00CFF 6180      ORI	R24,0x10
    00D00 9380 0062 STS	0x62,R24
(0136) 			delay_us(1);
    00D02 E001      LDI	R16,1
    00D03 E010      LDI	R17,0
    00D04 940E 0424 CALL	_delay_us
    00D06 5F4F      SUBI	R20,0xFF
    00D07 4F5F      SBCI	R21,0xFF
    00D08 3048      CPI	R20,0x8
    00D09 E0E0      LDI	R30,0
    00D0A 075E      CPC	R21,R30
    00D0B F248      BCS	0x0CD5
(0137) 			
(0138) 	   }
(0139) 	   for(i=0;i<8;i++){
    00D0C 2744      CLR	R20
    00D0D 2755      CLR	R21
    00D0E C033      RJMP	0x0D42
(0140) 			sck_l_4;
    00D0F 9180 0062 LDS	R24,0x62
    00D11 7E8F      ANDI	R24,0xEF
    00D12 9380 0062 STS	0x62,R24
(0141) 			delay_us(1);
    00D14 E001      LDI	R16,1
    00D15 E010      LDI	R17,0
    00D16 940E 0424 CALL	_delay_us
(0142) 			temp_l<<=1;
    00D18 9020 0114 LDS	R2,temp_l
    00D1A 9030 0115 LDS	R3,temp_l+1
    00D1C 0C22      LSL	R2
    00D1D 1C33      ROL	R3
    00D1E 9230 0115 STS	temp_l+1,R3
    00D20 9220 0114 STS	temp_l,R2
(0143) 	    	temp_l=temp_l|((PINE&0x08)>>3);
    00D22 B181      IN	R24,0x01
    00D23 2799      CLR	R25
    00D24 7088      ANDI	R24,0x8
    00D25 7090      ANDI	R25,0
    00D26 011C      MOVW	R2,R24
    00D27 9435      ASR	R3
    00D28 9427      ROR	R2
    00D29 9435      ASR	R3
    00D2A 9427      ROR	R2
    00D2B 9435      ASR	R3
    00D2C 9427      ROR	R2
    00D2D 9040 0114 LDS	R4,temp_l
    00D2F 9050 0115 LDS	R5,temp_l+1
    00D31 2842      OR	R4,R2
    00D32 2853      OR	R5,R3
    00D33 9250 0115 STS	temp_l+1,R5
    00D35 9240 0114 STS	temp_l,R4
(0144) 			sck_h_4;
    00D37 9180 0062 LDS	R24,0x62
    00D39 6180      ORI	R24,0x10
    00D3A 9380 0062 STS	0x62,R24
(0145) 			delay_us(1);
    00D3C E001      LDI	R16,1
    00D3D E010      LDI	R17,0
    00D3E 940E 0424 CALL	_delay_us
    00D40 5F4F      SUBI	R20,0xFF
    00D41 4F5F      SBCI	R21,0xFF
    00D42 3048      CPI	R20,0x8
    00D43 E0E0      LDI	R30,0
    00D44 075E      CPC	R21,R30
    00D45 F248      BCS	0x0D0F
(0146) 	   }
(0147) 	    cs_h_4;
    00D46 9180 0062 LDS	R24,0x62
    00D48 6280      ORI	R24,0x20
    00D49 9380 0062 STS	0x62,R24
(0148) 	   delay_us(10);
    00D4B E00A      LDI	R16,0xA
    00D4C E010      LDI	R17,0
    00D4D 940E 0424 CALL	_delay_us
(0149) 	  // temp_l=0x55;
(0150) 	   return ;
    00D4F 9159      LD	R21,Y+
    00D50 9149      LD	R20,Y+
    00D51 9508      RET
_readTemp:
  n                    --> R20
    00D52 934A      ST	-Y,R20
    00D53 935A      ST	-Y,R21
    00D54 01A8      MOVW	R20,R16
(0151) }
(0152) //传入的int：0、1、2、3对应温度的读取
(0153) void readTemp(uint n){
(0154)   DDRE=0xDA;
    00D55 ED8A      LDI	R24,0xDA
    00D56 B982      OUT	0x02,R24
(0155)   DDRF=0xF6;
    00D57 EF86      LDI	R24,0xF6
    00D58 9380 0061 STS	0x61,R24
(0156)   PORTE |=0xFC;
    00D5A B183      IN	R24,0x03
    00D5B 6F8C      ORI	R24,0xFC
    00D5C B983      OUT	0x03,R24
(0157)   PORTF |= 0xFF;
    00D5D 9180 0062 LDS	R24,0x62
    00D5F 6F8F      ORI	R24,0xFF
    00D60 9380 0062 STS	0x62,R24
(0158)    switch(n){
    00D62 3040      CPI	R20,0
    00D63 0745      CPC	R20,R21
    00D64 F069      BEQ	0x0D72
    00D65 3041      CPI	R20,1
    00D66 E0E0      LDI	R30,0
    00D67 075E      CPC	R21,R30
    00D68 F059      BEQ	0x0D74
    00D69 3042      CPI	R20,2
    00D6A E0E0      LDI	R30,0
    00D6B 075E      CPC	R21,R30
    00D6C F049      BEQ	0x0D76
    00D6D 3043      CPI	R20,3
    00D6E E0E0      LDI	R30,0
    00D6F 075E      CPC	R21,R30
    00D70 F039      BEQ	0x0D78
    00D71 C007      RJMP	0x0D79
(0159)     case 0:
(0160) 	  readTemp_1();
    00D72 DDBD      RCALL	_readTemp_1
(0161) 	  break;
    00D73 C005      RJMP	0x0D79
(0162) 	case 1:
(0163) 	  readTemp_2();
    00D74 DE2C      RCALL	_readTemp_2
(0164) 	  break;
    00D75 C003      RJMP	0x0D79
(0165) 	case 2:
(0166) 	  readTemp_3();
    00D76 DEA3      RCALL	_readTemp_3
(0167) 	  break;
    00D77 C001      RJMP	0x0D79
(0168) 	case 3:
(0169) 	  readTemp_4();
    00D78 DF32      RCALL	_readTemp_4
(0170) 	  break;
    00D79 9159      LD	R21,Y+
    00D7A 9149      LD	R20,Y+
    00D7B 9508      RET
_out_port:
    00D7C 92AA      ST	-Y,R10
    00D7D 92BA      ST	-Y,R11
FILE: E:\ICCDemo\Temp_Control\temp_control\out.c
(0001) #include<iom128v.h>
(0002) #include "out.h"
(0003) #include "lcd.h"
(0004) #include "main.h"
(0005) //*********************
(0006) // 1秒钟50周期，控制功率是50周期输出量
(0007) //*********************
(0008) uint hz=1;//1~50表示周期
(0009) 
(0010) //0、1的传入。port由0~7
(0011) void out_port(void){
(0012)    if(hz==51){
    00D7E 9180 05FE LDS	R24,hz
    00D80 9190 05FF LDS	R25,hz+1
    00D82 3383      CPI	R24,0x33
    00D83 E0E0      LDI	R30,0
    00D84 079E      CPC	R25,R30
    00D85 F431      BNE	0x0D8C
(0013)      hz=0;
    00D86 2422      CLR	R2
    00D87 2433      CLR	R3
    00D88 9230 05FF STS	hz+1,R3
    00D8A 9220 05FE STS	hz,R2
(0014)    }
(0015)    if(temps[0].flag==1){
    00D8C 9180 0116 LDS	R24,temps
    00D8E 9190 0117 LDS	R25,temps+1
    00D90 3081      CPI	R24,1
    00D91 E0E0      LDI	R30,0
    00D92 079E      CPC	R25,R30
    00D93 F4E1      BNE	0x0DB0
(0016) 	  if(temps[0].incrementtemp>=hz){
    00D94 9040 024E LDS	R4,temps+312
    00D96 9050 024F LDS	R5,temps+313
    00D98 9020 024C LDS	R2,temps+310
    00D9A 9030 024D LDS	R3,temps+311
    00D9C 9100 05FE LDS	R16,hz
    00D9E 9110 05FF LDS	R17,hz+1
    00DA0 940E 2A65 CALL	uint2fp
    00DA2 933A      ST	-Y,R19
    00DA3 932A      ST	-Y,R18
    00DA4 931A      ST	-Y,R17
    00DA5 930A      ST	-Y,R16
    00DA6 0181      MOVW	R16,R2
    00DA7 0192      MOVW	R18,R4
    00DA8 940E 2C35 CALL	fpcmp2
    00DAA F014      BLT	0x0DAD
(0017) 	    PORTE |=0x01;
    00DAB 9A18      SBI	0x03,0
(0018) 	  }else {
    00DAC C003      RJMP	0x0DB0
(0019) 	    PORTE &=0xFE;
    00DAD B183      IN	R24,0x03
    00DAE 7F8E      ANDI	R24,0xFE
    00DAF B983      OUT	0x03,R24
(0020) 	  }
(0021)    }
(0022)     if(temps[1].flag==1){
    00DB0 9180 0250 LDS	R24,temps+314
    00DB2 9190 0251 LDS	R25,temps+315
    00DB4 3081      CPI	R24,1
    00DB5 E0E0      LDI	R30,0
    00DB6 079E      CPC	R25,R30
    00DB7 F4E1      BNE	0x0DD4
(0023) 	  if(temps[0].incrementtemp>=hz){
    00DB8 9040 024E LDS	R4,temps+312
    00DBA 9050 024F LDS	R5,temps+313
    00DBC 9020 024C LDS	R2,temps+310
    00DBE 9030 024D LDS	R3,temps+311
    00DC0 9100 05FE LDS	R16,hz
    00DC2 9110 05FF LDS	R17,hz+1
    00DC4 940E 2A65 CALL	uint2fp
    00DC6 933A      ST	-Y,R19
    00DC7 932A      ST	-Y,R18
    00DC8 931A      ST	-Y,R17
    00DC9 930A      ST	-Y,R16
    00DCA 0181      MOVW	R16,R2
    00DCB 0192      MOVW	R18,R4
    00DCC 940E 2C35 CALL	fpcmp2
    00DCE F014      BLT	0x0DD1
(0024) 	      PORTC |=0x02;
    00DCF 9AA9      SBI	0x15,1
(0025) 	    }else {
    00DD0 C003      RJMP	0x0DD4
(0026) 	      PORTC &=0xFD;
    00DD1 B385      IN	R24,0x15
    00DD2 7F8D      ANDI	R24,0xFD
    00DD3 BB85      OUT	0x15,R24
(0027) 	    }
(0028)    }
(0029)     if(temps[2].flag==1){
    00DD4 9180 038A LDS	R24,temps+628
    00DD6 9190 038B LDS	R25,temps+629
    00DD8 3081      CPI	R24,1
    00DD9 E0E0      LDI	R30,0
    00DDA 079E      CPC	R25,R30
    00DDB F4E1      BNE	0x0DF8
(0030) 	  if(temps[0].incrementtemp>=hz){
    00DDC 9040 024E LDS	R4,temps+312
    00DDE 9050 024F LDS	R5,temps+313
    00DE0 9020 024C LDS	R2,temps+310
    00DE2 9030 024D LDS	R3,temps+311
    00DE4 9100 05FE LDS	R16,hz
    00DE6 9110 05FF LDS	R17,hz+1
    00DE8 940E 2A65 CALL	uint2fp
    00DEA 933A      ST	-Y,R19
    00DEB 932A      ST	-Y,R18
    00DEC 931A      ST	-Y,R17
    00DED 930A      ST	-Y,R16
    00DEE 0181      MOVW	R16,R2
    00DEF 0192      MOVW	R18,R4
    00DF0 940E 2C35 CALL	fpcmp2
    00DF2 F014      BLT	0x0DF5
(0031) 	      PORTC |=0x04;
    00DF3 9AAA      SBI	0x15,2
(0032) 	    }else {
    00DF4 C003      RJMP	0x0DF8
(0033) 	      PORTC &=0xFB;
    00DF5 B385      IN	R24,0x15
    00DF6 7F8B      ANDI	R24,0xFB
    00DF7 BB85      OUT	0x15,R24
(0034) 	    }
(0035)    }
(0036)     if(temps[3].flag==1){
    00DF8 9180 04C4 LDS	R24,temps+942
    00DFA 9190 04C5 LDS	R25,temps+943
    00DFC 3081      CPI	R24,1
    00DFD E0E0      LDI	R30,0
    00DFE 079E      CPC	R25,R30
    00DFF F4E1      BNE	0x0E1C
(0037) 	  if(temps[0].incrementtemp>=hz){
    00E00 9040 024E LDS	R4,temps+312
    00E02 9050 024F LDS	R5,temps+313
    00E04 9020 024C LDS	R2,temps+310
    00E06 9030 024D LDS	R3,temps+311
    00E08 9100 05FE LDS	R16,hz
    00E0A 9110 05FF LDS	R17,hz+1
    00E0C 940E 2A65 CALL	uint2fp
    00E0E 933A      ST	-Y,R19
    00E0F 932A      ST	-Y,R18
    00E10 931A      ST	-Y,R17
    00E11 930A      ST	-Y,R16
    00E12 0181      MOVW	R16,R2
    00E13 0192      MOVW	R18,R4
    00E14 940E 2C35 CALL	fpcmp2
    00E16 F014      BLT	0x0E19
(0038) 	      PORTC |=0x08;
    00E17 9AAB      SBI	0x15,3
(0039) 	    }else {
    00E18 C003      RJMP	0x0E1C
(0040) 	      PORTC &=0xF7;
    00E19 B385      IN	R24,0x15
    00E1A 7F87      ANDI	R24,0xF7
    00E1B BB85      OUT	0x15,R24
(0041) 	    }
(0042)    }
(0043)     hz++;
    00E1C 9180 05FE LDS	R24,hz
    00E1E 9190 05FF LDS	R25,hz+1
    00E20 9601      ADIW	R24,1
    00E21 9390 05FF STS	hz+1,R25
    00E23 9380 05FE STS	hz,R24
    00E25 90B9      LD	R11,Y+
    00E26 90A9      LD	R10,Y+
    00E27 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\uart.c
(0001) #include <iom128v.h>
(0002) #include "uart.h"
(0003) 
(0004) //常量定义
(0005) #define BAUDRATE1       115200	//波特率
(0006) //#define BAUDRATE2       9600	//波特率
(0007) #define F_CPU		7372800//晶振频率
(0008) 
(0009) //变量定义
(0010) extern unsigned char send_buf[600];
(0011) extern unsigned char receive_buf[600];
(0012) extern unsigned int send_len;
(0013) extern unsigned int receive_len;
(0014) 
(0015) unsigned char uart_timeout_flag1;
(0016) unsigned char uart_timeout_flag2;
(0017) 
(0018) //串口1对应程序
(0019) ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0020) //USART 初始化
(0021) void init_USART1(void)
(0022) {
(0023)     //USART 115200 8, n,1  PC上位机软件(超级终端等)也要设成同样的设置才能通讯
(0024)     UCSR0C = (1<<USBS0)|(3<<UCSZ00);
_init_USART1:
    00E28 E08E      LDI	R24,0xE
    00E29 9380 0095 STS	0x95,R24
(0025)     
(0026)   //异步，8位数据，无奇偶校验，一个停止位，无倍速   
(0027)     //U2X=0时的公式计算
(0028)     UBRR0L= (F_CPU/BAUDRATE1/16-1)%256;
    00E2B E083      LDI	R24,3
    00E2C B989      OUT	0x09,R24
(0029)     UBRR0H= (F_CPU/BAUDRATE1/16-1)/256;
    00E2D 2422      CLR	R2
    00E2E 9220 0090 STS	0x90,R2
(0030) 
(0031)     UCSR0A = 0x00;
    00E30 B82B      OUT	0x0B,R2
(0032) 
(0033)     //使能接收中断，使能接收，使能发送
(0034)     UCSR0B = (1<<RXEN0)|(1<<TXEN0);
    00E31 E188      LDI	R24,0x18
    00E32 B98A      OUT	0x0A,R24
    00E33 9508      RET
(0035)     
(0036) }
(0037) 
(0038) //向串口1写数
(0039) void put_c1(unsigned char c)
(0040) {
(0041) 	while( !(UCSR0A & (1<<UDRE0)) );
_put_c1:
  c                    --> R16
    00E34 9B5D      SBIS	0x0B,5
    00E35 CFFE      RJMP	_put_c1
(0042) 	UDR0=c;	
    00E36 B90C      OUT	0x0C,R16
    00E37 9508      RET
(0043) }
(0044) 
(0045) //从串口1读数
(0046) unsigned char USART_Receive1( void )
(0047) {
(0048)    unsigned int j=0;
_USART_Receive1:
  j                    --> R16
    00E38 2700      CLR	R16
    00E39 2711      CLR	R17
(0049)    uart_timeout_flag1=0; 
    00E3A 2422      CLR	R2
    00E3B 9220 0D28 STS	uart_timeout_flag1,R2
    00E3D C00B      RJMP	0x0E49
(0050)   //等待接受标志
(0051)   while ( !(UCSR0A & (1<<RXC0)) ){
(0052)     if(j==32000) //判断超时，并设置标志
    00E3E 3000      CPI	R16,0
    00E3F E7ED      LDI	R30,0x7D
    00E40 071E      CPC	R17,R30
    00E41 F429      BNE	0x0E47
(0053)     { uart_timeout_flag1=1;   
    00E42 E081      LDI	R24,1
    00E43 9380 0D28 STS	uart_timeout_flag1,R24
(0054)     return FAILURE;}
    00E45 E001      LDI	R16,1
    00E46 C005      RJMP	0x0E4C
(0055) 	else 
(0056) 		j++;
    00E47 5F0F      SUBI	R16,0xFF
    00E48 4F1F      SBCI	R17,0xFF
    00E49 9B5F      SBIS	0x0B,7
    00E4A CFF3      RJMP	0x0E3E
(0057)     ;}
(0058)   //读接收数据  
(0059)   return UDR0;
    00E4B B10C      IN	R16,0x0C
    00E4C 9508      RET
_receiveStrfromCom:
  k                    --> R20
    00E4D 92AA      ST	-Y,R10
    00E4E 934A      ST	-Y,R20
(0060) }
(0061) 
(0062) //从串口接收数据串
(0063) unsigned char receiveStrfromCom(void)
(0064) {
    00E4F C03E      RJMP	0x0E8E
(0065)   unsigned char k;
(0066) 
(0067)   while(1)
(0068)   {
(0069)     ///以下为从串口接收数据的过程
(0070)     send_buf[0]=USART_Receive1();
    00E50 DFE7      RCALL	_USART_Receive1
    00E51 9300 0ABA STS	send_buf,R16
(0071)     //若接收的不是命令头则继续等待
(0072)     if(send_buf[0]!=0x02)continue;
    00E53 3002      CPI	R16,2
    00E54 F009      BEQ	0x0E56
    00E55 C038      RJMP	0x0E8E
(0073)       
(0074)     for(k=1;k<5;k++)
    00E56 E041      LDI	R20,1
    00E57 C00F      RJMP	0x0E67
(0075)     {
(0076)         send_buf[k]=USART_Receive1(); 
    00E58 DFDF      RCALL	_USART_Receive1
    00E59 EB8A      LDI	R24,0xBA
    00E5A E09A      LDI	R25,0xA
    00E5B 2FE4      MOV	R30,R20
    00E5C 27FF      CLR	R31
    00E5D 0FE8      ADD	R30,R24
    00E5E 1FF9      ADC	R31,R25
    00E5F 8300      ST	Z,R16
(0077)         if(uart_timeout_flag1==1)
    00E60 9180 0D28 LDS	R24,uart_timeout_flag1
    00E62 3081      CPI	R24,1
    00E63 F411      BNE	0x0E66
(0078)         {  
(0079) //          ComSendResponse(send_buf[3],EXE_TIME_OUT,1);
(0080)           return FAILURE;
    00E64 E001      LDI	R16,1
    00E65 C029      RJMP	0x0E8F
    00E66 9543      INC	R20
    00E67 3045      CPI	R20,5
    00E68 F378      BCS	0x0E58
(0081)         }  
(0082)     }
(0083)     
(0084)     send_len=send_buf[4];
    00E69 9020 0ABE LDS	R2,send_buf+4
    00E6B 2433      CLR	R3
    00E6C 9230 0861 STS	send_len+1,R3
    00E6E 9220 0860 STS	send_len,R2
(0085)     
(0086)     for(k=5;k<send_len+6;k++)
    00E70 E045      LDI	R20,5
    00E71 C010      RJMP	0x0E82
(0087)     {
(0088)         send_buf[k]=USART_Receive1(); 
    00E72 DFC5      RCALL	_USART_Receive1
    00E73 2EA0      MOV	R10,R16
    00E74 EB8A      LDI	R24,0xBA
    00E75 E09A      LDI	R25,0xA
    00E76 2FE4      MOV	R30,R20
    00E77 27FF      CLR	R31
    00E78 0FE8      ADD	R30,R24
    00E79 1FF9      ADC	R31,R25
    00E7A 82A0      ST	Z,R10
(0089)         if(uart_timeout_flag1==1)
    00E7B 9180 0D28 LDS	R24,uart_timeout_flag1
    00E7D 3081      CPI	R24,1
    00E7E F411      BNE	0x0E81
(0090)         {  
(0091) //           ComSendResponse(send_buf[3],EXE_TIME_OUT,1);
(0092)            return FAILURE; 
    00E7F E001      LDI	R16,1
    00E80 C00E      RJMP	0x0E8F
    00E81 9543      INC	R20
    00E82 9180 0860 LDS	R24,send_len
    00E84 9190 0861 LDS	R25,send_len+1
    00E86 9606      ADIW	R24,6
    00E87 2E24      MOV	R2,R20
    00E88 2433      CLR	R3
    00E89 1628      CP	R2,R24
    00E8A 0639      CPC	R3,R25
    00E8B F330      BCS	0x0E72
(0093)         }  
(0094)     }  
(0095)     return SUCCESS;
    00E8C 2700      CLR	R16
    00E8D C001      RJMP	0x0E8F
    00E8E CFC1      RJMP	0x0E50
    00E8F 9149      LD	R20,Y+
    00E90 90A9      LD	R10,Y+
    00E91 9508      RET
_outStrtoCom:
  i                    --> R10
  length               --> R12
  pData                --> R14
    00E92 940E 2918 CALL	push_xgset00FC
    00E94 0169      MOVW	R12,R18
    00E95 0178      MOVW	R14,R16
(0096) 
(0097)   }  
(0098)   return FAILURE;
(0099) } 
(0100) 
(0101) //向串口输出数据串
(0102) void outStrtoCom(unsigned char *pData,unsigned int length)
(0103) {
(0104) 	unsigned char i;
(0105) 	for(i=0;i<length;i++)
    00E96 24AA      CLR	R10
    00E97 C007      RJMP	0x0E9F
(0106) 		put_c1(pData[i]);
    00E98 2DEA      MOV	R30,R10
    00E99 27FF      CLR	R31
    00E9A 0DEE      ADD	R30,R14
    00E9B 1DFF      ADC	R31,R15
    00E9C 8100      LD	R16,Z
    00E9D DF96      RCALL	_put_c1
    00E9E 94A3      INC	R10
    00E9F 2C2A      MOV	R2,R10
    00EA0 2433      CLR	R3
    00EA1 142C      CP	R2,R12
    00EA2 043D      CPC	R3,R13
    00EA3 F3A0      BCS	0x0E98
    00EA4 940C 2902 JMP	pop_xgset00FC
_MAC_CalCrc16:
  i                    --> R10
  j                    --> R22
  value_CRC            --> R20
  ucLen                --> R12
  pCrc16               --> R18
  pInput               --> R16
    00EA6 940E 294F CALL	push_xgsetF03C
    00EA8 84C8      LDD	R12,Y+8
(0107) }
(0108) /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0109) 
(0110) /*-----------------------------------------------
(0111) 函数名： 　MAC_CalCrc16
(0112) 功  能：  以字节为单位计算len个数的CRC16校验和，首字节
(0113) 		  为pInput[0].
(0114) 参  数：  pInput			为需要计算CRC的数据的指针
(0115)           pCrc16			为指向存储CRC值的数组
(0116)           ucLen				为需要计算CRC的数据长度
(0117) 返回值：　无　
(0118) 作  者：　lz
(0119) 日  期：  2008-06-18
(0120) ------------------------------------------------*/
(0121) void MAC_CalCrc16(unsigned char  *pInput, unsigned char * pCrc16, unsigned char ucLen)   
(0122) {   
(0123)     unsigned int value_CRC=0xffff;
    00EA9 EF4F      LDI	R20,0xFF
    00EAA EF5F      LDI	R21,0xFF
(0124)     unsigned char i;
(0125)     unsigned char j;
(0126) 
(0127) 	for( i=0; i<ucLen; i++ )
    00EAB 24AA      CLR	R10
    00EAC C01B      RJMP	0x0EC8
(0128) 	{	
(0129) 		value_CRC = value_CRC ^((unsigned int)pInput[i]);
    00EAD 2DEA      MOV	R30,R10
    00EAE 27FF      CLR	R31
    00EAF 0FE0      ADD	R30,R16
    00EB0 1FF1      ADC	R31,R17
    00EB1 8020      LD	R2,Z
    00EB2 2433      CLR	R3
    00EB3 2542      EOR	R20,R2
    00EB4 2553      EOR	R21,R3
(0130) 		for (j = 0; j < 8; j++)
    00EB5 2766      CLR	R22
    00EB6 C00E      RJMP	0x0EC5
(0131) 		{
(0132) 			if (value_CRC & 0x0001)
    00EB7 FF40      SBRS	R20,0
    00EB8 C009      RJMP	0x0EC2
(0133) 			{
(0134) 				value_CRC = (value_CRC >> 1) ^ 0x8408;
    00EB9 E088      LDI	R24,0x8
    00EBA E894      LDI	R25,0x84
    00EBB 011A      MOVW	R2,R20
    00EBC 9436      LSR	R3
    00EBD 9427      ROR	R2
    00EBE 2628      EOR	R2,R24
    00EBF 2639      EOR	R3,R25
    00EC0 01A1      MOVW	R20,R2
(0135) 			}
    00EC1 C002      RJMP	0x0EC4
(0136) 			else
(0137) 			{
(0138) 				value_CRC = (value_CRC >> 1);
    00EC2 9556      LSR	R21
    00EC3 9547      ROR	R20
    00EC4 9563      INC	R22
    00EC5 3068      CPI	R22,0x8
    00EC6 F380      BCS	0x0EB7
    00EC7 94A3      INC	R10
    00EC8 14AC      CP	R10,R12
    00EC9 F318      BCS	0x0EAD
(0139) 			}
(0140) 		}
(0141) 	}
(0142) 	
(0143)   	pCrc16[0] = (unsigned char)(value_CRC>>8);
    00ECA 011A      MOVW	R2,R20
    00ECB 2C23      MOV	R2,R3
    00ECC 2433      CLR	R3
    00ECD 01F9      MOVW	R30,R18
    00ECE 8220      ST	Z,R2
(0144) 	pCrc16[1] = (unsigned char)(value_CRC);
    00ECF 8341      STD	Z+1,R20
(0145) 	
(0146) 	return;
    00ED0 940C 2958 JMP	pop_xgsetF03C
_MAC_CheckCrc16:
  CrcChk               --> Y,+1
  ucLen                --> R20
  pInput               --> R10
    00ED2 940E 291F CALL	push_xgset300C
    00ED4 2F42      MOV	R20,R18
    00ED5 0158      MOVW	R10,R16
    00ED6 9723      SBIW	R28,3
(0147) }
(0148) 
(0149) 
(0150) /*-----------------------------------------------
(0151) 函数名：	MAC_CheckCrc16
(0152) 功  能：  校验一帧长度为ucLen的数据，pInput[ucLen]
(0153)           pInput[ucLen+1]是这帧数据的校验字节。
(0154) 参  数：  pInput      校验帧的首地址
(0155)           ucLen 　　　需校验的数据帧的长度 
(0156) 返回值：　0表示校验通过，1表示校验失败　
(0157) 作  者：　lz
(0158) 日  期：  2008-06-18
(0159) ------------------------------------------------*/
(0160) unsigned char MAC_CheckCrc16(unsigned char * pInput, unsigned char ucLen)
(0161) {
(0162) 	unsigned char CrcChk[2];
(0163) 
(0164) 	MAC_CalCrc16(pInput,CrcChk,ucLen-2);
    00ED7 2F84      MOV	R24,R20
    00ED8 5082      SUBI	R24,2
    00ED9 8388      ST	Y,R24
    00EDA 019E      MOVW	R18,R28
    00EDB 5F2F      SUBI	R18,0xFF
    00EDC 4F3F      SBCI	R19,0xFF
    00EDD 0185      MOVW	R16,R10
    00EDE DFC7      RCALL	_MAC_CalCrc16
(0165) 
(0166) 	if (CrcChk[0]!=pInput[ucLen-2] || CrcChk[1]!=pInput[ucLen-1])
    00EDF 2FE4      MOV	R30,R20
    00EE0 27FF      CLR	R31
    00EE1 9732      SBIW	R30,2
    00EE2 0DEA      ADD	R30,R10
    00EE3 1DFB      ADC	R31,R11
    00EE4 8020      LD	R2,Z
    00EE5 8039      LDD	R3,Y+1
    00EE6 1432      CP	R3,R2
    00EE7 F449      BNE	0x0EF1
    00EE8 2FE4      MOV	R30,R20
    00EE9 27FF      CLR	R31
    00EEA 9731      SBIW	R30,1
    00EEB 0DEA      ADD	R30,R10
    00EEC 1DFB      ADC	R31,R11
    00EED 8020      LD	R2,Z
    00EEE 803A      LDD	R3,Y+2
    00EEF 1432      CP	R3,R2
    00EF0 F011      BEQ	0x0EF3
(0167) 	{
(0168) 		return FAILURE; // crc16 fail!
    00EF1 E001      LDI	R16,1
    00EF2 C001      RJMP	0x0EF4
(0169) 	}
(0170) 	
(0171) 	return SUCCESS; // crc16 ok!
    00EF3 2700      CLR	R16
    00EF4 9623      ADIW	R28,3
    00EF5 940C 2924 JMP	pop_xgset300C
_ComSendResponse:
  crc_buf              --> Y,+1
  LenData              --> R20
  statusdata           --> R12
  CmdData              --> R10
    00EF7 940E 2941 CALL	push_xgset303C
    00EF9 2EC2      MOV	R12,R18
    00EFA 2EA0      MOV	R10,R16
    00EFB 9723      SBIW	R28,3
    00EFC 8549      LDD	R20,Y+9
(0172) }
(0173) /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0174) //发送命令响应结果
(0175) void ComSendResponse(unsigned char CmdData,unsigned char statusdata,unsigned char LenData)
(0176) {
(0177)     unsigned char crc_buf[2];
(0178)     
(0179)     receive_buf[5]= statusdata;
    00EFD 92C0 0867 STS	receive_buf+5,R12
(0180) 
(0181)     receive_buf[4]=LenData;
    00EFF 9340 0866 STS	receive_buf+4,R20
(0182) 
(0183)     receive_buf[3]=CmdData;
    00F01 92A0 0865 STS	receive_buf+3,R10
(0184)     
(0185)     receive_buf[1]=0x00;receive_buf[2]=0x01;
    00F03 2422      CLR	R2
    00F04 9220 0863 STS	receive_buf+1,R2
    00F06 E081      LDI	R24,1
    00F07 9380 0864 STS	receive_buf+2,R24
(0186) 
(0187)     receive_buf[0]=0x02;
    00F09 E082      LDI	R24,2
    00F0A 9380 0862 STS	receive_buf,R24
(0188)     
(0189)     MAC_CalCrc16(receive_buf, crc_buf,LenData+5); 
    00F0C 2F84      MOV	R24,R20
    00F0D 5F8B      SUBI	R24,0xFB
    00F0E 8388      ST	Y,R24
    00F0F 019E      MOVW	R18,R28
    00F10 5F2F      SUBI	R18,0xFF
    00F11 4F3F      SBCI	R19,0xFF
    00F12 E602      LDI	R16,0x62
    00F13 E018      LDI	R17,0x8
    00F14 DF91      RCALL	_MAC_CalCrc16
(0190)     
(0191)     receive_buf[LenData+5]=crc_buf[0];
    00F15 E687      LDI	R24,0x67
    00F16 E098      LDI	R25,0x8
    00F17 2FE4      MOV	R30,R20
    00F18 27FF      CLR	R31
    00F19 0FE8      ADD	R30,R24
    00F1A 1FF9      ADC	R31,R25
    00F1B 8029      LDD	R2,Y+1
    00F1C 8220      ST	Z,R2
(0192)     
(0193)     receive_buf[LenData+6]=crc_buf[1];//数据包尾 
    00F1D E688      LDI	R24,0x68
    00F1E E098      LDI	R25,0x8
    00F1F 2FE4      MOV	R30,R20
    00F20 27FF      CLR	R31
    00F21 0FE8      ADD	R30,R24
    00F22 1FF9      ADC	R31,R25
    00F23 802A      LDD	R2,Y+2
    00F24 8220      ST	Z,R2
(0194)     
(0195)     init_USART1(); 
    00F25 DF02      RCALL	_init_USART1
(0196)     outStrtoCom(receive_buf,LenData+7); 
    00F26 2F24      MOV	R18,R20
    00F27 2733      CLR	R19
    00F28 5F29      SUBI	R18,0xF9
    00F29 4F3F      SBCI	R19,0xFF
    00F2A E602      LDI	R16,0x62
    00F2B E018      LDI	R17,0x8
    00F2C DF65      RCALL	_outStrtoCom
(0197)    
(0198)     return;
    00F2D 9623      ADIW	R28,3
    00F2E 940C 2948 JMP	pop_xgset303C
_EEPROM_write:
  data                 --> R10
  addr_l               --> R14
  addr_h               --> R12
    00F30 940E 2918 CALL	push_xgset00FC
    00F32 0179      MOVW	R14,R18
    00F33 0168      MOVW	R12,R16
    00F34 80AE      LDD	R10,Y+6
    00F35 80BF      LDD	R11,Y+7
FILE: E:\ICCDemo\Temp_Control\temp_control\eeprom.c
(0001) #include<iom128v.h>
(0002) #include "eeprom.h"
(0003) #include "delay.h"
(0004) 
(0005) //使用全非中断方式读写。温控数据在保存时候一次性写入。状态数据执行时写入，写入量小不会影响速度
(0006) void EEPROM_write(uint addr_h,uint addr_l,uint data){
(0007)    SREG&=0x7F;//关中断
    00F36 B78F      IN	R24,0x3F
    00F37 778F      ANDI	R24,0x7F
    00F38 BF8F      OUT	0x3F,R24
(0008)     while(EECR & (1<<EEWE)){
    00F39 99E1      SBIC	0x1C,1
    00F3A CFFE      RJMP	0x0F39
(0009) 	 			 
(0010) 	 } 
(0011) 	  EEARL=addr_l;
    00F3B BAEE      OUT	0x1E,R14
(0012) 	 EEARH=addr_h;
    00F3C BACF      OUT	0x1F,R12
(0013) 	 EEDR=data;
    00F3D BAAD      OUT	0x1D,R10
(0014) 	 EECR|=(1<<EEMWE);
    00F3E 9AE2      SBI	0x1C,2
(0015) 	 EECR|=(1<<EEWE);
    00F3F 9AE1      SBI	0x1C,1
(0016) 	  delay_us(1);
    00F40 E001      LDI	R16,1
    00F41 E010      LDI	R17,0
    00F42 940E 0424 CALL	_delay_us
(0017) 	 SREG|=0x80;//开中断
    00F44 9478      BSET	7
(0018) 	 return;
    00F45 940C 2902 JMP	pop_xgset00FC
_EEPROM_read:
  data                 --> R10
  addr_l               --> R12
  addr_h               --> R10
    00F47 940E 291A CALL	push_xgset003C
    00F49 0169      MOVW	R12,R18
    00F4A 0158      MOVW	R10,R16
(0019) }
(0020) uint EEPROM_read(uint addr_h,uint addr_l){
(0021)    uint data;
(0022)    SREG&=0x7F;//关中断
    00F4B B78F      IN	R24,0x3F
    00F4C 778F      ANDI	R24,0x7F
    00F4D BF8F      OUT	0x3F,R24
(0023)     while(EECR & (1<<EEWE)){ 			 
    00F4E 99E1      SBIC	0x1C,1
    00F4F CFFE      RJMP	0x0F4E
(0024) 	 }
(0025) 	EEARL=addr_l;
    00F50 BACE      OUT	0x1E,R12
(0026) 	 EEARH=addr_h;
    00F51 BAAF      OUT	0x1F,R10
(0027) 	 
(0028) 	 EECR|=(1<<EERE);
    00F52 9AE0      SBI	0x1C,0
(0029) 	 delay_us(1);
    00F53 E001      LDI	R16,1
    00F54 E010      LDI	R17,0
    00F55 940E 0424 CALL	_delay_us
(0030) 	 data=EEDR;
    00F57 B2AD      IN	R10,0x1D
    00F58 24BB      CLR	R11
(0031) 	 SREG|=0x80;//开中断
    00F59 9478      BSET	7
(0032) 	 return data;
    00F5A 0185      MOVW	R16,R10
    00F5B 940C 28FD JMP	pop_xgset003C
_pageTime:
  y                    --> R10
    00F5D 92AA      ST	-Y,R10
    00F5E 92BA      ST	-Y,R11
    00F5F 0158      MOVW	R10,R16
    00F60 9722      SBIW	R28,2
FILE: E:\ICCDemo\Temp_Control\temp_control\pages.c
(0001) #include<iom128v.h>
(0002) #include "main.h"
(0003) #include "lcd.h"
(0004) #include "time1307.h"
(0005) #include "timertask.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "temp.h"
(0009) #include "eeprom.h"
(0010) //下面这个头文件里包含WDR();喂狗的方法
(0011) //#include <AVRdef.h>
(0012) 
(0013) //************************
(0014) // 所有界面信息在这里,用到全局变量， 
(0015) // unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0016) // unsigned int pageParam[5];//传递参数。界面间参数暂存
(0017) // unsigned int prePageNum;
(0018) //************************
(0019) 
(0020) //用于显第一行日期信息，其中Page1、Page3 、Page8使用，
(0021) //由定时器触发该函数，进入这三个界面是启动定时器，退出时关闭
(0022) void pageTime(uint y){
(0023)                 //关定时器
(0024)    lcd_write_str(0,y,"时间:");
    00F61 E585      LDI	R24,0x55
    00F62 E098      LDI	R25,0x8
    00F63 8399      STD	Y+1,R25
    00F64 8388      ST	Y,R24
    00F65 2D2A      MOV	R18,R10
    00F66 2700      CLR	R16
    00F67 940E 067F CALL	_lcd_write_str
(0025)    showTime_page(y);
    00F69 0185      MOVW	R16,R10
    00F6A 940E 27FB CALL	_showTime_page
    00F6C 9622      ADIW	R28,2
    00F6D 90B9      LD	R11,Y+
    00F6E 90A9      LD	R10,Y+
    00F6F 9508      RET
_pageTime2:
  y                    --> R10
    00F70 92AA      ST	-Y,R10
    00F71 92BA      ST	-Y,R11
    00F72 0158      MOVW	R10,R16
(0026)                  //开定时器 
(0027) }
(0028) void pageTime2(uint y){
(0029)                 //关定时器
(0030)    //lcd_write_str(0,y,"时间:");
(0031)    showTime_page(y);
    00F73 0185      MOVW	R16,R10
    00F74 940E 27FB CALL	_showTime_page
    00F76 90B9      LD	R11,Y+
    00F77 90A9      LD	R10,Y+
    00F78 9508      RET
_page1:
  cur                  --> R20
  keyV                 --> R10
  y                    --> R22
  i                    --> R10
    00F79 940E 294F CALL	push_xgsetF03C
    00F7B 9722      SBIW	R28,2
(0032)                  //开定时器 
(0033) }
(0034) //page1,首页的界面
(0035) void page1(void){
(0036)    uint cur=0;
(0037)    uchar keyV;
(0038)    uint i;//用于循环
(0039)    uint y;//确定是那个半屏幕
(0040)    prePageNum=1;//首页不会再有上一界面，这里设置。虽然违反规则
    00F7C E081      LDI	R24,1
    00F7D E090      LDI	R25,0
    00F7E 9390 0D13 STS	prePageNum+1,R25
    00F80 9380 0D12 STS	prePageNum,R24
(0041)    //初始化起始选择
(0042)     lcd_write_str(1,1," T1:");
    00F82 E580      LDI	R24,0x50
    00F83 E098      LDI	R25,0x8
    00F84 8399      STD	Y+1,R25
    00F85 8388      ST	Y,R24
    00F86 E021      LDI	R18,1
    00F87 E001      LDI	R16,1
    00F88 940E 067F CALL	_lcd_write_str
(0043)     lcd_write_str(6,1," T2:");
    00F8A E48B      LDI	R24,0x4B
    00F8B E098      LDI	R25,0x8
    00F8C 8399      STD	Y+1,R25
    00F8D 8388      ST	Y,R24
    00F8E E021      LDI	R18,1
    00F8F E006      LDI	R16,6
    00F90 940E 067F CALL	_lcd_write_str
(0044)     lcd_write_str(1,2," T3:");
    00F92 E486      LDI	R24,0x46
    00F93 E098      LDI	R25,0x8
    00F94 8399      STD	Y+1,R25
    00F95 8388      ST	Y,R24
    00F96 E022      LDI	R18,2
    00F97 E001      LDI	R16,1
    00F98 940E 067F CALL	_lcd_write_str
(0045)     lcd_write_str(6,2," T4:");
    00F9A E481      LDI	R24,0x41
    00F9B E098      LDI	R25,0x8
    00F9C 8399      STD	Y+1,R25
    00F9D 8388      ST	Y,R24
    00F9E E022      LDI	R18,2
    00F9F E006      LDI	R16,6
    00FA0 940E 067F CALL	_lcd_write_str
(0046) 
(0047) 	
(0048) 	lcd_write_str(1,3,"开始    ");
    00FA2 E388      LDI	R24,0x38
    00FA3 E098      LDI	R25,0x8
    00FA4 8399      STD	Y+1,R25
    00FA5 8388      ST	Y,R24
    00FA6 E023      LDI	R18,3
    00FA7 E001      LDI	R16,1
    00FA8 940E 067F CALL	_lcd_write_str
(0049)     lcd_write_str_con(3,"停止    ");
    00FAA E22F      LDI	R18,0x2F
    00FAB E038      LDI	R19,0x8
    00FAC E003      LDI	R16,3
    00FAD 940E 06C9 CALL	_lcd_write_str_con
(0050) 	lcd_write_str_con(3,"设置");
    00FAF E22A      LDI	R18,0x2A
    00FB0 E038      LDI	R19,0x8
    00FB1 E003      LDI	R16,3
    00FB2 940E 06C9 CALL	_lcd_write_str_con
(0051) 	lcd_write_str(1,3,"开始    ");
    00FB4 E388      LDI	R24,0x38
    00FB5 E098      LDI	R25,0x8
    00FB6 8399      STD	Y+1,R25
    00FB7 8388      ST	Y,R24
    00FB8 E023      LDI	R18,3
    00FB9 E001      LDI	R16,1
    00FBA 940E 067F CALL	_lcd_write_str
(0052)     lcd_write_str_con(3,"停止    ");
    00FBC E22F      LDI	R18,0x2F
    00FBD E038      LDI	R19,0x8
    00FBE E003      LDI	R16,3
    00FBF 940E 06C9 CALL	_lcd_write_str_con
(0053) 	lcd_write_str_con(3,"设置"); 
    00FC1 E22A      LDI	R18,0x2A
    00FC2 E038      LDI	R19,0x8
    00FC3 E003      LDI	R16,3
    00FC4 940E 06C9 CALL	_lcd_write_str_con
(0054) 	cur=0;
    00FC6 2744      CLR	R20
    00FC7 2755      CLR	R21
(0055) 	Set_White(2,1,3);
    00FC8 E083      LDI	R24,3
    00FC9 8388      ST	Y,R24
    00FCA E021      LDI	R18,1
    00FCB E002      LDI	R16,2
    00FCC 940E 08A4 CALL	_Set_White
    00FCE C37E      RJMP	0x134D
(0056) 	while(1){
(0057) 	 pageTime(0);
    00FCF 2700      CLR	R16
    00FD0 2711      CLR	R17
    00FD1 DF8B      RCALL	_pageTime
(0058) 	for(i=0;i<4;i++){
    00FD2 24AA      CLR	R10
    00FD3 24BB      CLR	R11
    00FD4 C0DF      RJMP	0x10B4
(0059) 	  if(i==0){
    00FD5 20AA      TST	R10
    00FD6 F449      BNE	0x0FE0
    00FD7 20BB      TST	R11
    00FD8 F439      BNE	0x0FE0
(0060) 	    y=1;
    00FD9 E061      LDI	R22,1
    00FDA E070      LDI	R23,0
(0061) 	    lcd_write_pos(3,1);
    00FDB E021      LDI	R18,1
    00FDC E003      LDI	R16,3
    00FDD 940E 063B CALL	_lcd_write_pos
(0062) 	  }else if(i==1){
    00FDF C023      RJMP	0x1003
    00FE0 01C5      MOVW	R24,R10
    00FE1 3081      CPI	R24,1
    00FE2 E0E0      LDI	R30,0
    00FE3 079E      CPC	R25,R30
    00FE4 F439      BNE	0x0FEC
(0063) 	    y=1;
    00FE5 E061      LDI	R22,1
    00FE6 E070      LDI	R23,0
(0064) 	    lcd_write_pos(8,1);
    00FE7 E021      LDI	R18,1
    00FE8 E008      LDI	R16,0x8
    00FE9 940E 063B CALL	_lcd_write_pos
(0065) 	  }else if(i==2){
    00FEB C017      RJMP	0x1003
    00FEC 01C5      MOVW	R24,R10
    00FED 3082      CPI	R24,2
    00FEE E0E0      LDI	R30,0
    00FEF 079E      CPC	R25,R30
    00FF0 F439      BNE	0x0FF8
(0066) 	    y=2;
    00FF1 E062      LDI	R22,2
    00FF2 E070      LDI	R23,0
(0067) 	    lcd_write_pos(3,2);
    00FF3 E022      LDI	R18,2
    00FF4 E003      LDI	R16,3
    00FF5 940E 063B CALL	_lcd_write_pos
(0068) 	  }else if(i==3){
    00FF7 C00B      RJMP	0x1003
    00FF8 01C5      MOVW	R24,R10
    00FF9 3083      CPI	R24,3
    00FFA E0E0      LDI	R30,0
    00FFB 079E      CPC	R25,R30
    00FFC F431      BNE	0x1003
(0069) 	    y=2;
    00FFD E062      LDI	R22,2
    00FFE E070      LDI	R23,0
(0070) 	    lcd_write_pos(8,2);
    00FFF E022      LDI	R18,2
    01000 E008      LDI	R16,0x8
    01001 940E 063B CALL	_lcd_write_pos
(0071) 	  }
(0072) 	   switch(temps[i].flag){
    01003 E30A      LDI	R16,0x3A
    01004 E011      LDI	R17,1
    01005 0195      MOVW	R18,R10
    01006 940E 28ED CALL	empy16s
    01008 E186      LDI	R24,0x16
    01009 E091      LDI	R25,1
    0100A 01F8      MOVW	R30,R16
    0100B 0FE8      ADD	R30,R24
    0100C 1FF9      ADC	R31,R25
    0100D 80C0      LD	R12,Z
    0100E 80D1      LDD	R13,Z+1
    0100F 20CC      TST	R12
    01010 F411      BNE	0x1013
    01011 20DD      TST	R13
    01012 F0F9      BEQ	0x1032
    01013 01C6      MOVW	R24,R12
    01014 3081      CPI	R24,1
    01015 E0E0      LDI	R30,0
    01016 079E      CPC	R25,R30
    01017 F101      BEQ	0x1038
    01018 3082      CPI	R24,2
    01019 E0E0      LDI	R30,0
    0101A 079E      CPC	R25,R30
    0101B F409      BNE	0x101D
    0101C C077      RJMP	0x1094
    0101D 3083      CPI	R24,3
    0101E E0E0      LDI	R30,0
    0101F 079E      CPC	R25,R30
    01020 F409      BNE	0x1022
    01021 C078      RJMP	0x109A
    01022 3084      CPI	R24,4
    01023 E0E0      LDI	R30,0
    01024 079E      CPC	R25,R30
    01025 F409      BNE	0x1027
    01026 C079      RJMP	0x10A0
    01027 3085      CPI	R24,5
    01028 E0E0      LDI	R30,0
    01029 079E      CPC	R25,R30
    0102A F409      BNE	0x102C
    0102B C07A      RJMP	0x10A6
    0102C 3086      CPI	R24,6
    0102D E0E0      LDI	R30,0
    0102E 079E      CPC	R25,R30
    0102F F409      BNE	0x1031
    01030 C07B      RJMP	0x10AC
    01031 C07F      RJMP	0x10B1
(0073) 	     case 0:
(0074) 		   lcd_write_str_con(y,"停止");
    01032 E225      LDI	R18,0x25
    01033 E038      LDI	R19,0x8
    01034 2F06      MOV	R16,R22
    01035 940E 06C9 CALL	_lcd_write_str_con
(0075) 		   break;
    01037 C079      RJMP	0x10B1
(0076) 		 case 1:
(0077) 		   lcd_write_char_con(y,0x30 | (int)temps[i].actualtemp/100);
    01038 E30A      LDI	R16,0x3A
    01039 E011      LDI	R17,1
    0103A 0195      MOVW	R18,R10
    0103B 940E 28ED CALL	empy16s
    0103D E380      LDI	R24,0x30
    0103E E092      LDI	R25,2
    0103F 01F8      MOVW	R30,R16
    01040 0FE8      ADD	R30,R24
    01041 1FF9      ADC	R31,R25
    01042 8100      LD	R16,Z
    01043 8111      LDD	R17,Z+1
    01044 8122      LDD	R18,Z+2
    01045 8133      LDD	R19,Z+3
    01046 940E 2A33 CALL	fpint
    01048 E624      LDI	R18,0x64
    01049 E030      LDI	R19,0
    0104A 940E 28A3 CALL	div16s
    0104C 0198      MOVW	R18,R16
    0104D 6320      ORI	R18,0x30
    0104E 2F06      MOV	R16,R22
    0104F 940E 0627 CALL	_lcd_write_char_con
(0078) 		   lcd_write_char_con(y,0x30 | ((int)temps[i].actualtemp/10)%10);
    01051 E30A      LDI	R16,0x3A
    01052 E011      LDI	R17,1
    01053 0195      MOVW	R18,R10
    01054 940E 28ED CALL	empy16s
    01056 E380      LDI	R24,0x30
    01057 E092      LDI	R25,2
    01058 01F8      MOVW	R30,R16
    01059 0FE8      ADD	R30,R24
    0105A 1FF9      ADC	R31,R25
    0105B 8100      LD	R16,Z
    0105C 8111      LDD	R17,Z+1
    0105D 8122      LDD	R18,Z+2
    0105E 8133      LDD	R19,Z+3
    0105F 940E 2A33 CALL	fpint
    01061 E02A      LDI	R18,0xA
    01062 E030      LDI	R19,0
    01063 940E 28A3 CALL	div16s
    01065 E02A      LDI	R18,0xA
    01066 E030      LDI	R19,0
    01067 940E 289F CALL	mod16s
    01069 0198      MOVW	R18,R16
    0106A 6320      ORI	R18,0x30
    0106B 2F06      MOV	R16,R22
    0106C 940E 0627 CALL	_lcd_write_char_con
(0079) 		   lcd_write_char_con(y,0x30 | (int)temps[i].actualtemp%10);
    0106E E30A      LDI	R16,0x3A
    0106F E011      LDI	R17,1
    01070 0195      MOVW	R18,R10
    01071 940E 28ED CALL	empy16s
    01073 E380      LDI	R24,0x30
    01074 E092      LDI	R25,2
    01075 01F8      MOVW	R30,R16
    01076 0FE8      ADD	R30,R24
    01077 1FF9      ADC	R31,R25
    01078 8100      LD	R16,Z
    01079 8111      LDD	R17,Z+1
    0107A 8122      LDD	R18,Z+2
    0107B 8133      LDD	R19,Z+3
    0107C 940E 2A33 CALL	fpint
    0107E E02A      LDI	R18,0xA
    0107F E030      LDI	R19,0
    01080 940E 289F CALL	mod16s
    01082 0198      MOVW	R18,R16
    01083 6320      ORI	R18,0x30
    01084 2F06      MOV	R16,R22
    01085 940E 0627 CALL	_lcd_write_char_con
(0080) 		   lcd_write_char_con(y,' ');
    01087 E220      LDI	R18,0x20
    01088 2F06      MOV	R16,R22
    01089 940E 0627 CALL	_lcd_write_char_con
(0081) 		   lcd_write_char_con(y,0xA1);
    0108B EA21      LDI	R18,0xA1
    0108C 2F06      MOV	R16,R22
    0108D 940E 0627 CALL	_lcd_write_char_con
(0082)           lcd_write_char_con(y,0xE6);
    0108F EE26      LDI	R18,0xE6
    01090 2F06      MOV	R16,R22
    01091 940E 0627 CALL	_lcd_write_char_con
(0083) 		   break;
    01093 C01D      RJMP	0x10B1
(0084) 		 case 2:
(0085) 		   lcd_write_str_con(y,"故障");
    01094 E220      LDI	R18,0x20
    01095 E038      LDI	R19,0x8
    01096 2F06      MOV	R16,R22
    01097 940E 06C9 CALL	_lcd_write_str_con
(0086) 		   break;
    01099 C017      RJMP	0x10B1
(0087) 		 case 3:
(0088) 		   lcd_write_str_con(y,"暂停");
    0109A E12B      LDI	R18,0x1B
    0109B E038      LDI	R19,0x8
    0109C 2F06      MOV	R16,R22
    0109D 940E 06C9 CALL	_lcd_write_str_con
(0089) 		   break;
    0109F C011      RJMP	0x10B1
(0090) 		 case 4:
(0091) 		   lcd_write_str_con(y,"结束");
    010A0 E126      LDI	R18,0x16
    010A1 E038      LDI	R19,0x8
    010A2 2F06      MOV	R16,R22
    010A3 940E 06C9 CALL	_lcd_write_str_con
(0092) 		   break;
    010A5 C00B      RJMP	0x10B1
(0093) 		 case 5:
(0094) 		   lcd_write_str_con(y,"等待");
    010A6 E121      LDI	R18,0x11
    010A7 E038      LDI	R19,0x8
    010A8 2F06      MOV	R16,R22
    010A9 940E 06C9 CALL	_lcd_write_str_con
(0095) 		   break;
    010AB C005      RJMP	0x10B1
(0096) 		 case 6:
(0097) 		   lcd_write_str_con(y,"暂停");
    010AC E12B      LDI	R18,0x1B
    010AD E038      LDI	R19,0x8
    010AE 2F06      MOV	R16,R22
    010AF 940E 06C9 CALL	_lcd_write_str_con
    010B1 01C5      MOVW	R24,R10
    010B2 9601      ADIW	R24,1
    010B3 015C      MOVW	R10,R24
    010B4 01C5      MOVW	R24,R10
    010B5 3084      CPI	R24,4
    010B6 E0E0      LDI	R30,0
    010B7 079E      CPC	R25,R30
    010B8 F408      BCC	0x10BA
    010B9 CF1B      RJMP	0x0FD5
(0098) 		   break;
(0099) 		   break;
(0100) 		 default:
(0101) 		   break;
(0102) 	   }
(0103) 	}
(0104) 	 keyV=KeyScan_once();
    010BA 940E 051C CALL	_KeyScan_once
    010BC 2EA0      MOV	R10,R16
(0105) 	 if(keyV=='a'){
    010BD 3601      CPI	R16,0x61
    010BE F009      BEQ	0x10C0
    010BF C048      RJMP	0x1108
(0106) 	      //pageNum=8;//跳转到设置时间的界面
(0107) 		   pageNum=8;
    010C0 E088      LDI	R24,0x8
    010C1 E090      LDI	R25,0
    010C2 9390 0D1F STS	pageNum+1,R25
    010C4 9380 0D1E STS	pageNum,R24
(0108) 	   switch(cur){
    010C6 3040      CPI	R20,0
    010C7 0745      CPC	R20,R21
    010C8 F0A9      BEQ	0x10DE
    010C9 3041      CPI	R20,1
    010CA E0E0      LDI	R30,0
    010CB 075E      CPC	R21,R30
    010CC F0C1      BEQ	0x10E5
    010CD 3042      CPI	R20,2
    010CE E0E0      LDI	R30,0
    010CF 075E      CPC	R21,R30
    010D0 F0D9      BEQ	0x10EC
    010D1 3043      CPI	R20,3
    010D2 E0E0      LDI	R30,0
    010D3 075E      CPC	R21,R30
    010D4 F0F1      BEQ	0x10F3
    010D5 3045      CPI	R20,5
    010D6 E0E0      LDI	R30,0
    010D7 075E      CPC	R21,R30
    010D8 F109      BEQ	0x10FA
    010D9 3046      CPI	R20,6
    010DA E0E0      LDI	R30,0
    010DB 075E      CPC	R21,R30
    010DC F121      BEQ	0x1101
    010DD C270      RJMP	0x134E
(0109) 		 case 0: 
(0110) 		    Set_White_off(2,1,3);
    010DE E083      LDI	R24,3
    010DF 8388      ST	Y,R24
    010E0 E021      LDI	R18,1
    010E1 E002      LDI	R16,2
    010E2 940E 0834 CALL	_Set_White_off
(0111) 		    break;
    010E4 C269      RJMP	0x134E
(0112) 		 case 1:
(0113) 		   Set_White_off(7,1,8);
    010E5 E088      LDI	R24,0x8
    010E6 8388      ST	Y,R24
    010E7 E021      LDI	R18,1
    010E8 E007      LDI	R16,7
    010E9 940E 0834 CALL	_Set_White_off
(0114) 		   break;
    010EB C262      RJMP	0x134E
(0115) 		 case 2:
(0116) 		  Set_White_off(2,2,3);
    010EC E083      LDI	R24,3
    010ED 8388      ST	Y,R24
    010EE E022      LDI	R18,2
    010EF E002      LDI	R16,2
    010F0 940E 0834 CALL	_Set_White_off
(0117) 		  break;
    010F2 C25B      RJMP	0x134E
(0118) 		 case 3:
(0119) 		   Set_White_off(7,2,8);
    010F3 E088      LDI	R24,0x8
    010F4 8388      ST	Y,R24
    010F5 E022      LDI	R18,2
    010F6 E007      LDI	R16,7
    010F7 940E 0834 CALL	_Set_White_off
(0120) 		    break;
    010F9 C254      RJMP	0x134E
(0121) 		case 5:
(0122) 		    Set_White_off(6,3,7);
    010FA E087      LDI	R24,7
    010FB 8388      ST	Y,R24
    010FC E023      LDI	R18,3
    010FD E006      LDI	R16,6
    010FE 940E 0834 CALL	_Set_White_off
(0123) 		    break;
    01100 C24D      RJMP	0x134E
(0124) 		 case 6:
(0125) 		   Set_White_off(10,3,11);
    01101 E08B      LDI	R24,0xB
    01102 8388      ST	Y,R24
    01103 E023      LDI	R18,3
    01104 E00A      LDI	R16,0xA
    01105 940E 0834 CALL	_Set_White_off
(0126) 		    break;
(0127) 		  default:
(0128) 		   break;
(0129) 		 }
(0130) 	   return ;
    01107 C246      RJMP	0x134E
(0131) 	}else if(keyV=='d'){
    01108 2D8A      MOV	R24,R10
    01109 3684      CPI	R24,0x64
    0110A F009      BEQ	0x110C
    0110B C04C      RJMP	0x1158
(0132) 	     switch(cur){
    0110C 3040      CPI	R20,0
    0110D 0745      CPC	R20,R21
    0110E F069      BEQ	0x111C
    0110F 3041      CPI	R20,1
    01110 E0E0      LDI	R30,0
    01111 075E      CPC	R21,R30
    01112 F0C1      BEQ	0x112B
    01113 3042      CPI	R20,2
    01114 E0E0      LDI	R30,0
    01115 075E      CPC	R21,R30
    01116 F119      BEQ	0x113A
    01117 3043      CPI	R20,3
    01118 E0E0      LDI	R30,0
    01119 075E      CPC	R21,R30
    0111A F171      BEQ	0x1149
    0111B C231      RJMP	0x134D
(0133) 		  case 0:
(0134) 		   Set_White_off(2,1,3);
    0111C E083      LDI	R24,3
    0111D 8388      ST	Y,R24
    0111E E021      LDI	R18,1
    0111F E002      LDI	R16,2
    01120 940E 0834 CALL	_Set_White_off
(0135) 		   Set_White(2,2,3);
    01122 E083      LDI	R24,3
    01123 8388      ST	Y,R24
    01124 E022      LDI	R18,2
    01125 E002      LDI	R16,2
    01126 940E 08A4 CALL	_Set_White
(0136) 		   cur=2;
    01128 E042      LDI	R20,2
    01129 E050      LDI	R21,0
(0137) 		   break;
    0112A C222      RJMP	0x134D
(0138) 		  case 1:
(0139) 		   Set_White_off(7,1,8);
    0112B E088      LDI	R24,0x8
    0112C 8388      ST	Y,R24
    0112D E021      LDI	R18,1
    0112E E007      LDI	R16,7
    0112F 940E 0834 CALL	_Set_White_off
(0140) 		   Set_White(7,2,8);
    01131 E088      LDI	R24,0x8
    01132 8388      ST	Y,R24
    01133 E022      LDI	R18,2
    01134 E007      LDI	R16,7
    01135 940E 08A4 CALL	_Set_White
(0141) 		   cur=3;
    01137 E043      LDI	R20,3
    01138 E050      LDI	R21,0
(0142) 		   break;
    01139 C213      RJMP	0x134D
(0143) 		  case 2:
(0144) 		   Set_White_off(2,2,3);
    0113A E083      LDI	R24,3
    0113B 8388      ST	Y,R24
    0113C E022      LDI	R18,2
    0113D E002      LDI	R16,2
    0113E 940E 0834 CALL	_Set_White_off
(0145) 		   Set_White(2,3,3);
    01140 E083      LDI	R24,3
    01141 8388      ST	Y,R24
    01142 E023      LDI	R18,3
    01143 E002      LDI	R16,2
    01144 940E 08A4 CALL	_Set_White
(0146) 		   cur=4;
    01146 E044      LDI	R20,4
    01147 E050      LDI	R21,0
(0147) 		   break;
    01148 C204      RJMP	0x134D
(0148) 		  case 3:
(0149) 		   Set_White_off(7,2,8);
    01149 E088      LDI	R24,0x8
    0114A 8388      ST	Y,R24
    0114B E022      LDI	R18,2
    0114C E007      LDI	R16,7
    0114D 940E 0834 CALL	_Set_White_off
(0150) 		   Set_White(6,3,7);
    0114F E087      LDI	R24,7
    01150 8388      ST	Y,R24
    01151 E023      LDI	R18,3
    01152 E006      LDI	R16,6
    01153 940E 08A4 CALL	_Set_White
(0151) 		   cur=5;
    01155 E045      LDI	R20,5
    01156 E050      LDI	R21,0
(0152) 		   break;
(0153) 		  default:
(0154) 		   break;
(0155) 		 }
(0156) 	}else if(keyV=='u'){switch(cur){
    01157 C1F5      RJMP	0x134D
    01158 2D8A      MOV	R24,R10
    01159 3785      CPI	R24,0x75
    0115A F009      BEQ	0x115C
    0115B C061      RJMP	0x11BD
    0115C 3042      CPI	R20,2
    0115D E0E0      LDI	R30,0
    0115E 075E      CPC	R21,R30
    0115F F091      BEQ	0x1172
    01160 3043      CPI	R20,3
    01161 E0E0      LDI	R30,0
    01162 075E      CPC	R21,R30
    01163 F0E9      BEQ	0x1181
    01164 3044      CPI	R20,4
    01165 E0E0      LDI	R30,0
    01166 075E      CPC	R21,R30
    01167 F141      BEQ	0x1190
    01168 3045      CPI	R20,5
    01169 E0E0      LDI	R30,0
    0116A 075E      CPC	R21,R30
    0116B F199      BEQ	0x119F
    0116C 3046      CPI	R20,6
    0116D E0E0      LDI	R30,0
    0116E 075E      CPC	R21,R30
    0116F F409      BNE	0x1171
    01170 C03D      RJMP	0x11AE
    01171 C1DB      RJMP	0x134D
(0157) 		  case 2:
(0158) 		   Set_White_off(2,2,3);
    01172 E083      LDI	R24,3
    01173 8388      ST	Y,R24
    01174 E022      LDI	R18,2
    01175 E002      LDI	R16,2
    01176 940E 0834 CALL	_Set_White_off
(0159) 		   Set_White(2,1,3);
    01178 E083      LDI	R24,3
    01179 8388      ST	Y,R24
    0117A E021      LDI	R18,1
    0117B E002      LDI	R16,2
    0117C 940E 08A4 CALL	_Set_White
(0160) 		   cur=0;
    0117E 2744      CLR	R20
    0117F 2755      CLR	R21
(0161) 		   break;
    01180 C1CC      RJMP	0x134D
(0162) 		  case 3:
(0163) 		   Set_White_off(7,2,8);
    01181 E088      LDI	R24,0x8
    01182 8388      ST	Y,R24
    01183 E022      LDI	R18,2
    01184 E007      LDI	R16,7
    01185 940E 0834 CALL	_Set_White_off
(0164) 		   Set_White(7,1,8);
    01187 E088      LDI	R24,0x8
    01188 8388      ST	Y,R24
    01189 E021      LDI	R18,1
    0118A E007      LDI	R16,7
    0118B 940E 08A4 CALL	_Set_White
(0165) 		   cur=1;
    0118D E041      LDI	R20,1
    0118E E050      LDI	R21,0
(0166) 		   break;
    0118F C1BD      RJMP	0x134D
(0167) 		  case 4:
(0168) 		   Set_White_off(2,3,5);
    01190 E085      LDI	R24,5
    01191 8388      ST	Y,R24
    01192 E023      LDI	R18,3
    01193 E002      LDI	R16,2
    01194 940E 0834 CALL	_Set_White_off
(0169) 		   Set_White(2,2,3);
    01196 E083      LDI	R24,3
    01197 8388      ST	Y,R24
    01198 E022      LDI	R18,2
    01199 E002      LDI	R16,2
    0119A 940E 08A4 CALL	_Set_White
(0170) 		   cur=2;
    0119C E042      LDI	R20,2
    0119D E050      LDI	R21,0
(0171) 		   break;
    0119E C1AE      RJMP	0x134D
(0172) 		  case 5:
(0173) 		   Set_White_off(6,3,7);
    0119F E087      LDI	R24,7
    011A0 8388      ST	Y,R24
    011A1 E023      LDI	R18,3
    011A2 E006      LDI	R16,6
    011A3 940E 0834 CALL	_Set_White_off
(0174) 		   Set_White(7,2,8);
    011A5 E088      LDI	R24,0x8
    011A6 8388      ST	Y,R24
    011A7 E022      LDI	R18,2
    011A8 E007      LDI	R16,7
    011A9 940E 08A4 CALL	_Set_White
(0175) 		   cur=3;
    011AB E043      LDI	R20,3
    011AC E050      LDI	R21,0
(0176) 		   break;
    011AD C19F      RJMP	0x134D
(0177) 		  case 6:
(0178) 		   Set_White_off(10,3,11);
    011AE E08B      LDI	R24,0xB
    011AF 8388      ST	Y,R24
    011B0 E023      LDI	R18,3
    011B1 E00A      LDI	R16,0xA
    011B2 940E 0834 CALL	_Set_White_off
(0179) 		   Set_White(7,2,8);
    011B4 E088      LDI	R24,0x8
    011B5 8388      ST	Y,R24
    011B6 E022      LDI	R18,2
    011B7 E007      LDI	R16,7
    011B8 940E 08A4 CALL	_Set_White
(0180) 		   cur=3;
    011BA E043      LDI	R20,3
    011BB E050      LDI	R21,0
(0181) 		   break;
(0182) 		  default:
(0183) 		   break;
(0184) 		 }
(0185) 	}else if(keyV=='l'){switch(cur){
    011BC C190      RJMP	0x134D
    011BD 2D8A      MOV	R24,R10
    011BE 368C      CPI	R24,0x6C
    011BF F009      BEQ	0x11C1
    011C0 C04D      RJMP	0x120E
    011C1 3041      CPI	R20,1
    011C2 E0E0      LDI	R30,0
    011C3 075E      CPC	R21,R30
    011C4 F069      BEQ	0x11D2
    011C5 3043      CPI	R20,3
    011C6 E0E0      LDI	R30,0
    011C7 075E      CPC	R21,R30
    011C8 F0C1      BEQ	0x11E1
    011C9 3045      CPI	R20,5
    011CA E0E0      LDI	R30,0
    011CB 075E      CPC	R21,R30
    011CC F119      BEQ	0x11F0
    011CD 3046      CPI	R20,6
    011CE E0E0      LDI	R30,0
    011CF 075E      CPC	R21,R30
    011D0 F171      BEQ	0x11FF
    011D1 C17B      RJMP	0x134D
(0186) 		  case 1:
(0187) 		   Set_White_off(7,1,8);
    011D2 E088      LDI	R24,0x8
    011D3 8388      ST	Y,R24
    011D4 E021      LDI	R18,1
    011D5 E007      LDI	R16,7
    011D6 940E 0834 CALL	_Set_White_off
(0188) 		   Set_White(2,1,3);
    011D8 E083      LDI	R24,3
    011D9 8388      ST	Y,R24
    011DA E021      LDI	R18,1
    011DB E002      LDI	R16,2
    011DC 940E 08A4 CALL	_Set_White
(0189) 		   cur=0;
    011DE 2744      CLR	R20
    011DF 2755      CLR	R21
(0190) 		   break;
    011E0 C16C      RJMP	0x134D
(0191) 		  case 3:
(0192) 		   Set_White_off(7,2,8);
    011E1 E088      LDI	R24,0x8
    011E2 8388      ST	Y,R24
    011E3 E022      LDI	R18,2
    011E4 E007      LDI	R16,7
    011E5 940E 0834 CALL	_Set_White_off
(0193) 		   Set_White(2,2,3);
    011E7 E083      LDI	R24,3
    011E8 8388      ST	Y,R24
    011E9 E022      LDI	R18,2
    011EA E002      LDI	R16,2
    011EB 940E 08A4 CALL	_Set_White
(0194) 		   cur=2;
    011ED E042      LDI	R20,2
    011EE E050      LDI	R21,0
(0195) 		   break;
    011EF C15D      RJMP	0x134D
(0196) 		  case 5:
(0197) 		   Set_White_off(6,3,7);
    011F0 E087      LDI	R24,7
    011F1 8388      ST	Y,R24
    011F2 E023      LDI	R18,3
    011F3 E006      LDI	R16,6
    011F4 940E 0834 CALL	_Set_White_off
(0198) 		   Set_White(2,3,3);
    011F6 E083      LDI	R24,3
    011F7 8388      ST	Y,R24
    011F8 E023      LDI	R18,3
    011F9 E002      LDI	R16,2
    011FA 940E 08A4 CALL	_Set_White
(0199) 		   cur=4;
    011FC E044      LDI	R20,4
    011FD E050      LDI	R21,0
(0200) 		   break;
    011FE C14E      RJMP	0x134D
(0201) 		  case 6:
(0202) 		   Set_White_off(10,3,11);
    011FF E08B      LDI	R24,0xB
    01200 8388      ST	Y,R24
    01201 E023      LDI	R18,3
    01202 E00A      LDI	R16,0xA
    01203 940E 0834 CALL	_Set_White_off
(0203) 		   Set_White(6,3,7);
    01205 E087      LDI	R24,7
    01206 8388      ST	Y,R24
    01207 E023      LDI	R18,3
    01208 E006      LDI	R16,6
    01209 940E 08A4 CALL	_Set_White
(0204) 		   cur=5;
    0120B E045      LDI	R20,5
    0120C E050      LDI	R21,0
(0205) 		   break;
(0206) 		  default:
(0207) 		   break;
(0208) 		 }
(0209) 	}else if(keyV=='r'){
    0120D C13F      RJMP	0x134D
    0120E 2D8A      MOV	R24,R10
    0120F 3782      CPI	R24,0x72
    01210 F009      BEQ	0x1212
    01211 C04C      RJMP	0x125E
(0210) 	switch(cur){
    01212 3040      CPI	R20,0
    01213 0745      CPC	R20,R21
    01214 F069      BEQ	0x1222
    01215 3042      CPI	R20,2
    01216 E0E0      LDI	R30,0
    01217 075E      CPC	R21,R30
    01218 F0C1      BEQ	0x1231
    01219 3044      CPI	R20,4
    0121A E0E0      LDI	R30,0
    0121B 075E      CPC	R21,R30
    0121C F119      BEQ	0x1240
    0121D 3045      CPI	R20,5
    0121E E0E0      LDI	R30,0
    0121F 075E      CPC	R21,R30
    01220 F171      BEQ	0x124F
    01221 C12B      RJMP	0x134D
(0211) 		  case 0:
(0212) 		   Set_White_off(2,1,3);
    01222 E083      LDI	R24,3
    01223 8388      ST	Y,R24
    01224 E021      LDI	R18,1
    01225 E002      LDI	R16,2
    01226 940E 0834 CALL	_Set_White_off
(0213) 		   Set_White(7,1,8);
    01228 E088      LDI	R24,0x8
    01229 8388      ST	Y,R24
    0122A E021      LDI	R18,1
    0122B E007      LDI	R16,7
    0122C 940E 08A4 CALL	_Set_White
(0214) 		   cur=1;
    0122E E041      LDI	R20,1
    0122F E050      LDI	R21,0
(0215) 		   break;
    01230 C11C      RJMP	0x134D
(0216) 		  case 2:
(0217) 		   Set_White_off(2,2,3);
    01231 E083      LDI	R24,3
    01232 8388      ST	Y,R24
    01233 E022      LDI	R18,2
    01234 E002      LDI	R16,2
    01235 940E 0834 CALL	_Set_White_off
(0218) 		   Set_White(7,2,8);
    01237 E088      LDI	R24,0x8
    01238 8388      ST	Y,R24
    01239 E022      LDI	R18,2
    0123A E007      LDI	R16,7
    0123B 940E 08A4 CALL	_Set_White
(0219) 		   cur=3;
    0123D E043      LDI	R20,3
    0123E E050      LDI	R21,0
(0220) 		   break;
    0123F C10D      RJMP	0x134D
(0221) 		  case 4:
(0222) 		   Set_White_off(2,3,3);
    01240 E083      LDI	R24,3
    01241 8388      ST	Y,R24
    01242 E023      LDI	R18,3
    01243 E002      LDI	R16,2
    01244 940E 0834 CALL	_Set_White_off
(0223) 		   Set_White(6,3,7);
    01246 E087      LDI	R24,7
    01247 8388      ST	Y,R24
    01248 E023      LDI	R18,3
    01249 E006      LDI	R16,6
    0124A 940E 08A4 CALL	_Set_White
(0224) 		   cur=5;
    0124C E045      LDI	R20,5
    0124D E050      LDI	R21,0
(0225) 		   break;
    0124E C0FE      RJMP	0x134D
(0226) 		  case 5:
(0227) 		   Set_White_off(6,3,7);
    0124F E087      LDI	R24,7
    01250 8388      ST	Y,R24
    01251 E023      LDI	R18,3
    01252 E006      LDI	R16,6
    01253 940E 0834 CALL	_Set_White_off
(0228) 		   Set_White(10,3,11);
    01255 E08B      LDI	R24,0xB
    01256 8388      ST	Y,R24
    01257 E023      LDI	R18,3
    01258 E00A      LDI	R16,0xA
    01259 940E 08A4 CALL	_Set_White
(0229) 		   cur=6;
    0125B E046      LDI	R20,6
    0125C E050      LDI	R21,0
(0230) 		   break;
(0231) 		  default:
(0232) 		   break;
(0233) 		 }
(0234) 	}else if(keyV=='s'){
    0125D C0EF      RJMP	0x134D
    0125E 2D8A      MOV	R24,R10
    0125F 3783      CPI	R24,0x73
    01260 F009      BEQ	0x1262
    01261 C053      RJMP	0x12B5
(0235) 	   pageNum=5;
    01262 E085      LDI	R24,5
    01263 E090      LDI	R25,0
    01264 9390 0D1F STS	pageNum+1,R25
    01266 9380 0D1E STS	pageNum,R24
(0236) 	   switch(cur){
    01268 3040      CPI	R20,0
    01269 0745      CPC	R20,R21
    0126A F0C9      BEQ	0x1284
    0126B 3041      CPI	R20,1
    0126C E0E0      LDI	R30,0
    0126D 075E      CPC	R21,R30
    0126E F0E1      BEQ	0x128B
    0126F 3042      CPI	R20,2
    01270 E0E0      LDI	R30,0
    01271 075E      CPC	R21,R30
    01272 F0F9      BEQ	0x1292
    01273 3043      CPI	R20,3
    01274 E0E0      LDI	R30,0
    01275 075E      CPC	R21,R30
    01276 F111      BEQ	0x1299
    01277 3044      CPI	R20,4
    01278 E0E0      LDI	R30,0
    01279 075E      CPC	R21,R30
    0127A F129      BEQ	0x12A0
    0127B 3045      CPI	R20,5
    0127C E0E0      LDI	R30,0
    0127D 075E      CPC	R21,R30
    0127E F141      BEQ	0x12A7
    0127F 3046      CPI	R20,6
    01280 E0E0      LDI	R30,0
    01281 075E      CPC	R21,R30
    01282 F159      BEQ	0x12AE
    01283 C0CA      RJMP	0x134E
(0237) 		 case 0: 
(0238) 		    Set_White_off(2,1,3);
    01284 E083      LDI	R24,3
    01285 8388      ST	Y,R24
    01286 E021      LDI	R18,1
    01287 E002      LDI	R16,2
    01288 940E 0834 CALL	_Set_White_off
(0239) 		    break;
    0128A C0C3      RJMP	0x134E
(0240) 		 case 1:
(0241) 		   Set_White_off(7,1,8);
    0128B E088      LDI	R24,0x8
    0128C 8388      ST	Y,R24
    0128D E021      LDI	R18,1
    0128E E007      LDI	R16,7
    0128F 940E 0834 CALL	_Set_White_off
(0242) 		   break;
    01291 C0BC      RJMP	0x134E
(0243) 		 case 2:
(0244) 		  Set_White_off(2,2,3);
    01292 E083      LDI	R24,3
    01293 8388      ST	Y,R24
    01294 E022      LDI	R18,2
    01295 E002      LDI	R16,2
    01296 940E 0834 CALL	_Set_White_off
(0245) 		  break;
    01298 C0B5      RJMP	0x134E
(0246) 		 case 3:
(0247) 		   Set_White_off(7,2,8);
    01299 E088      LDI	R24,0x8
    0129A 8388      ST	Y,R24
    0129B E022      LDI	R18,2
    0129C E007      LDI	R16,7
    0129D 940E 0834 CALL	_Set_White_off
(0248) 		    break;
    0129F C0AE      RJMP	0x134E
(0249) 		 case 4:
(0250) 		    Set_White_off(2,3,3);
    012A0 E083      LDI	R24,3
    012A1 8388      ST	Y,R24
    012A2 E023      LDI	R18,3
    012A3 E002      LDI	R16,2
    012A4 940E 0834 CALL	_Set_White_off
(0251) 		    break;
    012A6 C0A7      RJMP	0x134E
(0252) 		case 5:
(0253) 		    Set_White_off(6,3,7);
    012A7 E087      LDI	R24,7
    012A8 8388      ST	Y,R24
    012A9 E023      LDI	R18,3
    012AA E006      LDI	R16,6
    012AB 940E 0834 CALL	_Set_White_off
(0254) 		    break;
    012AD C0A0      RJMP	0x134E
(0255) 		 case 6:
(0256) 		   Set_White_off(10,3,11);
    012AE E08B      LDI	R24,0xB
    012AF 8388      ST	Y,R24
    012B0 E023      LDI	R18,3
    012B1 E00A      LDI	R16,0xA
    012B2 940E 0834 CALL	_Set_White_off
(0257) 		    break;
(0258) 		  default:
(0259) 		   break;
(0260) 		 }
(0261) 	   return ;
    012B4 C099      RJMP	0x134E
(0262) 	}else if(keyV=='t'){
    012B5 2D8A      MOV	R24,R10
    012B6 3784      CPI	R24,0x74
    012B7 F009      BEQ	0x12B9
    012B8 C094      RJMP	0x134D
(0263) 	   switch(cur){
    012B9 3040      CPI	R20,0
    012BA 0745      CPC	R20,R21
    012BB F0F1      BEQ	0x12DA
    012BC 3041      CPI	R20,1
    012BD E0E0      LDI	R30,0
    012BE 075E      CPC	R21,R30
    012BF F191      BEQ	0x12F2
    012C0 3042      CPI	R20,2
    012C1 E0E0      LDI	R30,0
    012C2 075E      CPC	R21,R30
    012C3 F409      BNE	0x12C5
    012C4 C043      RJMP	0x1308
    012C5 3043      CPI	R20,3
    012C6 E0E0      LDI	R30,0
    012C7 075E      CPC	R21,R30
    012C8 F409      BNE	0x12CA
    012C9 C055      RJMP	0x131F
    012CA 3044      CPI	R20,4
    012CB E0E0      LDI	R30,0
    012CC 075E      CPC	R21,R30
    012CD F409      BNE	0x12CF
    012CE C066      RJMP	0x1335
    012CF 3045      CPI	R20,5
    012D0 E0E0      LDI	R30,0
    012D1 075E      CPC	R21,R30
    012D2 F409      BNE	0x12D4
    012D3 C064      RJMP	0x1338
    012D4 3046      CPI	R20,6
    012D5 E0E0      LDI	R30,0
    012D6 075E      CPC	R21,R30
    012D7 F409      BNE	0x12D9
    012D8 C062      RJMP	0x133B
    012D9 C073      RJMP	0x134D
(0264) 		 case 0: 
(0265) 		    Set_White_off(2,1,3);
    012DA E083      LDI	R24,3
    012DB 8388      ST	Y,R24
    012DC E021      LDI	R18,1
    012DD E002      LDI	R16,2
    012DE 940E 0834 CALL	_Set_White_off
(0266) 		    prePageNum=1;
    012E0 E081      LDI	R24,1
    012E1 E090      LDI	R25,0
    012E2 9390 0D13 STS	prePageNum+1,R25
    012E4 9380 0D12 STS	prePageNum,R24
(0267) 		    pageParam[0]=0;//传递使用第一个，对应不同的温度
    012E6 2422      CLR	R2
    012E7 2433      CLR	R3
    012E8 9230 0D15 STS	pageParam+1,R3
    012EA 9220 0D14 STS	pageParam,R2
(0268) 		    pageNum=3;
    012EC E083      LDI	R24,3
    012ED 9390 0D1F STS	pageNum+1,R25
    012EF 9380 0D1E STS	pageNum,R24
(0269) 		    return;
    012F1 C05C      RJMP	0x134E
(0270) 		 case 1:
(0271) 		   Set_White_off(7,1,8);
    012F2 E088      LDI	R24,0x8
    012F3 8388      ST	Y,R24
    012F4 E021      LDI	R18,1
    012F5 E007      LDI	R16,7
    012F6 940E 0834 CALL	_Set_White_off
(0272) 		    prePageNum=1;
    012F8 E081      LDI	R24,1
    012F9 E090      LDI	R25,0
    012FA 9390 0D13 STS	prePageNum+1,R25
    012FC 9380 0D12 STS	prePageNum,R24
(0273) 		   pageParam[0]=1;//传递使用第一个，对应不同的温度
    012FE 9390 0D15 STS	pageParam+1,R25
    01300 9380 0D14 STS	pageParam,R24
(0274) 		    pageNum=3;
    01302 E083      LDI	R24,3
    01303 9390 0D1F STS	pageNum+1,R25
    01305 9380 0D1E STS	pageNum,R24
(0275) 		    return;
    01307 C046      RJMP	0x134E
(0276) 		 case 2:
(0277) 		  Set_White_off(2,2,3);
    01308 E083      LDI	R24,3
    01309 8388      ST	Y,R24
    0130A E022      LDI	R18,2
    0130B E002      LDI	R16,2
    0130C 940E 0834 CALL	_Set_White_off
(0278) 		    prePageNum=1;
    0130E E081      LDI	R24,1
    0130F E090      LDI	R25,0
    01310 9390 0D13 STS	prePageNum+1,R25
    01312 9380 0D12 STS	prePageNum,R24
(0279) 		    pageParam[0]=2;//传递使用第一个，对应不同的温度
    01314 E082      LDI	R24,2
    01315 9390 0D15 STS	pageParam+1,R25
    01317 9380 0D14 STS	pageParam,R24
(0280) 		   pageNum=3;
    01319 E083      LDI	R24,3
    0131A 9390 0D1F STS	pageNum+1,R25
    0131C 9380 0D1E STS	pageNum,R24
(0281) 		   return;
    0131E C02F      RJMP	0x134E
(0282) 		 case 3:
(0283) 		   Set_White_off(7,2,8);
    0131F E088      LDI	R24,0x8
    01320 8388      ST	Y,R24
    01321 E022      LDI	R18,2
    01322 E007      LDI	R16,7
    01323 940E 0834 CALL	_Set_White_off
(0284) 		     prePageNum=1;
    01325 E081      LDI	R24,1
    01326 E090      LDI	R25,0
    01327 9390 0D13 STS	prePageNum+1,R25
    01329 9380 0D12 STS	prePageNum,R24
(0285) 		    pageParam[0]=3;//传递使用第一个，对应不同的温度
    0132B E083      LDI	R24,3
    0132C 9390 0D15 STS	pageParam+1,R25
    0132E 9380 0D14 STS	pageParam,R24
(0286) 		    pageNum=3;
    01330 9390 0D1F STS	pageNum+1,R25
    01332 9380 0D1E STS	pageNum,R24
(0287) 		    return;
    01334 C019      RJMP	0x134E
(0288) 		 case 4:
(0289) 		    //调用函数全部开始，参数正确的
(0290) 			set_all_start();
    01335 940E 2585 CALL	_set_all_start
(0291) 		   break;
    01337 C015      RJMP	0x134D
(0292) 		 case 5:
(0293) 		    //全部停止
(0294) 			set_all_stop();
    01338 940E 25B6 CALL	_set_all_stop
(0295) 		   break;
    0133A C012      RJMP	0x134D
(0296) 		 case 6://设置
(0297) 		   Set_White_off(10,3,11);
    0133B E08B      LDI	R24,0xB
    0133C 8388      ST	Y,R24
    0133D E023      LDI	R18,3
    0133E E00A      LDI	R16,0xA
    0133F 940E 0834 CALL	_Set_White_off
(0298) 		   prePageNum=1;
    01341 E081      LDI	R24,1
    01342 E090      LDI	R25,0
    01343 9390 0D13 STS	prePageNum+1,R25
    01345 9380 0D12 STS	prePageNum,R24
(0299) 		   pageNum=5;
    01347 E085      LDI	R24,5
    01348 9390 0D1F STS	pageNum+1,R25
    0134A 9380 0D1E STS	pageNum,R24
(0300) 		    return;
    0134C C001      RJMP	0x134E
    0134D CC81      RJMP	0x0FCF
    0134E 9622      ADIW	R28,2
    0134F 940C 2958 JMP	pop_xgsetF03C
_page2:
  ft2                  --> R10
  ft1                  --> R12
  ft0                  --> R14
  ft3                  --> R22
  cur                  --> R20
  keyV                 --> R10
    01351 940E 2914 CALL	push_xgsetF0FC
    01353 9722      SBIW	R28,2
(0301) 		  default:
(0302) 		   break;
(0303) 		 }
(0304) 	
(0305) 	}
(0306)   }
(0307)    return;
(0308) }
(0309)  void page2(void){
(0310)    uint cur=0;
    01354 2744      CLR	R20
    01355 2755      CLR	R21
(0311)    uchar keyV;
(0312)    uint ft0,ft1,ft2,ft3;
(0313)    ft0=EEPROM_read(1,0);
    01356 2722      CLR	R18
    01357 2733      CLR	R19
    01358 E001      LDI	R16,1
    01359 E010      LDI	R17,0
    0135A 940E 0F47 CALL	_EEPROM_read
    0135C 0178      MOVW	R14,R16
(0314)    ft1=EEPROM_read(2,0);
    0135D 2722      CLR	R18
    0135E 2733      CLR	R19
    0135F E002      LDI	R16,2
    01360 E010      LDI	R17,0
    01361 940E 0F47 CALL	_EEPROM_read
    01363 0168      MOVW	R12,R16
(0315)    ft2=EEPROM_read(3,0);
    01364 2722      CLR	R18
    01365 2733      CLR	R19
    01366 E003      LDI	R16,3
    01367 E010      LDI	R17,0
    01368 940E 0F47 CALL	_EEPROM_read
    0136A 0158      MOVW	R10,R16
(0316)    ft3=EEPROM_read(4,0);
    0136B 2722      CLR	R18
    0136C 2733      CLR	R19
    0136D E004      LDI	R16,4
    0136E E010      LDI	R17,0
    0136F 940E 0F47 CALL	_EEPROM_read
    01371 01B8      MOVW	R22,R16
(0317)  if(!(ft0==0 && ft1==0 && ft2==0 && ft3==0)){//判断是否有数据，任何一个有数据就询问是否恢复
    01372 20EE      TST	R14
    01373 F471      BNE	0x1382
    01374 20FF      TST	R15
    01375 F461      BNE	0x1382
    01376 20CC      TST	R12
    01377 F451      BNE	0x1382
    01378 20DD      TST	R13
    01379 F441      BNE	0x1382
    0137A 20AA      TST	R10
    0137B F431      BNE	0x1382
    0137C 20BB      TST	R11
    0137D F421      BNE	0x1382
    0137E 3000      CPI	R16,0
    0137F 0701      CPC	R16,R17
    01380 F409      BNE	0x1382
    01381 C0EA      RJMP	0x146C
(0318)    //初始画面，会有读取EEPROM的判断默认操作，本次只是画界面
(0319)    lcd_write_str(2,0,"是否恢复上次工作");
    01382 E080      LDI	R24,0
    01383 E098      LDI	R25,0x8
    01384 8399      STD	Y+1,R25
    01385 8388      ST	Y,R24
    01386 2722      CLR	R18
    01387 E002      LDI	R16,2
    01388 940E 067F CALL	_lcd_write_str
(0320)    lcd_write_str(2,2,"恢复");
    0138A EF8B      LDI	R24,0xFB
    0138B E097      LDI	R25,7
    0138C 8399      STD	Y+1,R25
    0138D 8388      ST	Y,R24
    0138E E022      LDI	R18,2
    0138F E002      LDI	R16,2
    01390 940E 067F CALL	_lcd_write_str
(0321)    lcd_write_str(8,2,"取消");
    01392 EF86      LDI	R24,0xF6
    01393 E097      LDI	R25,7
    01394 8399      STD	Y+1,R25
    01395 8388      ST	Y,R24
    01396 E022      LDI	R18,2
    01397 E008      LDI	R16,0x8
    01398 940E 067F CALL	_lcd_write_str
(0322)    ft3=EEPROM_read(0,0);//复用读取首选项
    0139A 2722      CLR	R18
    0139B 2733      CLR	R19
    0139C 2700      CLR	R16
    0139D 2711      CLR	R17
    0139E 940E 0F47 CALL	_EEPROM_read
    013A0 0158      MOVW	R10,R16
    013A1 01B5      MOVW	R22,R10
(0323)    if(ft3==1){//默认恢复
    013A2 3001      CPI	R16,1
    013A3 E0E0      LDI	R30,0
    013A4 071E      CPC	R17,R30
    013A5 F449      BNE	0x13AF
(0324)      cur=0;
    013A6 2744      CLR	R20
    013A7 2755      CLR	R21
(0325)      Set_White(3,2,4);
    013A8 E084      LDI	R24,4
    013A9 8388      ST	Y,R24
    013AA E022      LDI	R18,2
    013AB E003      LDI	R16,3
    013AC 940E 08A4 CALL	_Set_White
(0326)    }else{
    013AE C008      RJMP	0x13B7
(0327)      cur=1;
    013AF E041      LDI	R20,1
    013B0 E050      LDI	R21,0
(0328)      Set_White(9,2,10);
    013B1 E08A      LDI	R24,0xA
    013B2 8388      ST	Y,R24
    013B3 E022      LDI	R18,2
    013B4 E009      LDI	R16,0x9
    013B5 940E 08A4 CALL	_Set_White
(0329)    }
(0330)    Timerinit_0(0x00); //使用定时器，定时一段时间更改标记，while中读取这个标记确定是否结束while
    013B7 2700      CLR	R16
    013B8 940E 0A01 CALL	_Timerinit_0
    013BA C0B0      RJMP	0x146B
(0331)     while(1){
(0332) 	if(waitflag==1){
    013BB 9180 0110 LDS	R24,waitflag
    013BD 9190 0111 LDS	R25,waitflag+1
    013BF 3081      CPI	R24,1
    013C0 E0E0      LDI	R30,0
    013C1 079E      CPC	R25,R30
    013C2 F531      BNE	0x13E9
(0333) 	  //执行相关操作
(0334) 		   Set_White_off(9,2,10);
    013C3 E08A      LDI	R24,0xA
    013C4 8388      ST	Y,R24
    013C5 E022      LDI	R18,2
    013C6 E009      LDI	R16,0x9
    013C7 940E 0834 CALL	_Set_White_off
(0335) 		    Set_White_off(3,2,4);
    013C9 E084      LDI	R24,4
    013CA 8388      ST	Y,R24
    013CB E022      LDI	R18,2
    013CC E003      LDI	R16,3
    013CD 940E 0834 CALL	_Set_White_off
(0336) 			if(cur==0){
    013CF 3040      CPI	R20,0
    013D0 0745      CPC	R20,R21
    013D1 F481      BNE	0x13E2
(0337) 			  lcd_clear();
    013D2 940E 0736 CALL	_lcd_clear
(0338) 			  lcd_write_str(5,2,"恢复中. . .");
    013D4 EE8A      LDI	R24,0xEA
    013D5 E097      LDI	R25,7
    013D6 8399      STD	Y+1,R25
    013D7 8388      ST	Y,R24
    013D8 E022      LDI	R18,2
    013D9 E005      LDI	R16,5
    013DA 940E 067F CALL	_lcd_write_str
(0339) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    013DC 940E 24A2 CALL	_data_recover
(0340) 			  delay_ms(200);
    013DE EC08      LDI	R16,0xC8
    013DF E010      LDI	R17,0
    013E0 940E 042E CALL	_delay_ms
(0341) 			}
(0342) 		  pageNum=1;
    013E2 E081      LDI	R24,1
    013E3 E090      LDI	R25,0
    013E4 9390 0D1F STS	pageNum+1,R25
    013E6 9380 0D1E STS	pageNum,R24
(0343) 		  return;
    013E8 C089      RJMP	0x1472
(0344) 	  }
(0345)       keyV=KeyScan_once();
    013E9 940E 051C CALL	_KeyScan_once
    013EB 2EA0      MOV	R10,R16
(0346) 	  switch(keyV){
    013EC 2D6A      MOV	R22,R10
    013ED 2777      CLR	R23
    013EE 366C      CPI	R22,0x6C
    013EF E0E0      LDI	R30,0
    013F0 077E      CPC	R23,R30
    013F1 F079      BEQ	0x1401
    013F2 366C      CPI	R22,0x6C
    013F3 E0E0      LDI	R30,0
    013F4 077E      CPC	R23,R30
    013F5 F40C      BGE	0x13F7
    013F6 C074      RJMP	0x146B
    013F7 3762      CPI	R22,0x72
    013F8 E0E0      LDI	R30,0
    013F9 077E      CPC	R23,R30
    013FA F141      BEQ	0x1423
    013FB 3764      CPI	R22,0x74
    013FC E0E0      LDI	R30,0
    013FD 077E      CPC	R23,R30
    013FE F409      BNE	0x1400
    013FF C043      RJMP	0x1443
    01400 C06A      RJMP	0x146B
(0347) 	    case 'l':
(0348) 		   TCCR0=0x00;//定时器停止
    01401 2422      CLR	R2
    01402 BE23      OUT	0x33,R2
(0349) 		   lcd_write_char(10,0,' ');
    01403 E280      LDI	R24,0x20
    01404 8388      ST	Y,R24
    01405 2722      CLR	R18
    01406 E00A      LDI	R16,0xA
    01407 940E 0659 CALL	_lcd_write_char
(0350) 	       lcd_write_char(11,0,' ');	
    01409 E280      LDI	R24,0x20
    0140A 8388      ST	Y,R24
    0140B 2722      CLR	R18
    0140C E00B      LDI	R16,0xB
    0140D 940E 0659 CALL	_lcd_write_char
(0351) 		   if(cur==1){
    0140F 3041      CPI	R20,1
    01410 E0E0      LDI	R30,0
    01411 075E      CPC	R21,R30
    01412 F009      BEQ	0x1414
    01413 C057      RJMP	0x146B
(0352) 		      Set_White_off(9,2,10);
    01414 E08A      LDI	R24,0xA
    01415 8388      ST	Y,R24
    01416 E022      LDI	R18,2
    01417 E009      LDI	R16,0x9
    01418 940E 0834 CALL	_Set_White_off
(0353) 		      Set_White(3,2,4);
    0141A E084      LDI	R24,4
    0141B 8388      ST	Y,R24
    0141C E022      LDI	R18,2
    0141D E003      LDI	R16,3
    0141E 940E 08A4 CALL	_Set_White
(0354) 			  cur=0;
    01420 2744      CLR	R20
    01421 2755      CLR	R21
(0355) 		   }
(0356) 		   break;
    01422 C048      RJMP	0x146B
(0357) 		case 'r':
(0358) 		   TCCR0=0x00;//定时器停止
    01423 2422      CLR	R2
    01424 BE23      OUT	0x33,R2
(0359) 		   lcd_write_char(10,0,' ');
    01425 E280      LDI	R24,0x20
    01426 8388      ST	Y,R24
    01427 2722      CLR	R18
    01428 E00A      LDI	R16,0xA
    01429 940E 0659 CALL	_lcd_write_char
(0360) 	       lcd_write_char(11,0,' ');	
    0142B E280      LDI	R24,0x20
    0142C 8388      ST	Y,R24
    0142D 2722      CLR	R18
    0142E E00B      LDI	R16,0xB
    0142F 940E 0659 CALL	_lcd_write_char
(0361) 		   if(cur==0){
    01431 3040      CPI	R20,0
    01432 0745      CPC	R20,R21
    01433 F5B9      BNE	0x146B
(0362) 		      Set_White_off(3,2,4);
    01434 E084      LDI	R24,4
    01435 8388      ST	Y,R24
    01436 E022      LDI	R18,2
    01437 E003      LDI	R16,3
    01438 940E 0834 CALL	_Set_White_off
(0363) 		      Set_White(9,2,10);
    0143A E08A      LDI	R24,0xA
    0143B 8388      ST	Y,R24
    0143C E022      LDI	R18,2
    0143D E009      LDI	R16,0x9
    0143E 940E 08A4 CALL	_Set_White
(0364) 			  cur=1;
    01440 E041      LDI	R20,1
    01441 E050      LDI	R21,0
(0365) 		   }
(0366) 		   
(0367) 		  break;
    01442 C028      RJMP	0x146B
(0368) 		case 't':
(0369) 		  //执行相关操作
(0370) 		   TCCR0=0x00;//定时器停止
    01443 2422      CLR	R2
    01444 BE23      OUT	0x33,R2
(0371) 		   Set_White_off(9,2,10);
    01445 E08A      LDI	R24,0xA
    01446 8388      ST	Y,R24
    01447 E022      LDI	R18,2
    01448 E009      LDI	R16,0x9
    01449 940E 0834 CALL	_Set_White_off
(0372) 		    Set_White_off(3,2,4);
    0144B E084      LDI	R24,4
    0144C 8388      ST	Y,R24
    0144D E022      LDI	R18,2
    0144E E003      LDI	R16,3
    0144F 940E 0834 CALL	_Set_White_off
(0373) 			if(cur==0){
    01451 3040      CPI	R20,0
    01452 0745      CPC	R20,R21
    01453 F481      BNE	0x1464
(0374) 			  lcd_clear();
    01454 940E 0736 CALL	_lcd_clear
(0375) 			  lcd_write_str(5,2,"恢复中. . .");
    01456 EE8A      LDI	R24,0xEA
    01457 E097      LDI	R25,7
    01458 8399      STD	Y+1,R25
    01459 8388      ST	Y,R24
    0145A E022      LDI	R18,2
    0145B E005      LDI	R16,5
    0145C 940E 067F CALL	_lcd_write_str
(0376) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    0145E 940E 24A2 CALL	_data_recover
(0377) 			  delay_ms(200);
    01460 EC08      LDI	R16,0xC8
    01461 E010      LDI	R17,0
    01462 940E 042E CALL	_delay_ms
(0378) 			}
(0379) 		  pageNum=1;
    01464 E081      LDI	R24,1
    01465 E090      LDI	R25,0
    01466 9390 0D1F STS	pageNum+1,R25
    01468 9380 0D1E STS	pageNum,R24
(0380) 		  return;
    0146A C007      RJMP	0x1472
    0146B CF4F      RJMP	0x13BB
(0381) 	  }
(0382) 	}
(0383)   }else{
(0384)      pageNum=1;
    0146C E081      LDI	R24,1
    0146D E090      LDI	R25,0
    0146E 9390 0D1F STS	pageNum+1,R25
    01470 9380 0D1E STS	pageNum,R24
(0385)      return;
    01472 9622      ADIW	R28,2
    01473 940C 2909 JMP	pop_xgsetF0FC
_page3:
  cur                  --> R20
  keyV                 --> R22
    01475 940E 2929 CALL	push_xgsetF000
    01477 9722      SBIW	R28,2
(0386)   }
(0387)  }
(0388)  void page3(void){
(0389)   uint cur=0;
    01478 2744      CLR	R20
    01479 2755      CLR	R21
(0390)    uchar keyV;
(0391)    lcd_write_str(0,0,"T");
    0147A EE88      LDI	R24,0xE8
    0147B E097      LDI	R25,7
    0147C 8399      STD	Y+1,R25
    0147D 8388      ST	Y,R24
    0147E 2722      CLR	R18
    0147F 2700      CLR	R16
    01480 940E 067F CALL	_lcd_write_str
(0392)     lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    01482 9120 0D14 LDS	R18,pageParam
    01484 9130 0D15 LDS	R19,pageParam+1
    01486 5F2F      SUBI	R18,0xFF
    01487 4F3F      SBCI	R19,0xFF
    01488 6320      ORI	R18,0x30
    01489 2700      CLR	R16
    0148A 940E 0627 CALL	_lcd_write_char_con
(0393) 	lcd_write_char_con(0,':');
    0148C E32A      LDI	R18,0x3A
    0148D 2700      CLR	R16
    0148E 940E 0627 CALL	_lcd_write_char_con
(0394)    lcd_write_str(1,1,"温度:");
    01490 EE82      LDI	R24,0xE2
    01491 E097      LDI	R25,7
    01492 8399      STD	Y+1,R25
    01493 8388      ST	Y,R24
    01494 E021      LDI	R18,1
    01495 E001      LDI	R16,1
    01496 940E 067F CALL	_lcd_write_str
(0395)    lcd_write_str(1,2,"状态:");
    01498 ED8C      LDI	R24,0xDC
    01499 E097      LDI	R25,7
    0149A 8399      STD	Y+1,R25
    0149B 8388      ST	Y,R24
    0149C E022      LDI	R18,2
    0149D E001      LDI	R16,1
    0149E 940E 067F CALL	_lcd_write_str
(0396)    lcd_write_str(0,3,"编辑");
    014A0 ED87      LDI	R24,0xD7
    014A1 E097      LDI	R25,7
    014A2 8399      STD	Y+1,R25
    014A3 8388      ST	Y,R24
    014A4 E023      LDI	R18,3
    014A5 2700      CLR	R16
    014A6 940E 067F CALL	_lcd_write_str
(0397)    lcd_write_str(3,3,"运行");
    014A8 ED82      LDI	R24,0xD2
    014A9 E097      LDI	R25,7
    014AA 8399      STD	Y+1,R25
    014AB 8388      ST	Y,R24
    014AC E023      LDI	R18,3
    014AD E003      LDI	R16,3
    014AE 940E 067F CALL	_lcd_write_str
(0398)    lcd_write_str(7,3,"暂停");
    014B0 E18B      LDI	R24,0x1B
    014B1 E098      LDI	R25,0x8
    014B2 8399      STD	Y+1,R25
    014B3 8388      ST	Y,R24
    014B4 E023      LDI	R18,3
    014B5 E007      LDI	R16,7
    014B6 940E 067F CALL	_lcd_write_str
(0399)    lcd_write_str(10,3,"重置");
    014B8 EC8D      LDI	R24,0xCD
    014B9 E097      LDI	R25,7
    014BA 8399      STD	Y+1,R25
    014BB 8388      ST	Y,R24
    014BC E023      LDI	R18,3
    014BD E00A      LDI	R16,0xA
    014BE 940E 067F CALL	_lcd_write_str
(0400)    Set_White(1,3,2);
    014C0 E082      LDI	R24,2
    014C1 8388      ST	Y,R24
    014C2 E023      LDI	R18,3
    014C3 E001      LDI	R16,1
    014C4 940E 08A4 CALL	_Set_White
    014C6 C1FF      RJMP	0x16C6
(0401)    //Set_White(9,2,10);
(0402)     while(1){
(0403) 	lcd_write_pos(2,0);
    014C7 2722      CLR	R18
    014C8 E002      LDI	R16,2
    014C9 940E 063B CALL	_lcd_write_pos
(0404) 	pageTime2(0);
    014CB 2700      CLR	R16
    014CC 2711      CLR	R17
    014CD DAA2      RCALL	_pageTime2
(0405) 	//写温度
(0406) 	if(temps[pageParam[0]].flag!=2){
    014CE 9120 0D14 LDS	R18,pageParam
    014D0 9130 0D15 LDS	R19,pageParam+1
    014D2 E30A      LDI	R16,0x3A
    014D3 E011      LDI	R17,1
    014D4 940E 28ED CALL	empy16s
    014D6 E186      LDI	R24,0x16
    014D7 E091      LDI	R25,1
    014D8 01F8      MOVW	R30,R16
    014D9 0FE8      ADD	R30,R24
    014DA 1FF9      ADC	R31,R25
    014DB 8180      LD	R24,Z
    014DC 8191      LDD	R25,Z+1
    014DD 3082      CPI	R24,2
    014DE E0E0      LDI	R30,0
    014DF 079E      CPC	R25,R30
    014E0 F409      BNE	0x14E2
    014E1 C08B      RJMP	0x156D
(0407) 	  lcd_write_pos(4,1);
    014E2 E021      LDI	R18,1
    014E3 E004      LDI	R16,4
    014E4 940E 063B CALL	_lcd_write_pos
(0408) 	  if(temps[pageParam[0]].actualtemp==0){
    014E6 9120 0D14 LDS	R18,pageParam
    014E8 9130 0D15 LDS	R19,pageParam+1
    014EA E30A      LDI	R16,0x3A
    014EB E011      LDI	R17,1
    014EC 940E 28ED CALL	empy16s
    014EE E380      LDI	R24,0x30
    014EF E092      LDI	R25,2
    014F0 01F8      MOVW	R30,R16
    014F1 0FE8      ADD	R30,R24
    014F2 1FF9      ADC	R31,R25
    014F3 8020      LD	R2,Z
    014F4 8031      LDD	R3,Z+1
    014F5 8042      LDD	R4,Z+2
    014F6 8053      LDD	R5,Z+3
    014F7 E80C      LDI	R16,0x8C
    014F8 E010      LDI	R17,0
    014F9 940E 28D9 CALL	elpm32
    014FB 933A      ST	-Y,R19
    014FC 932A      ST	-Y,R18
    014FD 931A      ST	-Y,R17
    014FE 930A      ST	-Y,R16
    014FF 0181      MOVW	R16,R2
    01500 0192      MOVW	R18,R4
    01501 940E 2C35 CALL	fpcmp2
    01503 F419      BNE	0x1507
(0409) 	     PORTE=~0x0a;
    01504 EF85      LDI	R24,0xF5
    01505 B983      OUT	0x03,R24
(0410) 	  }else{
    01506 C002      RJMP	0x1509
(0411) 	    PORTE=~0xa0;
    01507 E58F      LDI	R24,0x5F
    01508 B983      OUT	0x03,R24
(0412) 	  }
(0413) 	  lcd_write_char_con(1,0x30 | ((int)temps[pageParam[0]].actualtemp)/100);
    01509 9120 0D14 LDS	R18,pageParam
    0150B 9130 0D15 LDS	R19,pageParam+1
    0150D E30A      LDI	R16,0x3A
    0150E E011      LDI	R17,1
    0150F 940E 28ED CALL	empy16s
    01511 E380      LDI	R24,0x30
    01512 E092      LDI	R25,2
    01513 01F8      MOVW	R30,R16
    01514 0FE8      ADD	R30,R24
    01515 1FF9      ADC	R31,R25
    01516 8100      LD	R16,Z
    01517 8111      LDD	R17,Z+1
    01518 8122      LDD	R18,Z+2
    01519 8133      LDD	R19,Z+3
    0151A 940E 2A33 CALL	fpint
    0151C E624      LDI	R18,0x64
    0151D E030      LDI	R19,0
    0151E 940E 28A3 CALL	div16s
    01520 0198      MOVW	R18,R16
    01521 6320      ORI	R18,0x30
    01522 E001      LDI	R16,1
    01523 940E 0627 CALL	_lcd_write_char_con
(0414) 	  lcd_write_char_con(1,0x30 | (((int)temps[pageParam[0]].actualtemp)/10)%10);
    01525 9120 0D14 LDS	R18,pageParam
    01527 9130 0D15 LDS	R19,pageParam+1
    01529 E30A      LDI	R16,0x3A
    0152A E011      LDI	R17,1
    0152B 940E 28ED CALL	empy16s
    0152D E380      LDI	R24,0x30
    0152E E092      LDI	R25,2
    0152F 01F8      MOVW	R30,R16
    01530 0FE8      ADD	R30,R24
    01531 1FF9      ADC	R31,R25
    01532 8100      LD	R16,Z
    01533 8111      LDD	R17,Z+1
    01534 8122      LDD	R18,Z+2
    01535 8133      LDD	R19,Z+3
    01536 940E 2A33 CALL	fpint
    01538 E02A      LDI	R18,0xA
    01539 E030      LDI	R19,0
    0153A 940E 28A3 CALL	div16s
    0153C E02A      LDI	R18,0xA
    0153D E030      LDI	R19,0
    0153E 940E 289F CALL	mod16s
    01540 0198      MOVW	R18,R16
    01541 6320      ORI	R18,0x30
    01542 E001      LDI	R16,1
    01543 940E 0627 CALL	_lcd_write_char_con
(0415) 	  lcd_write_char_con(1,0x30 | ((int)temps[pageParam[0]].actualtemp)%10);
    01545 9120 0D14 LDS	R18,pageParam
    01547 9130 0D15 LDS	R19,pageParam+1
    01549 E30A      LDI	R16,0x3A
    0154A E011      LDI	R17,1
    0154B 940E 28ED CALL	empy16s
    0154D E380      LDI	R24,0x30
    0154E E092      LDI	R25,2
    0154F 01F8      MOVW	R30,R16
    01550 0FE8      ADD	R30,R24
    01551 1FF9      ADC	R31,R25
    01552 8100      LD	R16,Z
    01553 8111      LDD	R17,Z+1
    01554 8122      LDD	R18,Z+2
    01555 8133      LDD	R19,Z+3
    01556 940E 2A33 CALL	fpint
    01558 E02A      LDI	R18,0xA
    01559 E030      LDI	R19,0
    0155A 940E 289F CALL	mod16s
    0155C 0198      MOVW	R18,R16
    0155D 6320      ORI	R18,0x30
    0155E E001      LDI	R16,1
    0155F 940E 0627 CALL	_lcd_write_char_con
(0416) 	  lcd_write_char_con(1,' ');
    01561 E220      LDI	R18,0x20
    01562 E001      LDI	R16,1
    01563 940E 0627 CALL	_lcd_write_char_con
(0417) 	  lcd_write_char_con(1,0xA1);
    01565 EA21      LDI	R18,0xA1
    01566 E001      LDI	R16,1
    01567 940E 0627 CALL	_lcd_write_char_con
(0418)       lcd_write_char_con(1,0xE6);
    01569 EE26      LDI	R18,0xE6
    0156A E001      LDI	R16,1
    0156B 940E 0627 CALL	_lcd_write_char_con
(0419) 	}
(0420) 	//数据需要读入
(0421) 	lcd_write_pos(4,2);
    0156D E022      LDI	R18,2
    0156E E004      LDI	R16,4
    0156F 940E 063B CALL	_lcd_write_pos
(0422) 	switch(temps[pageParam[0]].flag){
    01571 9120 0D14 LDS	R18,pageParam
    01573 9130 0D15 LDS	R19,pageParam+1
    01575 E30A      LDI	R16,0x3A
    01576 E011      LDI	R17,1
    01577 940E 28ED CALL	empy16s
    01579 E186      LDI	R24,0x16
    0157A E091      LDI	R25,1
    0157B 01F8      MOVW	R30,R16
    0157C 0FE8      ADD	R30,R24
    0157D 1FF9      ADC	R31,R25
    0157E 8160      LD	R22,Z
    0157F 8171      LDD	R23,Z+1
    01580 3060      CPI	R22,0
    01581 0767      CPC	R22,R23
    01582 F0C9      BEQ	0x159C
    01583 3061      CPI	R22,1
    01584 E0E0      LDI	R30,0
    01585 077E      CPC	R23,R30
    01586 F0D9      BEQ	0x15A2
    01587 3062      CPI	R22,2
    01588 E0E0      LDI	R30,0
    01589 077E      CPC	R23,R30
    0158A F0E9      BEQ	0x15A8
    0158B 3063      CPI	R22,3
    0158C E0E0      LDI	R30,0
    0158D 077E      CPC	R23,R30
    0158E F0F9      BEQ	0x15AE
    0158F 3064      CPI	R22,4
    01590 E0E0      LDI	R30,0
    01591 077E      CPC	R23,R30
    01592 F109      BEQ	0x15B4
    01593 3065      CPI	R22,5
    01594 E0E0      LDI	R30,0
    01595 077E      CPC	R23,R30
    01596 F119      BEQ	0x15BA
    01597 3066      CPI	R22,6
    01598 E0E0      LDI	R30,0
    01599 077E      CPC	R23,R30
    0159A F129      BEQ	0x15C0
    0159B C029      RJMP	0x15C5
(0423) 	     case 0: 
(0424) 		   lcd_write_str_con(2,"停止");
    0159C E225      LDI	R18,0x25
    0159D E038      LDI	R19,0x8
    0159E E002      LDI	R16,2
    0159F 940E 06C9 CALL	_lcd_write_str_con
(0425) 		   break;
    015A1 C023      RJMP	0x15C5
(0426) 		 case 1:
(0427) 		   //写状态
(0428) 		   lcd_write_str_con(2,"写状态");
    015A2 EC26      LDI	R18,0xC6
    015A3 E037      LDI	R19,7
    015A4 E002      LDI	R16,2
    015A5 940E 06C9 CALL	_lcd_write_str_con
(0429) 		   break;
    015A7 C01D      RJMP	0x15C5
(0430) 		 case 2:
(0431) 		   lcd_write_str_con(2,"故障");
    015A8 E220      LDI	R18,0x20
    015A9 E038      LDI	R19,0x8
    015AA E002      LDI	R16,2
    015AB 940E 06C9 CALL	_lcd_write_str_con
(0432) 		   break;
    015AD C017      RJMP	0x15C5
(0433) 		 case 3:
(0434) 		   lcd_write_str_con(2,"暂停");
    015AE E12B      LDI	R18,0x1B
    015AF E038      LDI	R19,0x8
    015B0 E002      LDI	R16,2
    015B1 940E 06C9 CALL	_lcd_write_str_con
(0435) 		   break;
    015B3 C011      RJMP	0x15C5
(0436) 		 case 4:
(0437) 		   lcd_write_str_con(2,"结束");
    015B4 E126      LDI	R18,0x16
    015B5 E038      LDI	R19,0x8
    015B6 E002      LDI	R16,2
    015B7 940E 06C9 CALL	_lcd_write_str_con
(0438) 		   break;
    015B9 C00B      RJMP	0x15C5
(0439) 		 case 5:
(0440) 		   lcd_write_str_con(2,"等待");
    015BA E121      LDI	R18,0x11
    015BB E038      LDI	R19,0x8
    015BC E002      LDI	R16,2
    015BD 940E 06C9 CALL	_lcd_write_str_con
(0441) 		   break;
    015BF C005      RJMP	0x15C5
(0442) 		 case 6:
(0443) 		   lcd_write_str_con(2,"暂停");
    015C0 E12B      LDI	R18,0x1B
    015C1 E038      LDI	R19,0x8
    015C2 E002      LDI	R16,2
    015C3 940E 06C9 CALL	_lcd_write_str_con
(0444) 		   break;
(0445) 		   break;
(0446) 		 default:
(0447) 		   break;
(0448) 	   }
(0449) 	
(0450)       keyV=KeyScan_once();  
    015C5 940E 051C CALL	_KeyScan_once
    015C7 2F60      MOV	R22,R16
(0451) 	  if(keyV=='e'){
    015C8 3605      CPI	R16,0x65
    015C9 F4F9      BNE	0x15E9
(0452) 	      Set_White_off(1,3,2);
    015CA E082      LDI	R24,2
    015CB 8388      ST	Y,R24
    015CC E023      LDI	R18,3
    015CD E001      LDI	R16,1
    015CE 940E 0834 CALL	_Set_White_off
(0453) 		  Set_White_off(4,3,5);
    015D0 E085      LDI	R24,5
    015D1 8388      ST	Y,R24
    015D2 E023      LDI	R18,3
    015D3 E004      LDI	R16,4
    015D4 940E 0834 CALL	_Set_White_off
(0454) 		  Set_White_off(8,3,9);
    015D6 E089      LDI	R24,0x9
    015D7 8388      ST	Y,R24
    015D8 E023      LDI	R18,3
    015D9 E008      LDI	R16,0x8
    015DA 940E 0834 CALL	_Set_White_off
(0455) 		  Set_White_off(11,3,12);
    015DC E08C      LDI	R24,0xC
    015DD 8388      ST	Y,R24
    015DE E023      LDI	R18,3
    015DF E00B      LDI	R16,0xB
    015E0 940E 0834 CALL	_Set_White_off
(0456) 		  pageNum=1;
    015E2 E081      LDI	R24,1
    015E3 E090      LDI	R25,0
    015E4 9390 0D1F STS	pageNum+1,R25
    015E6 9380 0D1E STS	pageNum,R24
(0457) 		  return;
    015E8 C0DE      RJMP	0x16C7
(0458) 	  }else if(keyV=='l'){
    015E9 366C      CPI	R22,0x6C
    015EA F5D1      BNE	0x1625
(0459) 	     switch(cur){
    015EB 3041      CPI	R20,1
    015EC E0E0      LDI	R30,0
    015ED 075E      CPC	R21,R30
    015EE F049      BEQ	0x15F8
    015EF 3042      CPI	R20,2
    015F0 E0E0      LDI	R30,0
    015F1 075E      CPC	R21,R30
    015F2 F0A1      BEQ	0x1607
    015F3 3043      CPI	R20,3
    015F4 E0E0      LDI	R30,0
    015F5 075E      CPC	R21,R30
    015F6 F0F9      BEQ	0x1616
    015F7 C0CE      RJMP	0x16C6
(0460) 		   case 1:
(0461) 		     Set_White_off(4,3,5);
    015F8 E085      LDI	R24,5
    015F9 8388      ST	Y,R24
    015FA E023      LDI	R18,3
    015FB E004      LDI	R16,4
    015FC 940E 0834 CALL	_Set_White_off
(0462) 		     Set_White(1,3,2);
    015FE E082      LDI	R24,2
    015FF 8388      ST	Y,R24
    01600 E023      LDI	R18,3
    01601 E001      LDI	R16,1
    01602 940E 08A4 CALL	_Set_White
(0463) 			 cur=0;
    01604 2744      CLR	R20
    01605 2755      CLR	R21
(0464) 		     break;
    01606 C0BF      RJMP	0x16C6
(0465) 		   case 2:
(0466) 		     Set_White_off(8,3,9);
    01607 E089      LDI	R24,0x9
    01608 8388      ST	Y,R24
    01609 E023      LDI	R18,3
    0160A E008      LDI	R16,0x8
    0160B 940E 0834 CALL	_Set_White_off
(0467) 		     Set_White(4,3,5);
    0160D E085      LDI	R24,5
    0160E 8388      ST	Y,R24
    0160F E023      LDI	R18,3
    01610 E004      LDI	R16,4
    01611 940E 08A4 CALL	_Set_White
(0468) 		     cur=1;
    01613 E041      LDI	R20,1
    01614 E050      LDI	R21,0
(0469) 		     break;
    01615 C0B0      RJMP	0x16C6
(0470) 		   case 3:
(0471) 		     Set_White_off(11,3,12);
    01616 E08C      LDI	R24,0xC
    01617 8388      ST	Y,R24
    01618 E023      LDI	R18,3
    01619 E00B      LDI	R16,0xB
    0161A 940E 0834 CALL	_Set_White_off
(0472) 		     Set_White(8,3,9);
    0161C E089      LDI	R24,0x9
    0161D 8388      ST	Y,R24
    0161E E023      LDI	R18,3
    0161F E008      LDI	R16,0x8
    01620 940E 08A4 CALL	_Set_White
(0473) 		     cur=2;
    01622 E042      LDI	R20,2
    01623 E050      LDI	R21,0
(0474) 		     break;
(0475) 		 }
(0476) 	  }else if(keyV=='r'){
    01624 C0A1      RJMP	0x16C6
    01625 3762      CPI	R22,0x72
    01626 F5C9      BNE	0x1660
(0477) 	       switch(cur){
    01627 3040      CPI	R20,0
    01628 0745      CPC	R20,R21
    01629 F049      BEQ	0x1633
    0162A 3041      CPI	R20,1
    0162B E0E0      LDI	R30,0
    0162C 075E      CPC	R21,R30
    0162D F0A1      BEQ	0x1642
    0162E 3042      CPI	R20,2
    0162F E0E0      LDI	R30,0
    01630 075E      CPC	R21,R30
    01631 F0F9      BEQ	0x1651
    01632 C093      RJMP	0x16C6
(0478) 		   case 0:
(0479) 		     Set_White(4,3,5);
    01633 E085      LDI	R24,5
    01634 8388      ST	Y,R24
    01635 E023      LDI	R18,3
    01636 E004      LDI	R16,4
    01637 940E 08A4 CALL	_Set_White
(0480) 		     Set_White_off(1,3,2);
    01639 E082      LDI	R24,2
    0163A 8388      ST	Y,R24
    0163B E023      LDI	R18,3
    0163C E001      LDI	R16,1
    0163D 940E 0834 CALL	_Set_White_off
(0481) 			 cur=1;
    0163F E041      LDI	R20,1
    01640 E050      LDI	R21,0
(0482) 		     break;
    01641 C084      RJMP	0x16C6
(0483) 		   case 1:
(0484) 		     Set_White(8,3,9);
    01642 E089      LDI	R24,0x9
    01643 8388      ST	Y,R24
    01644 E023      LDI	R18,3
    01645 E008      LDI	R16,0x8
    01646 940E 08A4 CALL	_Set_White
(0485) 		     Set_White_off(4,3,5);
    01648 E085      LDI	R24,5
    01649 8388      ST	Y,R24
    0164A E023      LDI	R18,3
    0164B E004      LDI	R16,4
    0164C 940E 0834 CALL	_Set_White_off
(0486) 		     cur=2;
    0164E E042      LDI	R20,2
    0164F E050      LDI	R21,0
(0487) 		     break;
    01650 C075      RJMP	0x16C6
(0488) 		   case 2:
(0489) 		     Set_White(11,3,12);
    01651 E08C      LDI	R24,0xC
    01652 8388      ST	Y,R24
    01653 E023      LDI	R18,3
    01654 E00B      LDI	R16,0xB
    01655 940E 08A4 CALL	_Set_White
(0490) 		     Set_White_off(8,3,9);
    01657 E089      LDI	R24,0x9
    01658 8388      ST	Y,R24
    01659 E023      LDI	R18,3
    0165A E008      LDI	R16,0x8
    0165B 940E 0834 CALL	_Set_White_off
(0491) 		     cur=3;
    0165D E043      LDI	R20,3
    0165E E050      LDI	R21,0
(0492) 		     break;
(0493) 		 }
(0494) 	  }else if(keyV=='t'){
    0165F C066      RJMP	0x16C6
    01660 3764      CPI	R22,0x74
    01661 F009      BEQ	0x1663
    01662 C042      RJMP	0x16A5
(0495) 	       switch(cur){
    01663 3040      CPI	R20,0
    01664 0745      CPC	R20,R21
    01665 F069      BEQ	0x1673
    01666 3041      CPI	R20,1
    01667 E0E0      LDI	R30,0
    01668 075E      CPC	R21,R30
    01669 F0B1      BEQ	0x1680
    0166A 3042      CPI	R20,2
    0166B E0E0      LDI	R30,0
    0166C 075E      CPC	R21,R30
    0166D F0C9      BEQ	0x1687
    0166E 3043      CPI	R20,3
    0166F E0E0      LDI	R30,0
    01670 075E      CPC	R21,R30
    01671 F0E1      BEQ	0x168E
    01672 C053      RJMP	0x16C6
(0496) 		   case 0:
(0497) 		     Set_White_off(1,3,2);
    01673 E082      LDI	R24,2
    01674 8388      ST	Y,R24
    01675 E023      LDI	R18,3
    01676 E001      LDI	R16,1
    01677 940E 0834 CALL	_Set_White_off
(0498) 			 pageNum=4;
    01679 E084      LDI	R24,4
    0167A E090      LDI	R25,0
    0167B 9390 0D1F STS	pageNum+1,R25
    0167D 9380 0D1E STS	pageNum,R24
(0499) 		     return;
    0167F C047      RJMP	0x16C7
(0500) 		   case 1:
(0501) 		     //运行操作
(0502) 			 set_start(pageParam[0]);
    01680 9100 0D14 LDS	R16,pageParam
    01682 9110 0D15 LDS	R17,pageParam+1
    01684 940E 25E7 CALL	_set_start
(0503) 		     break;
    01686 C03F      RJMP	0x16C6
(0504) 		   case 2:
(0505) 		     //暂停操作
(0506) 			 set_stop(pageParam[0]);
    01687 9100 0D14 LDS	R16,pageParam
    01689 9110 0D15 LDS	R17,pageParam+1
    0168B 940E 2610 CALL	_set_stop
(0507) 		     break;
    0168D C038      RJMP	0x16C6
(0508) 		  case 3:
(0509) 		     //重置操作
(0510) 			 Set_White_off(11,3,12);
    0168E E08C      LDI	R24,0xC
    0168F 8388      ST	Y,R24
    01690 E023      LDI	R18,3
    01691 E00B      LDI	R16,0xB
    01692 940E 0834 CALL	_Set_White_off
(0511) 			 pageParam[2]=1;//表示重置是温度数据的
    01694 E081      LDI	R24,1
    01695 E090      LDI	R25,0
    01696 9390 0D19 STS	pageParam+5,R25
    01698 9380 0D18 STS	pageParam+4,R24
(0512) 			 prePageNum=3;
    0169A E083      LDI	R24,3
    0169B 9390 0D13 STS	prePageNum+1,R25
    0169D 9380 0D12 STS	prePageNum,R24
(0513) 		     pageNum=7;
    0169F E087      LDI	R24,7
    016A0 9390 0D1F STS	pageNum+1,R25
    016A2 9380 0D1E STS	pageNum,R24
(0514) 		     return;
    016A4 C022      RJMP	0x16C7
(0515) 		 }
(0516) 	  }else if(keyV=='s'){
    016A5 3763      CPI	R22,0x73
    016A6 F4F9      BNE	0x16C6
(0517) 	       Set_White_off(1,3,2);
    016A7 E082      LDI	R24,2
    016A8 8388      ST	Y,R24
    016A9 E023      LDI	R18,3
    016AA E001      LDI	R16,1
    016AB 940E 0834 CALL	_Set_White_off
(0518) 		   Set_White_off(4,3,5);
    016AD E085      LDI	R24,5
    016AE 8388      ST	Y,R24
    016AF E023      LDI	R18,3
    016B0 E004      LDI	R16,4
    016B1 940E 0834 CALL	_Set_White_off
(0519) 		   Set_White_off(8,3,9);
    016B3 E089      LDI	R24,0x9
    016B4 8388      ST	Y,R24
    016B5 E023      LDI	R18,3
    016B6 E008      LDI	R16,0x8
    016B7 940E 0834 CALL	_Set_White_off
(0520) 		   Set_White_off(11,3,12);
    016B9 E08C      LDI	R24,0xC
    016BA 8388      ST	Y,R24
    016BB E023      LDI	R18,3
    016BC E00B      LDI	R16,0xB
    016BD 940E 0834 CALL	_Set_White_off
(0521) 			pageNum=4;
    016BF E084      LDI	R24,4
    016C0 E090      LDI	R25,0
    016C1 9390 0D1F STS	pageNum+1,R25
    016C3 9380 0D1E STS	pageNum,R24
(0522) 		     return;
    016C5 C001      RJMP	0x16C7
    016C6 CE00      RJMP	0x14C7
    016C7 9622      ADIW	R28,2
    016C8 940C 292E JMP	pop_xgsetF000
_page4_data:
  numL                 --> R14
  numH                 --> R12
  beginCur             --> R20
  i                    --> R22
  dataCach             --> R10
  y                    --> Y,+12
    016CA 940E 2893 CALL	push_arg4
    016CC 940E 2914 CALL	push_xgsetF0FC
    016CE 0159      MOVW	R10,R18
    016CF 9722      SBIW	R28,2
(0523) 	  }
(0524) 	}
(0525)  }
(0526)  //等下调用page_ac()函数改变ac写数据
(0527)  void page4_data(uint y,uint* dataCach){
(0528)       uint numH=0xA2;
    016D0 EA82      LDI	R24,0xA2
    016D1 E090      LDI	R25,0
    016D2 016C      MOVW	R12,R24
(0529)       uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
    016D3 EC84      LDI	R24,0xC4
    016D4 017C      MOVW	R14,R24
(0530) 	  uint i=0;
    016D5 2766      CLR	R22
    016D6 2777      CLR	R23
(0531) 	  uint beginCur=0;
    016D7 2744      CLR	R20
    016D8 2755      CLR	R21
(0532)     //这个判断需要些到读取值函数中去
(0533) 	 if(y<3){
    016D9 858C      LDD	R24,Y+12
    016DA 859D      LDD	R25,Y+13
    016DB 3083      CPI	R24,3
    016DC E0E0      LDI	R30,0
    016DD 079E      CPC	R25,R30
    016DE F530      BCC	0x1705
(0534) 	   lcd_write_char(2,1,numH);
    016DF 82C8      ST	Y,R12
    016E0 E021      LDI	R18,1
    016E1 E002      LDI	R16,2
    016E2 940E 0659 CALL	_lcd_write_char
(0535)        lcd_write_char_con(1,numL+1);
    016E4 0197      MOVW	R18,R14
    016E5 5F2F      SUBI	R18,0xFF
    016E6 4F3F      SBCI	R19,0xFF
    016E7 E001      LDI	R16,1
    016E8 940E 0627 CALL	_lcd_write_char_con
(0536) 	   lcd_write_char(2,2,numH);
    016EA 82C8      ST	Y,R12
    016EB E022      LDI	R18,2
    016EC E002      LDI	R16,2
    016ED 940E 0659 CALL	_lcd_write_char
(0537)        lcd_write_char_con(2,numL+2);
    016EF 0197      MOVW	R18,R14
    016F0 5F2E      SUBI	R18,0xFE
    016F1 4F3F      SBCI	R19,0xFF
    016F2 E002      LDI	R16,2
    016F3 940E 0627 CALL	_lcd_write_char_con
(0538)        lcd_write_char(2,3,numH);
    016F5 82C8      ST	Y,R12
    016F6 E023      LDI	R18,3
    016F7 E002      LDI	R16,2
    016F8 940E 0659 CALL	_lcd_write_char
(0539)        lcd_write_char_con(3,numL+3);
    016FA 0197      MOVW	R18,R14
    016FB 5F2D      SUBI	R18,0xFD
    016FC 4F3F      SBCI	R19,0xFF
    016FD E003      LDI	R16,3
    016FE 940E 0627 CALL	_lcd_write_char_con
(0540) 	   y=0;
    01700 2400      CLR	R0
    01701 2411      CLR	R1
    01702 861D      STD	Y+13,R1
    01703 860C      STD	Y+12,R0
(0541) 	  }else if(y>=3 && y<6){
    01704 C08F      RJMP	0x1794
    01705 858C      LDD	R24,Y+12
    01706 859D      LDD	R25,Y+13
    01707 3083      CPI	R24,3
    01708 E0E0      LDI	R30,0
    01709 079E      CPC	R25,R30
    0170A F150      BCS	0x1735
    0170B 3086      CPI	R24,6
    0170C E0E0      LDI	R30,0
    0170D 079E      CPC	R25,R30
    0170E F530      BCC	0x1735
(0542) 	   lcd_write_char(2,1,numH);
    0170F 82C8      ST	Y,R12
    01710 E021      LDI	R18,1
    01711 E002      LDI	R16,2
    01712 940E 0659 CALL	_lcd_write_char
(0543)        lcd_write_char_con(1,numL+4);
    01714 0197      MOVW	R18,R14
    01715 5F2C      SUBI	R18,0xFC
    01716 4F3F      SBCI	R19,0xFF
    01717 E001      LDI	R16,1
    01718 940E 0627 CALL	_lcd_write_char_con
(0544) 	   lcd_write_char(2,2,numH);
    0171A 82C8      ST	Y,R12
    0171B E022      LDI	R18,2
    0171C E002      LDI	R16,2
    0171D 940E 0659 CALL	_lcd_write_char
(0545)        lcd_write_char_con(2,numL+5);
    0171F 0197      MOVW	R18,R14
    01720 5F2B      SUBI	R18,0xFB
    01721 4F3F      SBCI	R19,0xFF
    01722 E002      LDI	R16,2
    01723 940E 0627 CALL	_lcd_write_char_con
(0546)        lcd_write_char(2,3,numH);
    01725 82C8      ST	Y,R12
    01726 E023      LDI	R18,3
    01727 E002      LDI	R16,2
    01728 940E 0659 CALL	_lcd_write_char
(0547)        lcd_write_char_con(3,numL+6);
    0172A 0197      MOVW	R18,R14
    0172B 5F2A      SUBI	R18,0xFA
    0172C 4F3F      SBCI	R19,0xFF
    0172D E003      LDI	R16,3
    0172E 940E 0627 CALL	_lcd_write_char_con
(0548) 	   y=1;
    01730 E081      LDI	R24,1
    01731 E090      LDI	R25,0
    01732 879D      STD	Y+13,R25
    01733 878C      STD	Y+12,R24
(0549) 	  }else if(y>=6 && y<9){
    01734 C05F      RJMP	0x1794
    01735 858C      LDD	R24,Y+12
    01736 859D      LDD	R25,Y+13
    01737 3086      CPI	R24,6
    01738 E0E0      LDI	R30,0
    01739 079E      CPC	R25,R30
    0173A F150      BCS	0x1765
    0173B 3089      CPI	R24,0x9
    0173C E0E0      LDI	R30,0
    0173D 079E      CPC	R25,R30
    0173E F530      BCC	0x1765
(0550) 	   lcd_write_char(2,1,numH);
    0173F 82C8      ST	Y,R12
    01740 E021      LDI	R18,1
    01741 E002      LDI	R16,2
    01742 940E 0659 CALL	_lcd_write_char
(0551)        lcd_write_char_con(1,numL+7);
    01744 0197      MOVW	R18,R14
    01745 5F29      SUBI	R18,0xF9
    01746 4F3F      SBCI	R19,0xFF
    01747 E001      LDI	R16,1
    01748 940E 0627 CALL	_lcd_write_char_con
(0552) 	   lcd_write_char(2,2,numH);
    0174A 82C8      ST	Y,R12
    0174B E022      LDI	R18,2
    0174C E002      LDI	R16,2
    0174D 940E 0659 CALL	_lcd_write_char
(0553)        lcd_write_char_con(2,numL+8);
    0174F 0197      MOVW	R18,R14
    01750 5F28      SUBI	R18,0xF8
    01751 4F3F      SBCI	R19,0xFF
    01752 E002      LDI	R16,2
    01753 940E 0627 CALL	_lcd_write_char_con
(0554)        lcd_write_char(2,3,numH);
    01755 82C8      ST	Y,R12
    01756 E023      LDI	R18,3
    01757 E002      LDI	R16,2
    01758 940E 0659 CALL	_lcd_write_char
(0555)        lcd_write_char_con(3,numL+9);
    0175A 0197      MOVW	R18,R14
    0175B 5F27      SUBI	R18,0xF7
    0175C 4F3F      SBCI	R19,0xFF
    0175D E003      LDI	R16,3
    0175E 940E 0627 CALL	_lcd_write_char_con
(0556) 	   y=2;
    01760 E082      LDI	R24,2
    01761 E090      LDI	R25,0
    01762 879D      STD	Y+13,R25
    01763 878C      STD	Y+12,R24
(0557) 	  }else if(y>=9 && y<12){
    01764 C02F      RJMP	0x1794
    01765 858C      LDD	R24,Y+12
    01766 859D      LDD	R25,Y+13
    01767 3089      CPI	R24,0x9
    01768 E0E0      LDI	R30,0
    01769 079E      CPC	R25,R30
    0176A F148      BCS	0x1794
    0176B 308C      CPI	R24,0xC
    0176C E0E0      LDI	R30,0
    0176D 079E      CPC	R25,R30
    0176E F528      BCC	0x1794
(0558) 	   lcd_write_char(2,1,numH);
    0176F 82C8      ST	Y,R12
    01770 E021      LDI	R18,1
    01771 E002      LDI	R16,2
    01772 940E 0659 CALL	_lcd_write_char
(0559)        lcd_write_char_con(1,numL+10);
    01774 0197      MOVW	R18,R14
    01775 5F26      SUBI	R18,0xF6
    01776 4F3F      SBCI	R19,0xFF
    01777 E001      LDI	R16,1
    01778 940E 0627 CALL	_lcd_write_char_con
(0560) 	   lcd_write_char(2,2,numH);
    0177A 82C8      ST	Y,R12
    0177B E022      LDI	R18,2
    0177C E002      LDI	R16,2
    0177D 940E 0659 CALL	_lcd_write_char
(0561)        lcd_write_char_con(2,numL+11);
    0177F 0197      MOVW	R18,R14
    01780 5F25      SUBI	R18,0xF5
    01781 4F3F      SBCI	R19,0xFF
    01782 E002      LDI	R16,2
    01783 940E 0627 CALL	_lcd_write_char_con
(0562)        lcd_write_char(2,3,numH);
    01785 82C8      ST	Y,R12
    01786 E023      LDI	R18,3
    01787 E002      LDI	R16,2
    01788 940E 0659 CALL	_lcd_write_char
(0563)        lcd_write_char_con(3,numL+12);
    0178A 0197      MOVW	R18,R14
    0178B 5F24      SUBI	R18,0xF4
    0178C 4F3F      SBCI	R19,0xFF
    0178D E003      LDI	R16,3
    0178E 940E 0627 CALL	_lcd_write_char_con
(0564) 	   y=3;
    01790 E083      LDI	R24,3
    01791 E090      LDI	R25,0
    01792 879D      STD	Y+13,R25
    01793 878C      STD	Y+12,R24
(0565) 	  }
(0566) 	  //还要做数据读取操作
(0567) 	  beginCur=y*33;//获得首个数据
    01794 E201      LDI	R16,0x21
    01795 E010      LDI	R17,0
    01796 852C      LDD	R18,Y+12
    01797 853D      LDD	R19,Y+13
    01798 940E 28ED CALL	empy16s
    0179A 01A8      MOVW	R20,R16
(0568) 	  for(i=1;i<=3;i++){
    0179B E061      LDI	R22,1
    0179C E070      LDI	R23,0
    0179D C0C5      RJMP	0x1863
(0569) 	    if(i==1){//第一次进入需要判断，首位写不许用++
    0179E 3061      CPI	R22,1
    0179F E0E0      LDI	R30,0
    017A0 077E      CPC	R23,R30
    017A1 F471      BNE	0x17B0
(0570) 		 lcd_write_char(3,i,0x30 | *(dataCach+beginCur));
    017A2 01FA      MOVW	R30,R20
    017A3 0FEE      LSL	R30
    017A4 1FFF      ROL	R31
    017A5 0DEA      ADD	R30,R10
    017A6 1DFB      ADC	R31,R11
    017A7 8180      LD	R24,Z
    017A8 8191      LDD	R25,Z+1
    017A9 6380      ORI	R24,0x30
    017AA 8388      ST	Y,R24
    017AB 2F26      MOV	R18,R22
    017AC E003      LDI	R16,3
    017AD 940E 0659 CALL	_lcd_write_char
(0571) 		}else{
    017AF C010      RJMP	0x17C0
(0572) 		 lcd_write_char(3,i,0x30 | *(dataCach+(++beginCur)));
    017B0 01CA      MOVW	R24,R20
    017B1 9601      ADIW	R24,1
    017B2 01AC      MOVW	R20,R24
    017B3 01FC      MOVW	R30,R24
    017B4 0FEE      LSL	R30
    017B5 1FFF      ROL	R31
    017B6 0DEA      ADD	R30,R10
    017B7 1DFB      ADC	R31,R11
    017B8 8180      LD	R24,Z
    017B9 8191      LDD	R25,Z+1
    017BA 6380      ORI	R24,0x30
    017BB 8388      ST	Y,R24
    017BC 2F26      MOV	R18,R22
    017BD E003      LDI	R16,3
    017BE 940E 0659 CALL	_lcd_write_char
(0573) 		}
(0574)         lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    017C0 01CA      MOVW	R24,R20
    017C1 9601      ADIW	R24,1
    017C2 01AC      MOVW	R20,R24
    017C3 01FC      MOVW	R30,R24
    017C4 0FEE      LSL	R30
    017C5 1FFF      ROL	R31
    017C6 0DEA      ADD	R30,R10
    017C7 1DFB      ADC	R31,R11
    017C8 8120      LD	R18,Z
    017C9 8131      LDD	R19,Z+1
    017CA 6320      ORI	R18,0x30
    017CB 2F06      MOV	R16,R22
    017CC 940E 0627 CALL	_lcd_write_char_con
(0575) 		 lcd_write_str_con(i,": ");
    017CE EC23      LDI	R18,0xC3
    017CF E037      LDI	R19,7
    017D0 2F06      MOV	R16,R22
    017D1 940E 06C9 CALL	_lcd_write_str_con
(0576) 	     lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    017D3 01CA      MOVW	R24,R20
    017D4 9601      ADIW	R24,1
    017D5 01AC      MOVW	R20,R24
    017D6 01FC      MOVW	R30,R24
    017D7 0FEE      LSL	R30
    017D8 1FFF      ROL	R31
    017D9 0DEA      ADD	R30,R10
    017DA 1DFB      ADC	R31,R11
    017DB 8120      LD	R18,Z
    017DC 8131      LDD	R19,Z+1
    017DD 6320      ORI	R18,0x30
    017DE 2F06      MOV	R16,R22
    017DF 940E 0627 CALL	_lcd_write_char_con
(0577) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    017E1 01CA      MOVW	R24,R20
    017E2 9601      ADIW	R24,1
    017E3 01AC      MOVW	R20,R24
    017E4 01FC      MOVW	R30,R24
    017E5 0FEE      LSL	R30
    017E6 1FFF      ROL	R31
    017E7 0DEA      ADD	R30,R10
    017E8 1DFB      ADC	R31,R11
    017E9 8120      LD	R18,Z
    017EA 8131      LDD	R19,Z+1
    017EB 6320      ORI	R18,0x30
    017EC 2F06      MOV	R16,R22
    017ED 940E 0627 CALL	_lcd_write_char_con
(0578) 		 
(0579) 		 lcd_write_char(7,i,0x30 | *(dataCach+(++beginCur)));
    017EF 01CA      MOVW	R24,R20
    017F0 9601      ADIW	R24,1
    017F1 01AC      MOVW	R20,R24
    017F2 01FC      MOVW	R30,R24
    017F3 0FEE      LSL	R30
    017F4 1FFF      ROL	R31
    017F5 0DEA      ADD	R30,R10
    017F6 1DFB      ADC	R31,R11
    017F7 8180      LD	R24,Z
    017F8 8191      LDD	R25,Z+1
    017F9 6380      ORI	R24,0x30
    017FA 8388      ST	Y,R24
    017FB 2F26      MOV	R18,R22
    017FC E007      LDI	R16,7
    017FD 940E 0659 CALL	_lcd_write_char
(0580) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    017FF 01CA      MOVW	R24,R20
    01800 9601      ADIW	R24,1
    01801 01AC      MOVW	R20,R24
    01802 01FC      MOVW	R30,R24
    01803 0FEE      LSL	R30
    01804 1FFF      ROL	R31
    01805 0DEA      ADD	R30,R10
    01806 1DFB      ADC	R31,R11
    01807 8120      LD	R18,Z
    01808 8131      LDD	R19,Z+1
    01809 6320      ORI	R18,0x30
    0180A 2F06      MOV	R16,R22
    0180B 940E 0627 CALL	_lcd_write_char_con
(0581) 		  lcd_write_str_con(i,": ");
    0180D EC23      LDI	R18,0xC3
    0180E E037      LDI	R19,7
    0180F 2F06      MOV	R16,R22
    01810 940E 06C9 CALL	_lcd_write_str_con
(0582) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01812 01CA      MOVW	R24,R20
    01813 9601      ADIW	R24,1
    01814 01AC      MOVW	R20,R24
    01815 01FC      MOVW	R30,R24
    01816 0FEE      LSL	R30
    01817 1FFF      ROL	R31
    01818 0DEA      ADD	R30,R10
    01819 1DFB      ADC	R31,R11
    0181A 8120      LD	R18,Z
    0181B 8131      LDD	R19,Z+1
    0181C 6320      ORI	R18,0x30
    0181D 2F06      MOV	R16,R22
    0181E 940E 0627 CALL	_lcd_write_char_con
(0583) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01820 01CA      MOVW	R24,R20
    01821 9601      ADIW	R24,1
    01822 01AC      MOVW	R20,R24
    01823 01FC      MOVW	R30,R24
    01824 0FEE      LSL	R30
    01825 1FFF      ROL	R31
    01826 0DEA      ADD	R30,R10
    01827 1DFB      ADC	R31,R11
    01828 8120      LD	R18,Z
    01829 8131      LDD	R19,Z+1
    0182A 6320      ORI	R18,0x30
    0182B 2F06      MOV	R16,R22
    0182C 940E 0627 CALL	_lcd_write_char_con
(0584) 		 
(0585) 		 lcd_write_str(10,i," ");
    0182E EC81      LDI	R24,0xC1
    0182F E097      LDI	R25,7
    01830 8399      STD	Y+1,R25
    01831 8388      ST	Y,R24
    01832 2F26      MOV	R18,R22
    01833 E00A      LDI	R16,0xA
    01834 940E 067F CALL	_lcd_write_str
(0586) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01836 01CA      MOVW	R24,R20
    01837 9601      ADIW	R24,1
    01838 01AC      MOVW	R20,R24
    01839 01FC      MOVW	R30,R24
    0183A 0FEE      LSL	R30
    0183B 1FFF      ROL	R31
    0183C 0DEA      ADD	R30,R10
    0183D 1DFB      ADC	R31,R11
    0183E 8120      LD	R18,Z
    0183F 8131      LDD	R19,Z+1
    01840 6320      ORI	R18,0x30
    01841 2F06      MOV	R16,R22
    01842 940E 0627 CALL	_lcd_write_char_con
(0587) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01844 01CA      MOVW	R24,R20
    01845 9601      ADIW	R24,1
    01846 01AC      MOVW	R20,R24
    01847 01FC      MOVW	R30,R24
    01848 0FEE      LSL	R30
    01849 1FFF      ROL	R31
    0184A 0DEA      ADD	R30,R10
    0184B 1DFB      ADC	R31,R11
    0184C 8120      LD	R18,Z
    0184D 8131      LDD	R19,Z+1
    0184E 6320      ORI	R18,0x30
    0184F 2F06      MOV	R16,R22
    01850 940E 0627 CALL	_lcd_write_char_con
(0588) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01852 01CA      MOVW	R24,R20
    01853 9601      ADIW	R24,1
    01854 016C      MOVW	R12,R24
    01855 01AC      MOVW	R20,R24
    01856 01FC      MOVW	R30,R24
    01857 0FEE      LSL	R30
    01858 1FFF      ROL	R31
    01859 0DEA      ADD	R30,R10
    0185A 1DFB      ADC	R31,R11
    0185B 8120      LD	R18,Z
    0185C 8131      LDD	R19,Z+1
    0185D 6320      ORI	R18,0x30
    0185E 2F06      MOV	R16,R22
    0185F 940E 0627 CALL	_lcd_write_char_con
    01861 5F6F      SUBI	R22,0xFF
    01862 4F7F      SBCI	R23,0xFF
    01863 E083      LDI	R24,3
    01864 E090      LDI	R25,0
    01865 1786      CP	R24,R22
    01866 0797      CPC	R25,R23
    01867 F008      BCS	0x1869
    01868 CF35      RJMP	0x179E
    01869 9622      ADIW	R28,2
    0186A 940E 2909 CALL	pop_xgsetF0FC
    0186C 9624      ADIW	R28,4
    0186D 9508      RET
_page4_ac:
  y                    --> R10
  x                    --> R22
  lcd_y                --> R20
  dataCach             --> R12
  oldcur               --> Y,+12
  cur                  --> Y,+10
    0186E 940E 2893 CALL	push_arg4
    01870 940E 2914 CALL	push_xgsetF0FC
    01872 84CE      LDD	R12,Y+14
    01873 84DF      LDD	R13,Y+15
(0589) 	  }
(0590) 	  
(0591)  }
(0592)  //传入cur做ac位置操作,判断是否翻页
(0593)  void page4_ac(uint cur,uint oldcur,uint* dataCach){
(0594)       uint y=cur/11;//逻辑y.从0开始
    01874 E02B      LDI	R18,0xB
    01875 E030      LDI	R19,0
    01876 850A      LDD	R16,Y+10
    01877 851B      LDD	R17,Y+11
    01878 940E 28BF CALL	div16u
    0187A 0158      MOVW	R10,R16
(0595) 	  uint lcd_y;//显示y
(0596) 	  uint x=cur%11;//x轴
    0187B E02B      LDI	R18,0xB
    0187C E030      LDI	R19,0
    0187D 850A      LDD	R16,Y+10
    0187E 851B      LDD	R17,Y+11
    0187F 940E 28BD CALL	mod16u
    01881 01B8      MOVW	R22,R16
(0597) 	  switch(y%3){
    01882 E023      LDI	R18,3
    01883 E030      LDI	R19,0
    01884 0185      MOVW	R16,R10
    01885 940E 28BD CALL	mod16u
    01887 0178      MOVW	R14,R16
    01888 3000      CPI	R16,0
    01889 0701      CPC	R16,R17
    0188A F051      BEQ	0x1895
    0188B 01C7      MOVW	R24,R14
    0188C 3001      CPI	R16,1
    0188D E0E0      LDI	R30,0
    0188E 071E      CPC	R17,R30
    0188F F041      BEQ	0x1898
    01890 3002      CPI	R16,2
    01891 E0E0      LDI	R30,0
    01892 071E      CPC	R17,R30
    01893 F039      BEQ	0x189B
    01894 C008      RJMP	0x189D
(0598) 	   case 0://1行
(0599) 	     lcd_y=1;
    01895 E041      LDI	R20,1
    01896 E050      LDI	R21,0
(0600) 	     break;
    01897 C005      RJMP	0x189D
(0601) 	   case 1://2行
(0602) 	     lcd_y=2;
    01898 E042      LDI	R20,2
    01899 E050      LDI	R21,0
(0603) 		 break;
    0189A C002      RJMP	0x189D
(0604) 	   case 2://3行
(0605) 	     lcd_y=3;
    0189B E043      LDI	R20,3
    0189C E050      LDI	R21,0
(0606) 	     break;
(0607) 	  }
(0608) 	  switch((oldcur/11)/3){
    0189D E02B      LDI	R18,0xB
    0189E E030      LDI	R19,0
    0189F 850C      LDD	R16,Y+12
    018A0 851D      LDD	R17,Y+13
    018A1 940E 28BF CALL	div16u
    018A3 E023      LDI	R18,3
    018A4 E030      LDI	R19,0
    018A5 940E 28BF CALL	div16u
    018A7 0178      MOVW	R14,R16
    018A8 3000      CPI	R16,0
    018A9 0701      CPC	R16,R17
    018AA F071      BEQ	0x18B9
    018AB 01C7      MOVW	R24,R14
    018AC 3001      CPI	R16,1
    018AD E0E0      LDI	R30,0
    018AE 071E      CPC	R17,R30
    018AF F0A1      BEQ	0x18C4
    018B0 3002      CPI	R16,2
    018B1 E0E0      LDI	R30,0
    018B2 071E      CPC	R17,R30
    018B3 F101      BEQ	0x18D4
    018B4 3003      CPI	R16,3
    018B5 E0E0      LDI	R30,0
    018B6 071E      CPC	R17,R30
    018B7 F169      BEQ	0x18E5
    018B8 C035      RJMP	0x18EE
(0609) 	    case 0:
(0610) 		 if(cur>32){
    018B9 E280      LDI	R24,0x20
    018BA E090      LDI	R25,0
    018BB 840A      LDD	R0,Y+10
    018BC 841B      LDD	R1,Y+11
    018BD 1580      CP	R24,R0
    018BE 0591      CPC	R25,R1
    018BF F570      BCC	0x18EE
(0611) 		   page4_data(y,dataCach);
    018C0 0196      MOVW	R18,R12
    018C1 0185      MOVW	R16,R10
    018C2 DE07      RCALL	_page4_data
(0612) 		 }
(0613) 		 break;
    018C3 C02A      RJMP	0x18EE
(0614) 		case 1:
(0615) 		  if(cur>65 || cur<33){
    018C4 E481      LDI	R24,0x41
    018C5 E090      LDI	R25,0
    018C6 840A      LDD	R0,Y+10
    018C7 841B      LDD	R1,Y+11
    018C8 1580      CP	R24,R0
    018C9 0591      CPC	R25,R1
    018CA F028      BCS	0x18D0
    018CB 01C0      MOVW	R24,R0
    018CC 3281      CPI	R24,0x21
    018CD E0E0      LDI	R30,0
    018CE 079E      CPC	R25,R30
    018CF F4F0      BCC	0x18EE
(0616) 		   page4_data(y,dataCach);
    018D0 0196      MOVW	R18,R12
    018D1 0185      MOVW	R16,R10
    018D2 DDF7      RCALL	_page4_data
(0617) 		 }
(0618) 		 break;
    018D3 C01A      RJMP	0x18EE
(0619) 		case 2:
(0620) 		if(cur<66 || cur>98){
    018D4 858A      LDD	R24,Y+10
    018D5 859B      LDD	R25,Y+11
    018D6 3482      CPI	R24,0x42
    018D7 E0E0      LDI	R30,0
    018D8 079E      CPC	R25,R30
    018D9 F038      BCS	0x18E1
    018DA E682      LDI	R24,0x62
    018DB E090      LDI	R25,0
    018DC 840A      LDD	R0,Y+10
    018DD 841B      LDD	R1,Y+11
    018DE 1580      CP	R24,R0
    018DF 0591      CPC	R25,R1
    018E0 F468      BCC	0x18EE
(0621) 		   page4_data(y,dataCach);
    018E1 0196      MOVW	R18,R12
    018E2 0185      MOVW	R16,R10
    018E3 DDE6      RCALL	_page4_data
(0622) 		 }
(0623) 		 break;
    018E4 C009      RJMP	0x18EE
(0624) 		case 3:
(0625) 		if(cur<99){
    018E5 858A      LDD	R24,Y+10
    018E6 859B      LDD	R25,Y+11
    018E7 3683      CPI	R24,0x63
    018E8 E0E0      LDI	R30,0
    018E9 079E      CPC	R25,R30
    018EA F418      BCC	0x18EE
(0626) 		   page4_data(y,dataCach);
    018EB 0196      MOVW	R18,R12
    018EC 0185      MOVW	R16,R10
    018ED DDDC      RCALL	_page4_data
(0627) 		 }
(0628) 		 break;
(0629) 	  }
(0630) 	  if(lcd_y==1){
    018EE 3041      CPI	R20,1
    018EF E0E0      LDI	R30,0
    018F0 075E      CPC	R21,R30
    018F1 F449      BNE	0x18FB
(0631) 	     cur_set(3);
    018F2 E003      LDI	R16,3
    018F3 E010      LDI	R17,0
    018F4 940E 07F0 CALL	_cur_set
(0632) 		 cur_set(4);
    018F6 E004      LDI	R16,4
    018F7 E010      LDI	R17,0
    018F8 940E 07F0 CALL	_cur_set
(0633) 	  }else if(lcd_y==2 || lcd_y==3){
    018FA C010      RJMP	0x190B
    018FB 3042      CPI	R20,2
    018FC E0E0      LDI	R30,0
    018FD 075E      CPC	R21,R30
    018FE F021      BEQ	0x1903
    018FF 3043      CPI	R20,3
    01900 E0E0      LDI	R30,0
    01901 075E      CPC	R21,R30
    01902 F441      BNE	0x190B
(0634) 	     cur_set(0);
    01903 2700      CLR	R16
    01904 2711      CLR	R17
    01905 940E 07F0 CALL	_cur_set
(0635) 		 cur_set(7);
    01907 E007      LDI	R16,7
    01908 E010      LDI	R17,0
    01909 940E 07F0 CALL	_cur_set
(0636) 	  }
(0637) 	  if(x==0){
    0190B 3060      CPI	R22,0
    0190C 0767      CPC	R22,R23
    0190D F429      BNE	0x1913
(0638) 	      lcd_write_pos(3,lcd_y);
    0190E 2F24      MOV	R18,R20
    0190F E003      LDI	R16,3
    01910 940E 063B CALL	_lcd_write_pos
(0639) 	  }else if(x==2){
    01912 C031      RJMP	0x1944
    01913 3062      CPI	R22,2
    01914 E0E0      LDI	R30,0
    01915 077E      CPC	R23,R30
    01916 F429      BNE	0x191C
(0640) 	       lcd_write_pos(5,lcd_y);
    01917 2F24      MOV	R18,R20
    01918 E005      LDI	R16,5
    01919 940E 063B CALL	_lcd_write_pos
(0641) 	  }else if(x==4){
    0191B C028      RJMP	0x1944
    0191C 3064      CPI	R22,4
    0191D E0E0      LDI	R30,0
    0191E 077E      CPC	R23,R30
    0191F F429      BNE	0x1925
(0642) 	        lcd_write_pos(7,lcd_y);
    01920 2F24      MOV	R18,R20
    01921 E007      LDI	R16,7
    01922 940E 063B CALL	_lcd_write_pos
(0643) 	  }else if(x==6){
    01924 C01F      RJMP	0x1944
    01925 3066      CPI	R22,6
    01926 E0E0      LDI	R30,0
    01927 077E      CPC	R23,R30
    01928 F429      BNE	0x192E
(0644) 	        lcd_write_pos(9,lcd_y);
    01929 2F24      MOV	R18,R20
    0192A E009      LDI	R16,0x9
    0192B 940E 063B CALL	_lcd_write_pos
(0645) 	  }else if(x==8){
    0192D C016      RJMP	0x1944
    0192E 3068      CPI	R22,0x8
    0192F E0E0      LDI	R30,0
    01930 077E      CPC	R23,R30
    01931 F451      BNE	0x193C
(0646) 	        lcd_write_pos(10,lcd_y);
    01932 2F24      MOV	R18,R20
    01933 E00A      LDI	R16,0xA
    01934 940E 063B CALL	_lcd_write_pos
(0647) 			lcd_write_str_con(lcd_y," ");
    01936 EC21      LDI	R18,0xC1
    01937 E037      LDI	R19,7
    01938 2F04      MOV	R16,R20
    01939 940E 06C9 CALL	_lcd_write_str_con
(0648) 	  }else if(x==9){
    0193B C008      RJMP	0x1944
    0193C 3069      CPI	R22,0x9
    0193D E0E0      LDI	R30,0
    0193E 077E      CPC	R23,R30
    0193F F421      BNE	0x1944
(0649) 	        lcd_write_pos(11,lcd_y);
    01940 2F24      MOV	R18,R20
    01941 E00B      LDI	R16,0xB
    01942 940E 063B CALL	_lcd_write_pos
(0650) 	  }
(0651) 	  return;
    01944 940E 2909 CALL	pop_xgsetF0FC
    01946 9624      ADIW	R28,4
    01947 9508      RET
_page4:
  numL                 --> R20
  numH                 --> R20
  oldcur               --> R22
  dataCach             --> Y,+2
  cur                  --> R20
  keyV                 --> R10
  i                    --> R10
    01948 940E 294F CALL	push_xgsetF03C
    0194A 97EF      SBIW	R28,0x3F
    0194B 97EF      SBIW	R28,0x3F
    0194C 97EF      SBIW	R28,0x3F
    0194D 97EF      SBIW	R28,0x3F
    0194E 972C      SBIW	R28,0xC
(0652)  }
(0653)   void page4(void){
(0654)     //定义一个局部的结构体，从对呀温度中获得数据。暂时未写
(0655)   uint numH=0xA2;
(0656)   uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
(0657)   uint cur=0;
    0194F 2744      CLR	R20
    01950 2755      CLR	R21
(0658)   uint oldcur=0;
    01951 2766      CLR	R22
    01952 2777      CLR	R23
(0659)   uint dataCach[131]={0};
    01953 E080      LDI	R24,0
    01954 E096      LDI	R25,6
    01955 01FE      MOVW	R30,R28
    01956 9632      ADIW	R30,2
    01957 E006      LDI	R16,6
    01958 E011      LDI	R17,1
    01959 93FA      ST	-Y,R31
    0195A 93EA      ST	-Y,R30
    0195B 939A      ST	-Y,R25
    0195C 938A      ST	-Y,R24
    0195D 940E 2977 CALL	asgnblk
(0660)   uint i=0;
(0661)    uchar keyV;
(0662)    lcd_write_str(0,0,"T");
    0195F EE88      LDI	R24,0xE8
    01960 E097      LDI	R25,7
    01961 8399      STD	Y+1,R25
    01962 8388      ST	Y,R24
    01963 2722      CLR	R18
    01964 2700      CLR	R16
    01965 940E 067F CALL	_lcd_write_str
(0663)    lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    01967 9120 0D14 LDS	R18,pageParam
    01969 9130 0D15 LDS	R19,pageParam+1
    0196B 5F2F      SUBI	R18,0xFF
    0196C 4F3F      SBCI	R19,0xFF
    0196D 6320      ORI	R18,0x30
    0196E 2700      CLR	R16
    0196F 940E 0627 CALL	_lcd_write_char_con
(0664)    lcd_write_char_con(0,':');
    01971 E32A      LDI	R18,0x3A
    01972 2700      CLR	R16
    01973 940E 0627 CALL	_lcd_write_char_con
(0665)    
(0666)    lcd_write_str(4,0,"升温");
    01975 EB8C      LDI	R24,0xBC
    01976 E097      LDI	R25,7
    01977 8399      STD	Y+1,R25
    01978 8388      ST	Y,R24
    01979 2722      CLR	R18
    0197A E004      LDI	R16,4
    0197B 940E 067F CALL	_lcd_write_str
(0667)    lcd_write_str(7,0,"恒温");
    0197D EB87      LDI	R24,0xB7
    0197E E097      LDI	R25,7
    0197F 8399      STD	Y+1,R25
    01980 8388      ST	Y,R24
    01981 2722      CLR	R18
    01982 E007      LDI	R16,7
    01983 940E 067F CALL	_lcd_write_str
(0668)    lcd_write_str(10,0,"温度");
    01985 EB82      LDI	R24,0xB2
    01986 E097      LDI	R25,7
    01987 8399      STD	Y+1,R25
    01988 8388      ST	Y,R24
    01989 2722      CLR	R18
    0198A E00A      LDI	R16,0xA
    0198B 940E 067F CALL	_lcd_write_str
(0669)    lcd_write_str(0,1,"保存");
    0198D EA8D      LDI	R24,0xAD
    0198E E097      LDI	R25,7
    0198F 8399      STD	Y+1,R25
    01990 8388      ST	Y,R24
    01991 E021      LDI	R18,1
    01992 2700      CLR	R16
    01993 940E 067F CALL	_lcd_write_str
(0670)    lcd_write_str(0,2,"取消");
    01995 EF86      LDI	R24,0xF6
    01996 E097      LDI	R25,7
    01997 8399      STD	Y+1,R25
    01998 8388      ST	Y,R24
    01999 E022      LDI	R18,2
    0199A 2700      CLR	R16
    0199B 940E 067F CALL	_lcd_write_str
(0671)    lcd_write_str(0,3,"重置");
    0199D EC8D      LDI	R24,0xCD
    0199E E097      LDI	R25,7
    0199F 8399      STD	Y+1,R25
    019A0 8388      ST	Y,R24
    019A1 E023      LDI	R18,3
    019A2 2700      CLR	R16
    019A3 940E 067F CALL	_lcd_write_str
(0672)   
(0673)   for(i=0;i<132;i++){
    019A5 24AA      CLR	R10
    019A6 24BB      CLR	R11
    019A7 C020      RJMP	0x19C8
(0674)     dataCach[i]=temps[pageParam[0]].temp_data[i];
    019A8 0115      MOVW	R2,R10
    019A9 0C22      LSL	R2
    019AA 1C33      ROL	R3
    019AB 0121      MOVW	R4,R2
    019AC 9120 0D14 LDS	R18,pageParam
    019AE 9130 0D15 LDS	R19,pageParam+1
    019B0 E30A      LDI	R16,0x3A
    019B1 E011      LDI	R17,1
    019B2 940E 28ED CALL	empy16s
    019B4 E188      LDI	R24,0x18
    019B5 E091      LDI	R25,1
    019B6 0118      MOVW	R2,R16
    019B7 0E28      ADD	R2,R24
    019B8 1E39      ADC	R3,R25
    019B9 01F2      MOVW	R30,R4
    019BA 0DE2      ADD	R30,R2
    019BB 1DF3      ADC	R31,R3
    019BC 8020      LD	R2,Z
    019BD 8031      LDD	R3,Z+1
    019BE 01CE      MOVW	R24,R28
    019BF 9602      ADIW	R24,2
    019C0 01F2      MOVW	R30,R4
    019C1 0FE8      ADD	R30,R24
    019C2 1FF9      ADC	R31,R25
    019C3 8231      STD	Z+1,R3
    019C4 8220      ST	Z,R2
    019C5 01C5      MOVW	R24,R10
    019C6 9601      ADIW	R24,1
    019C7 015C      MOVW	R10,R24
    019C8 01C5      MOVW	R24,R10
    019C9 3884      CPI	R24,0x84
    019CA E0E0      LDI	R30,0
    019CB 079E      CPC	R25,R30
    019CC F2D8      BCS	0x19A8
(0675)   }
(0676)     page4_data(0,dataCach);//调用函数填充
    019CD 019E      MOVW	R18,R28
    019CE 5F2E      SUBI	R18,0xFE
    019CF 4F3F      SBCI	R19,0xFF
    019D0 2700      CLR	R16
    019D1 2711      CLR	R17
    019D2 DCF7      RCALL	_page4_data
(0677)    cur=0;
    019D3 2744      CLR	R20
    019D4 2755      CLR	R21
(0678)    lcd_write_pos(3,1);
    019D5 E021      LDI	R18,1
    019D6 E003      LDI	R16,3
    019D7 940E 063B CALL	_lcd_write_pos
(0679)    cur_set(3);
    019D9 E003      LDI	R16,3
    019DA E010      LDI	R17,0
    019DB 940E 07F0 CALL	_cur_set
    019DD C22A      RJMP	0x1C08
(0680)    
(0681)    //Set_White(9,2,10);
(0682)     while(1){
(0683)       keyV=KeyScan_once();
    019DE 940E 051C CALL	_KeyScan_once
    019E0 2EA0      MOV	R10,R16
(0684) 	  if(keyV=='e'){
    019E1 3605      CPI	R16,0x65
    019E2 F509      BNE	0x1A04
(0685) 	        Set_White_off(1,1,2);
    019E3 E082      LDI	R24,2
    019E4 8388      ST	Y,R24
    019E5 E021      LDI	R18,1
    019E6 E001      LDI	R16,1
    019E7 940E 0834 CALL	_Set_White_off
(0686) 			Set_White_off(1,2,2);
    019E9 E082      LDI	R24,2
    019EA 8388      ST	Y,R24
    019EB E022      LDI	R18,2
    019EC E001      LDI	R16,1
    019ED 940E 0834 CALL	_Set_White_off
(0687) 			Set_White_off(1,3,2);
    019EF E082      LDI	R24,2
    019F0 8388      ST	Y,R24
    019F1 E023      LDI	R18,3
    019F2 E001      LDI	R16,1
    019F3 940E 0834 CALL	_Set_White_off
(0688) 			cur_set(0);
    019F5 2700      CLR	R16
    019F6 2711      CLR	R17
    019F7 940E 07F0 CALL	_cur_set
(0689) 			cur_set(4);
    019F9 E004      LDI	R16,4
    019FA E010      LDI	R17,0
    019FB 940E 07F0 CALL	_cur_set
(0690) 		    pageNum=3;
    019FD E083      LDI	R24,3
    019FE E090      LDI	R25,0
    019FF 9390 0D1F STS	pageNum+1,R25
    01A01 9380 0D1E STS	pageNum,R24
(0691) 		    return;
    01A03 C205      RJMP	0x1C09
(0692) 	  }else if(keyV=='u'){
    01A04 2D8A      MOV	R24,R10
    01A05 3785      CPI	R24,0x75
    01A06 F009      BEQ	0x1A08
    01A07 C046      RJMP	0x1A4E
(0693) 	     if(cur==133){
    01A08 3845      CPI	R20,0x85
    01A09 E0E0      LDI	R30,0
    01A0A 075E      CPC	R21,R30
    01A0B F479      BNE	0x1A1B
(0694) 		    Set_White(1,1,2);
    01A0C E082      LDI	R24,2
    01A0D 8388      ST	Y,R24
    01A0E E021      LDI	R18,1
    01A0F E001      LDI	R16,1
    01A10 940E 08A4 CALL	_Set_White
(0695) 			Set_White_off(1,2,2);
    01A12 E082      LDI	R24,2
    01A13 8388      ST	Y,R24
    01A14 E022      LDI	R18,2
    01A15 E001      LDI	R16,1
    01A16 940E 0834 CALL	_Set_White_off
(0696) 			cur=132;
    01A18 E844      LDI	R20,0x84
    01A19 E050      LDI	R21,0
(0697) 		 }else if(cur==134){
    01A1A C1ED      RJMP	0x1C08
    01A1B 3846      CPI	R20,0x86
    01A1C E0E0      LDI	R30,0
    01A1D 075E      CPC	R21,R30
    01A1E F479      BNE	0x1A2E
(0698) 		    Set_White(1,2,2);
    01A1F E082      LDI	R24,2
    01A20 8388      ST	Y,R24
    01A21 E022      LDI	R18,2
    01A22 E001      LDI	R16,1
    01A23 940E 08A4 CALL	_Set_White
(0699) 			Set_White_off(1,3,2);
    01A25 E082      LDI	R24,2
    01A26 8388      ST	Y,R24
    01A27 E023      LDI	R18,3
    01A28 E001      LDI	R16,1
    01A29 940E 0834 CALL	_Set_White_off
(0700) 			cur=133;
    01A2B E845      LDI	R20,0x85
    01A2C E050      LDI	R21,0
(0701) 		 }else if(cur>10 && cur<=131){
    01A2D C1DA      RJMP	0x1C08
    01A2E E08A      LDI	R24,0xA
    01A2F E090      LDI	R25,0
    01A30 1784      CP	R24,R20
    01A31 0795      CPC	R25,R21
    01A32 F008      BCS	0x1A34
    01A33 C1D4      RJMP	0x1C08
    01A34 E883      LDI	R24,0x83
    01A35 1784      CP	R24,R20
    01A36 0795      CPC	R25,R21
    01A37 F408      BCC	0x1A39
    01A38 C1CF      RJMP	0x1C08
(0702) 		   oldcur=cur;
    01A39 01BA      MOVW	R22,R20
(0703) 	       cur=(cur/11-1)*11;
    01A3A E02B      LDI	R18,0xB
    01A3B E030      LDI	R19,0
    01A3C 018A      MOVW	R16,R20
    01A3D 940E 28BF CALL	div16u
    01A3F 0198      MOVW	R18,R16
    01A40 5021      SUBI	R18,1
    01A41 4030      SBCI	R19,0
    01A42 E00B      LDI	R16,0xB
    01A43 E010      LDI	R17,0
    01A44 940E 28ED CALL	empy16s
    01A46 01A8      MOVW	R20,R16
(0704) 		   page4_ac(cur,oldcur,dataCach);
    01A47 01CE      MOVW	R24,R28
    01A48 9602      ADIW	R24,2
    01A49 8399      STD	Y+1,R25
    01A4A 8388      ST	Y,R24
    01A4B 019B      MOVW	R18,R22
    01A4C DE21      RCALL	_page4_ac
(0705) 		 }
(0706) 	  }else if(keyV=='d'){
    01A4D C1BA      RJMP	0x1C08
    01A4E 2D8A      MOV	R24,R10
    01A4F 3684      CPI	R24,0x64
    01A50 F009      BEQ	0x1A52
    01A51 C040      RJMP	0x1A92
(0707) 	     if(cur==132){
    01A52 3844      CPI	R20,0x84
    01A53 E0E0      LDI	R30,0
    01A54 075E      CPC	R21,R30
    01A55 F479      BNE	0x1A65
(0708) 		    Set_White_off(1,1,2);
    01A56 E082      LDI	R24,2
    01A57 8388      ST	Y,R24
    01A58 E021      LDI	R18,1
    01A59 E001      LDI	R16,1
    01A5A 940E 0834 CALL	_Set_White_off
(0709) 			Set_White(1,2,2);
    01A5C E082      LDI	R24,2
    01A5D 8388      ST	Y,R24
    01A5E E022      LDI	R18,2
    01A5F E001      LDI	R16,1
    01A60 940E 08A4 CALL	_Set_White
(0710) 			cur=133;
    01A62 E845      LDI	R20,0x85
    01A63 E050      LDI	R21,0
(0711) 		 }else if(cur==133){
    01A64 C1A3      RJMP	0x1C08
    01A65 3845      CPI	R20,0x85
    01A66 E0E0      LDI	R30,0
    01A67 075E      CPC	R21,R30
    01A68 F479      BNE	0x1A78
(0712) 		    Set_White_off(1,2,2);
    01A69 E082      LDI	R24,2
    01A6A 8388      ST	Y,R24
    01A6B E022      LDI	R18,2
    01A6C E001      LDI	R16,1
    01A6D 940E 0834 CALL	_Set_White_off
(0713) 			Set_White(1,3,2);
    01A6F E082      LDI	R24,2
    01A70 8388      ST	Y,R24
    01A71 E023      LDI	R18,3
    01A72 E001      LDI	R16,1
    01A73 940E 08A4 CALL	_Set_White
(0714) 			cur=134;
    01A75 E846      LDI	R20,0x86
    01A76 E050      LDI	R21,0
(0715) 		 }else if(cur<121){
    01A77 C190      RJMP	0x1C08
    01A78 3749      CPI	R20,0x79
    01A79 E0E0      LDI	R30,0
    01A7A 075E      CPC	R21,R30
    01A7B F008      BCS	0x1A7D
    01A7C C18B      RJMP	0x1C08
(0716) 	      oldcur=cur;
    01A7D 01BA      MOVW	R22,R20
(0717) 	      cur=(cur/11+1)*11;
    01A7E E02B      LDI	R18,0xB
    01A7F E030      LDI	R19,0
    01A80 018A      MOVW	R16,R20
    01A81 940E 28BF CALL	div16u
    01A83 0198      MOVW	R18,R16
    01A84 5F2F      SUBI	R18,0xFF
    01A85 4F3F      SBCI	R19,0xFF
    01A86 E00B      LDI	R16,0xB
    01A87 E010      LDI	R17,0
    01A88 940E 28ED CALL	empy16s
    01A8A 01A8      MOVW	R20,R16
(0718) 		  page4_ac(cur,oldcur,dataCach);
    01A8B 01CE      MOVW	R24,R28
    01A8C 9602      ADIW	R24,2
    01A8D 8399      STD	Y+1,R25
    01A8E 8388      ST	Y,R24
    01A8F 019B      MOVW	R18,R22
    01A90 DDDD      RCALL	_page4_ac
(0719) 		}
(0720) 		
(0721) 	  }else if(keyV=='l'){
    01A91 C176      RJMP	0x1C08
    01A92 2D8A      MOV	R24,R10
    01A93 368C      CPI	R24,0x6C
    01A94 F009      BEQ	0x1A96
    01A95 C049      RJMP	0x1ADF
(0722) 	   oldcur=cur;
    01A96 01BA      MOVW	R22,R20
(0723) 	  if(cur%11==0){
    01A97 E02B      LDI	R18,0xB
    01A98 E030      LDI	R19,0
    01A99 018A      MOVW	R16,R20
    01A9A 940E 28BD CALL	mod16u
    01A9C 3000      CPI	R16,0
    01A9D 0701      CPC	R16,R17
    01A9E F489      BNE	0x1AB0
(0724) 	        Set_White(1,1,2);
    01A9F E082      LDI	R24,2
    01AA0 8388      ST	Y,R24
    01AA1 E021      LDI	R18,1
    01AA2 E001      LDI	R16,1
    01AA3 940E 08A4 CALL	_Set_White
(0725) 			cur_set(0);
    01AA5 2700      CLR	R16
    01AA6 2711      CLR	R17
    01AA7 940E 07F0 CALL	_cur_set
(0726) 			cur_set(4);
    01AA9 E004      LDI	R16,4
    01AAA E010      LDI	R17,0
    01AAB 940E 07F0 CALL	_cur_set
(0727) 			cur=132;
    01AAD E844      LDI	R20,0x84
    01AAE E050      LDI	R21,0
(0728) 	   }else if(cur%11==2 || cur%11==4 || cur%11==6 || cur%11==8){
    01AAF C158      RJMP	0x1C08
    01AB0 E02B      LDI	R18,0xB
    01AB1 E030      LDI	R19,0
    01AB2 018A      MOVW	R16,R20
    01AB3 940E 28BD CALL	mod16u
    01AB5 0168      MOVW	R12,R16
    01AB6 01C6      MOVW	R24,R12
    01AB7 3002      CPI	R16,2
    01AB8 E0E0      LDI	R30,0
    01AB9 071E      CPC	R17,R30
    01ABA F061      BEQ	0x1AC7
    01ABB 3004      CPI	R16,4
    01ABC E0E0      LDI	R30,0
    01ABD 071E      CPC	R17,R30
    01ABE F041      BEQ	0x1AC7
    01ABF 3006      CPI	R16,6
    01AC0 E0E0      LDI	R30,0
    01AC1 071E      CPC	R17,R30
    01AC2 F021      BEQ	0x1AC7
    01AC3 3008      CPI	R16,0x8
    01AC4 E0E0      LDI	R30,0
    01AC5 071E      CPC	R17,R30
    01AC6 F451      BNE	0x1AD1
(0729) 	      cur-=2;
    01AC7 5042      SUBI	R20,2
    01AC8 4050      SBCI	R21,0
(0730) 		   page4_ac(cur,oldcur,dataCach);
    01AC9 01CE      MOVW	R24,R28
    01ACA 9602      ADIW	R24,2
    01ACB 8399      STD	Y+1,R25
    01ACC 8388      ST	Y,R24
    01ACD 019B      MOVW	R18,R22
    01ACE 018A      MOVW	R16,R20
    01ACF DD9E      RCALL	_page4_ac
(0731) 		}else if(cur>0){
    01AD0 C137      RJMP	0x1C08
    01AD1 3040      CPI	R20,0
    01AD2 0745      CPC	R20,R21
    01AD3 F409      BNE	0x1AD5
    01AD4 C133      RJMP	0x1C08
(0732) 	      cur--;
    01AD5 5041      SUBI	R20,1
    01AD6 4050      SBCI	R21,0
(0733) 		   page4_ac(cur,oldcur,dataCach);
    01AD7 01CE      MOVW	R24,R28
    01AD8 9602      ADIW	R24,2
    01AD9 8399      STD	Y+1,R25
    01ADA 8388      ST	Y,R24
    01ADB 019B      MOVW	R18,R22
    01ADC 018A      MOVW	R16,R20
    01ADD DD90      RCALL	_page4_ac
(0734) 		}
(0735) 	  
(0736) 	  }else if(keyV=='r'){
    01ADE C129      RJMP	0x1C08
    01ADF 2D8A      MOV	R24,R10
    01AE0 3782      CPI	R24,0x72
    01AE1 F541      BNE	0x1B0A
(0737) 	  if(cur>131){
    01AE2 E883      LDI	R24,0x83
    01AE3 E090      LDI	R25,0
    01AE4 1784      CP	R24,R20
    01AE5 0795      CPC	R25,R21
    01AE6 F4A0      BCC	0x1AFB
(0738) 	      Set_White_off(1,1,2);
    01AE7 E082      LDI	R24,2
    01AE8 8388      ST	Y,R24
    01AE9 E021      LDI	R18,1
    01AEA E001      LDI	R16,1
    01AEB 940E 0834 CALL	_Set_White_off
(0739) 	      Set_White_off(1,2,2);
    01AED E082      LDI	R24,2
    01AEE 8388      ST	Y,R24
    01AEF E022      LDI	R18,2
    01AF0 E001      LDI	R16,1
    01AF1 940E 0834 CALL	_Set_White_off
(0740) 		  Set_White_off(1,3,2);
    01AF3 E082      LDI	R24,2
    01AF4 8388      ST	Y,R24
    01AF5 E023      LDI	R18,3
    01AF6 E001      LDI	R16,1
    01AF7 940E 0834 CALL	_Set_White_off
(0741) 		  cur=oldcur;
    01AF9 01AB      MOVW	R20,R22
(0742) 	  }else  if(cur<131){
    01AFA C007      RJMP	0x1B02
    01AFB 3843      CPI	R20,0x83
    01AFC E0E0      LDI	R30,0
    01AFD 075E      CPC	R21,R30
    01AFE F418      BCC	0x1B02
(0743) 		 oldcur=cur;
    01AFF 01BA      MOVW	R22,R20
(0744) 	     cur++;
    01B00 5F4F      SUBI	R20,0xFF
    01B01 4F5F      SBCI	R21,0xFF
(0745) 		 }
(0746) 	    page4_ac(cur,oldcur,dataCach);
    01B02 01CE      MOVW	R24,R28
    01B03 9602      ADIW	R24,2
    01B04 8399      STD	Y+1,R25
    01B05 8388      ST	Y,R24
    01B06 019B      MOVW	R18,R22
    01B07 018A      MOVW	R16,R20
    01B08 DD65      RCALL	_page4_ac
(0747) 	  }else if(keyV=='t'){	    
    01B09 C0FE      RJMP	0x1C08
    01B0A 2D8A      MOV	R24,R10
    01B0B 3784      CPI	R24,0x74
    01B0C F009      BEQ	0x1B0E
    01B0D C098      RJMP	0x1BA6
(0748) 	     if(cur==132){
    01B0E 3844      CPI	R20,0x84
    01B0F E0E0      LDI	R30,0
    01B10 075E      CPC	R21,R30
    01B11 F009      BEQ	0x1B13
    01B12 C03E      RJMP	0x1B51
(0749) 		   Set_White_off(1,1,2);
    01B13 E082      LDI	R24,2
    01B14 8388      ST	Y,R24
    01B15 E021      LDI	R18,1
    01B16 E001      LDI	R16,1
    01B17 940E 0834 CALL	_Set_White_off
(0750) 			Set_White_off(1,2,2);
    01B19 E082      LDI	R24,2
    01B1A 8388      ST	Y,R24
    01B1B E022      LDI	R18,2
    01B1C E001      LDI	R16,1
    01B1D 940E 0834 CALL	_Set_White_off
(0751) 			Set_White_off(1,3,2);
    01B1F E082      LDI	R24,2
    01B20 8388      ST	Y,R24
    01B21 E023      LDI	R18,3
    01B22 E001      LDI	R16,1
    01B23 940E 0834 CALL	_Set_White_off
(0752) 		   cur_set(0);
    01B25 2700      CLR	R16
    01B26 2711      CLR	R17
    01B27 940E 07F0 CALL	_cur_set
(0753) 			cur_set(4);
    01B29 E004      LDI	R16,4
    01B2A E010      LDI	R17,0
    01B2B 940E 07F0 CALL	_cur_set
(0754) 			lcd_clear();
    01B2D 940E 0736 CALL	_lcd_clear
(0755) 			lcd_write_str(5,2,"保存中. . .");
    01B2F EA81      LDI	R24,0xA1
    01B30 E097      LDI	R25,7
    01B31 8399      STD	Y+1,R25
    01B32 8388      ST	Y,R24
    01B33 E022      LDI	R18,2
    01B34 E005      LDI	R16,5
    01B35 940E 067F CALL	_lcd_write_str
(0756) 		    pageParam[1]=1;//表示是温度数据的，这里处理保存的方法，因为数据在这里。只是跳转过去，参数如果是1表示成功。2表示失败
    01B37 E081      LDI	R24,1
    01B38 E090      LDI	R25,0
    01B39 9390 0D17 STS	pageParam+3,R25
    01B3B 9380 0D16 STS	pageParam+2,R24
(0757) 		    prePageNum=4;
    01B3D E084      LDI	R24,4
    01B3E 9390 0D13 STS	prePageNum+1,R25
    01B40 9380 0D12 STS	prePageNum,R24
(0758) 		    pageNum=6;
    01B42 E086      LDI	R24,6
    01B43 9390 0D1F STS	pageNum+1,R25
    01B45 9380 0D1E STS	pageNum,R24
(0759) 			set_temp_data(pageParam[0],dataCach);//保存数据
    01B47 019E      MOVW	R18,R28
    01B48 5F2E      SUBI	R18,0xFE
    01B49 4F3F      SBCI	R19,0xFF
    01B4A 9100 0D14 LDS	R16,pageParam
    01B4C 9110 0D15 LDS	R17,pageParam+1
    01B4E 940E 24F4 CALL	_set_temp_data
(0760) 		    return;
    01B50 C0B8      RJMP	0x1C09
(0761) 		 }else if(cur==133){
    01B51 3845      CPI	R20,0x85
    01B52 E0E0      LDI	R30,0
    01B53 075E      CPC	R21,R30
    01B54 F509      BNE	0x1B76
(0762) 		    Set_White_off(1,1,2);
    01B55 E082      LDI	R24,2
    01B56 8388      ST	Y,R24
    01B57 E021      LDI	R18,1
    01B58 E001      LDI	R16,1
    01B59 940E 0834 CALL	_Set_White_off
(0763) 			Set_White_off(1,2,2);
    01B5B E082      LDI	R24,2
    01B5C 8388      ST	Y,R24
    01B5D E022      LDI	R18,2
    01B5E E001      LDI	R16,1
    01B5F 940E 0834 CALL	_Set_White_off
(0764) 			Set_White_off(1,3,2);
    01B61 E082      LDI	R24,2
    01B62 8388      ST	Y,R24
    01B63 E023      LDI	R18,3
    01B64 E001      LDI	R16,1
    01B65 940E 0834 CALL	_Set_White_off
(0765) 		    cur_set(0);
    01B67 2700      CLR	R16
    01B68 2711      CLR	R17
    01B69 940E 07F0 CALL	_cur_set
(0766) 			cur_set(4);
    01B6B E004      LDI	R16,4
    01B6C E010      LDI	R17,0
    01B6D 940E 07F0 CALL	_cur_set
(0767) 		    pageNum=3;
    01B6F E083      LDI	R24,3
    01B70 E090      LDI	R25,0
    01B71 9390 0D1F STS	pageNum+1,R25
    01B73 9380 0D1E STS	pageNum,R24
(0768) 		    return;
    01B75 C093      RJMP	0x1C09
(0769) 		 }else if(cur==134){
    01B76 3846      CPI	R20,0x86
    01B77 E0E0      LDI	R30,0
    01B78 075E      CPC	R21,R30
    01B79 F009      BEQ	0x1B7B
    01B7A C08D      RJMP	0x1C08
(0770) 		    Set_White_off(1,1,2);
    01B7B E082      LDI	R24,2
    01B7C 8388      ST	Y,R24
    01B7D E021      LDI	R18,1
    01B7E E001      LDI	R16,1
    01B7F 940E 0834 CALL	_Set_White_off
(0771) 			Set_White_off(1,2,2);
    01B81 E082      LDI	R24,2
    01B82 8388      ST	Y,R24
    01B83 E022      LDI	R18,2
    01B84 E001      LDI	R16,1
    01B85 940E 0834 CALL	_Set_White_off
(0772) 			Set_White_off(1,3,2);
    01B87 E082      LDI	R24,2
    01B88 8388      ST	Y,R24
    01B89 E023      LDI	R18,3
    01B8A E001      LDI	R16,1
    01B8B 940E 0834 CALL	_Set_White_off
(0773) 		   cur_set(0);
    01B8D 2700      CLR	R16
    01B8E 2711      CLR	R17
    01B8F 940E 07F0 CALL	_cur_set
(0774) 			cur_set(4);
    01B91 E004      LDI	R16,4
    01B92 E010      LDI	R17,0
    01B93 940E 07F0 CALL	_cur_set
(0775) 		   //重置。有提示
(0776) 			pageParam[2]=1;//表示重置是温度数据的
    01B95 E081      LDI	R24,1
    01B96 E090      LDI	R25,0
    01B97 9390 0D19 STS	pageParam+5,R25
    01B99 9380 0D18 STS	pageParam+4,R24
(0777) 			prePageNum=4;
    01B9B E084      LDI	R24,4
    01B9C 9390 0D13 STS	prePageNum+1,R25
    01B9E 9380 0D12 STS	prePageNum,R24
(0778) 		    pageNum=7;
    01BA0 E087      LDI	R24,7
    01BA1 9390 0D1F STS	pageNum+1,R25
    01BA3 9380 0D1E STS	pageNum,R24
(0779) 		    return;
    01BA5 C063      RJMP	0x1C09
(0780) 		 }
(0781) 	     
(0782) 	  }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    01BA6 2D8A      MOV	R24,R10
    01BA7 3380      CPI	R24,0x30
    01BA8 F099      BEQ	0x1BBC
    01BA9 3381      CPI	R24,0x31
    01BAA F089      BEQ	0x1BBC
    01BAB 3382      CPI	R24,0x32
    01BAC F079      BEQ	0x1BBC
    01BAD 3383      CPI	R24,0x33
    01BAE F069      BEQ	0x1BBC
    01BAF 3384      CPI	R24,0x34
    01BB0 F059      BEQ	0x1BBC
    01BB1 3385      CPI	R24,0x35
    01BB2 F049      BEQ	0x1BBC
    01BB3 3386      CPI	R24,0x36
    01BB4 F039      BEQ	0x1BBC
    01BB5 3387      CPI	R24,0x37
    01BB6 F029      BEQ	0x1BBC
    01BB7 3388      CPI	R24,0x38
    01BB8 F019      BEQ	0x1BBC
    01BB9 3389      CPI	R24,0x39
    01BBA F009      BEQ	0x1BBC
    01BBB C04C      RJMP	0x1C08
(0783) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(0784) 			  if(cur <132){//判断还在输入域
    01BBC 3844      CPI	R20,0x84
    01BBD E0E0      LDI	R30,0
    01BBE 075E      CPC	R21,R30
    01BBF F008      BCS	0x1BC1
    01BC0 C047      RJMP	0x1C08
(0785) 			   if((cur/11)%3==0){
    01BC1 E02B      LDI	R18,0xB
    01BC2 E030      LDI	R19,0
    01BC3 018A      MOVW	R16,R20
    01BC4 940E 28BF CALL	div16u
    01BC6 E023      LDI	R18,3
    01BC7 E030      LDI	R19,0
    01BC8 940E 28BD CALL	mod16u
    01BCA 3000      CPI	R16,0
    01BCB 0701      CPC	R16,R17
    01BCC F431      BNE	0x1BD3
(0786) 			      lcd_write_char_con(1,0x30 | keyV);
    01BCD 2D2A      MOV	R18,R10
    01BCE 6320      ORI	R18,0x30
    01BCF E001      LDI	R16,1
    01BD0 940E 0627 CALL	_lcd_write_char_con
(0787) 				}else{
    01BD2 C005      RJMP	0x1BD8
(0788) 				  lcd_write_char_con(2,0x30 | keyV);
    01BD3 2D2A      MOV	R18,R10
    01BD4 6320      ORI	R18,0x30
    01BD5 E002      LDI	R16,2
    01BD6 940E 0627 CALL	_lcd_write_char_con
(0789) 				}
(0790) 				dataCach[cur]=keyV;
    01BD8 01CE      MOVW	R24,R28
    01BD9 9602      ADIW	R24,2
    01BDA 01FA      MOVW	R30,R20
    01BDB 0FEE      LSL	R30
    01BDC 1FFF      ROL	R31
    01BDD 0FE8      ADD	R30,R24
    01BDE 1FF9      ADC	R31,R25
    01BDF 2C2A      MOV	R2,R10
    01BE0 2433      CLR	R3
    01BE1 8231      STD	Z+1,R3
    01BE2 8220      ST	Z,R2
(0791) 				oldcur=cur;
    01BE3 01BA      MOVW	R22,R20
(0792) 				if(cur<131)
    01BE4 3863      CPI	R22,0x83
    01BE5 E0E0      LDI	R30,0
    01BE6 077E      CPC	R23,R30
    01BE7 F450      BCC	0x1BF2
(0793) 				{
(0794) 				  cur++;
    01BE8 5F4F      SUBI	R20,0xFF
    01BE9 4F5F      SBCI	R21,0xFF
(0795) 				  page4_ac(cur,oldcur,dataCach);
    01BEA 01CE      MOVW	R24,R28
    01BEB 9602      ADIW	R24,2
    01BEC 8399      STD	Y+1,R25
    01BED 8388      ST	Y,R24
    01BEE 019B      MOVW	R18,R22
    01BEF 018A      MOVW	R16,R20
    01BF0 DC7D      RCALL	_page4_ac
(0796) 				}else if(cur==131){//最后一个131会在上面处理，最后一次进入这里。跳到保存
    01BF1 C016      RJMP	0x1C08
    01BF2 3843      CPI	R20,0x83
    01BF3 E0E0      LDI	R30,0
    01BF4 075E      CPC	R21,R30
    01BF5 F491      BNE	0x1C08
(0797) 				  Set_White(1,1,2);
    01BF6 E082      LDI	R24,2
    01BF7 8388      ST	Y,R24
    01BF8 E021      LDI	R18,1
    01BF9 E001      LDI	R16,1
    01BFA 940E 08A4 CALL	_Set_White
(0798) 			       cur_set(0);
    01BFC 2700      CLR	R16
    01BFD 2711      CLR	R17
    01BFE 940E 07F0 CALL	_cur_set
(0799) 			       cur_set(4);
    01C00 E004      LDI	R16,4
    01C01 E010      LDI	R17,0
    01C02 940E 07F0 CALL	_cur_set
(0800) 			       cur=132;
    01C04 E844      LDI	R20,0x84
    01C05 E050      LDI	R21,0
(0801) 				   oldcur=99;
    01C06 E663      LDI	R22,0x63
    01C07 E070      LDI	R23,0
    01C08 CDD5      RJMP	0x19DE
    01C09 96EF      ADIW	R28,0x3F
    01C0A 96EF      ADIW	R28,0x3F
    01C0B 96EF      ADIW	R28,0x3F
    01C0C 96EF      ADIW	R28,0x3F
    01C0D 962C      ADIW	R28,0xC
    01C0E 940C 2958 JMP	pop_xgsetF03C
_page5:
  ddflag               --> R22
  cur                  --> R20
  keyV                 --> R10
    01C10 940E 2933 CALL	push_xgsetF00C
    01C12 9722      SBIW	R28,2
(0802) 				}
(0803) 				
(0804) 			  }
(0805) 		}
(0806) 	}
(0807)  }
(0808)  
(0809)  void page5(void){
(0810)   uint cur=0;
    01C13 2744      CLR	R20
    01C14 2755      CLR	R21
(0811)    uchar keyV;
(0812)    uint ddflag;
(0813)    lcd_write_str(4,0,"断电自动恢复");
    01C15 E984      LDI	R24,0x94
    01C16 E097      LDI	R25,7
    01C17 8399      STD	Y+1,R25
    01C18 8388      ST	Y,R24
    01C19 2722      CLR	R18
    01C1A E004      LDI	R16,4
    01C1B 940E 067F CALL	_lcd_write_str
(0814)    lcd_write_str(4,1,"设置时间");
    01C1D E88B      LDI	R24,0x8B
    01C1E E097      LDI	R25,7
    01C1F 8399      STD	Y+1,R25
    01C20 8388      ST	Y,R24
    01C21 E021      LDI	R18,1
    01C22 E004      LDI	R16,4
    01C23 940E 067F CALL	_lcd_write_str
(0815)    lcd_write_str(4,2,"重置系统");
    01C25 E882      LDI	R24,0x82
    01C26 E097      LDI	R25,7
    01C27 8399      STD	Y+1,R25
    01C28 8388      ST	Y,R24
    01C29 E022      LDI	R18,2
    01C2A E004      LDI	R16,4
    01C2B 940E 067F CALL	_lcd_write_str
(0816)     ddflag=EEPROM_read(0,0);
    01C2D 2722      CLR	R18
    01C2E 2733      CLR	R19
    01C2F 2700      CLR	R16
    01C30 2711      CLR	R17
    01C31 940E 0F47 CALL	_EEPROM_read
    01C33 01B8      MOVW	R22,R16
(0817) 	if(ddflag==0){
    01C34 3000      CPI	R16,0
    01C35 0701      CPC	R16,R17
    01C36 F459      BNE	0x1C42
(0818)       lcd_write_char(3,0,0xA1);
    01C37 EA81      LDI	R24,0xA1
    01C38 8388      ST	Y,R24
    01C39 2722      CLR	R18
    01C3A E003      LDI	R16,3
    01C3B 940E 0659 CALL	_lcd_write_char
(0819)       lcd_write_char_con(0,0xC1);
    01C3D EC21      LDI	R18,0xC1
    01C3E 2700      CLR	R16
    01C3F 940E 0627 CALL	_lcd_write_char_con
(0820)    }else {
    01C41 C00A      RJMP	0x1C4C
(0821)       lcd_write_char(3,0,0xA1);
    01C42 EA81      LDI	R24,0xA1
    01C43 8388      ST	Y,R24
    01C44 2722      CLR	R18
    01C45 E003      LDI	R16,3
    01C46 940E 0659 CALL	_lcd_write_char
(0822)       lcd_write_char_con(0,0xCC);
    01C48 EC2C      LDI	R18,0xCC
    01C49 2700      CLR	R16
    01C4A 940E 0627 CALL	_lcd_write_char_con
(0823)    }
(0824)    cur=0;
    01C4C 2744      CLR	R20
    01C4D 2755      CLR	R21
(0825)    Set_White(5,0,10);
    01C4E E08A      LDI	R24,0xA
    01C4F 8388      ST	Y,R24
    01C50 2722      CLR	R18
    01C51 E005      LDI	R16,5
    01C52 940E 08A4 CALL	_Set_White
    01C54 C0DC      RJMP	0x1D31
(0826)    while(1){
(0827)       keyV=KeyScan_once();
    01C55 940E 051C CALL	_KeyScan_once
    01C57 2EA0      MOV	R10,R16
(0828) 	  if(keyV=='u'){
    01C58 3705      CPI	R16,0x75
    01C59 F539      BNE	0x1C81
(0829) 	    switch(cur){
    01C5A 3041      CPI	R20,1
    01C5B E0E0      LDI	R30,0
    01C5C 075E      CPC	R21,R30
    01C5D F029      BEQ	0x1C63
    01C5E 3042      CPI	R20,2
    01C5F E0E0      LDI	R30,0
    01C60 075E      CPC	R21,R30
    01C61 F081      BEQ	0x1C72
    01C62 C0CE      RJMP	0x1D31
(0830) 		  case 1:
(0831) 		   Set_White_off(5,1,8);
    01C63 E088      LDI	R24,0x8
    01C64 8388      ST	Y,R24
    01C65 E021      LDI	R18,1
    01C66 E005      LDI	R16,5
    01C67 940E 0834 CALL	_Set_White_off
(0832) 		   Set_White(5,0,10);
    01C69 E08A      LDI	R24,0xA
    01C6A 8388      ST	Y,R24
    01C6B 2722      CLR	R18
    01C6C E005      LDI	R16,5
    01C6D 940E 08A4 CALL	_Set_White
(0833) 		   cur=0;
    01C6F 2744      CLR	R20
    01C70 2755      CLR	R21
(0834) 		   break;
    01C71 C0BF      RJMP	0x1D31
(0835) 		  case 2: 
(0836) 		   Set_White_off(5,2,8);
    01C72 E088      LDI	R24,0x8
    01C73 8388      ST	Y,R24
    01C74 E022      LDI	R18,2
    01C75 E005      LDI	R16,5
    01C76 940E 0834 CALL	_Set_White_off
(0837) 		   Set_White(5,1,8);
    01C78 E088      LDI	R24,0x8
    01C79 8388      ST	Y,R24
    01C7A E021      LDI	R18,1
    01C7B E005      LDI	R16,5
    01C7C 940E 08A4 CALL	_Set_White
(0838) 		   cur=1;
    01C7E E041      LDI	R20,1
    01C7F E050      LDI	R21,0
(0839) 		   break;
(0840) 		}
(0841) 	  }else if(keyV=='d'){
    01C80 C0B0      RJMP	0x1D31
    01C81 2D8A      MOV	R24,R10
    01C82 3684      CPI	R24,0x64
    01C83 F531      BNE	0x1CAA
(0842) 	      switch(cur){
    01C84 3040      CPI	R20,0
    01C85 0745      CPC	R20,R21
    01C86 F029      BEQ	0x1C8C
    01C87 3041      CPI	R20,1
    01C88 E0E0      LDI	R30,0
    01C89 075E      CPC	R21,R30
    01C8A F081      BEQ	0x1C9B
    01C8B C0A5      RJMP	0x1D31
(0843) 		  case 0:
(0844) 		   Set_White_off(5,0,10);
    01C8C E08A      LDI	R24,0xA
    01C8D 8388      ST	Y,R24
    01C8E 2722      CLR	R18
    01C8F E005      LDI	R16,5
    01C90 940E 0834 CALL	_Set_White_off
(0845) 		   Set_White(5,1,8);
    01C92 E088      LDI	R24,0x8
    01C93 8388      ST	Y,R24
    01C94 E021      LDI	R18,1
    01C95 E005      LDI	R16,5
    01C96 940E 08A4 CALL	_Set_White
(0846) 		   cur=1;
    01C98 E041      LDI	R20,1
    01C99 E050      LDI	R21,0
(0847) 		   break;
    01C9A C096      RJMP	0x1D31
(0848) 		  case 1: 
(0849) 		   Set_White_off(5,1,8);
    01C9B E088      LDI	R24,0x8
    01C9C 8388      ST	Y,R24
    01C9D E021      LDI	R18,1
    01C9E E005      LDI	R16,5
    01C9F 940E 0834 CALL	_Set_White_off
(0850) 		   Set_White(5,2,8);
    01CA1 E088      LDI	R24,0x8
    01CA2 8388      ST	Y,R24
    01CA3 E022      LDI	R18,2
    01CA4 E005      LDI	R16,5
    01CA5 940E 08A4 CALL	_Set_White
(0851) 		   cur=2;
    01CA7 E042      LDI	R20,2
    01CA8 E050      LDI	R21,0
(0852) 		   break;
(0853) 		}
(0854) 	  }else if(keyV=='e'){
    01CA9 C087      RJMP	0x1D31
    01CAA 2D8A      MOV	R24,R10
    01CAB 3685      CPI	R24,0x65
    01CAC F539      BNE	0x1CD4
(0855) 	     switch(cur){
    01CAD 3040      CPI	R20,0
    01CAE 0745      CPC	R20,R21
    01CAF F049      BEQ	0x1CB9
    01CB0 3041      CPI	R20,1
    01CB1 E0E0      LDI	R30,0
    01CB2 075E      CPC	R21,R30
    01CB3 F061      BEQ	0x1CC0
    01CB4 3042      CPI	R20,2
    01CB5 E0E0      LDI	R30,0
    01CB6 075E      CPC	R21,R30
    01CB7 F079      BEQ	0x1CC7
    01CB8 C014      RJMP	0x1CCD
(0856) 		 case 0: 
(0857) 		   Set_White_off(5,0,10);
    01CB9 E08A      LDI	R24,0xA
    01CBA 8388      ST	Y,R24
    01CBB 2722      CLR	R18
    01CBC E005      LDI	R16,5
    01CBD 940E 0834 CALL	_Set_White_off
(0858) 		    break;
    01CBF C00D      RJMP	0x1CCD
(0859) 		 case 1:
(0860) 		   Set_White_off(5,1,8);
    01CC0 E088      LDI	R24,0x8
    01CC1 8388      ST	Y,R24
    01CC2 E021      LDI	R18,1
    01CC3 E005      LDI	R16,5
    01CC4 940E 0834 CALL	_Set_White_off
(0861) 		   break;
    01CC6 C006      RJMP	0x1CCD
(0862) 		 case 2:
(0863) 		  Set_White_off(5,2,8);
    01CC7 E088      LDI	R24,0x8
    01CC8 8388      ST	Y,R24
    01CC9 E022      LDI	R18,2
    01CCA E005      LDI	R16,5
    01CCB 940E 0834 CALL	_Set_White_off
(0864) 		  break;
(0865) 	
(0866) 		  default:
(0867) 		   break;
(0868) 		 }
(0869) 	    pageNum=1;
    01CCD E081      LDI	R24,1
    01CCE E090      LDI	R25,0
    01CCF 9390 0D1F STS	pageNum+1,R25
    01CD1 9380 0D1E STS	pageNum,R24
(0870) 		return;
    01CD3 C05E      RJMP	0x1D32
(0871) 	  }else if(keyV=='t'){
    01CD4 2D8A      MOV	R24,R10
    01CD5 3784      CPI	R24,0x74
    01CD6 F009      BEQ	0x1CD8
    01CD7 C059      RJMP	0x1D31
(0872) 	    switch(cur){
    01CD8 3040      CPI	R20,0
    01CD9 0745      CPC	R20,R21
    01CDA F049      BEQ	0x1CE4
    01CDB 3041      CPI	R20,1
    01CDC E0E0      LDI	R30,0
    01CDD 075E      CPC	R21,R30
    01CDE F171      BEQ	0x1D0D
    01CDF 3042      CPI	R20,2
    01CE0 E0E0      LDI	R30,0
    01CE1 075E      CPC	R21,R30
    01CE2 F1B1      BEQ	0x1D19
    01CE3 C04D      RJMP	0x1D31
(0873) 		  case 0:
(0874) 		     //执行EEPROM操作
(0875) 			 if(ddflag==0){
    01CE4 3060      CPI	R22,0
    01CE5 0767      CPC	R22,R23
    01CE6 F419      BNE	0x1CEA
(0876) 			   ddflag=1;
    01CE7 E061      LDI	R22,1
    01CE8 E070      LDI	R23,0
(0877) 			 }else{
    01CE9 C002      RJMP	0x1CEC
(0878) 			   ddflag=0;
    01CEA 2766      CLR	R22
    01CEB 2777      CLR	R23
(0879) 			 }
(0880) 			 EEPROM_write(0,0,ddflag);//写入到EEPROM
    01CEC 8379      STD	Y+1,R23
    01CED 8368      ST	Y,R22
    01CEE 2722      CLR	R18
    01CEF 2733      CLR	R19
    01CF0 2700      CLR	R16
    01CF1 2711      CLR	R17
    01CF2 940E 0F30 CALL	_EEPROM_write
(0881) 			if(ddflag==0){
    01CF4 3060      CPI	R22,0
    01CF5 0767      CPC	R22,R23
    01CF6 F459      BNE	0x1D02
(0882)                lcd_write_char(3,0,0xA1);
    01CF7 EA81      LDI	R24,0xA1
    01CF8 8388      ST	Y,R24
    01CF9 2722      CLR	R18
    01CFA E003      LDI	R16,3
    01CFB 940E 0659 CALL	_lcd_write_char
(0883)                lcd_write_char_con(0,0xC1);
    01CFD EC21      LDI	R18,0xC1
    01CFE 2700      CLR	R16
    01CFF 940E 0627 CALL	_lcd_write_char_con
(0884)             }else{
    01D01 C02F      RJMP	0x1D31
(0885)               lcd_write_char(3,0,0xA1);
    01D02 EA81      LDI	R24,0xA1
    01D03 8388      ST	Y,R24
    01D04 2722      CLR	R18
    01D05 E003      LDI	R16,3
    01D06 940E 0659 CALL	_lcd_write_char
(0886)               lcd_write_char_con(0,0xCC);
    01D08 EC2C      LDI	R18,0xCC
    01D09 2700      CLR	R16
    01D0A 940E 0627 CALL	_lcd_write_char_con
(0887)             }
(0888) 		    break;
    01D0C C024      RJMP	0x1D31
(0889) 		  case 1:
(0890) 		   pageNum=8;
    01D0D E088      LDI	R24,0x8
    01D0E E090      LDI	R25,0
    01D0F 9390 0D1F STS	pageNum+1,R25
    01D11 9380 0D1E STS	pageNum,R24
(0891) 		   Set_White_off(5,1,8);
    01D13 8388      ST	Y,R24
    01D14 E021      LDI	R18,1
    01D15 E005      LDI	R16,5
    01D16 940E 0834 CALL	_Set_White_off
(0892) 		   return;
    01D18 C019      RJMP	0x1D32
(0893) 		  
(0894) 		  case 2://重置系统
(0895) 		    prePageNum=5;
    01D19 E085      LDI	R24,5
    01D1A E090      LDI	R25,0
    01D1B 9390 0D13 STS	prePageNum+1,R25
    01D1D 9380 0D12 STS	prePageNum,R24
(0896) 		    pageNum=7;
    01D1F E087      LDI	R24,7
    01D20 9390 0D1F STS	pageNum+1,R25
    01D22 9380 0D1E STS	pageNum,R24
(0897) 			pageParam[2]=0;
    01D24 2422      CLR	R2
    01D25 2433      CLR	R3
    01D26 9230 0D19 STS	pageParam+5,R3
    01D28 9220 0D18 STS	pageParam+4,R2
(0898) 		    Set_White_off(5,2,8);
    01D2A E088      LDI	R24,0x8
    01D2B 8388      ST	Y,R24
    01D2C E022      LDI	R18,2
    01D2D E005      LDI	R16,5
    01D2E 940E 0834 CALL	_Set_White_off
(0899) 		   return;
    01D30 C001      RJMP	0x1D32
    01D31 CF23      RJMP	0x1C55
    01D32 9622      ADIW	R28,2
    01D33 940C 293A JMP	pop_xgsetF00C
_page6:
    01D35 9722      SBIW	R28,2
(0900) 		}
(0901) 	    
(0902) 	  }
(0903)    }
(0904)    
(0905)  }
(0906)  void page6(void){//复用的方法
(0907)  if(pageParam[1]==0){
    01D36 9020 0D16 LDS	R2,pageParam+2
    01D38 9030 0D17 LDS	R3,pageParam+3
    01D3A 2022      TST	R2
    01D3B F459      BNE	0x1D47
    01D3C 2033      TST	R3
    01D3D F449      BNE	0x1D47
(0908)      lcd_write_str(4,1,"时间保存成功！");
    01D3E E783      LDI	R24,0x73
    01D3F E097      LDI	R25,7
    01D40 8399      STD	Y+1,R25
    01D41 8388      ST	Y,R24
    01D42 E021      LDI	R18,1
    01D43 E004      LDI	R16,4
    01D44 940E 067F CALL	_lcd_write_str
(0909)    }else if(pageParam[1]==1){
    01D46 C021      RJMP	0x1D68
    01D47 9180 0D16 LDS	R24,pageParam+2
    01D49 9190 0D17 LDS	R25,pageParam+3
    01D4B 3081      CPI	R24,1
    01D4C E0E0      LDI	R30,0
    01D4D 079E      CPC	R25,R30
    01D4E F449      BNE	0x1D58
(0910)      lcd_write_str(4,1,"温度保存成功！");
    01D4F E684      LDI	R24,0x64
    01D50 E097      LDI	R25,7
    01D51 8399      STD	Y+1,R25
    01D52 8388      ST	Y,R24
    01D53 E021      LDI	R18,1
    01D54 E004      LDI	R16,4
    01D55 940E 067F CALL	_lcd_write_str
(0911)    }else if(pageParam[1]==2){
    01D57 C010      RJMP	0x1D68
    01D58 9180 0D16 LDS	R24,pageParam+2
    01D5A 9190 0D17 LDS	R25,pageParam+3
    01D5C 3082      CPI	R24,2
    01D5D E0E0      LDI	R30,0
    01D5E 079E      CPC	R25,R30
    01D5F F441      BNE	0x1D68
(0912)      lcd_write_str(4,1,"温度保存失败！");
    01D60 E585      LDI	R24,0x55
    01D61 E097      LDI	R25,7
    01D62 8399      STD	Y+1,R25
    01D63 8388      ST	Y,R24
    01D64 E021      LDI	R18,1
    01D65 E004      LDI	R16,4
    01D66 940E 067F CALL	_lcd_write_str
(0913)    }
(0914)    delay_ms(500);
    01D68 EF04      LDI	R16,0xF4
    01D69 E011      LDI	R17,1
    01D6A 940E 042E CALL	_delay_ms
(0915)    pageNum=prePageNum;
    01D6C 9020 0D12 LDS	R2,prePageNum
    01D6E 9030 0D13 LDS	R3,prePageNum+1
    01D70 9230 0D1F STS	pageNum+1,R3
    01D72 9220 0D1E STS	pageNum,R2
    01D74 9622      ADIW	R28,2
    01D75 9508      RET
_page7:
  cur                  --> R20
  keyV                 --> R10
    01D76 940E 2933 CALL	push_xgsetF00C
    01D78 9722      SBIW	R28,2
(0916)  }
(0917)  void page7(void){
(0918)    uint cur=1;
    01D79 E041      LDI	R20,1
    01D7A E050      LDI	R21,0
(0919)    uchar keyV;
(0920)    lcd_write_str(2,0,"是否重置");
    01D7B E48C      LDI	R24,0x4C
    01D7C E097      LDI	R25,7
    01D7D 8399      STD	Y+1,R25
    01D7E 8388      ST	Y,R24
    01D7F 2722      CLR	R18
    01D80 E002      LDI	R16,2
    01D81 940E 067F CALL	_lcd_write_str
(0921)    lcd_write_str(2,2,"确认");
    01D83 E487      LDI	R24,0x47
    01D84 E097      LDI	R25,7
    01D85 8399      STD	Y+1,R25
    01D86 8388      ST	Y,R24
    01D87 E022      LDI	R18,2
    01D88 E002      LDI	R16,2
    01D89 940E 067F CALL	_lcd_write_str
(0922)    lcd_write_str(8,2,"取消");
    01D8B EF86      LDI	R24,0xF6
    01D8C E097      LDI	R25,7
    01D8D 8399      STD	Y+1,R25
    01D8E 8388      ST	Y,R24
    01D8F E022      LDI	R18,2
    01D90 E008      LDI	R16,0x8
    01D91 940E 067F CALL	_lcd_write_str
(0923)    Set_White(9,2,10);
    01D93 E08A      LDI	R24,0xA
    01D94 8388      ST	Y,R24
    01D95 E022      LDI	R18,2
    01D96 E009      LDI	R16,0x9
    01D97 940E 08A4 CALL	_Set_White
    01D99 C078      RJMP	0x1E12
(0924)     while(1){
(0925)       keyV=KeyScan_once();
    01D9A 940E 051C CALL	_KeyScan_once
    01D9C 2EA0      MOV	R10,R16
(0926) 	  switch(keyV){
    01D9D 2D6A      MOV	R22,R10
    01D9E 2777      CLR	R23
    01D9F 366C      CPI	R22,0x6C
    01DA0 E0E0      LDI	R30,0
    01DA1 077E      CPC	R23,R30
    01DA2 F0A1      BEQ	0x1DB7
    01DA3 E68C      LDI	R24,0x6C
    01DA4 E090      LDI	R25,0
    01DA5 1786      CP	R24,R22
    01DA6 0797      CPC	R25,R23
    01DA7 F034      BLT	0x1DAE
    01DA8 3665      CPI	R22,0x65
    01DA9 E0E0      LDI	R30,0
    01DAA 077E      CPC	R23,R30
    01DAB F409      BNE	0x1DAD
    01DAC C050      RJMP	0x1DFD
    01DAD C064      RJMP	0x1E12
    01DAE 3762      CPI	R22,0x72
    01DAF E0E0      LDI	R30,0
    01DB0 077E      CPC	R23,R30
    01DB1 F0C9      BEQ	0x1DCB
    01DB2 3764      CPI	R22,0x74
    01DB3 E0E0      LDI	R30,0
    01DB4 077E      CPC	R23,R30
    01DB5 F141      BEQ	0x1DDE
    01DB6 C05B      RJMP	0x1E12
(0927) 	    case 'l':
(0928) 		   if(cur==1){
    01DB7 3041      CPI	R20,1
    01DB8 E0E0      LDI	R30,0
    01DB9 075E      CPC	R21,R30
    01DBA F009      BEQ	0x1DBC
    01DBB C056      RJMP	0x1E12
(0929) 		      Set_White_off(9,2,10);
    01DBC E08A      LDI	R24,0xA
    01DBD 8388      ST	Y,R24
    01DBE E022      LDI	R18,2
    01DBF E009      LDI	R16,0x9
    01DC0 940E 0834 CALL	_Set_White_off
(0930) 		      Set_White(3,2,4);
    01DC2 E084      LDI	R24,4
    01DC3 8388      ST	Y,R24
    01DC4 E022      LDI	R18,2
    01DC5 E003      LDI	R16,3
    01DC6 940E 08A4 CALL	_Set_White
(0931) 			  cur=0;
    01DC8 2744      CLR	R20
    01DC9 2755      CLR	R21
(0932) 		   }
(0933) 		   break;
    01DCA C047      RJMP	0x1E12
(0934) 		case 'r':
(0935) 		   if(cur==0){
    01DCB 3040      CPI	R20,0
    01DCC 0745      CPC	R20,R21
    01DCD F009      BEQ	0x1DCF
    01DCE C043      RJMP	0x1E12
(0936) 		      Set_White_off(3,2,4);
    01DCF E084      LDI	R24,4
    01DD0 8388      ST	Y,R24
    01DD1 E022      LDI	R18,2
    01DD2 E003      LDI	R16,3
    01DD3 940E 0834 CALL	_Set_White_off
(0937) 		      Set_White(9,2,10);
    01DD5 E08A      LDI	R24,0xA
    01DD6 8388      ST	Y,R24
    01DD7 E022      LDI	R18,2
    01DD8 E009      LDI	R16,0x9
    01DD9 940E 08A4 CALL	_Set_White
(0938) 			  cur=1;
    01DDB E041      LDI	R20,1
    01DDC E050      LDI	R21,0
(0939) 		   }
(0940) 		  break;
    01DDD C034      RJMP	0x1E12
(0941) 		case 't':
(0942) 		  //执行相关操作	  
(0943) 		  if(cur==0){
    01DDE 3040      CPI	R20,0
    01DDF 0745      CPC	R20,R21
    01DE0 F469      BNE	0x1DEE
(0944) 		     Set_White_off(3,2,4);
    01DE1 E084      LDI	R24,4
    01DE2 8388      ST	Y,R24
    01DE3 E022      LDI	R18,2
    01DE4 E003      LDI	R16,3
    01DE5 940E 0834 CALL	_Set_White_off
(0945) 		       //进入重置画面。在Page9启动看门狗重置系统、不喂狗。数据重置对呀操作不同
(0946) 		       pageNum=9;
    01DE7 E089      LDI	R24,0x9
    01DE8 E090      LDI	R25,0
    01DE9 9390 0D1F STS	pageNum+1,R25
    01DEB 9380 0D1E STS	pageNum,R24
(0947) 		  }else {
    01DED C025      RJMP	0x1E13
(0948) 		      Set_White_off(9,2,10);
    01DEE E08A      LDI	R24,0xA
    01DEF 8388      ST	Y,R24
    01DF0 E022      LDI	R18,2
    01DF1 E009      LDI	R16,0x9
    01DF2 940E 0834 CALL	_Set_White_off
(0949) 		       pageNum=prePageNum;
    01DF4 9020 0D12 LDS	R2,prePageNum
    01DF6 9030 0D13 LDS	R3,prePageNum+1
    01DF8 9230 0D1F STS	pageNum+1,R3
    01DFA 9220 0D1E STS	pageNum,R2
(0950) 		  }
(0951) 		  return;
    01DFC C016      RJMP	0x1E13
(0952) 		 case 'e':
(0953) 		    Set_White_off(3,2,4);
    01DFD E084      LDI	R24,4
    01DFE 8388      ST	Y,R24
    01DFF E022      LDI	R18,2
    01E00 E003      LDI	R16,3
    01E01 940E 0834 CALL	_Set_White_off
(0954) 		    Set_White_off(9,2,10);
    01E03 E08A      LDI	R24,0xA
    01E04 8388      ST	Y,R24
    01E05 E022      LDI	R18,2
    01E06 E009      LDI	R16,0x9
    01E07 940E 0834 CALL	_Set_White_off
(0955) 		    pageNum=prePageNum;
    01E09 9020 0D12 LDS	R2,prePageNum
    01E0B 9030 0D13 LDS	R3,prePageNum+1
    01E0D 9230 0D1F STS	pageNum+1,R3
    01E0F 9220 0D1E STS	pageNum,R2
(0956) 		    return;
    01E11 C001      RJMP	0x1E13
    01E12 CF87      RJMP	0x1D9A
    01E13 9622      ADIW	R28,2
    01E14 940C 293A JMP	pop_xgsetF00C
_page8:
  dateAc               --> Y,+38
  time_cacah           --> R22
  keyV                 --> R22
  cur                  --> R20
  date                 --> Y,+8
  i                    --> R22
    01E16 940E 2933 CALL	push_xgsetF00C
    01E18 97EF      SBIW	R28,0x3F
    01E19 9723      SBIW	R28,3
(0957) 	  }
(0958) 	}
(0959)  }
(0960)  void page8(void){
(0961)    uint cur=0;
    01E1A 2744      CLR	R20
    01E1B 2755      CLR	R21
(0962)    uchar keyV;
(0963)    uint date[15];
(0964)    uint i;
(0965)    uint time_cacah;
(0966)     uint dateAc[14]={1,2,3,4,6,7,9,10,2,3,5,6,8,9};
    01E1C E086      LDI	R24,6
    01E1D E097      LDI	R25,7
    01E1E 01FE      MOVW	R30,R28
    01E1F 96B6      ADIW	R30,0x26
    01E20 E10C      LDI	R16,0x1C
    01E21 E010      LDI	R17,0
    01E22 93FA      ST	-Y,R31
    01E23 93EA      ST	-Y,R30
    01E24 939A      ST	-Y,R25
    01E25 938A      ST	-Y,R24
    01E26 940E 2977 CALL	asgnblk
(0967)    time_cacah=Read1307(0x06);
    01E28 E006      LDI	R16,6
    01E29 940E 27B2 CALL	_Read1307
    01E2B 01B8      MOVW	R22,R16
(0968)    date[0]=2;
    01E2C E082      LDI	R24,2
    01E2D E090      LDI	R25,0
    01E2E 8799      STD	Y+9,R25
    01E2F 8788      STD	Y+8,R24
(0969)    date[1]=0;
    01E30 2422      CLR	R2
    01E31 2433      CLR	R3
    01E32 863B      STD	Y+11,R3
    01E33 862A      STD	Y+10,R2
(0970)    date[2]=time_cacah>>4;
    01E34 011B      MOVW	R2,R22
    01E35 9436      LSR	R3
    01E36 9427      ROR	R2
    01E37 9436      LSR	R3
    01E38 9427      ROR	R2
    01E39 9436      LSR	R3
    01E3A 9427      ROR	R2
    01E3B 9436      LSR	R3
    01E3C 9427      ROR	R2
    01E3D 863D      STD	Y+13,R3
    01E3E 862C      STD	Y+12,R2
(0971)    date[3]=time_cacah&0x0F;
    01E3F 01CB      MOVW	R24,R22
    01E40 708F      ANDI	R24,0xF
    01E41 7090      ANDI	R25,0
    01E42 879F      STD	Y+15,R25
    01E43 878E      STD	Y+14,R24
(0972)    time_cacah=Read1307(0x05);
    01E44 E005      LDI	R16,5
    01E45 940E 27B2 CALL	_Read1307
    01E47 01B8      MOVW	R22,R16
(0973)    date[4]=(time_cacah>>4)&0x01;
    01E48 01CB      MOVW	R24,R22
    01E49 9596      LSR	R25
    01E4A 9587      ROR	R24
    01E4B 9596      LSR	R25
    01E4C 9587      ROR	R24
    01E4D 9596      LSR	R25
    01E4E 9587      ROR	R24
    01E4F 9596      LSR	R25
    01E50 9587      ROR	R24
    01E51 7081      ANDI	R24,1
    01E52 7090      ANDI	R25,0
    01E53 8B99      STD	Y+17,R25
    01E54 8B88      STD	Y+16,R24
(0974)    date[5]=time_cacah&0x0F;
    01E55 01CB      MOVW	R24,R22
    01E56 708F      ANDI	R24,0xF
    01E57 7090      ANDI	R25,0
    01E58 8B9B      STD	Y+19,R25
    01E59 8B8A      STD	Y+18,R24
(0975)     time_cacah=Read1307(0x04);
    01E5A E004      LDI	R16,4
    01E5B 940E 27B2 CALL	_Read1307
    01E5D 0158      MOVW	R10,R16
    01E5E 01B5      MOVW	R22,R10
(0976)    date[6]=0x03&(time_cacah>>4);
    01E5F 01CB      MOVW	R24,R22
    01E60 9596      LSR	R25
    01E61 9587      ROR	R24
    01E62 9596      LSR	R25
    01E63 9587      ROR	R24
    01E64 9596      LSR	R25
    01E65 9587      ROR	R24
    01E66 9596      LSR	R25
    01E67 9587      ROR	R24
    01E68 7083      ANDI	R24,3
    01E69 7090      ANDI	R25,0
    01E6A 8B9D      STD	Y+21,R25
    01E6B 8B8C      STD	Y+20,R24
(0977)    date[7]=time_cacah&0x0F;
    01E6C 01CB      MOVW	R24,R22
    01E6D 708F      ANDI	R24,0xF
    01E6E 7090      ANDI	R25,0
    01E6F 8B9F      STD	Y+23,R25
    01E70 8B8E      STD	Y+22,R24
(0978)    time_cacah=Read1307(0x02);
    01E71 E002      LDI	R16,2
    01E72 940E 27B2 CALL	_Read1307
    01E74 0158      MOVW	R10,R16
    01E75 01B5      MOVW	R22,R10
(0979)    date[8]=0x03&(time_cacah>>4);
    01E76 01CB      MOVW	R24,R22
    01E77 9596      LSR	R25
    01E78 9587      ROR	R24
    01E79 9596      LSR	R25
    01E7A 9587      ROR	R24
    01E7B 9596      LSR	R25
    01E7C 9587      ROR	R24
    01E7D 9596      LSR	R25
    01E7E 9587      ROR	R24
    01E7F 7083      ANDI	R24,3
    01E80 7090      ANDI	R25,0
    01E81 8F99      STD	Y+25,R25
    01E82 8F88      STD	Y+24,R24
(0980)    date[9]=time_cacah&0x0F;
    01E83 01CB      MOVW	R24,R22
    01E84 708F      ANDI	R24,0xF
    01E85 7090      ANDI	R25,0
    01E86 8F9B      STD	Y+27,R25
    01E87 8F8A      STD	Y+26,R24
(0981)    time_cacah=Read1307(0x01);
    01E88 E001      LDI	R16,1
    01E89 940E 27B2 CALL	_Read1307
    01E8B 0158      MOVW	R10,R16
    01E8C 01B5      MOVW	R22,R10
(0982)    date[10]=0x07&(time_cacah>>4);
    01E8D 01CB      MOVW	R24,R22
    01E8E 9596      LSR	R25
    01E8F 9587      ROR	R24
    01E90 9596      LSR	R25
    01E91 9587      ROR	R24
    01E92 9596      LSR	R25
    01E93 9587      ROR	R24
    01E94 9596      LSR	R25
    01E95 9587      ROR	R24
    01E96 7087      ANDI	R24,7
    01E97 7090      ANDI	R25,0
    01E98 8F9D      STD	Y+29,R25
    01E99 8F8C      STD	Y+28,R24
(0983)    date[11]=time_cacah&0x0f;
    01E9A 01CB      MOVW	R24,R22
    01E9B 708F      ANDI	R24,0xF
    01E9C 7090      ANDI	R25,0
    01E9D 8F9F      STD	Y+31,R25
    01E9E 8F8E      STD	Y+30,R24
(0984)    time_cacah=Read1307(0x00);
    01E9F 2700      CLR	R16
    01EA0 940E 27B2 CALL	_Read1307
    01EA2 0158      MOVW	R10,R16
    01EA3 01B5      MOVW	R22,R10
(0985)    date[12]=0x07&(time_cacah>>4);
    01EA4 01CB      MOVW	R24,R22
    01EA5 9596      LSR	R25
    01EA6 9587      ROR	R24
    01EA7 9596      LSR	R25
    01EA8 9587      ROR	R24
    01EA9 9596      LSR	R25
    01EAA 9587      ROR	R24
    01EAB 9596      LSR	R25
    01EAC 9587      ROR	R24
    01EAD 7087      ANDI	R24,7
    01EAE 7090      ANDI	R25,0
    01EAF A399      STD	Y+33,R25
    01EB0 A388      STD	Y+32,R24
(0986)    date[13]=time_cacah&0x0F;
    01EB1 01CB      MOVW	R24,R22
    01EB2 708F      ANDI	R24,0xF
    01EB3 7090      ANDI	R25,0
    01EB4 A39B      STD	Y+35,R25
    01EB5 A38A      STD	Y+34,R24
(0987)     lcd_write_pos(1,0);
    01EB6 2722      CLR	R18
    01EB7 E001      LDI	R16,1
    01EB8 940E 063B CALL	_lcd_write_pos
(0988)   for(i=0;i<8;i++){
    01EBA 2766      CLR	R22
    01EBB 2777      CLR	R23
    01EBC C020      RJMP	0x1EDD
(0989)    lcd_write_char_con(0,0x30 | date[i]);
    01EBD 01CE      MOVW	R24,R28
    01EBE 9608      ADIW	R24,0x8
    01EBF 01FB      MOVW	R30,R22
    01EC0 0FEE      LSL	R30
    01EC1 1FFF      ROL	R31
    01EC2 0FE8      ADD	R30,R24
    01EC3 1FF9      ADC	R31,R25
    01EC4 8120      LD	R18,Z
    01EC5 8131      LDD	R19,Z+1
    01EC6 6320      ORI	R18,0x30
    01EC7 2700      CLR	R16
    01EC8 940E 0627 CALL	_lcd_write_char_con
(0990)     lcd_write_char_con(0,' ');
    01ECA E220      LDI	R18,0x20
    01ECB 2700      CLR	R16
    01ECC 940E 0627 CALL	_lcd_write_char_con
(0991) 	if(i==3 || i==5){
    01ECE 3063      CPI	R22,3
    01ECF E0E0      LDI	R30,0
    01ED0 077E      CPC	R23,R30
    01ED1 F021      BEQ	0x1ED6
    01ED2 3065      CPI	R22,5
    01ED3 E0E0      LDI	R30,0
    01ED4 077E      CPC	R23,R30
    01ED5 F429      BNE	0x1EDB
(0992) 	  lcd_write_str_con(0,"- ");
    01ED6 E424      LDI	R18,0x44
    01ED7 E037      LDI	R19,7
    01ED8 2700      CLR	R16
    01ED9 940E 06C9 CALL	_lcd_write_str_con
    01EDB 5F6F      SUBI	R22,0xFF
    01EDC 4F7F      SBCI	R23,0xFF
    01EDD 3068      CPI	R22,0x8
    01EDE E0E0      LDI	R30,0
    01EDF 077E      CPC	R23,R30
    01EE0 F2E0      BCS	0x1EBD
(0993) 	}
(0994)   }
(0995)    lcd_write_pos(2,1);
    01EE1 E021      LDI	R18,1
    01EE2 E002      LDI	R16,2
    01EE3 940E 063B CALL	_lcd_write_pos
(0996)    for(i=8;i<14;i++){
    01EE5 E068      LDI	R22,0x8
    01EE6 E070      LDI	R23,0
    01EE7 C020      RJMP	0x1F08
(0997)    lcd_write_char_con(1,0x30 | date[i]);
    01EE8 01CE      MOVW	R24,R28
    01EE9 9608      ADIW	R24,0x8
    01EEA 01FB      MOVW	R30,R22
    01EEB 0FEE      LSL	R30
    01EEC 1FFF      ROL	R31
    01EED 0FE8      ADD	R30,R24
    01EEE 1FF9      ADC	R31,R25
    01EEF 8120      LD	R18,Z
    01EF0 8131      LDD	R19,Z+1
    01EF1 6320      ORI	R18,0x30
    01EF2 E001      LDI	R16,1
    01EF3 940E 0627 CALL	_lcd_write_char_con
(0998)    lcd_write_char_con(0,' ');
    01EF5 E220      LDI	R18,0x20
    01EF6 2700      CLR	R16
    01EF7 940E 0627 CALL	_lcd_write_char_con
(0999)    if(i==9 || i==11){
    01EF9 3069      CPI	R22,0x9
    01EFA E0E0      LDI	R30,0
    01EFB 077E      CPC	R23,R30
    01EFC F021      BEQ	0x1F01
    01EFD 306B      CPI	R22,0xB
    01EFE E0E0      LDI	R30,0
    01EFF 077E      CPC	R23,R30
    01F00 F429      BNE	0x1F06
(1000) 	 lcd_write_str_con(0,": ");
    01F01 EC23      LDI	R18,0xC3
    01F02 E037      LDI	R19,7
    01F03 2700      CLR	R16
    01F04 940E 06C9 CALL	_lcd_write_str_con
    01F06 5F6F      SUBI	R22,0xFF
    01F07 4F7F      SBCI	R23,0xFF
    01F08 306E      CPI	R22,0xE
    01F09 E0E0      LDI	R30,0
    01F0A 077E      CPC	R23,R30
    01F0B F2E0      BCS	0x1EE8
(1001)    }
(1002)   } 
(1003)    lcd_write_str(3,2,"保存");
    01F0C EA8D      LDI	R24,0xAD
    01F0D E097      LDI	R25,7
    01F0E 8399      STD	Y+1,R25
    01F0F 8388      ST	Y,R24
    01F10 E022      LDI	R18,2
    01F11 E003      LDI	R16,3
    01F12 940E 067F CALL	_lcd_write_str
(1004)    lcd_write_str(8,2,"取消");
    01F14 EF86      LDI	R24,0xF6
    01F15 E097      LDI	R25,7
    01F16 8399      STD	Y+1,R25
    01F17 8388      ST	Y,R24
    01F18 E022      LDI	R18,2
    01F19 E008      LDI	R16,0x8
    01F1A 940E 067F CALL	_lcd_write_str
(1005)    //初始化date
(1006)   
(1007)    cur=0;
    01F1C 2744      CLR	R20
    01F1D 2755      CLR	R21
(1008)    lcd_write_pos(1,0);//初始游标位置
    01F1E 2722      CLR	R18
    01F1F E001      LDI	R16,1
    01F20 940E 063B CALL	_lcd_write_pos
(1009)    cur_set(3);//上半屏幕游标设置
    01F22 E003      LDI	R16,3
    01F23 E010      LDI	R17,0
    01F24 940E 07F0 CALL	_cur_set
    01F26 C284      RJMP	0x21AB
(1010)    while(1){
(1011)      pageTime(3);//
    01F27 E003      LDI	R16,3
    01F28 E010      LDI	R17,0
    01F29 940E 0F5D CALL	_pageTime
(1012) 	 keyV=KeyScan_once();
    01F2B 940E 051C CALL	_KeyScan_once
    01F2D 2EA0      MOV	R10,R16
    01F2E 2D6A      MOV	R22,R10
(1013) 	 if(keyV=='u'){
    01F2F 3705      CPI	R16,0x75
    01F30 F571      BNE	0x1F5F
(1014) 	   if(cur>13){//调到时间第一个
    01F31 E08D      LDI	R24,0xD
    01F32 E090      LDI	R25,0
    01F33 1784      CP	R24,R20
    01F34 0795      CPC	R25,R21
    01F35 F4B8      BCC	0x1F4D
(1015) 	        Set_White_off(4,2,5);
    01F36 E085      LDI	R24,5
    01F37 8388      ST	Y,R24
    01F38 E022      LDI	R18,2
    01F39 E004      LDI	R16,4
    01F3A 940E 0834 CALL	_Set_White_off
(1016) 			Set_White_off(9,2,10);
    01F3C E08A      LDI	R24,0xA
    01F3D 8388      ST	Y,R24
    01F3E E022      LDI	R18,2
    01F3F E009      LDI	R16,0x9
    01F40 940E 0834 CALL	_Set_White_off
(1017) 	        lcd_write_pos(2,1);
    01F42 E021      LDI	R18,1
    01F43 E002      LDI	R16,2
    01F44 940E 063B CALL	_lcd_write_pos
(1018) 		    cur_set(3);
    01F46 E003      LDI	R16,3
    01F47 E010      LDI	R17,0
    01F48 940E 07F0 CALL	_cur_set
(1019) 			cur=8; 
    01F4A E048      LDI	R20,0x8
    01F4B E050      LDI	R21,0
(1020) 		   }else if(cur>7 && cur <14){//调到日期第一个
    01F4C C25E      RJMP	0x21AB
    01F4D E087      LDI	R24,7
    01F4E E090      LDI	R25,0
    01F4F 1784      CP	R24,R20
    01F50 0795      CPC	R25,R21
    01F51 F008      BCS	0x1F53
    01F52 C258      RJMP	0x21AB
    01F53 304E      CPI	R20,0xE
    01F54 E0E0      LDI	R30,0
    01F55 075E      CPC	R21,R30
    01F56 F008      BCS	0x1F58
    01F57 C253      RJMP	0x21AB
(1021) 		    lcd_write_pos(1,0);
    01F58 2722      CLR	R18
    01F59 E001      LDI	R16,1
    01F5A 940E 063B CALL	_lcd_write_pos
(1022) 			cur=0; 
    01F5C 2744      CLR	R20
    01F5D 2755      CLR	R21
(1023) 		   }
(1024) 	 }else if(keyV=='d'){
    01F5E C24C      RJMP	0x21AB
    01F5F 3664      CPI	R22,0x64
    01F60 F519      BNE	0x1F84
(1025) 	     if(cur>7 && cur <14){//在时间上，第三行，默认要保存，所以调到保存上
    01F61 E087      LDI	R24,7
    01F62 E090      LDI	R25,0
    01F63 1784      CP	R24,R20
    01F64 0795      CPC	R25,R21
    01F65 F488      BCC	0x1F77
    01F66 304E      CPI	R20,0xE
    01F67 E0E0      LDI	R30,0
    01F68 075E      CPC	R21,R30
    01F69 F468      BCC	0x1F77
(1026) 		      cur_set(0);//关下半屏幕游标
    01F6A 2700      CLR	R16
    01F6B 2711      CLR	R17
    01F6C 940E 07F0 CALL	_cur_set
(1027) 			  Set_White(4,2,5);
    01F6E E085      LDI	R24,5
    01F6F 8388      ST	Y,R24
    01F70 E022      LDI	R18,2
    01F71 E004      LDI	R16,4
    01F72 940E 08A4 CALL	_Set_White
(1028) 			  cur=14;
    01F74 E04E      LDI	R20,0xE
    01F75 E050      LDI	R21,0
(1029) 		 }else if(cur<=7){ //调到时间第一个
    01F76 C234      RJMP	0x21AB
    01F77 E087      LDI	R24,7
    01F78 E090      LDI	R25,0
    01F79 1784      CP	R24,R20
    01F7A 0795      CPC	R25,R21
    01F7B F408      BCC	0x1F7D
    01F7C C22E      RJMP	0x21AB
(1030) 		    lcd_write_pos(2,1);
    01F7D E021      LDI	R18,1
    01F7E E002      LDI	R16,2
    01F7F 940E 063B CALL	_lcd_write_pos
(1031) 			cur=8; 
    01F81 E048      LDI	R20,0x8
    01F82 E050      LDI	R21,0
(1032) 		 }
(1033) 	 }else if(keyV=='l'){
    01F83 C227      RJMP	0x21AB
    01F84 366C      CPI	R22,0x6C
    01F85 F009      BEQ	0x1F87
    01F86 C043      RJMP	0x1FCA
(1034) 			if(cur<=8 && cur>0){
    01F87 E088      LDI	R24,0x8
    01F88 E090      LDI	R25,0
    01F89 1784      CP	R24,R20
    01F8A 0795      CPC	R25,R21
    01F8B F090      BCS	0x1F9E
    01F8C 3040      CPI	R20,0
    01F8D 0745      CPC	R20,R21
    01F8E F079      BEQ	0x1F9E
(1035) 			 cur--;
    01F8F 5041      SUBI	R20,1
    01F90 4050      SBCI	R21,0
(1036) 			 lcd_write_pos(dateAc[cur],0);
    01F91 2722      CLR	R18
    01F92 01CE      MOVW	R24,R28
    01F93 9686      ADIW	R24,0x26
    01F94 01FA      MOVW	R30,R20
    01F95 0FEE      LSL	R30
    01F96 1FFF      ROL	R31
    01F97 0FE8      ADD	R30,R24
    01F98 1FF9      ADC	R31,R25
    01F99 8100      LD	R16,Z
    01F9A 8111      LDD	R17,Z+1
    01F9B 940E 063B CALL	_lcd_write_pos
(1037) 			}else if (cur>8 && cur<14){
    01F9D C20D      RJMP	0x21AB
    01F9E E088      LDI	R24,0x8
    01F9F E090      LDI	R25,0
    01FA0 1784      CP	R24,R20
    01FA1 0795      CPC	R25,R21
    01FA2 F498      BCC	0x1FB6
    01FA3 304E      CPI	R20,0xE
    01FA4 E0E0      LDI	R30,0
    01FA5 075E      CPC	R21,R30
    01FA6 F478      BCC	0x1FB6
(1038) 			 cur--;
    01FA7 5041      SUBI	R20,1
    01FA8 4050      SBCI	R21,0
(1039) 			 lcd_write_pos(dateAc[cur],1);
    01FA9 E021      LDI	R18,1
    01FAA 01CE      MOVW	R24,R28
    01FAB 9686      ADIW	R24,0x26
    01FAC 01FA      MOVW	R30,R20
    01FAD 0FEE      LSL	R30
    01FAE 1FFF      ROL	R31
    01FAF 0FE8      ADD	R30,R24
    01FB0 1FF9      ADC	R31,R25
    01FB1 8100      LD	R16,Z
    01FB2 8111      LDD	R17,Z+1
    01FB3 940E 063B CALL	_lcd_write_pos
(1040) 			}else if (cur==15){
    01FB5 C1F5      RJMP	0x21AB
    01FB6 304F      CPI	R20,0xF
    01FB7 E0E0      LDI	R30,0
    01FB8 075E      CPC	R21,R30
    01FB9 F009      BEQ	0x1FBB
    01FBA C1F0      RJMP	0x21AB
(1041) 			    Set_White_off(9,2,10);
    01FBB E08A      LDI	R24,0xA
    01FBC 8388      ST	Y,R24
    01FBD E022      LDI	R18,2
    01FBE E009      LDI	R16,0x9
    01FBF 940E 0834 CALL	_Set_White_off
(1042) 			    Set_White(4,2,5);
    01FC1 E085      LDI	R24,5
    01FC2 8388      ST	Y,R24
    01FC3 E022      LDI	R18,2
    01FC4 E004      LDI	R16,4
    01FC5 940E 08A4 CALL	_Set_White
(1043) 				cur=14;
    01FC7 E04E      LDI	R20,0xE
    01FC8 E050      LDI	R21,0
(1044) 			}
(1045) 			
(1046) 		
(1047) 	 }else if(keyV=='r'){
    01FC9 C1E1      RJMP	0x21AB
    01FCA 3762      CPI	R22,0x72
    01FCB F009      BEQ	0x1FCD
    01FCC C03A      RJMP	0x2007
(1048) 	       if(cur<7){
    01FCD 3047      CPI	R20,7
    01FCE E0E0      LDI	R30,0
    01FCF 075E      CPC	R21,R30
    01FD0 F478      BCC	0x1FE0
(1049) 			   cur++;
    01FD1 5F4F      SUBI	R20,0xFF
    01FD2 4F5F      SBCI	R21,0xFF
(1050) 			   lcd_write_pos(dateAc[cur],0);
    01FD3 2722      CLR	R18
    01FD4 01CE      MOVW	R24,R28
    01FD5 9686      ADIW	R24,0x26
    01FD6 01FA      MOVW	R30,R20
    01FD7 0FEE      LSL	R30
    01FD8 1FFF      ROL	R31
    01FD9 0FE8      ADD	R30,R24
    01FDA 1FF9      ADC	R31,R25
    01FDB 8100      LD	R16,Z
    01FDC 8111      LDD	R17,Z+1
    01FDD 940E 063B CALL	_lcd_write_pos
(1051) 			}else if (cur<13){
    01FDF C1CB      RJMP	0x21AB
    01FE0 304D      CPI	R20,0xD
    01FE1 E0E0      LDI	R30,0
    01FE2 075E      CPC	R21,R30
    01FE3 F478      BCC	0x1FF3
(1052) 			   cur++;
    01FE4 5F4F      SUBI	R20,0xFF
    01FE5 4F5F      SBCI	R21,0xFF
(1053) 			   lcd_write_pos(dateAc[cur],1);
    01FE6 E021      LDI	R18,1
    01FE7 01CE      MOVW	R24,R28
    01FE8 9686      ADIW	R24,0x26
    01FE9 01FA      MOVW	R30,R20
    01FEA 0FEE      LSL	R30
    01FEB 1FFF      ROL	R31
    01FEC 0FE8      ADD	R30,R24
    01FED 1FF9      ADC	R31,R25
    01FEE 8100      LD	R16,Z
    01FEF 8111      LDD	R17,Z+1
    01FF0 940E 063B CALL	_lcd_write_pos
(1054) 			}else if (cur==14){
    01FF2 C1B8      RJMP	0x21AB
    01FF3 304E      CPI	R20,0xE
    01FF4 E0E0      LDI	R30,0
    01FF5 075E      CPC	R21,R30
    01FF6 F009      BEQ	0x1FF8
    01FF7 C1B3      RJMP	0x21AB
(1055) 			    Set_White_off(4,2,5);
    01FF8 E085      LDI	R24,5
    01FF9 8388      ST	Y,R24
    01FFA E022      LDI	R18,2
    01FFB E004      LDI	R16,4
    01FFC 940E 0834 CALL	_Set_White_off
(1056) 				Set_White(9,2,10);
    01FFE E08A      LDI	R24,0xA
    01FFF 8388      ST	Y,R24
    02000 E022      LDI	R18,2
    02001 E009      LDI	R16,0x9
    02002 940E 08A4 CALL	_Set_White
(1057) 				cur=15;
    02004 E04F      LDI	R20,0xF
    02005 E050      LDI	R21,0
(1058) 			}
(1059) 	 }else if(keyV=='e'){
    02006 C1A4      RJMP	0x21AB
    02007 3665      CPI	R22,0x65
    02008 F4B9      BNE	0x2020
(1060) 	     cur_set(0);//关上半屏幕游标
    02009 2700      CLR	R16
    0200A 2711      CLR	R17
    0200B 940E 07F0 CALL	_cur_set
(1061) 		  Set_White_off(4,2,5);
    0200D E085      LDI	R24,5
    0200E 8388      ST	Y,R24
    0200F E022      LDI	R18,2
    02010 E004      LDI	R16,4
    02011 940E 0834 CALL	_Set_White_off
(1062) 		  Set_White_off(9,2,10);
    02013 E08A      LDI	R24,0xA
    02014 8388      ST	Y,R24
    02015 E022      LDI	R18,2
    02016 E009      LDI	R16,0x9
    02017 940E 0834 CALL	_Set_White_off
(1063) 		 pageNum=1;
    02019 E081      LDI	R24,1
    0201A E090      LDI	R25,0
    0201B 9390 0D1F STS	pageNum+1,R25
    0201D 9380 0D1E STS	pageNum,R24
(1064) 		 return;
    0201F C18C      RJMP	0x21AC
(1065) 	     //退出界面
(1066) 	 }else if(keyV=='t'){
    02020 3764      CPI	R22,0x74
    02021 F009      BEQ	0x2023
    02022 C085      RJMP	0x20A8
(1067) 	      if(cur==14){
    02023 304E      CPI	R20,0xE
    02024 E0E0      LDI	R30,0
    02025 075E      CPC	R21,R30
    02026 F009      BEQ	0x2028
    02027 C064      RJMP	0x208C
(1068) 		      setTime((date[2]*16)+date[3],(date[4]*16)+date[5],(date[6]*16)+date[7],(date[8]*16)+date[9],(date[10]*16)+date[11],(date[12]*16)+date[13]);
    02028 A128      LDD	R18,Y+32
    02029 A139      LDD	R19,Y+33
    0202A E100      LDI	R16,0x10
    0202B E010      LDI	R17,0
    0202C 940E 28ED CALL	empy16s
    0202E 0118      MOVW	R2,R16
    0202F A04A      LDD	R4,Y+34
    02030 A05B      LDD	R5,Y+35
    02031 0C24      ADD	R2,R4
    02032 1C35      ADC	R3,R5
    02033 823F      STD	Y+7,R3
    02034 822E      STD	Y+6,R2
    02035 8D2C      LDD	R18,Y+28
    02036 8D3D      LDD	R19,Y+29
    02037 E100      LDI	R16,0x10
    02038 E010      LDI	R17,0
    02039 940E 28ED CALL	empy16s
    0203B 0118      MOVW	R2,R16
    0203C 8C4E      LDD	R4,Y+30
    0203D 8C5F      LDD	R5,Y+31
    0203E 0C24      ADD	R2,R4
    0203F 1C35      ADC	R3,R5
    02040 823D      STD	Y+5,R3
    02041 822C      STD	Y+4,R2
    02042 8D28      LDD	R18,Y+24
    02043 8D39      LDD	R19,Y+25
    02044 E100      LDI	R16,0x10
    02045 E010      LDI	R17,0
    02046 940E 28ED CALL	empy16s
    02048 0118      MOVW	R2,R16
    02049 8C4A      LDD	R4,Y+26
    0204A 8C5B      LDD	R5,Y+27
    0204B 0C24      ADD	R2,R4
    0204C 1C35      ADC	R3,R5
    0204D 823B      STD	Y+3,R3
    0204E 822A      STD	Y+2,R2
    0204F 892C      LDD	R18,Y+20
    02050 893D      LDD	R19,Y+21
    02051 E100      LDI	R16,0x10
    02052 E010      LDI	R17,0
    02053 940E 28ED CALL	empy16s
    02055 0118      MOVW	R2,R16
    02056 884E      LDD	R4,Y+22
    02057 885F      LDD	R5,Y+23
    02058 0C24      ADD	R2,R4
    02059 1C35      ADC	R3,R5
    0205A 8239      STD	Y+1,R3
    0205B 8228      ST	Y,R2
    0205C 8928      LDD	R18,Y+16
    0205D 8939      LDD	R19,Y+17
    0205E E100      LDI	R16,0x10
    0205F E010      LDI	R17,0
    02060 940E 28ED CALL	empy16s
    02062 0198      MOVW	R18,R16
    02063 882A      LDD	R2,Y+18
    02064 883B      LDD	R3,Y+19
    02065 0D22      ADD	R18,R2
    02066 1D33      ADC	R19,R3
    02067 842C      LDD	R2,Y+12
    02068 843D      LDD	R3,Y+13
    02069 E100      LDI	R16,0x10
    0206A E010      LDI	R17,0
    0206B 932F      PUSH	R18
    0206C 933F      PUSH	R19
    0206D 0191      MOVW	R18,R2
    0206E 940E 28ED CALL	empy16s
    02070 0118      MOVW	R2,R16
    02071 913F      POP	R19
    02072 912F      POP	R18
    02073 844E      LDD	R4,Y+14
    02074 845F      LDD	R5,Y+15
    02075 0C24      ADD	R2,R4
    02076 1C35      ADC	R3,R5
    02077 0181      MOVW	R16,R2
    02078 940E 27C6 CALL	_setTime
(1069) 		        //setTime(1*16+2,1<<4+2+0x00,2*16+2,1<<4+2+0x00,5+0x00,5<<4+1+0x00);
(1070) 				//保存操作
(1071) 				pageParam[1]=0;//标记是时间的保存
    0207A 2422      CLR	R2
    0207B 2433      CLR	R3
    0207C 9230 0D17 STS	pageParam+3,R3
    0207E 9220 0D16 STS	pageParam+2,R2
(1072) 				prePageNum=8;
    02080 E088      LDI	R24,0x8
    02081 E090      LDI	R25,0
    02082 9390 0D13 STS	prePageNum+1,R25
    02084 9380 0D12 STS	prePageNum,R24
(1073) 				pageNum=6;
    02086 E086      LDI	R24,6
    02087 9390 0D1F STS	pageNum+1,R25
    02089 9380 0D1E STS	pageNum,R24
(1074) 				return;
    0208B C120      RJMP	0x21AC
(1075) 		 }else if(cur==15){
    0208C 304F      CPI	R20,0xF
    0208D E0E0      LDI	R30,0
    0208E 075E      CPC	R21,R30
    0208F F009      BEQ	0x2091
    02090 C11A      RJMP	0x21AB
(1076) 		        //取消操作
(1077) 			 cur_set(0);//关上半屏幕游标
    02091 2700      CLR	R16
    02092 2711      CLR	R17
    02093 940E 07F0 CALL	_cur_set
(1078) 		  Set_White_off(4,2,5);
    02095 E085      LDI	R24,5
    02096 8388      ST	Y,R24
    02097 E022      LDI	R18,2
    02098 E004      LDI	R16,4
    02099 940E 0834 CALL	_Set_White_off
(1079) 		  Set_White_off(9,2,10);
    0209B E08A      LDI	R24,0xA
    0209C 8388      ST	Y,R24
    0209D E022      LDI	R18,2
    0209E E009      LDI	R16,0x9
    0209F 940E 0834 CALL	_Set_White_off
(1080) 		 pageNum=1;
    020A1 E081      LDI	R24,1
    020A2 E090      LDI	R25,0
    020A3 9390 0D1F STS	pageNum+1,R25
    020A5 9380 0D1E STS	pageNum,R24
(1081) 		 return;
    020A7 C104      RJMP	0x21AC
(1082) 		 }
(1083) 	 }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    020A8 3360      CPI	R22,0x30
    020A9 F099      BEQ	0x20BD
    020AA 3361      CPI	R22,0x31
    020AB F089      BEQ	0x20BD
    020AC 3362      CPI	R22,0x32
    020AD F079      BEQ	0x20BD
    020AE 3363      CPI	R22,0x33
    020AF F069      BEQ	0x20BD
    020B0 3364      CPI	R22,0x34
    020B1 F059      BEQ	0x20BD
    020B2 3365      CPI	R22,0x35
    020B3 F049      BEQ	0x20BD
    020B4 3366      CPI	R22,0x36
    020B5 F039      BEQ	0x20BD
    020B6 3367      CPI	R22,0x37
    020B7 F029      BEQ	0x20BD
    020B8 3368      CPI	R22,0x38
    020B9 F019      BEQ	0x20BD
    020BA 3369      CPI	R22,0x39
    020BB F009      BEQ	0x20BD
    020BC C0EE      RJMP	0x21AB
(1084) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(1085) 			if(cur<14){
    020BD 304E      CPI	R20,0xE
    020BE E0E0      LDI	R30,0
    020BF 075E      CPC	R21,R30
    020C0 F008      BCS	0x20C2
    020C1 C0E9      RJMP	0x21AB
(1086) 			 lcd_write_char_con(0,0x30 | keyV);
    020C2 2F26      MOV	R18,R22
    020C3 6320      ORI	R18,0x30
    020C4 2700      CLR	R16
    020C5 940E 0627 CALL	_lcd_write_char_con
(1087) 			 lcd_write_char_con(0,' ');
    020C7 E220      LDI	R18,0x20
    020C8 2700      CLR	R16
    020C9 940E 0627 CALL	_lcd_write_char_con
(1088) 			 switch(keyV){
    020CB 2777      CLR	R23
    020CC 3360      CPI	R22,0x30
    020CD E0E0      LDI	R30,0
    020CE 077E      CPC	R23,R30
    020CF F409      BNE	0x20D1
    020D0 C02E      RJMP	0x20FF
    020D1 3361      CPI	R22,0x31
    020D2 E0E0      LDI	R30,0
    020D3 077E      CPC	R23,R30
    020D4 F409      BNE	0x20D6
    020D5 C035      RJMP	0x210B
    020D6 3362      CPI	R22,0x32
    020D7 E0E0      LDI	R30,0
    020D8 077E      CPC	R23,R30
    020D9 F409      BNE	0x20DB
    020DA C03C      RJMP	0x2117
    020DB 3363      CPI	R22,0x33
    020DC E0E0      LDI	R30,0
    020DD 077E      CPC	R23,R30
    020DE F409      BNE	0x20E0
    020DF C043      RJMP	0x2123
    020E0 3364      CPI	R22,0x34
    020E1 E0E0      LDI	R30,0
    020E2 077E      CPC	R23,R30
    020E3 F409      BNE	0x20E5
    020E4 C04A      RJMP	0x212F
    020E5 3365      CPI	R22,0x35
    020E6 E0E0      LDI	R30,0
    020E7 077E      CPC	R23,R30
    020E8 F409      BNE	0x20EA
    020E9 C051      RJMP	0x213B
    020EA 3366      CPI	R22,0x36
    020EB E0E0      LDI	R30,0
    020EC 077E      CPC	R23,R30
    020ED F409      BNE	0x20EF
    020EE C058      RJMP	0x2147
    020EF 3367      CPI	R22,0x37
    020F0 E0E0      LDI	R30,0
    020F1 077E      CPC	R23,R30
    020F2 F409      BNE	0x20F4
    020F3 C05F      RJMP	0x2153
    020F4 3368      CPI	R22,0x38
    020F5 E0E0      LDI	R30,0
    020F6 077E      CPC	R23,R30
    020F7 F409      BNE	0x20F9
    020F8 C066      RJMP	0x215F
    020F9 3369      CPI	R22,0x39
    020FA E0E0      LDI	R30,0
    020FB 077E      CPC	R23,R30
    020FC F409      BNE	0x20FE
    020FD C06D      RJMP	0x216B
    020FE C077      RJMP	0x2176
(1089) 			  case '0':
(1090) 			    date[cur]=0;
    020FF 01CE      MOVW	R24,R28
    02100 9608      ADIW	R24,0x8
    02101 01FA      MOVW	R30,R20
    02102 0FEE      LSL	R30
    02103 1FFF      ROL	R31
    02104 0FE8      ADD	R30,R24
    02105 1FF9      ADC	R31,R25
    02106 2422      CLR	R2
    02107 2433      CLR	R3
    02108 8231      STD	Z+1,R3
    02109 8220      ST	Z,R2
(1091) 			    break;
    0210A C06B      RJMP	0x2176
(1092) 			  case '1':
(1093) 			    date[cur]=1;
    0210B 01CE      MOVW	R24,R28
    0210C 9608      ADIW	R24,0x8
    0210D 01FA      MOVW	R30,R20
    0210E 0FEE      LSL	R30
    0210F 1FFF      ROL	R31
    02110 0FE8      ADD	R30,R24
    02111 1FF9      ADC	R31,R25
    02112 E081      LDI	R24,1
    02113 E090      LDI	R25,0
    02114 8391      STD	Z+1,R25
    02115 8380      ST	Z,R24
(1094) 			    break;
    02116 C05F      RJMP	0x2176
(1095) 			  case '2':
(1096) 			    date[cur]=2;
    02117 01CE      MOVW	R24,R28
    02118 9608      ADIW	R24,0x8
    02119 01FA      MOVW	R30,R20
    0211A 0FEE      LSL	R30
    0211B 1FFF      ROL	R31
    0211C 0FE8      ADD	R30,R24
    0211D 1FF9      ADC	R31,R25
    0211E E082      LDI	R24,2
    0211F E090      LDI	R25,0
    02120 8391      STD	Z+1,R25
    02121 8380      ST	Z,R24
(1097) 			    break;
    02122 C053      RJMP	0x2176
(1098) 			  case '3':
(1099) 			    date[cur]=3;
    02123 01CE      MOVW	R24,R28
    02124 9608      ADIW	R24,0x8
    02125 01FA      MOVW	R30,R20
    02126 0FEE      LSL	R30
    02127 1FFF      ROL	R31
    02128 0FE8      ADD	R30,R24
    02129 1FF9      ADC	R31,R25
    0212A E083      LDI	R24,3
    0212B E090      LDI	R25,0
    0212C 8391      STD	Z+1,R25
    0212D 8380      ST	Z,R24
(1100) 			    break;
    0212E C047      RJMP	0x2176
(1101) 			  case '4':
(1102) 			    date[cur]=4;
    0212F 01CE      MOVW	R24,R28
    02130 9608      ADIW	R24,0x8
    02131 01FA      MOVW	R30,R20
    02132 0FEE      LSL	R30
    02133 1FFF      ROL	R31
    02134 0FE8      ADD	R30,R24
    02135 1FF9      ADC	R31,R25
    02136 E084      LDI	R24,4
    02137 E090      LDI	R25,0
    02138 8391      STD	Z+1,R25
    02139 8380      ST	Z,R24
(1103) 			    break;
    0213A C03B      RJMP	0x2176
(1104) 			  case '5':
(1105) 			    date[cur]=5;
    0213B 01CE      MOVW	R24,R28
    0213C 9608      ADIW	R24,0x8
    0213D 01FA      MOVW	R30,R20
    0213E 0FEE      LSL	R30
    0213F 1FFF      ROL	R31
    02140 0FE8      ADD	R30,R24
    02141 1FF9      ADC	R31,R25
    02142 E085      LDI	R24,5
    02143 E090      LDI	R25,0
    02144 8391      STD	Z+1,R25
    02145 8380      ST	Z,R24
(1106) 			    break;
    02146 C02F      RJMP	0x2176
(1107) 			  case '6':
(1108) 			    date[cur]=6;
    02147 01CE      MOVW	R24,R28
    02148 9608      ADIW	R24,0x8
    02149 01FA      MOVW	R30,R20
    0214A 0FEE      LSL	R30
    0214B 1FFF      ROL	R31
    0214C 0FE8      ADD	R30,R24
    0214D 1FF9      ADC	R31,R25
    0214E E086      LDI	R24,6
    0214F E090      LDI	R25,0
    02150 8391      STD	Z+1,R25
    02151 8380      ST	Z,R24
(1109) 			    break;
    02152 C023      RJMP	0x2176
(1110) 			  case '7':
(1111) 			    date[cur]=7;
    02153 01CE      MOVW	R24,R28
    02154 9608      ADIW	R24,0x8
    02155 01FA      MOVW	R30,R20
    02156 0FEE      LSL	R30
    02157 1FFF      ROL	R31
    02158 0FE8      ADD	R30,R24
    02159 1FF9      ADC	R31,R25
    0215A E087      LDI	R24,7
    0215B E090      LDI	R25,0
    0215C 8391      STD	Z+1,R25
    0215D 8380      ST	Z,R24
(1112) 			    break;
    0215E C017      RJMP	0x2176
(1113) 		      case '8':
(1114) 			    date[cur]=8;
    0215F 01CE      MOVW	R24,R28
    02160 9608      ADIW	R24,0x8
    02161 01FA      MOVW	R30,R20
    02162 0FEE      LSL	R30
    02163 1FFF      ROL	R31
    02164 0FE8      ADD	R30,R24
    02165 1FF9      ADC	R31,R25
    02166 E088      LDI	R24,0x8
    02167 E090      LDI	R25,0
    02168 8391      STD	Z+1,R25
    02169 8380      ST	Z,R24
(1115) 			    break;
    0216A C00B      RJMP	0x2176
(1116) 			  case '9':
(1117) 			    date[cur]=9;
    0216B 01CE      MOVW	R24,R28
    0216C 9608      ADIW	R24,0x8
    0216D 01FA      MOVW	R30,R20
    0216E 0FEE      LSL	R30
    0216F 1FFF      ROL	R31
    02170 0FE8      ADD	R30,R24
    02171 1FF9      ADC	R31,R25
    02172 E089      LDI	R24,0x9
    02173 E090      LDI	R25,0
    02174 8391      STD	Z+1,R25
    02175 8380      ST	Z,R24
(1118) 			    break;
(1119) 			  
(1120) 			 }
(1121) 			  if(cur==3 || cur==5){
    02176 3043      CPI	R20,3
    02177 E0E0      LDI	R30,0
    02178 075E      CPC	R21,R30
    02179 F021      BEQ	0x217E
    0217A 3045      CPI	R20,5
    0217B E0E0      LDI	R30,0
    0217C 075E      CPC	R21,R30
    0217D F431      BNE	0x2184
(1122) 			    lcd_write_str_con(0,"- ");
    0217E E424      LDI	R18,0x44
    0217F E037      LDI	R19,7
    02180 2700      CLR	R16
    02181 940E 06C9 CALL	_lcd_write_str_con
(1123) 			 }else if(cur==9 || cur==11){
    02183 C00D      RJMP	0x2191
    02184 3049      CPI	R20,0x9
    02185 E0E0      LDI	R30,0
    02186 075E      CPC	R21,R30
    02187 F021      BEQ	0x218C
    02188 304B      CPI	R20,0xB
    02189 E0E0      LDI	R30,0
    0218A 075E      CPC	R21,R30
    0218B F429      BNE	0x2191
(1124) 			    lcd_write_str_con(0,": ");
    0218C EC23      LDI	R18,0xC3
    0218D E037      LDI	R19,7
    0218E 2700      CLR	R16
    0218F 940E 06C9 CALL	_lcd_write_str_con
(1125) 			 }
(1126) 			 cur++;
    02191 5F4F      SUBI	R20,0xFF
    02192 4F5F      SBCI	R21,0xFF
(1127) 			 if(cur==8){
    02193 3048      CPI	R20,0x8
    02194 E0E0      LDI	R30,0
    02195 075E      CPC	R21,R30
    02196 F431      BNE	0x219D
(1128) 			    lcd_write_pos(dateAc[8],1);
    02197 E021      LDI	R18,1
    02198 A90E      LDD	R16,Y+54
    02199 A91F      LDD	R17,Y+55
    0219A 940E 063B CALL	_lcd_write_pos
(1129) 			 }else if(cur==14){
    0219C C00E      RJMP	0x21AB
    0219D 304E      CPI	R20,0xE
    0219E E0E0      LDI	R30,0
    0219F 075E      CPC	R21,R30
    021A0 F451      BNE	0x21AB
(1130) 			  cur_set(0);//关下半屏幕游标
    021A1 2700      CLR	R16
    021A2 2711      CLR	R17
    021A3 940E 07F0 CALL	_cur_set
(1131) 			  Set_White(4,2,5);
    021A5 E085      LDI	R24,5
    021A6 8388      ST	Y,R24
    021A7 E022      LDI	R18,2
    021A8 E004      LDI	R16,4
    021A9 940E 08A4 CALL	_Set_White
    021AB CD7B      RJMP	0x1F27
    021AC 96EF      ADIW	R28,0x3F
    021AD 9623      ADIW	R28,3
    021AE 940C 293A JMP	pop_xgsetF00C
_page9:
    021B0 9722      SBIW	R28,2
(1132) 			 }
(1133) 			}
(1134) 	 }
(1135)    }
(1136)  }
(1137) void page9(void){//复用的方法
(1138)   if(pageParam[2]==0){
    021B1 9020 0D18 LDS	R2,pageParam+4
    021B3 9030 0D19 LDS	R3,pageParam+5
    021B5 2022      TST	R2
    021B6 F481      BNE	0x21C7
    021B7 2033      TST	R3
    021B8 F471      BNE	0x21C7
(1139)      lcd_write_str(4,1,"系统重置中。。。");
    021B9 E383      LDI	R24,0x33
    021BA E097      LDI	R25,7
    021BB 8399      STD	Y+1,R25
    021BC 8388      ST	Y,R24
    021BD E021      LDI	R18,1
    021BE E004      LDI	R16,4
    021BF 940E 067F CALL	_lcd_write_str
(1140) 	 //是否需要清除数据，考虑中
(1141) 	 WDTCR|=(1<<WDCE)|(1<<WDE); /* 置位 WDTOE 和 WDE(在设置看门狗定时器的预置分频器参数时需要将其写1)*/
    021C1 B581      IN	R24,0x21
    021C2 6188      ORI	R24,0x18
    021C3 BD81      OUT	0x21,R24
(1142)      WDTCR=(1<<WDE)|(1<<WDP2)|(1<<WDP1); /*设定周期为1S*/
    021C4 E08E      LDI	R24,0xE
    021C5 BD81      OUT	0x21,R24
(1143) 	 while(1){
    021C6 CFFF      RJMP	0x21C6
(1144) 	 }
(1145)    }else if(pageParam[2]==1){
    021C7 9180 0D18 LDS	R24,pageParam+4
    021C9 9190 0D19 LDS	R25,pageParam+5
    021CB 3081      CPI	R24,1
    021CC E0E0      LDI	R30,0
    021CD 079E      CPC	R25,R30
    021CE F471      BNE	0x21DD
(1146)      lcd_write_str(4,1,"数据重置中。。。");
    021CF E282      LDI	R24,0x22
    021D0 E097      LDI	R25,7
    021D1 8399      STD	Y+1,R25
    021D2 8388      ST	Y,R24
    021D3 E021      LDI	R18,1
    021D4 E004      LDI	R16,4
    021D5 940E 067F CALL	_lcd_write_str
(1147) 	 reset_temp_data(pageParam[0]);
    021D7 9100 0D14 LDS	R16,pageParam
    021D9 9110 0D15 LDS	R17,pageParam+1
    021DB 940E 2540 CALL	_reset_temp_data
(1148)    }
(1149)    delay_ms(500);
    021DD EF04      LDI	R16,0xF4
    021DE E011      LDI	R17,1
    021DF 940E 042E CALL	_delay_ms
(1150)    pageNum=prePageNum;
    021E1 9020 0D12 LDS	R2,prePageNum
    021E3 9030 0D13 LDS	R3,prePageNum+1
    021E5 9230 0D1F STS	pageNum+1,R3
    021E7 9220 0D1E STS	pageNum,R2
    021E9 9622      ADIW	R28,2
    021EA 9508      RET
(1151)  }
(1152) //分发Pages
(1153) void dispatchPages(void){
(1154)       lcd_clear();//清屏幕
_dispatchPages:
    021EB 940E 0736 CALL	_lcd_clear
(1155)       if(pageNum==1){
    021ED 9180 0D1E LDS	R24,pageNum
    021EF 9190 0D1F LDS	R25,pageNum+1
    021F1 3081      CPI	R24,1
    021F2 E0E0      LDI	R30,0
    021F3 079E      CPC	R25,R30
    021F4 F419      BNE	0x21F8
(1156) 	    page1();
    021F5 940E 0F79 CALL	_page1
(1157) 	  }else if(pageNum==2){
    021F7 C052      RJMP	0x224A
    021F8 9180 0D1E LDS	R24,pageNum
    021FA 9190 0D1F LDS	R25,pageNum+1
    021FC 3082      CPI	R24,2
    021FD E0E0      LDI	R30,0
    021FE 079E      CPC	R25,R30
    021FF F419      BNE	0x2203
(1158) 	    page2();
    02200 940E 1351 CALL	_page2
(1159) 	  }else if(pageNum==3){
    02202 C047      RJMP	0x224A
    02203 9180 0D1E LDS	R24,pageNum
    02205 9190 0D1F LDS	R25,pageNum+1
    02207 3083      CPI	R24,3
    02208 E0E0      LDI	R30,0
    02209 079E      CPC	R25,R30
    0220A F419      BNE	0x220E
(1160) 	    page3();
    0220B 940E 1475 CALL	_page3
(1161) 	  }else if(pageNum==4){
    0220D C03C      RJMP	0x224A
    0220E 9180 0D1E LDS	R24,pageNum
    02210 9190 0D1F LDS	R25,pageNum+1
    02212 3084      CPI	R24,4
    02213 E0E0      LDI	R30,0
    02214 079E      CPC	R25,R30
    02215 F419      BNE	0x2219
(1162) 	    page4();
    02216 940E 1948 CALL	_page4
(1163) 	  }else if(pageNum==5){
    02218 C031      RJMP	0x224A
    02219 9180 0D1E LDS	R24,pageNum
    0221B 9190 0D1F LDS	R25,pageNum+1
    0221D 3085      CPI	R24,5
    0221E E0E0      LDI	R30,0
    0221F 079E      CPC	R25,R30
    02220 F411      BNE	0x2223
(1164) 	    page5();
    02221 D9EE      RCALL	_page5
(1165) 	  }else if(pageNum==6){
    02222 C027      RJMP	0x224A
    02223 9180 0D1E LDS	R24,pageNum
    02225 9190 0D1F LDS	R25,pageNum+1
    02227 3086      CPI	R24,6
    02228 E0E0      LDI	R30,0
    02229 079E      CPC	R25,R30
    0222A F411      BNE	0x222D
(1166) 	    page6();
    0222B DB09      RCALL	_page6
(1167) 	  }else if(pageNum==7){
    0222C C01D      RJMP	0x224A
    0222D 9180 0D1E LDS	R24,pageNum
    0222F 9190 0D1F LDS	R25,pageNum+1
    02231 3087      CPI	R24,7
    02232 E0E0      LDI	R30,0
    02233 079E      CPC	R25,R30
    02234 F411      BNE	0x2237
(1168) 	    page7();
    02235 DB40      RCALL	_page7
(1169) 	  }else if(pageNum==8){
    02236 C013      RJMP	0x224A
    02237 9180 0D1E LDS	R24,pageNum
    02239 9190 0D1F LDS	R25,pageNum+1
    0223B 3088      CPI	R24,0x8
    0223C E0E0      LDI	R30,0
    0223D 079E      CPC	R25,R30
    0223E F411      BNE	0x2241
(1170) 	    page8();
    0223F DBD6      RCALL	_page8
(1171) 	  }else if(pageNum==9){
    02240 C009      RJMP	0x224A
    02241 9180 0D1E LDS	R24,pageNum
    02243 9190 0D1F LDS	R25,pageNum+1
    02245 3089      CPI	R24,0x9
    02246 E0E0      LDI	R30,0
    02247 079E      CPC	R25,R30
    02248 F409      BNE	0x224A
(1172) 	    page9();
    02249 DF66      RCALL	_page9
(1173) 	  }
    0224A 9508      RET
_tempcontrol:
  j                    --> R22
  i                    --> R20
    0224B 940E 2933 CALL	push_xgsetF00C
FILE: E:\ICCDemo\Temp_Control\temp_control\temp.c
(0001) #include<iom128v.h>
(0002) #include "temp.h"
(0003) #include "main.h"
(0004) #include "eeprom.h"
(0005) #include "lcd.h"
(0006) #include "max6675.h"
(0007) void PID_realize(uint temp_n);
(0008) void set_start_real(uint t);
(0009)  //执行温度控制数据更新操作，读取温度更新输出参数.会对温度数据故障更新
(0010) void tempcontrol(void){
(0011)    uint i,j;
(0012)       temp_l=0x00;
    0224D 2422      CLR	R2
    0224E 2433      CLR	R3
    0224F 9230 0115 STS	temp_l+1,R3
    02251 9220 0114 STS	temp_l,R2
(0013)       temp_h=0x12;
    02253 E182      LDI	R24,0x12
    02254 E090      LDI	R25,0
    02255 9390 0113 STS	temp_h+1,R25
    02257 9380 0112 STS	temp_h,R24
(0014)    for(i=0;i<4;i++){
    02259 2744      CLR	R20
    0225A 2755      CLR	R21
    0225B C12D      RJMP	0x2389
(0015)          //readTemp(i);//读取温度，一次验证有效性
(0016) 	 if(temp_l&0x04){//当前故障，下面就不用再运行啦
    0225C 9020 0114 LDS	R2,temp_l
    0225E 9030 0115 LDS	R3,temp_l+1
    02260 FE22      SBRS	R2,2
    02261 C00F      RJMP	0x2271
(0017) 		     temps[i].flag=2;
    02262 E30A      LDI	R16,0x3A
    02263 E011      LDI	R17,1
    02264 019A      MOVW	R18,R20
    02265 940E 28ED CALL	empy16s
    02267 E186      LDI	R24,0x16
    02268 E091      LDI	R25,1
    02269 01F8      MOVW	R30,R16
    0226A 0FE8      ADD	R30,R24
    0226B 1FF9      ADC	R31,R25
    0226C E082      LDI	R24,2
    0226D E090      LDI	R25,0
    0226E 8391      STD	Z+1,R25
    0226F 8380      ST	Z,R24
(0018) 	 }else{
    02270 C116      RJMP	0x2387
(0019) 	      //temps[i].actualtemp=0x55<<2;
(0020) 		  temps[i].actualtemp=(temp_h&0x3F)<<4|(temp_l&0xF0)>>4;
    02271 E30A      LDI	R16,0x3A
    02272 E011      LDI	R17,1
    02273 019A      MOVW	R18,R20
    02274 940E 28ED CALL	empy16s
    02276 E380      LDI	R24,0x30
    02277 E092      LDI	R25,2
    02278 01F8      MOVW	R30,R16
    02279 0FE8      ADD	R30,R24
    0227A 1FF9      ADC	R31,R25
    0227B 9180 0114 LDS	R24,temp_l
    0227D 9190 0115 LDS	R25,temp_l+1
    0227F 7F80      ANDI	R24,0xF0
    02280 7090      ANDI	R25,0
    02281 9596      LSR	R25
    02282 9587      ROR	R24
    02283 9596      LSR	R25
    02284 9587      ROR	R24
    02285 9596      LSR	R25
    02286 9587      ROR	R24
    02287 9596      LSR	R25
    02288 9587      ROR	R24
    02289 9100 0112 LDS	R16,temp_h
    0228B 9110 0113 LDS	R17,temp_h+1
    0228D 730F      ANDI	R16,0x3F
    0228E 7010      ANDI	R17,0
    0228F 0F00      LSL	R16
    02290 1F11      ROL	R17
    02291 0F00      LSL	R16
    02292 1F11      ROL	R17
    02293 0F00      LSL	R16
    02294 1F11      ROL	R17
    02295 0F00      LSL	R16
    02296 1F11      ROL	R17
    02297 2B08      OR	R16,R24
    02298 2B19      OR	R17,R25
    02299 940E 2A65 CALL	uint2fp
    0229B 8300      ST	Z,R16
    0229C 8311      STD	Z+1,R17
    0229D 8322      STD	Z+2,R18
    0229E 8333      STD	Z+3,R19
(0021)          if(temps[i].flag==1)//运行中的
    0229F E30A      LDI	R16,0x3A
    022A0 E011      LDI	R17,1
    022A1 019A      MOVW	R18,R20
    022A2 940E 28ED CALL	empy16s
    022A4 E186      LDI	R24,0x16
    022A5 E091      LDI	R25,1
    022A6 01F8      MOVW	R30,R16
    022A7 0FE8      ADD	R30,R24
    022A8 1FF9      ADC	R31,R25
    022A9 8180      LD	R24,Z
    022AA 8191      LDD	R25,Z+1
    022AB 3081      CPI	R24,1
    022AC E0E0      LDI	R30,0
    022AD 079E      CPC	R25,R30
    022AE F009      BEQ	0x22B0
    022AF C09A      RJMP	0x234A
(0022) 	      {   
(0023) 		      for(j=0;j<9;j++){
    022B0 2766      CLR	R22
    022B1 2777      CLR	R23
    022B2 C039      RJMP	0x22EC
(0024) 			    //readTemp(i);//读取温度，需要读取10次左右
(0025) 			    temps[i].actualtemp+=(temp_h&0x3F)<<4+(temp_l&0xF0)>>4;
    022B3 E30A      LDI	R16,0x3A
    022B4 E011      LDI	R17,1
    022B5 019A      MOVW	R18,R20
    022B6 940E 28ED CALL	empy16s
    022B8 0118      MOVW	R2,R16
    022B9 E380      LDI	R24,0x30
    022BA E092      LDI	R25,2
    022BB 0E28      ADD	R2,R24
    022BC 1E39      ADC	R3,R25
    022BD 0141      MOVW	R8,R2
    022BE 01F1      MOVW	R30,R2
    022BF 8020      LD	R2,Z
    022C0 8031      LDD	R3,Z+1
    022C1 8042      LDD	R4,Z+2
    022C2 8053      LDD	R5,Z+3
    022C3 9120 0114 LDS	R18,temp_l
    022C5 9130 0115 LDS	R19,temp_l+1
    022C7 7F20      ANDI	R18,0xF0
    022C8 7030      ANDI	R19,0
    022C9 5F2C      SUBI	R18,0xFC
    022CA 4F3F      SBCI	R19,0xFF
    022CB 9100 0112 LDS	R16,temp_h
    022CD 9110 0113 LDS	R17,temp_h+1
    022CF 730F      ANDI	R16,0x3F
    022D0 7010      ANDI	R17,0
    022D1 940E 296A CALL	lsl16
    022D3 9516      LSR	R17
    022D4 9507      ROR	R16
    022D5 9516      LSR	R17
    022D6 9507      ROR	R16
    022D7 9516      LSR	R17
    022D8 9507      ROR	R16
    022D9 9516      LSR	R17
    022DA 9507      ROR	R16
    022DB 940E 2A65 CALL	uint2fp
    022DD 933A      ST	-Y,R19
    022DE 932A      ST	-Y,R18
    022DF 931A      ST	-Y,R17
    022E0 930A      ST	-Y,R16
    022E1 0181      MOVW	R16,R2
    022E2 0192      MOVW	R18,R4
    022E3 940E 2A06 CALL	fpadd2
    022E5 01F4      MOVW	R30,R8
    022E6 8300      ST	Z,R16
    022E7 8311      STD	Z+1,R17
    022E8 8322      STD	Z+2,R18
    022E9 8333      STD	Z+3,R19
    022EA 5F6F      SUBI	R22,0xFF
    022EB 4F7F      SBCI	R23,0xFF
    022EC 3069      CPI	R22,0x9
    022ED E0E0      LDI	R30,0
    022EE 077E      CPC	R23,R30
    022EF F408      BCC	0x22F1
    022F0 CFC2      RJMP	0x22B3
(0026) 			  }
(0027) 			    temps[i].actualtemp/=9;
    022F1 E30A      LDI	R16,0x3A
    022F2 E011      LDI	R17,1
    022F3 019A      MOVW	R18,R20
    022F4 940E 28ED CALL	empy16s
    022F6 0118      MOVW	R2,R16
    022F7 E380      LDI	R24,0x30
    022F8 E092      LDI	R25,2
    022F9 0E28      ADD	R2,R24
    022FA 1E39      ADC	R3,R25
    022FB 0131      MOVW	R6,R2
    022FC 01F1      MOVW	R30,R2
    022FD 8020      LD	R2,Z
    022FE 8031      LDD	R3,Z+1
    022FF 8042      LDD	R4,Z+2
    02300 8053      LDD	R5,Z+3
    02301 EA00      LDI	R16,0xA0
    02302 E010      LDI	R17,0
    02303 940E 28D9 CALL	elpm32
    02305 933A      ST	-Y,R19
    02306 932A      ST	-Y,R18
    02307 931A      ST	-Y,R17
    02308 930A      ST	-Y,R16
    02309 0181      MOVW	R16,R2
    0230A 0192      MOVW	R18,R4
    0230B 940E 2A92 CALL	fpdiv2
    0230D 01F3      MOVW	R30,R6
    0230E 8300      ST	Z,R16
    0230F 8311      STD	Z+1,R17
    02310 8322      STD	Z+2,R18
    02311 8333      STD	Z+3,R19
(0028) 		        if(temps[i].status[0]%2==0){//恒温阶段，使用pid算法
    02312 E30A      LDI	R16,0x3A
    02313 E011      LDI	R17,1
    02314 019A      MOVW	R18,R20
    02315 940E 28ED CALL	empy16s
    02317 E280      LDI	R24,0x20
    02318 E092      LDI	R25,2
    02319 01F8      MOVW	R30,R16
    0231A 0FE8      ADD	R30,R24
    0231B 1FF9      ADC	R31,R25
    0231C 8020      LD	R2,Z
    0231D 8031      LDD	R3,Z+1
    0231E FC20      SBRC	R2,0
    0231F C001      RJMP	0x2321
(0029)                 }else if(temps[i].settemp-temps[i].actualtemp<10){
    02320 C066      RJMP	0x2387
    02321 E30A      LDI	R16,0x3A
    02322 E011      LDI	R17,1
    02323 019A      MOVW	R18,R20
    02324 940E 28ED CALL	empy16s
    02326 0158      MOVW	R10,R16
    02327 E28C      LDI	R24,0x2C
    02328 E092      LDI	R25,2
    02329 01F5      MOVW	R30,R10
    0232A 0FE8      ADD	R30,R24
    0232B 1FF9      ADC	R31,R25
    0232C 8100      LD	R16,Z
    0232D 8111      LDD	R17,Z+1
    0232E 8122      LDD	R18,Z+2
    0232F 8133      LDD	R19,Z+3
    02330 E380      LDI	R24,0x30
    02331 E092      LDI	R25,2
    02332 0115      MOVW	R2,R10
    02333 0E28      ADD	R2,R24
    02334 1E39      ADC	R3,R25
    02335 923A      ST	-Y,R3
    02336 922A      ST	-Y,R2
    02337 940E 2A11 CALL	fpsub1
    02339 0118      MOVW	R2,R16
    0233A 0129      MOVW	R4,R18
    0233B E90C      LDI	R16,0x9C
    0233C E010      LDI	R17,0
    0233D 940E 28D9 CALL	elpm32
    0233F 933A      ST	-Y,R19
    02340 932A      ST	-Y,R18
    02341 931A      ST	-Y,R17
    02342 930A      ST	-Y,R16
    02343 0181      MOVW	R16,R2
    02344 0192      MOVW	R18,R4
    02345 940E 2C35 CALL	fpcmp2
    02347 F00C      BLT	0x2349
    02348 C03E      RJMP	0x2387
(0030) 		        //升温或阶段，如果温度接近某个温度则开始使用PID算法。这个值要重新考虑
(0031) 		         }else {
(0032) 		        
(0033) 		         }
(0034) 	      }else if(temps[i].flag==5){//和1相同，
    02349 C03D      RJMP	0x2387
    0234A E30A      LDI	R16,0x3A
    0234B E011      LDI	R17,1
    0234C 019A      MOVW	R18,R20
    0234D 940E 28ED CALL	empy16s
    0234F E186      LDI	R24,0x16
    02350 E091      LDI	R25,1
    02351 01F8      MOVW	R30,R16
    02352 0FE8      ADD	R30,R24
    02353 1FF9      ADC	R31,R25
    02354 8180      LD	R24,Z
    02355 8191      LDD	R25,Z+1
    02356 3085      CPI	R24,5
    02357 E0E0      LDI	R30,0
    02358 079E      CPC	R25,R30
    02359 F479      BNE	0x2369
(0035) 	             temps[i].flag=1;
    0235A E30A      LDI	R16,0x3A
    0235B E011      LDI	R17,1
    0235C 019A      MOVW	R18,R20
    0235D 940E 28ED CALL	empy16s
    0235F E186      LDI	R24,0x16
    02360 E091      LDI	R25,1
    02361 01F8      MOVW	R30,R16
    02362 0FE8      ADD	R30,R24
    02363 1FF9      ADC	R31,R25
    02364 E081      LDI	R24,1
    02365 E090      LDI	R25,0
    02366 8391      STD	Z+1,R25
    02367 8380      ST	Z,R24
(0036) 	      }else if(temps[i].flag==2){//故障的,设置标志位位未初始化，但是状态和温度数据可能存在、所以可以直接恢复
    02368 C01E      RJMP	0x2387
    02369 E30A      LDI	R16,0x3A
    0236A E011      LDI	R17,1
    0236B 019A      MOVW	R18,R20
    0236C 940E 28ED CALL	empy16s
    0236E E186      LDI	R24,0x16
    0236F E091      LDI	R25,1
    02370 01F8      MOVW	R30,R16
    02371 0FE8      ADD	R30,R24
    02372 1FF9      ADC	R31,R25
    02373 8180      LD	R24,Z
    02374 8191      LDD	R25,Z+1
    02375 3082      CPI	R24,2
    02376 E0E0      LDI	R30,0
    02377 079E      CPC	R25,R30
    02378 F471      BNE	0x2387
(0037) 		       temps[i].flag=0;
    02379 E30A      LDI	R16,0x3A
    0237A E011      LDI	R17,1
    0237B 019A      MOVW	R18,R20
    0237C 940E 28ED CALL	empy16s
    0237E E186      LDI	R24,0x16
    0237F E091      LDI	R25,1
    02380 01F8      MOVW	R30,R16
    02381 0FE8      ADD	R30,R24
    02382 1FF9      ADC	R31,R25
    02383 2422      CLR	R2
    02384 2433      CLR	R3
    02385 8231      STD	Z+1,R3
    02386 8220      ST	Z,R2
    02387 5F4F      SUBI	R20,0xFF
    02388 4F5F      SBCI	R21,0xFF
    02389 3044      CPI	R20,4
    0238A E0E0      LDI	R30,0
    0238B 075E      CPC	R21,R30
    0238C F408      BCC	0x238E
    0238D CECE      RJMP	0x225C
    0238E 940C 293A JMP	pop_xgsetF00C
_tempdata_init:
  i                    --> R20
  j                    --> R22
    02390 940E 2929 CALL	push_xgsetF000
(0038) 	      }
(0039) 	  }
(0040)    }
(0041) }
(0042) 
(0043) //开机初始化空间。全部置0,不初始化数据，等用户或EEPROM数据回填
(0044) void tempdata_init(void){
(0045)  uint i,j;
(0046)  for(i=0;i<4;i++){
    02392 2744      CLR	R20
    02393 2755      CLR	R21
    02394 C106      RJMP	0x249B
(0047)     temps[i].flag=0;
    02395 E30A      LDI	R16,0x3A
    02396 E011      LDI	R17,1
    02397 019A      MOVW	R18,R20
    02398 940E 28ED CALL	empy16s
    0239A E186      LDI	R24,0x16
    0239B E091      LDI	R25,1
    0239C 01F8      MOVW	R30,R16
    0239D 0FE8      ADD	R30,R24
    0239E 1FF9      ADC	R31,R25
    0239F 2422      CLR	R2
    023A0 2433      CLR	R3
    023A1 8231      STD	Z+1,R3
    023A2 8220      ST	Z,R2
(0048) 	for(j=0;j<132;j++){
    023A3 2766      CLR	R22
    023A4 2777      CLR	R23
    023A5 C015      RJMP	0x23BB
(0049) 	 temps[i].temp_data[j]=0;
    023A6 E30A      LDI	R16,0x3A
    023A7 E011      LDI	R17,1
    023A8 019A      MOVW	R18,R20
    023A9 940E 28ED CALL	empy16s
    023AB 0118      MOVW	R2,R16
    023AC E188      LDI	R24,0x18
    023AD E091      LDI	R25,1
    023AE 0E28      ADD	R2,R24
    023AF 1E39      ADC	R3,R25
    023B0 01FB      MOVW	R30,R22
    023B1 0FEE      LSL	R30
    023B2 1FFF      ROL	R31
    023B3 0DE2      ADD	R30,R2
    023B4 1DF3      ADC	R31,R3
    023B5 2422      CLR	R2
    023B6 2433      CLR	R3
    023B7 8231      STD	Z+1,R3
    023B8 8220      ST	Z,R2
    023B9 5F6F      SUBI	R22,0xFF
    023BA 4F7F      SBCI	R23,0xFF
    023BB 3864      CPI	R22,0x84
    023BC E0E0      LDI	R30,0
    023BD 077E      CPC	R23,R30
    023BE F338      BCS	0x23A6
(0050) 	}
(0051) 	temps[i].status[0]=0;
    023BF E30A      LDI	R16,0x3A
    023C0 E011      LDI	R17,1
    023C1 019A      MOVW	R18,R20
    023C2 940E 28ED CALL	empy16s
    023C4 E280      LDI	R24,0x20
    023C5 E092      LDI	R25,2
    023C6 01F8      MOVW	R30,R16
    023C7 0FE8      ADD	R30,R24
    023C8 1FF9      ADC	R31,R25
    023C9 2422      CLR	R2
    023CA 2433      CLR	R3
    023CB 8231      STD	Z+1,R3
    023CC 8220      ST	Z,R2
(0052) 	temps[i].status[1]=0;
    023CD E30A      LDI	R16,0x3A
    023CE E011      LDI	R17,1
    023CF 019A      MOVW	R18,R20
    023D0 940E 28ED CALL	empy16s
    023D2 E282      LDI	R24,0x22
    023D3 E092      LDI	R25,2
    023D4 01F8      MOVW	R30,R16
    023D5 0FE8      ADD	R30,R24
    023D6 1FF9      ADC	R31,R25
    023D7 2422      CLR	R2
    023D8 2433      CLR	R3
    023D9 8231      STD	Z+1,R3
    023DA 8220      ST	Z,R2
(0053) 	temps[i].status[2]=0;
    023DB E30A      LDI	R16,0x3A
    023DC E011      LDI	R17,1
    023DD 019A      MOVW	R18,R20
    023DE 940E 28ED CALL	empy16s
    023E0 E284      LDI	R24,0x24
    023E1 E092      LDI	R25,2
    023E2 01F8      MOVW	R30,R16
    023E3 0FE8      ADD	R30,R24
    023E4 1FF9      ADC	R31,R25
    023E5 2422      CLR	R2
    023E6 2433      CLR	R3
    023E7 8231      STD	Z+1,R3
    023E8 8220      ST	Z,R2
(0054) 	temps[i].status[3]=0;
    023E9 E30A      LDI	R16,0x3A
    023EA E011      LDI	R17,1
    023EB 019A      MOVW	R18,R20
    023EC 940E 28ED CALL	empy16s
    023EE E286      LDI	R24,0x26
    023EF E092      LDI	R25,2
    023F0 01F8      MOVW	R30,R16
    023F1 0FE8      ADD	R30,R24
    023F2 1FF9      ADC	R31,R25
    023F3 2422      CLR	R2
    023F4 2433      CLR	R3
    023F5 8231      STD	Z+1,R3
    023F6 8220      ST	Z,R2
(0055) 	temps[i].settemp=0;
    023F7 E30A      LDI	R16,0x3A
    023F8 E011      LDI	R17,1
    023F9 019A      MOVW	R18,R20
    023FA 940E 28ED CALL	empy16s
    023FC E28C      LDI	R24,0x2C
    023FD E092      LDI	R25,2
    023FE 01F8      MOVW	R30,R16
    023FF 0FE8      ADD	R30,R24
    02400 1FF9      ADC	R31,R25
    02401 E908      LDI	R16,0x98
    02402 E010      LDI	R17,0
    02403 940E 28D9 CALL	elpm32
    02405 8300      ST	Z,R16
    02406 8311      STD	Z+1,R17
    02407 8322      STD	Z+2,R18
    02408 8333      STD	Z+3,R19
(0056) 	temps[i].actualtemp=0;
    02409 E30A      LDI	R16,0x3A
    0240A E011      LDI	R17,1
    0240B 019A      MOVW	R18,R20
    0240C 940E 28ED CALL	empy16s
    0240E E380      LDI	R24,0x30
    0240F E092      LDI	R25,2
    02410 01F8      MOVW	R30,R16
    02411 0FE8      ADD	R30,R24
    02412 1FF9      ADC	R31,R25
    02413 E908      LDI	R16,0x98
    02414 E010      LDI	R17,0
    02415 940E 28D9 CALL	elpm32
    02417 8300      ST	Z,R16
    02418 8311      STD	Z+1,R17
    02419 8322      STD	Z+2,R18
    0241A 8333      STD	Z+3,R19
(0057) 	temps[i].err=0;
    0241B E30A      LDI	R16,0x3A
    0241C E011      LDI	R17,1
    0241D 019A      MOVW	R18,R20
    0241E 940E 28ED CALL	empy16s
    02420 E384      LDI	R24,0x34
    02421 E092      LDI	R25,2
    02422 01F8      MOVW	R30,R16
    02423 0FE8      ADD	R30,R24
    02424 1FF9      ADC	R31,R25
    02425 E908      LDI	R16,0x98
    02426 E010      LDI	R17,0
    02427 940E 28D9 CALL	elpm32
    02429 8300      ST	Z,R16
    0242A 8311      STD	Z+1,R17
    0242B 8322      STD	Z+2,R18
    0242C 8333      STD	Z+3,R19
(0058) 	 temps[i].err_last=0;
    0242D E30A      LDI	R16,0x3A
    0242E E011      LDI	R17,1
    0242F 019A      MOVW	R18,R20
    02430 940E 28ED CALL	empy16s
    02432 E388      LDI	R24,0x38
    02433 E092      LDI	R25,2
    02434 01F8      MOVW	R30,R16
    02435 0FE8      ADD	R30,R24
    02436 1FF9      ADC	R31,R25
    02437 E908      LDI	R16,0x98
    02438 E010      LDI	R17,0
    02439 940E 28D9 CALL	elpm32
    0243B 8300      ST	Z,R16
    0243C 8311      STD	Z+1,R17
    0243D 8322      STD	Z+2,R18
    0243E 8333      STD	Z+3,R19
(0059) 	 temps[i].err_next=0;
    0243F E30A      LDI	R16,0x3A
    02440 E011      LDI	R17,1
    02441 019A      MOVW	R18,R20
    02442 940E 28ED CALL	empy16s
    02444 E38C      LDI	R24,0x3C
    02445 E092      LDI	R25,2
    02446 01F8      MOVW	R30,R16
    02447 0FE8      ADD	R30,R24
    02448 1FF9      ADC	R31,R25
    02449 E908      LDI	R16,0x98
    0244A E010      LDI	R17,0
    0244B 940E 28D9 CALL	elpm32
    0244D 8300      ST	Z,R16
    0244E 8311      STD	Z+1,R17
    0244F 8322      STD	Z+2,R18
    02450 8333      STD	Z+3,R19
(0060) 	 temps[i].Kp=0.0;
    02451 E30A      LDI	R16,0x3A
    02452 E011      LDI	R17,1
    02453 019A      MOVW	R18,R20
    02454 940E 28ED CALL	empy16s
    02456 E480      LDI	R24,0x40
    02457 E092      LDI	R25,2
    02458 01F8      MOVW	R30,R16
    02459 0FE8      ADD	R30,R24
    0245A 1FF9      ADC	R31,R25
    0245B E908      LDI	R16,0x98
    0245C E010      LDI	R17,0
    0245D 940E 28D9 CALL	elpm32
    0245F 8300      ST	Z,R16
    02460 8311      STD	Z+1,R17
    02461 8322      STD	Z+2,R18
    02462 8333      STD	Z+3,R19
(0061) 	 temps[i].Ki=0.0;
    02463 E30A      LDI	R16,0x3A
    02464 E011      LDI	R17,1
    02465 019A      MOVW	R18,R20
    02466 940E 28ED CALL	empy16s
    02468 E484      LDI	R24,0x44
    02469 E092      LDI	R25,2
    0246A 01F8      MOVW	R30,R16
    0246B 0FE8      ADD	R30,R24
    0246C 1FF9      ADC	R31,R25
    0246D E908      LDI	R16,0x98
    0246E E010      LDI	R17,0
    0246F 940E 28D9 CALL	elpm32
    02471 8300      ST	Z,R16
    02472 8311      STD	Z+1,R17
    02473 8322      STD	Z+2,R18
    02474 8333      STD	Z+3,R19
(0062) 	 temps[i].Kd=0.0;
    02475 E30A      LDI	R16,0x3A
    02476 E011      LDI	R17,1
    02477 019A      MOVW	R18,R20
    02478 940E 28ED CALL	empy16s
    0247A E488      LDI	R24,0x48
    0247B E092      LDI	R25,2
    0247C 01F8      MOVW	R30,R16
    0247D 0FE8      ADD	R30,R24
    0247E 1FF9      ADC	R31,R25
    0247F E908      LDI	R16,0x98
    02480 E010      LDI	R17,0
    02481 940E 28D9 CALL	elpm32
    02483 8300      ST	Z,R16
    02484 8311      STD	Z+1,R17
    02485 8322      STD	Z+2,R18
    02486 8333      STD	Z+3,R19
(0063) 	 temps[i].incrementtemp=25.0;
    02487 E30A      LDI	R16,0x3A
    02488 E011      LDI	R17,1
    02489 019A      MOVW	R18,R20
    0248A 940E 28ED CALL	empy16s
    0248C E48C      LDI	R24,0x4C
    0248D E092      LDI	R25,2
    0248E 01F8      MOVW	R30,R16
    0248F 0FE8      ADD	R30,R24
    02490 1FF9      ADC	R31,R25
    02491 E904      LDI	R16,0x94
    02492 E010      LDI	R17,0
    02493 940E 28D9 CALL	elpm32
    02495 8300      ST	Z,R16
    02496 8311      STD	Z+1,R17
    02497 8322      STD	Z+2,R18
    02498 8333      STD	Z+3,R19
    02499 5F4F      SUBI	R20,0xFF
    0249A 4F5F      SBCI	R21,0xFF
    0249B 3044      CPI	R20,4
    0249C E0E0      LDI	R30,0
    0249D 075E      CPC	R21,R30
    0249E F408      BCC	0x24A0
    0249F CEF5      RJMP	0x2395
    024A0 940C 292E JMP	pop_xgsetF000
_data_recover:
  dataC                --> R22
  i                    --> R20
  j                    --> R22
    024A2 940E 2933 CALL	push_xgsetF00C
(0064)  } 
(0065) }
(0066) void data_recover(void){
(0067)  uint i,j;
(0068)  uint dataC;
(0069)  for(i=0;i<4;i++){
    024A4 2744      CLR	R20
    024A5 2755      CLR	R21
    024A6 C046      RJMP	0x24ED
(0070)    dataC=EEPROM_read(i+1,0);//读取标记位
    024A7 2722      CLR	R18
    024A8 2733      CLR	R19
    024A9 018A      MOVW	R16,R20
    024AA 5F0F      SUBI	R16,0xFF
    024AB 4F1F      SBCI	R17,0xFF
    024AC 940E 0F47 CALL	_EEPROM_read
    024AE 01B8      MOVW	R22,R16
(0071)    if(dataC==1){
    024AF 3001      CPI	R16,1
    024B0 E0E0      LDI	R30,0
    024B1 071E      CPC	R17,R30
    024B2 F009      BEQ	0x24B4
    024B3 C037      RJMP	0x24EB
(0072)       temps[i].flag=EEPROM_read(i+1,133);
    024B4 E825      LDI	R18,0x85
    024B5 E030      LDI	R19,0
    024B6 018A      MOVW	R16,R20
    024B7 5F0F      SUBI	R16,0xFF
    024B8 4F1F      SBCI	R17,0xFF
    024B9 940E 0F47 CALL	_EEPROM_read
    024BB 0118      MOVW	R2,R16
    024BC E30A      LDI	R16,0x3A
    024BD E011      LDI	R17,1
    024BE 019A      MOVW	R18,R20
    024BF 940E 28ED CALL	empy16s
    024C1 E186      LDI	R24,0x16
    024C2 E091      LDI	R25,1
    024C3 01F8      MOVW	R30,R16
    024C4 0FE8      ADD	R30,R24
    024C5 1FF9      ADC	R31,R25
    024C6 8231      STD	Z+1,R3
    024C7 8220      ST	Z,R2
(0073) 	  for(j=0;j<132;j++){
    024C8 2766      CLR	R22
    024C9 2777      CLR	R23
    024CA C01C      RJMP	0x24E7
(0074) 	    temps[i].temp_data[j]=EEPROM_read(i+1,j+1);
    024CB 019B      MOVW	R18,R22
    024CC 5F2F      SUBI	R18,0xFF
    024CD 4F3F      SBCI	R19,0xFF
    024CE 018A      MOVW	R16,R20
    024CF 5F0F      SUBI	R16,0xFF
    024D0 4F1F      SBCI	R17,0xFF
    024D1 940E 0F47 CALL	_EEPROM_read
    024D3 0158      MOVW	R10,R16
    024D4 E30A      LDI	R16,0x3A
    024D5 E011      LDI	R17,1
    024D6 019A      MOVW	R18,R20
    024D7 940E 28ED CALL	empy16s
    024D9 0118      MOVW	R2,R16
    024DA E188      LDI	R24,0x18
    024DB E091      LDI	R25,1
    024DC 0E28      ADD	R2,R24
    024DD 1E39      ADC	R3,R25
    024DE 01FB      MOVW	R30,R22
    024DF 0FEE      LSL	R30
    024E0 1FFF      ROL	R31
    024E1 0DE2      ADD	R30,R2
    024E2 1DF3      ADC	R31,R3
    024E3 82B1      STD	Z+1,R11
    024E4 82A0      ST	Z,R10
    024E5 5F6F      SUBI	R22,0xFF
    024E6 4F7F      SBCI	R23,0xFF
    024E7 3864      CPI	R22,0x84
    024E8 E0E0      LDI	R30,0
    024E9 077E      CPC	R23,R30
    024EA F300      BCS	0x24CB
    024EB 5F4F      SUBI	R20,0xFF
    024EC 4F5F      SBCI	R21,0xFF
    024ED 3044      CPI	R20,4
    024EE E0E0      LDI	R30,0
    024EF 075E      CPC	R21,R30
    024F0 F408      BCC	0x24F2
    024F1 CFB5      RJMP	0x24A7
    024F2 940C 293A JMP	pop_xgsetF00C
_set_temp_data:
  j                    --> R20
  dataCach             --> R10
  t                    --> R22
    024F4 940E 2933 CALL	push_xgsetF00C
    024F6 0159      MOVW	R10,R18
    024F7 01B8      MOVW	R22,R16
    024F8 9722      SBIW	R28,2
(0075) 	   }
(0076) 	}
(0077)  } 
(0078) }
(0079) 
(0080) //设置指定的数据,保存相关标志位
(0081) void set_temp_data(uint t,uint* dataCach){
(0082)     uint j;
(0083) 	temps[t].flag=6;
    024F9 E30A      LDI	R16,0x3A
    024FA E011      LDI	R17,1
    024FB 019B      MOVW	R18,R22
    024FC 940E 28ED CALL	empy16s
    024FE E186      LDI	R24,0x16
    024FF E091      LDI	R25,1
    02500 01F8      MOVW	R30,R16
    02501 0FE8      ADD	R30,R24
    02502 1FF9      ADC	R31,R25
    02503 E086      LDI	R24,6
    02504 E090      LDI	R25,0
    02505 8391      STD	Z+1,R25
    02506 8380      ST	Z,R24
(0084) 	EEPROM_write(t+1,0,0x01);
    02507 E081      LDI	R24,1
    02508 8399      STD	Y+1,R25
    02509 8388      ST	Y,R24
    0250A 2722      CLR	R18
    0250B 2733      CLR	R19
    0250C 018B      MOVW	R16,R22
    0250D 5F0F      SUBI	R16,0xFF
    0250E 4F1F      SBCI	R17,0xFF
    0250F 940E 0F30 CALL	_EEPROM_write
(0085) 	EEPROM_write(t+1,133,6);
    02511 E086      LDI	R24,6
    02512 E090      LDI	R25,0
    02513 8399      STD	Y+1,R25
    02514 8388      ST	Y,R24
    02515 E825      LDI	R18,0x85
    02516 E030      LDI	R19,0
    02517 018B      MOVW	R16,R22
    02518 5F0F      SUBI	R16,0xFF
    02519 4F1F      SBCI	R17,0xFF
    0251A 940E 0F30 CALL	_EEPROM_write
(0086)     for(j=0;j<132;j++){
    0251C 2744      CLR	R20
    0251D 2755      CLR	R21
    0251E C01A      RJMP	0x2539
(0087) 	   temps[t].temp_data[j]=*(dataCach+j);
    0251F 011A      MOVW	R2,R20
    02520 0C22      LSL	R2
    02521 1C33      ROL	R3
    02522 0121      MOVW	R4,R2
    02523 E30A      LDI	R16,0x3A
    02524 E011      LDI	R17,1
    02525 019B      MOVW	R18,R22
    02526 940E 28ED CALL	empy16s
    02528 0118      MOVW	R2,R16
    02529 E188      LDI	R24,0x18
    0252A E091      LDI	R25,1
    0252B 0E28      ADD	R2,R24
    0252C 1E39      ADC	R3,R25
    0252D 01F2      MOVW	R30,R4
    0252E 0DE2      ADD	R30,R2
    0252F 1DF3      ADC	R31,R3
    02530 01D2      MOVW	R26,R4
    02531 0DAA      ADD	R26,R10
    02532 1DBB      ADC	R27,R11
    02533 902D      LD	R2,X+
    02534 903C      LD	R3,X
    02535 8231      STD	Z+1,R3
    02536 8220      ST	Z,R2
    02537 5F4F      SUBI	R20,0xFF
    02538 4F5F      SBCI	R21,0xFF
    02539 3844      CPI	R20,0x84
    0253A E0E0      LDI	R30,0
    0253B 075E      CPC	R21,R30
    0253C F310      BCS	0x251F
    0253D 9622      ADIW	R28,2
    0253E 940C 293A JMP	pop_xgsetF00C
_reset_temp_data:
  j                    --> R20
  t                    --> R22
    02540 940E 2929 CALL	push_xgsetF000
    02542 01B8      MOVW	R22,R16
    02543 9722      SBIW	R28,2
(0088) 	 //  EEPROM_write(t+1,j+1,temps[t].temp_data[j]);
(0089) 	}
(0090) }
(0091) 
(0092) //重置指定的数据,保存相关标志位
(0093) void reset_temp_data(uint t){
(0094)     uint j;
(0095) 	temps[t].flag=0;
    02544 E30A      LDI	R16,0x3A
    02545 E011      LDI	R17,1
    02546 019B      MOVW	R18,R22
    02547 940E 28ED CALL	empy16s
    02549 E186      LDI	R24,0x16
    0254A E091      LDI	R25,1
    0254B 01F8      MOVW	R30,R16
    0254C 0FE8      ADD	R30,R24
    0254D 1FF9      ADC	R31,R25
    0254E 2422      CLR	R2
    0254F 2433      CLR	R3
    02550 8231      STD	Z+1,R3
    02551 8220      ST	Z,R2
(0096) 	EEPROM_write(t+1,0,0x00);
    02552 8239      STD	Y+1,R3
    02553 8228      ST	Y,R2
    02554 2722      CLR	R18
    02555 2733      CLR	R19
    02556 018B      MOVW	R16,R22
    02557 5F0F      SUBI	R16,0xFF
    02558 4F1F      SBCI	R17,0xFF
    02559 940E 0F30 CALL	_EEPROM_write
(0097) 	EEPROM_write(t+1,133,0x00);
    0255B 2422      CLR	R2
    0255C 2433      CLR	R3
    0255D 8239      STD	Y+1,R3
    0255E 8228      ST	Y,R2
    0255F E825      LDI	R18,0x85
    02560 E030      LDI	R19,0
    02561 018B      MOVW	R16,R22
    02562 5F0F      SUBI	R16,0xFF
    02563 4F1F      SBCI	R17,0xFF
    02564 940E 0F30 CALL	_EEPROM_write
(0098)     for(j=0;j<132;j++){
    02566 2744      CLR	R20
    02567 2755      CLR	R21
    02568 C015      RJMP	0x257E
(0099) 	   temps[t].temp_data[j]=0;
    02569 E30A      LDI	R16,0x3A
    0256A E011      LDI	R17,1
    0256B 019B      MOVW	R18,R22
    0256C 940E 28ED CALL	empy16s
    0256E 0118      MOVW	R2,R16
    0256F E188      LDI	R24,0x18
    02570 E091      LDI	R25,1
    02571 0E28      ADD	R2,R24
    02572 1E39      ADC	R3,R25
    02573 01FA      MOVW	R30,R20
    02574 0FEE      LSL	R30
    02575 1FFF      ROL	R31
    02576 0DE2      ADD	R30,R2
    02577 1DF3      ADC	R31,R3
    02578 2422      CLR	R2
    02579 2433      CLR	R3
    0257A 8231      STD	Z+1,R3
    0257B 8220      ST	Z,R2
    0257C 5F4F      SUBI	R20,0xFF
    0257D 4F5F      SBCI	R21,0xFF
    0257E 3844      CPI	R20,0x84
    0257F E0E0      LDI	R30,0
    02580 075E      CPC	R21,R30
    02581 F338      BCS	0x2569
    02582 9622      ADIW	R28,2
    02583 940C 292E JMP	pop_xgsetF000
_set_all_start:
  j                    --> R20
    02585 934A      ST	-Y,R20
    02586 935A      ST	-Y,R21
(0100) 	 //  EEPROM_write(t+1,j+1,0);
(0101) 	}
(0102) }
(0103) //温度全部开始工作。状态为停止和刚重置数据的可以开始
(0104) void set_all_start(void){
(0105)     uint j;
(0106) 	
(0107)     for(j=0;j<4;j++){
    02587 2744      CLR	R20
    02588 2755      CLR	R21
    02589 C025      RJMP	0x25AF
(0108) 	   if(temps[j].flag==3 || temps[j].flag==6){
    0258A E30A      LDI	R16,0x3A
    0258B E011      LDI	R17,1
    0258C 019A      MOVW	R18,R20
    0258D 940E 28ED CALL	empy16s
    0258F E186      LDI	R24,0x16
    02590 E091      LDI	R25,1
    02591 01F8      MOVW	R30,R16
    02592 0FE8      ADD	R30,R24
    02593 1FF9      ADC	R31,R25
    02594 8020      LD	R2,Z
    02595 8031      LDD	R3,Z+1
    02596 01C1      MOVW	R24,R2
    02597 3083      CPI	R24,3
    02598 E0E0      LDI	R30,0
    02599 079E      CPC	R25,R30
    0259A F021      BEQ	0x259F
    0259B 3086      CPI	R24,6
    0259C E0E0      LDI	R30,0
    0259D 079E      CPC	R25,R30
    0259E F471      BNE	0x25AD
(0109) 	     temps[j].flag=5;
    0259F E30A      LDI	R16,0x3A
    025A0 E011      LDI	R17,1
    025A1 019A      MOVW	R18,R20
    025A2 940E 28ED CALL	empy16s
    025A4 E186      LDI	R24,0x16
    025A5 E091      LDI	R25,1
    025A6 01F8      MOVW	R30,R16
    025A7 0FE8      ADD	R30,R24
    025A8 1FF9      ADC	R31,R25
    025A9 E085      LDI	R24,5
    025AA E090      LDI	R25,0
    025AB 8391      STD	Z+1,R25
    025AC 8380      ST	Z,R24
    025AD 5F4F      SUBI	R20,0xFF
    025AE 4F5F      SBCI	R21,0xFF
    025AF 3044      CPI	R20,4
    025B0 E0E0      LDI	R30,0
    025B1 075E      CPC	R21,R30
    025B2 F2B8      BCS	0x258A
    025B3 9159      LD	R21,Y+
    025B4 9149      LD	R20,Y+
    025B5 9508      RET
_set_all_stop:
  j                    --> R20
    025B6 934A      ST	-Y,R20
    025B7 935A      ST	-Y,R21
(0110) 		// EEPROM_write(j+1,133,5);
(0111) 	   }
(0112) 	}
(0113) }
(0114) //温度全部暂停.要运行的才会暂停
(0115) void set_all_stop(void){
(0116)     uint j;
(0117) 	
(0118)     for(j=0;j<4;j++){
    025B8 2744      CLR	R20
    025B9 2755      CLR	R21
    025BA C025      RJMP	0x25E0
(0119) 	  if(temps[j].flag==1 || temps[j].flag==5){
    025BB E30A      LDI	R16,0x3A
    025BC E011      LDI	R17,1
    025BD 019A      MOVW	R18,R20
    025BE 940E 28ED CALL	empy16s
    025C0 E186      LDI	R24,0x16
    025C1 E091      LDI	R25,1
    025C2 01F8      MOVW	R30,R16
    025C3 0FE8      ADD	R30,R24
    025C4 1FF9      ADC	R31,R25
    025C5 8020      LD	R2,Z
    025C6 8031      LDD	R3,Z+1
    025C7 01C1      MOVW	R24,R2
    025C8 3081      CPI	R24,1
    025C9 E0E0      LDI	R30,0
    025CA 079E      CPC	R25,R30
    025CB F021      BEQ	0x25D0
    025CC 3085      CPI	R24,5
    025CD E0E0      LDI	R30,0
    025CE 079E      CPC	R25,R30
    025CF F471      BNE	0x25DE
(0120) 	     temps[j].flag=3;
    025D0 E30A      LDI	R16,0x3A
    025D1 E011      LDI	R17,1
    025D2 019A      MOVW	R18,R20
    025D3 940E 28ED CALL	empy16s
    025D5 E186      LDI	R24,0x16
    025D6 E091      LDI	R25,1
    025D7 01F8      MOVW	R30,R16
    025D8 0FE8      ADD	R30,R24
    025D9 1FF9      ADC	R31,R25
    025DA E083      LDI	R24,3
    025DB E090      LDI	R25,0
    025DC 8391      STD	Z+1,R25
    025DD 8380      ST	Z,R24
    025DE 5F4F      SUBI	R20,0xFF
    025DF 4F5F      SBCI	R21,0xFF
    025E0 3044      CPI	R20,4
    025E1 E0E0      LDI	R30,0
    025E2 075E      CPC	R21,R30
    025E3 F2B8      BCS	0x25BB
    025E4 9159      LD	R21,Y+
    025E5 9149      LD	R20,Y+
    025E6 9508      RET
_set_start:
  t                    --> R10
    025E7 92AA      ST	-Y,R10
    025E8 92BA      ST	-Y,R11
    025E9 0158      MOVW	R10,R16
(0121) 		//  EEPROM_write(j+1,133,3);
(0122) 	   }
(0123) 	}
(0124) }
(0125) //指定温度开始,预备
(0126) void set_start(uint t){
(0127)  if(temps[t].flag==3 || temps[t].flag==6){
    025EA E30A      LDI	R16,0x3A
    025EB E011      LDI	R17,1
    025EC 0195      MOVW	R18,R10
    025ED 940E 28ED CALL	empy16s
    025EF E186      LDI	R24,0x16
    025F0 E091      LDI	R25,1
    025F1 01F8      MOVW	R30,R16
    025F2 0FE8      ADD	R30,R24
    025F3 1FF9      ADC	R31,R25
    025F4 8020      LD	R2,Z
    025F5 8031      LDD	R3,Z+1
    025F6 01C1      MOVW	R24,R2
    025F7 3083      CPI	R24,3
    025F8 E0E0      LDI	R30,0
    025F9 079E      CPC	R25,R30
    025FA F021      BEQ	0x25FF
    025FB 3086      CPI	R24,6
    025FC E0E0      LDI	R30,0
    025FD 079E      CPC	R25,R30
    025FE F471      BNE	0x260D
(0128) 	     temps[t].flag=5;
    025FF E30A      LDI	R16,0x3A
    02600 E011      LDI	R17,1
    02601 0195      MOVW	R18,R10
    02602 940E 28ED CALL	empy16s
    02604 E186      LDI	R24,0x16
    02605 E091      LDI	R25,1
    02606 01F8      MOVW	R30,R16
    02607 0FE8      ADD	R30,R24
    02608 1FF9      ADC	R31,R25
    02609 E085      LDI	R24,5
    0260A E090      LDI	R25,0
    0260B 8391      STD	Z+1,R25
    0260C 8380      ST	Z,R24
(0129) 		///  EEPROM_write(t+1,133,5);
(0130) 	}
    0260D 90B9      LD	R11,Y+
    0260E 90A9      LD	R10,Y+
    0260F 9508      RET
_set_stop:
  t                    --> R10
    02610 92AA      ST	-Y,R10
    02611 92BA      ST	-Y,R11
    02612 0158      MOVW	R10,R16
(0131) }
(0132) 
(0133) //指定温度暂停
(0134) void set_stop(uint t){
(0135)  if(temps[t].flag==1 || temps[t].flag==5){
    02613 E30A      LDI	R16,0x3A
    02614 E011      LDI	R17,1
    02615 0195      MOVW	R18,R10
    02616 940E 28ED CALL	empy16s
    02618 E186      LDI	R24,0x16
    02619 E091      LDI	R25,1
    0261A 01F8      MOVW	R30,R16
    0261B 0FE8      ADD	R30,R24
    0261C 1FF9      ADC	R31,R25
    0261D 8020      LD	R2,Z
    0261E 8031      LDD	R3,Z+1
    0261F 01C1      MOVW	R24,R2
    02620 3081      CPI	R24,1
    02621 E0E0      LDI	R30,0
    02622 079E      CPC	R25,R30
    02623 F021      BEQ	0x2628
    02624 3085      CPI	R24,5
    02625 E0E0      LDI	R30,0
    02626 079E      CPC	R25,R30
    02627 F471      BNE	0x2636
(0136) 	     temps[t].flag=3;
    02628 E30A      LDI	R16,0x3A
    02629 E011      LDI	R17,1
    0262A 0195      MOVW	R18,R10
    0262B 940E 28ED CALL	empy16s
    0262D E186      LDI	R24,0x16
    0262E E091      LDI	R25,1
    0262F 01F8      MOVW	R30,R16
    02630 0FE8      ADD	R30,R24
    02631 1FF9      ADC	R31,R25
    02632 E083      LDI	R24,3
    02633 E090      LDI	R25,0
    02634 8391      STD	Z+1,R25
    02635 8380      ST	Z,R24
(0137) 		// EEPROM_write(t+1,133,3);
(0138) 	   }
    02636 90B9      LD	R11,Y+
    02637 90A9      LD	R10,Y+
    02638 9508      RET
_PID_realize:
  temp_n               --> R10
    02639 940E 294F CALL	push_xgsetF03C
    0263B 0158      MOVW	R10,R16
(0139) }
(0140) /***********************************************************************
(0141) * 函数功能：	PID计算
(0142) * 参      数：	读入的温度
(0143) * 返 回  值：	无	改变incrementtemp的值，输出函数获得这个值然后输出
(0144) * 备	   注：	
(0145) **1
(0146) **********************************************************************/
(0147) void PID_realize(uint temp_n)
(0148) {
(0149)    temps[temp_n].err=temps[temp_n].settemp-temps[temp_n].actualtemp;//这两个都在结构体中
    0263C E30A      LDI	R16,0x3A
    0263D E011      LDI	R17,1
    0263E 0195      MOVW	R18,R10
    0263F 940E 28ED CALL	empy16s
    02641 0128      MOVW	R4,R16
    02642 E28C      LDI	R24,0x2C
    02643 E092      LDI	R25,2
    02644 01F2      MOVW	R30,R4
    02645 0FE8      ADD	R30,R24
    02646 1FF9      ADC	R31,R25
    02647 8100      LD	R16,Z
    02648 8111      LDD	R17,Z+1
    02649 8122      LDD	R18,Z+2
    0264A 8133      LDD	R19,Z+3
    0264B E380      LDI	R24,0x30
    0264C E092      LDI	R25,2
    0264D 0112      MOVW	R2,R4
    0264E 0E28      ADD	R2,R24
    0264F 1E39      ADC	R3,R25
    02650 923A      ST	-Y,R3
    02651 922A      ST	-Y,R2
    02652 940E 2A11 CALL	fpsub1
    02654 E384      LDI	R24,0x34
    02655 E092      LDI	R25,2
    02656 01F2      MOVW	R30,R4
    02657 0FE8      ADD	R30,R24
    02658 1FF9      ADC	R31,R25
    02659 8300      ST	Z,R16
    0265A 8311      STD	Z+1,R17
    0265B 8322      STD	Z+2,R18
    0265C 8333      STD	Z+3,R19
(0150)    temps[temp_n].incrementtemp=temps[temp_n].Kp*(temps[temp_n].err-temps[temp_n].err_next)+temps[temp_n].Ki*temps[temp_n].err+temps[temp_n].Kd*(temps[temp_n].err-2*temps[temp_n].err_next+temps[temp_n].err_last);
    0265D E30A      LDI	R16,0x3A
    0265E E011      LDI	R17,1
    0265F 0195      MOVW	R18,R10
    02660 940E 28ED CALL	empy16s
    02662 01D8      MOVW	R26,R16
    02663 E480      LDI	R24,0x40
    02664 E092      LDI	R25,2
    02665 01FD      MOVW	R30,R26
    02666 0FE8      ADD	R30,R24
    02667 1FF9      ADC	R31,R25
    02668 8020      LD	R2,Z
    02669 8031      LDD	R3,Z+1
    0266A 8042      LDD	R4,Z+2
    0266B 8053      LDD	R5,Z+3
    0266C E384      LDI	R24,0x34
    0266D E092      LDI	R25,2
    0266E 01FD      MOVW	R30,R26
    0266F 0FE8      ADD	R30,R24
    02670 1FF9      ADC	R31,R25
    02671 8100      LD	R16,Z
    02672 8111      LDD	R17,Z+1
    02673 8122      LDD	R18,Z+2
    02674 8133      LDD	R19,Z+3
    02675 E38C      LDI	R24,0x3C
    02676 E092      LDI	R25,2
    02677 013D      MOVW	R6,R26
    02678 0E68      ADD	R6,R24
    02679 1E79      ADC	R7,R25
    0267A 927A      ST	-Y,R7
    0267B 926A      ST	-Y,R6
    0267C 940E 2A26 CALL	fpsub1x
    0267E 0181      MOVW	R16,R2
    0267F 0192      MOVW	R18,R4
    02680 940E 2C02 CALL	fpmule2
    02682 0118      MOVW	R2,R16
    02683 0129      MOVW	R4,R18
    02684 E484      LDI	R24,0x44
    02685 E092      LDI	R25,2
    02686 01FD      MOVW	R30,R26
    02687 0FE8      ADD	R30,R24
    02688 1FF9      ADC	R31,R25
    02689 8100      LD	R16,Z
    0268A 8111      LDD	R17,Z+1
    0268B 8122      LDD	R18,Z+2
    0268C 8133      LDD	R19,Z+3
    0268D E384      LDI	R24,0x34
    0268E E092      LDI	R25,2
    0268F 013D      MOVW	R6,R26
    02690 0E68      ADD	R6,R24
    02691 1E79      ADC	R7,R25
    02692 927A      ST	-Y,R7
    02693 926A      ST	-Y,R6
    02694 940E 2C0D CALL	fpmule1x
    02696 0181      MOVW	R16,R2
    02697 0192      MOVW	R18,R4
    02698 940E 2A06 CALL	fpadd2
    0269A 0118      MOVW	R2,R16
    0269B 0129      MOVW	R4,R18
    0269C E488      LDI	R24,0x48
    0269D E092      LDI	R25,2
    0269E 01FD      MOVW	R30,R26
    0269F 0FE8      ADD	R30,R24
    026A0 1FF9      ADC	R31,R25
    026A1 8060      LD	R6,Z
    026A2 8071      LDD	R7,Z+1
    026A3 8082      LDD	R8,Z+2
    026A4 8093      LDD	R9,Z+3
    026A5 E384      LDI	R24,0x34
    026A6 E092      LDI	R25,2
    026A7 01FD      MOVW	R30,R26
    026A8 0FE8      ADD	R30,R24
    026A9 1FF9      ADC	R31,R25
    026AA 8140      LD	R20,Z
    026AB 8151      LDD	R21,Z+1
    026AC 8162      LDD	R22,Z+2
    026AD 8173      LDD	R23,Z+3
    026AE E900      LDI	R16,0x90
    026AF E010      LDI	R17,0
    026B0 940E 28D9 CALL	elpm32
    026B2 E38C      LDI	R24,0x3C
    026B3 E092      LDI	R25,2
    026B4 01FD      MOVW	R30,R26
    026B5 0FE8      ADD	R30,R24
    026B6 1FF9      ADC	R31,R25
    026B7 93FA      ST	-Y,R31
    026B8 93EA      ST	-Y,R30
    026B9 940E 2C0D CALL	fpmule1x
    026BB 018A      MOVW	R16,R20
    026BC 019B      MOVW	R18,R22
    026BD 940E 2A1B CALL	fpsub2
    026BF E388      LDI	R24,0x38
    026C0 E092      LDI	R25,2
    026C1 01FD      MOVW	R30,R26
    026C2 0FE8      ADD	R30,R24
    026C3 1FF9      ADC	R31,R25
    026C4 93FA      ST	-Y,R31
    026C5 93EA      ST	-Y,R30
    026C6 940E 29F9 CALL	fpadd1x
    026C8 0183      MOVW	R16,R6
    026C9 0194      MOVW	R18,R8
    026CA 940E 2C1A CALL	fpmule2x
    026CC 0181      MOVW	R16,R2
    026CD 0192      MOVW	R18,R4
    026CE 940E 2A06 CALL	fpadd2
    026D0 E48C      LDI	R24,0x4C
    026D1 E092      LDI	R25,2
    026D2 01FD      MOVW	R30,R26
    026D3 0FE8      ADD	R30,R24
    026D4 1FF9      ADC	R31,R25
    026D5 8300      ST	Z,R16
    026D6 8311      STD	Z+1,R17
    026D7 8322      STD	Z+2,R18
    026D8 8333      STD	Z+3,R19
(0151)    temps[temp_n].err_last=temps[temp_n].err_next;
    026D9 E30A      LDI	R16,0x3A
    026DA E011      LDI	R17,1
    026DB 0195      MOVW	R18,R10
    026DC 940E 28ED CALL	empy16s
    026DE 0168      MOVW	R12,R16
    026DF E38C      LDI	R24,0x3C
    026E0 E092      LDI	R25,2
    026E1 01F6      MOVW	R30,R12
    026E2 0FE8      ADD	R30,R24
    026E3 1FF9      ADC	R31,R25
    026E4 8020      LD	R2,Z
    026E5 8031      LDD	R3,Z+1
    026E6 8042      LDD	R4,Z+2
    026E7 8053      LDD	R5,Z+3
    026E8 E388      LDI	R24,0x38
    026E9 E092      LDI	R25,2
    026EA 01F6      MOVW	R30,R12
    026EB 0FE8      ADD	R30,R24
    026EC 1FF9      ADC	R31,R25
    026ED 8220      ST	Z,R2
    026EE 8231      STD	Z+1,R3
    026EF 8242      STD	Z+2,R4
    026F0 8253      STD	Z+3,R5
(0152)    temps[temp_n].err_next=temps[temp_n].err;
    026F1 E30A      LDI	R16,0x3A
    026F2 E011      LDI	R17,1
    026F3 0195      MOVW	R18,R10
    026F4 940E 28ED CALL	empy16s
    026F6 0168      MOVW	R12,R16
    026F7 E384      LDI	R24,0x34
    026F8 E092      LDI	R25,2
    026F9 01F6      MOVW	R30,R12
    026FA 0FE8      ADD	R30,R24
    026FB 1FF9      ADC	R31,R25
    026FC 8020      LD	R2,Z
    026FD 8031      LDD	R3,Z+1
    026FE 8042      LDD	R4,Z+2
    026FF 8053      LDD	R5,Z+3
    02700 E38C      LDI	R24,0x3C
    02701 E092      LDI	R25,2
    02702 01F6      MOVW	R30,R12
    02703 0FE8      ADD	R30,R24
    02704 1FF9      ADC	R31,R25
    02705 8220      ST	Z,R2
    02706 8231      STD	Z+1,R3
    02707 8242      STD	Z+2,R4
    02708 8253      STD	Z+3,R5
(0153)    temps[temp_n].incrementtemp=temps[temp_n].incrementtemp/2;
    02709 E30A      LDI	R16,0x3A
    0270A E011      LDI	R17,1
    0270B 0195      MOVW	R18,R10
    0270C 940E 28ED CALL	empy16s
    0270E 0158      MOVW	R10,R16
    0270F E48C      LDI	R24,0x4C
    02710 E092      LDI	R25,2
    02711 01F5      MOVW	R30,R10
    02712 0FE8      ADD	R30,R24
    02713 1FF9      ADC	R31,R25
    02714 8020      LD	R2,Z
    02715 8031      LDD	R3,Z+1
    02716 8042      LDD	R4,Z+2
    02717 8053      LDD	R5,Z+3
    02718 E900      LDI	R16,0x90
    02719 E010      LDI	R17,0
    0271A 940E 28D9 CALL	elpm32
    0271C 933A      ST	-Y,R19
    0271D 932A      ST	-Y,R18
    0271E 931A      ST	-Y,R17
    0271F 930A      ST	-Y,R16
    02720 0181      MOVW	R16,R2
    02721 0192      MOVW	R18,R4
    02722 940E 2A92 CALL	fpdiv2
    02724 E48C      LDI	R24,0x4C
    02725 E092      LDI	R25,2
    02726 01F5      MOVW	R30,R10
    02727 0FE8      ADD	R30,R24
    02728 1FF9      ADC	R31,R25
    02729 8300      ST	Z,R16
    0272A 8311      STD	Z+1,R17
    0272B 8322      STD	Z+2,R18
    0272C 8333      STD	Z+3,R19
    0272D 940C 2958 JMP	pop_xgsetF03C
FILE: E:\ICCDemo\Temp_Control\temp_control\time1307.c
(0001) #include<iom128v.h>
(0002) #include "time1307.h"
(0003) #include "delay.h"
(0004) #include "lcd.h"
(0005) #include "main.h"
(0006) //寄存器宏定义
(0007) #define SECOND 0x00
(0008) #define MINUTE 0x01 
(0009) #define HOUR 0x02
(0010) #define DAY 0x04
(0011) #define MONTH 0x05 
(0012) #define WEEK 0x03
(0013) #define YEAE 0x06
(0014) #define CIBTPOL 0x07 
(0015) #define  WRITEDS1307    0xD0
(0016) #define     READDS1307    0xD1
(0017) 
(0018) 
(0019) #define  SCL_H  PORTD|=1<<PD0 //
(0020) #define  SCL_L  PORTD&=~(1<<PD0) //
(0021) #define  SDA_H   PORTD|=1<<PD1 //
(0022) #define  SDA_L  PORTD&=~(1<<PD1)  //
(0023) /* unsigned char set_rtc_code[7];
(0024) unsigned char rtc_address[7]={0x00,0x01,0x02,0x03,0x04,0x05,0x06};
(0025) unsigned char read_rtc_code[7];
(0026) unsigned char wr_j1j3_code[7];
(0027) unsigned char jk[7]={0,0,0,2,0,0,9};//设置时钟初始值*/
(0028) 
(0029) unsigned  char BP;
(0030) 
(0031) 
(0032) void I2C_start(void){//启动IIC总线
(0033)    SDA_H;
_I2C_start:
    0272F 9A91      SBI	0x12,1
(0034)    SCL_H;
    02730 9A90      SBI	0x12,0
(0035)    delay_us(8);
    02731 E008      LDI	R16,0x8
    02732 E010      LDI	R17,0
    02733 940E 0424 CALL	_delay_us
(0036)    SDA_L;
    02735 9891      CBI	0x12,1
(0037)    delay_us(8);
    02736 E008      LDI	R16,0x8
    02737 E010      LDI	R17,0
    02738 940E 0424 CALL	_delay_us
(0038)    SCL_L;
    0273A 9890      CBI	0x12,0
    0273B 9508      RET
(0039)    
(0040) }
(0041) void I2C_stop(void){//启动IIC总线
(0042)    SDA_L;
_I2C_stop:
    0273C 9891      CBI	0x12,1
(0043)    SCL_H;
    0273D 9A90      SBI	0x12,0
(0044)    delay_us(8);
    0273E E008      LDI	R16,0x8
    0273F E010      LDI	R17,0
    02740 940E 0424 CALL	_delay_us
(0045)    SDA_H;
    02742 9A91      SBI	0x12,1
(0046)    delay_us(8);
    02743 E008      LDI	R16,0x8
    02744 E010      LDI	R17,0
    02745 940E 0424 CALL	_delay_us
(0047)    SCL_L;
    02747 9890      CBI	0x12,0
    02748 9508      RET
(0048)    
(0049) }
(0050) void I2C_send_ack(void){//应答ack
(0051)   SDA_L;
_I2C_send_ack:
    02749 9891      CBI	0x12,1
(0052)   SCL_H;
    0274A 9A90      SBI	0x12,0
(0053)   delay_us(8);
    0274B E008      LDI	R16,0x8
    0274C E010      LDI	R17,0
    0274D 940E 0424 CALL	_delay_us
(0054)   SCL_L;
    0274F 9890      CBI	0x12,0
    02750 9508      RET
(0055) } 
(0056) void I2C_send_noack(void){
(0057)   SDA_H;
_I2C_send_noack:
    02751 9A91      SBI	0x12,1
(0058)   SCL_H;
    02752 9A90      SBI	0x12,0
(0059)    delay_us(8);
    02753 E008      LDI	R16,0x8
    02754 E010      LDI	R17,0
    02755 940E 0424 CALL	_delay_us
(0060)    SCL_L;
    02757 9890      CBI	0x12,0
    02758 9508      RET
_I2C_write_byte:
  i                    --> R20
  IIC_data             --> R10
    02759 92AA      ST	-Y,R10
    0275A 934A      ST	-Y,R20
    0275B 2EA0      MOV	R10,R16
(0061) }
(0062) void I2C_write_byte(unsigned char IIC_data){
(0063)    unsigned char i;
(0064)   // BP=0;
(0065)    for(i=0;i<8;i++){//循环输出数据
    0275C 2744      CLR	R20
    0275D C016      RJMP	0x2774
(0066)       SCL_L;
    0275E 9890      CBI	0x12,0
(0067) 	   if(((IIC_data<<i)&0x80)){
    0275F 2D0A      MOV	R16,R10
    02760 2F14      MOV	R17,R20
    02761 940E 2971 CALL	lsl8
    02763 2F80      MOV	R24,R16
    02764 7880      ANDI	R24,0x80
    02765 F011      BEQ	0x2768
(0068) 	      SDA_H;
    02766 9A91      SBI	0x12,1
(0069) 	   }else{
    02767 C001      RJMP	0x2769
(0070) 	   	  SDA_L;
    02768 9891      CBI	0x12,1
(0071) 	   }
(0072) 	   delay_us(4);
    02769 E004      LDI	R16,4
    0276A E010      LDI	R17,0
    0276B 940E 0424 CALL	_delay_us
(0073) 	   SCL_H;
    0276D 9A90      SBI	0x12,0
(0074) 	   delay_us(4);
    0276E E004      LDI	R16,4
    0276F E010      LDI	R17,0
    02770 940E 0424 CALL	_delay_us
(0075) 	   SCL_L;
    02772 9890      CBI	0x12,0
    02773 9543      INC	R20
    02774 3048      CPI	R20,0x8
    02775 F340      BCS	0x275E
(0076)    }
(0077)    //读取ACK
(0078)    delay_us(4);
    02776 E004      LDI	R16,4
    02777 E010      LDI	R17,0
    02778 940E 0424 CALL	_delay_us
(0079)    DDRD &=~(0x02);//发送完，等待输入信号
    0277A 9889      CBI	0x11,1
(0080)    delay_us(4);
    0277B E004      LDI	R16,4
    0277C E010      LDI	R17,0
    0277D 940E 0424 CALL	_delay_us
(0081)    if((PIND&(1<<PD1))){
    0277F 9B81      SBIS	0x10,1
    02780 C000      RJMP	0x2781
(0082)     //正常
(0083)    }//读取，如果发送的是noack，
(0084)    SCL_H;
    02781 9A90      SBI	0x12,0
(0085)    delay_us(4);
    02782 E004      LDI	R16,4
    02783 E010      LDI	R17,0
    02784 940E 0424 CALL	_delay_us
(0086)    SCL_L;
    02786 9890      CBI	0x12,0
(0087)    DDRD |=0x02;
    02787 9A89      SBI	0x11,1
    02788 9149      LD	R20,Y+
    02789 90A9      LD	R10,Y+
    0278A 9508      RET
_I2C_read_byte:
  i                    --> R20
  dat                  --> R10
    0278B 92AA      ST	-Y,R10
    0278C 934A      ST	-Y,R20
(0088) }
(0089) unsigned char I2C_read_byte(void){
(0090)   unsigned char i,dat;
(0091)   DDRD &=~(0x02);
    0278D 9889      CBI	0x11,1
(0092)   dat=0;
    0278E 24AA      CLR	R10
(0093)   for (i=0;i<8;i++)
    0278F 2744      CLR	R20
    02790 C00B      RJMP	0x279C
(0094)     {
(0095)       dat=dat<<1;
    02791 0CAA      LSL	R10
(0096)       SCL_H;
    02792 9A90      SBI	0x12,0
(0097)       delay_us(4);
    02793 E004      LDI	R16,4
    02794 E010      LDI	R17,0
    02795 940E 0424 CALL	_delay_us
(0098)      if((PIND&(1<<PD1)))
    02797 9B81      SBIS	0x10,1
    02798 C001      RJMP	0x279A
(0099)      {
(0100)        dat++;
    02799 94A3      INC	R10
(0101) 	  // PORTE=~PORTE;
(0102)      }
(0103)        SCL_L;  
    0279A 9890      CBI	0x12,0
    0279B 9543      INC	R20
    0279C 3048      CPI	R20,0x8
    0279D F398      BCS	0x2791
(0104)     }  
(0105)   DDRD |=0x02;
    0279E 9A89      SBI	0x11,1
(0106)   return dat;
    0279F 2D0A      MOV	R16,R10
    027A0 9149      LD	R20,Y+
    027A1 90A9      LD	R10,Y+
    027A2 9508      RET
_Write1307:
  dat                  --> R10
  add                  --> R12
    027A3 92AA      ST	-Y,R10
    027A4 92CA      ST	-Y,R12
    027A5 2EA2      MOV	R10,R18
    027A6 2EC0      MOV	R12,R16
(0107) }
(0108) /***********************************************************************/
(0109) /******************************** DS1307 写数据  ****************/
(0110) void Write1307(unsigned char add,unsigned char dat)
(0111) {
(0112)   I2C_start();
    027A7 DF87      RCALL	_I2C_start
(0113)   I2C_write_byte(WRITEDS1307);
    027A8 ED00      LDI	R16,0xD0
    027A9 DFAF      RCALL	_I2C_write_byte
(0114)   I2C_write_byte(add);
    027AA 2D0C      MOV	R16,R12
    027AB DFAD      RCALL	_I2C_write_byte
(0115)   I2C_write_byte(dat);
    027AC 2D0A      MOV	R16,R10
    027AD DFAB      RCALL	_I2C_write_byte
(0116)   I2C_stop();
    027AE DF8D      RCALL	_I2C_stop
    027AF 90C9      LD	R12,Y+
    027B0 90A9      LD	R10,Y+
    027B1 9508      RET
_Read1307:
  dat                  --> R10
  add                  --> R10
    027B2 92AA      ST	-Y,R10
    027B3 92BA      ST	-Y,R11
    027B4 2EA0      MOV	R10,R16
(0117) }
(0118) /***********************************************************************/
(0119) unsigned int Read1307(unsigned char add)
(0120) {
(0121)   
(0122)   unsigned int dat;
(0123)   I2C_start();
    027B5 DF79      RCALL	_I2C_start
(0124)   I2C_write_byte(WRITEDS1307);
    027B6 ED00      LDI	R16,0xD0
    027B7 DFA1      RCALL	_I2C_write_byte
(0125)   I2C_write_byte(add);
    027B8 2D0A      MOV	R16,R10
    027B9 DF9F      RCALL	_I2C_write_byte
(0126)   I2C_start();
    027BA DF74      RCALL	_I2C_start
(0127)   I2C_write_byte(READDS1307);
    027BB ED01      LDI	R16,0xD1
    027BC DF9C      RCALL	_I2C_write_byte
(0128)   dat=I2C_read_byte(); 
    027BD DFCD      RCALL	_I2C_read_byte
    027BE 2EA0      MOV	R10,R16
    027BF 24BB      CLR	R11
(0129)   I2C_send_noack();
    027C0 DF90      RCALL	_I2C_send_noack
(0130)   I2C_stop();      
    027C1 DF7A      RCALL	_I2C_stop
(0131)   return (dat);
    027C2 0185      MOVW	R16,R10
    027C3 90B9      LD	R11,Y+
    027C4 90A9      LD	R10,Y+
    027C5 9508      RET
_setTime:
  second               --> R10
  minute               --> R22
  hour                 --> R20
  day                  --> R14
  month                --> R12
  year                 --> Y,+10
    027C6 940E 2893 CALL	push_arg4
    027C8 940E 2914 CALL	push_xgsetF0FC
    027CA 0169      MOVW	R12,R18
    027CB 84EE      LDD	R14,Y+14
    027CC 84FF      LDD	R15,Y+15
    027CD 8948      LDD	R20,Y+16
    027CE 8959      LDD	R21,Y+17
    027CF 896A      LDD	R22,Y+18
    027D0 897B      LDD	R23,Y+19
    027D1 88AC      LDD	R10,Y+20
    027D2 88BD      LDD	R11,Y+21
(0132)  }
(0133) //年、月、日、星期、时、分、秒。星期没有写入
(0134) void setTime(uint year,uint month,uint day,uint hour,uint minute,uint second){
(0135)    Write1307(0x00,second);//
    027D3 2D2A      MOV	R18,R10
    027D4 2700      CLR	R16
    027D5 DFCD      RCALL	_Write1307
(0136)    Write1307(0x01,minute);//
    027D6 2F26      MOV	R18,R22
    027D7 E001      LDI	R16,1
    027D8 DFCA      RCALL	_Write1307
(0137)    Write1307(0x02,hour);//
    027D9 2F24      MOV	R18,R20
    027DA E002      LDI	R16,2
    027DB DFC7      RCALL	_Write1307
(0138)    //Write1307(0x03,0X01);//
(0139)    Write1307(0x04,day);//
    027DC 2D2E      MOV	R18,R14
    027DD E004      LDI	R16,4
    027DE DFC4      RCALL	_Write1307
(0140)    Write1307(0x05,month);//
    027DF 2D2C      MOV	R18,R12
    027E0 E005      LDI	R16,5
    027E1 DFC1      RCALL	_Write1307
(0141)    Write1307(0x06,year);
    027E2 852A      LDD	R18,Y+10
    027E3 853B      LDD	R19,Y+11
    027E4 E006      LDI	R16,6
    027E5 DFBD      RCALL	_Write1307
    027E6 940E 2909 CALL	pop_xgsetF0FC
    027E8 9624      ADIW	R28,4
    027E9 9508      RET
(0142) }
(0143) void Initial_time(void){//初始化输出、方波、中断
(0144)    DDRD|=0x07;
_Initial_time:
    027EA B381      IN	R24,0x11
    027EB 6087      ORI	R24,7
    027EC BB81      OUT	0x11,R24
(0145)    PORTD=0x00;
    027ED 2422      CLR	R2
    027EE BA22      OUT	0x12,R2
(0146)   /* Write1307(0x00,0X00);//
(0147)    Write1307(0x01,0X00);//
(0148)    Write1307(0x02,0X12);//
(0149)    Write1307(0x03,0X01);//
(0150)    Write1307(0x04,0X21);//
(0151)    Write1307(0x05,0X05);//
(0152)    Write1307(0x06,0X15);//*/
(0153)     Write1307(0x07,0x10);
    027EF E120      LDI	R18,0x10
    027F0 E007      LDI	R16,7
    027F1 DFB1      RCALL	_Write1307
(0154)    
(0155)    EIMSK |= 0x04;//开中断2
    027F2 B789      IN	R24,0x39
    027F3 6084      ORI	R24,4
    027F4 BF89      OUT	0x39,R24
(0156)    EICRA |=0x30;
    027F5 9180 006A LDS	R24,0x6A
    027F7 6380      ORI	R24,0x30
    027F8 9380 006A STS	0x6A,R24
    027FA 9508      RET
_showTime_page:
  time_cacah           --> R20
  y                    --> R10
    027FB 940E 2941 CALL	push_xgset303C
    027FD 0158      MOVW	R10,R16
(0157)    
(0158) }
(0159) //显示时间，年月日时分秒，用于page调用。没有改变AC，会接着写
(0160) void showTime_page(uint y){
(0161)    //PORTE=~Read1302(0x81);
(0162)    uchar time_cacah;
(0163)  //年
(0164)     time_cacah=Read1307(0x06);
    027FE E006      LDI	R16,6
    027FF DFB2      RCALL	_Read1307
    02800 2F40      MOV	R20,R16
(0165)     lcd_write_str_con(y, "20");
    02801 E52B      LDI	R18,0x5B
    02802 E038      LDI	R19,0x8
    02803 2D0A      MOV	R16,R10
    02804 940E 06C9 CALL	_lcd_write_str_con
(0166)     lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x0F));
    02806 2F24      MOV	R18,R20
    02807 9522      SWAP	R18
    02808 702F      ANDI	R18,0xF
    02809 702F      ANDI	R18,0xF
    0280A 6320      ORI	R18,0x30
    0280B 2D0A      MOV	R16,R10
    0280C 940E 0627 CALL	_lcd_write_char_con
(0167)     lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    0280E 2F24      MOV	R18,R20
    0280F 702F      ANDI	R18,0xF
    02810 6320      ORI	R18,0x30
    02811 2D0A      MOV	R16,R10
    02812 940E 0627 CALL	_lcd_write_char_con
(0168) 	lcd_write_char_con(y,'-');
    02814 E22D      LDI	R18,0x2D
    02815 2D0A      MOV	R16,R10
    02816 940E 0627 CALL	_lcd_write_char_con
(0169) 	 //月
(0170) 	 time_cacah=Read1307(0x05);
    02818 E005      LDI	R16,5
    02819 DF98      RCALL	_Read1307
    0281A 2F40      MOV	R20,R16
(0171) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x01));
    0281B 2F24      MOV	R18,R20
    0281C 9522      SWAP	R18
    0281D 702F      ANDI	R18,0xF
    0281E 7021      ANDI	R18,1
    0281F 6320      ORI	R18,0x30
    02820 2D0A      MOV	R16,R10
    02821 940E 0627 CALL	_lcd_write_char_con
(0172)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    02823 2F24      MOV	R18,R20
    02824 702F      ANDI	R18,0xF
    02825 6320      ORI	R18,0x30
    02826 2D0A      MOV	R16,R10
    02827 940E 0627 CALL	_lcd_write_char_con
(0173) 	 lcd_write_char_con(y,'-');
    02829 E22D      LDI	R18,0x2D
    0282A 2D0A      MOV	R16,R10
    0282B 940E 0627 CALL	_lcd_write_char_con
(0174) 	 //日
(0175) 	 time_cacah=Read1307(0x04);
    0282D E004      LDI	R16,4
    0282E DF83      RCALL	_Read1307
    0282F 0168      MOVW	R12,R16
    02830 2D4C      MOV	R20,R12
(0176) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    02831 2F24      MOV	R18,R20
    02832 9522      SWAP	R18
    02833 702F      ANDI	R18,0xF
    02834 7023      ANDI	R18,3
    02835 6320      ORI	R18,0x30
    02836 2D0A      MOV	R16,R10
    02837 940E 0627 CALL	_lcd_write_char_con
(0177)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    02839 2F24      MOV	R18,R20
    0283A 702F      ANDI	R18,0xF
    0283B 6320      ORI	R18,0x30
    0283C 2D0A      MOV	R16,R10
    0283D 940E 0627 CALL	_lcd_write_char_con
(0178) 	 lcd_write_char_con(y,' ');
    0283F E220      LDI	R18,0x20
    02840 2D0A      MOV	R16,R10
    02841 940E 0627 CALL	_lcd_write_char_con
(0179) 	//时
(0180) 	time_cacah=Read1307(0x02);
    02843 E002      LDI	R16,2
    02844 DF6D      RCALL	_Read1307
    02845 0168      MOVW	R12,R16
    02846 2D4C      MOV	R20,R12
(0181) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    02847 2F24      MOV	R18,R20
    02848 9522      SWAP	R18
    02849 702F      ANDI	R18,0xF
    0284A 7023      ANDI	R18,3
    0284B 6320      ORI	R18,0x30
    0284C 2D0A      MOV	R16,R10
    0284D 940E 0627 CALL	_lcd_write_char_con
(0182) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    0284F 2F24      MOV	R18,R20
    02850 702F      ANDI	R18,0xF
    02851 6320      ORI	R18,0x30
    02852 2D0A      MOV	R16,R10
    02853 940E 0627 CALL	_lcd_write_char_con
(0183) 	 lcd_write_char_con(y,':');
    02855 E32A      LDI	R18,0x3A
    02856 2D0A      MOV	R16,R10
    02857 940E 0627 CALL	_lcd_write_char_con
(0184) 	//分
(0185) 	time_cacah=Read1307(0x01);
    02859 E001      LDI	R16,1
    0285A DF57      RCALL	_Read1307
    0285B 0168      MOVW	R12,R16
    0285C 2D4C      MOV	R20,R12
(0186) 	 lcd_write_char_con(y, 0x30|time_cacah>>4);
    0285D 2F24      MOV	R18,R20
    0285E 9522      SWAP	R18
    0285F 702F      ANDI	R18,0xF
    02860 6320      ORI	R18,0x30
    02861 2D0A      MOV	R16,R10
    02862 940E 0627 CALL	_lcd_write_char_con
(0187) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F));
    02864 2F24      MOV	R18,R20
    02865 702F      ANDI	R18,0xF
    02866 6320      ORI	R18,0x30
    02867 2D0A      MOV	R16,R10
    02868 940E 0627 CALL	_lcd_write_char_con
(0188) 	 lcd_write_char_con(y,':');
    0286A E32A      LDI	R18,0x3A
    0286B 2D0A      MOV	R16,R10
    0286C 940E 0627 CALL	_lcd_write_char_con
(0189) 	//秒
(0190) 	time_cacah=Read1307(0x00);
    0286E 2700      CLR	R16
    0286F DF42      RCALL	_Read1307
    02870 0168      MOVW	R12,R16
    02871 2D4C      MOV	R20,R12
(0191) 	 lcd_write_char_con(y, 0x30|(time_cacah>>4));
    02872 2F24      MOV	R18,R20
    02873 9522      SWAP	R18
    02874 702F      ANDI	R18,0xF
    02875 6320      ORI	R18,0x30
    02876 2D0A      MOV	R16,R10
    02877 940E 0627 CALL	_lcd_write_char_con
(0192) 	 lcd_write_char_con(y,0x30|(time_cacah &0x0F));
    02879 2F24      MOV	R18,R20
    0287A 702F      ANDI	R18,0xF
    0287B 6320      ORI	R18,0x30
    0287C 2D0A      MOV	R16,R10
    0287D 940E 0627 CALL	_lcd_write_char_con
    0287F 940C 2948 JMP	pop_xgset303C
_int_int2:
    02881 922A      ST	-Y,R2
    02882 938A      ST	-Y,R24
    02883 B62F      IN	R2,0x3F
    02884 922A      ST	-Y,R2
(0193) }
(0194) 
(0195) //中断1s进入，使用int2。可以使用，但是买的这个DS1307，硬件电路问题不可以使用
(0196) #pragma interrupt_handler int_int2:4
(0197) void int_int2(void){//做温度数据时间增加操作。不能做耗时的操作
(0198) 
(0199)   PORTE=~PORTE;
    02885 B023      IN	R2,0x03
    02886 9420      COM	R2
    02887 B823      OUT	0x03,R2
(0200)   EIMSK &= ~(0x04);//关中断2
    02888 B789      IN	R24,0x39
    02889 7F8B      ANDI	R24,0xFB
    0288A BF89      OUT	0x39,R24
(0201)   
(0202)   EIMSK |= 0x04;//开中断2  
FILE: <library>
    0288B B789      IN	R24,0x39
    0288C 6084      ORI	R24,4
    0288D BF89      OUT	0x39,R24
    0288E 9029      LD	R2,Y+
    0288F BE2F      OUT	0x3F,R2
    02890 9189      LD	R24,Y+
    02891 9029      LD	R2,Y+
    02892 9518      RETI
push_arg4:
    02893 933A      ST	-Y,R19
    02894 932A      ST	-Y,R18
push_arg2:
    02895 931A      ST	-Y,R17
    02896 930A      ST	-Y,R16
    02897 9508      RET
asr16:
    02898 2322      TST	R18
    02899 F021      BEQ	0x289E
    0289A 9515      ASR	R17
    0289B 9507      ROR	R16
    0289C 952A      DEC	R18
    0289D CFFA      RJMP	asr16
    0289E 9508      RET
mod16s:
    0289F 9468      BSET	6
    028A0 92DA      ST	-Y,R13
    028A1 2ED1      MOV	R13,R17
    028A2 C004      RJMP	0x28A7
div16s:
    028A3 94E8      BCLR	6
    028A4 92DA      ST	-Y,R13
    028A5 2ED1      MOV	R13,R17
    028A6 26D3      EOR	R13,R19
    028A7 FF17      SBRS	R17,7
    028A8 C004      RJMP	0x28AD
    028A9 9510      COM	R17
    028AA 9500      COM	R16
    028AB 5F0F      SUBI	R16,0xFF
    028AC 4F1F      SBCI	R17,0xFF
    028AD FF37      SBRS	R19,7
    028AE C004      RJMP	0x28B3
    028AF 9530      COM	R19
    028B0 9520      COM	R18
    028B1 5F2F      SUBI	R18,0xFF
    028B2 4F3F      SBCI	R19,0xFF
    028B3 940E 28C0 CALL	xdiv16u
    028B5 FED7      SBRS	R13,7
    028B6 C004      RJMP	0x28BB
    028B7 9510      COM	R17
    028B8 9500      COM	R16
    028B9 5F0F      SUBI	R16,0xFF
    028BA 4F1F      SBCI	R17,0xFF
    028BB 90D9      LD	R13,Y+
    028BC 9508      RET
mod16u:
    028BD 9468      BSET	6
    028BE C001      RJMP	xdiv16u
div16u:
    028BF 94E8      BCLR	6
xdiv16u:
    028C0 92EA      ST	-Y,R14
    028C1 92FA      ST	-Y,R15
    028C2 938A      ST	-Y,R24
    028C3 24EE      CLR	R14
    028C4 24FF      CLR	R15
    028C5 E180      LDI	R24,0x10
    028C6 0F00      LSL	R16
    028C7 1F11      ROL	R17
    028C8 1CEE      ROL	R14
    028C9 1CFF      ROL	R15
    028CA 16E2      CP	R14,R18
    028CB 06F3      CPC	R15,R19
    028CC F018      BCS	0x28D0
    028CD 1AE2      SUB	R14,R18
    028CE 0AF3      SBC	R15,R19
    028CF 9503      INC	R16
    028D0 958A      DEC	R24
    028D1 F7A1      BNE	0x28C6
    028D2 F416      BRTC	0x28D5
    028D3 2D0E      MOV	R16,R14
    028D4 2D1F      MOV	R17,R15
    028D5 9189      LD	R24,Y+
    028D6 90F9      LD	R15,Y+
    028D7 90E9      LD	R14,Y+
    028D8 9508      RET
elpm32:
    028D9 93EA      ST	-Y,R30
    028DA 93FA      ST	-Y,R31
    028DB 920A      ST	-Y,R0
    028DC 2FE0      MOV	R30,R16
    028DD 2FF1      MOV	R31,R17
    028DE 95D8      ELPM
    028DF 2D00      MOV	R16,R0
    028E0 9631      ADIW	R30,1
    028E1 95D8      ELPM
    028E2 2D10      MOV	R17,R0
    028E3 9631      ADIW	R30,1
    028E4 95D8      ELPM
    028E5 2D20      MOV	R18,R0
    028E6 9631      ADIW	R30,1
    028E7 95D8      ELPM
    028E8 2D30      MOV	R19,R0
    028E9 9009      LD	R0,Y+
    028EA 91F9      LD	R31,Y+
    028EB 91E9      LD	R30,Y+
    028EC 9508      RET
empy16s:
    028ED 920A      ST	-Y,R0
    028EE 921A      ST	-Y,R1
    028EF 938A      ST	-Y,R24
    028F0 939A      ST	-Y,R25
    028F1 9F02      MUL	R16,R18
    028F2 01C0      MOVW	R24,R0
    028F3 9F12      MUL	R17,R18
    028F4 0D90      ADD	R25,R0
    028F5 9F03      MUL	R16,R19
    028F6 0D90      ADD	R25,R0
    028F7 018C      MOVW	R16,R24
    028F8 9199      LD	R25,Y+
    028F9 9189      LD	R24,Y+
    028FA 9019      LD	R1,Y+
    028FB 9009      LD	R0,Y+
    028FC 9508      RET
pop_xgset003C:
    028FD 90A9      LD	R10,Y+
    028FE 90B9      LD	R11,Y+
    028FF 90C9      LD	R12,Y+
    02900 90D9      LD	R13,Y+
    02901 9508      RET
pop_xgset00FC:
    02902 90A9      LD	R10,Y+
    02903 90B9      LD	R11,Y+
    02904 90C9      LD	R12,Y+
    02905 90D9      LD	R13,Y+
    02906 90E9      LD	R14,Y+
    02907 90F9      LD	R15,Y+
    02908 9508      RET
pop_xgsetF0FC:
    02909 90A9      LD	R10,Y+
    0290A 90B9      LD	R11,Y+
    0290B 90C9      LD	R12,Y+
    0290C 90D9      LD	R13,Y+
    0290D 90E9      LD	R14,Y+
    0290E 90F9      LD	R15,Y+
    0290F 9149      LD	R20,Y+
    02910 9159      LD	R21,Y+
    02911 9169      LD	R22,Y+
    02912 9179      LD	R23,Y+
    02913 9508      RET
push_xgsetF0FC:
    02914 937A      ST	-Y,R23
    02915 936A      ST	-Y,R22
push_xgset30FC:
    02916 935A      ST	-Y,R21
    02917 934A      ST	-Y,R20
push_xgset00FC:
    02918 92FA      ST	-Y,R15
    02919 92EA      ST	-Y,R14
push_xgset003C:
    0291A 92DA      ST	-Y,R13
    0291B 92CA      ST	-Y,R12
    0291C 92BA      ST	-Y,R11
    0291D 92AA      ST	-Y,R10
    0291E 9508      RET
push_xgset300C:
    0291F 935A      ST	-Y,R21
    02920 934A      ST	-Y,R20
    02921 92BA      ST	-Y,R11
    02922 92AA      ST	-Y,R10
    02923 9508      RET
pop_xgset300C:
    02924 90A9      LD	R10,Y+
    02925 90B9      LD	R11,Y+
    02926 9149      LD	R20,Y+
    02927 9159      LD	R21,Y+
    02928 9508      RET
push_xgsetF000:
    02929 937A      ST	-Y,R23
    0292A 936A      ST	-Y,R22
    0292B 935A      ST	-Y,R21
    0292C 934A      ST	-Y,R20
    0292D 9508      RET
pop_xgsetF000:
    0292E 9149      LD	R20,Y+
    0292F 9159      LD	R21,Y+
    02930 9169      LD	R22,Y+
    02931 9179      LD	R23,Y+
    02932 9508      RET
push_xgsetF00C:
    02933 937A      ST	-Y,R23
    02934 936A      ST	-Y,R22
    02935 935A      ST	-Y,R21
    02936 934A      ST	-Y,R20
    02937 92BA      ST	-Y,R11
    02938 92AA      ST	-Y,R10
    02939 9508      RET
pop_xgsetF00C:
    0293A 90A9      LD	R10,Y+
    0293B 90B9      LD	R11,Y+
    0293C 9149      LD	R20,Y+
    0293D 9159      LD	R21,Y+
    0293E 9169      LD	R22,Y+
    0293F 9179      LD	R23,Y+
    02940 9508      RET
push_xgset303C:
    02941 935A      ST	-Y,R21
    02942 934A      ST	-Y,R20
    02943 92DA      ST	-Y,R13
    02944 92CA      ST	-Y,R12
    02945 92BA      ST	-Y,R11
    02946 92AA      ST	-Y,R10
    02947 9508      RET
pop_xgset303C:
    02948 90A9      LD	R10,Y+
    02949 90B9      LD	R11,Y+
    0294A 90C9      LD	R12,Y+
    0294B 90D9      LD	R13,Y+
    0294C 9149      LD	R20,Y+
    0294D 9159      LD	R21,Y+
    0294E 9508      RET
push_xgsetF03C:
    0294F 937A      ST	-Y,R23
    02950 936A      ST	-Y,R22
    02951 935A      ST	-Y,R21
    02952 934A      ST	-Y,R20
    02953 92DA      ST	-Y,R13
    02954 92CA      ST	-Y,R12
    02955 92BA      ST	-Y,R11
    02956 92AA      ST	-Y,R10
    02957 9508      RET
pop_xgsetF03C:
    02958 90A9      LD	R10,Y+
    02959 90B9      LD	R11,Y+
    0295A 90C9      LD	R12,Y+
    0295B 90D9      LD	R13,Y+
    0295C 9149      LD	R20,Y+
    0295D 9159      LD	R21,Y+
    0295E 9169      LD	R22,Y+
    0295F 9179      LD	R23,Y+
    02960 9508      RET
neg32:
    02961 9500      COM	R16
    02962 9510      COM	R17
    02963 9520      COM	R18
    02964 9530      COM	R19
    02965 5F0F      SUBI	R16,0xFF
    02966 4F1F      SBCI	R17,0xFF
    02967 4F2F      SBCI	R18,0xFF
    02968 4F3F      SBCI	R19,0xFF
    02969 9508      RET
lsl16:
    0296A 2322      TST	R18
    0296B F021      BEQ	0x2970
    0296C 0F00      LSL	R16
    0296D 1F11      ROL	R17
    0296E 952A      DEC	R18
    0296F CFFA      RJMP	lsl16
    02970 9508      RET
lsl8:
    02971 2311      TST	R17
    02972 F019      BEQ	0x2976
    02973 0F00      LSL	R16
    02974 951A      DEC	R17
    02975 CFFB      RJMP	lsl8
    02976 9508      RET
asgnblk:
    02977 93AA      ST	-Y,R26
    02978 93BA      ST	-Y,R27
    02979 93EA      ST	-Y,R30
    0297A 93FA      ST	-Y,R31
    0297B 920A      ST	-Y,R0
    0297C 81AF      LDD	R26,Y+7
    0297D 85B8      LDD	R27,Y+8
    0297E 81ED      LDD	R30,Y+5
    0297F 81FE      LDD	R31,Y+6
    02980 3000      CPI	R16,0
    02981 0701      CPC	R16,R17
    02982 F029      BEQ	0x2988
    02983 9001      LD	R0,Z+
    02984 920D      ST	X+,R0
    02985 5001      SUBI	R16,1
    02986 4010      SBCI	R17,0
    02987 CFF8      RJMP	0x2980
    02988 9009      LD	R0,Y+
    02989 91F9      LD	R31,Y+
    0298A 91E9      LD	R30,Y+
    0298B 91B9      LD	R27,Y+
    0298C 91A9      LD	R26,Y+
    0298D 9624      ADIW	R28,4
    0298E 9508      RET
fpsub:
    0298F 9468      BSET	6
    02990 C001      RJMP	fpadd_alt
fpadd:
    02991 94E8      BCLR	6
fpadd_alt:
    02992 940E 2B91 CALL	saveFPRegs
    02994 940E 2B23 CALL	unpacks
    02996 F409      BNE	0x2998
    02997 C048      RJMP	0x29E0
    02998 2CE6      MOV	R14,R6
    02999 2CD5      MOV	R13,R5
    0299A 2CC4      MOV	R12,R4
    0299B 2EB3      MOV	R11,R19
    0299C 2EA2      MOV	R10,R18
    0299D 2E91      MOV	R9,R17
    0299E 2E80      MOV	R8,R16
    0299F 8100      LD	R16,Z
    029A0 8111      LDD	R17,Z+1
    029A1 8122      LDD	R18,Z+2
    029A2 8133      LDD	R19,Z+3
    029A3 940E 2B23 CALL	unpacks
    029A5 F409      BNE	0x29A7
    029A6 C044      RJMP	0x29EB
    029A7 2D84      MOV	R24,R4
    029A8 2D95      MOV	R25,R5
    029A9 198C      SUB	R24,R12
    029AA 099D      SBC	R25,R13
    029AB F0B9      BEQ	0x29C3
    029AC F472      BPL	0x29BB
    029AD 9590      COM	R25
    029AE 9580      COM	R24
    029AF 9601      ADIW	R24,1
    029B0 2C4C      MOV	R4,R12
    029B1 2C5D      MOV	R5,R13
    029B2 3188      CPI	R24,0x18
    029B3 F5B8      BCC	0x29EB
    029B4 9535      ASR	R19
    029B5 9527      ROR	R18
    029B6 9517      ROR	R17
    029B7 9507      ROR	R16
    029B8 9701      SBIW	R24,1
    029B9 F7D1      BNE	0x29B4
    029BA C008      RJMP	0x29C3
    029BB 3188      CPI	R24,0x18
    029BC F518      BCC	0x29E0
    029BD 94B5      ASR	R11
    029BE 94A7      ROR	R10
    029BF 9497      ROR	R9
    029C0 9487      ROR	R8
    029C1 9701      SBIW	R24,1
    029C2 F7D1      BNE	0x29BD
    029C3 2466      CLR	R6
    029C4 F02E      BRTS	0x29CA
    029C5 0D08      ADD	R16,R8
    029C6 1D19      ADC	R17,R9
    029C7 1D2A      ADC	R18,R10
    029C8 1D3B      ADC	R19,R11
    029C9 C009      RJMP	0x29D3
    029CA 1A80      SUB	R8,R16
    029CB 0A91      SBC	R9,R17
    029CC 0AA2      SBC	R10,R18
    029CD 0AB3      SBC	R11,R19
    029CE 2D08      MOV	R16,R8
    029CF 2D19      MOV	R17,R9
    029D0 2D2A      MOV	R18,R10
    029D1 2D3B      MOV	R19,R11
    029D2 2333      TST	R19
    029D3 F422      BPL	0x29D8
    029D4 940E 2961 CALL	neg32
    029D6 E880      LDI	R24,0x80
    029D7 2E68      MOV	R6,R24
    029D8 940E 2B4C CALL	normalize_and_pack
    029DA C002      RJMP	0x29DD
    029DB 940E 2B81 CALL	pack
    029DD 940E 2BA0 CALL	restoreFPRegs
    029DF 9508      RET
    029E0 8100      LD	R16,Z
    029E1 8111      LDD	R17,Z+1
    029E2 8122      LDD	R18,Z+2
    029E3 8133      LDD	R19,Z+3
    029E4 F7C6      BRTC	0x29DD
    029E5 940E 2B2B CALL	tstR16_R19
    029E7 F3A9      BEQ	0x29DD
    029E8 E880      LDI	R24,0x80
    029E9 2738      EOR	R19,R24
    029EA CFF2      RJMP	0x29DD
    029EB 2D08      MOV	R16,R8
    029EC 2D19      MOV	R17,R9
    029ED 2D2A      MOV	R18,R10
    029EE 2D3B      MOV	R19,R11
    029EF 2C4C      MOV	R4,R12
    029F0 2C5D      MOV	R5,R13
    029F1 2C6E      MOV	R6,R14
    029F2 2333      TST	R19
    029F3 F73A      BPL	0x29DB
    029F4 940E 2961 CALL	neg32
    029F6 E880      LDI	R24,0x80
    029F7 2E68      MOV	R6,R24
    029F8 CFE2      RJMP	0x29DB
fpadd1x:
    029F9 93FA      ST	-Y,R31
    029FA 93EA      ST	-Y,R30
    029FB 81EA      LDD	R30,Y+2
    029FC 81FB      LDD	R31,Y+3
    029FD 940E 2991 CALL	fpadd
    029FF 91E9      LD	R30,Y+
    02A00 91F9      LD	R31,Y+
    02A01 8339      STD	Y+1,R19
    02A02 8328      ST	Y,R18
    02A03 931A      ST	-Y,R17
    02A04 930A      ST	-Y,R16
    02A05 9508      RET
fpadd2:
    02A06 93FA      ST	-Y,R31
    02A07 93EA      ST	-Y,R30
    02A08 2FEC      MOV	R30,R28
    02A09 2FFD      MOV	R31,R29
    02A0A 9632      ADIW	R30,2
    02A0B 940E 2991 CALL	fpadd
    02A0D 91E9      LD	R30,Y+
    02A0E 91F9      LD	R31,Y+
    02A0F 9624      ADIW	R28,4
    02A10 9508      RET
fpsub1:
    02A11 93FA      ST	-Y,R31
    02A12 93EA      ST	-Y,R30
    02A13 81EA      LDD	R30,Y+2
    02A14 81FB      LDD	R31,Y+3
    02A15 940E 298F CALL	fpsub
    02A17 91E9      LD	R30,Y+
    02A18 91F9      LD	R31,Y+
    02A19 9622      ADIW	R28,2
    02A1A 9508      RET
fpsub2:
    02A1B 93FA      ST	-Y,R31
    02A1C 93EA      ST	-Y,R30
    02A1D 2FEC      MOV	R30,R28
    02A1E 2FFD      MOV	R31,R29
    02A1F 9632      ADIW	R30,2
    02A20 940E 298F CALL	fpsub
    02A22 91E9      LD	R30,Y+
    02A23 91F9      LD	R31,Y+
    02A24 9624      ADIW	R28,4
    02A25 9508      RET
fpsub1x:
    02A26 93FA      ST	-Y,R31
    02A27 93EA      ST	-Y,R30
    02A28 81EA      LDD	R30,Y+2
    02A29 81FB      LDD	R31,Y+3
    02A2A 940E 298F CALL	fpsub
    02A2C 91E9      LD	R30,Y+
    02A2D 91F9      LD	R31,Y+
    02A2E 8339      STD	Y+1,R19
    02A2F 8328      ST	Y,R18
    02A30 931A      ST	-Y,R17
    02A31 930A      ST	-Y,R16
    02A32 9508      RET
fpint:
    02A33 924A      ST	-Y,R4
    02A34 925A      ST	-Y,R5
    02A35 926A      ST	-Y,R6
    02A36 938A      ST	-Y,R24
    02A37 940E 2B33 CALL	unpacku
    02A39 F111      BEQ	0x2A5C
    02A3A 2055      TST	R5
    02A3B F0E2      BMI	0x2A58
    02A3C E18F      LDI	R24,0x1F
    02A3D 1648      CP	R4,R24
    02A3E F4C0      BCC	0x2A57
    02A3F E187      LDI	R24,0x17
    02A40 1648      CP	R4,R24
    02A41 F0D1      BEQ	0x2A5C
    02A42 F458      BCC	0x2A4E
    02A43 9441      NEG	R4
    02A44 EE89      LDI	R24,0xE9
    02A45 1A48      SUB	R4,R24
    02A46 C005      RJMP	0x2A4C
    02A47 9535      ASR	R19
    02A48 9527      ROR	R18
    02A49 9517      ROR	R17
    02A4A 9507      ROR	R16
    02A4B 944A      DEC	R4
    02A4C F7D1      BNE	0x2A47
    02A4D C00E      RJMP	0x2A5C
    02A4E E187      LDI	R24,0x17
    02A4F 1A48      SUB	R4,R24
    02A50 0F00      LSL	R16
    02A51 1F11      ROL	R17
    02A52 1F22      ROL	R18
    02A53 1F33      ROL	R19
    02A54 944A      DEC	R4
    02A55 F7D1      BNE	0x2A50
    02A56 C005      RJMP	0x2A5C
    02A57 E73F      LDI	R19,0x7F
    02A58 2F23      MOV	R18,R19
    02A59 2F13      MOV	R17,R19
    02A5A 2F03      MOV	R16,R19
    02A5B C004      RJMP	0x2A60
    02A5C 2066      TST	R6
    02A5D F011      BEQ	0x2A60
    02A5E 940E 2961 CALL	neg32
    02A60 9189      LD	R24,Y+
    02A61 9069      LD	R6,Y+
    02A62 9059      LD	R5,Y+
    02A63 9049      LD	R4,Y+
    02A64 9508      RET
uint2fp:
    02A65 9468      BSET	6
    02A66 C001      RJMP	0x2A68
int2fp:
    02A67 94E8      BCLR	6
    02A68 2722      CLR	R18
    02A69 2733      CLR	R19
    02A6A F046      BRTS	0x2A73
    02A6B FD17      SBRC	R17,7
    02A6C 9520      COM	R18
    02A6D FD17      SBRC	R17,7
    02A6E 9530      COM	R19
    02A6F C003      RJMP	0x2A73
ulong2fp:
    02A70 9468      BSET	6
    02A71 C001      RJMP	0x2A73
long2fp:
    02A72 94E8      BCLR	6
    02A73 924A      ST	-Y,R4
    02A74 925A      ST	-Y,R5
    02A75 926A      ST	-Y,R6
    02A76 938A      ST	-Y,R24
    02A77 E187      LDI	R24,0x17
    02A78 2E48      MOV	R4,R24
    02A79 2455      CLR	R5
    02A7A 2466      CLR	R6
    02A7B F036      BRTS	0x2A82
    02A7C 2333      TST	R19
    02A7D F422      BPL	0x2A82
    02A7E 940E 2961 CALL	neg32
    02A80 E880      LDI	R24,0x80
    02A81 2E68      MOV	R6,R24
    02A82 940E 2B4C CALL	normalize_and_pack
    02A84 9189      LD	R24,Y+
    02A85 9069      LD	R6,Y+
    02A86 9059      LD	R5,Y+
    02A87 9049      LD	R4,Y+
    02A88 9508      RET
fpdiv1:
    02A89 93FA      ST	-Y,R31
    02A8A 93EA      ST	-Y,R30
    02A8B 81EA      LDD	R30,Y+2
    02A8C 81FB      LDD	R31,Y+3
    02A8D D027      RCALL	0x2AB5
    02A8E 91E9      LD	R30,Y+
    02A8F 91F9      LD	R31,Y+
    02A90 9622      ADIW	R28,2
    02A91 9508      RET
fpdiv2:
    02A92 93FA      ST	-Y,R31
    02A93 93EA      ST	-Y,R30
    02A94 2FEC      MOV	R30,R28
    02A95 2FFD      MOV	R31,R29
    02A96 9632      ADIW	R30,2
    02A97 D01D      RCALL	0x2AB5
    02A98 91E9      LD	R30,Y+
    02A99 91F9      LD	R31,Y+
    02A9A 9624      ADIW	R28,4
    02A9B 9508      RET
fpdiv1x:
    02A9C 93FA      ST	-Y,R31
    02A9D 93EA      ST	-Y,R30
    02A9E 81EA      LDD	R30,Y+2
    02A9F 81FB      LDD	R31,Y+3
    02AA0 D014      RCALL	0x2AB5
    02AA1 91E9      LD	R30,Y+
    02AA2 91F9      LD	R31,Y+
    02AA3 8339      STD	Y+1,R19
    02AA4 8328      ST	Y,R18
    02AA5 931A      ST	-Y,R17
    02AA6 930A      ST	-Y,R16
    02AA7 9508      RET
fpdiv2x:
    02AA8 93FA      ST	-Y,R31
    02AA9 93EA      ST	-Y,R30
    02AAA 2FEC      MOV	R30,R28
    02AAB 2FFD      MOV	R31,R29
    02AAC 9632      ADIW	R30,2
    02AAD D007      RCALL	0x2AB5
    02AAE 91E9      LD	R30,Y+
    02AAF 91F9      LD	R31,Y+
    02AB0 833B      STD	Y+3,R19
    02AB1 832A      STD	Y+2,R18
    02AB2 8319      STD	Y+1,R17
    02AB3 8308      ST	Y,R16
    02AB4 9508      RET
    02AB5 920A      ST	-Y,R0
    02AB6 921A      ST	-Y,R1
    02AB7 922A      ST	-Y,R2
    02AB8 923A      ST	-Y,R3
    02AB9 940E 2B91 CALL	saveFPRegs
    02ABB 933A      ST	-Y,R19
    02ABC 932A      ST	-Y,R18
    02ABD 931A      ST	-Y,R17
    02ABE 930A      ST	-Y,R16
    02ABF 8100      LD	R16,Z
    02AC0 8111      LDD	R17,Z+1
    02AC1 8122      LDD	R18,Z+2
    02AC2 8133      LDD	R19,Z+3
    02AC3 940E 2B33 CALL	unpacku
    02AC5 F409      BNE	0x2AC7
    02AC6 C057      RJMP	0x2B1E
    02AC7 2CE6      MOV	R14,R6
    02AC8 2CD5      MOV	R13,R5
    02AC9 2CC4      MOV	R12,R4
    02ACA 2EB3      MOV	R11,R19
    02ACB 2EA2      MOV	R10,R18
    02ACC 2E91      MOV	R9,R17
    02ACD 2E80      MOV	R8,R16
    02ACE 9109      LD	R16,Y+
    02ACF 9119      LD	R17,Y+
    02AD0 9129      LD	R18,Y+
    02AD1 9139      LD	R19,Y+
    02AD2 940E 2B33 CALL	unpacku
    02AD4 F1A1      BEQ	0x2B09
    02AD5 246E      EOR	R6,R14
    02AD6 184C      SUB	R4,R12
    02AD7 085D      SBC	R5,R13
    02AD8 E880      LDI	R24,0x80
    02AD9 1648      CP	R4,R24
    02ADA 0653      CPC	R5,R19
    02ADB F00C      BLT	0x2ADD
    02ADC C033      RJMP	0x2B10
    02ADD E881      LDI	R24,0x81
    02ADE 1648      CP	R4,R24
    02ADF EF8F      LDI	R24,0xFF
    02AE0 0658      CPC	R5,R24
    02AE1 F40C      BGE	0x2AE3
    02AE2 C036      RJMP	0x2B19
    02AE3 E280      LDI	R24,0x20
    02AE4 2433      CLR	R3
    02AE5 2E23      MOV	R2,R19
    02AE6 2E12      MOV	R1,R18
    02AE7 2E01      MOV	R0,R17
    02AE8 2F30      MOV	R19,R16
    02AE9 2722      CLR	R18
    02AEA 2711      CLR	R17
    02AEB 2700      CLR	R16
    02AEC 9426      LSR	R2
    02AED 9417      ROR	R1
    02AEE 9407      ROR	R0
    02AEF 9537      ROR	R19
    02AF0 9527      ROR	R18
    02AF1 0F00      LSL	R16
    02AF2 1F11      ROL	R17
    02AF3 1F22      ROL	R18
    02AF4 1F33      ROL	R19
    02AF5 1C00      ROL	R0
    02AF6 1C11      ROL	R1
    02AF7 1C22      ROL	R2
    02AF8 1C33      ROL	R3
    02AF9 F028      BCS	0x2AFF
    02AFA 1808      SUB	R0,R8
    02AFB 0819      SBC	R1,R9
    02AFC 082A      SBC	R2,R10
    02AFD 083B      SBC	R3,R11
    02AFE C004      RJMP	0x2B03
    02AFF 0C08      ADD	R0,R8
    02B00 1C19      ADC	R1,R9
    02B01 1C2A      ADC	R2,R10
    02B02 1C3B      ADC	R3,R11
    02B03 F00A      BMI	0x2B05
    02B04 6001      ORI	R16,1
    02B05 958A      DEC	R24
    02B06 F751      BNE	0x2AF1
    02B07 940E 2B4C CALL	normalize_and_pack
    02B09 940E 2BA0 CALL	restoreFPRegs
    02B0B 9039      LD	R3,Y+
    02B0C 9029      LD	R2,Y+
    02B0D 9019      LD	R1,Y+
    02B0E 9009      LD	R0,Y+
    02B0F 9508      RET
    02B10 EF0F      LDI	R16,0xFF
    02B11 2F10      MOV	R17,R16
    02B12 E72F      LDI	R18,0x7F
    02B13 E73F      LDI	R19,0x7F
    02B14 2066      TST	R6
    02B15 F399      BEQ	0x2B09
    02B16 940E 2961 CALL	neg32
    02B18 CFF0      RJMP	0x2B09
    02B19 2700      CLR	R16
    02B1A 2F10      MOV	R17,R16
    02B1B 2F20      MOV	R18,R16
    02B1C 2F30      MOV	R19,R16
    02B1D CFEB      RJMP	0x2B09
    02B1E 9109      LD	R16,Y+
    02B1F 9119      LD	R17,Y+
    02B20 9129      LD	R18,Y+
    02B21 9139      LD	R19,Y+
    02B22 CFED      RJMP	0x2B10
unpacks:
    02B23 D00F      RCALL	unpacku
    02B24 F029      BEQ	0x2B2A
    02B25 2066      TST	R6
    02B26 F011      BEQ	0x2B29
    02B27 940E 2961 CALL	neg32
    02B29 9498      BCLR	1
    02B2A 9508      RET
tstR16_R19:
    02B2B 2300      TST	R16
    02B2C F429      BNE	0x2B32
    02B2D 2311      TST	R17
    02B2E F419      BNE	0x2B32
    02B2F 2322      TST	R18
    02B30 F409      BNE	0x2B32
    02B31 2333      TST	R19
    02B32 9508      RET
unpacku:
    02B33 DFF7      RCALL	tstR16_R19
    02B34 F099      BEQ	0x2B48
    02B35 938A      ST	-Y,R24
    02B36 2E63      MOV	R6,R19
    02B37 E880      LDI	R24,0x80
    02B38 2268      AND	R6,R24
    02B39 0F22      LSL	R18
    02B3A 1F33      ROL	R19
    02B3B 2E43      MOV	R4,R19
    02B3C E78F      LDI	R24,0x7F
    02B3D 1A48      SUB	R4,R24
    02B3E 2455      CLR	R5
    02B3F 2788      CLR	R24
    02B40 0A58      SBC	R5,R24
    02B41 9526      LSR	R18
    02B42 E830      LDI	R19,0x80
    02B43 2B23      OR	R18,R19
    02B44 2733      CLR	R19
    02B45 9189      LD	R24,Y+
    02B46 9498      BCLR	1
    02B47 9508      RET
    02B48 2444      CLR	R4
    02B49 2455      CLR	R5
    02B4A 2466      CLR	R6
    02B4B 9508      RET
normalize_and_pack:
    02B4C DFDE      RCALL	tstR16_R19
    02B4D F409      BNE	0x2B4F
    02B4E 9508      RET
    02B4F 93AA      ST	-Y,R26
    02B50 93BA      ST	-Y,R27
    02B51 01D2      MOVW	R26,R4
    02B52 939A      ST	-Y,R25
    02B53 938A      ST	-Y,R24
    02B54 E78E      LDI	R24,0x7E
    02B55 E090      LDI	R25,0
    02B56 2333      TST	R19
    02B57 F049      BEQ	0x2B61
    02B58 9536      LSR	R19
    02B59 9527      ROR	R18
    02B5A 9517      ROR	R17
    02B5B 9507      ROR	R16
    02B5C 17A8      CP	R26,R24
    02B5D 07B9      CPC	R27,R25
    02B5E F4CC      BGE	0x2B78
    02B5F 9611      ADIW	R26,1
    02B60 CFF5      RJMP	0x2B56
    02B61 9580      COM	R24
    02B62 9590      COM	R25
    02B63 9601      ADIW	R24,1
    02B64 2322      TST	R18
    02B65 F0BA      BMI	0x2B7D
    02B66 0F00      LSL	R16
    02B67 1F11      ROL	R17
    02B68 1F22      ROL	R18
    02B69 17A8      CP	R26,R24
    02B6A 07B9      CPC	R27,R25
    02B6B F014      BLT	0x2B6E
    02B6C 9711      SBIW	R26,1
    02B6D CFF6      RJMP	0x2B64
    02B6E 2700      CLR	R16
    02B6F 2711      CLR	R17
    02B70 2722      CLR	R18
    02B71 2733      CLR	R19
    02B72 9189      LD	R24,Y+
    02B73 9199      LD	R25,Y+
    02B74 012D      MOVW	R4,R26
    02B75 91B9      LD	R27,Y+
    02B76 91A9      LD	R26,Y+
    02B77 9508      RET
    02B78 2733      CLR	R19
    02B79 EF0F      LDI	R16,0xFF
    02B7A 2F10      MOV	R17,R16
    02B7B E72F      LDI	R18,0x7F
    02B7C 2F32      MOV	R19,R18
    02B7D 9189      LD	R24,Y+
    02B7E 9199      LD	R25,Y+
    02B7F 012D      MOVW	R4,R26
    02B80 C002      RJMP	0x2B83
pack:
    02B81 93AA      ST	-Y,R26
    02B82 93BA      ST	-Y,R27
    02B83 DFA7      RCALL	tstR16_R19
    02B84 F049      BEQ	0x2B8E
    02B85 01D2      MOVW	R26,R4
    02B86 58A1      SUBI	R26,0x81
    02B87 4FBF      SBCI	R27,0xFF
    02B88 012D      MOVW	R4,R26
    02B89 2D34      MOV	R19,R4
    02B8A 0F22      LSL	R18
    02B8B 9536      LSR	R19
    02B8C 9527      ROR	R18
    02B8D 2936      OR	R19,R6
    02B8E 91B9      LD	R27,Y+
    02B8F 91A9      LD	R26,Y+
    02B90 9508      RET
saveFPRegs:
    02B91 924A      ST	-Y,R4
    02B92 925A      ST	-Y,R5
    02B93 926A      ST	-Y,R6
    02B94 927A      ST	-Y,R7
    02B95 928A      ST	-Y,R8
    02B96 929A      ST	-Y,R9
    02B97 92AA      ST	-Y,R10
    02B98 92BA      ST	-Y,R11
    02B99 92CA      ST	-Y,R12
    02B9A 92DA      ST	-Y,R13
    02B9B 92EA      ST	-Y,R14
    02B9C 92FA      ST	-Y,R15
    02B9D 938A      ST	-Y,R24
    02B9E 939A      ST	-Y,R25
    02B9F 9508      RET
restoreFPRegs:
    02BA0 9199      LD	R25,Y+
    02BA1 9189      LD	R24,Y+
    02BA2 90F9      LD	R15,Y+
    02BA3 90E9      LD	R14,Y+
    02BA4 90D9      LD	R13,Y+
    02BA5 90C9      LD	R12,Y+
    02BA6 90B9      LD	R11,Y+
    02BA7 90A9      LD	R10,Y+
    02BA8 9099      LD	R9,Y+
    02BA9 9089      LD	R8,Y+
    02BAA 9079      LD	R7,Y+
    02BAB 9069      LD	R6,Y+
    02BAC 9059      LD	R5,Y+
    02BAD 9049      LD	R4,Y+
    02BAE 9508      RET
fpmule:
    02BAF 940E 2B91 CALL	saveFPRegs
    02BB1 93AA      ST	-Y,R26
    02BB2 93BA      ST	-Y,R27
    02BB3 940E 2B33 CALL	unpacku
    02BB5 F1E1      BEQ	0x2BF2
    02BB6 2CE6      MOV	R14,R6
    02BB7 2CD5      MOV	R13,R5
    02BB8 2CC4      MOV	R12,R4
    02BB9 2EB3      MOV	R11,R19
    02BBA 2EA2      MOV	R10,R18
    02BBB 2E91      MOV	R9,R17
    02BBC 2E80      MOV	R8,R16
    02BBD 8100      LD	R16,Z
    02BBE 8111      LDD	R17,Z+1
    02BBF 8122      LDD	R18,Z+2
    02BC0 8133      LDD	R19,Z+3
    02BC1 940E 2B33 CALL	unpacku
    02BC3 F171      BEQ	0x2BF2
    02BC4 246E      EOR	R6,R14
    02BC5 0C4C      ADD	R4,R12
    02BC6 1C5D      ADC	R5,R13
    02BC7 E880      LDI	R24,0x80
    02BC8 1648      CP	R4,R24
    02BC9 0653      CPC	R5,R19
    02BCA F564      BGE	0x2BF7
    02BCB E881      LDI	R24,0x81
    02BCC 1648      CP	R4,R24
    02BCD EF8F      LDI	R24,0xFF
    02BCE 0658      CPC	R5,R24
    02BCF F16C      BLT	0x2BFD
    02BD0 9EA2      MUL	R10,R18
    02BD1 2DB1      MOV	R27,R1
    02BD2 2DA0      MOV	R26,R0
    02BD3 9E91      MUL	R9,R17
    02BD4 2D91      MOV	R25,R1
    02BD5 2D80      MOV	R24,R0
    02BD6 9EA0      MUL	R10,R16
    02BD7 0D80      ADD	R24,R0
    02BD8 1D91      ADC	R25,R1
    02BD9 1FA3      ADC	R26,R19
    02BDA 1FB3      ADC	R27,R19
    02BDB 9E82      MUL	R8,R18
    02BDC 0D80      ADD	R24,R0
    02BDD 1D91      ADC	R25,R1
    02BDE 1FA3      ADC	R26,R19
    02BDF 1FB3      ADC	R27,R19
    02BE0 9E92      MUL	R9,R18
    02BE1 0D90      ADD	R25,R0
    02BE2 1DA1      ADC	R26,R1
    02BE3 1FB3      ADC	R27,R19
    02BE4 9EA1      MUL	R10,R17
    02BE5 0D90      ADD	R25,R0
    02BE6 1DA1      ADC	R26,R1
    02BE7 1FB3      ADC	R27,R19
    02BE8 2F2B      MOV	R18,R27
    02BE9 2F1A      MOV	R17,R26
    02BEA 2F09      MOV	R16,R25
    02BEB 0F88      LSL	R24
    02BEC 1F00      ROL	R16
    02BED 1F11      ROL	R17
    02BEE 1F22      ROL	R18
    02BEF 1F33      ROL	R19
    02BF0 940E 2B4C CALL	normalize_and_pack
    02BF2 91B9      LD	R27,Y+
    02BF3 91A9      LD	R26,Y+
    02BF4 940E 2BA0 CALL	restoreFPRegs
    02BF6 9508      RET
    02BF7 EF0F      LDI	R16,0xFF
    02BF8 2F10      MOV	R17,R16
    02BF9 E72F      LDI	R18,0x7F
    02BFA E78F      LDI	R24,0x7F
    02BFB 2E48      MOV	R4,R24
    02BFC CFF5      RJMP	0x2BF2
    02BFD 2700      CLR	R16
    02BFE 2F10      MOV	R17,R16
    02BFF 2F20      MOV	R18,R16
    02C00 2F30      MOV	R19,R16
    02C01 CFF0      RJMP	0x2BF2
fpmule2:
    02C02 93FA      ST	-Y,R31
    02C03 93EA      ST	-Y,R30
    02C04 2FEC      MOV	R30,R28
    02C05 2FFD      MOV	R31,R29
    02C06 9632      ADIW	R30,2
    02C07 940E 2BAF CALL	fpmule
    02C09 91E9      LD	R30,Y+
    02C0A 91F9      LD	R31,Y+
    02C0B 9624      ADIW	R28,4
    02C0C 9508      RET
fpmule1x:
    02C0D 93FA      ST	-Y,R31
    02C0E 93EA      ST	-Y,R30
    02C0F 81EA      LDD	R30,Y+2
    02C10 81FB      LDD	R31,Y+3
    02C11 940E 2BAF CALL	fpmule
    02C13 91E9      LD	R30,Y+
    02C14 91F9      LD	R31,Y+
    02C15 8339      STD	Y+1,R19
    02C16 8328      ST	Y,R18
    02C17 931A      ST	-Y,R17
    02C18 930A      ST	-Y,R16
    02C19 9508      RET
fpmule2x:
    02C1A 93FA      ST	-Y,R31
    02C1B 93EA      ST	-Y,R30
    02C1C 2FEC      MOV	R30,R28
    02C1D 2FFD      MOV	R31,R29
    02C1E 9632      ADIW	R30,2
    02C1F 940E 2BAF CALL	fpmule
    02C21 91E9      LD	R30,Y+
    02C22 91F9      LD	R31,Y+
    02C23 833B      STD	Y+3,R19
    02C24 832A      STD	Y+2,R18
    02C25 8319      STD	Y+1,R17
    02C26 8308      ST	Y,R16
    02C27 9508      RET
fpcmp:
    02C28 940E 298F CALL	fpsub
    02C2A 2333      TST	R19
    02C2B F03A      BMI	0x2C33
    02C2C 940E 2B2B CALL	tstR16_R19
    02C2E F011      BEQ	0x2C31
    02C2F E001      LDI	R16,1
    02C30 9508      RET
    02C31 2700      CLR	R16
    02C32 9508      RET
    02C33 EF0F      LDI	R16,0xFF
    02C34 9508      RET
fpcmp2:
    02C35 93FA      ST	-Y,R31
    02C36 93EA      ST	-Y,R30
    02C37 2FEC      MOV	R30,R28
    02C38 2FFD      MOV	R31,R29
    02C39 9632      ADIW	R30,2
    02C3A 940E 2C28 CALL	fpcmp
    02C3C 91E9      LD	R30,Y+
    02C3D 91F9      LD	R31,Y+
    02C3E 9624      ADIW	R28,4
    02C3F 2300      TST	R16
    02C40 9508      RET
