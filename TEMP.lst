Interrupt Vectors
    00000 940C 052E JMP	__start|__text_start
    00006 940C 27DB JMP	_int_int2
    00014 940C 0C2B JMP	_int_timer2
    0001C 940C 0BF2 JMP	_int_timer1
    00020 940C 0B77 JMP	_int_timer0
    00024 940C 1164 JMP	_int_ruart0
    00026 940C 11FA JMP	_int_suart0
    0003A 940C 0C78 JMP	_int_timer3

Program Code (text area)
__start|__text_start:
    0052E EFCF      LDI	R28,0xFF
    0052F E1D0      LDI	R29,0x10
    00530 BFCD      OUT	0x3D,R28
    00531 BFDE      OUT	0x3E,R29
    00532 51CE      SUBI	R28,0x1E
    00533 40D0      SBCI	R29,0
    00534 EA0A      LDI	R16,0xAA
    00535 8308      ST	Y,R16
    00536 2400      CLR	R0
    00537 EBEF      LDI	R30,0xBF
    00538 E0FA      LDI	R31,0xA
    00539 E01A      LDI	R17,0xA
    0053A 3DE7      CPI	R30,0xD7
    0053B 07F1      CPC	R31,R17
    0053C F011      BEQ	0x053F
    0053D 9201      ST	Z+,R0
    0053E CFFB      RJMP	0x053A
    0053F 8300      ST	Z,R16
    00540 E9EC      LDI	R30,0x9C
    00541 E0F0      LDI	R31,0
    00542 E0A0      LDI	R26,0
    00543 E0B1      LDI	R27,1
    00544 E01A      LDI	R17,0xA
    00545 E000      LDI	R16,0
    00546 BF0B      OUT	0x3B,R16
    00547 35EB      CPI	R30,0x5B
    00548 07F1      CPC	R31,R17
    00549 F021      BEQ	0x054E
    0054A 95C8      LPM
    0054B 9631      ADIW	R30,1
    0054C 920D      ST	X+,R0
    0054D CFF9      RJMP	0x0547
    0054E 940E 0AC3 CALL	_main
_exit:
    00550 CFFF      RJMP	_exit
FILE: E:\ICCDemo\Temp_Control\temp_control\delay.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) 
(0004) 
(0005) void delay_us(uint n)//延时us
(0006) {
(0007)   n=2*n;
_delay_us:
  n                    --> R16
    00551 0F00      LSL	R16
    00552 1F11      ROL	R17
(0008)   do{ n--;
    00553 5001      SUBI	R16,1
    00554 4010      SBCI	R17,0
(0009)   }while(n>1);
    00555 E081      LDI	R24,1
    00556 E090      LDI	R25,0
    00557 1780      CP	R24,R16
    00558 0791      CPC	R25,R17
    00559 F3C8      BCS	0x0553
    0055A 9508      RET
_delay_ms:
  j                    --> R20
    0055B 934A      ST	-Y,R20
    0055C 935A      ST	-Y,R21
    0055D 01A8      MOVW	R20,R16
(0010) }
(0011) void delay_ms(uint j)//延时ms
(0012) {
(0013)    do{j--;
    0055E 5041      SUBI	R20,1
    0055F 4050      SBCI	R21,0
(0014)      delay_us(1141);
    00560 E705      LDI	R16,0x75
    00561 E014      LDI	R17,4
    00562 DFEE      RCALL	_delay_us
(0015)    }while(j>1);
    00563 E081      LDI	R24,1
    00564 E090      LDI	R25,0
    00565 1784      CP	R24,R20
    00566 0795      CPC	R25,R21
    00567 F3B0      BCS	0x055E
    00568 9159      LD	R21,Y+
    00569 9149      LD	R20,Y+
    0056A 9508      RET
_delay_s:
  i                    --> R20
    0056B 934A      ST	-Y,R20
    0056C 935A      ST	-Y,R21
    0056D 01A8      MOVW	R20,R16
(0016) }
(0017) void delay_s(uint i)
(0018) {
(0019)    do{
(0020)    i--;
    0056E 5041      SUBI	R20,1
    0056F 4050      SBCI	R21,0
(0021)    delay_ms(1000);
    00570 EE08      LDI	R16,0xE8
    00571 E013      LDI	R17,3
    00572 DFE8      RCALL	_delay_ms
(0022)    }while(i>1);
    00573 E081      LDI	R24,1
    00574 E090      LDI	R25,0
    00575 1784      CP	R24,R20
    00576 0795      CPC	R25,R21
    00577 F3B0      BCS	0x056E
    00578 9159      LD	R21,Y+
    00579 9149      LD	R20,Y+
    0057A 9508      RET
_KeyScan:
    0057B 934A      ST	-Y,R20
    0057C 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\key.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) #include "lcd.h"
(0004) uchar key_value='n';
(0005) 
(0006) uchar KeyScan(void){
(0007)   //初始化端口
(0008)    DDRC=0xE0;
    0057D EE80      LDI	R24,0xE0
    0057E BB84      OUT	0x14,R24
(0009)    DDRG|=0x10;
    0057F 9180 0064 LDS	R24,0x64
    00581 6180      ORI	R24,0x10
    00582 9380 0064 STS	0x64,R24
(0010)    
(0011)    //第一次扫描
(0012)    PORTC=0xDF;
    00584 ED8F      LDI	R24,0xDF
    00585 BB85      OUT	0x15,R24
(0013)    PORTG|=0x10;
    00586 9180 0065 LDS	R24,0x65
    00588 6180      ORI	R24,0x10
    00589 9380 0065 STS	0x65,R24
(0014)    delay_us(1);
    0058B E001      LDI	R16,1
    0058C E010      LDI	R17,0
    0058D 940E 0551 CALL	_delay_us
(0015)    switch(PINC)
    0058F B343      IN	R20,0x13
    00590 2755      CLR	R21
    00591 3C4F      CPI	R20,0xCF
    00592 E0E0      LDI	R30,0
    00593 075E      CPC	R21,R30
    00594 F0E9      BEQ	0x05B2
    00595 3C4F      CPI	R20,0xCF
    00596 E0E0      LDI	R30,0
    00597 075E      CPC	R21,R30
    00598 F0DC      BLT	0x05B4
    00599 3D47      CPI	R20,0xD7
    0059A E0E0      LDI	R30,0
    0059B 075E      CPC	R21,R30
    0059C F099      BEQ	0x05B0
    0059D 3D4B      CPI	R20,0xDB
    0059E E0E0      LDI	R30,0
    0059F 075E      CPC	R21,R30
    005A0 F069      BEQ	0x05AE
    005A1 3D4D      CPI	R20,0xDD
    005A2 E0E0      LDI	R30,0
    005A3 075E      CPC	R21,R30
    005A4 F039      BEQ	0x05AC
    005A5 3D4E      CPI	R20,0xDE
    005A6 E0E0      LDI	R30,0
    005A7 075E      CPC	R21,R30
    005A8 F009      BEQ	0x05AA
    005A9 C00A      RJMP	0x05B4
(0016)    {
(0017)    		case 0xDE:return  'e';//'esc';
    005AA E605      LDI	R16,0x65
    005AB C099      RJMP	0x0645
(0018) 		case 0xdd:return  'a';//'alm';
    005AC E601      LDI	R16,0x61
    005AD C097      RJMP	0x0645
(0019) 		case 0xdb:return  'd';//'down';  
    005AE E604      LDI	R16,0x64
    005AF C095      RJMP	0x0645
(0020) 		case 0xd7:return  'u';//'up';
    005B0 E705      LDI	R16,0x75
    005B1 C093      RJMP	0x0645
(0021) 		case 0xcf:return  'l';//'left';
    005B2 E60C      LDI	R16,0x6C
    005B3 C091      RJMP	0x0645
(0022) 		default:break;	   
(0023)    } 
(0024)     //第二次扫描
(0025)    PORTC=0xBF;
    005B4 EB8F      LDI	R24,0xBF
    005B5 BB85      OUT	0x15,R24
(0026)    PORTG|=0x10;
    005B6 9180 0065 LDS	R24,0x65
    005B8 6180      ORI	R24,0x10
    005B9 9380 0065 STS	0x65,R24
(0027)    delay_us(1);
    005BB E001      LDI	R16,1
    005BC E010      LDI	R17,0
    005BD 940E 0551 CALL	_delay_us
(0028)    switch(PINC)
    005BF B343      IN	R20,0x13
    005C0 2755      CLR	R21
    005C1 3A4F      CPI	R20,0xAF
    005C2 E0E0      LDI	R30,0
    005C3 075E      CPC	R21,R30
    005C4 F0E9      BEQ	0x05E2
    005C5 3A4F      CPI	R20,0xAF
    005C6 E0E0      LDI	R30,0
    005C7 075E      CPC	R21,R30
    005C8 F0DC      BLT	0x05E4
    005C9 3B47      CPI	R20,0xB7
    005CA E0E0      LDI	R30,0
    005CB 075E      CPC	R21,R30
    005CC F099      BEQ	0x05E0
    005CD 3B4B      CPI	R20,0xBB
    005CE E0E0      LDI	R30,0
    005CF 075E      CPC	R21,R30
    005D0 F069      BEQ	0x05DE
    005D1 3B4D      CPI	R20,0xBD
    005D2 E0E0      LDI	R30,0
    005D3 075E      CPC	R21,R30
    005D4 F039      BEQ	0x05DC
    005D5 3B4E      CPI	R20,0xBE
    005D6 E0E0      LDI	R30,0
    005D7 075E      CPC	R21,R30
    005D8 F009      BEQ	0x05DA
    005D9 C00A      RJMP	0x05E4
(0029)    {
(0030)    		case 0xbE:return 's';//'set';
    005DA E703      LDI	R16,0x73
    005DB C069      RJMP	0x0645
(0031) 		case 0xbd:return 'r';//'right';
    005DC E702      LDI	R16,0x72
    005DD C067      RJMP	0x0645
(0032) 		case 0xbb:return 't';//'ent';  
    005DE E704      LDI	R16,0x74
    005DF C065      RJMP	0x0645
(0033) 		case 0xb7:return 'c';//'clr';
    005E0 E603      LDI	R16,0x63
    005E1 C063      RJMP	0x0645
(0034) 		case 0xaf:return '+';//'+/-';
    005E2 E20B      LDI	R16,0x2B
    005E3 C061      RJMP	0x0645
(0035) 		default:break;	   
(0036)    } 
(0037)     //第三次扫描
(0038)    PORTC=0x7F;
    005E4 E78F      LDI	R24,0x7F
    005E5 BB85      OUT	0x15,R24
(0039)    PORTG|=0x10;
    005E6 9180 0065 LDS	R24,0x65
    005E8 6180      ORI	R24,0x10
    005E9 9380 0065 STS	0x65,R24
(0040)    delay_us(1);
    005EB E001      LDI	R16,1
    005EC E010      LDI	R17,0
    005ED 940E 0551 CALL	_delay_us
(0041)    switch(PINC)
    005EF B343      IN	R20,0x13
    005F0 2755      CLR	R21
    005F1 364F      CPI	R20,0x6F
    005F2 E0E0      LDI	R30,0
    005F3 075E      CPC	R21,R30
    005F4 F0E9      BEQ	0x0612
    005F5 364F      CPI	R20,0x6F
    005F6 E0E0      LDI	R30,0
    005F7 075E      CPC	R21,R30
    005F8 F0DC      BLT	0x0614
    005F9 3747      CPI	R20,0x77
    005FA E0E0      LDI	R30,0
    005FB 075E      CPC	R21,R30
    005FC F099      BEQ	0x0610
    005FD 374B      CPI	R20,0x7B
    005FE E0E0      LDI	R30,0
    005FF 075E      CPC	R21,R30
    00600 F069      BEQ	0x060E
    00601 374D      CPI	R20,0x7D
    00602 E0E0      LDI	R30,0
    00603 075E      CPC	R21,R30
    00604 F039      BEQ	0x060C
    00605 374E      CPI	R20,0x7E
    00606 E0E0      LDI	R30,0
    00607 075E      CPC	R21,R30
    00608 F009      BEQ	0x060A
    00609 C00A      RJMP	0x0614
(0042)    {
(0043)    		case 0x7E:return '0';
    0060A E300      LDI	R16,0x30
    0060B C039      RJMP	0x0645
(0044) 		case 0x7d:return '3';
    0060C E303      LDI	R16,0x33
    0060D C037      RJMP	0x0645
(0045) 		case 0x7b:return '2';  
    0060E E302      LDI	R16,0x32
    0060F C035      RJMP	0x0645
(0046) 		case 0x77:return '1';
    00610 E301      LDI	R16,0x31
    00611 C033      RJMP	0x0645
(0047) 		case 0x6f:return '6';
    00612 E306      LDI	R16,0x36
    00613 C031      RJMP	0x0645
(0048) 		default:break;	   
(0049)    } 
(0050)       //第四次扫描
(0051)    PORTC=0xFF;
    00614 EF8F      LDI	R24,0xFF
    00615 BB85      OUT	0x15,R24
(0052)    PORTG&=0x0F;
    00616 9180 0065 LDS	R24,0x65
    00618 708F      ANDI	R24,0xF
    00619 9380 0065 STS	0x65,R24
(0053)    delay_us(1);
    0061B E001      LDI	R16,1
    0061C E010      LDI	R17,0
    0061D 940E 0551 CALL	_delay_us
(0054)    switch(PINC)
    0061F B343      IN	R20,0x13
    00620 2755      CLR	R21
    00621 3E4F      CPI	R20,0xEF
    00622 E0E0      LDI	R30,0
    00623 075E      CPC	R21,R30
    00624 F0E9      BEQ	0x0642
    00625 3E4F      CPI	R20,0xEF
    00626 E0E0      LDI	R30,0
    00627 075E      CPC	R21,R30
    00628 F0DC      BLT	0x0644
    00629 3F47      CPI	R20,0xF7
    0062A E0E0      LDI	R30,0
    0062B 075E      CPC	R21,R30
    0062C F099      BEQ	0x0640
    0062D 3F4B      CPI	R20,0xFB
    0062E E0E0      LDI	R30,0
    0062F 075E      CPC	R21,R30
    00630 F069      BEQ	0x063E
    00631 3F4D      CPI	R20,0xFD
    00632 E0E0      LDI	R30,0
    00633 075E      CPC	R21,R30
    00634 F039      BEQ	0x063C
    00635 3F4E      CPI	R20,0xFE
    00636 E0E0      LDI	R30,0
    00637 075E      CPC	R21,R30
    00638 F009      BEQ	0x063A
    00639 C00A      RJMP	0x0644
(0055)    {
(0056)    		case 0xFE:return '7';
    0063A E307      LDI	R16,0x37
    0063B C009      RJMP	0x0645
(0057) 		case 0xFd:return '8';
    0063C E308      LDI	R16,0x38
    0063D C007      RJMP	0x0645
(0058) 		case 0xFb:return '9';  
    0063E E309      LDI	R16,0x39
    0063F C005      RJMP	0x0645
(0059) 		case 0xF7:return '4';
    00640 E304      LDI	R16,0x34
    00641 C003      RJMP	0x0645
(0060) 		case 0xEf:return '5';
    00642 E305      LDI	R16,0x35
    00643 C001      RJMP	0x0645
(0061) 		default:break;	   
(0062)    }
(0063)  return 'n';
    00644 E60E      LDI	R16,0x6E
    00645 9159      LD	R21,Y+
    00646 9149      LD	R20,Y+
    00647 9508      RET
_KeyScan_once:
  keyValue2            --> R10
  keyValue             --> R20
    00648 92AA      ST	-Y,R10
    00649 934A      ST	-Y,R20
(0064)    
(0065) }
(0066) //********************************
(0067) //		加上延时抖动的读取，一次读取一个
(0068) //********************************
(0069) uchar KeyScan_once(void){
(0070) 	  uchar keyValue,keyValue2;
(0071) 	  keyValue=KeyScan();
    0064A DF30      RCALL	_KeyScan
    0064B 2F40      MOV	R20,R16
(0072) 	  delay_ms(2);
    0064C E002      LDI	R16,2
    0064D E010      LDI	R17,0
    0064E 940E 055B CALL	_delay_ms
(0073) 	  keyValue2=KeyScan();
    00650 DF2A      RCALL	_KeyScan
    00651 2EA0      MOV	R10,R16
(0074) 	 if(keyValue==keyValue2 && keyValue!='n'){//两次扫描，消除抖动
    00652 1740      CP	R20,R16
    00653 F461      BNE	0x0660
    00654 364E      CPI	R20,0x6E
    00655 F051      BEQ	0x0660
(0075) 	 	if(key_value==keyValue){//如果还是上一次保存的值则代表一直按着，返回‘n’
    00656 9020 0100 LDS	R2,key_value
    00658 1624      CP	R2,R20
    00659 F411      BNE	0x065C
(0076) 		    return 'n';  
    0065A E60E      LDI	R16,0x6E
    0065B C008      RJMP	0x0664
(0077) 	    }else{                  //松开后第一次按下，返回该键的值
(0078) 		 key_value=keyValue;
    0065C 9340 0100 STS	key_value,R20
(0079) 		  return keyValue;
    0065E 2F04      MOV	R16,R20
    0065F C004      RJMP	0x0664
(0080) 		}
(0081) 	 }else{                     //因为读取键盘的值会多次刷新，所以在松开按键时key_value重置
(0082) 	   key_value='n';
    00660 E68E      LDI	R24,0x6E
    00661 9380 0100 STS	key_value,R24
(0083) 	   return 'n';
    00663 E60E      LDI	R16,0x6E
    00664 9149      LD	R20,Y+
    00665 90A9      LD	R10,Y+
    00666 9508      RET
_lcd_bz_1:
  result               --> R20
    00667 934A      ST	-Y,R20
    00668 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\lcd.c
(0001) #include<iom128v.h>
(0002) #include "lcd.h"
(0003) #include "delay.h" 
(0004) #define rs_l PORTG&=~(1<<PG1)
(0005) #define rs_h PORTG|=1<<PG1
(0006) #define rw_l PORTG&=~(1<<PG0)
(0007) #define rw_h PORTG|=1<<PG0
(0008) #define ep1_l PORTG&=~(1<<PG3)
(0009) #define ep1_h PORTG|=1<<PG3
(0010) #define ep2_l PORTF&=~(1<<PF0)
(0011) #define ep2_h PORTF|=1<<PF0
(0012) //***********************************
(0013) //上半屏幕
(0014) //**********************************
(0015) /*
(0016)  读忙程序。命令后，读入BF
(0017) */
(0018) uint lcd_bz_1(void){
(0019) 	uint result;
(0020) 	DDRA=0x00;
    00669 2422      CLR	R2
    0066A BA2A      OUT	0x1A,R2
(0021) 	rs_l;
    0066B 9180 0065 LDS	R24,0x65
    0066D 7F8D      ANDI	R24,0xFD
    0066E 9380 0065 STS	0x65,R24
(0022) 	rw_h;
    00670 9180 0065 LDS	R24,0x65
    00672 6081      ORI	R24,1
    00673 9380 0065 STS	0x65,R24
(0023) 	ep1_h;
    00675 9180 0065 LDS	R24,0x65
    00677 6088      ORI	R24,0x8
    00678 9380 0065 STS	0x65,R24
(0024) 	delay_us(1);
    0067A E001      LDI	R16,1
    0067B E010      LDI	R17,0
    0067C 940E 0551 CALL	_delay_us
(0025) 	result=PINA&(1<<PINA7);
    0067E B349      IN	R20,0x19
    0067F 2755      CLR	R21
    00680 7840      ANDI	R20,0x80
    00681 7050      ANDI	R21,0
(0026) 	DDRA=0xFF;
    00682 EF8F      LDI	R24,0xFF
    00683 BB8A      OUT	0x1A,R24
(0027) 	ep1_l;
    00684 9180 0065 LDS	R24,0x65
    00686 7F87      ANDI	R24,0xF7
    00687 9380 0065 STS	0x65,R24
(0028) 	return result;
    00689 018A      MOVW	R16,R20
    0068A 9159      LD	R21,Y+
    0068B 9149      LD	R20,Y+
    0068C 9508      RET
_lcd_wcmd_1:
  cmd                  --> R10
    0068D 92AA      ST	-Y,R10
    0068E 2EA0      MOV	R10,R16
(0029) }
(0030) //***********************************
(0031) //上半屏幕写命令
(0032) //**********************************
(0033) void lcd_wcmd_1(uchar cmd){
(0034) 	 while(lcd_bz_1());
    0068F DFD7      RCALL	_lcd_bz_1
    00690 3000      CPI	R16,0
    00691 0701      CPC	R16,R17
    00692 F7E1      BNE	0x068F
(0035) 	 rs_l;
    00693 9180 0065 LDS	R24,0x65
    00695 7F8D      ANDI	R24,0xFD
    00696 9380 0065 STS	0x65,R24
(0036) 	 rw_l;
    00698 9180 0065 LDS	R24,0x65
    0069A 7F8E      ANDI	R24,0xFE
    0069B 9380 0065 STS	0x65,R24
(0037) 	 ep1_l;
    0069D 9180 0065 LDS	R24,0x65
    0069F 7F87      ANDI	R24,0xF7
    006A0 9380 0065 STS	0x65,R24
(0038) 	 PORTA=cmd;
    006A2 BAAB      OUT	0x1B,R10
(0039) 	 ep1_h;
    006A3 9180 0065 LDS	R24,0x65
    006A5 6088      ORI	R24,0x8
    006A6 9380 0065 STS	0x65,R24
(0040) 	 delay_us(1);
    006A8 E001      LDI	R16,1
    006A9 E010      LDI	R17,0
    006AA 940E 0551 CALL	_delay_us
(0041) 	 ep1_l;
    006AC 9180 0065 LDS	R24,0x65
    006AE 7F87      ANDI	R24,0xF7
    006AF 9380 0065 STS	0x65,R24
(0042) 	 return;
    006B1 90A9      LD	R10,Y+
    006B2 9508      RET
_lcd_wdat_1:
  dat                  --> R10
    006B3 92AA      ST	-Y,R10
    006B4 2EA0      MOV	R10,R16
(0043) }
(0044) /*
(0045) 写输出数据,char
(0046) */
(0047) void lcd_wdat_1(uchar dat){
(0048) 	 while(lcd_bz_1());
    006B5 DFB1      RCALL	_lcd_bz_1
    006B6 3000      CPI	R16,0
    006B7 0701      CPC	R16,R17
    006B8 F7E1      BNE	0x06B5
(0049) 	 rs_h;
    006B9 9180 0065 LDS	R24,0x65
    006BB 6082      ORI	R24,2
    006BC 9380 0065 STS	0x65,R24
(0050) 	 rw_l;
    006BE 9180 0065 LDS	R24,0x65
    006C0 7F8E      ANDI	R24,0xFE
    006C1 9380 0065 STS	0x65,R24
(0051) 	 ep1_l;
    006C3 9180 0065 LDS	R24,0x65
    006C5 7F87      ANDI	R24,0xF7
    006C6 9380 0065 STS	0x65,R24
(0052) 	 PORTA=dat;
    006C8 BAAB      OUT	0x1B,R10
(0053) 	 ep1_h;
    006C9 9180 0065 LDS	R24,0x65
    006CB 6088      ORI	R24,0x8
    006CC 9380 0065 STS	0x65,R24
(0054) 	 delay_us(1);
    006CE E001      LDI	R16,1
    006CF E010      LDI	R17,0
    006D0 940E 0551 CALL	_delay_us
(0055) 	 ep1_l;
    006D2 9180 0065 LDS	R24,0x65
    006D4 7F87      ANDI	R24,0xF7
    006D5 9380 0065 STS	0x65,R24
    006D7 90A9      LD	R10,Y+
    006D8 9508      RET
(0056) }
(0057) 
(0058) /*清显示*/
(0059) void lcd_clear_1(void) 
(0060) {
(0061) 	lcd_wcmd_1(0x01);
_lcd_clear_1:
    006D9 E001      LDI	R16,1
    006DA DFB2      RCALL	_lcd_wcmd_1
(0062) 	delay_ms(1);
    006DB E001      LDI	R16,1
    006DC E010      LDI	R17,0
    006DD 940C 055B JMP	_delay_ms
_lcd_bz_2:
  result               --> R20
    006DF 934A      ST	-Y,R20
    006E0 935A      ST	-Y,R21
(0063) }
(0064) //***********************************
(0065) //    下半屏幕
(0066) //***********************************
(0067) uint lcd_bz_2(void){
(0068) 	uint result;
(0069) 	DDRA=0x00;
    006E1 2422      CLR	R2
    006E2 BA2A      OUT	0x1A,R2
(0070) 	rs_l;
    006E3 9180 0065 LDS	R24,0x65
    006E5 7F8D      ANDI	R24,0xFD
    006E6 9380 0065 STS	0x65,R24
(0071) 	rw_h;
    006E8 9180 0065 LDS	R24,0x65
    006EA 6081      ORI	R24,1
    006EB 9380 0065 STS	0x65,R24
(0072) 	ep2_h;
    006ED 9180 0062 LDS	R24,0x62
    006EF 6081      ORI	R24,1
    006F0 9380 0062 STS	0x62,R24
(0073) 	delay_us(1);
    006F2 E001      LDI	R16,1
    006F3 E010      LDI	R17,0
    006F4 940E 0551 CALL	_delay_us
(0074) 	result=PINA&(1<<PINA7);
    006F6 B349      IN	R20,0x19
    006F7 2755      CLR	R21
    006F8 7840      ANDI	R20,0x80
    006F9 7050      ANDI	R21,0
(0075) 	DDRA=0xFF;
    006FA EF8F      LDI	R24,0xFF
    006FB BB8A      OUT	0x1A,R24
(0076) 	ep2_l;
    006FC 9180 0062 LDS	R24,0x62
    006FE 7F8E      ANDI	R24,0xFE
    006FF 9380 0062 STS	0x62,R24
(0077) 	return result;
    00701 018A      MOVW	R16,R20
    00702 9159      LD	R21,Y+
    00703 9149      LD	R20,Y+
    00704 9508      RET
_lcd_wcmd_2:
  cmd                  --> R10
    00705 92AA      ST	-Y,R10
    00706 2EA0      MOV	R10,R16
(0078) }
(0079) void lcd_wcmd_2(uchar cmd){
(0080) 	 while(lcd_bz_2());
    00707 DFD7      RCALL	_lcd_bz_2
    00708 3000      CPI	R16,0
    00709 0701      CPC	R16,R17
    0070A F7E1      BNE	0x0707
(0081) 	 rs_l;
    0070B 9180 0065 LDS	R24,0x65
    0070D 7F8D      ANDI	R24,0xFD
    0070E 9380 0065 STS	0x65,R24
(0082) 	 rw_l;
    00710 9180 0065 LDS	R24,0x65
    00712 7F8E      ANDI	R24,0xFE
    00713 9380 0065 STS	0x65,R24
(0083) 	 ep2_l;
    00715 9180 0062 LDS	R24,0x62
    00717 7F8E      ANDI	R24,0xFE
    00718 9380 0062 STS	0x62,R24
(0084) 	 PORTA=cmd;
    0071A BAAB      OUT	0x1B,R10
(0085) 	 ep2_h;
    0071B 9180 0062 LDS	R24,0x62
    0071D 6081      ORI	R24,1
    0071E 9380 0062 STS	0x62,R24
(0086) 	delay_us(1);
    00720 E001      LDI	R16,1
    00721 E010      LDI	R17,0
    00722 940E 0551 CALL	_delay_us
(0087) 	 ep2_l;
    00724 9180 0062 LDS	R24,0x62
    00726 7F8E      ANDI	R24,0xFE
    00727 9380 0062 STS	0x62,R24
    00729 90A9      LD	R10,Y+
    0072A 9508      RET
_lcd_wdat_2:
  dat                  --> R10
    0072B 92AA      ST	-Y,R10
    0072C 2EA0      MOV	R10,R16
(0088) }
(0089) //  写输出数据,char
(0090) void lcd_wdat_2(uchar dat){
(0091) 	 while(lcd_bz_2());
    0072D DFB1      RCALL	_lcd_bz_2
    0072E 3000      CPI	R16,0
    0072F 0701      CPC	R16,R17
    00730 F7E1      BNE	0x072D
(0092) 	 rs_h;
    00731 9180 0065 LDS	R24,0x65
    00733 6082      ORI	R24,2
    00734 9380 0065 STS	0x65,R24
(0093) 	 rw_l;
    00736 9180 0065 LDS	R24,0x65
    00738 7F8E      ANDI	R24,0xFE
    00739 9380 0065 STS	0x65,R24
(0094) 	 ep2_l;
    0073B 9180 0062 LDS	R24,0x62
    0073D 7F8E      ANDI	R24,0xFE
    0073E 9380 0062 STS	0x62,R24
(0095) 	 PORTA=dat;
    00740 BAAB      OUT	0x1B,R10
(0096) 	 ep2_h;
    00741 9180 0062 LDS	R24,0x62
    00743 6081      ORI	R24,1
    00744 9380 0062 STS	0x62,R24
(0097) 	delay_us(1);
    00746 E001      LDI	R16,1
    00747 E010      LDI	R17,0
    00748 940E 0551 CALL	_delay_us
(0098) 	 ep2_l;
    0074A 9180 0062 LDS	R24,0x62
    0074C 7F8E      ANDI	R24,0xFE
    0074D 9380 0062 STS	0x62,R24
    0074F 90A9      LD	R10,Y+
    00750 9508      RET
(0099) }
(0100) /*清显示*/
(0101) void lcd_clear_2(void) 
(0102) {
(0103) 	lcd_wcmd_2(0x01);
_lcd_clear_2:
    00751 E001      LDI	R16,1
    00752 CFB2      RJMP	_lcd_wcmd_2
_lcd_write_char_con:
  data                 --> R10
  y                    --> R20
    00753 92AA      ST	-Y,R10
    00754 934A      ST	-Y,R20
    00755 2EA2      MOV	R10,R18
    00756 2F40      MOV	R20,R16
(0104) }
(0105) 
(0106) //*************************************************
(0107) //					写字符
(0108) //***************************************************
(0109) /*
(0110)   附带y。调用 lcd_wdat（）方法。传入时转换为char。直接连续写入使用
(0111) */
(0112) void lcd_write_char_con(unsigned char y,unsigned char data) 
(0113) {
(0114) 	
(0115)     if (y == 0 || y==1) 
    00757 2344      TST	R20
    00758 F011      BEQ	0x075B
    00759 3041      CPI	R20,1
    0075A F419      BNE	0x075E
(0116)     {
(0117)     	
(0118) 		 lcd_wdat_1( data);
    0075B 2D0A      MOV	R16,R10
    0075C DF56      RCALL	_lcd_wdat_1
(0119)     }else  if(y==2 || y==3 )
    0075D C006      RJMP	0x0764
    0075E 3042      CPI	R20,2
    0075F F011      BEQ	0x0762
    00760 3043      CPI	R20,3
    00761 F411      BNE	0x0764
(0120)     {
(0121)     	
(0122) 		 lcd_wdat_2( data);
    00762 2D0A      MOV	R16,R10
    00763 DFC7      RCALL	_lcd_wdat_2
(0123)     }
(0124)    return; 
    00764 9149      LD	R20,Y+
    00765 90A9      LD	R10,Y+
    00766 9508      RET
_lcd_write_pos:
  y                    --> R22
  x                    --> R20
    00767 934A      ST	-Y,R20
    00768 936A      ST	-Y,R22
    00769 2F62      MOV	R22,R18
    0076A 2F40      MOV	R20,R16
(0125) }
(0126) /*
(0127)   附带x,y。写光标位置
(0128) */
(0129) void lcd_write_pos(unsigned char x,unsigned char y) 
(0130) {
(0131) 	
(0132)     if (y == 0) 
    0076B 2366      TST	R22
    0076C F421      BNE	0x0771
(0133)     {
(0134)     	lcd_wcmd_1(0x80 + x);
    0076D 2F04      MOV	R16,R20
    0076E 5800      SUBI	R16,0x80
    0076F DF1D      RCALL	_lcd_wcmd_1
(0135)     }
    00770 C011      RJMP	0x0782
(0136)     else  if(y==1)
    00771 3061      CPI	R22,1
    00772 F421      BNE	0x0777
(0137)     {
(0138)     	lcd_wcmd_1(0x90 + x);
    00773 2F04      MOV	R16,R20
    00774 5700      SUBI	R16,0x70
    00775 DF17      RCALL	_lcd_wcmd_1
(0139)     }else  if(y==2)
    00776 C00B      RJMP	0x0782
    00777 3062      CPI	R22,2
    00778 F421      BNE	0x077D
(0140)     {
(0141)     	lcd_wcmd_2(0x80 + x);
    00779 2F04      MOV	R16,R20
    0077A 5800      SUBI	R16,0x80
    0077B DF89      RCALL	_lcd_wcmd_2
(0142)     }else  if(y==3)
    0077C C005      RJMP	0x0782
    0077D 3063      CPI	R22,3
    0077E F419      BNE	0x0782
(0143)     {
(0144)     	lcd_wcmd_2(0x90 + x);
    0077F 2F04      MOV	R16,R20
    00780 5700      SUBI	R16,0x70
    00781 DF83      RCALL	_lcd_wcmd_2
(0145)     }
(0146)    return; 
    00782 9169      LD	R22,Y+
    00783 9149      LD	R20,Y+
    00784 9508      RET
_lcd_write_char:
  data                 --> R10
  y                    --> R22
  x                    --> R20
    00785 940E 3C7F CALL	push_xgsetF00C
    00787 2F62      MOV	R22,R18
    00788 2F40      MOV	R20,R16
    00789 80AE      LDD	R10,Y+6
(0147) }
(0148) /*
(0149)   附带x,y。调用 lcd_wdat（）方法。传入时转换为char
(0150) */
(0151) void lcd_write_char(unsigned char x,unsigned char y,unsigned char data) 
(0152) {
(0153) 	
(0154)     if (y == 0) 
    0078A 2366      TST	R22
    0078B F431      BNE	0x0792
(0155)     {
(0156)     	lcd_wcmd_1(0x80 + x);
    0078C 2F04      MOV	R16,R20
    0078D 5800      SUBI	R16,0x80
    0078E DEFE      RCALL	_lcd_wcmd_1
(0157) 		 lcd_wdat_1( data);
    0078F 2D0A      MOV	R16,R10
    00790 DF22      RCALL	_lcd_wdat_1
(0158)     }
    00791 C017      RJMP	0x07A9
(0159)     else  if(y==1)
    00792 3061      CPI	R22,1
    00793 F431      BNE	0x079A
(0160)     {
(0161)     	lcd_wcmd_1(0x90 + x);
    00794 2F04      MOV	R16,R20
    00795 5700      SUBI	R16,0x70
    00796 DEF6      RCALL	_lcd_wcmd_1
(0162) 		 lcd_wdat_1( data);
    00797 2D0A      MOV	R16,R10
    00798 DF1A      RCALL	_lcd_wdat_1
(0163)     }else  if(y==2)
    00799 C00F      RJMP	0x07A9
    0079A 3062      CPI	R22,2
    0079B F431      BNE	0x07A2
(0164)     {
(0165)     	lcd_wcmd_2(0x80 + x);
    0079C 2F04      MOV	R16,R20
    0079D 5800      SUBI	R16,0x80
    0079E DF66      RCALL	_lcd_wcmd_2
(0166) 		 lcd_wdat_2( data);
    0079F 2D0A      MOV	R16,R10
    007A0 DF8A      RCALL	_lcd_wdat_2
(0167)     }else  if(y==3)
    007A1 C007      RJMP	0x07A9
    007A2 3063      CPI	R22,3
    007A3 F429      BNE	0x07A9
(0168)     {
(0169)     	lcd_wcmd_2(0x90 + x);
    007A4 2F04      MOV	R16,R20
    007A5 5700      SUBI	R16,0x70
    007A6 DF5E      RCALL	_lcd_wcmd_2
(0170) 		 lcd_wdat_2( data);
    007A7 2D0A      MOV	R16,R10
    007A8 DF82      RCALL	_lcd_wdat_2
(0171)     }
(0172)    return; 
    007A9 940C 3C86 JMP	pop_xgsetF00C
_lcd_write_str:
  s                    --> R20
  y                    --> R10
  x                    --> R22
    007AB 940E 3C7F CALL	push_xgsetF00C
    007AD 2EA2      MOV	R10,R18
    007AE 2F60      MOV	R22,R16
    007AF 814E      LDD	R20,Y+6
    007B0 815F      LDD	R21,Y+7
(0173) }
(0174) /*
(0175)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0176) */
(0177) void lcd_write_str(unsigned char x,unsigned char y,unsigned char *s) 
(0178) {
(0179) 	
(0180)     if (y == 0) 
    007B1 20AA      TST	R10
    007B2 F471      BNE	0x07C1
(0181)     {
(0182)     	lcd_wcmd_1(0x80 + x);
    007B3 2F06      MOV	R16,R22
    007B4 5800      SUBI	R16,0x80
    007B5 DED7      RCALL	_lcd_wcmd_1
    007B6 C005      RJMP	0x07BC
(0183) 		 while (*s) 
(0184)        {
(0185)     	lcd_wdat_1( *s);
    007B7 01FA      MOVW	R30,R20
    007B8 8100      LD	R16,Z
    007B9 DEF9      RCALL	_lcd_wdat_1
(0186)     	s ++;
    007BA 5F4F      SUBI	R20,0xFF
    007BB 4F5F      SBCI	R21,0xFF
    007BC 01FA      MOVW	R30,R20
    007BD 8020      LD	R2,Z
    007BE 2022      TST	R2
    007BF F7B9      BNE	0x07B7
(0187)         }
(0188)     }
    007C0 C032      RJMP	0x07F3
(0189)     else  if(y==1)
    007C1 2D8A      MOV	R24,R10
    007C2 3081      CPI	R24,1
    007C3 F471      BNE	0x07D2
(0190)     {
(0191)     	lcd_wcmd_1(0x90 + x);
    007C4 2F06      MOV	R16,R22
    007C5 5700      SUBI	R16,0x70
    007C6 DEC6      RCALL	_lcd_wcmd_1
    007C7 C005      RJMP	0x07CD
(0192) 		 while (*s) 
(0193)         {
(0194)     	lcd_wdat_1( *s);
    007C8 01FA      MOVW	R30,R20
    007C9 8100      LD	R16,Z
    007CA DEE8      RCALL	_lcd_wdat_1
(0195)     	s ++;
    007CB 5F4F      SUBI	R20,0xFF
    007CC 4F5F      SBCI	R21,0xFF
    007CD 01FA      MOVW	R30,R20
    007CE 8020      LD	R2,Z
    007CF 2022      TST	R2
    007D0 F7B9      BNE	0x07C8
(0196)        }
(0197)     }else  if(y==2)
    007D1 C021      RJMP	0x07F3
    007D2 2D8A      MOV	R24,R10
    007D3 3082      CPI	R24,2
    007D4 F471      BNE	0x07E3
(0198)     {
(0199)     	lcd_wcmd_2(0x80 + x);
    007D5 2F06      MOV	R16,R22
    007D6 5800      SUBI	R16,0x80
    007D7 DF2D      RCALL	_lcd_wcmd_2
    007D8 C005      RJMP	0x07DE
(0200) 		  while (*s) 
(0201)        {
(0202)     	lcd_wdat_2( *s);
    007D9 01FA      MOVW	R30,R20
    007DA 8100      LD	R16,Z
    007DB DF4F      RCALL	_lcd_wdat_2
(0203)     	s ++;
    007DC 5F4F      SUBI	R20,0xFF
    007DD 4F5F      SBCI	R21,0xFF
    007DE 01FA      MOVW	R30,R20
    007DF 8020      LD	R2,Z
    007E0 2022      TST	R2
    007E1 F7B9      BNE	0x07D9
(0204)        }
(0205)     }else  if(y==3)
    007E2 C010      RJMP	0x07F3
    007E3 2D8A      MOV	R24,R10
    007E4 3083      CPI	R24,3
    007E5 F469      BNE	0x07F3
(0206)     {
(0207)     	lcd_wcmd_2(0x90 + x);
    007E6 2F06      MOV	R16,R22
    007E7 5700      SUBI	R16,0x70
    007E8 DF1C      RCALL	_lcd_wcmd_2
    007E9 C005      RJMP	0x07EF
(0208) 		  while (*s) 
(0209)        {
(0210)     	lcd_wdat_2( *s);
    007EA 01FA      MOVW	R30,R20
    007EB 8100      LD	R16,Z
    007EC DF3E      RCALL	_lcd_wdat_2
(0211)     	s ++;
    007ED 5F4F      SUBI	R20,0xFF
    007EE 4F5F      SBCI	R21,0xFF
    007EF 01FA      MOVW	R30,R20
    007F0 8020      LD	R2,Z
    007F1 2022      TST	R2
    007F2 F7B9      BNE	0x07EA
(0212)        }
(0213)     }
    007F3 940C 3C86 JMP	pop_xgsetF00C
_lcd_write_str_con:
  s                    --> R20
  y                    --> R22
    007F5 940E 3C75 CALL	push_xgsetF000
    007F7 01A9      MOVW	R20,R18
    007F8 2F60      MOV	R22,R16
(0214)    
(0215) }
(0216) /*
(0217)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0218) */
(0219) void lcd_write_str_con(unsigned char y,unsigned char *s) 
(0220) {
(0221) 	
(0222)     if (y == 0 || y==1) 
    007F9 2366      TST	R22
    007FA F011      BEQ	0x07FD
    007FB 3061      CPI	R22,1
    007FC F459      BNE	0x0808
(0223)     {
    007FD C005      RJMP	0x0803
(0224)     	
(0225) 		 while (*s) 
(0226)        {
(0227)     	lcd_wdat_1( *s);
    007FE 01FA      MOVW	R30,R20
    007FF 8100      LD	R16,Z
    00800 DEB2      RCALL	_lcd_wdat_1
(0228)     	s ++;
    00801 5F4F      SUBI	R20,0xFF
    00802 4F5F      SBCI	R21,0xFF
    00803 01FA      MOVW	R30,R20
    00804 8020      LD	R2,Z
    00805 2022      TST	R2
    00806 F7B9      BNE	0x07FE
(0229)         }
(0230)     }
    00807 C00E      RJMP	0x0816
(0231)     else  if(y==2 || y==3)
    00808 3062      CPI	R22,2
    00809 F011      BEQ	0x080C
    0080A 3063      CPI	R22,3
    0080B F451      BNE	0x0816
(0232)     {
    0080C C005      RJMP	0x0812
(0233)     	
(0234) 		  while (*s) 
(0235)        {
(0236)     	lcd_wdat_2( *s);
    0080D 01FA      MOVW	R30,R20
    0080E 8100      LD	R16,Z
    0080F DF1B      RCALL	_lcd_wdat_2
(0237)     	s ++;
    00810 5F4F      SUBI	R20,0xFF
    00811 4F5F      SBCI	R21,0xFF
    00812 01FA      MOVW	R30,R20
    00813 8020      LD	R2,Z
    00814 2022      TST	R2
    00815 F7B9      BNE	0x080D
(0238)        }
(0239)     }
    00816 940C 3C7A JMP	pop_xgsetF000
_read_ac_1:
  result               --> R20
    00818 934A      ST	-Y,R20
    00819 935A      ST	-Y,R21
(0240)    
(0241) }
(0242) //****************************
(0243) //  读出数据,.不知道有没有用，先放在这
(0244) //****************************
(0245) /**
(0246)  读程序。命令后，读AC地址
(0247) */
(0248) uchar read_ac_1(void){
(0249) 	uint result;
(0250) 	DDRA=0x00;
    0081A 2422      CLR	R2
    0081B BA2A      OUT	0x1A,R2
(0251) 	rs_l;
    0081C 9180 0065 LDS	R24,0x65
    0081E 7F8D      ANDI	R24,0xFD
    0081F 9380 0065 STS	0x65,R24
(0252) 	rw_h;
    00821 9180 0065 LDS	R24,0x65
    00823 6081      ORI	R24,1
    00824 9380 0065 STS	0x65,R24
(0253) 	ep1_h;
    00826 9180 0065 LDS	R24,0x65
    00828 6088      ORI	R24,0x8
    00829 9380 0065 STS	0x65,R24
(0254) 	delay_ms(1);
    0082B E001      LDI	R16,1
    0082C E010      LDI	R17,0
    0082D 940E 055B CALL	_delay_ms
(0255) 	result=PINA&(~(1<<PINA7));
    0082F B349      IN	R20,0x19
    00830 2755      CLR	R21
    00831 774F      ANDI	R20,0x7F
(0256) 	DDRA=0xFF;
    00832 EF8F      LDI	R24,0xFF
    00833 BB8A      OUT	0x1A,R24
(0257) 	ep1_l;
    00834 9180 0065 LDS	R24,0x65
    00836 7F87      ANDI	R24,0xF7
    00837 9380 0065 STS	0x65,R24
(0258) 	return result;
    00839 2F04      MOV	R16,R20
    0083A 9159      LD	R21,Y+
    0083B 9149      LD	R20,Y+
    0083C 9508      RET
_read_ac_2:
  result               --> R20
    0083D 934A      ST	-Y,R20
    0083E 935A      ST	-Y,R21
(0259) }
(0260) uchar read_ac_2(void){
(0261) 	uint result;
(0262) 	DDRA=0x00;
    0083F 2422      CLR	R2
    00840 BA2A      OUT	0x1A,R2
(0263) 	rs_l;
    00841 9180 0065 LDS	R24,0x65
    00843 7F8D      ANDI	R24,0xFD
    00844 9380 0065 STS	0x65,R24
(0264) 	rw_h;
    00846 9180 0065 LDS	R24,0x65
    00848 6081      ORI	R24,1
    00849 9380 0065 STS	0x65,R24
(0265) 	ep2_h;
    0084B 9180 0062 LDS	R24,0x62
    0084D 6081      ORI	R24,1
    0084E 9380 0062 STS	0x62,R24
(0266) 	delay_ms(1);
    00850 E001      LDI	R16,1
    00851 E010      LDI	R17,0
    00852 940E 055B CALL	_delay_ms
(0267) 	result=PINA&(~(1<<PINA7));
    00854 B349      IN	R20,0x19
    00855 2755      CLR	R21
    00856 774F      ANDI	R20,0x7F
(0268) 	DDRA=0xFF;
    00857 EF8F      LDI	R24,0xFF
    00858 BB8A      OUT	0x1A,R24
(0269) 	ep2_l;
    00859 9180 0062 LDS	R24,0x62
    0085B 7F8E      ANDI	R24,0xFE
    0085C 9380 0062 STS	0x62,R24
(0270) 	return result;
    0085E 2F04      MOV	R16,R20
    0085F 9159      LD	R21,Y+
    00860 9149      LD	R20,Y+
    00861 9508      RET
(0271) }
(0272) //***********************************
(0273) //清除屏幕内容
(0274) //**********************************
(0275) void lcd_clear(void){
(0276)    lcd_clear_1();
_lcd_clear:
    00862 DE76      RCALL	_lcd_clear_1
(0277)     lcd_clear_2();
    00863 CEED      RJMP	_lcd_clear_2
_date_cmd_1:
  result               --> R10
    00864 92AA      ST	-Y,R10
    00865 92BA      ST	-Y,R11
(0278) }
(0279) /*
(0280)  读数据程序。命令后，读入。使用read_data函数会是设定的值，再吃调用本函数会使ac
(0281)  移动一次，8读取位的数据
(0282) */
(0283) uchar date_cmd_1(void){
(0284) 	uint result;
(0285) 	DDRA=0x00;
    00866 2422      CLR	R2
    00867 BA2A      OUT	0x1A,R2
(0286) 	rs_h;
    00868 9180 0065 LDS	R24,0x65
    0086A 6082      ORI	R24,2
    0086B 9380 0065 STS	0x65,R24
(0287) 	rw_h;
    0086D 9180 0065 LDS	R24,0x65
    0086F 6081      ORI	R24,1
    00870 9380 0065 STS	0x65,R24
(0288) 	ep1_h;
    00872 9180 0065 LDS	R24,0x65
    00874 6088      ORI	R24,0x8
    00875 9380 0065 STS	0x65,R24
(0289) 	delay_ms(1);
    00877 E001      LDI	R16,1
    00878 E010      LDI	R17,0
    00879 940E 055B CALL	_delay_ms
(0290) 	result=PINA;
    0087B B2A9      IN	R10,0x19
    0087C 24BB      CLR	R11
(0291) 	DDRA=0xFF;
    0087D EF8F      LDI	R24,0xFF
    0087E BB8A      OUT	0x1A,R24
(0292) 	ep1_l;
    0087F 9180 0065 LDS	R24,0x65
    00881 7F87      ANDI	R24,0xF7
    00882 9380 0065 STS	0x65,R24
(0293) 	return result;
    00884 2D0A      MOV	R16,R10
    00885 90B9      LD	R11,Y+
    00886 90A9      LD	R10,Y+
    00887 9508      RET
_date_cmd_2:
  result               --> R10
    00888 92AA      ST	-Y,R10
    00889 92BA      ST	-Y,R11
(0294) }
(0295) uchar date_cmd_2(void){
(0296) 	uint result;
(0297) 	DDRA=0x00;
    0088A 2422      CLR	R2
    0088B BA2A      OUT	0x1A,R2
(0298) 	rs_h;
    0088C 9180 0065 LDS	R24,0x65
    0088E 6082      ORI	R24,2
    0088F 9380 0065 STS	0x65,R24
(0299) 	rw_h;
    00891 9180 0065 LDS	R24,0x65
    00893 6081      ORI	R24,1
    00894 9380 0065 STS	0x65,R24
(0300) 	ep2_h;
    00896 9180 0062 LDS	R24,0x62
    00898 6081      ORI	R24,1
    00899 9380 0062 STS	0x62,R24
(0301) 	delay_ms(1);
    0089B E001      LDI	R16,1
    0089C E010      LDI	R17,0
    0089D 940E 055B CALL	_delay_ms
(0302) 	result=PINA;
    0089F B2A9      IN	R10,0x19
    008A0 24BB      CLR	R11
(0303) 	DDRA=0xFF;
    008A1 EF8F      LDI	R24,0xFF
    008A2 BB8A      OUT	0x1A,R24
(0304) 	ep2_l;
    008A3 9180 0062 LDS	R24,0x62
    008A5 7F8E      ANDI	R24,0xFE
    008A6 9380 0062 STS	0x62,R24
(0305) 	return result;
    008A8 2D0A      MOV	R16,R10
    008A9 90B9      LD	R11,Y+
    008AA 90A9      LD	R10,Y+
    008AB 9508      RET
_read_data_xy:
  y                    --> R22
  x                    --> R20
    008AC 940E 3C7F CALL	push_xgsetF00C
    008AE 2F62      MOV	R22,R18
    008AF 2F40      MOV	R20,R16
(0306) }
(0307) //**************************
(0308) //读取函数，注意会ac位置
(0309) //**************************
(0310) uchar read_data_xy(unsigned char x,unsigned char y){
(0311) 	if (y == 0) {
    008B0 2366      TST	R22
    008B1 F449      BNE	0x08BB
(0312)     	lcd_wcmd_1(0x80 + x);
    008B2 2F04      MOV	R16,R20
    008B3 5800      SUBI	R16,0x80
    008B4 DDD8      RCALL	_lcd_wcmd_1
(0313) 		delay_us(10);
    008B5 E00A      LDI	R16,0xA
    008B6 E010      LDI	R17,0
    008B7 940E 0551 CALL	_delay_us
(0314) 		return date_cmd_1();
    008B9 DFAA      RCALL	_date_cmd_1
    008BA C024      RJMP	0x08DF
(0315) 		
(0316)     }else  if(y==1){
    008BB 3061      CPI	R22,1
    008BC F449      BNE	0x08C6
(0317)     	lcd_wcmd_1(0x90 + x);
    008BD 2F04      MOV	R16,R20
    008BE 5700      SUBI	R16,0x70
    008BF DDCD      RCALL	_lcd_wcmd_1
(0318) 		delay_us(10);
    008C0 E00A      LDI	R16,0xA
    008C1 E010      LDI	R17,0
    008C2 940E 0551 CALL	_delay_us
(0319) 		return date_cmd_1();
    008C4 DF9F      RCALL	_date_cmd_1
    008C5 C019      RJMP	0x08DF
(0320)     }else  if(y==2){
    008C6 3062      CPI	R22,2
    008C7 F451      BNE	0x08D2
(0321)     	lcd_wcmd_2(0x80 + x);
    008C8 2F04      MOV	R16,R20
    008C9 5800      SUBI	R16,0x80
    008CA DE3A      RCALL	_lcd_wcmd_2
(0322) 		delay_us(10);
    008CB E00A      LDI	R16,0xA
    008CC E010      LDI	R17,0
    008CD 940E 0551 CALL	_delay_us
(0323) 		return date_cmd_2();
    008CF DFB8      RCALL	_date_cmd_2
    008D0 2EA0      MOV	R10,R16
    008D1 C00D      RJMP	0x08DF
(0324)     }else  if(y==3){
    008D2 3063      CPI	R22,3
    008D3 F451      BNE	0x08DE
(0325)     	lcd_wcmd_2(0x90 + x);
    008D4 2F04      MOV	R16,R20
    008D5 5700      SUBI	R16,0x70
    008D6 DE2E      RCALL	_lcd_wcmd_2
(0326) 		delay_us(10);
    008D7 E00A      LDI	R16,0xA
    008D8 E010      LDI	R17,0
    008D9 940E 0551 CALL	_delay_us
(0327) 		return date_cmd_2();
    008DB DFAC      RCALL	_date_cmd_2
    008DC 2EA0      MOV	R10,R16
    008DD C001      RJMP	0x08DF
(0328)     }
(0329) 	
(0330) 	return 0x00;
    008DE 2700      CLR	R16
    008DF 940C 3C86 JMP	pop_xgsetF00C
_read_data_1:
  addr                 --> R10
    008E1 92AA      ST	-Y,R10
    008E2 2EA0      MOV	R10,R16
(0331) }
(0332) uchar read_data_1(unsigned char addr){
(0333) 	
(0334)     	lcd_wcmd_1(addr);
    008E3 2D0A      MOV	R16,R10
    008E4 DDA8      RCALL	_lcd_wcmd_1
(0335)     	return date_cmd_1();
    008E5 DF7E      RCALL	_date_cmd_1
    008E6 90A9      LD	R10,Y+
    008E7 9508      RET
_read_data_2:
  addr                 --> R10
    008E8 92AA      ST	-Y,R10
    008E9 2EA0      MOV	R10,R16
(0336) }
(0337) uchar read_data_2(unsigned char addr){
(0338)     	lcd_wcmd_1(addr);
    008EA 2D0A      MOV	R16,R10
    008EB DDA1      RCALL	_lcd_wcmd_1
(0339) 		return date_cmd_2();
    008EC DF9B      RCALL	_date_cmd_2
    008ED 90A9      LD	R10,Y+
    008EE 9508      RET
(0340) }
(0341) 
(0342) 
(0343) /*初始化功能*/
(0344) void lcd_init(void){
(0345) 	 //初始化端口功能
(0346) 	 DDRA |=0xFF;
_lcd_init:
    008EF B38A      IN	R24,0x1A
    008F0 6F8F      ORI	R24,0xFF
    008F1 BB8A      OUT	0x1A,R24
(0347) 	 PORTA=0xFF;
    008F2 EF8F      LDI	R24,0xFF
    008F3 BB8B      OUT	0x1B,R24
(0348) 	 DDRG |=0x0F;
    008F4 9180 0064 LDS	R24,0x64
    008F6 608F      ORI	R24,0xF
    008F7 9380 0064 STS	0x64,R24
(0349) 	 PORTG|=0x0F;
    008F9 9180 0065 LDS	R24,0x65
    008FB 608F      ORI	R24,0xF
    008FC 9380 0065 STS	0x65,R24
(0350) 	 DDRF|=0x01;
    008FE 9180 0061 LDS	R24,0x61
    00900 6081      ORI	R24,1
    00901 9380 0061 STS	0x61,R24
(0351) 	 PORTF|=0x01;
    00903 9180 0062 LDS	R24,0x62
    00905 6081      ORI	R24,1
    00906 9380 0062 STS	0x62,R24
(0352) 	 //lcd_wcmd(0x38);//初始化功能,8位，基本指令
(0353) 	 lcd_wcmd_1(0x30);//初始化功能,8位，基本指令
    00908 E300      LDI	R16,0x30
    00909 DD83      RCALL	_lcd_wcmd_1
(0354) 	  lcd_wcmd_1(0x08);//关显示
    0090A E008      LDI	R16,0x8
    0090B DD81      RCALL	_lcd_wcmd_1
(0355) 	  lcd_wcmd_1(0x01);//清显示
    0090C E001      LDI	R16,1
    0090D DD7F      RCALL	_lcd_wcmd_1
(0356) 	  lcd_wcmd_1(0x06);//输入模式，右移
    0090E E006      LDI	R16,6
    0090F DD7D      RCALL	_lcd_wcmd_1
(0357) 	  lcd_wcmd_1(0x0c);//初始化光标,开显示
    00910 E00C      LDI	R16,0xC
    00911 DD7B      RCALL	_lcd_wcmd_1
(0358) 	
(0359) 	  lcd_wcmd_2(0x30);//初始化功能,8位，基本指令
    00912 E300      LDI	R16,0x30
    00913 DDF1      RCALL	_lcd_wcmd_2
(0360) 	 lcd_wcmd_2(0x08);//关显示
    00914 E008      LDI	R16,0x8
    00915 DDEF      RCALL	_lcd_wcmd_2
(0361) 	 lcd_wcmd_2(0x01);//清显示
    00916 E001      LDI	R16,1
    00917 DDED      RCALL	_lcd_wcmd_2
(0362) 	 lcd_wcmd_2(0x06);//输入模式，右移
    00918 E006      LDI	R16,6
    00919 DDEB      RCALL	_lcd_wcmd_2
(0363) 	 lcd_wcmd_2(0x0c);//初始化光标,开显示
    0091A E00C      LDI	R16,0xC
    0091B CDE9      RJMP	_lcd_wcmd_2
_cur_set:
  type                 --> R20
    0091C 934A      ST	-Y,R20
    0091D 935A      ST	-Y,R21
    0091E 01A8      MOVW	R20,R16
(0364) }
(0365) //************
(0366) // 光标显示操作,默认初始化都是关闭。上半屏 0:关闭,1：开游标,2：游标反白,3：开游标、反白
(0367) // 下半屏  4:关闭,5：开游标,6：游标反白,7：开游标、反白
(0368) //************
(0369) void cur_set(uint type){
(0370) 	 if(type==0){
    0091F 3040      CPI	R20,0
    00920 0745      CPC	R20,R21
    00921 F419      BNE	0x0925
(0371) 	 	lcd_wcmd_1(0x0c);	 
    00922 E00C      LDI	R16,0xC
    00923 DD69      RCALL	_lcd_wcmd_1
(0372) 	 }else if(type==1){
    00924 C030      RJMP	0x0955
    00925 3041      CPI	R20,1
    00926 E0E0      LDI	R30,0
    00927 075E      CPC	R21,R30
    00928 F419      BNE	0x092C
(0373) 	     lcd_wcmd_1(0x0e);
    00929 E00E      LDI	R16,0xE
    0092A DD62      RCALL	_lcd_wcmd_1
(0374) 	 }else if(type==2){
    0092B C029      RJMP	0x0955
    0092C 3042      CPI	R20,2
    0092D E0E0      LDI	R30,0
    0092E 075E      CPC	R21,R30
    0092F F419      BNE	0x0933
(0375) 	    lcd_wcmd_1(0x0d);
    00930 E00D      LDI	R16,0xD
    00931 DD5B      RCALL	_lcd_wcmd_1
(0376) 	 }else if(type==3){
    00932 C022      RJMP	0x0955
    00933 3043      CPI	R20,3
    00934 E0E0      LDI	R30,0
    00935 075E      CPC	R21,R30
    00936 F419      BNE	0x093A
(0377) 	    lcd_wcmd_1(0x0f);
    00937 E00F      LDI	R16,0xF
    00938 DD54      RCALL	_lcd_wcmd_1
(0378) 	 }else if(type==4){
    00939 C01B      RJMP	0x0955
    0093A 3044      CPI	R20,4
    0093B E0E0      LDI	R30,0
    0093C 075E      CPC	R21,R30
    0093D F419      BNE	0x0941
(0379) 	    lcd_wcmd_2(0x0c);
    0093E E00C      LDI	R16,0xC
    0093F DDC5      RCALL	_lcd_wcmd_2
(0380) 	 }else if(type==5){
    00940 C014      RJMP	0x0955
    00941 3045      CPI	R20,5
    00942 E0E0      LDI	R30,0
    00943 075E      CPC	R21,R30
    00944 F419      BNE	0x0948
(0381) 	    lcd_wcmd_2(0x0e);
    00945 E00E      LDI	R16,0xE
    00946 DDBE      RCALL	_lcd_wcmd_2
(0382) 	 }else if(type==6){
    00947 C00D      RJMP	0x0955
    00948 3046      CPI	R20,6
    00949 E0E0      LDI	R30,0
    0094A 075E      CPC	R21,R30
    0094B F419      BNE	0x094F
(0383) 	    lcd_wcmd_2(0x0d);
    0094C E00D      LDI	R16,0xD
    0094D DDB7      RCALL	_lcd_wcmd_2
(0384) 	 }else if(type==7){
    0094E C006      RJMP	0x0955
    0094F 3047      CPI	R20,7
    00950 E0E0      LDI	R30,0
    00951 075E      CPC	R21,R30
    00952 F411      BNE	0x0955
(0385) 	    lcd_wcmd_2(0x0f);
    00953 E00F      LDI	R16,0xF
    00954 DDB0      RCALL	_lcd_wcmd_2
(0386) 	 }
    00955 9159      LD	R21,Y+
    00956 9149      LD	R20,Y+
    00957 9508      RET
(0387) }
(0388) //***************************************************
(0389) //   反白相关
(0390) //***************************************************
(0391) /********************************************************************  
(0392)     函 数 名：Set_Draw(  
(0393)     入口参数：无  
(0394)     出口参数：无  
(0395)     修改日期：  
(0396)     函数作用：  
(0397)     说    明：  
(0398)     ********************************************************************/   
(0399)     void Set_Draw(void)   
(0400)     {   
(0401)         //W_1byte(0,0,0x01);            //清屏    
(0402)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0403)         lcd_wcmd_1(0x36); 
_Set_Draw:
    00958 E306      LDI	R16,0x36
    00959 DD33      RCALL	_lcd_wcmd_1
(0404) 		lcd_wcmd_2(0x36);   
    0095A E306      LDI	R16,0x36
    0095B CDA9      RJMP	_lcd_wcmd_2
(0405)     }
(0406) 	void Set_UNDraw(void)   
(0407)     {   
(0408)         //W_1byte(0,0,0x01);            //清屏   
(0409)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0410)         lcd_wcmd_1(0x30); 
_Set_UNDraw:
    0095C E300      LDI	R16,0x30
    0095D DD2F      RCALL	_lcd_wcmd_1
(0411) 		lcd_wcmd_2(0x30);   
    0095E E300      LDI	R16,0x30
    0095F CDA5      RJMP	_lcd_wcmd_2
_Set_White_off:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    00960 940E 3BDF CALL	push_arg4
    00962 940E 3C60 CALL	push_xgsetF0FC
    00964 2F62      MOV	R22,R18
    00965 9721      SBIW	R28,1
    00966 84AF      LDD	R10,Y+15
(0412)     }
(0413) /**************************************************  
(0414)     uchar x,起始位置
(0415) 	uchar y,对应y
(0416) 	uchar end_x, 反白结束位置
(0417) 	uchar clear 0：反白，1：不反白
(0418)  **************************************************/   
(0419)     void Set_White_off(uchar x,uchar y,uchar end_x)   
(0420)     {   
(0421)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0422)         white_end_x = (end_x-x+1);   
    00967 2D8A      MOV	R24,R10
    00968 840B      LDD	R0,Y+11
    00969 1980      SUB	R24,R0
    0096A 5F8F      SUBI	R24,0xFF
    0096B 2EC8      MOV	R12,R24
(0423)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    0096C 0CCC      LSL	R12
(0424) 		Set_Draw(); //开画图
    0096D DFEA      RCALL	_Set_Draw
(0425)         if(y==0)   
    0096E 2366      TST	R22
    0096F F449      BNE	0x0979
(0426)         {   
(0427)             white_x = (0x80+x-1);   
    00970 858B      LDD	R24,Y+11
    00971 5880      SUBI	R24,0x80
    00972 5081      SUBI	R24,1
    00973 8388      ST	Y,R24
(0428)             white_y = 0x80;   
    00974 E840      LDI	R20,0x80
(0429)             clr_x = 0x80;   
    00975 E880      LDI	R24,0x80
    00976 2EA8      MOV	R10,R24
(0430)             clr_y = 0x80;   
    00977 2EE8      MOV	R14,R24
(0431)         }   
    00978 C022      RJMP	0x099B
(0432)         else if(y==1)   
    00979 3061      CPI	R22,1
    0097A F451      BNE	0x0985
(0433)         {   
(0434)             white_x = (0x80+x-1);   
    0097B 858B      LDD	R24,Y+11
    0097C 5880      SUBI	R24,0x80
    0097D 5081      SUBI	R24,1
    0097E 8388      ST	Y,R24
(0435)             white_y = 0x90;   
    0097F E940      LDI	R20,0x90
(0436)             clr_x = 0x80;   
    00980 E880      LDI	R24,0x80
    00981 2EA8      MOV	R10,R24
(0437)             clr_y = 0x90;   
    00982 E980      LDI	R24,0x90
    00983 2EE8      MOV	R14,R24
(0438)         }   
    00984 C016      RJMP	0x099B
(0439)         else if(y==2)   
    00985 3062      CPI	R22,2
    00986 F449      BNE	0x0990
(0440)         {   
(0441)             white_x = (0x80+x-1);   
    00987 858B      LDD	R24,Y+11
    00988 5880      SUBI	R24,0x80
    00989 5081      SUBI	R24,1
    0098A 8388      ST	Y,R24
(0442)             white_y = 0x80;   
    0098B E840      LDI	R20,0x80
(0443)             clr_x = 0x80;   
    0098C E880      LDI	R24,0x80
    0098D 2EA8      MOV	R10,R24
(0444)             clr_y = 0x80;   
    0098E 2EE8      MOV	R14,R24
(0445)         }   
    0098F C00B      RJMP	0x099B
(0446)         else if(y==3)   
    00990 3063      CPI	R22,3
    00991 F449      BNE	0x099B
(0447)         {   
(0448)             white_x = (0x80+x-1);   
    00992 858B      LDD	R24,Y+11
    00993 5880      SUBI	R24,0x80
    00994 5081      SUBI	R24,1
    00995 8388      ST	Y,R24
(0449)             white_y = 0x90;   
    00996 E940      LDI	R20,0x90
(0450)             clr_x = 0x80;   
    00997 E880      LDI	R24,0x80
    00998 2EA8      MOV	R10,R24
(0451)             clr_y = 0x90;   
    00999 E980      LDI	R24,0x90
    0099A 2EE8      MOV	R14,R24
(0452)         }   
(0453) 		if(y==0 || y==1){    
    0099B 2366      TST	R22
    0099C F011      BEQ	0x099F
    0099D 3061      CPI	R22,1
    0099E F4A1      BNE	0x09B3
(0454)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    0099F 24AA      CLR	R10
    009A0 C00E      RJMP	0x09AF
(0455)           {   
(0456)              lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    009A1 2E24      MOV	R2,R20
    009A2 5F4F      SUBI	R20,0xFF
    009A3 2D02      MOV	R16,R2
    009A4 DCE8      RCALL	_lcd_wcmd_1
(0457)              lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    009A5 8108      LD	R16,Y
    009A6 DCE6      RCALL	_lcd_wcmd_1
(0458)              for(j=0;j<white_end_x;j++)   //   
    009A7 24EE      CLR	R14
    009A8 C003      RJMP	0x09AC
(0459)              {     
(0460)                lcd_wdat_1(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    009A9 2700      CLR	R16
    009AA DD08      RCALL	_lcd_wdat_1
    009AB 94E3      INC	R14
    009AC 14EC      CP	R14,R12
    009AD F3D8      BCS	0x09A9
    009AE 94A3      INC	R10
    009AF 2D8A      MOV	R24,R10
    009B0 3180      CPI	R24,0x10
    009B1 F378      BCS	0x09A1
(0461)              }   
(0462)           }
(0463) 		}else if(y==2 || y==3){
    009B2 C017      RJMP	0x09CA
    009B3 3062      CPI	R22,2
    009B4 F011      BEQ	0x09B7
    009B5 3063      CPI	R22,3
    009B6 F499      BNE	0x09CA
(0464) 		    for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    009B7 24AA      CLR	R10
    009B8 C00E      RJMP	0x09C7
(0465)           {   
(0466)              lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    009B9 2E24      MOV	R2,R20
    009BA 5F4F      SUBI	R20,0xFF
    009BB 2D02      MOV	R16,R2
    009BC DD48      RCALL	_lcd_wcmd_2
(0467)              lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    009BD 8108      LD	R16,Y
    009BE DD46      RCALL	_lcd_wcmd_2
(0468)              for(j=0;j<white_end_x;j++)   //   
    009BF 24EE      CLR	R14
    009C0 C003      RJMP	0x09C4
(0469)              {     
(0470)                lcd_wdat_2(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    009C1 2700      CLR	R16
    009C2 DD68      RCALL	_lcd_wdat_2
    009C3 94E3      INC	R14
    009C4 14EC      CP	R14,R12
    009C5 F3D8      BCS	0x09C1
    009C6 94A3      INC	R10
    009C7 2D8A      MOV	R24,R10
    009C8 3180      CPI	R24,0x10
    009C9 F378      BCS	0x09B9
(0471)              }   
(0472)           }
(0473) 		}
(0474) 		  Set_UNDraw();//关画图  
    009CA DF91      RCALL	_Set_UNDraw
    009CB 9621      ADIW	R28,1
    009CC 940E 3C55 CALL	pop_xgsetF0FC
    009CE 9624      ADIW	R28,4
    009CF 9508      RET
_Set_White:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    009D0 940E 3BDF CALL	push_arg4
    009D2 940E 3C60 CALL	push_xgsetF0FC
    009D4 2F62      MOV	R22,R18
    009D5 9721      SBIW	R28,1
    009D6 84AF      LDD	R10,Y+15
(0475)     } 
(0476) 	void Set_White(uchar x,uchar y,uchar end_x)   
(0477)     {   
(0478)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0479)         white_end_x = (end_x-x+1);   
    009D7 2D8A      MOV	R24,R10
    009D8 840B      LDD	R0,Y+11
    009D9 1980      SUB	R24,R0
    009DA 5F8F      SUBI	R24,0xFF
    009DB 2EC8      MOV	R12,R24
(0480)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    009DC 0CCC      LSL	R12
(0481) 		Set_Draw(); //开画图
    009DD DF7A      RCALL	_Set_Draw
(0482)         if(y==0)   
    009DE 2366      TST	R22
    009DF F449      BNE	0x09E9
(0483)         {   
(0484)             white_x = (0x80+x-1);   
    009E0 858B      LDD	R24,Y+11
    009E1 5880      SUBI	R24,0x80
    009E2 5081      SUBI	R24,1
    009E3 8388      ST	Y,R24
(0485)             white_y = 0x80;   
    009E4 E840      LDI	R20,0x80
(0486)             clr_x = 0x80;   
    009E5 E880      LDI	R24,0x80
    009E6 2EA8      MOV	R10,R24
(0487)             clr_y = 0x80;   
    009E7 2EE8      MOV	R14,R24
(0488)         }   
    009E8 C022      RJMP	0x0A0B
(0489)         else if(y==1)   
    009E9 3061      CPI	R22,1
    009EA F451      BNE	0x09F5
(0490)         {   
(0491)             white_x = (0x80+x-1);   
    009EB 858B      LDD	R24,Y+11
    009EC 5880      SUBI	R24,0x80
    009ED 5081      SUBI	R24,1
    009EE 8388      ST	Y,R24
(0492)             white_y = 0x90;   
    009EF E940      LDI	R20,0x90
(0493)             clr_x = 0x80;   
    009F0 E880      LDI	R24,0x80
    009F1 2EA8      MOV	R10,R24
(0494)             clr_y = 0x90;   
    009F2 E980      LDI	R24,0x90
    009F3 2EE8      MOV	R14,R24
(0495)         }   
    009F4 C016      RJMP	0x0A0B
(0496)         else if(y==2)   
    009F5 3062      CPI	R22,2
    009F6 F449      BNE	0x0A00
(0497)         {   
(0498)             white_x = (0x80+x-1);   
    009F7 858B      LDD	R24,Y+11
    009F8 5880      SUBI	R24,0x80
    009F9 5081      SUBI	R24,1
    009FA 8388      ST	Y,R24
(0499)             white_y = 0x80;   
    009FB E840      LDI	R20,0x80
(0500)             clr_x = 0x80;   
    009FC E880      LDI	R24,0x80
    009FD 2EA8      MOV	R10,R24
(0501)             clr_y = 0x80;   
    009FE 2EE8      MOV	R14,R24
(0502)         }   
    009FF C00B      RJMP	0x0A0B
(0503)         else if(y==3)   
    00A00 3063      CPI	R22,3
    00A01 F449      BNE	0x0A0B
(0504)         {   
(0505)             white_x = (0x80+x-1);   
    00A02 858B      LDD	R24,Y+11
    00A03 5880      SUBI	R24,0x80
    00A04 5081      SUBI	R24,1
    00A05 8388      ST	Y,R24
(0506)             white_y = 0x90;   
    00A06 E940      LDI	R20,0x90
(0507)             clr_x = 0x80;   
    00A07 E880      LDI	R24,0x80
    00A08 2EA8      MOV	R10,R24
(0508)             clr_y = 0x90;   
    00A09 E980      LDI	R24,0x90
    00A0A 2EE8      MOV	R14,R24
(0509)         } 
(0510) 		if(y==0 || y==1){          
    00A0B 2366      TST	R22
    00A0C F011      BEQ	0x0A0F
    00A0D 3061      CPI	R22,1
    00A0E F4A1      BNE	0x0A23
(0511)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00A0F 24AA      CLR	R10
    00A10 C00E      RJMP	0x0A1F
(0512)           {   
(0513)               lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    00A11 2E24      MOV	R2,R20
    00A12 5F4F      SUBI	R20,0xFF
    00A13 2D02      MOV	R16,R2
    00A14 DC78      RCALL	_lcd_wcmd_1
(0514)               lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    00A15 8108      LD	R16,Y
    00A16 DC76      RCALL	_lcd_wcmd_1
(0515)               for(j=0;j<white_end_x;j++)   //   
    00A17 24EE      CLR	R14
    00A18 C003      RJMP	0x0A1C
(0516)               {    
(0517)                     lcd_wdat_1(0xff); //反白这一行的8个点，液晶地址自动加1     
    00A19 EF0F      LDI	R16,0xFF
    00A1A DC98      RCALL	_lcd_wdat_1
    00A1B 94E3      INC	R14
    00A1C 14EC      CP	R14,R12
    00A1D F3D8      BCS	0x0A19
    00A1E 94A3      INC	R10
    00A1F 2D8A      MOV	R24,R10
    00A20 3180      CPI	R24,0x10
    00A21 F378      BCS	0x0A11
(0518)               }   
(0519)           }
(0520) 		}else if(y==2 || y==3){
    00A22 C017      RJMP	0x0A3A
    00A23 3062      CPI	R22,2
    00A24 F011      BEQ	0x0A27
    00A25 3063      CPI	R22,3
    00A26 F499      BNE	0x0A3A
(0521) 		   for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00A27 24AA      CLR	R10
    00A28 C00E      RJMP	0x0A37
(0522)             {   
(0523)               lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    00A29 2E24      MOV	R2,R20
    00A2A 5F4F      SUBI	R20,0xFF
    00A2B 2D02      MOV	R16,R2
    00A2C DCD8      RCALL	_lcd_wcmd_2
(0524)               lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    00A2D 8108      LD	R16,Y
    00A2E DCD6      RCALL	_lcd_wcmd_2
(0525)               for(j=0;j<white_end_x;j++)   //   
    00A2F 24EE      CLR	R14
    00A30 C003      RJMP	0x0A34
(0526)               {    
(0527)                     lcd_wdat_2(0xff); //反白这一行的8个点，液晶地址自动加1     
    00A31 EF0F      LDI	R16,0xFF
    00A32 DCF8      RCALL	_lcd_wdat_2
    00A33 94E3      INC	R14
    00A34 14EC      CP	R14,R12
    00A35 F3D8      BCS	0x0A31
    00A36 94A3      INC	R10
    00A37 2D8A      MOV	R24,R10
    00A38 3180      CPI	R24,0x10
    00A39 F378      BCS	0x0A29
(0528)               }   
(0529)             }
(0530) 		}
(0531) 		  Set_UNDraw();//关画图  
    00A3A DF21      RCALL	_Set_UNDraw
    00A3B 9621      ADIW	R28,1
    00A3C 940E 3C55 CALL	pop_xgsetF0FC
    00A3E 9624      ADIW	R28,4
    00A3F 9508      RET
_Draw_Pic:
  temp_y               --> R20
  temp_x               --> R22
  i                    --> R10
  j                    --> R14
  Draw                 --> Y,+12
  y                    --> Y,+10
  x                    --> R12
    00A40 933A      ST	-Y,R19
    00A41 932A      ST	-Y,R18
    00A42 940E 3C60 CALL	push_xgsetF0FC
    00A44 2EC0      MOV	R12,R16
(0532)     } 
(0533) 	/********************************************************************  
(0534)     函 数 名：Draw_Pic  128*64  
(0535)     入口参数：x,y,*Draw  
(0536)     出口参数：无  
(0537)     建立日期：2007年8月26日  
(0538)     修改日期：  
(0539)     函数作用：  
(0540)     说    明：  
(0541)     ********************************************************************/   
(0542)     /*************************************************/   
(0543)        
(0544)     void Draw_Pic(uchar x, uchar y, const uchar *Draw)   
(0545)     {   
(0546)         uchar i, j, temp_x, temp_y;     //   
(0547) 		lcd_wcmd_1(0x34);
    00A45 E304      LDI	R16,0x34
    00A46 DC46      RCALL	_lcd_wcmd_1
(0548) 		lcd_wcmd_2(0x34);
    00A47 E304      LDI	R16,0x34
    00A48 DCBC      RCALL	_lcd_wcmd_2
(0549)         temp_x = x;                     //   
    00A49 2D6C      MOV	R22,R12
(0550)         temp_y = y;                     //   
    00A4A 854A      LDD	R20,Y+10
(0551)         temp_x |= 0x80;                 //   
    00A4B 6860      ORI	R22,0x80
(0552)         temp_y |= 0x80;                 //   
    00A4C 6840      ORI	R20,0x80
(0553)         for(i=0;i<32;i++ )               //上半屏32行   
    00A4D 24AA      CLR	R10
    00A4E C013      RJMP	0x0A62
(0554)         {   
(0555)             lcd_wcmd_1(temp_y++);      //设置绘图区的Y地址坐标0   
    00A4F 2E24      MOV	R2,R20
    00A50 5F4F      SUBI	R20,0xFF
    00A51 2D02      MOV	R16,R2
    00A52 DC3A      RCALL	_lcd_wcmd_1
(0556)             lcd_wcmd_1(temp_x);        //设置绘图区的X地址坐标0   
    00A53 2F06      MOV	R16,R22
    00A54 DC38      RCALL	_lcd_wcmd_1
(0557)             for(j=0;j<24;j++)            //   
    00A55 24EE      CLR	R14
    00A56 C007      RJMP	0x0A5E
(0558)             {   
(0559)                  lcd_wdat_1(*Draw++);  //   
    00A57 85EC      LDD	R30,Y+12
    00A58 85FD      LDD	R31,Y+13
    00A59 9101      LD	R16,Z+
    00A5A 87FD      STD	Y+13,R31
    00A5B 87EC      STD	Y+12,R30
    00A5C DC56      RCALL	_lcd_wdat_1
    00A5D 94E3      INC	R14
    00A5E 2D8E      MOV	R24,R14
    00A5F 3188      CPI	R24,0x18
    00A60 F3B0      BCS	0x0A57
    00A61 94A3      INC	R10
    00A62 2D8A      MOV	R24,R10
    00A63 3280      CPI	R24,0x20
    00A64 F350      BCS	0x0A4F
(0560)             }   
(0561)         }   
(0562)            
(0563)         temp_x = x;                     //   
    00A65 2D6C      MOV	R22,R12
(0564)         temp_y = y;                     //   
    00A66 854A      LDD	R20,Y+10
(0565)         temp_x |= 0x80;                 //   
    00A67 6860      ORI	R22,0x80
(0566)         temp_y |= 0x80;                   //   
    00A68 6840      ORI	R20,0x80
(0567)         j = 0;                          //   
    00A69 24EE      CLR	R14
(0568)         for(;i<64;i++ )   
    00A6A C013      RJMP	0x0A7E
(0569)         {   
(0570)             lcd_wcmd_2(temp_y++);      //设置绘图区的Y地址坐标   
    00A6B 2E24      MOV	R2,R20
    00A6C 5F4F      SUBI	R20,0xFF
    00A6D 2D02      MOV	R16,R2
    00A6E DC96      RCALL	_lcd_wcmd_2
(0571)             lcd_wcmd_2(temp_x);        //设置绘图区的X地址坐标   
    00A6F 2F06      MOV	R16,R22
    00A70 DC94      RCALL	_lcd_wcmd_2
(0572)             for(j=0;j<24;j++)   
    00A71 24EE      CLR	R14
    00A72 C007      RJMP	0x0A7A
(0573)             {   
(0574)                  lcd_wdat_2(*Draw++);  //   
    00A73 85EC      LDD	R30,Y+12
    00A74 85FD      LDD	R31,Y+13
    00A75 9101      LD	R16,Z+
    00A76 87FD      STD	Y+13,R31
    00A77 87EC      STD	Y+12,R30
    00A78 DCB2      RCALL	_lcd_wdat_2
    00A79 94E3      INC	R14
    00A7A 2D8E      MOV	R24,R14
    00A7B 3188      CPI	R24,0x18
    00A7C F3B0      BCS	0x0A73
    00A7D 94A3      INC	R10
    00A7E 2D8A      MOV	R24,R10
    00A7F 3480      CPI	R24,0x40
    00A80 F350      BCS	0x0A6B
(0575)             }   
(0576)         }   
(0577)        lcd_wcmd_1(0x36);
    00A81 E306      LDI	R16,0x36
    00A82 DC0A      RCALL	_lcd_wcmd_1
(0578) 	   lcd_wcmd_2(0x36);
    00A83 E306      LDI	R16,0x36
    00A84 DC80      RCALL	_lcd_wcmd_2
(0579) 	   delay_us(1);
    00A85 E001      LDI	R16,1
    00A86 E010      LDI	R17,0
    00A87 940E 0551 CALL	_delay_us
(0580) 	   lcd_wcmd_1(0x30);
    00A89 E300      LDI	R16,0x30
    00A8A DC02      RCALL	_lcd_wcmd_1
(0581) 	   lcd_wcmd_2(0x30);
    00A8B E300      LDI	R16,0x30
    00A8C DC78      RCALL	_lcd_wcmd_2
    00A8D 940E 3C55 CALL	pop_xgsetF0FC
    00A8F 9622      ADIW	R28,2
    00A90 9508      RET
_lcd_Desk:
    00A91 9722      SBIW	R28,2
(0582) 	        
(0583)     }  
(0584)     /*************************************************/  
(0585) //***********************************************************************
(0586) //      液晶显示界面初始化
(0587) //***********************************************************************
(0588) void lcd_Desk(void)
(0589) { 
(0590)   //uint i=0;   
(0591)  // lcd_clear();
(0592)   //lcd_write_str(0,0,"ADC0:");
(0593)   lcd_write_str(0,3,"反白测试第一次");
    00A92 E081      LDI	R24,1
    00A93 E091      LDI	R25,1
    00A94 8399      STD	Y+1,R25
    00A95 8388      ST	Y,R24
    00A96 E023      LDI	R18,3
    00A97 2700      CLR	R16
    00A98 DD12      RCALL	_lcd_write_str
(0594)   lcd_write_str(0,0,"反白测试第一次");
    00A99 E081      LDI	R24,1
    00A9A E091      LDI	R25,1
    00A9B 8399      STD	Y+1,R25
    00A9C 8388      ST	Y,R24
    00A9D 2722      CLR	R18
    00A9E 2700      CLR	R16
    00A9F DD0B      RCALL	_lcd_write_str
(0595)   //delay_ms(100);
(0596)      
(0597)     Set_White(1,1,7); 
    00AA0 E087      LDI	R24,7
    00AA1 8388      ST	Y,R24
    00AA2 E021      LDI	R18,1
    00AA3 E001      LDI	R16,1
    00AA4 DF2B      RCALL	_Set_White
(0598) 	   
(0599) 	 
(0600)     delay_ms(3000); 
    00AA5 EB08      LDI	R16,0xB8
    00AA6 E01B      LDI	R17,0xB
    00AA7 940E 055B CALL	_delay_ms
(0601)      Set_White_off(1,1,7);
    00AA9 E087      LDI	R24,7
    00AAA 8388      ST	Y,R24
    00AAB E021      LDI	R18,1
    00AAC E001      LDI	R16,1
    00AAD DEB2      RCALL	_Set_White_off
(0602) 	Set_White(2,1,2); 
    00AAE E082      LDI	R24,2
    00AAF 8388      ST	Y,R24
    00AB0 E021      LDI	R18,1
    00AB1 E002      LDI	R16,2
    00AB2 DF1D      RCALL	_Set_White
(0603) 	 delay_ms(300); 
    00AB3 E20C      LDI	R16,0x2C
    00AB4 E011      LDI	R17,1
    00AB5 940E 055B CALL	_delay_ms
(0604) 	 Set_White_off(2,2,7);
    00AB7 E087      LDI	R24,7
    00AB8 8388      ST	Y,R24
    00AB9 E022      LDI	R18,2
    00ABA E002      LDI	R16,2
    00ABB DEA4      RCALL	_Set_White_off
(0605) 	 Set_White(3,1,5);   
    00ABC E085      LDI	R24,5
    00ABD 8388      ST	Y,R24
    00ABE E021      LDI	R18,1
    00ABF E003      LDI	R16,3
    00AC0 DF0F      RCALL	_Set_White
    00AC1 9622      ADIW	R28,2
    00AC2 9508      RET
_main:
    00AC3 9721      SBIW	R28,1
FILE: E:\ICCDemo\Temp_Control\temp_control\main.c
(0001) #include<iom128v.h>
(0002) #include "main.h"
(0003) #include "lcd.h"
(0004) #include "time1307.h"
(0005) #include "key.h"
(0006) #include "delay.h"
(0007) #include "timertask.h"
(0008) #include "eeprom.h"
(0009) #include "pages.h"
(0010) #include "temp.h"
(0011) #include "uart.h"
(0012) //串口接收数据需要
(0013) unsigned int read_data_cache[132]={0};
(0014) unsigned int read_data_cur=0;
(0015) unsigned char read_data_cmd='z';//字母表示。如果是z表示空指令
(0016) //串口发送数据需要
(0017) unsigned int send_data_cache[135]={0x30};
(0018) unsigned int send_data_length=0;//数据长度
(0019) unsigned int send_data_cur=0;//当前发送到游标
(0020) //定时器0复用参数。t0_fla0=0，开机等待；t0_fla0=1，温度计时
(0021) unsigned int t0_flag =0;
(0022) //const unsigned char nihao[1536]={};
(0023) //确认恢复的等待标记，初始为1000，如果为0代表到时.在使用其当作温度计数的时候需要值为32
(0024) unsigned int waitflag=1000;
(0025) //下面两个继续使用。暂时保存数据使用
(0026)  unsigned int temp_h=0;
(0027)  unsigned int temp_l=0;
(0028)  //界面需要参数
(0029)  unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0030)  unsigned int pageParam[5];//传递参数。界面间参数暂存
(0031)  unsigned int prePageNum; //上一界面。应该在跳转前设置这个参数。但是用到这个参数的就Page3、4、8.所以可以直接在该界面用到在设置。不用理会规则
(0032)  //**************
(0033) struct temp temps[4]={{0},{0},{0},{0}};
(0034) 
(0035) 
(0036) //*************************************************************************
(0037) //			主程序
(0038) //*************************************************************************
(0039) void main(void)
(0040) { 
(0041)   send_data_cache[0]=0x30;
    00AC4 E380      LDI	R24,0x30
    00AC5 E090      LDI	R25,0
    00AC6 9390 021C STS	send_data_cache+1,R25
    00AC8 9380 021B STS	send_data_cache,R24
(0042)   send_data_cache[1]=0x31;
    00ACA E381      LDI	R24,0x31
    00ACB 9390 021E STS	send_data_cache+3,R25
    00ACD 9380 021D STS	send_data_cache+2,R24
(0043)   send_data_cache[2]=0x32;
    00ACF E382      LDI	R24,0x32
    00AD0 9390 0220 STS	send_data_cache+5,R25
    00AD2 9380 021F STS	send_data_cache+4,R24
(0044)   send_data_cache[3]=0x33;
    00AD4 E383      LDI	R24,0x33
    00AD5 9390 0222 STS	send_data_cache+7,R25
    00AD7 9380 0221 STS	send_data_cache+6,R24
(0045)   send_data_cache[4]=0x34;
    00AD9 E384      LDI	R24,0x34
    00ADA 9390 0224 STS	send_data_cache+9,R25
    00ADC 9380 0223 STS	send_data_cache+8,R24
(0046)   send_data_cache[5]=0x35;
    00ADE E385      LDI	R24,0x35
    00ADF 9390 0226 STS	send_data_cache+11,R25
    00AE1 9380 0225 STS	send_data_cache+10,R24
(0047)   send_data_cache[6]=0x36;
    00AE3 E386      LDI	R24,0x36
    00AE4 9390 0228 STS	send_data_cache+13,R25
    00AE6 9380 0227 STS	send_data_cache+12,R24
(0048)   send_data_cache[7]=0x37;
    00AE8 E387      LDI	R24,0x37
    00AE9 9390 022A STS	send_data_cache+15,R25
    00AEB 9380 0229 STS	send_data_cache+14,R24
(0049)   send_data_cache[8]=0x38;
    00AED E388      LDI	R24,0x38
    00AEE 9390 022C STS	send_data_cache+17,R25
    00AF0 9380 022B STS	send_data_cache+16,R24
(0050)   send_data_cache[9]=0x39;
    00AF2 E389      LDI	R24,0x39
    00AF3 9390 022E STS	send_data_cache+19,R25
    00AF5 9380 022D STS	send_data_cache+18,R24
(0051)   DDRE=0xFF;
    00AF7 EF8F      LDI	R24,0xFF
    00AF8 B982      OUT	0x02,R24
(0052)   PORTE=~0xaa;
    00AF9 E585      LDI	R24,0x55
    00AFA B983      OUT	0x03,R24
(0053)   SREG|=0x80;//开中断
    00AFB 9478      BSET	7
(0054)   lcd_init();
    00AFC 940E 08EF CALL	_lcd_init
(0055)   lcd_clear();
    00AFE 940E 0862 CALL	_lcd_clear
(0056)    //画欢迎界面
(0057)   //Draw_Pic( 0, 0, nihao);
(0058)    //delay_ms(1000);
(0059)      pageNum=2;
    00B00 E082      LDI	R24,2
    00B01 E090      LDI	R25,0
    00B02 9390 0ACC STS	pageNum+1,R25
    00B04 9380 0ACB STS	pageNum,R24
(0060)      Set_White_off(1,0,12);
    00B06 E08C      LDI	R24,0xC
    00B07 8388      ST	Y,R24
    00B08 2722      CLR	R18
    00B09 E001      LDI	R16,1
    00B0A 940E 0960 CALL	_Set_White_off
(0061) 	 Set_White_off(1,1,12);
    00B0C E08C      LDI	R24,0xC
    00B0D 8388      ST	Y,R24
    00B0E E021      LDI	R18,1
    00B0F E001      LDI	R16,1
    00B10 940E 0960 CALL	_Set_White_off
(0062) 	 Set_White_off(1,2,12);
    00B12 E08C      LDI	R24,0xC
    00B13 8388      ST	Y,R24
    00B14 E022      LDI	R18,2
    00B15 E001      LDI	R16,1
    00B16 940E 0960 CALL	_Set_White_off
(0063) 	 Set_White_off(1,3,12);
    00B18 E08C      LDI	R24,0xC
    00B19 8388      ST	Y,R24
    00B1A E023      LDI	R18,3
    00B1B E001      LDI	R16,1
    00B1C 940E 0960 CALL	_Set_White_off
(0064) 	 //测试使用
(0065) 	   temp_l=0x50;
    00B1E E580      LDI	R24,0x50
    00B1F E090      LDI	R25,0
    00B20 9390 0334 STS	temp_l+1,R25
    00B22 9380 0333 STS	temp_l,R24
(0066)       temp_h=0x12;
    00B24 E182      LDI	R24,0x12
    00B25 9390 0332 STS	temp_h+1,R25
    00B27 9380 0331 STS	temp_h,R24
(0067) 	  tempdata_init();//数据初始化，清空
    00B29 940E 32BA CALL	_tempdata_init
(0068)       Initial_time(); //初始化时间的
    00B2B 940E 3B48 CALL	_Initial_time
(0069) 	  Timerinit_3(0xc0,0x00);//使用16位的定时器3。发送串口数据，刚开始为初始化的时候可能数据都为空
    00B2D 2722      CLR	R18
    00B2E EC00      LDI	R16,0xC0
    00B2F 940E 0B4F CALL	_Timerinit_3
(0070) 	  Timerinit_1(0xFe,0xb8);//使用16位的定时器1来输出
    00B31 EB28      LDI	R18,0xB8
    00B32 EF0E      LDI	R16,0xFE
    00B33 940E 0B40 CALL	_Timerinit_1
(0071) 	  Timerinit_2(0x00);//1s计时模块
    00B35 2700      CLR	R16
    00B36 940E 0B6E CALL	_Timerinit_2
(0072) 	  uart0_init( );//初始化串口
    00B38 940E 114E CALL	_uart0_init
    00B3A C002      RJMP	0x0B3D
(0073) 	 while(1){
(0074)      dispatchPages();
    00B3B 940E 277B CALL	_dispatchPages
    00B3D CFFD      RJMP	0x0B3B
    00B3E 9621      ADIW	R28,1
    00B3F 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\timertask.c
(0001) #include<iom128v.h>
(0002) #include "timertask.h"
(0003) #include "time.h"
(0004) #include "main.h"
(0005) #include "lcd.h"
(0006) #include "delay.h"
(0007) #include "main.h"
(0008) #include "temp.h"
(0009) #include "out.h"
(0010) unsigned int secondflag=64;//8位定时器全计时64次为1s
(0011) unsigned char time_h_1, time_l_1,time_h_3, time_l_3,time_0, time_2,i;
(0012) //************************************************
(0013) //16位定时器，定时器1
(0014) //*************************************************
(0015) /*
(0016)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0017)   自行计算时间传入。传入高低八位
(0018) */
(0019) void Timerinit_1(uchar time_h,uchar time_l){
(0020)     time_h_1=time_h;
_Timerinit_1:
  time_l               --> R18
  time_h               --> R16
    00B40 9300 0AD3 STS	time_h_1,R16
(0021) 	time_l_1=time_l;
    00B42 9320 0AD2 STS	time_l_1,R18
(0022) 	 TCCR1B=0x00;
    00B44 2422      CLR	R2
    00B45 BC2E      OUT	0x2E,R2
(0023) 	//写入初值
(0024)     TCNT1H=time_h;
    00B46 BD0D      OUT	0x2D,R16
(0025)     TCNT1L=time_l;
    00B47 BD2C      OUT	0x2C,R18
(0026) 	//普通计数，1024分频
(0027)     TCCR1A=0x00;
    00B48 BC2F      OUT	0x2F,R2
(0028)     TCCR1B=0x05;
    00B49 E085      LDI	R24,5
    00B4A BD8E      OUT	0x2E,R24
(0029) 	 TIMSK|=0x04;//开定时器1溢出中断,16位的
    00B4B B787      IN	R24,0x37
    00B4C 6084      ORI	R24,4
    00B4D BF87      OUT	0x37,R24
    00B4E 9508      RET
(0030) }
(0031) //************************************************
(0032) //16位定时器，定时器3
(0033) //*************************************************
(0034) /*
(0035)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0036)   自行计算时间传入。传入高低八位
(0037) */
(0038) void Timerinit_3(uchar time_h,uchar time_l){
(0039)  	time_h_3=time_h;
_Timerinit_3:
  time_l               --> R18
  time_h               --> R16
    00B4F 9300 0AD1 STS	time_h_3,R16
(0040) 	time_l_3=time_l;
    00B51 9320 0AD0 STS	time_l_3,R18
(0041) 	//写入初值
(0042) 	 TCCR3B=0x00;
    00B53 2422      CLR	R2
    00B54 9220 008A STS	0x8A,R2
(0043)     TCNT3H=time_h;
    00B56 9300 0089 STS	0x89,R16
(0044)     TCNT3L=time_l;
    00B58 9320 0088 STS	0x88,R18
(0045) 	//普通计数，1024分频
(0046)     TCCR3A=0x00;
    00B5A 9220 008B STS	0x8B,R2
(0047)     TCCR3B=0x05;
    00B5C E085      LDI	R24,5
    00B5D 9380 008A STS	0x8A,R24
(0048) 	ETIMSK |=0x04;//开外部中断
    00B5F 9180 007D LDS	R24,0x7D
    00B61 6084      ORI	R24,4
    00B62 9380 007D STS	0x7D,R24
    00B64 9508      RET
(0049) }
(0050) //************************************************
(0051) //8位定时器，定时器0
(0052) //*************************************************
(0053) 
(0054) /*
(0055)   计数器0，8位的。普通计时，1024分频。
(0056)   自行计算时间传入。
(0057) */
(0058) void Timerinit_0(uchar time){
(0059)     time_0=time;
_Timerinit_0:
  time                 --> R16
    00B65 9300 0ACF STS	time_0,R16
(0060) 	//写入初值
(0061)     TCNT0=time;
    00B67 BF02      OUT	0x32,R16
(0062) 	TIMSK|=0x01;//开定时器0溢出中断,8位的
    00B68 B787      IN	R24,0x37
    00B69 6081      ORI	R24,1
    00B6A BF87      OUT	0x37,R24
(0063) 	 TCCR0=0x07;//普通计数，1024分频
    00B6B E087      LDI	R24,7
    00B6C BF83      OUT	0x33,R24
    00B6D 9508      RET
(0064) 	 
(0065) }
(0066) //************************************************
(0067) //8位定时器，定时器2
(0068) //*************************************************
(0069) /*
(0070)   计数器0，8位的。普通计时，1024分频。
(0071)   自行计算时间传入。
(0072) */
(0073) void Timerinit_2(uchar time){
(0074)     time_2=time;
_Timerinit_2:
  time                 --> R16
    00B6E 9300 0ACE STS	time_2,R16
(0075) 	//写入初值
(0076)     TCNT2=time;
    00B70 BD04      OUT	0x24,R16
(0077) 	TIMSK|=0x40;//开定时器2溢出中断,8位的
    00B71 B787      IN	R24,0x37
    00B72 6480      ORI	R24,0x40
    00B73 BF87      OUT	0x37,R24
(0078) 	//普通计数，1024分频
(0079)     TCCR2=0x05;
    00B74 E085      LDI	R24,5
    00B75 BD85      OUT	0x25,R24
    00B76 9508      RET
_int_timer0:
    00B77 920A      ST	-Y,R0
    00B78 921A      ST	-Y,R1
    00B79 922A      ST	-Y,R2
    00B7A 923A      ST	-Y,R3
    00B7B 924A      ST	-Y,R4
    00B7C 925A      ST	-Y,R5
    00B7D 926A      ST	-Y,R6
    00B7E 927A      ST	-Y,R7
    00B7F 928A      ST	-Y,R8
    00B80 929A      ST	-Y,R9
    00B81 930A      ST	-Y,R16
    00B82 931A      ST	-Y,R17
    00B83 932A      ST	-Y,R18
    00B84 933A      ST	-Y,R19
    00B85 938A      ST	-Y,R24
    00B86 939A      ST	-Y,R25
    00B87 93AA      ST	-Y,R26
    00B88 93BA      ST	-Y,R27
    00B89 93EA      ST	-Y,R30
    00B8A 93FA      ST	-Y,R31
    00B8B B60F      IN	R0,0x3F
    00B8C 920A      ST	-Y,R0
    00B8D 9721      SBIW	R28,1
(0080) }
(0081) #pragma interrupt_handler int_timer0:17
(0082) void int_timer0(void){ 
(0083) 		TCCR0=0x00;
    00B8E 2422      CLR	R2
    00B8F BE23      OUT	0x33,R2
(0084)   if(t0_flag==0){
    00B90 9020 032D LDS	R2,t0_flag
    00B92 9030 032E LDS	R3,t0_flag+1
    00B94 2022      TST	R2
    00B95 F559      BNE	0x0BC1
    00B96 2033      TST	R3
    00B97 F549      BNE	0x0BC1
(0085) 		waitflag--;
    00B98 9180 032F LDS	R24,waitflag
    00B9A 9190 0330 LDS	R25,waitflag+1
    00B9C 9701      SBIW	R24,1
    00B9D 9390 0330 STS	waitflag+1,R25
    00B9F 9380 032F STS	waitflag,R24
(0086) 	    lcd_write_char(10,0,0x30+(waitflag/100));
    00BA1 E624      LDI	R18,0x64
    00BA2 E030      LDI	R19,0
    00BA3 018C      MOVW	R16,R24
    00BA4 940E 3C0B CALL	div16u
    00BA6 01C8      MOVW	R24,R16
    00BA7 96C0      ADIW	R24,0x30
    00BA8 8388      ST	Y,R24
    00BA9 2722      CLR	R18
    00BAA E00A      LDI	R16,0xA
    00BAB 940E 0785 CALL	_lcd_write_char
(0087) 	    lcd_write_char(11,0,'s');	
    00BAD E783      LDI	R24,0x73
    00BAE 8388      ST	Y,R24
    00BAF 2722      CLR	R18
    00BB0 E00B      LDI	R16,0xB
    00BB1 940E 0785 CALL	_lcd_write_char
(0088) 	    if(waitflag>1){
    00BB3 E081      LDI	R24,1
    00BB4 E090      LDI	R25,0
    00BB5 9020 032F LDS	R2,waitflag
    00BB7 9030 0330 LDS	R3,waitflag+1
    00BB9 1582      CP	R24,R2
    00BBA 0593      CPC	R25,R3
    00BBB F4F0      BCC	0x0BDA
(0089) 	      TCNT0=0x00;
    00BBC 2422      CLR	R2
    00BBD BE22      OUT	0x32,R2
(0090) 	      TCCR0=0x07;
    00BBE E087      LDI	R24,7
    00BBF BF83      OUT	0x33,R24
(0091) 	    }
(0092) 	}else{
    00BC0 C019      RJMP	0x0BDA
(0093) 	  waitflag--;
    00BC1 9180 032F LDS	R24,waitflag
    00BC3 9190 0330 LDS	R25,waitflag+1
    00BC5 9701      SBIW	R24,1
    00BC6 9390 0330 STS	waitflag+1,R25
    00BC8 9380 032F STS	waitflag,R24
(0094) 	    if(waitflag==1){
    00BCA 3081      CPI	R24,1
    00BCB E0E0      LDI	R30,0
    00BCC 079E      CPC	R25,R30
    00BCD F441      BNE	0x0BD6
(0095) 		  waitflag=32;
    00BCE E280      LDI	R24,0x20
    00BCF E090      LDI	R25,0
    00BD0 9390 0330 STS	waitflag+1,R25
    00BD2 9380 032F STS	waitflag,R24
(0096) 	      tempcontrol();//执行温度调节
    00BD4 940E 3146 CALL	_tempcontrol
(0097) 	    }
(0098) 	   TCNT0=0x00;
    00BD6 2422      CLR	R2
    00BD7 BE22      OUT	0x32,R2
(0099) 	   TCCR0=0x07;
    00BD8 E087      LDI	R24,7
    00BD9 BF83      OUT	0x33,R24
(0100) 	}
(0101) 		return;
    00BDA 9621      ADIW	R28,1
    00BDB 9009      LD	R0,Y+
    00BDC BE0F      OUT	0x3F,R0
    00BDD 91F9      LD	R31,Y+
    00BDE 91E9      LD	R30,Y+
    00BDF 91B9      LD	R27,Y+
    00BE0 91A9      LD	R26,Y+
    00BE1 9199      LD	R25,Y+
    00BE2 9189      LD	R24,Y+
    00BE3 9139      LD	R19,Y+
    00BE4 9129      LD	R18,Y+
    00BE5 9119      LD	R17,Y+
    00BE6 9109      LD	R16,Y+
    00BE7 9099      LD	R9,Y+
    00BE8 9089      LD	R8,Y+
    00BE9 9079      LD	R7,Y+
    00BEA 9069      LD	R6,Y+
    00BEB 9059      LD	R5,Y+
    00BEC 9049      LD	R4,Y+
    00BED 9039      LD	R3,Y+
    00BEE 9029      LD	R2,Y+
    00BEF 9019      LD	R1,Y+
    00BF0 9009      LD	R0,Y+
    00BF1 9518      RETI
_int_timer1:
    00BF2 920A      ST	-Y,R0
    00BF3 921A      ST	-Y,R1
    00BF4 922A      ST	-Y,R2
    00BF5 923A      ST	-Y,R3
    00BF6 924A      ST	-Y,R4
    00BF7 925A      ST	-Y,R5
    00BF8 926A      ST	-Y,R6
    00BF9 927A      ST	-Y,R7
    00BFA 928A      ST	-Y,R8
    00BFB 929A      ST	-Y,R9
    00BFC 930A      ST	-Y,R16
    00BFD 931A      ST	-Y,R17
    00BFE 932A      ST	-Y,R18
    00BFF 933A      ST	-Y,R19
    00C00 938A      ST	-Y,R24
    00C01 939A      ST	-Y,R25
    00C02 93AA      ST	-Y,R26
    00C03 93BA      ST	-Y,R27
    00C04 93EA      ST	-Y,R30
    00C05 93FA      ST	-Y,R31
    00C06 B60F      IN	R0,0x3F
    00C07 920A      ST	-Y,R0
(0102) }
(0103) //溢出中断。
(0104) #pragma interrupt_handler int_timer1:15
(0105) void int_timer1(void){
(0106) 		 TCCR1B=0x00;
    00C08 2422      CLR	R2
    00C09 BC2E      OUT	0x2E,R2
(0107) 		 out_port();
    00C0A 940E 1092 CALL	_out_port
(0108) 		TCNT1H=time_h_1;
    00C0C 9020 0AD3 LDS	R2,time_h_1
    00C0E BC2D      OUT	0x2D,R2
(0109)          TCNT1L=time_l_1;
    00C0F 9020 0AD2 LDS	R2,time_l_1
    00C11 BC2C      OUT	0x2C,R2
(0110) 		 TCCR1B=0x05;
    00C12 E085      LDI	R24,5
    00C13 BD8E      OUT	0x2E,R24
(0111) 		return;
    00C14 9009      LD	R0,Y+
    00C15 BE0F      OUT	0x3F,R0
    00C16 91F9      LD	R31,Y+
    00C17 91E9      LD	R30,Y+
    00C18 91B9      LD	R27,Y+
    00C19 91A9      LD	R26,Y+
    00C1A 9199      LD	R25,Y+
    00C1B 9189      LD	R24,Y+
    00C1C 9139      LD	R19,Y+
    00C1D 9129      LD	R18,Y+
    00C1E 9119      LD	R17,Y+
    00C1F 9109      LD	R16,Y+
    00C20 9099      LD	R9,Y+
    00C21 9089      LD	R8,Y+
    00C22 9079      LD	R7,Y+
    00C23 9069      LD	R6,Y+
    00C24 9059      LD	R5,Y+
    00C25 9049      LD	R4,Y+
    00C26 9039      LD	R3,Y+
    00C27 9029      LD	R2,Y+
    00C28 9019      LD	R1,Y+
    00C29 9009      LD	R0,Y+
    00C2A 9518      RETI
_int_timer2:
    00C2B 920A      ST	-Y,R0
    00C2C 921A      ST	-Y,R1
    00C2D 922A      ST	-Y,R2
    00C2E 923A      ST	-Y,R3
    00C2F 924A      ST	-Y,R4
    00C30 925A      ST	-Y,R5
    00C31 926A      ST	-Y,R6
    00C32 927A      ST	-Y,R7
    00C33 928A      ST	-Y,R8
    00C34 929A      ST	-Y,R9
    00C35 930A      ST	-Y,R16
    00C36 931A      ST	-Y,R17
    00C37 932A      ST	-Y,R18
    00C38 933A      ST	-Y,R19
    00C39 938A      ST	-Y,R24
    00C3A 939A      ST	-Y,R25
    00C3B 93AA      ST	-Y,R26
    00C3C 93BA      ST	-Y,R27
    00C3D 93EA      ST	-Y,R30
    00C3E 93FA      ST	-Y,R31
    00C3F B60F      IN	R0,0x3F
    00C40 920A      ST	-Y,R0
(0112) }
(0113) #pragma interrupt_handler int_timer2:11
(0114) void int_timer2(void){
(0115)       //PORTE=~PORTE;
(0116) 		TCCR2=0x00;
    00C41 2422      CLR	R2
    00C42 BC25      OUT	0x25,R2
(0117) 		if(secondflag==0){
    00C43 9020 0845 LDS	R2,secondflag
    00C45 9030 0846 LDS	R3,secondflag+1
    00C47 2022      TST	R2
    00C48 F451      BNE	0x0C53
    00C49 2033      TST	R3
    00C4A F441      BNE	0x0C53
(0118) 		  secondflag=64;
    00C4B E480      LDI	R24,0x40
    00C4C E090      LDI	R25,0
    00C4D 9390 0846 STS	secondflag+1,R25
    00C4F 9380 0845 STS	secondflag,R24
(0119) 		  int_int2();
    00C51 940E 27DB CALL	_int_int2
(0120) 		}
(0121) 		secondflag--;
    00C53 9180 0845 LDS	R24,secondflag
    00C55 9190 0846 LDS	R25,secondflag+1
    00C57 9701      SBIW	R24,1
    00C58 9390 0846 STS	secondflag+1,R25
    00C5A 9380 0845 STS	secondflag,R24
(0122) 		TCNT2=time_2;
    00C5C 9020 0ACE LDS	R2,time_2
    00C5E BC24      OUT	0x24,R2
(0123) 		TCCR2=0x05;
    00C5F E085      LDI	R24,5
    00C60 BD85      OUT	0x25,R24
(0124) 		return;
    00C61 9009      LD	R0,Y+
    00C62 BE0F      OUT	0x3F,R0
    00C63 91F9      LD	R31,Y+
    00C64 91E9      LD	R30,Y+
    00C65 91B9      LD	R27,Y+
    00C66 91A9      LD	R26,Y+
    00C67 9199      LD	R25,Y+
    00C68 9189      LD	R24,Y+
    00C69 9139      LD	R19,Y+
    00C6A 9129      LD	R18,Y+
    00C6B 9119      LD	R17,Y+
    00C6C 9109      LD	R16,Y+
    00C6D 9099      LD	R9,Y+
    00C6E 9089      LD	R8,Y+
    00C6F 9079      LD	R7,Y+
    00C70 9069      LD	R6,Y+
    00C71 9059      LD	R5,Y+
    00C72 9049      LD	R4,Y+
    00C73 9039      LD	R3,Y+
    00C74 9029      LD	R2,Y+
    00C75 9019      LD	R1,Y+
    00C76 9009      LD	R0,Y+
    00C77 9518      RETI
_int_timer3:
    00C78 920A      ST	-Y,R0
    00C79 921A      ST	-Y,R1
    00C7A 922A      ST	-Y,R2
    00C7B 923A      ST	-Y,R3
    00C7C 928A      ST	-Y,R8
    00C7D 929A      ST	-Y,R9
    00C7E 930A      ST	-Y,R16
    00C7F 931A      ST	-Y,R17
    00C80 932A      ST	-Y,R18
    00C81 933A      ST	-Y,R19
    00C82 938A      ST	-Y,R24
    00C83 939A      ST	-Y,R25
    00C84 93AA      ST	-Y,R26
    00C85 93BA      ST	-Y,R27
    00C86 B60F      IN	R0,0x3F
    00C87 920A      ST	-Y,R0
    00C88 92AA      ST	-Y,R10
    00C89 92BA      ST	-Y,R11
(0125) }
(0126) //16位定时器，定时器3溢出中断。
(0127) #pragma interrupt_handler int_timer3:30
(0128) void int_timer3(void){
(0129)      TCCR3B=0x00;
    00C8A 2422      CLR	R2
    00C8B 9220 008A STS	0x8A,R2
(0130) 	 
(0131)      send_data_cache[0]=0x65;//e
    00C8D E685      LDI	R24,0x65
    00C8E E090      LDI	R25,0
    00C8F 9390 021C STS	send_data_cache+1,R25
    00C91 9380 021B STS	send_data_cache,R24
(0132) 	 send_data_cache[1]=temps[0].flag;//标志位
    00C93 9020 0335 LDS	R2,temps
    00C95 9030 0336 LDS	R3,temps+1
    00C97 9230 021E STS	send_data_cache+3,R3
    00C99 9220 021D STS	send_data_cache+2,R2
(0133) 	 send_data_cache[2]=temps[0].status;//状态
    00C9B 9020 043F LDS	R2,temps+266
    00C9D 9030 0440 LDS	R3,temps+267
    00C9F 9230 0220 STS	send_data_cache+5,R3
    00CA1 9220 021F STS	send_data_cache+4,R2
(0134) 	 send_data_cache[3]=((int)temps[0].actualtemp)>>8;//温度
    00CA3 9120 045B LDS	R18,temps+294
    00CA5 9130 045C LDS	R19,temps+295
    00CA7 9100 0459 LDS	R16,temps+292
    00CA9 9110 045A LDS	R17,temps+293
    00CAB 940E 3D86 CALL	fpint
    00CAD 0118      MOVW	R2,R16
    00CAE 2C23      MOV	R2,R3
    00CAF 2433      CLR	R3
    00CB0 FC27      SBRC	R2,7
    00CB1 9430      COM	R3
    00CB2 9230 0222 STS	send_data_cache+7,R3
    00CB4 9220 0221 STS	send_data_cache+6,R2
(0135) 	 send_data_cache[4]=((int)temps[0].actualtemp)&0xFF;
    00CB6 9120 045B LDS	R18,temps+294
    00CB8 9130 045C LDS	R19,temps+295
    00CBA 9100 0459 LDS	R16,temps+292
    00CBC 9110 045A LDS	R17,temps+293
    00CBE 940E 3D86 CALL	fpint
    00CC0 01C8      MOVW	R24,R16
    00CC1 7090      ANDI	R25,0
    00CC2 9390 0224 STS	send_data_cache+9,R25
    00CC4 9380 0223 STS	send_data_cache+8,R24
(0136) 	 send_data_cache[5]=temps[0].needtime>>8;//需要时间
    00CC6 9020 0441 LDS	R2,temps+268
    00CC8 9030 0442 LDS	R3,temps+269
    00CCA 2C23      MOV	R2,R3
    00CCB 2433      CLR	R3
    00CCC 9230 0226 STS	send_data_cache+11,R3
    00CCE 9220 0225 STS	send_data_cache+10,R2
(0137) 	 send_data_cache[6]=temps[0].needtime&8;
    00CD0 9180 0441 LDS	R24,temps+268
    00CD2 9190 0442 LDS	R25,temps+269
    00CD4 7088      ANDI	R24,0x8
    00CD5 7090      ANDI	R25,0
    00CD6 9390 0228 STS	send_data_cache+13,R25
    00CD8 9380 0227 STS	send_data_cache+12,R24
(0138) 	 send_data_cache[7]=temps[0].nowtime>>8;//已运行时间
    00CDA 9020 0443 LDS	R2,temps+270
    00CDC 9030 0444 LDS	R3,temps+271
    00CDE 2C23      MOV	R2,R3
    00CDF 2433      CLR	R3
    00CE0 9230 022A STS	send_data_cache+15,R3
    00CE2 9220 0229 STS	send_data_cache+14,R2
(0139) 	 send_data_cache[8]=temps[0].nowtime&0xFF;
    00CE4 9180 0443 LDS	R24,temps+270
    00CE6 9190 0444 LDS	R25,temps+271
    00CE8 7090      ANDI	R25,0
    00CE9 9390 022C STS	send_data_cache+17,R25
    00CEB 9380 022B STS	send_data_cache+16,R24
(0140) 	 send_data_cache[9]=0x65;//e
    00CED E685      LDI	R24,0x65
    00CEE E090      LDI	R25,0
    00CEF 9390 022E STS	send_data_cache+19,R25
    00CF1 9380 022D STS	send_data_cache+18,R24
(0141) 	 
(0142) 	 send_data_cache[10]=0x66;//f
    00CF3 E686      LDI	R24,0x66
    00CF4 9390 0230 STS	send_data_cache+21,R25
    00CF6 9380 022F STS	send_data_cache+20,R24
(0143) 	 send_data_cache[11]=temps[1].flag;//标志位
    00CF8 9020 0479 LDS	R2,temps+324
    00CFA 9030 047A LDS	R3,temps+325
    00CFC 9230 0232 STS	send_data_cache+23,R3
    00CFE 9220 0231 STS	send_data_cache+22,R2
(0144) 	 send_data_cache[12]=temps[1].status ;//状态
    00D00 9020 0583 LDS	R2,temps+590
    00D02 9030 0584 LDS	R3,temps+591
    00D04 9230 0234 STS	send_data_cache+25,R3
    00D06 9220 0233 STS	send_data_cache+24,R2
(0145) 	 send_data_cache[13]=((int)temps[1].actualtemp)>>8;//温度
    00D08 9120 059F LDS	R18,temps+618
    00D0A 9130 05A0 LDS	R19,temps+619
    00D0C 9100 059D LDS	R16,temps+616
    00D0E 9110 059E LDS	R17,temps+617
    00D10 940E 3D86 CALL	fpint
    00D12 0118      MOVW	R2,R16
    00D13 2C23      MOV	R2,R3
    00D14 2433      CLR	R3
    00D15 FC27      SBRC	R2,7
    00D16 9430      COM	R3
    00D17 9230 0236 STS	send_data_cache+27,R3
    00D19 9220 0235 STS	send_data_cache+26,R2
(0146) 	 send_data_cache[14]=((int)temps[1].actualtemp)&0xFF;
    00D1B 9120 059F LDS	R18,temps+618
    00D1D 9130 05A0 LDS	R19,temps+619
    00D1F 9100 059D LDS	R16,temps+616
    00D21 9110 059E LDS	R17,temps+617
    00D23 940E 3D86 CALL	fpint
    00D25 01C8      MOVW	R24,R16
    00D26 7090      ANDI	R25,0
    00D27 9390 0238 STS	send_data_cache+29,R25
    00D29 9380 0237 STS	send_data_cache+28,R24
(0147) 	 send_data_cache[15]=temps[0].needtime>>8;//需要时间
    00D2B 9020 0441 LDS	R2,temps+268
    00D2D 9030 0442 LDS	R3,temps+269
    00D2F 2C23      MOV	R2,R3
    00D30 2433      CLR	R3
    00D31 9230 023A STS	send_data_cache+31,R3
    00D33 9220 0239 STS	send_data_cache+30,R2
(0148) 	 send_data_cache[16]=temps[0].needtime&8;
    00D35 9180 0441 LDS	R24,temps+268
    00D37 9190 0442 LDS	R25,temps+269
    00D39 7088      ANDI	R24,0x8
    00D3A 7090      ANDI	R25,0
    00D3B 9390 023C STS	send_data_cache+33,R25
    00D3D 9380 023B STS	send_data_cache+32,R24
(0149) 	 send_data_cache[17]=temps[1].nowtime>>8;//已运行时间
    00D3F 9020 0587 LDS	R2,temps+594
    00D41 9030 0588 LDS	R3,temps+595
    00D43 2C23      MOV	R2,R3
    00D44 2433      CLR	R3
    00D45 9230 023E STS	send_data_cache+35,R3
    00D47 9220 023D STS	send_data_cache+34,R2
(0150) 	 send_data_cache[18]=temps[1].nowtime&0xFF;
    00D49 9180 0587 LDS	R24,temps+594
    00D4B 9190 0588 LDS	R25,temps+595
    00D4D 7090      ANDI	R25,0
    00D4E 9390 0240 STS	send_data_cache+37,R25
    00D50 9380 023F STS	send_data_cache+36,R24
(0151) 	 send_data_cache[19]=0x66;//f
    00D52 E686      LDI	R24,0x66
    00D53 E090      LDI	R25,0
    00D54 9390 0242 STS	send_data_cache+39,R25
    00D56 9380 0241 STS	send_data_cache+38,R24
(0152) 	 
(0153) 	 send_data_cache[20]=0x67;//g
    00D58 E687      LDI	R24,0x67
    00D59 9390 0244 STS	send_data_cache+41,R25
    00D5B 9380 0243 STS	send_data_cache+40,R24
(0154) 	 send_data_cache[21]=temps[2].flag;//标志位
    00D5D 9020 05BD LDS	R2,temps+648
    00D5F 9030 05BE LDS	R3,temps+649
    00D61 9230 0246 STS	send_data_cache+43,R3
    00D63 9220 0245 STS	send_data_cache+42,R2
(0155) 	 send_data_cache[22]=temps[2].status;//状态
    00D65 9020 06C7 LDS	R2,temps+914
    00D67 9030 06C8 LDS	R3,temps+915
    00D69 9230 0248 STS	send_data_cache+45,R3
    00D6B 9220 0247 STS	send_data_cache+44,R2
(0156) 	 send_data_cache[23]=((int)temps[2].actualtemp)>>8;//温度
    00D6D 9120 06E3 LDS	R18,temps+942
    00D6F 9130 06E4 LDS	R19,temps+943
    00D71 9100 06E1 LDS	R16,temps+940
    00D73 9110 06E2 LDS	R17,temps+941
    00D75 940E 3D86 CALL	fpint
    00D77 0118      MOVW	R2,R16
    00D78 2C23      MOV	R2,R3
    00D79 2433      CLR	R3
    00D7A FC27      SBRC	R2,7
    00D7B 9430      COM	R3
    00D7C 9230 024A STS	send_data_cache+47,R3
    00D7E 9220 0249 STS	send_data_cache+46,R2
(0157) 	 send_data_cache[24]=((int)temps[2].actualtemp)&0xFF;
    00D80 9120 06E3 LDS	R18,temps+942
    00D82 9130 06E4 LDS	R19,temps+943
    00D84 9100 06E1 LDS	R16,temps+940
    00D86 9110 06E2 LDS	R17,temps+941
    00D88 940E 3D86 CALL	fpint
    00D8A 01C8      MOVW	R24,R16
    00D8B 7090      ANDI	R25,0
    00D8C 9390 024C STS	send_data_cache+49,R25
    00D8E 9380 024B STS	send_data_cache+48,R24
(0158) 	 send_data_cache[25]=temps[0].needtime>>8;//需要时间
    00D90 9020 0441 LDS	R2,temps+268
    00D92 9030 0442 LDS	R3,temps+269
    00D94 2C23      MOV	R2,R3
    00D95 2433      CLR	R3
    00D96 9230 024E STS	send_data_cache+51,R3
    00D98 9220 024D STS	send_data_cache+50,R2
(0159) 	 send_data_cache[26]=temps[0].needtime&8;
    00D9A 9180 0441 LDS	R24,temps+268
    00D9C 9190 0442 LDS	R25,temps+269
    00D9E 7088      ANDI	R24,0x8
    00D9F 7090      ANDI	R25,0
    00DA0 9390 0250 STS	send_data_cache+53,R25
    00DA2 9380 024F STS	send_data_cache+52,R24
(0160) 	 send_data_cache[27]=temps[2].nowtime>>8;//已运行时间
    00DA4 9020 06CB LDS	R2,temps+918
    00DA6 9030 06CC LDS	R3,temps+919
    00DA8 2C23      MOV	R2,R3
    00DA9 2433      CLR	R3
    00DAA 9230 0252 STS	send_data_cache+55,R3
    00DAC 9220 0251 STS	send_data_cache+54,R2
(0161) 	 send_data_cache[28]=temps[2].nowtime&0xFF;
    00DAE 9180 06CB LDS	R24,temps+918
    00DB0 9190 06CC LDS	R25,temps+919
    00DB2 7090      ANDI	R25,0
    00DB3 9390 0254 STS	send_data_cache+57,R25
    00DB5 9380 0253 STS	send_data_cache+56,R24
(0162) 	 send_data_cache[29]=0x67;//g
    00DB7 E687      LDI	R24,0x67
    00DB8 E090      LDI	R25,0
    00DB9 9390 0256 STS	send_data_cache+59,R25
    00DBB 9380 0255 STS	send_data_cache+58,R24
(0163) 	 
(0164) 	 send_data_cache[30]=0x68;//h
    00DBD E688      LDI	R24,0x68
    00DBE 9390 0258 STS	send_data_cache+61,R25
    00DC0 9380 0257 STS	send_data_cache+60,R24
(0165) 	 send_data_cache[31]=temps[3].flag ;//标志位
    00DC2 9020 0701 LDS	R2,temps+972
    00DC4 9030 0702 LDS	R3,temps+973
    00DC6 9230 025A STS	send_data_cache+63,R3
    00DC8 9220 0259 STS	send_data_cache+62,R2
(0166) 	 send_data_cache[32]=temps[3].status ;//状态
    00DCA 9020 080B LDS	R2,temps+1238
    00DCC 9030 080C LDS	R3,temps+1239
    00DCE 9230 025C STS	send_data_cache+65,R3
    00DD0 9220 025B STS	send_data_cache+64,R2
(0167) 	 send_data_cache[33]=((int)temps[3].actualtemp)>>8;//温度
    00DD2 9120 0827 LDS	R18,temps+1266
    00DD4 9130 0828 LDS	R19,temps+1267
    00DD6 9100 0825 LDS	R16,temps+1264
    00DD8 9110 0826 LDS	R17,temps+1265
    00DDA 940E 3D86 CALL	fpint
    00DDC 0118      MOVW	R2,R16
    00DDD 2C23      MOV	R2,R3
    00DDE 2433      CLR	R3
    00DDF FC27      SBRC	R2,7
    00DE0 9430      COM	R3
    00DE1 9230 025E STS	send_data_cache+67,R3
    00DE3 9220 025D STS	send_data_cache+66,R2
(0168) 	 send_data_cache[34]=((int)temps[3].actualtemp)&0xFF;
    00DE5 9120 0827 LDS	R18,temps+1266
    00DE7 9130 0828 LDS	R19,temps+1267
    00DE9 9100 0825 LDS	R16,temps+1264
    00DEB 9110 0826 LDS	R17,temps+1265
    00DED 940E 3D86 CALL	fpint
    00DEF 01C8      MOVW	R24,R16
    00DF0 7090      ANDI	R25,0
    00DF1 9390 0260 STS	send_data_cache+69,R25
    00DF3 9380 025F STS	send_data_cache+68,R24
(0169) 	 send_data_cache[35]=temps[0].needtime>>8;//需要时间
    00DF5 9020 0441 LDS	R2,temps+268
    00DF7 9030 0442 LDS	R3,temps+269
    00DF9 2C23      MOV	R2,R3
    00DFA 2433      CLR	R3
    00DFB 9230 0262 STS	send_data_cache+71,R3
    00DFD 9220 0261 STS	send_data_cache+70,R2
(0170) 	 send_data_cache[36]=temps[0].needtime&8;
    00DFF 9180 0441 LDS	R24,temps+268
    00E01 9190 0442 LDS	R25,temps+269
    00E03 7088      ANDI	R24,0x8
    00E04 7090      ANDI	R25,0
    00E05 9390 0264 STS	send_data_cache+73,R25
    00E07 9380 0263 STS	send_data_cache+72,R24
(0171) 	 send_data_cache[37]=temps[3].nowtime>>8;//已运行时间
    00E09 9020 080F LDS	R2,temps+1242
    00E0B 9030 0810 LDS	R3,temps+1243
    00E0D 2C23      MOV	R2,R3
    00E0E 2433      CLR	R3
    00E0F 9230 0266 STS	send_data_cache+75,R3
    00E11 9220 0265 STS	send_data_cache+74,R2
(0172) 	 send_data_cache[38]=temps[3].nowtime&0xFF;
    00E13 9180 080F LDS	R24,temps+1242
    00E15 9190 0810 LDS	R25,temps+1243
    00E17 7090      ANDI	R25,0
    00E18 9390 0268 STS	send_data_cache+77,R25
    00E1A 9380 0267 STS	send_data_cache+76,R24
(0173) 	 send_data_cache[39]=0x68;//h
    00E1C E688      LDI	R24,0x68
    00E1D E090      LDI	R25,0
    00E1E 9390 026A STS	send_data_cache+79,R25
    00E20 9380 0269 STS	send_data_cache+78,R24
(0174) 	 
(0175) 	 
(0176) 	 send_data_length=40;
    00E22 E288      LDI	R24,0x28
    00E23 9390 032A STS	send_data_length+1,R25
    00E25 9380 0329 STS	send_data_length,R24
(0177) 	 UCSR0B |=(1<<UDRIE0); //发送使能。测试使用
    00E27 9A55      SBI	0x0A,5
(0178) 	  TCNT3H=time_h_3;
    00E28 9020 0AD1 LDS	R2,time_h_3
    00E2A 9220 0089 STS	0x89,R2
(0179)       TCNT3L=time_l_3;
    00E2C 9020 0AD0 LDS	R2,time_l_3
    00E2E 9220 0088 STS	0x88,R2
(0180)       TCCR3B=0x05;
    00E30 E085      LDI	R24,5
    00E31 9380 008A STS	0x8A,R24
(0181) 	  return;                                
    00E33 90B9      LD	R11,Y+
    00E34 90A9      LD	R10,Y+
    00E35 9009      LD	R0,Y+
    00E36 BE0F      OUT	0x3F,R0
    00E37 91B9      LD	R27,Y+
    00E38 91A9      LD	R26,Y+
    00E39 9199      LD	R25,Y+
    00E3A 9189      LD	R24,Y+
    00E3B 9139      LD	R19,Y+
    00E3C 9129      LD	R18,Y+
    00E3D 9119      LD	R17,Y+
    00E3E 9109      LD	R16,Y+
    00E3F 9099      LD	R9,Y+
    00E40 9089      LD	R8,Y+
    00E41 9039      LD	R3,Y+
    00E42 9029      LD	R2,Y+
    00E43 9019      LD	R1,Y+
    00E44 9009      LD	R0,Y+
    00E45 9518      RETI
_readTemp_1:
  i                    --> R20
    00E46 934A      ST	-Y,R20
    00E47 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\max6675.c
(0001) #include<iom128v.h>
(0002) #include "max6675.h"
(0003) #include "main.h"
(0004) #include "delay.h"
(0005) #define sck_h_1 PORTE|=(1<<PE3) 
(0006) #define sck_l_1 PORTE&=~(1<<PE3) 
(0007) #define cs_h_1 PORTE|=1<<PE4 
(0008) #define cs_l_1 PORTE&=~(1<<PE4) 
(0009) 
(0010) #define sck_h_2 PORTE|=(1<<PE6) 
(0011) #define sck_l_2 PORTE&=~(1<<PE6) 
(0012) #define cs_h_2 PORTE|=1<<PE7 
(0013) #define cs_l_2 PORTE&=~(1<<PE7) 
(0014) 
(0015) #define sck_h_3 PORTF|=(1<<PF1) 
(0016) #define sck_l_3 PORTF&=~(1<<PF1) 
(0017) #define cs_h_3 PORTF|=1<<PF2 
(0018) #define cs_l_3 PORTF&=~(1<<PF2) 
(0019) 
(0020) #define sck_h_4 PORTF|=(1<<PF4) 
(0021) #define sck_l_4 PORTF&=~(1<<PF4) 
(0022) #define cs_h_4 PORTF|=1<<PF5 
(0023) #define cs_l_4 PORTF&=~(1<<PF5) 
(0024) void readTemp_1(void){
(0025) 	   uint i;
(0026) 	   sck_h_1;
    00E48 9A1B      SBI	0x03,3
(0027) 	   cs_h_1;
    00E49 9A1C      SBI	0x03,4
(0028) 	   delay_us(1);
    00E4A E001      LDI	R16,1
    00E4B E010      LDI	R17,0
    00E4C 940E 0551 CALL	_delay_us
(0029) 	   cs_l_1;
    00E4E 981C      CBI	0x03,4
(0030) 	   delay_us(1);
    00E4F E001      LDI	R16,1
    00E50 E010      LDI	R17,0
    00E51 940E 0551 CALL	_delay_us
(0031) 	   sck_l_1;
    00E53 981B      CBI	0x03,3
(0032) 	   delay_us(1);
    00E54 E001      LDI	R16,1
    00E55 E010      LDI	R17,0
    00E56 940E 0551 CALL	_delay_us
(0033) 	   sck_h_1;
    00E58 9A1B      SBI	0x03,3
(0034) 	  for(i=0;i<8;i++){
    00E59 2744      CLR	R20
    00E5A 2755      CLR	R21
    00E5B C024      RJMP	0x0E80
(0035) 			sck_l_1;
    00E5C 981B      CBI	0x03,3
(0036) 			delay_us(1);
    00E5D E001      LDI	R16,1
    00E5E E010      LDI	R17,0
    00E5F 940E 0551 CALL	_delay_us
(0037) 			temp_h=temp_h<<1;
    00E61 9020 0331 LDS	R2,temp_h
    00E63 9030 0332 LDS	R3,temp_h+1
    00E65 0C22      LSL	R2
    00E66 1C33      ROL	R3
    00E67 9230 0332 STS	temp_h+1,R3
    00E69 9220 0331 STS	temp_h,R2
(0038) 	    	temp_h=temp_h|((PINE&0x04)>>2);
    00E6B B181      IN	R24,0x01
    00E6C 2799      CLR	R25
    00E6D 7084      ANDI	R24,4
    00E6E 7090      ANDI	R25,0
    00E6F 9595      ASR	R25
    00E70 9587      ROR	R24
    00E71 9595      ASR	R25
    00E72 9587      ROR	R24
    00E73 2A28      OR	R2,R24
    00E74 2A39      OR	R3,R25
    00E75 9230 0332 STS	temp_h+1,R3
    00E77 9220 0331 STS	temp_h,R2
(0039) 			sck_h_1;
    00E79 9A1B      SBI	0x03,3
(0040) 			delay_us(1);
    00E7A E001      LDI	R16,1
    00E7B E010      LDI	R17,0
    00E7C 940E 0551 CALL	_delay_us
    00E7E 5F4F      SUBI	R20,0xFF
    00E7F 4F5F      SBCI	R21,0xFF
    00E80 3048      CPI	R20,0x8
    00E81 E0E0      LDI	R30,0
    00E82 075E      CPC	R21,R30
    00E83 F2C0      BCS	0x0E5C
(0041) 			
(0042) 	   }
(0043) 	   for(i=0;i<8;i++){
    00E84 2744      CLR	R20
    00E85 2755      CLR	R21
    00E86 C024      RJMP	0x0EAB
(0044) 			sck_l_1;
    00E87 981B      CBI	0x03,3
(0045) 			delay_us(1);
    00E88 E001      LDI	R16,1
    00E89 E010      LDI	R17,0
    00E8A 940E 0551 CALL	_delay_us
(0046) 			temp_l<<=1;
    00E8C 9020 0333 LDS	R2,temp_l
    00E8E 9030 0334 LDS	R3,temp_l+1
    00E90 0C22      LSL	R2
    00E91 1C33      ROL	R3
    00E92 9230 0334 STS	temp_l+1,R3
    00E94 9220 0333 STS	temp_l,R2
(0047) 	    	temp_l=temp_l|((PINE&0x04)>>2);
    00E96 B181      IN	R24,0x01
    00E97 2799      CLR	R25
    00E98 7084      ANDI	R24,4
    00E99 7090      ANDI	R25,0
    00E9A 9595      ASR	R25
    00E9B 9587      ROR	R24
    00E9C 9595      ASR	R25
    00E9D 9587      ROR	R24
    00E9E 2A28      OR	R2,R24
    00E9F 2A39      OR	R3,R25
    00EA0 9230 0334 STS	temp_l+1,R3
    00EA2 9220 0333 STS	temp_l,R2
(0048) 			sck_h_1;
    00EA4 9A1B      SBI	0x03,3
(0049) 			delay_us(1);
    00EA5 E001      LDI	R16,1
    00EA6 E010      LDI	R17,0
    00EA7 940E 0551 CALL	_delay_us
    00EA9 5F4F      SUBI	R20,0xFF
    00EAA 4F5F      SBCI	R21,0xFF
    00EAB 3048      CPI	R20,0x8
    00EAC E0E0      LDI	R30,0
    00EAD 075E      CPC	R21,R30
    00EAE F2C0      BCS	0x0E87
(0050) 	   }
(0051) 	    cs_h_1;
    00EAF 9A1C      SBI	0x03,4
(0052) 	   delay_us(10);
    00EB0 E00A      LDI	R16,0xA
    00EB1 E010      LDI	R17,0
    00EB2 940E 0551 CALL	_delay_us
(0053) 	  // temp_l=0x55;
(0054) 	   return ;
    00EB4 9159      LD	R21,Y+
    00EB5 9149      LD	R20,Y+
    00EB6 9508      RET
_readTemp_2:
  i                    --> R20
    00EB7 934A      ST	-Y,R20
    00EB8 935A      ST	-Y,R21
(0055) }
(0056) void readTemp_2(void){
(0057) 	   uint i;
(0058) 	   sck_h_2;
    00EB9 9A1E      SBI	0x03,6
(0059) 	   cs_h_2;
    00EBA 9A1F      SBI	0x03,7
(0060) 	   delay_us(1);
    00EBB E001      LDI	R16,1
    00EBC E010      LDI	R17,0
    00EBD 940E 0551 CALL	_delay_us
(0061) 	   cs_l_2;
    00EBF 981F      CBI	0x03,7
(0062) 	   delay_us(1);
    00EC0 E001      LDI	R16,1
    00EC1 E010      LDI	R17,0
    00EC2 940E 0551 CALL	_delay_us
(0063) 	   sck_l_2;
    00EC4 981E      CBI	0x03,6
(0064) 	   delay_us(1);
    00EC5 E001      LDI	R16,1
    00EC6 E010      LDI	R17,0
    00EC7 940E 0551 CALL	_delay_us
(0065) 	   sck_h_2;
    00EC9 9A1E      SBI	0x03,6
(0066) 	  for(i=0;i<8;i++){
    00ECA 2744      CLR	R20
    00ECB 2755      CLR	R21
    00ECC C028      RJMP	0x0EF5
(0067) 			sck_l_2;
    00ECD 981E      CBI	0x03,6
(0068) 			delay_us(1);
    00ECE E001      LDI	R16,1
    00ECF E010      LDI	R17,0
    00ED0 940E 0551 CALL	_delay_us
(0069) 			temp_h=temp_h<<1;
    00ED2 9020 0331 LDS	R2,temp_h
    00ED4 9030 0332 LDS	R3,temp_h+1
    00ED6 0C22      LSL	R2
    00ED7 1C33      ROL	R3
    00ED8 9230 0332 STS	temp_h+1,R3
    00EDA 9220 0331 STS	temp_h,R2
(0070) 	    	temp_h=temp_h|((PINE&0x20)>>5);
    00EDC E025      LDI	R18,5
    00EDD E030      LDI	R19,0
    00EDE B101      IN	R16,0x01
    00EDF 2711      CLR	R17
    00EE0 7200      ANDI	R16,0x20
    00EE1 7010      ANDI	R17,0
    00EE2 940E 3BE4 CALL	asr16
    00EE4 9020 0331 LDS	R2,temp_h
    00EE6 9030 0332 LDS	R3,temp_h+1
    00EE8 2A20      OR	R2,R16
    00EE9 2A31      OR	R3,R17
    00EEA 9230 0332 STS	temp_h+1,R3
    00EEC 9220 0331 STS	temp_h,R2
(0071) 			sck_h_2;
    00EEE 9A1E      SBI	0x03,6
(0072) 			delay_us(1);
    00EEF E001      LDI	R16,1
    00EF0 E010      LDI	R17,0
    00EF1 940E 0551 CALL	_delay_us
    00EF3 5F4F      SUBI	R20,0xFF
    00EF4 4F5F      SBCI	R21,0xFF
    00EF5 3048      CPI	R20,0x8
    00EF6 E0E0      LDI	R30,0
    00EF7 075E      CPC	R21,R30
    00EF8 F2A0      BCS	0x0ECD
(0073) 			
(0074) 	   }
(0075) 	   for(i=0;i<8;i++){
    00EF9 2744      CLR	R20
    00EFA 2755      CLR	R21
    00EFB C028      RJMP	0x0F24
(0076) 			sck_l_2;
    00EFC 981E      CBI	0x03,6
(0077) 			delay_us(1);
    00EFD E001      LDI	R16,1
    00EFE E010      LDI	R17,0
    00EFF 940E 0551 CALL	_delay_us
(0078) 			temp_l<<=1;
    00F01 9020 0333 LDS	R2,temp_l
    00F03 9030 0334 LDS	R3,temp_l+1
    00F05 0C22      LSL	R2
    00F06 1C33      ROL	R3
    00F07 9230 0334 STS	temp_l+1,R3
    00F09 9220 0333 STS	temp_l,R2
(0079) 	    	temp_l=temp_l|((PINE&0x20)>>5);
    00F0B E025      LDI	R18,5
    00F0C E030      LDI	R19,0
    00F0D B101      IN	R16,0x01
    00F0E 2711      CLR	R17
    00F0F 7200      ANDI	R16,0x20
    00F10 7010      ANDI	R17,0
    00F11 940E 3BE4 CALL	asr16
    00F13 9020 0333 LDS	R2,temp_l
    00F15 9030 0334 LDS	R3,temp_l+1
    00F17 2A20      OR	R2,R16
    00F18 2A31      OR	R3,R17
    00F19 9230 0334 STS	temp_l+1,R3
    00F1B 9220 0333 STS	temp_l,R2
(0080) 			sck_h_2;
    00F1D 9A1E      SBI	0x03,6
(0081) 			delay_us(1);
    00F1E E001      LDI	R16,1
    00F1F E010      LDI	R17,0
    00F20 940E 0551 CALL	_delay_us
    00F22 5F4F      SUBI	R20,0xFF
    00F23 4F5F      SBCI	R21,0xFF
    00F24 3048      CPI	R20,0x8
    00F25 E0E0      LDI	R30,0
    00F26 075E      CPC	R21,R30
    00F27 F2A0      BCS	0x0EFC
(0082) 	   }
(0083) 	    cs_h_2;
    00F28 9A1F      SBI	0x03,7
(0084) 	   delay_us(10);
    00F29 E00A      LDI	R16,0xA
    00F2A E010      LDI	R17,0
    00F2B 940E 0551 CALL	_delay_us
(0085) 	  // temp_l=0x55;
(0086) 	   return ;
    00F2D 9159      LD	R21,Y+
    00F2E 9149      LD	R20,Y+
    00F2F 9508      RET
_readTemp_3:
  i                    --> R20
    00F30 934A      ST	-Y,R20
    00F31 935A      ST	-Y,R21
(0087) }
(0088) void readTemp_3(void){
(0089) 	   uint i;
(0090) 	   sck_h_3;
    00F32 9180 0062 LDS	R24,0x62
    00F34 6082      ORI	R24,2
    00F35 9380 0062 STS	0x62,R24
(0091) 	   cs_h_3;
    00F37 9180 0062 LDS	R24,0x62
    00F39 6084      ORI	R24,4
    00F3A 9380 0062 STS	0x62,R24
(0092) 	   delay_us(1);
    00F3C E001      LDI	R16,1
    00F3D E010      LDI	R17,0
    00F3E 940E 0551 CALL	_delay_us
(0093) 	   cs_l_3;
    00F40 9180 0062 LDS	R24,0x62
    00F42 7F8B      ANDI	R24,0xFB
    00F43 9380 0062 STS	0x62,R24
(0094) 	   delay_us(1);
    00F45 E001      LDI	R16,1
    00F46 E010      LDI	R17,0
    00F47 940E 0551 CALL	_delay_us
(0095) 	   sck_l_3;
    00F49 9180 0062 LDS	R24,0x62
    00F4B 7F8D      ANDI	R24,0xFD
    00F4C 9380 0062 STS	0x62,R24
(0096) 	   delay_us(1);
    00F4E E001      LDI	R16,1
    00F4F E010      LDI	R17,0
    00F50 940E 0551 CALL	_delay_us
(0097) 	   sck_h_3;
    00F52 9180 0062 LDS	R24,0x62
    00F54 6082      ORI	R24,2
    00F55 9380 0062 STS	0x62,R24
(0098) 	  for(i=0;i<8;i++){
    00F57 2744      CLR	R20
    00F58 2755      CLR	R21
    00F59 C028      RJMP	0x0F82
(0099) 			sck_l_3;
    00F5A 9180 0062 LDS	R24,0x62
    00F5C 7F8D      ANDI	R24,0xFD
    00F5D 9380 0062 STS	0x62,R24
(0100) 			delay_us(1);
    00F5F E001      LDI	R16,1
    00F60 E010      LDI	R17,0
    00F61 940E 0551 CALL	_delay_us
(0101) 			temp_h=temp_h<<1;
    00F63 9020 0331 LDS	R2,temp_h
    00F65 9030 0332 LDS	R3,temp_h+1
    00F67 0C22      LSL	R2
    00F68 1C33      ROL	R3
    00F69 9230 0332 STS	temp_h+1,R3
    00F6B 9220 0331 STS	temp_h,R2
(0102) 	    	temp_h=temp_h|(PINF&0x01);
    00F6D B180      IN	R24,0x00
    00F6E 2799      CLR	R25
    00F6F 7081      ANDI	R24,1
    00F70 7090      ANDI	R25,0
    00F71 2A28      OR	R2,R24
    00F72 2A39      OR	R3,R25
    00F73 9230 0332 STS	temp_h+1,R3
    00F75 9220 0331 STS	temp_h,R2
(0103) 			sck_h_3;
    00F77 9180 0062 LDS	R24,0x62
    00F79 6082      ORI	R24,2
    00F7A 9380 0062 STS	0x62,R24
(0104) 			delay_us(1);
    00F7C E001      LDI	R16,1
    00F7D E010      LDI	R17,0
    00F7E 940E 0551 CALL	_delay_us
    00F80 5F4F      SUBI	R20,0xFF
    00F81 4F5F      SBCI	R21,0xFF
    00F82 3048      CPI	R20,0x8
    00F83 E0E0      LDI	R30,0
    00F84 075E      CPC	R21,R30
    00F85 F2A0      BCS	0x0F5A
(0105) 			
(0106) 	   }
(0107) 	   for(i=0;i<8;i++){
    00F86 2744      CLR	R20
    00F87 2755      CLR	R21
    00F88 C028      RJMP	0x0FB1
(0108) 			sck_l_3;
    00F89 9180 0062 LDS	R24,0x62
    00F8B 7F8D      ANDI	R24,0xFD
    00F8C 9380 0062 STS	0x62,R24
(0109) 			delay_us(1);
    00F8E E001      LDI	R16,1
    00F8F E010      LDI	R17,0
    00F90 940E 0551 CALL	_delay_us
(0110) 			temp_l<<=1;
    00F92 9020 0333 LDS	R2,temp_l
    00F94 9030 0334 LDS	R3,temp_l+1
    00F96 0C22      LSL	R2
    00F97 1C33      ROL	R3
    00F98 9230 0334 STS	temp_l+1,R3
    00F9A 9220 0333 STS	temp_l,R2
(0111) 	    	temp_l=temp_l|(PINF&0x01);
    00F9C B180      IN	R24,0x00
    00F9D 2799      CLR	R25
    00F9E 7081      ANDI	R24,1
    00F9F 7090      ANDI	R25,0
    00FA0 2A28      OR	R2,R24
    00FA1 2A39      OR	R3,R25
    00FA2 9230 0334 STS	temp_l+1,R3
    00FA4 9220 0333 STS	temp_l,R2
(0112) 			sck_h_3;
    00FA6 9180 0062 LDS	R24,0x62
    00FA8 6082      ORI	R24,2
    00FA9 9380 0062 STS	0x62,R24
(0113) 			delay_us(1);
    00FAB E001      LDI	R16,1
    00FAC E010      LDI	R17,0
    00FAD 940E 0551 CALL	_delay_us
    00FAF 5F4F      SUBI	R20,0xFF
    00FB0 4F5F      SBCI	R21,0xFF
    00FB1 3048      CPI	R20,0x8
    00FB2 E0E0      LDI	R30,0
    00FB3 075E      CPC	R21,R30
    00FB4 F2A0      BCS	0x0F89
(0114) 	   }
(0115) 	    cs_h_3;
    00FB5 9180 0062 LDS	R24,0x62
    00FB7 6084      ORI	R24,4
    00FB8 9380 0062 STS	0x62,R24
(0116) 	   delay_us(10);
    00FBA E00A      LDI	R16,0xA
    00FBB E010      LDI	R17,0
    00FBC 940E 0551 CALL	_delay_us
(0117) 	  // temp_l=0x55;
(0118) 	   return ;
    00FBE 9159      LD	R21,Y+
    00FBF 9149      LD	R20,Y+
    00FC0 9508      RET
_readTemp_4:
  i                    --> R20
    00FC1 934A      ST	-Y,R20
    00FC2 935A      ST	-Y,R21
(0119) }
(0120) void readTemp_4(void){
(0121) 	  uint i;
(0122) 	   sck_h_4;
    00FC3 9180 0062 LDS	R24,0x62
    00FC5 6180      ORI	R24,0x10
    00FC6 9380 0062 STS	0x62,R24
(0123) 	   cs_h_4;
    00FC8 9180 0062 LDS	R24,0x62
    00FCA 6280      ORI	R24,0x20
    00FCB 9380 0062 STS	0x62,R24
(0124) 	   delay_us(1);
    00FCD E001      LDI	R16,1
    00FCE E010      LDI	R17,0
    00FCF 940E 0551 CALL	_delay_us
(0125) 	   cs_l_4;
    00FD1 9180 0062 LDS	R24,0x62
    00FD3 7D8F      ANDI	R24,0xDF
    00FD4 9380 0062 STS	0x62,R24
(0126) 	   delay_us(1);
    00FD6 E001      LDI	R16,1
    00FD7 E010      LDI	R17,0
    00FD8 940E 0551 CALL	_delay_us
(0127) 	   sck_l_4;
    00FDA 9180 0062 LDS	R24,0x62
    00FDC 7E8F      ANDI	R24,0xEF
    00FDD 9380 0062 STS	0x62,R24
(0128) 	   delay_us(1);
    00FDF E001      LDI	R16,1
    00FE0 E010      LDI	R17,0
    00FE1 940E 0551 CALL	_delay_us
(0129) 	   sck_h_4;
    00FE3 9180 0062 LDS	R24,0x62
    00FE5 6180      ORI	R24,0x10
    00FE6 9380 0062 STS	0x62,R24
(0130) 	  for(i=0;i<8;i++){
    00FE8 2744      CLR	R20
    00FE9 2755      CLR	R21
    00FEA C033      RJMP	0x101E
(0131) 			sck_l_4;
    00FEB 9180 0062 LDS	R24,0x62
    00FED 7E8F      ANDI	R24,0xEF
    00FEE 9380 0062 STS	0x62,R24
(0132) 			delay_us(1);
    00FF0 E001      LDI	R16,1
    00FF1 E010      LDI	R17,0
    00FF2 940E 0551 CALL	_delay_us
(0133) 			temp_h=temp_h<<1;
    00FF4 9020 0331 LDS	R2,temp_h
    00FF6 9030 0332 LDS	R3,temp_h+1
    00FF8 0C22      LSL	R2
    00FF9 1C33      ROL	R3
    00FFA 9230 0332 STS	temp_h+1,R3
    00FFC 9220 0331 STS	temp_h,R2
(0134) 	    	temp_h=temp_h|((PINE&0x08)>>3);
    00FFE B181      IN	R24,0x01
    00FFF 2799      CLR	R25
    01000 7088      ANDI	R24,0x8
    01001 7090      ANDI	R25,0
    01002 011C      MOVW	R2,R24
    01003 9435      ASR	R3
    01004 9427      ROR	R2
    01005 9435      ASR	R3
    01006 9427      ROR	R2
    01007 9435      ASR	R3
    01008 9427      ROR	R2
    01009 9040 0331 LDS	R4,temp_h
    0100B 9050 0332 LDS	R5,temp_h+1
    0100D 2842      OR	R4,R2
    0100E 2853      OR	R5,R3
    0100F 9250 0332 STS	temp_h+1,R5
    01011 9240 0331 STS	temp_h,R4
(0135) 			sck_h_4;
    01013 9180 0062 LDS	R24,0x62
    01015 6180      ORI	R24,0x10
    01016 9380 0062 STS	0x62,R24
(0136) 			delay_us(1);
    01018 E001      LDI	R16,1
    01019 E010      LDI	R17,0
    0101A 940E 0551 CALL	_delay_us
    0101C 5F4F      SUBI	R20,0xFF
    0101D 4F5F      SBCI	R21,0xFF
    0101E 3048      CPI	R20,0x8
    0101F E0E0      LDI	R30,0
    01020 075E      CPC	R21,R30
    01021 F248      BCS	0x0FEB
(0137) 			
(0138) 	   }
(0139) 	   for(i=0;i<8;i++){
    01022 2744      CLR	R20
    01023 2755      CLR	R21
    01024 C033      RJMP	0x1058
(0140) 			sck_l_4;
    01025 9180 0062 LDS	R24,0x62
    01027 7E8F      ANDI	R24,0xEF
    01028 9380 0062 STS	0x62,R24
(0141) 			delay_us(1);
    0102A E001      LDI	R16,1
    0102B E010      LDI	R17,0
    0102C 940E 0551 CALL	_delay_us
(0142) 			temp_l<<=1;
    0102E 9020 0333 LDS	R2,temp_l
    01030 9030 0334 LDS	R3,temp_l+1
    01032 0C22      LSL	R2
    01033 1C33      ROL	R3
    01034 9230 0334 STS	temp_l+1,R3
    01036 9220 0333 STS	temp_l,R2
(0143) 	    	temp_l=temp_l|((PINE&0x08)>>3);
    01038 B181      IN	R24,0x01
    01039 2799      CLR	R25
    0103A 7088      ANDI	R24,0x8
    0103B 7090      ANDI	R25,0
    0103C 011C      MOVW	R2,R24
    0103D 9435      ASR	R3
    0103E 9427      ROR	R2
    0103F 9435      ASR	R3
    01040 9427      ROR	R2
    01041 9435      ASR	R3
    01042 9427      ROR	R2
    01043 9040 0333 LDS	R4,temp_l
    01045 9050 0334 LDS	R5,temp_l+1
    01047 2842      OR	R4,R2
    01048 2853      OR	R5,R3
    01049 9250 0334 STS	temp_l+1,R5
    0104B 9240 0333 STS	temp_l,R4
(0144) 			sck_h_4;
    0104D 9180 0062 LDS	R24,0x62
    0104F 6180      ORI	R24,0x10
    01050 9380 0062 STS	0x62,R24
(0145) 			delay_us(1);
    01052 E001      LDI	R16,1
    01053 E010      LDI	R17,0
    01054 940E 0551 CALL	_delay_us
    01056 5F4F      SUBI	R20,0xFF
    01057 4F5F      SBCI	R21,0xFF
    01058 3048      CPI	R20,0x8
    01059 E0E0      LDI	R30,0
    0105A 075E      CPC	R21,R30
    0105B F248      BCS	0x1025
(0146) 	   }
(0147) 	    cs_h_4;
    0105C 9180 0062 LDS	R24,0x62
    0105E 6280      ORI	R24,0x20
    0105F 9380 0062 STS	0x62,R24
(0148) 	   delay_us(10);
    01061 E00A      LDI	R16,0xA
    01062 E010      LDI	R17,0
    01063 940E 0551 CALL	_delay_us
(0149) 	  // temp_l=0x55;
(0150) 	   return ;
    01065 9159      LD	R21,Y+
    01066 9149      LD	R20,Y+
    01067 9508      RET
_readTemp:
  n                    --> R20
    01068 934A      ST	-Y,R20
    01069 935A      ST	-Y,R21
    0106A 01A8      MOVW	R20,R16
(0151) }
(0152) //传入的int：0、1、2、3对应温度的读取
(0153) void readTemp(uint n){
(0154)   DDRE=0xDA;
    0106B ED8A      LDI	R24,0xDA
    0106C B982      OUT	0x02,R24
(0155)   DDRF=0xF6;
    0106D EF86      LDI	R24,0xF6
    0106E 9380 0061 STS	0x61,R24
(0156)   PORTE |=0xFC;
    01070 B183      IN	R24,0x03
    01071 6F8C      ORI	R24,0xFC
    01072 B983      OUT	0x03,R24
(0157)   PORTF |= 0xFF;
    01073 9180 0062 LDS	R24,0x62
    01075 6F8F      ORI	R24,0xFF
    01076 9380 0062 STS	0x62,R24
(0158)    switch(n){
    01078 3040      CPI	R20,0
    01079 0745      CPC	R20,R21
    0107A F069      BEQ	0x1088
    0107B 3041      CPI	R20,1
    0107C E0E0      LDI	R30,0
    0107D 075E      CPC	R21,R30
    0107E F059      BEQ	0x108A
    0107F 3042      CPI	R20,2
    01080 E0E0      LDI	R30,0
    01081 075E      CPC	R21,R30
    01082 F049      BEQ	0x108C
    01083 3043      CPI	R20,3
    01084 E0E0      LDI	R30,0
    01085 075E      CPC	R21,R30
    01086 F039      BEQ	0x108E
    01087 C007      RJMP	0x108F
(0159)     case 0:
(0160) 	  readTemp_1();
    01088 DDBD      RCALL	_readTemp_1
(0161) 	  break;
    01089 C005      RJMP	0x108F
(0162) 	case 1:
(0163) 	  readTemp_2();
    0108A DE2C      RCALL	_readTemp_2
(0164) 	  break;
    0108B C003      RJMP	0x108F
(0165) 	case 2:
(0166) 	  readTemp_3();
    0108C DEA3      RCALL	_readTemp_3
(0167) 	  break;
    0108D C001      RJMP	0x108F
(0168) 	case 3:
(0169) 	  readTemp_4();
    0108E DF32      RCALL	_readTemp_4
(0170) 	  break;
    0108F 9159      LD	R21,Y+
    01090 9149      LD	R20,Y+
    01091 9508      RET
_out_port:
    01092 92AA      ST	-Y,R10
    01093 92BA      ST	-Y,R11
FILE: E:\ICCDemo\Temp_Control\temp_control\out.c
(0001) #include<iom128v.h>
(0002) #include "out.h"
(0003) #include "lcd.h"
(0004) #include "main.h"
(0005) //*********************
(0006) // 1秒钟50周期，控制功率是50周期输出量
(0007) //*********************
(0008) uint hz=1;//1~50表示周期
(0009) 
(0010) //0、1的传入。port由0~7
(0011) void out_port(void){
(0012)    if(hz==51){
    01094 9180 0847 LDS	R24,hz
    01096 9190 0848 LDS	R25,hz+1
    01098 3383      CPI	R24,0x33
    01099 E0E0      LDI	R30,0
    0109A 079E      CPC	R25,R30
    0109B F431      BNE	0x10A2
(0013)      hz=1;
    0109C E081      LDI	R24,1
    0109D E090      LDI	R25,0
    0109E 9390 0848 STS	hz+1,R25
    010A0 9380 0847 STS	hz,R24
(0014)    }
(0015)    if(temps[0].flag==1){
    010A2 9180 0335 LDS	R24,temps
    010A4 9190 0336 LDS	R25,temps+1
    010A6 3081      CPI	R24,1
    010A7 E0E0      LDI	R30,0
    010A8 079E      CPC	R25,R30
    010A9 F4E9      BNE	0x10C7
(0016) 	  if(temps[0].incrementtemp>=hz){
    010AA 9040 0477 LDS	R4,temps+322
    010AC 9050 0478 LDS	R5,temps+323
    010AE 9020 0475 LDS	R2,temps+320
    010B0 9030 0476 LDS	R3,temps+321
    010B2 9100 0847 LDS	R16,hz
    010B4 9110 0848 LDS	R17,hz+1
    010B6 940E 3DB8 CALL	uint2fp
    010B8 933A      ST	-Y,R19
    010B9 932A      ST	-Y,R18
    010BA 931A      ST	-Y,R17
    010BB 930A      ST	-Y,R16
    010BC 0181      MOVW	R16,R2
    010BD 0192      MOVW	R18,R4
    010BE 940E 3F88 CALL	fpcmp2
    010C0 F014      BLT	0x10C3
(0017) 	    PORTE |=0x01;
    010C1 9A18      SBI	0x03,0
(0018) 	  }else {
    010C2 C007      RJMP	0x10CA
(0019) 	    PORTE &=0xFE;
    010C3 B183      IN	R24,0x03
    010C4 7F8E      ANDI	R24,0xFE
    010C5 B983      OUT	0x03,R24
(0020) 	  }
(0021)    }else{
    010C6 C003      RJMP	0x10CA
(0022)       PORTE &=0xFE;
    010C7 B183      IN	R24,0x03
    010C8 7F8E      ANDI	R24,0xFE
    010C9 B983      OUT	0x03,R24
(0023)    }
(0024)     if(temps[1].flag==1){
    010CA 9180 0479 LDS	R24,temps+324
    010CC 9190 047A LDS	R25,temps+325
    010CE 3081      CPI	R24,1
    010CF E0E0      LDI	R30,0
    010D0 079E      CPC	R25,R30
    010D1 F4E9      BNE	0x10EF
(0025) 	  if(temps[0].incrementtemp>=hz){
    010D2 9040 0477 LDS	R4,temps+322
    010D4 9050 0478 LDS	R5,temps+323
    010D6 9020 0475 LDS	R2,temps+320
    010D8 9030 0476 LDS	R3,temps+321
    010DA 9100 0847 LDS	R16,hz
    010DC 9110 0848 LDS	R17,hz+1
    010DE 940E 3DB8 CALL	uint2fp
    010E0 933A      ST	-Y,R19
    010E1 932A      ST	-Y,R18
    010E2 931A      ST	-Y,R17
    010E3 930A      ST	-Y,R16
    010E4 0181      MOVW	R16,R2
    010E5 0192      MOVW	R18,R4
    010E6 940E 3F88 CALL	fpcmp2
    010E8 F014      BLT	0x10EB
(0026) 	      PORTE |=0x02;
    010E9 9A19      SBI	0x03,1
(0027) 	    }else {
    010EA C007      RJMP	0x10F2
(0028) 	      PORTE &=0xFD;
    010EB B183      IN	R24,0x03
    010EC 7F8D      ANDI	R24,0xFD
    010ED B983      OUT	0x03,R24
(0029) 	    }
(0030)    }else{
    010EE C003      RJMP	0x10F2
(0031)       PORTE &=0xFD;
    010EF B183      IN	R24,0x03
    010F0 7F8D      ANDI	R24,0xFD
    010F1 B983      OUT	0x03,R24
(0032)    }
(0033)     if(temps[2].flag==1){
    010F2 9180 05BD LDS	R24,temps+648
    010F4 9190 05BE LDS	R25,temps+649
    010F6 3081      CPI	R24,1
    010F7 E0E0      LDI	R30,0
    010F8 079E      CPC	R25,R30
    010F9 F4E9      BNE	0x1117
(0034) 	  if(temps[0].incrementtemp>=hz){
    010FA 9040 0477 LDS	R4,temps+322
    010FC 9050 0478 LDS	R5,temps+323
    010FE 9020 0475 LDS	R2,temps+320
    01100 9030 0476 LDS	R3,temps+321
    01102 9100 0847 LDS	R16,hz
    01104 9110 0848 LDS	R17,hz+1
    01106 940E 3DB8 CALL	uint2fp
    01108 933A      ST	-Y,R19
    01109 932A      ST	-Y,R18
    0110A 931A      ST	-Y,R17
    0110B 930A      ST	-Y,R16
    0110C 0181      MOVW	R16,R2
    0110D 0192      MOVW	R18,R4
    0110E 940E 3F88 CALL	fpcmp2
    01110 F014      BLT	0x1113
(0035) 	      PORTE |=0x04;
    01111 9A1A      SBI	0x03,2
(0036) 	    }else {
    01112 C007      RJMP	0x111A
(0037) 	      PORTE &=0xFB;
    01113 B183      IN	R24,0x03
    01114 7F8B      ANDI	R24,0xFB
    01115 B983      OUT	0x03,R24
(0038) 	    }
(0039)    }else{
    01116 C003      RJMP	0x111A
(0040)       PORTE &=0xFB;
    01117 B183      IN	R24,0x03
    01118 7F8B      ANDI	R24,0xFB
    01119 B983      OUT	0x03,R24
(0041)    }
(0042)     if(temps[3].flag==1){
    0111A 9180 0701 LDS	R24,temps+972
    0111C 9190 0702 LDS	R25,temps+973
    0111E 3081      CPI	R24,1
    0111F E0E0      LDI	R30,0
    01120 079E      CPC	R25,R30
    01121 F4E9      BNE	0x113F
(0043) 	  if(temps[0].incrementtemp>=hz){
    01122 9040 0477 LDS	R4,temps+322
    01124 9050 0478 LDS	R5,temps+323
    01126 9020 0475 LDS	R2,temps+320
    01128 9030 0476 LDS	R3,temps+321
    0112A 9100 0847 LDS	R16,hz
    0112C 9110 0848 LDS	R17,hz+1
    0112E 940E 3DB8 CALL	uint2fp
    01130 933A      ST	-Y,R19
    01131 932A      ST	-Y,R18
    01132 931A      ST	-Y,R17
    01133 930A      ST	-Y,R16
    01134 0181      MOVW	R16,R2
    01135 0192      MOVW	R18,R4
    01136 940E 3F88 CALL	fpcmp2
    01138 F014      BLT	0x113B
(0044) 	      PORTE |=0x08;
    01139 9A1B      SBI	0x03,3
(0045) 	    }else {
    0113A C007      RJMP	0x1142
(0046) 	      PORTE &=0xF7;
    0113B B183      IN	R24,0x03
    0113C 7F87      ANDI	R24,0xF7
    0113D B983      OUT	0x03,R24
(0047) 	    }
(0048)    }else{
    0113E C003      RJMP	0x1142
(0049)      PORTE &=0xF7;
    0113F B183      IN	R24,0x03
    01140 7F87      ANDI	R24,0xF7
    01141 B983      OUT	0x03,R24
(0050)    }
(0051)     hz++;
    01142 9180 0847 LDS	R24,hz
    01144 9190 0848 LDS	R25,hz+1
    01146 9601      ADIW	R24,1
    01147 9390 0848 STS	hz+1,R25
    01149 9380 0847 STS	hz,R24
    0114B 90B9      LD	R11,Y+
    0114C 90A9      LD	R10,Y+
    0114D 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\uart.c
(0001) #include <iom128v.h>
(0002) #include "uart.h"
(0003) #include "temp.h"
(0004) #include "main.h"
(0005) #define fosc  800000  //晶振8MHZ
(0006) #define baud 9600  //波特率
(0007) void read_cmd(void);
(0008) 
(0009) void uart0_init(void)
(0010) {
(0011) UCSR0B = 0x00; //关闭UART00
_uart0_init:
    0114E 2422      CLR	R2
    0114F B82A      OUT	0x0A,R2
(0012) UCSR0A = 0x00; //不使用倍速发送（异步）
    01150 B82B      OUT	0x0B,R2
(0013) UCSR0C =(1<<UCSZ01)|(1<<UCSZ00); //数据位为8位
    01151 E086      LDI	R24,6
    01152 9380 0095 STS	0x95,R24
(0014) //UBRR0L=(fosc/16/(baud+1))%6; //异步正常情况下的计算公式
(0015) //UBRR0H=(fosc/16/(baud+1))/256;
(0016) UBRR0L=103; //异步正常情况下的计算公式.9600
    01154 E687      LDI	R24,0x67
    01155 B989      OUT	0x09,R24
(0017) UBRR0H=0x00;
    01156 9220 0090 STS	0x90,R2
(0018) UCSR0B |=(1<<RXEN0)|(1<<TXEN0)|(1<<RXCIE0); //接收使能和发送使能.接收终端打开
    01158 B18A      IN	R24,0x0A
    01159 6988      ORI	R24,0x98
    0115A B98A      OUT	0x0A,R24
    0115B 9508      RET
(0019) 
(0020) }
(0021) 
(0022) void putchar0(unsigned char c)
(0023) {
(0024) while (!(UCSR0A&(1<<UDRE0)));//表明发送器已经准备就绪
_putchar0:
  c                    --> R16
    0115C 9B5D      SBIS	0x0B,5
    0115D CFFE      RJMP	_putchar0
(0025) UDR0=c; //将要发送的数据装入UDR0寄存器
    0115E B90C      OUT	0x0C,R16
    0115F 9508      RET
(0026) }
(0027) 
(0028) 
(0029) unsigned char getchar0(void)
(0030) {
(0031)   while(!(UCSR0A& (1<<RXC0)));//表明已经接收完毕
_getchar0:
    01160 9B5F      SBIS	0x0B,7
    01161 CFFE      RJMP	_getchar0
(0032)   return UDR0;
    01162 B10C      IN	R16,0x0C
    01163 9508      RET
_int_ruart0:
  data                 --> R20
    01164 920A      ST	-Y,R0
    01165 921A      ST	-Y,R1
    01166 922A      ST	-Y,R2
    01167 923A      ST	-Y,R3
    01168 924A      ST	-Y,R4
    01169 925A      ST	-Y,R5
    0116A 926A      ST	-Y,R6
    0116B 927A      ST	-Y,R7
    0116C 928A      ST	-Y,R8
    0116D 929A      ST	-Y,R9
    0116E 930A      ST	-Y,R16
    0116F 931A      ST	-Y,R17
    01170 932A      ST	-Y,R18
    01171 933A      ST	-Y,R19
    01172 938A      ST	-Y,R24
    01173 939A      ST	-Y,R25
    01174 93AA      ST	-Y,R26
    01175 93BA      ST	-Y,R27
    01176 93EA      ST	-Y,R30
    01177 93FA      ST	-Y,R31
    01178 B60F      IN	R0,0x3F
    01179 920A      ST	-Y,R0
    0117A 934A      ST	-Y,R20
(0033) }
(0034) //读取中断
(0035) #pragma interrupt_handler int_ruart0:19
(0036) void int_ruart0(void){
(0037)    uchar data;
(0038)    UCSR0B &=~(1<<RXCIE0); //关中断
    0117B 9857      CBI	0x0A,7
(0039)    data=UDR0;
    0117C B14C      IN	R20,0x0C
(0040)    if(read_data_cmd=='z'){//空指令
    0117D 9180 021A LDS	R24,read_data_cmd
    0117F 378A      CPI	R24,0x7A
    01180 F451      BNE	0x118B
(0041)      if(data>='a' && data<='i'){//指令，记录指令
    01181 3641      CPI	R20,0x61
    01182 F408      BCC	0x1184
    01183 C05D      RJMP	0x11E1
    01184 E689      LDI	R24,0x69
    01185 1784      CP	R24,R20
    01186 F408      BCC	0x1188
    01187 C059      RJMP	0x11E1
(0042) 	   read_data_cmd=data;
    01188 9340 021A STS	read_data_cmd,R20
(0043) 	 }//其他不处理，丢弃
(0044) 	 
(0045)    }else{
    0118A C056      RJMP	0x11E1
(0046)       if(data==read_data_cmd){//指令，当前指令内容发送完毕
    0118B 9020 021A LDS	R2,read_data_cmd
    0118D 1542      CP	R20,R2
    0118E F459      BNE	0x119A
(0047) 	    read_cmd();//执行获得数据的方法
    0118F D0E2      RCALL	_read_cmd
(0048) 		read_data_cur=0;
    01190 2422      CLR	R2
    01191 2433      CLR	R3
    01192 9230 0219 STS	read_data_cur+1,R3
    01194 9220 0218 STS	read_data_cur,R2
(0049) 	   read_data_cmd='z';
    01196 E78A      LDI	R24,0x7A
    01197 9380 021A STS	read_data_cmd,R24
(0050) 	 }else if(data>='0' && data<='9'){//数字参数，接收。使用串口工具，发送的是ascii侣
    01199 C047      RJMP	0x11E1
    0119A 3340      CPI	R20,0x30
    0119B F170      BCS	0x11CA
    0119C E389      LDI	R24,0x39
    0119D 1784      CP	R24,R20
    0119E F158      BCS	0x11CA
(0051) 	    read_data_cache[read_data_cur]=data-0x30;
    0119F E180      LDI	R24,0x10
    011A0 E091      LDI	R25,1
    011A1 91E0 0218 LDS	R30,read_data_cur
    011A3 91F0 0219 LDS	R31,read_data_cur+1
    011A5 0FEE      LSL	R30
    011A6 1FFF      ROL	R31
    011A7 0FE8      ADD	R30,R24
    011A8 1FF9      ADC	R31,R25
    011A9 2F84      MOV	R24,R20
    011AA 2799      CLR	R25
    011AB 97C0      SBIW	R24,0x30
    011AC 8391      STD	Z+1,R25
    011AD 8380      ST	Z,R24
(0052) 		read_data_cur++;
    011AE 9180 0218 LDS	R24,read_data_cur
    011B0 9190 0219 LDS	R25,read_data_cur+1
    011B2 9601      ADIW	R24,1
    011B3 9390 0219 STS	read_data_cur+1,R25
    011B5 9380 0218 STS	read_data_cur,R24
(0053) 		if(read_data_cur>131){//发送数据缓存溢出。上位机发送数据不对。丢弃所有
    011B7 E883      LDI	R24,0x83
    011B8 E090      LDI	R25,0
    011B9 9020 0218 LDS	R2,read_data_cur
    011BB 9030 0219 LDS	R3,read_data_cur+1
    011BD 1582      CP	R24,R2
    011BE 0593      CPC	R25,R3
    011BF F508      BCC	0x11E1
(0054) 		  read_data_cur=0;
    011C0 2422      CLR	R2
    011C1 2433      CLR	R3
    011C2 9230 0219 STS	read_data_cur+1,R3
    011C4 9220 0218 STS	read_data_cur,R2
(0055) 	      read_data_cmd='z';
    011C6 E78A      LDI	R24,0x7A
    011C7 9380 021A STS	read_data_cmd,R24
(0056) 		}
(0057) 	 }else if(data>='a' && data<='i'){
    011C9 C017      RJMP	0x11E1
    011CA 3641      CPI	R20,0x61
    011CB F060      BCS	0x11D8
    011CC E689      LDI	R24,0x69
    011CD 1784      CP	R24,R20
    011CE F048      BCS	0x11D8
(0058) 	  //为其他命令字，记录。上位机符合规范发送不会出现此情况。
(0059) 	  //预防硬件发送数据跑偏，丢弃上一命令字，按新命令字运行
(0060) 	   read_data_cur=0;
    011CF 2422      CLR	R2
    011D0 2433      CLR	R3
    011D1 9230 0219 STS	read_data_cur+1,R3
    011D3 9220 0218 STS	read_data_cur,R2
(0061) 	   read_data_cmd=data;
    011D5 9340 021A STS	read_data_cmd,R20
(0062) 	 }else{//接收出错，更改指令字为空，抛弃当前数据 
    011D7 C009      RJMP	0x11E1
(0063) 	   read_data_cur=0;
    011D8 2422      CLR	R2
    011D9 2433      CLR	R3
    011DA 9230 0219 STS	read_data_cur+1,R3
    011DC 9220 0218 STS	read_data_cur,R2
(0064) 	   read_data_cmd='z';
    011DE E78A      LDI	R24,0x7A
    011DF 9380 021A STS	read_data_cmd,R24
(0065) 	 }
(0066)    }
(0067)    UCSR0B |=1<<RXCIE0; //开中断
    011E1 9A57      SBI	0x0A,7
    011E2 9149      LD	R20,Y+
    011E3 9009      LD	R0,Y+
    011E4 BE0F      OUT	0x3F,R0
    011E5 91F9      LD	R31,Y+
    011E6 91E9      LD	R30,Y+
    011E7 91B9      LD	R27,Y+
    011E8 91A9      LD	R26,Y+
    011E9 9199      LD	R25,Y+
    011EA 9189      LD	R24,Y+
    011EB 9139      LD	R19,Y+
    011EC 9129      LD	R18,Y+
    011ED 9119      LD	R17,Y+
    011EE 9109      LD	R16,Y+
    011EF 9099      LD	R9,Y+
    011F0 9089      LD	R8,Y+
    011F1 9079      LD	R7,Y+
    011F2 9069      LD	R6,Y+
    011F3 9059      LD	R5,Y+
    011F4 9049      LD	R4,Y+
    011F5 9039      LD	R3,Y+
    011F6 9029      LD	R2,Y+
    011F7 9019      LD	R1,Y+
    011F8 9009      LD	R0,Y+
    011F9 9518      RETI
_int_suart0:
    011FA 921A      ST	-Y,R1
    011FB 922A      ST	-Y,R2
    011FC 923A      ST	-Y,R3
    011FD 924A      ST	-Y,R4
    011FE 925A      ST	-Y,R5
    011FF 938A      ST	-Y,R24
    01200 939A      ST	-Y,R25
    01201 93EA      ST	-Y,R30
    01202 93FA      ST	-Y,R31
    01203 B61F      IN	R1,0x3F
    01204 921A      ST	-Y,R1
(0068) }
(0069) //发送中断
(0070) #pragma interrupt_handler int_suart0:20
(0071) void int_suart0(void){
(0072)    UCSR0B &=~(1<<UDRIE0); //关中断
    01205 9855      CBI	0x0A,5
(0073)    if(send_data_cur<send_data_length){//还有数据存在，继续发送
    01206 9020 0329 LDS	R2,send_data_length
    01208 9030 032A LDS	R3,send_data_length+1
    0120A 9040 032B LDS	R4,send_data_cur
    0120C 9050 032C LDS	R5,send_data_cur+1
    0120E 1442      CP	R4,R2
    0120F 0453      CPC	R5,R3
    01210 F490      BCC	0x1223
(0074)       UDR0=send_data_cache[send_data_cur];
    01211 E18B      LDI	R24,0x1B
    01212 E092      LDI	R25,2
    01213 01F2      MOVW	R30,R4
    01214 0FEE      LSL	R30
    01215 1FFF      ROL	R31
    01216 0FE8      ADD	R30,R24
    01217 1FF9      ADC	R31,R25
    01218 8020      LD	R2,Z
    01219 8031      LDD	R3,Z+1
    0121A B82C      OUT	0x0C,R2
(0075) 	  send_data_cur++;
    0121B 01C2      MOVW	R24,R4
    0121C 9601      ADIW	R24,1
    0121D 9390 032C STS	send_data_cur+1,R25
    0121F 9380 032B STS	send_data_cur,R24
(0076) 	  UCSR0B |=(1<<UDRIE0); //开中断
    01221 9A55      SBI	0x0A,5
(0077)    }else{//没有数据啦，清空游标。关中断
    01222 C00A      RJMP	0x122D
(0078)     send_data_length=0;
    01223 2422      CLR	R2
    01224 2433      CLR	R3
    01225 9230 032A STS	send_data_length+1,R3
    01227 9220 0329 STS	send_data_length,R2
(0079)     send_data_cur=0;
    01229 9230 032C STS	send_data_cur+1,R3
    0122B 9220 032B STS	send_data_cur,R2
(0080)    } 
    0122D 9019      LD	R1,Y+
    0122E BE1F      OUT	0x3F,R1
    0122F 91F9      LD	R31,Y+
    01230 91E9      LD	R30,Y+
    01231 9199      LD	R25,Y+
    01232 9189      LD	R24,Y+
    01233 9059      LD	R5,Y+
    01234 9049      LD	R4,Y+
    01235 9039      LD	R3,Y+
    01236 9029      LD	R2,Y+
    01237 9019      LD	R1,Y+
    01238 9518      RETI
_puts0:
  s                    --> R20
    01239 934A      ST	-Y,R20
    0123A 935A      ST	-Y,R21
    0123B 01A8      MOVW	R20,R16
(0081)   
(0082) }
(0083) 
(0084) void puts0(char *s)
(0085) {
    0123C C005      RJMP	0x1242
(0086)   while (*s)
(0087)   {
(0088)     putchar0(*s);
    0123D 01FA      MOVW	R30,R20
    0123E 8100      LD	R16,Z
    0123F DF1C      RCALL	_putchar0
(0089)     s++;
    01240 5F4F      SUBI	R20,0xFF
    01241 4F5F      SBCI	R21,0xFF
    01242 01FA      MOVW	R30,R20
    01243 8020      LD	R2,Z
    01244 2022      TST	R2
    01245 F7B9      BNE	0x123D
(0090)   }
(0091)   putchar0(0x0a);//回车换行
    01246 E00A      LDI	R16,0xA
    01247 DF14      RCALL	_putchar0
    01248 9159      LD	R21,Y+
    01249 9149      LD	R20,Y+
    0124A 9508      RET
_cmd_oper:
  t                    --> R10
    0124B 940E 3C6B CALL	push_xgset300C
    0124D 0158      MOVW	R10,R16
(0092) //putchar0(0x0d);
(0093) }
(0094) void cmd_oper(uint t){
(0095)    switch(read_data_cache[0]){
    0124E 9140 0110 LDS	R20,read_data_cache
    01250 9150 0111 LDS	R21,read_data_cache+1
    01252 3040      CPI	R20,0
    01253 0745      CPC	R20,R21
    01254 F069      BEQ	0x1262
    01255 3041      CPI	R20,1
    01256 E0E0      LDI	R30,0
    01257 075E      CPC	R21,R30
    01258 F069      BEQ	0x1266
    01259 3042      CPI	R20,2
    0125A E0E0      LDI	R30,0
    0125B 075E      CPC	R21,R30
    0125C F069      BEQ	0x126A
    0125D 3043      CPI	R20,3
    0125E E0E0      LDI	R30,0
    0125F 075E      CPC	R21,R30
    01260 F061      BEQ	0x126D
    01261 C00E      RJMP	0x1270
(0096) 	  case 0://开始
(0097) 	    set_start(t);
    01262 0185      MOVW	R16,R10
    01263 940E 3846 CALL	_set_start
(0098) 	    break;
    01265 C00A      RJMP	0x1270
(0099) 	  case 1://停止
(0100) 	    set_stop(t);
    01266 0185      MOVW	R16,R10
    01267 940E 38A8 CALL	_set_stop
(0101) 	    break;
    01269 C006      RJMP	0x1270
(0102) 	  case 2://重置
(0103) 	    reset_temp_data(t);
    0126A 0185      MOVW	R16,R10
    0126B 940E 368A CALL	_reset_temp_data
(0104) 	  case 3://发送温度参数到串口
(0105) 	    send_temp_data(t);
    0126D 0185      MOVW	R16,R10
    0126E 940E 3624 CALL	_send_temp_data
(0106) 	    break;
    01270 940C 3C70 JMP	pop_xgset300C
_read_cmd:
    01272 934A      ST	-Y,R20
    01273 935A      ST	-Y,R21
(0107) 	}
(0108) 	
(0109) }
(0110) void read_cmd(void){
(0111)     PORTE=~PORTE;
    01274 B023      IN	R2,0x03
    01275 9420      COM	R2
    01276 B823      OUT	0x03,R2
(0112)     switch(read_data_cmd){
    01277 9140 021A LDS	R20,read_data_cmd
    01279 2755      CLR	R21
    0127A 3641      CPI	R20,0x61
    0127B E0E0      LDI	R30,0
    0127C 075E      CPC	R21,R30
    0127D F109      BEQ	0x129F
    0127E 3642      CPI	R20,0x62
    0127F E0E0      LDI	R30,0
    01280 075E      CPC	R21,R30
    01281 F109      BEQ	0x12A3
    01282 3643      CPI	R20,0x63
    01283 E0E0      LDI	R30,0
    01284 075E      CPC	R21,R30
    01285 F109      BEQ	0x12A7
    01286 3644      CPI	R20,0x64
    01287 E0E0      LDI	R30,0
    01288 075E      CPC	R21,R30
    01289 F109      BEQ	0x12AB
    0128A 3645      CPI	R20,0x65
    0128B E0E0      LDI	R30,0
    0128C 075E      CPC	R21,R30
    0128D F109      BEQ	0x12AF
    0128E 3646      CPI	R20,0x66
    0128F E0E0      LDI	R30,0
    01290 075E      CPC	R21,R30
    01291 F121      BEQ	0x12B6
    01292 3647      CPI	R20,0x67
    01293 E0E0      LDI	R30,0
    01294 075E      CPC	R21,R30
    01295 F139      BEQ	0x12BD
    01296 3648      CPI	R20,0x68
    01297 E0E0      LDI	R30,0
    01298 075E      CPC	R21,R30
    01299 F151      BEQ	0x12C4
    0129A 3649      CPI	R20,0x69
    0129B E0E0      LDI	R30,0
    0129C 075E      CPC	R21,R30
    0129D F169      BEQ	0x12CB
    0129E C052      RJMP	0x12F1
(0113) 	  case 'a':
(0114) 	    cmd_oper(0);
    0129F 2700      CLR	R16
    012A0 2711      CLR	R17
    012A1 DFA9      RCALL	_cmd_oper
(0115) 	    break;
    012A2 C04E      RJMP	0x12F1
(0116) 	  case 'b':
(0117) 	    cmd_oper(1);
    012A3 E001      LDI	R16,1
    012A4 E010      LDI	R17,0
    012A5 DFA5      RCALL	_cmd_oper
(0118) 	    break;
    012A6 C04A      RJMP	0x12F1
(0119) 	 case 'c':
(0120) 	    cmd_oper(2);
    012A7 E002      LDI	R16,2
    012A8 E010      LDI	R17,0
    012A9 DFA1      RCALL	_cmd_oper
(0121) 	    break;
    012AA C046      RJMP	0x12F1
(0122) 	 case 'd':
(0123) 	    cmd_oper(3);
    012AB E003      LDI	R16,3
    012AC E010      LDI	R17,0
    012AD DF9D      RCALL	_cmd_oper
(0124) 	    break;
    012AE C042      RJMP	0x12F1
(0125)      case 'e':
(0126) 	    set_temp_data(0,read_data_cache);
    012AF E120      LDI	R18,0x10
    012B0 E031      LDI	R19,1
    012B1 2700      CLR	R16
    012B2 2711      CLR	R17
    012B3 940E 3566 CALL	_set_temp_data
(0127) 	    break;
    012B5 C03B      RJMP	0x12F1
(0128) 	 case 'f':
(0129) 	    set_temp_data(1,read_data_cache);
    012B6 E120      LDI	R18,0x10
    012B7 E031      LDI	R19,1
    012B8 E001      LDI	R16,1
    012B9 E010      LDI	R17,0
    012BA 940E 3566 CALL	_set_temp_data
(0130) 	    break;
    012BC C034      RJMP	0x12F1
(0131) 	 case 'g':
(0132) 	    set_temp_data(2,read_data_cache);
    012BD E120      LDI	R18,0x10
    012BE E031      LDI	R19,1
    012BF E002      LDI	R16,2
    012C0 E010      LDI	R17,0
    012C1 940E 3566 CALL	_set_temp_data
(0133) 	    break;
    012C3 C02D      RJMP	0x12F1
(0134) 	 case 'h':
(0135) 	    set_temp_data(3,read_data_cache);
    012C4 E120      LDI	R18,0x10
    012C5 E031      LDI	R19,1
    012C6 E003      LDI	R16,3
    012C7 E010      LDI	R17,0
    012C8 940E 3566 CALL	_set_temp_data
(0136) 	    break;
    012CA C026      RJMP	0x12F1
(0137) 	 case 'i':
(0138) 	 switch(read_data_cache[0]){
    012CB 9140 0110 LDS	R20,read_data_cache
    012CD 9150 0111 LDS	R21,read_data_cache+1
    012CF 3040      CPI	R20,0
    012D0 0745      CPC	R20,R21
    012D1 F049      BEQ	0x12DB
    012D2 3041      CPI	R20,1
    012D3 E0E0      LDI	R30,0
    012D4 075E      CPC	R21,R30
    012D5 F041      BEQ	0x12DE
    012D6 3042      CPI	R20,2
    012D7 E0E0      LDI	R30,0
    012D8 075E      CPC	R21,R30
    012D9 F039      BEQ	0x12E1
    012DA C016      RJMP	0x12F1
(0139) 	  case 0://全部开始
(0140) 	     set_all_start();
    012DB 940E 37C9 CALL	_set_all_start
(0141) 	     break;
    012DD C013      RJMP	0x12F1
(0142) 	   case 1://全部停止
(0143) 	     set_all_stop();
    012DE 940E 3815 CALL	_set_all_stop
(0144) 	     break;
    012E0 C010      RJMP	0x12F1
(0145) 	   case 2://全部重置
(0146) 	     reset_temp_data(0);
    012E1 2700      CLR	R16
    012E2 2711      CLR	R17
    012E3 940E 368A CALL	_reset_temp_data
(0147) 		 reset_temp_data(1);
    012E5 E001      LDI	R16,1
    012E6 E010      LDI	R17,0
    012E7 940E 368A CALL	_reset_temp_data
(0148) 		 reset_temp_data(2);
    012E9 E002      LDI	R16,2
    012EA E010      LDI	R17,0
    012EB 940E 368A CALL	_reset_temp_data
(0149) 		 reset_temp_data(3);
    012ED E003      LDI	R16,3
    012EE E010      LDI	R17,0
    012EF 940E 368A CALL	_reset_temp_data
(0150) 	     break;
(0151) 	  }
(0152) 	    break;
(0153) 	 default :
(0154) 	  break;
    012F1 9159      LD	R21,Y+
    012F2 9149      LD	R20,Y+
    012F3 9508      RET
_EEPROM_write:
  data                 --> R10
  addr_l               --> R14
  addr_h               --> R12
    012F4 940E 3C64 CALL	push_xgset00FC
    012F6 0179      MOVW	R14,R18
    012F7 0168      MOVW	R12,R16
    012F8 80AE      LDD	R10,Y+6
    012F9 80BF      LDD	R11,Y+7
FILE: E:\ICCDemo\Temp_Control\temp_control\eeprom.c
(0001) #include<iom128v.h>
(0002) #include "eeprom.h"
(0003) #include "delay.h"
(0004) 
(0005) //使用全非中断方式读写。温控数据在保存时候一次性写入。状态数据执行时写入，写入量小不会影响速度
(0006) void EEPROM_write(uint addr_h,uint addr_l,uint data){
(0007)    SREG&=0x7F;//关中断
    012FA B78F      IN	R24,0x3F
    012FB 778F      ANDI	R24,0x7F
    012FC BF8F      OUT	0x3F,R24
(0008)     while(EECR & (1<<EEWE)){
    012FD 99E1      SBIC	0x1C,1
    012FE CFFE      RJMP	0x12FD
(0009) 	 			 
(0010) 	 } 
(0011) 	  EEARL=addr_l;
    012FF BAEE      OUT	0x1E,R14
(0012) 	 EEARH=addr_h;
    01300 BACF      OUT	0x1F,R12
(0013) 	 EEDR=data;
    01301 BAAD      OUT	0x1D,R10
(0014) 	 EECR|=(1<<EEMWE);
    01302 9AE2      SBI	0x1C,2
(0015) 	 EECR|=(1<<EEWE);
    01303 9AE1      SBI	0x1C,1
(0016) 	  delay_us(1);
    01304 E001      LDI	R16,1
    01305 E010      LDI	R17,0
    01306 940E 0551 CALL	_delay_us
(0017) 	 SREG|=0x80;//开中断
    01308 9478      BSET	7
(0018) 	 return;
    01309 940C 3C4E JMP	pop_xgset00FC
_EEPROM_read:
  data                 --> R10
  addr_l               --> R12
  addr_h               --> R10
    0130B 940E 3C66 CALL	push_xgset003C
    0130D 0169      MOVW	R12,R18
    0130E 0158      MOVW	R10,R16
(0019) }
(0020) uint EEPROM_read(uint addr_h,uint addr_l){
(0021)    uint data;
(0022)    SREG&=0x7F;//关中断
    0130F B78F      IN	R24,0x3F
    01310 778F      ANDI	R24,0x7F
    01311 BF8F      OUT	0x3F,R24
(0023)     while(EECR & (1<<EEWE)){ 			 
    01312 99E1      SBIC	0x1C,1
    01313 CFFE      RJMP	0x1312
(0024) 	 }
(0025) 	EEARL=addr_l;
    01314 BACE      OUT	0x1E,R12
(0026) 	 EEARH=addr_h;
    01315 BAAF      OUT	0x1F,R10
(0027) 	 
(0028) 	 EECR|=(1<<EERE);
    01316 9AE0      SBI	0x1C,0
(0029) 	 delay_us(1);
    01317 E001      LDI	R16,1
    01318 E010      LDI	R17,0
    01319 940E 0551 CALL	_delay_us
(0030) 	 data=EEDR;
    0131B B2AD      IN	R10,0x1D
    0131C 24BB      CLR	R11
(0031) 	 SREG|=0x80;//开中断
    0131D 9478      BSET	7
(0032) 	 return data;
    0131E 0185      MOVW	R16,R10
    0131F 940C 3C49 JMP	pop_xgset003C
_pageTime:
  y                    --> R10
    01321 92AA      ST	-Y,R10
    01322 92BA      ST	-Y,R11
    01323 0158      MOVW	R10,R16
    01324 9722      SBIW	R28,2
FILE: E:\ICCDemo\Temp_Control\temp_control\pages.c
(0001) #include<iom128v.h>
(0002) #include "main.h"
(0003) #include "lcd.h"
(0004) #include "time1307.h"
(0005) #include "timertask.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "temp.h"
(0009) #include "eeprom.h"
(0010) //下面这个头文件里包含WDR();喂狗的方法
(0011) //#include <AVRdef.h>
(0012) 
(0013) //************************
(0014) // 所有界面信息在这里,用到全局变量， 
(0015) // unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0016) // unsigned int pageParam[5];//传递参数。界面间参数暂存
(0017) // unsigned int prePageNum;
(0018) //************************
(0019) 
(0020) //用于显第一行日期信息，其中Page1、Page3 、Page8使用，
(0021) //由定时器触发该函数，进入这三个界面是启动定时器，退出时关闭
(0022) void pageTime(uint y){
(0023)                 //关定时器
(0024)    lcd_write_str(0,y,"时间:");
    01325 EB86      LDI	R24,0xB6
    01326 E09A      LDI	R25,0xA
    01327 8399      STD	Y+1,R25
    01328 8388      ST	Y,R24
    01329 2D2A      MOV	R18,R10
    0132A 2700      CLR	R16
    0132B 940E 07AB CALL	_lcd_write_str
(0025)    showTime_page(y);
    0132D 0185      MOVW	R16,R10
    0132E 940E 3B59 CALL	_showTime_page
    01330 9622      ADIW	R28,2
    01331 90B9      LD	R11,Y+
    01332 90A9      LD	R10,Y+
    01333 9508      RET
_pageTime2:
  y                    --> R10
    01334 92AA      ST	-Y,R10
    01335 92BA      ST	-Y,R11
    01336 0158      MOVW	R10,R16
(0026)                  //开定时器 
(0027) }
(0028) void pageTime2(uint y){
(0029)                 //关定时器
(0030)    //lcd_write_str(0,y,"时间:");
(0031)    showTime_page(y);
    01337 0185      MOVW	R16,R10
    01338 940E 3B59 CALL	_showTime_page
    0133A 90B9      LD	R11,Y+
    0133B 90A9      LD	R10,Y+
    0133C 9508      RET
_page1:
  cur                  --> R20
  keyV                 --> R10
  y                    --> R22
  i                    --> R10
    0133D 940E 3C9B CALL	push_xgsetF03C
    0133F 9722      SBIW	R28,2
(0032)                  //开定时器 
(0033) }
(0034) //page1,首页的界面
(0035) void page1(void){
(0036)    uint cur=0;
(0037)    uchar keyV;
(0038)    uint i;//用于循环
(0039)    uint y;//确定是那个半屏幕
(0040)    prePageNum=1;//首页不会再有上一界面，这里设置。虽然违反规则
    01340 E081      LDI	R24,1
    01341 E090      LDI	R25,0
    01342 9390 0AC0 STS	prePageNum+1,R25
    01344 9380 0ABF STS	prePageNum,R24
(0041)    //初始化起始选择
(0042)     lcd_write_str(1,1," T1:");
    01346 EB81      LDI	R24,0xB1
    01347 E09A      LDI	R25,0xA
    01348 8399      STD	Y+1,R25
    01349 8388      ST	Y,R24
    0134A E021      LDI	R18,1
    0134B E001      LDI	R16,1
    0134C 940E 07AB CALL	_lcd_write_str
(0043)     lcd_write_str(6,1," T2:");
    0134E EA8C      LDI	R24,0xAC
    0134F E09A      LDI	R25,0xA
    01350 8399      STD	Y+1,R25
    01351 8388      ST	Y,R24
    01352 E021      LDI	R18,1
    01353 E006      LDI	R16,6
    01354 940E 07AB CALL	_lcd_write_str
(0044)     lcd_write_str(1,2," T3:");
    01356 EA87      LDI	R24,0xA7
    01357 E09A      LDI	R25,0xA
    01358 8399      STD	Y+1,R25
    01359 8388      ST	Y,R24
    0135A E022      LDI	R18,2
    0135B E001      LDI	R16,1
    0135C 940E 07AB CALL	_lcd_write_str
(0045)     lcd_write_str(6,2," T4:");
    0135E EA82      LDI	R24,0xA2
    0135F E09A      LDI	R25,0xA
    01360 8399      STD	Y+1,R25
    01361 8388      ST	Y,R24
    01362 E022      LDI	R18,2
    01363 E006      LDI	R16,6
    01364 940E 07AB CALL	_lcd_write_str
(0046) 
(0047) 	
(0048) 	lcd_write_str(1,3,"开始    ");
    01366 E989      LDI	R24,0x99
    01367 E09A      LDI	R25,0xA
    01368 8399      STD	Y+1,R25
    01369 8388      ST	Y,R24
    0136A E023      LDI	R18,3
    0136B E001      LDI	R16,1
    0136C 940E 07AB CALL	_lcd_write_str
(0049)     lcd_write_str_con(3,"停止    ");
    0136E E920      LDI	R18,0x90
    0136F E03A      LDI	R19,0xA
    01370 E003      LDI	R16,3
    01371 940E 07F5 CALL	_lcd_write_str_con
(0050) 	lcd_write_str_con(3,"设置");
    01373 E82B      LDI	R18,0x8B
    01374 E03A      LDI	R19,0xA
    01375 E003      LDI	R16,3
    01376 940E 07F5 CALL	_lcd_write_str_con
(0051) 	lcd_write_str(1,3,"开始    ");
    01378 E989      LDI	R24,0x99
    01379 E09A      LDI	R25,0xA
    0137A 8399      STD	Y+1,R25
    0137B 8388      ST	Y,R24
    0137C E023      LDI	R18,3
    0137D E001      LDI	R16,1
    0137E 940E 07AB CALL	_lcd_write_str
(0052)     lcd_write_str_con(3,"停止    ");
    01380 E920      LDI	R18,0x90
    01381 E03A      LDI	R19,0xA
    01382 E003      LDI	R16,3
    01383 940E 07F5 CALL	_lcd_write_str_con
(0053) 	lcd_write_str_con(3,"设置"); 
    01385 E82B      LDI	R18,0x8B
    01386 E03A      LDI	R19,0xA
    01387 E003      LDI	R16,3
    01388 940E 07F5 CALL	_lcd_write_str_con
(0054) 	cur=0;
    0138A 2744      CLR	R20
    0138B 2755      CLR	R21
(0055) 	Set_White(2,1,3);
    0138C E083      LDI	R24,3
    0138D 8388      ST	Y,R24
    0138E E021      LDI	R18,1
    0138F E002      LDI	R16,2
    01390 940E 09D0 CALL	_Set_White
    01392 C389      RJMP	0x171C
(0056) 	while(1){
(0057) 	 pageTime(0);
    01393 2700      CLR	R16
    01394 2711      CLR	R17
    01395 DF8B      RCALL	_pageTime
(0058) 	for(i=0;i<4;i++){
    01396 24AA      CLR	R10
    01397 24BB      CLR	R11
    01398 C0DF      RJMP	0x1478
(0059) 	  if(i==0){
    01399 20AA      TST	R10
    0139A F449      BNE	0x13A4
    0139B 20BB      TST	R11
    0139C F439      BNE	0x13A4
(0060) 	    y=1;
    0139D E061      LDI	R22,1
    0139E E070      LDI	R23,0
(0061) 	    lcd_write_pos(3,1);
    0139F E021      LDI	R18,1
    013A0 E003      LDI	R16,3
    013A1 940E 0767 CALL	_lcd_write_pos
(0062) 	  }else if(i==1){
    013A3 C023      RJMP	0x13C7
    013A4 01C5      MOVW	R24,R10
    013A5 3081      CPI	R24,1
    013A6 E0E0      LDI	R30,0
    013A7 079E      CPC	R25,R30
    013A8 F439      BNE	0x13B0
(0063) 	    y=1;
    013A9 E061      LDI	R22,1
    013AA E070      LDI	R23,0
(0064) 	    lcd_write_pos(8,1);
    013AB E021      LDI	R18,1
    013AC E008      LDI	R16,0x8
    013AD 940E 0767 CALL	_lcd_write_pos
(0065) 	  }else if(i==2){
    013AF C017      RJMP	0x13C7
    013B0 01C5      MOVW	R24,R10
    013B1 3082      CPI	R24,2
    013B2 E0E0      LDI	R30,0
    013B3 079E      CPC	R25,R30
    013B4 F439      BNE	0x13BC
(0066) 	    y=2;
    013B5 E062      LDI	R22,2
    013B6 E070      LDI	R23,0
(0067) 	    lcd_write_pos(3,2);
    013B7 E022      LDI	R18,2
    013B8 E003      LDI	R16,3
    013B9 940E 0767 CALL	_lcd_write_pos
(0068) 	  }else if(i==3){
    013BB C00B      RJMP	0x13C7
    013BC 01C5      MOVW	R24,R10
    013BD 3083      CPI	R24,3
    013BE E0E0      LDI	R30,0
    013BF 079E      CPC	R25,R30
    013C0 F431      BNE	0x13C7
(0069) 	    y=2;
    013C1 E062      LDI	R22,2
    013C2 E070      LDI	R23,0
(0070) 	    lcd_write_pos(8,2);
    013C3 E022      LDI	R18,2
    013C4 E008      LDI	R16,0x8
    013C5 940E 0767 CALL	_lcd_write_pos
(0071) 	  }
(0072) 	   switch(temps[i].flag){
    013C7 E404      LDI	R16,0x44
    013C8 E011      LDI	R17,1
    013C9 0195      MOVW	R18,R10
    013CA 940E 3C39 CALL	empy16s
    013CC E385      LDI	R24,0x35
    013CD E093      LDI	R25,3
    013CE 01F8      MOVW	R30,R16
    013CF 0FE8      ADD	R30,R24
    013D0 1FF9      ADC	R31,R25
    013D1 80C0      LD	R12,Z
    013D2 80D1      LDD	R13,Z+1
    013D3 20CC      TST	R12
    013D4 F411      BNE	0x13D7
    013D5 20DD      TST	R13
    013D6 F0F9      BEQ	0x13F6
    013D7 01C6      MOVW	R24,R12
    013D8 3081      CPI	R24,1
    013D9 E0E0      LDI	R30,0
    013DA 079E      CPC	R25,R30
    013DB F101      BEQ	0x13FC
    013DC 3082      CPI	R24,2
    013DD E0E0      LDI	R30,0
    013DE 079E      CPC	R25,R30
    013DF F409      BNE	0x13E1
    013E0 C077      RJMP	0x1458
    013E1 3083      CPI	R24,3
    013E2 E0E0      LDI	R30,0
    013E3 079E      CPC	R25,R30
    013E4 F409      BNE	0x13E6
    013E5 C078      RJMP	0x145E
    013E6 3084      CPI	R24,4
    013E7 E0E0      LDI	R30,0
    013E8 079E      CPC	R25,R30
    013E9 F409      BNE	0x13EB
    013EA C079      RJMP	0x1464
    013EB 3085      CPI	R24,5
    013EC E0E0      LDI	R30,0
    013ED 079E      CPC	R25,R30
    013EE F409      BNE	0x13F0
    013EF C07A      RJMP	0x146A
    013F0 3086      CPI	R24,6
    013F1 E0E0      LDI	R30,0
    013F2 079E      CPC	R25,R30
    013F3 F409      BNE	0x13F5
    013F4 C07B      RJMP	0x1470
    013F5 C07F      RJMP	0x1475
(0073) 	     case 0:
(0074) 		   lcd_write_str_con(y,"停止");
    013F6 E826      LDI	R18,0x86
    013F7 E03A      LDI	R19,0xA
    013F8 2F06      MOV	R16,R22
    013F9 940E 07F5 CALL	_lcd_write_str_con
(0075) 		   break;
    013FB C079      RJMP	0x1475
(0076) 		 case 1:
(0077) 		   lcd_write_char_con(y,0x30 | (int)temps[i].actualtemp/100);
    013FC E404      LDI	R16,0x44
    013FD E011      LDI	R17,1
    013FE 0195      MOVW	R18,R10
    013FF 940E 3C39 CALL	empy16s
    01401 E589      LDI	R24,0x59
    01402 E094      LDI	R25,4
    01403 01F8      MOVW	R30,R16
    01404 0FE8      ADD	R30,R24
    01405 1FF9      ADC	R31,R25
    01406 8100      LD	R16,Z
    01407 8111      LDD	R17,Z+1
    01408 8122      LDD	R18,Z+2
    01409 8133      LDD	R19,Z+3
    0140A 940E 3D86 CALL	fpint
    0140C E624      LDI	R18,0x64
    0140D E030      LDI	R19,0
    0140E 940E 3BEF CALL	div16s
    01410 0198      MOVW	R18,R16
    01411 6320      ORI	R18,0x30
    01412 2F06      MOV	R16,R22
    01413 940E 0753 CALL	_lcd_write_char_con
(0078) 		   lcd_write_char_con(y,0x30 | ((int)temps[i].actualtemp/10)%10);
    01415 E404      LDI	R16,0x44
    01416 E011      LDI	R17,1
    01417 0195      MOVW	R18,R10
    01418 940E 3C39 CALL	empy16s
    0141A E589      LDI	R24,0x59
    0141B E094      LDI	R25,4
    0141C 01F8      MOVW	R30,R16
    0141D 0FE8      ADD	R30,R24
    0141E 1FF9      ADC	R31,R25
    0141F 8100      LD	R16,Z
    01420 8111      LDD	R17,Z+1
    01421 8122      LDD	R18,Z+2
    01422 8133      LDD	R19,Z+3
    01423 940E 3D86 CALL	fpint
    01425 E02A      LDI	R18,0xA
    01426 E030      LDI	R19,0
    01427 940E 3BEF CALL	div16s
    01429 E02A      LDI	R18,0xA
    0142A E030      LDI	R19,0
    0142B 940E 3BEB CALL	mod16s
    0142D 0198      MOVW	R18,R16
    0142E 6320      ORI	R18,0x30
    0142F 2F06      MOV	R16,R22
    01430 940E 0753 CALL	_lcd_write_char_con
(0079) 		   lcd_write_char_con(y,0x30 | (int)temps[i].actualtemp%10);
    01432 E404      LDI	R16,0x44
    01433 E011      LDI	R17,1
    01434 0195      MOVW	R18,R10
    01435 940E 3C39 CALL	empy16s
    01437 E589      LDI	R24,0x59
    01438 E094      LDI	R25,4
    01439 01F8      MOVW	R30,R16
    0143A 0FE8      ADD	R30,R24
    0143B 1FF9      ADC	R31,R25
    0143C 8100      LD	R16,Z
    0143D 8111      LDD	R17,Z+1
    0143E 8122      LDD	R18,Z+2
    0143F 8133      LDD	R19,Z+3
    01440 940E 3D86 CALL	fpint
    01442 E02A      LDI	R18,0xA
    01443 E030      LDI	R19,0
    01444 940E 3BEB CALL	mod16s
    01446 0198      MOVW	R18,R16
    01447 6320      ORI	R18,0x30
    01448 2F06      MOV	R16,R22
    01449 940E 0753 CALL	_lcd_write_char_con
(0080) 		   lcd_write_char_con(y,' ');
    0144B E220      LDI	R18,0x20
    0144C 2F06      MOV	R16,R22
    0144D 940E 0753 CALL	_lcd_write_char_con
(0081) 		   lcd_write_char_con(y,0xA1);
    0144F EA21      LDI	R18,0xA1
    01450 2F06      MOV	R16,R22
    01451 940E 0753 CALL	_lcd_write_char_con
(0082)           lcd_write_char_con(y,0xE6);
    01453 EE26      LDI	R18,0xE6
    01454 2F06      MOV	R16,R22
    01455 940E 0753 CALL	_lcd_write_char_con
(0083) 		   break;
    01457 C01D      RJMP	0x1475
(0084) 		 case 2:
(0085) 		   lcd_write_str_con(y,"故障");
    01458 E821      LDI	R18,0x81
    01459 E03A      LDI	R19,0xA
    0145A 2F06      MOV	R16,R22
    0145B 940E 07F5 CALL	_lcd_write_str_con
(0086) 		   break;
    0145D C017      RJMP	0x1475
(0087) 		 case 3:
(0088) 		   lcd_write_str_con(y,"暂停");
    0145E E72C      LDI	R18,0x7C
    0145F E03A      LDI	R19,0xA
    01460 2F06      MOV	R16,R22
    01461 940E 07F5 CALL	_lcd_write_str_con
(0089) 		   break;
    01463 C011      RJMP	0x1475
(0090) 		 case 4:
(0091) 		   lcd_write_str_con(y,"结束");
    01464 E727      LDI	R18,0x77
    01465 E03A      LDI	R19,0xA
    01466 2F06      MOV	R16,R22
    01467 940E 07F5 CALL	_lcd_write_str_con
(0092) 		   break;
    01469 C00B      RJMP	0x1475
(0093) 		 case 5:
(0094) 		   lcd_write_str_con(y,"等待");
    0146A E722      LDI	R18,0x72
    0146B E03A      LDI	R19,0xA
    0146C 2F06      MOV	R16,R22
    0146D 940E 07F5 CALL	_lcd_write_str_con
(0095) 		   break;
    0146F C005      RJMP	0x1475
(0096) 		 case 6:
(0097) 		   lcd_write_str_con(y,"暂停");
    01470 E72C      LDI	R18,0x7C
    01471 E03A      LDI	R19,0xA
    01472 2F06      MOV	R16,R22
    01473 940E 07F5 CALL	_lcd_write_str_con
    01475 01C5      MOVW	R24,R10
    01476 9601      ADIW	R24,1
    01477 015C      MOVW	R10,R24
    01478 01C5      MOVW	R24,R10
    01479 3084      CPI	R24,4
    0147A E0E0      LDI	R30,0
    0147B 079E      CPC	R25,R30
    0147C F408      BCC	0x147E
    0147D CF1B      RJMP	0x1399
(0098) 		   break;
(0099) 		   break;
(0100) 		 default:
(0101) 		   break;
(0102) 	   }
(0103) 	}
(0104) 	 keyV=KeyScan_once();
    0147E 940E 0648 CALL	_KeyScan_once
    01480 2EA0      MOV	R10,R16
(0105) 	 if(keyV=='a'){
    01481 3601      CPI	R16,0x61
    01482 F009      BEQ	0x1484
    01483 C053      RJMP	0x14D7
(0106) 	      //pageNum=8;//跳转到设置时间的界面
(0107) 		   pageNum=8;
    01484 E088      LDI	R24,0x8
    01485 E090      LDI	R25,0
    01486 9390 0ACC STS	pageNum+1,R25
    01488 9380 0ACB STS	pageNum,R24
(0108) 	   switch(cur){
    0148A 3040      CPI	R20,0
    0148B 0745      CPC	R20,R21
    0148C F0C9      BEQ	0x14A6
    0148D 3041      CPI	R20,1
    0148E E0E0      LDI	R30,0
    0148F 075E      CPC	R21,R30
    01490 F0E1      BEQ	0x14AD
    01491 3042      CPI	R20,2
    01492 E0E0      LDI	R30,0
    01493 075E      CPC	R21,R30
    01494 F0F9      BEQ	0x14B4
    01495 3043      CPI	R20,3
    01496 E0E0      LDI	R30,0
    01497 075E      CPC	R21,R30
    01498 F111      BEQ	0x14BB
    01499 3044      CPI	R20,4
    0149A E0E0      LDI	R30,0
    0149B 075E      CPC	R21,R30
    0149C F129      BEQ	0x14C2
    0149D 3045      CPI	R20,5
    0149E E0E0      LDI	R30,0
    0149F 075E      CPC	R21,R30
    014A0 F141      BEQ	0x14C9
    014A1 3046      CPI	R20,6
    014A2 E0E0      LDI	R30,0
    014A3 075E      CPC	R21,R30
    014A4 F159      BEQ	0x14D0
    014A5 C277      RJMP	0x171D
(0109) 		 case 0: 
(0110) 		    Set_White_off(2,1,3);
    014A6 E083      LDI	R24,3
    014A7 8388      ST	Y,R24
    014A8 E021      LDI	R18,1
    014A9 E002      LDI	R16,2
    014AA 940E 0960 CALL	_Set_White_off
(0111) 		    break;
    014AC C270      RJMP	0x171D
(0112) 		 case 1:
(0113) 		   Set_White_off(7,1,8);
    014AD E088      LDI	R24,0x8
    014AE 8388      ST	Y,R24
    014AF E021      LDI	R18,1
    014B0 E007      LDI	R16,7
    014B1 940E 0960 CALL	_Set_White_off
(0114) 		   break;
    014B3 C269      RJMP	0x171D
(0115) 		 case 2:
(0116) 		  Set_White_off(2,2,3);
    014B4 E083      LDI	R24,3
    014B5 8388      ST	Y,R24
    014B6 E022      LDI	R18,2
    014B7 E002      LDI	R16,2
    014B8 940E 0960 CALL	_Set_White_off
(0117) 		  break;
    014BA C262      RJMP	0x171D
(0118) 		 case 3:
(0119) 		   Set_White_off(7,2,8);
    014BB E088      LDI	R24,0x8
    014BC 8388      ST	Y,R24
    014BD E022      LDI	R18,2
    014BE E007      LDI	R16,7
    014BF 940E 0960 CALL	_Set_White_off
(0120) 		    break;
    014C1 C25B      RJMP	0x171D
(0121) 		case 4:
(0122) 		    Set_White_off(2,3,3);
    014C2 E083      LDI	R24,3
    014C3 8388      ST	Y,R24
    014C4 E023      LDI	R18,3
    014C5 E002      LDI	R16,2
    014C6 940E 0960 CALL	_Set_White_off
(0123) 		    break;
    014C8 C254      RJMP	0x171D
(0124) 		case 5:
(0125) 		    Set_White_off(6,3,7);
    014C9 E087      LDI	R24,7
    014CA 8388      ST	Y,R24
    014CB E023      LDI	R18,3
    014CC E006      LDI	R16,6
    014CD 940E 0960 CALL	_Set_White_off
(0126) 		    break;
    014CF C24D      RJMP	0x171D
(0127) 		 case 6:
(0128) 		   Set_White_off(10,3,11);
    014D0 E08B      LDI	R24,0xB
    014D1 8388      ST	Y,R24
    014D2 E023      LDI	R18,3
    014D3 E00A      LDI	R16,0xA
    014D4 940E 0960 CALL	_Set_White_off
(0129) 		    break;
(0130) 		  default:
(0131) 		   break;
(0132) 		 }
(0133) 	   return ;
    014D6 C246      RJMP	0x171D
(0134) 	}else if(keyV=='d'){
    014D7 2D8A      MOV	R24,R10
    014D8 3684      CPI	R24,0x64
    014D9 F009      BEQ	0x14DB
    014DA C04C      RJMP	0x1527
(0135) 	     switch(cur){
    014DB 3040      CPI	R20,0
    014DC 0745      CPC	R20,R21
    014DD F069      BEQ	0x14EB
    014DE 3041      CPI	R20,1
    014DF E0E0      LDI	R30,0
    014E0 075E      CPC	R21,R30
    014E1 F0C1      BEQ	0x14FA
    014E2 3042      CPI	R20,2
    014E3 E0E0      LDI	R30,0
    014E4 075E      CPC	R21,R30
    014E5 F119      BEQ	0x1509
    014E6 3043      CPI	R20,3
    014E7 E0E0      LDI	R30,0
    014E8 075E      CPC	R21,R30
    014E9 F171      BEQ	0x1518
    014EA C231      RJMP	0x171C
(0136) 		  case 0:
(0137) 		   Set_White_off(2,1,3);
    014EB E083      LDI	R24,3
    014EC 8388      ST	Y,R24
    014ED E021      LDI	R18,1
    014EE E002      LDI	R16,2
    014EF 940E 0960 CALL	_Set_White_off
(0138) 		   Set_White(2,2,3);
    014F1 E083      LDI	R24,3
    014F2 8388      ST	Y,R24
    014F3 E022      LDI	R18,2
    014F4 E002      LDI	R16,2
    014F5 940E 09D0 CALL	_Set_White
(0139) 		   cur=2;
    014F7 E042      LDI	R20,2
    014F8 E050      LDI	R21,0
(0140) 		   break;
    014F9 C222      RJMP	0x171C
(0141) 		  case 1:
(0142) 		   Set_White_off(7,1,8);
    014FA E088      LDI	R24,0x8
    014FB 8388      ST	Y,R24
    014FC E021      LDI	R18,1
    014FD E007      LDI	R16,7
    014FE 940E 0960 CALL	_Set_White_off
(0143) 		   Set_White(7,2,8);
    01500 E088      LDI	R24,0x8
    01501 8388      ST	Y,R24
    01502 E022      LDI	R18,2
    01503 E007      LDI	R16,7
    01504 940E 09D0 CALL	_Set_White
(0144) 		   cur=3;
    01506 E043      LDI	R20,3
    01507 E050      LDI	R21,0
(0145) 		   break;
    01508 C213      RJMP	0x171C
(0146) 		  case 2:
(0147) 		   Set_White_off(2,2,3);
    01509 E083      LDI	R24,3
    0150A 8388      ST	Y,R24
    0150B E022      LDI	R18,2
    0150C E002      LDI	R16,2
    0150D 940E 0960 CALL	_Set_White_off
(0148) 		   Set_White(2,3,3);
    0150F E083      LDI	R24,3
    01510 8388      ST	Y,R24
    01511 E023      LDI	R18,3
    01512 E002      LDI	R16,2
    01513 940E 09D0 CALL	_Set_White
(0149) 		   cur=4;
    01515 E044      LDI	R20,4
    01516 E050      LDI	R21,0
(0150) 		   break;
    01517 C204      RJMP	0x171C
(0151) 		  case 3:
(0152) 		   Set_White_off(7,2,8);
    01518 E088      LDI	R24,0x8
    01519 8388      ST	Y,R24
    0151A E022      LDI	R18,2
    0151B E007      LDI	R16,7
    0151C 940E 0960 CALL	_Set_White_off
(0153) 		   Set_White(6,3,7);
    0151E E087      LDI	R24,7
    0151F 8388      ST	Y,R24
    01520 E023      LDI	R18,3
    01521 E006      LDI	R16,6
    01522 940E 09D0 CALL	_Set_White
(0154) 		   cur=5;
    01524 E045      LDI	R20,5
    01525 E050      LDI	R21,0
(0155) 		   break;
(0156) 		  default:
(0157) 		   break;
(0158) 		 }
(0159) 	}else if(keyV=='u'){switch(cur){
    01526 C1F5      RJMP	0x171C
    01527 2D8A      MOV	R24,R10
    01528 3785      CPI	R24,0x75
    01529 F009      BEQ	0x152B
    0152A C061      RJMP	0x158C
    0152B 3042      CPI	R20,2
    0152C E0E0      LDI	R30,0
    0152D 075E      CPC	R21,R30
    0152E F091      BEQ	0x1541
    0152F 3043      CPI	R20,3
    01530 E0E0      LDI	R30,0
    01531 075E      CPC	R21,R30
    01532 F0E9      BEQ	0x1550
    01533 3044      CPI	R20,4
    01534 E0E0      LDI	R30,0
    01535 075E      CPC	R21,R30
    01536 F141      BEQ	0x155F
    01537 3045      CPI	R20,5
    01538 E0E0      LDI	R30,0
    01539 075E      CPC	R21,R30
    0153A F199      BEQ	0x156E
    0153B 3046      CPI	R20,6
    0153C E0E0      LDI	R30,0
    0153D 075E      CPC	R21,R30
    0153E F409      BNE	0x1540
    0153F C03D      RJMP	0x157D
    01540 C1DB      RJMP	0x171C
(0160) 		  case 2:
(0161) 		   Set_White_off(2,2,3);
    01541 E083      LDI	R24,3
    01542 8388      ST	Y,R24
    01543 E022      LDI	R18,2
    01544 E002      LDI	R16,2
    01545 940E 0960 CALL	_Set_White_off
(0162) 		   Set_White(2,1,3);
    01547 E083      LDI	R24,3
    01548 8388      ST	Y,R24
    01549 E021      LDI	R18,1
    0154A E002      LDI	R16,2
    0154B 940E 09D0 CALL	_Set_White
(0163) 		   cur=0;
    0154D 2744      CLR	R20
    0154E 2755      CLR	R21
(0164) 		   break;
    0154F C1CC      RJMP	0x171C
(0165) 		  case 3:
(0166) 		   Set_White_off(7,2,8);
    01550 E088      LDI	R24,0x8
    01551 8388      ST	Y,R24
    01552 E022      LDI	R18,2
    01553 E007      LDI	R16,7
    01554 940E 0960 CALL	_Set_White_off
(0167) 		   Set_White(7,1,8);
    01556 E088      LDI	R24,0x8
    01557 8388      ST	Y,R24
    01558 E021      LDI	R18,1
    01559 E007      LDI	R16,7
    0155A 940E 09D0 CALL	_Set_White
(0168) 		   cur=1;
    0155C E041      LDI	R20,1
    0155D E050      LDI	R21,0
(0169) 		   break;
    0155E C1BD      RJMP	0x171C
(0170) 		  case 4:
(0171) 		   Set_White_off(2,3,5);
    0155F E085      LDI	R24,5
    01560 8388      ST	Y,R24
    01561 E023      LDI	R18,3
    01562 E002      LDI	R16,2
    01563 940E 0960 CALL	_Set_White_off
(0172) 		   Set_White(2,2,3);
    01565 E083      LDI	R24,3
    01566 8388      ST	Y,R24
    01567 E022      LDI	R18,2
    01568 E002      LDI	R16,2
    01569 940E 09D0 CALL	_Set_White
(0173) 		   cur=2;
    0156B E042      LDI	R20,2
    0156C E050      LDI	R21,0
(0174) 		   break;
    0156D C1AE      RJMP	0x171C
(0175) 		  case 5:
(0176) 		   Set_White_off(6,3,7);
    0156E E087      LDI	R24,7
    0156F 8388      ST	Y,R24
    01570 E023      LDI	R18,3
    01571 E006      LDI	R16,6
    01572 940E 0960 CALL	_Set_White_off
(0177) 		   Set_White(7,2,8);
    01574 E088      LDI	R24,0x8
    01575 8388      ST	Y,R24
    01576 E022      LDI	R18,2
    01577 E007      LDI	R16,7
    01578 940E 09D0 CALL	_Set_White
(0178) 		   cur=3;
    0157A E043      LDI	R20,3
    0157B E050      LDI	R21,0
(0179) 		   break;
    0157C C19F      RJMP	0x171C
(0180) 		  case 6:
(0181) 		   Set_White_off(10,3,11);
    0157D E08B      LDI	R24,0xB
    0157E 8388      ST	Y,R24
    0157F E023      LDI	R18,3
    01580 E00A      LDI	R16,0xA
    01581 940E 0960 CALL	_Set_White_off
(0182) 		   Set_White(7,2,8);
    01583 E088      LDI	R24,0x8
    01584 8388      ST	Y,R24
    01585 E022      LDI	R18,2
    01586 E007      LDI	R16,7
    01587 940E 09D0 CALL	_Set_White
(0183) 		   cur=3;
    01589 E043      LDI	R20,3
    0158A E050      LDI	R21,0
(0184) 		   break;
(0185) 		  default:
(0186) 		   break;
(0187) 		 }
(0188) 	}else if(keyV=='l'){switch(cur){
    0158B C190      RJMP	0x171C
    0158C 2D8A      MOV	R24,R10
    0158D 368C      CPI	R24,0x6C
    0158E F009      BEQ	0x1590
    0158F C04D      RJMP	0x15DD
    01590 3041      CPI	R20,1
    01591 E0E0      LDI	R30,0
    01592 075E      CPC	R21,R30
    01593 F069      BEQ	0x15A1
    01594 3043      CPI	R20,3
    01595 E0E0      LDI	R30,0
    01596 075E      CPC	R21,R30
    01597 F0C1      BEQ	0x15B0
    01598 3045      CPI	R20,5
    01599 E0E0      LDI	R30,0
    0159A 075E      CPC	R21,R30
    0159B F119      BEQ	0x15BF
    0159C 3046      CPI	R20,6
    0159D E0E0      LDI	R30,0
    0159E 075E      CPC	R21,R30
    0159F F171      BEQ	0x15CE
    015A0 C17B      RJMP	0x171C
(0189) 		  case 1:
(0190) 		   Set_White_off(7,1,8);
    015A1 E088      LDI	R24,0x8
    015A2 8388      ST	Y,R24
    015A3 E021      LDI	R18,1
    015A4 E007      LDI	R16,7
    015A5 940E 0960 CALL	_Set_White_off
(0191) 		   Set_White(2,1,3);
    015A7 E083      LDI	R24,3
    015A8 8388      ST	Y,R24
    015A9 E021      LDI	R18,1
    015AA E002      LDI	R16,2
    015AB 940E 09D0 CALL	_Set_White
(0192) 		   cur=0;
    015AD 2744      CLR	R20
    015AE 2755      CLR	R21
(0193) 		   break;
    015AF C16C      RJMP	0x171C
(0194) 		  case 3:
(0195) 		   Set_White_off(7,2,8);
    015B0 E088      LDI	R24,0x8
    015B1 8388      ST	Y,R24
    015B2 E022      LDI	R18,2
    015B3 E007      LDI	R16,7
    015B4 940E 0960 CALL	_Set_White_off
(0196) 		   Set_White(2,2,3);
    015B6 E083      LDI	R24,3
    015B7 8388      ST	Y,R24
    015B8 E022      LDI	R18,2
    015B9 E002      LDI	R16,2
    015BA 940E 09D0 CALL	_Set_White
(0197) 		   cur=2;
    015BC E042      LDI	R20,2
    015BD E050      LDI	R21,0
(0198) 		   break;
    015BE C15D      RJMP	0x171C
(0199) 		  case 5:
(0200) 		   Set_White_off(6,3,7);
    015BF E087      LDI	R24,7
    015C0 8388      ST	Y,R24
    015C1 E023      LDI	R18,3
    015C2 E006      LDI	R16,6
    015C3 940E 0960 CALL	_Set_White_off
(0201) 		   Set_White(2,3,3);
    015C5 E083      LDI	R24,3
    015C6 8388      ST	Y,R24
    015C7 E023      LDI	R18,3
    015C8 E002      LDI	R16,2
    015C9 940E 09D0 CALL	_Set_White
(0202) 		   cur=4;
    015CB E044      LDI	R20,4
    015CC E050      LDI	R21,0
(0203) 		   break;
    015CD C14E      RJMP	0x171C
(0204) 		  case 6:
(0205) 		   Set_White_off(10,3,11);
    015CE E08B      LDI	R24,0xB
    015CF 8388      ST	Y,R24
    015D0 E023      LDI	R18,3
    015D1 E00A      LDI	R16,0xA
    015D2 940E 0960 CALL	_Set_White_off
(0206) 		   Set_White(6,3,7);
    015D4 E087      LDI	R24,7
    015D5 8388      ST	Y,R24
    015D6 E023      LDI	R18,3
    015D7 E006      LDI	R16,6
    015D8 940E 09D0 CALL	_Set_White
(0207) 		   cur=5;
    015DA E045      LDI	R20,5
    015DB E050      LDI	R21,0
(0208) 		   break;
(0209) 		  default:
(0210) 		   break;
(0211) 		 }
(0212) 	}else if(keyV=='r'){
    015DC C13F      RJMP	0x171C
    015DD 2D8A      MOV	R24,R10
    015DE 3782      CPI	R24,0x72
    015DF F009      BEQ	0x15E1
    015E0 C04C      RJMP	0x162D
(0213) 	switch(cur){
    015E1 3040      CPI	R20,0
    015E2 0745      CPC	R20,R21
    015E3 F069      BEQ	0x15F1
    015E4 3042      CPI	R20,2
    015E5 E0E0      LDI	R30,0
    015E6 075E      CPC	R21,R30
    015E7 F0C1      BEQ	0x1600
    015E8 3044      CPI	R20,4
    015E9 E0E0      LDI	R30,0
    015EA 075E      CPC	R21,R30
    015EB F119      BEQ	0x160F
    015EC 3045      CPI	R20,5
    015ED E0E0      LDI	R30,0
    015EE 075E      CPC	R21,R30
    015EF F171      BEQ	0x161E
    015F0 C12B      RJMP	0x171C
(0214) 		  case 0:
(0215) 		   Set_White_off(2,1,3);
    015F1 E083      LDI	R24,3
    015F2 8388      ST	Y,R24
    015F3 E021      LDI	R18,1
    015F4 E002      LDI	R16,2
    015F5 940E 0960 CALL	_Set_White_off
(0216) 		   Set_White(7,1,8);
    015F7 E088      LDI	R24,0x8
    015F8 8388      ST	Y,R24
    015F9 E021      LDI	R18,1
    015FA E007      LDI	R16,7
    015FB 940E 09D0 CALL	_Set_White
(0217) 		   cur=1;
    015FD E041      LDI	R20,1
    015FE E050      LDI	R21,0
(0218) 		   break;
    015FF C11C      RJMP	0x171C
(0219) 		  case 2:
(0220) 		   Set_White_off(2,2,3);
    01600 E083      LDI	R24,3
    01601 8388      ST	Y,R24
    01602 E022      LDI	R18,2
    01603 E002      LDI	R16,2
    01604 940E 0960 CALL	_Set_White_off
(0221) 		   Set_White(7,2,8);
    01606 E088      LDI	R24,0x8
    01607 8388      ST	Y,R24
    01608 E022      LDI	R18,2
    01609 E007      LDI	R16,7
    0160A 940E 09D0 CALL	_Set_White
(0222) 		   cur=3;
    0160C E043      LDI	R20,3
    0160D E050      LDI	R21,0
(0223) 		   break;
    0160E C10D      RJMP	0x171C
(0224) 		  case 4:
(0225) 		   Set_White_off(2,3,3);
    0160F E083      LDI	R24,3
    01610 8388      ST	Y,R24
    01611 E023      LDI	R18,3
    01612 E002      LDI	R16,2
    01613 940E 0960 CALL	_Set_White_off
(0226) 		   Set_White(6,3,7);
    01615 E087      LDI	R24,7
    01616 8388      ST	Y,R24
    01617 E023      LDI	R18,3
    01618 E006      LDI	R16,6
    01619 940E 09D0 CALL	_Set_White
(0227) 		   cur=5;
    0161B E045      LDI	R20,5
    0161C E050      LDI	R21,0
(0228) 		   break;
    0161D C0FE      RJMP	0x171C
(0229) 		  case 5:
(0230) 		   Set_White_off(6,3,7);
    0161E E087      LDI	R24,7
    0161F 8388      ST	Y,R24
    01620 E023      LDI	R18,3
    01621 E006      LDI	R16,6
    01622 940E 0960 CALL	_Set_White_off
(0231) 		   Set_White(10,3,11);
    01624 E08B      LDI	R24,0xB
    01625 8388      ST	Y,R24
    01626 E023      LDI	R18,3
    01627 E00A      LDI	R16,0xA
    01628 940E 09D0 CALL	_Set_White
(0232) 		   cur=6;
    0162A E046      LDI	R20,6
    0162B E050      LDI	R21,0
(0233) 		   break;
(0234) 		  default:
(0235) 		   break;
(0236) 		 }
(0237) 	}else if(keyV=='s'){
    0162C C0EF      RJMP	0x171C
    0162D 2D8A      MOV	R24,R10
    0162E 3783      CPI	R24,0x73
    0162F F009      BEQ	0x1631
    01630 C053      RJMP	0x1684
(0238) 	   pageNum=5;
    01631 E085      LDI	R24,5
    01632 E090      LDI	R25,0
    01633 9390 0ACC STS	pageNum+1,R25
    01635 9380 0ACB STS	pageNum,R24
(0239) 	   switch(cur){
    01637 3040      CPI	R20,0
    01638 0745      CPC	R20,R21
    01639 F0C9      BEQ	0x1653
    0163A 3041      CPI	R20,1
    0163B E0E0      LDI	R30,0
    0163C 075E      CPC	R21,R30
    0163D F0E1      BEQ	0x165A
    0163E 3042      CPI	R20,2
    0163F E0E0      LDI	R30,0
    01640 075E      CPC	R21,R30
    01641 F0F9      BEQ	0x1661
    01642 3043      CPI	R20,3
    01643 E0E0      LDI	R30,0
    01644 075E      CPC	R21,R30
    01645 F111      BEQ	0x1668
    01646 3044      CPI	R20,4
    01647 E0E0      LDI	R30,0
    01648 075E      CPC	R21,R30
    01649 F129      BEQ	0x166F
    0164A 3045      CPI	R20,5
    0164B E0E0      LDI	R30,0
    0164C 075E      CPC	R21,R30
    0164D F141      BEQ	0x1676
    0164E 3046      CPI	R20,6
    0164F E0E0      LDI	R30,0
    01650 075E      CPC	R21,R30
    01651 F159      BEQ	0x167D
    01652 C0CA      RJMP	0x171D
(0240) 		 case 0: 
(0241) 		    Set_White_off(2,1,3);
    01653 E083      LDI	R24,3
    01654 8388      ST	Y,R24
    01655 E021      LDI	R18,1
    01656 E002      LDI	R16,2
    01657 940E 0960 CALL	_Set_White_off
(0242) 		    break;
    01659 C0C3      RJMP	0x171D
(0243) 		 case 1:
(0244) 		   Set_White_off(7,1,8);
    0165A E088      LDI	R24,0x8
    0165B 8388      ST	Y,R24
    0165C E021      LDI	R18,1
    0165D E007      LDI	R16,7
    0165E 940E 0960 CALL	_Set_White_off
(0245) 		   break;
    01660 C0BC      RJMP	0x171D
(0246) 		 case 2:
(0247) 		  Set_White_off(2,2,3);
    01661 E083      LDI	R24,3
    01662 8388      ST	Y,R24
    01663 E022      LDI	R18,2
    01664 E002      LDI	R16,2
    01665 940E 0960 CALL	_Set_White_off
(0248) 		  break;
    01667 C0B5      RJMP	0x171D
(0249) 		 case 3:
(0250) 		   Set_White_off(7,2,8);
    01668 E088      LDI	R24,0x8
    01669 8388      ST	Y,R24
    0166A E022      LDI	R18,2
    0166B E007      LDI	R16,7
    0166C 940E 0960 CALL	_Set_White_off
(0251) 		    break;
    0166E C0AE      RJMP	0x171D
(0252) 		 case 4:
(0253) 		    Set_White_off(2,3,3);
    0166F E083      LDI	R24,3
    01670 8388      ST	Y,R24
    01671 E023      LDI	R18,3
    01672 E002      LDI	R16,2
    01673 940E 0960 CALL	_Set_White_off
(0254) 		    break;
    01675 C0A7      RJMP	0x171D
(0255) 		case 5:
(0256) 		    Set_White_off(6,3,7);
    01676 E087      LDI	R24,7
    01677 8388      ST	Y,R24
    01678 E023      LDI	R18,3
    01679 E006      LDI	R16,6
    0167A 940E 0960 CALL	_Set_White_off
(0257) 		    break;
    0167C C0A0      RJMP	0x171D
(0258) 		 case 6:
(0259) 		   Set_White_off(10,3,11);
    0167D E08B      LDI	R24,0xB
    0167E 8388      ST	Y,R24
    0167F E023      LDI	R18,3
    01680 E00A      LDI	R16,0xA
    01681 940E 0960 CALL	_Set_White_off
(0260) 		    break;
(0261) 		  default:
(0262) 		   break;
(0263) 		 }
(0264) 	   return ;
    01683 C099      RJMP	0x171D
(0265) 	}else if(keyV=='t'){
    01684 2D8A      MOV	R24,R10
    01685 3784      CPI	R24,0x74
    01686 F009      BEQ	0x1688
    01687 C094      RJMP	0x171C
(0266) 	   switch(cur){
    01688 3040      CPI	R20,0
    01689 0745      CPC	R20,R21
    0168A F0F1      BEQ	0x16A9
    0168B 3041      CPI	R20,1
    0168C E0E0      LDI	R30,0
    0168D 075E      CPC	R21,R30
    0168E F191      BEQ	0x16C1
    0168F 3042      CPI	R20,2
    01690 E0E0      LDI	R30,0
    01691 075E      CPC	R21,R30
    01692 F409      BNE	0x1694
    01693 C043      RJMP	0x16D7
    01694 3043      CPI	R20,3
    01695 E0E0      LDI	R30,0
    01696 075E      CPC	R21,R30
    01697 F409      BNE	0x1699
    01698 C055      RJMP	0x16EE
    01699 3044      CPI	R20,4
    0169A E0E0      LDI	R30,0
    0169B 075E      CPC	R21,R30
    0169C F409      BNE	0x169E
    0169D C066      RJMP	0x1704
    0169E 3045      CPI	R20,5
    0169F E0E0      LDI	R30,0
    016A0 075E      CPC	R21,R30
    016A1 F409      BNE	0x16A3
    016A2 C064      RJMP	0x1707
    016A3 3046      CPI	R20,6
    016A4 E0E0      LDI	R30,0
    016A5 075E      CPC	R21,R30
    016A6 F409      BNE	0x16A8
    016A7 C062      RJMP	0x170A
    016A8 C073      RJMP	0x171C
(0267) 		 case 0: 
(0268) 		    Set_White_off(2,1,3);
    016A9 E083      LDI	R24,3
    016AA 8388      ST	Y,R24
    016AB E021      LDI	R18,1
    016AC E002      LDI	R16,2
    016AD 940E 0960 CALL	_Set_White_off
(0269) 		    prePageNum=1;
    016AF E081      LDI	R24,1
    016B0 E090      LDI	R25,0
    016B1 9390 0AC0 STS	prePageNum+1,R25
    016B3 9380 0ABF STS	prePageNum,R24
(0270) 		    pageParam[0]=0;//传递使用第一个，对应不同的温度
    016B5 2422      CLR	R2
    016B6 2433      CLR	R3
    016B7 9230 0AC2 STS	pageParam+1,R3
    016B9 9220 0AC1 STS	pageParam,R2
(0271) 		    pageNum=3;
    016BB E083      LDI	R24,3
    016BC 9390 0ACC STS	pageNum+1,R25
    016BE 9380 0ACB STS	pageNum,R24
(0272) 		    return;
    016C0 C05C      RJMP	0x171D
(0273) 		 case 1:
(0274) 		   Set_White_off(7,1,8);
    016C1 E088      LDI	R24,0x8
    016C2 8388      ST	Y,R24
    016C3 E021      LDI	R18,1
    016C4 E007      LDI	R16,7
    016C5 940E 0960 CALL	_Set_White_off
(0275) 		    prePageNum=1;
    016C7 E081      LDI	R24,1
    016C8 E090      LDI	R25,0
    016C9 9390 0AC0 STS	prePageNum+1,R25
    016CB 9380 0ABF STS	prePageNum,R24
(0276) 		   pageParam[0]=1;//传递使用第一个，对应不同的温度
    016CD 9390 0AC2 STS	pageParam+1,R25
    016CF 9380 0AC1 STS	pageParam,R24
(0277) 		    pageNum=3;
    016D1 E083      LDI	R24,3
    016D2 9390 0ACC STS	pageNum+1,R25
    016D4 9380 0ACB STS	pageNum,R24
(0278) 		    return;
    016D6 C046      RJMP	0x171D
(0279) 		 case 2:
(0280) 		  Set_White_off(2,2,3);
    016D7 E083      LDI	R24,3
    016D8 8388      ST	Y,R24
    016D9 E022      LDI	R18,2
    016DA E002      LDI	R16,2
    016DB 940E 0960 CALL	_Set_White_off
(0281) 		    prePageNum=1;
    016DD E081      LDI	R24,1
    016DE E090      LDI	R25,0
    016DF 9390 0AC0 STS	prePageNum+1,R25
    016E1 9380 0ABF STS	prePageNum,R24
(0282) 		    pageParam[0]=2;//传递使用第一个，对应不同的温度
    016E3 E082      LDI	R24,2
    016E4 9390 0AC2 STS	pageParam+1,R25
    016E6 9380 0AC1 STS	pageParam,R24
(0283) 		   pageNum=3;
    016E8 E083      LDI	R24,3
    016E9 9390 0ACC STS	pageNum+1,R25
    016EB 9380 0ACB STS	pageNum,R24
(0284) 		   return;
    016ED C02F      RJMP	0x171D
(0285) 		 case 3:
(0286) 		   Set_White_off(7,2,8);
    016EE E088      LDI	R24,0x8
    016EF 8388      ST	Y,R24
    016F0 E022      LDI	R18,2
    016F1 E007      LDI	R16,7
    016F2 940E 0960 CALL	_Set_White_off
(0287) 		     prePageNum=1;
    016F4 E081      LDI	R24,1
    016F5 E090      LDI	R25,0
    016F6 9390 0AC0 STS	prePageNum+1,R25
    016F8 9380 0ABF STS	prePageNum,R24
(0288) 		    pageParam[0]=3;//传递使用第一个，对应不同的温度
    016FA E083      LDI	R24,3
    016FB 9390 0AC2 STS	pageParam+1,R25
    016FD 9380 0AC1 STS	pageParam,R24
(0289) 		    pageNum=3;
    016FF 9390 0ACC STS	pageNum+1,R25
    01701 9380 0ACB STS	pageNum,R24
(0290) 		    return;
    01703 C019      RJMP	0x171D
(0291) 		 case 4:
(0292) 		    //调用函数全部开始，参数正确的
(0293) 			set_all_start();
    01704 940E 37C9 CALL	_set_all_start
(0294) 		   break;
    01706 C015      RJMP	0x171C
(0295) 		 case 5:
(0296) 		    //全部停止
(0297) 			set_all_stop();
    01707 940E 3815 CALL	_set_all_stop
(0298) 		   break;
    01709 C012      RJMP	0x171C
(0299) 		 case 6://设置
(0300) 		   Set_White_off(10,3,11);
    0170A E08B      LDI	R24,0xB
    0170B 8388      ST	Y,R24
    0170C E023      LDI	R18,3
    0170D E00A      LDI	R16,0xA
    0170E 940E 0960 CALL	_Set_White_off
(0301) 		   prePageNum=1;
    01710 E081      LDI	R24,1
    01711 E090      LDI	R25,0
    01712 9390 0AC0 STS	prePageNum+1,R25
    01714 9380 0ABF STS	prePageNum,R24
(0302) 		   pageNum=5;
    01716 E085      LDI	R24,5
    01717 9390 0ACC STS	pageNum+1,R25
    01719 9380 0ACB STS	pageNum,R24
(0303) 		    return;
    0171B C001      RJMP	0x171D
    0171C CC76      RJMP	0x1393
    0171D 9622      ADIW	R28,2
    0171E 940C 3CA4 JMP	pop_xgsetF03C
_page2:
  ft2                  --> R10
  ft1                  --> R12
  ft0                  --> R14
  ft3                  --> R22
  cur                  --> R20
  keyV                 --> R10
    01720 940E 3C60 CALL	push_xgsetF0FC
    01722 9722      SBIW	R28,2
(0304) 		  default:
(0305) 		   break;
(0306) 		 }
(0307) 	
(0308) 	}
(0309)   }
(0310)    return;
(0311) }
(0312)  void page2(void){
(0313)    uint cur=0;
    01723 2744      CLR	R20
    01724 2755      CLR	R21
(0314)    uchar keyV;
(0315)    uint ft0,ft1,ft2,ft3;
(0316)    ft0=EEPROM_read(1,0);
    01725 2722      CLR	R18
    01726 2733      CLR	R19
    01727 E001      LDI	R16,1
    01728 E010      LDI	R17,0
    01729 940E 130B CALL	_EEPROM_read
    0172B 0178      MOVW	R14,R16
(0317)    ft1=EEPROM_read(2,0);
    0172C 2722      CLR	R18
    0172D 2733      CLR	R19
    0172E E002      LDI	R16,2
    0172F E010      LDI	R17,0
    01730 940E 130B CALL	_EEPROM_read
    01732 0168      MOVW	R12,R16
(0318)    ft2=EEPROM_read(3,0);
    01733 2722      CLR	R18
    01734 2733      CLR	R19
    01735 E003      LDI	R16,3
    01736 E010      LDI	R17,0
    01737 940E 130B CALL	_EEPROM_read
    01739 0158      MOVW	R10,R16
(0319)    ft3=EEPROM_read(4,0);
    0173A 2722      CLR	R18
    0173B 2733      CLR	R19
    0173C E004      LDI	R16,4
    0173D E010      LDI	R17,0
    0173E 940E 130B CALL	_EEPROM_read
    01740 01B8      MOVW	R22,R16
(0320)  if(!(ft0==0 && ft1==0 && ft2==0 && ft3==0)){//判断是否有数据，任何一个有数据就询问是否恢复
    01741 20EE      TST	R14
    01742 F471      BNE	0x1751
    01743 20FF      TST	R15
    01744 F461      BNE	0x1751
    01745 20CC      TST	R12
    01746 F451      BNE	0x1751
    01747 20DD      TST	R13
    01748 F441      BNE	0x1751
    01749 20AA      TST	R10
    0174A F431      BNE	0x1751
    0174B 20BB      TST	R11
    0174C F421      BNE	0x1751
    0174D 3000      CPI	R16,0
    0174E 0701      CPC	R16,R17
    0174F F409      BNE	0x1751
    01750 C103      RJMP	0x1854
(0321)    //初始画面，会有读取EEPROM的判断默认操作，本次只是画界面
(0322)    lcd_write_str(2,0,"是否恢复上次工作");
    01751 E681      LDI	R24,0x61
    01752 E09A      LDI	R25,0xA
    01753 8399      STD	Y+1,R25
    01754 8388      ST	Y,R24
    01755 2722      CLR	R18
    01756 E002      LDI	R16,2
    01757 940E 07AB CALL	_lcd_write_str
(0323)    lcd_write_str(2,2,"恢复");
    01759 E58C      LDI	R24,0x5C
    0175A E09A      LDI	R25,0xA
    0175B 8399      STD	Y+1,R25
    0175C 8388      ST	Y,R24
    0175D E022      LDI	R18,2
    0175E E002      LDI	R16,2
    0175F 940E 07AB CALL	_lcd_write_str
(0324)    lcd_write_str(8,2,"取消");
    01761 E587      LDI	R24,0x57
    01762 E09A      LDI	R25,0xA
    01763 8399      STD	Y+1,R25
    01764 8388      ST	Y,R24
    01765 E022      LDI	R18,2
    01766 E008      LDI	R16,0x8
    01767 940E 07AB CALL	_lcd_write_str
(0325)    ft3=EEPROM_read(0,0);//复用读取首选项
    01769 2722      CLR	R18
    0176A 2733      CLR	R19
    0176B 2700      CLR	R16
    0176C 2711      CLR	R17
    0176D 940E 130B CALL	_EEPROM_read
    0176F 0158      MOVW	R10,R16
    01770 01B5      MOVW	R22,R10
(0326)    if(ft3==1){//默认恢复
    01771 3001      CPI	R16,1
    01772 E0E0      LDI	R30,0
    01773 071E      CPC	R17,R30
    01774 F449      BNE	0x177E
(0327)      cur=0;
    01775 2744      CLR	R20
    01776 2755      CLR	R21
(0328)      Set_White(3,2,4);
    01777 E084      LDI	R24,4
    01778 8388      ST	Y,R24
    01779 E022      LDI	R18,2
    0177A E003      LDI	R16,3
    0177B 940E 09D0 CALL	_Set_White
(0329)    }else{
    0177D C008      RJMP	0x1786
(0330)      cur=1;
    0177E E041      LDI	R20,1
    0177F E050      LDI	R21,0
(0331)      Set_White(9,2,10);
    01780 E08A      LDI	R24,0xA
    01781 8388      ST	Y,R24
    01782 E022      LDI	R18,2
    01783 E009      LDI	R16,0x9
    01784 940E 09D0 CALL	_Set_White
(0332)    }
(0333)    Timerinit_0(0x00); //使用定时器，定时一段时间更改标记，while中读取这个标记确定是否结束while
    01786 2700      CLR	R16
    01787 940E 0B65 CALL	_Timerinit_0
    01789 C0C9      RJMP	0x1853
(0334)     while(1){
(0335) 	if(waitflag==1){
    0178A 9180 032F LDS	R24,waitflag
    0178C 9190 0330 LDS	R25,waitflag+1
    0178E 3081      CPI	R24,1
    0178F E0E0      LDI	R30,0
    01790 079E      CPC	R25,R30
    01791 F591      BNE	0x17C4
(0336) 	  //执行相关操作
(0337) 		   Set_White_off(9,2,10);
    01792 E08A      LDI	R24,0xA
    01793 8388      ST	Y,R24
    01794 E022      LDI	R18,2
    01795 E009      LDI	R16,0x9
    01796 940E 0960 CALL	_Set_White_off
(0338) 		    Set_White_off(3,2,4);
    01798 E084      LDI	R24,4
    01799 8388      ST	Y,R24
    0179A E022      LDI	R18,2
    0179B E003      LDI	R16,3
    0179C 940E 0960 CALL	_Set_White_off
(0339) 			if(cur==0){
    0179E 3040      CPI	R20,0
    0179F 0745      CPC	R20,R21
    017A0 F481      BNE	0x17B1
(0340) 			  lcd_clear();
    017A1 940E 0862 CALL	_lcd_clear
(0341) 			  lcd_write_str(5,2,"恢复中. . .");
    017A3 E48B      LDI	R24,0x4B
    017A4 E09A      LDI	R25,0xA
    017A5 8399      STD	Y+1,R25
    017A6 8388      ST	Y,R24
    017A7 E022      LDI	R18,2
    017A8 E005      LDI	R16,5
    017A9 940E 07AB CALL	_lcd_write_str
(0342) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    017AB 940E 342E CALL	_data_recover
(0343) 			  delay_ms(200);
    017AD EC08      LDI	R16,0xC8
    017AE E010      LDI	R17,0
    017AF 940E 055B CALL	_delay_ms
(0344) 			}
(0345) 		  pageNum=1;
    017B1 E081      LDI	R24,1
    017B2 E090      LDI	R25,0
    017B3 9390 0ACC STS	pageNum+1,R25
    017B5 9380 0ACB STS	pageNum,R24
(0346) 		  t0_flag=1;
    017B7 9390 032E STS	t0_flag+1,R25
    017B9 9380 032D STS	t0_flag,R24
(0347) 		  waitflag=32;
    017BB E280      LDI	R24,0x20
    017BC 9390 0330 STS	waitflag+1,R25
    017BE 9380 032F STS	waitflag,R24
(0348) 		  Timerinit_0(0x00);//计时器功能改变，用作读取温度使用.32次计数完成0.5s
    017C0 2700      CLR	R16
    017C1 940E 0B65 CALL	_Timerinit_0
(0349) 		  return;
    017C3 C0A2      RJMP	0x1866
(0350) 	  }
(0351)       keyV=KeyScan_once();
    017C4 940E 0648 CALL	_KeyScan_once
    017C6 2EA0      MOV	R10,R16
(0352) 	  switch(keyV){
    017C7 2D6A      MOV	R22,R10
    017C8 2777      CLR	R23
    017C9 366C      CPI	R22,0x6C
    017CA E0E0      LDI	R30,0
    017CB 077E      CPC	R23,R30
    017CC F079      BEQ	0x17DC
    017CD 366C      CPI	R22,0x6C
    017CE E0E0      LDI	R30,0
    017CF 077E      CPC	R23,R30
    017D0 F40C      BGE	0x17D2
    017D1 C081      RJMP	0x1853
    017D2 3762      CPI	R22,0x72
    017D3 E0E0      LDI	R30,0
    017D4 077E      CPC	R23,R30
    017D5 F141      BEQ	0x17FE
    017D6 3764      CPI	R22,0x74
    017D7 E0E0      LDI	R30,0
    017D8 077E      CPC	R23,R30
    017D9 F409      BNE	0x17DB
    017DA C044      RJMP	0x181F
    017DB C077      RJMP	0x1853
(0353) 	    case 'l':
(0354) 		   TCCR0=0x00;//定时器停止
    017DC 2422      CLR	R2
    017DD BE23      OUT	0x33,R2
(0355) 		   lcd_write_char(10,0,' ');
    017DE E280      LDI	R24,0x20
    017DF 8388      ST	Y,R24
    017E0 2722      CLR	R18
    017E1 E00A      LDI	R16,0xA
    017E2 940E 0785 CALL	_lcd_write_char
(0356) 	       lcd_write_char(11,0,' ');	
    017E4 E280      LDI	R24,0x20
    017E5 8388      ST	Y,R24
    017E6 2722      CLR	R18
    017E7 E00B      LDI	R16,0xB
    017E8 940E 0785 CALL	_lcd_write_char
(0357) 		   if(cur==1){
    017EA 3041      CPI	R20,1
    017EB E0E0      LDI	R30,0
    017EC 075E      CPC	R21,R30
    017ED F009      BEQ	0x17EF
    017EE C064      RJMP	0x1853
(0358) 		      Set_White_off(9,2,10);
    017EF E08A      LDI	R24,0xA
    017F0 8388      ST	Y,R24
    017F1 E022      LDI	R18,2
    017F2 E009      LDI	R16,0x9
    017F3 940E 0960 CALL	_Set_White_off
(0359) 		      Set_White(3,2,4);
    017F5 E084      LDI	R24,4
    017F6 8388      ST	Y,R24
    017F7 E022      LDI	R18,2
    017F8 E003      LDI	R16,3
    017F9 940E 09D0 CALL	_Set_White
(0360) 			  cur=0;
    017FB 2744      CLR	R20
    017FC 2755      CLR	R21
(0361) 		   }
(0362) 		   break;
    017FD C055      RJMP	0x1853
(0363) 		case 'r':
(0364) 		   TCCR0=0x00;//定时器停止
    017FE 2422      CLR	R2
    017FF BE23      OUT	0x33,R2
(0365) 		   lcd_write_char(10,0,' ');
    01800 E280      LDI	R24,0x20
    01801 8388      ST	Y,R24
    01802 2722      CLR	R18
    01803 E00A      LDI	R16,0xA
    01804 940E 0785 CALL	_lcd_write_char
(0366) 	       lcd_write_char(11,0,' ');	
    01806 E280      LDI	R24,0x20
    01807 8388      ST	Y,R24
    01808 2722      CLR	R18
    01809 E00B      LDI	R16,0xB
    0180A 940E 0785 CALL	_lcd_write_char
(0367) 		   if(cur==0){
    0180C 3040      CPI	R20,0
    0180D 0745      CPC	R20,R21
    0180E F009      BEQ	0x1810
    0180F C043      RJMP	0x1853
(0368) 		      Set_White_off(3,2,4);
    01810 E084      LDI	R24,4
    01811 8388      ST	Y,R24
    01812 E022      LDI	R18,2
    01813 E003      LDI	R16,3
    01814 940E 0960 CALL	_Set_White_off
(0369) 		      Set_White(9,2,10);
    01816 E08A      LDI	R24,0xA
    01817 8388      ST	Y,R24
    01818 E022      LDI	R18,2
    01819 E009      LDI	R16,0x9
    0181A 940E 09D0 CALL	_Set_White
(0370) 			  cur=1;
    0181C E041      LDI	R20,1
    0181D E050      LDI	R21,0
(0371) 		   }
(0372) 		   
(0373) 		  break;
    0181E C034      RJMP	0x1853
(0374) 		case 't':
(0375) 		  //执行相关操作
(0376) 		   TCCR0=0x00;//定时器停止
    0181F 2422      CLR	R2
    01820 BE23      OUT	0x33,R2
(0377) 		   Set_White_off(9,2,10);
    01821 E08A      LDI	R24,0xA
    01822 8388      ST	Y,R24
    01823 E022      LDI	R18,2
    01824 E009      LDI	R16,0x9
    01825 940E 0960 CALL	_Set_White_off
(0378) 		    Set_White_off(3,2,4);
    01827 E084      LDI	R24,4
    01828 8388      ST	Y,R24
    01829 E022      LDI	R18,2
    0182A E003      LDI	R16,3
    0182B 940E 0960 CALL	_Set_White_off
(0379) 			if(cur==0){
    0182D 3040      CPI	R20,0
    0182E 0745      CPC	R20,R21
    0182F F481      BNE	0x1840
(0380) 			  lcd_clear();
    01830 940E 0862 CALL	_lcd_clear
(0381) 			  lcd_write_str(5,2,"恢复中. . .");
    01832 E48B      LDI	R24,0x4B
    01833 E09A      LDI	R25,0xA
    01834 8399      STD	Y+1,R25
    01835 8388      ST	Y,R24
    01836 E022      LDI	R18,2
    01837 E005      LDI	R16,5
    01838 940E 07AB CALL	_lcd_write_str
(0382) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    0183A 940E 342E CALL	_data_recover
(0383) 			  delay_ms(200);
    0183C EC08      LDI	R16,0xC8
    0183D E010      LDI	R17,0
    0183E 940E 055B CALL	_delay_ms
(0384) 			}
(0385) 		  pageNum=1;
    01840 E081      LDI	R24,1
    01841 E090      LDI	R25,0
    01842 9390 0ACC STS	pageNum+1,R25
    01844 9380 0ACB STS	pageNum,R24
(0386) 		  t0_flag=1;
    01846 9390 032E STS	t0_flag+1,R25
    01848 9380 032D STS	t0_flag,R24
(0387) 		  waitflag=32;
    0184A E280      LDI	R24,0x20
    0184B 9390 0330 STS	waitflag+1,R25
    0184D 9380 032F STS	waitflag,R24
(0388) 		  Timerinit_0(0x00);//计时器功能改变，用作读取温度使用.32次计数完成0.5s
    0184F 2700      CLR	R16
    01850 940E 0B65 CALL	_Timerinit_0
(0389) 		  return;
    01852 C013      RJMP	0x1866
    01853 CF36      RJMP	0x178A
(0390) 	  }
(0391) 	}
(0392)   }else{
(0393)      pageNum=1;
    01854 E081      LDI	R24,1
    01855 E090      LDI	R25,0
    01856 9390 0ACC STS	pageNum+1,R25
    01858 9380 0ACB STS	pageNum,R24
(0394) 	 t0_flag=1;
    0185A 9390 032E STS	t0_flag+1,R25
    0185C 9380 032D STS	t0_flag,R24
(0395) 	 waitflag=32;
    0185E E280      LDI	R24,0x20
    0185F 9390 0330 STS	waitflag+1,R25
    01861 9380 032F STS	waitflag,R24
(0396) 	 Timerinit_0(0x00);//计时器功能改变，用作读取温度使用.32次计数完成0.5s
    01863 2700      CLR	R16
    01864 940E 0B65 CALL	_Timerinit_0
(0397)      return;
    01866 9622      ADIW	R28,2
    01867 940C 3C55 JMP	pop_xgsetF0FC
_page3:
  cur                  --> R20
  timecache            --> R22
  keyV                 --> R22
    01869 940E 3C75 CALL	push_xgsetF000
    0186B 9722      SBIW	R28,2
(0398)   }
(0399)  }
(0400)  void page3(void){
(0401)   uint cur=0;
    0186C 2744      CLR	R20
    0186D 2755      CLR	R21
(0402)    uchar keyV;
(0403)    uint timecache;
(0404)    lcd_write_str(0,0,"T");
    0186E E489      LDI	R24,0x49
    0186F E09A      LDI	R25,0xA
    01870 8399      STD	Y+1,R25
    01871 8388      ST	Y,R24
    01872 2722      CLR	R18
    01873 2700      CLR	R16
    01874 940E 07AB CALL	_lcd_write_str
(0405)     lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    01876 9120 0AC1 LDS	R18,pageParam
    01878 9130 0AC2 LDS	R19,pageParam+1
    0187A 5F2F      SUBI	R18,0xFF
    0187B 4F3F      SBCI	R19,0xFF
    0187C 6320      ORI	R18,0x30
    0187D 2700      CLR	R16
    0187E 940E 0753 CALL	_lcd_write_char_con
(0406) 	lcd_write_char_con(0,':');
    01880 E32A      LDI	R18,0x3A
    01881 2700      CLR	R16
    01882 940E 0753 CALL	_lcd_write_char_con
(0407)    lcd_write_str(1,1,"温度:");
    01884 E483      LDI	R24,0x43
    01885 E09A      LDI	R25,0xA
    01886 8399      STD	Y+1,R25
    01887 8388      ST	Y,R24
    01888 E021      LDI	R18,1
    01889 E001      LDI	R16,1
    0188A 940E 07AB CALL	_lcd_write_str
(0408)    lcd_write_str(7,1,"目标:");
    0188C E38D      LDI	R24,0x3D
    0188D E09A      LDI	R25,0xA
    0188E 8399      STD	Y+1,R25
    0188F 8388      ST	Y,R24
    01890 E021      LDI	R18,1
    01891 E007      LDI	R16,7
    01892 940E 07AB CALL	_lcd_write_str
(0409)    lcd_write_str(1,2,"状态:");
    01894 E387      LDI	R24,0x37
    01895 E09A      LDI	R25,0xA
    01896 8399      STD	Y+1,R25
    01897 8388      ST	Y,R24
    01898 E022      LDI	R18,2
    01899 E001      LDI	R16,1
    0189A 940E 07AB CALL	_lcd_write_str
(0410)    lcd_write_str(0,3,"编辑");
    0189C E382      LDI	R24,0x32
    0189D E09A      LDI	R25,0xA
    0189E 8399      STD	Y+1,R25
    0189F 8388      ST	Y,R24
    018A0 E023      LDI	R18,3
    018A1 2700      CLR	R16
    018A2 940E 07AB CALL	_lcd_write_str
(0411)    lcd_write_str(3,3,"运行");
    018A4 E28D      LDI	R24,0x2D
    018A5 E09A      LDI	R25,0xA
    018A6 8399      STD	Y+1,R25
    018A7 8388      ST	Y,R24
    018A8 E023      LDI	R18,3
    018A9 E003      LDI	R16,3
    018AA 940E 07AB CALL	_lcd_write_str
(0412)    lcd_write_str(7,3,"暂停");
    018AC E78C      LDI	R24,0x7C
    018AD E09A      LDI	R25,0xA
    018AE 8399      STD	Y+1,R25
    018AF 8388      ST	Y,R24
    018B0 E023      LDI	R18,3
    018B1 E007      LDI	R16,7
    018B2 940E 07AB CALL	_lcd_write_str
(0413)    lcd_write_str(10,3,"重置");
    018B4 E288      LDI	R24,0x28
    018B5 E09A      LDI	R25,0xA
    018B6 8399      STD	Y+1,R25
    018B7 8388      ST	Y,R24
    018B8 E023      LDI	R18,3
    018B9 E00A      LDI	R16,0xA
    018BA 940E 07AB CALL	_lcd_write_str
(0414)    Set_White(1,3,2);
    018BC E082      LDI	R24,2
    018BD 8388      ST	Y,R24
    018BE E023      LDI	R18,3
    018BF E001      LDI	R16,1
    018C0 940E 09D0 CALL	_Set_White
    018C2 C392      RJMP	0x1C55
(0415)    //Set_White(9,2,10);
(0416)     while(1){
(0417) 	lcd_write_pos(2,0);
    018C3 2722      CLR	R18
    018C4 E002      LDI	R16,2
    018C5 940E 0767 CALL	_lcd_write_pos
(0418) 	pageTime2(0);
    018C7 2700      CLR	R16
    018C8 2711      CLR	R17
    018C9 DA6A      RCALL	_pageTime2
(0419) 	//写温度
(0420) 	if(temps[pageParam[0]].flag!=2){
    018CA 9120 0AC1 LDS	R18,pageParam
    018CC 9130 0AC2 LDS	R19,pageParam+1
    018CE E404      LDI	R16,0x44
    018CF E011      LDI	R17,1
    018D0 940E 3C39 CALL	empy16s
    018D2 E385      LDI	R24,0x35
    018D3 E093      LDI	R25,3
    018D4 01F8      MOVW	R30,R16
    018D5 0FE8      ADD	R30,R24
    018D6 1FF9      ADC	R31,R25
    018D7 8180      LD	R24,Z
    018D8 8191      LDD	R25,Z+1
    018D9 3082      CPI	R24,2
    018DA E0E0      LDI	R30,0
    018DB 079E      CPC	R25,R30
    018DC F409      BNE	0x18DE
    018DD C068      RJMP	0x1946
(0421) 	  lcd_write_pos(4,1);
    018DE E021      LDI	R18,1
    018DF E004      LDI	R16,4
    018E0 940E 0767 CALL	_lcd_write_pos
(0422) 	  lcd_write_char_con(1,0x30 | ((int)temps[pageParam[0]].actualtemp)/100);
    018E2 9120 0AC1 LDS	R18,pageParam
    018E4 9130 0AC2 LDS	R19,pageParam+1
    018E6 E404      LDI	R16,0x44
    018E7 E011      LDI	R17,1
    018E8 940E 3C39 CALL	empy16s
    018EA E589      LDI	R24,0x59
    018EB E094      LDI	R25,4
    018EC 01F8      MOVW	R30,R16
    018ED 0FE8      ADD	R30,R24
    018EE 1FF9      ADC	R31,R25
    018EF 8100      LD	R16,Z
    018F0 8111      LDD	R17,Z+1
    018F1 8122      LDD	R18,Z+2
    018F2 8133      LDD	R19,Z+3
    018F3 940E 3D86 CALL	fpint
    018F5 E624      LDI	R18,0x64
    018F6 E030      LDI	R19,0
    018F7 940E 3BEF CALL	div16s
    018F9 0198      MOVW	R18,R16
    018FA 6320      ORI	R18,0x30
    018FB E001      LDI	R16,1
    018FC 940E 0753 CALL	_lcd_write_char_con
(0423) 	  lcd_write_char_con(1,0x30 | (((int)temps[pageParam[0]].actualtemp)/10)%10);
    018FE 9120 0AC1 LDS	R18,pageParam
    01900 9130 0AC2 LDS	R19,pageParam+1
    01902 E404      LDI	R16,0x44
    01903 E011      LDI	R17,1
    01904 940E 3C39 CALL	empy16s
    01906 E589      LDI	R24,0x59
    01907 E094      LDI	R25,4
    01908 01F8      MOVW	R30,R16
    01909 0FE8      ADD	R30,R24
    0190A 1FF9      ADC	R31,R25
    0190B 8100      LD	R16,Z
    0190C 8111      LDD	R17,Z+1
    0190D 8122      LDD	R18,Z+2
    0190E 8133      LDD	R19,Z+3
    0190F 940E 3D86 CALL	fpint
    01911 E02A      LDI	R18,0xA
    01912 E030      LDI	R19,0
    01913 940E 3BEF CALL	div16s
    01915 E02A      LDI	R18,0xA
    01916 E030      LDI	R19,0
    01917 940E 3BEB CALL	mod16s
    01919 0198      MOVW	R18,R16
    0191A 6320      ORI	R18,0x30
    0191B E001      LDI	R16,1
    0191C 940E 0753 CALL	_lcd_write_char_con
(0424) 	  lcd_write_char_con(1,0x30 | ((int)temps[pageParam[0]].actualtemp)%10);
    0191E 9120 0AC1 LDS	R18,pageParam
    01920 9130 0AC2 LDS	R19,pageParam+1
    01922 E404      LDI	R16,0x44
    01923 E011      LDI	R17,1
    01924 940E 3C39 CALL	empy16s
    01926 E589      LDI	R24,0x59
    01927 E094      LDI	R25,4
    01928 01F8      MOVW	R30,R16
    01929 0FE8      ADD	R30,R24
    0192A 1FF9      ADC	R31,R25
    0192B 8100      LD	R16,Z
    0192C 8111      LDD	R17,Z+1
    0192D 8122      LDD	R18,Z+2
    0192E 8133      LDD	R19,Z+3
    0192F 940E 3D86 CALL	fpint
    01931 E02A      LDI	R18,0xA
    01932 E030      LDI	R19,0
    01933 940E 3BEB CALL	mod16s
    01935 0198      MOVW	R18,R16
    01936 6320      ORI	R18,0x30
    01937 E001      LDI	R16,1
    01938 940E 0753 CALL	_lcd_write_char_con
(0425) 	  lcd_write_char_con(1,' ');
    0193A E220      LDI	R18,0x20
    0193B E001      LDI	R16,1
    0193C 940E 0753 CALL	_lcd_write_char_con
(0426) 	  lcd_write_char_con(1,0xA1);
    0193E EA21      LDI	R18,0xA1
    0193F E001      LDI	R16,1
    01940 940E 0753 CALL	_lcd_write_char_con
(0427)       lcd_write_char_con(1,0xE6);
    01942 EE26      LDI	R18,0xE6
    01943 E001      LDI	R16,1
    01944 940E 0753 CALL	_lcd_write_char_con
(0428) 	}
(0429) 	//数据需要读入
(0430) 	lcd_write_pos(4,2);
    01946 E022      LDI	R18,2
    01947 E004      LDI	R16,4
    01948 940E 0767 CALL	_lcd_write_pos
(0431) 	switch(temps[pageParam[0]].flag){
    0194A 9120 0AC1 LDS	R18,pageParam
    0194C 9130 0AC2 LDS	R19,pageParam+1
    0194E E404      LDI	R16,0x44
    0194F E011      LDI	R17,1
    01950 940E 3C39 CALL	empy16s
    01952 E385      LDI	R24,0x35
    01953 E093      LDI	R25,3
    01954 01F8      MOVW	R30,R16
    01955 0FE8      ADD	R30,R24
    01956 1FF9      ADC	R31,R25
    01957 8160      LD	R22,Z
    01958 8171      LDD	R23,Z+1
    01959 3060      CPI	R22,0
    0195A 0767      CPC	R22,R23
    0195B F0F1      BEQ	0x197A
    0195C 3061      CPI	R22,1
    0195D E0E0      LDI	R30,0
    0195E 077E      CPC	R23,R30
    0195F F199      BEQ	0x1993
    01960 3062      CPI	R22,2
    01961 E0E0      LDI	R30,0
    01962 077E      CPC	R23,R30
    01963 F409      BNE	0x1965
    01964 C173      RJMP	0x1AD8
    01965 3063      CPI	R22,3
    01966 E0E0      LDI	R30,0
    01967 077E      CPC	R23,R30
    01968 F409      BNE	0x196A
    01969 C187      RJMP	0x1AF1
    0196A 3064      CPI	R22,4
    0196B E0E0      LDI	R30,0
    0196C 077E      CPC	R23,R30
    0196D F409      BNE	0x196F
    0196E C193      RJMP	0x1B02
    0196F 3065      CPI	R22,5
    01970 E0E0      LDI	R30,0
    01971 077E      CPC	R23,R30
    01972 F409      BNE	0x1974
    01973 C1A7      RJMP	0x1B1B
    01974 3066      CPI	R22,6
    01975 E0E0      LDI	R30,0
    01976 077E      CPC	R23,R30
    01977 F409      BNE	0x1979
    01978 C1BB      RJMP	0x1B34
    01979 C1D2      RJMP	0x1B4C
(0432) 	     case 0: 
(0433) 		   lcd_write_str(9,1,"      ");
    0197A E281      LDI	R24,0x21
    0197B E09A      LDI	R25,0xA
    0197C 8399      STD	Y+1,R25
    0197D 8388      ST	Y,R24
    0197E E021      LDI	R18,1
    0197F E009      LDI	R16,0x9
    01980 940E 07AB CALL	_lcd_write_str
(0434) 		   lcd_write_str(4,2,"                ");
    01982 E180      LDI	R24,0x10
    01983 E09A      LDI	R25,0xA
    01984 8399      STD	Y+1,R25
    01985 8388      ST	Y,R24
    01986 E022      LDI	R18,2
    01987 E004      LDI	R16,4
    01988 940E 07AB CALL	_lcd_write_str
(0435) 		   lcd_write_str(4,2,"停止");
    0198A E886      LDI	R24,0x86
    0198B E09A      LDI	R25,0xA
    0198C 8399      STD	Y+1,R25
    0198D 8388      ST	Y,R24
    0198E E022      LDI	R18,2
    0198F E004      LDI	R16,4
    01990 940E 07AB CALL	_lcd_write_str
(0436) 		   break;
    01992 C1B9      RJMP	0x1B4C
(0437) 		 case 1:
(0438) 		   //写状态
(0439) 		   lcd_write_str(9,1,"");
    01993 E08F      LDI	R24,0xF
    01994 E09A      LDI	R25,0xA
    01995 8399      STD	Y+1,R25
    01996 8388      ST	Y,R24
    01997 E021      LDI	R18,1
    01998 E009      LDI	R16,0x9
    01999 940E 07AB CALL	_lcd_write_str
(0440) 		   lcd_write_char_con(1,0xA1);
    0199B EA21      LDI	R18,0xA1
    0199C E001      LDI	R16,1
    0199D 940E 0753 CALL	_lcd_write_char_con
(0441)            lcd_write_char_con(1,0xE6);
    0199F EE26      LDI	R18,0xE6
    019A0 E001      LDI	R16,1
    019A1 940E 0753 CALL	_lcd_write_char_con
(0442) 		   timecache=temps[pageParam[0]].status;
    019A3 9120 0AC1 LDS	R18,pageParam
    019A5 9130 0AC2 LDS	R19,pageParam+1
    019A7 E404      LDI	R16,0x44
    019A8 E011      LDI	R17,1
    019A9 940E 3C39 CALL	empy16s
    019AB E38F      LDI	R24,0x3F
    019AC E094      LDI	R25,4
    019AD 01F8      MOVW	R30,R16
    019AE 0FE8      ADD	R30,R24
    019AF 1FF9      ADC	R31,R25
    019B0 8160      LD	R22,Z
    019B1 8171      LDD	R23,Z+1
(0443) 		   if(timecache>18){
    019B2 E182      LDI	R24,0x12
    019B3 E090      LDI	R25,0
    019B4 1786      CP	R24,R22
    019B5 0797      CPC	R25,R23
    019B6 F508      BCC	0x19D8
(0444) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1)/10);
    019B7 E02A      LDI	R18,0xA
    019B8 E030      LDI	R19,0
    019B9 018B      MOVW	R16,R22
    019BA 5001      SUBI	R16,1
    019BB 4010      SBCI	R17,0
    019BC 9516      LSR	R17
    019BD 9507      ROR	R16
    019BE 5F0F      SUBI	R16,0xFF
    019BF 4F1F      SBCI	R17,0xFF
    019C0 940E 3C0B CALL	div16u
    019C2 0198      MOVW	R18,R16
    019C3 6320      ORI	R18,0x30
    019C4 E002      LDI	R16,2
    019C5 940E 0753 CALL	_lcd_write_char_con
(0445) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1)%10);
    019C7 E02A      LDI	R18,0xA
    019C8 E030      LDI	R19,0
    019C9 018B      MOVW	R16,R22
    019CA 5001      SUBI	R16,1
    019CB 4010      SBCI	R17,0
    019CC 9516      LSR	R17
    019CD 9507      ROR	R16
    019CE 5F0F      SUBI	R16,0xFF
    019CF 4F1F      SBCI	R17,0xFF
    019D0 940E 3C09 CALL	mod16u
    019D2 0198      MOVW	R18,R16
    019D3 6320      ORI	R18,0x30
    019D4 E002      LDI	R16,2
    019D5 940E 0753 CALL	_lcd_write_char_con
(0446) 		      }else{
    019D7 C00F      RJMP	0x19E7
(0447) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1));
    019D8 019B      MOVW	R18,R22
    019D9 5021      SUBI	R18,1
    019DA 4030      SBCI	R19,0
    019DB 9536      LSR	R19
    019DC 9527      ROR	R18
    019DD 5F2F      SUBI	R18,0xFF
    019DE 4F3F      SBCI	R19,0xFF
    019DF 6320      ORI	R18,0x30
    019E0 E002      LDI	R16,2
    019E1 940E 0753 CALL	_lcd_write_char_con
(0448) 				  lcd_write_char_con(2,' ');
    019E3 E220      LDI	R18,0x20
    019E4 E002      LDI	R16,2
    019E5 940E 0753 CALL	_lcd_write_char_con
(0449) 		    }
(0450) 			 lcd_write_char_con(2,':');
    019E7 E32A      LDI	R18,0x3A
    019E8 E002      LDI	R16,2
    019E9 940E 0753 CALL	_lcd_write_char_con
(0451) 			 lcd_write_char_con(2,' ');
    019EB E220      LDI	R18,0x20
    019EC E002      LDI	R16,2
    019ED 940E 0753 CALL	_lcd_write_char_con
(0452) 		   if(timecache & 0x01){
    019EF FF60      SBRS	R22,0
    019F0 C015      RJMP	0x1A06
(0453) 		       lcd_write_str_con(2,"升温");
    019F1 E02A      LDI	R18,0xA
    019F2 E03A      LDI	R19,0xA
    019F3 E002      LDI	R16,2
    019F4 940E 07F5 CALL	_lcd_write_str_con
(0454)                 timecache=temps[pageParam[0]].p_settemp;
    019F6 9120 0AC1 LDS	R18,pageParam
    019F8 9130 0AC2 LDS	R19,pageParam+1
    019FA E404      LDI	R16,0x44
    019FB E011      LDI	R17,1
    019FC 940E 3C39 CALL	empy16s
    019FE E48B      LDI	R24,0x4B
    019FF E094      LDI	R25,4
    01A00 01F8      MOVW	R30,R16
    01A01 0FE8      ADD	R30,R24
    01A02 1FF9      ADC	R31,R25
    01A03 8160      LD	R22,Z
    01A04 8171      LDD	R23,Z+1
(0455) 		   }else{
    01A05 C019      RJMP	0x1A1F
(0456) 		       lcd_write_str_con(2,"恒温");
    01A06 E025      LDI	R18,5
    01A07 E03A      LDI	R19,0xA
    01A08 E002      LDI	R16,2
    01A09 940E 07F5 CALL	_lcd_write_str_con
(0457)                timecache=temps[pageParam[0]].settemp;
    01A0B 9120 0AC1 LDS	R18,pageParam
    01A0D 9130 0AC2 LDS	R19,pageParam+1
    01A0F E404      LDI	R16,0x44
    01A10 E011      LDI	R17,1
    01A11 940E 3C39 CALL	empy16s
    01A13 E585      LDI	R24,0x55
    01A14 E094      LDI	R25,4
    01A15 01F8      MOVW	R30,R16
    01A16 0FE8      ADD	R30,R24
    01A17 1FF9      ADC	R31,R25
    01A18 8100      LD	R16,Z
    01A19 8111      LDD	R17,Z+1
    01A1A 8122      LDD	R18,Z+2
    01A1B 8133      LDD	R19,Z+3
    01A1C 940E 3D86 CALL	fpint
    01A1E 01B8      MOVW	R22,R16
(0458) 		   }
(0459) 		   lcd_write_char(9,1,0x30 | timecache/100);
    01A1F E624      LDI	R18,0x64
    01A20 E030      LDI	R19,0
    01A21 018B      MOVW	R16,R22
    01A22 940E 3C0B CALL	div16u
    01A24 01C8      MOVW	R24,R16
    01A25 6380      ORI	R24,0x30
    01A26 8388      ST	Y,R24
    01A27 E021      LDI	R18,1
    01A28 E009      LDI	R16,0x9
    01A29 940E 0785 CALL	_lcd_write_char
(0460) 		   lcd_write_char_con(1,0x30 | (timecache/10)%10);
    01A2B E02A      LDI	R18,0xA
    01A2C E030      LDI	R19,0
    01A2D 018B      MOVW	R16,R22
    01A2E 940E 3C0B CALL	div16u
    01A30 E02A      LDI	R18,0xA
    01A31 E030      LDI	R19,0
    01A32 940E 3C09 CALL	mod16u
    01A34 0198      MOVW	R18,R16
    01A35 6320      ORI	R18,0x30
    01A36 E001      LDI	R16,1
    01A37 940E 0753 CALL	_lcd_write_char_con
(0461) 		   lcd_write_char_con(1,0x30 | timecache%10);
    01A39 E02A      LDI	R18,0xA
    01A3A E030      LDI	R19,0
    01A3B 018B      MOVW	R16,R22
    01A3C 940E 3C09 CALL	mod16u
    01A3E 0198      MOVW	R18,R16
    01A3F 6320      ORI	R18,0x30
    01A40 E001      LDI	R16,1
    01A41 940E 0753 CALL	_lcd_write_char_con
(0462) 		   lcd_write_char_con(1,' ');
    01A43 E220      LDI	R18,0x20
    01A44 E001      LDI	R16,1
    01A45 940E 0753 CALL	_lcd_write_char_con
(0463) 		   lcd_write_char_con(1,0xA1);
    01A47 EA21      LDI	R18,0xA1
    01A48 E001      LDI	R16,1
    01A49 940E 0753 CALL	_lcd_write_char_con
(0464)            lcd_write_char_con(1,0xE6);
    01A4B EE26      LDI	R18,0xE6
    01A4C E001      LDI	R16,1
    01A4D 940E 0753 CALL	_lcd_write_char_con
(0465) 		   lcd_write_pos(8,2);
    01A4F E022      LDI	R18,2
    01A50 E008      LDI	R16,0x8
    01A51 940E 0767 CALL	_lcd_write_pos
(0466) 		   timecache=temps[pageParam[0]].nowtime;
    01A53 9120 0AC1 LDS	R18,pageParam
    01A55 9130 0AC2 LDS	R19,pageParam+1
    01A57 E404      LDI	R16,0x44
    01A58 E011      LDI	R17,1
    01A59 940E 3C39 CALL	empy16s
    01A5B E483      LDI	R24,0x43
    01A5C E094      LDI	R25,4
    01A5D 01F8      MOVW	R30,R16
    01A5E 0FE8      ADD	R30,R24
    01A5F 1FF9      ADC	R31,R25
    01A60 8160      LD	R22,Z
    01A61 8171      LDD	R23,Z+1
(0467) 		   timecache/=3600;
    01A62 E120      LDI	R18,0x10
    01A63 E03E      LDI	R19,0xE
    01A64 018B      MOVW	R16,R22
    01A65 940E 3C0B CALL	div16u
    01A67 01B8      MOVW	R22,R16
(0468) 		    lcd_write_char_con(2,0x30 | timecache/10);
    01A68 E02A      LDI	R18,0xA
    01A69 E030      LDI	R19,0
    01A6A 940E 3C0B CALL	div16u
    01A6C 0198      MOVW	R18,R16
    01A6D 6320      ORI	R18,0x30
    01A6E E002      LDI	R16,2
    01A6F 940E 0753 CALL	_lcd_write_char_con
(0469) 			lcd_write_char_con(2,0x30 | timecache%10);
    01A71 E02A      LDI	R18,0xA
    01A72 E030      LDI	R19,0
    01A73 018B      MOVW	R16,R22
    01A74 940E 3C09 CALL	mod16u
    01A76 0198      MOVW	R18,R16
    01A77 6320      ORI	R18,0x30
    01A78 E002      LDI	R16,2
    01A79 940E 0753 CALL	_lcd_write_char_con
(0470) 			lcd_write_char_con(2,':');
    01A7B E32A      LDI	R18,0x3A
    01A7C E002      LDI	R16,2
    01A7D 940E 0753 CALL	_lcd_write_char_con
(0471) 			timecache=temps[pageParam[0]].nowtime;
    01A7F 9120 0AC1 LDS	R18,pageParam
    01A81 9130 0AC2 LDS	R19,pageParam+1
    01A83 E404      LDI	R16,0x44
    01A84 E011      LDI	R17,1
    01A85 940E 3C39 CALL	empy16s
    01A87 E483      LDI	R24,0x43
    01A88 E094      LDI	R25,4
    01A89 01F8      MOVW	R30,R16
    01A8A 0FE8      ADD	R30,R24
    01A8B 1FF9      ADC	R31,R25
    01A8C 8160      LD	R22,Z
    01A8D 8171      LDD	R23,Z+1
(0472) 		    timecache/=60;
    01A8E E32C      LDI	R18,0x3C
    01A8F E030      LDI	R19,0
    01A90 018B      MOVW	R16,R22
    01A91 940E 3C0B CALL	div16u
(0473) 			timecache%=60;
    01A93 E32C      LDI	R18,0x3C
    01A94 E030      LDI	R19,0
    01A95 940E 3C09 CALL	mod16u
    01A97 01B8      MOVW	R22,R16
(0474) 			lcd_write_char_con(2,0x30 | timecache/10);
    01A98 E02A      LDI	R18,0xA
    01A99 E030      LDI	R19,0
    01A9A 940E 3C0B CALL	div16u
    01A9C 0198      MOVW	R18,R16
    01A9D 6320      ORI	R18,0x30
    01A9E E002      LDI	R16,2
    01A9F 940E 0753 CALL	_lcd_write_char_con
(0475) 			lcd_write_char_con(2,0x30 | timecache%10);
    01AA1 E02A      LDI	R18,0xA
    01AA2 E030      LDI	R19,0
    01AA3 018B      MOVW	R16,R22
    01AA4 940E 3C09 CALL	mod16u
    01AA6 0198      MOVW	R18,R16
    01AA7 6320      ORI	R18,0x30
    01AA8 E002      LDI	R16,2
    01AA9 940E 0753 CALL	_lcd_write_char_con
(0476) 		    lcd_write_char_con(2,':');
    01AAB E32A      LDI	R18,0x3A
    01AAC E002      LDI	R16,2
    01AAD 940E 0753 CALL	_lcd_write_char_con
(0477) 			timecache=temps[pageParam[0]].nowtime;
    01AAF 9120 0AC1 LDS	R18,pageParam
    01AB1 9130 0AC2 LDS	R19,pageParam+1
    01AB3 E404      LDI	R16,0x44
    01AB4 E011      LDI	R17,1
    01AB5 940E 3C39 CALL	empy16s
    01AB7 E483      LDI	R24,0x43
    01AB8 E094      LDI	R25,4
    01AB9 01F8      MOVW	R30,R16
    01ABA 0FE8      ADD	R30,R24
    01ABB 1FF9      ADC	R31,R25
    01ABC 8160      LD	R22,Z
    01ABD 8171      LDD	R23,Z+1
(0478) 		    timecache%=60;
    01ABE E32C      LDI	R18,0x3C
    01ABF E030      LDI	R19,0
    01AC0 018B      MOVW	R16,R22
    01AC1 940E 3C09 CALL	mod16u
    01AC3 01B8      MOVW	R22,R16
(0479) 			lcd_write_char_con(2,0x30 |  timecache/10);
    01AC4 E02A      LDI	R18,0xA
    01AC5 E030      LDI	R19,0
    01AC6 940E 3C0B CALL	div16u
    01AC8 0198      MOVW	R18,R16
    01AC9 6320      ORI	R18,0x30
    01ACA E002      LDI	R16,2
    01ACB 940E 0753 CALL	_lcd_write_char_con
(0480) 			lcd_write_char_con(2,0x30 |  timecache%10);
    01ACD E02A      LDI	R18,0xA
    01ACE E030      LDI	R19,0
    01ACF 018B      MOVW	R16,R22
    01AD0 940E 3C09 CALL	mod16u
    01AD2 0198      MOVW	R18,R16
    01AD3 6320      ORI	R18,0x30
    01AD4 E002      LDI	R16,2
    01AD5 940E 0753 CALL	_lcd_write_char_con
(0481) 		   break;
    01AD7 C074      RJMP	0x1B4C
(0482) 		 case 2:
(0483) 		   lcd_write_str(9,1,"      ");
    01AD8 E281      LDI	R24,0x21
    01AD9 E09A      LDI	R25,0xA
    01ADA 8399      STD	Y+1,R25
    01ADB 8388      ST	Y,R24
    01ADC E021      LDI	R18,1
    01ADD E009      LDI	R16,0x9
    01ADE 940E 07AB CALL	_lcd_write_str
(0484) 		   lcd_write_str(4,2,"                ");
    01AE0 E180      LDI	R24,0x10
    01AE1 E09A      LDI	R25,0xA
    01AE2 8399      STD	Y+1,R25
    01AE3 8388      ST	Y,R24
    01AE4 E022      LDI	R18,2
    01AE5 E004      LDI	R16,4
    01AE6 940E 07AB CALL	_lcd_write_str
(0485) 		   lcd_write_str(4,2,"故障");
    01AE8 E881      LDI	R24,0x81
    01AE9 E09A      LDI	R25,0xA
    01AEA 8399      STD	Y+1,R25
    01AEB 8388      ST	Y,R24
    01AEC E022      LDI	R18,2
    01AED E004      LDI	R16,4
    01AEE 940E 07AB CALL	_lcd_write_str
(0486) 		   break;
    01AF0 C05B      RJMP	0x1B4C
(0487) 		 case 3:
(0488) 		   lcd_write_str(4,2,"                ");
    01AF1 E180      LDI	R24,0x10
    01AF2 E09A      LDI	R25,0xA
    01AF3 8399      STD	Y+1,R25
    01AF4 8388      ST	Y,R24
    01AF5 E022      LDI	R18,2
    01AF6 E004      LDI	R16,4
    01AF7 940E 07AB CALL	_lcd_write_str
(0489) 		   lcd_write_str(4,2,"暂停");
    01AF9 E78C      LDI	R24,0x7C
    01AFA E09A      LDI	R25,0xA
    01AFB 8399      STD	Y+1,R25
    01AFC 8388      ST	Y,R24
    01AFD E022      LDI	R18,2
    01AFE E004      LDI	R16,4
    01AFF 940E 07AB CALL	_lcd_write_str
(0490) 		   break;
    01B01 C04A      RJMP	0x1B4C
(0491) 		 case 4:
(0492) 		   lcd_write_str(9,1,"      ");
    01B02 E281      LDI	R24,0x21
    01B03 E09A      LDI	R25,0xA
    01B04 8399      STD	Y+1,R25
    01B05 8388      ST	Y,R24
    01B06 E021      LDI	R18,1
    01B07 E009      LDI	R16,0x9
    01B08 940E 07AB CALL	_lcd_write_str
(0493) 		   lcd_write_str(4,2,"                ");
    01B0A E180      LDI	R24,0x10
    01B0B E09A      LDI	R25,0xA
    01B0C 8399      STD	Y+1,R25
    01B0D 8388      ST	Y,R24
    01B0E E022      LDI	R18,2
    01B0F E004      LDI	R16,4
    01B10 940E 07AB CALL	_lcd_write_str
(0494) 		   lcd_write_str(4,2,"结束");
    01B12 E787      LDI	R24,0x77
    01B13 E09A      LDI	R25,0xA
    01B14 8399      STD	Y+1,R25
    01B15 8388      ST	Y,R24
    01B16 E022      LDI	R18,2
    01B17 E004      LDI	R16,4
    01B18 940E 07AB CALL	_lcd_write_str
(0495) 		   break;
    01B1A C031      RJMP	0x1B4C
(0496) 		 case 5:
(0497) 		   lcd_write_str(9,1,"      ");
    01B1B E281      LDI	R24,0x21
    01B1C E09A      LDI	R25,0xA
    01B1D 8399      STD	Y+1,R25
    01B1E 8388      ST	Y,R24
    01B1F E021      LDI	R18,1
    01B20 E009      LDI	R16,0x9
    01B21 940E 07AB CALL	_lcd_write_str
(0498) 		   lcd_write_str(4,2,"                ");
    01B23 E180      LDI	R24,0x10
    01B24 E09A      LDI	R25,0xA
    01B25 8399      STD	Y+1,R25
    01B26 8388      ST	Y,R24
    01B27 E022      LDI	R18,2
    01B28 E004      LDI	R16,4
    01B29 940E 07AB CALL	_lcd_write_str
(0499) 		   lcd_write_str(4,2,"等待");
    01B2B E782      LDI	R24,0x72
    01B2C E09A      LDI	R25,0xA
    01B2D 8399      STD	Y+1,R25
    01B2E 8388      ST	Y,R24
    01B2F E022      LDI	R18,2
    01B30 E004      LDI	R16,4
    01B31 940E 07AB CALL	_lcd_write_str
(0500) 		   break;
    01B33 C018      RJMP	0x1B4C
(0501) 		 case 6:
(0502) 		   lcd_write_str(9,1,"      ");
    01B34 E281      LDI	R24,0x21
    01B35 E09A      LDI	R25,0xA
    01B36 8399      STD	Y+1,R25
    01B37 8388      ST	Y,R24
    01B38 E021      LDI	R18,1
    01B39 E009      LDI	R16,0x9
    01B3A 940E 07AB CALL	_lcd_write_str
(0503) 		   lcd_write_str(4,2,"                ");
    01B3C E180      LDI	R24,0x10
    01B3D E09A      LDI	R25,0xA
    01B3E 8399      STD	Y+1,R25
    01B3F 8388      ST	Y,R24
    01B40 E022      LDI	R18,2
    01B41 E004      LDI	R16,4
    01B42 940E 07AB CALL	_lcd_write_str
(0504) 		   lcd_write_str(4,2,"暂停");
    01B44 E78C      LDI	R24,0x7C
    01B45 E09A      LDI	R25,0xA
    01B46 8399      STD	Y+1,R25
    01B47 8388      ST	Y,R24
    01B48 E022      LDI	R18,2
    01B49 E004      LDI	R16,4
    01B4A 940E 07AB CALL	_lcd_write_str
(0505) 		   break;
(0506) 		   break;
(0507) 		 default:
(0508) 		   break;
(0509) 	   }
(0510) 	
(0511)       keyV=KeyScan_once();  
    01B4C 940E 0648 CALL	_KeyScan_once
    01B4E 2F60      MOV	R22,R16
(0512) 	  if(keyV=='e'){
    01B4F 3605      CPI	R16,0x65
    01B50 F4F9      BNE	0x1B70
(0513) 	      Set_White_off(1,3,2);
    01B51 E082      LDI	R24,2
    01B52 8388      ST	Y,R24
    01B53 E023      LDI	R18,3
    01B54 E001      LDI	R16,1
    01B55 940E 0960 CALL	_Set_White_off
(0514) 		  Set_White_off(4,3,5);
    01B57 E085      LDI	R24,5
    01B58 8388      ST	Y,R24
    01B59 E023      LDI	R18,3
    01B5A E004      LDI	R16,4
    01B5B 940E 0960 CALL	_Set_White_off
(0515) 		  Set_White_off(8,3,9);
    01B5D E089      LDI	R24,0x9
    01B5E 8388      ST	Y,R24
    01B5F E023      LDI	R18,3
    01B60 E008      LDI	R16,0x8
    01B61 940E 0960 CALL	_Set_White_off
(0516) 		  Set_White_off(11,3,12);
    01B63 E08C      LDI	R24,0xC
    01B64 8388      ST	Y,R24
    01B65 E023      LDI	R18,3
    01B66 E00B      LDI	R16,0xB
    01B67 940E 0960 CALL	_Set_White_off
(0517) 		  pageNum=1;
    01B69 E081      LDI	R24,1
    01B6A E090      LDI	R25,0
    01B6B 9390 0ACC STS	pageNum+1,R25
    01B6D 9380 0ACB STS	pageNum,R24
(0518) 		  return;
    01B6F C0E6      RJMP	0x1C56
(0519) 	  }else if(keyV=='l'){
    01B70 366C      CPI	R22,0x6C
    01B71 F5D1      BNE	0x1BAC
(0520) 	     switch(cur){
    01B72 3041      CPI	R20,1
    01B73 E0E0      LDI	R30,0
    01B74 075E      CPC	R21,R30
    01B75 F049      BEQ	0x1B7F
    01B76 3042      CPI	R20,2
    01B77 E0E0      LDI	R30,0
    01B78 075E      CPC	R21,R30
    01B79 F0A1      BEQ	0x1B8E
    01B7A 3043      CPI	R20,3
    01B7B E0E0      LDI	R30,0
    01B7C 075E      CPC	R21,R30
    01B7D F0F9      BEQ	0x1B9D
    01B7E C0D6      RJMP	0x1C55
(0521) 		   case 1:
(0522) 		     Set_White_off(4,3,5);
    01B7F E085      LDI	R24,5
    01B80 8388      ST	Y,R24
    01B81 E023      LDI	R18,3
    01B82 E004      LDI	R16,4
    01B83 940E 0960 CALL	_Set_White_off
(0523) 		     Set_White(1,3,2);
    01B85 E082      LDI	R24,2
    01B86 8388      ST	Y,R24
    01B87 E023      LDI	R18,3
    01B88 E001      LDI	R16,1
    01B89 940E 09D0 CALL	_Set_White
(0524) 			 cur=0;
    01B8B 2744      CLR	R20
    01B8C 2755      CLR	R21
(0525) 		     break;
    01B8D C0C7      RJMP	0x1C55
(0526) 		   case 2:
(0527) 		     Set_White_off(8,3,9);
    01B8E E089      LDI	R24,0x9
    01B8F 8388      ST	Y,R24
    01B90 E023      LDI	R18,3
    01B91 E008      LDI	R16,0x8
    01B92 940E 0960 CALL	_Set_White_off
(0528) 		     Set_White(4,3,5);
    01B94 E085      LDI	R24,5
    01B95 8388      ST	Y,R24
    01B96 E023      LDI	R18,3
    01B97 E004      LDI	R16,4
    01B98 940E 09D0 CALL	_Set_White
(0529) 		     cur=1;
    01B9A E041      LDI	R20,1
    01B9B E050      LDI	R21,0
(0530) 		     break;
    01B9C C0B8      RJMP	0x1C55
(0531) 		   case 3:
(0532) 		     Set_White_off(11,3,12);
    01B9D E08C      LDI	R24,0xC
    01B9E 8388      ST	Y,R24
    01B9F E023      LDI	R18,3
    01BA0 E00B      LDI	R16,0xB
    01BA1 940E 0960 CALL	_Set_White_off
(0533) 		     Set_White(8,3,9);
    01BA3 E089      LDI	R24,0x9
    01BA4 8388      ST	Y,R24
    01BA5 E023      LDI	R18,3
    01BA6 E008      LDI	R16,0x8
    01BA7 940E 09D0 CALL	_Set_White
(0534) 		     cur=2;
    01BA9 E042      LDI	R20,2
    01BAA E050      LDI	R21,0
(0535) 		     break;
(0536) 		 }
(0537) 	  }else if(keyV=='r'){
    01BAB C0A9      RJMP	0x1C55
    01BAC 3762      CPI	R22,0x72
    01BAD F5C9      BNE	0x1BE7
(0538) 	       switch(cur){
    01BAE 3040      CPI	R20,0
    01BAF 0745      CPC	R20,R21
    01BB0 F049      BEQ	0x1BBA
    01BB1 3041      CPI	R20,1
    01BB2 E0E0      LDI	R30,0
    01BB3 075E      CPC	R21,R30
    01BB4 F0A1      BEQ	0x1BC9
    01BB5 3042      CPI	R20,2
    01BB6 E0E0      LDI	R30,0
    01BB7 075E      CPC	R21,R30
    01BB8 F0F9      BEQ	0x1BD8
    01BB9 C09B      RJMP	0x1C55
(0539) 		   case 0:
(0540) 		     Set_White(4,3,5);
    01BBA E085      LDI	R24,5
    01BBB 8388      ST	Y,R24
    01BBC E023      LDI	R18,3
    01BBD E004      LDI	R16,4
    01BBE 940E 09D0 CALL	_Set_White
(0541) 		     Set_White_off(1,3,2);
    01BC0 E082      LDI	R24,2
    01BC1 8388      ST	Y,R24
    01BC2 E023      LDI	R18,3
    01BC3 E001      LDI	R16,1
    01BC4 940E 0960 CALL	_Set_White_off
(0542) 			 cur=1;
    01BC6 E041      LDI	R20,1
    01BC7 E050      LDI	R21,0
(0543) 		     break;
    01BC8 C08C      RJMP	0x1C55
(0544) 		   case 1:
(0545) 		     Set_White(8,3,9);
    01BC9 E089      LDI	R24,0x9
    01BCA 8388      ST	Y,R24
    01BCB E023      LDI	R18,3
    01BCC E008      LDI	R16,0x8
    01BCD 940E 09D0 CALL	_Set_White
(0546) 		     Set_White_off(4,3,5);
    01BCF E085      LDI	R24,5
    01BD0 8388      ST	Y,R24
    01BD1 E023      LDI	R18,3
    01BD2 E004      LDI	R16,4
    01BD3 940E 0960 CALL	_Set_White_off
(0547) 		     cur=2;
    01BD5 E042      LDI	R20,2
    01BD6 E050      LDI	R21,0
(0548) 		     break;
    01BD7 C07D      RJMP	0x1C55
(0549) 		   case 2:
(0550) 		     Set_White(11,3,12);
    01BD8 E08C      LDI	R24,0xC
    01BD9 8388      ST	Y,R24
    01BDA E023      LDI	R18,3
    01BDB E00B      LDI	R16,0xB
    01BDC 940E 09D0 CALL	_Set_White
(0551) 		     Set_White_off(8,3,9);
    01BDE E089      LDI	R24,0x9
    01BDF 8388      ST	Y,R24
    01BE0 E023      LDI	R18,3
    01BE1 E008      LDI	R16,0x8
    01BE2 940E 0960 CALL	_Set_White_off
(0552) 		     cur=3;
    01BE4 E043      LDI	R20,3
    01BE5 E050      LDI	R21,0
(0553) 		     break;
(0554) 		 }
(0555) 	  }else if(keyV=='t'){
    01BE6 C06E      RJMP	0x1C55
    01BE7 3764      CPI	R22,0x74
    01BE8 F009      BEQ	0x1BEA
    01BE9 C04A      RJMP	0x1C34
(0556) 	       switch(cur){
    01BEA 3040      CPI	R20,0
    01BEB 0745      CPC	R20,R21
    01BEC F069      BEQ	0x1BFA
    01BED 3041      CPI	R20,1
    01BEE E0E0      LDI	R30,0
    01BEF 075E      CPC	R21,R30
    01BF0 F0B1      BEQ	0x1C07
    01BF1 3042      CPI	R20,2
    01BF2 E0E0      LDI	R30,0
    01BF3 075E      CPC	R21,R30
    01BF4 F0C9      BEQ	0x1C0E
    01BF5 3043      CPI	R20,3
    01BF6 E0E0      LDI	R30,0
    01BF7 075E      CPC	R21,R30
    01BF8 F121      BEQ	0x1C1D
    01BF9 C05B      RJMP	0x1C55
(0557) 		   case 0:
(0558) 		     Set_White_off(1,3,2);
    01BFA E082      LDI	R24,2
    01BFB 8388      ST	Y,R24
    01BFC E023      LDI	R18,3
    01BFD E001      LDI	R16,1
    01BFE 940E 0960 CALL	_Set_White_off
(0559) 			 pageNum=4;
    01C00 E084      LDI	R24,4
    01C01 E090      LDI	R25,0
    01C02 9390 0ACC STS	pageNum+1,R25
    01C04 9380 0ACB STS	pageNum,R24
(0560) 		     return;
    01C06 C04F      RJMP	0x1C56
(0561) 		   case 1:
(0562) 		     //运行操作
(0563) 			 set_start(pageParam[0]);
    01C07 9100 0AC1 LDS	R16,pageParam
    01C09 9110 0AC2 LDS	R17,pageParam+1
    01C0B 940E 3846 CALL	_set_start
(0564) 		     break;
    01C0D C047      RJMP	0x1C55
(0565) 		   case 2:
(0566) 		     //暂停操作
(0567) 			  lcd_write_str(4,2,"                ");
    01C0E E180      LDI	R24,0x10
    01C0F E09A      LDI	R25,0xA
    01C10 8399      STD	Y+1,R25
    01C11 8388      ST	Y,R24
    01C12 E022      LDI	R18,2
    01C13 E004      LDI	R16,4
    01C14 940E 07AB CALL	_lcd_write_str
(0568) 			 set_stop(pageParam[0]);
    01C16 9100 0AC1 LDS	R16,pageParam
    01C18 9110 0AC2 LDS	R17,pageParam+1
    01C1A 940E 38A8 CALL	_set_stop
(0569) 		     break;
    01C1C C038      RJMP	0x1C55
(0570) 		  case 3:
(0571) 		     //重置操作
(0572) 			 Set_White_off(11,3,12);
    01C1D E08C      LDI	R24,0xC
    01C1E 8388      ST	Y,R24
    01C1F E023      LDI	R18,3
    01C20 E00B      LDI	R16,0xB
    01C21 940E 0960 CALL	_Set_White_off
(0573) 			 pageParam[2]=1;//表示重置是温度数据的
    01C23 E081      LDI	R24,1
    01C24 E090      LDI	R25,0
    01C25 9390 0AC6 STS	pageParam+5,R25
    01C27 9380 0AC5 STS	pageParam+4,R24
(0574) 			 prePageNum=3;
    01C29 E083      LDI	R24,3
    01C2A 9390 0AC0 STS	prePageNum+1,R25
    01C2C 9380 0ABF STS	prePageNum,R24
(0575) 		     pageNum=7;
    01C2E E087      LDI	R24,7
    01C2F 9390 0ACC STS	pageNum+1,R25
    01C31 9380 0ACB STS	pageNum,R24
(0576) 		     return;
    01C33 C022      RJMP	0x1C56
(0577) 		 }
(0578) 	  }else if(keyV=='s'){
    01C34 3763      CPI	R22,0x73
    01C35 F4F9      BNE	0x1C55
(0579) 	       Set_White_off(1,3,2);
    01C36 E082      LDI	R24,2
    01C37 8388      ST	Y,R24
    01C38 E023      LDI	R18,3
    01C39 E001      LDI	R16,1
    01C3A 940E 0960 CALL	_Set_White_off
(0580) 		   Set_White_off(4,3,5);
    01C3C E085      LDI	R24,5
    01C3D 8388      ST	Y,R24
    01C3E E023      LDI	R18,3
    01C3F E004      LDI	R16,4
    01C40 940E 0960 CALL	_Set_White_off
(0581) 		   Set_White_off(8,3,9);
    01C42 E089      LDI	R24,0x9
    01C43 8388      ST	Y,R24
    01C44 E023      LDI	R18,3
    01C45 E008      LDI	R16,0x8
    01C46 940E 0960 CALL	_Set_White_off
(0582) 		   Set_White_off(11,3,12);
    01C48 E08C      LDI	R24,0xC
    01C49 8388      ST	Y,R24
    01C4A E023      LDI	R18,3
    01C4B E00B      LDI	R16,0xB
    01C4C 940E 0960 CALL	_Set_White_off
(0583) 			pageNum=4;
    01C4E E084      LDI	R24,4
    01C4F E090      LDI	R25,0
    01C50 9390 0ACC STS	pageNum+1,R25
    01C52 9380 0ACB STS	pageNum,R24
(0584) 		     return;
    01C54 C001      RJMP	0x1C56
    01C55 CC6D      RJMP	0x18C3
    01C56 9622      ADIW	R28,2
    01C57 940C 3C7A JMP	pop_xgsetF000
_page4_data:
  numL                 --> R14
  numH                 --> R12
  beginCur             --> R20
  i                    --> R22
  dataCach             --> R10
  y                    --> Y,+12
    01C59 940E 3BDF CALL	push_arg4
    01C5B 940E 3C60 CALL	push_xgsetF0FC
    01C5D 0159      MOVW	R10,R18
    01C5E 9722      SBIW	R28,2
(0585) 	  }
(0586) 	}
(0587)  }
(0588)  //等下调用page_ac()函数改变ac写数据
(0589)  void page4_data(uint y,uint* dataCach){
(0590)       uint numH=0xA2;
    01C5F EA82      LDI	R24,0xA2
    01C60 E090      LDI	R25,0
    01C61 016C      MOVW	R12,R24
(0591)       uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
    01C62 EC84      LDI	R24,0xC4
    01C63 017C      MOVW	R14,R24
(0592) 	  uint i=0;
    01C64 2766      CLR	R22
    01C65 2777      CLR	R23
(0593) 	  uint beginCur=0;
    01C66 2744      CLR	R20
    01C67 2755      CLR	R21
(0594)     //这个判断需要些到读取值函数中去
(0595) 	 if(y<3){
    01C68 858C      LDD	R24,Y+12
    01C69 859D      LDD	R25,Y+13
    01C6A 3083      CPI	R24,3
    01C6B E0E0      LDI	R30,0
    01C6C 079E      CPC	R25,R30
    01C6D F530      BCC	0x1C94
(0596) 	   lcd_write_char(2,1,numH);
    01C6E 82C8      ST	Y,R12
    01C6F E021      LDI	R18,1
    01C70 E002      LDI	R16,2
    01C71 940E 0785 CALL	_lcd_write_char
(0597)        lcd_write_char_con(1,numL+1);
    01C73 0197      MOVW	R18,R14
    01C74 5F2F      SUBI	R18,0xFF
    01C75 4F3F      SBCI	R19,0xFF
    01C76 E001      LDI	R16,1
    01C77 940E 0753 CALL	_lcd_write_char_con
(0598) 	   lcd_write_char(2,2,numH);
    01C79 82C8      ST	Y,R12
    01C7A E022      LDI	R18,2
    01C7B E002      LDI	R16,2
    01C7C 940E 0785 CALL	_lcd_write_char
(0599)        lcd_write_char_con(2,numL+2);
    01C7E 0197      MOVW	R18,R14
    01C7F 5F2E      SUBI	R18,0xFE
    01C80 4F3F      SBCI	R19,0xFF
    01C81 E002      LDI	R16,2
    01C82 940E 0753 CALL	_lcd_write_char_con
(0600)        lcd_write_char(2,3,numH);
    01C84 82C8      ST	Y,R12
    01C85 E023      LDI	R18,3
    01C86 E002      LDI	R16,2
    01C87 940E 0785 CALL	_lcd_write_char
(0601)        lcd_write_char_con(3,numL+3);
    01C89 0197      MOVW	R18,R14
    01C8A 5F2D      SUBI	R18,0xFD
    01C8B 4F3F      SBCI	R19,0xFF
    01C8C E003      LDI	R16,3
    01C8D 940E 0753 CALL	_lcd_write_char_con
(0602) 	   y=0;
    01C8F 2400      CLR	R0
    01C90 2411      CLR	R1
    01C91 861D      STD	Y+13,R1
    01C92 860C      STD	Y+12,R0
(0603) 	  }else if(y>=3 && y<6){
    01C93 C08F      RJMP	0x1D23
    01C94 858C      LDD	R24,Y+12
    01C95 859D      LDD	R25,Y+13
    01C96 3083      CPI	R24,3
    01C97 E0E0      LDI	R30,0
    01C98 079E      CPC	R25,R30
    01C99 F150      BCS	0x1CC4
    01C9A 3086      CPI	R24,6
    01C9B E0E0      LDI	R30,0
    01C9C 079E      CPC	R25,R30
    01C9D F530      BCC	0x1CC4
(0604) 	   lcd_write_char(2,1,numH);
    01C9E 82C8      ST	Y,R12
    01C9F E021      LDI	R18,1
    01CA0 E002      LDI	R16,2
    01CA1 940E 0785 CALL	_lcd_write_char
(0605)        lcd_write_char_con(1,numL+4);
    01CA3 0197      MOVW	R18,R14
    01CA4 5F2C      SUBI	R18,0xFC
    01CA5 4F3F      SBCI	R19,0xFF
    01CA6 E001      LDI	R16,1
    01CA7 940E 0753 CALL	_lcd_write_char_con
(0606) 	   lcd_write_char(2,2,numH);
    01CA9 82C8      ST	Y,R12
    01CAA E022      LDI	R18,2
    01CAB E002      LDI	R16,2
    01CAC 940E 0785 CALL	_lcd_write_char
(0607)        lcd_write_char_con(2,numL+5);
    01CAE 0197      MOVW	R18,R14
    01CAF 5F2B      SUBI	R18,0xFB
    01CB0 4F3F      SBCI	R19,0xFF
    01CB1 E002      LDI	R16,2
    01CB2 940E 0753 CALL	_lcd_write_char_con
(0608)        lcd_write_char(2,3,numH);
    01CB4 82C8      ST	Y,R12
    01CB5 E023      LDI	R18,3
    01CB6 E002      LDI	R16,2
    01CB7 940E 0785 CALL	_lcd_write_char
(0609)        lcd_write_char_con(3,numL+6);
    01CB9 0197      MOVW	R18,R14
    01CBA 5F2A      SUBI	R18,0xFA
    01CBB 4F3F      SBCI	R19,0xFF
    01CBC E003      LDI	R16,3
    01CBD 940E 0753 CALL	_lcd_write_char_con
(0610) 	   y=1;
    01CBF E081      LDI	R24,1
    01CC0 E090      LDI	R25,0
    01CC1 879D      STD	Y+13,R25
    01CC2 878C      STD	Y+12,R24
(0611) 	  }else if(y>=6 && y<9){
    01CC3 C05F      RJMP	0x1D23
    01CC4 858C      LDD	R24,Y+12
    01CC5 859D      LDD	R25,Y+13
    01CC6 3086      CPI	R24,6
    01CC7 E0E0      LDI	R30,0
    01CC8 079E      CPC	R25,R30
    01CC9 F150      BCS	0x1CF4
    01CCA 3089      CPI	R24,0x9
    01CCB E0E0      LDI	R30,0
    01CCC 079E      CPC	R25,R30
    01CCD F530      BCC	0x1CF4
(0612) 	   lcd_write_char(2,1,numH);
    01CCE 82C8      ST	Y,R12
    01CCF E021      LDI	R18,1
    01CD0 E002      LDI	R16,2
    01CD1 940E 0785 CALL	_lcd_write_char
(0613)        lcd_write_char_con(1,numL+7);
    01CD3 0197      MOVW	R18,R14
    01CD4 5F29      SUBI	R18,0xF9
    01CD5 4F3F      SBCI	R19,0xFF
    01CD6 E001      LDI	R16,1
    01CD7 940E 0753 CALL	_lcd_write_char_con
(0614) 	   lcd_write_char(2,2,numH);
    01CD9 82C8      ST	Y,R12
    01CDA E022      LDI	R18,2
    01CDB E002      LDI	R16,2
    01CDC 940E 0785 CALL	_lcd_write_char
(0615)        lcd_write_char_con(2,numL+8);
    01CDE 0197      MOVW	R18,R14
    01CDF 5F28      SUBI	R18,0xF8
    01CE0 4F3F      SBCI	R19,0xFF
    01CE1 E002      LDI	R16,2
    01CE2 940E 0753 CALL	_lcd_write_char_con
(0616)        lcd_write_char(2,3,numH);
    01CE4 82C8      ST	Y,R12
    01CE5 E023      LDI	R18,3
    01CE6 E002      LDI	R16,2
    01CE7 940E 0785 CALL	_lcd_write_char
(0617)        lcd_write_char_con(3,numL+9);
    01CE9 0197      MOVW	R18,R14
    01CEA 5F27      SUBI	R18,0xF7
    01CEB 4F3F      SBCI	R19,0xFF
    01CEC E003      LDI	R16,3
    01CED 940E 0753 CALL	_lcd_write_char_con
(0618) 	   y=2;
    01CEF E082      LDI	R24,2
    01CF0 E090      LDI	R25,0
    01CF1 879D      STD	Y+13,R25
    01CF2 878C      STD	Y+12,R24
(0619) 	  }else if(y>=9 && y<12){
    01CF3 C02F      RJMP	0x1D23
    01CF4 858C      LDD	R24,Y+12
    01CF5 859D      LDD	R25,Y+13
    01CF6 3089      CPI	R24,0x9
    01CF7 E0E0      LDI	R30,0
    01CF8 079E      CPC	R25,R30
    01CF9 F148      BCS	0x1D23
    01CFA 308C      CPI	R24,0xC
    01CFB E0E0      LDI	R30,0
    01CFC 079E      CPC	R25,R30
    01CFD F528      BCC	0x1D23
(0620) 	   lcd_write_char(2,1,numH);
    01CFE 82C8      ST	Y,R12
    01CFF E021      LDI	R18,1
    01D00 E002      LDI	R16,2
    01D01 940E 0785 CALL	_lcd_write_char
(0621)        lcd_write_char_con(1,numL+10);
    01D03 0197      MOVW	R18,R14
    01D04 5F26      SUBI	R18,0xF6
    01D05 4F3F      SBCI	R19,0xFF
    01D06 E001      LDI	R16,1
    01D07 940E 0753 CALL	_lcd_write_char_con
(0622) 	   lcd_write_char(2,2,numH);
    01D09 82C8      ST	Y,R12
    01D0A E022      LDI	R18,2
    01D0B E002      LDI	R16,2
    01D0C 940E 0785 CALL	_lcd_write_char
(0623)        lcd_write_char_con(2,numL+11);
    01D0E 0197      MOVW	R18,R14
    01D0F 5F25      SUBI	R18,0xF5
    01D10 4F3F      SBCI	R19,0xFF
    01D11 E002      LDI	R16,2
    01D12 940E 0753 CALL	_lcd_write_char_con
(0624)        lcd_write_char(2,3,numH);
    01D14 82C8      ST	Y,R12
    01D15 E023      LDI	R18,3
    01D16 E002      LDI	R16,2
    01D17 940E 0785 CALL	_lcd_write_char
(0625)        lcd_write_char_con(3,numL+12);
    01D19 0197      MOVW	R18,R14
    01D1A 5F24      SUBI	R18,0xF4
    01D1B 4F3F      SBCI	R19,0xFF
    01D1C E003      LDI	R16,3
    01D1D 940E 0753 CALL	_lcd_write_char_con
(0626) 	   y=3;
    01D1F E083      LDI	R24,3
    01D20 E090      LDI	R25,0
    01D21 879D      STD	Y+13,R25
    01D22 878C      STD	Y+12,R24
(0627) 	  }
(0628) 	  //还要做数据读取操作
(0629) 	  beginCur=y*33;//获得首个数据
    01D23 E201      LDI	R16,0x21
    01D24 E010      LDI	R17,0
    01D25 852C      LDD	R18,Y+12
    01D26 853D      LDD	R19,Y+13
    01D27 940E 3C39 CALL	empy16s
    01D29 01A8      MOVW	R20,R16
(0630) 	  for(i=1;i<=3;i++){
    01D2A E061      LDI	R22,1
    01D2B E070      LDI	R23,0
    01D2C C0C5      RJMP	0x1DF2
(0631) 	    if(i==1){//第一次进入需要判断，首位写不许用++
    01D2D 3061      CPI	R22,1
    01D2E E0E0      LDI	R30,0
    01D2F 077E      CPC	R23,R30
    01D30 F471      BNE	0x1D3F
(0632) 		 lcd_write_char(3,i,0x30 | *(dataCach+beginCur));
    01D31 01FA      MOVW	R30,R20
    01D32 0FEE      LSL	R30
    01D33 1FFF      ROL	R31
    01D34 0DEA      ADD	R30,R10
    01D35 1DFB      ADC	R31,R11
    01D36 8180      LD	R24,Z
    01D37 8191      LDD	R25,Z+1
    01D38 6380      ORI	R24,0x30
    01D39 8388      ST	Y,R24
    01D3A 2F26      MOV	R18,R22
    01D3B E003      LDI	R16,3
    01D3C 940E 0785 CALL	_lcd_write_char
(0633) 		}else{
    01D3E C010      RJMP	0x1D4F
(0634) 		 lcd_write_char(3,i,0x30 | *(dataCach+(++beginCur)));
    01D3F 01CA      MOVW	R24,R20
    01D40 9601      ADIW	R24,1
    01D41 01AC      MOVW	R20,R24
    01D42 01FC      MOVW	R30,R24
    01D43 0FEE      LSL	R30
    01D44 1FFF      ROL	R31
    01D45 0DEA      ADD	R30,R10
    01D46 1DFB      ADC	R31,R11
    01D47 8180      LD	R24,Z
    01D48 8191      LDD	R25,Z+1
    01D49 6380      ORI	R24,0x30
    01D4A 8388      ST	Y,R24
    01D4B 2F26      MOV	R18,R22
    01D4C E003      LDI	R16,3
    01D4D 940E 0785 CALL	_lcd_write_char
(0635) 		}
(0636)         lcd_write_char_con(i, 0x30 | *(dataCach+(++beginCur)));
    01D4F 01CA      MOVW	R24,R20
    01D50 9601      ADIW	R24,1
    01D51 01AC      MOVW	R20,R24
    01D52 01FC      MOVW	R30,R24
    01D53 0FEE      LSL	R30
    01D54 1FFF      ROL	R31
    01D55 0DEA      ADD	R30,R10
    01D56 1DFB      ADC	R31,R11
    01D57 8120      LD	R18,Z
    01D58 8131      LDD	R19,Z+1
    01D59 6320      ORI	R18,0x30
    01D5A 2F06      MOV	R16,R22
    01D5B 940E 0753 CALL	_lcd_write_char_con
(0637) 		 lcd_write_str_con(i,": ");
    01D5D E022      LDI	R18,2
    01D5E E03A      LDI	R19,0xA
    01D5F 2F06      MOV	R16,R22
    01D60 940E 07F5 CALL	_lcd_write_str_con
(0638) 	     lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    01D62 01CA      MOVW	R24,R20
    01D63 9601      ADIW	R24,1
    01D64 01AC      MOVW	R20,R24
    01D65 01FC      MOVW	R30,R24
    01D66 0FEE      LSL	R30
    01D67 1FFF      ROL	R31
    01D68 0DEA      ADD	R30,R10
    01D69 1DFB      ADC	R31,R11
    01D6A 8120      LD	R18,Z
    01D6B 8131      LDD	R19,Z+1
    01D6C 6320      ORI	R18,0x30
    01D6D 2F06      MOV	R16,R22
    01D6E 940E 0753 CALL	_lcd_write_char_con
(0639) 		 lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    01D70 01CA      MOVW	R24,R20
    01D71 9601      ADIW	R24,1
    01D72 01AC      MOVW	R20,R24
    01D73 01FC      MOVW	R30,R24
    01D74 0FEE      LSL	R30
    01D75 1FFF      ROL	R31
    01D76 0DEA      ADD	R30,R10
    01D77 1DFB      ADC	R31,R11
    01D78 8120      LD	R18,Z
    01D79 8131      LDD	R19,Z+1
    01D7A 6320      ORI	R18,0x30
    01D7B 2F06      MOV	R16,R22
    01D7C 940E 0753 CALL	_lcd_write_char_con
(0640) 		 
(0641) 		 lcd_write_char(7,i, 0x30 | *(dataCach+(++beginCur)));
    01D7E 01CA      MOVW	R24,R20
    01D7F 9601      ADIW	R24,1
    01D80 01AC      MOVW	R20,R24
    01D81 01FC      MOVW	R30,R24
    01D82 0FEE      LSL	R30
    01D83 1FFF      ROL	R31
    01D84 0DEA      ADD	R30,R10
    01D85 1DFB      ADC	R31,R11
    01D86 8180      LD	R24,Z
    01D87 8191      LDD	R25,Z+1
    01D88 6380      ORI	R24,0x30
    01D89 8388      ST	Y,R24
    01D8A 2F26      MOV	R18,R22
    01D8B E007      LDI	R16,7
    01D8C 940E 0785 CALL	_lcd_write_char
(0642) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01D8E 01CA      MOVW	R24,R20
    01D8F 9601      ADIW	R24,1
    01D90 01AC      MOVW	R20,R24
    01D91 01FC      MOVW	R30,R24
    01D92 0FEE      LSL	R30
    01D93 1FFF      ROL	R31
    01D94 0DEA      ADD	R30,R10
    01D95 1DFB      ADC	R31,R11
    01D96 8120      LD	R18,Z
    01D97 8131      LDD	R19,Z+1
    01D98 6320      ORI	R18,0x30
    01D99 2F06      MOV	R16,R22
    01D9A 940E 0753 CALL	_lcd_write_char_con
(0643) 		  lcd_write_str_con(i,": ");
    01D9C E022      LDI	R18,2
    01D9D E03A      LDI	R19,0xA
    01D9E 2F06      MOV	R16,R22
    01D9F 940E 07F5 CALL	_lcd_write_str_con
(0644) 		 lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    01DA1 01CA      MOVW	R24,R20
    01DA2 9601      ADIW	R24,1
    01DA3 01AC      MOVW	R20,R24
    01DA4 01FC      MOVW	R30,R24
    01DA5 0FEE      LSL	R30
    01DA6 1FFF      ROL	R31
    01DA7 0DEA      ADD	R30,R10
    01DA8 1DFB      ADC	R31,R11
    01DA9 8120      LD	R18,Z
    01DAA 8131      LDD	R19,Z+1
    01DAB 6320      ORI	R18,0x30
    01DAC 2F06      MOV	R16,R22
    01DAD 940E 0753 CALL	_lcd_write_char_con
(0645) 		 lcd_write_char_con(i, 0x30 | *(dataCach+(++beginCur)));
    01DAF 01CA      MOVW	R24,R20
    01DB0 9601      ADIW	R24,1
    01DB1 01AC      MOVW	R20,R24
    01DB2 01FC      MOVW	R30,R24
    01DB3 0FEE      LSL	R30
    01DB4 1FFF      ROL	R31
    01DB5 0DEA      ADD	R30,R10
    01DB6 1DFB      ADC	R31,R11
    01DB7 8120      LD	R18,Z
    01DB8 8131      LDD	R19,Z+1
    01DB9 6320      ORI	R18,0x30
    01DBA 2F06      MOV	R16,R22
    01DBB 940E 0753 CALL	_lcd_write_char_con
(0646) 		 
(0647) 		 lcd_write_str(10,i," ");
    01DBD E080      LDI	R24,0
    01DBE E09A      LDI	R25,0xA
    01DBF 8399      STD	Y+1,R25
    01DC0 8388      ST	Y,R24
    01DC1 2F26      MOV	R18,R22
    01DC2 E00A      LDI	R16,0xA
    01DC3 940E 07AB CALL	_lcd_write_str
(0648) 		 lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    01DC5 01CA      MOVW	R24,R20
    01DC6 9601      ADIW	R24,1
    01DC7 01AC      MOVW	R20,R24
    01DC8 01FC      MOVW	R30,R24
    01DC9 0FEE      LSL	R30
    01DCA 1FFF      ROL	R31
    01DCB 0DEA      ADD	R30,R10
    01DCC 1DFB      ADC	R31,R11
    01DCD 8120      LD	R18,Z
    01DCE 8131      LDD	R19,Z+1
    01DCF 6320      ORI	R18,0x30
    01DD0 2F06      MOV	R16,R22
    01DD1 940E 0753 CALL	_lcd_write_char_con
(0649) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01DD3 01CA      MOVW	R24,R20
    01DD4 9601      ADIW	R24,1
    01DD5 01AC      MOVW	R20,R24
    01DD6 01FC      MOVW	R30,R24
    01DD7 0FEE      LSL	R30
    01DD8 1FFF      ROL	R31
    01DD9 0DEA      ADD	R30,R10
    01DDA 1DFB      ADC	R31,R11
    01DDB 8120      LD	R18,Z
    01DDC 8131      LDD	R19,Z+1
    01DDD 6320      ORI	R18,0x30
    01DDE 2F06      MOV	R16,R22
    01DDF 940E 0753 CALL	_lcd_write_char_con
(0650) 		 lcd_write_char_con(i, 0x30 | *(dataCach+(++beginCur)));
    01DE1 01CA      MOVW	R24,R20
    01DE2 9601      ADIW	R24,1
    01DE3 016C      MOVW	R12,R24
    01DE4 01AC      MOVW	R20,R24
    01DE5 01FC      MOVW	R30,R24
    01DE6 0FEE      LSL	R30
    01DE7 1FFF      ROL	R31
    01DE8 0DEA      ADD	R30,R10
    01DE9 1DFB      ADC	R31,R11
    01DEA 8120      LD	R18,Z
    01DEB 8131      LDD	R19,Z+1
    01DEC 6320      ORI	R18,0x30
    01DED 2F06      MOV	R16,R22
    01DEE 940E 0753 CALL	_lcd_write_char_con
    01DF0 5F6F      SUBI	R22,0xFF
    01DF1 4F7F      SBCI	R23,0xFF
    01DF2 E083      LDI	R24,3
    01DF3 E090      LDI	R25,0
    01DF4 1786      CP	R24,R22
    01DF5 0797      CPC	R25,R23
    01DF6 F008      BCS	0x1DF8
    01DF7 CF35      RJMP	0x1D2D
    01DF8 9622      ADIW	R28,2
    01DF9 940E 3C55 CALL	pop_xgsetF0FC
    01DFB 9624      ADIW	R28,4
    01DFC 9508      RET
_page4_ac:
  y                    --> R10
  x                    --> R22
  lcd_y                --> R20
  dataCach             --> R12
  oldcur               --> Y,+12
  cur                  --> Y,+10
    01DFD 940E 3BDF CALL	push_arg4
    01DFF 940E 3C60 CALL	push_xgsetF0FC
    01E01 84CE      LDD	R12,Y+14
    01E02 84DF      LDD	R13,Y+15
(0651) 	  }
(0652) 	  
(0653)  }
(0654)  //传入cur做ac位置操作,判断是否翻页
(0655)  void page4_ac(uint cur,uint oldcur,uint* dataCach){
(0656)       uint y=cur/11;//逻辑y.从0开始
    01E03 E02B      LDI	R18,0xB
    01E04 E030      LDI	R19,0
    01E05 850A      LDD	R16,Y+10
    01E06 851B      LDD	R17,Y+11
    01E07 940E 3C0B CALL	div16u
    01E09 0158      MOVW	R10,R16
(0657) 	  uint lcd_y;//显示y
(0658) 	  uint x=cur%11;//x轴
    01E0A E02B      LDI	R18,0xB
    01E0B E030      LDI	R19,0
    01E0C 850A      LDD	R16,Y+10
    01E0D 851B      LDD	R17,Y+11
    01E0E 940E 3C09 CALL	mod16u
    01E10 01B8      MOVW	R22,R16
(0659) 	  switch(y%3){
    01E11 E023      LDI	R18,3
    01E12 E030      LDI	R19,0
    01E13 0185      MOVW	R16,R10
    01E14 940E 3C09 CALL	mod16u
    01E16 0178      MOVW	R14,R16
    01E17 3000      CPI	R16,0
    01E18 0701      CPC	R16,R17
    01E19 F051      BEQ	0x1E24
    01E1A 01C7      MOVW	R24,R14
    01E1B 3001      CPI	R16,1
    01E1C E0E0      LDI	R30,0
    01E1D 071E      CPC	R17,R30
    01E1E F041      BEQ	0x1E27
    01E1F 3002      CPI	R16,2
    01E20 E0E0      LDI	R30,0
    01E21 071E      CPC	R17,R30
    01E22 F039      BEQ	0x1E2A
    01E23 C008      RJMP	0x1E2C
(0660) 	   case 0://1行
(0661) 	     lcd_y=1;
    01E24 E041      LDI	R20,1
    01E25 E050      LDI	R21,0
(0662) 	     break;
    01E26 C005      RJMP	0x1E2C
(0663) 	   case 1://2行
(0664) 	     lcd_y=2;
    01E27 E042      LDI	R20,2
    01E28 E050      LDI	R21,0
(0665) 		 break;
    01E29 C002      RJMP	0x1E2C
(0666) 	   case 2://3行
(0667) 	     lcd_y=3;
    01E2A E043      LDI	R20,3
    01E2B E050      LDI	R21,0
(0668) 	     break;
(0669) 	  }
(0670) 	  switch((oldcur/11)/3){
    01E2C E02B      LDI	R18,0xB
    01E2D E030      LDI	R19,0
    01E2E 850C      LDD	R16,Y+12
    01E2F 851D      LDD	R17,Y+13
    01E30 940E 3C0B CALL	div16u
    01E32 E023      LDI	R18,3
    01E33 E030      LDI	R19,0
    01E34 940E 3C0B CALL	div16u
    01E36 0178      MOVW	R14,R16
    01E37 3000      CPI	R16,0
    01E38 0701      CPC	R16,R17
    01E39 F071      BEQ	0x1E48
    01E3A 01C7      MOVW	R24,R14
    01E3B 3001      CPI	R16,1
    01E3C E0E0      LDI	R30,0
    01E3D 071E      CPC	R17,R30
    01E3E F0A1      BEQ	0x1E53
    01E3F 3002      CPI	R16,2
    01E40 E0E0      LDI	R30,0
    01E41 071E      CPC	R17,R30
    01E42 F101      BEQ	0x1E63
    01E43 3003      CPI	R16,3
    01E44 E0E0      LDI	R30,0
    01E45 071E      CPC	R17,R30
    01E46 F169      BEQ	0x1E74
    01E47 C035      RJMP	0x1E7D
(0671) 	    case 0:
(0672) 		 if(cur>32){
    01E48 E280      LDI	R24,0x20
    01E49 E090      LDI	R25,0
    01E4A 840A      LDD	R0,Y+10
    01E4B 841B      LDD	R1,Y+11
    01E4C 1580      CP	R24,R0
    01E4D 0591      CPC	R25,R1
    01E4E F570      BCC	0x1E7D
(0673) 		   page4_data(y,dataCach);
    01E4F 0196      MOVW	R18,R12
    01E50 0185      MOVW	R16,R10
    01E51 DE07      RCALL	_page4_data
(0674) 		 }
(0675) 		 break;
    01E52 C02A      RJMP	0x1E7D
(0676) 		case 1:
(0677) 		  if(cur>65 || cur<33){
    01E53 E481      LDI	R24,0x41
    01E54 E090      LDI	R25,0
    01E55 840A      LDD	R0,Y+10
    01E56 841B      LDD	R1,Y+11
    01E57 1580      CP	R24,R0
    01E58 0591      CPC	R25,R1
    01E59 F028      BCS	0x1E5F
    01E5A 01C0      MOVW	R24,R0
    01E5B 3281      CPI	R24,0x21
    01E5C E0E0      LDI	R30,0
    01E5D 079E      CPC	R25,R30
    01E5E F4F0      BCC	0x1E7D
(0678) 		   page4_data(y,dataCach);
    01E5F 0196      MOVW	R18,R12
    01E60 0185      MOVW	R16,R10
    01E61 DDF7      RCALL	_page4_data
(0679) 		 }
(0680) 		 break;
    01E62 C01A      RJMP	0x1E7D
(0681) 		case 2:
(0682) 		if(cur<66 || cur>98){
    01E63 858A      LDD	R24,Y+10
    01E64 859B      LDD	R25,Y+11
    01E65 3482      CPI	R24,0x42
    01E66 E0E0      LDI	R30,0
    01E67 079E      CPC	R25,R30
    01E68 F038      BCS	0x1E70
    01E69 E682      LDI	R24,0x62
    01E6A E090      LDI	R25,0
    01E6B 840A      LDD	R0,Y+10
    01E6C 841B      LDD	R1,Y+11
    01E6D 1580      CP	R24,R0
    01E6E 0591      CPC	R25,R1
    01E6F F468      BCC	0x1E7D
(0683) 		   page4_data(y,dataCach);
    01E70 0196      MOVW	R18,R12
    01E71 0185      MOVW	R16,R10
    01E72 DDE6      RCALL	_page4_data
(0684) 		 }
(0685) 		 break;
    01E73 C009      RJMP	0x1E7D
(0686) 		case 3:
(0687) 		if(cur<99){
    01E74 858A      LDD	R24,Y+10
    01E75 859B      LDD	R25,Y+11
    01E76 3683      CPI	R24,0x63
    01E77 E0E0      LDI	R30,0
    01E78 079E      CPC	R25,R30
    01E79 F418      BCC	0x1E7D
(0688) 		   page4_data(y,dataCach);
    01E7A 0196      MOVW	R18,R12
    01E7B 0185      MOVW	R16,R10
    01E7C DDDC      RCALL	_page4_data
(0689) 		 }
(0690) 		 break;
(0691) 	  }
(0692) 	  if(lcd_y==1){
    01E7D 3041      CPI	R20,1
    01E7E E0E0      LDI	R30,0
    01E7F 075E      CPC	R21,R30
    01E80 F449      BNE	0x1E8A
(0693) 	     cur_set(3);
    01E81 E003      LDI	R16,3
    01E82 E010      LDI	R17,0
    01E83 940E 091C CALL	_cur_set
(0694) 		 cur_set(4);
    01E85 E004      LDI	R16,4
    01E86 E010      LDI	R17,0
    01E87 940E 091C CALL	_cur_set
(0695) 	  }else if(lcd_y==2 || lcd_y==3){
    01E89 C010      RJMP	0x1E9A
    01E8A 3042      CPI	R20,2
    01E8B E0E0      LDI	R30,0
    01E8C 075E      CPC	R21,R30
    01E8D F021      BEQ	0x1E92
    01E8E 3043      CPI	R20,3
    01E8F E0E0      LDI	R30,0
    01E90 075E      CPC	R21,R30
    01E91 F441      BNE	0x1E9A
(0696) 	     cur_set(0);
    01E92 2700      CLR	R16
    01E93 2711      CLR	R17
    01E94 940E 091C CALL	_cur_set
(0697) 		 cur_set(7);
    01E96 E007      LDI	R16,7
    01E97 E010      LDI	R17,0
    01E98 940E 091C CALL	_cur_set
(0698) 	  }
(0699) 	  if(x==0){
    01E9A 3060      CPI	R22,0
    01E9B 0767      CPC	R22,R23
    01E9C F429      BNE	0x1EA2
(0700) 	      lcd_write_pos(3,lcd_y);
    01E9D 2F24      MOV	R18,R20
    01E9E E003      LDI	R16,3
    01E9F 940E 0767 CALL	_lcd_write_pos
(0701) 	  }else if(x==2){
    01EA1 C031      RJMP	0x1ED3
    01EA2 3062      CPI	R22,2
    01EA3 E0E0      LDI	R30,0
    01EA4 077E      CPC	R23,R30
    01EA5 F429      BNE	0x1EAB
(0702) 	       lcd_write_pos(5,lcd_y);
    01EA6 2F24      MOV	R18,R20
    01EA7 E005      LDI	R16,5
    01EA8 940E 0767 CALL	_lcd_write_pos
(0703) 	  }else if(x==4){
    01EAA C028      RJMP	0x1ED3
    01EAB 3064      CPI	R22,4
    01EAC E0E0      LDI	R30,0
    01EAD 077E      CPC	R23,R30
    01EAE F429      BNE	0x1EB4
(0704) 	        lcd_write_pos(7,lcd_y);
    01EAF 2F24      MOV	R18,R20
    01EB0 E007      LDI	R16,7
    01EB1 940E 0767 CALL	_lcd_write_pos
(0705) 	  }else if(x==6){
    01EB3 C01F      RJMP	0x1ED3
    01EB4 3066      CPI	R22,6
    01EB5 E0E0      LDI	R30,0
    01EB6 077E      CPC	R23,R30
    01EB7 F429      BNE	0x1EBD
(0706) 	        lcd_write_pos(9,lcd_y);
    01EB8 2F24      MOV	R18,R20
    01EB9 E009      LDI	R16,0x9
    01EBA 940E 0767 CALL	_lcd_write_pos
(0707) 	  }else if(x==8){
    01EBC C016      RJMP	0x1ED3
    01EBD 3068      CPI	R22,0x8
    01EBE E0E0      LDI	R30,0
    01EBF 077E      CPC	R23,R30
    01EC0 F451      BNE	0x1ECB
(0708) 	        lcd_write_pos(10,lcd_y);
    01EC1 2F24      MOV	R18,R20
    01EC2 E00A      LDI	R16,0xA
    01EC3 940E 0767 CALL	_lcd_write_pos
(0709) 			lcd_write_str_con(lcd_y," ");
    01EC5 E020      LDI	R18,0
    01EC6 E03A      LDI	R19,0xA
    01EC7 2F04      MOV	R16,R20
    01EC8 940E 07F5 CALL	_lcd_write_str_con
(0710) 	  }else if(x==9){
    01ECA C008      RJMP	0x1ED3
    01ECB 3069      CPI	R22,0x9
    01ECC E0E0      LDI	R30,0
    01ECD 077E      CPC	R23,R30
    01ECE F421      BNE	0x1ED3
(0711) 	        lcd_write_pos(11,lcd_y);
    01ECF 2F24      MOV	R18,R20
    01ED0 E00B      LDI	R16,0xB
    01ED1 940E 0767 CALL	_lcd_write_pos
(0712) 	  }
(0713) 	  return;
    01ED3 940E 3C55 CALL	pop_xgsetF0FC
    01ED5 9624      ADIW	R28,4
    01ED6 9508      RET
_page4:
  numL                 --> R20
  numH                 --> R20
  oldcur               --> R22
  dataCach             --> Y,+2
  cur                  --> R20
  keyV                 --> R10
  i                    --> R10
    01ED7 940E 3C9B CALL	push_xgsetF03C
    01ED9 97EF      SBIW	R28,0x3F
    01EDA 97EF      SBIW	R28,0x3F
    01EDB 97EF      SBIW	R28,0x3F
    01EDC 97EF      SBIW	R28,0x3F
    01EDD 972C      SBIW	R28,0xC
(0714)  }
(0715)   void page4(void){
(0716)     //定义一个局部的结构体，从对呀温度中获得数据。暂时未写
(0717)   uint numH=0xA2;
(0718)   uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
(0719)   uint cur=0;
    01EDE 2744      CLR	R20
    01EDF 2755      CLR	R21
(0720)   uint oldcur=0;
    01EE0 2766      CLR	R22
    01EE1 2777      CLR	R23
(0721)   uint dataCach[131]={0};
    01EE2 E489      LDI	R24,0x49
    01EE3 E098      LDI	R25,0x8
    01EE4 01FE      MOVW	R30,R28
    01EE5 9632      ADIW	R30,2
    01EE6 E006      LDI	R16,6
    01EE7 E011      LDI	R17,1
    01EE8 93FA      ST	-Y,R31
    01EE9 93EA      ST	-Y,R30
    01EEA 939A      ST	-Y,R25
    01EEB 938A      ST	-Y,R24
    01EEC 940E 3CBC CALL	asgnblk
(0722)   uint i=0;
(0723)    uchar keyV;
(0724)    lcd_write_str(0,0,"T");
    01EEE E489      LDI	R24,0x49
    01EEF E09A      LDI	R25,0xA
    01EF0 8399      STD	Y+1,R25
    01EF1 8388      ST	Y,R24
    01EF2 2722      CLR	R18
    01EF3 2700      CLR	R16
    01EF4 940E 07AB CALL	_lcd_write_str
(0725)    lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    01EF6 9120 0AC1 LDS	R18,pageParam
    01EF8 9130 0AC2 LDS	R19,pageParam+1
    01EFA 5F2F      SUBI	R18,0xFF
    01EFB 4F3F      SBCI	R19,0xFF
    01EFC 6320      ORI	R18,0x30
    01EFD 2700      CLR	R16
    01EFE 940E 0753 CALL	_lcd_write_char_con
(0726)    lcd_write_char_con(0,':');
    01F00 E32A      LDI	R18,0x3A
    01F01 2700      CLR	R16
    01F02 940E 0753 CALL	_lcd_write_char_con
(0727)    
(0728)    lcd_write_str(4,0,"升温");
    01F04 E08A      LDI	R24,0xA
    01F05 E09A      LDI	R25,0xA
    01F06 8399      STD	Y+1,R25
    01F07 8388      ST	Y,R24
    01F08 2722      CLR	R18
    01F09 E004      LDI	R16,4
    01F0A 940E 07AB CALL	_lcd_write_str
(0729)    lcd_write_str(7,0,"恒温");
    01F0C E085      LDI	R24,5
    01F0D E09A      LDI	R25,0xA
    01F0E 8399      STD	Y+1,R25
    01F0F 8388      ST	Y,R24
    01F10 2722      CLR	R18
    01F11 E007      LDI	R16,7
    01F12 940E 07AB CALL	_lcd_write_str
(0730)    lcd_write_str(10,0,"温度");
    01F14 EF8B      LDI	R24,0xFB
    01F15 E099      LDI	R25,0x9
    01F16 8399      STD	Y+1,R25
    01F17 8388      ST	Y,R24
    01F18 2722      CLR	R18
    01F19 E00A      LDI	R16,0xA
    01F1A 940E 07AB CALL	_lcd_write_str
(0731)    lcd_write_str(0,1,"保存");
    01F1C EF86      LDI	R24,0xF6
    01F1D E099      LDI	R25,0x9
    01F1E 8399      STD	Y+1,R25
    01F1F 8388      ST	Y,R24
    01F20 E021      LDI	R18,1
    01F21 2700      CLR	R16
    01F22 940E 07AB CALL	_lcd_write_str
(0732)    lcd_write_str(0,2,"取消");
    01F24 E587      LDI	R24,0x57
    01F25 E09A      LDI	R25,0xA
    01F26 8399      STD	Y+1,R25
    01F27 8388      ST	Y,R24
    01F28 E022      LDI	R18,2
    01F29 2700      CLR	R16
    01F2A 940E 07AB CALL	_lcd_write_str
(0733)    lcd_write_str(0,3,"重置");
    01F2C E288      LDI	R24,0x28
    01F2D E09A      LDI	R25,0xA
    01F2E 8399      STD	Y+1,R25
    01F2F 8388      ST	Y,R24
    01F30 E023      LDI	R18,3
    01F31 2700      CLR	R16
    01F32 940E 07AB CALL	_lcd_write_str
(0734)   
(0735)   for(i=0;i<132;i++){
    01F34 24AA      CLR	R10
    01F35 24BB      CLR	R11
    01F36 C020      RJMP	0x1F57
(0736)     dataCach[i]=temps[pageParam[0]].temp_data[i];
    01F37 0115      MOVW	R2,R10
    01F38 0C22      LSL	R2
    01F39 1C33      ROL	R3
    01F3A 0121      MOVW	R4,R2
    01F3B 9120 0AC1 LDS	R18,pageParam
    01F3D 9130 0AC2 LDS	R19,pageParam+1
    01F3F E404      LDI	R16,0x44
    01F40 E011      LDI	R17,1
    01F41 940E 3C39 CALL	empy16s
    01F43 E387      LDI	R24,0x37
    01F44 E093      LDI	R25,3
    01F45 0118      MOVW	R2,R16
    01F46 0E28      ADD	R2,R24
    01F47 1E39      ADC	R3,R25
    01F48 01F2      MOVW	R30,R4
    01F49 0DE2      ADD	R30,R2
    01F4A 1DF3      ADC	R31,R3
    01F4B 8020      LD	R2,Z
    01F4C 8031      LDD	R3,Z+1
    01F4D 01CE      MOVW	R24,R28
    01F4E 9602      ADIW	R24,2
    01F4F 01F2      MOVW	R30,R4
    01F50 0FE8      ADD	R30,R24
    01F51 1FF9      ADC	R31,R25
    01F52 8231      STD	Z+1,R3
    01F53 8220      ST	Z,R2
    01F54 01C5      MOVW	R24,R10
    01F55 9601      ADIW	R24,1
    01F56 015C      MOVW	R10,R24
    01F57 01C5      MOVW	R24,R10
    01F58 3884      CPI	R24,0x84
    01F59 E0E0      LDI	R30,0
    01F5A 079E      CPC	R25,R30
    01F5B F2D8      BCS	0x1F37
(0737)   }
(0738)     page4_data(0,dataCach);//调用函数填充
    01F5C 019E      MOVW	R18,R28
    01F5D 5F2E      SUBI	R18,0xFE
    01F5E 4F3F      SBCI	R19,0xFF
    01F5F 2700      CLR	R16
    01F60 2711      CLR	R17
    01F61 DCF7      RCALL	_page4_data
(0739)    cur=0;
    01F62 2744      CLR	R20
    01F63 2755      CLR	R21
(0740)    lcd_write_pos(3,1);
    01F64 E021      LDI	R18,1
    01F65 E003      LDI	R16,3
    01F66 940E 0767 CALL	_lcd_write_pos
(0741)    cur_set(3);
    01F68 E003      LDI	R16,3
    01F69 E010      LDI	R17,0
    01F6A 940E 091C CALL	_cur_set
    01F6C C22B      RJMP	0x2198
(0742)    
(0743)    //Set_White(9,2,10);
(0744)     while(1){
(0745)       keyV=KeyScan_once();
    01F6D 940E 0648 CALL	_KeyScan_once
    01F6F 2EA0      MOV	R10,R16
(0746) 	  if(keyV=='e'){
    01F70 3605      CPI	R16,0x65
    01F71 F509      BNE	0x1F93
(0747) 	        Set_White_off(1,1,2);
    01F72 E082      LDI	R24,2
    01F73 8388      ST	Y,R24
    01F74 E021      LDI	R18,1
    01F75 E001      LDI	R16,1
    01F76 940E 0960 CALL	_Set_White_off
(0748) 			Set_White_off(1,2,2);
    01F78 E082      LDI	R24,2
    01F79 8388      ST	Y,R24
    01F7A E022      LDI	R18,2
    01F7B E001      LDI	R16,1
    01F7C 940E 0960 CALL	_Set_White_off
(0749) 			Set_White_off(1,3,2);
    01F7E E082      LDI	R24,2
    01F7F 8388      ST	Y,R24
    01F80 E023      LDI	R18,3
    01F81 E001      LDI	R16,1
    01F82 940E 0960 CALL	_Set_White_off
(0750) 			cur_set(0);
    01F84 2700      CLR	R16
    01F85 2711      CLR	R17
    01F86 940E 091C CALL	_cur_set
(0751) 			cur_set(4);
    01F88 E004      LDI	R16,4
    01F89 E010      LDI	R17,0
    01F8A 940E 091C CALL	_cur_set
(0752) 		    pageNum=3;
    01F8C E083      LDI	R24,3
    01F8D E090      LDI	R25,0
    01F8E 9390 0ACC STS	pageNum+1,R25
    01F90 9380 0ACB STS	pageNum,R24
(0753) 		    return;
    01F92 C206      RJMP	0x2199
(0754) 	  }else if(keyV=='u'){
    01F93 2D8A      MOV	R24,R10
    01F94 3785      CPI	R24,0x75
    01F95 F009      BEQ	0x1F97
    01F96 C046      RJMP	0x1FDD
(0755) 	     if(cur==133){
    01F97 3845      CPI	R20,0x85
    01F98 E0E0      LDI	R30,0
    01F99 075E      CPC	R21,R30
    01F9A F479      BNE	0x1FAA
(0756) 		    Set_White(1,1,2);
    01F9B E082      LDI	R24,2
    01F9C 8388      ST	Y,R24
    01F9D E021      LDI	R18,1
    01F9E E001      LDI	R16,1
    01F9F 940E 09D0 CALL	_Set_White
(0757) 			Set_White_off(1,2,2);
    01FA1 E082      LDI	R24,2
    01FA2 8388      ST	Y,R24
    01FA3 E022      LDI	R18,2
    01FA4 E001      LDI	R16,1
    01FA5 940E 0960 CALL	_Set_White_off
(0758) 			cur=132;
    01FA7 E844      LDI	R20,0x84
    01FA8 E050      LDI	R21,0
(0759) 		 }else if(cur==134){
    01FA9 C1EE      RJMP	0x2198
    01FAA 3846      CPI	R20,0x86
    01FAB E0E0      LDI	R30,0
    01FAC 075E      CPC	R21,R30
    01FAD F479      BNE	0x1FBD
(0760) 		    Set_White(1,2,2);
    01FAE E082      LDI	R24,2
    01FAF 8388      ST	Y,R24
    01FB0 E022      LDI	R18,2
    01FB1 E001      LDI	R16,1
    01FB2 940E 09D0 CALL	_Set_White
(0761) 			Set_White_off(1,3,2);
    01FB4 E082      LDI	R24,2
    01FB5 8388      ST	Y,R24
    01FB6 E023      LDI	R18,3
    01FB7 E001      LDI	R16,1
    01FB8 940E 0960 CALL	_Set_White_off
(0762) 			cur=133;
    01FBA E845      LDI	R20,0x85
    01FBB E050      LDI	R21,0
(0763) 		 }else if(cur>10 && cur<=131){
    01FBC C1DB      RJMP	0x2198
    01FBD E08A      LDI	R24,0xA
    01FBE E090      LDI	R25,0
    01FBF 1784      CP	R24,R20
    01FC0 0795      CPC	R25,R21
    01FC1 F008      BCS	0x1FC3
    01FC2 C1D5      RJMP	0x2198
    01FC3 E883      LDI	R24,0x83
    01FC4 1784      CP	R24,R20
    01FC5 0795      CPC	R25,R21
    01FC6 F408      BCC	0x1FC8
    01FC7 C1D0      RJMP	0x2198
(0764) 		   oldcur=cur;
    01FC8 01BA      MOVW	R22,R20
(0765) 	       cur=(cur/11-1)*11;
    01FC9 E02B      LDI	R18,0xB
    01FCA E030      LDI	R19,0
    01FCB 018A      MOVW	R16,R20
    01FCC 940E 3C0B CALL	div16u
    01FCE 0198      MOVW	R18,R16
    01FCF 5021      SUBI	R18,1
    01FD0 4030      SBCI	R19,0
    01FD1 E00B      LDI	R16,0xB
    01FD2 E010      LDI	R17,0
    01FD3 940E 3C39 CALL	empy16s
    01FD5 01A8      MOVW	R20,R16
(0766) 		   page4_ac(cur,oldcur,dataCach);
    01FD6 01CE      MOVW	R24,R28
    01FD7 9602      ADIW	R24,2
    01FD8 8399      STD	Y+1,R25
    01FD9 8388      ST	Y,R24
    01FDA 019B      MOVW	R18,R22
    01FDB DE21      RCALL	_page4_ac
(0767) 		 }
(0768) 	  }else if(keyV=='d'){
    01FDC C1BB      RJMP	0x2198
    01FDD 2D8A      MOV	R24,R10
    01FDE 3684      CPI	R24,0x64
    01FDF F009      BEQ	0x1FE1
    01FE0 C040      RJMP	0x2021
(0769) 	     if(cur==132){
    01FE1 3844      CPI	R20,0x84
    01FE2 E0E0      LDI	R30,0
    01FE3 075E      CPC	R21,R30
    01FE4 F479      BNE	0x1FF4
(0770) 		    Set_White_off(1,1,2);
    01FE5 E082      LDI	R24,2
    01FE6 8388      ST	Y,R24
    01FE7 E021      LDI	R18,1
    01FE8 E001      LDI	R16,1
    01FE9 940E 0960 CALL	_Set_White_off
(0771) 			Set_White(1,2,2);
    01FEB E082      LDI	R24,2
    01FEC 8388      ST	Y,R24
    01FED E022      LDI	R18,2
    01FEE E001      LDI	R16,1
    01FEF 940E 09D0 CALL	_Set_White
(0772) 			cur=133;
    01FF1 E845      LDI	R20,0x85
    01FF2 E050      LDI	R21,0
(0773) 		 }else if(cur==133){
    01FF3 C1A4      RJMP	0x2198
    01FF4 3845      CPI	R20,0x85
    01FF5 E0E0      LDI	R30,0
    01FF6 075E      CPC	R21,R30
    01FF7 F479      BNE	0x2007
(0774) 		    Set_White_off(1,2,2);
    01FF8 E082      LDI	R24,2
    01FF9 8388      ST	Y,R24
    01FFA E022      LDI	R18,2
    01FFB E001      LDI	R16,1
    01FFC 940E 0960 CALL	_Set_White_off
(0775) 			Set_White(1,3,2);
    01FFE E082      LDI	R24,2
    01FFF 8388      ST	Y,R24
    02000 E023      LDI	R18,3
    02001 E001      LDI	R16,1
    02002 940E 09D0 CALL	_Set_White
(0776) 			cur=134;
    02004 E846      LDI	R20,0x86
    02005 E050      LDI	R21,0
(0777) 		 }else if(cur<121){
    02006 C191      RJMP	0x2198
    02007 3749      CPI	R20,0x79
    02008 E0E0      LDI	R30,0
    02009 075E      CPC	R21,R30
    0200A F008      BCS	0x200C
    0200B C18C      RJMP	0x2198
(0778) 	      oldcur=cur;
    0200C 01BA      MOVW	R22,R20
(0779) 	      cur=(cur/11+1)*11;
    0200D E02B      LDI	R18,0xB
    0200E E030      LDI	R19,0
    0200F 018A      MOVW	R16,R20
    02010 940E 3C0B CALL	div16u
    02012 0198      MOVW	R18,R16
    02013 5F2F      SUBI	R18,0xFF
    02014 4F3F      SBCI	R19,0xFF
    02015 E00B      LDI	R16,0xB
    02016 E010      LDI	R17,0
    02017 940E 3C39 CALL	empy16s
    02019 01A8      MOVW	R20,R16
(0780) 		  page4_ac(cur,oldcur,dataCach);
    0201A 01CE      MOVW	R24,R28
    0201B 9602      ADIW	R24,2
    0201C 8399      STD	Y+1,R25
    0201D 8388      ST	Y,R24
    0201E 019B      MOVW	R18,R22
    0201F DDDD      RCALL	_page4_ac
(0781) 		}
(0782) 		
(0783) 	  }else if(keyV=='l'){
    02020 C177      RJMP	0x2198
    02021 2D8A      MOV	R24,R10
    02022 368C      CPI	R24,0x6C
    02023 F009      BEQ	0x2025
    02024 C049      RJMP	0x206E
(0784) 	   oldcur=cur;
    02025 01BA      MOVW	R22,R20
(0785) 	  if(cur%11==0){
    02026 E02B      LDI	R18,0xB
    02027 E030      LDI	R19,0
    02028 018A      MOVW	R16,R20
    02029 940E 3C09 CALL	mod16u
    0202B 3000      CPI	R16,0
    0202C 0701      CPC	R16,R17
    0202D F489      BNE	0x203F
(0786) 	        Set_White(1,1,2);
    0202E E082      LDI	R24,2
    0202F 8388      ST	Y,R24
    02030 E021      LDI	R18,1
    02031 E001      LDI	R16,1
    02032 940E 09D0 CALL	_Set_White
(0787) 			cur_set(0);
    02034 2700      CLR	R16
    02035 2711      CLR	R17
    02036 940E 091C CALL	_cur_set
(0788) 			cur_set(4);
    02038 E004      LDI	R16,4
    02039 E010      LDI	R17,0
    0203A 940E 091C CALL	_cur_set
(0789) 			cur=132;
    0203C E844      LDI	R20,0x84
    0203D E050      LDI	R21,0
(0790) 	   }else if(cur%11==2 || cur%11==4 || cur%11==6 || cur%11==8){
    0203E C159      RJMP	0x2198
    0203F E02B      LDI	R18,0xB
    02040 E030      LDI	R19,0
    02041 018A      MOVW	R16,R20
    02042 940E 3C09 CALL	mod16u
    02044 0168      MOVW	R12,R16
    02045 01C6      MOVW	R24,R12
    02046 3002      CPI	R16,2
    02047 E0E0      LDI	R30,0
    02048 071E      CPC	R17,R30
    02049 F061      BEQ	0x2056
    0204A 3004      CPI	R16,4
    0204B E0E0      LDI	R30,0
    0204C 071E      CPC	R17,R30
    0204D F041      BEQ	0x2056
    0204E 3006      CPI	R16,6
    0204F E0E0      LDI	R30,0
    02050 071E      CPC	R17,R30
    02051 F021      BEQ	0x2056
    02052 3008      CPI	R16,0x8
    02053 E0E0      LDI	R30,0
    02054 071E      CPC	R17,R30
    02055 F451      BNE	0x2060
(0791) 	      cur-=2;
    02056 5042      SUBI	R20,2
    02057 4050      SBCI	R21,0
(0792) 		   page4_ac(cur,oldcur,dataCach);
    02058 01CE      MOVW	R24,R28
    02059 9602      ADIW	R24,2
    0205A 8399      STD	Y+1,R25
    0205B 8388      ST	Y,R24
    0205C 019B      MOVW	R18,R22
    0205D 018A      MOVW	R16,R20
    0205E DD9E      RCALL	_page4_ac
(0793) 		}else if(cur>0){
    0205F C138      RJMP	0x2198
    02060 3040      CPI	R20,0
    02061 0745      CPC	R20,R21
    02062 F409      BNE	0x2064
    02063 C134      RJMP	0x2198
(0794) 	      cur--;
    02064 5041      SUBI	R20,1
    02065 4050      SBCI	R21,0
(0795) 		   page4_ac(cur,oldcur,dataCach);
    02066 01CE      MOVW	R24,R28
    02067 9602      ADIW	R24,2
    02068 8399      STD	Y+1,R25
    02069 8388      ST	Y,R24
    0206A 019B      MOVW	R18,R22
    0206B 018A      MOVW	R16,R20
    0206C DD90      RCALL	_page4_ac
(0796) 		}
(0797) 	  
(0798) 	  }else if(keyV=='r'){
    0206D C12A      RJMP	0x2198
    0206E 2D8A      MOV	R24,R10
    0206F 3782      CPI	R24,0x72
    02070 F541      BNE	0x2099
(0799) 	  if(cur>131){
    02071 E883      LDI	R24,0x83
    02072 E090      LDI	R25,0
    02073 1784      CP	R24,R20
    02074 0795      CPC	R25,R21
    02075 F4A0      BCC	0x208A
(0800) 	      Set_White_off(1,1,2);
    02076 E082      LDI	R24,2
    02077 8388      ST	Y,R24
    02078 E021      LDI	R18,1
    02079 E001      LDI	R16,1
    0207A 940E 0960 CALL	_Set_White_off
(0801) 	      Set_White_off(1,2,2);
    0207C E082      LDI	R24,2
    0207D 8388      ST	Y,R24
    0207E E022      LDI	R18,2
    0207F E001      LDI	R16,1
    02080 940E 0960 CALL	_Set_White_off
(0802) 		  Set_White_off(1,3,2);
    02082 E082      LDI	R24,2
    02083 8388      ST	Y,R24
    02084 E023      LDI	R18,3
    02085 E001      LDI	R16,1
    02086 940E 0960 CALL	_Set_White_off
(0803) 		  cur=oldcur;
    02088 01AB      MOVW	R20,R22
(0804) 	  }else  if(cur<131){
    02089 C007      RJMP	0x2091
    0208A 3843      CPI	R20,0x83
    0208B E0E0      LDI	R30,0
    0208C 075E      CPC	R21,R30
    0208D F418      BCC	0x2091
(0805) 		 oldcur=cur;
    0208E 01BA      MOVW	R22,R20
(0806) 	     cur++;
    0208F 5F4F      SUBI	R20,0xFF
    02090 4F5F      SBCI	R21,0xFF
(0807) 		 }
(0808) 	    page4_ac(cur,oldcur,dataCach);
    02091 01CE      MOVW	R24,R28
    02092 9602      ADIW	R24,2
    02093 8399      STD	Y+1,R25
    02094 8388      ST	Y,R24
    02095 019B      MOVW	R18,R22
    02096 018A      MOVW	R16,R20
    02097 DD65      RCALL	_page4_ac
(0809) 	  }else if(keyV=='t'){	    
    02098 C0FF      RJMP	0x2198
    02099 2D8A      MOV	R24,R10
    0209A 3784      CPI	R24,0x74
    0209B F009      BEQ	0x209D
    0209C C098      RJMP	0x2135
(0810) 	     if(cur==132){
    0209D 3844      CPI	R20,0x84
    0209E E0E0      LDI	R30,0
    0209F 075E      CPC	R21,R30
    020A0 F009      BEQ	0x20A2
    020A1 C03E      RJMP	0x20E0
(0811) 		   Set_White_off(1,1,2);
    020A2 E082      LDI	R24,2
    020A3 8388      ST	Y,R24
    020A4 E021      LDI	R18,1
    020A5 E001      LDI	R16,1
    020A6 940E 0960 CALL	_Set_White_off
(0812) 			Set_White_off(1,2,2);
    020A8 E082      LDI	R24,2
    020A9 8388      ST	Y,R24
    020AA E022      LDI	R18,2
    020AB E001      LDI	R16,1
    020AC 940E 0960 CALL	_Set_White_off
(0813) 			Set_White_off(1,3,2);
    020AE E082      LDI	R24,2
    020AF 8388      ST	Y,R24
    020B0 E023      LDI	R18,3
    020B1 E001      LDI	R16,1
    020B2 940E 0960 CALL	_Set_White_off
(0814) 		   cur_set(0);
    020B4 2700      CLR	R16
    020B5 2711      CLR	R17
    020B6 940E 091C CALL	_cur_set
(0815) 			cur_set(4);
    020B8 E004      LDI	R16,4
    020B9 E010      LDI	R17,0
    020BA 940E 091C CALL	_cur_set
(0816) 			lcd_clear();
    020BC 940E 0862 CALL	_lcd_clear
(0817) 			lcd_write_str(5,2,"保存中. . .");
    020BE EE8A      LDI	R24,0xEA
    020BF E099      LDI	R25,0x9
    020C0 8399      STD	Y+1,R25
    020C1 8388      ST	Y,R24
    020C2 E022      LDI	R18,2
    020C3 E005      LDI	R16,5
    020C4 940E 07AB CALL	_lcd_write_str
(0818) 		    pageParam[1]=1;//表示是温度数据的，这里处理保存的方法，因为数据在这里。只是跳转过去，参数如果是1表示成功。2表示失败
    020C6 E081      LDI	R24,1
    020C7 E090      LDI	R25,0
    020C8 9390 0AC4 STS	pageParam+3,R25
    020CA 9380 0AC3 STS	pageParam+2,R24
(0819) 		    prePageNum=4;
    020CC E084      LDI	R24,4
    020CD 9390 0AC0 STS	prePageNum+1,R25
    020CF 9380 0ABF STS	prePageNum,R24
(0820) 		    pageNum=6;
    020D1 E086      LDI	R24,6
    020D2 9390 0ACC STS	pageNum+1,R25
    020D4 9380 0ACB STS	pageNum,R24
(0821) 			set_temp_data(pageParam[0],dataCach);//保存数据
    020D6 019E      MOVW	R18,R28
    020D7 5F2E      SUBI	R18,0xFE
    020D8 4F3F      SBCI	R19,0xFF
    020D9 9100 0AC1 LDS	R16,pageParam
    020DB 9110 0AC2 LDS	R17,pageParam+1
    020DD 940E 3566 CALL	_set_temp_data
(0822) 		    return;
    020DF C0B9      RJMP	0x2199
(0823) 		 }else if(cur==133){
    020E0 3845      CPI	R20,0x85
    020E1 E0E0      LDI	R30,0
    020E2 075E      CPC	R21,R30
    020E3 F509      BNE	0x2105
(0824) 		    Set_White_off(1,1,2);
    020E4 E082      LDI	R24,2
    020E5 8388      ST	Y,R24
    020E6 E021      LDI	R18,1
    020E7 E001      LDI	R16,1
    020E8 940E 0960 CALL	_Set_White_off
(0825) 			Set_White_off(1,2,2);
    020EA E082      LDI	R24,2
    020EB 8388      ST	Y,R24
    020EC E022      LDI	R18,2
    020ED E001      LDI	R16,1
    020EE 940E 0960 CALL	_Set_White_off
(0826) 			Set_White_off(1,3,2);
    020F0 E082      LDI	R24,2
    020F1 8388      ST	Y,R24
    020F2 E023      LDI	R18,3
    020F3 E001      LDI	R16,1
    020F4 940E 0960 CALL	_Set_White_off
(0827) 		    cur_set(0);
    020F6 2700      CLR	R16
    020F7 2711      CLR	R17
    020F8 940E 091C CALL	_cur_set
(0828) 			cur_set(4);
    020FA E004      LDI	R16,4
    020FB E010      LDI	R17,0
    020FC 940E 091C CALL	_cur_set
(0829) 		    pageNum=3;
    020FE E083      LDI	R24,3
    020FF E090      LDI	R25,0
    02100 9390 0ACC STS	pageNum+1,R25
    02102 9380 0ACB STS	pageNum,R24
(0830) 		    return;
    02104 C094      RJMP	0x2199
(0831) 		 }else if(cur==134){
    02105 3846      CPI	R20,0x86
    02106 E0E0      LDI	R30,0
    02107 075E      CPC	R21,R30
    02108 F009      BEQ	0x210A
    02109 C08E      RJMP	0x2198
(0832) 		    Set_White_off(1,1,2);
    0210A E082      LDI	R24,2
    0210B 8388      ST	Y,R24
    0210C E021      LDI	R18,1
    0210D E001      LDI	R16,1
    0210E 940E 0960 CALL	_Set_White_off
(0833) 			Set_White_off(1,2,2);
    02110 E082      LDI	R24,2
    02111 8388      ST	Y,R24
    02112 E022      LDI	R18,2
    02113 E001      LDI	R16,1
    02114 940E 0960 CALL	_Set_White_off
(0834) 			Set_White_off(1,3,2);
    02116 E082      LDI	R24,2
    02117 8388      ST	Y,R24
    02118 E023      LDI	R18,3
    02119 E001      LDI	R16,1
    0211A 940E 0960 CALL	_Set_White_off
(0835) 		   cur_set(0);
    0211C 2700      CLR	R16
    0211D 2711      CLR	R17
    0211E 940E 091C CALL	_cur_set
(0836) 			cur_set(4);
    02120 E004      LDI	R16,4
    02121 E010      LDI	R17,0
    02122 940E 091C CALL	_cur_set
(0837) 		   //重置。有提示
(0838) 			pageParam[2]=1;//表示重置是温度数据的
    02124 E081      LDI	R24,1
    02125 E090      LDI	R25,0
    02126 9390 0AC6 STS	pageParam+5,R25
    02128 9380 0AC5 STS	pageParam+4,R24
(0839) 			prePageNum=4;
    0212A E084      LDI	R24,4
    0212B 9390 0AC0 STS	prePageNum+1,R25
    0212D 9380 0ABF STS	prePageNum,R24
(0840) 		    pageNum=7;
    0212F E087      LDI	R24,7
    02130 9390 0ACC STS	pageNum+1,R25
    02132 9380 0ACB STS	pageNum,R24
(0841) 		    return;
    02134 C064      RJMP	0x2199
(0842) 		 }
(0843) 	     
(0844) 	  }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    02135 2D8A      MOV	R24,R10
    02136 3380      CPI	R24,0x30
    02137 F099      BEQ	0x214B
    02138 3381      CPI	R24,0x31
    02139 F089      BEQ	0x214B
    0213A 3382      CPI	R24,0x32
    0213B F079      BEQ	0x214B
    0213C 3383      CPI	R24,0x33
    0213D F069      BEQ	0x214B
    0213E 3384      CPI	R24,0x34
    0213F F059      BEQ	0x214B
    02140 3385      CPI	R24,0x35
    02141 F049      BEQ	0x214B
    02142 3386      CPI	R24,0x36
    02143 F039      BEQ	0x214B
    02144 3387      CPI	R24,0x37
    02145 F029      BEQ	0x214B
    02146 3388      CPI	R24,0x38
    02147 F019      BEQ	0x214B
    02148 3389      CPI	R24,0x39
    02149 F009      BEQ	0x214B
    0214A C04D      RJMP	0x2198
(0845) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(0846) 			  if(cur <132){//判断还在输入域
    0214B 3844      CPI	R20,0x84
    0214C E0E0      LDI	R30,0
    0214D 075E      CPC	R21,R30
    0214E F008      BCS	0x2150
    0214F C048      RJMP	0x2198
(0847) 			   if((cur/11)%3==0){
    02150 E02B      LDI	R18,0xB
    02151 E030      LDI	R19,0
    02152 018A      MOVW	R16,R20
    02153 940E 3C0B CALL	div16u
    02155 E023      LDI	R18,3
    02156 E030      LDI	R19,0
    02157 940E 3C09 CALL	mod16u
    02159 3000      CPI	R16,0
    0215A 0701      CPC	R16,R17
    0215B F431      BNE	0x2162
(0848) 			      lcd_write_char_con(1,0x30 | keyV);
    0215C 2D2A      MOV	R18,R10
    0215D 6320      ORI	R18,0x30
    0215E E001      LDI	R16,1
    0215F 940E 0753 CALL	_lcd_write_char_con
(0849) 				}else{
    02161 C005      RJMP	0x2167
(0850) 				  lcd_write_char_con(2,0x30 | keyV);
    02162 2D2A      MOV	R18,R10
    02163 6320      ORI	R18,0x30
    02164 E002      LDI	R16,2
    02165 940E 0753 CALL	_lcd_write_char_con
(0851) 				}
(0852) 				dataCach[cur]=keyV-48;
    02167 01CE      MOVW	R24,R28
    02168 9602      ADIW	R24,2
    02169 01FA      MOVW	R30,R20
    0216A 0FEE      LSL	R30
    0216B 1FFF      ROL	R31
    0216C 0FE8      ADD	R30,R24
    0216D 1FF9      ADC	R31,R25
    0216E 2D8A      MOV	R24,R10
    0216F 2799      CLR	R25
    02170 97C0      SBIW	R24,0x30
    02171 8391      STD	Z+1,R25
    02172 8380      ST	Z,R24
(0853) 				oldcur=cur;
    02173 01BA      MOVW	R22,R20
(0854) 				if(cur<131)
    02174 3863      CPI	R22,0x83
    02175 E0E0      LDI	R30,0
    02176 077E      CPC	R23,R30
    02177 F450      BCC	0x2182
(0855) 				{
(0856) 				  cur++;
    02178 5F4F      SUBI	R20,0xFF
    02179 4F5F      SBCI	R21,0xFF
(0857) 				  page4_ac(cur,oldcur,dataCach);
    0217A 01CE      MOVW	R24,R28
    0217B 9602      ADIW	R24,2
    0217C 8399      STD	Y+1,R25
    0217D 8388      ST	Y,R24
    0217E 019B      MOVW	R18,R22
    0217F 018A      MOVW	R16,R20
    02180 DC7C      RCALL	_page4_ac
(0858) 				}else if(cur==131){//最后一个131会在上面处理，最后一次进入这里。跳到保存
    02181 C016      RJMP	0x2198
    02182 3843      CPI	R20,0x83
    02183 E0E0      LDI	R30,0
    02184 075E      CPC	R21,R30
    02185 F491      BNE	0x2198
(0859) 				  Set_White(1,1,2);
    02186 E082      LDI	R24,2
    02187 8388      ST	Y,R24
    02188 E021      LDI	R18,1
    02189 E001      LDI	R16,1
    0218A 940E 09D0 CALL	_Set_White
(0860) 			       cur_set(0);
    0218C 2700      CLR	R16
    0218D 2711      CLR	R17
    0218E 940E 091C CALL	_cur_set
(0861) 			       cur_set(4);
    02190 E004      LDI	R16,4
    02191 E010      LDI	R17,0
    02192 940E 091C CALL	_cur_set
(0862) 			       cur=132;
    02194 E844      LDI	R20,0x84
    02195 E050      LDI	R21,0
(0863) 				   oldcur=99;
    02196 E663      LDI	R22,0x63
    02197 E070      LDI	R23,0
    02198 CDD4      RJMP	0x1F6D
    02199 96EF      ADIW	R28,0x3F
    0219A 96EF      ADIW	R28,0x3F
    0219B 96EF      ADIW	R28,0x3F
    0219C 96EF      ADIW	R28,0x3F
    0219D 962C      ADIW	R28,0xC
    0219E 940C 3CA4 JMP	pop_xgsetF03C
_page5:
  ddflag               --> R22
  cur                  --> R20
  keyV                 --> R10
    021A0 940E 3C7F CALL	push_xgsetF00C
    021A2 9722      SBIW	R28,2
(0864) 				}
(0865) 				
(0866) 			  }
(0867) 		}
(0868) 	}
(0869)  }
(0870)  
(0871)  void page5(void){
(0872)   uint cur=0;
    021A3 2744      CLR	R20
    021A4 2755      CLR	R21
(0873)    uchar keyV;
(0874)    uint ddflag;
(0875)    lcd_write_str(4,0,"断电自动恢复");
    021A5 ED8D      LDI	R24,0xDD
    021A6 E099      LDI	R25,0x9
    021A7 8399      STD	Y+1,R25
    021A8 8388      ST	Y,R24
    021A9 2722      CLR	R18
    021AA E004      LDI	R16,4
    021AB 940E 07AB CALL	_lcd_write_str
(0876)    lcd_write_str(4,1,"设置时间");
    021AD ED84      LDI	R24,0xD4
    021AE E099      LDI	R25,0x9
    021AF 8399      STD	Y+1,R25
    021B0 8388      ST	Y,R24
    021B1 E021      LDI	R18,1
    021B2 E004      LDI	R16,4
    021B3 940E 07AB CALL	_lcd_write_str
(0877)    lcd_write_str(4,2,"重置系统");
    021B5 EC8B      LDI	R24,0xCB
    021B6 E099      LDI	R25,0x9
    021B7 8399      STD	Y+1,R25
    021B8 8388      ST	Y,R24
    021B9 E022      LDI	R18,2
    021BA E004      LDI	R16,4
    021BB 940E 07AB CALL	_lcd_write_str
(0878)     ddflag=EEPROM_read(0,0);
    021BD 2722      CLR	R18
    021BE 2733      CLR	R19
    021BF 2700      CLR	R16
    021C0 2711      CLR	R17
    021C1 940E 130B CALL	_EEPROM_read
    021C3 01B8      MOVW	R22,R16
(0879) 	if(ddflag==0){
    021C4 3000      CPI	R16,0
    021C5 0701      CPC	R16,R17
    021C6 F459      BNE	0x21D2
(0880)       lcd_write_char(3,0,0xA1);
    021C7 EA81      LDI	R24,0xA1
    021C8 8388      ST	Y,R24
    021C9 2722      CLR	R18
    021CA E003      LDI	R16,3
    021CB 940E 0785 CALL	_lcd_write_char
(0881)       lcd_write_char_con(0,0xC1);
    021CD EC21      LDI	R18,0xC1
    021CE 2700      CLR	R16
    021CF 940E 0753 CALL	_lcd_write_char_con
(0882)    }else {
    021D1 C00A      RJMP	0x21DC
(0883)       lcd_write_char(3,0,0xA1);
    021D2 EA81      LDI	R24,0xA1
    021D3 8388      ST	Y,R24
    021D4 2722      CLR	R18
    021D5 E003      LDI	R16,3
    021D6 940E 0785 CALL	_lcd_write_char
(0884)       lcd_write_char_con(0,0xCC);
    021D8 EC2C      LDI	R18,0xCC
    021D9 2700      CLR	R16
    021DA 940E 0753 CALL	_lcd_write_char_con
(0885)    }
(0886)    cur=0;
    021DC 2744      CLR	R20
    021DD 2755      CLR	R21
(0887)    Set_White(5,0,10);
    021DE E08A      LDI	R24,0xA
    021DF 8388      ST	Y,R24
    021E0 2722      CLR	R18
    021E1 E005      LDI	R16,5
    021E2 940E 09D0 CALL	_Set_White
    021E4 C0DC      RJMP	0x22C1
(0888)    while(1){
(0889)       keyV=KeyScan_once();
    021E5 940E 0648 CALL	_KeyScan_once
    021E7 2EA0      MOV	R10,R16
(0890) 	  if(keyV=='u'){
    021E8 3705      CPI	R16,0x75
    021E9 F539      BNE	0x2211
(0891) 	    switch(cur){
    021EA 3041      CPI	R20,1
    021EB E0E0      LDI	R30,0
    021EC 075E      CPC	R21,R30
    021ED F029      BEQ	0x21F3
    021EE 3042      CPI	R20,2
    021EF E0E0      LDI	R30,0
    021F0 075E      CPC	R21,R30
    021F1 F081      BEQ	0x2202
    021F2 C0CE      RJMP	0x22C1
(0892) 		  case 1:
(0893) 		   Set_White_off(5,1,8);
    021F3 E088      LDI	R24,0x8
    021F4 8388      ST	Y,R24
    021F5 E021      LDI	R18,1
    021F6 E005      LDI	R16,5
    021F7 940E 0960 CALL	_Set_White_off
(0894) 		   Set_White(5,0,10);
    021F9 E08A      LDI	R24,0xA
    021FA 8388      ST	Y,R24
    021FB 2722      CLR	R18
    021FC E005      LDI	R16,5
    021FD 940E 09D0 CALL	_Set_White
(0895) 		   cur=0;
    021FF 2744      CLR	R20
    02200 2755      CLR	R21
(0896) 		   break;
    02201 C0BF      RJMP	0x22C1
(0897) 		  case 2: 
(0898) 		   Set_White_off(5,2,8);
    02202 E088      LDI	R24,0x8
    02203 8388      ST	Y,R24
    02204 E022      LDI	R18,2
    02205 E005      LDI	R16,5
    02206 940E 0960 CALL	_Set_White_off
(0899) 		   Set_White(5,1,8);
    02208 E088      LDI	R24,0x8
    02209 8388      ST	Y,R24
    0220A E021      LDI	R18,1
    0220B E005      LDI	R16,5
    0220C 940E 09D0 CALL	_Set_White
(0900) 		   cur=1;
    0220E E041      LDI	R20,1
    0220F E050      LDI	R21,0
(0901) 		   break;
(0902) 		}
(0903) 	  }else if(keyV=='d'){
    02210 C0B0      RJMP	0x22C1
    02211 2D8A      MOV	R24,R10
    02212 3684      CPI	R24,0x64
    02213 F531      BNE	0x223A
(0904) 	      switch(cur){
    02214 3040      CPI	R20,0
    02215 0745      CPC	R20,R21
    02216 F029      BEQ	0x221C
    02217 3041      CPI	R20,1
    02218 E0E0      LDI	R30,0
    02219 075E      CPC	R21,R30
    0221A F081      BEQ	0x222B
    0221B C0A5      RJMP	0x22C1
(0905) 		  case 0:
(0906) 		   Set_White_off(5,0,10);
    0221C E08A      LDI	R24,0xA
    0221D 8388      ST	Y,R24
    0221E 2722      CLR	R18
    0221F E005      LDI	R16,5
    02220 940E 0960 CALL	_Set_White_off
(0907) 		   Set_White(5,1,8);
    02222 E088      LDI	R24,0x8
    02223 8388      ST	Y,R24
    02224 E021      LDI	R18,1
    02225 E005      LDI	R16,5
    02226 940E 09D0 CALL	_Set_White
(0908) 		   cur=1;
    02228 E041      LDI	R20,1
    02229 E050      LDI	R21,0
(0909) 		   break;
    0222A C096      RJMP	0x22C1
(0910) 		  case 1: 
(0911) 		   Set_White_off(5,1,8);
    0222B E088      LDI	R24,0x8
    0222C 8388      ST	Y,R24
    0222D E021      LDI	R18,1
    0222E E005      LDI	R16,5
    0222F 940E 0960 CALL	_Set_White_off
(0912) 		   Set_White(5,2,8);
    02231 E088      LDI	R24,0x8
    02232 8388      ST	Y,R24
    02233 E022      LDI	R18,2
    02234 E005      LDI	R16,5
    02235 940E 09D0 CALL	_Set_White
(0913) 		   cur=2;
    02237 E042      LDI	R20,2
    02238 E050      LDI	R21,0
(0914) 		   break;
(0915) 		}
(0916) 	  }else if(keyV=='e'){
    02239 C087      RJMP	0x22C1
    0223A 2D8A      MOV	R24,R10
    0223B 3685      CPI	R24,0x65
    0223C F539      BNE	0x2264
(0917) 	     switch(cur){
    0223D 3040      CPI	R20,0
    0223E 0745      CPC	R20,R21
    0223F F049      BEQ	0x2249
    02240 3041      CPI	R20,1
    02241 E0E0      LDI	R30,0
    02242 075E      CPC	R21,R30
    02243 F061      BEQ	0x2250
    02244 3042      CPI	R20,2
    02245 E0E0      LDI	R30,0
    02246 075E      CPC	R21,R30
    02247 F079      BEQ	0x2257
    02248 C014      RJMP	0x225D
(0918) 		 case 0: 
(0919) 		   Set_White_off(5,0,10);
    02249 E08A      LDI	R24,0xA
    0224A 8388      ST	Y,R24
    0224B 2722      CLR	R18
    0224C E005      LDI	R16,5
    0224D 940E 0960 CALL	_Set_White_off
(0920) 		    break;
    0224F C00D      RJMP	0x225D
(0921) 		 case 1:
(0922) 		   Set_White_off(5,1,8);
    02250 E088      LDI	R24,0x8
    02251 8388      ST	Y,R24
    02252 E021      LDI	R18,1
    02253 E005      LDI	R16,5
    02254 940E 0960 CALL	_Set_White_off
(0923) 		   break;
    02256 C006      RJMP	0x225D
(0924) 		 case 2:
(0925) 		  Set_White_off(5,2,8);
    02257 E088      LDI	R24,0x8
    02258 8388      ST	Y,R24
    02259 E022      LDI	R18,2
    0225A E005      LDI	R16,5
    0225B 940E 0960 CALL	_Set_White_off
(0926) 		  break;
(0927) 	
(0928) 		  default:
(0929) 		   break;
(0930) 		 }
(0931) 	    pageNum=1;
    0225D E081      LDI	R24,1
    0225E E090      LDI	R25,0
    0225F 9390 0ACC STS	pageNum+1,R25
    02261 9380 0ACB STS	pageNum,R24
(0932) 		return;
    02263 C05E      RJMP	0x22C2
(0933) 	  }else if(keyV=='t'){
    02264 2D8A      MOV	R24,R10
    02265 3784      CPI	R24,0x74
    02266 F009      BEQ	0x2268
    02267 C059      RJMP	0x22C1
(0934) 	    switch(cur){
    02268 3040      CPI	R20,0
    02269 0745      CPC	R20,R21
    0226A F049      BEQ	0x2274
    0226B 3041      CPI	R20,1
    0226C E0E0      LDI	R30,0
    0226D 075E      CPC	R21,R30
    0226E F171      BEQ	0x229D
    0226F 3042      CPI	R20,2
    02270 E0E0      LDI	R30,0
    02271 075E      CPC	R21,R30
    02272 F1B1      BEQ	0x22A9
    02273 C04D      RJMP	0x22C1
(0935) 		  case 0:
(0936) 		     //执行EEPROM操作
(0937) 			 if(ddflag==0){
    02274 3060      CPI	R22,0
    02275 0767      CPC	R22,R23
    02276 F419      BNE	0x227A
(0938) 			   ddflag=1;
    02277 E061      LDI	R22,1
    02278 E070      LDI	R23,0
(0939) 			 }else{
    02279 C002      RJMP	0x227C
(0940) 			   ddflag=0;
    0227A 2766      CLR	R22
    0227B 2777      CLR	R23
(0941) 			 }
(0942) 			 EEPROM_write(0,0,ddflag);//写入到EEPROM
    0227C 8379      STD	Y+1,R23
    0227D 8368      ST	Y,R22
    0227E 2722      CLR	R18
    0227F 2733      CLR	R19
    02280 2700      CLR	R16
    02281 2711      CLR	R17
    02282 940E 12F4 CALL	_EEPROM_write
(0943) 			if(ddflag==0){
    02284 3060      CPI	R22,0
    02285 0767      CPC	R22,R23
    02286 F459      BNE	0x2292
(0944)                lcd_write_char(3,0,0xA1);
    02287 EA81      LDI	R24,0xA1
    02288 8388      ST	Y,R24
    02289 2722      CLR	R18
    0228A E003      LDI	R16,3
    0228B 940E 0785 CALL	_lcd_write_char
(0945)                lcd_write_char_con(0,0xC1);
    0228D EC21      LDI	R18,0xC1
    0228E 2700      CLR	R16
    0228F 940E 0753 CALL	_lcd_write_char_con
(0946)             }else{
    02291 C02F      RJMP	0x22C1
(0947)               lcd_write_char(3,0,0xA1);
    02292 EA81      LDI	R24,0xA1
    02293 8388      ST	Y,R24
    02294 2722      CLR	R18
    02295 E003      LDI	R16,3
    02296 940E 0785 CALL	_lcd_write_char
(0948)               lcd_write_char_con(0,0xCC);
    02298 EC2C      LDI	R18,0xCC
    02299 2700      CLR	R16
    0229A 940E 0753 CALL	_lcd_write_char_con
(0949)             }
(0950) 		    break;
    0229C C024      RJMP	0x22C1
(0951) 		  case 1:
(0952) 		   pageNum=8;
    0229D E088      LDI	R24,0x8
    0229E E090      LDI	R25,0
    0229F 9390 0ACC STS	pageNum+1,R25
    022A1 9380 0ACB STS	pageNum,R24
(0953) 		   Set_White_off(5,1,8);
    022A3 8388      ST	Y,R24
    022A4 E021      LDI	R18,1
    022A5 E005      LDI	R16,5
    022A6 940E 0960 CALL	_Set_White_off
(0954) 		   return;
    022A8 C019      RJMP	0x22C2
(0955) 		  
(0956) 		  case 2://重置系统
(0957) 		    prePageNum=5;
    022A9 E085      LDI	R24,5
    022AA E090      LDI	R25,0
    022AB 9390 0AC0 STS	prePageNum+1,R25
    022AD 9380 0ABF STS	prePageNum,R24
(0958) 		    pageNum=7;
    022AF E087      LDI	R24,7
    022B0 9390 0ACC STS	pageNum+1,R25
    022B2 9380 0ACB STS	pageNum,R24
(0959) 			pageParam[2]=0;
    022B4 2422      CLR	R2
    022B5 2433      CLR	R3
    022B6 9230 0AC6 STS	pageParam+5,R3
    022B8 9220 0AC5 STS	pageParam+4,R2
(0960) 		    Set_White_off(5,2,8);
    022BA E088      LDI	R24,0x8
    022BB 8388      ST	Y,R24
    022BC E022      LDI	R18,2
    022BD E005      LDI	R16,5
    022BE 940E 0960 CALL	_Set_White_off
(0961) 		   return;
    022C0 C001      RJMP	0x22C2
    022C1 CF23      RJMP	0x21E5
    022C2 9622      ADIW	R28,2
    022C3 940C 3C86 JMP	pop_xgsetF00C
_page6:
    022C5 9722      SBIW	R28,2
(0962) 		}
(0963) 	    
(0964) 	  }
(0965)    }
(0966)    
(0967)  }
(0968)  void page6(void){//复用的方法
(0969)  if(pageParam[1]==0){
    022C6 9020 0AC3 LDS	R2,pageParam+2
    022C8 9030 0AC4 LDS	R3,pageParam+3
    022CA 2022      TST	R2
    022CB F459      BNE	0x22D7
    022CC 2033      TST	R3
    022CD F449      BNE	0x22D7
(0970)      lcd_write_str(4,1,"时间保存成功！");
    022CE EB8C      LDI	R24,0xBC
    022CF E099      LDI	R25,0x9
    022D0 8399      STD	Y+1,R25
    022D1 8388      ST	Y,R24
    022D2 E021      LDI	R18,1
    022D3 E004      LDI	R16,4
    022D4 940E 07AB CALL	_lcd_write_str
(0971)    }else if(pageParam[1]==1){
    022D6 C021      RJMP	0x22F8
    022D7 9180 0AC3 LDS	R24,pageParam+2
    022D9 9190 0AC4 LDS	R25,pageParam+3
    022DB 3081      CPI	R24,1
    022DC E0E0      LDI	R30,0
    022DD 079E      CPC	R25,R30
    022DE F449      BNE	0x22E8
(0972)      lcd_write_str(4,1,"温度保存成功！");
    022DF EA8D      LDI	R24,0xAD
    022E0 E099      LDI	R25,0x9
    022E1 8399      STD	Y+1,R25
    022E2 8388      ST	Y,R24
    022E3 E021      LDI	R18,1
    022E4 E004      LDI	R16,4
    022E5 940E 07AB CALL	_lcd_write_str
(0973)    }else if(pageParam[1]==2){
    022E7 C010      RJMP	0x22F8
    022E8 9180 0AC3 LDS	R24,pageParam+2
    022EA 9190 0AC4 LDS	R25,pageParam+3
    022EC 3082      CPI	R24,2
    022ED E0E0      LDI	R30,0
    022EE 079E      CPC	R25,R30
    022EF F441      BNE	0x22F8
(0974)      lcd_write_str(4,1,"温度保存失败！");
    022F0 E98E      LDI	R24,0x9E
    022F1 E099      LDI	R25,0x9
    022F2 8399      STD	Y+1,R25
    022F3 8388      ST	Y,R24
    022F4 E021      LDI	R18,1
    022F5 E004      LDI	R16,4
    022F6 940E 07AB CALL	_lcd_write_str
(0975)    }
(0976)    delay_ms(100);
    022F8 E604      LDI	R16,0x64
    022F9 E010      LDI	R17,0
    022FA 940E 055B CALL	_delay_ms
(0977)    pageNum=prePageNum;
    022FC 9020 0ABF LDS	R2,prePageNum
    022FE 9030 0AC0 LDS	R3,prePageNum+1
    02300 9230 0ACC STS	pageNum+1,R3
    02302 9220 0ACB STS	pageNum,R2
    02304 9622      ADIW	R28,2
    02305 9508      RET
_page7:
  cur                  --> R20
  keyV                 --> R10
    02306 940E 3C7F CALL	push_xgsetF00C
    02308 9722      SBIW	R28,2
(0978)  }
(0979)  void page7(void){
(0980)    uint cur=1;
    02309 E041      LDI	R20,1
    0230A E050      LDI	R21,0
(0981)    uchar keyV;
(0982)    lcd_write_str(2,0,"是否重置");
    0230B E985      LDI	R24,0x95
    0230C E099      LDI	R25,0x9
    0230D 8399      STD	Y+1,R25
    0230E 8388      ST	Y,R24
    0230F 2722      CLR	R18
    02310 E002      LDI	R16,2
    02311 940E 07AB CALL	_lcd_write_str
(0983)    lcd_write_str(2,2,"确认");
    02313 E980      LDI	R24,0x90
    02314 E099      LDI	R25,0x9
    02315 8399      STD	Y+1,R25
    02316 8388      ST	Y,R24
    02317 E022      LDI	R18,2
    02318 E002      LDI	R16,2
    02319 940E 07AB CALL	_lcd_write_str
(0984)    lcd_write_str(8,2,"取消");
    0231B E587      LDI	R24,0x57
    0231C E09A      LDI	R25,0xA
    0231D 8399      STD	Y+1,R25
    0231E 8388      ST	Y,R24
    0231F E022      LDI	R18,2
    02320 E008      LDI	R16,0x8
    02321 940E 07AB CALL	_lcd_write_str
(0985)    Set_White(9,2,10);
    02323 E08A      LDI	R24,0xA
    02324 8388      ST	Y,R24
    02325 E022      LDI	R18,2
    02326 E009      LDI	R16,0x9
    02327 940E 09D0 CALL	_Set_White
    02329 C078      RJMP	0x23A2
(0986)     while(1){
(0987)       keyV=KeyScan_once();
    0232A 940E 0648 CALL	_KeyScan_once
    0232C 2EA0      MOV	R10,R16
(0988) 	  switch(keyV){
    0232D 2D6A      MOV	R22,R10
    0232E 2777      CLR	R23
    0232F 366C      CPI	R22,0x6C
    02330 E0E0      LDI	R30,0
    02331 077E      CPC	R23,R30
    02332 F0A1      BEQ	0x2347
    02333 E68C      LDI	R24,0x6C
    02334 E090      LDI	R25,0
    02335 1786      CP	R24,R22
    02336 0797      CPC	R25,R23
    02337 F034      BLT	0x233E
    02338 3665      CPI	R22,0x65
    02339 E0E0      LDI	R30,0
    0233A 077E      CPC	R23,R30
    0233B F409      BNE	0x233D
    0233C C050      RJMP	0x238D
    0233D C064      RJMP	0x23A2
    0233E 3762      CPI	R22,0x72
    0233F E0E0      LDI	R30,0
    02340 077E      CPC	R23,R30
    02341 F0C9      BEQ	0x235B
    02342 3764      CPI	R22,0x74
    02343 E0E0      LDI	R30,0
    02344 077E      CPC	R23,R30
    02345 F141      BEQ	0x236E
    02346 C05B      RJMP	0x23A2
(0989) 	    case 'l':
(0990) 		   if(cur==1){
    02347 3041      CPI	R20,1
    02348 E0E0      LDI	R30,0
    02349 075E      CPC	R21,R30
    0234A F009      BEQ	0x234C
    0234B C056      RJMP	0x23A2
(0991) 		      Set_White_off(9,2,10);
    0234C E08A      LDI	R24,0xA
    0234D 8388      ST	Y,R24
    0234E E022      LDI	R18,2
    0234F E009      LDI	R16,0x9
    02350 940E 0960 CALL	_Set_White_off
(0992) 		      Set_White(3,2,4);
    02352 E084      LDI	R24,4
    02353 8388      ST	Y,R24
    02354 E022      LDI	R18,2
    02355 E003      LDI	R16,3
    02356 940E 09D0 CALL	_Set_White
(0993) 			  cur=0;
    02358 2744      CLR	R20
    02359 2755      CLR	R21
(0994) 		   }
(0995) 		   break;
    0235A C047      RJMP	0x23A2
(0996) 		case 'r':
(0997) 		   if(cur==0){
    0235B 3040      CPI	R20,0
    0235C 0745      CPC	R20,R21
    0235D F009      BEQ	0x235F
    0235E C043      RJMP	0x23A2
(0998) 		      Set_White_off(3,2,4);
    0235F E084      LDI	R24,4
    02360 8388      ST	Y,R24
    02361 E022      LDI	R18,2
    02362 E003      LDI	R16,3
    02363 940E 0960 CALL	_Set_White_off
(0999) 		      Set_White(9,2,10);
    02365 E08A      LDI	R24,0xA
    02366 8388      ST	Y,R24
    02367 E022      LDI	R18,2
    02368 E009      LDI	R16,0x9
    02369 940E 09D0 CALL	_Set_White
(1000) 			  cur=1;
    0236B E041      LDI	R20,1
    0236C E050      LDI	R21,0
(1001) 		   }
(1002) 		  break;
    0236D C034      RJMP	0x23A2
(1003) 		case 't':
(1004) 		  //执行相关操作	  
(1005) 		  if(cur==0){
    0236E 3040      CPI	R20,0
    0236F 0745      CPC	R20,R21
    02370 F469      BNE	0x237E
(1006) 		     Set_White_off(3,2,4);
    02371 E084      LDI	R24,4
    02372 8388      ST	Y,R24
    02373 E022      LDI	R18,2
    02374 E003      LDI	R16,3
    02375 940E 0960 CALL	_Set_White_off
(1007) 		       //进入重置画面。在Page9启动看门狗重置系统、不喂狗。数据重置对呀操作不同
(1008) 		       pageNum=9;
    02377 E089      LDI	R24,0x9
    02378 E090      LDI	R25,0
    02379 9390 0ACC STS	pageNum+1,R25
    0237B 9380 0ACB STS	pageNum,R24
(1009) 		  }else {
    0237D C025      RJMP	0x23A3
(1010) 		      Set_White_off(9,2,10);
    0237E E08A      LDI	R24,0xA
    0237F 8388      ST	Y,R24
    02380 E022      LDI	R18,2
    02381 E009      LDI	R16,0x9
    02382 940E 0960 CALL	_Set_White_off
(1011) 		       pageNum=prePageNum;
    02384 9020 0ABF LDS	R2,prePageNum
    02386 9030 0AC0 LDS	R3,prePageNum+1
    02388 9230 0ACC STS	pageNum+1,R3
    0238A 9220 0ACB STS	pageNum,R2
(1012) 		  }
(1013) 		  return;
    0238C C016      RJMP	0x23A3
(1014) 		 case 'e':
(1015) 		    Set_White_off(3,2,4);
    0238D E084      LDI	R24,4
    0238E 8388      ST	Y,R24
    0238F E022      LDI	R18,2
    02390 E003      LDI	R16,3
    02391 940E 0960 CALL	_Set_White_off
(1016) 		    Set_White_off(9,2,10);
    02393 E08A      LDI	R24,0xA
    02394 8388      ST	Y,R24
    02395 E022      LDI	R18,2
    02396 E009      LDI	R16,0x9
    02397 940E 0960 CALL	_Set_White_off
(1017) 		    pageNum=prePageNum;
    02399 9020 0ABF LDS	R2,prePageNum
    0239B 9030 0AC0 LDS	R3,prePageNum+1
    0239D 9230 0ACC STS	pageNum+1,R3
    0239F 9220 0ACB STS	pageNum,R2
(1018) 		    return;
    023A1 C001      RJMP	0x23A3
    023A2 CF87      RJMP	0x232A
    023A3 9622      ADIW	R28,2
    023A4 940C 3C86 JMP	pop_xgsetF00C
_page8:
  dateAc               --> Y,+38
  time_cacah           --> R22
  keyV                 --> R22
  cur                  --> R20
  date                 --> Y,+8
  i                    --> R22
    023A6 940E 3C7F CALL	push_xgsetF00C
    023A8 97EF      SBIW	R28,0x3F
    023A9 9723      SBIW	R28,3
(1019) 	  }
(1020) 	}
(1021)  }
(1022)  void page8(void){
(1023)    uint cur=0;
    023AA 2744      CLR	R20
    023AB 2755      CLR	R21
(1024)    uchar keyV;
(1025)    uint date[15];
(1026)    uint i;
(1027)    uint time_cacah;
(1028)     uint dateAc[14]={1,2,3,4,6,7,9,10,2,3,5,6,8,9};
    023AC E48F      LDI	R24,0x4F
    023AD E099      LDI	R25,0x9
    023AE 01FE      MOVW	R30,R28
    023AF 96B6      ADIW	R30,0x26
    023B0 E10C      LDI	R16,0x1C
    023B1 E010      LDI	R17,0
    023B2 93FA      ST	-Y,R31
    023B3 93EA      ST	-Y,R30
    023B4 939A      ST	-Y,R25
    023B5 938A      ST	-Y,R24
    023B6 940E 3CBC CALL	asgnblk
(1029)    time_cacah=Read1307(0x06);
    023B8 E006      LDI	R16,6
    023B9 940E 3B10 CALL	_Read1307
    023BB 01B8      MOVW	R22,R16
(1030)    date[0]=2;
    023BC E082      LDI	R24,2
    023BD E090      LDI	R25,0
    023BE 8799      STD	Y+9,R25
    023BF 8788      STD	Y+8,R24
(1031)    date[1]=0;
    023C0 2422      CLR	R2
    023C1 2433      CLR	R3
    023C2 863B      STD	Y+11,R3
    023C3 862A      STD	Y+10,R2
(1032)    date[2]=time_cacah>>4;
    023C4 011B      MOVW	R2,R22
    023C5 9436      LSR	R3
    023C6 9427      ROR	R2
    023C7 9436      LSR	R3
    023C8 9427      ROR	R2
    023C9 9436      LSR	R3
    023CA 9427      ROR	R2
    023CB 9436      LSR	R3
    023CC 9427      ROR	R2
    023CD 863D      STD	Y+13,R3
    023CE 862C      STD	Y+12,R2
(1033)    date[3]=time_cacah&0x0F;
    023CF 01CB      MOVW	R24,R22
    023D0 708F      ANDI	R24,0xF
    023D1 7090      ANDI	R25,0
    023D2 879F      STD	Y+15,R25
    023D3 878E      STD	Y+14,R24
(1034)    time_cacah=Read1307(0x05);
    023D4 E005      LDI	R16,5
    023D5 940E 3B10 CALL	_Read1307
    023D7 01B8      MOVW	R22,R16
(1035)    date[4]=(time_cacah>>4)&0x01;
    023D8 01CB      MOVW	R24,R22
    023D9 9596      LSR	R25
    023DA 9587      ROR	R24
    023DB 9596      LSR	R25
    023DC 9587      ROR	R24
    023DD 9596      LSR	R25
    023DE 9587      ROR	R24
    023DF 9596      LSR	R25
    023E0 9587      ROR	R24
    023E1 7081      ANDI	R24,1
    023E2 7090      ANDI	R25,0
    023E3 8B99      STD	Y+17,R25
    023E4 8B88      STD	Y+16,R24
(1036)    date[5]=time_cacah&0x0F;
    023E5 01CB      MOVW	R24,R22
    023E6 708F      ANDI	R24,0xF
    023E7 7090      ANDI	R25,0
    023E8 8B9B      STD	Y+19,R25
    023E9 8B8A      STD	Y+18,R24
(1037)     time_cacah=Read1307(0x04);
    023EA E004      LDI	R16,4
    023EB 940E 3B10 CALL	_Read1307
    023ED 0158      MOVW	R10,R16
    023EE 01B5      MOVW	R22,R10
(1038)    date[6]=0x03&(time_cacah>>4);
    023EF 01CB      MOVW	R24,R22
    023F0 9596      LSR	R25
    023F1 9587      ROR	R24
    023F2 9596      LSR	R25
    023F3 9587      ROR	R24
    023F4 9596      LSR	R25
    023F5 9587      ROR	R24
    023F6 9596      LSR	R25
    023F7 9587      ROR	R24
    023F8 7083      ANDI	R24,3
    023F9 7090      ANDI	R25,0
    023FA 8B9D      STD	Y+21,R25
    023FB 8B8C      STD	Y+20,R24
(1039)    date[7]=time_cacah&0x0F;
    023FC 01CB      MOVW	R24,R22
    023FD 708F      ANDI	R24,0xF
    023FE 7090      ANDI	R25,0
    023FF 8B9F      STD	Y+23,R25
    02400 8B8E      STD	Y+22,R24
(1040)    time_cacah=Read1307(0x02);
    02401 E002      LDI	R16,2
    02402 940E 3B10 CALL	_Read1307
    02404 0158      MOVW	R10,R16
    02405 01B5      MOVW	R22,R10
(1041)    date[8]=0x03&(time_cacah>>4);
    02406 01CB      MOVW	R24,R22
    02407 9596      LSR	R25
    02408 9587      ROR	R24
    02409 9596      LSR	R25
    0240A 9587      ROR	R24
    0240B 9596      LSR	R25
    0240C 9587      ROR	R24
    0240D 9596      LSR	R25
    0240E 9587      ROR	R24
    0240F 7083      ANDI	R24,3
    02410 7090      ANDI	R25,0
    02411 8F99      STD	Y+25,R25
    02412 8F88      STD	Y+24,R24
(1042)    date[9]=time_cacah&0x0F;
    02413 01CB      MOVW	R24,R22
    02414 708F      ANDI	R24,0xF
    02415 7090      ANDI	R25,0
    02416 8F9B      STD	Y+27,R25
    02417 8F8A      STD	Y+26,R24
(1043)    time_cacah=Read1307(0x01);
    02418 E001      LDI	R16,1
    02419 940E 3B10 CALL	_Read1307
    0241B 0158      MOVW	R10,R16
    0241C 01B5      MOVW	R22,R10
(1044)    date[10]=0x07&(time_cacah>>4);
    0241D 01CB      MOVW	R24,R22
    0241E 9596      LSR	R25
    0241F 9587      ROR	R24
    02420 9596      LSR	R25
    02421 9587      ROR	R24
    02422 9596      LSR	R25
    02423 9587      ROR	R24
    02424 9596      LSR	R25
    02425 9587      ROR	R24
    02426 7087      ANDI	R24,7
    02427 7090      ANDI	R25,0
    02428 8F9D      STD	Y+29,R25
    02429 8F8C      STD	Y+28,R24
(1045)    date[11]=time_cacah&0x0f;
    0242A 01CB      MOVW	R24,R22
    0242B 708F      ANDI	R24,0xF
    0242C 7090      ANDI	R25,0
    0242D 8F9F      STD	Y+31,R25
    0242E 8F8E      STD	Y+30,R24
(1046)    time_cacah=Read1307(0x00);
    0242F 2700      CLR	R16
    02430 940E 3B10 CALL	_Read1307
    02432 0158      MOVW	R10,R16
    02433 01B5      MOVW	R22,R10
(1047)    date[12]=0x07&(time_cacah>>4);
    02434 01CB      MOVW	R24,R22
    02435 9596      LSR	R25
    02436 9587      ROR	R24
    02437 9596      LSR	R25
    02438 9587      ROR	R24
    02439 9596      LSR	R25
    0243A 9587      ROR	R24
    0243B 9596      LSR	R25
    0243C 9587      ROR	R24
    0243D 7087      ANDI	R24,7
    0243E 7090      ANDI	R25,0
    0243F A399      STD	Y+33,R25
    02440 A388      STD	Y+32,R24
(1048)    date[13]=time_cacah&0x0F;
    02441 01CB      MOVW	R24,R22
    02442 708F      ANDI	R24,0xF
    02443 7090      ANDI	R25,0
    02444 A39B      STD	Y+35,R25
    02445 A38A      STD	Y+34,R24
(1049)     lcd_write_pos(1,0);
    02446 2722      CLR	R18
    02447 E001      LDI	R16,1
    02448 940E 0767 CALL	_lcd_write_pos
(1050)   for(i=0;i<8;i++){
    0244A 2766      CLR	R22
    0244B 2777      CLR	R23
    0244C C020      RJMP	0x246D
(1051)    lcd_write_char_con(0,0x30 | date[i]);
    0244D 01CE      MOVW	R24,R28
    0244E 9608      ADIW	R24,0x8
    0244F 01FB      MOVW	R30,R22
    02450 0FEE      LSL	R30
    02451 1FFF      ROL	R31
    02452 0FE8      ADD	R30,R24
    02453 1FF9      ADC	R31,R25
    02454 8120      LD	R18,Z
    02455 8131      LDD	R19,Z+1
    02456 6320      ORI	R18,0x30
    02457 2700      CLR	R16
    02458 940E 0753 CALL	_lcd_write_char_con
(1052)     lcd_write_char_con(0,' ');
    0245A E220      LDI	R18,0x20
    0245B 2700      CLR	R16
    0245C 940E 0753 CALL	_lcd_write_char_con
(1053) 	if(i==3 || i==5){
    0245E 3063      CPI	R22,3
    0245F E0E0      LDI	R30,0
    02460 077E      CPC	R23,R30
    02461 F021      BEQ	0x2466
    02462 3065      CPI	R22,5
    02463 E0E0      LDI	R30,0
    02464 077E      CPC	R23,R30
    02465 F429      BNE	0x246B
(1054) 	  lcd_write_str_con(0,"- ");
    02466 E82D      LDI	R18,0x8D
    02467 E039      LDI	R19,0x9
    02468 2700      CLR	R16
    02469 940E 07F5 CALL	_lcd_write_str_con
    0246B 5F6F      SUBI	R22,0xFF
    0246C 4F7F      SBCI	R23,0xFF
    0246D 3068      CPI	R22,0x8
    0246E E0E0      LDI	R30,0
    0246F 077E      CPC	R23,R30
    02470 F2E0      BCS	0x244D
(1055) 	}
(1056)   }
(1057)    lcd_write_pos(2,1);
    02471 E021      LDI	R18,1
    02472 E002      LDI	R16,2
    02473 940E 0767 CALL	_lcd_write_pos
(1058)    for(i=8;i<14;i++){
    02475 E068      LDI	R22,0x8
    02476 E070      LDI	R23,0
    02477 C020      RJMP	0x2498
(1059)    lcd_write_char_con(1,0x30 | date[i]);
    02478 01CE      MOVW	R24,R28
    02479 9608      ADIW	R24,0x8
    0247A 01FB      MOVW	R30,R22
    0247B 0FEE      LSL	R30
    0247C 1FFF      ROL	R31
    0247D 0FE8      ADD	R30,R24
    0247E 1FF9      ADC	R31,R25
    0247F 8120      LD	R18,Z
    02480 8131      LDD	R19,Z+1
    02481 6320      ORI	R18,0x30
    02482 E001      LDI	R16,1
    02483 940E 0753 CALL	_lcd_write_char_con
(1060)    lcd_write_char_con(0,' ');
    02485 E220      LDI	R18,0x20
    02486 2700      CLR	R16
    02487 940E 0753 CALL	_lcd_write_char_con
(1061)    if(i==9 || i==11){
    02489 3069      CPI	R22,0x9
    0248A E0E0      LDI	R30,0
    0248B 077E      CPC	R23,R30
    0248C F021      BEQ	0x2491
    0248D 306B      CPI	R22,0xB
    0248E E0E0      LDI	R30,0
    0248F 077E      CPC	R23,R30
    02490 F429      BNE	0x2496
(1062) 	 lcd_write_str_con(0,": ");
    02491 E022      LDI	R18,2
    02492 E03A      LDI	R19,0xA
    02493 2700      CLR	R16
    02494 940E 07F5 CALL	_lcd_write_str_con
    02496 5F6F      SUBI	R22,0xFF
    02497 4F7F      SBCI	R23,0xFF
    02498 306E      CPI	R22,0xE
    02499 E0E0      LDI	R30,0
    0249A 077E      CPC	R23,R30
    0249B F2E0      BCS	0x2478
(1063)    }
(1064)   } 
(1065)    lcd_write_str(3,2,"保存");
    0249C EF86      LDI	R24,0xF6
    0249D E099      LDI	R25,0x9
    0249E 8399      STD	Y+1,R25
    0249F 8388      ST	Y,R24
    024A0 E022      LDI	R18,2
    024A1 E003      LDI	R16,3
    024A2 940E 07AB CALL	_lcd_write_str
(1066)    lcd_write_str(8,2,"取消");
    024A4 E587      LDI	R24,0x57
    024A5 E09A      LDI	R25,0xA
    024A6 8399      STD	Y+1,R25
    024A7 8388      ST	Y,R24
    024A8 E022      LDI	R18,2
    024A9 E008      LDI	R16,0x8
    024AA 940E 07AB CALL	_lcd_write_str
(1067)    //初始化date
(1068)   
(1069)    cur=0;
    024AC 2744      CLR	R20
    024AD 2755      CLR	R21
(1070)    lcd_write_pos(1,0);//初始游标位置
    024AE 2722      CLR	R18
    024AF E001      LDI	R16,1
    024B0 940E 0767 CALL	_lcd_write_pos
(1071)    cur_set(3);//上半屏幕游标设置
    024B2 E003      LDI	R16,3
    024B3 E010      LDI	R17,0
    024B4 940E 091C CALL	_cur_set
    024B6 C284      RJMP	0x273B
(1072)    while(1){
(1073)      pageTime(3);//
    024B7 E003      LDI	R16,3
    024B8 E010      LDI	R17,0
    024B9 940E 1321 CALL	_pageTime
(1074) 	 keyV=KeyScan_once();
    024BB 940E 0648 CALL	_KeyScan_once
    024BD 2EA0      MOV	R10,R16
    024BE 2D6A      MOV	R22,R10
(1075) 	 if(keyV=='u'){
    024BF 3705      CPI	R16,0x75
    024C0 F571      BNE	0x24EF
(1076) 	   if(cur>13){//调到时间第一个
    024C1 E08D      LDI	R24,0xD
    024C2 E090      LDI	R25,0
    024C3 1784      CP	R24,R20
    024C4 0795      CPC	R25,R21
    024C5 F4B8      BCC	0x24DD
(1077) 	        Set_White_off(4,2,5);
    024C6 E085      LDI	R24,5
    024C7 8388      ST	Y,R24
    024C8 E022      LDI	R18,2
    024C9 E004      LDI	R16,4
    024CA 940E 0960 CALL	_Set_White_off
(1078) 			Set_White_off(9,2,10);
    024CC E08A      LDI	R24,0xA
    024CD 8388      ST	Y,R24
    024CE E022      LDI	R18,2
    024CF E009      LDI	R16,0x9
    024D0 940E 0960 CALL	_Set_White_off
(1079) 	        lcd_write_pos(2,1);
    024D2 E021      LDI	R18,1
    024D3 E002      LDI	R16,2
    024D4 940E 0767 CALL	_lcd_write_pos
(1080) 		    cur_set(3);
    024D6 E003      LDI	R16,3
    024D7 E010      LDI	R17,0
    024D8 940E 091C CALL	_cur_set
(1081) 			cur=8; 
    024DA E048      LDI	R20,0x8
    024DB E050      LDI	R21,0
(1082) 		   }else if(cur>7 && cur <14){//调到日期第一个
    024DC C25E      RJMP	0x273B
    024DD E087      LDI	R24,7
    024DE E090      LDI	R25,0
    024DF 1784      CP	R24,R20
    024E0 0795      CPC	R25,R21
    024E1 F008      BCS	0x24E3
    024E2 C258      RJMP	0x273B
    024E3 304E      CPI	R20,0xE
    024E4 E0E0      LDI	R30,0
    024E5 075E      CPC	R21,R30
    024E6 F008      BCS	0x24E8
    024E7 C253      RJMP	0x273B
(1083) 		    lcd_write_pos(1,0);
    024E8 2722      CLR	R18
    024E9 E001      LDI	R16,1
    024EA 940E 0767 CALL	_lcd_write_pos
(1084) 			cur=0; 
    024EC 2744      CLR	R20
    024ED 2755      CLR	R21
(1085) 		   }
(1086) 	 }else if(keyV=='d'){
    024EE C24C      RJMP	0x273B
    024EF 3664      CPI	R22,0x64
    024F0 F519      BNE	0x2514
(1087) 	     if(cur>7 && cur <14){//在时间上，第三行，默认要保存，所以调到保存上
    024F1 E087      LDI	R24,7
    024F2 E090      LDI	R25,0
    024F3 1784      CP	R24,R20
    024F4 0795      CPC	R25,R21
    024F5 F488      BCC	0x2507
    024F6 304E      CPI	R20,0xE
    024F7 E0E0      LDI	R30,0
    024F8 075E      CPC	R21,R30
    024F9 F468      BCC	0x2507
(1088) 		      cur_set(0);//关下半屏幕游标
    024FA 2700      CLR	R16
    024FB 2711      CLR	R17
    024FC 940E 091C CALL	_cur_set
(1089) 			  Set_White(4,2,5);
    024FE E085      LDI	R24,5
    024FF 8388      ST	Y,R24
    02500 E022      LDI	R18,2
    02501 E004      LDI	R16,4
    02502 940E 09D0 CALL	_Set_White
(1090) 			  cur=14;
    02504 E04E      LDI	R20,0xE
    02505 E050      LDI	R21,0
(1091) 		 }else if(cur<=7){ //调到时间第一个
    02506 C234      RJMP	0x273B
    02507 E087      LDI	R24,7
    02508 E090      LDI	R25,0
    02509 1784      CP	R24,R20
    0250A 0795      CPC	R25,R21
    0250B F408      BCC	0x250D
    0250C C22E      RJMP	0x273B
(1092) 		    lcd_write_pos(2,1);
    0250D E021      LDI	R18,1
    0250E E002      LDI	R16,2
    0250F 940E 0767 CALL	_lcd_write_pos
(1093) 			cur=8; 
    02511 E048      LDI	R20,0x8
    02512 E050      LDI	R21,0
(1094) 		 }
(1095) 	 }else if(keyV=='l'){
    02513 C227      RJMP	0x273B
    02514 366C      CPI	R22,0x6C
    02515 F009      BEQ	0x2517
    02516 C043      RJMP	0x255A
(1096) 			if(cur<=8 && cur>0){
    02517 E088      LDI	R24,0x8
    02518 E090      LDI	R25,0
    02519 1784      CP	R24,R20
    0251A 0795      CPC	R25,R21
    0251B F090      BCS	0x252E
    0251C 3040      CPI	R20,0
    0251D 0745      CPC	R20,R21
    0251E F079      BEQ	0x252E
(1097) 			 cur--;
    0251F 5041      SUBI	R20,1
    02520 4050      SBCI	R21,0
(1098) 			 lcd_write_pos(dateAc[cur],0);
    02521 2722      CLR	R18
    02522 01CE      MOVW	R24,R28
    02523 9686      ADIW	R24,0x26
    02524 01FA      MOVW	R30,R20
    02525 0FEE      LSL	R30
    02526 1FFF      ROL	R31
    02527 0FE8      ADD	R30,R24
    02528 1FF9      ADC	R31,R25
    02529 8100      LD	R16,Z
    0252A 8111      LDD	R17,Z+1
    0252B 940E 0767 CALL	_lcd_write_pos
(1099) 			}else if (cur>8 && cur<14){
    0252D C20D      RJMP	0x273B
    0252E E088      LDI	R24,0x8
    0252F E090      LDI	R25,0
    02530 1784      CP	R24,R20
    02531 0795      CPC	R25,R21
    02532 F498      BCC	0x2546
    02533 304E      CPI	R20,0xE
    02534 E0E0      LDI	R30,0
    02535 075E      CPC	R21,R30
    02536 F478      BCC	0x2546
(1100) 			 cur--;
    02537 5041      SUBI	R20,1
    02538 4050      SBCI	R21,0
(1101) 			 lcd_write_pos(dateAc[cur],1);
    02539 E021      LDI	R18,1
    0253A 01CE      MOVW	R24,R28
    0253B 9686      ADIW	R24,0x26
    0253C 01FA      MOVW	R30,R20
    0253D 0FEE      LSL	R30
    0253E 1FFF      ROL	R31
    0253F 0FE8      ADD	R30,R24
    02540 1FF9      ADC	R31,R25
    02541 8100      LD	R16,Z
    02542 8111      LDD	R17,Z+1
    02543 940E 0767 CALL	_lcd_write_pos
(1102) 			}else if (cur==15){
    02545 C1F5      RJMP	0x273B
    02546 304F      CPI	R20,0xF
    02547 E0E0      LDI	R30,0
    02548 075E      CPC	R21,R30
    02549 F009      BEQ	0x254B
    0254A C1F0      RJMP	0x273B
(1103) 			    Set_White_off(9,2,10);
    0254B E08A      LDI	R24,0xA
    0254C 8388      ST	Y,R24
    0254D E022      LDI	R18,2
    0254E E009      LDI	R16,0x9
    0254F 940E 0960 CALL	_Set_White_off
(1104) 			    Set_White(4,2,5);
    02551 E085      LDI	R24,5
    02552 8388      ST	Y,R24
    02553 E022      LDI	R18,2
    02554 E004      LDI	R16,4
    02555 940E 09D0 CALL	_Set_White
(1105) 				cur=14;
    02557 E04E      LDI	R20,0xE
    02558 E050      LDI	R21,0
(1106) 			}
(1107) 			
(1108) 		
(1109) 	 }else if(keyV=='r'){
    02559 C1E1      RJMP	0x273B
    0255A 3762      CPI	R22,0x72
    0255B F009      BEQ	0x255D
    0255C C03A      RJMP	0x2597
(1110) 	       if(cur<7){
    0255D 3047      CPI	R20,7
    0255E E0E0      LDI	R30,0
    0255F 075E      CPC	R21,R30
    02560 F478      BCC	0x2570
(1111) 			   cur++;
    02561 5F4F      SUBI	R20,0xFF
    02562 4F5F      SBCI	R21,0xFF
(1112) 			   lcd_write_pos(dateAc[cur],0);
    02563 2722      CLR	R18
    02564 01CE      MOVW	R24,R28
    02565 9686      ADIW	R24,0x26
    02566 01FA      MOVW	R30,R20
    02567 0FEE      LSL	R30
    02568 1FFF      ROL	R31
    02569 0FE8      ADD	R30,R24
    0256A 1FF9      ADC	R31,R25
    0256B 8100      LD	R16,Z
    0256C 8111      LDD	R17,Z+1
    0256D 940E 0767 CALL	_lcd_write_pos
(1113) 			}else if (cur<13){
    0256F C1CB      RJMP	0x273B
    02570 304D      CPI	R20,0xD
    02571 E0E0      LDI	R30,0
    02572 075E      CPC	R21,R30
    02573 F478      BCC	0x2583
(1114) 			   cur++;
    02574 5F4F      SUBI	R20,0xFF
    02575 4F5F      SBCI	R21,0xFF
(1115) 			   lcd_write_pos(dateAc[cur],1);
    02576 E021      LDI	R18,1
    02577 01CE      MOVW	R24,R28
    02578 9686      ADIW	R24,0x26
    02579 01FA      MOVW	R30,R20
    0257A 0FEE      LSL	R30
    0257B 1FFF      ROL	R31
    0257C 0FE8      ADD	R30,R24
    0257D 1FF9      ADC	R31,R25
    0257E 8100      LD	R16,Z
    0257F 8111      LDD	R17,Z+1
    02580 940E 0767 CALL	_lcd_write_pos
(1116) 			}else if (cur==14){
    02582 C1B8      RJMP	0x273B
    02583 304E      CPI	R20,0xE
    02584 E0E0      LDI	R30,0
    02585 075E      CPC	R21,R30
    02586 F009      BEQ	0x2588
    02587 C1B3      RJMP	0x273B
(1117) 			    Set_White_off(4,2,5);
    02588 E085      LDI	R24,5
    02589 8388      ST	Y,R24
    0258A E022      LDI	R18,2
    0258B E004      LDI	R16,4
    0258C 940E 0960 CALL	_Set_White_off
(1118) 				Set_White(9,2,10);
    0258E E08A      LDI	R24,0xA
    0258F 8388      ST	Y,R24
    02590 E022      LDI	R18,2
    02591 E009      LDI	R16,0x9
    02592 940E 09D0 CALL	_Set_White
(1119) 				cur=15;
    02594 E04F      LDI	R20,0xF
    02595 E050      LDI	R21,0
(1120) 			}
(1121) 	 }else if(keyV=='e'){
    02596 C1A4      RJMP	0x273B
    02597 3665      CPI	R22,0x65
    02598 F4B9      BNE	0x25B0
(1122) 	     cur_set(0);//关上半屏幕游标
    02599 2700      CLR	R16
    0259A 2711      CLR	R17
    0259B 940E 091C CALL	_cur_set
(1123) 		  Set_White_off(4,2,5);
    0259D E085      LDI	R24,5
    0259E 8388      ST	Y,R24
    0259F E022      LDI	R18,2
    025A0 E004      LDI	R16,4
    025A1 940E 0960 CALL	_Set_White_off
(1124) 		  Set_White_off(9,2,10);
    025A3 E08A      LDI	R24,0xA
    025A4 8388      ST	Y,R24
    025A5 E022      LDI	R18,2
    025A6 E009      LDI	R16,0x9
    025A7 940E 0960 CALL	_Set_White_off
(1125) 		 pageNum=1;
    025A9 E081      LDI	R24,1
    025AA E090      LDI	R25,0
    025AB 9390 0ACC STS	pageNum+1,R25
    025AD 9380 0ACB STS	pageNum,R24
(1126) 		 return;
    025AF C18C      RJMP	0x273C
(1127) 	     //退出界面
(1128) 	 }else if(keyV=='t'){
    025B0 3764      CPI	R22,0x74
    025B1 F009      BEQ	0x25B3
    025B2 C085      RJMP	0x2638
(1129) 	      if(cur==14){
    025B3 304E      CPI	R20,0xE
    025B4 E0E0      LDI	R30,0
    025B5 075E      CPC	R21,R30
    025B6 F009      BEQ	0x25B8
    025B7 C064      RJMP	0x261C
(1130) 		      setTime((date[2]*16)+date[3],(date[4]*16)+date[5],(date[6]*16)+date[7],(date[8]*16)+date[9],(date[10]*16)+date[11],(date[12]*16)+date[13]);
    025B8 A128      LDD	R18,Y+32
    025B9 A139      LDD	R19,Y+33
    025BA E100      LDI	R16,0x10
    025BB E010      LDI	R17,0
    025BC 940E 3C39 CALL	empy16s
    025BE 0118      MOVW	R2,R16
    025BF A04A      LDD	R4,Y+34
    025C0 A05B      LDD	R5,Y+35
    025C1 0C24      ADD	R2,R4
    025C2 1C35      ADC	R3,R5
    025C3 823F      STD	Y+7,R3
    025C4 822E      STD	Y+6,R2
    025C5 8D2C      LDD	R18,Y+28
    025C6 8D3D      LDD	R19,Y+29
    025C7 E100      LDI	R16,0x10
    025C8 E010      LDI	R17,0
    025C9 940E 3C39 CALL	empy16s
    025CB 0118      MOVW	R2,R16
    025CC 8C4E      LDD	R4,Y+30
    025CD 8C5F      LDD	R5,Y+31
    025CE 0C24      ADD	R2,R4
    025CF 1C35      ADC	R3,R5
    025D0 823D      STD	Y+5,R3
    025D1 822C      STD	Y+4,R2
    025D2 8D28      LDD	R18,Y+24
    025D3 8D39      LDD	R19,Y+25
    025D4 E100      LDI	R16,0x10
    025D5 E010      LDI	R17,0
    025D6 940E 3C39 CALL	empy16s
    025D8 0118      MOVW	R2,R16
    025D9 8C4A      LDD	R4,Y+26
    025DA 8C5B      LDD	R5,Y+27
    025DB 0C24      ADD	R2,R4
    025DC 1C35      ADC	R3,R5
    025DD 823B      STD	Y+3,R3
    025DE 822A      STD	Y+2,R2
    025DF 892C      LDD	R18,Y+20
    025E0 893D      LDD	R19,Y+21
    025E1 E100      LDI	R16,0x10
    025E2 E010      LDI	R17,0
    025E3 940E 3C39 CALL	empy16s
    025E5 0118      MOVW	R2,R16
    025E6 884E      LDD	R4,Y+22
    025E7 885F      LDD	R5,Y+23
    025E8 0C24      ADD	R2,R4
    025E9 1C35      ADC	R3,R5
    025EA 8239      STD	Y+1,R3
    025EB 8228      ST	Y,R2
    025EC 8928      LDD	R18,Y+16
    025ED 8939      LDD	R19,Y+17
    025EE E100      LDI	R16,0x10
    025EF E010      LDI	R17,0
    025F0 940E 3C39 CALL	empy16s
    025F2 0198      MOVW	R18,R16
    025F3 882A      LDD	R2,Y+18
    025F4 883B      LDD	R3,Y+19
    025F5 0D22      ADD	R18,R2
    025F6 1D33      ADC	R19,R3
    025F7 842C      LDD	R2,Y+12
    025F8 843D      LDD	R3,Y+13
    025F9 E100      LDI	R16,0x10
    025FA E010      LDI	R17,0
    025FB 932F      PUSH	R18
    025FC 933F      PUSH	R19
    025FD 0191      MOVW	R18,R2
    025FE 940E 3C39 CALL	empy16s
    02600 0118      MOVW	R2,R16
    02601 913F      POP	R19
    02602 912F      POP	R18
    02603 844E      LDD	R4,Y+14
    02604 845F      LDD	R5,Y+15
    02605 0C24      ADD	R2,R4
    02606 1C35      ADC	R3,R5
    02607 0181      MOVW	R16,R2
    02608 940E 3B24 CALL	_setTime
(1131) 		        //setTime(1*16+2,1<<4+2+0x00,2*16+2,1<<4+2+0x00,5+0x00,5<<4+1+0x00);
(1132) 				//保存操作
(1133) 				pageParam[1]=0;//标记是时间的保存
    0260A 2422      CLR	R2
    0260B 2433      CLR	R3
    0260C 9230 0AC4 STS	pageParam+3,R3
    0260E 9220 0AC3 STS	pageParam+2,R2
(1134) 				prePageNum=8;
    02610 E088      LDI	R24,0x8
    02611 E090      LDI	R25,0
    02612 9390 0AC0 STS	prePageNum+1,R25
    02614 9380 0ABF STS	prePageNum,R24
(1135) 				pageNum=6;
    02616 E086      LDI	R24,6
    02617 9390 0ACC STS	pageNum+1,R25
    02619 9380 0ACB STS	pageNum,R24
(1136) 				return;
    0261B C120      RJMP	0x273C
(1137) 		 }else if(cur==15){
    0261C 304F      CPI	R20,0xF
    0261D E0E0      LDI	R30,0
    0261E 075E      CPC	R21,R30
    0261F F009      BEQ	0x2621
    02620 C11A      RJMP	0x273B
(1138) 		        //取消操作
(1139) 			 cur_set(0);//关上半屏幕游标
    02621 2700      CLR	R16
    02622 2711      CLR	R17
    02623 940E 091C CALL	_cur_set
(1140) 		  Set_White_off(4,2,5);
    02625 E085      LDI	R24,5
    02626 8388      ST	Y,R24
    02627 E022      LDI	R18,2
    02628 E004      LDI	R16,4
    02629 940E 0960 CALL	_Set_White_off
(1141) 		  Set_White_off(9,2,10);
    0262B E08A      LDI	R24,0xA
    0262C 8388      ST	Y,R24
    0262D E022      LDI	R18,2
    0262E E009      LDI	R16,0x9
    0262F 940E 0960 CALL	_Set_White_off
(1142) 		 pageNum=1;
    02631 E081      LDI	R24,1
    02632 E090      LDI	R25,0
    02633 9390 0ACC STS	pageNum+1,R25
    02635 9380 0ACB STS	pageNum,R24
(1143) 		 return;
    02637 C104      RJMP	0x273C
(1144) 		 }
(1145) 	 }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    02638 3360      CPI	R22,0x30
    02639 F099      BEQ	0x264D
    0263A 3361      CPI	R22,0x31
    0263B F089      BEQ	0x264D
    0263C 3362      CPI	R22,0x32
    0263D F079      BEQ	0x264D
    0263E 3363      CPI	R22,0x33
    0263F F069      BEQ	0x264D
    02640 3364      CPI	R22,0x34
    02641 F059      BEQ	0x264D
    02642 3365      CPI	R22,0x35
    02643 F049      BEQ	0x264D
    02644 3366      CPI	R22,0x36
    02645 F039      BEQ	0x264D
    02646 3367      CPI	R22,0x37
    02647 F029      BEQ	0x264D
    02648 3368      CPI	R22,0x38
    02649 F019      BEQ	0x264D
    0264A 3369      CPI	R22,0x39
    0264B F009      BEQ	0x264D
    0264C C0EE      RJMP	0x273B
(1146) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(1147) 			if(cur<14){
    0264D 304E      CPI	R20,0xE
    0264E E0E0      LDI	R30,0
    0264F 075E      CPC	R21,R30
    02650 F008      BCS	0x2652
    02651 C0E9      RJMP	0x273B
(1148) 			 lcd_write_char_con(0,0x30 | keyV);
    02652 2F26      MOV	R18,R22
    02653 6320      ORI	R18,0x30
    02654 2700      CLR	R16
    02655 940E 0753 CALL	_lcd_write_char_con
(1149) 			 lcd_write_char_con(0,' ');
    02657 E220      LDI	R18,0x20
    02658 2700      CLR	R16
    02659 940E 0753 CALL	_lcd_write_char_con
(1150) 			 switch(keyV){
    0265B 2777      CLR	R23
    0265C 3360      CPI	R22,0x30
    0265D E0E0      LDI	R30,0
    0265E 077E      CPC	R23,R30
    0265F F409      BNE	0x2661
    02660 C02E      RJMP	0x268F
    02661 3361      CPI	R22,0x31
    02662 E0E0      LDI	R30,0
    02663 077E      CPC	R23,R30
    02664 F409      BNE	0x2666
    02665 C035      RJMP	0x269B
    02666 3362      CPI	R22,0x32
    02667 E0E0      LDI	R30,0
    02668 077E      CPC	R23,R30
    02669 F409      BNE	0x266B
    0266A C03C      RJMP	0x26A7
    0266B 3363      CPI	R22,0x33
    0266C E0E0      LDI	R30,0
    0266D 077E      CPC	R23,R30
    0266E F409      BNE	0x2670
    0266F C043      RJMP	0x26B3
    02670 3364      CPI	R22,0x34
    02671 E0E0      LDI	R30,0
    02672 077E      CPC	R23,R30
    02673 F409      BNE	0x2675
    02674 C04A      RJMP	0x26BF
    02675 3365      CPI	R22,0x35
    02676 E0E0      LDI	R30,0
    02677 077E      CPC	R23,R30
    02678 F409      BNE	0x267A
    02679 C051      RJMP	0x26CB
    0267A 3366      CPI	R22,0x36
    0267B E0E0      LDI	R30,0
    0267C 077E      CPC	R23,R30
    0267D F409      BNE	0x267F
    0267E C058      RJMP	0x26D7
    0267F 3367      CPI	R22,0x37
    02680 E0E0      LDI	R30,0
    02681 077E      CPC	R23,R30
    02682 F409      BNE	0x2684
    02683 C05F      RJMP	0x26E3
    02684 3368      CPI	R22,0x38
    02685 E0E0      LDI	R30,0
    02686 077E      CPC	R23,R30
    02687 F409      BNE	0x2689
    02688 C066      RJMP	0x26EF
    02689 3369      CPI	R22,0x39
    0268A E0E0      LDI	R30,0
    0268B 077E      CPC	R23,R30
    0268C F409      BNE	0x268E
    0268D C06D      RJMP	0x26FB
    0268E C077      RJMP	0x2706
(1151) 			  case '0':
(1152) 			    date[cur]=0;
    0268F 01CE      MOVW	R24,R28
    02690 9608      ADIW	R24,0x8
    02691 01FA      MOVW	R30,R20
    02692 0FEE      LSL	R30
    02693 1FFF      ROL	R31
    02694 0FE8      ADD	R30,R24
    02695 1FF9      ADC	R31,R25
    02696 2422      CLR	R2
    02697 2433      CLR	R3
    02698 8231      STD	Z+1,R3
    02699 8220      ST	Z,R2
(1153) 			    break;
    0269A C06B      RJMP	0x2706
(1154) 			  case '1':
(1155) 			    date[cur]=1;
    0269B 01CE      MOVW	R24,R28
    0269C 9608      ADIW	R24,0x8
    0269D 01FA      MOVW	R30,R20
    0269E 0FEE      LSL	R30
    0269F 1FFF      ROL	R31
    026A0 0FE8      ADD	R30,R24
    026A1 1FF9      ADC	R31,R25
    026A2 E081      LDI	R24,1
    026A3 E090      LDI	R25,0
    026A4 8391      STD	Z+1,R25
    026A5 8380      ST	Z,R24
(1156) 			    break;
    026A6 C05F      RJMP	0x2706
(1157) 			  case '2':
(1158) 			    date[cur]=2;
    026A7 01CE      MOVW	R24,R28
    026A8 9608      ADIW	R24,0x8
    026A9 01FA      MOVW	R30,R20
    026AA 0FEE      LSL	R30
    026AB 1FFF      ROL	R31
    026AC 0FE8      ADD	R30,R24
    026AD 1FF9      ADC	R31,R25
    026AE E082      LDI	R24,2
    026AF E090      LDI	R25,0
    026B0 8391      STD	Z+1,R25
    026B1 8380      ST	Z,R24
(1159) 			    break;
    026B2 C053      RJMP	0x2706
(1160) 			  case '3':
(1161) 			    date[cur]=3;
    026B3 01CE      MOVW	R24,R28
    026B4 9608      ADIW	R24,0x8
    026B5 01FA      MOVW	R30,R20
    026B6 0FEE      LSL	R30
    026B7 1FFF      ROL	R31
    026B8 0FE8      ADD	R30,R24
    026B9 1FF9      ADC	R31,R25
    026BA E083      LDI	R24,3
    026BB E090      LDI	R25,0
    026BC 8391      STD	Z+1,R25
    026BD 8380      ST	Z,R24
(1162) 			    break;
    026BE C047      RJMP	0x2706
(1163) 			  case '4':
(1164) 			    date[cur]=4;
    026BF 01CE      MOVW	R24,R28
    026C0 9608      ADIW	R24,0x8
    026C1 01FA      MOVW	R30,R20
    026C2 0FEE      LSL	R30
    026C3 1FFF      ROL	R31
    026C4 0FE8      ADD	R30,R24
    026C5 1FF9      ADC	R31,R25
    026C6 E084      LDI	R24,4
    026C7 E090      LDI	R25,0
    026C8 8391      STD	Z+1,R25
    026C9 8380      ST	Z,R24
(1165) 			    break;
    026CA C03B      RJMP	0x2706
(1166) 			  case '5':
(1167) 			    date[cur]=5;
    026CB 01CE      MOVW	R24,R28
    026CC 9608      ADIW	R24,0x8
    026CD 01FA      MOVW	R30,R20
    026CE 0FEE      LSL	R30
    026CF 1FFF      ROL	R31
    026D0 0FE8      ADD	R30,R24
    026D1 1FF9      ADC	R31,R25
    026D2 E085      LDI	R24,5
    026D3 E090      LDI	R25,0
    026D4 8391      STD	Z+1,R25
    026D5 8380      ST	Z,R24
(1168) 			    break;
    026D6 C02F      RJMP	0x2706
(1169) 			  case '6':
(1170) 			    date[cur]=6;
    026D7 01CE      MOVW	R24,R28
    026D8 9608      ADIW	R24,0x8
    026D9 01FA      MOVW	R30,R20
    026DA 0FEE      LSL	R30
    026DB 1FFF      ROL	R31
    026DC 0FE8      ADD	R30,R24
    026DD 1FF9      ADC	R31,R25
    026DE E086      LDI	R24,6
    026DF E090      LDI	R25,0
    026E0 8391      STD	Z+1,R25
    026E1 8380      ST	Z,R24
(1171) 			    break;
    026E2 C023      RJMP	0x2706
(1172) 			  case '7':
(1173) 			    date[cur]=7;
    026E3 01CE      MOVW	R24,R28
    026E4 9608      ADIW	R24,0x8
    026E5 01FA      MOVW	R30,R20
    026E6 0FEE      LSL	R30
    026E7 1FFF      ROL	R31
    026E8 0FE8      ADD	R30,R24
    026E9 1FF9      ADC	R31,R25
    026EA E087      LDI	R24,7
    026EB E090      LDI	R25,0
    026EC 8391      STD	Z+1,R25
    026ED 8380      ST	Z,R24
(1174) 			    break;
    026EE C017      RJMP	0x2706
(1175) 		      case '8':
(1176) 			    date[cur]=8;
    026EF 01CE      MOVW	R24,R28
    026F0 9608      ADIW	R24,0x8
    026F1 01FA      MOVW	R30,R20
    026F2 0FEE      LSL	R30
    026F3 1FFF      ROL	R31
    026F4 0FE8      ADD	R30,R24
    026F5 1FF9      ADC	R31,R25
    026F6 E088      LDI	R24,0x8
    026F7 E090      LDI	R25,0
    026F8 8391      STD	Z+1,R25
    026F9 8380      ST	Z,R24
(1177) 			    break;
    026FA C00B      RJMP	0x2706
(1178) 			  case '9':
(1179) 			    date[cur]=9;
    026FB 01CE      MOVW	R24,R28
    026FC 9608      ADIW	R24,0x8
    026FD 01FA      MOVW	R30,R20
    026FE 0FEE      LSL	R30
    026FF 1FFF      ROL	R31
    02700 0FE8      ADD	R30,R24
    02701 1FF9      ADC	R31,R25
    02702 E089      LDI	R24,0x9
    02703 E090      LDI	R25,0
    02704 8391      STD	Z+1,R25
    02705 8380      ST	Z,R24
(1180) 			    break;
(1181) 			  
(1182) 			 }
(1183) 			  if(cur==3 || cur==5){
    02706 3043      CPI	R20,3
    02707 E0E0      LDI	R30,0
    02708 075E      CPC	R21,R30
    02709 F021      BEQ	0x270E
    0270A 3045      CPI	R20,5
    0270B E0E0      LDI	R30,0
    0270C 075E      CPC	R21,R30
    0270D F431      BNE	0x2714
(1184) 			    lcd_write_str_con(0,"- ");
    0270E E82D      LDI	R18,0x8D
    0270F E039      LDI	R19,0x9
    02710 2700      CLR	R16
    02711 940E 07F5 CALL	_lcd_write_str_con
(1185) 			 }else if(cur==9 || cur==11){
    02713 C00D      RJMP	0x2721
    02714 3049      CPI	R20,0x9
    02715 E0E0      LDI	R30,0
    02716 075E      CPC	R21,R30
    02717 F021      BEQ	0x271C
    02718 304B      CPI	R20,0xB
    02719 E0E0      LDI	R30,0
    0271A 075E      CPC	R21,R30
    0271B F429      BNE	0x2721
(1186) 			    lcd_write_str_con(0,": ");
    0271C E022      LDI	R18,2
    0271D E03A      LDI	R19,0xA
    0271E 2700      CLR	R16
    0271F 940E 07F5 CALL	_lcd_write_str_con
(1187) 			 }
(1188) 			 cur++;
    02721 5F4F      SUBI	R20,0xFF
    02722 4F5F      SBCI	R21,0xFF
(1189) 			 if(cur==8){
    02723 3048      CPI	R20,0x8
    02724 E0E0      LDI	R30,0
    02725 075E      CPC	R21,R30
    02726 F431      BNE	0x272D
(1190) 			    lcd_write_pos(dateAc[8],1);
    02727 E021      LDI	R18,1
    02728 A90E      LDD	R16,Y+54
    02729 A91F      LDD	R17,Y+55
    0272A 940E 0767 CALL	_lcd_write_pos
(1191) 			 }else if(cur==14){
    0272C C00E      RJMP	0x273B
    0272D 304E      CPI	R20,0xE
    0272E E0E0      LDI	R30,0
    0272F 075E      CPC	R21,R30
    02730 F451      BNE	0x273B
(1192) 			  cur_set(0);//关下半屏幕游标
    02731 2700      CLR	R16
    02732 2711      CLR	R17
    02733 940E 091C CALL	_cur_set
(1193) 			  Set_White(4,2,5);
    02735 E085      LDI	R24,5
    02736 8388      ST	Y,R24
    02737 E022      LDI	R18,2
    02738 E004      LDI	R16,4
    02739 940E 09D0 CALL	_Set_White
    0273B CD7B      RJMP	0x24B7
    0273C 96EF      ADIW	R28,0x3F
    0273D 9623      ADIW	R28,3
    0273E 940C 3C86 JMP	pop_xgsetF00C
_page9:
    02740 9722      SBIW	R28,2
(1194) 			 }
(1195) 			}
(1196) 	 }
(1197)    }
(1198)  }
(1199) void page9(void){//复用的方法
(1200)   if(pageParam[2]==0){
    02741 9020 0AC5 LDS	R2,pageParam+4
    02743 9030 0AC6 LDS	R3,pageParam+5
    02745 2022      TST	R2
    02746 F481      BNE	0x2757
    02747 2033      TST	R3
    02748 F471      BNE	0x2757
(1201)      lcd_write_str(4,1,"系统重置中。。。");
    02749 E78C      LDI	R24,0x7C
    0274A E099      LDI	R25,0x9
    0274B 8399      STD	Y+1,R25
    0274C 8388      ST	Y,R24
    0274D E021      LDI	R18,1
    0274E E004      LDI	R16,4
    0274F 940E 07AB CALL	_lcd_write_str
(1202) 	 //是否需要清除数据，考虑中
(1203) 	 WDTCR|=(1<<WDCE)|(1<<WDE); /* 置位 WDTOE 和 WDE(在设置看门狗定时器的预置分频器参数时需要将其写1)*/
    02751 B581      IN	R24,0x21
    02752 6188      ORI	R24,0x18
    02753 BD81      OUT	0x21,R24
(1204)      WDTCR=(1<<WDE)|(1<<WDP2)|(1<<WDP1); /*设定周期为1S*/
    02754 E08E      LDI	R24,0xE
    02755 BD81      OUT	0x21,R24
(1205) 	 while(1){
    02756 CFFF      RJMP	0x2756
(1206) 	 }
(1207)    }else if(pageParam[2]==1){
    02757 9180 0AC5 LDS	R24,pageParam+4
    02759 9190 0AC6 LDS	R25,pageParam+5
    0275B 3081      CPI	R24,1
    0275C E0E0      LDI	R30,0
    0275D 079E      CPC	R25,R30
    0275E F471      BNE	0x276D
(1208)      lcd_write_str(4,1,"数据重置中。。。");
    0275F E68B      LDI	R24,0x6B
    02760 E099      LDI	R25,0x9
    02761 8399      STD	Y+1,R25
    02762 8388      ST	Y,R24
    02763 E021      LDI	R18,1
    02764 E004      LDI	R16,4
    02765 940E 07AB CALL	_lcd_write_str
(1209) 	 reset_temp_data(pageParam[0]);
    02767 9100 0AC1 LDS	R16,pageParam
    02769 9110 0AC2 LDS	R17,pageParam+1
    0276B 940E 368A CALL	_reset_temp_data
(1210)    }
(1211)    delay_ms(50);
    0276D E302      LDI	R16,0x32
    0276E E010      LDI	R17,0
    0276F 940E 055B CALL	_delay_ms
(1212)    pageNum=prePageNum;
    02771 9020 0ABF LDS	R2,prePageNum
    02773 9030 0AC0 LDS	R3,prePageNum+1
    02775 9230 0ACC STS	pageNum+1,R3
    02777 9220 0ACB STS	pageNum,R2
    02779 9622      ADIW	R28,2
    0277A 9508      RET
(1213)  }
(1214) //分发Pages
(1215) void dispatchPages(void){
(1216)       lcd_clear();//清屏幕
_dispatchPages:
    0277B 940E 0862 CALL	_lcd_clear
(1217)       if(pageNum==1){
    0277D 9180 0ACB LDS	R24,pageNum
    0277F 9190 0ACC LDS	R25,pageNum+1
    02781 3081      CPI	R24,1
    02782 E0E0      LDI	R30,0
    02783 079E      CPC	R25,R30
    02784 F419      BNE	0x2788
(1218) 	    page1();
    02785 940E 133D CALL	_page1
(1219) 	  }else if(pageNum==2){
    02787 C052      RJMP	0x27DA
    02788 9180 0ACB LDS	R24,pageNum
    0278A 9190 0ACC LDS	R25,pageNum+1
    0278C 3082      CPI	R24,2
    0278D E0E0      LDI	R30,0
    0278E 079E      CPC	R25,R30
    0278F F419      BNE	0x2793
(1220) 	    page2();
    02790 940E 1720 CALL	_page2
(1221) 	  }else if(pageNum==3){
    02792 C047      RJMP	0x27DA
    02793 9180 0ACB LDS	R24,pageNum
    02795 9190 0ACC LDS	R25,pageNum+1
    02797 3083      CPI	R24,3
    02798 E0E0      LDI	R30,0
    02799 079E      CPC	R25,R30
    0279A F419      BNE	0x279E
(1222) 	    page3();
    0279B 940E 1869 CALL	_page3
(1223) 	  }else if(pageNum==4){
    0279D C03C      RJMP	0x27DA
    0279E 9180 0ACB LDS	R24,pageNum
    027A0 9190 0ACC LDS	R25,pageNum+1
    027A2 3084      CPI	R24,4
    027A3 E0E0      LDI	R30,0
    027A4 079E      CPC	R25,R30
    027A5 F419      BNE	0x27A9
(1224) 	    page4();
    027A6 940E 1ED7 CALL	_page4
(1225) 	  }else if(pageNum==5){
    027A8 C031      RJMP	0x27DA
    027A9 9180 0ACB LDS	R24,pageNum
    027AB 9190 0ACC LDS	R25,pageNum+1
    027AD 3085      CPI	R24,5
    027AE E0E0      LDI	R30,0
    027AF 079E      CPC	R25,R30
    027B0 F411      BNE	0x27B3
(1226) 	    page5();
    027B1 D9EE      RCALL	_page5
(1227) 	  }else if(pageNum==6){
    027B2 C027      RJMP	0x27DA
    027B3 9180 0ACB LDS	R24,pageNum
    027B5 9190 0ACC LDS	R25,pageNum+1
    027B7 3086      CPI	R24,6
    027B8 E0E0      LDI	R30,0
    027B9 079E      CPC	R25,R30
    027BA F411      BNE	0x27BD
(1228) 	    page6();
    027BB DB09      RCALL	_page6
(1229) 	  }else if(pageNum==7){
    027BC C01D      RJMP	0x27DA
    027BD 9180 0ACB LDS	R24,pageNum
    027BF 9190 0ACC LDS	R25,pageNum+1
    027C1 3087      CPI	R24,7
    027C2 E0E0      LDI	R30,0
    027C3 079E      CPC	R25,R30
    027C4 F411      BNE	0x27C7
(1230) 	    page7();
    027C5 DB40      RCALL	_page7
(1231) 	  }else if(pageNum==8){
    027C6 C013      RJMP	0x27DA
    027C7 9180 0ACB LDS	R24,pageNum
    027C9 9190 0ACC LDS	R25,pageNum+1
    027CB 3088      CPI	R24,0x8
    027CC E0E0      LDI	R30,0
    027CD 079E      CPC	R25,R30
    027CE F411      BNE	0x27D1
(1232) 	    page8();
    027CF DBD6      RCALL	_page8
(1233) 	  }else if(pageNum==9){
    027D0 C009      RJMP	0x27DA
    027D1 9180 0ACB LDS	R24,pageNum
    027D3 9190 0ACC LDS	R25,pageNum+1
    027D5 3089      CPI	R24,0x9
    027D6 E0E0      LDI	R30,0
    027D7 079E      CPC	R25,R30
    027D8 F409      BNE	0x27DA
(1234) 	    page9();
    027D9 DF66      RCALL	_page9
(1235) 	  }
    027DA 9508      RET
_int_int2:
  cache                --> R20
    027DB 920A      ST	-Y,R0
    027DC 921A      ST	-Y,R1
    027DD 922A      ST	-Y,R2
    027DE 923A      ST	-Y,R3
    027DF 924A      ST	-Y,R4
    027E0 925A      ST	-Y,R5
    027E1 926A      ST	-Y,R6
    027E2 927A      ST	-Y,R7
    027E3 928A      ST	-Y,R8
    027E4 929A      ST	-Y,R9
    027E5 930A      ST	-Y,R16
    027E6 931A      ST	-Y,R17
    027E7 932A      ST	-Y,R18
    027E8 933A      ST	-Y,R19
    027E9 938A      ST	-Y,R24
    027EA 939A      ST	-Y,R25
    027EB 93AA      ST	-Y,R26
    027EC 93BA      ST	-Y,R27
    027ED 93EA      ST	-Y,R30
    027EE 93FA      ST	-Y,R31
    027EF B60F      IN	R0,0x3F
    027F0 920A      ST	-Y,R0
    027F1 940E 3C6B CALL	push_xgset300C
    027F3 9722      SBIW	R28,2
FILE: E:\ICCDemo\Temp_Control\temp_control\temp.c
(0001) #include<iom128v.h>
(0002) #include "temp.h"
(0003) #include "main.h"
(0004) #include "eeprom.h"
(0005) #include "lcd.h"
(0006) #include "max6675.h"
(0007) #include "delay.h"
(0008) uint second;
(0009) void PID_realize(uint temp_n);
(0010) void set_start_real(uint t);
(0011) 
(0012) //中断1s进入，使用int2。可以使用，但是买的这个DS1307，硬件电路问题不可以使用
(0013) //  进行状态变换和参数调整,
(0014) /*升温：没1C变化温度更改参数，状态计算
(0015) /*恒温：只计算状态
(0016) /*****************************/
(0017) #pragma interrupt_handler int_int2:4
(0018) void int_int2(void){//做温度数据时间增加操作。不能做耗时的操作.中断优先级较高
(0019)   uint cache=0;//保存多次使用的数据，局部变量更快
    027F4 2744      CLR	R20
    027F5 2755      CLR	R21
(0020)   EIMSK &= 0xFB;//关中断2
    027F6 B789      IN	R24,0x39
    027F7 7F8B      ANDI	R24,0xFB
    027F8 BF89      OUT	0x39,R24
(0021)   TIMSK&=0xBF;//关定时器2溢出中断,8位的
    027F9 B787      IN	R24,0x37
    027FA 7B8F      ANDI	R24,0xBF
    027FB BF87      OUT	0x37,R24
(0022)   //10分钟计时
(0023)   second++;
    027FC 9180 0AD4 LDS	R24,second
    027FE 9190 0AD5 LDS	R25,second+1
    02800 9601      ADIW	R24,1
    02801 9390 0AD5 STS	second+1,R25
    02803 9380 0AD4 STS	second,R24
(0024)   if(second>600){
    02805 E588      LDI	R24,0x58
    02806 E092      LDI	R25,2
    02807 9020 0AD4 LDS	R2,second
    02809 9030 0AD5 LDS	R3,second+1
    0280B 1582      CP	R24,R2
    0280C 0593      CPC	R25,R3
    0280D F008      BCS	0x280F
    0280E C327      RJMP	0x2B36
(0025)      //保存状态。保存flag、status、nowtime就行，下面需加上判断
(0026) 	 second=0;
    0280F 2422      CLR	R2
    02810 2433      CLR	R3
    02811 9230 0AD5 STS	second+1,R3
    02813 9220 0AD4 STS	second,R2
(0027) 	  EEPROM_write(1,133,temps[0].flag);
    02815 9020 0335 LDS	R2,temps
    02817 9030 0336 LDS	R3,temps+1
    02819 8239      STD	Y+1,R3
    0281A 8228      ST	Y,R2
    0281B E825      LDI	R18,0x85
    0281C E030      LDI	R19,0
    0281D E001      LDI	R16,1
    0281E E010      LDI	R17,0
    0281F 940E 12F4 CALL	_EEPROM_write
(0028) 	  if(temps[0].flag==1 || temps[0].flag==3){
    02821 9020 0335 LDS	R2,temps
    02823 9030 0336 LDS	R3,temps+1
    02825 01C1      MOVW	R24,R2
    02826 3081      CPI	R24,1
    02827 E0E0      LDI	R30,0
    02828 079E      CPC	R25,R30
    02829 F029      BEQ	0x282F
    0282A 3083      CPI	R24,3
    0282B E0E0      LDI	R30,0
    0282C 079E      CPC	R25,R30
    0282D F009      BEQ	0x282F
    0282E C0AF      RJMP	0x28DE
(0029) 	    EEPROM_write(1,134,temps[0].status);
    0282F 9020 043F LDS	R2,temps+266
    02831 9030 0440 LDS	R3,temps+267
    02833 8239      STD	Y+1,R3
    02834 8228      ST	Y,R2
    02835 E826      LDI	R18,0x86
    02836 E030      LDI	R19,0
    02837 E001      LDI	R16,1
    02838 E010      LDI	R17,0
    02839 940E 12F4 CALL	_EEPROM_write
(0030) 	    EEPROM_write(1,135,temps[0].needtime>>8);
    0283B 9020 0441 LDS	R2,temps+268
    0283D 9030 0442 LDS	R3,temps+269
    0283F 2C23      MOV	R2,R3
    02840 2433      CLR	R3
    02841 8239      STD	Y+1,R3
    02842 8228      ST	Y,R2
    02843 E827      LDI	R18,0x87
    02844 E030      LDI	R19,0
    02845 E001      LDI	R16,1
    02846 E010      LDI	R17,0
    02847 940E 12F4 CALL	_EEPROM_write
(0031) 		EEPROM_write(1,136,temps[0].needtime & 0xFF);
    02849 9180 0441 LDS	R24,temps+268
    0284B 9190 0442 LDS	R25,temps+269
    0284D 7090      ANDI	R25,0
    0284E 8399      STD	Y+1,R25
    0284F 8388      ST	Y,R24
    02850 E828      LDI	R18,0x88
    02851 E030      LDI	R19,0
    02852 E001      LDI	R16,1
    02853 E010      LDI	R17,0
    02854 940E 12F4 CALL	_EEPROM_write
(0032) 		EEPROM_write(1,137,temps[0].nowtime>>8);
    02856 9020 0443 LDS	R2,temps+270
    02858 9030 0444 LDS	R3,temps+271
    0285A 2C23      MOV	R2,R3
    0285B 2433      CLR	R3
    0285C 8239      STD	Y+1,R3
    0285D 8228      ST	Y,R2
    0285E E829      LDI	R18,0x89
    0285F E030      LDI	R19,0
    02860 E001      LDI	R16,1
    02861 E010      LDI	R17,0
    02862 940E 12F4 CALL	_EEPROM_write
(0033) 		EEPROM_write(1,138,temps[0].nowtime & 0xFF);
    02864 9180 0443 LDS	R24,temps+270
    02866 9190 0444 LDS	R25,temps+271
    02868 7090      ANDI	R25,0
    02869 8399      STD	Y+1,R25
    0286A 8388      ST	Y,R24
    0286B E82A      LDI	R18,0x8A
    0286C E030      LDI	R19,0
    0286D E001      LDI	R16,1
    0286E E010      LDI	R17,0
    0286F 940E 12F4 CALL	_EEPROM_write
(0034) 	    EEPROM_write(1,139,temps[0].pertime>>8);
    02871 9020 0445 LDS	R2,temps+272
    02873 9030 0446 LDS	R3,temps+273
    02875 2C23      MOV	R2,R3
    02876 2433      CLR	R3
    02877 8239      STD	Y+1,R3
    02878 8228      ST	Y,R2
    02879 E82B      LDI	R18,0x8B
    0287A E030      LDI	R19,0
    0287B E001      LDI	R16,1
    0287C E010      LDI	R17,0
    0287D 940E 12F4 CALL	_EEPROM_write
(0035) 		EEPROM_write(1,140,temps[0].pertime & 0xff);
    0287F 9180 0445 LDS	R24,temps+272
    02881 9190 0446 LDS	R25,temps+273
    02883 7090      ANDI	R25,0
    02884 8399      STD	Y+1,R25
    02885 8388      ST	Y,R24
    02886 E82C      LDI	R18,0x8C
    02887 E030      LDI	R19,0
    02888 E001      LDI	R16,1
    02889 E010      LDI	R17,0
    0288A 940E 12F4 CALL	_EEPROM_write
(0036) 		
(0037) 	    EEPROM_write(1,141,temps[0].statusflag);
    0288C 9020 0449 LDS	R2,temps+276
    0288E 9030 044A LDS	R3,temps+277
    02890 8239      STD	Y+1,R3
    02891 8228      ST	Y,R2
    02892 E82D      LDI	R18,0x8D
    02893 E030      LDI	R19,0
    02894 E001      LDI	R16,1
    02895 E010      LDI	R17,0
    02896 940E 12F4 CALL	_EEPROM_write
(0038) 	    EEPROM_write(1,142,temps[0].p_settemp>>8 );
    02898 9020 044B LDS	R2,temps+278
    0289A 9030 044C LDS	R3,temps+279
    0289C 2C23      MOV	R2,R3
    0289D 2433      CLR	R3
    0289E 8239      STD	Y+1,R3
    0289F 8228      ST	Y,R2
    028A0 E82E      LDI	R18,0x8E
    028A1 E030      LDI	R19,0
    028A2 E001      LDI	R16,1
    028A3 E010      LDI	R17,0
    028A4 940E 12F4 CALL	_EEPROM_write
(0039) 		EEPROM_write(1,143,temps[0].p_settemp&0xff);
    028A6 9180 044B LDS	R24,temps+278
    028A8 9190 044C LDS	R25,temps+279
    028AA 7090      ANDI	R25,0
    028AB 8399      STD	Y+1,R25
    028AC 8388      ST	Y,R24
    028AD E82F      LDI	R18,0x8F
    028AE E030      LDI	R19,0
    028AF E001      LDI	R16,1
    028B0 E010      LDI	R17,0
    028B1 940E 12F4 CALL	_EEPROM_write
(0040) 		EEPROM_write(1,144,((int)temps[0].settemp)>>8);
    028B3 9120 0457 LDS	R18,temps+290
    028B5 9130 0458 LDS	R19,temps+291
    028B7 9100 0455 LDS	R16,temps+288
    028B9 9110 0456 LDS	R17,temps+289
    028BB 940E 3D86 CALL	fpint
    028BD 0118      MOVW	R2,R16
    028BE 2C23      MOV	R2,R3
    028BF 2433      CLR	R3
    028C0 FC27      SBRC	R2,7
    028C1 9430      COM	R3
    028C2 8239      STD	Y+1,R3
    028C3 8228      ST	Y,R2
    028C4 E920      LDI	R18,0x90
    028C5 E030      LDI	R19,0
    028C6 E001      LDI	R16,1
    028C7 E010      LDI	R17,0
    028C8 940E 12F4 CALL	_EEPROM_write
(0041) 	    EEPROM_write(1,145,((int)temps[0].settemp)&0xff);
    028CA 9120 0457 LDS	R18,temps+290
    028CC 9130 0458 LDS	R19,temps+291
    028CE 9100 0455 LDS	R16,temps+288
    028D0 9110 0456 LDS	R17,temps+289
    028D2 940E 3D86 CALL	fpint
    028D4 01C8      MOVW	R24,R16
    028D5 7090      ANDI	R25,0
    028D6 8399      STD	Y+1,R25
    028D7 8388      ST	Y,R24
    028D8 E921      LDI	R18,0x91
    028D9 E030      LDI	R19,0
    028DA E001      LDI	R16,1
    028DB E010      LDI	R17,0
    028DC 940E 12F4 CALL	_EEPROM_write
(0042) 	 }
(0043) 	 EEPROM_write(2,133,temps[1].flag);
    028DE 9020 0479 LDS	R2,temps+324
    028E0 9030 047A LDS	R3,temps+325
    028E2 8239      STD	Y+1,R3
    028E3 8228      ST	Y,R2
    028E4 E825      LDI	R18,0x85
    028E5 E030      LDI	R19,0
    028E6 E002      LDI	R16,2
    028E7 E010      LDI	R17,0
    028E8 940E 12F4 CALL	_EEPROM_write
(0044) 	  if(temps[1].flag==1 || temps[1].flag==3){
    028EA 9180 0479 LDS	R24,temps+324
    028EC 9190 047A LDS	R25,temps+325
    028EE 3081      CPI	R24,1
    028EF E0E0      LDI	R30,0
    028F0 079E      CPC	R25,R30
    028F1 F029      BEQ	0x28F7
    028F2 3083      CPI	R24,3
    028F3 E0E0      LDI	R30,0
    028F4 079E      CPC	R25,R30
    028F5 F009      BEQ	0x28F7
    028F6 C0AF      RJMP	0x29A6
(0045) 	    EEPROM_write(2,134,temps[1].status);
    028F7 9020 0583 LDS	R2,temps+590
    028F9 9030 0584 LDS	R3,temps+591
    028FB 8239      STD	Y+1,R3
    028FC 8228      ST	Y,R2
    028FD E826      LDI	R18,0x86
    028FE E030      LDI	R19,0
    028FF E002      LDI	R16,2
    02900 E010      LDI	R17,0
    02901 940E 12F4 CALL	_EEPROM_write
(0046) 	    EEPROM_write(2,135,temps[1].needtime>>8);
    02903 9020 0585 LDS	R2,temps+592
    02905 9030 0586 LDS	R3,temps+593
    02907 2C23      MOV	R2,R3
    02908 2433      CLR	R3
    02909 8239      STD	Y+1,R3
    0290A 8228      ST	Y,R2
    0290B E827      LDI	R18,0x87
    0290C E030      LDI	R19,0
    0290D E002      LDI	R16,2
    0290E E010      LDI	R17,0
    0290F 940E 12F4 CALL	_EEPROM_write
(0047) 		EEPROM_write(2,136,temps[1].needtime & 0xFF);
    02911 9180 0585 LDS	R24,temps+592
    02913 9190 0586 LDS	R25,temps+593
    02915 7090      ANDI	R25,0
    02916 8399      STD	Y+1,R25
    02917 8388      ST	Y,R24
    02918 E828      LDI	R18,0x88
    02919 E030      LDI	R19,0
    0291A E002      LDI	R16,2
    0291B E010      LDI	R17,0
    0291C 940E 12F4 CALL	_EEPROM_write
(0048) 		EEPROM_write(2,137,temps[1].nowtime>>8);
    0291E 9020 0587 LDS	R2,temps+594
    02920 9030 0588 LDS	R3,temps+595
    02922 2C23      MOV	R2,R3
    02923 2433      CLR	R3
    02924 8239      STD	Y+1,R3
    02925 8228      ST	Y,R2
    02926 E829      LDI	R18,0x89
    02927 E030      LDI	R19,0
    02928 E002      LDI	R16,2
    02929 E010      LDI	R17,0
    0292A 940E 12F4 CALL	_EEPROM_write
(0049) 		EEPROM_write(2,138,temps[1].nowtime & 0xFF);
    0292C 9180 0587 LDS	R24,temps+594
    0292E 9190 0588 LDS	R25,temps+595
    02930 7090      ANDI	R25,0
    02931 8399      STD	Y+1,R25
    02932 8388      ST	Y,R24
    02933 E82A      LDI	R18,0x8A
    02934 E030      LDI	R19,0
    02935 E002      LDI	R16,2
    02936 E010      LDI	R17,0
    02937 940E 12F4 CALL	_EEPROM_write
(0050) 	    EEPROM_write(2,139,temps[1].pertime>>8);
    02939 9020 0589 LDS	R2,temps+596
    0293B 9030 058A LDS	R3,temps+597
    0293D 2C23      MOV	R2,R3
    0293E 2433      CLR	R3
    0293F 8239      STD	Y+1,R3
    02940 8228      ST	Y,R2
    02941 E82B      LDI	R18,0x8B
    02942 E030      LDI	R19,0
    02943 E002      LDI	R16,2
    02944 E010      LDI	R17,0
    02945 940E 12F4 CALL	_EEPROM_write
(0051) 		EEPROM_write(2,140,temps[1].pertime & 0xff);
    02947 9180 0589 LDS	R24,temps+596
    02949 9190 058A LDS	R25,temps+597
    0294B 7090      ANDI	R25,0
    0294C 8399      STD	Y+1,R25
    0294D 8388      ST	Y,R24
    0294E E82C      LDI	R18,0x8C
    0294F E030      LDI	R19,0
    02950 E002      LDI	R16,2
    02951 E010      LDI	R17,0
    02952 940E 12F4 CALL	_EEPROM_write
(0052) 		
(0053) 	    EEPROM_write(2,141,temps[1].statusflag);
    02954 9020 058D LDS	R2,temps+600
    02956 9030 058E LDS	R3,temps+601
    02958 8239      STD	Y+1,R3
    02959 8228      ST	Y,R2
    0295A E82D      LDI	R18,0x8D
    0295B E030      LDI	R19,0
    0295C E002      LDI	R16,2
    0295D E010      LDI	R17,0
    0295E 940E 12F4 CALL	_EEPROM_write
(0054) 	   EEPROM_write(2,142,temps[1].p_settemp>>8 );
    02960 9020 058F LDS	R2,temps+602
    02962 9030 0590 LDS	R3,temps+603
    02964 2C23      MOV	R2,R3
    02965 2433      CLR	R3
    02966 8239      STD	Y+1,R3
    02967 8228      ST	Y,R2
    02968 E82E      LDI	R18,0x8E
    02969 E030      LDI	R19,0
    0296A E002      LDI	R16,2
    0296B E010      LDI	R17,0
    0296C 940E 12F4 CALL	_EEPROM_write
(0055) 		EEPROM_write(2,143,temps[1].p_settemp&0xff);
    0296E 9180 058F LDS	R24,temps+602
    02970 9190 0590 LDS	R25,temps+603
    02972 7090      ANDI	R25,0
    02973 8399      STD	Y+1,R25
    02974 8388      ST	Y,R24
    02975 E82F      LDI	R18,0x8F
    02976 E030      LDI	R19,0
    02977 E002      LDI	R16,2
    02978 E010      LDI	R17,0
    02979 940E 12F4 CALL	_EEPROM_write
(0056) 		EEPROM_write(2,144,((int)temps[1].settemp)>>8);
    0297B 9120 059B LDS	R18,temps+614
    0297D 9130 059C LDS	R19,temps+615
    0297F 9100 0599 LDS	R16,temps+612
    02981 9110 059A LDS	R17,temps+613
    02983 940E 3D86 CALL	fpint
    02985 0118      MOVW	R2,R16
    02986 2C23      MOV	R2,R3
    02987 2433      CLR	R3
    02988 FC27      SBRC	R2,7
    02989 9430      COM	R3
    0298A 8239      STD	Y+1,R3
    0298B 8228      ST	Y,R2
    0298C E920      LDI	R18,0x90
    0298D E030      LDI	R19,0
    0298E E002      LDI	R16,2
    0298F E010      LDI	R17,0
    02990 940E 12F4 CALL	_EEPROM_write
(0057) 	    EEPROM_write(2,145,((int)temps[1].settemp)&0xff);
    02992 9120 059B LDS	R18,temps+614
    02994 9130 059C LDS	R19,temps+615
    02996 9100 0599 LDS	R16,temps+612
    02998 9110 059A LDS	R17,temps+613
    0299A 940E 3D86 CALL	fpint
    0299C 01C8      MOVW	R24,R16
    0299D 7090      ANDI	R25,0
    0299E 8399      STD	Y+1,R25
    0299F 8388      ST	Y,R24
    029A0 E921      LDI	R18,0x91
    029A1 E030      LDI	R19,0
    029A2 E002      LDI	R16,2
    029A3 E010      LDI	R17,0
    029A4 940E 12F4 CALL	_EEPROM_write
(0058) 	 }
(0059) 	 EEPROM_write(3,133,temps[2].flag);
    029A6 9020 05BD LDS	R2,temps+648
    029A8 9030 05BE LDS	R3,temps+649
    029AA 8239      STD	Y+1,R3
    029AB 8228      ST	Y,R2
    029AC E825      LDI	R18,0x85
    029AD E030      LDI	R19,0
    029AE E003      LDI	R16,3
    029AF E010      LDI	R17,0
    029B0 940E 12F4 CALL	_EEPROM_write
(0060) 	  if(temps[2].flag==1 || temps[2].flag==3){
    029B2 9180 05BD LDS	R24,temps+648
    029B4 9190 05BE LDS	R25,temps+649
    029B6 3081      CPI	R24,1
    029B7 E0E0      LDI	R30,0
    029B8 079E      CPC	R25,R30
    029B9 F029      BEQ	0x29BF
    029BA 3083      CPI	R24,3
    029BB E0E0      LDI	R30,0
    029BC 079E      CPC	R25,R30
    029BD F009      BEQ	0x29BF
    029BE C0AF      RJMP	0x2A6E
(0061) 	    EEPROM_write(3,134,temps[2].status);
    029BF 9020 06C7 LDS	R2,temps+914
    029C1 9030 06C8 LDS	R3,temps+915
    029C3 8239      STD	Y+1,R3
    029C4 8228      ST	Y,R2
    029C5 E826      LDI	R18,0x86
    029C6 E030      LDI	R19,0
    029C7 E003      LDI	R16,3
    029C8 E010      LDI	R17,0
    029C9 940E 12F4 CALL	_EEPROM_write
(0062) 	    EEPROM_write(3,135,temps[2].needtime>>8);
    029CB 9020 06C9 LDS	R2,temps+916
    029CD 9030 06CA LDS	R3,temps+917
    029CF 2C23      MOV	R2,R3
    029D0 2433      CLR	R3
    029D1 8239      STD	Y+1,R3
    029D2 8228      ST	Y,R2
    029D3 E827      LDI	R18,0x87
    029D4 E030      LDI	R19,0
    029D5 E003      LDI	R16,3
    029D6 E010      LDI	R17,0
    029D7 940E 12F4 CALL	_EEPROM_write
(0063) 		EEPROM_write(3,136,temps[2].needtime & 0xFF);
    029D9 9180 06C9 LDS	R24,temps+916
    029DB 9190 06CA LDS	R25,temps+917
    029DD 7090      ANDI	R25,0
    029DE 8399      STD	Y+1,R25
    029DF 8388      ST	Y,R24
    029E0 E828      LDI	R18,0x88
    029E1 E030      LDI	R19,0
    029E2 E003      LDI	R16,3
    029E3 E010      LDI	R17,0
    029E4 940E 12F4 CALL	_EEPROM_write
(0064) 		EEPROM_write(3,137,temps[2].nowtime>>8);
    029E6 9020 06CB LDS	R2,temps+918
    029E8 9030 06CC LDS	R3,temps+919
    029EA 2C23      MOV	R2,R3
    029EB 2433      CLR	R3
    029EC 8239      STD	Y+1,R3
    029ED 8228      ST	Y,R2
    029EE E829      LDI	R18,0x89
    029EF E030      LDI	R19,0
    029F0 E003      LDI	R16,3
    029F1 E010      LDI	R17,0
    029F2 940E 12F4 CALL	_EEPROM_write
(0065) 		EEPROM_write(3,138,temps[2].nowtime & 0xFF);
    029F4 9180 06CB LDS	R24,temps+918
    029F6 9190 06CC LDS	R25,temps+919
    029F8 7090      ANDI	R25,0
    029F9 8399      STD	Y+1,R25
    029FA 8388      ST	Y,R24
    029FB E82A      LDI	R18,0x8A
    029FC E030      LDI	R19,0
    029FD E003      LDI	R16,3
    029FE E010      LDI	R17,0
    029FF 940E 12F4 CALL	_EEPROM_write
(0066) 	    EEPROM_write(3,139,temps[2].pertime>>8);
    02A01 9020 06CD LDS	R2,temps+920
    02A03 9030 06CE LDS	R3,temps+921
    02A05 2C23      MOV	R2,R3
    02A06 2433      CLR	R3
    02A07 8239      STD	Y+1,R3
    02A08 8228      ST	Y,R2
    02A09 E82B      LDI	R18,0x8B
    02A0A E030      LDI	R19,0
    02A0B E003      LDI	R16,3
    02A0C E010      LDI	R17,0
    02A0D 940E 12F4 CALL	_EEPROM_write
(0067) 		EEPROM_write(3,140,temps[2].pertime & 0xff);
    02A0F 9180 06CD LDS	R24,temps+920
    02A11 9190 06CE LDS	R25,temps+921
    02A13 7090      ANDI	R25,0
    02A14 8399      STD	Y+1,R25
    02A15 8388      ST	Y,R24
    02A16 E82C      LDI	R18,0x8C
    02A17 E030      LDI	R19,0
    02A18 E003      LDI	R16,3
    02A19 E010      LDI	R17,0
    02A1A 940E 12F4 CALL	_EEPROM_write
(0068) 	    EEPROM_write(3,141,temps[2].statusflag);
    02A1C 9020 06D1 LDS	R2,temps+924
    02A1E 9030 06D2 LDS	R3,temps+925
    02A20 8239      STD	Y+1,R3
    02A21 8228      ST	Y,R2
    02A22 E82D      LDI	R18,0x8D
    02A23 E030      LDI	R19,0
    02A24 E003      LDI	R16,3
    02A25 E010      LDI	R17,0
    02A26 940E 12F4 CALL	_EEPROM_write
(0069) 	    EEPROM_write(3,142,temps[2].p_settemp>>8 );
    02A28 9020 06D3 LDS	R2,temps+926
    02A2A 9030 06D4 LDS	R3,temps+927
    02A2C 2C23      MOV	R2,R3
    02A2D 2433      CLR	R3
    02A2E 8239      STD	Y+1,R3
    02A2F 8228      ST	Y,R2
    02A30 E82E      LDI	R18,0x8E
    02A31 E030      LDI	R19,0
    02A32 E003      LDI	R16,3
    02A33 E010      LDI	R17,0
    02A34 940E 12F4 CALL	_EEPROM_write
(0070) 		EEPROM_write(3,143,temps[2].p_settemp&0xff);
    02A36 9180 06D3 LDS	R24,temps+926
    02A38 9190 06D4 LDS	R25,temps+927
    02A3A 7090      ANDI	R25,0
    02A3B 8399      STD	Y+1,R25
    02A3C 8388      ST	Y,R24
    02A3D E82F      LDI	R18,0x8F
    02A3E E030      LDI	R19,0
    02A3F E003      LDI	R16,3
    02A40 E010      LDI	R17,0
    02A41 940E 12F4 CALL	_EEPROM_write
(0071) 		EEPROM_write(3,144,((int)temps[2].settemp)>>8);
    02A43 9120 06DF LDS	R18,temps+938
    02A45 9130 06E0 LDS	R19,temps+939
    02A47 9100 06DD LDS	R16,temps+936
    02A49 9110 06DE LDS	R17,temps+937
    02A4B 940E 3D86 CALL	fpint
    02A4D 0118      MOVW	R2,R16
    02A4E 2C23      MOV	R2,R3
    02A4F 2433      CLR	R3
    02A50 FC27      SBRC	R2,7
    02A51 9430      COM	R3
    02A52 8239      STD	Y+1,R3
    02A53 8228      ST	Y,R2
    02A54 E920      LDI	R18,0x90
    02A55 E030      LDI	R19,0
    02A56 E003      LDI	R16,3
    02A57 E010      LDI	R17,0
    02A58 940E 12F4 CALL	_EEPROM_write
(0072) 	    EEPROM_write(3,145,((int)temps[2].settemp)&0xff);
    02A5A 9120 06DF LDS	R18,temps+938
    02A5C 9130 06E0 LDS	R19,temps+939
    02A5E 9100 06DD LDS	R16,temps+936
    02A60 9110 06DE LDS	R17,temps+937
    02A62 940E 3D86 CALL	fpint
    02A64 01C8      MOVW	R24,R16
    02A65 7090      ANDI	R25,0
    02A66 8399      STD	Y+1,R25
    02A67 8388      ST	Y,R24
    02A68 E921      LDI	R18,0x91
    02A69 E030      LDI	R19,0
    02A6A E003      LDI	R16,3
    02A6B E010      LDI	R17,0
    02A6C 940E 12F4 CALL	_EEPROM_write
(0073) 	 }
(0074) 	 EEPROM_write(4,133,temps[3].flag);
    02A6E 9020 0701 LDS	R2,temps+972
    02A70 9030 0702 LDS	R3,temps+973
    02A72 8239      STD	Y+1,R3
    02A73 8228      ST	Y,R2
    02A74 E825      LDI	R18,0x85
    02A75 E030      LDI	R19,0
    02A76 E004      LDI	R16,4
    02A77 E010      LDI	R17,0
    02A78 940E 12F4 CALL	_EEPROM_write
(0075) 	  if(temps[3].flag==1 || temps[3].flag==3){
    02A7A 9180 0701 LDS	R24,temps+972
    02A7C 9190 0702 LDS	R25,temps+973
    02A7E 3081      CPI	R24,1
    02A7F E0E0      LDI	R30,0
    02A80 079E      CPC	R25,R30
    02A81 F029      BEQ	0x2A87
    02A82 3083      CPI	R24,3
    02A83 E0E0      LDI	R30,0
    02A84 079E      CPC	R25,R30
    02A85 F009      BEQ	0x2A87
    02A86 C0AF      RJMP	0x2B36
(0076) 	    EEPROM_write(4,134,temps[3].status);
    02A87 9020 080B LDS	R2,temps+1238
    02A89 9030 080C LDS	R3,temps+1239
    02A8B 8239      STD	Y+1,R3
    02A8C 8228      ST	Y,R2
    02A8D E826      LDI	R18,0x86
    02A8E E030      LDI	R19,0
    02A8F E004      LDI	R16,4
    02A90 E010      LDI	R17,0
    02A91 940E 12F4 CALL	_EEPROM_write
(0077) 	    EEPROM_write(4,135,temps[3].needtime>>8);
    02A93 9020 080D LDS	R2,temps+1240
    02A95 9030 080E LDS	R3,temps+1241
    02A97 2C23      MOV	R2,R3
    02A98 2433      CLR	R3
    02A99 8239      STD	Y+1,R3
    02A9A 8228      ST	Y,R2
    02A9B E827      LDI	R18,0x87
    02A9C E030      LDI	R19,0
    02A9D E004      LDI	R16,4
    02A9E E010      LDI	R17,0
    02A9F 940E 12F4 CALL	_EEPROM_write
(0078) 		EEPROM_write(4,136,temps[3].needtime & 0xFF);
    02AA1 9180 080D LDS	R24,temps+1240
    02AA3 9190 080E LDS	R25,temps+1241
    02AA5 7090      ANDI	R25,0
    02AA6 8399      STD	Y+1,R25
    02AA7 8388      ST	Y,R24
    02AA8 E828      LDI	R18,0x88
    02AA9 E030      LDI	R19,0
    02AAA E004      LDI	R16,4
    02AAB E010      LDI	R17,0
    02AAC 940E 12F4 CALL	_EEPROM_write
(0079) 		EEPROM_write(4,137,temps[3].nowtime>>8);
    02AAE 9020 080F LDS	R2,temps+1242
    02AB0 9030 0810 LDS	R3,temps+1243
    02AB2 2C23      MOV	R2,R3
    02AB3 2433      CLR	R3
    02AB4 8239      STD	Y+1,R3
    02AB5 8228      ST	Y,R2
    02AB6 E829      LDI	R18,0x89
    02AB7 E030      LDI	R19,0
    02AB8 E004      LDI	R16,4
    02AB9 E010      LDI	R17,0
    02ABA 940E 12F4 CALL	_EEPROM_write
(0080) 		EEPROM_write(4,138,temps[3].nowtime & 0xFF);
    02ABC 9180 080F LDS	R24,temps+1242
    02ABE 9190 0810 LDS	R25,temps+1243
    02AC0 7090      ANDI	R25,0
    02AC1 8399      STD	Y+1,R25
    02AC2 8388      ST	Y,R24
    02AC3 E82A      LDI	R18,0x8A
    02AC4 E030      LDI	R19,0
    02AC5 E004      LDI	R16,4
    02AC6 E010      LDI	R17,0
    02AC7 940E 12F4 CALL	_EEPROM_write
(0081) 	    EEPROM_write(4,139,temps[3].pertime>>8);
    02AC9 9020 0811 LDS	R2,temps+1244
    02ACB 9030 0812 LDS	R3,temps+1245
    02ACD 2C23      MOV	R2,R3
    02ACE 2433      CLR	R3
    02ACF 8239      STD	Y+1,R3
    02AD0 8228      ST	Y,R2
    02AD1 E82B      LDI	R18,0x8B
    02AD2 E030      LDI	R19,0
    02AD3 E004      LDI	R16,4
    02AD4 E010      LDI	R17,0
    02AD5 940E 12F4 CALL	_EEPROM_write
(0082) 		EEPROM_write(4,140,temps[3].pertime & 0xff);
    02AD7 9180 0811 LDS	R24,temps+1244
    02AD9 9190 0812 LDS	R25,temps+1245
    02ADB 7090      ANDI	R25,0
    02ADC 8399      STD	Y+1,R25
    02ADD 8388      ST	Y,R24
    02ADE E82C      LDI	R18,0x8C
    02ADF E030      LDI	R19,0
    02AE0 E004      LDI	R16,4
    02AE1 E010      LDI	R17,0
    02AE2 940E 12F4 CALL	_EEPROM_write
(0083) 	    EEPROM_write(4,141,temps[3].statusflag);
    02AE4 9020 0815 LDS	R2,temps+1248
    02AE6 9030 0816 LDS	R3,temps+1249
    02AE8 8239      STD	Y+1,R3
    02AE9 8228      ST	Y,R2
    02AEA E82D      LDI	R18,0x8D
    02AEB E030      LDI	R19,0
    02AEC E004      LDI	R16,4
    02AED E010      LDI	R17,0
    02AEE 940E 12F4 CALL	_EEPROM_write
(0084) 	    EEPROM_write(4,142,temps[3].p_settemp>>8 );
    02AF0 9020 0817 LDS	R2,temps+1250
    02AF2 9030 0818 LDS	R3,temps+1251
    02AF4 2C23      MOV	R2,R3
    02AF5 2433      CLR	R3
    02AF6 8239      STD	Y+1,R3
    02AF7 8228      ST	Y,R2
    02AF8 E82E      LDI	R18,0x8E
    02AF9 E030      LDI	R19,0
    02AFA E004      LDI	R16,4
    02AFB E010      LDI	R17,0
    02AFC 940E 12F4 CALL	_EEPROM_write
(0085) 		EEPROM_write(4,143,temps[3].p_settemp&0xff);
    02AFE 9180 0817 LDS	R24,temps+1250
    02B00 9190 0818 LDS	R25,temps+1251
    02B02 7090      ANDI	R25,0
    02B03 8399      STD	Y+1,R25
    02B04 8388      ST	Y,R24
    02B05 E82F      LDI	R18,0x8F
    02B06 E030      LDI	R19,0
    02B07 E004      LDI	R16,4
    02B08 E010      LDI	R17,0
    02B09 940E 12F4 CALL	_EEPROM_write
(0086) 		EEPROM_write(4,144,((int)temps[3].settemp)>>8);
    02B0B 9120 0823 LDS	R18,temps+1262
    02B0D 9130 0824 LDS	R19,temps+1263
    02B0F 9100 0821 LDS	R16,temps+1260
    02B11 9110 0822 LDS	R17,temps+1261
    02B13 940E 3D86 CALL	fpint
    02B15 0118      MOVW	R2,R16
    02B16 2C23      MOV	R2,R3
    02B17 2433      CLR	R3
    02B18 FC27      SBRC	R2,7
    02B19 9430      COM	R3
    02B1A 8239      STD	Y+1,R3
    02B1B 8228      ST	Y,R2
    02B1C E920      LDI	R18,0x90
    02B1D E030      LDI	R19,0
    02B1E E004      LDI	R16,4
    02B1F E010      LDI	R17,0
    02B20 940E 12F4 CALL	_EEPROM_write
(0087) 	    EEPROM_write(4,145,((int)temps[3].settemp)&0xff);
    02B22 9120 0823 LDS	R18,temps+1262
    02B24 9130 0824 LDS	R19,temps+1263
    02B26 9100 0821 LDS	R16,temps+1260
    02B28 9110 0822 LDS	R17,temps+1261
    02B2A 940E 3D86 CALL	fpint
    02B2C 01C8      MOVW	R24,R16
    02B2D 7090      ANDI	R25,0
    02B2E 8399      STD	Y+1,R25
    02B2F 8388      ST	Y,R24
    02B30 E921      LDI	R18,0x91
    02B31 E030      LDI	R19,0
    02B32 E004      LDI	R16,4
    02B33 E010      LDI	R17,0
    02B34 940E 12F4 CALL	_EEPROM_write
(0088) 	 }
(0089) 	 
(0090)   }
(0091)   //第一个
(0092)   if(temps[0].flag==1){//运行中
    02B36 9180 0335 LDS	R24,temps
    02B38 9190 0336 LDS	R25,temps+1
    02B3A 3081      CPI	R24,1
    02B3B E0E0      LDI	R30,0
    02B3C 079E      CPC	R25,R30
    02B3D F009      BEQ	0x2B3F
    02B3E C173      RJMP	0x2CB2
(0093)      cache=temps[0].status;//暂存当前状态
    02B3F 9140 043F LDS	R20,temps+266
    02B41 9150 0440 LDS	R21,temps+267
(0094)      if(temps[0].statusflag==0){//不是第一次进入当前状态
    02B43 9020 0449 LDS	R2,temps+276
    02B45 9030 044A LDS	R3,temps+277
    02B47 2022      TST	R2
    02B48 F009      BEQ	0x2B4A
    02B49 C044      RJMP	0x2B8E
    02B4A 2033      TST	R3
    02B4B F009      BEQ	0x2B4D
    02B4C C041      RJMP	0x2B8E
(0095) 	     temps[0].nowtime++;//当前阶段运行时间
    02B4D 9180 0443 LDS	R24,temps+270
    02B4F 9190 0444 LDS	R25,temps+271
    02B51 9601      ADIW	R24,1
    02B52 9390 0444 STS	temps+271,R25
    02B54 9380 0443 STS	temps+270,R24
(0096) 		if(temps[0].nowtime>=temps[0].needtime){//当前阶段运行结束进入下一阶段
    02B56 9020 0441 LDS	R2,temps+268
    02B58 9030 0442 LDS	R3,temps+269
    02B5A 1582      CP	R24,R2
    02B5B 0593      CPC	R25,R3
    02B5C F068      BCS	0x2B6A
(0097) 		    temps[0].status++;
    02B5D 01CA      MOVW	R24,R20
    02B5E 9601      ADIW	R24,1
    02B5F 9390 0440 STS	temps+267,R25
    02B61 9380 043F STS	temps+266,R24
(0098) 		    temps[0].statusflag=1;
    02B63 E081      LDI	R24,1
    02B64 E090      LDI	R25,0
    02B65 9390 044A STS	temps+277,R25
    02B67 9380 0449 STS	temps+276,R24
(0099) 			//PORTE=0xFF;
(0100) 		}else{//还在当前阶段
    02B69 C148      RJMP	0x2CB2
(0101) 		     if(cache & 0x01){//恒温阶段,
    02B6A FF40      SBRS	R20,0
    02B6B C001      RJMP	0x2B6D
(0102) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0103) 		      }else{ //升温阶段
    02B6C C145      RJMP	0x2CB2
(0104) 		            temps[0].pertimecnt++;
    02B6D 9180 0447 LDS	R24,temps+274
    02B6F 9190 0448 LDS	R25,temps+275
    02B71 9601      ADIW	R24,1
    02B72 9390 0448 STS	temps+275,R25
    02B74 9380 0447 STS	temps+274,R24
(0105) 		            if(temps[0].pertimecnt>temps[0].pertime){
    02B76 9020 0445 LDS	R2,temps+272
    02B78 9030 0446 LDS	R3,temps+273
    02B7A 1628      CP	R2,R24
    02B7B 0639      CPC	R3,R25
    02B7C F008      BCS	0x2B7E
    02B7D C134      RJMP	0x2CB2
(0106) 		                    temps[0].p_settemp++;//1C需要时间到达，增加温度。
    02B7E 9180 044B LDS	R24,temps+278
    02B80 9190 044C LDS	R25,temps+279
    02B82 9601      ADIW	R24,1
    02B83 9390 044C STS	temps+279,R25
    02B85 9380 044B STS	temps+278,R24
(0107) 			                temps[0].pertimecnt=0;
    02B87 2422      CLR	R2
    02B88 2433      CLR	R3
    02B89 9230 0448 STS	temps+275,R3
    02B8B 9220 0447 STS	temps+274,R2
(0108) 		              } 
(0109) 			  }
(0110) 		 }
(0111) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    02B8D C124      RJMP	0x2CB2
(0112) 	        temps[0].statusflag=0;
    02B8E 2422      CLR	R2
    02B8F 2433      CLR	R3
    02B90 9230 044A STS	temps+277,R3
    02B92 9220 0449 STS	temps+276,R2
(0113) 		    temps[0].nowtime=0;
    02B94 9230 0444 STS	temps+271,R3
    02B96 9220 0443 STS	temps+270,R2
(0114) 	       if(cache & 0x01){//升温阶段
    02B98 FF40      SBRS	R20,0
    02B99 C0BD      RJMP	0x2C57
(0115) 		      cache=((cache-1)>>1)*11;
    02B9A 019A      MOVW	R18,R20
    02B9B 5021      SUBI	R18,1
    02B9C 4030      SBCI	R19,0
    02B9D 9536      LSR	R19
    02B9E 9527      ROR	R18
    02B9F E00B      LDI	R16,0xB
    02BA0 E010      LDI	R17,0
    02BA1 940E 3C39 CALL	empy16s
    02BA3 01A8      MOVW	R20,R16
(0116) 		      temps[0].needtime=(temps[0].temp_data[cache]*10+temps[0].temp_data[cache+1])*3600+(temps[0].temp_data[cache+2]*10+temps[0].temp_data[cache+3])*60;
    02BA4 E387      LDI	R24,0x37
    02BA5 E093      LDI	R25,3
    02BA6 01FA      MOVW	R30,R20
    02BA7 9632      ADIW	R30,2
    02BA8 0FEE      LSL	R30
    02BA9 1FFF      ROL	R31
    02BAA 0FE8      ADD	R30,R24
    02BAB 1FF9      ADC	R31,R25
    02BAC 8120      LD	R18,Z
    02BAD 8131      LDD	R19,Z+1
    02BAE E00A      LDI	R16,0xA
    02BAF E010      LDI	R17,0
    02BB0 940E 3C39 CALL	empy16s
    02BB2 0198      MOVW	R18,R16
    02BB3 E387      LDI	R24,0x37
    02BB4 E093      LDI	R25,3
    02BB5 01FA      MOVW	R30,R20
    02BB6 9633      ADIW	R30,3
    02BB7 0FEE      LSL	R30
    02BB8 1FFF      ROL	R31
    02BB9 0FE8      ADD	R30,R24
    02BBA 1FF9      ADC	R31,R25
    02BBB 8020      LD	R2,Z
    02BBC 8031      LDD	R3,Z+1
    02BBD 0D22      ADD	R18,R2
    02BBE 1D33      ADC	R19,R3
    02BBF E30C      LDI	R16,0x3C
    02BC0 E010      LDI	R17,0
    02BC1 940E 3C39 CALL	empy16s
    02BC3 0118      MOVW	R2,R16
    02BC4 E387      LDI	R24,0x37
    02BC5 E093      LDI	R25,3
    02BC6 01FA      MOVW	R30,R20
    02BC7 0FEE      LSL	R30
    02BC8 1FFF      ROL	R31
    02BC9 0FE8      ADD	R30,R24
    02BCA 1FF9      ADC	R31,R25
    02BCB 8120      LD	R18,Z
    02BCC 8131      LDD	R19,Z+1
    02BCD E00A      LDI	R16,0xA
    02BCE E010      LDI	R17,0
    02BCF 940E 3C39 CALL	empy16s
    02BD1 0198      MOVW	R18,R16
    02BD2 E387      LDI	R24,0x37
    02BD3 E093      LDI	R25,3
    02BD4 01FA      MOVW	R30,R20
    02BD5 9631      ADIW	R30,1
    02BD6 0FEE      LSL	R30
    02BD7 1FFF      ROL	R31
    02BD8 0FE8      ADD	R30,R24
    02BD9 1FF9      ADC	R31,R25
    02BDA 8040      LD	R4,Z
    02BDB 8051      LDD	R5,Z+1
    02BDC 0D24      ADD	R18,R4
    02BDD 1D35      ADC	R19,R5
    02BDE E100      LDI	R16,0x10
    02BDF E01E      LDI	R17,0xE
    02BE0 940E 3C39 CALL	empy16s
    02BE2 0128      MOVW	R4,R16
    02BE3 0C42      ADD	R4,R2
    02BE4 1C53      ADC	R5,R3
    02BE5 9250 0442 STS	temps+269,R5
    02BE7 9240 0441 STS	temps+268,R4
(0117) 			  //temps[0].needtime=3;
(0118) 			  if(temps[0].needtime==0){
    02BE9 2044      TST	R4
    02BEA F449      BNE	0x2BF4
    02BEB 2055      TST	R5
    02BEC F439      BNE	0x2BF4
(0119) 			     //当前阶段时间为0，表示已经结束更改标记
(0120) 				  temps[0].flag=4;
    02BED E084      LDI	R24,4
    02BEE E090      LDI	R25,0
    02BEF 9390 0336 STS	temps+1,R25
    02BF1 9380 0335 STS	temps,R24
(0121) 			  }else{
    02BF3 C0BE      RJMP	0x2CB2
(0122) 			     temps[0].p_settemp=temps[0].temp_data[cache+8]*100+temps[0].temp_data[cache+9]*10+temps[0].temp_data[cache+10];
    02BF4 E387      LDI	R24,0x37
    02BF5 E093      LDI	R25,3
    02BF6 01FA      MOVW	R30,R20
    02BF7 9639      ADIW	R30,0x9
    02BF8 0FEE      LSL	R30
    02BF9 1FFF      ROL	R31
    02BFA 0FE8      ADD	R30,R24
    02BFB 1FF9      ADC	R31,R25
    02BFC 8120      LD	R18,Z
    02BFD 8131      LDD	R19,Z+1
    02BFE E00A      LDI	R16,0xA
    02BFF E010      LDI	R17,0
    02C00 940E 3C39 CALL	empy16s
    02C02 0118      MOVW	R2,R16
    02C03 E387      LDI	R24,0x37
    02C04 E093      LDI	R25,3
    02C05 01FA      MOVW	R30,R20
    02C06 9638      ADIW	R30,0x8
    02C07 0FEE      LSL	R30
    02C08 1FFF      ROL	R31
    02C09 0FE8      ADD	R30,R24
    02C0A 1FF9      ADC	R31,R25
    02C0B 8120      LD	R18,Z
    02C0C 8131      LDD	R19,Z+1
    02C0D E604      LDI	R16,0x64
    02C0E E010      LDI	R17,0
    02C0F 940E 3C39 CALL	empy16s
    02C11 0128      MOVW	R4,R16
    02C12 0C42      ADD	R4,R2
    02C13 1C53      ADC	R5,R3
    02C14 E387      LDI	R24,0x37
    02C15 E093      LDI	R25,3
    02C16 01FA      MOVW	R30,R20
    02C17 963A      ADIW	R30,0xA
    02C18 0FEE      LSL	R30
    02C19 1FFF      ROL	R31
    02C1A 0FE8      ADD	R30,R24
    02C1B 1FF9      ADC	R31,R25
    02C1C 8020      LD	R2,Z
    02C1D 8031      LDD	R3,Z+1
    02C1E 0C42      ADD	R4,R2
    02C1F 1C53      ADC	R5,R3
    02C20 9250 044C STS	temps+279,R5
    02C22 9240 044B STS	temps+278,R4
(0123) 			     temps[0].pertime=temps[0].needtime/(temps[0].p_settemp-temps[0].actualtemp);
    02C24 9100 0441 LDS	R16,temps+268
    02C26 9110 0442 LDS	R17,temps+269
    02C28 940E 3DB8 CALL	uint2fp
    02C2A 0118      MOVW	R2,R16
    02C2B 0129      MOVW	R4,R18
    02C2C 9100 044B LDS	R16,temps+278
    02C2E 9110 044C LDS	R17,temps+279
    02C30 940E 3DB8 CALL	uint2fp
    02C32 E589      LDI	R24,0x59
    02C33 E094      LDI	R25,4
    02C34 939A      ST	-Y,R25
    02C35 938A      ST	-Y,R24
    02C36 940E 3D6B CALL	fpsub1x
    02C38 0181      MOVW	R16,R2
    02C39 0192      MOVW	R18,R4
    02C3A 940E 3DE5 CALL	fpdiv2
    02C3C 940E 3D86 CALL	fpint
    02C3E 9310 0446 STS	temps+273,R17
    02C40 9300 0445 STS	temps+272,R16
(0124) 			     temps[0].pertimecnt=0;
    02C42 2422      CLR	R2
    02C43 2433      CLR	R3
    02C44 9230 0448 STS	temps+275,R3
    02C46 9220 0447 STS	temps+274,R2
(0125) 				 temps[0].settemp=temps[0].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02C48 9100 044B LDS	R16,temps+278
    02C4A 9110 044C LDS	R17,temps+279
    02C4C 940E 3DB8 CALL	uint2fp
    02C4E 9310 0456 STS	temps+289,R17
    02C50 9300 0455 STS	temps+288,R16
    02C52 9330 0458 STS	temps+291,R19
    02C54 9320 0457 STS	temps+290,R18
(0126) 			  }
(0127) 		     
(0128) 		    }else{//恒温阶段
    02C56 C05B      RJMP	0x2CB2
(0129) 			   cache=((cache-1)>>1)*11+4;
    02C57 019A      MOVW	R18,R20
    02C58 5021      SUBI	R18,1
    02C59 4030      SBCI	R19,0
    02C5A 9536      LSR	R19
    02C5B 9527      ROR	R18
    02C5C E00B      LDI	R16,0xB
    02C5D E010      LDI	R17,0
    02C5E 940E 3C39 CALL	empy16s
    02C60 01A8      MOVW	R20,R16
    02C61 5F4C      SUBI	R20,0xFC
    02C62 4F5F      SBCI	R21,0xFF
(0130) 		      temps[0].needtime=(temps[0].temp_data[cache]*10+temps[0].temp_data[cache+1])*3600+(temps[0].temp_data[cache+2]*10+temps[0].temp_data[cache+3])*60;
    02C63 E387      LDI	R24,0x37
    02C64 E093      LDI	R25,3
    02C65 01FA      MOVW	R30,R20
    02C66 9632      ADIW	R30,2
    02C67 0FEE      LSL	R30
    02C68 1FFF      ROL	R31
    02C69 0FE8      ADD	R30,R24
    02C6A 1FF9      ADC	R31,R25
    02C6B 8120      LD	R18,Z
    02C6C 8131      LDD	R19,Z+1
    02C6D E00A      LDI	R16,0xA
    02C6E E010      LDI	R17,0
    02C6F 940E 3C39 CALL	empy16s
    02C71 0198      MOVW	R18,R16
    02C72 E387      LDI	R24,0x37
    02C73 E093      LDI	R25,3
    02C74 01FA      MOVW	R30,R20
    02C75 9633      ADIW	R30,3
    02C76 0FEE      LSL	R30
    02C77 1FFF      ROL	R31
    02C78 0FE8      ADD	R30,R24
    02C79 1FF9      ADC	R31,R25
    02C7A 8020      LD	R2,Z
    02C7B 8031      LDD	R3,Z+1
    02C7C 0D22      ADD	R18,R2
    02C7D 1D33      ADC	R19,R3
    02C7E E30C      LDI	R16,0x3C
    02C7F E010      LDI	R17,0
    02C80 940E 3C39 CALL	empy16s
    02C82 0118      MOVW	R2,R16
    02C83 E387      LDI	R24,0x37
    02C84 E093      LDI	R25,3
    02C85 01FA      MOVW	R30,R20
    02C86 0FEE      LSL	R30
    02C87 1FFF      ROL	R31
    02C88 0FE8      ADD	R30,R24
    02C89 1FF9      ADC	R31,R25
    02C8A 8120      LD	R18,Z
    02C8B 8131      LDD	R19,Z+1
    02C8C E00A      LDI	R16,0xA
    02C8D E010      LDI	R17,0
    02C8E 940E 3C39 CALL	empy16s
    02C90 0198      MOVW	R18,R16
    02C91 E387      LDI	R24,0x37
    02C92 E093      LDI	R25,3
    02C93 01FA      MOVW	R30,R20
    02C94 9631      ADIW	R30,1
    02C95 0FEE      LSL	R30
    02C96 1FFF      ROL	R31
    02C97 0FE8      ADD	R30,R24
    02C98 1FF9      ADC	R31,R25
    02C99 8040      LD	R4,Z
    02C9A 8051      LDD	R5,Z+1
    02C9B 0D24      ADD	R18,R4
    02C9C 1D35      ADC	R19,R5
    02C9D E100      LDI	R16,0x10
    02C9E E01E      LDI	R17,0xE
    02C9F 940E 3C39 CALL	empy16s
    02CA1 0128      MOVW	R4,R16
    02CA2 0C42      ADD	R4,R2
    02CA3 1C53      ADC	R5,R3
    02CA4 9250 0442 STS	temps+269,R5
    02CA6 9240 0441 STS	temps+268,R4
(0131) 			  //temps[0].needtime=3;
(0132) 			  if(temps[0].needtime==0){
    02CA8 2044      TST	R4
    02CA9 F441      BNE	0x2CB2
    02CAA 2055      TST	R5
    02CAB F431      BNE	0x2CB2
(0133) 			     //当前阶段时间为0，表示已经结束更改标记
(0134) 				  temps[0].flag=4;
    02CAC E084      LDI	R24,4
    02CAD E090      LDI	R25,0
    02CAE 9390 0336 STS	temps+1,R25
    02CB0 9380 0335 STS	temps,R24
(0135) 			  }
(0136) 			 // temps[0].settemp，在上一场升温时候赋值过
(0137) 			}
(0138) 	  }
(0139)   }
(0140)   //第二个
(0141)   if(temps[1].flag==1){//运行中
    02CB2 9180 0479 LDS	R24,temps+324
    02CB4 9190 047A LDS	R25,temps+325
    02CB6 3081      CPI	R24,1
    02CB7 E0E0      LDI	R30,0
    02CB8 079E      CPC	R25,R30
    02CB9 F009      BEQ	0x2CBB
    02CBA C173      RJMP	0x2E2E
(0142)      cache=temps[1].status;//暂存当前状态
    02CBB 9140 0583 LDS	R20,temps+590
    02CBD 9150 0584 LDS	R21,temps+591
(0143)      if(temps[1].statusflag==0){//不是第一次进入当前状态
    02CBF 9020 058D LDS	R2,temps+600
    02CC1 9030 058E LDS	R3,temps+601
    02CC3 2022      TST	R2
    02CC4 F009      BEQ	0x2CC6
    02CC5 C044      RJMP	0x2D0A
    02CC6 2033      TST	R3
    02CC7 F009      BEQ	0x2CC9
    02CC8 C041      RJMP	0x2D0A
(0144) 	     temps[1].nowtime++;//当前阶段运行时间
    02CC9 9180 0587 LDS	R24,temps+594
    02CCB 9190 0588 LDS	R25,temps+595
    02CCD 9601      ADIW	R24,1
    02CCE 9390 0588 STS	temps+595,R25
    02CD0 9380 0587 STS	temps+594,R24
(0145) 		if(temps[1].nowtime>=temps[1].needtime){//当前阶段运行结束进入下一阶段
    02CD2 9020 0585 LDS	R2,temps+592
    02CD4 9030 0586 LDS	R3,temps+593
    02CD6 1582      CP	R24,R2
    02CD7 0593      CPC	R25,R3
    02CD8 F068      BCS	0x2CE6
(0146) 		    temps[1].status++;
    02CD9 01CA      MOVW	R24,R20
    02CDA 9601      ADIW	R24,1
    02CDB 9390 0584 STS	temps+591,R25
    02CDD 9380 0583 STS	temps+590,R24
(0147) 		    temps[1].statusflag=1;
    02CDF E081      LDI	R24,1
    02CE0 E090      LDI	R25,0
    02CE1 9390 058E STS	temps+601,R25
    02CE3 9380 058D STS	temps+600,R24
(0148) 			//PORTE=0xFF;
(0149) 		}else{//还在当前阶段
    02CE5 C148      RJMP	0x2E2E
(0150) 		     if(cache & 0x01){//恒温阶段,
    02CE6 FF40      SBRS	R20,0
    02CE7 C001      RJMP	0x2CE9
(0151) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0152) 		      }else{ //升温阶段
    02CE8 C145      RJMP	0x2E2E
(0153) 		            temps[1].pertimecnt++;
    02CE9 9180 058B LDS	R24,temps+598
    02CEB 9190 058C LDS	R25,temps+599
    02CED 9601      ADIW	R24,1
    02CEE 9390 058C STS	temps+599,R25
    02CF0 9380 058B STS	temps+598,R24
(0154) 		            if(temps[1].pertimecnt>temps[1].pertime){
    02CF2 9020 0589 LDS	R2,temps+596
    02CF4 9030 058A LDS	R3,temps+597
    02CF6 1628      CP	R2,R24
    02CF7 0639      CPC	R3,R25
    02CF8 F008      BCS	0x2CFA
    02CF9 C134      RJMP	0x2E2E
(0155) 		                    temps[1].p_settemp++;//1C需要时间到达，增加温度。
    02CFA 9180 058F LDS	R24,temps+602
    02CFC 9190 0590 LDS	R25,temps+603
    02CFE 9601      ADIW	R24,1
    02CFF 9390 0590 STS	temps+603,R25
    02D01 9380 058F STS	temps+602,R24
(0156) 			                temps[1].pertimecnt=0;
    02D03 2422      CLR	R2
    02D04 2433      CLR	R3
    02D05 9230 058C STS	temps+599,R3
    02D07 9220 058B STS	temps+598,R2
(0157) 		              } 
(0158) 			  }
(0159) 		 }
(0160) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    02D09 C124      RJMP	0x2E2E
(0161) 	        temps[1].statusflag=0;
    02D0A 2422      CLR	R2
    02D0B 2433      CLR	R3
    02D0C 9230 058E STS	temps+601,R3
    02D0E 9220 058D STS	temps+600,R2
(0162) 		    temps[1].nowtime=0;
    02D10 9230 0588 STS	temps+595,R3
    02D12 9220 0587 STS	temps+594,R2
(0163) 	       if(cache & 0x01){//升温阶段
    02D14 FF40      SBRS	R20,0
    02D15 C0BD      RJMP	0x2DD3
(0164) 		      cache=((cache-1)>>1)*11;
    02D16 019A      MOVW	R18,R20
    02D17 5021      SUBI	R18,1
    02D18 4030      SBCI	R19,0
    02D19 9536      LSR	R19
    02D1A 9527      ROR	R18
    02D1B E00B      LDI	R16,0xB
    02D1C E010      LDI	R17,0
    02D1D 940E 3C39 CALL	empy16s
    02D1F 01A8      MOVW	R20,R16
(0165) 		      temps[1].needtime=(temps[1].temp_data[cache]*10+temps[1].temp_data[cache+1])*3600+(temps[1].temp_data[cache+2]*10+temps[1].temp_data[cache+3])*60;
    02D20 E78B      LDI	R24,0x7B
    02D21 E094      LDI	R25,4
    02D22 01FA      MOVW	R30,R20
    02D23 9632      ADIW	R30,2
    02D24 0FEE      LSL	R30
    02D25 1FFF      ROL	R31
    02D26 0FE8      ADD	R30,R24
    02D27 1FF9      ADC	R31,R25
    02D28 8120      LD	R18,Z
    02D29 8131      LDD	R19,Z+1
    02D2A E00A      LDI	R16,0xA
    02D2B E010      LDI	R17,0
    02D2C 940E 3C39 CALL	empy16s
    02D2E 0198      MOVW	R18,R16
    02D2F E78B      LDI	R24,0x7B
    02D30 E094      LDI	R25,4
    02D31 01FA      MOVW	R30,R20
    02D32 9633      ADIW	R30,3
    02D33 0FEE      LSL	R30
    02D34 1FFF      ROL	R31
    02D35 0FE8      ADD	R30,R24
    02D36 1FF9      ADC	R31,R25
    02D37 8020      LD	R2,Z
    02D38 8031      LDD	R3,Z+1
    02D39 0D22      ADD	R18,R2
    02D3A 1D33      ADC	R19,R3
    02D3B E30C      LDI	R16,0x3C
    02D3C E010      LDI	R17,0
    02D3D 940E 3C39 CALL	empy16s
    02D3F 0118      MOVW	R2,R16
    02D40 E78B      LDI	R24,0x7B
    02D41 E094      LDI	R25,4
    02D42 01FA      MOVW	R30,R20
    02D43 0FEE      LSL	R30
    02D44 1FFF      ROL	R31
    02D45 0FE8      ADD	R30,R24
    02D46 1FF9      ADC	R31,R25
    02D47 8120      LD	R18,Z
    02D48 8131      LDD	R19,Z+1
    02D49 E00A      LDI	R16,0xA
    02D4A E010      LDI	R17,0
    02D4B 940E 3C39 CALL	empy16s
    02D4D 0198      MOVW	R18,R16
    02D4E E78B      LDI	R24,0x7B
    02D4F E094      LDI	R25,4
    02D50 01FA      MOVW	R30,R20
    02D51 9631      ADIW	R30,1
    02D52 0FEE      LSL	R30
    02D53 1FFF      ROL	R31
    02D54 0FE8      ADD	R30,R24
    02D55 1FF9      ADC	R31,R25
    02D56 8040      LD	R4,Z
    02D57 8051      LDD	R5,Z+1
    02D58 0D24      ADD	R18,R4
    02D59 1D35      ADC	R19,R5
    02D5A E100      LDI	R16,0x10
    02D5B E01E      LDI	R17,0xE
    02D5C 940E 3C39 CALL	empy16s
    02D5E 0128      MOVW	R4,R16
    02D5F 0C42      ADD	R4,R2
    02D60 1C53      ADC	R5,R3
    02D61 9250 0586 STS	temps+593,R5
    02D63 9240 0585 STS	temps+592,R4
(0166) 			  //temps[0].needtime=3;
(0167) 			  if(temps[1].needtime==0){
    02D65 2044      TST	R4
    02D66 F449      BNE	0x2D70
    02D67 2055      TST	R5
    02D68 F439      BNE	0x2D70
(0168) 			     //当前阶段时间为0，表示已经结束更改标记
(0169) 				  temps[1].flag=4;
    02D69 E084      LDI	R24,4
    02D6A E090      LDI	R25,0
    02D6B 9390 047A STS	temps+325,R25
    02D6D 9380 0479 STS	temps+324,R24
(0170) 			  }else{
    02D6F C0BE      RJMP	0x2E2E
(0171) 			     temps[1].p_settemp=temps[1].temp_data[cache+8]*100+temps[1].temp_data[cache+9]*10+temps[1].temp_data[cache+10];
    02D70 E78B      LDI	R24,0x7B
    02D71 E094      LDI	R25,4
    02D72 01FA      MOVW	R30,R20
    02D73 9639      ADIW	R30,0x9
    02D74 0FEE      LSL	R30
    02D75 1FFF      ROL	R31
    02D76 0FE8      ADD	R30,R24
    02D77 1FF9      ADC	R31,R25
    02D78 8120      LD	R18,Z
    02D79 8131      LDD	R19,Z+1
    02D7A E00A      LDI	R16,0xA
    02D7B E010      LDI	R17,0
    02D7C 940E 3C39 CALL	empy16s
    02D7E 0118      MOVW	R2,R16
    02D7F E78B      LDI	R24,0x7B
    02D80 E094      LDI	R25,4
    02D81 01FA      MOVW	R30,R20
    02D82 9638      ADIW	R30,0x8
    02D83 0FEE      LSL	R30
    02D84 1FFF      ROL	R31
    02D85 0FE8      ADD	R30,R24
    02D86 1FF9      ADC	R31,R25
    02D87 8120      LD	R18,Z
    02D88 8131      LDD	R19,Z+1
    02D89 E604      LDI	R16,0x64
    02D8A E010      LDI	R17,0
    02D8B 940E 3C39 CALL	empy16s
    02D8D 0128      MOVW	R4,R16
    02D8E 0C42      ADD	R4,R2
    02D8F 1C53      ADC	R5,R3
    02D90 E78B      LDI	R24,0x7B
    02D91 E094      LDI	R25,4
    02D92 01FA      MOVW	R30,R20
    02D93 963A      ADIW	R30,0xA
    02D94 0FEE      LSL	R30
    02D95 1FFF      ROL	R31
    02D96 0FE8      ADD	R30,R24
    02D97 1FF9      ADC	R31,R25
    02D98 8020      LD	R2,Z
    02D99 8031      LDD	R3,Z+1
    02D9A 0C42      ADD	R4,R2
    02D9B 1C53      ADC	R5,R3
    02D9C 9250 0590 STS	temps+603,R5
    02D9E 9240 058F STS	temps+602,R4
(0172) 			     temps[1].pertime=temps[1].needtime/(temps[1].p_settemp-temps[1].actualtemp);
    02DA0 9100 0585 LDS	R16,temps+592
    02DA2 9110 0586 LDS	R17,temps+593
    02DA4 940E 3DB8 CALL	uint2fp
    02DA6 0118      MOVW	R2,R16
    02DA7 0129      MOVW	R4,R18
    02DA8 9100 058F LDS	R16,temps+602
    02DAA 9110 0590 LDS	R17,temps+603
    02DAC 940E 3DB8 CALL	uint2fp
    02DAE E98D      LDI	R24,0x9D
    02DAF E095      LDI	R25,5
    02DB0 939A      ST	-Y,R25
    02DB1 938A      ST	-Y,R24
    02DB2 940E 3D6B CALL	fpsub1x
    02DB4 0181      MOVW	R16,R2
    02DB5 0192      MOVW	R18,R4
    02DB6 940E 3DE5 CALL	fpdiv2
    02DB8 940E 3D86 CALL	fpint
    02DBA 9310 058A STS	temps+597,R17
    02DBC 9300 0589 STS	temps+596,R16
(0173) 			     temps[1].pertimecnt=0;
    02DBE 2422      CLR	R2
    02DBF 2433      CLR	R3
    02DC0 9230 058C STS	temps+599,R3
    02DC2 9220 058B STS	temps+598,R2
(0174) 				 temps[1].settemp=temps[1].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02DC4 9100 058F LDS	R16,temps+602
    02DC6 9110 0590 LDS	R17,temps+603
    02DC8 940E 3DB8 CALL	uint2fp
    02DCA 9310 059A STS	temps+613,R17
    02DCC 9300 0599 STS	temps+612,R16
    02DCE 9330 059C STS	temps+615,R19
    02DD0 9320 059B STS	temps+614,R18
(0175) 			  }
(0176) 		     
(0177) 		    }else{//恒温阶段
    02DD2 C05B      RJMP	0x2E2E
(0178) 			   cache=((cache-1)>>1)*11+4;
    02DD3 019A      MOVW	R18,R20
    02DD4 5021      SUBI	R18,1
    02DD5 4030      SBCI	R19,0
    02DD6 9536      LSR	R19
    02DD7 9527      ROR	R18
    02DD8 E00B      LDI	R16,0xB
    02DD9 E010      LDI	R17,0
    02DDA 940E 3C39 CALL	empy16s
    02DDC 01A8      MOVW	R20,R16
    02DDD 5F4C      SUBI	R20,0xFC
    02DDE 4F5F      SBCI	R21,0xFF
(0179) 		      temps[1].needtime=(temps[1].temp_data[cache]*10+temps[1].temp_data[cache+1])*3600+(temps[1].temp_data[cache+2]*10+temps[1].temp_data[cache+3])*60;
    02DDF E78B      LDI	R24,0x7B
    02DE0 E094      LDI	R25,4
    02DE1 01FA      MOVW	R30,R20
    02DE2 9632      ADIW	R30,2
    02DE3 0FEE      LSL	R30
    02DE4 1FFF      ROL	R31
    02DE5 0FE8      ADD	R30,R24
    02DE6 1FF9      ADC	R31,R25
    02DE7 8120      LD	R18,Z
    02DE8 8131      LDD	R19,Z+1
    02DE9 E00A      LDI	R16,0xA
    02DEA E010      LDI	R17,0
    02DEB 940E 3C39 CALL	empy16s
    02DED 0198      MOVW	R18,R16
    02DEE E78B      LDI	R24,0x7B
    02DEF E094      LDI	R25,4
    02DF0 01FA      MOVW	R30,R20
    02DF1 9633      ADIW	R30,3
    02DF2 0FEE      LSL	R30
    02DF3 1FFF      ROL	R31
    02DF4 0FE8      ADD	R30,R24
    02DF5 1FF9      ADC	R31,R25
    02DF6 8020      LD	R2,Z
    02DF7 8031      LDD	R3,Z+1
    02DF8 0D22      ADD	R18,R2
    02DF9 1D33      ADC	R19,R3
    02DFA E30C      LDI	R16,0x3C
    02DFB E010      LDI	R17,0
    02DFC 940E 3C39 CALL	empy16s
    02DFE 0118      MOVW	R2,R16
    02DFF E78B      LDI	R24,0x7B
    02E00 E094      LDI	R25,4
    02E01 01FA      MOVW	R30,R20
    02E02 0FEE      LSL	R30
    02E03 1FFF      ROL	R31
    02E04 0FE8      ADD	R30,R24
    02E05 1FF9      ADC	R31,R25
    02E06 8120      LD	R18,Z
    02E07 8131      LDD	R19,Z+1
    02E08 E00A      LDI	R16,0xA
    02E09 E010      LDI	R17,0
    02E0A 940E 3C39 CALL	empy16s
    02E0C 0198      MOVW	R18,R16
    02E0D E78B      LDI	R24,0x7B
    02E0E E094      LDI	R25,4
    02E0F 01FA      MOVW	R30,R20
    02E10 9631      ADIW	R30,1
    02E11 0FEE      LSL	R30
    02E12 1FFF      ROL	R31
    02E13 0FE8      ADD	R30,R24
    02E14 1FF9      ADC	R31,R25
    02E15 8040      LD	R4,Z
    02E16 8051      LDD	R5,Z+1
    02E17 0D24      ADD	R18,R4
    02E18 1D35      ADC	R19,R5
    02E19 E100      LDI	R16,0x10
    02E1A E01E      LDI	R17,0xE
    02E1B 940E 3C39 CALL	empy16s
    02E1D 0128      MOVW	R4,R16
    02E1E 0C42      ADD	R4,R2
    02E1F 1C53      ADC	R5,R3
    02E20 9250 0586 STS	temps+593,R5
    02E22 9240 0585 STS	temps+592,R4
(0180) 			  //temps[1].needtime=3;
(0181) 			  if(temps[1].needtime==0){
    02E24 2044      TST	R4
    02E25 F441      BNE	0x2E2E
    02E26 2055      TST	R5
    02E27 F431      BNE	0x2E2E
(0182) 			     //当前阶段时间为0，表示已经结束更改标记
(0183) 				  temps[1].flag=4;
    02E28 E084      LDI	R24,4
    02E29 E090      LDI	R25,0
    02E2A 9390 047A STS	temps+325,R25
    02E2C 9380 0479 STS	temps+324,R24
(0184) 			  }
(0185) 			 // temps[1].settemp，在上一场升温时候赋值过
(0186) 			}
(0187) 	  }
(0188)   }
(0189)   //第三个
(0190)   if(temps[2].flag==1){//运行中
    02E2E 9180 05BD LDS	R24,temps+648
    02E30 9190 05BE LDS	R25,temps+649
    02E32 3081      CPI	R24,1
    02E33 E0E0      LDI	R30,0
    02E34 079E      CPC	R25,R30
    02E35 F009      BEQ	0x2E37
    02E36 C173      RJMP	0x2FAA
(0191)      cache=temps[2].status;//暂存当前状态
    02E37 9140 06C7 LDS	R20,temps+914
    02E39 9150 06C8 LDS	R21,temps+915
(0192)      if(temps[2].statusflag==0){//不是第一次进入当前状态
    02E3B 9020 06D1 LDS	R2,temps+924
    02E3D 9030 06D2 LDS	R3,temps+925
    02E3F 2022      TST	R2
    02E40 F009      BEQ	0x2E42
    02E41 C044      RJMP	0x2E86
    02E42 2033      TST	R3
    02E43 F009      BEQ	0x2E45
    02E44 C041      RJMP	0x2E86
(0193) 	     temps[2].nowtime++;//当前阶段运行时间
    02E45 9180 06CB LDS	R24,temps+918
    02E47 9190 06CC LDS	R25,temps+919
    02E49 9601      ADIW	R24,1
    02E4A 9390 06CC STS	temps+919,R25
    02E4C 9380 06CB STS	temps+918,R24
(0194) 		if(temps[2].nowtime>=temps[2].needtime){//当前阶段运行结束进入下一阶段
    02E4E 9020 06C9 LDS	R2,temps+916
    02E50 9030 06CA LDS	R3,temps+917
    02E52 1582      CP	R24,R2
    02E53 0593      CPC	R25,R3
    02E54 F068      BCS	0x2E62
(0195) 		    temps[2].status++;
    02E55 01CA      MOVW	R24,R20
    02E56 9601      ADIW	R24,1
    02E57 9390 06C8 STS	temps+915,R25
    02E59 9380 06C7 STS	temps+914,R24
(0196) 		    temps[2].statusflag=1;
    02E5B E081      LDI	R24,1
    02E5C E090      LDI	R25,0
    02E5D 9390 06D2 STS	temps+925,R25
    02E5F 9380 06D1 STS	temps+924,R24
(0197) 			//PORTE=0xFF;
(0198) 		}else{//还在当前阶段
    02E61 C148      RJMP	0x2FAA
(0199) 		     if(cache & 0x01){//恒温阶段,
    02E62 FF40      SBRS	R20,0
    02E63 C001      RJMP	0x2E65
(0200) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0201) 		      }else{ //升温阶段
    02E64 C145      RJMP	0x2FAA
(0202) 		            temps[2].pertimecnt++;
    02E65 9180 06CF LDS	R24,temps+922
    02E67 9190 06D0 LDS	R25,temps+923
    02E69 9601      ADIW	R24,1
    02E6A 9390 06D0 STS	temps+923,R25
    02E6C 9380 06CF STS	temps+922,R24
(0203) 		            if(temps[2].pertimecnt>temps[2].pertime){
    02E6E 9020 06CD LDS	R2,temps+920
    02E70 9030 06CE LDS	R3,temps+921
    02E72 1628      CP	R2,R24
    02E73 0639      CPC	R3,R25
    02E74 F008      BCS	0x2E76
    02E75 C134      RJMP	0x2FAA
(0204) 		                    temps[2].p_settemp++;//1C需要时间到达，增加温度。
    02E76 9180 06D3 LDS	R24,temps+926
    02E78 9190 06D4 LDS	R25,temps+927
    02E7A 9601      ADIW	R24,1
    02E7B 9390 06D4 STS	temps+927,R25
    02E7D 9380 06D3 STS	temps+926,R24
(0205) 			                temps[2].pertimecnt=0;
    02E7F 2422      CLR	R2
    02E80 2433      CLR	R3
    02E81 9230 06D0 STS	temps+923,R3
    02E83 9220 06CF STS	temps+922,R2
(0206) 		              } 
(0207) 			  }
(0208) 		 }
(0209) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    02E85 C124      RJMP	0x2FAA
(0210) 	        temps[2].statusflag=0;
    02E86 2422      CLR	R2
    02E87 2433      CLR	R3
    02E88 9230 06D2 STS	temps+925,R3
    02E8A 9220 06D1 STS	temps+924,R2
(0211) 		    temps[2].nowtime=0;
    02E8C 9230 06CC STS	temps+919,R3
    02E8E 9220 06CB STS	temps+918,R2
(0212) 	       if(cache & 0x01){//升温阶段
    02E90 FF40      SBRS	R20,0
    02E91 C0BD      RJMP	0x2F4F
(0213) 		      cache=((cache-1)>>1)*11;
    02E92 019A      MOVW	R18,R20
    02E93 5021      SUBI	R18,1
    02E94 4030      SBCI	R19,0
    02E95 9536      LSR	R19
    02E96 9527      ROR	R18
    02E97 E00B      LDI	R16,0xB
    02E98 E010      LDI	R17,0
    02E99 940E 3C39 CALL	empy16s
    02E9B 01A8      MOVW	R20,R16
(0214) 		      temps[2].needtime=(temps[2].temp_data[cache]*10+temps[2].temp_data[cache+1])*3600+(temps[2].temp_data[cache+2]*10+temps[2].temp_data[cache+3])*60;
    02E9C EB8F      LDI	R24,0xBF
    02E9D E095      LDI	R25,5
    02E9E 01FA      MOVW	R30,R20
    02E9F 9632      ADIW	R30,2
    02EA0 0FEE      LSL	R30
    02EA1 1FFF      ROL	R31
    02EA2 0FE8      ADD	R30,R24
    02EA3 1FF9      ADC	R31,R25
    02EA4 8120      LD	R18,Z
    02EA5 8131      LDD	R19,Z+1
    02EA6 E00A      LDI	R16,0xA
    02EA7 E010      LDI	R17,0
    02EA8 940E 3C39 CALL	empy16s
    02EAA 0198      MOVW	R18,R16
    02EAB EB8F      LDI	R24,0xBF
    02EAC E095      LDI	R25,5
    02EAD 01FA      MOVW	R30,R20
    02EAE 9633      ADIW	R30,3
    02EAF 0FEE      LSL	R30
    02EB0 1FFF      ROL	R31
    02EB1 0FE8      ADD	R30,R24
    02EB2 1FF9      ADC	R31,R25
    02EB3 8020      LD	R2,Z
    02EB4 8031      LDD	R3,Z+1
    02EB5 0D22      ADD	R18,R2
    02EB6 1D33      ADC	R19,R3
    02EB7 E30C      LDI	R16,0x3C
    02EB8 E010      LDI	R17,0
    02EB9 940E 3C39 CALL	empy16s
    02EBB 0118      MOVW	R2,R16
    02EBC EB8F      LDI	R24,0xBF
    02EBD E095      LDI	R25,5
    02EBE 01FA      MOVW	R30,R20
    02EBF 0FEE      LSL	R30
    02EC0 1FFF      ROL	R31
    02EC1 0FE8      ADD	R30,R24
    02EC2 1FF9      ADC	R31,R25
    02EC3 8120      LD	R18,Z
    02EC4 8131      LDD	R19,Z+1
    02EC5 E00A      LDI	R16,0xA
    02EC6 E010      LDI	R17,0
    02EC7 940E 3C39 CALL	empy16s
    02EC9 0198      MOVW	R18,R16
    02ECA EB8F      LDI	R24,0xBF
    02ECB E095      LDI	R25,5
    02ECC 01FA      MOVW	R30,R20
    02ECD 9631      ADIW	R30,1
    02ECE 0FEE      LSL	R30
    02ECF 1FFF      ROL	R31
    02ED0 0FE8      ADD	R30,R24
    02ED1 1FF9      ADC	R31,R25
    02ED2 8040      LD	R4,Z
    02ED3 8051      LDD	R5,Z+1
    02ED4 0D24      ADD	R18,R4
    02ED5 1D35      ADC	R19,R5
    02ED6 E100      LDI	R16,0x10
    02ED7 E01E      LDI	R17,0xE
    02ED8 940E 3C39 CALL	empy16s
    02EDA 0128      MOVW	R4,R16
    02EDB 0C42      ADD	R4,R2
    02EDC 1C53      ADC	R5,R3
    02EDD 9250 06CA STS	temps+917,R5
    02EDF 9240 06C9 STS	temps+916,R4
(0215) 			  //temps[0].needtime=3;
(0216) 			  if(temps[2].needtime==0){
    02EE1 2044      TST	R4
    02EE2 F449      BNE	0x2EEC
    02EE3 2055      TST	R5
    02EE4 F439      BNE	0x2EEC
(0217) 			     //当前阶段时间为0，表示已经结束更改标记
(0218) 				  temps[2].flag=4;
    02EE5 E084      LDI	R24,4
    02EE6 E090      LDI	R25,0
    02EE7 9390 05BE STS	temps+649,R25
    02EE9 9380 05BD STS	temps+648,R24
(0219) 			  }else{
    02EEB C0BE      RJMP	0x2FAA
(0220) 			     temps[2].p_settemp=temps[2].temp_data[cache+8]*100+temps[2].temp_data[cache+9]*10+temps[2].temp_data[cache+10];
    02EEC EB8F      LDI	R24,0xBF
    02EED E095      LDI	R25,5
    02EEE 01FA      MOVW	R30,R20
    02EEF 9639      ADIW	R30,0x9
    02EF0 0FEE      LSL	R30
    02EF1 1FFF      ROL	R31
    02EF2 0FE8      ADD	R30,R24
    02EF3 1FF9      ADC	R31,R25
    02EF4 8120      LD	R18,Z
    02EF5 8131      LDD	R19,Z+1
    02EF6 E00A      LDI	R16,0xA
    02EF7 E010      LDI	R17,0
    02EF8 940E 3C39 CALL	empy16s
    02EFA 0118      MOVW	R2,R16
    02EFB EB8F      LDI	R24,0xBF
    02EFC E095      LDI	R25,5
    02EFD 01FA      MOVW	R30,R20
    02EFE 9638      ADIW	R30,0x8
    02EFF 0FEE      LSL	R30
    02F00 1FFF      ROL	R31
    02F01 0FE8      ADD	R30,R24
    02F02 1FF9      ADC	R31,R25
    02F03 8120      LD	R18,Z
    02F04 8131      LDD	R19,Z+1
    02F05 E604      LDI	R16,0x64
    02F06 E010      LDI	R17,0
    02F07 940E 3C39 CALL	empy16s
    02F09 0128      MOVW	R4,R16
    02F0A 0C42      ADD	R4,R2
    02F0B 1C53      ADC	R5,R3
    02F0C EB8F      LDI	R24,0xBF
    02F0D E095      LDI	R25,5
    02F0E 01FA      MOVW	R30,R20
    02F0F 963A      ADIW	R30,0xA
    02F10 0FEE      LSL	R30
    02F11 1FFF      ROL	R31
    02F12 0FE8      ADD	R30,R24
    02F13 1FF9      ADC	R31,R25
    02F14 8020      LD	R2,Z
    02F15 8031      LDD	R3,Z+1
    02F16 0C42      ADD	R4,R2
    02F17 1C53      ADC	R5,R3
    02F18 9250 06D4 STS	temps+927,R5
    02F1A 9240 06D3 STS	temps+926,R4
(0221) 			     temps[2].pertime=temps[2].needtime/(temps[2].p_settemp-temps[2].actualtemp);
    02F1C 9100 06C9 LDS	R16,temps+916
    02F1E 9110 06CA LDS	R17,temps+917
    02F20 940E 3DB8 CALL	uint2fp
    02F22 0118      MOVW	R2,R16
    02F23 0129      MOVW	R4,R18
    02F24 9100 06D3 LDS	R16,temps+926
    02F26 9110 06D4 LDS	R17,temps+927
    02F28 940E 3DB8 CALL	uint2fp
    02F2A EE81      LDI	R24,0xE1
    02F2B E096      LDI	R25,6
    02F2C 939A      ST	-Y,R25
    02F2D 938A      ST	-Y,R24
    02F2E 940E 3D6B CALL	fpsub1x
    02F30 0181      MOVW	R16,R2
    02F31 0192      MOVW	R18,R4
    02F32 940E 3DE5 CALL	fpdiv2
    02F34 940E 3D86 CALL	fpint
    02F36 9310 06CE STS	temps+921,R17
    02F38 9300 06CD STS	temps+920,R16
(0222) 			     temps[2].pertimecnt=0;
    02F3A 2422      CLR	R2
    02F3B 2433      CLR	R3
    02F3C 9230 06D0 STS	temps+923,R3
    02F3E 9220 06CF STS	temps+922,R2
(0223) 				 temps[2].settemp=temps[2].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02F40 9100 06D3 LDS	R16,temps+926
    02F42 9110 06D4 LDS	R17,temps+927
    02F44 940E 3DB8 CALL	uint2fp
    02F46 9310 06DE STS	temps+937,R17
    02F48 9300 06DD STS	temps+936,R16
    02F4A 9330 06E0 STS	temps+939,R19
    02F4C 9320 06DF STS	temps+938,R18
(0224) 			  }
(0225) 		     
(0226) 		    }else{//恒温阶段
    02F4E C05B      RJMP	0x2FAA
(0227) 			   cache=((cache-1)>>1)*11+4;
    02F4F 019A      MOVW	R18,R20
    02F50 5021      SUBI	R18,1
    02F51 4030      SBCI	R19,0
    02F52 9536      LSR	R19
    02F53 9527      ROR	R18
    02F54 E00B      LDI	R16,0xB
    02F55 E010      LDI	R17,0
    02F56 940E 3C39 CALL	empy16s
    02F58 01A8      MOVW	R20,R16
    02F59 5F4C      SUBI	R20,0xFC
    02F5A 4F5F      SBCI	R21,0xFF
(0228) 		      temps[2].needtime=(temps[2].temp_data[cache]*10+temps[2].temp_data[cache+1])*3600+(temps[2].temp_data[cache+2]*10+temps[2].temp_data[cache+3])*60;
    02F5B EB8F      LDI	R24,0xBF
    02F5C E095      LDI	R25,5
    02F5D 01FA      MOVW	R30,R20
    02F5E 9632      ADIW	R30,2
    02F5F 0FEE      LSL	R30
    02F60 1FFF      ROL	R31
    02F61 0FE8      ADD	R30,R24
    02F62 1FF9      ADC	R31,R25
    02F63 8120      LD	R18,Z
    02F64 8131      LDD	R19,Z+1
    02F65 E00A      LDI	R16,0xA
    02F66 E010      LDI	R17,0
    02F67 940E 3C39 CALL	empy16s
    02F69 0198      MOVW	R18,R16
    02F6A EB8F      LDI	R24,0xBF
    02F6B E095      LDI	R25,5
    02F6C 01FA      MOVW	R30,R20
    02F6D 9633      ADIW	R30,3
    02F6E 0FEE      LSL	R30
    02F6F 1FFF      ROL	R31
    02F70 0FE8      ADD	R30,R24
    02F71 1FF9      ADC	R31,R25
    02F72 8020      LD	R2,Z
    02F73 8031      LDD	R3,Z+1
    02F74 0D22      ADD	R18,R2
    02F75 1D33      ADC	R19,R3
    02F76 E30C      LDI	R16,0x3C
    02F77 E010      LDI	R17,0
    02F78 940E 3C39 CALL	empy16s
    02F7A 0118      MOVW	R2,R16
    02F7B EB8F      LDI	R24,0xBF
    02F7C E095      LDI	R25,5
    02F7D 01FA      MOVW	R30,R20
    02F7E 0FEE      LSL	R30
    02F7F 1FFF      ROL	R31
    02F80 0FE8      ADD	R30,R24
    02F81 1FF9      ADC	R31,R25
    02F82 8120      LD	R18,Z
    02F83 8131      LDD	R19,Z+1
    02F84 E00A      LDI	R16,0xA
    02F85 E010      LDI	R17,0
    02F86 940E 3C39 CALL	empy16s
    02F88 0198      MOVW	R18,R16
    02F89 EB8F      LDI	R24,0xBF
    02F8A E095      LDI	R25,5
    02F8B 01FA      MOVW	R30,R20
    02F8C 9631      ADIW	R30,1
    02F8D 0FEE      LSL	R30
    02F8E 1FFF      ROL	R31
    02F8F 0FE8      ADD	R30,R24
    02F90 1FF9      ADC	R31,R25
    02F91 8040      LD	R4,Z
    02F92 8051      LDD	R5,Z+1
    02F93 0D24      ADD	R18,R4
    02F94 1D35      ADC	R19,R5
    02F95 E100      LDI	R16,0x10
    02F96 E01E      LDI	R17,0xE
    02F97 940E 3C39 CALL	empy16s
    02F99 0128      MOVW	R4,R16
    02F9A 0C42      ADD	R4,R2
    02F9B 1C53      ADC	R5,R3
    02F9C 9250 06CA STS	temps+917,R5
    02F9E 9240 06C9 STS	temps+916,R4
(0229) 			  //temps[0].needtime=3;
(0230) 			  if(temps[2].needtime==0){
    02FA0 2044      TST	R4
    02FA1 F441      BNE	0x2FAA
    02FA2 2055      TST	R5
    02FA3 F431      BNE	0x2FAA
(0231) 			     //当前阶段时间为0，表示已经结束更改标记
(0232) 				  temps[2].flag=4;
    02FA4 E084      LDI	R24,4
    02FA5 E090      LDI	R25,0
    02FA6 9390 05BE STS	temps+649,R25
    02FA8 9380 05BD STS	temps+648,R24
(0233) 			  }
(0234) 			 // temps[0].settemp，在上一场升温时候赋值过
(0235) 			}
(0236) 	  }
(0237)   }
(0238)   //第一个
(0239)   if(temps[3].flag==1){//运行中
    02FAA 9180 0701 LDS	R24,temps+972
    02FAC 9190 0702 LDS	R25,temps+973
    02FAE 3081      CPI	R24,1
    02FAF E0E0      LDI	R30,0
    02FB0 079E      CPC	R25,R30
    02FB1 F009      BEQ	0x2FB3
    02FB2 C173      RJMP	0x3126
(0240)      cache=temps[3].status;//暂存当前状态
    02FB3 9140 080B LDS	R20,temps+1238
    02FB5 9150 080C LDS	R21,temps+1239
(0241)      if(temps[3].statusflag==0){//不是第一次进入当前状态
    02FB7 9020 0815 LDS	R2,temps+1248
    02FB9 9030 0816 LDS	R3,temps+1249
    02FBB 2022      TST	R2
    02FBC F009      BEQ	0x2FBE
    02FBD C044      RJMP	0x3002
    02FBE 2033      TST	R3
    02FBF F009      BEQ	0x2FC1
    02FC0 C041      RJMP	0x3002
(0242) 	     temps[3].nowtime++;//当前阶段运行时间
    02FC1 9180 080F LDS	R24,temps+1242
    02FC3 9190 0810 LDS	R25,temps+1243
    02FC5 9601      ADIW	R24,1
    02FC6 9390 0810 STS	temps+1243,R25
    02FC8 9380 080F STS	temps+1242,R24
(0243) 		if(temps[3].nowtime>=temps[3].needtime){//当前阶段运行结束进入下一阶段
    02FCA 9020 080D LDS	R2,temps+1240
    02FCC 9030 080E LDS	R3,temps+1241
    02FCE 1582      CP	R24,R2
    02FCF 0593      CPC	R25,R3
    02FD0 F068      BCS	0x2FDE
(0244) 		    temps[3].status++;
    02FD1 01CA      MOVW	R24,R20
    02FD2 9601      ADIW	R24,1
    02FD3 9390 080C STS	temps+1239,R25
    02FD5 9380 080B STS	temps+1238,R24
(0245) 		    temps[3].statusflag=1;
    02FD7 E081      LDI	R24,1
    02FD8 E090      LDI	R25,0
    02FD9 9390 0816 STS	temps+1249,R25
    02FDB 9380 0815 STS	temps+1248,R24
(0246) 			//PORTE=0xFF;
(0247) 		}else{//还在当前阶段
    02FDD C148      RJMP	0x3126
(0248) 		     if(cache & 0x01){//恒温阶段,
    02FDE FF40      SBRS	R20,0
    02FDF C001      RJMP	0x2FE1
(0249) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0250) 		      }else{ //升温阶段
    02FE0 C145      RJMP	0x3126
(0251) 		            temps[3].pertimecnt++;
    02FE1 9180 0813 LDS	R24,temps+1246
    02FE3 9190 0814 LDS	R25,temps+1247
    02FE5 9601      ADIW	R24,1
    02FE6 9390 0814 STS	temps+1247,R25
    02FE8 9380 0813 STS	temps+1246,R24
(0252) 		            if(temps[3].pertimecnt>temps[3].pertime){
    02FEA 9020 0811 LDS	R2,temps+1244
    02FEC 9030 0812 LDS	R3,temps+1245
    02FEE 1628      CP	R2,R24
    02FEF 0639      CPC	R3,R25
    02FF0 F008      BCS	0x2FF2
    02FF1 C134      RJMP	0x3126
(0253) 		                    temps[3].p_settemp++;//1C需要时间到达，增加温度。
    02FF2 9180 0817 LDS	R24,temps+1250
    02FF4 9190 0818 LDS	R25,temps+1251
    02FF6 9601      ADIW	R24,1
    02FF7 9390 0818 STS	temps+1251,R25
    02FF9 9380 0817 STS	temps+1250,R24
(0254) 			                temps[3].pertimecnt=0;
    02FFB 2422      CLR	R2
    02FFC 2433      CLR	R3
    02FFD 9230 0814 STS	temps+1247,R3
    02FFF 9220 0813 STS	temps+1246,R2
(0255) 		              } 
(0256) 			  }
(0257) 		 }
(0258) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    03001 C124      RJMP	0x3126
(0259) 	        temps[3].statusflag=0;
    03002 2422      CLR	R2
    03003 2433      CLR	R3
    03004 9230 0816 STS	temps+1249,R3
    03006 9220 0815 STS	temps+1248,R2
(0260) 		    temps[3].nowtime=0;
    03008 9230 0810 STS	temps+1243,R3
    0300A 9220 080F STS	temps+1242,R2
(0261) 	       if(cache & 0x01){//升温阶段
    0300C FF40      SBRS	R20,0
    0300D C0BD      RJMP	0x30CB
(0262) 		      cache=((cache-1)>>1)*11;
    0300E 019A      MOVW	R18,R20
    0300F 5021      SUBI	R18,1
    03010 4030      SBCI	R19,0
    03011 9536      LSR	R19
    03012 9527      ROR	R18
    03013 E00B      LDI	R16,0xB
    03014 E010      LDI	R17,0
    03015 940E 3C39 CALL	empy16s
    03017 01A8      MOVW	R20,R16
(0263) 		      temps[3].needtime=(temps[3].temp_data[cache]*10+temps[3].temp_data[cache+1])*3600+(temps[3].temp_data[cache+2]*10+temps[3].temp_data[cache+3])*60;
    03018 E083      LDI	R24,3
    03019 E097      LDI	R25,7
    0301A 01FA      MOVW	R30,R20
    0301B 9632      ADIW	R30,2
    0301C 0FEE      LSL	R30
    0301D 1FFF      ROL	R31
    0301E 0FE8      ADD	R30,R24
    0301F 1FF9      ADC	R31,R25
    03020 8120      LD	R18,Z
    03021 8131      LDD	R19,Z+1
    03022 E00A      LDI	R16,0xA
    03023 E010      LDI	R17,0
    03024 940E 3C39 CALL	empy16s
    03026 0198      MOVW	R18,R16
    03027 E083      LDI	R24,3
    03028 E097      LDI	R25,7
    03029 01FA      MOVW	R30,R20
    0302A 9633      ADIW	R30,3
    0302B 0FEE      LSL	R30
    0302C 1FFF      ROL	R31
    0302D 0FE8      ADD	R30,R24
    0302E 1FF9      ADC	R31,R25
    0302F 8020      LD	R2,Z
    03030 8031      LDD	R3,Z+1
    03031 0D22      ADD	R18,R2
    03032 1D33      ADC	R19,R3
    03033 E30C      LDI	R16,0x3C
    03034 E010      LDI	R17,0
    03035 940E 3C39 CALL	empy16s
    03037 0118      MOVW	R2,R16
    03038 E083      LDI	R24,3
    03039 E097      LDI	R25,7
    0303A 01FA      MOVW	R30,R20
    0303B 0FEE      LSL	R30
    0303C 1FFF      ROL	R31
    0303D 0FE8      ADD	R30,R24
    0303E 1FF9      ADC	R31,R25
    0303F 8120      LD	R18,Z
    03040 8131      LDD	R19,Z+1
    03041 E00A      LDI	R16,0xA
    03042 E010      LDI	R17,0
    03043 940E 3C39 CALL	empy16s
    03045 0198      MOVW	R18,R16
    03046 E083      LDI	R24,3
    03047 E097      LDI	R25,7
    03048 01FA      MOVW	R30,R20
    03049 9631      ADIW	R30,1
    0304A 0FEE      LSL	R30
    0304B 1FFF      ROL	R31
    0304C 0FE8      ADD	R30,R24
    0304D 1FF9      ADC	R31,R25
    0304E 8040      LD	R4,Z
    0304F 8051      LDD	R5,Z+1
    03050 0D24      ADD	R18,R4
    03051 1D35      ADC	R19,R5
    03052 E100      LDI	R16,0x10
    03053 E01E      LDI	R17,0xE
    03054 940E 3C39 CALL	empy16s
    03056 0128      MOVW	R4,R16
    03057 0C42      ADD	R4,R2
    03058 1C53      ADC	R5,R3
    03059 9250 080E STS	temps+1241,R5
    0305B 9240 080D STS	temps+1240,R4
(0264) 			  //temps[0].needtime=3;
(0265) 			  if(temps[3].needtime==0){
    0305D 2044      TST	R4
    0305E F449      BNE	0x3068
    0305F 2055      TST	R5
    03060 F439      BNE	0x3068
(0266) 			     //当前阶段时间为0，表示已经结束更改标记
(0267) 				  temps[3].flag=4;
    03061 E084      LDI	R24,4
    03062 E090      LDI	R25,0
    03063 9390 0702 STS	temps+973,R25
    03065 9380 0701 STS	temps+972,R24
(0268) 			  }else{
    03067 C0BE      RJMP	0x3126
(0269) 			     temps[3].p_settemp=temps[3].temp_data[cache+8]*100+temps[3].temp_data[cache+9]*10+temps[3].temp_data[cache+10];
    03068 E083      LDI	R24,3
    03069 E097      LDI	R25,7
    0306A 01FA      MOVW	R30,R20
    0306B 9639      ADIW	R30,0x9
    0306C 0FEE      LSL	R30
    0306D 1FFF      ROL	R31
    0306E 0FE8      ADD	R30,R24
    0306F 1FF9      ADC	R31,R25
    03070 8120      LD	R18,Z
    03071 8131      LDD	R19,Z+1
    03072 E00A      LDI	R16,0xA
    03073 E010      LDI	R17,0
    03074 940E 3C39 CALL	empy16s
    03076 0118      MOVW	R2,R16
    03077 E083      LDI	R24,3
    03078 E097      LDI	R25,7
    03079 01FA      MOVW	R30,R20
    0307A 9638      ADIW	R30,0x8
    0307B 0FEE      LSL	R30
    0307C 1FFF      ROL	R31
    0307D 0FE8      ADD	R30,R24
    0307E 1FF9      ADC	R31,R25
    0307F 8120      LD	R18,Z
    03080 8131      LDD	R19,Z+1
    03081 E604      LDI	R16,0x64
    03082 E010      LDI	R17,0
    03083 940E 3C39 CALL	empy16s
    03085 0128      MOVW	R4,R16
    03086 0C42      ADD	R4,R2
    03087 1C53      ADC	R5,R3
    03088 E083      LDI	R24,3
    03089 E097      LDI	R25,7
    0308A 01FA      MOVW	R30,R20
    0308B 963A      ADIW	R30,0xA
    0308C 0FEE      LSL	R30
    0308D 1FFF      ROL	R31
    0308E 0FE8      ADD	R30,R24
    0308F 1FF9      ADC	R31,R25
    03090 8020      LD	R2,Z
    03091 8031      LDD	R3,Z+1
    03092 0C42      ADD	R4,R2
    03093 1C53      ADC	R5,R3
    03094 9250 0818 STS	temps+1251,R5
    03096 9240 0817 STS	temps+1250,R4
(0270) 			     temps[3].pertime=temps[3].needtime/(temps[3].p_settemp-temps[3].actualtemp);
    03098 9100 080D LDS	R16,temps+1240
    0309A 9110 080E LDS	R17,temps+1241
    0309C 940E 3DB8 CALL	uint2fp
    0309E 0118      MOVW	R2,R16
    0309F 0129      MOVW	R4,R18
    030A0 9100 0817 LDS	R16,temps+1250
    030A2 9110 0818 LDS	R17,temps+1251
    030A4 940E 3DB8 CALL	uint2fp
    030A6 E285      LDI	R24,0x25
    030A7 E098      LDI	R25,0x8
    030A8 939A      ST	-Y,R25
    030A9 938A      ST	-Y,R24
    030AA 940E 3D6B CALL	fpsub1x
    030AC 0181      MOVW	R16,R2
    030AD 0192      MOVW	R18,R4
    030AE 940E 3DE5 CALL	fpdiv2
    030B0 940E 3D86 CALL	fpint
    030B2 9310 0812 STS	temps+1245,R17
    030B4 9300 0811 STS	temps+1244,R16
(0271) 			     temps[3].pertimecnt=0;
    030B6 2422      CLR	R2
    030B7 2433      CLR	R3
    030B8 9230 0814 STS	temps+1247,R3
    030BA 9220 0813 STS	temps+1246,R2
(0272) 				 temps[3].settemp=temps[3].p_settemp;//当接近恒温温度时候使用pid需要此温度
    030BC 9100 0817 LDS	R16,temps+1250
    030BE 9110 0818 LDS	R17,temps+1251
    030C0 940E 3DB8 CALL	uint2fp
    030C2 9310 0822 STS	temps+1261,R17
    030C4 9300 0821 STS	temps+1260,R16
    030C6 9330 0824 STS	temps+1263,R19
    030C8 9320 0823 STS	temps+1262,R18
(0273) 			  }
(0274) 		     
(0275) 		    }else{//恒温阶段
    030CA C05B      RJMP	0x3126
(0276) 			   cache=((cache-1)>>1)*11+4;
    030CB 019A      MOVW	R18,R20
    030CC 5021      SUBI	R18,1
    030CD 4030      SBCI	R19,0
    030CE 9536      LSR	R19
    030CF 9527      ROR	R18
    030D0 E00B      LDI	R16,0xB
    030D1 E010      LDI	R17,0
    030D2 940E 3C39 CALL	empy16s
    030D4 01A8      MOVW	R20,R16
    030D5 5F4C      SUBI	R20,0xFC
    030D6 4F5F      SBCI	R21,0xFF
(0277) 		      temps[3].needtime=(temps[3].temp_data[cache]*10+temps[3].temp_data[cache+1])*3600+(temps[3].temp_data[cache+2]*10+temps[3].temp_data[cache+3])*60;
    030D7 E083      LDI	R24,3
    030D8 E097      LDI	R25,7
    030D9 01FA      MOVW	R30,R20
    030DA 9632      ADIW	R30,2
    030DB 0FEE      LSL	R30
    030DC 1FFF      ROL	R31
    030DD 0FE8      ADD	R30,R24
    030DE 1FF9      ADC	R31,R25
    030DF 8120      LD	R18,Z
    030E0 8131      LDD	R19,Z+1
    030E1 E00A      LDI	R16,0xA
    030E2 E010      LDI	R17,0
    030E3 940E 3C39 CALL	empy16s
    030E5 0198      MOVW	R18,R16
    030E6 E083      LDI	R24,3
    030E7 E097      LDI	R25,7
    030E8 01FA      MOVW	R30,R20
    030E9 9633      ADIW	R30,3
    030EA 0FEE      LSL	R30
    030EB 1FFF      ROL	R31
    030EC 0FE8      ADD	R30,R24
    030ED 1FF9      ADC	R31,R25
    030EE 8020      LD	R2,Z
    030EF 8031      LDD	R3,Z+1
    030F0 0D22      ADD	R18,R2
    030F1 1D33      ADC	R19,R3
    030F2 E30C      LDI	R16,0x3C
    030F3 E010      LDI	R17,0
    030F4 940E 3C39 CALL	empy16s
    030F6 0118      MOVW	R2,R16
    030F7 E083      LDI	R24,3
    030F8 E097      LDI	R25,7
    030F9 01FA      MOVW	R30,R20
    030FA 0FEE      LSL	R30
    030FB 1FFF      ROL	R31
    030FC 0FE8      ADD	R30,R24
    030FD 1FF9      ADC	R31,R25
    030FE 8120      LD	R18,Z
    030FF 8131      LDD	R19,Z+1
    03100 E00A      LDI	R16,0xA
    03101 E010      LDI	R17,0
    03102 940E 3C39 CALL	empy16s
    03104 0198      MOVW	R18,R16
    03105 E083      LDI	R24,3
    03106 E097      LDI	R25,7
    03107 01FA      MOVW	R30,R20
    03108 9631      ADIW	R30,1
    03109 0FEE      LSL	R30
    0310A 1FFF      ROL	R31
    0310B 0FE8      ADD	R30,R24
    0310C 1FF9      ADC	R31,R25
    0310D 8040      LD	R4,Z
    0310E 8051      LDD	R5,Z+1
    0310F 0D24      ADD	R18,R4
    03110 1D35      ADC	R19,R5
    03111 E100      LDI	R16,0x10
    03112 E01E      LDI	R17,0xE
    03113 940E 3C39 CALL	empy16s
    03115 0128      MOVW	R4,R16
    03116 0C42      ADD	R4,R2
    03117 1C53      ADC	R5,R3
    03118 9250 080E STS	temps+1241,R5
    0311A 9240 080D STS	temps+1240,R4
(0278) 			  //temps[0].needtime=3;
(0279) 			  if(temps[3].needtime==0){
    0311C 2044      TST	R4
    0311D F441      BNE	0x3126
    0311E 2055      TST	R5
    0311F F431      BNE	0x3126
(0280) 			     //当前阶段时间为0，表示已经结束更改标记
(0281) 				  temps[3].flag=4;
    03120 E084      LDI	R24,4
    03121 E090      LDI	R25,0
    03122 9390 0702 STS	temps+973,R25
    03124 9380 0701 STS	temps+972,R24
(0282) 			  }
(0283) 			 // temps[0].settemp，在上一场升温时候赋值过
(0284) 			}
(0285) 	  }
(0286)   }
(0287)   TIMSK|=0x40;//开定时器2溢出中断,8位的
    03126 B787      IN	R24,0x37
    03127 6480      ORI	R24,0x40
    03128 BF87      OUT	0x37,R24
(0288)   EIMSK |= 0x04;//开中断2  
    03129 B789      IN	R24,0x39
    0312A 6084      ORI	R24,4
    0312B BF89      OUT	0x39,R24
    0312C 9622      ADIW	R28,2
    0312D 940E 3C70 CALL	pop_xgset300C
    0312F 9009      LD	R0,Y+
    03130 BE0F      OUT	0x3F,R0
    03131 91F9      LD	R31,Y+
    03132 91E9      LD	R30,Y+
    03133 91B9      LD	R27,Y+
    03134 91A9      LD	R26,Y+
    03135 9199      LD	R25,Y+
    03136 9189      LD	R24,Y+
    03137 9139      LD	R19,Y+
    03138 9129      LD	R18,Y+
    03139 9119      LD	R17,Y+
    0313A 9109      LD	R16,Y+
    0313B 9099      LD	R9,Y+
    0313C 9089      LD	R8,Y+
    0313D 9079      LD	R7,Y+
    0313E 9069      LD	R6,Y+
    0313F 9059      LD	R5,Y+
    03140 9049      LD	R4,Y+
    03141 9039      LD	R3,Y+
    03142 9029      LD	R2,Y+
    03143 9019      LD	R1,Y+
    03144 9009      LD	R0,Y+
    03145 9518      RETI
_tempcontrol:
  j                    --> R22
  i                    --> R20
    03146 940E 3C7F CALL	push_xgsetF00C
    03148 9722      SBIW	R28,2
(0289) }
(0290)  //执行温度控制数据更新操作，读取温度更新输出参数.会对温度数据故障更新
(0291)  //定时器控制，0.5s进入一次
(0292)  //在这里发送串口数据，上位机读取。和读取温度同步
(0293) void tempcontrol(void){
(0294)    uint i,j;
(0295)       temp_l=0x00;
    03149 2422      CLR	R2
    0314A 2433      CLR	R3
    0314B 9230 0334 STS	temp_l+1,R3
    0314D 9220 0333 STS	temp_l,R2
(0296)       temp_h=0x12;
    0314F E182      LDI	R24,0x12
    03150 E090      LDI	R25,0
    03151 9390 0332 STS	temp_h+1,R25
    03153 9380 0331 STS	temp_h,R24
(0297)    for(i=0;i<4;i++){
    03155 2744      CLR	R20
    03156 2755      CLR	R21
    03157 C15A      RJMP	0x32B2
(0298)          //readTemp(i);//读取温度，一次验证有效性
(0299) 	 if(temp_l&0x04){//当前故障，下面就不用再运行啦
    03158 9020 0333 LDS	R2,temp_l
    0315A 9030 0334 LDS	R3,temp_l+1
    0315C FE22      SBRS	R2,2
    0315D C00F      RJMP	0x316D
(0300) 		     temps[i].flag=2;
    0315E E404      LDI	R16,0x44
    0315F E011      LDI	R17,1
    03160 019A      MOVW	R18,R20
    03161 940E 3C39 CALL	empy16s
    03163 E385      LDI	R24,0x35
    03164 E093      LDI	R25,3
    03165 01F8      MOVW	R30,R16
    03166 0FE8      ADD	R30,R24
    03167 1FF9      ADC	R31,R25
    03168 E082      LDI	R24,2
    03169 E090      LDI	R25,0
    0316A 8391      STD	Z+1,R25
    0316B 8380      ST	Z,R24
(0301) 	 }else{
    0316C C143      RJMP	0x32B0
(0302) 	      //temps[i].actualtemp=0x55<<2;
(0303) 		  temps[i].actualtemp=(temp_h&0x3F)<<4|(temp_l&0xF0)>>4;
    0316D E404      LDI	R16,0x44
    0316E E011      LDI	R17,1
    0316F 019A      MOVW	R18,R20
    03170 940E 3C39 CALL	empy16s
    03172 E589      LDI	R24,0x59
    03173 E094      LDI	R25,4
    03174 01F8      MOVW	R30,R16
    03175 0FE8      ADD	R30,R24
    03176 1FF9      ADC	R31,R25
    03177 9180 0333 LDS	R24,temp_l
    03179 9190 0334 LDS	R25,temp_l+1
    0317B 7F80      ANDI	R24,0xF0
    0317C 7090      ANDI	R25,0
    0317D 9596      LSR	R25
    0317E 9587      ROR	R24
    0317F 9596      LSR	R25
    03180 9587      ROR	R24
    03181 9596      LSR	R25
    03182 9587      ROR	R24
    03183 9596      LSR	R25
    03184 9587      ROR	R24
    03185 9100 0331 LDS	R16,temp_h
    03187 9110 0332 LDS	R17,temp_h+1
    03189 730F      ANDI	R16,0x3F
    0318A 7010      ANDI	R17,0
    0318B 0F00      LSL	R16
    0318C 1F11      ROL	R17
    0318D 0F00      LSL	R16
    0318E 1F11      ROL	R17
    0318F 0F00      LSL	R16
    03190 1F11      ROL	R17
    03191 0F00      LSL	R16
    03192 1F11      ROL	R17
    03193 2B08      OR	R16,R24
    03194 2B19      OR	R17,R25
    03195 940E 3DB8 CALL	uint2fp
    03197 8300      ST	Z,R16
    03198 8311      STD	Z+1,R17
    03199 8322      STD	Z+2,R18
    0319A 8333      STD	Z+3,R19
(0304)          if(temps[i].flag==1)//运行中的
    0319B E404      LDI	R16,0x44
    0319C E011      LDI	R17,1
    0319D 019A      MOVW	R18,R20
    0319E 940E 3C39 CALL	empy16s
    031A0 E385      LDI	R24,0x35
    031A1 E093      LDI	R25,3
    031A2 01F8      MOVW	R30,R16
    031A3 0FE8      ADD	R30,R24
    031A4 1FF9      ADC	R31,R25
    031A5 8180      LD	R24,Z
    031A6 8191      LDD	R25,Z+1
    031A7 3081      CPI	R24,1
    031A8 E0E0      LDI	R30,0
    031A9 079E      CPC	R25,R30
    031AA F009      BEQ	0x31AC
    031AB C0A0      RJMP	0x324C
(0305) 	      {   
(0306) 		      for(j=0;j<9;j++){
    031AC 2766      CLR	R22
    031AD 2777      CLR	R23
    031AE C03F      RJMP	0x31EE
(0307) 			    //readTemp(i);//读取温度，需要读取10次左右
(0308) 			    temps[i].actualtemp+=(temp_h&0x3F)<<4|(temp_l&0xF0)>>4;
    031AF E404      LDI	R16,0x44
    031B0 E011      LDI	R17,1
    031B1 019A      MOVW	R18,R20
    031B2 940E 3C39 CALL	empy16s
    031B4 0118      MOVW	R2,R16
    031B5 E589      LDI	R24,0x59
    031B6 E094      LDI	R25,4
    031B7 0E28      ADD	R2,R24
    031B8 1E39      ADC	R3,R25
    031B9 0131      MOVW	R6,R2
    031BA 01F1      MOVW	R30,R2
    031BB 8020      LD	R2,Z
    031BC 8031      LDD	R3,Z+1
    031BD 8042      LDD	R4,Z+2
    031BE 8053      LDD	R5,Z+3
    031BF 9180 0333 LDS	R24,temp_l
    031C1 9190 0334 LDS	R25,temp_l+1
    031C3 7F80      ANDI	R24,0xF0
    031C4 7090      ANDI	R25,0
    031C5 9596      LSR	R25
    031C6 9587      ROR	R24
    031C7 9596      LSR	R25
    031C8 9587      ROR	R24
    031C9 9596      LSR	R25
    031CA 9587      ROR	R24
    031CB 9596      LSR	R25
    031CC 9587      ROR	R24
    031CD 9100 0331 LDS	R16,temp_h
    031CF 9110 0332 LDS	R17,temp_h+1
    031D1 730F      ANDI	R16,0x3F
    031D2 7010      ANDI	R17,0
    031D3 0F00      LSL	R16
    031D4 1F11      ROL	R17
    031D5 0F00      LSL	R16
    031D6 1F11      ROL	R17
    031D7 0F00      LSL	R16
    031D8 1F11      ROL	R17
    031D9 0F00      LSL	R16
    031DA 1F11      ROL	R17
    031DB 2B08      OR	R16,R24
    031DC 2B19      OR	R17,R25
    031DD 940E 3DB8 CALL	uint2fp
    031DF 933A      ST	-Y,R19
    031E0 932A      ST	-Y,R18
    031E1 931A      ST	-Y,R17
    031E2 930A      ST	-Y,R16
    031E3 0181      MOVW	R16,R2
    031E4 0192      MOVW	R18,R4
    031E5 940E 3D4B CALL	fpadd2
    031E7 01F3      MOVW	R30,R6
    031E8 8300      ST	Z,R16
    031E9 8311      STD	Z+1,R17
    031EA 8322      STD	Z+2,R18
    031EB 8333      STD	Z+3,R19
    031EC 5F6F      SUBI	R22,0xFF
    031ED 4F7F      SBCI	R23,0xFF
    031EE 3069      CPI	R22,0x9
    031EF E0E0      LDI	R30,0
    031F0 077E      CPC	R23,R30
    031F1 F408      BCC	0x31F3
    031F2 CFBC      RJMP	0x31AF
(0309) 			  }
(0310) 			    temps[i].actualtemp/=10;
    031F3 E404      LDI	R16,0x44
    031F4 E011      LDI	R17,1
    031F5 019A      MOVW	R18,R20
    031F6 940E 3C39 CALL	empy16s
    031F8 0118      MOVW	R2,R16
    031F9 E589      LDI	R24,0x59
    031FA E094      LDI	R25,4
    031FB 0E28      ADD	R2,R24
    031FC 1E39      ADC	R3,R25
    031FD 0131      MOVW	R6,R2
    031FE 01F1      MOVW	R30,R2
    031FF 8020      LD	R2,Z
    03200 8031      LDD	R3,Z+1
    03201 8042      LDD	R4,Z+2
    03202 8053      LDD	R5,Z+3
    03203 E908      LDI	R16,0x98
    03204 E010      LDI	R17,0
    03205 940E 3C25 CALL	elpm32
    03207 933A      ST	-Y,R19
    03208 932A      ST	-Y,R18
    03209 931A      ST	-Y,R17
    0320A 930A      ST	-Y,R16
    0320B 0181      MOVW	R16,R2
    0320C 0192      MOVW	R18,R4
    0320D 940E 3DE5 CALL	fpdiv2
    0320F 01F3      MOVW	R30,R6
    03210 8300      ST	Z,R16
    03211 8311      STD	Z+1,R17
    03212 8322      STD	Z+2,R18
    03213 8333      STD	Z+3,R19
(0311) 		        if(temps[i].status & 0x01){//恒温阶段，使用pid算法。temps[i].status & 0x01如果是1代表是奇数，0代表是偶数
    03214 E404      LDI	R16,0x44
    03215 E011      LDI	R17,1
    03216 019A      MOVW	R18,R20
    03217 940E 3C39 CALL	empy16s
    03219 E38F      LDI	R24,0x3F
    0321A E094      LDI	R25,4
    0321B 01F8      MOVW	R30,R16
    0321C 0FE8      ADD	R30,R24
    0321D 1FF9      ADC	R31,R25
    0321E 8020      LD	R2,Z
    0321F 8031      LDD	R3,Z+1
    03220 FE20      SBRS	R2,0
    03221 C001      RJMP	0x3223
(0312) 				   //PID_realize(i);//启用pid算法
(0313)                 }else if(temps[i].settemp-temps[i].actualtemp<10){
    03222 C08D      RJMP	0x32B0
    03223 E404      LDI	R16,0x44
    03224 E011      LDI	R17,1
    03225 019A      MOVW	R18,R20
    03226 940E 3C39 CALL	empy16s
    03228 0158      MOVW	R10,R16
    03229 E585      LDI	R24,0x55
    0322A E094      LDI	R25,4
    0322B 01F5      MOVW	R30,R10
    0322C 0FE8      ADD	R30,R24
    0322D 1FF9      ADC	R31,R25
    0322E 8100      LD	R16,Z
    0322F 8111      LDD	R17,Z+1
    03230 8122      LDD	R18,Z+2
    03231 8133      LDD	R19,Z+3
    03232 E589      LDI	R24,0x59
    03233 E094      LDI	R25,4
    03234 0115      MOVW	R2,R10
    03235 0E28      ADD	R2,R24
    03236 1E39      ADC	R3,R25
    03237 923A      ST	-Y,R3
    03238 922A      ST	-Y,R2
    03239 940E 3D56 CALL	fpsub1
    0323B 0118      MOVW	R2,R16
    0323C 0129      MOVW	R4,R18
    0323D E908      LDI	R16,0x98
    0323E E010      LDI	R17,0
    0323F 940E 3C25 CALL	elpm32
    03241 933A      ST	-Y,R19
    03242 932A      ST	-Y,R18
    03243 931A      ST	-Y,R17
    03244 930A      ST	-Y,R16
    03245 0181      MOVW	R16,R2
    03246 0192      MOVW	R18,R4
    03247 940E 3F88 CALL	fpcmp2
    03249 F00C      BLT	0x324B
    0324A C065      RJMP	0x32B0
(0314) 		           //升温或阶段，如果温度接近某个温度则开始使用PID算法。这个值要重新考虑
(0315) 				   //PID_realize(i);//启用pid算法
(0316) 		         }else {//升温使用pi算法
(0317) 		            //PI_realize(i);//启用pi算法
(0318) 		         }
(0319) 	      }else if(temps[i].flag==5){//初始化参数
    0324B C064      RJMP	0x32B0
    0324C E404      LDI	R16,0x44
    0324D E011      LDI	R17,1
    0324E 019A      MOVW	R18,R20
    0324F 940E 3C39 CALL	empy16s
    03251 E385      LDI	R24,0x35
    03252 E093      LDI	R25,3
    03253 01F8      MOVW	R30,R16
    03254 0FE8      ADD	R30,R24
    03255 1FF9      ADC	R31,R25
    03256 8180      LD	R24,Z
    03257 8191      LDD	R25,Z+1
    03258 3085      CPI	R24,5
    03259 E0E0      LDI	R30,0
    0325A 079E      CPC	R25,R30
    0325B F009      BEQ	0x325D
    0325C C035      RJMP	0x3292
(0320) 	             temps[i].flag=1;
    0325D E404      LDI	R16,0x44
    0325E E011      LDI	R17,1
    0325F 019A      MOVW	R18,R20
    03260 940E 3C39 CALL	empy16s
    03262 E385      LDI	R24,0x35
    03263 E093      LDI	R25,3
    03264 01F8      MOVW	R30,R16
    03265 0FE8      ADD	R30,R24
    03266 1FF9      ADC	R31,R25
    03267 E081      LDI	R24,1
    03268 E090      LDI	R25,0
    03269 8391      STD	Z+1,R25
    0326A 8380      ST	Z,R24
(0321) 				 temps[i].status=1;
    0326B E404      LDI	R16,0x44
    0326C E011      LDI	R17,1
    0326D 019A      MOVW	R18,R20
    0326E 940E 3C39 CALL	empy16s
    03270 E38F      LDI	R24,0x3F
    03271 E094      LDI	R25,4
    03272 01F8      MOVW	R30,R16
    03273 0FE8      ADD	R30,R24
    03274 1FF9      ADC	R31,R25
    03275 E081      LDI	R24,1
    03276 E090      LDI	R25,0
    03277 8391      STD	Z+1,R25
    03278 8380      ST	Z,R24
(0322) 				 temps[i].statusflag=1;
    03279 E404      LDI	R16,0x44
    0327A E011      LDI	R17,1
    0327B 019A      MOVW	R18,R20
    0327C 940E 3C39 CALL	empy16s
    0327E E489      LDI	R24,0x49
    0327F E094      LDI	R25,4
    03280 01F8      MOVW	R30,R16
    03281 0FE8      ADD	R30,R24
    03282 1FF9      ADC	R31,R25
    03283 E081      LDI	R24,1
    03284 E090      LDI	R25,0
    03285 8391      STD	Z+1,R25
    03286 8380      ST	Z,R24
(0323) 				  EEPROM_write(i+1,133,5);//先写状态为5，预防在刚开始还未记录状态时候发生断电。
    03287 E085      LDI	R24,5
    03288 8399      STD	Y+1,R25
    03289 8388      ST	Y,R24
    0328A E825      LDI	R18,0x85
    0328B E030      LDI	R19,0
    0328C 018A      MOVW	R16,R20
    0328D 5F0F      SUBI	R16,0xFF
    0328E 4F1F      SBCI	R17,0xFF
    0328F 940E 12F4 CALL	_EEPROM_write
(0324) 	      }else if(temps[i].flag==2){//故障的,设置标志位位未初始化，但是状态和温度数据可能存在、所以可以直接恢复
    03291 C01E      RJMP	0x32B0
    03292 E404      LDI	R16,0x44
    03293 E011      LDI	R17,1
    03294 019A      MOVW	R18,R20
    03295 940E 3C39 CALL	empy16s
    03297 E385      LDI	R24,0x35
    03298 E093      LDI	R25,3
    03299 01F8      MOVW	R30,R16
    0329A 0FE8      ADD	R30,R24
    0329B 1FF9      ADC	R31,R25
    0329C 8180      LD	R24,Z
    0329D 8191      LDD	R25,Z+1
    0329E 3082      CPI	R24,2
    0329F E0E0      LDI	R30,0
    032A0 079E      CPC	R25,R30
    032A1 F471      BNE	0x32B0
(0325) 		       temps[i].flag=0;
    032A2 E404      LDI	R16,0x44
    032A3 E011      LDI	R17,1
    032A4 019A      MOVW	R18,R20
    032A5 940E 3C39 CALL	empy16s
    032A7 E385      LDI	R24,0x35
    032A8 E093      LDI	R25,3
    032A9 01F8      MOVW	R30,R16
    032AA 0FE8      ADD	R30,R24
    032AB 1FF9      ADC	R31,R25
    032AC 2422      CLR	R2
    032AD 2433      CLR	R3
    032AE 8231      STD	Z+1,R3
    032AF 8220      ST	Z,R2
    032B0 5F4F      SUBI	R20,0xFF
    032B1 4F5F      SBCI	R21,0xFF
    032B2 3044      CPI	R20,4
    032B3 E0E0      LDI	R30,0
    032B4 075E      CPC	R21,R30
    032B5 F408      BCC	0x32B7
    032B6 CEA1      RJMP	0x3158
    032B7 9622      ADIW	R28,2
    032B8 940C 3C86 JMP	pop_xgsetF00C
_tempdata_init:
  j                    --> R22
  i                    --> R20
    032BA 940E 3C75 CALL	push_xgsetF000
(0326) 	      }
(0327) 	  }
(0328)    }
(0329) }
(0330) 
(0331) //开机初始化空间。全部置0,不初始化数据，等用户或EEPROM数据回填
(0332) void tempdata_init(void){
(0333)  uint i,j;
(0334)  for(i=0;i<4;i++){
    032BC 2744      CLR	R20
    032BD 2755      CLR	R21
    032BE C168      RJMP	0x3427
(0335)     temps[i].flag=0;
    032BF E404      LDI	R16,0x44
    032C0 E011      LDI	R17,1
    032C1 019A      MOVW	R18,R20
    032C2 940E 3C39 CALL	empy16s
    032C4 E385      LDI	R24,0x35
    032C5 E093      LDI	R25,3
    032C6 01F8      MOVW	R30,R16
    032C7 0FE8      ADD	R30,R24
    032C8 1FF9      ADC	R31,R25
    032C9 2422      CLR	R2
    032CA 2433      CLR	R3
    032CB 8231      STD	Z+1,R3
    032CC 8220      ST	Z,R2
(0336) 	for(j=0;j<132;j++){
    032CD 2766      CLR	R22
    032CE 2777      CLR	R23
    032CF C015      RJMP	0x32E5
(0337) 	 temps[i].temp_data[j]=0;
    032D0 E404      LDI	R16,0x44
    032D1 E011      LDI	R17,1
    032D2 019A      MOVW	R18,R20
    032D3 940E 3C39 CALL	empy16s
    032D5 0118      MOVW	R2,R16
    032D6 E387      LDI	R24,0x37
    032D7 E093      LDI	R25,3
    032D8 0E28      ADD	R2,R24
    032D9 1E39      ADC	R3,R25
    032DA 01FB      MOVW	R30,R22
    032DB 0FEE      LSL	R30
    032DC 1FFF      ROL	R31
    032DD 0DE2      ADD	R30,R2
    032DE 1DF3      ADC	R31,R3
    032DF 2422      CLR	R2
    032E0 2433      CLR	R3
    032E1 8231      STD	Z+1,R3
    032E2 8220      ST	Z,R2
    032E3 5F6F      SUBI	R22,0xFF
    032E4 4F7F      SBCI	R23,0xFF
    032E5 3864      CPI	R22,0x84
    032E6 E0E0      LDI	R30,0
    032E7 077E      CPC	R23,R30
    032E8 F338      BCS	0x32D0
(0338) 	}
(0339) 	temps[i].status=0;
    032E9 E404      LDI	R16,0x44
    032EA E011      LDI	R17,1
    032EB 019A      MOVW	R18,R20
    032EC 940E 3C39 CALL	empy16s
    032EE E38F      LDI	R24,0x3F
    032EF E094      LDI	R25,4
    032F0 01F8      MOVW	R30,R16
    032F1 0FE8      ADD	R30,R24
    032F2 1FF9      ADC	R31,R25
    032F3 2422      CLR	R2
    032F4 2433      CLR	R3
    032F5 8231      STD	Z+1,R3
    032F6 8220      ST	Z,R2
(0340) 	temps[i].needtime=0;
    032F7 E404      LDI	R16,0x44
    032F8 E011      LDI	R17,1
    032F9 019A      MOVW	R18,R20
    032FA 940E 3C39 CALL	empy16s
    032FC E481      LDI	R24,0x41
    032FD E094      LDI	R25,4
    032FE 01F8      MOVW	R30,R16
    032FF 0FE8      ADD	R30,R24
    03300 1FF9      ADC	R31,R25
    03301 2422      CLR	R2
    03302 2433      CLR	R3
    03303 8231      STD	Z+1,R3
    03304 8220      ST	Z,R2
(0341) 	temps[i].nowtime=0;
    03305 E404      LDI	R16,0x44
    03306 E011      LDI	R17,1
    03307 019A      MOVW	R18,R20
    03308 940E 3C39 CALL	empy16s
    0330A E483      LDI	R24,0x43
    0330B E094      LDI	R25,4
    0330C 01F8      MOVW	R30,R16
    0330D 0FE8      ADD	R30,R24
    0330E 1FF9      ADC	R31,R25
    0330F 2422      CLR	R2
    03310 2433      CLR	R3
    03311 8231      STD	Z+1,R3
    03312 8220      ST	Z,R2
(0342) 	temps[i].pertime=0;//每1C需要时间，计时
    03313 E404      LDI	R16,0x44
    03314 E011      LDI	R17,1
    03315 019A      MOVW	R18,R20
    03316 940E 3C39 CALL	empy16s
    03318 E485      LDI	R24,0x45
    03319 E094      LDI	R25,4
    0331A 01F8      MOVW	R30,R16
    0331B 0FE8      ADD	R30,R24
    0331C 1FF9      ADC	R31,R25
    0331D 2422      CLR	R2
    0331E 2433      CLR	R3
    0331F 8231      STD	Z+1,R3
    03320 8220      ST	Z,R2
(0343) 	temps[i].pertimecnt=0;//每1C需要时间，计时器
    03321 E404      LDI	R16,0x44
    03322 E011      LDI	R17,1
    03323 019A      MOVW	R18,R20
    03324 940E 3C39 CALL	empy16s
    03326 E487      LDI	R24,0x47
    03327 E094      LDI	R25,4
    03328 01F8      MOVW	R30,R16
    03329 0FE8      ADD	R30,R24
    0332A 1FF9      ADC	R31,R25
    0332B 2422      CLR	R2
    0332C 2433      CLR	R3
    0332D 8231      STD	Z+1,R3
    0332E 8220      ST	Z,R2
(0344) 	temps[i].statusflag=1;//是否第一次进入当前状态,1、第一次；0、不是第一次
    0332F E404      LDI	R16,0x44
    03330 E011      LDI	R17,1
    03331 019A      MOVW	R18,R20
    03332 940E 3C39 CALL	empy16s
    03334 E489      LDI	R24,0x49
    03335 E094      LDI	R25,4
    03336 01F8      MOVW	R30,R16
    03337 0FE8      ADD	R30,R24
    03338 1FF9      ADC	R31,R25
    03339 E081      LDI	R24,1
    0333A E090      LDI	R25,0
    0333B 8391      STD	Z+1,R25
    0333C 8380      ST	Z,R24
(0345) 		//控制相关
(0346) 	temps[i].p_settemp=0;//升温时候的小阶段需要温度
    0333D E404      LDI	R16,0x44
    0333E E011      LDI	R17,1
    0333F 019A      MOVW	R18,R20
    03340 940E 3C39 CALL	empy16s
    03342 E48B      LDI	R24,0x4B
    03343 E094      LDI	R25,4
    03344 01F8      MOVW	R30,R16
    03345 0FE8      ADD	R30,R24
    03346 1FF9      ADC	R31,R25
    03347 2422      CLR	R2
    03348 2433      CLR	R3
    03349 8231      STD	Z+1,R3
    0334A 8220      ST	Z,R2
(0347) 	temps[i].p_err_next=0;//升温阶段控制使用
    0334B E404      LDI	R16,0x44
    0334C E011      LDI	R17,1
    0334D 019A      MOVW	R18,R20
    0334E 940E 3C39 CALL	empy16s
    03350 E48D      LDI	R24,0x4D
    03351 E094      LDI	R25,4
    03352 01F8      MOVW	R30,R16
    03353 0FE8      ADD	R30,R24
    03354 1FF9      ADC	R31,R25
    03355 2422      CLR	R2
    03356 2433      CLR	R3
    03357 8231      STD	Z+1,R3
    03358 8220      ST	Z,R2
(0348) 	temps[i].p_Kp=0;//升温阶段控制使用
    03359 E404      LDI	R16,0x44
    0335A E011      LDI	R17,1
    0335B 019A      MOVW	R18,R20
    0335C 940E 3C39 CALL	empy16s
    0335E E48F      LDI	R24,0x4F
    0335F E094      LDI	R25,4
    03360 01F8      MOVW	R30,R16
    03361 0FE8      ADD	R30,R24
    03362 1FF9      ADC	R31,R25
    03363 2422      CLR	R2
    03364 2433      CLR	R3
    03365 8231      STD	Z+1,R3
    03366 8220      ST	Z,R2
(0349) 	temps[i].p_Ki=0;//升温阶段控制使用
    03367 E404      LDI	R16,0x44
    03368 E011      LDI	R17,1
    03369 019A      MOVW	R18,R20
    0336A 940E 3C39 CALL	empy16s
    0336C E581      LDI	R24,0x51
    0336D E094      LDI	R25,4
    0336E 01F8      MOVW	R30,R16
    0336F 0FE8      ADD	R30,R24
    03370 1FF9      ADC	R31,R25
    03371 2422      CLR	R2
    03372 2433      CLR	R3
    03373 8231      STD	Z+1,R3
    03374 8220      ST	Z,R2
(0350)     temps[i].p_err_last=0;
    03375 E404      LDI	R16,0x44
    03376 E011      LDI	R17,1
    03377 019A      MOVW	R18,R20
    03378 940E 3C39 CALL	empy16s
    0337A E583      LDI	R24,0x53
    0337B E094      LDI	R25,4
    0337C 01F8      MOVW	R30,R16
    0337D 0FE8      ADD	R30,R24
    0337E 1FF9      ADC	R31,R25
    0337F 2422      CLR	R2
    03380 2433      CLR	R3
    03381 8231      STD	Z+1,R3
    03382 8220      ST	Z,R2
(0351) 	temps[i].settemp=0;
    03383 E404      LDI	R16,0x44
    03384 E011      LDI	R17,1
    03385 019A      MOVW	R18,R20
    03386 940E 3C39 CALL	empy16s
    03388 E585      LDI	R24,0x55
    03389 E094      LDI	R25,4
    0338A 01F8      MOVW	R30,R16
    0338B 0FE8      ADD	R30,R24
    0338C 1FF9      ADC	R31,R25
    0338D E904      LDI	R16,0x94
    0338E E010      LDI	R17,0
    0338F 940E 3C25 CALL	elpm32
    03391 8300      ST	Z,R16
    03392 8311      STD	Z+1,R17
    03393 8322      STD	Z+2,R18
    03394 8333      STD	Z+3,R19
(0352) 	temps[i].actualtemp=0.0;
    03395 E404      LDI	R16,0x44
    03396 E011      LDI	R17,1
    03397 019A      MOVW	R18,R20
    03398 940E 3C39 CALL	empy16s
    0339A E589      LDI	R24,0x59
    0339B E094      LDI	R25,4
    0339C 01F8      MOVW	R30,R16
    0339D 0FE8      ADD	R30,R24
    0339E 1FF9      ADC	R31,R25
    0339F E904      LDI	R16,0x94
    033A0 E010      LDI	R17,0
    033A1 940E 3C25 CALL	elpm32
    033A3 8300      ST	Z,R16
    033A4 8311      STD	Z+1,R17
    033A5 8322      STD	Z+2,R18
    033A6 8333      STD	Z+3,R19
(0353) 	temps[i].err=0;
    033A7 E404      LDI	R16,0x44
    033A8 E011      LDI	R17,1
    033A9 019A      MOVW	R18,R20
    033AA 940E 3C39 CALL	empy16s
    033AC E58D      LDI	R24,0x5D
    033AD E094      LDI	R25,4
    033AE 01F8      MOVW	R30,R16
    033AF 0FE8      ADD	R30,R24
    033B0 1FF9      ADC	R31,R25
    033B1 E904      LDI	R16,0x94
    033B2 E010      LDI	R17,0
    033B3 940E 3C25 CALL	elpm32
    033B5 8300      ST	Z,R16
    033B6 8311      STD	Z+1,R17
    033B7 8322      STD	Z+2,R18
    033B8 8333      STD	Z+3,R19
(0354) 	 temps[i].err_last=0;
    033B9 E404      LDI	R16,0x44
    033BA E011      LDI	R17,1
    033BB 019A      MOVW	R18,R20
    033BC 940E 3C39 CALL	empy16s
    033BE E681      LDI	R24,0x61
    033BF E094      LDI	R25,4
    033C0 01F8      MOVW	R30,R16
    033C1 0FE8      ADD	R30,R24
    033C2 1FF9      ADC	R31,R25
    033C3 E904      LDI	R16,0x94
    033C4 E010      LDI	R17,0
    033C5 940E 3C25 CALL	elpm32
    033C7 8300      ST	Z,R16
    033C8 8311      STD	Z+1,R17
    033C9 8322      STD	Z+2,R18
    033CA 8333      STD	Z+3,R19
(0355) 	 temps[i].err_next=0;
    033CB E404      LDI	R16,0x44
    033CC E011      LDI	R17,1
    033CD 019A      MOVW	R18,R20
    033CE 940E 3C39 CALL	empy16s
    033D0 E685      LDI	R24,0x65
    033D1 E094      LDI	R25,4
    033D2 01F8      MOVW	R30,R16
    033D3 0FE8      ADD	R30,R24
    033D4 1FF9      ADC	R31,R25
    033D5 E904      LDI	R16,0x94
    033D6 E010      LDI	R17,0
    033D7 940E 3C25 CALL	elpm32
    033D9 8300      ST	Z,R16
    033DA 8311      STD	Z+1,R17
    033DB 8322      STD	Z+2,R18
    033DC 8333      STD	Z+3,R19
(0356) 	 temps[i].Kp=0.0;
    033DD E404      LDI	R16,0x44
    033DE E011      LDI	R17,1
    033DF 019A      MOVW	R18,R20
    033E0 940E 3C39 CALL	empy16s
    033E2 E689      LDI	R24,0x69
    033E3 E094      LDI	R25,4
    033E4 01F8      MOVW	R30,R16
    033E5 0FE8      ADD	R30,R24
    033E6 1FF9      ADC	R31,R25
    033E7 E904      LDI	R16,0x94
    033E8 E010      LDI	R17,0
    033E9 940E 3C25 CALL	elpm32
    033EB 8300      ST	Z,R16
    033EC 8311      STD	Z+1,R17
    033ED 8322      STD	Z+2,R18
    033EE 8333      STD	Z+3,R19
(0357) 	 temps[i].Ki=0.0;
    033EF E404      LDI	R16,0x44
    033F0 E011      LDI	R17,1
    033F1 019A      MOVW	R18,R20
    033F2 940E 3C39 CALL	empy16s
    033F4 E68D      LDI	R24,0x6D
    033F5 E094      LDI	R25,4
    033F6 01F8      MOVW	R30,R16
    033F7 0FE8      ADD	R30,R24
    033F8 1FF9      ADC	R31,R25
    033F9 E904      LDI	R16,0x94
    033FA E010      LDI	R17,0
    033FB 940E 3C25 CALL	elpm32
    033FD 8300      ST	Z,R16
    033FE 8311      STD	Z+1,R17
    033FF 8322      STD	Z+2,R18
    03400 8333      STD	Z+3,R19
(0358) 	 temps[i].Kd=0.0;
    03401 E404      LDI	R16,0x44
    03402 E011      LDI	R17,1
    03403 019A      MOVW	R18,R20
    03404 940E 3C39 CALL	empy16s
    03406 E781      LDI	R24,0x71
    03407 E094      LDI	R25,4
    03408 01F8      MOVW	R30,R16
    03409 0FE8      ADD	R30,R24
    0340A 1FF9      ADC	R31,R25
    0340B E904      LDI	R16,0x94
    0340C E010      LDI	R17,0
    0340D 940E 3C25 CALL	elpm32
    0340F 8300      ST	Z,R16
    03410 8311      STD	Z+1,R17
    03411 8322      STD	Z+2,R18
    03412 8333      STD	Z+3,R19
(0359) 	 temps[i].incrementtemp=25.0;
    03413 E404      LDI	R16,0x44
    03414 E011      LDI	R17,1
    03415 019A      MOVW	R18,R20
    03416 940E 3C39 CALL	empy16s
    03418 E785      LDI	R24,0x75
    03419 E094      LDI	R25,4
    0341A 01F8      MOVW	R30,R16
    0341B 0FE8      ADD	R30,R24
    0341C 1FF9      ADC	R31,R25
    0341D E900      LDI	R16,0x90
    0341E E010      LDI	R17,0
    0341F 940E 3C25 CALL	elpm32
    03421 8300      ST	Z,R16
    03422 8311      STD	Z+1,R17
    03423 8322      STD	Z+2,R18
    03424 8333      STD	Z+3,R19
    03425 5F4F      SUBI	R20,0xFF
    03426 4F5F      SBCI	R21,0xFF
    03427 3044      CPI	R20,4
    03428 E0E0      LDI	R30,0
    03429 075E      CPC	R21,R30
    0342A F408      BCC	0x342C
    0342B CE93      RJMP	0x32BF
    0342C 940C 3C7A JMP	pop_xgsetF000
_data_recover:
  dataC                --> R22
  i                    --> R20
  j                    --> R22
    0342E 940E 3C9B CALL	push_xgsetF03C
(0360)  } 
(0361) }
(0362) void data_recover(void){
(0363)  uint i,j;
(0364)  uint dataC;
(0365)  for(i=0;i<4;i++){
    03430 2744      CLR	R20
    03431 2755      CLR	R21
    03432 C12C      RJMP	0x355F
(0366)    dataC=EEPROM_read(i+1,0);//读取标记位
    03433 2722      CLR	R18
    03434 2733      CLR	R19
    03435 018A      MOVW	R16,R20
    03436 5F0F      SUBI	R16,0xFF
    03437 4F1F      SBCI	R17,0xFF
    03438 940E 130B CALL	_EEPROM_read
    0343A 01B8      MOVW	R22,R16
(0367)    if(dataC==1){
    0343B 3001      CPI	R16,1
    0343C E0E0      LDI	R30,0
    0343D 071E      CPC	R17,R30
    0343E F009      BEQ	0x3440
    0343F C11D      RJMP	0x355D
(0368)       temps[i].flag=EEPROM_read(i+1,133);
    03440 E825      LDI	R18,0x85
    03441 E030      LDI	R19,0
    03442 018A      MOVW	R16,R20
    03443 5F0F      SUBI	R16,0xFF
    03444 4F1F      SBCI	R17,0xFF
    03445 940E 130B CALL	_EEPROM_read
    03447 0118      MOVW	R2,R16
    03448 E404      LDI	R16,0x44
    03449 E011      LDI	R17,1
    0344A 019A      MOVW	R18,R20
    0344B 940E 3C39 CALL	empy16s
    0344D E385      LDI	R24,0x35
    0344E E093      LDI	R25,3
    0344F 01F8      MOVW	R30,R16
    03450 0FE8      ADD	R30,R24
    03451 1FF9      ADC	R31,R25
    03452 8231      STD	Z+1,R3
    03453 8220      ST	Z,R2
(0369) 	  if(temps[i].flag==1 || temps[i].flag==3){
    03454 E404      LDI	R16,0x44
    03455 E011      LDI	R17,1
    03456 019A      MOVW	R18,R20
    03457 940E 3C39 CALL	empy16s
    03459 E385      LDI	R24,0x35
    0345A E093      LDI	R25,3
    0345B 01F8      MOVW	R30,R16
    0345C 0FE8      ADD	R30,R24
    0345D 1FF9      ADC	R31,R25
    0345E 8160      LD	R22,Z
    0345F 8171      LDD	R23,Z+1
    03460 3061      CPI	R22,1
    03461 E0E0      LDI	R30,0
    03462 077E      CPC	R23,R30
    03463 F029      BEQ	0x3469
    03464 3063      CPI	R22,3
    03465 E0E0      LDI	R30,0
    03466 077E      CPC	R23,R30
    03467 F009      BEQ	0x3469
    03468 C0D1      RJMP	0x353A
(0370) 	    temps[i].status=EEPROM_read(i+1,134);
    03469 E826      LDI	R18,0x86
    0346A E030      LDI	R19,0
    0346B 018A      MOVW	R16,R20
    0346C 5F0F      SUBI	R16,0xFF
    0346D 4F1F      SBCI	R17,0xFF
    0346E 940E 130B CALL	_EEPROM_read
    03470 0158      MOVW	R10,R16
    03471 E404      LDI	R16,0x44
    03472 E011      LDI	R17,1
    03473 019A      MOVW	R18,R20
    03474 940E 3C39 CALL	empy16s
    03476 E38F      LDI	R24,0x3F
    03477 E094      LDI	R25,4
    03478 01F8      MOVW	R30,R16
    03479 0FE8      ADD	R30,R24
    0347A 1FF9      ADC	R31,R25
    0347B 82B1      STD	Z+1,R11
    0347C 82A0      ST	Z,R10
(0371) 	    temps[i].needtime =EEPROM_read(i+1,135)<<8 | EEPROM_read(i+1,136);
    0347D E827      LDI	R18,0x87
    0347E E030      LDI	R19,0
    0347F 018A      MOVW	R16,R20
    03480 5F0F      SUBI	R16,0xFF
    03481 4F1F      SBCI	R17,0xFF
    03482 940E 130B CALL	_EEPROM_read
    03484 0168      MOVW	R12,R16
    03485 E828      LDI	R18,0x88
    03486 E030      LDI	R19,0
    03487 018A      MOVW	R16,R20
    03488 5F0F      SUBI	R16,0xFF
    03489 4F1F      SBCI	R17,0xFF
    0348A 940E 130B CALL	_EEPROM_read
    0348C 0158      MOVW	R10,R16
    0348D E404      LDI	R16,0x44
    0348E E011      LDI	R17,1
    0348F 019A      MOVW	R18,R20
    03490 940E 3C39 CALL	empy16s
    03492 E481      LDI	R24,0x41
    03493 E094      LDI	R25,4
    03494 01F8      MOVW	R30,R16
    03495 0FE8      ADD	R30,R24
    03496 1FF9      ADC	R31,R25
    03497 0116      MOVW	R2,R12
    03498 2C32      MOV	R3,R2
    03499 2422      CLR	R2
    0349A 282A      OR	R2,R10
    0349B 283B      OR	R3,R11
    0349C 8231      STD	Z+1,R3
    0349D 8220      ST	Z,R2
(0372) 		temps[i].nowtime=EEPROM_read(i+1,137)<<8  | EEPROM_read(i+1,138);
    0349E E829      LDI	R18,0x89
    0349F E030      LDI	R19,0
    034A0 018A      MOVW	R16,R20
    034A1 5F0F      SUBI	R16,0xFF
    034A2 4F1F      SBCI	R17,0xFF
    034A3 940E 130B CALL	_EEPROM_read
    034A5 0168      MOVW	R12,R16
    034A6 E82A      LDI	R18,0x8A
    034A7 E030      LDI	R19,0
    034A8 018A      MOVW	R16,R20
    034A9 5F0F      SUBI	R16,0xFF
    034AA 4F1F      SBCI	R17,0xFF
    034AB 940E 130B CALL	_EEPROM_read
    034AD 0158      MOVW	R10,R16
    034AE E404      LDI	R16,0x44
    034AF E011      LDI	R17,1
    034B0 019A      MOVW	R18,R20
    034B1 940E 3C39 CALL	empy16s
    034B3 E483      LDI	R24,0x43
    034B4 E094      LDI	R25,4
    034B5 01F8      MOVW	R30,R16
    034B6 0FE8      ADD	R30,R24
    034B7 1FF9      ADC	R31,R25
    034B8 0116      MOVW	R2,R12
    034B9 2C32      MOV	R3,R2
    034BA 2422      CLR	R2
    034BB 282A      OR	R2,R10
    034BC 283B      OR	R3,R11
    034BD 8231      STD	Z+1,R3
    034BE 8220      ST	Z,R2
(0373) 	    temps[i].pertime=EEPROM_read(i+1,139)<<8 | EEPROM_read(i+1,140);
    034BF E82B      LDI	R18,0x8B
    034C0 E030      LDI	R19,0
    034C1 018A      MOVW	R16,R20
    034C2 5F0F      SUBI	R16,0xFF
    034C3 4F1F      SBCI	R17,0xFF
    034C4 940E 130B CALL	_EEPROM_read
    034C6 0168      MOVW	R12,R16
    034C7 E82C      LDI	R18,0x8C
    034C8 E030      LDI	R19,0
    034C9 018A      MOVW	R16,R20
    034CA 5F0F      SUBI	R16,0xFF
    034CB 4F1F      SBCI	R17,0xFF
    034CC 940E 130B CALL	_EEPROM_read
    034CE 0158      MOVW	R10,R16
    034CF E404      LDI	R16,0x44
    034D0 E011      LDI	R17,1
    034D1 019A      MOVW	R18,R20
    034D2 940E 3C39 CALL	empy16s
    034D4 E485      LDI	R24,0x45
    034D5 E094      LDI	R25,4
    034D6 01F8      MOVW	R30,R16
    034D7 0FE8      ADD	R30,R24
    034D8 1FF9      ADC	R31,R25
    034D9 0116      MOVW	R2,R12
    034DA 2C32      MOV	R3,R2
    034DB 2422      CLR	R2
    034DC 282A      OR	R2,R10
    034DD 283B      OR	R3,R11
    034DE 8231      STD	Z+1,R3
    034DF 8220      ST	Z,R2
(0374) 	    temps[i].statusflag=EEPROM_read(i+1,141);
    034E0 E82D      LDI	R18,0x8D
    034E1 E030      LDI	R19,0
    034E2 018A      MOVW	R16,R20
    034E3 5F0F      SUBI	R16,0xFF
    034E4 4F1F      SBCI	R17,0xFF
    034E5 940E 130B CALL	_EEPROM_read
    034E7 0158      MOVW	R10,R16
    034E8 E404      LDI	R16,0x44
    034E9 E011      LDI	R17,1
    034EA 019A      MOVW	R18,R20
    034EB 940E 3C39 CALL	empy16s
    034ED E489      LDI	R24,0x49
    034EE E094      LDI	R25,4
    034EF 01F8      MOVW	R30,R16
    034F0 0FE8      ADD	R30,R24
    034F1 1FF9      ADC	R31,R25
    034F2 82B1      STD	Z+1,R11
    034F3 82A0      ST	Z,R10
(0375) 	    temps[i].p_settemp=EEPROM_read(i+1,142)<<8  | EEPROM_read(i+1,143);
    034F4 E82E      LDI	R18,0x8E
    034F5 E030      LDI	R19,0
    034F6 018A      MOVW	R16,R20
    034F7 5F0F      SUBI	R16,0xFF
    034F8 4F1F      SBCI	R17,0xFF
    034F9 940E 130B CALL	_EEPROM_read
    034FB 0168      MOVW	R12,R16
    034FC E82F      LDI	R18,0x8F
    034FD E030      LDI	R19,0
    034FE 018A      MOVW	R16,R20
    034FF 5F0F      SUBI	R16,0xFF
    03500 4F1F      SBCI	R17,0xFF
    03501 940E 130B CALL	_EEPROM_read
    03503 0158      MOVW	R10,R16
    03504 E404      LDI	R16,0x44
    03505 E011      LDI	R17,1
    03506 019A      MOVW	R18,R20
    03507 940E 3C39 CALL	empy16s
    03509 E48B      LDI	R24,0x4B
    0350A E094      LDI	R25,4
    0350B 01F8      MOVW	R30,R16
    0350C 0FE8      ADD	R30,R24
    0350D 1FF9      ADC	R31,R25
    0350E 0116      MOVW	R2,R12
    0350F 2C32      MOV	R3,R2
    03510 2422      CLR	R2
    03511 282A      OR	R2,R10
    03512 283B      OR	R3,R11
    03513 8231      STD	Z+1,R3
    03514 8220      ST	Z,R2
(0376) 	    temps[i].settemp=EEPROM_read(i+1,144)<<8 | EEPROM_read(i+1,145);
    03515 E920      LDI	R18,0x90
    03516 E030      LDI	R19,0
    03517 018A      MOVW	R16,R20
    03518 5F0F      SUBI	R16,0xFF
    03519 4F1F      SBCI	R17,0xFF
    0351A 940E 130B CALL	_EEPROM_read
    0351C 0168      MOVW	R12,R16
    0351D E921      LDI	R18,0x91
    0351E E030      LDI	R19,0
    0351F 018A      MOVW	R16,R20
    03520 5F0F      SUBI	R16,0xFF
    03521 4F1F      SBCI	R17,0xFF
    03522 940E 130B CALL	_EEPROM_read
    03524 0158      MOVW	R10,R16
    03525 E404      LDI	R16,0x44
    03526 E011      LDI	R17,1
    03527 019A      MOVW	R18,R20
    03528 940E 3C39 CALL	empy16s
    0352A E585      LDI	R24,0x55
    0352B E094      LDI	R25,4
    0352C 01F8      MOVW	R30,R16
    0352D 0FE8      ADD	R30,R24
    0352E 1FF9      ADC	R31,R25
    0352F 0186      MOVW	R16,R12
    03530 2F10      MOV	R17,R16
    03531 2700      CLR	R16
    03532 290A      OR	R16,R10
    03533 291B      OR	R17,R11
    03534 940E 3DB8 CALL	uint2fp
    03536 8300      ST	Z,R16
    03537 8311      STD	Z+1,R17
    03538 8322      STD	Z+2,R18
    03539 8333      STD	Z+3,R19
(0377) 	  }
(0378) 	  for(j=0;j<132;j++){
    0353A 2766      CLR	R22
    0353B 2777      CLR	R23
    0353C C01C      RJMP	0x3559
(0379) 	    temps[i].temp_data[j]=EEPROM_read(i+1,j+1);
    0353D 019B      MOVW	R18,R22
    0353E 5F2F      SUBI	R18,0xFF
    0353F 4F3F      SBCI	R19,0xFF
    03540 018A      MOVW	R16,R20
    03541 5F0F      SUBI	R16,0xFF
    03542 4F1F      SBCI	R17,0xFF
    03543 940E 130B CALL	_EEPROM_read
    03545 0158      MOVW	R10,R16
    03546 E404      LDI	R16,0x44
    03547 E011      LDI	R17,1
    03548 019A      MOVW	R18,R20
    03549 940E 3C39 CALL	empy16s
    0354B 0118      MOVW	R2,R16
    0354C E387      LDI	R24,0x37
    0354D E093      LDI	R25,3
    0354E 0E28      ADD	R2,R24
    0354F 1E39      ADC	R3,R25
    03550 01FB      MOVW	R30,R22
    03551 0FEE      LSL	R30
    03552 1FFF      ROL	R31
    03553 0DE2      ADD	R30,R2
    03554 1DF3      ADC	R31,R3
    03555 82B1      STD	Z+1,R11
    03556 82A0      ST	Z,R10
    03557 5F6F      SUBI	R22,0xFF
    03558 4F7F      SBCI	R23,0xFF
    03559 3864      CPI	R22,0x84
    0355A E0E0      LDI	R30,0
    0355B 077E      CPC	R23,R30
    0355C F300      BCS	0x353D
    0355D 5F4F      SUBI	R20,0xFF
    0355E 4F5F      SBCI	R21,0xFF
    0355F 3044      CPI	R20,4
    03560 E0E0      LDI	R30,0
    03561 075E      CPC	R21,R30
    03562 F408      BCC	0x3564
    03563 CECF      RJMP	0x3433
    03564 940C 3CA4 JMP	pop_xgsetF03C
_set_temp_data:
  head                 --> R20
  j                    --> R10
  dataCach             --> R12
  t                    --> R22
    03566 940E 3C9B CALL	push_xgsetF03C
    03568 0169      MOVW	R12,R18
    03569 01B8      MOVW	R22,R16
    0356A 9722      SBIW	R28,2
(0380) 	   }
(0381) 	}
(0382)  } 
(0383) }
(0384) 
(0385) //设置指定的数据,保存相关标志位。会将设置的我温度参数发送到串口
(0386) void set_temp_data(uint t,uint* dataCach){
(0387)     uint j;
(0388) 	uint  head;
(0389) 	TCCR3B=0x00;//关闭计时器
    0356B 2422      CLR	R2
    0356C 9220 008A STS	0x8A,R2
(0390) 	UCSR0B &=~(1<<UDRIE0);//关中断
    0356E 9855      CBI	0x0A,5
(0391) 	send_data_length=134;
    0356F E886      LDI	R24,0x86
    03570 E090      LDI	R25,0
    03571 9390 032A STS	send_data_length+1,R25
    03573 9380 0329 STS	send_data_length,R24
(0392) 	send_data_cur=0;
    03575 2433      CLR	R3
    03576 9230 032C STS	send_data_cur+1,R3
    03578 9220 032B STS	send_data_cur,R2
(0393) 	if(t==0){
    0357A 3060      CPI	R22,0
    0357B 0767      CPC	R22,R23
    0357C F419      BNE	0x3580
(0394) 	  head=0x61;//a
    0357D E641      LDI	R20,0x61
    0357E E050      LDI	R21,0
(0395) 	}else if(t==1){
    0357F C014      RJMP	0x3594
    03580 3061      CPI	R22,1
    03581 E0E0      LDI	R30,0
    03582 077E      CPC	R23,R30
    03583 F419      BNE	0x3587
(0396) 	  head=0x62;//b
    03584 E642      LDI	R20,0x62
    03585 E050      LDI	R21,0
(0397) 	}else if(t==2){
    03586 C00D      RJMP	0x3594
    03587 3062      CPI	R22,2
    03588 E0E0      LDI	R30,0
    03589 077E      CPC	R23,R30
    0358A F419      BNE	0x358E
(0398) 	  head=0x63;//c
    0358B E643      LDI	R20,0x63
    0358C E050      LDI	R21,0
(0399) 	}else if(t==3){
    0358D C006      RJMP	0x3594
    0358E 3063      CPI	R22,3
    0358F E0E0      LDI	R30,0
    03590 077E      CPC	R23,R30
    03591 F411      BNE	0x3594
(0400) 	  head=0x64;//d 
    03592 E644      LDI	R20,0x64
    03593 E050      LDI	R21,0
(0401) 	}
(0402) 	send_data_cache[0]=head;
    03594 9350 021C STS	send_data_cache+1,R21
    03596 9340 021B STS	send_data_cache,R20
(0403) 	temps[t].flag=6;
    03598 E404      LDI	R16,0x44
    03599 E011      LDI	R17,1
    0359A 019B      MOVW	R18,R22
    0359B 940E 3C39 CALL	empy16s
    0359D E385      LDI	R24,0x35
    0359E E093      LDI	R25,3
    0359F 01F8      MOVW	R30,R16
    035A0 0FE8      ADD	R30,R24
    035A1 1FF9      ADC	R31,R25
    035A2 E086      LDI	R24,6
    035A3 E090      LDI	R25,0
    035A4 8391      STD	Z+1,R25
    035A5 8380      ST	Z,R24
(0404) 	EEPROM_write(t+1,0,0x01);
    035A6 E081      LDI	R24,1
    035A7 8399      STD	Y+1,R25
    035A8 8388      ST	Y,R24
    035A9 2722      CLR	R18
    035AA 2733      CLR	R19
    035AB 018B      MOVW	R16,R22
    035AC 5F0F      SUBI	R16,0xFF
    035AD 4F1F      SBCI	R17,0xFF
    035AE 940E 12F4 CALL	_EEPROM_write
(0405) 	EEPROM_write(t+1,133,6);
    035B0 E086      LDI	R24,6
    035B1 E090      LDI	R25,0
    035B2 8399      STD	Y+1,R25
    035B3 8388      ST	Y,R24
    035B4 E825      LDI	R18,0x85
    035B5 E030      LDI	R19,0
    035B6 018B      MOVW	R16,R22
    035B7 5F0F      SUBI	R16,0xFF
    035B8 4F1F      SBCI	R17,0xFF
    035B9 940E 12F4 CALL	_EEPROM_write
(0406)     for(j=0;j<132;j++){
    035BB 24AA      CLR	R10
    035BC 24BB      CLR	R11
    035BD C051      RJMP	0x360F
(0407) 	   temps[t].temp_data[j]=*(dataCach+j);
    035BE 0115      MOVW	R2,R10
    035BF 0C22      LSL	R2
    035C0 1C33      ROL	R3
    035C1 0121      MOVW	R4,R2
    035C2 E404      LDI	R16,0x44
    035C3 E011      LDI	R17,1
    035C4 019B      MOVW	R18,R22
    035C5 940E 3C39 CALL	empy16s
    035C7 0118      MOVW	R2,R16
    035C8 E387      LDI	R24,0x37
    035C9 E093      LDI	R25,3
    035CA 0E28      ADD	R2,R24
    035CB 1E39      ADC	R3,R25
    035CC 01F2      MOVW	R30,R4
    035CD 0DE2      ADD	R30,R2
    035CE 1DF3      ADC	R31,R3
    035CF 01D2      MOVW	R26,R4
    035D0 0DAC      ADD	R26,R12
    035D1 1DBD      ADC	R27,R13
    035D2 902D      LD	R2,X+
    035D3 903C      LD	R3,X
    035D4 8231      STD	Z+1,R3
    035D5 8220      ST	Z,R2
(0408) 	   send_data_cache[j+1]=temps[t].temp_data[j];
    035D6 E404      LDI	R16,0x44
    035D7 E011      LDI	R17,1
    035D8 019B      MOVW	R18,R22
    035D9 940E 3C39 CALL	empy16s
    035DB 0118      MOVW	R2,R16
    035DC E387      LDI	R24,0x37
    035DD E093      LDI	R25,3
    035DE 0E28      ADD	R2,R24
    035DF 1E39      ADC	R3,R25
    035E0 01F5      MOVW	R30,R10
    035E1 0FEE      LSL	R30
    035E2 1FFF      ROL	R31
    035E3 0DE2      ADD	R30,R2
    035E4 1DF3      ADC	R31,R3
    035E5 8020      LD	R2,Z
    035E6 8031      LDD	R3,Z+1
    035E7 E18B      LDI	R24,0x1B
    035E8 E092      LDI	R25,2
    035E9 01F5      MOVW	R30,R10
    035EA 9631      ADIW	R30,1
    035EB 0FEE      LSL	R30
    035EC 1FFF      ROL	R31
    035ED 0FE8      ADD	R30,R24
    035EE 1FF9      ADC	R31,R25
    035EF 8231      STD	Z+1,R3
    035F0 8220      ST	Z,R2
(0409) 	   EEPROM_write(t+1,j+1,temps[t].temp_data[j]);//这里要保存的
    035F1 E404      LDI	R16,0x44
    035F2 E011      LDI	R17,1
    035F3 019B      MOVW	R18,R22
    035F4 940E 3C39 CALL	empy16s
    035F6 0118      MOVW	R2,R16
    035F7 E387      LDI	R24,0x37
    035F8 E093      LDI	R25,3
    035F9 0E28      ADD	R2,R24
    035FA 1E39      ADC	R3,R25
    035FB 01F5      MOVW	R30,R10
    035FC 0FEE      LSL	R30
    035FD 1FFF      ROL	R31
    035FE 0DE2      ADD	R30,R2
    035FF 1DF3      ADC	R31,R3
    03600 8020      LD	R2,Z
    03601 8031      LDD	R3,Z+1
    03602 8239      STD	Y+1,R3
    03603 8228      ST	Y,R2
    03604 0195      MOVW	R18,R10
    03605 5F2F      SUBI	R18,0xFF
    03606 4F3F      SBCI	R19,0xFF
    03607 018B      MOVW	R16,R22
    03608 5F0F      SUBI	R16,0xFF
    03609 4F1F      SBCI	R17,0xFF
    0360A 940E 12F4 CALL	_EEPROM_write
    0360C 01C5      MOVW	R24,R10
    0360D 9601      ADIW	R24,1
    0360E 015C      MOVW	R10,R24
    0360F 01C5      MOVW	R24,R10
    03610 3884      CPI	R24,0x84
    03611 E0E0      LDI	R30,0
    03612 079E      CPC	R25,R30
    03613 F408      BCC	0x3615
    03614 CFA9      RJMP	0x35BE
(0410) 	}
(0411) 	send_data_cache[133]=head;
    03615 9350 0326 STS	send_data_cache+267,R21
    03617 9340 0325 STS	send_data_cache+266,R20
(0412) 	UCSR0B |=(1<<UDRIE0); //发送使中断能。
    03619 9A55      SBI	0x0A,5
(0413) 	delay_us(10);
    0361A E00A      LDI	R16,0xA
    0361B E010      LDI	R17,0
    0361C 940E 0551 CALL	_delay_us
(0414) 	TCCR3B=0x05;//打开计时器
    0361E E085      LDI	R24,5
    0361F 9380 008A STS	0x8A,R24
(0415) 	return;
    03621 9622      ADIW	R28,2
    03622 940C 3CA4 JMP	pop_xgsetF03C
_send_temp_data:
  head                 --> R20
  j                    --> R22
  t                    --> R10
    03624 940E 3C7F CALL	push_xgsetF00C
    03626 0158      MOVW	R10,R16
(0416) }
(0417) //发送指定温度参数到串口。由上位机请求发送
(0418) void send_temp_data(uint t){
(0419)     uint j;
(0420) 	uint  head;
(0421) 	TCCR3B=0x00;//关闭计时器
    03627 2422      CLR	R2
    03628 9220 008A STS	0x8A,R2
(0422) 	UCSR0B &=~(1<<UDRIE0);//关中断
    0362A 9855      CBI	0x0A,5
(0423) 	send_data_length=134;
    0362B E886      LDI	R24,0x86
    0362C E090      LDI	R25,0
    0362D 9390 032A STS	send_data_length+1,R25
    0362F 9380 0329 STS	send_data_length,R24
(0424) 	send_data_cur=0;
    03631 2433      CLR	R3
    03632 9230 032C STS	send_data_cur+1,R3
    03634 9220 032B STS	send_data_cur,R2
(0425) 	if(t==0){
    03636 20AA      TST	R10
    03637 F429      BNE	0x363D
    03638 20BB      TST	R11
    03639 F419      BNE	0x363D
(0426) 	  head=0x61;//a
    0363A E641      LDI	R20,0x61
    0363B E050      LDI	R21,0
(0427) 	}else if(t==1){
    0363C C017      RJMP	0x3654
    0363D 01C5      MOVW	R24,R10
    0363E 3081      CPI	R24,1
    0363F E0E0      LDI	R30,0
    03640 079E      CPC	R25,R30
    03641 F419      BNE	0x3645
(0428) 	  head=0x62;//b
    03642 E642      LDI	R20,0x62
    03643 E050      LDI	R21,0
(0429) 	}else if(t==2){
    03644 C00F      RJMP	0x3654
    03645 01C5      MOVW	R24,R10
    03646 3082      CPI	R24,2
    03647 E0E0      LDI	R30,0
    03648 079E      CPC	R25,R30
    03649 F419      BNE	0x364D
(0430) 	  head=0x63;//c
    0364A E643      LDI	R20,0x63
    0364B E050      LDI	R21,0
(0431) 	}else if(t==3){
    0364C C007      RJMP	0x3654
    0364D 01C5      MOVW	R24,R10
    0364E 3083      CPI	R24,3
    0364F E0E0      LDI	R30,0
    03650 079E      CPC	R25,R30
    03651 F411      BNE	0x3654
(0432) 	  head=0x64;//d 
    03652 E644      LDI	R20,0x64
    03653 E050      LDI	R21,0
(0433) 	}
(0434) 	send_data_cache[0]=head;
    03654 9350 021C STS	send_data_cache+1,R21
    03656 9340 021B STS	send_data_cache,R20
(0435)     for(j=0;j<132;j++){
    03658 2766      CLR	R22
    03659 2777      CLR	R23
    0365A C01D      RJMP	0x3678
(0436) 	   send_data_cache[j+1]= temps[t].temp_data[j];
    0365B E404      LDI	R16,0x44
    0365C E011      LDI	R17,1
    0365D 0195      MOVW	R18,R10
    0365E 940E 3C39 CALL	empy16s
    03660 0118      MOVW	R2,R16
    03661 E387      LDI	R24,0x37
    03662 E093      LDI	R25,3
    03663 0E28      ADD	R2,R24
    03664 1E39      ADC	R3,R25
    03665 01FB      MOVW	R30,R22
    03666 0FEE      LSL	R30
    03667 1FFF      ROL	R31
    03668 0DE2      ADD	R30,R2
    03669 1DF3      ADC	R31,R3
    0366A 8020      LD	R2,Z
    0366B 8031      LDD	R3,Z+1
    0366C E18B      LDI	R24,0x1B
    0366D E092      LDI	R25,2
    0366E 01FB      MOVW	R30,R22
    0366F 9631      ADIW	R30,1
    03670 0FEE      LSL	R30
    03671 1FFF      ROL	R31
    03672 0FE8      ADD	R30,R24
    03673 1FF9      ADC	R31,R25
    03674 8231      STD	Z+1,R3
    03675 8220      ST	Z,R2
    03676 5F6F      SUBI	R22,0xFF
    03677 4F7F      SBCI	R23,0xFF
    03678 3864      CPI	R22,0x84
    03679 E0E0      LDI	R30,0
    0367A 077E      CPC	R23,R30
    0367B F2F8      BCS	0x365B
(0437) 	}
(0438) 	send_data_cache[133]=head;
    0367C 9350 0326 STS	send_data_cache+267,R21
    0367E 9340 0325 STS	send_data_cache+266,R20
(0439) 	UCSR0B |=(1<<UDRIE0); //发送使中断能。
    03680 9A55      SBI	0x0A,5
(0440) 	delay_us(10);
    03681 E00A      LDI	R16,0xA
    03682 E010      LDI	R17,0
    03683 940E 0551 CALL	_delay_us
(0441) 	TCCR3B=0x05;//打开计时器
    03685 E085      LDI	R24,5
    03686 9380 008A STS	0x8A,R24
(0442) 	return;
    03688 940C 3C86 JMP	pop_xgsetF00C
_reset_temp_data:
  j                    --> R22
  t                    --> R20
    0368A 940E 3C75 CALL	push_xgsetF000
    0368C 01A8      MOVW	R20,R16
    0368D 9722      SBIW	R28,2
(0443) }
(0444) 
(0445) //重置指定的数据,保存相关标志位
(0446) void reset_temp_data(uint t){
(0447)     uint j;
(0448) 	temps[t].flag=0;
    0368E E404      LDI	R16,0x44
    0368F E011      LDI	R17,1
    03690 019A      MOVW	R18,R20
    03691 940E 3C39 CALL	empy16s
    03693 E385      LDI	R24,0x35
    03694 E093      LDI	R25,3
    03695 01F8      MOVW	R30,R16
    03696 0FE8      ADD	R30,R24
    03697 1FF9      ADC	R31,R25
    03698 2422      CLR	R2
    03699 2433      CLR	R3
    0369A 8231      STD	Z+1,R3
    0369B 8220      ST	Z,R2
(0449) 	temps[t].status=0;
    0369C E404      LDI	R16,0x44
    0369D E011      LDI	R17,1
    0369E 019A      MOVW	R18,R20
    0369F 940E 3C39 CALL	empy16s
    036A1 E38F      LDI	R24,0x3F
    036A2 E094      LDI	R25,4
    036A3 01F8      MOVW	R30,R16
    036A4 0FE8      ADD	R30,R24
    036A5 1FF9      ADC	R31,R25
    036A6 2422      CLR	R2
    036A7 2433      CLR	R3
    036A8 8231      STD	Z+1,R3
    036A9 8220      ST	Z,R2
(0450) 	temps[t].statusflag=1;//是否第一次进入当前状态,1、第一次；0、不是第一次
    036AA E404      LDI	R16,0x44
    036AB E011      LDI	R17,1
    036AC 019A      MOVW	R18,R20
    036AD 940E 3C39 CALL	empy16s
    036AF E489      LDI	R24,0x49
    036B0 E094      LDI	R25,4
    036B1 01F8      MOVW	R30,R16
    036B2 0FE8      ADD	R30,R24
    036B3 1FF9      ADC	R31,R25
    036B4 E081      LDI	R24,1
    036B5 E090      LDI	R25,0
    036B6 8391      STD	Z+1,R25
    036B7 8380      ST	Z,R24
(0451) 		//控制相关
(0452) 	temps[t].p_settemp=0;//升温时候的小阶段需要温度
    036B8 E404      LDI	R16,0x44
    036B9 E011      LDI	R17,1
    036BA 019A      MOVW	R18,R20
    036BB 940E 3C39 CALL	empy16s
    036BD E48B      LDI	R24,0x4B
    036BE E094      LDI	R25,4
    036BF 01F8      MOVW	R30,R16
    036C0 0FE8      ADD	R30,R24
    036C1 1FF9      ADC	R31,R25
    036C2 2422      CLR	R2
    036C3 2433      CLR	R3
    036C4 8231      STD	Z+1,R3
    036C5 8220      ST	Z,R2
(0453) 	temps[t].p_err_next=0;//升温阶段控制使用
    036C6 E404      LDI	R16,0x44
    036C7 E011      LDI	R17,1
    036C8 019A      MOVW	R18,R20
    036C9 940E 3C39 CALL	empy16s
    036CB E48D      LDI	R24,0x4D
    036CC E094      LDI	R25,4
    036CD 01F8      MOVW	R30,R16
    036CE 0FE8      ADD	R30,R24
    036CF 1FF9      ADC	R31,R25
    036D0 2422      CLR	R2
    036D1 2433      CLR	R3
    036D2 8231      STD	Z+1,R3
    036D3 8220      ST	Z,R2
(0454)     temps[t].p_err_last=0;
    036D4 E404      LDI	R16,0x44
    036D5 E011      LDI	R17,1
    036D6 019A      MOVW	R18,R20
    036D7 940E 3C39 CALL	empy16s
    036D9 E583      LDI	R24,0x53
    036DA E094      LDI	R25,4
    036DB 01F8      MOVW	R30,R16
    036DC 0FE8      ADD	R30,R24
    036DD 1FF9      ADC	R31,R25
    036DE 2422      CLR	R2
    036DF 2433      CLR	R3
    036E0 8231      STD	Z+1,R3
    036E1 8220      ST	Z,R2
(0455) 	 temps[t].err_last=0;
    036E2 E404      LDI	R16,0x44
    036E3 E011      LDI	R17,1
    036E4 019A      MOVW	R18,R20
    036E5 940E 3C39 CALL	empy16s
    036E7 E681      LDI	R24,0x61
    036E8 E094      LDI	R25,4
    036E9 01F8      MOVW	R30,R16
    036EA 0FE8      ADD	R30,R24
    036EB 1FF9      ADC	R31,R25
    036EC E904      LDI	R16,0x94
    036ED E010      LDI	R17,0
    036EE 940E 3C25 CALL	elpm32
    036F0 8300      ST	Z,R16
    036F1 8311      STD	Z+1,R17
    036F2 8322      STD	Z+2,R18
    036F3 8333      STD	Z+3,R19
(0456) 	 temps[t].err_next=0;
    036F4 E404      LDI	R16,0x44
    036F5 E011      LDI	R17,1
    036F6 019A      MOVW	R18,R20
    036F7 940E 3C39 CALL	empy16s
    036F9 E685      LDI	R24,0x65
    036FA E094      LDI	R25,4
    036FB 01F8      MOVW	R30,R16
    036FC 0FE8      ADD	R30,R24
    036FD 1FF9      ADC	R31,R25
    036FE E904      LDI	R16,0x94
    036FF E010      LDI	R17,0
    03700 940E 3C25 CALL	elpm32
    03702 8300      ST	Z,R16
    03703 8311      STD	Z+1,R17
    03704 8322      STD	Z+2,R18
    03705 8333      STD	Z+3,R19
(0457) 	
(0458) 	EEPROM_write(t+1,0,0x00);
    03706 2422      CLR	R2
    03707 2433      CLR	R3
    03708 8239      STD	Y+1,R3
    03709 8228      ST	Y,R2
    0370A 2722      CLR	R18
    0370B 2733      CLR	R19
    0370C 018A      MOVW	R16,R20
    0370D 5F0F      SUBI	R16,0xFF
    0370E 4F1F      SBCI	R17,0xFF
    0370F 940E 12F4 CALL	_EEPROM_write
(0459) 	EEPROM_write(t+1,133,0x00);
    03711 2422      CLR	R2
    03712 2433      CLR	R3
    03713 8239      STD	Y+1,R3
    03714 8228      ST	Y,R2
    03715 E825      LDI	R18,0x85
    03716 E030      LDI	R19,0
    03717 018A      MOVW	R16,R20
    03718 5F0F      SUBI	R16,0xFF
    03719 4F1F      SBCI	R17,0xFF
    0371A 940E 12F4 CALL	_EEPROM_write
(0460)     for(j=0;j<132;j++){
    0371C 2766      CLR	R22
    0371D 2777      CLR	R23
    0371E C01F      RJMP	0x373E
(0461) 	   temps[t].temp_data[j]=0;
    0371F E404      LDI	R16,0x44
    03720 E011      LDI	R17,1
    03721 019A      MOVW	R18,R20
    03722 940E 3C39 CALL	empy16s
    03724 0118      MOVW	R2,R16
    03725 E387      LDI	R24,0x37
    03726 E093      LDI	R25,3
    03727 0E28      ADD	R2,R24
    03728 1E39      ADC	R3,R25
    03729 01FB      MOVW	R30,R22
    0372A 0FEE      LSL	R30
    0372B 1FFF      ROL	R31
    0372C 0DE2      ADD	R30,R2
    0372D 1DF3      ADC	R31,R3
    0372E 2422      CLR	R2
    0372F 2433      CLR	R3
    03730 8231      STD	Z+1,R3
    03731 8220      ST	Z,R2
(0462) 	   EEPROM_write(t+1,j+1,0);//这里要保存的
    03732 8239      STD	Y+1,R3
    03733 8228      ST	Y,R2
    03734 019B      MOVW	R18,R22
    03735 5F2F      SUBI	R18,0xFF
    03736 4F3F      SBCI	R19,0xFF
    03737 018A      MOVW	R16,R20
    03738 5F0F      SUBI	R16,0xFF
    03739 4F1F      SBCI	R17,0xFF
    0373A 940E 12F4 CALL	_EEPROM_write
    0373C 5F6F      SUBI	R22,0xFF
    0373D 4F7F      SBCI	R23,0xFF
    0373E 3864      CPI	R22,0x84
    0373F E0E0      LDI	R30,0
    03740 077E      CPC	R23,R30
    03741 F2E8      BCS	0x371F
(0463) 	}
(0464) 	 EEPROM_write(t+1,134,0);
    03742 2422      CLR	R2
    03743 2433      CLR	R3
    03744 8239      STD	Y+1,R3
    03745 8228      ST	Y,R2
    03746 E826      LDI	R18,0x86
    03747 E030      LDI	R19,0
    03748 018A      MOVW	R16,R20
    03749 5F0F      SUBI	R16,0xFF
    0374A 4F1F      SBCI	R17,0xFF
    0374B 940E 12F4 CALL	_EEPROM_write
(0465) 	 EEPROM_write(t+1,135,0);
    0374D 2422      CLR	R2
    0374E 2433      CLR	R3
    0374F 8239      STD	Y+1,R3
    03750 8228      ST	Y,R2
    03751 E827      LDI	R18,0x87
    03752 E030      LDI	R19,0
    03753 018A      MOVW	R16,R20
    03754 5F0F      SUBI	R16,0xFF
    03755 4F1F      SBCI	R17,0xFF
    03756 940E 12F4 CALL	_EEPROM_write
(0466) 	 EEPROM_write(t+1,136,0);
    03758 2422      CLR	R2
    03759 2433      CLR	R3
    0375A 8239      STD	Y+1,R3
    0375B 8228      ST	Y,R2
    0375C E828      LDI	R18,0x88
    0375D E030      LDI	R19,0
    0375E 018A      MOVW	R16,R20
    0375F 5F0F      SUBI	R16,0xFF
    03760 4F1F      SBCI	R17,0xFF
    03761 940E 12F4 CALL	_EEPROM_write
(0467) 	 EEPROM_write(t+1,137,0);
    03763 2422      CLR	R2
    03764 2433      CLR	R3
    03765 8239      STD	Y+1,R3
    03766 8228      ST	Y,R2
    03767 E829      LDI	R18,0x89
    03768 E030      LDI	R19,0
    03769 018A      MOVW	R16,R20
    0376A 5F0F      SUBI	R16,0xFF
    0376B 4F1F      SBCI	R17,0xFF
    0376C 940E 12F4 CALL	_EEPROM_write
(0468) 	 EEPROM_write(t+1,138,0);
    0376E 2422      CLR	R2
    0376F 2433      CLR	R3
    03770 8239      STD	Y+1,R3
    03771 8228      ST	Y,R2
    03772 E82A      LDI	R18,0x8A
    03773 E030      LDI	R19,0
    03774 018A      MOVW	R16,R20
    03775 5F0F      SUBI	R16,0xFF
    03776 4F1F      SBCI	R17,0xFF
    03777 940E 12F4 CALL	_EEPROM_write
(0469) 	 EEPROM_write(t+1,139,0);
    03779 2422      CLR	R2
    0377A 2433      CLR	R3
    0377B 8239      STD	Y+1,R3
    0377C 8228      ST	Y,R2
    0377D E82B      LDI	R18,0x8B
    0377E E030      LDI	R19,0
    0377F 018A      MOVW	R16,R20
    03780 5F0F      SUBI	R16,0xFF
    03781 4F1F      SBCI	R17,0xFF
    03782 940E 12F4 CALL	_EEPROM_write
(0470) 	 EEPROM_write(t+1,140,0);
    03784 2422      CLR	R2
    03785 2433      CLR	R3
    03786 8239      STD	Y+1,R3
    03787 8228      ST	Y,R2
    03788 E82C      LDI	R18,0x8C
    03789 E030      LDI	R19,0
    0378A 018A      MOVW	R16,R20
    0378B 5F0F      SUBI	R16,0xFF
    0378C 4F1F      SBCI	R17,0xFF
    0378D 940E 12F4 CALL	_EEPROM_write
(0471) 	 EEPROM_write(t+1,141,0);
    0378F 2422      CLR	R2
    03790 2433      CLR	R3
    03791 8239      STD	Y+1,R3
    03792 8228      ST	Y,R2
    03793 E82D      LDI	R18,0x8D
    03794 E030      LDI	R19,0
    03795 018A      MOVW	R16,R20
    03796 5F0F      SUBI	R16,0xFF
    03797 4F1F      SBCI	R17,0xFF
    03798 940E 12F4 CALL	_EEPROM_write
(0472) 	 EEPROM_write(t+1,142,0);
    0379A 2422      CLR	R2
    0379B 2433      CLR	R3
    0379C 8239      STD	Y+1,R3
    0379D 8228      ST	Y,R2
    0379E E82E      LDI	R18,0x8E
    0379F E030      LDI	R19,0
    037A0 018A      MOVW	R16,R20
    037A1 5F0F      SUBI	R16,0xFF
    037A2 4F1F      SBCI	R17,0xFF
    037A3 940E 12F4 CALL	_EEPROM_write
(0473) 	 EEPROM_write(t+1,143,0);
    037A5 2422      CLR	R2
    037A6 2433      CLR	R3
    037A7 8239      STD	Y+1,R3
    037A8 8228      ST	Y,R2
    037A9 E82F      LDI	R18,0x8F
    037AA E030      LDI	R19,0
    037AB 018A      MOVW	R16,R20
    037AC 5F0F      SUBI	R16,0xFF
    037AD 4F1F      SBCI	R17,0xFF
    037AE 940E 12F4 CALL	_EEPROM_write
(0474) 	 EEPROM_write(t+1,144,0);
    037B0 2422      CLR	R2
    037B1 2433      CLR	R3
    037B2 8239      STD	Y+1,R3
    037B3 8228      ST	Y,R2
    037B4 E920      LDI	R18,0x90
    037B5 E030      LDI	R19,0
    037B6 018A      MOVW	R16,R20
    037B7 5F0F      SUBI	R16,0xFF
    037B8 4F1F      SBCI	R17,0xFF
    037B9 940E 12F4 CALL	_EEPROM_write
(0475) 	 EEPROM_write(t+1,145,0);
    037BB 2422      CLR	R2
    037BC 2433      CLR	R3
    037BD 8239      STD	Y+1,R3
    037BE 8228      ST	Y,R2
    037BF E921      LDI	R18,0x91
    037C0 E030      LDI	R19,0
    037C1 018A      MOVW	R16,R20
    037C2 5F0F      SUBI	R16,0xFF
    037C3 4F1F      SBCI	R17,0xFF
    037C4 940E 12F4 CALL	_EEPROM_write
    037C6 9622      ADIW	R28,2
    037C7 940C 3C7A JMP	pop_xgsetF000
_set_all_start:
  j                    --> R20
    037C9 934A      ST	-Y,R20
    037CA 935A      ST	-Y,R21
(0476) }
(0477) //温度全部开始工作。状态为停止和刚重置数据的可以开始
(0478) void set_all_start(void){
(0479)     uint j;
(0480) 	
(0481)     for(j=0;j<4;j++){
    037CB 2744      CLR	R20
    037CC 2755      CLR	R21
    037CD C03F      RJMP	0x380D
(0482) 	    if(temps[j].flag==3){
    037CE E404      LDI	R16,0x44
    037CF E011      LDI	R17,1
    037D0 019A      MOVW	R18,R20
    037D1 940E 3C39 CALL	empy16s
    037D3 E385      LDI	R24,0x35
    037D4 E093      LDI	R25,3
    037D5 01F8      MOVW	R30,R16
    037D6 0FE8      ADD	R30,R24
    037D7 1FF9      ADC	R31,R25
    037D8 8180      LD	R24,Z
    037D9 8191      LDD	R25,Z+1
    037DA 3083      CPI	R24,3
    037DB E0E0      LDI	R30,0
    037DC 079E      CPC	R25,R30
    037DD F479      BNE	0x37ED
(0483) 	           temps[j].flag=1;
    037DE E404      LDI	R16,0x44
    037DF E011      LDI	R17,1
    037E0 019A      MOVW	R18,R20
    037E1 940E 3C39 CALL	empy16s
    037E3 E385      LDI	R24,0x35
    037E4 E093      LDI	R25,3
    037E5 01F8      MOVW	R30,R16
    037E6 0FE8      ADD	R30,R24
    037E7 1FF9      ADC	R31,R25
    037E8 E081      LDI	R24,1
    037E9 E090      LDI	R25,0
    037EA 8391      STD	Z+1,R25
    037EB 8380      ST	Z,R24
(0484) 	      }else if(temps[j].flag==6){
    037EC C01E      RJMP	0x380B
    037ED E404      LDI	R16,0x44
    037EE E011      LDI	R17,1
    037EF 019A      MOVW	R18,R20
    037F0 940E 3C39 CALL	empy16s
    037F2 E385      LDI	R24,0x35
    037F3 E093      LDI	R25,3
    037F4 01F8      MOVW	R30,R16
    037F5 0FE8      ADD	R30,R24
    037F6 1FF9      ADC	R31,R25
    037F7 8180      LD	R24,Z
    037F8 8191      LDD	R25,Z+1
    037F9 3086      CPI	R24,6
    037FA E0E0      LDI	R30,0
    037FB 079E      CPC	R25,R30
    037FC F471      BNE	0x380B
(0485) 	             temps[j].flag=5;
    037FD E404      LDI	R16,0x44
    037FE E011      LDI	R17,1
    037FF 019A      MOVW	R18,R20
    03800 940E 3C39 CALL	empy16s
    03802 E385      LDI	R24,0x35
    03803 E093      LDI	R25,3
    03804 01F8      MOVW	R30,R16
    03805 0FE8      ADD	R30,R24
    03806 1FF9      ADC	R31,R25
    03807 E085      LDI	R24,5
    03808 E090      LDI	R25,0
    03809 8391      STD	Z+1,R25
    0380A 8380      ST	Z,R24
    0380B 5F4F      SUBI	R20,0xFF
    0380C 4F5F      SBCI	R21,0xFF
    0380D 3044      CPI	R20,4
    0380E E0E0      LDI	R30,0
    0380F 075E      CPC	R21,R30
    03810 F408      BCC	0x3812
    03811 CFBC      RJMP	0x37CE
    03812 9159      LD	R21,Y+
    03813 9149      LD	R20,Y+
    03814 9508      RET
_set_all_stop:
  j                    --> R20
    03815 934A      ST	-Y,R20
    03816 935A      ST	-Y,R21
(0486) 
(0487) 	      }
(0488) 	}
(0489) }
(0490) //温度全部暂停.要运行的才会暂停。。关闭输出
(0491) void set_all_stop(void){
(0492)     uint j;
(0493) 	
(0494)     for(j=0;j<4;j++){
    03817 2744      CLR	R20
    03818 2755      CLR	R21
    03819 C025      RJMP	0x383F
(0495) 	  if(temps[j].flag==1 || temps[j].flag==5){
    0381A E404      LDI	R16,0x44
    0381B E011      LDI	R17,1
    0381C 019A      MOVW	R18,R20
    0381D 940E 3C39 CALL	empy16s
    0381F E385      LDI	R24,0x35
    03820 E093      LDI	R25,3
    03821 01F8      MOVW	R30,R16
    03822 0FE8      ADD	R30,R24
    03823 1FF9      ADC	R31,R25
    03824 8020      LD	R2,Z
    03825 8031      LDD	R3,Z+1
    03826 01C1      MOVW	R24,R2
    03827 3081      CPI	R24,1
    03828 E0E0      LDI	R30,0
    03829 079E      CPC	R25,R30
    0382A F021      BEQ	0x382F
    0382B 3085      CPI	R24,5
    0382C E0E0      LDI	R30,0
    0382D 079E      CPC	R25,R30
    0382E F471      BNE	0x383D
(0496) 	     temps[j].flag=3;
    0382F E404      LDI	R16,0x44
    03830 E011      LDI	R17,1
    03831 019A      MOVW	R18,R20
    03832 940E 3C39 CALL	empy16s
    03834 E385      LDI	R24,0x35
    03835 E093      LDI	R25,3
    03836 01F8      MOVW	R30,R16
    03837 0FE8      ADD	R30,R24
    03838 1FF9      ADC	R31,R25
    03839 E083      LDI	R24,3
    0383A E090      LDI	R25,0
    0383B 8391      STD	Z+1,R25
    0383C 8380      ST	Z,R24
    0383D 5F4F      SUBI	R20,0xFF
    0383E 4F5F      SBCI	R21,0xFF
    0383F 3044      CPI	R20,4
    03840 E0E0      LDI	R30,0
    03841 075E      CPC	R21,R30
    03842 F2B8      BCS	0x381A
    03843 9159      LD	R21,Y+
    03844 9149      LD	R20,Y+
    03845 9508      RET
_set_start:
  t                    --> R10
    03846 92AA      ST	-Y,R10
    03847 92BA      ST	-Y,R11
    03848 0158      MOVW	R10,R16
(0497) 		//  EEPROM_write(j+1,133,3);
(0498) 	   }
(0499) 	}
(0500) }
(0501) //指定温度开始,预备
(0502) void set_start(uint t){
(0503)   if(temps[t].flag==3){
    03849 E404      LDI	R16,0x44
    0384A E011      LDI	R17,1
    0384B 0195      MOVW	R18,R10
    0384C 940E 3C39 CALL	empy16s
    0384E E385      LDI	R24,0x35
    0384F E093      LDI	R25,3
    03850 01F8      MOVW	R30,R16
    03851 0FE8      ADD	R30,R24
    03852 1FF9      ADC	R31,R25
    03853 8180      LD	R24,Z
    03854 8191      LDD	R25,Z+1
    03855 3083      CPI	R24,3
    03856 E0E0      LDI	R30,0
    03857 079E      CPC	R25,R30
    03858 F479      BNE	0x3868
(0504) 	     temps[t].flag=1;
    03859 E404      LDI	R16,0x44
    0385A E011      LDI	R17,1
    0385B 0195      MOVW	R18,R10
    0385C 940E 3C39 CALL	empy16s
    0385E E385      LDI	R24,0x35
    0385F E093      LDI	R25,3
    03860 01F8      MOVW	R30,R16
    03861 0FE8      ADD	R30,R24
    03862 1FF9      ADC	R31,R25
    03863 E081      LDI	R24,1
    03864 E090      LDI	R25,0
    03865 8391      STD	Z+1,R25
    03866 8380      ST	Z,R24
(0505) 		///  EEPROM_write(t+1,133,5);
(0506) 	}else if(temps[t].flag==6){
    03867 C03D      RJMP	0x38A5
    03868 E404      LDI	R16,0x44
    03869 E011      LDI	R17,1
    0386A 0195      MOVW	R18,R10
    0386B 940E 3C39 CALL	empy16s
    0386D E385      LDI	R24,0x35
    0386E E093      LDI	R25,3
    0386F 01F8      MOVW	R30,R16
    03870 0FE8      ADD	R30,R24
    03871 1FF9      ADC	R31,R25
    03872 8180      LD	R24,Z
    03873 8191      LDD	R25,Z+1
    03874 3086      CPI	R24,6
    03875 E0E0      LDI	R30,0
    03876 079E      CPC	R25,R30
    03877 F479      BNE	0x3887
(0507) 	     temps[t].flag=5;
    03878 E404      LDI	R16,0x44
    03879 E011      LDI	R17,1
    0387A 0195      MOVW	R18,R10
    0387B 940E 3C39 CALL	empy16s
    0387D E385      LDI	R24,0x35
    0387E E093      LDI	R25,3
    0387F 01F8      MOVW	R30,R16
    03880 0FE8      ADD	R30,R24
    03881 1FF9      ADC	R31,R25
    03882 E085      LDI	R24,5
    03883 E090      LDI	R25,0
    03884 8391      STD	Z+1,R25
    03885 8380      ST	Z,R24
(0508) 		///  EEPROM_write(t+1,133,5);
(0509) 	}else if(temps[t].flag==4){
    03886 C01E      RJMP	0x38A5
    03887 E404      LDI	R16,0x44
    03888 E011      LDI	R17,1
    03889 0195      MOVW	R18,R10
    0388A 940E 3C39 CALL	empy16s
    0388C E385      LDI	R24,0x35
    0388D E093      LDI	R25,3
    0388E 01F8      MOVW	R30,R16
    0388F 0FE8      ADD	R30,R24
    03890 1FF9      ADC	R31,R25
    03891 8180      LD	R24,Z
    03892 8191      LDD	R25,Z+1
    03893 3084      CPI	R24,4
    03894 E0E0      LDI	R30,0
    03895 079E      CPC	R25,R30
    03896 F471      BNE	0x38A5
(0510) 	     temps[t].flag=5;
    03897 E404      LDI	R16,0x44
    03898 E011      LDI	R17,1
    03899 0195      MOVW	R18,R10
    0389A 940E 3C39 CALL	empy16s
    0389C E385      LDI	R24,0x35
    0389D E093      LDI	R25,3
    0389E 01F8      MOVW	R30,R16
    0389F 0FE8      ADD	R30,R24
    038A0 1FF9      ADC	R31,R25
    038A1 E085      LDI	R24,5
    038A2 E090      LDI	R25,0
    038A3 8391      STD	Z+1,R25
    038A4 8380      ST	Z,R24
(0511) 		///  EEPROM_write(t+1,133,5);
(0512) 	}
    038A5 90B9      LD	R11,Y+
    038A6 90A9      LD	R10,Y+
    038A7 9508      RET
_set_stop:
  t                    --> R10
    038A8 92AA      ST	-Y,R10
    038A9 92BA      ST	-Y,R11
    038AA 0158      MOVW	R10,R16
(0513) }
(0514) 
(0515) //指定温度暂停。关闭输出
(0516) void set_stop(uint t){
(0517)  if(temps[t].flag==1 || temps[t].flag==5){
    038AB E404      LDI	R16,0x44
    038AC E011      LDI	R17,1
    038AD 0195      MOVW	R18,R10
    038AE 940E 3C39 CALL	empy16s
    038B0 E385      LDI	R24,0x35
    038B1 E093      LDI	R25,3
    038B2 01F8      MOVW	R30,R16
    038B3 0FE8      ADD	R30,R24
    038B4 1FF9      ADC	R31,R25
    038B5 8020      LD	R2,Z
    038B6 8031      LDD	R3,Z+1
    038B7 01C1      MOVW	R24,R2
    038B8 3081      CPI	R24,1
    038B9 E0E0      LDI	R30,0
    038BA 079E      CPC	R25,R30
    038BB F021      BEQ	0x38C0
    038BC 3085      CPI	R24,5
    038BD E0E0      LDI	R30,0
    038BE 079E      CPC	R25,R30
    038BF F471      BNE	0x38CE
(0518) 	     temps[t].flag=3;
    038C0 E404      LDI	R16,0x44
    038C1 E011      LDI	R17,1
    038C2 0195      MOVW	R18,R10
    038C3 940E 3C39 CALL	empy16s
    038C5 E385      LDI	R24,0x35
    038C6 E093      LDI	R25,3
    038C7 01F8      MOVW	R30,R16
    038C8 0FE8      ADD	R30,R24
    038C9 1FF9      ADC	R31,R25
    038CA E083      LDI	R24,3
    038CB E090      LDI	R25,0
    038CC 8391      STD	Z+1,R25
    038CD 8380      ST	Z,R24
(0519) 		// EEPROM_write(t+1,133,3);
(0520) 	   }
    038CE 90B9      LD	R11,Y+
    038CF 90A9      LD	R10,Y+
    038D0 9508      RET
_PID_realize:
  temp_n               --> R10
    038D1 940E 3C9B CALL	push_xgsetF03C
    038D3 0158      MOVW	R10,R16
(0521) }
(0522) /***********************************************************************
(0523) * 函数功能：	PID计算
(0524) * 参      数：	读入的温度
(0525) * 返 回  值：	无	改变incrementtemp的值，输出函数获得这个值然后输出
(0526) * 备	   注：	
(0527) **1
(0528) **********************************************************************/
(0529) void PID_realize(uint temp_n)
(0530) {
(0531)    temps[temp_n].err=temps[temp_n].settemp-temps[temp_n].actualtemp;//这两个都在结构体中
    038D4 E404      LDI	R16,0x44
    038D5 E011      LDI	R17,1
    038D6 0195      MOVW	R18,R10
    038D7 940E 3C39 CALL	empy16s
    038D9 0128      MOVW	R4,R16
    038DA E585      LDI	R24,0x55
    038DB E094      LDI	R25,4
    038DC 01F2      MOVW	R30,R4
    038DD 0FE8      ADD	R30,R24
    038DE 1FF9      ADC	R31,R25
    038DF 8100      LD	R16,Z
    038E0 8111      LDD	R17,Z+1
    038E1 8122      LDD	R18,Z+2
    038E2 8133      LDD	R19,Z+3
    038E3 E589      LDI	R24,0x59
    038E4 E094      LDI	R25,4
    038E5 0112      MOVW	R2,R4
    038E6 0E28      ADD	R2,R24
    038E7 1E39      ADC	R3,R25
    038E8 923A      ST	-Y,R3
    038E9 922A      ST	-Y,R2
    038EA 940E 3D56 CALL	fpsub1
    038EC E58D      LDI	R24,0x5D
    038ED E094      LDI	R25,4
    038EE 01F2      MOVW	R30,R4
    038EF 0FE8      ADD	R30,R24
    038F0 1FF9      ADC	R31,R25
    038F1 8300      ST	Z,R16
    038F2 8311      STD	Z+1,R17
    038F3 8322      STD	Z+2,R18
    038F4 8333      STD	Z+3,R19
(0532)    temps[temp_n].incrementtemp=temps[temp_n].Kp*(temps[temp_n].err-temps[temp_n].err_next)+temps[temp_n].Ki*temps[temp_n].err+temps[temp_n].Kd*(temps[temp_n].err-2*temps[temp_n].err_next+temps[temp_n].err_last);
    038F5 E404      LDI	R16,0x44
    038F6 E011      LDI	R17,1
    038F7 0195      MOVW	R18,R10
    038F8 940E 3C39 CALL	empy16s
    038FA 01D8      MOVW	R26,R16
    038FB E689      LDI	R24,0x69
    038FC E094      LDI	R25,4
    038FD 01FD      MOVW	R30,R26
    038FE 0FE8      ADD	R30,R24
    038FF 1FF9      ADC	R31,R25
    03900 8020      LD	R2,Z
    03901 8031      LDD	R3,Z+1
    03902 8042      LDD	R4,Z+2
    03903 8053      LDD	R5,Z+3
    03904 E58D      LDI	R24,0x5D
    03905 E094      LDI	R25,4
    03906 01FD      MOVW	R30,R26
    03907 0FE8      ADD	R30,R24
    03908 1FF9      ADC	R31,R25
    03909 8100      LD	R16,Z
    0390A 8111      LDD	R17,Z+1
    0390B 8122      LDD	R18,Z+2
    0390C 8133      LDD	R19,Z+3
    0390D E685      LDI	R24,0x65
    0390E E094      LDI	R25,4
    0390F 013D      MOVW	R6,R26
    03910 0E68      ADD	R6,R24
    03911 1E79      ADC	R7,R25
    03912 927A      ST	-Y,R7
    03913 926A      ST	-Y,R6
    03914 940E 3D6B CALL	fpsub1x
    03916 0181      MOVW	R16,R2
    03917 0192      MOVW	R18,R4
    03918 940E 3F55 CALL	fpmule2
    0391A 0118      MOVW	R2,R16
    0391B 0129      MOVW	R4,R18
    0391C E68D      LDI	R24,0x6D
    0391D E094      LDI	R25,4
    0391E 01FD      MOVW	R30,R26
    0391F 0FE8      ADD	R30,R24
    03920 1FF9      ADC	R31,R25
    03921 8100      LD	R16,Z
    03922 8111      LDD	R17,Z+1
    03923 8122      LDD	R18,Z+2
    03924 8133      LDD	R19,Z+3
    03925 E58D      LDI	R24,0x5D
    03926 E094      LDI	R25,4
    03927 013D      MOVW	R6,R26
    03928 0E68      ADD	R6,R24
    03929 1E79      ADC	R7,R25
    0392A 927A      ST	-Y,R7
    0392B 926A      ST	-Y,R6
    0392C 940E 3F60 CALL	fpmule1x
    0392E 0181      MOVW	R16,R2
    0392F 0192      MOVW	R18,R4
    03930 940E 3D4B CALL	fpadd2
    03932 0118      MOVW	R2,R16
    03933 0129      MOVW	R4,R18
    03934 E781      LDI	R24,0x71
    03935 E094      LDI	R25,4
    03936 01FD      MOVW	R30,R26
    03937 0FE8      ADD	R30,R24
    03938 1FF9      ADC	R31,R25
    03939 8060      LD	R6,Z
    0393A 8071      LDD	R7,Z+1
    0393B 8082      LDD	R8,Z+2
    0393C 8093      LDD	R9,Z+3
    0393D E58D      LDI	R24,0x5D
    0393E E094      LDI	R25,4
    0393F 01FD      MOVW	R30,R26
    03940 0FE8      ADD	R30,R24
    03941 1FF9      ADC	R31,R25
    03942 8140      LD	R20,Z
    03943 8151      LDD	R21,Z+1
    03944 8162      LDD	R22,Z+2
    03945 8173      LDD	R23,Z+3
    03946 E80C      LDI	R16,0x8C
    03947 E010      LDI	R17,0
    03948 940E 3C25 CALL	elpm32
    0394A E685      LDI	R24,0x65
    0394B E094      LDI	R25,4
    0394C 01FD      MOVW	R30,R26
    0394D 0FE8      ADD	R30,R24
    0394E 1FF9      ADC	R31,R25
    0394F 93FA      ST	-Y,R31
    03950 93EA      ST	-Y,R30
    03951 940E 3F60 CALL	fpmule1x
    03953 018A      MOVW	R16,R20
    03954 019B      MOVW	R18,R22
    03955 940E 3D60 CALL	fpsub2
    03957 E681      LDI	R24,0x61
    03958 E094      LDI	R25,4
    03959 01FD      MOVW	R30,R26
    0395A 0FE8      ADD	R30,R24
    0395B 1FF9      ADC	R31,R25
    0395C 93FA      ST	-Y,R31
    0395D 93EA      ST	-Y,R30
    0395E 940E 3D3E CALL	fpadd1x
    03960 0183      MOVW	R16,R6
    03961 0194      MOVW	R18,R8
    03962 940E 3F6D CALL	fpmule2x
    03964 0181      MOVW	R16,R2
    03965 0192      MOVW	R18,R4
    03966 940E 3D4B CALL	fpadd2
    03968 E785      LDI	R24,0x75
    03969 E094      LDI	R25,4
    0396A 01FD      MOVW	R30,R26
    0396B 0FE8      ADD	R30,R24
    0396C 1FF9      ADC	R31,R25
    0396D 8300      ST	Z,R16
    0396E 8311      STD	Z+1,R17
    0396F 8322      STD	Z+2,R18
    03970 8333      STD	Z+3,R19
(0533)    temps[temp_n].err_last=temps[temp_n].err_next;
    03971 E404      LDI	R16,0x44
    03972 E011      LDI	R17,1
    03973 0195      MOVW	R18,R10
    03974 940E 3C39 CALL	empy16s
    03976 0168      MOVW	R12,R16
    03977 E685      LDI	R24,0x65
    03978 E094      LDI	R25,4
    03979 01F6      MOVW	R30,R12
    0397A 0FE8      ADD	R30,R24
    0397B 1FF9      ADC	R31,R25
    0397C 8020      LD	R2,Z
    0397D 8031      LDD	R3,Z+1
    0397E 8042      LDD	R4,Z+2
    0397F 8053      LDD	R5,Z+3
    03980 E681      LDI	R24,0x61
    03981 E094      LDI	R25,4
    03982 01F6      MOVW	R30,R12
    03983 0FE8      ADD	R30,R24
    03984 1FF9      ADC	R31,R25
    03985 8220      ST	Z,R2
    03986 8231      STD	Z+1,R3
    03987 8242      STD	Z+2,R4
    03988 8253      STD	Z+3,R5
(0534)    temps[temp_n].err_next=temps[temp_n].err;
    03989 E404      LDI	R16,0x44
    0398A E011      LDI	R17,1
    0398B 0195      MOVW	R18,R10
    0398C 940E 3C39 CALL	empy16s
    0398E 0168      MOVW	R12,R16
    0398F E58D      LDI	R24,0x5D
    03990 E094      LDI	R25,4
    03991 01F6      MOVW	R30,R12
    03992 0FE8      ADD	R30,R24
    03993 1FF9      ADC	R31,R25
    03994 8020      LD	R2,Z
    03995 8031      LDD	R3,Z+1
    03996 8042      LDD	R4,Z+2
    03997 8053      LDD	R5,Z+3
    03998 E685      LDI	R24,0x65
    03999 E094      LDI	R25,4
    0399A 01F6      MOVW	R30,R12
    0399B 0FE8      ADD	R30,R24
    0399C 1FF9      ADC	R31,R25
    0399D 8220      ST	Z,R2
    0399E 8231      STD	Z+1,R3
    0399F 8242      STD	Z+2,R4
    039A0 8253      STD	Z+3,R5
(0535)    temps[temp_n].incrementtemp=temps[temp_n].incrementtemp/2;
    039A1 E404      LDI	R16,0x44
    039A2 E011      LDI	R17,1
    039A3 0195      MOVW	R18,R10
    039A4 940E 3C39 CALL	empy16s
    039A6 0158      MOVW	R10,R16
    039A7 E785      LDI	R24,0x75
    039A8 E094      LDI	R25,4
    039A9 01F5      MOVW	R30,R10
    039AA 0FE8      ADD	R30,R24
    039AB 1FF9      ADC	R31,R25
    039AC 8020      LD	R2,Z
    039AD 8031      LDD	R3,Z+1
    039AE 8042      LDD	R4,Z+2
    039AF 8053      LDD	R5,Z+3
    039B0 E80C      LDI	R16,0x8C
    039B1 E010      LDI	R17,0
    039B2 940E 3C25 CALL	elpm32
    039B4 933A      ST	-Y,R19
    039B5 932A      ST	-Y,R18
    039B6 931A      ST	-Y,R17
    039B7 930A      ST	-Y,R16
    039B8 0181      MOVW	R16,R2
    039B9 0192      MOVW	R18,R4
    039BA 940E 3DE5 CALL	fpdiv2
    039BC E785      LDI	R24,0x75
    039BD E094      LDI	R25,4
    039BE 01F5      MOVW	R30,R10
    039BF 0FE8      ADD	R30,R24
    039C0 1FF9      ADC	R31,R25
    039C1 8300      ST	Z,R16
    039C2 8311      STD	Z+1,R17
    039C3 8322      STD	Z+2,R18
    039C4 8333      STD	Z+3,R19
    039C5 940C 3CA4 JMP	pop_xgsetF03C
_PI_realize:
  temp_n               --> R10
    039C7 940E 3C66 CALL	push_xgset003C
    039C9 0158      MOVW	R10,R16
(0536) }
(0537) void PI_realize(uint temp_n)
(0538) {
(0539)    temps[temp_n].err=temps[temp_n].p_settemp-temps[temp_n].actualtemp;//这两个都在结构体中
    039CA E404      LDI	R16,0x44
    039CB E011      LDI	R17,1
    039CC 0195      MOVW	R18,R10
    039CD 940E 3C39 CALL	empy16s
    039CF 0128      MOVW	R4,R16
    039D0 E48B      LDI	R24,0x4B
    039D1 E094      LDI	R25,4
    039D2 01F2      MOVW	R30,R4
    039D3 0FE8      ADD	R30,R24
    039D4 1FF9      ADC	R31,R25
    039D5 8100      LD	R16,Z
    039D6 8111      LDD	R17,Z+1
    039D7 940E 3DB8 CALL	uint2fp
    039D9 E589      LDI	R24,0x59
    039DA E094      LDI	R25,4
    039DB 0112      MOVW	R2,R4
    039DC 0E28      ADD	R2,R24
    039DD 1E39      ADC	R3,R25
    039DE 923A      ST	-Y,R3
    039DF 922A      ST	-Y,R2
    039E0 940E 3D56 CALL	fpsub1
    039E2 E58D      LDI	R24,0x5D
    039E3 E094      LDI	R25,4
    039E4 01F2      MOVW	R30,R4
    039E5 0FE8      ADD	R30,R24
    039E6 1FF9      ADC	R31,R25
    039E7 8300      ST	Z,R16
    039E8 8311      STD	Z+1,R17
    039E9 8322      STD	Z+2,R18
    039EA 8333      STD	Z+3,R19
(0540)    temps[temp_n].incrementtemp=temps[temp_n].p_Kp*(temps[temp_n].err-temps[temp_n].p_err_next)+temps[temp_n].p_Ki*temps[temp_n].err;
    039EB E404      LDI	R16,0x44
    039EC E011      LDI	R17,1
    039ED 0195      MOVW	R18,R10
    039EE 940E 3C39 CALL	empy16s
    039F0 01D8      MOVW	R26,R16
    039F1 E48F      LDI	R24,0x4F
    039F2 E094      LDI	R25,4
    039F3 01FD      MOVW	R30,R26
    039F4 0FE8      ADD	R30,R24
    039F5 1FF9      ADC	R31,R25
    039F6 8100      LD	R16,Z
    039F7 8111      LDD	R17,Z+1
    039F8 940E 3DB8 CALL	uint2fp
    039FA 0118      MOVW	R2,R16
    039FB 0129      MOVW	R4,R18
    039FC E58D      LDI	R24,0x5D
    039FD E094      LDI	R25,4
    039FE 01FD      MOVW	R30,R26
    039FF 0FE8      ADD	R30,R24
    03A00 1FF9      ADC	R31,R25
    03A01 8060      LD	R6,Z
    03A02 8071      LDD	R7,Z+1
    03A03 8082      LDD	R8,Z+2
    03A04 8093      LDD	R9,Z+3
    03A05 E48D      LDI	R24,0x4D
    03A06 E094      LDI	R25,4
    03A07 01FD      MOVW	R30,R26
    03A08 0FE8      ADD	R30,R24
    03A09 1FF9      ADC	R31,R25
    03A0A 8100      LD	R16,Z
    03A0B 8111      LDD	R17,Z+1
    03A0C 940E 3DB8 CALL	uint2fp
    03A0E 933A      ST	-Y,R19
    03A0F 932A      ST	-Y,R18
    03A10 931A      ST	-Y,R17
    03A11 930A      ST	-Y,R16
    03A12 0183      MOVW	R16,R6
    03A13 0194      MOVW	R18,R8
    03A14 940E 3D78 CALL	fpsub2x
    03A16 0181      MOVW	R16,R2
    03A17 0192      MOVW	R18,R4
    03A18 940E 3F55 CALL	fpmule2
    03A1A 0118      MOVW	R2,R16
    03A1B 0129      MOVW	R4,R18
    03A1C E581      LDI	R24,0x51
    03A1D E094      LDI	R25,4
    03A1E 01FD      MOVW	R30,R26
    03A1F 0FE8      ADD	R30,R24
    03A20 1FF9      ADC	R31,R25
    03A21 8100      LD	R16,Z
    03A22 8111      LDD	R17,Z+1
    03A23 940E 3DB8 CALL	uint2fp
    03A25 E58D      LDI	R24,0x5D
    03A26 E094      LDI	R25,4
    03A27 013D      MOVW	R6,R26
    03A28 0E68      ADD	R6,R24
    03A29 1E79      ADC	R7,R25
    03A2A 927A      ST	-Y,R7
    03A2B 926A      ST	-Y,R6
    03A2C 940E 3F60 CALL	fpmule1x
    03A2E 0181      MOVW	R16,R2
    03A2F 0192      MOVW	R18,R4
    03A30 940E 3D4B CALL	fpadd2
    03A32 E785      LDI	R24,0x75
    03A33 E094      LDI	R25,4
    03A34 01FD      MOVW	R30,R26
    03A35 0FE8      ADD	R30,R24
    03A36 1FF9      ADC	R31,R25
    03A37 8300      ST	Z,R16
    03A38 8311      STD	Z+1,R17
    03A39 8322      STD	Z+2,R18
    03A3A 8333      STD	Z+3,R19
(0541)    temps[temp_n].p_err_last=temps[temp_n].p_err_next;
    03A3B E404      LDI	R16,0x44
    03A3C E011      LDI	R17,1
    03A3D 0195      MOVW	R18,R10
    03A3E 940E 3C39 CALL	empy16s
    03A40 0168      MOVW	R12,R16
    03A41 E48D      LDI	R24,0x4D
    03A42 E094      LDI	R25,4
    03A43 01F6      MOVW	R30,R12
    03A44 0FE8      ADD	R30,R24
    03A45 1FF9      ADC	R31,R25
    03A46 8020      LD	R2,Z
    03A47 8031      LDD	R3,Z+1
    03A48 E583      LDI	R24,0x53
    03A49 E094      LDI	R25,4
    03A4A 01F6      MOVW	R30,R12
    03A4B 0FE8      ADD	R30,R24
    03A4C 1FF9      ADC	R31,R25
    03A4D 8231      STD	Z+1,R3
    03A4E 8220      ST	Z,R2
(0542)    temps[temp_n].p_err_next=temps[temp_n].err;
    03A4F E404      LDI	R16,0x44
    03A50 E011      LDI	R17,1
    03A51 0195      MOVW	R18,R10
    03A52 940E 3C39 CALL	empy16s
    03A54 0168      MOVW	R12,R16
    03A55 E58D      LDI	R24,0x5D
    03A56 E094      LDI	R25,4
    03A57 01F6      MOVW	R30,R12
    03A58 0FE8      ADD	R30,R24
    03A59 1FF9      ADC	R31,R25
    03A5A 8100      LD	R16,Z
    03A5B 8111      LDD	R17,Z+1
    03A5C 8122      LDD	R18,Z+2
    03A5D 8133      LDD	R19,Z+3
    03A5E 940E 3D86 CALL	fpint
    03A60 E48D      LDI	R24,0x4D
    03A61 E094      LDI	R25,4
    03A62 01F6      MOVW	R30,R12
    03A63 0FE8      ADD	R30,R24
    03A64 1FF9      ADC	R31,R25
    03A65 8311      STD	Z+1,R17
    03A66 8300      ST	Z,R16
(0543)    temps[temp_n].incrementtemp=temps[temp_n].incrementtemp/2;
    03A67 E404      LDI	R16,0x44
    03A68 E011      LDI	R17,1
    03A69 0195      MOVW	R18,R10
    03A6A 940E 3C39 CALL	empy16s
    03A6C 0158      MOVW	R10,R16
    03A6D E785      LDI	R24,0x75
    03A6E E094      LDI	R25,4
    03A6F 01F5      MOVW	R30,R10
    03A70 0FE8      ADD	R30,R24
    03A71 1FF9      ADC	R31,R25
    03A72 8020      LD	R2,Z
    03A73 8031      LDD	R3,Z+1
    03A74 8042      LDD	R4,Z+2
    03A75 8053      LDD	R5,Z+3
    03A76 E80C      LDI	R16,0x8C
    03A77 E010      LDI	R17,0
    03A78 940E 3C25 CALL	elpm32
    03A7A 933A      ST	-Y,R19
    03A7B 932A      ST	-Y,R18
    03A7C 931A      ST	-Y,R17
    03A7D 930A      ST	-Y,R16
    03A7E 0181      MOVW	R16,R2
    03A7F 0192      MOVW	R18,R4
    03A80 940E 3DE5 CALL	fpdiv2
    03A82 E785      LDI	R24,0x75
    03A83 E094      LDI	R25,4
    03A84 01F5      MOVW	R30,R10
    03A85 0FE8      ADD	R30,R24
    03A86 1FF9      ADC	R31,R25
    03A87 8300      ST	Z,R16
    03A88 8311      STD	Z+1,R17
    03A89 8322      STD	Z+2,R18
    03A8A 8333      STD	Z+3,R19
    03A8B 940C 3C49 JMP	pop_xgset003C
FILE: E:\ICCDemo\Temp_Control\temp_control\time1307.c
(0001) #include<iom128v.h>
(0002) #include "time1307.h"
(0003) #include "delay.h"
(0004) #include "lcd.h"
(0005) #include "main.h"
(0006) //寄存器宏定义
(0007) #define SECOND 0x00
(0008) #define MINUTE 0x01 
(0009) #define HOUR 0x02
(0010) #define DAY 0x04
(0011) #define MONTH 0x05 
(0012) #define WEEK 0x03
(0013) #define YEAE 0x06
(0014) #define CIBTPOL 0x07 
(0015) #define  WRITEDS1307    0xD0
(0016) #define     READDS1307    0xD1
(0017) 
(0018) 
(0019) #define  SCL_H  PORTD|=1<<PD0 //
(0020) #define  SCL_L  PORTD&=~(1<<PD0) //
(0021) #define  SDA_H   PORTD|=1<<PD1 //
(0022) #define  SDA_L  PORTD&=~(1<<PD1)  //
(0023) /* unsigned char set_rtc_code[7];
(0024) unsigned char rtc_address[7]={0x00,0x01,0x02,0x03,0x04,0x05,0x06};
(0025) unsigned char read_rtc_code[7];
(0026) unsigned char wr_j1j3_code[7];
(0027) unsigned char jk[7]={0,0,0,2,0,0,9};//设置时钟初始值*/
(0028) 
(0029) unsigned  char BP;
(0030) 
(0031) 
(0032) void I2C_start(void){//启动IIC总线
(0033)    SDA_H;
_I2C_start:
    03A8D 9A91      SBI	0x12,1
(0034)    SCL_H;
    03A8E 9A90      SBI	0x12,0
(0035)    delay_us(8);
    03A8F E008      LDI	R16,0x8
    03A90 E010      LDI	R17,0
    03A91 940E 0551 CALL	_delay_us
(0036)    SDA_L;
    03A93 9891      CBI	0x12,1
(0037)    delay_us(8);
    03A94 E008      LDI	R16,0x8
    03A95 E010      LDI	R17,0
    03A96 940E 0551 CALL	_delay_us
(0038)    SCL_L;
    03A98 9890      CBI	0x12,0
    03A99 9508      RET
(0039)    
(0040) }
(0041) void I2C_stop(void){//启动IIC总线
(0042)    SDA_L;
_I2C_stop:
    03A9A 9891      CBI	0x12,1
(0043)    SCL_H;
    03A9B 9A90      SBI	0x12,0
(0044)    delay_us(8);
    03A9C E008      LDI	R16,0x8
    03A9D E010      LDI	R17,0
    03A9E 940E 0551 CALL	_delay_us
(0045)    SDA_H;
    03AA0 9A91      SBI	0x12,1
(0046)    delay_us(8);
    03AA1 E008      LDI	R16,0x8
    03AA2 E010      LDI	R17,0
    03AA3 940E 0551 CALL	_delay_us
(0047)    SCL_L;
    03AA5 9890      CBI	0x12,0
    03AA6 9508      RET
(0048)    
(0049) }
(0050) void I2C_send_ack(void){//应答ack
(0051)   SDA_L;
_I2C_send_ack:
    03AA7 9891      CBI	0x12,1
(0052)   SCL_H;
    03AA8 9A90      SBI	0x12,0
(0053)   delay_us(8);
    03AA9 E008      LDI	R16,0x8
    03AAA E010      LDI	R17,0
    03AAB 940E 0551 CALL	_delay_us
(0054)   SCL_L;
    03AAD 9890      CBI	0x12,0
    03AAE 9508      RET
(0055) } 
(0056) void I2C_send_noack(void){
(0057)   SDA_H;
_I2C_send_noack:
    03AAF 9A91      SBI	0x12,1
(0058)   SCL_H;
    03AB0 9A90      SBI	0x12,0
(0059)    delay_us(8);
    03AB1 E008      LDI	R16,0x8
    03AB2 E010      LDI	R17,0
    03AB3 940E 0551 CALL	_delay_us
(0060)    SCL_L;
    03AB5 9890      CBI	0x12,0
    03AB6 9508      RET
_I2C_write_byte:
  i                    --> R20
  IIC_data             --> R10
    03AB7 92AA      ST	-Y,R10
    03AB8 934A      ST	-Y,R20
    03AB9 2EA0      MOV	R10,R16
(0061) }
(0062) void I2C_write_byte(unsigned char IIC_data){
(0063)    unsigned char i;
(0064)   // BP=0;
(0065)    for(i=0;i<8;i++){//循环输出数据
    03ABA 2744      CLR	R20
    03ABB C016      RJMP	0x3AD2
(0066)       SCL_L;
    03ABC 9890      CBI	0x12,0
(0067) 	   if(((IIC_data<<i)&0x80)){
    03ABD 2D0A      MOV	R16,R10
    03ABE 2F14      MOV	R17,R20
    03ABF 940E 3CB6 CALL	lsl8
    03AC1 2F80      MOV	R24,R16
    03AC2 7880      ANDI	R24,0x80
    03AC3 F011      BEQ	0x3AC6
(0068) 	      SDA_H;
    03AC4 9A91      SBI	0x12,1
(0069) 	   }else{
    03AC5 C001      RJMP	0x3AC7
(0070) 	   	  SDA_L;
    03AC6 9891      CBI	0x12,1
(0071) 	   }
(0072) 	   delay_us(4);
    03AC7 E004      LDI	R16,4
    03AC8 E010      LDI	R17,0
    03AC9 940E 0551 CALL	_delay_us
(0073) 	   SCL_H;
    03ACB 9A90      SBI	0x12,0
(0074) 	   delay_us(4);
    03ACC E004      LDI	R16,4
    03ACD E010      LDI	R17,0
    03ACE 940E 0551 CALL	_delay_us
(0075) 	   SCL_L;
    03AD0 9890      CBI	0x12,0
    03AD1 9543      INC	R20
    03AD2 3048      CPI	R20,0x8
    03AD3 F340      BCS	0x3ABC
(0076)    }
(0077)    //读取ACK
(0078)    delay_us(4);
    03AD4 E004      LDI	R16,4
    03AD5 E010      LDI	R17,0
    03AD6 940E 0551 CALL	_delay_us
(0079)    DDRD &=~(0x02);//发送完，等待输入信号
    03AD8 9889      CBI	0x11,1
(0080)    delay_us(4);
    03AD9 E004      LDI	R16,4
    03ADA E010      LDI	R17,0
    03ADB 940E 0551 CALL	_delay_us
(0081)    if((PIND&(1<<PD1))){
    03ADD 9B81      SBIS	0x10,1
    03ADE C000      RJMP	0x3ADF
(0082)     //正常
(0083)    }//读取，如果发送的是noack，
(0084)    SCL_H;
    03ADF 9A90      SBI	0x12,0
(0085)    delay_us(4);
    03AE0 E004      LDI	R16,4
    03AE1 E010      LDI	R17,0
    03AE2 940E 0551 CALL	_delay_us
(0086)    SCL_L;
    03AE4 9890      CBI	0x12,0
(0087)    DDRD |=0x02;
    03AE5 9A89      SBI	0x11,1
    03AE6 9149      LD	R20,Y+
    03AE7 90A9      LD	R10,Y+
    03AE8 9508      RET
_I2C_read_byte:
  i                    --> R20
  dat                  --> R10
    03AE9 92AA      ST	-Y,R10
    03AEA 934A      ST	-Y,R20
(0088) }
(0089) unsigned char I2C_read_byte(void){
(0090)   unsigned char i,dat;
(0091)   DDRD &=~(0x02);
    03AEB 9889      CBI	0x11,1
(0092)   dat=0;
    03AEC 24AA      CLR	R10
(0093)   for (i=0;i<8;i++)
    03AED 2744      CLR	R20
    03AEE C00B      RJMP	0x3AFA
(0094)     {
(0095)       dat=dat<<1;
    03AEF 0CAA      LSL	R10
(0096)       SCL_H;
    03AF0 9A90      SBI	0x12,0
(0097)       delay_us(4);
    03AF1 E004      LDI	R16,4
    03AF2 E010      LDI	R17,0
    03AF3 940E 0551 CALL	_delay_us
(0098)      if((PIND&(1<<PD1)))
    03AF5 9B81      SBIS	0x10,1
    03AF6 C001      RJMP	0x3AF8
(0099)      {
(0100)        dat++;
    03AF7 94A3      INC	R10
(0101) 	  // PORTE=~PORTE;
(0102)      }
(0103)        SCL_L;  
    03AF8 9890      CBI	0x12,0
    03AF9 9543      INC	R20
    03AFA 3048      CPI	R20,0x8
    03AFB F398      BCS	0x3AEF
(0104)     }  
(0105)   DDRD |=0x02;
    03AFC 9A89      SBI	0x11,1
(0106)   return dat;
    03AFD 2D0A      MOV	R16,R10
    03AFE 9149      LD	R20,Y+
    03AFF 90A9      LD	R10,Y+
    03B00 9508      RET
_Write1307:
  dat                  --> R10
  add                  --> R12
    03B01 92AA      ST	-Y,R10
    03B02 92CA      ST	-Y,R12
    03B03 2EA2      MOV	R10,R18
    03B04 2EC0      MOV	R12,R16
(0107) }
(0108) /***********************************************************************/
(0109) /******************************** DS1307 写数据  ****************/
(0110) void Write1307(unsigned char add,unsigned char dat)
(0111) {
(0112)   I2C_start();
    03B05 DF87      RCALL	_I2C_start
(0113)   I2C_write_byte(WRITEDS1307);
    03B06 ED00      LDI	R16,0xD0
    03B07 DFAF      RCALL	_I2C_write_byte
(0114)   I2C_write_byte(add);
    03B08 2D0C      MOV	R16,R12
    03B09 DFAD      RCALL	_I2C_write_byte
(0115)   I2C_write_byte(dat);
    03B0A 2D0A      MOV	R16,R10
    03B0B DFAB      RCALL	_I2C_write_byte
(0116)   I2C_stop();
    03B0C DF8D      RCALL	_I2C_stop
    03B0D 90C9      LD	R12,Y+
    03B0E 90A9      LD	R10,Y+
    03B0F 9508      RET
_Read1307:
  dat                  --> R10
  add                  --> R10
    03B10 92AA      ST	-Y,R10
    03B11 92BA      ST	-Y,R11
    03B12 2EA0      MOV	R10,R16
(0117) }
(0118) /***********************************************************************/
(0119) unsigned int Read1307(unsigned char add)
(0120) {
(0121)   
(0122)   unsigned int dat;
(0123)   I2C_start();
    03B13 DF79      RCALL	_I2C_start
(0124)   I2C_write_byte(WRITEDS1307);
    03B14 ED00      LDI	R16,0xD0
    03B15 DFA1      RCALL	_I2C_write_byte
(0125)   I2C_write_byte(add);
    03B16 2D0A      MOV	R16,R10
    03B17 DF9F      RCALL	_I2C_write_byte
(0126)   I2C_start();
    03B18 DF74      RCALL	_I2C_start
(0127)   I2C_write_byte(READDS1307);
    03B19 ED01      LDI	R16,0xD1
    03B1A DF9C      RCALL	_I2C_write_byte
(0128)   dat=I2C_read_byte(); 
    03B1B DFCD      RCALL	_I2C_read_byte
    03B1C 2EA0      MOV	R10,R16
    03B1D 24BB      CLR	R11
(0129)   I2C_send_noack();
    03B1E DF90      RCALL	_I2C_send_noack
(0130)   I2C_stop();      
    03B1F DF7A      RCALL	_I2C_stop
(0131)   return (dat);
    03B20 0185      MOVW	R16,R10
    03B21 90B9      LD	R11,Y+
    03B22 90A9      LD	R10,Y+
    03B23 9508      RET
_setTime:
  second               --> R10
  minute               --> R22
  hour                 --> R20
  day                  --> R14
  month                --> R12
  year                 --> Y,+10
    03B24 940E 3BDF CALL	push_arg4
    03B26 940E 3C60 CALL	push_xgsetF0FC
    03B28 0169      MOVW	R12,R18
    03B29 84EE      LDD	R14,Y+14
    03B2A 84FF      LDD	R15,Y+15
    03B2B 8948      LDD	R20,Y+16
    03B2C 8959      LDD	R21,Y+17
    03B2D 896A      LDD	R22,Y+18
    03B2E 897B      LDD	R23,Y+19
    03B2F 88AC      LDD	R10,Y+20
    03B30 88BD      LDD	R11,Y+21
(0132)  }
(0133) //年、月、日、星期、时、分、秒。星期没有写入
(0134) void setTime(uint year,uint month,uint day,uint hour,uint minute,uint second){
(0135)    Write1307(0x00,second);//
    03B31 2D2A      MOV	R18,R10
    03B32 2700      CLR	R16
    03B33 DFCD      RCALL	_Write1307
(0136)    Write1307(0x01,minute);//
    03B34 2F26      MOV	R18,R22
    03B35 E001      LDI	R16,1
    03B36 DFCA      RCALL	_Write1307
(0137)    Write1307(0x02,hour);//
    03B37 2F24      MOV	R18,R20
    03B38 E002      LDI	R16,2
    03B39 DFC7      RCALL	_Write1307
(0138)    //Write1307(0x03,0X01);//
(0139)    Write1307(0x04,day);//
    03B3A 2D2E      MOV	R18,R14
    03B3B E004      LDI	R16,4
    03B3C DFC4      RCALL	_Write1307
(0140)    Write1307(0x05,month);//
    03B3D 2D2C      MOV	R18,R12
    03B3E E005      LDI	R16,5
    03B3F DFC1      RCALL	_Write1307
(0141)    Write1307(0x06,year);
    03B40 852A      LDD	R18,Y+10
    03B41 853B      LDD	R19,Y+11
    03B42 E006      LDI	R16,6
    03B43 DFBD      RCALL	_Write1307
    03B44 940E 3C55 CALL	pop_xgsetF0FC
    03B46 9624      ADIW	R28,4
    03B47 9508      RET
(0142) }
(0143) void Initial_time(void){//初始化输出、方波、中断
(0144)    DDRD|=0x07;
_Initial_time:
    03B48 B381      IN	R24,0x11
    03B49 6087      ORI	R24,7
    03B4A BB81      OUT	0x11,R24
(0145)    PORTD=0x00;
    03B4B 2422      CLR	R2
    03B4C BA22      OUT	0x12,R2
(0146)   /* Write1307(0x00,0X00);//
(0147)    Write1307(0x01,0X00);//
(0148)    Write1307(0x02,0X12);//
(0149)    Write1307(0x03,0X01);//
(0150)    Write1307(0x04,0X21);//
(0151)    Write1307(0x05,0X05);//
(0152)    Write1307(0x06,0X15);//*/
(0153)     Write1307(0x07,0x10);
    03B4D E120      LDI	R18,0x10
    03B4E E007      LDI	R16,7
    03B4F DFB1      RCALL	_Write1307
(0154)    
(0155)    EIMSK |= 0x04;//开中断2
    03B50 B789      IN	R24,0x39
    03B51 6084      ORI	R24,4
    03B52 BF89      OUT	0x39,R24
(0156)    EICRA |=0x30;
    03B53 9180 006A LDS	R24,0x6A
    03B55 6380      ORI	R24,0x30
    03B56 9380 006A STS	0x6A,R24
    03B58 9508      RET
_showTime_page:
  time_cacah           --> R20
  y                    --> R10
    03B59 940E 3C8D CALL	push_xgset303C
    03B5B 0158      MOVW	R10,R16
(0157)    
(0158) }
(0159) //显示时间，年月日时分秒，用于page调用。没有改变AC，会接着写
(0160) void showTime_page(uint y){
(0161)    //PORTE=~Read1302(0x81);
(0162)    uchar time_cacah;
(0163)  //年
(0164)     time_cacah=Read1307(0x06);
    03B5C E006      LDI	R16,6
    03B5D DFB2      RCALL	_Read1307
    03B5E 2F40      MOV	R20,R16
(0165)     lcd_write_str_con(y, "20");
    03B5F EB2C      LDI	R18,0xBC
    03B60 E03A      LDI	R19,0xA
    03B61 2D0A      MOV	R16,R10
    03B62 940E 07F5 CALL	_lcd_write_str_con
(0166)     lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x0F));
    03B64 2F24      MOV	R18,R20
    03B65 9522      SWAP	R18
    03B66 702F      ANDI	R18,0xF
    03B67 702F      ANDI	R18,0xF
    03B68 6320      ORI	R18,0x30
    03B69 2D0A      MOV	R16,R10
    03B6A 940E 0753 CALL	_lcd_write_char_con
(0167)     lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    03B6C 2F24      MOV	R18,R20
    03B6D 702F      ANDI	R18,0xF
    03B6E 6320      ORI	R18,0x30
    03B6F 2D0A      MOV	R16,R10
    03B70 940E 0753 CALL	_lcd_write_char_con
(0168) 	lcd_write_char_con(y,'-');
    03B72 E22D      LDI	R18,0x2D
    03B73 2D0A      MOV	R16,R10
    03B74 940E 0753 CALL	_lcd_write_char_con
(0169) 	 //月
(0170) 	 time_cacah=Read1307(0x05);
    03B76 E005      LDI	R16,5
    03B77 DF98      RCALL	_Read1307
    03B78 2F40      MOV	R20,R16
(0171) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x01));
    03B79 2F24      MOV	R18,R20
    03B7A 9522      SWAP	R18
    03B7B 702F      ANDI	R18,0xF
    03B7C 7021      ANDI	R18,1
    03B7D 6320      ORI	R18,0x30
    03B7E 2D0A      MOV	R16,R10
    03B7F 940E 0753 CALL	_lcd_write_char_con
(0172)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    03B81 2F24      MOV	R18,R20
    03B82 702F      ANDI	R18,0xF
    03B83 6320      ORI	R18,0x30
    03B84 2D0A      MOV	R16,R10
    03B85 940E 0753 CALL	_lcd_write_char_con
(0173) 	 lcd_write_char_con(y,'-');
    03B87 E22D      LDI	R18,0x2D
    03B88 2D0A      MOV	R16,R10
    03B89 940E 0753 CALL	_lcd_write_char_con
(0174) 	 //日
(0175) 	 time_cacah=Read1307(0x04);
    03B8B E004      LDI	R16,4
    03B8C DF83      RCALL	_Read1307
    03B8D 0168      MOVW	R12,R16
    03B8E 2D4C      MOV	R20,R12
(0176) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    03B8F 2F24      MOV	R18,R20
    03B90 9522      SWAP	R18
    03B91 702F      ANDI	R18,0xF
    03B92 7023      ANDI	R18,3
    03B93 6320      ORI	R18,0x30
    03B94 2D0A      MOV	R16,R10
    03B95 940E 0753 CALL	_lcd_write_char_con
(0177)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    03B97 2F24      MOV	R18,R20
    03B98 702F      ANDI	R18,0xF
    03B99 6320      ORI	R18,0x30
    03B9A 2D0A      MOV	R16,R10
    03B9B 940E 0753 CALL	_lcd_write_char_con
(0178) 	 lcd_write_char_con(y,' ');
    03B9D E220      LDI	R18,0x20
    03B9E 2D0A      MOV	R16,R10
    03B9F 940E 0753 CALL	_lcd_write_char_con
(0179) 	//时
(0180) 	time_cacah=Read1307(0x02);
    03BA1 E002      LDI	R16,2
    03BA2 DF6D      RCALL	_Read1307
    03BA3 0168      MOVW	R12,R16
    03BA4 2D4C      MOV	R20,R12
(0181) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    03BA5 2F24      MOV	R18,R20
    03BA6 9522      SWAP	R18
    03BA7 702F      ANDI	R18,0xF
    03BA8 7023      ANDI	R18,3
    03BA9 6320      ORI	R18,0x30
    03BAA 2D0A      MOV	R16,R10
    03BAB 940E 0753 CALL	_lcd_write_char_con
(0182) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    03BAD 2F24      MOV	R18,R20
    03BAE 702F      ANDI	R18,0xF
    03BAF 6320      ORI	R18,0x30
    03BB0 2D0A      MOV	R16,R10
    03BB1 940E 0753 CALL	_lcd_write_char_con
(0183) 	 lcd_write_char_con(y,':');
    03BB3 E32A      LDI	R18,0x3A
    03BB4 2D0A      MOV	R16,R10
    03BB5 940E 0753 CALL	_lcd_write_char_con
(0184) 	//分
(0185) 	time_cacah=Read1307(0x01);
    03BB7 E001      LDI	R16,1
    03BB8 DF57      RCALL	_Read1307
    03BB9 0168      MOVW	R12,R16
    03BBA 2D4C      MOV	R20,R12
(0186) 	 lcd_write_char_con(y, 0x30|time_cacah>>4);
    03BBB 2F24      MOV	R18,R20
    03BBC 9522      SWAP	R18
    03BBD 702F      ANDI	R18,0xF
    03BBE 6320      ORI	R18,0x30
    03BBF 2D0A      MOV	R16,R10
    03BC0 940E 0753 CALL	_lcd_write_char_con
(0187) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F));
    03BC2 2F24      MOV	R18,R20
    03BC3 702F      ANDI	R18,0xF
    03BC4 6320      ORI	R18,0x30
    03BC5 2D0A      MOV	R16,R10
    03BC6 940E 0753 CALL	_lcd_write_char_con
(0188) 	 lcd_write_char_con(y,':');
    03BC8 E32A      LDI	R18,0x3A
    03BC9 2D0A      MOV	R16,R10
    03BCA 940E 0753 CALL	_lcd_write_char_con
(0189) 	//秒
(0190) 	time_cacah=Read1307(0x00);
    03BCC 2700      CLR	R16
    03BCD DF42      RCALL	_Read1307
    03BCE 0168      MOVW	R12,R16
    03BCF 2D4C      MOV	R20,R12
(0191) 	 lcd_write_char_con(y, 0x30|(time_cacah>>4));
    03BD0 2F24      MOV	R18,R20
    03BD1 9522      SWAP	R18
    03BD2 702F      ANDI	R18,0xF
    03BD3 6320      ORI	R18,0x30
    03BD4 2D0A      MOV	R16,R10
    03BD5 940E 0753 CALL	_lcd_write_char_con
(0192) 	 lcd_write_char_con(y,0x30|(time_cacah &0x0F));
FILE: <library>
    03BD7 2F24      MOV	R18,R20
    03BD8 702F      ANDI	R18,0xF
    03BD9 6320      ORI	R18,0x30
    03BDA 2D0A      MOV	R16,R10
    03BDB 940E 0753 CALL	_lcd_write_char_con
    03BDD 940C 3C94 JMP	pop_xgset303C
push_arg4:
    03BDF 933A      ST	-Y,R19
    03BE0 932A      ST	-Y,R18
push_arg2:
    03BE1 931A      ST	-Y,R17
    03BE2 930A      ST	-Y,R16
    03BE3 9508      RET
asr16:
    03BE4 2322      TST	R18
    03BE5 F021      BEQ	0x3BEA
    03BE6 9515      ASR	R17
    03BE7 9507      ROR	R16
    03BE8 952A      DEC	R18
    03BE9 CFFA      RJMP	asr16
    03BEA 9508      RET
mod16s:
    03BEB 9468      BSET	6
    03BEC 92DA      ST	-Y,R13
    03BED 2ED1      MOV	R13,R17
    03BEE C004      RJMP	0x3BF3
div16s:
    03BEF 94E8      BCLR	6
    03BF0 92DA      ST	-Y,R13
    03BF1 2ED1      MOV	R13,R17
    03BF2 26D3      EOR	R13,R19
    03BF3 FF17      SBRS	R17,7
    03BF4 C004      RJMP	0x3BF9
    03BF5 9510      COM	R17
    03BF6 9500      COM	R16
    03BF7 5F0F      SUBI	R16,0xFF
    03BF8 4F1F      SBCI	R17,0xFF
    03BF9 FF37      SBRS	R19,7
    03BFA C004      RJMP	0x3BFF
    03BFB 9530      COM	R19
    03BFC 9520      COM	R18
    03BFD 5F2F      SUBI	R18,0xFF
    03BFE 4F3F      SBCI	R19,0xFF
    03BFF 940E 3C0C CALL	xdiv16u
    03C01 FED7      SBRS	R13,7
    03C02 C004      RJMP	0x3C07
    03C03 9510      COM	R17
    03C04 9500      COM	R16
    03C05 5F0F      SUBI	R16,0xFF
    03C06 4F1F      SBCI	R17,0xFF
    03C07 90D9      LD	R13,Y+
    03C08 9508      RET
mod16u:
    03C09 9468      BSET	6
    03C0A C001      RJMP	xdiv16u
div16u:
    03C0B 94E8      BCLR	6
xdiv16u:
    03C0C 92EA      ST	-Y,R14
    03C0D 92FA      ST	-Y,R15
    03C0E 938A      ST	-Y,R24
    03C0F 24EE      CLR	R14
    03C10 24FF      CLR	R15
    03C11 E180      LDI	R24,0x10
    03C12 0F00      LSL	R16
    03C13 1F11      ROL	R17
    03C14 1CEE      ROL	R14
    03C15 1CFF      ROL	R15
    03C16 16E2      CP	R14,R18
    03C17 06F3      CPC	R15,R19
    03C18 F018      BCS	0x3C1C
    03C19 1AE2      SUB	R14,R18
    03C1A 0AF3      SBC	R15,R19
    03C1B 9503      INC	R16
    03C1C 958A      DEC	R24
    03C1D F7A1      BNE	0x3C12
    03C1E F416      BRTC	0x3C21
    03C1F 2D0E      MOV	R16,R14
    03C20 2D1F      MOV	R17,R15
    03C21 9189      LD	R24,Y+
    03C22 90F9      LD	R15,Y+
    03C23 90E9      LD	R14,Y+
    03C24 9508      RET
elpm32:
    03C25 93EA      ST	-Y,R30
    03C26 93FA      ST	-Y,R31
    03C27 920A      ST	-Y,R0
    03C28 2FE0      MOV	R30,R16
    03C29 2FF1      MOV	R31,R17
    03C2A 95D8      ELPM
    03C2B 2D00      MOV	R16,R0
    03C2C 9631      ADIW	R30,1
    03C2D 95D8      ELPM
    03C2E 2D10      MOV	R17,R0
    03C2F 9631      ADIW	R30,1
    03C30 95D8      ELPM
    03C31 2D20      MOV	R18,R0
    03C32 9631      ADIW	R30,1
    03C33 95D8      ELPM
    03C34 2D30      MOV	R19,R0
    03C35 9009      LD	R0,Y+
    03C36 91F9      LD	R31,Y+
    03C37 91E9      LD	R30,Y+
    03C38 9508      RET
empy16s:
    03C39 920A      ST	-Y,R0
    03C3A 921A      ST	-Y,R1
    03C3B 938A      ST	-Y,R24
    03C3C 939A      ST	-Y,R25
    03C3D 9F02      MUL	R16,R18
    03C3E 01C0      MOVW	R24,R0
    03C3F 9F12      MUL	R17,R18
    03C40 0D90      ADD	R25,R0
    03C41 9F03      MUL	R16,R19
    03C42 0D90      ADD	R25,R0
    03C43 018C      MOVW	R16,R24
    03C44 9199      LD	R25,Y+
    03C45 9189      LD	R24,Y+
    03C46 9019      LD	R1,Y+
    03C47 9009      LD	R0,Y+
    03C48 9508      RET
pop_xgset003C:
    03C49 90A9      LD	R10,Y+
    03C4A 90B9      LD	R11,Y+
    03C4B 90C9      LD	R12,Y+
    03C4C 90D9      LD	R13,Y+
    03C4D 9508      RET
pop_xgset00FC:
    03C4E 90A9      LD	R10,Y+
    03C4F 90B9      LD	R11,Y+
    03C50 90C9      LD	R12,Y+
    03C51 90D9      LD	R13,Y+
    03C52 90E9      LD	R14,Y+
    03C53 90F9      LD	R15,Y+
    03C54 9508      RET
pop_xgsetF0FC:
    03C55 90A9      LD	R10,Y+
    03C56 90B9      LD	R11,Y+
    03C57 90C9      LD	R12,Y+
    03C58 90D9      LD	R13,Y+
    03C59 90E9      LD	R14,Y+
    03C5A 90F9      LD	R15,Y+
    03C5B 9149      LD	R20,Y+
    03C5C 9159      LD	R21,Y+
    03C5D 9169      LD	R22,Y+
    03C5E 9179      LD	R23,Y+
    03C5F 9508      RET
push_xgsetF0FC:
    03C60 937A      ST	-Y,R23
    03C61 936A      ST	-Y,R22
push_xgset30FC:
    03C62 935A      ST	-Y,R21
    03C63 934A      ST	-Y,R20
push_xgset00FC:
    03C64 92FA      ST	-Y,R15
    03C65 92EA      ST	-Y,R14
push_xgset003C:
    03C66 92DA      ST	-Y,R13
    03C67 92CA      ST	-Y,R12
    03C68 92BA      ST	-Y,R11
    03C69 92AA      ST	-Y,R10
    03C6A 9508      RET
push_xgset300C:
    03C6B 935A      ST	-Y,R21
    03C6C 934A      ST	-Y,R20
    03C6D 92BA      ST	-Y,R11
    03C6E 92AA      ST	-Y,R10
    03C6F 9508      RET
pop_xgset300C:
    03C70 90A9      LD	R10,Y+
    03C71 90B9      LD	R11,Y+
    03C72 9149      LD	R20,Y+
    03C73 9159      LD	R21,Y+
    03C74 9508      RET
push_xgsetF000:
    03C75 937A      ST	-Y,R23
    03C76 936A      ST	-Y,R22
    03C77 935A      ST	-Y,R21
    03C78 934A      ST	-Y,R20
    03C79 9508      RET
pop_xgsetF000:
    03C7A 9149      LD	R20,Y+
    03C7B 9159      LD	R21,Y+
    03C7C 9169      LD	R22,Y+
    03C7D 9179      LD	R23,Y+
    03C7E 9508      RET
push_xgsetF00C:
    03C7F 937A      ST	-Y,R23
    03C80 936A      ST	-Y,R22
    03C81 935A      ST	-Y,R21
    03C82 934A      ST	-Y,R20
    03C83 92BA      ST	-Y,R11
    03C84 92AA      ST	-Y,R10
    03C85 9508      RET
pop_xgsetF00C:
    03C86 90A9      LD	R10,Y+
    03C87 90B9      LD	R11,Y+
    03C88 9149      LD	R20,Y+
    03C89 9159      LD	R21,Y+
    03C8A 9169      LD	R22,Y+
    03C8B 9179      LD	R23,Y+
    03C8C 9508      RET
push_xgset303C:
    03C8D 935A      ST	-Y,R21
    03C8E 934A      ST	-Y,R20
    03C8F 92DA      ST	-Y,R13
    03C90 92CA      ST	-Y,R12
    03C91 92BA      ST	-Y,R11
    03C92 92AA      ST	-Y,R10
    03C93 9508      RET
pop_xgset303C:
    03C94 90A9      LD	R10,Y+
    03C95 90B9      LD	R11,Y+
    03C96 90C9      LD	R12,Y+
    03C97 90D9      LD	R13,Y+
    03C98 9149      LD	R20,Y+
    03C99 9159      LD	R21,Y+
    03C9A 9508      RET
push_xgsetF03C:
    03C9B 937A      ST	-Y,R23
    03C9C 936A      ST	-Y,R22
    03C9D 935A      ST	-Y,R21
    03C9E 934A      ST	-Y,R20
    03C9F 92DA      ST	-Y,R13
    03CA0 92CA      ST	-Y,R12
    03CA1 92BA      ST	-Y,R11
    03CA2 92AA      ST	-Y,R10
    03CA3 9508      RET
pop_xgsetF03C:
    03CA4 90A9      LD	R10,Y+
    03CA5 90B9      LD	R11,Y+
    03CA6 90C9      LD	R12,Y+
    03CA7 90D9      LD	R13,Y+
    03CA8 9149      LD	R20,Y+
    03CA9 9159      LD	R21,Y+
    03CAA 9169      LD	R22,Y+
    03CAB 9179      LD	R23,Y+
    03CAC 9508      RET
neg32:
    03CAD 9500      COM	R16
    03CAE 9510      COM	R17
    03CAF 9520      COM	R18
    03CB0 9530      COM	R19
    03CB1 5F0F      SUBI	R16,0xFF
    03CB2 4F1F      SBCI	R17,0xFF
    03CB3 4F2F      SBCI	R18,0xFF
    03CB4 4F3F      SBCI	R19,0xFF
    03CB5 9508      RET
lsl8:
    03CB6 2311      TST	R17
    03CB7 F019      BEQ	0x3CBB
    03CB8 0F00      LSL	R16
    03CB9 951A      DEC	R17
    03CBA CFFB      RJMP	lsl8
    03CBB 9508      RET
asgnblk:
    03CBC 93AA      ST	-Y,R26
    03CBD 93BA      ST	-Y,R27
    03CBE 93EA      ST	-Y,R30
    03CBF 93FA      ST	-Y,R31
    03CC0 920A      ST	-Y,R0
    03CC1 81AF      LDD	R26,Y+7
    03CC2 85B8      LDD	R27,Y+8
    03CC3 81ED      LDD	R30,Y+5
    03CC4 81FE      LDD	R31,Y+6
    03CC5 3000      CPI	R16,0
    03CC6 0701      CPC	R16,R17
    03CC7 F029      BEQ	0x3CCD
    03CC8 9001      LD	R0,Z+
    03CC9 920D      ST	X+,R0
    03CCA 5001      SUBI	R16,1
    03CCB 4010      SBCI	R17,0
    03CCC CFF8      RJMP	0x3CC5
    03CCD 9009      LD	R0,Y+
    03CCE 91F9      LD	R31,Y+
    03CCF 91E9      LD	R30,Y+
    03CD0 91B9      LD	R27,Y+
    03CD1 91A9      LD	R26,Y+
    03CD2 9624      ADIW	R28,4
    03CD3 9508      RET
fpsub:
    03CD4 9468      BSET	6
    03CD5 C001      RJMP	fpadd_alt
fpadd:
    03CD6 94E8      BCLR	6
fpadd_alt:
    03CD7 940E 3EE4 CALL	saveFPRegs
    03CD9 940E 3E76 CALL	unpacks
    03CDB F409      BNE	0x3CDD
    03CDC C048      RJMP	0x3D25
    03CDD 2CE6      MOV	R14,R6
    03CDE 2CD5      MOV	R13,R5
    03CDF 2CC4      MOV	R12,R4
    03CE0 2EB3      MOV	R11,R19
    03CE1 2EA2      MOV	R10,R18
    03CE2 2E91      MOV	R9,R17
    03CE3 2E80      MOV	R8,R16
    03CE4 8100      LD	R16,Z
    03CE5 8111      LDD	R17,Z+1
    03CE6 8122      LDD	R18,Z+2
    03CE7 8133      LDD	R19,Z+3
    03CE8 940E 3E76 CALL	unpacks
    03CEA F409      BNE	0x3CEC
    03CEB C044      RJMP	0x3D30
    03CEC 2D84      MOV	R24,R4
    03CED 2D95      MOV	R25,R5
    03CEE 198C      SUB	R24,R12
    03CEF 099D      SBC	R25,R13
    03CF0 F0B9      BEQ	0x3D08
    03CF1 F472      BPL	0x3D00
    03CF2 9590      COM	R25
    03CF3 9580      COM	R24
    03CF4 9601      ADIW	R24,1
    03CF5 2C4C      MOV	R4,R12
    03CF6 2C5D      MOV	R5,R13
    03CF7 3188      CPI	R24,0x18
    03CF8 F5B8      BCC	0x3D30
    03CF9 9535      ASR	R19
    03CFA 9527      ROR	R18
    03CFB 9517      ROR	R17
    03CFC 9507      ROR	R16
    03CFD 9701      SBIW	R24,1
    03CFE F7D1      BNE	0x3CF9
    03CFF C008      RJMP	0x3D08
    03D00 3188      CPI	R24,0x18
    03D01 F518      BCC	0x3D25
    03D02 94B5      ASR	R11
    03D03 94A7      ROR	R10
    03D04 9497      ROR	R9
    03D05 9487      ROR	R8
    03D06 9701      SBIW	R24,1
    03D07 F7D1      BNE	0x3D02
    03D08 2466      CLR	R6
    03D09 F02E      BRTS	0x3D0F
    03D0A 0D08      ADD	R16,R8
    03D0B 1D19      ADC	R17,R9
    03D0C 1D2A      ADC	R18,R10
    03D0D 1D3B      ADC	R19,R11
    03D0E C009      RJMP	0x3D18
    03D0F 1A80      SUB	R8,R16
    03D10 0A91      SBC	R9,R17
    03D11 0AA2      SBC	R10,R18
    03D12 0AB3      SBC	R11,R19
    03D13 2D08      MOV	R16,R8
    03D14 2D19      MOV	R17,R9
    03D15 2D2A      MOV	R18,R10
    03D16 2D3B      MOV	R19,R11
    03D17 2333      TST	R19
    03D18 F422      BPL	0x3D1D
    03D19 940E 3CAD CALL	neg32
    03D1B E880      LDI	R24,0x80
    03D1C 2E68      MOV	R6,R24
    03D1D 940E 3E9F CALL	normalize_and_pack
    03D1F C002      RJMP	0x3D22
    03D20 940E 3ED4 CALL	pack
    03D22 940E 3EF3 CALL	restoreFPRegs
    03D24 9508      RET
    03D25 8100      LD	R16,Z
    03D26 8111      LDD	R17,Z+1
    03D27 8122      LDD	R18,Z+2
    03D28 8133      LDD	R19,Z+3
    03D29 F7C6      BRTC	0x3D22
    03D2A 940E 3E7E CALL	tstR16_R19
    03D2C F3A9      BEQ	0x3D22
    03D2D E880      LDI	R24,0x80
    03D2E 2738      EOR	R19,R24
    03D2F CFF2      RJMP	0x3D22
    03D30 2D08      MOV	R16,R8
    03D31 2D19      MOV	R17,R9
    03D32 2D2A      MOV	R18,R10
    03D33 2D3B      MOV	R19,R11
    03D34 2C4C      MOV	R4,R12
    03D35 2C5D      MOV	R5,R13
    03D36 2C6E      MOV	R6,R14
    03D37 2333      TST	R19
    03D38 F73A      BPL	0x3D20
    03D39 940E 3CAD CALL	neg32
    03D3B E880      LDI	R24,0x80
    03D3C 2E68      MOV	R6,R24
    03D3D CFE2      RJMP	0x3D20
fpadd1x:
    03D3E 93FA      ST	-Y,R31
    03D3F 93EA      ST	-Y,R30
    03D40 81EA      LDD	R30,Y+2
    03D41 81FB      LDD	R31,Y+3
    03D42 940E 3CD6 CALL	fpadd
    03D44 91E9      LD	R30,Y+
    03D45 91F9      LD	R31,Y+
    03D46 8339      STD	Y+1,R19
    03D47 8328      ST	Y,R18
    03D48 931A      ST	-Y,R17
    03D49 930A      ST	-Y,R16
    03D4A 9508      RET
fpadd2:
    03D4B 93FA      ST	-Y,R31
    03D4C 93EA      ST	-Y,R30
    03D4D 2FEC      MOV	R30,R28
    03D4E 2FFD      MOV	R31,R29
    03D4F 9632      ADIW	R30,2
    03D50 940E 3CD6 CALL	fpadd
    03D52 91E9      LD	R30,Y+
    03D53 91F9      LD	R31,Y+
    03D54 9624      ADIW	R28,4
    03D55 9508      RET
fpsub1:
    03D56 93FA      ST	-Y,R31
    03D57 93EA      ST	-Y,R30
    03D58 81EA      LDD	R30,Y+2
    03D59 81FB      LDD	R31,Y+3
    03D5A 940E 3CD4 CALL	fpsub
    03D5C 91E9      LD	R30,Y+
    03D5D 91F9      LD	R31,Y+
    03D5E 9622      ADIW	R28,2
    03D5F 9508      RET
fpsub2:
    03D60 93FA      ST	-Y,R31
    03D61 93EA      ST	-Y,R30
    03D62 2FEC      MOV	R30,R28
    03D63 2FFD      MOV	R31,R29
    03D64 9632      ADIW	R30,2
    03D65 940E 3CD4 CALL	fpsub
    03D67 91E9      LD	R30,Y+
    03D68 91F9      LD	R31,Y+
    03D69 9624      ADIW	R28,4
    03D6A 9508      RET
fpsub1x:
    03D6B 93FA      ST	-Y,R31
    03D6C 93EA      ST	-Y,R30
    03D6D 81EA      LDD	R30,Y+2
    03D6E 81FB      LDD	R31,Y+3
    03D6F 940E 3CD4 CALL	fpsub
    03D71 91E9      LD	R30,Y+
    03D72 91F9      LD	R31,Y+
    03D73 8339      STD	Y+1,R19
    03D74 8328      ST	Y,R18
    03D75 931A      ST	-Y,R17
    03D76 930A      ST	-Y,R16
    03D77 9508      RET
fpsub2x:
    03D78 93FA      ST	-Y,R31
    03D79 93EA      ST	-Y,R30
    03D7A 2FEC      MOV	R30,R28
    03D7B 2FFD      MOV	R31,R29
    03D7C 9632      ADIW	R30,2
    03D7D 940E 3CD4 CALL	fpsub
    03D7F 91E9      LD	R30,Y+
    03D80 91F9      LD	R31,Y+
    03D81 833B      STD	Y+3,R19
    03D82 832A      STD	Y+2,R18
    03D83 8319      STD	Y+1,R17
    03D84 8308      ST	Y,R16
    03D85 9508      RET
fpint:
    03D86 924A      ST	-Y,R4
    03D87 925A      ST	-Y,R5
    03D88 926A      ST	-Y,R6
    03D89 938A      ST	-Y,R24
    03D8A 940E 3E86 CALL	unpacku
    03D8C F111      BEQ	0x3DAF
    03D8D 2055      TST	R5
    03D8E F0E2      BMI	0x3DAB
    03D8F E18F      LDI	R24,0x1F
    03D90 1648      CP	R4,R24
    03D91 F4C0      BCC	0x3DAA
    03D92 E187      LDI	R24,0x17
    03D93 1648      CP	R4,R24
    03D94 F0D1      BEQ	0x3DAF
    03D95 F458      BCC	0x3DA1
    03D96 9441      NEG	R4
    03D97 EE89      LDI	R24,0xE9
    03D98 1A48      SUB	R4,R24
    03D99 C005      RJMP	0x3D9F
    03D9A 9535      ASR	R19
    03D9B 9527      ROR	R18
    03D9C 9517      ROR	R17
    03D9D 9507      ROR	R16
    03D9E 944A      DEC	R4
    03D9F F7D1      BNE	0x3D9A
    03DA0 C00E      RJMP	0x3DAF
    03DA1 E187      LDI	R24,0x17
    03DA2 1A48      SUB	R4,R24
    03DA3 0F00      LSL	R16
    03DA4 1F11      ROL	R17
    03DA5 1F22      ROL	R18
    03DA6 1F33      ROL	R19
    03DA7 944A      DEC	R4
    03DA8 F7D1      BNE	0x3DA3
    03DA9 C005      RJMP	0x3DAF
    03DAA E73F      LDI	R19,0x7F
    03DAB 2F23      MOV	R18,R19
    03DAC 2F13      MOV	R17,R19
    03DAD 2F03      MOV	R16,R19
    03DAE C004      RJMP	0x3DB3
    03DAF 2066      TST	R6
    03DB0 F011      BEQ	0x3DB3
    03DB1 940E 3CAD CALL	neg32
    03DB3 9189      LD	R24,Y+
    03DB4 9069      LD	R6,Y+
    03DB5 9059      LD	R5,Y+
    03DB6 9049      LD	R4,Y+
    03DB7 9508      RET
uint2fp:
    03DB8 9468      BSET	6
    03DB9 C001      RJMP	0x3DBB
int2fp:
    03DBA 94E8      BCLR	6
    03DBB 2722      CLR	R18
    03DBC 2733      CLR	R19
    03DBD F046      BRTS	0x3DC6
    03DBE FD17      SBRC	R17,7
    03DBF 9520      COM	R18
    03DC0 FD17      SBRC	R17,7
    03DC1 9530      COM	R19
    03DC2 C003      RJMP	0x3DC6
ulong2fp:
    03DC3 9468      BSET	6
    03DC4 C001      RJMP	0x3DC6
long2fp:
    03DC5 94E8      BCLR	6
    03DC6 924A      ST	-Y,R4
    03DC7 925A      ST	-Y,R5
    03DC8 926A      ST	-Y,R6
    03DC9 938A      ST	-Y,R24
    03DCA E187      LDI	R24,0x17
    03DCB 2E48      MOV	R4,R24
    03DCC 2455      CLR	R5
    03DCD 2466      CLR	R6
    03DCE F036      BRTS	0x3DD5
    03DCF 2333      TST	R19
    03DD0 F422      BPL	0x3DD5
    03DD1 940E 3CAD CALL	neg32
    03DD3 E880      LDI	R24,0x80
    03DD4 2E68      MOV	R6,R24
    03DD5 940E 3E9F CALL	normalize_and_pack
    03DD7 9189      LD	R24,Y+
    03DD8 9069      LD	R6,Y+
    03DD9 9059      LD	R5,Y+
    03DDA 9049      LD	R4,Y+
    03DDB 9508      RET
fpdiv1:
    03DDC 93FA      ST	-Y,R31
    03DDD 93EA      ST	-Y,R30
    03DDE 81EA      LDD	R30,Y+2
    03DDF 81FB      LDD	R31,Y+3
    03DE0 D027      RCALL	0x3E08
    03DE1 91E9      LD	R30,Y+
    03DE2 91F9      LD	R31,Y+
    03DE3 9622      ADIW	R28,2
    03DE4 9508      RET
fpdiv2:
    03DE5 93FA      ST	-Y,R31
    03DE6 93EA      ST	-Y,R30
    03DE7 2FEC      MOV	R30,R28
    03DE8 2FFD      MOV	R31,R29
    03DE9 9632      ADIW	R30,2
    03DEA D01D      RCALL	0x3E08
    03DEB 91E9      LD	R30,Y+
    03DEC 91F9      LD	R31,Y+
    03DED 9624      ADIW	R28,4
    03DEE 9508      RET
fpdiv1x:
    03DEF 93FA      ST	-Y,R31
    03DF0 93EA      ST	-Y,R30
    03DF1 81EA      LDD	R30,Y+2
    03DF2 81FB      LDD	R31,Y+3
    03DF3 D014      RCALL	0x3E08
    03DF4 91E9      LD	R30,Y+
    03DF5 91F9      LD	R31,Y+
    03DF6 8339      STD	Y+1,R19
    03DF7 8328      ST	Y,R18
    03DF8 931A      ST	-Y,R17
    03DF9 930A      ST	-Y,R16
    03DFA 9508      RET
fpdiv2x:
    03DFB 93FA      ST	-Y,R31
    03DFC 93EA      ST	-Y,R30
    03DFD 2FEC      MOV	R30,R28
    03DFE 2FFD      MOV	R31,R29
    03DFF 9632      ADIW	R30,2
    03E00 D007      RCALL	0x3E08
    03E01 91E9      LD	R30,Y+
    03E02 91F9      LD	R31,Y+
    03E03 833B      STD	Y+3,R19
    03E04 832A      STD	Y+2,R18
    03E05 8319      STD	Y+1,R17
    03E06 8308      ST	Y,R16
    03E07 9508      RET
    03E08 920A      ST	-Y,R0
    03E09 921A      ST	-Y,R1
    03E0A 922A      ST	-Y,R2
    03E0B 923A      ST	-Y,R3
    03E0C 940E 3EE4 CALL	saveFPRegs
    03E0E 933A      ST	-Y,R19
    03E0F 932A      ST	-Y,R18
    03E10 931A      ST	-Y,R17
    03E11 930A      ST	-Y,R16
    03E12 8100      LD	R16,Z
    03E13 8111      LDD	R17,Z+1
    03E14 8122      LDD	R18,Z+2
    03E15 8133      LDD	R19,Z+3
    03E16 940E 3E86 CALL	unpacku
    03E18 F409      BNE	0x3E1A
    03E19 C057      RJMP	0x3E71
    03E1A 2CE6      MOV	R14,R6
    03E1B 2CD5      MOV	R13,R5
    03E1C 2CC4      MOV	R12,R4
    03E1D 2EB3      MOV	R11,R19
    03E1E 2EA2      MOV	R10,R18
    03E1F 2E91      MOV	R9,R17
    03E20 2E80      MOV	R8,R16
    03E21 9109      LD	R16,Y+
    03E22 9119      LD	R17,Y+
    03E23 9129      LD	R18,Y+
    03E24 9139      LD	R19,Y+
    03E25 940E 3E86 CALL	unpacku
    03E27 F1A1      BEQ	0x3E5C
    03E28 246E      EOR	R6,R14
    03E29 184C      SUB	R4,R12
    03E2A 085D      SBC	R5,R13
    03E2B E880      LDI	R24,0x80
    03E2C 1648      CP	R4,R24
    03E2D 0653      CPC	R5,R19
    03E2E F00C      BLT	0x3E30
    03E2F C033      RJMP	0x3E63
    03E30 E881      LDI	R24,0x81
    03E31 1648      CP	R4,R24
    03E32 EF8F      LDI	R24,0xFF
    03E33 0658      CPC	R5,R24
    03E34 F40C      BGE	0x3E36
    03E35 C036      RJMP	0x3E6C
    03E36 E280      LDI	R24,0x20
    03E37 2433      CLR	R3
    03E38 2E23      MOV	R2,R19
    03E39 2E12      MOV	R1,R18
    03E3A 2E01      MOV	R0,R17
    03E3B 2F30      MOV	R19,R16
    03E3C 2722      CLR	R18
    03E3D 2711      CLR	R17
    03E3E 2700      CLR	R16
    03E3F 9426      LSR	R2
    03E40 9417      ROR	R1
    03E41 9407      ROR	R0
    03E42 9537      ROR	R19
    03E43 9527      ROR	R18
    03E44 0F00      LSL	R16
    03E45 1F11      ROL	R17
    03E46 1F22      ROL	R18
    03E47 1F33      ROL	R19
    03E48 1C00      ROL	R0
    03E49 1C11      ROL	R1
    03E4A 1C22      ROL	R2
    03E4B 1C33      ROL	R3
    03E4C F028      BCS	0x3E52
    03E4D 1808      SUB	R0,R8
    03E4E 0819      SBC	R1,R9
    03E4F 082A      SBC	R2,R10
    03E50 083B      SBC	R3,R11
    03E51 C004      RJMP	0x3E56
    03E52 0C08      ADD	R0,R8
    03E53 1C19      ADC	R1,R9
    03E54 1C2A      ADC	R2,R10
    03E55 1C3B      ADC	R3,R11
    03E56 F00A      BMI	0x3E58
    03E57 6001      ORI	R16,1
    03E58 958A      DEC	R24
    03E59 F751      BNE	0x3E44
    03E5A 940E 3E9F CALL	normalize_and_pack
    03E5C 940E 3EF3 CALL	restoreFPRegs
    03E5E 9039      LD	R3,Y+
    03E5F 9029      LD	R2,Y+
    03E60 9019      LD	R1,Y+
    03E61 9009      LD	R0,Y+
    03E62 9508      RET
    03E63 EF0F      LDI	R16,0xFF
    03E64 2F10      MOV	R17,R16
    03E65 E72F      LDI	R18,0x7F
    03E66 E73F      LDI	R19,0x7F
    03E67 2066      TST	R6
    03E68 F399      BEQ	0x3E5C
    03E69 940E 3CAD CALL	neg32
    03E6B CFF0      RJMP	0x3E5C
    03E6C 2700      CLR	R16
    03E6D 2F10      MOV	R17,R16
    03E6E 2F20      MOV	R18,R16
    03E6F 2F30      MOV	R19,R16
    03E70 CFEB      RJMP	0x3E5C
    03E71 9109      LD	R16,Y+
    03E72 9119      LD	R17,Y+
    03E73 9129      LD	R18,Y+
    03E74 9139      LD	R19,Y+
    03E75 CFED      RJMP	0x3E63
unpacks:
    03E76 D00F      RCALL	unpacku
    03E77 F029      BEQ	0x3E7D
    03E78 2066      TST	R6
    03E79 F011      BEQ	0x3E7C
    03E7A 940E 3CAD CALL	neg32
    03E7C 9498      BCLR	1
    03E7D 9508      RET
tstR16_R19:
    03E7E 2300      TST	R16
    03E7F F429      BNE	0x3E85
    03E80 2311      TST	R17
    03E81 F419      BNE	0x3E85
    03E82 2322      TST	R18
    03E83 F409      BNE	0x3E85
    03E84 2333      TST	R19
    03E85 9508      RET
unpacku:
    03E86 DFF7      RCALL	tstR16_R19
    03E87 F099      BEQ	0x3E9B
    03E88 938A      ST	-Y,R24
    03E89 2E63      MOV	R6,R19
    03E8A E880      LDI	R24,0x80
    03E8B 2268      AND	R6,R24
    03E8C 0F22      LSL	R18
    03E8D 1F33      ROL	R19
    03E8E 2E43      MOV	R4,R19
    03E8F E78F      LDI	R24,0x7F
    03E90 1A48      SUB	R4,R24
    03E91 2455      CLR	R5
    03E92 2788      CLR	R24
    03E93 0A58      SBC	R5,R24
    03E94 9526      LSR	R18
    03E95 E830      LDI	R19,0x80
    03E96 2B23      OR	R18,R19
    03E97 2733      CLR	R19
    03E98 9189      LD	R24,Y+
    03E99 9498      BCLR	1
    03E9A 9508      RET
    03E9B 2444      CLR	R4
    03E9C 2455      CLR	R5
    03E9D 2466      CLR	R6
    03E9E 9508      RET
normalize_and_pack:
    03E9F DFDE      RCALL	tstR16_R19
    03EA0 F409      BNE	0x3EA2
    03EA1 9508      RET
    03EA2 93AA      ST	-Y,R26
    03EA3 93BA      ST	-Y,R27
    03EA4 01D2      MOVW	R26,R4
    03EA5 939A      ST	-Y,R25
    03EA6 938A      ST	-Y,R24
    03EA7 E78E      LDI	R24,0x7E
    03EA8 E090      LDI	R25,0
    03EA9 2333      TST	R19
    03EAA F049      BEQ	0x3EB4
    03EAB 9536      LSR	R19
    03EAC 9527      ROR	R18
    03EAD 9517      ROR	R17
    03EAE 9507      ROR	R16
    03EAF 17A8      CP	R26,R24
    03EB0 07B9      CPC	R27,R25
    03EB1 F4CC      BGE	0x3ECB
    03EB2 9611      ADIW	R26,1
    03EB3 CFF5      RJMP	0x3EA9
    03EB4 9580      COM	R24
    03EB5 9590      COM	R25
    03EB6 9601      ADIW	R24,1
    03EB7 2322      TST	R18
    03EB8 F0BA      BMI	0x3ED0
    03EB9 0F00      LSL	R16
    03EBA 1F11      ROL	R17
    03EBB 1F22      ROL	R18
    03EBC 17A8      CP	R26,R24
    03EBD 07B9      CPC	R27,R25
    03EBE F014      BLT	0x3EC1
    03EBF 9711      SBIW	R26,1
    03EC0 CFF6      RJMP	0x3EB7
    03EC1 2700      CLR	R16
    03EC2 2711      CLR	R17
    03EC3 2722      CLR	R18
    03EC4 2733      CLR	R19
    03EC5 9189      LD	R24,Y+
    03EC6 9199      LD	R25,Y+
    03EC7 012D      MOVW	R4,R26
    03EC8 91B9      LD	R27,Y+
    03EC9 91A9      LD	R26,Y+
    03ECA 9508      RET
    03ECB 2733      CLR	R19
    03ECC EF0F      LDI	R16,0xFF
    03ECD 2F10      MOV	R17,R16
    03ECE E72F      LDI	R18,0x7F
    03ECF 2F32      MOV	R19,R18
    03ED0 9189      LD	R24,Y+
    03ED1 9199      LD	R25,Y+
    03ED2 012D      MOVW	R4,R26
    03ED3 C002      RJMP	0x3ED6
pack:
    03ED4 93AA      ST	-Y,R26
    03ED5 93BA      ST	-Y,R27
    03ED6 DFA7      RCALL	tstR16_R19
    03ED7 F049      BEQ	0x3EE1
    03ED8 01D2      MOVW	R26,R4
    03ED9 58A1      SUBI	R26,0x81
    03EDA 4FBF      SBCI	R27,0xFF
    03EDB 012D      MOVW	R4,R26
    03EDC 2D34      MOV	R19,R4
    03EDD 0F22      LSL	R18
    03EDE 9536      LSR	R19
    03EDF 9527      ROR	R18
    03EE0 2936      OR	R19,R6
    03EE1 91B9      LD	R27,Y+
    03EE2 91A9      LD	R26,Y+
    03EE3 9508      RET
saveFPRegs:
    03EE4 924A      ST	-Y,R4
    03EE5 925A      ST	-Y,R5
    03EE6 926A      ST	-Y,R6
    03EE7 927A      ST	-Y,R7
    03EE8 928A      ST	-Y,R8
    03EE9 929A      ST	-Y,R9
    03EEA 92AA      ST	-Y,R10
    03EEB 92BA      ST	-Y,R11
    03EEC 92CA      ST	-Y,R12
    03EED 92DA      ST	-Y,R13
    03EEE 92EA      ST	-Y,R14
    03EEF 92FA      ST	-Y,R15
    03EF0 938A      ST	-Y,R24
    03EF1 939A      ST	-Y,R25
    03EF2 9508      RET
restoreFPRegs:
    03EF3 9199      LD	R25,Y+
    03EF4 9189      LD	R24,Y+
    03EF5 90F9      LD	R15,Y+
    03EF6 90E9      LD	R14,Y+
    03EF7 90D9      LD	R13,Y+
    03EF8 90C9      LD	R12,Y+
    03EF9 90B9      LD	R11,Y+
    03EFA 90A9      LD	R10,Y+
    03EFB 9099      LD	R9,Y+
    03EFC 9089      LD	R8,Y+
    03EFD 9079      LD	R7,Y+
    03EFE 9069      LD	R6,Y+
    03EFF 9059      LD	R5,Y+
    03F00 9049      LD	R4,Y+
    03F01 9508      RET
fpmule:
    03F02 940E 3EE4 CALL	saveFPRegs
    03F04 93AA      ST	-Y,R26
    03F05 93BA      ST	-Y,R27
    03F06 940E 3E86 CALL	unpacku
    03F08 F1E1      BEQ	0x3F45
    03F09 2CE6      MOV	R14,R6
    03F0A 2CD5      MOV	R13,R5
    03F0B 2CC4      MOV	R12,R4
    03F0C 2EB3      MOV	R11,R19
    03F0D 2EA2      MOV	R10,R18
    03F0E 2E91      MOV	R9,R17
    03F0F 2E80      MOV	R8,R16
    03F10 8100      LD	R16,Z
    03F11 8111      LDD	R17,Z+1
    03F12 8122      LDD	R18,Z+2
    03F13 8133      LDD	R19,Z+3
    03F14 940E 3E86 CALL	unpacku
    03F16 F171      BEQ	0x3F45
    03F17 246E      EOR	R6,R14
    03F18 0C4C      ADD	R4,R12
    03F19 1C5D      ADC	R5,R13
    03F1A E880      LDI	R24,0x80
    03F1B 1648      CP	R4,R24
    03F1C 0653      CPC	R5,R19
    03F1D F564      BGE	0x3F4A
    03F1E E881      LDI	R24,0x81
    03F1F 1648      CP	R4,R24
    03F20 EF8F      LDI	R24,0xFF
    03F21 0658      CPC	R5,R24
    03F22 F16C      BLT	0x3F50
    03F23 9EA2      MUL	R10,R18
    03F24 2DB1      MOV	R27,R1
    03F25 2DA0      MOV	R26,R0
    03F26 9E91      MUL	R9,R17
    03F27 2D91      MOV	R25,R1
    03F28 2D80      MOV	R24,R0
    03F29 9EA0      MUL	R10,R16
    03F2A 0D80      ADD	R24,R0
    03F2B 1D91      ADC	R25,R1
    03F2C 1FA3      ADC	R26,R19
    03F2D 1FB3      ADC	R27,R19
    03F2E 9E82      MUL	R8,R18
    03F2F 0D80      ADD	R24,R0
    03F30 1D91      ADC	R25,R1
    03F31 1FA3      ADC	R26,R19
    03F32 1FB3      ADC	R27,R19
    03F33 9E92      MUL	R9,R18
    03F34 0D90      ADD	R25,R0
    03F35 1DA1      ADC	R26,R1
    03F36 1FB3      ADC	R27,R19
    03F37 9EA1      MUL	R10,R17
    03F38 0D90      ADD	R25,R0
    03F39 1DA1      ADC	R26,R1
    03F3A 1FB3      ADC	R27,R19
    03F3B 2F2B      MOV	R18,R27
    03F3C 2F1A      MOV	R17,R26
    03F3D 2F09      MOV	R16,R25
    03F3E 0F88      LSL	R24
    03F3F 1F00      ROL	R16
    03F40 1F11      ROL	R17
    03F41 1F22      ROL	R18
    03F42 1F33      ROL	R19
    03F43 940E 3E9F CALL	normalize_and_pack
    03F45 91B9      LD	R27,Y+
    03F46 91A9      LD	R26,Y+
    03F47 940E 3EF3 CALL	restoreFPRegs
    03F49 9508      RET
    03F4A EF0F      LDI	R16,0xFF
    03F4B 2F10      MOV	R17,R16
    03F4C E72F      LDI	R18,0x7F
    03F4D E78F      LDI	R24,0x7F
    03F4E 2E48      MOV	R4,R24
    03F4F CFF5      RJMP	0x3F45
    03F50 2700      CLR	R16
    03F51 2F10      MOV	R17,R16
    03F52 2F20      MOV	R18,R16
    03F53 2F30      MOV	R19,R16
    03F54 CFF0      RJMP	0x3F45
fpmule2:
    03F55 93FA      ST	-Y,R31
    03F56 93EA      ST	-Y,R30
    03F57 2FEC      MOV	R30,R28
    03F58 2FFD      MOV	R31,R29
    03F59 9632      ADIW	R30,2
    03F5A 940E 3F02 CALL	fpmule
    03F5C 91E9      LD	R30,Y+
    03F5D 91F9      LD	R31,Y+
    03F5E 9624      ADIW	R28,4
    03F5F 9508      RET
fpmule1x:
    03F60 93FA      ST	-Y,R31
    03F61 93EA      ST	-Y,R30
    03F62 81EA      LDD	R30,Y+2
    03F63 81FB      LDD	R31,Y+3
    03F64 940E 3F02 CALL	fpmule
    03F66 91E9      LD	R30,Y+
    03F67 91F9      LD	R31,Y+
    03F68 8339      STD	Y+1,R19
    03F69 8328      ST	Y,R18
    03F6A 931A      ST	-Y,R17
    03F6B 930A      ST	-Y,R16
    03F6C 9508      RET
fpmule2x:
    03F6D 93FA      ST	-Y,R31
    03F6E 93EA      ST	-Y,R30
    03F6F 2FEC      MOV	R30,R28
    03F70 2FFD      MOV	R31,R29
    03F71 9632      ADIW	R30,2
    03F72 940E 3F02 CALL	fpmule
    03F74 91E9      LD	R30,Y+
    03F75 91F9      LD	R31,Y+
    03F76 833B      STD	Y+3,R19
    03F77 832A      STD	Y+2,R18
    03F78 8319      STD	Y+1,R17
    03F79 8308      ST	Y,R16
    03F7A 9508      RET
fpcmp:
    03F7B 940E 3CD4 CALL	fpsub
    03F7D 2333      TST	R19
    03F7E F03A      BMI	0x3F86
    03F7F 940E 3E7E CALL	tstR16_R19
    03F81 F011      BEQ	0x3F84
    03F82 E001      LDI	R16,1
    03F83 9508      RET
    03F84 2700      CLR	R16
    03F85 9508      RET
    03F86 EF0F      LDI	R16,0xFF
    03F87 9508      RET
fpcmp2:
    03F88 93FA      ST	-Y,R31
    03F89 93EA      ST	-Y,R30
    03F8A 2FEC      MOV	R30,R28
    03F8B 2FFD      MOV	R31,R29
    03F8C 9632      ADIW	R30,2
    03F8D 940E 3F7B CALL	fpcmp
    03F8F 91E9      LD	R30,Y+
    03F90 91F9      LD	R31,Y+
    03F91 9624      ADIW	R28,4
    03F92 2300      TST	R16
    03F93 9508      RET
