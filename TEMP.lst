Interrupt Vectors
    00000 940C 041E JMP	__text_start|__start
    00006 940C 23C9 JMP	_int_int2
    00014 940C 0AC4 JMP	_int_timer2
    0001C 940C 0A8B JMP	_int_timer1
    00020 940C 0A32 JMP	_int_timer0
    0003A 940C 0B11 JMP	_int_timer3

Program Code (text area)
__text_start|__start:
    0041E EFCF      LDI	R28,0xFF
    0041F E1D0      LDI	R29,0x10
    00420 BFCD      OUT	0x3D,R28
    00421 BFDE      OUT	0x3E,R29
    00422 51CE      SUBI	R28,0x1E
    00423 40D0      SBCI	R29,0
    00424 EA0A      LDI	R16,0xAA
    00425 8308      ST	Y,R16
    00426 2400      CLR	R0
    00427 EAE0      LDI	R30,0xA0
    00428 E0F8      LDI	R31,0x8
    00429 E01D      LDI	R17,0xD
    0042A 36EE      CPI	R30,0x6E
    0042B 07F1      CPC	R31,R17
    0042C F011      BEQ	0x042F
    0042D 9201      ST	Z+,R0
    0042E CFFB      RJMP	0x042A
    0042F 8300      ST	Z,R16
    00430 E9EC      LDI	R30,0x9C
    00431 E0F0      LDI	R31,0
    00432 E0A0      LDI	R26,0
    00433 E0B1      LDI	R27,1
    00434 E018      LDI	R17,0x8
    00435 E000      LDI	R16,0
    00436 BF0B      OUT	0x3B,R16
    00437 33EC      CPI	R30,0x3C
    00438 07F1      CPC	R31,R17
    00439 F021      BEQ	0x043E
    0043A 95C8      LPM
    0043B 9631      ADIW	R30,1
    0043C 920D      ST	X+,R0
    0043D CFF9      RJMP	0x0437
    0043E 940E 09B3 CALL	_main
_exit:
    00440 CFFF      RJMP	_exit
FILE: E:\ICCDemo\Temp_Control\temp_control\delay.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) 
(0004) 
(0005) void delay_us(uint n)//延时us
(0006) {
(0007)   n=2*n;
_delay_us:
  n                    --> R16
    00441 0F00      LSL	R16
    00442 1F11      ROL	R17
(0008)   do{ n--;
    00443 5001      SUBI	R16,1
    00444 4010      SBCI	R17,0
(0009)   }while(n>1);
    00445 E081      LDI	R24,1
    00446 E090      LDI	R25,0
    00447 1780      CP	R24,R16
    00448 0791      CPC	R25,R17
    00449 F3C8      BCS	0x0443
    0044A 9508      RET
_delay_ms:
  j                    --> R20
    0044B 934A      ST	-Y,R20
    0044C 935A      ST	-Y,R21
    0044D 01A8      MOVW	R20,R16
(0010) }
(0011) void delay_ms(uint j)//延时ms
(0012) {
(0013)    do{j--;
    0044E 5041      SUBI	R20,1
    0044F 4050      SBCI	R21,0
(0014)      delay_us(1141);
    00450 E705      LDI	R16,0x75
    00451 E014      LDI	R17,4
    00452 DFEE      RCALL	_delay_us
(0015)    }while(j>1);
    00453 E081      LDI	R24,1
    00454 E090      LDI	R25,0
    00455 1784      CP	R24,R20
    00456 0795      CPC	R25,R21
    00457 F3B0      BCS	0x044E
    00458 9159      LD	R21,Y+
    00459 9149      LD	R20,Y+
    0045A 9508      RET
_delay_s:
  i                    --> R20
    0045B 934A      ST	-Y,R20
    0045C 935A      ST	-Y,R21
    0045D 01A8      MOVW	R20,R16
(0016) }
(0017) void delay_s(uint i)
(0018) {
(0019)    do{
(0020)    i--;
    0045E 5041      SUBI	R20,1
    0045F 4050      SBCI	R21,0
(0021)    delay_ms(1000);
    00460 EE08      LDI	R16,0xE8
    00461 E013      LDI	R17,3
    00462 DFE8      RCALL	_delay_ms
(0022)    }while(i>1);
    00463 E081      LDI	R24,1
    00464 E090      LDI	R25,0
    00465 1784      CP	R24,R20
    00466 0795      CPC	R25,R21
    00467 F3B0      BCS	0x045E
    00468 9159      LD	R21,Y+
    00469 9149      LD	R20,Y+
    0046A 9508      RET
_KeyScan:
    0046B 934A      ST	-Y,R20
    0046C 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\key.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) #include "lcd.h"
(0004) uchar key_value='n';
(0005) 
(0006) uchar KeyScan(void){
(0007)   //初始化端口
(0008)    DDRC=0xE0;
    0046D EE80      LDI	R24,0xE0
    0046E BB84      OUT	0x14,R24
(0009)    DDRG|=0x10;
    0046F 9180 0064 LDS	R24,0x64
    00471 6180      ORI	R24,0x10
    00472 9380 0064 STS	0x64,R24
(0010)    
(0011)    //第一次扫描
(0012)    PORTC=0xDF;
    00474 ED8F      LDI	R24,0xDF
    00475 BB85      OUT	0x15,R24
(0013)    PORTG|=0x10;
    00476 9180 0065 LDS	R24,0x65
    00478 6180      ORI	R24,0x10
    00479 9380 0065 STS	0x65,R24
(0014)    delay_us(1);
    0047B E001      LDI	R16,1
    0047C E010      LDI	R17,0
    0047D 940E 0441 CALL	_delay_us
(0015)    switch(PINC)
    0047F B343      IN	R20,0x13
    00480 2755      CLR	R21
    00481 3C4F      CPI	R20,0xCF
    00482 E0E0      LDI	R30,0
    00483 075E      CPC	R21,R30
    00484 F0E9      BEQ	0x04A2
    00485 3C4F      CPI	R20,0xCF
    00486 E0E0      LDI	R30,0
    00487 075E      CPC	R21,R30
    00488 F0DC      BLT	0x04A4
    00489 3D47      CPI	R20,0xD7
    0048A E0E0      LDI	R30,0
    0048B 075E      CPC	R21,R30
    0048C F099      BEQ	0x04A0
    0048D 3D4B      CPI	R20,0xDB
    0048E E0E0      LDI	R30,0
    0048F 075E      CPC	R21,R30
    00490 F069      BEQ	0x049E
    00491 3D4D      CPI	R20,0xDD
    00492 E0E0      LDI	R30,0
    00493 075E      CPC	R21,R30
    00494 F039      BEQ	0x049C
    00495 3D4E      CPI	R20,0xDE
    00496 E0E0      LDI	R30,0
    00497 075E      CPC	R21,R30
    00498 F009      BEQ	0x049A
    00499 C00A      RJMP	0x04A4
(0016)    {
(0017)    		case 0xDE:return  'e';//'esc';
    0049A E605      LDI	R16,0x65
    0049B C099      RJMP	0x0535
(0018) 		case 0xdd:return  'a';//'alm';
    0049C E601      LDI	R16,0x61
    0049D C097      RJMP	0x0535
(0019) 		case 0xdb:return  'd';//'down';  
    0049E E604      LDI	R16,0x64
    0049F C095      RJMP	0x0535
(0020) 		case 0xd7:return  'u';//'up';
    004A0 E705      LDI	R16,0x75
    004A1 C093      RJMP	0x0535
(0021) 		case 0xcf:return  'l';//'left';
    004A2 E60C      LDI	R16,0x6C
    004A3 C091      RJMP	0x0535
(0022) 		default:break;	   
(0023)    } 
(0024)     //第二次扫描
(0025)    PORTC=0xBF;
    004A4 EB8F      LDI	R24,0xBF
    004A5 BB85      OUT	0x15,R24
(0026)    PORTG|=0x10;
    004A6 9180 0065 LDS	R24,0x65
    004A8 6180      ORI	R24,0x10
    004A9 9380 0065 STS	0x65,R24
(0027)    delay_us(1);
    004AB E001      LDI	R16,1
    004AC E010      LDI	R17,0
    004AD 940E 0441 CALL	_delay_us
(0028)    switch(PINC)
    004AF B343      IN	R20,0x13
    004B0 2755      CLR	R21
    004B1 3A4F      CPI	R20,0xAF
    004B2 E0E0      LDI	R30,0
    004B3 075E      CPC	R21,R30
    004B4 F0E9      BEQ	0x04D2
    004B5 3A4F      CPI	R20,0xAF
    004B6 E0E0      LDI	R30,0
    004B7 075E      CPC	R21,R30
    004B8 F0DC      BLT	0x04D4
    004B9 3B47      CPI	R20,0xB7
    004BA E0E0      LDI	R30,0
    004BB 075E      CPC	R21,R30
    004BC F099      BEQ	0x04D0
    004BD 3B4B      CPI	R20,0xBB
    004BE E0E0      LDI	R30,0
    004BF 075E      CPC	R21,R30
    004C0 F069      BEQ	0x04CE
    004C1 3B4D      CPI	R20,0xBD
    004C2 E0E0      LDI	R30,0
    004C3 075E      CPC	R21,R30
    004C4 F039      BEQ	0x04CC
    004C5 3B4E      CPI	R20,0xBE
    004C6 E0E0      LDI	R30,0
    004C7 075E      CPC	R21,R30
    004C8 F009      BEQ	0x04CA
    004C9 C00A      RJMP	0x04D4
(0029)    {
(0030)    		case 0xbE:return 's';//'set';
    004CA E703      LDI	R16,0x73
    004CB C069      RJMP	0x0535
(0031) 		case 0xbd:return 'r';//'right';
    004CC E702      LDI	R16,0x72
    004CD C067      RJMP	0x0535
(0032) 		case 0xbb:return 't';//'ent';  
    004CE E704      LDI	R16,0x74
    004CF C065      RJMP	0x0535
(0033) 		case 0xb7:return 'c';//'clr';
    004D0 E603      LDI	R16,0x63
    004D1 C063      RJMP	0x0535
(0034) 		case 0xaf:return '+';//'+/-';
    004D2 E20B      LDI	R16,0x2B
    004D3 C061      RJMP	0x0535
(0035) 		default:break;	   
(0036)    } 
(0037)     //第三次扫描
(0038)    PORTC=0x7F;
    004D4 E78F      LDI	R24,0x7F
    004D5 BB85      OUT	0x15,R24
(0039)    PORTG|=0x10;
    004D6 9180 0065 LDS	R24,0x65
    004D8 6180      ORI	R24,0x10
    004D9 9380 0065 STS	0x65,R24
(0040)    delay_us(1);
    004DB E001      LDI	R16,1
    004DC E010      LDI	R17,0
    004DD 940E 0441 CALL	_delay_us
(0041)    switch(PINC)
    004DF B343      IN	R20,0x13
    004E0 2755      CLR	R21
    004E1 364F      CPI	R20,0x6F
    004E2 E0E0      LDI	R30,0
    004E3 075E      CPC	R21,R30
    004E4 F0E9      BEQ	0x0502
    004E5 364F      CPI	R20,0x6F
    004E6 E0E0      LDI	R30,0
    004E7 075E      CPC	R21,R30
    004E8 F0DC      BLT	0x0504
    004E9 3747      CPI	R20,0x77
    004EA E0E0      LDI	R30,0
    004EB 075E      CPC	R21,R30
    004EC F099      BEQ	0x0500
    004ED 374B      CPI	R20,0x7B
    004EE E0E0      LDI	R30,0
    004EF 075E      CPC	R21,R30
    004F0 F069      BEQ	0x04FE
    004F1 374D      CPI	R20,0x7D
    004F2 E0E0      LDI	R30,0
    004F3 075E      CPC	R21,R30
    004F4 F039      BEQ	0x04FC
    004F5 374E      CPI	R20,0x7E
    004F6 E0E0      LDI	R30,0
    004F7 075E      CPC	R21,R30
    004F8 F009      BEQ	0x04FA
    004F9 C00A      RJMP	0x0504
(0042)    {
(0043)    		case 0x7E:return '0';
    004FA E300      LDI	R16,0x30
    004FB C039      RJMP	0x0535
(0044) 		case 0x7d:return '3';
    004FC E303      LDI	R16,0x33
    004FD C037      RJMP	0x0535
(0045) 		case 0x7b:return '2';  
    004FE E302      LDI	R16,0x32
    004FF C035      RJMP	0x0535
(0046) 		case 0x77:return '1';
    00500 E301      LDI	R16,0x31
    00501 C033      RJMP	0x0535
(0047) 		case 0x6f:return '6';
    00502 E306      LDI	R16,0x36
    00503 C031      RJMP	0x0535
(0048) 		default:break;	   
(0049)    } 
(0050)       //第四次扫描
(0051)    PORTC=0xFF;
    00504 EF8F      LDI	R24,0xFF
    00505 BB85      OUT	0x15,R24
(0052)    PORTG&=0x0F;
    00506 9180 0065 LDS	R24,0x65
    00508 708F      ANDI	R24,0xF
    00509 9380 0065 STS	0x65,R24
(0053)    delay_us(1);
    0050B E001      LDI	R16,1
    0050C E010      LDI	R17,0
    0050D 940E 0441 CALL	_delay_us
(0054)    switch(PINC)
    0050F B343      IN	R20,0x13
    00510 2755      CLR	R21
    00511 3E4F      CPI	R20,0xEF
    00512 E0E0      LDI	R30,0
    00513 075E      CPC	R21,R30
    00514 F0E9      BEQ	0x0532
    00515 3E4F      CPI	R20,0xEF
    00516 E0E0      LDI	R30,0
    00517 075E      CPC	R21,R30
    00518 F0DC      BLT	0x0534
    00519 3F47      CPI	R20,0xF7
    0051A E0E0      LDI	R30,0
    0051B 075E      CPC	R21,R30
    0051C F099      BEQ	0x0530
    0051D 3F4B      CPI	R20,0xFB
    0051E E0E0      LDI	R30,0
    0051F 075E      CPC	R21,R30
    00520 F069      BEQ	0x052E
    00521 3F4D      CPI	R20,0xFD
    00522 E0E0      LDI	R30,0
    00523 075E      CPC	R21,R30
    00524 F039      BEQ	0x052C
    00525 3F4E      CPI	R20,0xFE
    00526 E0E0      LDI	R30,0
    00527 075E      CPC	R21,R30
    00528 F009      BEQ	0x052A
    00529 C00A      RJMP	0x0534
(0055)    {
(0056)    		case 0xFE:return '7';
    0052A E307      LDI	R16,0x37
    0052B C009      RJMP	0x0535
(0057) 		case 0xFd:return '8';
    0052C E308      LDI	R16,0x38
    0052D C007      RJMP	0x0535
(0058) 		case 0xFb:return '9';  
    0052E E309      LDI	R16,0x39
    0052F C005      RJMP	0x0535
(0059) 		case 0xF7:return '4';
    00530 E304      LDI	R16,0x34
    00531 C003      RJMP	0x0535
(0060) 		case 0xEf:return '5';
    00532 E305      LDI	R16,0x35
    00533 C001      RJMP	0x0535
(0061) 		default:break;	   
(0062)    }
(0063)  return 'n';
    00534 E60E      LDI	R16,0x6E
    00535 9159      LD	R21,Y+
    00536 9149      LD	R20,Y+
    00537 9508      RET
_KeyScan_once:
  keyValue2            --> R10
  keyValue             --> R20
    00538 92AA      ST	-Y,R10
    00539 934A      ST	-Y,R20
(0064)    
(0065) }
(0066) //********************************
(0067) //		加上延时抖动的读取，一次读取一个
(0068) //********************************
(0069) uchar KeyScan_once(void){
(0070) 	  uchar keyValue,keyValue2;
(0071) 	  keyValue=KeyScan();
    0053A DF30      RCALL	_KeyScan
    0053B 2F40      MOV	R20,R16
(0072) 	  delay_ms(2);
    0053C E002      LDI	R16,2
    0053D E010      LDI	R17,0
    0053E 940E 044B CALL	_delay_ms
(0073) 	  keyValue2=KeyScan();
    00540 DF2A      RCALL	_KeyScan
    00541 2EA0      MOV	R10,R16
(0074) 	 if(keyValue==keyValue2 && keyValue!='n'){//两次扫描，消除抖动
    00542 1740      CP	R20,R16
    00543 F461      BNE	0x0550
    00544 364E      CPI	R20,0x6E
    00545 F051      BEQ	0x0550
(0075) 	 	if(key_value==keyValue){//如果还是上一次保存的值则代表一直按着，返回‘n’
    00546 9020 0100 LDS	R2,key_value
    00548 1624      CP	R2,R20
    00549 F411      BNE	0x054C
(0076) 		    return 'n';  
    0054A E60E      LDI	R16,0x6E
    0054B C008      RJMP	0x0554
(0077) 	    }else{                  //松开后第一次按下，返回该键的值
(0078) 		 key_value=keyValue;
    0054C 9340 0100 STS	key_value,R20
(0079) 		  return keyValue;
    0054E 2F04      MOV	R16,R20
    0054F C004      RJMP	0x0554
(0080) 		}
(0081) 	 }else{                     //因为读取键盘的值会多次刷新，所以在松开按键时key_value重置
(0082) 	   key_value='n';
    00550 E68E      LDI	R24,0x6E
    00551 9380 0100 STS	key_value,R24
(0083) 	   return 'n';
    00553 E60E      LDI	R16,0x6E
    00554 9149      LD	R20,Y+
    00555 90A9      LD	R10,Y+
    00556 9508      RET
_lcd_bz_1:
  result               --> R20
    00557 934A      ST	-Y,R20
    00558 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\lcd.c
(0001) #include<iom128v.h>
(0002) #include "lcd.h"
(0003) #include "delay.h" 
(0004) #define rs_l PORTG&=~(1<<PG1)
(0005) #define rs_h PORTG|=1<<PG1
(0006) #define rw_l PORTG&=~(1<<PG0)
(0007) #define rw_h PORTG|=1<<PG0
(0008) #define ep1_l PORTG&=~(1<<PG3)
(0009) #define ep1_h PORTG|=1<<PG3
(0010) #define ep2_l PORTF&=~(1<<PF0)
(0011) #define ep2_h PORTF|=1<<PF0
(0012) //***********************************
(0013) //上半屏幕
(0014) //**********************************
(0015) /*
(0016)  读忙程序。命令后，读入BF
(0017) */
(0018) uint lcd_bz_1(void){
(0019) 	uint result;
(0020) 	DDRA=0x00;
    00559 2422      CLR	R2
    0055A BA2A      OUT	0x1A,R2
(0021) 	rs_l;
    0055B 9180 0065 LDS	R24,0x65
    0055D 7F8D      ANDI	R24,0xFD
    0055E 9380 0065 STS	0x65,R24
(0022) 	rw_h;
    00560 9180 0065 LDS	R24,0x65
    00562 6081      ORI	R24,1
    00563 9380 0065 STS	0x65,R24
(0023) 	ep1_h;
    00565 9180 0065 LDS	R24,0x65
    00567 6088      ORI	R24,0x8
    00568 9380 0065 STS	0x65,R24
(0024) 	delay_us(1);
    0056A E001      LDI	R16,1
    0056B E010      LDI	R17,0
    0056C 940E 0441 CALL	_delay_us
(0025) 	result=PINA&(1<<PINA7);
    0056E B349      IN	R20,0x19
    0056F 2755      CLR	R21
    00570 7840      ANDI	R20,0x80
    00571 7050      ANDI	R21,0
(0026) 	DDRA=0xFF;
    00572 EF8F      LDI	R24,0xFF
    00573 BB8A      OUT	0x1A,R24
(0027) 	ep1_l;
    00574 9180 0065 LDS	R24,0x65
    00576 7F87      ANDI	R24,0xF7
    00577 9380 0065 STS	0x65,R24
(0028) 	return result;
    00579 018A      MOVW	R16,R20
    0057A 9159      LD	R21,Y+
    0057B 9149      LD	R20,Y+
    0057C 9508      RET
_lcd_wcmd_1:
  cmd                  --> R10
    0057D 92AA      ST	-Y,R10
    0057E 2EA0      MOV	R10,R16
(0029) }
(0030) //***********************************
(0031) //上半屏幕写命令
(0032) //**********************************
(0033) void lcd_wcmd_1(uchar cmd){
(0034) 	 while(lcd_bz_1());
    0057F DFD7      RCALL	_lcd_bz_1
    00580 3000      CPI	R16,0
    00581 0701      CPC	R16,R17
    00582 F7E1      BNE	0x057F
(0035) 	 rs_l;
    00583 9180 0065 LDS	R24,0x65
    00585 7F8D      ANDI	R24,0xFD
    00586 9380 0065 STS	0x65,R24
(0036) 	 rw_l;
    00588 9180 0065 LDS	R24,0x65
    0058A 7F8E      ANDI	R24,0xFE
    0058B 9380 0065 STS	0x65,R24
(0037) 	 ep1_l;
    0058D 9180 0065 LDS	R24,0x65
    0058F 7F87      ANDI	R24,0xF7
    00590 9380 0065 STS	0x65,R24
(0038) 	 PORTA=cmd;
    00592 BAAB      OUT	0x1B,R10
(0039) 	 ep1_h;
    00593 9180 0065 LDS	R24,0x65
    00595 6088      ORI	R24,0x8
    00596 9380 0065 STS	0x65,R24
(0040) 	 delay_us(1);
    00598 E001      LDI	R16,1
    00599 E010      LDI	R17,0
    0059A 940E 0441 CALL	_delay_us
(0041) 	 ep1_l;
    0059C 9180 0065 LDS	R24,0x65
    0059E 7F87      ANDI	R24,0xF7
    0059F 9380 0065 STS	0x65,R24
(0042) 	 return;
    005A1 90A9      LD	R10,Y+
    005A2 9508      RET
_lcd_wdat_1:
  dat                  --> R10
    005A3 92AA      ST	-Y,R10
    005A4 2EA0      MOV	R10,R16
(0043) }
(0044) /*
(0045) 写输出数据,char
(0046) */
(0047) void lcd_wdat_1(uchar dat){
(0048) 	 while(lcd_bz_1());
    005A5 DFB1      RCALL	_lcd_bz_1
    005A6 3000      CPI	R16,0
    005A7 0701      CPC	R16,R17
    005A8 F7E1      BNE	0x05A5
(0049) 	 rs_h;
    005A9 9180 0065 LDS	R24,0x65
    005AB 6082      ORI	R24,2
    005AC 9380 0065 STS	0x65,R24
(0050) 	 rw_l;
    005AE 9180 0065 LDS	R24,0x65
    005B0 7F8E      ANDI	R24,0xFE
    005B1 9380 0065 STS	0x65,R24
(0051) 	 ep1_l;
    005B3 9180 0065 LDS	R24,0x65
    005B5 7F87      ANDI	R24,0xF7
    005B6 9380 0065 STS	0x65,R24
(0052) 	 PORTA=dat;
    005B8 BAAB      OUT	0x1B,R10
(0053) 	 ep1_h;
    005B9 9180 0065 LDS	R24,0x65
    005BB 6088      ORI	R24,0x8
    005BC 9380 0065 STS	0x65,R24
(0054) 	 delay_us(1);
    005BE E001      LDI	R16,1
    005BF E010      LDI	R17,0
    005C0 940E 0441 CALL	_delay_us
(0055) 	 ep1_l;
    005C2 9180 0065 LDS	R24,0x65
    005C4 7F87      ANDI	R24,0xF7
    005C5 9380 0065 STS	0x65,R24
    005C7 90A9      LD	R10,Y+
    005C8 9508      RET
(0056) }
(0057) 
(0058) /*清显示*/
(0059) void lcd_clear_1(void) 
(0060) {
(0061) 	lcd_wcmd_1(0x01);
_lcd_clear_1:
    005C9 E001      LDI	R16,1
    005CA DFB2      RCALL	_lcd_wcmd_1
(0062) 	delay_ms(1);
    005CB E001      LDI	R16,1
    005CC E010      LDI	R17,0
    005CD 940C 044B JMP	_delay_ms
_lcd_bz_2:
  result               --> R20
    005CF 934A      ST	-Y,R20
    005D0 935A      ST	-Y,R21
(0063) }
(0064) //***********************************
(0065) //    下半屏幕
(0066) //***********************************
(0067) uint lcd_bz_2(void){
(0068) 	uint result;
(0069) 	DDRA=0x00;
    005D1 2422      CLR	R2
    005D2 BA2A      OUT	0x1A,R2
(0070) 	rs_l;
    005D3 9180 0065 LDS	R24,0x65
    005D5 7F8D      ANDI	R24,0xFD
    005D6 9380 0065 STS	0x65,R24
(0071) 	rw_h;
    005D8 9180 0065 LDS	R24,0x65
    005DA 6081      ORI	R24,1
    005DB 9380 0065 STS	0x65,R24
(0072) 	ep2_h;
    005DD 9180 0062 LDS	R24,0x62
    005DF 6081      ORI	R24,1
    005E0 9380 0062 STS	0x62,R24
(0073) 	delay_us(1);
    005E2 E001      LDI	R16,1
    005E3 E010      LDI	R17,0
    005E4 940E 0441 CALL	_delay_us
(0074) 	result=PINA&(1<<PINA7);
    005E6 B349      IN	R20,0x19
    005E7 2755      CLR	R21
    005E8 7840      ANDI	R20,0x80
    005E9 7050      ANDI	R21,0
(0075) 	DDRA=0xFF;
    005EA EF8F      LDI	R24,0xFF
    005EB BB8A      OUT	0x1A,R24
(0076) 	ep2_l;
    005EC 9180 0062 LDS	R24,0x62
    005EE 7F8E      ANDI	R24,0xFE
    005EF 9380 0062 STS	0x62,R24
(0077) 	return result;
    005F1 018A      MOVW	R16,R20
    005F2 9159      LD	R21,Y+
    005F3 9149      LD	R20,Y+
    005F4 9508      RET
_lcd_wcmd_2:
  cmd                  --> R10
    005F5 92AA      ST	-Y,R10
    005F6 2EA0      MOV	R10,R16
(0078) }
(0079) void lcd_wcmd_2(uchar cmd){
(0080) 	 while(lcd_bz_2());
    005F7 DFD7      RCALL	_lcd_bz_2
    005F8 3000      CPI	R16,0
    005F9 0701      CPC	R16,R17
    005FA F7E1      BNE	0x05F7
(0081) 	 rs_l;
    005FB 9180 0065 LDS	R24,0x65
    005FD 7F8D      ANDI	R24,0xFD
    005FE 9380 0065 STS	0x65,R24
(0082) 	 rw_l;
    00600 9180 0065 LDS	R24,0x65
    00602 7F8E      ANDI	R24,0xFE
    00603 9380 0065 STS	0x65,R24
(0083) 	 ep2_l;
    00605 9180 0062 LDS	R24,0x62
    00607 7F8E      ANDI	R24,0xFE
    00608 9380 0062 STS	0x62,R24
(0084) 	 PORTA=cmd;
    0060A BAAB      OUT	0x1B,R10
(0085) 	 ep2_h;
    0060B 9180 0062 LDS	R24,0x62
    0060D 6081      ORI	R24,1
    0060E 9380 0062 STS	0x62,R24
(0086) 	delay_us(1);
    00610 E001      LDI	R16,1
    00611 E010      LDI	R17,0
    00612 940E 0441 CALL	_delay_us
(0087) 	 ep2_l;
    00614 9180 0062 LDS	R24,0x62
    00616 7F8E      ANDI	R24,0xFE
    00617 9380 0062 STS	0x62,R24
    00619 90A9      LD	R10,Y+
    0061A 9508      RET
_lcd_wdat_2:
  dat                  --> R10
    0061B 92AA      ST	-Y,R10
    0061C 2EA0      MOV	R10,R16
(0088) }
(0089) //  写输出数据,char
(0090) void lcd_wdat_2(uchar dat){
(0091) 	 while(lcd_bz_2());
    0061D DFB1      RCALL	_lcd_bz_2
    0061E 3000      CPI	R16,0
    0061F 0701      CPC	R16,R17
    00620 F7E1      BNE	0x061D
(0092) 	 rs_h;
    00621 9180 0065 LDS	R24,0x65
    00623 6082      ORI	R24,2
    00624 9380 0065 STS	0x65,R24
(0093) 	 rw_l;
    00626 9180 0065 LDS	R24,0x65
    00628 7F8E      ANDI	R24,0xFE
    00629 9380 0065 STS	0x65,R24
(0094) 	 ep2_l;
    0062B 9180 0062 LDS	R24,0x62
    0062D 7F8E      ANDI	R24,0xFE
    0062E 9380 0062 STS	0x62,R24
(0095) 	 PORTA=dat;
    00630 BAAB      OUT	0x1B,R10
(0096) 	 ep2_h;
    00631 9180 0062 LDS	R24,0x62
    00633 6081      ORI	R24,1
    00634 9380 0062 STS	0x62,R24
(0097) 	delay_us(1);
    00636 E001      LDI	R16,1
    00637 E010      LDI	R17,0
    00638 940E 0441 CALL	_delay_us
(0098) 	 ep2_l;
    0063A 9180 0062 LDS	R24,0x62
    0063C 7F8E      ANDI	R24,0xFE
    0063D 9380 0062 STS	0x62,R24
    0063F 90A9      LD	R10,Y+
    00640 9508      RET
(0099) }
(0100) /*清显示*/
(0101) void lcd_clear_2(void) 
(0102) {
(0103) 	lcd_wcmd_2(0x01);
_lcd_clear_2:
    00641 E001      LDI	R16,1
    00642 CFB2      RJMP	_lcd_wcmd_2
_lcd_write_char_con:
  data                 --> R10
  y                    --> R20
    00643 92AA      ST	-Y,R10
    00644 934A      ST	-Y,R20
    00645 2EA2      MOV	R10,R18
    00646 2F40      MOV	R20,R16
(0104) }
(0105) 
(0106) //*************************************************
(0107) //					写字符
(0108) //***************************************************
(0109) /*
(0110)   附带y。调用 lcd_wdat（）方法。传入时转换为char。直接连续写入使用
(0111) */
(0112) void lcd_write_char_con(unsigned char y,unsigned char data) 
(0113) {
(0114) 	
(0115)     if (y == 0 || y==1) 
    00647 2344      TST	R20
    00648 F011      BEQ	0x064B
    00649 3041      CPI	R20,1
    0064A F419      BNE	0x064E
(0116)     {
(0117)     	
(0118) 		 lcd_wdat_1( data);
    0064B 2D0A      MOV	R16,R10
    0064C DF56      RCALL	_lcd_wdat_1
(0119)     }else  if(y==2 || y==3 )
    0064D C006      RJMP	0x0654
    0064E 3042      CPI	R20,2
    0064F F011      BEQ	0x0652
    00650 3043      CPI	R20,3
    00651 F411      BNE	0x0654
(0120)     {
(0121)     	
(0122) 		 lcd_wdat_2( data);
    00652 2D0A      MOV	R16,R10
    00653 DFC7      RCALL	_lcd_wdat_2
(0123)     }
(0124)    return; 
    00654 9149      LD	R20,Y+
    00655 90A9      LD	R10,Y+
    00656 9508      RET
_lcd_write_pos:
  y                    --> R22
  x                    --> R20
    00657 934A      ST	-Y,R20
    00658 936A      ST	-Y,R22
    00659 2F62      MOV	R22,R18
    0065A 2F40      MOV	R20,R16
(0125) }
(0126) /*
(0127)   附带x,y。写光标位置
(0128) */
(0129) void lcd_write_pos(unsigned char x,unsigned char y) 
(0130) {
(0131) 	
(0132)     if (y == 0) 
    0065B 2366      TST	R22
    0065C F421      BNE	0x0661
(0133)     {
(0134)     	lcd_wcmd_1(0x80 + x);
    0065D 2F04      MOV	R16,R20
    0065E 5800      SUBI	R16,0x80
    0065F DF1D      RCALL	_lcd_wcmd_1
(0135)     }
    00660 C011      RJMP	0x0672
(0136)     else  if(y==1)
    00661 3061      CPI	R22,1
    00662 F421      BNE	0x0667
(0137)     {
(0138)     	lcd_wcmd_1(0x90 + x);
    00663 2F04      MOV	R16,R20
    00664 5700      SUBI	R16,0x70
    00665 DF17      RCALL	_lcd_wcmd_1
(0139)     }else  if(y==2)
    00666 C00B      RJMP	0x0672
    00667 3062      CPI	R22,2
    00668 F421      BNE	0x066D
(0140)     {
(0141)     	lcd_wcmd_2(0x80 + x);
    00669 2F04      MOV	R16,R20
    0066A 5800      SUBI	R16,0x80
    0066B DF89      RCALL	_lcd_wcmd_2
(0142)     }else  if(y==3)
    0066C C005      RJMP	0x0672
    0066D 3063      CPI	R22,3
    0066E F419      BNE	0x0672
(0143)     {
(0144)     	lcd_wcmd_2(0x90 + x);
    0066F 2F04      MOV	R16,R20
    00670 5700      SUBI	R16,0x70
    00671 DF83      RCALL	_lcd_wcmd_2
(0145)     }
(0146)    return; 
    00672 9169      LD	R22,Y+
    00673 9149      LD	R20,Y+
    00674 9508      RET
_lcd_write_char:
  data                 --> R10
  y                    --> R22
  x                    --> R20
    00675 940E 37B1 CALL	push_xgsetF00C
    00677 2F62      MOV	R22,R18
    00678 2F40      MOV	R20,R16
    00679 80AE      LDD	R10,Y+6
(0147) }
(0148) /*
(0149)   附带x,y。调用 lcd_wdat（）方法。传入时转换为char
(0150) */
(0151) void lcd_write_char(unsigned char x,unsigned char y,unsigned char data) 
(0152) {
(0153) 	
(0154)     if (y == 0) 
    0067A 2366      TST	R22
    0067B F431      BNE	0x0682
(0155)     {
(0156)     	lcd_wcmd_1(0x80 + x);
    0067C 2F04      MOV	R16,R20
    0067D 5800      SUBI	R16,0x80
    0067E DEFE      RCALL	_lcd_wcmd_1
(0157) 		 lcd_wdat_1( data);
    0067F 2D0A      MOV	R16,R10
    00680 DF22      RCALL	_lcd_wdat_1
(0158)     }
    00681 C017      RJMP	0x0699
(0159)     else  if(y==1)
    00682 3061      CPI	R22,1
    00683 F431      BNE	0x068A
(0160)     {
(0161)     	lcd_wcmd_1(0x90 + x);
    00684 2F04      MOV	R16,R20
    00685 5700      SUBI	R16,0x70
    00686 DEF6      RCALL	_lcd_wcmd_1
(0162) 		 lcd_wdat_1( data);
    00687 2D0A      MOV	R16,R10
    00688 DF1A      RCALL	_lcd_wdat_1
(0163)     }else  if(y==2)
    00689 C00F      RJMP	0x0699
    0068A 3062      CPI	R22,2
    0068B F431      BNE	0x0692
(0164)     {
(0165)     	lcd_wcmd_2(0x80 + x);
    0068C 2F04      MOV	R16,R20
    0068D 5800      SUBI	R16,0x80
    0068E DF66      RCALL	_lcd_wcmd_2
(0166) 		 lcd_wdat_2( data);
    0068F 2D0A      MOV	R16,R10
    00690 DF8A      RCALL	_lcd_wdat_2
(0167)     }else  if(y==3)
    00691 C007      RJMP	0x0699
    00692 3063      CPI	R22,3
    00693 F429      BNE	0x0699
(0168)     {
(0169)     	lcd_wcmd_2(0x90 + x);
    00694 2F04      MOV	R16,R20
    00695 5700      SUBI	R16,0x70
    00696 DF5E      RCALL	_lcd_wcmd_2
(0170) 		 lcd_wdat_2( data);
    00697 2D0A      MOV	R16,R10
    00698 DF82      RCALL	_lcd_wdat_2
(0171)     }
(0172)    return; 
    00699 940C 37B8 JMP	pop_xgsetF00C
_lcd_write_str:
  s                    --> R20
  y                    --> R10
  x                    --> R22
    0069B 940E 37B1 CALL	push_xgsetF00C
    0069D 2EA2      MOV	R10,R18
    0069E 2F60      MOV	R22,R16
    0069F 814E      LDD	R20,Y+6
    006A0 815F      LDD	R21,Y+7
(0173) }
(0174) /*
(0175)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0176) */
(0177) void lcd_write_str(unsigned char x,unsigned char y,unsigned char *s) 
(0178) {
(0179) 	
(0180)     if (y == 0) 
    006A1 20AA      TST	R10
    006A2 F471      BNE	0x06B1
(0181)     {
(0182)     	lcd_wcmd_1(0x80 + x);
    006A3 2F06      MOV	R16,R22
    006A4 5800      SUBI	R16,0x80
    006A5 DED7      RCALL	_lcd_wcmd_1
    006A6 C005      RJMP	0x06AC
(0183) 		 while (*s) 
(0184)        {
(0185)     	lcd_wdat_1( *s);
    006A7 01FA      MOVW	R30,R20
    006A8 8100      LD	R16,Z
    006A9 DEF9      RCALL	_lcd_wdat_1
(0186)     	s ++;
    006AA 5F4F      SUBI	R20,0xFF
    006AB 4F5F      SBCI	R21,0xFF
    006AC 01FA      MOVW	R30,R20
    006AD 8020      LD	R2,Z
    006AE 2022      TST	R2
    006AF F7B9      BNE	0x06A7
(0187)         }
(0188)     }
    006B0 C032      RJMP	0x06E3
(0189)     else  if(y==1)
    006B1 2D8A      MOV	R24,R10
    006B2 3081      CPI	R24,1
    006B3 F471      BNE	0x06C2
(0190)     {
(0191)     	lcd_wcmd_1(0x90 + x);
    006B4 2F06      MOV	R16,R22
    006B5 5700      SUBI	R16,0x70
    006B6 DEC6      RCALL	_lcd_wcmd_1
    006B7 C005      RJMP	0x06BD
(0192) 		 while (*s) 
(0193)         {
(0194)     	lcd_wdat_1( *s);
    006B8 01FA      MOVW	R30,R20
    006B9 8100      LD	R16,Z
    006BA DEE8      RCALL	_lcd_wdat_1
(0195)     	s ++;
    006BB 5F4F      SUBI	R20,0xFF
    006BC 4F5F      SBCI	R21,0xFF
    006BD 01FA      MOVW	R30,R20
    006BE 8020      LD	R2,Z
    006BF 2022      TST	R2
    006C0 F7B9      BNE	0x06B8
(0196)        }
(0197)     }else  if(y==2)
    006C1 C021      RJMP	0x06E3
    006C2 2D8A      MOV	R24,R10
    006C3 3082      CPI	R24,2
    006C4 F471      BNE	0x06D3
(0198)     {
(0199)     	lcd_wcmd_2(0x80 + x);
    006C5 2F06      MOV	R16,R22
    006C6 5800      SUBI	R16,0x80
    006C7 DF2D      RCALL	_lcd_wcmd_2
    006C8 C005      RJMP	0x06CE
(0200) 		  while (*s) 
(0201)        {
(0202)     	lcd_wdat_2( *s);
    006C9 01FA      MOVW	R30,R20
    006CA 8100      LD	R16,Z
    006CB DF4F      RCALL	_lcd_wdat_2
(0203)     	s ++;
    006CC 5F4F      SUBI	R20,0xFF
    006CD 4F5F      SBCI	R21,0xFF
    006CE 01FA      MOVW	R30,R20
    006CF 8020      LD	R2,Z
    006D0 2022      TST	R2
    006D1 F7B9      BNE	0x06C9
(0204)        }
(0205)     }else  if(y==3)
    006D2 C010      RJMP	0x06E3
    006D3 2D8A      MOV	R24,R10
    006D4 3083      CPI	R24,3
    006D5 F469      BNE	0x06E3
(0206)     {
(0207)     	lcd_wcmd_2(0x90 + x);
    006D6 2F06      MOV	R16,R22
    006D7 5700      SUBI	R16,0x70
    006D8 DF1C      RCALL	_lcd_wcmd_2
    006D9 C005      RJMP	0x06DF
(0208) 		  while (*s) 
(0209)        {
(0210)     	lcd_wdat_2( *s);
    006DA 01FA      MOVW	R30,R20
    006DB 8100      LD	R16,Z
    006DC DF3E      RCALL	_lcd_wdat_2
(0211)     	s ++;
    006DD 5F4F      SUBI	R20,0xFF
    006DE 4F5F      SBCI	R21,0xFF
    006DF 01FA      MOVW	R30,R20
    006E0 8020      LD	R2,Z
    006E1 2022      TST	R2
    006E2 F7B9      BNE	0x06DA
(0212)        }
(0213)     }
    006E3 940C 37B8 JMP	pop_xgsetF00C
_lcd_write_str_con:
  s                    --> R20
  y                    --> R22
    006E5 940E 37A7 CALL	push_xgsetF000
    006E7 01A9      MOVW	R20,R18
    006E8 2F60      MOV	R22,R16
(0214)    
(0215) }
(0216) /*
(0217)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0218) */
(0219) void lcd_write_str_con(unsigned char y,unsigned char *s) 
(0220) {
(0221) 	
(0222)     if (y == 0 || y==1) 
    006E9 2366      TST	R22
    006EA F011      BEQ	0x06ED
    006EB 3061      CPI	R22,1
    006EC F459      BNE	0x06F8
(0223)     {
    006ED C005      RJMP	0x06F3
(0224)     	
(0225) 		 while (*s) 
(0226)        {
(0227)     	lcd_wdat_1( *s);
    006EE 01FA      MOVW	R30,R20
    006EF 8100      LD	R16,Z
    006F0 DEB2      RCALL	_lcd_wdat_1
(0228)     	s ++;
    006F1 5F4F      SUBI	R20,0xFF
    006F2 4F5F      SBCI	R21,0xFF
    006F3 01FA      MOVW	R30,R20
    006F4 8020      LD	R2,Z
    006F5 2022      TST	R2
    006F6 F7B9      BNE	0x06EE
(0229)         }
(0230)     }
    006F7 C00E      RJMP	0x0706
(0231)     else  if(y==2 || y==3)
    006F8 3062      CPI	R22,2
    006F9 F011      BEQ	0x06FC
    006FA 3063      CPI	R22,3
    006FB F451      BNE	0x0706
(0232)     {
    006FC C005      RJMP	0x0702
(0233)     	
(0234) 		  while (*s) 
(0235)        {
(0236)     	lcd_wdat_2( *s);
    006FD 01FA      MOVW	R30,R20
    006FE 8100      LD	R16,Z
    006FF DF1B      RCALL	_lcd_wdat_2
(0237)     	s ++;
    00700 5F4F      SUBI	R20,0xFF
    00701 4F5F      SBCI	R21,0xFF
    00702 01FA      MOVW	R30,R20
    00703 8020      LD	R2,Z
    00704 2022      TST	R2
    00705 F7B9      BNE	0x06FD
(0238)        }
(0239)     }
    00706 940C 37AC JMP	pop_xgsetF000
_read_ac_1:
  result               --> R20
    00708 934A      ST	-Y,R20
    00709 935A      ST	-Y,R21
(0240)    
(0241) }
(0242) //****************************
(0243) //  读出数据,.不知道有没有用，先放在这
(0244) //****************************
(0245) /**
(0246)  读程序。命令后，读AC地址
(0247) */
(0248) uchar read_ac_1(void){
(0249) 	uint result;
(0250) 	DDRA=0x00;
    0070A 2422      CLR	R2
    0070B BA2A      OUT	0x1A,R2
(0251) 	rs_l;
    0070C 9180 0065 LDS	R24,0x65
    0070E 7F8D      ANDI	R24,0xFD
    0070F 9380 0065 STS	0x65,R24
(0252) 	rw_h;
    00711 9180 0065 LDS	R24,0x65
    00713 6081      ORI	R24,1
    00714 9380 0065 STS	0x65,R24
(0253) 	ep1_h;
    00716 9180 0065 LDS	R24,0x65
    00718 6088      ORI	R24,0x8
    00719 9380 0065 STS	0x65,R24
(0254) 	delay_ms(1);
    0071B E001      LDI	R16,1
    0071C E010      LDI	R17,0
    0071D 940E 044B CALL	_delay_ms
(0255) 	result=PINA&(~(1<<PINA7));
    0071F B349      IN	R20,0x19
    00720 2755      CLR	R21
    00721 774F      ANDI	R20,0x7F
(0256) 	DDRA=0xFF;
    00722 EF8F      LDI	R24,0xFF
    00723 BB8A      OUT	0x1A,R24
(0257) 	ep1_l;
    00724 9180 0065 LDS	R24,0x65
    00726 7F87      ANDI	R24,0xF7
    00727 9380 0065 STS	0x65,R24
(0258) 	return result;
    00729 2F04      MOV	R16,R20
    0072A 9159      LD	R21,Y+
    0072B 9149      LD	R20,Y+
    0072C 9508      RET
_read_ac_2:
  result               --> R20
    0072D 934A      ST	-Y,R20
    0072E 935A      ST	-Y,R21
(0259) }
(0260) uchar read_ac_2(void){
(0261) 	uint result;
(0262) 	DDRA=0x00;
    0072F 2422      CLR	R2
    00730 BA2A      OUT	0x1A,R2
(0263) 	rs_l;
    00731 9180 0065 LDS	R24,0x65
    00733 7F8D      ANDI	R24,0xFD
    00734 9380 0065 STS	0x65,R24
(0264) 	rw_h;
    00736 9180 0065 LDS	R24,0x65
    00738 6081      ORI	R24,1
    00739 9380 0065 STS	0x65,R24
(0265) 	ep2_h;
    0073B 9180 0062 LDS	R24,0x62
    0073D 6081      ORI	R24,1
    0073E 9380 0062 STS	0x62,R24
(0266) 	delay_ms(1);
    00740 E001      LDI	R16,1
    00741 E010      LDI	R17,0
    00742 940E 044B CALL	_delay_ms
(0267) 	result=PINA&(~(1<<PINA7));
    00744 B349      IN	R20,0x19
    00745 2755      CLR	R21
    00746 774F      ANDI	R20,0x7F
(0268) 	DDRA=0xFF;
    00747 EF8F      LDI	R24,0xFF
    00748 BB8A      OUT	0x1A,R24
(0269) 	ep2_l;
    00749 9180 0062 LDS	R24,0x62
    0074B 7F8E      ANDI	R24,0xFE
    0074C 9380 0062 STS	0x62,R24
(0270) 	return result;
    0074E 2F04      MOV	R16,R20
    0074F 9159      LD	R21,Y+
    00750 9149      LD	R20,Y+
    00751 9508      RET
(0271) }
(0272) //***********************************
(0273) //清除屏幕内容
(0274) //**********************************
(0275) void lcd_clear(void){
(0276)    lcd_clear_1();
_lcd_clear:
    00752 DE76      RCALL	_lcd_clear_1
(0277)     lcd_clear_2();
    00753 CEED      RJMP	_lcd_clear_2
_date_cmd_1:
  result               --> R10
    00754 92AA      ST	-Y,R10
    00755 92BA      ST	-Y,R11
(0278) }
(0279) /*
(0280)  读数据程序。命令后，读入。使用read_data函数会是设定的值，再吃调用本函数会使ac
(0281)  移动一次，8读取位的数据
(0282) */
(0283) uchar date_cmd_1(void){
(0284) 	uint result;
(0285) 	DDRA=0x00;
    00756 2422      CLR	R2
    00757 BA2A      OUT	0x1A,R2
(0286) 	rs_h;
    00758 9180 0065 LDS	R24,0x65
    0075A 6082      ORI	R24,2
    0075B 9380 0065 STS	0x65,R24
(0287) 	rw_h;
    0075D 9180 0065 LDS	R24,0x65
    0075F 6081      ORI	R24,1
    00760 9380 0065 STS	0x65,R24
(0288) 	ep1_h;
    00762 9180 0065 LDS	R24,0x65
    00764 6088      ORI	R24,0x8
    00765 9380 0065 STS	0x65,R24
(0289) 	delay_ms(1);
    00767 E001      LDI	R16,1
    00768 E010      LDI	R17,0
    00769 940E 044B CALL	_delay_ms
(0290) 	result=PINA;
    0076B B2A9      IN	R10,0x19
    0076C 24BB      CLR	R11
(0291) 	DDRA=0xFF;
    0076D EF8F      LDI	R24,0xFF
    0076E BB8A      OUT	0x1A,R24
(0292) 	ep1_l;
    0076F 9180 0065 LDS	R24,0x65
    00771 7F87      ANDI	R24,0xF7
    00772 9380 0065 STS	0x65,R24
(0293) 	return result;
    00774 2D0A      MOV	R16,R10
    00775 90B9      LD	R11,Y+
    00776 90A9      LD	R10,Y+
    00777 9508      RET
_date_cmd_2:
  result               --> R10
    00778 92AA      ST	-Y,R10
    00779 92BA      ST	-Y,R11
(0294) }
(0295) uchar date_cmd_2(void){
(0296) 	uint result;
(0297) 	DDRA=0x00;
    0077A 2422      CLR	R2
    0077B BA2A      OUT	0x1A,R2
(0298) 	rs_h;
    0077C 9180 0065 LDS	R24,0x65
    0077E 6082      ORI	R24,2
    0077F 9380 0065 STS	0x65,R24
(0299) 	rw_h;
    00781 9180 0065 LDS	R24,0x65
    00783 6081      ORI	R24,1
    00784 9380 0065 STS	0x65,R24
(0300) 	ep2_h;
    00786 9180 0062 LDS	R24,0x62
    00788 6081      ORI	R24,1
    00789 9380 0062 STS	0x62,R24
(0301) 	delay_ms(1);
    0078B E001      LDI	R16,1
    0078C E010      LDI	R17,0
    0078D 940E 044B CALL	_delay_ms
(0302) 	result=PINA;
    0078F B2A9      IN	R10,0x19
    00790 24BB      CLR	R11
(0303) 	DDRA=0xFF;
    00791 EF8F      LDI	R24,0xFF
    00792 BB8A      OUT	0x1A,R24
(0304) 	ep2_l;
    00793 9180 0062 LDS	R24,0x62
    00795 7F8E      ANDI	R24,0xFE
    00796 9380 0062 STS	0x62,R24
(0305) 	return result;
    00798 2D0A      MOV	R16,R10
    00799 90B9      LD	R11,Y+
    0079A 90A9      LD	R10,Y+
    0079B 9508      RET
_read_data_xy:
  y                    --> R22
  x                    --> R20
    0079C 940E 37B1 CALL	push_xgsetF00C
    0079E 2F62      MOV	R22,R18
    0079F 2F40      MOV	R20,R16
(0306) }
(0307) //**************************
(0308) //读取函数，注意会ac位置
(0309) //**************************
(0310) uchar read_data_xy(unsigned char x,unsigned char y){
(0311) 	if (y == 0) {
    007A0 2366      TST	R22
    007A1 F449      BNE	0x07AB
(0312)     	lcd_wcmd_1(0x80 + x);
    007A2 2F04      MOV	R16,R20
    007A3 5800      SUBI	R16,0x80
    007A4 DDD8      RCALL	_lcd_wcmd_1
(0313) 		delay_us(10);
    007A5 E00A      LDI	R16,0xA
    007A6 E010      LDI	R17,0
    007A7 940E 0441 CALL	_delay_us
(0314) 		return date_cmd_1();
    007A9 DFAA      RCALL	_date_cmd_1
    007AA C024      RJMP	0x07CF
(0315) 		
(0316)     }else  if(y==1){
    007AB 3061      CPI	R22,1
    007AC F449      BNE	0x07B6
(0317)     	lcd_wcmd_1(0x90 + x);
    007AD 2F04      MOV	R16,R20
    007AE 5700      SUBI	R16,0x70
    007AF DDCD      RCALL	_lcd_wcmd_1
(0318) 		delay_us(10);
    007B0 E00A      LDI	R16,0xA
    007B1 E010      LDI	R17,0
    007B2 940E 0441 CALL	_delay_us
(0319) 		return date_cmd_1();
    007B4 DF9F      RCALL	_date_cmd_1
    007B5 C019      RJMP	0x07CF
(0320)     }else  if(y==2){
    007B6 3062      CPI	R22,2
    007B7 F451      BNE	0x07C2
(0321)     	lcd_wcmd_2(0x80 + x);
    007B8 2F04      MOV	R16,R20
    007B9 5800      SUBI	R16,0x80
    007BA DE3A      RCALL	_lcd_wcmd_2
(0322) 		delay_us(10);
    007BB E00A      LDI	R16,0xA
    007BC E010      LDI	R17,0
    007BD 940E 0441 CALL	_delay_us
(0323) 		return date_cmd_2();
    007BF DFB8      RCALL	_date_cmd_2
    007C0 2EA0      MOV	R10,R16
    007C1 C00D      RJMP	0x07CF
(0324)     }else  if(y==3){
    007C2 3063      CPI	R22,3
    007C3 F451      BNE	0x07CE
(0325)     	lcd_wcmd_2(0x90 + x);
    007C4 2F04      MOV	R16,R20
    007C5 5700      SUBI	R16,0x70
    007C6 DE2E      RCALL	_lcd_wcmd_2
(0326) 		delay_us(10);
    007C7 E00A      LDI	R16,0xA
    007C8 E010      LDI	R17,0
    007C9 940E 0441 CALL	_delay_us
(0327) 		return date_cmd_2();
    007CB DFAC      RCALL	_date_cmd_2
    007CC 2EA0      MOV	R10,R16
    007CD C001      RJMP	0x07CF
(0328)     }
(0329) 	
(0330) 	return 0x00;
    007CE 2700      CLR	R16
    007CF 940C 37B8 JMP	pop_xgsetF00C
_read_data_1:
  addr                 --> R10
    007D1 92AA      ST	-Y,R10
    007D2 2EA0      MOV	R10,R16
(0331) }
(0332) uchar read_data_1(unsigned char addr){
(0333) 	
(0334)     	lcd_wcmd_1(addr);
    007D3 2D0A      MOV	R16,R10
    007D4 DDA8      RCALL	_lcd_wcmd_1
(0335)     	return date_cmd_1();
    007D5 DF7E      RCALL	_date_cmd_1
    007D6 90A9      LD	R10,Y+
    007D7 9508      RET
_read_data_2:
  addr                 --> R10
    007D8 92AA      ST	-Y,R10
    007D9 2EA0      MOV	R10,R16
(0336) }
(0337) uchar read_data_2(unsigned char addr){
(0338)     	lcd_wcmd_1(addr);
    007DA 2D0A      MOV	R16,R10
    007DB DDA1      RCALL	_lcd_wcmd_1
(0339) 		return date_cmd_2();
    007DC DF9B      RCALL	_date_cmd_2
    007DD 90A9      LD	R10,Y+
    007DE 9508      RET
(0340) }
(0341) 
(0342) 
(0343) /*初始化功能*/
(0344) void lcd_init(void){
(0345) 	 //初始化端口功能
(0346) 	 DDRA |=0xFF;
_lcd_init:
    007DF B38A      IN	R24,0x1A
    007E0 6F8F      ORI	R24,0xFF
    007E1 BB8A      OUT	0x1A,R24
(0347) 	 PORTA=0xFF;
    007E2 EF8F      LDI	R24,0xFF
    007E3 BB8B      OUT	0x1B,R24
(0348) 	 DDRG |=0x0F;
    007E4 9180 0064 LDS	R24,0x64
    007E6 608F      ORI	R24,0xF
    007E7 9380 0064 STS	0x64,R24
(0349) 	 PORTG|=0x0F;
    007E9 9180 0065 LDS	R24,0x65
    007EB 608F      ORI	R24,0xF
    007EC 9380 0065 STS	0x65,R24
(0350) 	 DDRF|=0x01;
    007EE 9180 0061 LDS	R24,0x61
    007F0 6081      ORI	R24,1
    007F1 9380 0061 STS	0x61,R24
(0351) 	 PORTF|=0x01;
    007F3 9180 0062 LDS	R24,0x62
    007F5 6081      ORI	R24,1
    007F6 9380 0062 STS	0x62,R24
(0352) 	 //lcd_wcmd(0x38);//初始化功能,8位，基本指令
(0353) 	 lcd_wcmd_1(0x30);//初始化功能,8位，基本指令
    007F8 E300      LDI	R16,0x30
    007F9 DD83      RCALL	_lcd_wcmd_1
(0354) 	  lcd_wcmd_1(0x08);//关显示
    007FA E008      LDI	R16,0x8
    007FB DD81      RCALL	_lcd_wcmd_1
(0355) 	  lcd_wcmd_1(0x01);//清显示
    007FC E001      LDI	R16,1
    007FD DD7F      RCALL	_lcd_wcmd_1
(0356) 	  lcd_wcmd_1(0x06);//输入模式，右移
    007FE E006      LDI	R16,6
    007FF DD7D      RCALL	_lcd_wcmd_1
(0357) 	  lcd_wcmd_1(0x0c);//初始化光标,开显示
    00800 E00C      LDI	R16,0xC
    00801 DD7B      RCALL	_lcd_wcmd_1
(0358) 	
(0359) 	  lcd_wcmd_2(0x30);//初始化功能,8位，基本指令
    00802 E300      LDI	R16,0x30
    00803 DDF1      RCALL	_lcd_wcmd_2
(0360) 	 lcd_wcmd_2(0x08);//关显示
    00804 E008      LDI	R16,0x8
    00805 DDEF      RCALL	_lcd_wcmd_2
(0361) 	 lcd_wcmd_2(0x01);//清显示
    00806 E001      LDI	R16,1
    00807 DDED      RCALL	_lcd_wcmd_2
(0362) 	 lcd_wcmd_2(0x06);//输入模式，右移
    00808 E006      LDI	R16,6
    00809 DDEB      RCALL	_lcd_wcmd_2
(0363) 	 lcd_wcmd_2(0x0c);//初始化光标,开显示
    0080A E00C      LDI	R16,0xC
    0080B CDE9      RJMP	_lcd_wcmd_2
_cur_set:
  type                 --> R20
    0080C 934A      ST	-Y,R20
    0080D 935A      ST	-Y,R21
    0080E 01A8      MOVW	R20,R16
(0364) }
(0365) //************
(0366) // 光标显示操作,默认初始化都是关闭。上半屏 0:关闭,1：开游标,2：游标反白,3：开游标、反白
(0367) // 下半屏  4:关闭,5：开游标,6：游标反白,7：开游标、反白
(0368) //************
(0369) void cur_set(uint type){
(0370) 	 if(type==0){
    0080F 3040      CPI	R20,0
    00810 0745      CPC	R20,R21
    00811 F419      BNE	0x0815
(0371) 	 	lcd_wcmd_1(0x0c);	 
    00812 E00C      LDI	R16,0xC
    00813 DD69      RCALL	_lcd_wcmd_1
(0372) 	 }else if(type==1){
    00814 C030      RJMP	0x0845
    00815 3041      CPI	R20,1
    00816 E0E0      LDI	R30,0
    00817 075E      CPC	R21,R30
    00818 F419      BNE	0x081C
(0373) 	     lcd_wcmd_1(0x0e);
    00819 E00E      LDI	R16,0xE
    0081A DD62      RCALL	_lcd_wcmd_1
(0374) 	 }else if(type==2){
    0081B C029      RJMP	0x0845
    0081C 3042      CPI	R20,2
    0081D E0E0      LDI	R30,0
    0081E 075E      CPC	R21,R30
    0081F F419      BNE	0x0823
(0375) 	    lcd_wcmd_1(0x0d);
    00820 E00D      LDI	R16,0xD
    00821 DD5B      RCALL	_lcd_wcmd_1
(0376) 	 }else if(type==3){
    00822 C022      RJMP	0x0845
    00823 3043      CPI	R20,3
    00824 E0E0      LDI	R30,0
    00825 075E      CPC	R21,R30
    00826 F419      BNE	0x082A
(0377) 	    lcd_wcmd_1(0x0f);
    00827 E00F      LDI	R16,0xF
    00828 DD54      RCALL	_lcd_wcmd_1
(0378) 	 }else if(type==4){
    00829 C01B      RJMP	0x0845
    0082A 3044      CPI	R20,4
    0082B E0E0      LDI	R30,0
    0082C 075E      CPC	R21,R30
    0082D F419      BNE	0x0831
(0379) 	    lcd_wcmd_2(0x0c);
    0082E E00C      LDI	R16,0xC
    0082F DDC5      RCALL	_lcd_wcmd_2
(0380) 	 }else if(type==5){
    00830 C014      RJMP	0x0845
    00831 3045      CPI	R20,5
    00832 E0E0      LDI	R30,0
    00833 075E      CPC	R21,R30
    00834 F419      BNE	0x0838
(0381) 	    lcd_wcmd_2(0x0e);
    00835 E00E      LDI	R16,0xE
    00836 DDBE      RCALL	_lcd_wcmd_2
(0382) 	 }else if(type==6){
    00837 C00D      RJMP	0x0845
    00838 3046      CPI	R20,6
    00839 E0E0      LDI	R30,0
    0083A 075E      CPC	R21,R30
    0083B F419      BNE	0x083F
(0383) 	    lcd_wcmd_2(0x0d);
    0083C E00D      LDI	R16,0xD
    0083D DDB7      RCALL	_lcd_wcmd_2
(0384) 	 }else if(type==7){
    0083E C006      RJMP	0x0845
    0083F 3047      CPI	R20,7
    00840 E0E0      LDI	R30,0
    00841 075E      CPC	R21,R30
    00842 F411      BNE	0x0845
(0385) 	    lcd_wcmd_2(0x0f);
    00843 E00F      LDI	R16,0xF
    00844 DDB0      RCALL	_lcd_wcmd_2
(0386) 	 }
    00845 9159      LD	R21,Y+
    00846 9149      LD	R20,Y+
    00847 9508      RET
(0387) }
(0388) //***************************************************
(0389) //   反白相关
(0390) //***************************************************
(0391) /********************************************************************  
(0392)     函 数 名：Set_Draw(  
(0393)     入口参数：无  
(0394)     出口参数：无  
(0395)     修改日期：  
(0396)     函数作用：  
(0397)     说    明：  
(0398)     ********************************************************************/   
(0399)     void Set_Draw(void)   
(0400)     {   
(0401)         //W_1byte(0,0,0x01);            //清屏    
(0402)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0403)         lcd_wcmd_1(0x36); 
_Set_Draw:
    00848 E306      LDI	R16,0x36
    00849 DD33      RCALL	_lcd_wcmd_1
(0404) 		lcd_wcmd_2(0x36);   
    0084A E306      LDI	R16,0x36
    0084B CDA9      RJMP	_lcd_wcmd_2
(0405)     }
(0406) 	void Set_UNDraw(void)   
(0407)     {   
(0408)         //W_1byte(0,0,0x01);            //清屏   
(0409)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0410)         lcd_wcmd_1(0x30); 
_Set_UNDraw:
    0084C E300      LDI	R16,0x30
    0084D DD2F      RCALL	_lcd_wcmd_1
(0411) 		lcd_wcmd_2(0x30);   
    0084E E300      LDI	R16,0x30
    0084F CDA5      RJMP	_lcd_wcmd_2
_Set_White_off:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    00850 940E 3711 CALL	push_arg4
    00852 940E 3792 CALL	push_xgsetF0FC
    00854 2F62      MOV	R22,R18
    00855 9721      SBIW	R28,1
    00856 84AF      LDD	R10,Y+15
(0412)     }
(0413) /**************************************************  
(0414)     uchar x,起始位置
(0415) 	uchar y,对应y
(0416) 	uchar end_x, 反白结束位置
(0417) 	uchar clear 0：反白，1：不反白
(0418)  **************************************************/   
(0419)     void Set_White_off(uchar x,uchar y,uchar end_x)   
(0420)     {   
(0421)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0422)         white_end_x = (end_x-x+1);   
    00857 2D8A      MOV	R24,R10
    00858 840B      LDD	R0,Y+11
    00859 1980      SUB	R24,R0
    0085A 5F8F      SUBI	R24,0xFF
    0085B 2EC8      MOV	R12,R24
(0423)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    0085C 0CCC      LSL	R12
(0424) 		Set_Draw(); //开画图
    0085D DFEA      RCALL	_Set_Draw
(0425)         if(y==0)   
    0085E 2366      TST	R22
    0085F F449      BNE	0x0869
(0426)         {   
(0427)             white_x = (0x80+x-1);   
    00860 858B      LDD	R24,Y+11
    00861 5880      SUBI	R24,0x80
    00862 5081      SUBI	R24,1
    00863 8388      ST	Y,R24
(0428)             white_y = 0x80;   
    00864 E840      LDI	R20,0x80
(0429)             clr_x = 0x80;   
    00865 E880      LDI	R24,0x80
    00866 2EA8      MOV	R10,R24
(0430)             clr_y = 0x80;   
    00867 2EE8      MOV	R14,R24
(0431)         }   
    00868 C022      RJMP	0x088B
(0432)         else if(y==1)   
    00869 3061      CPI	R22,1
    0086A F451      BNE	0x0875
(0433)         {   
(0434)             white_x = (0x80+x-1);   
    0086B 858B      LDD	R24,Y+11
    0086C 5880      SUBI	R24,0x80
    0086D 5081      SUBI	R24,1
    0086E 8388      ST	Y,R24
(0435)             white_y = 0x90;   
    0086F E940      LDI	R20,0x90
(0436)             clr_x = 0x80;   
    00870 E880      LDI	R24,0x80
    00871 2EA8      MOV	R10,R24
(0437)             clr_y = 0x90;   
    00872 E980      LDI	R24,0x90
    00873 2EE8      MOV	R14,R24
(0438)         }   
    00874 C016      RJMP	0x088B
(0439)         else if(y==2)   
    00875 3062      CPI	R22,2
    00876 F449      BNE	0x0880
(0440)         {   
(0441)             white_x = (0x80+x-1);   
    00877 858B      LDD	R24,Y+11
    00878 5880      SUBI	R24,0x80
    00879 5081      SUBI	R24,1
    0087A 8388      ST	Y,R24
(0442)             white_y = 0x80;   
    0087B E840      LDI	R20,0x80
(0443)             clr_x = 0x80;   
    0087C E880      LDI	R24,0x80
    0087D 2EA8      MOV	R10,R24
(0444)             clr_y = 0x80;   
    0087E 2EE8      MOV	R14,R24
(0445)         }   
    0087F C00B      RJMP	0x088B
(0446)         else if(y==3)   
    00880 3063      CPI	R22,3
    00881 F449      BNE	0x088B
(0447)         {   
(0448)             white_x = (0x80+x-1);   
    00882 858B      LDD	R24,Y+11
    00883 5880      SUBI	R24,0x80
    00884 5081      SUBI	R24,1
    00885 8388      ST	Y,R24
(0449)             white_y = 0x90;   
    00886 E940      LDI	R20,0x90
(0450)             clr_x = 0x80;   
    00887 E880      LDI	R24,0x80
    00888 2EA8      MOV	R10,R24
(0451)             clr_y = 0x90;   
    00889 E980      LDI	R24,0x90
    0088A 2EE8      MOV	R14,R24
(0452)         }   
(0453) 		if(y==0 || y==1){    
    0088B 2366      TST	R22
    0088C F011      BEQ	0x088F
    0088D 3061      CPI	R22,1
    0088E F4A1      BNE	0x08A3
(0454)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    0088F 24AA      CLR	R10
    00890 C00E      RJMP	0x089F
(0455)           {   
(0456)              lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    00891 2E24      MOV	R2,R20
    00892 5F4F      SUBI	R20,0xFF
    00893 2D02      MOV	R16,R2
    00894 DCE8      RCALL	_lcd_wcmd_1
(0457)              lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    00895 8108      LD	R16,Y
    00896 DCE6      RCALL	_lcd_wcmd_1
(0458)              for(j=0;j<white_end_x;j++)   //   
    00897 24EE      CLR	R14
    00898 C003      RJMP	0x089C
(0459)              {     
(0460)                lcd_wdat_1(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    00899 2700      CLR	R16
    0089A DD08      RCALL	_lcd_wdat_1
    0089B 94E3      INC	R14
    0089C 14EC      CP	R14,R12
    0089D F3D8      BCS	0x0899
    0089E 94A3      INC	R10
    0089F 2D8A      MOV	R24,R10
    008A0 3180      CPI	R24,0x10
    008A1 F378      BCS	0x0891
(0461)              }   
(0462)           }
(0463) 		}else if(y==2 || y==3){
    008A2 C017      RJMP	0x08BA
    008A3 3062      CPI	R22,2
    008A4 F011      BEQ	0x08A7
    008A5 3063      CPI	R22,3
    008A6 F499      BNE	0x08BA
(0464) 		    for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    008A7 24AA      CLR	R10
    008A8 C00E      RJMP	0x08B7
(0465)           {   
(0466)              lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    008A9 2E24      MOV	R2,R20
    008AA 5F4F      SUBI	R20,0xFF
    008AB 2D02      MOV	R16,R2
    008AC DD48      RCALL	_lcd_wcmd_2
(0467)              lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    008AD 8108      LD	R16,Y
    008AE DD46      RCALL	_lcd_wcmd_2
(0468)              for(j=0;j<white_end_x;j++)   //   
    008AF 24EE      CLR	R14
    008B0 C003      RJMP	0x08B4
(0469)              {     
(0470)                lcd_wdat_2(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    008B1 2700      CLR	R16
    008B2 DD68      RCALL	_lcd_wdat_2
    008B3 94E3      INC	R14
    008B4 14EC      CP	R14,R12
    008B5 F3D8      BCS	0x08B1
    008B6 94A3      INC	R10
    008B7 2D8A      MOV	R24,R10
    008B8 3180      CPI	R24,0x10
    008B9 F378      BCS	0x08A9
(0471)              }   
(0472)           }
(0473) 		}
(0474) 		  Set_UNDraw();//关画图  
    008BA DF91      RCALL	_Set_UNDraw
    008BB 9621      ADIW	R28,1
    008BC 940E 3787 CALL	pop_xgsetF0FC
    008BE 9624      ADIW	R28,4
    008BF 9508      RET
_Set_White:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    008C0 940E 3711 CALL	push_arg4
    008C2 940E 3792 CALL	push_xgsetF0FC
    008C4 2F62      MOV	R22,R18
    008C5 9721      SBIW	R28,1
    008C6 84AF      LDD	R10,Y+15
(0475)     } 
(0476) 	void Set_White(uchar x,uchar y,uchar end_x)   
(0477)     {   
(0478)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0479)         white_end_x = (end_x-x+1);   
    008C7 2D8A      MOV	R24,R10
    008C8 840B      LDD	R0,Y+11
    008C9 1980      SUB	R24,R0
    008CA 5F8F      SUBI	R24,0xFF
    008CB 2EC8      MOV	R12,R24
(0480)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    008CC 0CCC      LSL	R12
(0481) 		Set_Draw(); //开画图
    008CD DF7A      RCALL	_Set_Draw
(0482)         if(y==0)   
    008CE 2366      TST	R22
    008CF F449      BNE	0x08D9
(0483)         {   
(0484)             white_x = (0x80+x-1);   
    008D0 858B      LDD	R24,Y+11
    008D1 5880      SUBI	R24,0x80
    008D2 5081      SUBI	R24,1
    008D3 8388      ST	Y,R24
(0485)             white_y = 0x80;   
    008D4 E840      LDI	R20,0x80
(0486)             clr_x = 0x80;   
    008D5 E880      LDI	R24,0x80
    008D6 2EA8      MOV	R10,R24
(0487)             clr_y = 0x80;   
    008D7 2EE8      MOV	R14,R24
(0488)         }   
    008D8 C022      RJMP	0x08FB
(0489)         else if(y==1)   
    008D9 3061      CPI	R22,1
    008DA F451      BNE	0x08E5
(0490)         {   
(0491)             white_x = (0x80+x-1);   
    008DB 858B      LDD	R24,Y+11
    008DC 5880      SUBI	R24,0x80
    008DD 5081      SUBI	R24,1
    008DE 8388      ST	Y,R24
(0492)             white_y = 0x90;   
    008DF E940      LDI	R20,0x90
(0493)             clr_x = 0x80;   
    008E0 E880      LDI	R24,0x80
    008E1 2EA8      MOV	R10,R24
(0494)             clr_y = 0x90;   
    008E2 E980      LDI	R24,0x90
    008E3 2EE8      MOV	R14,R24
(0495)         }   
    008E4 C016      RJMP	0x08FB
(0496)         else if(y==2)   
    008E5 3062      CPI	R22,2
    008E6 F449      BNE	0x08F0
(0497)         {   
(0498)             white_x = (0x80+x-1);   
    008E7 858B      LDD	R24,Y+11
    008E8 5880      SUBI	R24,0x80
    008E9 5081      SUBI	R24,1
    008EA 8388      ST	Y,R24
(0499)             white_y = 0x80;   
    008EB E840      LDI	R20,0x80
(0500)             clr_x = 0x80;   
    008EC E880      LDI	R24,0x80
    008ED 2EA8      MOV	R10,R24
(0501)             clr_y = 0x80;   
    008EE 2EE8      MOV	R14,R24
(0502)         }   
    008EF C00B      RJMP	0x08FB
(0503)         else if(y==3)   
    008F0 3063      CPI	R22,3
    008F1 F449      BNE	0x08FB
(0504)         {   
(0505)             white_x = (0x80+x-1);   
    008F2 858B      LDD	R24,Y+11
    008F3 5880      SUBI	R24,0x80
    008F4 5081      SUBI	R24,1
    008F5 8388      ST	Y,R24
(0506)             white_y = 0x90;   
    008F6 E940      LDI	R20,0x90
(0507)             clr_x = 0x80;   
    008F7 E880      LDI	R24,0x80
    008F8 2EA8      MOV	R10,R24
(0508)             clr_y = 0x90;   
    008F9 E980      LDI	R24,0x90
    008FA 2EE8      MOV	R14,R24
(0509)         } 
(0510) 		if(y==0 || y==1){          
    008FB 2366      TST	R22
    008FC F011      BEQ	0x08FF
    008FD 3061      CPI	R22,1
    008FE F4A1      BNE	0x0913
(0511)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    008FF 24AA      CLR	R10
    00900 C00E      RJMP	0x090F
(0512)           {   
(0513)               lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    00901 2E24      MOV	R2,R20
    00902 5F4F      SUBI	R20,0xFF
    00903 2D02      MOV	R16,R2
    00904 DC78      RCALL	_lcd_wcmd_1
(0514)               lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    00905 8108      LD	R16,Y
    00906 DC76      RCALL	_lcd_wcmd_1
(0515)               for(j=0;j<white_end_x;j++)   //   
    00907 24EE      CLR	R14
    00908 C003      RJMP	0x090C
(0516)               {    
(0517)                     lcd_wdat_1(0xff); //反白这一行的8个点，液晶地址自动加1     
    00909 EF0F      LDI	R16,0xFF
    0090A DC98      RCALL	_lcd_wdat_1
    0090B 94E3      INC	R14
    0090C 14EC      CP	R14,R12
    0090D F3D8      BCS	0x0909
    0090E 94A3      INC	R10
    0090F 2D8A      MOV	R24,R10
    00910 3180      CPI	R24,0x10
    00911 F378      BCS	0x0901
(0518)               }   
(0519)           }
(0520) 		}else if(y==2 || y==3){
    00912 C017      RJMP	0x092A
    00913 3062      CPI	R22,2
    00914 F011      BEQ	0x0917
    00915 3063      CPI	R22,3
    00916 F499      BNE	0x092A
(0521) 		   for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00917 24AA      CLR	R10
    00918 C00E      RJMP	0x0927
(0522)             {   
(0523)               lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    00919 2E24      MOV	R2,R20
    0091A 5F4F      SUBI	R20,0xFF
    0091B 2D02      MOV	R16,R2
    0091C DCD8      RCALL	_lcd_wcmd_2
(0524)               lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    0091D 8108      LD	R16,Y
    0091E DCD6      RCALL	_lcd_wcmd_2
(0525)               for(j=0;j<white_end_x;j++)   //   
    0091F 24EE      CLR	R14
    00920 C003      RJMP	0x0924
(0526)               {    
(0527)                     lcd_wdat_2(0xff); //反白这一行的8个点，液晶地址自动加1     
    00921 EF0F      LDI	R16,0xFF
    00922 DCF8      RCALL	_lcd_wdat_2
    00923 94E3      INC	R14
    00924 14EC      CP	R14,R12
    00925 F3D8      BCS	0x0921
    00926 94A3      INC	R10
    00927 2D8A      MOV	R24,R10
    00928 3180      CPI	R24,0x10
    00929 F378      BCS	0x0919
(0528)               }   
(0529)             }
(0530) 		}
(0531) 		  Set_UNDraw();//关画图  
    0092A DF21      RCALL	_Set_UNDraw
    0092B 9621      ADIW	R28,1
    0092C 940E 3787 CALL	pop_xgsetF0FC
    0092E 9624      ADIW	R28,4
    0092F 9508      RET
_Draw_Pic:
  temp_y               --> R20
  temp_x               --> R22
  i                    --> R10
  j                    --> R14
  Draw                 --> Y,+12
  y                    --> Y,+10
  x                    --> R12
    00930 933A      ST	-Y,R19
    00931 932A      ST	-Y,R18
    00932 940E 3792 CALL	push_xgsetF0FC
    00934 2EC0      MOV	R12,R16
(0532)     } 
(0533) 	/********************************************************************  
(0534)     函 数 名：Draw_Pic  128*64  
(0535)     入口参数：x,y,*Draw  
(0536)     出口参数：无  
(0537)     建立日期：2007年8月26日  
(0538)     修改日期：  
(0539)     函数作用：  
(0540)     说    明：  
(0541)     ********************************************************************/   
(0542)     /*************************************************/   
(0543)        
(0544)     void Draw_Pic(uchar x, uchar y, const uchar *Draw)   
(0545)     {   
(0546)         uchar i, j, temp_x, temp_y;     //   
(0547) 		lcd_wcmd_1(0x34);
    00935 E304      LDI	R16,0x34
    00936 DC46      RCALL	_lcd_wcmd_1
(0548) 		lcd_wcmd_2(0x34);
    00937 E304      LDI	R16,0x34
    00938 DCBC      RCALL	_lcd_wcmd_2
(0549)         temp_x = x;                     //   
    00939 2D6C      MOV	R22,R12
(0550)         temp_y = y;                     //   
    0093A 854A      LDD	R20,Y+10
(0551)         temp_x |= 0x80;                 //   
    0093B 6860      ORI	R22,0x80
(0552)         temp_y |= 0x80;                 //   
    0093C 6840      ORI	R20,0x80
(0553)         for(i=0;i<32;i++ )               //上半屏32行   
    0093D 24AA      CLR	R10
    0093E C013      RJMP	0x0952
(0554)         {   
(0555)             lcd_wcmd_1(temp_y++);      //设置绘图区的Y地址坐标0   
    0093F 2E24      MOV	R2,R20
    00940 5F4F      SUBI	R20,0xFF
    00941 2D02      MOV	R16,R2
    00942 DC3A      RCALL	_lcd_wcmd_1
(0556)             lcd_wcmd_1(temp_x);        //设置绘图区的X地址坐标0   
    00943 2F06      MOV	R16,R22
    00944 DC38      RCALL	_lcd_wcmd_1
(0557)             for(j=0;j<24;j++)            //   
    00945 24EE      CLR	R14
    00946 C007      RJMP	0x094E
(0558)             {   
(0559)                  lcd_wdat_1(*Draw++);  //   
    00947 85EC      LDD	R30,Y+12
    00948 85FD      LDD	R31,Y+13
    00949 9101      LD	R16,Z+
    0094A 87FD      STD	Y+13,R31
    0094B 87EC      STD	Y+12,R30
    0094C DC56      RCALL	_lcd_wdat_1
    0094D 94E3      INC	R14
    0094E 2D8E      MOV	R24,R14
    0094F 3188      CPI	R24,0x18
    00950 F3B0      BCS	0x0947
    00951 94A3      INC	R10
    00952 2D8A      MOV	R24,R10
    00953 3280      CPI	R24,0x20
    00954 F350      BCS	0x093F
(0560)             }   
(0561)         }   
(0562)            
(0563)         temp_x = x;                     //   
    00955 2D6C      MOV	R22,R12
(0564)         temp_y = y;                     //   
    00956 854A      LDD	R20,Y+10
(0565)         temp_x |= 0x80;                 //   
    00957 6860      ORI	R22,0x80
(0566)         temp_y |= 0x80;                   //   
    00958 6840      ORI	R20,0x80
(0567)         j = 0;                          //   
    00959 24EE      CLR	R14
(0568)         for(;i<64;i++ )   
    0095A C013      RJMP	0x096E
(0569)         {   
(0570)             lcd_wcmd_2(temp_y++);      //设置绘图区的Y地址坐标   
    0095B 2E24      MOV	R2,R20
    0095C 5F4F      SUBI	R20,0xFF
    0095D 2D02      MOV	R16,R2
    0095E DC96      RCALL	_lcd_wcmd_2
(0571)             lcd_wcmd_2(temp_x);        //设置绘图区的X地址坐标   
    0095F 2F06      MOV	R16,R22
    00960 DC94      RCALL	_lcd_wcmd_2
(0572)             for(j=0;j<24;j++)   
    00961 24EE      CLR	R14
    00962 C007      RJMP	0x096A
(0573)             {   
(0574)                  lcd_wdat_2(*Draw++);  //   
    00963 85EC      LDD	R30,Y+12
    00964 85FD      LDD	R31,Y+13
    00965 9101      LD	R16,Z+
    00966 87FD      STD	Y+13,R31
    00967 87EC      STD	Y+12,R30
    00968 DCB2      RCALL	_lcd_wdat_2
    00969 94E3      INC	R14
    0096A 2D8E      MOV	R24,R14
    0096B 3188      CPI	R24,0x18
    0096C F3B0      BCS	0x0963
    0096D 94A3      INC	R10
    0096E 2D8A      MOV	R24,R10
    0096F 3480      CPI	R24,0x40
    00970 F350      BCS	0x095B
(0575)             }   
(0576)         }   
(0577)        lcd_wcmd_1(0x36);
    00971 E306      LDI	R16,0x36
    00972 DC0A      RCALL	_lcd_wcmd_1
(0578) 	   lcd_wcmd_2(0x36);
    00973 E306      LDI	R16,0x36
    00974 DC80      RCALL	_lcd_wcmd_2
(0579) 	   delay_us(1);
    00975 E001      LDI	R16,1
    00976 E010      LDI	R17,0
    00977 940E 0441 CALL	_delay_us
(0580) 	   lcd_wcmd_1(0x30);
    00979 E300      LDI	R16,0x30
    0097A DC02      RCALL	_lcd_wcmd_1
(0581) 	   lcd_wcmd_2(0x30);
    0097B E300      LDI	R16,0x30
    0097C DC78      RCALL	_lcd_wcmd_2
    0097D 940E 3787 CALL	pop_xgsetF0FC
    0097F 9622      ADIW	R28,2
    00980 9508      RET
_lcd_Desk:
    00981 9722      SBIW	R28,2
(0582) 	        
(0583)     }  
(0584)     /*************************************************/  
(0585) //***********************************************************************
(0586) //      液晶显示界面初始化
(0587) //***********************************************************************
(0588) void lcd_Desk(void)
(0589) { 
(0590)   //uint i=0;   
(0591)  // lcd_clear();
(0592)   //lcd_write_str(0,0,"ADC0:");
(0593)   lcd_write_str(0,3,"反白测试第一次");
    00982 E081      LDI	R24,1
    00983 E091      LDI	R25,1
    00984 8399      STD	Y+1,R25
    00985 8388      ST	Y,R24
    00986 E023      LDI	R18,3
    00987 2700      CLR	R16
    00988 DD12      RCALL	_lcd_write_str
(0594)   lcd_write_str(0,0,"反白测试第一次");
    00989 E081      LDI	R24,1
    0098A E091      LDI	R25,1
    0098B 8399      STD	Y+1,R25
    0098C 8388      ST	Y,R24
    0098D 2722      CLR	R18
    0098E 2700      CLR	R16
    0098F DD0B      RCALL	_lcd_write_str
(0595)   //delay_ms(100);
(0596)      
(0597)     Set_White(1,1,7); 
    00990 E087      LDI	R24,7
    00991 8388      ST	Y,R24
    00992 E021      LDI	R18,1
    00993 E001      LDI	R16,1
    00994 DF2B      RCALL	_Set_White
(0598) 	   
(0599) 	 
(0600)     delay_ms(3000); 
    00995 EB08      LDI	R16,0xB8
    00996 E01B      LDI	R17,0xB
    00997 940E 044B CALL	_delay_ms
(0601)      Set_White_off(1,1,7);
    00999 E087      LDI	R24,7
    0099A 8388      ST	Y,R24
    0099B E021      LDI	R18,1
    0099C E001      LDI	R16,1
    0099D DEB2      RCALL	_Set_White_off
(0602) 	Set_White(2,1,2); 
    0099E E082      LDI	R24,2
    0099F 8388      ST	Y,R24
    009A0 E021      LDI	R18,1
    009A1 E002      LDI	R16,2
    009A2 DF1D      RCALL	_Set_White
(0603) 	 delay_ms(300); 
    009A3 E20C      LDI	R16,0x2C
    009A4 E011      LDI	R17,1
    009A5 940E 044B CALL	_delay_ms
(0604) 	 Set_White_off(2,2,7);
    009A7 E087      LDI	R24,7
    009A8 8388      ST	Y,R24
    009A9 E022      LDI	R18,2
    009AA E002      LDI	R16,2
    009AB DEA4      RCALL	_Set_White_off
(0605) 	 Set_White(3,1,5);   
    009AC E085      LDI	R24,5
    009AD 8388      ST	Y,R24
    009AE E021      LDI	R18,1
    009AF E003      LDI	R16,3
    009B0 DF0F      RCALL	_Set_White
    009B1 9622      ADIW	R28,2
    009B2 9508      RET
_main:
    009B3 9721      SBIW	R28,1
FILE: E:\ICCDemo\Temp_Control\temp_control\main.c
(0001) 
(0002) #include<iom128v.h>
(0003) #include "main.h"
(0004) #include "lcd.h"
(0005) #include "time1307.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "timertask.h"
(0009) #include "eeprom.h"
(0010) #include "pages.h"
(0011) #include "temp.h"
(0012) //const unsigned char nihao[1536]={};
(0013) unsigned int waitflag=1000;//确认恢复的等待标记，初始为10，如果为0代表到时
(0014) //下面两个继续使用。暂时保存数据使用
(0015)  unsigned int temp_h=0;
(0016)  unsigned int temp_l=0;
(0017)  //uart需要参数
(0018)  unsigned char send_buf[600];
(0019)  unsigned char receive_buf[600];
(0020)  unsigned int send_len;
(0021)  unsigned int receive_len;
(0022)  //界面需要参数
(0023)  unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0024)  unsigned int pageParam[5];//传递参数。界面间参数暂存
(0025)  unsigned int prePageNum; //上一界面。应该在跳转前设置这个参数。但是用到这个参数的就Page3、4、8.所以可以直接在该界面用到在设置。不用理会规则
(0026)  //**************
(0027) struct temp temps[4]={{0},{0},{0},{0}};
(0028) 
(0029) 
(0030) //*************************************************************************
(0031) //			主程序
(0032) //*************************************************************************
(0033) void main(void)
(0034) { 
(0035) 
(0036)   DDRE=0xFF;
    009B4 EF8F      LDI	R24,0xFF
    009B5 B982      OUT	0x02,R24
(0037)   PORTE=~0xaa;
    009B6 E585      LDI	R24,0x55
    009B7 B983      OUT	0x03,R24
(0038)   SREG|=0x80;//开中断
    009B8 9478      BSET	7
(0039)   lcd_init();
    009B9 940E 07DF CALL	_lcd_init
(0040)   lcd_clear();
    009BB 940E 0752 CALL	_lcd_clear
(0041)    //画欢迎界面
(0042)   //Draw_Pic( 0, 0, nihao);
(0043)    //delay_ms(1000);
(0044)      pageNum=2;
    009BD E082      LDI	R24,2
    009BE E090      LDI	R25,0
    009BF 9390 0D61 STS	pageNum+1,R25
    009C1 9380 0D60 STS	pageNum,R24
(0045)      Set_White_off(1,0,12);
    009C3 E08C      LDI	R24,0xC
    009C4 8388      ST	Y,R24
    009C5 2722      CLR	R18
    009C6 E001      LDI	R16,1
    009C7 940E 0850 CALL	_Set_White_off
(0046) 	 Set_White_off(1,1,12);
    009C9 E08C      LDI	R24,0xC
    009CA 8388      ST	Y,R24
    009CB E021      LDI	R18,1
    009CC E001      LDI	R16,1
    009CD 940E 0850 CALL	_Set_White_off
(0047) 	 Set_White_off(1,2,12);
    009CF E08C      LDI	R24,0xC
    009D0 8388      ST	Y,R24
    009D1 E022      LDI	R18,2
    009D2 E001      LDI	R16,1
    009D3 940E 0850 CALL	_Set_White_off
(0048) 	 Set_White_off(1,3,12);
    009D5 E08C      LDI	R24,0xC
    009D6 8388      ST	Y,R24
    009D7 E023      LDI	R18,3
    009D8 E001      LDI	R16,1
    009D9 940E 0850 CALL	_Set_White_off
(0049) 	 //测试使用
(0050) 	   temp_l=0x50;
    009DB E580      LDI	R24,0x50
    009DC E090      LDI	R25,0
    009DD 9390 0115 STS	temp_l+1,R25
    009DF 9380 0114 STS	temp_l,R24
(0051)       temp_h=0x12;
    009E1 E182      LDI	R24,0x12
    009E2 9390 0113 STS	temp_h+1,R25
    009E4 9380 0112 STS	temp_h,R24
(0052) 	  tempdata_init();//数据初始化，清空
    009E6 940E 2EA8 CALL	_tempdata_init
(0053)       Initial_time(); //初始化时间的
    009E8 940E 367A CALL	_Initial_time
(0054) 	  Timerinit_3(0xe0,0x00);//使用16位的定时器3来读取温度和pid算法
    009EA 2722      CLR	R18
    009EB EE00      LDI	R16,0xE0
    009EC 940E 0A0A CALL	_Timerinit_3
(0055) 	  Timerinit_1(0xFe,0xb8);//使用16位的定时器1来输出
    009EE EB28      LDI	R18,0xB8
    009EF EF0E      LDI	R16,0xFE
    009F0 940E 09FB CALL	_Timerinit_1
(0056) 	  Timerinit_2(0x00);
    009F2 2700      CLR	R16
    009F3 940E 0A29 CALL	_Timerinit_2
    009F5 C002      RJMP	0x09F8
(0057) 	 while(1){
(0058)      dispatchPages();
    009F6 940E 2369 CALL	_dispatchPages
    009F8 CFFD      RJMP	0x09F6
    009F9 9621      ADIW	R28,1
    009FA 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\timertask.c
(0001) #include<iom128v.h>
(0002) #include "timertask.h"
(0003) #include "time.h"
(0004) #include "lcd.h"
(0005) #include "delay.h"
(0006) #include "main.h"
(0007) #include "temp.h"
(0008) #include "out.h"
(0009) unsigned int secondflag=64;//8位定时器全计时64次为1s
(0010) unsigned char time_h_1, time_l_1,time_h_3, time_l_3,time_0, time_2,i;
(0011) //************************************************
(0012) //16位定时器，定时器1
(0013) //*************************************************
(0014) /*
(0015)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0016)   自行计算时间传入。传入高低八位
(0017) */
(0018) void Timerinit_1(uchar time_h,uchar time_l){
(0019)     time_h_1=time_h;
_Timerinit_1:
  time_l               --> R18
  time_h               --> R16
    009FB 9300 0D68 STS	time_h_1,R16
(0020) 	time_l_1=time_l;
    009FD 9320 0D67 STS	time_l_1,R18
(0021) 	 TCCR1B=0x00;
    009FF 2422      CLR	R2
    00A00 BC2E      OUT	0x2E,R2
(0022) 	//写入初值
(0023)     TCNT1H=time_h;
    00A01 BD0D      OUT	0x2D,R16
(0024)     TCNT1L=time_l;
    00A02 BD2C      OUT	0x2C,R18
(0025) 	//普通计数，1024分频
(0026)     TCCR1A=0x00;
    00A03 BC2F      OUT	0x2F,R2
(0027)     TCCR1B=0x05;
    00A04 E085      LDI	R24,5
    00A05 BD8E      OUT	0x2E,R24
(0028) 	 TIMSK|=0x04;//开定时器1溢出中断,16位的
    00A06 B787      IN	R24,0x37
    00A07 6084      ORI	R24,4
    00A08 BF87      OUT	0x37,R24
    00A09 9508      RET
(0029) }
(0030) //************************************************
(0031) //16位定时器，定时器3
(0032) //*************************************************
(0033) /*
(0034)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0035)   自行计算时间传入。传入高低八位
(0036) */
(0037) void Timerinit_3(uchar time_h,uchar time_l){
(0038)  	time_h_3=time_h;
_Timerinit_3:
  time_l               --> R18
  time_h               --> R16
    00A0A 9300 0D66 STS	time_h_3,R16
(0039) 	time_l_3=time_l;
    00A0C 9320 0D65 STS	time_l_3,R18
(0040) 	//写入初值
(0041) 	 TCCR3B=0x00;
    00A0E 2422      CLR	R2
    00A0F 9220 008A STS	0x8A,R2
(0042)     TCNT3H=time_h;
    00A11 9300 0089 STS	0x89,R16
(0043)     TCNT3L=time_l;
    00A13 9320 0088 STS	0x88,R18
(0044) 	//普通计数，1024分频
(0045)     TCCR3A=0x00;
    00A15 9220 008B STS	0x8B,R2
(0046)     TCCR3B=0x05;
    00A17 E085      LDI	R24,5
    00A18 9380 008A STS	0x8A,R24
(0047) 	ETIMSK |=0x04;//开外部中断
    00A1A 9180 007D LDS	R24,0x7D
    00A1C 6084      ORI	R24,4
    00A1D 9380 007D STS	0x7D,R24
    00A1F 9508      RET
(0048) }
(0049) //************************************************
(0050) //8位定时器，定时器0
(0051) //*************************************************
(0052) 
(0053) /*
(0054)   计数器0，8位的。普通计时，1024分频。
(0055)   自行计算时间传入。
(0056) */
(0057) void Timerinit_0(uchar time){
(0058)     time_0=time;
_Timerinit_0:
  time                 --> R16
    00A20 9300 0D64 STS	time_0,R16
(0059) 	//写入初值
(0060)     TCNT0=time;
    00A22 BF02      OUT	0x32,R16
(0061) 	TIMSK|=0x01;//开定时器0溢出中断,8位的
    00A23 B787      IN	R24,0x37
    00A24 6081      ORI	R24,1
    00A25 BF87      OUT	0x37,R24
(0062) 	 TCCR0=0x07;//普通计数，1024分频
    00A26 E087      LDI	R24,7
    00A27 BF83      OUT	0x33,R24
    00A28 9508      RET
(0063) 	 
(0064) }
(0065) //************************************************
(0066) //8位定时器，定时器2
(0067) //*************************************************
(0068) /*
(0069)   计数器0，8位的。普通计时，1024分频。
(0070)   自行计算时间传入。
(0071) */
(0072) void Timerinit_2(uchar time){
(0073)     time_2=time;
_Timerinit_2:
  time                 --> R16
    00A29 9300 0D63 STS	time_2,R16
(0074) 	//写入初值
(0075)     TCNT2=time;
    00A2B BD04      OUT	0x24,R16
(0076) 	TIMSK|=0x40;//开定时器2溢出中断,8位的
    00A2C B787      IN	R24,0x37
    00A2D 6480      ORI	R24,0x40
    00A2E BF87      OUT	0x37,R24
(0077) 	//普通计数，1024分频
(0078)     TCCR2=0x05;
    00A2F E085      LDI	R24,5
    00A30 BD85      OUT	0x25,R24
    00A31 9508      RET
_int_timer0:
    00A32 920A      ST	-Y,R0
    00A33 921A      ST	-Y,R1
    00A34 922A      ST	-Y,R2
    00A35 923A      ST	-Y,R3
    00A36 924A      ST	-Y,R4
    00A37 925A      ST	-Y,R5
    00A38 926A      ST	-Y,R6
    00A39 927A      ST	-Y,R7
    00A3A 928A      ST	-Y,R8
    00A3B 929A      ST	-Y,R9
    00A3C 930A      ST	-Y,R16
    00A3D 931A      ST	-Y,R17
    00A3E 932A      ST	-Y,R18
    00A3F 933A      ST	-Y,R19
    00A40 938A      ST	-Y,R24
    00A41 939A      ST	-Y,R25
    00A42 93AA      ST	-Y,R26
    00A43 93BA      ST	-Y,R27
    00A44 93EA      ST	-Y,R30
    00A45 93FA      ST	-Y,R31
    00A46 B60F      IN	R0,0x3F
    00A47 920A      ST	-Y,R0
    00A48 9721      SBIW	R28,1
(0079) }
(0080) #pragma interrupt_handler int_timer0:17
(0081) void int_timer0(void){ 
(0082) 		TCCR0=0x00;
    00A49 2422      CLR	R2
    00A4A BE23      OUT	0x33,R2
(0083) 		waitflag--;
    00A4B 9180 0110 LDS	R24,waitflag
    00A4D 9190 0111 LDS	R25,waitflag+1
    00A4F 9701      SBIW	R24,1
    00A50 9390 0111 STS	waitflag+1,R25
    00A52 9380 0110 STS	waitflag,R24
(0084) 	lcd_write_char(10,0,0x30+(waitflag/100));
    00A54 E624      LDI	R18,0x64
    00A55 E030      LDI	R19,0
    00A56 018C      MOVW	R16,R24
    00A57 940E 373D CALL	div16u
    00A59 01C8      MOVW	R24,R16
    00A5A 96C0      ADIW	R24,0x30
    00A5B 8388      ST	Y,R24
    00A5C 2722      CLR	R18
    00A5D E00A      LDI	R16,0xA
    00A5E 940E 0675 CALL	_lcd_write_char
(0085) 	lcd_write_char(11,0,'s');	
    00A60 E783      LDI	R24,0x73
    00A61 8388      ST	Y,R24
    00A62 2722      CLR	R18
    00A63 E00B      LDI	R16,0xB
    00A64 940E 0675 CALL	_lcd_write_char
(0086) 	if(waitflag>1){
    00A66 E081      LDI	R24,1
    00A67 E090      LDI	R25,0
    00A68 9020 0110 LDS	R2,waitflag
    00A6A 9030 0111 LDS	R3,waitflag+1
    00A6C 1582      CP	R24,R2
    00A6D 0593      CPC	R25,R3
    00A6E F420      BCC	0x0A73
(0087) 	   TCNT0=0x00;
    00A6F 2422      CLR	R2
    00A70 BE22      OUT	0x32,R2
(0088) 	   TCCR0=0x07;
    00A71 E087      LDI	R24,7
    00A72 BF83      OUT	0x33,R24
(0089) 	 }
(0090) 		return;
    00A73 9621      ADIW	R28,1
    00A74 9009      LD	R0,Y+
    00A75 BE0F      OUT	0x3F,R0
    00A76 91F9      LD	R31,Y+
    00A77 91E9      LD	R30,Y+
    00A78 91B9      LD	R27,Y+
    00A79 91A9      LD	R26,Y+
    00A7A 9199      LD	R25,Y+
    00A7B 9189      LD	R24,Y+
    00A7C 9139      LD	R19,Y+
    00A7D 9129      LD	R18,Y+
    00A7E 9119      LD	R17,Y+
    00A7F 9109      LD	R16,Y+
    00A80 9099      LD	R9,Y+
    00A81 9089      LD	R8,Y+
    00A82 9079      LD	R7,Y+
    00A83 9069      LD	R6,Y+
    00A84 9059      LD	R5,Y+
    00A85 9049      LD	R4,Y+
    00A86 9039      LD	R3,Y+
    00A87 9029      LD	R2,Y+
    00A88 9019      LD	R1,Y+
    00A89 9009      LD	R0,Y+
    00A8A 9518      RETI
_int_timer1:
    00A8B 920A      ST	-Y,R0
    00A8C 921A      ST	-Y,R1
    00A8D 922A      ST	-Y,R2
    00A8E 923A      ST	-Y,R3
    00A8F 924A      ST	-Y,R4
    00A90 925A      ST	-Y,R5
    00A91 926A      ST	-Y,R6
    00A92 927A      ST	-Y,R7
    00A93 928A      ST	-Y,R8
    00A94 929A      ST	-Y,R9
    00A95 930A      ST	-Y,R16
    00A96 931A      ST	-Y,R17
    00A97 932A      ST	-Y,R18
    00A98 933A      ST	-Y,R19
    00A99 938A      ST	-Y,R24
    00A9A 939A      ST	-Y,R25
    00A9B 93AA      ST	-Y,R26
    00A9C 93BA      ST	-Y,R27
    00A9D 93EA      ST	-Y,R30
    00A9E 93FA      ST	-Y,R31
    00A9F B60F      IN	R0,0x3F
    00AA0 920A      ST	-Y,R0
(0091) }
(0092) //溢出中断。
(0093) #pragma interrupt_handler int_timer1:15
(0094) void int_timer1(void){
(0095) 		 TCCR1B=0x00;
    00AA1 2422      CLR	R2
    00AA2 BC2E      OUT	0x2E,R2
(0096) 		 out_port();
    00AA3 940E 0D9A CALL	_out_port
(0097) 		TCNT1H=time_h_1;
    00AA5 9020 0D68 LDS	R2,time_h_1
    00AA7 BC2D      OUT	0x2D,R2
(0098)          TCNT1L=time_l_1;
    00AA8 9020 0D67 LDS	R2,time_l_1
    00AAA BC2C      OUT	0x2C,R2
(0099) 		 TCCR1B=0x05;
    00AAB E085      LDI	R24,5
    00AAC BD8E      OUT	0x2E,R24
(0100) 		return;
    00AAD 9009      LD	R0,Y+
    00AAE BE0F      OUT	0x3F,R0
    00AAF 91F9      LD	R31,Y+
    00AB0 91E9      LD	R30,Y+
    00AB1 91B9      LD	R27,Y+
    00AB2 91A9      LD	R26,Y+
    00AB3 9199      LD	R25,Y+
    00AB4 9189      LD	R24,Y+
    00AB5 9139      LD	R19,Y+
    00AB6 9129      LD	R18,Y+
    00AB7 9119      LD	R17,Y+
    00AB8 9109      LD	R16,Y+
    00AB9 9099      LD	R9,Y+
    00ABA 9089      LD	R8,Y+
    00ABB 9079      LD	R7,Y+
    00ABC 9069      LD	R6,Y+
    00ABD 9059      LD	R5,Y+
    00ABE 9049      LD	R4,Y+
    00ABF 9039      LD	R3,Y+
    00AC0 9029      LD	R2,Y+
    00AC1 9019      LD	R1,Y+
    00AC2 9009      LD	R0,Y+
    00AC3 9518      RETI
_int_timer2:
    00AC4 920A      ST	-Y,R0
    00AC5 921A      ST	-Y,R1
    00AC6 922A      ST	-Y,R2
    00AC7 923A      ST	-Y,R3
    00AC8 924A      ST	-Y,R4
    00AC9 925A      ST	-Y,R5
    00ACA 926A      ST	-Y,R6
    00ACB 927A      ST	-Y,R7
    00ACC 928A      ST	-Y,R8
    00ACD 929A      ST	-Y,R9
    00ACE 930A      ST	-Y,R16
    00ACF 931A      ST	-Y,R17
    00AD0 932A      ST	-Y,R18
    00AD1 933A      ST	-Y,R19
    00AD2 938A      ST	-Y,R24
    00AD3 939A      ST	-Y,R25
    00AD4 93AA      ST	-Y,R26
    00AD5 93BA      ST	-Y,R27
    00AD6 93EA      ST	-Y,R30
    00AD7 93FA      ST	-Y,R31
    00AD8 B60F      IN	R0,0x3F
    00AD9 920A      ST	-Y,R0
(0101) }
(0102) #pragma interrupt_handler int_timer2:11
(0103) void int_timer2(void){
(0104)       //PORTE=~PORTE;
(0105) 		TCCR2=0x00;
    00ADA 2422      CLR	R2
    00ADB BC25      OUT	0x25,R2
(0106) 		TCNT2=time_2;
    00ADC 9020 0D63 LDS	R2,time_2
    00ADE BC24      OUT	0x24,R2
(0107) 		TCCR2=0x05;
    00ADF E085      LDI	R24,5
    00AE0 BD85      OUT	0x25,R24
(0108) 		if(secondflag==0){
    00AE1 9020 0626 LDS	R2,secondflag
    00AE3 9030 0627 LDS	R3,secondflag+1
    00AE5 2022      TST	R2
    00AE6 F451      BNE	0x0AF1
    00AE7 2033      TST	R3
    00AE8 F441      BNE	0x0AF1
(0109) 		  secondflag=64;
    00AE9 E480      LDI	R24,0x40
    00AEA E090      LDI	R25,0
    00AEB 9390 0627 STS	secondflag+1,R25
    00AED 9380 0626 STS	secondflag,R24
(0110) 		  int_int2();
    00AEF 940E 23C9 CALL	_int_int2
(0111) 		}
(0112) 		secondflag--;
    00AF1 9180 0626 LDS	R24,secondflag
    00AF3 9190 0627 LDS	R25,secondflag+1
    00AF5 9701      SBIW	R24,1
    00AF6 9390 0627 STS	secondflag+1,R25
    00AF8 9380 0626 STS	secondflag,R24
(0113) 		return;
    00AFA 9009      LD	R0,Y+
    00AFB BE0F      OUT	0x3F,R0
    00AFC 91F9      LD	R31,Y+
    00AFD 91E9      LD	R30,Y+
    00AFE 91B9      LD	R27,Y+
    00AFF 91A9      LD	R26,Y+
    00B00 9199      LD	R25,Y+
    00B01 9189      LD	R24,Y+
    00B02 9139      LD	R19,Y+
    00B03 9129      LD	R18,Y+
    00B04 9119      LD	R17,Y+
    00B05 9109      LD	R16,Y+
    00B06 9099      LD	R9,Y+
    00B07 9089      LD	R8,Y+
    00B08 9079      LD	R7,Y+
    00B09 9069      LD	R6,Y+
    00B0A 9059      LD	R5,Y+
    00B0B 9049      LD	R4,Y+
    00B0C 9039      LD	R3,Y+
    00B0D 9029      LD	R2,Y+
    00B0E 9019      LD	R1,Y+
    00B0F 9009      LD	R0,Y+
    00B10 9518      RETI
_int_timer3:
    00B11 920A      ST	-Y,R0
    00B12 921A      ST	-Y,R1
    00B13 922A      ST	-Y,R2
    00B14 923A      ST	-Y,R3
    00B15 924A      ST	-Y,R4
    00B16 925A      ST	-Y,R5
    00B17 926A      ST	-Y,R6
    00B18 927A      ST	-Y,R7
    00B19 928A      ST	-Y,R8
    00B1A 929A      ST	-Y,R9
    00B1B 930A      ST	-Y,R16
    00B1C 931A      ST	-Y,R17
    00B1D 932A      ST	-Y,R18
    00B1E 933A      ST	-Y,R19
    00B1F 938A      ST	-Y,R24
    00B20 939A      ST	-Y,R25
    00B21 93AA      ST	-Y,R26
    00B22 93BA      ST	-Y,R27
    00B23 93EA      ST	-Y,R30
    00B24 93FA      ST	-Y,R31
    00B25 B60F      IN	R0,0x3F
    00B26 920A      ST	-Y,R0
(0114) }
(0115) //16位定时器，定时器3溢出中断。
(0116) #pragma interrupt_handler int_timer3:30
(0117) void int_timer3(void){
(0118)       TCCR3B=0x00;
    00B27 2422      CLR	R2
    00B28 9220 008A STS	0x8A,R2
(0119)       tempcontrol();//执行温度调节
    00B2A 940E 2D34 CALL	_tempcontrol
(0120) 	  TCNT3H=time_h_3;
    00B2C 9020 0D66 LDS	R2,time_h_3
    00B2E 9220 0089 STS	0x89,R2
(0121)       TCNT3L=time_l_3;
    00B30 9020 0D65 LDS	R2,time_l_3
    00B32 9220 0088 STS	0x88,R2
(0122)       TCCR3B=0x05;
    00B34 E085      LDI	R24,5
    00B35 9380 008A STS	0x8A,R24
    00B37 9009      LD	R0,Y+
    00B38 BE0F      OUT	0x3F,R0
    00B39 91F9      LD	R31,Y+
    00B3A 91E9      LD	R30,Y+
    00B3B 91B9      LD	R27,Y+
    00B3C 91A9      LD	R26,Y+
    00B3D 9199      LD	R25,Y+
    00B3E 9189      LD	R24,Y+
    00B3F 9139      LD	R19,Y+
    00B40 9129      LD	R18,Y+
    00B41 9119      LD	R17,Y+
    00B42 9109      LD	R16,Y+
    00B43 9099      LD	R9,Y+
    00B44 9089      LD	R8,Y+
    00B45 9079      LD	R7,Y+
    00B46 9069      LD	R6,Y+
    00B47 9059      LD	R5,Y+
    00B48 9049      LD	R4,Y+
    00B49 9039      LD	R3,Y+
    00B4A 9029      LD	R2,Y+
    00B4B 9019      LD	R1,Y+
    00B4C 9009      LD	R0,Y+
    00B4D 9518      RETI
_readTemp_1:
  i                    --> R20
    00B4E 934A      ST	-Y,R20
    00B4F 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\max6675.c
(0001) #include<iom128v.h>
(0002) #include "max6675.h"
(0003) #include "main.h"
(0004) #include "delay.h"
(0005) #define sck_h_1 PORTE|=(1<<PE3) 
(0006) #define sck_l_1 PORTE&=~(1<<PE3) 
(0007) #define cs_h_1 PORTE|=1<<PE4 
(0008) #define cs_l_1 PORTE&=~(1<<PE4) 
(0009) 
(0010) #define sck_h_2 PORTE|=(1<<PE6) 
(0011) #define sck_l_2 PORTE&=~(1<<PE6) 
(0012) #define cs_h_2 PORTE|=1<<PE7 
(0013) #define cs_l_2 PORTE&=~(1<<PE7) 
(0014) 
(0015) #define sck_h_3 PORTF|=(1<<PF1) 
(0016) #define sck_l_3 PORTF&=~(1<<PF1) 
(0017) #define cs_h_3 PORTF|=1<<PF2 
(0018) #define cs_l_3 PORTF&=~(1<<PF2) 
(0019) 
(0020) #define sck_h_4 PORTF|=(1<<PF4) 
(0021) #define sck_l_4 PORTF&=~(1<<PF4) 
(0022) #define cs_h_4 PORTF|=1<<PF5 
(0023) #define cs_l_4 PORTF&=~(1<<PF5) 
(0024) void readTemp_1(void){
(0025) 	   uint i;
(0026) 	   sck_h_1;
    00B50 9A1B      SBI	0x03,3
(0027) 	   cs_h_1;
    00B51 9A1C      SBI	0x03,4
(0028) 	   delay_us(1);
    00B52 E001      LDI	R16,1
    00B53 E010      LDI	R17,0
    00B54 940E 0441 CALL	_delay_us
(0029) 	   cs_l_1;
    00B56 981C      CBI	0x03,4
(0030) 	   delay_us(1);
    00B57 E001      LDI	R16,1
    00B58 E010      LDI	R17,0
    00B59 940E 0441 CALL	_delay_us
(0031) 	   sck_l_1;
    00B5B 981B      CBI	0x03,3
(0032) 	   delay_us(1);
    00B5C E001      LDI	R16,1
    00B5D E010      LDI	R17,0
    00B5E 940E 0441 CALL	_delay_us
(0033) 	   sck_h_1;
    00B60 9A1B      SBI	0x03,3
(0034) 	  for(i=0;i<8;i++){
    00B61 2744      CLR	R20
    00B62 2755      CLR	R21
    00B63 C024      RJMP	0x0B88
(0035) 			sck_l_1;
    00B64 981B      CBI	0x03,3
(0036) 			delay_us(1);
    00B65 E001      LDI	R16,1
    00B66 E010      LDI	R17,0
    00B67 940E 0441 CALL	_delay_us
(0037) 			temp_h=temp_h<<1;
    00B69 9020 0112 LDS	R2,temp_h
    00B6B 9030 0113 LDS	R3,temp_h+1
    00B6D 0C22      LSL	R2
    00B6E 1C33      ROL	R3
    00B6F 9230 0113 STS	temp_h+1,R3
    00B71 9220 0112 STS	temp_h,R2
(0038) 	    	temp_h=temp_h|((PINE&0x04)>>2);
    00B73 B181      IN	R24,0x01
    00B74 2799      CLR	R25
    00B75 7084      ANDI	R24,4
    00B76 7090      ANDI	R25,0
    00B77 9595      ASR	R25
    00B78 9587      ROR	R24
    00B79 9595      ASR	R25
    00B7A 9587      ROR	R24
    00B7B 2A28      OR	R2,R24
    00B7C 2A39      OR	R3,R25
    00B7D 9230 0113 STS	temp_h+1,R3
    00B7F 9220 0112 STS	temp_h,R2
(0039) 			sck_h_1;
    00B81 9A1B      SBI	0x03,3
(0040) 			delay_us(1);
    00B82 E001      LDI	R16,1
    00B83 E010      LDI	R17,0
    00B84 940E 0441 CALL	_delay_us
    00B86 5F4F      SUBI	R20,0xFF
    00B87 4F5F      SBCI	R21,0xFF
    00B88 3048      CPI	R20,0x8
    00B89 E0E0      LDI	R30,0
    00B8A 075E      CPC	R21,R30
    00B8B F2C0      BCS	0x0B64
(0041) 			
(0042) 	   }
(0043) 	   for(i=0;i<8;i++){
    00B8C 2744      CLR	R20
    00B8D 2755      CLR	R21
    00B8E C024      RJMP	0x0BB3
(0044) 			sck_l_1;
    00B8F 981B      CBI	0x03,3
(0045) 			delay_us(1);
    00B90 E001      LDI	R16,1
    00B91 E010      LDI	R17,0
    00B92 940E 0441 CALL	_delay_us
(0046) 			temp_l<<=1;
    00B94 9020 0114 LDS	R2,temp_l
    00B96 9030 0115 LDS	R3,temp_l+1
    00B98 0C22      LSL	R2
    00B99 1C33      ROL	R3
    00B9A 9230 0115 STS	temp_l+1,R3
    00B9C 9220 0114 STS	temp_l,R2
(0047) 	    	temp_l=temp_l|((PINE&0x04)>>2);
    00B9E B181      IN	R24,0x01
    00B9F 2799      CLR	R25
    00BA0 7084      ANDI	R24,4
    00BA1 7090      ANDI	R25,0
    00BA2 9595      ASR	R25
    00BA3 9587      ROR	R24
    00BA4 9595      ASR	R25
    00BA5 9587      ROR	R24
    00BA6 2A28      OR	R2,R24
    00BA7 2A39      OR	R3,R25
    00BA8 9230 0115 STS	temp_l+1,R3
    00BAA 9220 0114 STS	temp_l,R2
(0048) 			sck_h_1;
    00BAC 9A1B      SBI	0x03,3
(0049) 			delay_us(1);
    00BAD E001      LDI	R16,1
    00BAE E010      LDI	R17,0
    00BAF 940E 0441 CALL	_delay_us
    00BB1 5F4F      SUBI	R20,0xFF
    00BB2 4F5F      SBCI	R21,0xFF
    00BB3 3048      CPI	R20,0x8
    00BB4 E0E0      LDI	R30,0
    00BB5 075E      CPC	R21,R30
    00BB6 F2C0      BCS	0x0B8F
(0050) 	   }
(0051) 	    cs_h_1;
    00BB7 9A1C      SBI	0x03,4
(0052) 	   delay_us(10);
    00BB8 E00A      LDI	R16,0xA
    00BB9 E010      LDI	R17,0
    00BBA 940E 0441 CALL	_delay_us
(0053) 	  // temp_l=0x55;
(0054) 	   return ;
    00BBC 9159      LD	R21,Y+
    00BBD 9149      LD	R20,Y+
    00BBE 9508      RET
_readTemp_2:
  i                    --> R20
    00BBF 934A      ST	-Y,R20
    00BC0 935A      ST	-Y,R21
(0055) }
(0056) void readTemp_2(void){
(0057) 	   uint i;
(0058) 	   sck_h_2;
    00BC1 9A1E      SBI	0x03,6
(0059) 	   cs_h_2;
    00BC2 9A1F      SBI	0x03,7
(0060) 	   delay_us(1);
    00BC3 E001      LDI	R16,1
    00BC4 E010      LDI	R17,0
    00BC5 940E 0441 CALL	_delay_us
(0061) 	   cs_l_2;
    00BC7 981F      CBI	0x03,7
(0062) 	   delay_us(1);
    00BC8 E001      LDI	R16,1
    00BC9 E010      LDI	R17,0
    00BCA 940E 0441 CALL	_delay_us
(0063) 	   sck_l_2;
    00BCC 981E      CBI	0x03,6
(0064) 	   delay_us(1);
    00BCD E001      LDI	R16,1
    00BCE E010      LDI	R17,0
    00BCF 940E 0441 CALL	_delay_us
(0065) 	   sck_h_2;
    00BD1 9A1E      SBI	0x03,6
(0066) 	  for(i=0;i<8;i++){
    00BD2 2744      CLR	R20
    00BD3 2755      CLR	R21
    00BD4 C028      RJMP	0x0BFD
(0067) 			sck_l_2;
    00BD5 981E      CBI	0x03,6
(0068) 			delay_us(1);
    00BD6 E001      LDI	R16,1
    00BD7 E010      LDI	R17,0
    00BD8 940E 0441 CALL	_delay_us
(0069) 			temp_h=temp_h<<1;
    00BDA 9020 0112 LDS	R2,temp_h
    00BDC 9030 0113 LDS	R3,temp_h+1
    00BDE 0C22      LSL	R2
    00BDF 1C33      ROL	R3
    00BE0 9230 0113 STS	temp_h+1,R3
    00BE2 9220 0112 STS	temp_h,R2
(0070) 	    	temp_h=temp_h|((PINE&0x20)>>5);
    00BE4 E025      LDI	R18,5
    00BE5 E030      LDI	R19,0
    00BE6 B101      IN	R16,0x01
    00BE7 2711      CLR	R17
    00BE8 7200      ANDI	R16,0x20
    00BE9 7010      ANDI	R17,0
    00BEA 940E 3716 CALL	asr16
    00BEC 9020 0112 LDS	R2,temp_h
    00BEE 9030 0113 LDS	R3,temp_h+1
    00BF0 2A20      OR	R2,R16
    00BF1 2A31      OR	R3,R17
    00BF2 9230 0113 STS	temp_h+1,R3
    00BF4 9220 0112 STS	temp_h,R2
(0071) 			sck_h_2;
    00BF6 9A1E      SBI	0x03,6
(0072) 			delay_us(1);
    00BF7 E001      LDI	R16,1
    00BF8 E010      LDI	R17,0
    00BF9 940E 0441 CALL	_delay_us
    00BFB 5F4F      SUBI	R20,0xFF
    00BFC 4F5F      SBCI	R21,0xFF
    00BFD 3048      CPI	R20,0x8
    00BFE E0E0      LDI	R30,0
    00BFF 075E      CPC	R21,R30
    00C00 F2A0      BCS	0x0BD5
(0073) 			
(0074) 	   }
(0075) 	   for(i=0;i<8;i++){
    00C01 2744      CLR	R20
    00C02 2755      CLR	R21
    00C03 C028      RJMP	0x0C2C
(0076) 			sck_l_2;
    00C04 981E      CBI	0x03,6
(0077) 			delay_us(1);
    00C05 E001      LDI	R16,1
    00C06 E010      LDI	R17,0
    00C07 940E 0441 CALL	_delay_us
(0078) 			temp_l<<=1;
    00C09 9020 0114 LDS	R2,temp_l
    00C0B 9030 0115 LDS	R3,temp_l+1
    00C0D 0C22      LSL	R2
    00C0E 1C33      ROL	R3
    00C0F 9230 0115 STS	temp_l+1,R3
    00C11 9220 0114 STS	temp_l,R2
(0079) 	    	temp_l=temp_l|((PINE&0x20)>>5);
    00C13 E025      LDI	R18,5
    00C14 E030      LDI	R19,0
    00C15 B101      IN	R16,0x01
    00C16 2711      CLR	R17
    00C17 7200      ANDI	R16,0x20
    00C18 7010      ANDI	R17,0
    00C19 940E 3716 CALL	asr16
    00C1B 9020 0114 LDS	R2,temp_l
    00C1D 9030 0115 LDS	R3,temp_l+1
    00C1F 2A20      OR	R2,R16
    00C20 2A31      OR	R3,R17
    00C21 9230 0115 STS	temp_l+1,R3
    00C23 9220 0114 STS	temp_l,R2
(0080) 			sck_h_2;
    00C25 9A1E      SBI	0x03,6
(0081) 			delay_us(1);
    00C26 E001      LDI	R16,1
    00C27 E010      LDI	R17,0
    00C28 940E 0441 CALL	_delay_us
    00C2A 5F4F      SUBI	R20,0xFF
    00C2B 4F5F      SBCI	R21,0xFF
    00C2C 3048      CPI	R20,0x8
    00C2D E0E0      LDI	R30,0
    00C2E 075E      CPC	R21,R30
    00C2F F2A0      BCS	0x0C04
(0082) 	   }
(0083) 	    cs_h_2;
    00C30 9A1F      SBI	0x03,7
(0084) 	   delay_us(10);
    00C31 E00A      LDI	R16,0xA
    00C32 E010      LDI	R17,0
    00C33 940E 0441 CALL	_delay_us
(0085) 	  // temp_l=0x55;
(0086) 	   return ;
    00C35 9159      LD	R21,Y+
    00C36 9149      LD	R20,Y+
    00C37 9508      RET
_readTemp_3:
  i                    --> R20
    00C38 934A      ST	-Y,R20
    00C39 935A      ST	-Y,R21
(0087) }
(0088) void readTemp_3(void){
(0089) 	   uint i;
(0090) 	   sck_h_3;
    00C3A 9180 0062 LDS	R24,0x62
    00C3C 6082      ORI	R24,2
    00C3D 9380 0062 STS	0x62,R24
(0091) 	   cs_h_3;
    00C3F 9180 0062 LDS	R24,0x62
    00C41 6084      ORI	R24,4
    00C42 9380 0062 STS	0x62,R24
(0092) 	   delay_us(1);
    00C44 E001      LDI	R16,1
    00C45 E010      LDI	R17,0
    00C46 940E 0441 CALL	_delay_us
(0093) 	   cs_l_3;
    00C48 9180 0062 LDS	R24,0x62
    00C4A 7F8B      ANDI	R24,0xFB
    00C4B 9380 0062 STS	0x62,R24
(0094) 	   delay_us(1);
    00C4D E001      LDI	R16,1
    00C4E E010      LDI	R17,0
    00C4F 940E 0441 CALL	_delay_us
(0095) 	   sck_l_3;
    00C51 9180 0062 LDS	R24,0x62
    00C53 7F8D      ANDI	R24,0xFD
    00C54 9380 0062 STS	0x62,R24
(0096) 	   delay_us(1);
    00C56 E001      LDI	R16,1
    00C57 E010      LDI	R17,0
    00C58 940E 0441 CALL	_delay_us
(0097) 	   sck_h_3;
    00C5A 9180 0062 LDS	R24,0x62
    00C5C 6082      ORI	R24,2
    00C5D 9380 0062 STS	0x62,R24
(0098) 	  for(i=0;i<8;i++){
    00C5F 2744      CLR	R20
    00C60 2755      CLR	R21
    00C61 C028      RJMP	0x0C8A
(0099) 			sck_l_3;
    00C62 9180 0062 LDS	R24,0x62
    00C64 7F8D      ANDI	R24,0xFD
    00C65 9380 0062 STS	0x62,R24
(0100) 			delay_us(1);
    00C67 E001      LDI	R16,1
    00C68 E010      LDI	R17,0
    00C69 940E 0441 CALL	_delay_us
(0101) 			temp_h=temp_h<<1;
    00C6B 9020 0112 LDS	R2,temp_h
    00C6D 9030 0113 LDS	R3,temp_h+1
    00C6F 0C22      LSL	R2
    00C70 1C33      ROL	R3
    00C71 9230 0113 STS	temp_h+1,R3
    00C73 9220 0112 STS	temp_h,R2
(0102) 	    	temp_h=temp_h|(PINF&0x01);
    00C75 B180      IN	R24,0x00
    00C76 2799      CLR	R25
    00C77 7081      ANDI	R24,1
    00C78 7090      ANDI	R25,0
    00C79 2A28      OR	R2,R24
    00C7A 2A39      OR	R3,R25
    00C7B 9230 0113 STS	temp_h+1,R3
    00C7D 9220 0112 STS	temp_h,R2
(0103) 			sck_h_3;
    00C7F 9180 0062 LDS	R24,0x62
    00C81 6082      ORI	R24,2
    00C82 9380 0062 STS	0x62,R24
(0104) 			delay_us(1);
    00C84 E001      LDI	R16,1
    00C85 E010      LDI	R17,0
    00C86 940E 0441 CALL	_delay_us
    00C88 5F4F      SUBI	R20,0xFF
    00C89 4F5F      SBCI	R21,0xFF
    00C8A 3048      CPI	R20,0x8
    00C8B E0E0      LDI	R30,0
    00C8C 075E      CPC	R21,R30
    00C8D F2A0      BCS	0x0C62
(0105) 			
(0106) 	   }
(0107) 	   for(i=0;i<8;i++){
    00C8E 2744      CLR	R20
    00C8F 2755      CLR	R21
    00C90 C028      RJMP	0x0CB9
(0108) 			sck_l_3;
    00C91 9180 0062 LDS	R24,0x62
    00C93 7F8D      ANDI	R24,0xFD
    00C94 9380 0062 STS	0x62,R24
(0109) 			delay_us(1);
    00C96 E001      LDI	R16,1
    00C97 E010      LDI	R17,0
    00C98 940E 0441 CALL	_delay_us
(0110) 			temp_l<<=1;
    00C9A 9020 0114 LDS	R2,temp_l
    00C9C 9030 0115 LDS	R3,temp_l+1
    00C9E 0C22      LSL	R2
    00C9F 1C33      ROL	R3
    00CA0 9230 0115 STS	temp_l+1,R3
    00CA2 9220 0114 STS	temp_l,R2
(0111) 	    	temp_l=temp_l|(PINF&0x01);
    00CA4 B180      IN	R24,0x00
    00CA5 2799      CLR	R25
    00CA6 7081      ANDI	R24,1
    00CA7 7090      ANDI	R25,0
    00CA8 2A28      OR	R2,R24
    00CA9 2A39      OR	R3,R25
    00CAA 9230 0115 STS	temp_l+1,R3
    00CAC 9220 0114 STS	temp_l,R2
(0112) 			sck_h_3;
    00CAE 9180 0062 LDS	R24,0x62
    00CB0 6082      ORI	R24,2
    00CB1 9380 0062 STS	0x62,R24
(0113) 			delay_us(1);
    00CB3 E001      LDI	R16,1
    00CB4 E010      LDI	R17,0
    00CB5 940E 0441 CALL	_delay_us
    00CB7 5F4F      SUBI	R20,0xFF
    00CB8 4F5F      SBCI	R21,0xFF
    00CB9 3048      CPI	R20,0x8
    00CBA E0E0      LDI	R30,0
    00CBB 075E      CPC	R21,R30
    00CBC F2A0      BCS	0x0C91
(0114) 	   }
(0115) 	    cs_h_3;
    00CBD 9180 0062 LDS	R24,0x62
    00CBF 6084      ORI	R24,4
    00CC0 9380 0062 STS	0x62,R24
(0116) 	   delay_us(10);
    00CC2 E00A      LDI	R16,0xA
    00CC3 E010      LDI	R17,0
    00CC4 940E 0441 CALL	_delay_us
(0117) 	  // temp_l=0x55;
(0118) 	   return ;
    00CC6 9159      LD	R21,Y+
    00CC7 9149      LD	R20,Y+
    00CC8 9508      RET
_readTemp_4:
  i                    --> R20
    00CC9 934A      ST	-Y,R20
    00CCA 935A      ST	-Y,R21
(0119) }
(0120) void readTemp_4(void){
(0121) 	  uint i;
(0122) 	   sck_h_4;
    00CCB 9180 0062 LDS	R24,0x62
    00CCD 6180      ORI	R24,0x10
    00CCE 9380 0062 STS	0x62,R24
(0123) 	   cs_h_4;
    00CD0 9180 0062 LDS	R24,0x62
    00CD2 6280      ORI	R24,0x20
    00CD3 9380 0062 STS	0x62,R24
(0124) 	   delay_us(1);
    00CD5 E001      LDI	R16,1
    00CD6 E010      LDI	R17,0
    00CD7 940E 0441 CALL	_delay_us
(0125) 	   cs_l_4;
    00CD9 9180 0062 LDS	R24,0x62
    00CDB 7D8F      ANDI	R24,0xDF
    00CDC 9380 0062 STS	0x62,R24
(0126) 	   delay_us(1);
    00CDE E001      LDI	R16,1
    00CDF E010      LDI	R17,0
    00CE0 940E 0441 CALL	_delay_us
(0127) 	   sck_l_4;
    00CE2 9180 0062 LDS	R24,0x62
    00CE4 7E8F      ANDI	R24,0xEF
    00CE5 9380 0062 STS	0x62,R24
(0128) 	   delay_us(1);
    00CE7 E001      LDI	R16,1
    00CE8 E010      LDI	R17,0
    00CE9 940E 0441 CALL	_delay_us
(0129) 	   sck_h_4;
    00CEB 9180 0062 LDS	R24,0x62
    00CED 6180      ORI	R24,0x10
    00CEE 9380 0062 STS	0x62,R24
(0130) 	  for(i=0;i<8;i++){
    00CF0 2744      CLR	R20
    00CF1 2755      CLR	R21
    00CF2 C033      RJMP	0x0D26
(0131) 			sck_l_4;
    00CF3 9180 0062 LDS	R24,0x62
    00CF5 7E8F      ANDI	R24,0xEF
    00CF6 9380 0062 STS	0x62,R24
(0132) 			delay_us(1);
    00CF8 E001      LDI	R16,1
    00CF9 E010      LDI	R17,0
    00CFA 940E 0441 CALL	_delay_us
(0133) 			temp_h=temp_h<<1;
    00CFC 9020 0112 LDS	R2,temp_h
    00CFE 9030 0113 LDS	R3,temp_h+1
    00D00 0C22      LSL	R2
    00D01 1C33      ROL	R3
    00D02 9230 0113 STS	temp_h+1,R3
    00D04 9220 0112 STS	temp_h,R2
(0134) 	    	temp_h=temp_h|((PINE&0x08)>>3);
    00D06 B181      IN	R24,0x01
    00D07 2799      CLR	R25
    00D08 7088      ANDI	R24,0x8
    00D09 7090      ANDI	R25,0
    00D0A 011C      MOVW	R2,R24
    00D0B 9435      ASR	R3
    00D0C 9427      ROR	R2
    00D0D 9435      ASR	R3
    00D0E 9427      ROR	R2
    00D0F 9435      ASR	R3
    00D10 9427      ROR	R2
    00D11 9040 0112 LDS	R4,temp_h
    00D13 9050 0113 LDS	R5,temp_h+1
    00D15 2842      OR	R4,R2
    00D16 2853      OR	R5,R3
    00D17 9250 0113 STS	temp_h+1,R5
    00D19 9240 0112 STS	temp_h,R4
(0135) 			sck_h_4;
    00D1B 9180 0062 LDS	R24,0x62
    00D1D 6180      ORI	R24,0x10
    00D1E 9380 0062 STS	0x62,R24
(0136) 			delay_us(1);
    00D20 E001      LDI	R16,1
    00D21 E010      LDI	R17,0
    00D22 940E 0441 CALL	_delay_us
    00D24 5F4F      SUBI	R20,0xFF
    00D25 4F5F      SBCI	R21,0xFF
    00D26 3048      CPI	R20,0x8
    00D27 E0E0      LDI	R30,0
    00D28 075E      CPC	R21,R30
    00D29 F248      BCS	0x0CF3
(0137) 			
(0138) 	   }
(0139) 	   for(i=0;i<8;i++){
    00D2A 2744      CLR	R20
    00D2B 2755      CLR	R21
    00D2C C033      RJMP	0x0D60
(0140) 			sck_l_4;
    00D2D 9180 0062 LDS	R24,0x62
    00D2F 7E8F      ANDI	R24,0xEF
    00D30 9380 0062 STS	0x62,R24
(0141) 			delay_us(1);
    00D32 E001      LDI	R16,1
    00D33 E010      LDI	R17,0
    00D34 940E 0441 CALL	_delay_us
(0142) 			temp_l<<=1;
    00D36 9020 0114 LDS	R2,temp_l
    00D38 9030 0115 LDS	R3,temp_l+1
    00D3A 0C22      LSL	R2
    00D3B 1C33      ROL	R3
    00D3C 9230 0115 STS	temp_l+1,R3
    00D3E 9220 0114 STS	temp_l,R2
(0143) 	    	temp_l=temp_l|((PINE&0x08)>>3);
    00D40 B181      IN	R24,0x01
    00D41 2799      CLR	R25
    00D42 7088      ANDI	R24,0x8
    00D43 7090      ANDI	R25,0
    00D44 011C      MOVW	R2,R24
    00D45 9435      ASR	R3
    00D46 9427      ROR	R2
    00D47 9435      ASR	R3
    00D48 9427      ROR	R2
    00D49 9435      ASR	R3
    00D4A 9427      ROR	R2
    00D4B 9040 0114 LDS	R4,temp_l
    00D4D 9050 0115 LDS	R5,temp_l+1
    00D4F 2842      OR	R4,R2
    00D50 2853      OR	R5,R3
    00D51 9250 0115 STS	temp_l+1,R5
    00D53 9240 0114 STS	temp_l,R4
(0144) 			sck_h_4;
    00D55 9180 0062 LDS	R24,0x62
    00D57 6180      ORI	R24,0x10
    00D58 9380 0062 STS	0x62,R24
(0145) 			delay_us(1);
    00D5A E001      LDI	R16,1
    00D5B E010      LDI	R17,0
    00D5C 940E 0441 CALL	_delay_us
    00D5E 5F4F      SUBI	R20,0xFF
    00D5F 4F5F      SBCI	R21,0xFF
    00D60 3048      CPI	R20,0x8
    00D61 E0E0      LDI	R30,0
    00D62 075E      CPC	R21,R30
    00D63 F248      BCS	0x0D2D
(0146) 	   }
(0147) 	    cs_h_4;
    00D64 9180 0062 LDS	R24,0x62
    00D66 6280      ORI	R24,0x20
    00D67 9380 0062 STS	0x62,R24
(0148) 	   delay_us(10);
    00D69 E00A      LDI	R16,0xA
    00D6A E010      LDI	R17,0
    00D6B 940E 0441 CALL	_delay_us
(0149) 	  // temp_l=0x55;
(0150) 	   return ;
    00D6D 9159      LD	R21,Y+
    00D6E 9149      LD	R20,Y+
    00D6F 9508      RET
_readTemp:
  n                    --> R20
    00D70 934A      ST	-Y,R20
    00D71 935A      ST	-Y,R21
    00D72 01A8      MOVW	R20,R16
(0151) }
(0152) //传入的int：0、1、2、3对应温度的读取
(0153) void readTemp(uint n){
(0154)   DDRE=0xDA;
    00D73 ED8A      LDI	R24,0xDA
    00D74 B982      OUT	0x02,R24
(0155)   DDRF=0xF6;
    00D75 EF86      LDI	R24,0xF6
    00D76 9380 0061 STS	0x61,R24
(0156)   PORTE |=0xFC;
    00D78 B183      IN	R24,0x03
    00D79 6F8C      ORI	R24,0xFC
    00D7A B983      OUT	0x03,R24
(0157)   PORTF |= 0xFF;
    00D7B 9180 0062 LDS	R24,0x62
    00D7D 6F8F      ORI	R24,0xFF
    00D7E 9380 0062 STS	0x62,R24
(0158)    switch(n){
    00D80 3040      CPI	R20,0
    00D81 0745      CPC	R20,R21
    00D82 F069      BEQ	0x0D90
    00D83 3041      CPI	R20,1
    00D84 E0E0      LDI	R30,0
    00D85 075E      CPC	R21,R30
    00D86 F059      BEQ	0x0D92
    00D87 3042      CPI	R20,2
    00D88 E0E0      LDI	R30,0
    00D89 075E      CPC	R21,R30
    00D8A F049      BEQ	0x0D94
    00D8B 3043      CPI	R20,3
    00D8C E0E0      LDI	R30,0
    00D8D 075E      CPC	R21,R30
    00D8E F039      BEQ	0x0D96
    00D8F C007      RJMP	0x0D97
(0159)     case 0:
(0160) 	  readTemp_1();
    00D90 DDBD      RCALL	_readTemp_1
(0161) 	  break;
    00D91 C005      RJMP	0x0D97
(0162) 	case 1:
(0163) 	  readTemp_2();
    00D92 DE2C      RCALL	_readTemp_2
(0164) 	  break;
    00D93 C003      RJMP	0x0D97
(0165) 	case 2:
(0166) 	  readTemp_3();
    00D94 DEA3      RCALL	_readTemp_3
(0167) 	  break;
    00D95 C001      RJMP	0x0D97
(0168) 	case 3:
(0169) 	  readTemp_4();
    00D96 DF32      RCALL	_readTemp_4
(0170) 	  break;
    00D97 9159      LD	R21,Y+
    00D98 9149      LD	R20,Y+
    00D99 9508      RET
_out_port:
    00D9A 92AA      ST	-Y,R10
    00D9B 92BA      ST	-Y,R11
FILE: E:\ICCDemo\Temp_Control\temp_control\out.c
(0001) #include<iom128v.h>
(0002) #include "out.h"
(0003) #include "lcd.h"
(0004) #include "main.h"
(0005) //*********************
(0006) // 1秒钟50周期，控制功率是50周期输出量
(0007) //*********************
(0008) uint hz=1;//1~50表示周期
(0009) 
(0010) //0、1的传入。port由0~7
(0011) void out_port(void){
(0012)    if(hz==51){
    00D9C 9180 0628 LDS	R24,hz
    00D9E 9190 0629 LDS	R25,hz+1
    00DA0 3383      CPI	R24,0x33
    00DA1 E0E0      LDI	R30,0
    00DA2 079E      CPC	R25,R30
    00DA3 F431      BNE	0x0DAA
(0013)      hz=1;
    00DA4 E081      LDI	R24,1
    00DA5 E090      LDI	R25,0
    00DA6 9390 0629 STS	hz+1,R25
    00DA8 9380 0628 STS	hz,R24
(0014)    }
(0015)    if(temps[0].flag==1){
    00DAA 9180 0116 LDS	R24,temps
    00DAC 9190 0117 LDS	R25,temps+1
    00DAE 3081      CPI	R24,1
    00DAF E0E0      LDI	R30,0
    00DB0 079E      CPC	R25,R30
    00DB1 F4E9      BNE	0x0DCF
(0016) 	  if(temps[0].incrementtemp>=hz){
    00DB2 9040 0258 LDS	R4,temps+322
    00DB4 9050 0259 LDS	R5,temps+323
    00DB6 9020 0256 LDS	R2,temps+320
    00DB8 9030 0257 LDS	R3,temps+321
    00DBA 9100 0628 LDS	R16,hz
    00DBC 9110 0629 LDS	R17,hz+1
    00DBE 940E 38EA CALL	uint2fp
    00DC0 933A      ST	-Y,R19
    00DC1 932A      ST	-Y,R18
    00DC2 931A      ST	-Y,R17
    00DC3 930A      ST	-Y,R16
    00DC4 0181      MOVW	R16,R2
    00DC5 0192      MOVW	R18,R4
    00DC6 940E 3ABA CALL	fpcmp2
    00DC8 F014      BLT	0x0DCB
(0017) 	    PORTE |=0x01;
    00DC9 9A18      SBI	0x03,0
(0018) 	  }else {
    00DCA C007      RJMP	0x0DD2
(0019) 	    PORTE &=0xFE;
    00DCB B183      IN	R24,0x03
    00DCC 7F8E      ANDI	R24,0xFE
    00DCD B983      OUT	0x03,R24
(0020) 	  }
(0021)    }else{
    00DCE C003      RJMP	0x0DD2
(0022)       PORTE &=0xFE;
    00DCF B183      IN	R24,0x03
    00DD0 7F8E      ANDI	R24,0xFE
    00DD1 B983      OUT	0x03,R24
(0023)    }
(0024)     if(temps[1].flag==1){
    00DD2 9180 025A LDS	R24,temps+324
    00DD4 9190 025B LDS	R25,temps+325
    00DD6 3081      CPI	R24,1
    00DD7 E0E0      LDI	R30,0
    00DD8 079E      CPC	R25,R30
    00DD9 F4E9      BNE	0x0DF7
(0025) 	  if(temps[0].incrementtemp>=hz){
    00DDA 9040 0258 LDS	R4,temps+322
    00DDC 9050 0259 LDS	R5,temps+323
    00DDE 9020 0256 LDS	R2,temps+320
    00DE0 9030 0257 LDS	R3,temps+321
    00DE2 9100 0628 LDS	R16,hz
    00DE4 9110 0629 LDS	R17,hz+1
    00DE6 940E 38EA CALL	uint2fp
    00DE8 933A      ST	-Y,R19
    00DE9 932A      ST	-Y,R18
    00DEA 931A      ST	-Y,R17
    00DEB 930A      ST	-Y,R16
    00DEC 0181      MOVW	R16,R2
    00DED 0192      MOVW	R18,R4
    00DEE 940E 3ABA CALL	fpcmp2
    00DF0 F014      BLT	0x0DF3
(0026) 	      PORTE |=0x02;
    00DF1 9A19      SBI	0x03,1
(0027) 	    }else {
    00DF2 C007      RJMP	0x0DFA
(0028) 	      PORTE &=0xFD;
    00DF3 B183      IN	R24,0x03
    00DF4 7F8D      ANDI	R24,0xFD
    00DF5 B983      OUT	0x03,R24
(0029) 	    }
(0030)    }else{
    00DF6 C003      RJMP	0x0DFA
(0031)       PORTE &=0xFD;
    00DF7 B183      IN	R24,0x03
    00DF8 7F8D      ANDI	R24,0xFD
    00DF9 B983      OUT	0x03,R24
(0032)    }
(0033)     if(temps[2].flag==1){
    00DFA 9180 039E LDS	R24,temps+648
    00DFC 9190 039F LDS	R25,temps+649
    00DFE 3081      CPI	R24,1
    00DFF E0E0      LDI	R30,0
    00E00 079E      CPC	R25,R30
    00E01 F4E9      BNE	0x0E1F
(0034) 	  if(temps[0].incrementtemp>=hz){
    00E02 9040 0258 LDS	R4,temps+322
    00E04 9050 0259 LDS	R5,temps+323
    00E06 9020 0256 LDS	R2,temps+320
    00E08 9030 0257 LDS	R3,temps+321
    00E0A 9100 0628 LDS	R16,hz
    00E0C 9110 0629 LDS	R17,hz+1
    00E0E 940E 38EA CALL	uint2fp
    00E10 933A      ST	-Y,R19
    00E11 932A      ST	-Y,R18
    00E12 931A      ST	-Y,R17
    00E13 930A      ST	-Y,R16
    00E14 0181      MOVW	R16,R2
    00E15 0192      MOVW	R18,R4
    00E16 940E 3ABA CALL	fpcmp2
    00E18 F014      BLT	0x0E1B
(0035) 	      PORTE |=0x04;
    00E19 9A1A      SBI	0x03,2
(0036) 	    }else {
    00E1A C007      RJMP	0x0E22
(0037) 	      PORTE &=0xFB;
    00E1B B183      IN	R24,0x03
    00E1C 7F8B      ANDI	R24,0xFB
    00E1D B983      OUT	0x03,R24
(0038) 	    }
(0039)    }else{
    00E1E C003      RJMP	0x0E22
(0040)       PORTE &=0xFB;
    00E1F B183      IN	R24,0x03
    00E20 7F8B      ANDI	R24,0xFB
    00E21 B983      OUT	0x03,R24
(0041)    }
(0042)     if(temps[3].flag==1){
    00E22 9180 04E2 LDS	R24,temps+972
    00E24 9190 04E3 LDS	R25,temps+973
    00E26 3081      CPI	R24,1
    00E27 E0E0      LDI	R30,0
    00E28 079E      CPC	R25,R30
    00E29 F4E9      BNE	0x0E47
(0043) 	  if(temps[0].incrementtemp>=hz){
    00E2A 9040 0258 LDS	R4,temps+322
    00E2C 9050 0259 LDS	R5,temps+323
    00E2E 9020 0256 LDS	R2,temps+320
    00E30 9030 0257 LDS	R3,temps+321
    00E32 9100 0628 LDS	R16,hz
    00E34 9110 0629 LDS	R17,hz+1
    00E36 940E 38EA CALL	uint2fp
    00E38 933A      ST	-Y,R19
    00E39 932A      ST	-Y,R18
    00E3A 931A      ST	-Y,R17
    00E3B 930A      ST	-Y,R16
    00E3C 0181      MOVW	R16,R2
    00E3D 0192      MOVW	R18,R4
    00E3E 940E 3ABA CALL	fpcmp2
    00E40 F014      BLT	0x0E43
(0044) 	      PORTE |=0x08;
    00E41 9A1B      SBI	0x03,3
(0045) 	    }else {
    00E42 C007      RJMP	0x0E4A
(0046) 	      PORTE &=0xF7;
    00E43 B183      IN	R24,0x03
    00E44 7F87      ANDI	R24,0xF7
    00E45 B983      OUT	0x03,R24
(0047) 	    }
(0048)    }else{
    00E46 C003      RJMP	0x0E4A
(0049)      PORTE &=0xF7;
    00E47 B183      IN	R24,0x03
    00E48 7F87      ANDI	R24,0xF7
    00E49 B983      OUT	0x03,R24
(0050)    }
(0051)     hz++;
    00E4A 9180 0628 LDS	R24,hz
    00E4C 9190 0629 LDS	R25,hz+1
    00E4E 9601      ADIW	R24,1
    00E4F 9390 0629 STS	hz+1,R25
    00E51 9380 0628 STS	hz,R24
    00E53 90B9      LD	R11,Y+
    00E54 90A9      LD	R10,Y+
    00E55 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\uart.c
(0001) #include <iom128v.h>
(0002) #include "uart.h"
(0003) 
(0004) //常量定义
(0005) #define BAUDRATE1       115200	//波特率
(0006) //#define BAUDRATE2       9600	//波特率
(0007) #define F_CPU		7372800//晶振频率
(0008) 
(0009) //变量定义
(0010) extern unsigned char send_buf[600];
(0011) extern unsigned char receive_buf[600];
(0012) extern unsigned int send_len;
(0013) extern unsigned int receive_len;
(0014) 
(0015) unsigned char uart_timeout_flag1;
(0016) unsigned char uart_timeout_flag2;
(0017) 
(0018) //串口1对应程序
(0019) ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0020) //USART 初始化
(0021) void init_USART1(void)
(0022) {
(0023)     //USART 115200 8, n,1  PC上位机软件(超级终端等)也要设成同样的设置才能通讯
(0024)     UCSR0C = (1<<USBS0)|(3<<UCSZ00);
_init_USART1:
    00E56 E08E      LDI	R24,0xE
    00E57 9380 0095 STS	0x95,R24
(0025)     
(0026)   //异步，8位数据，无奇偶校验，一个停止位，无倍速   
(0027)     //U2X=0时的公式计算
(0028)     UBRR0L= (F_CPU/BAUDRATE1/16-1)%256;
    00E59 E083      LDI	R24,3
    00E5A B989      OUT	0x09,R24
(0029)     UBRR0H= (F_CPU/BAUDRATE1/16-1)/256;
    00E5B 2422      CLR	R2
    00E5C 9220 0090 STS	0x90,R2
(0030) 
(0031)     UCSR0A = 0x00;
    00E5E B82B      OUT	0x0B,R2
(0032) 
(0033)     //使能接收中断，使能接收，使能发送
(0034)     UCSR0B = (1<<RXEN0)|(1<<TXEN0);
    00E5F E188      LDI	R24,0x18
    00E60 B98A      OUT	0x0A,R24
    00E61 9508      RET
(0035)     
(0036) }
(0037) 
(0038) //向串口1写数
(0039) void put_c1(unsigned char c)
(0040) {
(0041) 	while( !(UCSR0A & (1<<UDRE0)) );
_put_c1:
  c                    --> R16
    00E62 9B5D      SBIS	0x0B,5
    00E63 CFFE      RJMP	_put_c1
(0042) 	UDR0=c;	
    00E64 B90C      OUT	0x0C,R16
    00E65 9508      RET
(0043) }
(0044) 
(0045) //从串口1读数
(0046) unsigned char USART_Receive1( void )
(0047) {
(0048)    unsigned int j=0;
_USART_Receive1:
  j                    --> R16
    00E66 2700      CLR	R16
    00E67 2711      CLR	R17
(0049)    uart_timeout_flag1=0; 
    00E68 2422      CLR	R2
    00E69 9220 0D6A STS	uart_timeout_flag1,R2
    00E6B C00B      RJMP	0x0E77
(0050)   //等待接受标志
(0051)   while ( !(UCSR0A & (1<<RXC0)) ){
(0052)     if(j==32000) //判断超时，并设置标志
    00E6C 3000      CPI	R16,0
    00E6D E7ED      LDI	R30,0x7D
    00E6E 071E      CPC	R17,R30
    00E6F F429      BNE	0x0E75
(0053)     { uart_timeout_flag1=1;   
    00E70 E081      LDI	R24,1
    00E71 9380 0D6A STS	uart_timeout_flag1,R24
(0054)     return FAILURE;}
    00E73 E001      LDI	R16,1
    00E74 C005      RJMP	0x0E7A
(0055) 	else 
(0056) 		j++;
    00E75 5F0F      SUBI	R16,0xFF
    00E76 4F1F      SBCI	R17,0xFF
    00E77 9B5F      SBIS	0x0B,7
    00E78 CFF3      RJMP	0x0E6C
(0057)     ;}
(0058)   //读接收数据  
(0059)   return UDR0;
    00E79 B10C      IN	R16,0x0C
    00E7A 9508      RET
_receiveStrfromCom:
  k                    --> R20
    00E7B 92AA      ST	-Y,R10
    00E7C 934A      ST	-Y,R20
(0060) }
(0061) 
(0062) //从串口接收数据串
(0063) unsigned char receiveStrfromCom(void)
(0064) {
    00E7D C03E      RJMP	0x0EBC
(0065)   unsigned char k;
(0066) 
(0067)   while(1)
(0068)   {
(0069)     ///以下为从串口接收数据的过程
(0070)     send_buf[0]=USART_Receive1();
    00E7E DFE7      RCALL	_USART_Receive1
    00E7F 9300 0AFC STS	send_buf,R16
(0071)     //若接收的不是命令头则继续等待
(0072)     if(send_buf[0]!=0x02)continue;
    00E81 3002      CPI	R16,2
    00E82 F009      BEQ	0x0E84
    00E83 C038      RJMP	0x0EBC
(0073)       
(0074)     for(k=1;k<5;k++)
    00E84 E041      LDI	R20,1
    00E85 C00F      RJMP	0x0E95
(0075)     {
(0076)         send_buf[k]=USART_Receive1(); 
    00E86 DFDF      RCALL	_USART_Receive1
    00E87 EF8C      LDI	R24,0xFC
    00E88 E09A      LDI	R25,0xA
    00E89 2FE4      MOV	R30,R20
    00E8A 27FF      CLR	R31
    00E8B 0FE8      ADD	R30,R24
    00E8C 1FF9      ADC	R31,R25
    00E8D 8300      ST	Z,R16
(0077)         if(uart_timeout_flag1==1)
    00E8E 9180 0D6A LDS	R24,uart_timeout_flag1
    00E90 3081      CPI	R24,1
    00E91 F411      BNE	0x0E94
(0078)         {  
(0079) //          ComSendResponse(send_buf[3],EXE_TIME_OUT,1);
(0080)           return FAILURE;
    00E92 E001      LDI	R16,1
    00E93 C029      RJMP	0x0EBD
    00E94 9543      INC	R20
    00E95 3045      CPI	R20,5
    00E96 F378      BCS	0x0E86
(0081)         }  
(0082)     }
(0083)     
(0084)     send_len=send_buf[4];
    00E97 9020 0B00 LDS	R2,send_buf+4
    00E99 2433      CLR	R3
    00E9A 9230 08A3 STS	send_len+1,R3
    00E9C 9220 08A2 STS	send_len,R2
(0085)     
(0086)     for(k=5;k<send_len+6;k++)
    00E9E E045      LDI	R20,5
    00E9F C010      RJMP	0x0EB0
(0087)     {
(0088)         send_buf[k]=USART_Receive1(); 
    00EA0 DFC5      RCALL	_USART_Receive1
    00EA1 2EA0      MOV	R10,R16
    00EA2 EF8C      LDI	R24,0xFC
    00EA3 E09A      LDI	R25,0xA
    00EA4 2FE4      MOV	R30,R20
    00EA5 27FF      CLR	R31
    00EA6 0FE8      ADD	R30,R24
    00EA7 1FF9      ADC	R31,R25
    00EA8 82A0      ST	Z,R10
(0089)         if(uart_timeout_flag1==1)
    00EA9 9180 0D6A LDS	R24,uart_timeout_flag1
    00EAB 3081      CPI	R24,1
    00EAC F411      BNE	0x0EAF
(0090)         {  
(0091) //           ComSendResponse(send_buf[3],EXE_TIME_OUT,1);
(0092)            return FAILURE; 
    00EAD E001      LDI	R16,1
    00EAE C00E      RJMP	0x0EBD
    00EAF 9543      INC	R20
    00EB0 9180 08A2 LDS	R24,send_len
    00EB2 9190 08A3 LDS	R25,send_len+1
    00EB4 9606      ADIW	R24,6
    00EB5 2E24      MOV	R2,R20
    00EB6 2433      CLR	R3
    00EB7 1628      CP	R2,R24
    00EB8 0639      CPC	R3,R25
    00EB9 F330      BCS	0x0EA0
(0093)         }  
(0094)     }  
(0095)     return SUCCESS;
    00EBA 2700      CLR	R16
    00EBB C001      RJMP	0x0EBD
    00EBC CFC1      RJMP	0x0E7E
    00EBD 9149      LD	R20,Y+
    00EBE 90A9      LD	R10,Y+
    00EBF 9508      RET
_outStrtoCom:
  i                    --> R10
  length               --> R12
  pData                --> R14
    00EC0 940E 3796 CALL	push_xgset00FC
    00EC2 0169      MOVW	R12,R18
    00EC3 0178      MOVW	R14,R16
(0096) 
(0097)   }  
(0098)   return FAILURE;
(0099) } 
(0100) 
(0101) //向串口输出数据串
(0102) void outStrtoCom(unsigned char *pData,unsigned int length)
(0103) {
(0104) 	unsigned char i;
(0105) 	for(i=0;i<length;i++)
    00EC4 24AA      CLR	R10
    00EC5 C007      RJMP	0x0ECD
(0106) 		put_c1(pData[i]);
    00EC6 2DEA      MOV	R30,R10
    00EC7 27FF      CLR	R31
    00EC8 0DEE      ADD	R30,R14
    00EC9 1DFF      ADC	R31,R15
    00ECA 8100      LD	R16,Z
    00ECB DF96      RCALL	_put_c1
    00ECC 94A3      INC	R10
    00ECD 2C2A      MOV	R2,R10
    00ECE 2433      CLR	R3
    00ECF 142C      CP	R2,R12
    00ED0 043D      CPC	R3,R13
    00ED1 F3A0      BCS	0x0EC6
    00ED2 940C 3780 JMP	pop_xgset00FC
_MAC_CalCrc16:
  i                    --> R10
  j                    --> R22
  value_CRC            --> R20
  ucLen                --> R12
  pCrc16               --> R18
  pInput               --> R16
    00ED4 940E 37CD CALL	push_xgsetF03C
    00ED6 84C8      LDD	R12,Y+8
(0107) }
(0108) /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0109) 
(0110) /*-----------------------------------------------
(0111) 函数名： 　MAC_CalCrc16
(0112) 功  能：  以字节为单位计算len个数的CRC16校验和，首字节
(0113) 		  为pInput[0].
(0114) 参  数：  pInput			为需要计算CRC的数据的指针
(0115)           pCrc16			为指向存储CRC值的数组
(0116)           ucLen				为需要计算CRC的数据长度
(0117) 返回值：　无　
(0118) 作  者：　lz
(0119) 日  期：  2008-06-18
(0120) ------------------------------------------------*/
(0121) void MAC_CalCrc16(unsigned char  *pInput, unsigned char * pCrc16, unsigned char ucLen)   
(0122) {   
(0123)     unsigned int value_CRC=0xffff;
    00ED7 EF4F      LDI	R20,0xFF
    00ED8 EF5F      LDI	R21,0xFF
(0124)     unsigned char i;
(0125)     unsigned char j;
(0126) 
(0127) 	for( i=0; i<ucLen; i++ )
    00ED9 24AA      CLR	R10
    00EDA C01B      RJMP	0x0EF6
(0128) 	{	
(0129) 		value_CRC = value_CRC ^((unsigned int)pInput[i]);
    00EDB 2DEA      MOV	R30,R10
    00EDC 27FF      CLR	R31
    00EDD 0FE0      ADD	R30,R16
    00EDE 1FF1      ADC	R31,R17
    00EDF 8020      LD	R2,Z
    00EE0 2433      CLR	R3
    00EE1 2542      EOR	R20,R2
    00EE2 2553      EOR	R21,R3
(0130) 		for (j = 0; j < 8; j++)
    00EE3 2766      CLR	R22
    00EE4 C00E      RJMP	0x0EF3
(0131) 		{
(0132) 			if (value_CRC & 0x0001)
    00EE5 FF40      SBRS	R20,0
    00EE6 C009      RJMP	0x0EF0
(0133) 			{
(0134) 				value_CRC = (value_CRC >> 1) ^ 0x8408;
    00EE7 E088      LDI	R24,0x8
    00EE8 E894      LDI	R25,0x84
    00EE9 011A      MOVW	R2,R20
    00EEA 9436      LSR	R3
    00EEB 9427      ROR	R2
    00EEC 2628      EOR	R2,R24
    00EED 2639      EOR	R3,R25
    00EEE 01A1      MOVW	R20,R2
(0135) 			}
    00EEF C002      RJMP	0x0EF2
(0136) 			else
(0137) 			{
(0138) 				value_CRC = (value_CRC >> 1);
    00EF0 9556      LSR	R21
    00EF1 9547      ROR	R20
    00EF2 9563      INC	R22
    00EF3 3068      CPI	R22,0x8
    00EF4 F380      BCS	0x0EE5
    00EF5 94A3      INC	R10
    00EF6 14AC      CP	R10,R12
    00EF7 F318      BCS	0x0EDB
(0139) 			}
(0140) 		}
(0141) 	}
(0142) 	
(0143)   	pCrc16[0] = (unsigned char)(value_CRC>>8);
    00EF8 011A      MOVW	R2,R20
    00EF9 2C23      MOV	R2,R3
    00EFA 2433      CLR	R3
    00EFB 01F9      MOVW	R30,R18
    00EFC 8220      ST	Z,R2
(0144) 	pCrc16[1] = (unsigned char)(value_CRC);
    00EFD 8341      STD	Z+1,R20
(0145) 	
(0146) 	return;
    00EFE 940C 37D6 JMP	pop_xgsetF03C
_MAC_CheckCrc16:
  CrcChk               --> Y,+1
  ucLen                --> R20
  pInput               --> R10
    00F00 940E 379D CALL	push_xgset300C
    00F02 2F42      MOV	R20,R18
    00F03 0158      MOVW	R10,R16
    00F04 9723      SBIW	R28,3
(0147) }
(0148) 
(0149) 
(0150) /*-----------------------------------------------
(0151) 函数名：	MAC_CheckCrc16
(0152) 功  能：  校验一帧长度为ucLen的数据，pInput[ucLen]
(0153)           pInput[ucLen+1]是这帧数据的校验字节。
(0154) 参  数：  pInput      校验帧的首地址
(0155)           ucLen 　　　需校验的数据帧的长度 
(0156) 返回值：　0表示校验通过，1表示校验失败　
(0157) 作  者：　lz
(0158) 日  期：  2008-06-18
(0159) ------------------------------------------------*/
(0160) unsigned char MAC_CheckCrc16(unsigned char * pInput, unsigned char ucLen)
(0161) {
(0162) 	unsigned char CrcChk[2];
(0163) 
(0164) 	MAC_CalCrc16(pInput,CrcChk,ucLen-2);
    00F05 2F84      MOV	R24,R20
    00F06 5082      SUBI	R24,2
    00F07 8388      ST	Y,R24
    00F08 019E      MOVW	R18,R28
    00F09 5F2F      SUBI	R18,0xFF
    00F0A 4F3F      SBCI	R19,0xFF
    00F0B 0185      MOVW	R16,R10
    00F0C DFC7      RCALL	_MAC_CalCrc16
(0165) 
(0166) 	if (CrcChk[0]!=pInput[ucLen-2] || CrcChk[1]!=pInput[ucLen-1])
    00F0D 2FE4      MOV	R30,R20
    00F0E 27FF      CLR	R31
    00F0F 9732      SBIW	R30,2
    00F10 0DEA      ADD	R30,R10
    00F11 1DFB      ADC	R31,R11
    00F12 8020      LD	R2,Z
    00F13 8039      LDD	R3,Y+1
    00F14 1432      CP	R3,R2
    00F15 F449      BNE	0x0F1F
    00F16 2FE4      MOV	R30,R20
    00F17 27FF      CLR	R31
    00F18 9731      SBIW	R30,1
    00F19 0DEA      ADD	R30,R10
    00F1A 1DFB      ADC	R31,R11
    00F1B 8020      LD	R2,Z
    00F1C 803A      LDD	R3,Y+2
    00F1D 1432      CP	R3,R2
    00F1E F011      BEQ	0x0F21
(0167) 	{
(0168) 		return FAILURE; // crc16 fail!
    00F1F E001      LDI	R16,1
    00F20 C001      RJMP	0x0F22
(0169) 	}
(0170) 	
(0171) 	return SUCCESS; // crc16 ok!
    00F21 2700      CLR	R16
    00F22 9623      ADIW	R28,3
    00F23 940C 37A2 JMP	pop_xgset300C
_ComSendResponse:
  crc_buf              --> Y,+1
  LenData              --> R20
  statusdata           --> R12
  CmdData              --> R10
    00F25 940E 37BF CALL	push_xgset303C
    00F27 2EC2      MOV	R12,R18
    00F28 2EA0      MOV	R10,R16
    00F29 9723      SBIW	R28,3
    00F2A 8549      LDD	R20,Y+9
(0172) }
(0173) /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0174) //发送命令响应结果
(0175) void ComSendResponse(unsigned char CmdData,unsigned char statusdata,unsigned char LenData)
(0176) {
(0177)     unsigned char crc_buf[2];
(0178)     
(0179)     receive_buf[5]= statusdata;
    00F2B 92C0 08A9 STS	receive_buf+5,R12
(0180) 
(0181)     receive_buf[4]=LenData;
    00F2D 9340 08A8 STS	receive_buf+4,R20
(0182) 
(0183)     receive_buf[3]=CmdData;
    00F2F 92A0 08A7 STS	receive_buf+3,R10
(0184)     
(0185)     receive_buf[1]=0x00;receive_buf[2]=0x01;
    00F31 2422      CLR	R2
    00F32 9220 08A5 STS	receive_buf+1,R2
    00F34 E081      LDI	R24,1
    00F35 9380 08A6 STS	receive_buf+2,R24
(0186) 
(0187)     receive_buf[0]=0x02;
    00F37 E082      LDI	R24,2
    00F38 9380 08A4 STS	receive_buf,R24
(0188)     
(0189)     MAC_CalCrc16(receive_buf, crc_buf,LenData+5); 
    00F3A 2F84      MOV	R24,R20
    00F3B 5F8B      SUBI	R24,0xFB
    00F3C 8388      ST	Y,R24
    00F3D 019E      MOVW	R18,R28
    00F3E 5F2F      SUBI	R18,0xFF
    00F3F 4F3F      SBCI	R19,0xFF
    00F40 EA04      LDI	R16,0xA4
    00F41 E018      LDI	R17,0x8
    00F42 DF91      RCALL	_MAC_CalCrc16
(0190)     
(0191)     receive_buf[LenData+5]=crc_buf[0];
    00F43 EA89      LDI	R24,0xA9
    00F44 E098      LDI	R25,0x8
    00F45 2FE4      MOV	R30,R20
    00F46 27FF      CLR	R31
    00F47 0FE8      ADD	R30,R24
    00F48 1FF9      ADC	R31,R25
    00F49 8029      LDD	R2,Y+1
    00F4A 8220      ST	Z,R2
(0192)     
(0193)     receive_buf[LenData+6]=crc_buf[1];//数据包尾 
    00F4B EA8A      LDI	R24,0xAA
    00F4C E098      LDI	R25,0x8
    00F4D 2FE4      MOV	R30,R20
    00F4E 27FF      CLR	R31
    00F4F 0FE8      ADD	R30,R24
    00F50 1FF9      ADC	R31,R25
    00F51 802A      LDD	R2,Y+2
    00F52 8220      ST	Z,R2
(0194)     
(0195)     init_USART1(); 
    00F53 DF02      RCALL	_init_USART1
(0196)     outStrtoCom(receive_buf,LenData+7); 
    00F54 2F24      MOV	R18,R20
    00F55 2733      CLR	R19
    00F56 5F29      SUBI	R18,0xF9
    00F57 4F3F      SBCI	R19,0xFF
    00F58 EA04      LDI	R16,0xA4
    00F59 E018      LDI	R17,0x8
    00F5A DF65      RCALL	_outStrtoCom
(0197)    
(0198)     return;
    00F5B 9623      ADIW	R28,3
    00F5C 940C 37C6 JMP	pop_xgset303C
_EEPROM_write:
  data                 --> R10
  addr_l               --> R14
  addr_h               --> R12
    00F5E 940E 3796 CALL	push_xgset00FC
    00F60 0179      MOVW	R14,R18
    00F61 0168      MOVW	R12,R16
    00F62 80AE      LDD	R10,Y+6
    00F63 80BF      LDD	R11,Y+7
FILE: E:\ICCDemo\Temp_Control\temp_control\eeprom.c
(0001) #include<iom128v.h>
(0002) #include "eeprom.h"
(0003) #include "delay.h"
(0004) 
(0005) //使用全非中断方式读写。温控数据在保存时候一次性写入。状态数据执行时写入，写入量小不会影响速度
(0006) void EEPROM_write(uint addr_h,uint addr_l,uint data){
(0007)    SREG&=0x7F;//关中断
    00F64 B78F      IN	R24,0x3F
    00F65 778F      ANDI	R24,0x7F
    00F66 BF8F      OUT	0x3F,R24
(0008)     while(EECR & (1<<EEWE)){
    00F67 99E1      SBIC	0x1C,1
    00F68 CFFE      RJMP	0x0F67
(0009) 	 			 
(0010) 	 } 
(0011) 	  EEARL=addr_l;
    00F69 BAEE      OUT	0x1E,R14
(0012) 	 EEARH=addr_h;
    00F6A BACF      OUT	0x1F,R12
(0013) 	 EEDR=data;
    00F6B BAAD      OUT	0x1D,R10
(0014) 	 EECR|=(1<<EEMWE);
    00F6C 9AE2      SBI	0x1C,2
(0015) 	 EECR|=(1<<EEWE);
    00F6D 9AE1      SBI	0x1C,1
(0016) 	  delay_us(1);
    00F6E E001      LDI	R16,1
    00F6F E010      LDI	R17,0
    00F70 940E 0441 CALL	_delay_us
(0017) 	 SREG|=0x80;//开中断
    00F72 9478      BSET	7
(0018) 	 return;
    00F73 940C 3780 JMP	pop_xgset00FC
_EEPROM_read:
  data                 --> R10
  addr_l               --> R12
  addr_h               --> R10
    00F75 940E 3798 CALL	push_xgset003C
    00F77 0169      MOVW	R12,R18
    00F78 0158      MOVW	R10,R16
(0019) }
(0020) uint EEPROM_read(uint addr_h,uint addr_l){
(0021)    uint data;
(0022)    SREG&=0x7F;//关中断
    00F79 B78F      IN	R24,0x3F
    00F7A 778F      ANDI	R24,0x7F
    00F7B BF8F      OUT	0x3F,R24
(0023)     while(EECR & (1<<EEWE)){ 			 
    00F7C 99E1      SBIC	0x1C,1
    00F7D CFFE      RJMP	0x0F7C
(0024) 	 }
(0025) 	EEARL=addr_l;
    00F7E BACE      OUT	0x1E,R12
(0026) 	 EEARH=addr_h;
    00F7F BAAF      OUT	0x1F,R10
(0027) 	 
(0028) 	 EECR|=(1<<EERE);
    00F80 9AE0      SBI	0x1C,0
(0029) 	 delay_us(1);
    00F81 E001      LDI	R16,1
    00F82 E010      LDI	R17,0
    00F83 940E 0441 CALL	_delay_us
(0030) 	 data=EEDR;
    00F85 B2AD      IN	R10,0x1D
    00F86 24BB      CLR	R11
(0031) 	 SREG|=0x80;//开中断
    00F87 9478      BSET	7
(0032) 	 return data;
    00F88 0185      MOVW	R16,R10
    00F89 940C 377B JMP	pop_xgset003C
_pageTime:
  y                    --> R10
    00F8B 92AA      ST	-Y,R10
    00F8C 92BA      ST	-Y,R11
    00F8D 0158      MOVW	R10,R16
    00F8E 9722      SBIW	R28,2
FILE: E:\ICCDemo\Temp_Control\temp_control\pages.c
(0001) #include<iom128v.h>
(0002) #include "main.h"
(0003) #include "lcd.h"
(0004) #include "time1307.h"
(0005) #include "timertask.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "temp.h"
(0009) #include "eeprom.h"
(0010) //下面这个头文件里包含WDR();喂狗的方法
(0011) //#include <AVRdef.h>
(0012) 
(0013) //************************
(0014) // 所有界面信息在这里,用到全局变量， 
(0015) // unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0016) // unsigned int pageParam[5];//传递参数。界面间参数暂存
(0017) // unsigned int prePageNum;
(0018) //************************
(0019) 
(0020) //用于显第一行日期信息，其中Page1、Page3 、Page8使用，
(0021) //由定时器触发该函数，进入这三个界面是启动定时器，退出时关闭
(0022) void pageTime(uint y){
(0023)                 //关定时器
(0024)    lcd_write_str(0,y,"时间:");
    00F8F E987      LDI	R24,0x97
    00F90 E098      LDI	R25,0x8
    00F91 8399      STD	Y+1,R25
    00F92 8388      ST	Y,R24
    00F93 2D2A      MOV	R18,R10
    00F94 2700      CLR	R16
    00F95 940E 069B CALL	_lcd_write_str
(0025)    showTime_page(y);
    00F97 0185      MOVW	R16,R10
    00F98 940E 368B CALL	_showTime_page
    00F9A 9622      ADIW	R28,2
    00F9B 90B9      LD	R11,Y+
    00F9C 90A9      LD	R10,Y+
    00F9D 9508      RET
_pageTime2:
  y                    --> R10
    00F9E 92AA      ST	-Y,R10
    00F9F 92BA      ST	-Y,R11
    00FA0 0158      MOVW	R10,R16
(0026)                  //开定时器 
(0027) }
(0028) void pageTime2(uint y){
(0029)                 //关定时器
(0030)    //lcd_write_str(0,y,"时间:");
(0031)    showTime_page(y);
    00FA1 0185      MOVW	R16,R10
    00FA2 940E 368B CALL	_showTime_page
    00FA4 90B9      LD	R11,Y+
    00FA5 90A9      LD	R10,Y+
    00FA6 9508      RET
_page1:
  cur                  --> R20
  keyV                 --> R10
  y                    --> R22
  i                    --> R10
    00FA7 940E 37CD CALL	push_xgsetF03C
    00FA9 9722      SBIW	R28,2
(0032)                  //开定时器 
(0033) }
(0034) //page1,首页的界面
(0035) void page1(void){
(0036)    uint cur=0;
(0037)    uchar keyV;
(0038)    uint i;//用于循环
(0039)    uint y;//确定是那个半屏幕
(0040)    prePageNum=1;//首页不会再有上一界面，这里设置。虽然违反规则
    00FAA E081      LDI	R24,1
    00FAB E090      LDI	R25,0
    00FAC 9390 0D55 STS	prePageNum+1,R25
    00FAE 9380 0D54 STS	prePageNum,R24
(0041)    //初始化起始选择
(0042)     lcd_write_str(1,1," T1:");
    00FB0 E982      LDI	R24,0x92
    00FB1 E098      LDI	R25,0x8
    00FB2 8399      STD	Y+1,R25
    00FB3 8388      ST	Y,R24
    00FB4 E021      LDI	R18,1
    00FB5 E001      LDI	R16,1
    00FB6 940E 069B CALL	_lcd_write_str
(0043)     lcd_write_str(6,1," T2:");
    00FB8 E88D      LDI	R24,0x8D
    00FB9 E098      LDI	R25,0x8
    00FBA 8399      STD	Y+1,R25
    00FBB 8388      ST	Y,R24
    00FBC E021      LDI	R18,1
    00FBD E006      LDI	R16,6
    00FBE 940E 069B CALL	_lcd_write_str
(0044)     lcd_write_str(1,2," T3:");
    00FC0 E888      LDI	R24,0x88
    00FC1 E098      LDI	R25,0x8
    00FC2 8399      STD	Y+1,R25
    00FC3 8388      ST	Y,R24
    00FC4 E022      LDI	R18,2
    00FC5 E001      LDI	R16,1
    00FC6 940E 069B CALL	_lcd_write_str
(0045)     lcd_write_str(6,2," T4:");
    00FC8 E883      LDI	R24,0x83
    00FC9 E098      LDI	R25,0x8
    00FCA 8399      STD	Y+1,R25
    00FCB 8388      ST	Y,R24
    00FCC E022      LDI	R18,2
    00FCD E006      LDI	R16,6
    00FCE 940E 069B CALL	_lcd_write_str
(0046) 
(0047) 	
(0048) 	lcd_write_str(1,3,"开始    ");
    00FD0 E78A      LDI	R24,0x7A
    00FD1 E098      LDI	R25,0x8
    00FD2 8399      STD	Y+1,R25
    00FD3 8388      ST	Y,R24
    00FD4 E023      LDI	R18,3
    00FD5 E001      LDI	R16,1
    00FD6 940E 069B CALL	_lcd_write_str
(0049)     lcd_write_str_con(3,"停止    ");
    00FD8 E721      LDI	R18,0x71
    00FD9 E038      LDI	R19,0x8
    00FDA E003      LDI	R16,3
    00FDB 940E 06E5 CALL	_lcd_write_str_con
(0050) 	lcd_write_str_con(3,"设置");
    00FDD E62C      LDI	R18,0x6C
    00FDE E038      LDI	R19,0x8
    00FDF E003      LDI	R16,3
    00FE0 940E 06E5 CALL	_lcd_write_str_con
(0051) 	lcd_write_str(1,3,"开始    ");
    00FE2 E78A      LDI	R24,0x7A
    00FE3 E098      LDI	R25,0x8
    00FE4 8399      STD	Y+1,R25
    00FE5 8388      ST	Y,R24
    00FE6 E023      LDI	R18,3
    00FE7 E001      LDI	R16,1
    00FE8 940E 069B CALL	_lcd_write_str
(0052)     lcd_write_str_con(3,"停止    ");
    00FEA E721      LDI	R18,0x71
    00FEB E038      LDI	R19,0x8
    00FEC E003      LDI	R16,3
    00FED 940E 06E5 CALL	_lcd_write_str_con
(0053) 	lcd_write_str_con(3,"设置"); 
    00FEF E62C      LDI	R18,0x6C
    00FF0 E038      LDI	R19,0x8
    00FF1 E003      LDI	R16,3
    00FF2 940E 06E5 CALL	_lcd_write_str_con
(0054) 	cur=0;
    00FF4 2744      CLR	R20
    00FF5 2755      CLR	R21
(0055) 	Set_White(2,1,3);
    00FF6 E083      LDI	R24,3
    00FF7 8388      ST	Y,R24
    00FF8 E021      LDI	R18,1
    00FF9 E002      LDI	R16,2
    00FFA 940E 08C0 CALL	_Set_White
    00FFC C389      RJMP	0x1386
(0056) 	while(1){
(0057) 	 pageTime(0);
    00FFD 2700      CLR	R16
    00FFE 2711      CLR	R17
    00FFF DF8B      RCALL	_pageTime
(0058) 	for(i=0;i<4;i++){
    01000 24AA      CLR	R10
    01001 24BB      CLR	R11
    01002 C0DF      RJMP	0x10E2
(0059) 	  if(i==0){
    01003 20AA      TST	R10
    01004 F449      BNE	0x100E
    01005 20BB      TST	R11
    01006 F439      BNE	0x100E
(0060) 	    y=1;
    01007 E061      LDI	R22,1
    01008 E070      LDI	R23,0
(0061) 	    lcd_write_pos(3,1);
    01009 E021      LDI	R18,1
    0100A E003      LDI	R16,3
    0100B 940E 0657 CALL	_lcd_write_pos
(0062) 	  }else if(i==1){
    0100D C023      RJMP	0x1031
    0100E 01C5      MOVW	R24,R10
    0100F 3081      CPI	R24,1
    01010 E0E0      LDI	R30,0
    01011 079E      CPC	R25,R30
    01012 F439      BNE	0x101A
(0063) 	    y=1;
    01013 E061      LDI	R22,1
    01014 E070      LDI	R23,0
(0064) 	    lcd_write_pos(8,1);
    01015 E021      LDI	R18,1
    01016 E008      LDI	R16,0x8
    01017 940E 0657 CALL	_lcd_write_pos
(0065) 	  }else if(i==2){
    01019 C017      RJMP	0x1031
    0101A 01C5      MOVW	R24,R10
    0101B 3082      CPI	R24,2
    0101C E0E0      LDI	R30,0
    0101D 079E      CPC	R25,R30
    0101E F439      BNE	0x1026
(0066) 	    y=2;
    0101F E062      LDI	R22,2
    01020 E070      LDI	R23,0
(0067) 	    lcd_write_pos(3,2);
    01021 E022      LDI	R18,2
    01022 E003      LDI	R16,3
    01023 940E 0657 CALL	_lcd_write_pos
(0068) 	  }else if(i==3){
    01025 C00B      RJMP	0x1031
    01026 01C5      MOVW	R24,R10
    01027 3083      CPI	R24,3
    01028 E0E0      LDI	R30,0
    01029 079E      CPC	R25,R30
    0102A F431      BNE	0x1031
(0069) 	    y=2;
    0102B E062      LDI	R22,2
    0102C E070      LDI	R23,0
(0070) 	    lcd_write_pos(8,2);
    0102D E022      LDI	R18,2
    0102E E008      LDI	R16,0x8
    0102F 940E 0657 CALL	_lcd_write_pos
(0071) 	  }
(0072) 	   switch(temps[i].flag){
    01031 E404      LDI	R16,0x44
    01032 E011      LDI	R17,1
    01033 0195      MOVW	R18,R10
    01034 940E 376B CALL	empy16s
    01036 E186      LDI	R24,0x16
    01037 E091      LDI	R25,1
    01038 01F8      MOVW	R30,R16
    01039 0FE8      ADD	R30,R24
    0103A 1FF9      ADC	R31,R25
    0103B 80C0      LD	R12,Z
    0103C 80D1      LDD	R13,Z+1
    0103D 20CC      TST	R12
    0103E F411      BNE	0x1041
    0103F 20DD      TST	R13
    01040 F0F9      BEQ	0x1060
    01041 01C6      MOVW	R24,R12
    01042 3081      CPI	R24,1
    01043 E0E0      LDI	R30,0
    01044 079E      CPC	R25,R30
    01045 F101      BEQ	0x1066
    01046 3082      CPI	R24,2
    01047 E0E0      LDI	R30,0
    01048 079E      CPC	R25,R30
    01049 F409      BNE	0x104B
    0104A C077      RJMP	0x10C2
    0104B 3083      CPI	R24,3
    0104C E0E0      LDI	R30,0
    0104D 079E      CPC	R25,R30
    0104E F409      BNE	0x1050
    0104F C078      RJMP	0x10C8
    01050 3084      CPI	R24,4
    01051 E0E0      LDI	R30,0
    01052 079E      CPC	R25,R30
    01053 F409      BNE	0x1055
    01054 C079      RJMP	0x10CE
    01055 3085      CPI	R24,5
    01056 E0E0      LDI	R30,0
    01057 079E      CPC	R25,R30
    01058 F409      BNE	0x105A
    01059 C07A      RJMP	0x10D4
    0105A 3086      CPI	R24,6
    0105B E0E0      LDI	R30,0
    0105C 079E      CPC	R25,R30
    0105D F409      BNE	0x105F
    0105E C07B      RJMP	0x10DA
    0105F C07F      RJMP	0x10DF
(0073) 	     case 0:
(0074) 		   lcd_write_str_con(y,"停止");
    01060 E627      LDI	R18,0x67
    01061 E038      LDI	R19,0x8
    01062 2F06      MOV	R16,R22
    01063 940E 06E5 CALL	_lcd_write_str_con
(0075) 		   break;
    01065 C079      RJMP	0x10DF
(0076) 		 case 1:
(0077) 		   lcd_write_char_con(y,0x30 | (int)temps[i].actualtemp/100);
    01066 E404      LDI	R16,0x44
    01067 E011      LDI	R17,1
    01068 0195      MOVW	R18,R10
    01069 940E 376B CALL	empy16s
    0106B E38A      LDI	R24,0x3A
    0106C E092      LDI	R25,2
    0106D 01F8      MOVW	R30,R16
    0106E 0FE8      ADD	R30,R24
    0106F 1FF9      ADC	R31,R25
    01070 8100      LD	R16,Z
    01071 8111      LDD	R17,Z+1
    01072 8122      LDD	R18,Z+2
    01073 8133      LDD	R19,Z+3
    01074 940E 38B8 CALL	fpint
    01076 E624      LDI	R18,0x64
    01077 E030      LDI	R19,0
    01078 940E 3721 CALL	div16s
    0107A 0198      MOVW	R18,R16
    0107B 6320      ORI	R18,0x30
    0107C 2F06      MOV	R16,R22
    0107D 940E 0643 CALL	_lcd_write_char_con
(0078) 		   lcd_write_char_con(y,0x30 | ((int)temps[i].actualtemp/10)%10);
    0107F E404      LDI	R16,0x44
    01080 E011      LDI	R17,1
    01081 0195      MOVW	R18,R10
    01082 940E 376B CALL	empy16s
    01084 E38A      LDI	R24,0x3A
    01085 E092      LDI	R25,2
    01086 01F8      MOVW	R30,R16
    01087 0FE8      ADD	R30,R24
    01088 1FF9      ADC	R31,R25
    01089 8100      LD	R16,Z
    0108A 8111      LDD	R17,Z+1
    0108B 8122      LDD	R18,Z+2
    0108C 8133      LDD	R19,Z+3
    0108D 940E 38B8 CALL	fpint
    0108F E02A      LDI	R18,0xA
    01090 E030      LDI	R19,0
    01091 940E 3721 CALL	div16s
    01093 E02A      LDI	R18,0xA
    01094 E030      LDI	R19,0
    01095 940E 371D CALL	mod16s
    01097 0198      MOVW	R18,R16
    01098 6320      ORI	R18,0x30
    01099 2F06      MOV	R16,R22
    0109A 940E 0643 CALL	_lcd_write_char_con
(0079) 		   lcd_write_char_con(y,0x30 | (int)temps[i].actualtemp%10);
    0109C E404      LDI	R16,0x44
    0109D E011      LDI	R17,1
    0109E 0195      MOVW	R18,R10
    0109F 940E 376B CALL	empy16s
    010A1 E38A      LDI	R24,0x3A
    010A2 E092      LDI	R25,2
    010A3 01F8      MOVW	R30,R16
    010A4 0FE8      ADD	R30,R24
    010A5 1FF9      ADC	R31,R25
    010A6 8100      LD	R16,Z
    010A7 8111      LDD	R17,Z+1
    010A8 8122      LDD	R18,Z+2
    010A9 8133      LDD	R19,Z+3
    010AA 940E 38B8 CALL	fpint
    010AC E02A      LDI	R18,0xA
    010AD E030      LDI	R19,0
    010AE 940E 371D CALL	mod16s
    010B0 0198      MOVW	R18,R16
    010B1 6320      ORI	R18,0x30
    010B2 2F06      MOV	R16,R22
    010B3 940E 0643 CALL	_lcd_write_char_con
(0080) 		   lcd_write_char_con(y,' ');
    010B5 E220      LDI	R18,0x20
    010B6 2F06      MOV	R16,R22
    010B7 940E 0643 CALL	_lcd_write_char_con
(0081) 		   lcd_write_char_con(y,0xA1);
    010B9 EA21      LDI	R18,0xA1
    010BA 2F06      MOV	R16,R22
    010BB 940E 0643 CALL	_lcd_write_char_con
(0082)           lcd_write_char_con(y,0xE6);
    010BD EE26      LDI	R18,0xE6
    010BE 2F06      MOV	R16,R22
    010BF 940E 0643 CALL	_lcd_write_char_con
(0083) 		   break;
    010C1 C01D      RJMP	0x10DF
(0084) 		 case 2:
(0085) 		   lcd_write_str_con(y,"故障");
    010C2 E622      LDI	R18,0x62
    010C3 E038      LDI	R19,0x8
    010C4 2F06      MOV	R16,R22
    010C5 940E 06E5 CALL	_lcd_write_str_con
(0086) 		   break;
    010C7 C017      RJMP	0x10DF
(0087) 		 case 3:
(0088) 		   lcd_write_str_con(y,"暂停");
    010C8 E52D      LDI	R18,0x5D
    010C9 E038      LDI	R19,0x8
    010CA 2F06      MOV	R16,R22
    010CB 940E 06E5 CALL	_lcd_write_str_con
(0089) 		   break;
    010CD C011      RJMP	0x10DF
(0090) 		 case 4:
(0091) 		   lcd_write_str_con(y,"结束");
    010CE E528      LDI	R18,0x58
    010CF E038      LDI	R19,0x8
    010D0 2F06      MOV	R16,R22
    010D1 940E 06E5 CALL	_lcd_write_str_con
(0092) 		   break;
    010D3 C00B      RJMP	0x10DF
(0093) 		 case 5:
(0094) 		   lcd_write_str_con(y,"等待");
    010D4 E523      LDI	R18,0x53
    010D5 E038      LDI	R19,0x8
    010D6 2F06      MOV	R16,R22
    010D7 940E 06E5 CALL	_lcd_write_str_con
(0095) 		   break;
    010D9 C005      RJMP	0x10DF
(0096) 		 case 6:
(0097) 		   lcd_write_str_con(y,"暂停");
    010DA E52D      LDI	R18,0x5D
    010DB E038      LDI	R19,0x8
    010DC 2F06      MOV	R16,R22
    010DD 940E 06E5 CALL	_lcd_write_str_con
    010DF 01C5      MOVW	R24,R10
    010E0 9601      ADIW	R24,1
    010E1 015C      MOVW	R10,R24
    010E2 01C5      MOVW	R24,R10
    010E3 3084      CPI	R24,4
    010E4 E0E0      LDI	R30,0
    010E5 079E      CPC	R25,R30
    010E6 F408      BCC	0x10E8
    010E7 CF1B      RJMP	0x1003
(0098) 		   break;
(0099) 		   break;
(0100) 		 default:
(0101) 		   break;
(0102) 	   }
(0103) 	}
(0104) 	 keyV=KeyScan_once();
    010E8 940E 0538 CALL	_KeyScan_once
    010EA 2EA0      MOV	R10,R16
(0105) 	 if(keyV=='a'){
    010EB 3601      CPI	R16,0x61
    010EC F009      BEQ	0x10EE
    010ED C053      RJMP	0x1141
(0106) 	      //pageNum=8;//跳转到设置时间的界面
(0107) 		   pageNum=8;
    010EE E088      LDI	R24,0x8
    010EF E090      LDI	R25,0
    010F0 9390 0D61 STS	pageNum+1,R25
    010F2 9380 0D60 STS	pageNum,R24
(0108) 	   switch(cur){
    010F4 3040      CPI	R20,0
    010F5 0745      CPC	R20,R21
    010F6 F0C9      BEQ	0x1110
    010F7 3041      CPI	R20,1
    010F8 E0E0      LDI	R30,0
    010F9 075E      CPC	R21,R30
    010FA F0E1      BEQ	0x1117
    010FB 3042      CPI	R20,2
    010FC E0E0      LDI	R30,0
    010FD 075E      CPC	R21,R30
    010FE F0F9      BEQ	0x111E
    010FF 3043      CPI	R20,3
    01100 E0E0      LDI	R30,0
    01101 075E      CPC	R21,R30
    01102 F111      BEQ	0x1125
    01103 3044      CPI	R20,4
    01104 E0E0      LDI	R30,0
    01105 075E      CPC	R21,R30
    01106 F129      BEQ	0x112C
    01107 3045      CPI	R20,5
    01108 E0E0      LDI	R30,0
    01109 075E      CPC	R21,R30
    0110A F141      BEQ	0x1133
    0110B 3046      CPI	R20,6
    0110C E0E0      LDI	R30,0
    0110D 075E      CPC	R21,R30
    0110E F159      BEQ	0x113A
    0110F C277      RJMP	0x1387
(0109) 		 case 0: 
(0110) 		    Set_White_off(2,1,3);
    01110 E083      LDI	R24,3
    01111 8388      ST	Y,R24
    01112 E021      LDI	R18,1
    01113 E002      LDI	R16,2
    01114 940E 0850 CALL	_Set_White_off
(0111) 		    break;
    01116 C270      RJMP	0x1387
(0112) 		 case 1:
(0113) 		   Set_White_off(7,1,8);
    01117 E088      LDI	R24,0x8
    01118 8388      ST	Y,R24
    01119 E021      LDI	R18,1
    0111A E007      LDI	R16,7
    0111B 940E 0850 CALL	_Set_White_off
(0114) 		   break;
    0111D C269      RJMP	0x1387
(0115) 		 case 2:
(0116) 		  Set_White_off(2,2,3);
    0111E E083      LDI	R24,3
    0111F 8388      ST	Y,R24
    01120 E022      LDI	R18,2
    01121 E002      LDI	R16,2
    01122 940E 0850 CALL	_Set_White_off
(0117) 		  break;
    01124 C262      RJMP	0x1387
(0118) 		 case 3:
(0119) 		   Set_White_off(7,2,8);
    01125 E088      LDI	R24,0x8
    01126 8388      ST	Y,R24
    01127 E022      LDI	R18,2
    01128 E007      LDI	R16,7
    01129 940E 0850 CALL	_Set_White_off
(0120) 		    break;
    0112B C25B      RJMP	0x1387
(0121) 		case 4:
(0122) 		    Set_White_off(2,3,3);
    0112C E083      LDI	R24,3
    0112D 8388      ST	Y,R24
    0112E E023      LDI	R18,3
    0112F E002      LDI	R16,2
    01130 940E 0850 CALL	_Set_White_off
(0123) 		    break;
    01132 C254      RJMP	0x1387
(0124) 		case 5:
(0125) 		    Set_White_off(6,3,7);
    01133 E087      LDI	R24,7
    01134 8388      ST	Y,R24
    01135 E023      LDI	R18,3
    01136 E006      LDI	R16,6
    01137 940E 0850 CALL	_Set_White_off
(0126) 		    break;
    01139 C24D      RJMP	0x1387
(0127) 		 case 6:
(0128) 		   Set_White_off(10,3,11);
    0113A E08B      LDI	R24,0xB
    0113B 8388      ST	Y,R24
    0113C E023      LDI	R18,3
    0113D E00A      LDI	R16,0xA
    0113E 940E 0850 CALL	_Set_White_off
(0129) 		    break;
(0130) 		  default:
(0131) 		   break;
(0132) 		 }
(0133) 	   return ;
    01140 C246      RJMP	0x1387
(0134) 	}else if(keyV=='d'){
    01141 2D8A      MOV	R24,R10
    01142 3684      CPI	R24,0x64
    01143 F009      BEQ	0x1145
    01144 C04C      RJMP	0x1191
(0135) 	     switch(cur){
    01145 3040      CPI	R20,0
    01146 0745      CPC	R20,R21
    01147 F069      BEQ	0x1155
    01148 3041      CPI	R20,1
    01149 E0E0      LDI	R30,0
    0114A 075E      CPC	R21,R30
    0114B F0C1      BEQ	0x1164
    0114C 3042      CPI	R20,2
    0114D E0E0      LDI	R30,0
    0114E 075E      CPC	R21,R30
    0114F F119      BEQ	0x1173
    01150 3043      CPI	R20,3
    01151 E0E0      LDI	R30,0
    01152 075E      CPC	R21,R30
    01153 F171      BEQ	0x1182
    01154 C231      RJMP	0x1386
(0136) 		  case 0:
(0137) 		   Set_White_off(2,1,3);
    01155 E083      LDI	R24,3
    01156 8388      ST	Y,R24
    01157 E021      LDI	R18,1
    01158 E002      LDI	R16,2
    01159 940E 0850 CALL	_Set_White_off
(0138) 		   Set_White(2,2,3);
    0115B E083      LDI	R24,3
    0115C 8388      ST	Y,R24
    0115D E022      LDI	R18,2
    0115E E002      LDI	R16,2
    0115F 940E 08C0 CALL	_Set_White
(0139) 		   cur=2;
    01161 E042      LDI	R20,2
    01162 E050      LDI	R21,0
(0140) 		   break;
    01163 C222      RJMP	0x1386
(0141) 		  case 1:
(0142) 		   Set_White_off(7,1,8);
    01164 E088      LDI	R24,0x8
    01165 8388      ST	Y,R24
    01166 E021      LDI	R18,1
    01167 E007      LDI	R16,7
    01168 940E 0850 CALL	_Set_White_off
(0143) 		   Set_White(7,2,8);
    0116A E088      LDI	R24,0x8
    0116B 8388      ST	Y,R24
    0116C E022      LDI	R18,2
    0116D E007      LDI	R16,7
    0116E 940E 08C0 CALL	_Set_White
(0144) 		   cur=3;
    01170 E043      LDI	R20,3
    01171 E050      LDI	R21,0
(0145) 		   break;
    01172 C213      RJMP	0x1386
(0146) 		  case 2:
(0147) 		   Set_White_off(2,2,3);
    01173 E083      LDI	R24,3
    01174 8388      ST	Y,R24
    01175 E022      LDI	R18,2
    01176 E002      LDI	R16,2
    01177 940E 0850 CALL	_Set_White_off
(0148) 		   Set_White(2,3,3);
    01179 E083      LDI	R24,3
    0117A 8388      ST	Y,R24
    0117B E023      LDI	R18,3
    0117C E002      LDI	R16,2
    0117D 940E 08C0 CALL	_Set_White
(0149) 		   cur=4;
    0117F E044      LDI	R20,4
    01180 E050      LDI	R21,0
(0150) 		   break;
    01181 C204      RJMP	0x1386
(0151) 		  case 3:
(0152) 		   Set_White_off(7,2,8);
    01182 E088      LDI	R24,0x8
    01183 8388      ST	Y,R24
    01184 E022      LDI	R18,2
    01185 E007      LDI	R16,7
    01186 940E 0850 CALL	_Set_White_off
(0153) 		   Set_White(6,3,7);
    01188 E087      LDI	R24,7
    01189 8388      ST	Y,R24
    0118A E023      LDI	R18,3
    0118B E006      LDI	R16,6
    0118C 940E 08C0 CALL	_Set_White
(0154) 		   cur=5;
    0118E E045      LDI	R20,5
    0118F E050      LDI	R21,0
(0155) 		   break;
(0156) 		  default:
(0157) 		   break;
(0158) 		 }
(0159) 	}else if(keyV=='u'){switch(cur){
    01190 C1F5      RJMP	0x1386
    01191 2D8A      MOV	R24,R10
    01192 3785      CPI	R24,0x75
    01193 F009      BEQ	0x1195
    01194 C061      RJMP	0x11F6
    01195 3042      CPI	R20,2
    01196 E0E0      LDI	R30,0
    01197 075E      CPC	R21,R30
    01198 F091      BEQ	0x11AB
    01199 3043      CPI	R20,3
    0119A E0E0      LDI	R30,0
    0119B 075E      CPC	R21,R30
    0119C F0E9      BEQ	0x11BA
    0119D 3044      CPI	R20,4
    0119E E0E0      LDI	R30,0
    0119F 075E      CPC	R21,R30
    011A0 F141      BEQ	0x11C9
    011A1 3045      CPI	R20,5
    011A2 E0E0      LDI	R30,0
    011A3 075E      CPC	R21,R30
    011A4 F199      BEQ	0x11D8
    011A5 3046      CPI	R20,6
    011A6 E0E0      LDI	R30,0
    011A7 075E      CPC	R21,R30
    011A8 F409      BNE	0x11AA
    011A9 C03D      RJMP	0x11E7
    011AA C1DB      RJMP	0x1386
(0160) 		  case 2:
(0161) 		   Set_White_off(2,2,3);
    011AB E083      LDI	R24,3
    011AC 8388      ST	Y,R24
    011AD E022      LDI	R18,2
    011AE E002      LDI	R16,2
    011AF 940E 0850 CALL	_Set_White_off
(0162) 		   Set_White(2,1,3);
    011B1 E083      LDI	R24,3
    011B2 8388      ST	Y,R24
    011B3 E021      LDI	R18,1
    011B4 E002      LDI	R16,2
    011B5 940E 08C0 CALL	_Set_White
(0163) 		   cur=0;
    011B7 2744      CLR	R20
    011B8 2755      CLR	R21
(0164) 		   break;
    011B9 C1CC      RJMP	0x1386
(0165) 		  case 3:
(0166) 		   Set_White_off(7,2,8);
    011BA E088      LDI	R24,0x8
    011BB 8388      ST	Y,R24
    011BC E022      LDI	R18,2
    011BD E007      LDI	R16,7
    011BE 940E 0850 CALL	_Set_White_off
(0167) 		   Set_White(7,1,8);
    011C0 E088      LDI	R24,0x8
    011C1 8388      ST	Y,R24
    011C2 E021      LDI	R18,1
    011C3 E007      LDI	R16,7
    011C4 940E 08C0 CALL	_Set_White
(0168) 		   cur=1;
    011C6 E041      LDI	R20,1
    011C7 E050      LDI	R21,0
(0169) 		   break;
    011C8 C1BD      RJMP	0x1386
(0170) 		  case 4:
(0171) 		   Set_White_off(2,3,5);
    011C9 E085      LDI	R24,5
    011CA 8388      ST	Y,R24
    011CB E023      LDI	R18,3
    011CC E002      LDI	R16,2
    011CD 940E 0850 CALL	_Set_White_off
(0172) 		   Set_White(2,2,3);
    011CF E083      LDI	R24,3
    011D0 8388      ST	Y,R24
    011D1 E022      LDI	R18,2
    011D2 E002      LDI	R16,2
    011D3 940E 08C0 CALL	_Set_White
(0173) 		   cur=2;
    011D5 E042      LDI	R20,2
    011D6 E050      LDI	R21,0
(0174) 		   break;
    011D7 C1AE      RJMP	0x1386
(0175) 		  case 5:
(0176) 		   Set_White_off(6,3,7);
    011D8 E087      LDI	R24,7
    011D9 8388      ST	Y,R24
    011DA E023      LDI	R18,3
    011DB E006      LDI	R16,6
    011DC 940E 0850 CALL	_Set_White_off
(0177) 		   Set_White(7,2,8);
    011DE E088      LDI	R24,0x8
    011DF 8388      ST	Y,R24
    011E0 E022      LDI	R18,2
    011E1 E007      LDI	R16,7
    011E2 940E 08C0 CALL	_Set_White
(0178) 		   cur=3;
    011E4 E043      LDI	R20,3
    011E5 E050      LDI	R21,0
(0179) 		   break;
    011E6 C19F      RJMP	0x1386
(0180) 		  case 6:
(0181) 		   Set_White_off(10,3,11);
    011E7 E08B      LDI	R24,0xB
    011E8 8388      ST	Y,R24
    011E9 E023      LDI	R18,3
    011EA E00A      LDI	R16,0xA
    011EB 940E 0850 CALL	_Set_White_off
(0182) 		   Set_White(7,2,8);
    011ED E088      LDI	R24,0x8
    011EE 8388      ST	Y,R24
    011EF E022      LDI	R18,2
    011F0 E007      LDI	R16,7
    011F1 940E 08C0 CALL	_Set_White
(0183) 		   cur=3;
    011F3 E043      LDI	R20,3
    011F4 E050      LDI	R21,0
(0184) 		   break;
(0185) 		  default:
(0186) 		   break;
(0187) 		 }
(0188) 	}else if(keyV=='l'){switch(cur){
    011F5 C190      RJMP	0x1386
    011F6 2D8A      MOV	R24,R10
    011F7 368C      CPI	R24,0x6C
    011F8 F009      BEQ	0x11FA
    011F9 C04D      RJMP	0x1247
    011FA 3041      CPI	R20,1
    011FB E0E0      LDI	R30,0
    011FC 075E      CPC	R21,R30
    011FD F069      BEQ	0x120B
    011FE 3043      CPI	R20,3
    011FF E0E0      LDI	R30,0
    01200 075E      CPC	R21,R30
    01201 F0C1      BEQ	0x121A
    01202 3045      CPI	R20,5
    01203 E0E0      LDI	R30,0
    01204 075E      CPC	R21,R30
    01205 F119      BEQ	0x1229
    01206 3046      CPI	R20,6
    01207 E0E0      LDI	R30,0
    01208 075E      CPC	R21,R30
    01209 F171      BEQ	0x1238
    0120A C17B      RJMP	0x1386
(0189) 		  case 1:
(0190) 		   Set_White_off(7,1,8);
    0120B E088      LDI	R24,0x8
    0120C 8388      ST	Y,R24
    0120D E021      LDI	R18,1
    0120E E007      LDI	R16,7
    0120F 940E 0850 CALL	_Set_White_off
(0191) 		   Set_White(2,1,3);
    01211 E083      LDI	R24,3
    01212 8388      ST	Y,R24
    01213 E021      LDI	R18,1
    01214 E002      LDI	R16,2
    01215 940E 08C0 CALL	_Set_White
(0192) 		   cur=0;
    01217 2744      CLR	R20
    01218 2755      CLR	R21
(0193) 		   break;
    01219 C16C      RJMP	0x1386
(0194) 		  case 3:
(0195) 		   Set_White_off(7,2,8);
    0121A E088      LDI	R24,0x8
    0121B 8388      ST	Y,R24
    0121C E022      LDI	R18,2
    0121D E007      LDI	R16,7
    0121E 940E 0850 CALL	_Set_White_off
(0196) 		   Set_White(2,2,3);
    01220 E083      LDI	R24,3
    01221 8388      ST	Y,R24
    01222 E022      LDI	R18,2
    01223 E002      LDI	R16,2
    01224 940E 08C0 CALL	_Set_White
(0197) 		   cur=2;
    01226 E042      LDI	R20,2
    01227 E050      LDI	R21,0
(0198) 		   break;
    01228 C15D      RJMP	0x1386
(0199) 		  case 5:
(0200) 		   Set_White_off(6,3,7);
    01229 E087      LDI	R24,7
    0122A 8388      ST	Y,R24
    0122B E023      LDI	R18,3
    0122C E006      LDI	R16,6
    0122D 940E 0850 CALL	_Set_White_off
(0201) 		   Set_White(2,3,3);
    0122F E083      LDI	R24,3
    01230 8388      ST	Y,R24
    01231 E023      LDI	R18,3
    01232 E002      LDI	R16,2
    01233 940E 08C0 CALL	_Set_White
(0202) 		   cur=4;
    01235 E044      LDI	R20,4
    01236 E050      LDI	R21,0
(0203) 		   break;
    01237 C14E      RJMP	0x1386
(0204) 		  case 6:
(0205) 		   Set_White_off(10,3,11);
    01238 E08B      LDI	R24,0xB
    01239 8388      ST	Y,R24
    0123A E023      LDI	R18,3
    0123B E00A      LDI	R16,0xA
    0123C 940E 0850 CALL	_Set_White_off
(0206) 		   Set_White(6,3,7);
    0123E E087      LDI	R24,7
    0123F 8388      ST	Y,R24
    01240 E023      LDI	R18,3
    01241 E006      LDI	R16,6
    01242 940E 08C0 CALL	_Set_White
(0207) 		   cur=5;
    01244 E045      LDI	R20,5
    01245 E050      LDI	R21,0
(0208) 		   break;
(0209) 		  default:
(0210) 		   break;
(0211) 		 }
(0212) 	}else if(keyV=='r'){
    01246 C13F      RJMP	0x1386
    01247 2D8A      MOV	R24,R10
    01248 3782      CPI	R24,0x72
    01249 F009      BEQ	0x124B
    0124A C04C      RJMP	0x1297
(0213) 	switch(cur){
    0124B 3040      CPI	R20,0
    0124C 0745      CPC	R20,R21
    0124D F069      BEQ	0x125B
    0124E 3042      CPI	R20,2
    0124F E0E0      LDI	R30,0
    01250 075E      CPC	R21,R30
    01251 F0C1      BEQ	0x126A
    01252 3044      CPI	R20,4
    01253 E0E0      LDI	R30,0
    01254 075E      CPC	R21,R30
    01255 F119      BEQ	0x1279
    01256 3045      CPI	R20,5
    01257 E0E0      LDI	R30,0
    01258 075E      CPC	R21,R30
    01259 F171      BEQ	0x1288
    0125A C12B      RJMP	0x1386
(0214) 		  case 0:
(0215) 		   Set_White_off(2,1,3);
    0125B E083      LDI	R24,3
    0125C 8388      ST	Y,R24
    0125D E021      LDI	R18,1
    0125E E002      LDI	R16,2
    0125F 940E 0850 CALL	_Set_White_off
(0216) 		   Set_White(7,1,8);
    01261 E088      LDI	R24,0x8
    01262 8388      ST	Y,R24
    01263 E021      LDI	R18,1
    01264 E007      LDI	R16,7
    01265 940E 08C0 CALL	_Set_White
(0217) 		   cur=1;
    01267 E041      LDI	R20,1
    01268 E050      LDI	R21,0
(0218) 		   break;
    01269 C11C      RJMP	0x1386
(0219) 		  case 2:
(0220) 		   Set_White_off(2,2,3);
    0126A E083      LDI	R24,3
    0126B 8388      ST	Y,R24
    0126C E022      LDI	R18,2
    0126D E002      LDI	R16,2
    0126E 940E 0850 CALL	_Set_White_off
(0221) 		   Set_White(7,2,8);
    01270 E088      LDI	R24,0x8
    01271 8388      ST	Y,R24
    01272 E022      LDI	R18,2
    01273 E007      LDI	R16,7
    01274 940E 08C0 CALL	_Set_White
(0222) 		   cur=3;
    01276 E043      LDI	R20,3
    01277 E050      LDI	R21,0
(0223) 		   break;
    01278 C10D      RJMP	0x1386
(0224) 		  case 4:
(0225) 		   Set_White_off(2,3,3);
    01279 E083      LDI	R24,3
    0127A 8388      ST	Y,R24
    0127B E023      LDI	R18,3
    0127C E002      LDI	R16,2
    0127D 940E 0850 CALL	_Set_White_off
(0226) 		   Set_White(6,3,7);
    0127F E087      LDI	R24,7
    01280 8388      ST	Y,R24
    01281 E023      LDI	R18,3
    01282 E006      LDI	R16,6
    01283 940E 08C0 CALL	_Set_White
(0227) 		   cur=5;
    01285 E045      LDI	R20,5
    01286 E050      LDI	R21,0
(0228) 		   break;
    01287 C0FE      RJMP	0x1386
(0229) 		  case 5:
(0230) 		   Set_White_off(6,3,7);
    01288 E087      LDI	R24,7
    01289 8388      ST	Y,R24
    0128A E023      LDI	R18,3
    0128B E006      LDI	R16,6
    0128C 940E 0850 CALL	_Set_White_off
(0231) 		   Set_White(10,3,11);
    0128E E08B      LDI	R24,0xB
    0128F 8388      ST	Y,R24
    01290 E023      LDI	R18,3
    01291 E00A      LDI	R16,0xA
    01292 940E 08C0 CALL	_Set_White
(0232) 		   cur=6;
    01294 E046      LDI	R20,6
    01295 E050      LDI	R21,0
(0233) 		   break;
(0234) 		  default:
(0235) 		   break;
(0236) 		 }
(0237) 	}else if(keyV=='s'){
    01296 C0EF      RJMP	0x1386
    01297 2D8A      MOV	R24,R10
    01298 3783      CPI	R24,0x73
    01299 F009      BEQ	0x129B
    0129A C053      RJMP	0x12EE
(0238) 	   pageNum=5;
    0129B E085      LDI	R24,5
    0129C E090      LDI	R25,0
    0129D 9390 0D61 STS	pageNum+1,R25
    0129F 9380 0D60 STS	pageNum,R24
(0239) 	   switch(cur){
    012A1 3040      CPI	R20,0
    012A2 0745      CPC	R20,R21
    012A3 F0C9      BEQ	0x12BD
    012A4 3041      CPI	R20,1
    012A5 E0E0      LDI	R30,0
    012A6 075E      CPC	R21,R30
    012A7 F0E1      BEQ	0x12C4
    012A8 3042      CPI	R20,2
    012A9 E0E0      LDI	R30,0
    012AA 075E      CPC	R21,R30
    012AB F0F9      BEQ	0x12CB
    012AC 3043      CPI	R20,3
    012AD E0E0      LDI	R30,0
    012AE 075E      CPC	R21,R30
    012AF F111      BEQ	0x12D2
    012B0 3044      CPI	R20,4
    012B1 E0E0      LDI	R30,0
    012B2 075E      CPC	R21,R30
    012B3 F129      BEQ	0x12D9
    012B4 3045      CPI	R20,5
    012B5 E0E0      LDI	R30,0
    012B6 075E      CPC	R21,R30
    012B7 F141      BEQ	0x12E0
    012B8 3046      CPI	R20,6
    012B9 E0E0      LDI	R30,0
    012BA 075E      CPC	R21,R30
    012BB F159      BEQ	0x12E7
    012BC C0CA      RJMP	0x1387
(0240) 		 case 0: 
(0241) 		    Set_White_off(2,1,3);
    012BD E083      LDI	R24,3
    012BE 8388      ST	Y,R24
    012BF E021      LDI	R18,1
    012C0 E002      LDI	R16,2
    012C1 940E 0850 CALL	_Set_White_off
(0242) 		    break;
    012C3 C0C3      RJMP	0x1387
(0243) 		 case 1:
(0244) 		   Set_White_off(7,1,8);
    012C4 E088      LDI	R24,0x8
    012C5 8388      ST	Y,R24
    012C6 E021      LDI	R18,1
    012C7 E007      LDI	R16,7
    012C8 940E 0850 CALL	_Set_White_off
(0245) 		   break;
    012CA C0BC      RJMP	0x1387
(0246) 		 case 2:
(0247) 		  Set_White_off(2,2,3);
    012CB E083      LDI	R24,3
    012CC 8388      ST	Y,R24
    012CD E022      LDI	R18,2
    012CE E002      LDI	R16,2
    012CF 940E 0850 CALL	_Set_White_off
(0248) 		  break;
    012D1 C0B5      RJMP	0x1387
(0249) 		 case 3:
(0250) 		   Set_White_off(7,2,8);
    012D2 E088      LDI	R24,0x8
    012D3 8388      ST	Y,R24
    012D4 E022      LDI	R18,2
    012D5 E007      LDI	R16,7
    012D6 940E 0850 CALL	_Set_White_off
(0251) 		    break;
    012D8 C0AE      RJMP	0x1387
(0252) 		 case 4:
(0253) 		    Set_White_off(2,3,3);
    012D9 E083      LDI	R24,3
    012DA 8388      ST	Y,R24
    012DB E023      LDI	R18,3
    012DC E002      LDI	R16,2
    012DD 940E 0850 CALL	_Set_White_off
(0254) 		    break;
    012DF C0A7      RJMP	0x1387
(0255) 		case 5:
(0256) 		    Set_White_off(6,3,7);
    012E0 E087      LDI	R24,7
    012E1 8388      ST	Y,R24
    012E2 E023      LDI	R18,3
    012E3 E006      LDI	R16,6
    012E4 940E 0850 CALL	_Set_White_off
(0257) 		    break;
    012E6 C0A0      RJMP	0x1387
(0258) 		 case 6:
(0259) 		   Set_White_off(10,3,11);
    012E7 E08B      LDI	R24,0xB
    012E8 8388      ST	Y,R24
    012E9 E023      LDI	R18,3
    012EA E00A      LDI	R16,0xA
    012EB 940E 0850 CALL	_Set_White_off
(0260) 		    break;
(0261) 		  default:
(0262) 		   break;
(0263) 		 }
(0264) 	   return ;
    012ED C099      RJMP	0x1387
(0265) 	}else if(keyV=='t'){
    012EE 2D8A      MOV	R24,R10
    012EF 3784      CPI	R24,0x74
    012F0 F009      BEQ	0x12F2
    012F1 C094      RJMP	0x1386
(0266) 	   switch(cur){
    012F2 3040      CPI	R20,0
    012F3 0745      CPC	R20,R21
    012F4 F0F1      BEQ	0x1313
    012F5 3041      CPI	R20,1
    012F6 E0E0      LDI	R30,0
    012F7 075E      CPC	R21,R30
    012F8 F191      BEQ	0x132B
    012F9 3042      CPI	R20,2
    012FA E0E0      LDI	R30,0
    012FB 075E      CPC	R21,R30
    012FC F409      BNE	0x12FE
    012FD C043      RJMP	0x1341
    012FE 3043      CPI	R20,3
    012FF E0E0      LDI	R30,0
    01300 075E      CPC	R21,R30
    01301 F409      BNE	0x1303
    01302 C055      RJMP	0x1358
    01303 3044      CPI	R20,4
    01304 E0E0      LDI	R30,0
    01305 075E      CPC	R21,R30
    01306 F409      BNE	0x1308
    01307 C066      RJMP	0x136E
    01308 3045      CPI	R20,5
    01309 E0E0      LDI	R30,0
    0130A 075E      CPC	R21,R30
    0130B F409      BNE	0x130D
    0130C C064      RJMP	0x1371
    0130D 3046      CPI	R20,6
    0130E E0E0      LDI	R30,0
    0130F 075E      CPC	R21,R30
    01310 F409      BNE	0x1312
    01311 C062      RJMP	0x1374
    01312 C073      RJMP	0x1386
(0267) 		 case 0: 
(0268) 		    Set_White_off(2,1,3);
    01313 E083      LDI	R24,3
    01314 8388      ST	Y,R24
    01315 E021      LDI	R18,1
    01316 E002      LDI	R16,2
    01317 940E 0850 CALL	_Set_White_off
(0269) 		    prePageNum=1;
    01319 E081      LDI	R24,1
    0131A E090      LDI	R25,0
    0131B 9390 0D55 STS	prePageNum+1,R25
    0131D 9380 0D54 STS	prePageNum,R24
(0270) 		    pageParam[0]=0;//传递使用第一个，对应不同的温度
    0131F 2422      CLR	R2
    01320 2433      CLR	R3
    01321 9230 0D57 STS	pageParam+1,R3
    01323 9220 0D56 STS	pageParam,R2
(0271) 		    pageNum=3;
    01325 E083      LDI	R24,3
    01326 9390 0D61 STS	pageNum+1,R25
    01328 9380 0D60 STS	pageNum,R24
(0272) 		    return;
    0132A C05C      RJMP	0x1387
(0273) 		 case 1:
(0274) 		   Set_White_off(7,1,8);
    0132B E088      LDI	R24,0x8
    0132C 8388      ST	Y,R24
    0132D E021      LDI	R18,1
    0132E E007      LDI	R16,7
    0132F 940E 0850 CALL	_Set_White_off
(0275) 		    prePageNum=1;
    01331 E081      LDI	R24,1
    01332 E090      LDI	R25,0
    01333 9390 0D55 STS	prePageNum+1,R25
    01335 9380 0D54 STS	prePageNum,R24
(0276) 		   pageParam[0]=1;//传递使用第一个，对应不同的温度
    01337 9390 0D57 STS	pageParam+1,R25
    01339 9380 0D56 STS	pageParam,R24
(0277) 		    pageNum=3;
    0133B E083      LDI	R24,3
    0133C 9390 0D61 STS	pageNum+1,R25
    0133E 9380 0D60 STS	pageNum,R24
(0278) 		    return;
    01340 C046      RJMP	0x1387
(0279) 		 case 2:
(0280) 		  Set_White_off(2,2,3);
    01341 E083      LDI	R24,3
    01342 8388      ST	Y,R24
    01343 E022      LDI	R18,2
    01344 E002      LDI	R16,2
    01345 940E 0850 CALL	_Set_White_off
(0281) 		    prePageNum=1;
    01347 E081      LDI	R24,1
    01348 E090      LDI	R25,0
    01349 9390 0D55 STS	prePageNum+1,R25
    0134B 9380 0D54 STS	prePageNum,R24
(0282) 		    pageParam[0]=2;//传递使用第一个，对应不同的温度
    0134D E082      LDI	R24,2
    0134E 9390 0D57 STS	pageParam+1,R25
    01350 9380 0D56 STS	pageParam,R24
(0283) 		   pageNum=3;
    01352 E083      LDI	R24,3
    01353 9390 0D61 STS	pageNum+1,R25
    01355 9380 0D60 STS	pageNum,R24
(0284) 		   return;
    01357 C02F      RJMP	0x1387
(0285) 		 case 3:
(0286) 		   Set_White_off(7,2,8);
    01358 E088      LDI	R24,0x8
    01359 8388      ST	Y,R24
    0135A E022      LDI	R18,2
    0135B E007      LDI	R16,7
    0135C 940E 0850 CALL	_Set_White_off
(0287) 		     prePageNum=1;
    0135E E081      LDI	R24,1
    0135F E090      LDI	R25,0
    01360 9390 0D55 STS	prePageNum+1,R25
    01362 9380 0D54 STS	prePageNum,R24
(0288) 		    pageParam[0]=3;//传递使用第一个，对应不同的温度
    01364 E083      LDI	R24,3
    01365 9390 0D57 STS	pageParam+1,R25
    01367 9380 0D56 STS	pageParam,R24
(0289) 		    pageNum=3;
    01369 9390 0D61 STS	pageNum+1,R25
    0136B 9380 0D60 STS	pageNum,R24
(0290) 		    return;
    0136D C019      RJMP	0x1387
(0291) 		 case 4:
(0292) 		    //调用函数全部开始，参数正确的
(0293) 			set_all_start();
    0136E 940E 32FB CALL	_set_all_start
(0294) 		   break;
    01370 C015      RJMP	0x1386
(0295) 		 case 5:
(0296) 		    //全部停止
(0297) 			set_all_stop();
    01371 940E 3347 CALL	_set_all_stop
(0298) 		   break;
    01373 C012      RJMP	0x1386
(0299) 		 case 6://设置
(0300) 		   Set_White_off(10,3,11);
    01374 E08B      LDI	R24,0xB
    01375 8388      ST	Y,R24
    01376 E023      LDI	R18,3
    01377 E00A      LDI	R16,0xA
    01378 940E 0850 CALL	_Set_White_off
(0301) 		   prePageNum=1;
    0137A E081      LDI	R24,1
    0137B E090      LDI	R25,0
    0137C 9390 0D55 STS	prePageNum+1,R25
    0137E 9380 0D54 STS	prePageNum,R24
(0302) 		   pageNum=5;
    01380 E085      LDI	R24,5
    01381 9390 0D61 STS	pageNum+1,R25
    01383 9380 0D60 STS	pageNum,R24
(0303) 		    return;
    01385 C001      RJMP	0x1387
    01386 CC76      RJMP	0x0FFD
    01387 9622      ADIW	R28,2
    01388 940C 37D6 JMP	pop_xgsetF03C
_page2:
  ft2                  --> R10
  ft1                  --> R12
  ft0                  --> R14
  ft3                  --> R22
  cur                  --> R20
  keyV                 --> R10
    0138A 940E 3792 CALL	push_xgsetF0FC
    0138C 9722      SBIW	R28,2
(0304) 		  default:
(0305) 		   break;
(0306) 		 }
(0307) 	
(0308) 	}
(0309)   }
(0310)    return;
(0311) }
(0312)  void page2(void){
(0313)    uint cur=0;
    0138D 2744      CLR	R20
    0138E 2755      CLR	R21
(0314)    uchar keyV;
(0315)    uint ft0,ft1,ft2,ft3;
(0316)    ft0=EEPROM_read(1,0);
    0138F 2722      CLR	R18
    01390 2733      CLR	R19
    01391 E001      LDI	R16,1
    01392 E010      LDI	R17,0
    01393 940E 0F75 CALL	_EEPROM_read
    01395 0178      MOVW	R14,R16
(0317)    ft1=EEPROM_read(2,0);
    01396 2722      CLR	R18
    01397 2733      CLR	R19
    01398 E002      LDI	R16,2
    01399 E010      LDI	R17,0
    0139A 940E 0F75 CALL	_EEPROM_read
    0139C 0168      MOVW	R12,R16
(0318)    ft2=EEPROM_read(3,0);
    0139D 2722      CLR	R18
    0139E 2733      CLR	R19
    0139F E003      LDI	R16,3
    013A0 E010      LDI	R17,0
    013A1 940E 0F75 CALL	_EEPROM_read
    013A3 0158      MOVW	R10,R16
(0319)    ft3=EEPROM_read(4,0);
    013A4 2722      CLR	R18
    013A5 2733      CLR	R19
    013A6 E004      LDI	R16,4
    013A7 E010      LDI	R17,0
    013A8 940E 0F75 CALL	_EEPROM_read
    013AA 01B8      MOVW	R22,R16
(0320)  if(!(ft0==0 && ft1==0 && ft2==0 && ft3==0)){//判断是否有数据，任何一个有数据就询问是否恢复
    013AB 20EE      TST	R14
    013AC F471      BNE	0x13BB
    013AD 20FF      TST	R15
    013AE F461      BNE	0x13BB
    013AF 20CC      TST	R12
    013B0 F451      BNE	0x13BB
    013B1 20DD      TST	R13
    013B2 F441      BNE	0x13BB
    013B3 20AA      TST	R10
    013B4 F431      BNE	0x13BB
    013B5 20BB      TST	R11
    013B6 F421      BNE	0x13BB
    013B7 3000      CPI	R16,0
    013B8 0701      CPC	R16,R17
    013B9 F409      BNE	0x13BB
    013BA C0EA      RJMP	0x14A5
(0321)    //初始画面，会有读取EEPROM的判断默认操作，本次只是画界面
(0322)    lcd_write_str(2,0,"是否恢复上次工作");
    013BB E482      LDI	R24,0x42
    013BC E098      LDI	R25,0x8
    013BD 8399      STD	Y+1,R25
    013BE 8388      ST	Y,R24
    013BF 2722      CLR	R18
    013C0 E002      LDI	R16,2
    013C1 940E 069B CALL	_lcd_write_str
(0323)    lcd_write_str(2,2,"恢复");
    013C3 E38D      LDI	R24,0x3D
    013C4 E098      LDI	R25,0x8
    013C5 8399      STD	Y+1,R25
    013C6 8388      ST	Y,R24
    013C7 E022      LDI	R18,2
    013C8 E002      LDI	R16,2
    013C9 940E 069B CALL	_lcd_write_str
(0324)    lcd_write_str(8,2,"取消");
    013CB E388      LDI	R24,0x38
    013CC E098      LDI	R25,0x8
    013CD 8399      STD	Y+1,R25
    013CE 8388      ST	Y,R24
    013CF E022      LDI	R18,2
    013D0 E008      LDI	R16,0x8
    013D1 940E 069B CALL	_lcd_write_str
(0325)    ft3=EEPROM_read(0,0);//复用读取首选项
    013D3 2722      CLR	R18
    013D4 2733      CLR	R19
    013D5 2700      CLR	R16
    013D6 2711      CLR	R17
    013D7 940E 0F75 CALL	_EEPROM_read
    013D9 0158      MOVW	R10,R16
    013DA 01B5      MOVW	R22,R10
(0326)    if(ft3==1){//默认恢复
    013DB 3001      CPI	R16,1
    013DC E0E0      LDI	R30,0
    013DD 071E      CPC	R17,R30
    013DE F449      BNE	0x13E8
(0327)      cur=0;
    013DF 2744      CLR	R20
    013E0 2755      CLR	R21
(0328)      Set_White(3,2,4);
    013E1 E084      LDI	R24,4
    013E2 8388      ST	Y,R24
    013E3 E022      LDI	R18,2
    013E4 E003      LDI	R16,3
    013E5 940E 08C0 CALL	_Set_White
(0329)    }else{
    013E7 C008      RJMP	0x13F0
(0330)      cur=1;
    013E8 E041      LDI	R20,1
    013E9 E050      LDI	R21,0
(0331)      Set_White(9,2,10);
    013EA E08A      LDI	R24,0xA
    013EB 8388      ST	Y,R24
    013EC E022      LDI	R18,2
    013ED E009      LDI	R16,0x9
    013EE 940E 08C0 CALL	_Set_White
(0332)    }
(0333)    Timerinit_0(0x00); //使用定时器，定时一段时间更改标记，while中读取这个标记确定是否结束while
    013F0 2700      CLR	R16
    013F1 940E 0A20 CALL	_Timerinit_0
    013F3 C0B0      RJMP	0x14A4
(0334)     while(1){
(0335) 	if(waitflag==1){
    013F4 9180 0110 LDS	R24,waitflag
    013F6 9190 0111 LDS	R25,waitflag+1
    013F8 3081      CPI	R24,1
    013F9 E0E0      LDI	R30,0
    013FA 079E      CPC	R25,R30
    013FB F531      BNE	0x1422
(0336) 	  //执行相关操作
(0337) 		   Set_White_off(9,2,10);
    013FC E08A      LDI	R24,0xA
    013FD 8388      ST	Y,R24
    013FE E022      LDI	R18,2
    013FF E009      LDI	R16,0x9
    01400 940E 0850 CALL	_Set_White_off
(0338) 		    Set_White_off(3,2,4);
    01402 E084      LDI	R24,4
    01403 8388      ST	Y,R24
    01404 E022      LDI	R18,2
    01405 E003      LDI	R16,3
    01406 940E 0850 CALL	_Set_White_off
(0339) 			if(cur==0){
    01408 3040      CPI	R20,0
    01409 0745      CPC	R20,R21
    0140A F481      BNE	0x141B
(0340) 			  lcd_clear();
    0140B 940E 0752 CALL	_lcd_clear
(0341) 			  lcd_write_str(5,2,"恢复中. . .");
    0140D E28C      LDI	R24,0x2C
    0140E E098      LDI	R25,0x8
    0140F 8399      STD	Y+1,R25
    01410 8388      ST	Y,R24
    01411 E022      LDI	R18,2
    01412 E005      LDI	R16,5
    01413 940E 069B CALL	_lcd_write_str
(0342) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    01415 940E 301C CALL	_data_recover
(0343) 			  delay_ms(200);
    01417 EC08      LDI	R16,0xC8
    01418 E010      LDI	R17,0
    01419 940E 044B CALL	_delay_ms
(0344) 			}
(0345) 		  pageNum=1;
    0141B E081      LDI	R24,1
    0141C E090      LDI	R25,0
    0141D 9390 0D61 STS	pageNum+1,R25
    0141F 9380 0D60 STS	pageNum,R24
(0346) 		  return;
    01421 C089      RJMP	0x14AB
(0347) 	  }
(0348)       keyV=KeyScan_once();
    01422 940E 0538 CALL	_KeyScan_once
    01424 2EA0      MOV	R10,R16
(0349) 	  switch(keyV){
    01425 2D6A      MOV	R22,R10
    01426 2777      CLR	R23
    01427 366C      CPI	R22,0x6C
    01428 E0E0      LDI	R30,0
    01429 077E      CPC	R23,R30
    0142A F079      BEQ	0x143A
    0142B 366C      CPI	R22,0x6C
    0142C E0E0      LDI	R30,0
    0142D 077E      CPC	R23,R30
    0142E F40C      BGE	0x1430
    0142F C074      RJMP	0x14A4
    01430 3762      CPI	R22,0x72
    01431 E0E0      LDI	R30,0
    01432 077E      CPC	R23,R30
    01433 F141      BEQ	0x145C
    01434 3764      CPI	R22,0x74
    01435 E0E0      LDI	R30,0
    01436 077E      CPC	R23,R30
    01437 F409      BNE	0x1439
    01438 C043      RJMP	0x147C
    01439 C06A      RJMP	0x14A4
(0350) 	    case 'l':
(0351) 		   TCCR0=0x00;//定时器停止
    0143A 2422      CLR	R2
    0143B BE23      OUT	0x33,R2
(0352) 		   lcd_write_char(10,0,' ');
    0143C E280      LDI	R24,0x20
    0143D 8388      ST	Y,R24
    0143E 2722      CLR	R18
    0143F E00A      LDI	R16,0xA
    01440 940E 0675 CALL	_lcd_write_char
(0353) 	       lcd_write_char(11,0,' ');	
    01442 E280      LDI	R24,0x20
    01443 8388      ST	Y,R24
    01444 2722      CLR	R18
    01445 E00B      LDI	R16,0xB
    01446 940E 0675 CALL	_lcd_write_char
(0354) 		   if(cur==1){
    01448 3041      CPI	R20,1
    01449 E0E0      LDI	R30,0
    0144A 075E      CPC	R21,R30
    0144B F009      BEQ	0x144D
    0144C C057      RJMP	0x14A4
(0355) 		      Set_White_off(9,2,10);
    0144D E08A      LDI	R24,0xA
    0144E 8388      ST	Y,R24
    0144F E022      LDI	R18,2
    01450 E009      LDI	R16,0x9
    01451 940E 0850 CALL	_Set_White_off
(0356) 		      Set_White(3,2,4);
    01453 E084      LDI	R24,4
    01454 8388      ST	Y,R24
    01455 E022      LDI	R18,2
    01456 E003      LDI	R16,3
    01457 940E 08C0 CALL	_Set_White
(0357) 			  cur=0;
    01459 2744      CLR	R20
    0145A 2755      CLR	R21
(0358) 		   }
(0359) 		   break;
    0145B C048      RJMP	0x14A4
(0360) 		case 'r':
(0361) 		   TCCR0=0x00;//定时器停止
    0145C 2422      CLR	R2
    0145D BE23      OUT	0x33,R2
(0362) 		   lcd_write_char(10,0,' ');
    0145E E280      LDI	R24,0x20
    0145F 8388      ST	Y,R24
    01460 2722      CLR	R18
    01461 E00A      LDI	R16,0xA
    01462 940E 0675 CALL	_lcd_write_char
(0363) 	       lcd_write_char(11,0,' ');	
    01464 E280      LDI	R24,0x20
    01465 8388      ST	Y,R24
    01466 2722      CLR	R18
    01467 E00B      LDI	R16,0xB
    01468 940E 0675 CALL	_lcd_write_char
(0364) 		   if(cur==0){
    0146A 3040      CPI	R20,0
    0146B 0745      CPC	R20,R21
    0146C F5B9      BNE	0x14A4
(0365) 		      Set_White_off(3,2,4);
    0146D E084      LDI	R24,4
    0146E 8388      ST	Y,R24
    0146F E022      LDI	R18,2
    01470 E003      LDI	R16,3
    01471 940E 0850 CALL	_Set_White_off
(0366) 		      Set_White(9,2,10);
    01473 E08A      LDI	R24,0xA
    01474 8388      ST	Y,R24
    01475 E022      LDI	R18,2
    01476 E009      LDI	R16,0x9
    01477 940E 08C0 CALL	_Set_White
(0367) 			  cur=1;
    01479 E041      LDI	R20,1
    0147A E050      LDI	R21,0
(0368) 		   }
(0369) 		   
(0370) 		  break;
    0147B C028      RJMP	0x14A4
(0371) 		case 't':
(0372) 		  //执行相关操作
(0373) 		   TCCR0=0x00;//定时器停止
    0147C 2422      CLR	R2
    0147D BE23      OUT	0x33,R2
(0374) 		   Set_White_off(9,2,10);
    0147E E08A      LDI	R24,0xA
    0147F 8388      ST	Y,R24
    01480 E022      LDI	R18,2
    01481 E009      LDI	R16,0x9
    01482 940E 0850 CALL	_Set_White_off
(0375) 		    Set_White_off(3,2,4);
    01484 E084      LDI	R24,4
    01485 8388      ST	Y,R24
    01486 E022      LDI	R18,2
    01487 E003      LDI	R16,3
    01488 940E 0850 CALL	_Set_White_off
(0376) 			if(cur==0){
    0148A 3040      CPI	R20,0
    0148B 0745      CPC	R20,R21
    0148C F481      BNE	0x149D
(0377) 			  lcd_clear();
    0148D 940E 0752 CALL	_lcd_clear
(0378) 			  lcd_write_str(5,2,"恢复中. . .");
    0148F E28C      LDI	R24,0x2C
    01490 E098      LDI	R25,0x8
    01491 8399      STD	Y+1,R25
    01492 8388      ST	Y,R24
    01493 E022      LDI	R18,2
    01494 E005      LDI	R16,5
    01495 940E 069B CALL	_lcd_write_str
(0379) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    01497 940E 301C CALL	_data_recover
(0380) 			  delay_ms(200);
    01499 EC08      LDI	R16,0xC8
    0149A E010      LDI	R17,0
    0149B 940E 044B CALL	_delay_ms
(0381) 			}
(0382) 		  pageNum=1;
    0149D E081      LDI	R24,1
    0149E E090      LDI	R25,0
    0149F 9390 0D61 STS	pageNum+1,R25
    014A1 9380 0D60 STS	pageNum,R24
(0383) 		  return;
    014A3 C007      RJMP	0x14AB
    014A4 CF4F      RJMP	0x13F4
(0384) 	  }
(0385) 	}
(0386)   }else{
(0387)      pageNum=1;
    014A5 E081      LDI	R24,1
    014A6 E090      LDI	R25,0
    014A7 9390 0D61 STS	pageNum+1,R25
    014A9 9380 0D60 STS	pageNum,R24
(0388)      return;
    014AB 9622      ADIW	R28,2
    014AC 940C 3787 JMP	pop_xgsetF0FC
_page3:
  cur                  --> R20
  timecache            --> R22
  keyV                 --> R22
    014AE 940E 37A7 CALL	push_xgsetF000
    014B0 9722      SBIW	R28,2
(0389)   }
(0390)  }
(0391)  void page3(void){
(0392)   uint cur=0;
    014B1 2744      CLR	R20
    014B2 2755      CLR	R21
(0393)    uchar keyV;
(0394)    uint timecache;
(0395)    lcd_write_str(0,0,"T");
    014B3 E28A      LDI	R24,0x2A
    014B4 E098      LDI	R25,0x8
    014B5 8399      STD	Y+1,R25
    014B6 8388      ST	Y,R24
    014B7 2722      CLR	R18
    014B8 2700      CLR	R16
    014B9 940E 069B CALL	_lcd_write_str
(0396)     lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    014BB 9120 0D56 LDS	R18,pageParam
    014BD 9130 0D57 LDS	R19,pageParam+1
    014BF 5F2F      SUBI	R18,0xFF
    014C0 4F3F      SBCI	R19,0xFF
    014C1 6320      ORI	R18,0x30
    014C2 2700      CLR	R16
    014C3 940E 0643 CALL	_lcd_write_char_con
(0397) 	lcd_write_char_con(0,':');
    014C5 E32A      LDI	R18,0x3A
    014C6 2700      CLR	R16
    014C7 940E 0643 CALL	_lcd_write_char_con
(0398)    lcd_write_str(1,1,"温度:");
    014C9 E284      LDI	R24,0x24
    014CA E098      LDI	R25,0x8
    014CB 8399      STD	Y+1,R25
    014CC 8388      ST	Y,R24
    014CD E021      LDI	R18,1
    014CE E001      LDI	R16,1
    014CF 940E 069B CALL	_lcd_write_str
(0399)    lcd_write_str(7,1,"目标:");
    014D1 E18E      LDI	R24,0x1E
    014D2 E098      LDI	R25,0x8
    014D3 8399      STD	Y+1,R25
    014D4 8388      ST	Y,R24
    014D5 E021      LDI	R18,1
    014D6 E007      LDI	R16,7
    014D7 940E 069B CALL	_lcd_write_str
(0400)    lcd_write_str(1,2,"状态:");
    014D9 E188      LDI	R24,0x18
    014DA E098      LDI	R25,0x8
    014DB 8399      STD	Y+1,R25
    014DC 8388      ST	Y,R24
    014DD E022      LDI	R18,2
    014DE E001      LDI	R16,1
    014DF 940E 069B CALL	_lcd_write_str
(0401)    lcd_write_str(0,3,"编辑");
    014E1 E183      LDI	R24,0x13
    014E2 E098      LDI	R25,0x8
    014E3 8399      STD	Y+1,R25
    014E4 8388      ST	Y,R24
    014E5 E023      LDI	R18,3
    014E6 2700      CLR	R16
    014E7 940E 069B CALL	_lcd_write_str
(0402)    lcd_write_str(3,3,"运行");
    014E9 E08E      LDI	R24,0xE
    014EA E098      LDI	R25,0x8
    014EB 8399      STD	Y+1,R25
    014EC 8388      ST	Y,R24
    014ED E023      LDI	R18,3
    014EE E003      LDI	R16,3
    014EF 940E 069B CALL	_lcd_write_str
(0403)    lcd_write_str(7,3,"暂停");
    014F1 E58D      LDI	R24,0x5D
    014F2 E098      LDI	R25,0x8
    014F3 8399      STD	Y+1,R25
    014F4 8388      ST	Y,R24
    014F5 E023      LDI	R18,3
    014F6 E007      LDI	R16,7
    014F7 940E 069B CALL	_lcd_write_str
(0404)    lcd_write_str(10,3,"重置");
    014F9 E089      LDI	R24,0x9
    014FA E098      LDI	R25,0x8
    014FB 8399      STD	Y+1,R25
    014FC 8388      ST	Y,R24
    014FD E023      LDI	R18,3
    014FE E00A      LDI	R16,0xA
    014FF 940E 069B CALL	_lcd_write_str
(0405)    Set_White(1,3,2);
    01501 E082      LDI	R24,2
    01502 8388      ST	Y,R24
    01503 E023      LDI	R18,3
    01504 E001      LDI	R16,1
    01505 940E 08C0 CALL	_Set_White
    01507 C33B      RJMP	0x1843
(0406)    //Set_White(9,2,10);
(0407)     while(1){
(0408) 	lcd_write_pos(2,0);
    01508 2722      CLR	R18
    01509 E002      LDI	R16,2
    0150A 940E 0657 CALL	_lcd_write_pos
(0409) 	pageTime2(0);
    0150C 2700      CLR	R16
    0150D 2711      CLR	R17
    0150E DA8F      RCALL	_pageTime2
(0410) 	//写温度
(0411) 	if(temps[pageParam[0]].flag!=2){
    0150F 9120 0D56 LDS	R18,pageParam
    01511 9130 0D57 LDS	R19,pageParam+1
    01513 E404      LDI	R16,0x44
    01514 E011      LDI	R17,1
    01515 940E 376B CALL	empy16s
    01517 E186      LDI	R24,0x16
    01518 E091      LDI	R25,1
    01519 01F8      MOVW	R30,R16
    0151A 0FE8      ADD	R30,R24
    0151B 1FF9      ADC	R31,R25
    0151C 8180      LD	R24,Z
    0151D 8191      LDD	R25,Z+1
    0151E 3082      CPI	R24,2
    0151F E0E0      LDI	R30,0
    01520 079E      CPC	R25,R30
    01521 F409      BNE	0x1523
    01522 C068      RJMP	0x158B
(0412) 	  lcd_write_pos(4,1);
    01523 E021      LDI	R18,1
    01524 E004      LDI	R16,4
    01525 940E 0657 CALL	_lcd_write_pos
(0413) 	  lcd_write_char_con(1,0x30 | ((int)temps[pageParam[0]].actualtemp)/100);
    01527 9120 0D56 LDS	R18,pageParam
    01529 9130 0D57 LDS	R19,pageParam+1
    0152B E404      LDI	R16,0x44
    0152C E011      LDI	R17,1
    0152D 940E 376B CALL	empy16s
    0152F E38A      LDI	R24,0x3A
    01530 E092      LDI	R25,2
    01531 01F8      MOVW	R30,R16
    01532 0FE8      ADD	R30,R24
    01533 1FF9      ADC	R31,R25
    01534 8100      LD	R16,Z
    01535 8111      LDD	R17,Z+1
    01536 8122      LDD	R18,Z+2
    01537 8133      LDD	R19,Z+3
    01538 940E 38B8 CALL	fpint
    0153A E624      LDI	R18,0x64
    0153B E030      LDI	R19,0
    0153C 940E 3721 CALL	div16s
    0153E 0198      MOVW	R18,R16
    0153F 6320      ORI	R18,0x30
    01540 E001      LDI	R16,1
    01541 940E 0643 CALL	_lcd_write_char_con
(0414) 	  lcd_write_char_con(1,0x30 | (((int)temps[pageParam[0]].actualtemp)/10)%10);
    01543 9120 0D56 LDS	R18,pageParam
    01545 9130 0D57 LDS	R19,pageParam+1
    01547 E404      LDI	R16,0x44
    01548 E011      LDI	R17,1
    01549 940E 376B CALL	empy16s
    0154B E38A      LDI	R24,0x3A
    0154C E092      LDI	R25,2
    0154D 01F8      MOVW	R30,R16
    0154E 0FE8      ADD	R30,R24
    0154F 1FF9      ADC	R31,R25
    01550 8100      LD	R16,Z
    01551 8111      LDD	R17,Z+1
    01552 8122      LDD	R18,Z+2
    01553 8133      LDD	R19,Z+3
    01554 940E 38B8 CALL	fpint
    01556 E02A      LDI	R18,0xA
    01557 E030      LDI	R19,0
    01558 940E 3721 CALL	div16s
    0155A E02A      LDI	R18,0xA
    0155B E030      LDI	R19,0
    0155C 940E 371D CALL	mod16s
    0155E 0198      MOVW	R18,R16
    0155F 6320      ORI	R18,0x30
    01560 E001      LDI	R16,1
    01561 940E 0643 CALL	_lcd_write_char_con
(0415) 	  lcd_write_char_con(1,0x30 | ((int)temps[pageParam[0]].actualtemp)%10);
    01563 9120 0D56 LDS	R18,pageParam
    01565 9130 0D57 LDS	R19,pageParam+1
    01567 E404      LDI	R16,0x44
    01568 E011      LDI	R17,1
    01569 940E 376B CALL	empy16s
    0156B E38A      LDI	R24,0x3A
    0156C E092      LDI	R25,2
    0156D 01F8      MOVW	R30,R16
    0156E 0FE8      ADD	R30,R24
    0156F 1FF9      ADC	R31,R25
    01570 8100      LD	R16,Z
    01571 8111      LDD	R17,Z+1
    01572 8122      LDD	R18,Z+2
    01573 8133      LDD	R19,Z+3
    01574 940E 38B8 CALL	fpint
    01576 E02A      LDI	R18,0xA
    01577 E030      LDI	R19,0
    01578 940E 371D CALL	mod16s
    0157A 0198      MOVW	R18,R16
    0157B 6320      ORI	R18,0x30
    0157C E001      LDI	R16,1
    0157D 940E 0643 CALL	_lcd_write_char_con
(0416) 	  lcd_write_char_con(1,' ');
    0157F E220      LDI	R18,0x20
    01580 E001      LDI	R16,1
    01581 940E 0643 CALL	_lcd_write_char_con
(0417) 	  lcd_write_char_con(1,0xA1);
    01583 EA21      LDI	R18,0xA1
    01584 E001      LDI	R16,1
    01585 940E 0643 CALL	_lcd_write_char_con
(0418)       lcd_write_char_con(1,0xE6);
    01587 EE26      LDI	R18,0xE6
    01588 E001      LDI	R16,1
    01589 940E 0643 CALL	_lcd_write_char_con
(0419) 	}
(0420) 	//数据需要读入
(0421) 	lcd_write_pos(4,2);
    0158B E022      LDI	R18,2
    0158C E004      LDI	R16,4
    0158D 940E 0657 CALL	_lcd_write_pos
(0422) 	switch(temps[pageParam[0]].flag){
    0158F 9120 0D56 LDS	R18,pageParam
    01591 9130 0D57 LDS	R19,pageParam+1
    01593 E404      LDI	R16,0x44
    01594 E011      LDI	R17,1
    01595 940E 376B CALL	empy16s
    01597 E186      LDI	R24,0x16
    01598 E091      LDI	R25,1
    01599 01F8      MOVW	R30,R16
    0159A 0FE8      ADD	R30,R24
    0159B 1FF9      ADC	R31,R25
    0159C 8160      LD	R22,Z
    0159D 8171      LDD	R23,Z+1
    0159E 3060      CPI	R22,0
    0159F 0767      CPC	R22,R23
    015A0 F0F1      BEQ	0x15BF
    015A1 3061      CPI	R22,1
    015A2 E0E0      LDI	R30,0
    015A3 077E      CPC	R23,R30
    015A4 F101      BEQ	0x15C5
    015A5 3062      CPI	R22,2
    015A6 E0E0      LDI	R30,0
    015A7 077E      CPC	R23,R30
    015A8 F409      BNE	0x15AA
    015A9 C160      RJMP	0x170A
    015AA 3063      CPI	R22,3
    015AB E0E0      LDI	R30,0
    015AC 077E      CPC	R23,R30
    015AD F409      BNE	0x15AF
    015AE C161      RJMP	0x1710
    015AF 3064      CPI	R22,4
    015B0 E0E0      LDI	R30,0
    015B1 077E      CPC	R23,R30
    015B2 F409      BNE	0x15B4
    015B3 C162      RJMP	0x1716
    015B4 3065      CPI	R22,5
    015B5 E0E0      LDI	R30,0
    015B6 077E      CPC	R23,R30
    015B7 F409      BNE	0x15B9
    015B8 C176      RJMP	0x172F
    015B9 3066      CPI	R22,6
    015BA E0E0      LDI	R30,0
    015BB 077E      CPC	R23,R30
    015BC F409      BNE	0x15BE
    015BD C177      RJMP	0x1735
    015BE C17B      RJMP	0x173A
(0423) 	     case 0: 
(0424) 		   lcd_write_str_con(2,"停止");
    015BF E627      LDI	R18,0x67
    015C0 E038      LDI	R19,0x8
    015C1 E002      LDI	R16,2
    015C2 940E 06E5 CALL	_lcd_write_str_con
(0425) 		   break;
    015C4 C175      RJMP	0x173A
(0426) 		 case 1:
(0427) 		   //写状态
(0428) 		   lcd_write_str(9,1,"");
    015C5 E088      LDI	R24,0x8
    015C6 E098      LDI	R25,0x8
    015C7 8399      STD	Y+1,R25
    015C8 8388      ST	Y,R24
    015C9 E021      LDI	R18,1
    015CA E009      LDI	R16,0x9
    015CB 940E 069B CALL	_lcd_write_str
(0429) 		   lcd_write_char_con(1,0xA1);
    015CD EA21      LDI	R18,0xA1
    015CE E001      LDI	R16,1
    015CF 940E 0643 CALL	_lcd_write_char_con
(0430)            lcd_write_char_con(1,0xE6);
    015D1 EE26      LDI	R18,0xE6
    015D2 E001      LDI	R16,1
    015D3 940E 0643 CALL	_lcd_write_char_con
(0431) 		   timecache=temps[pageParam[0]].status;
    015D5 9120 0D56 LDS	R18,pageParam
    015D7 9130 0D57 LDS	R19,pageParam+1
    015D9 E404      LDI	R16,0x44
    015DA E011      LDI	R17,1
    015DB 940E 376B CALL	empy16s
    015DD E280      LDI	R24,0x20
    015DE E092      LDI	R25,2
    015DF 01F8      MOVW	R30,R16
    015E0 0FE8      ADD	R30,R24
    015E1 1FF9      ADC	R31,R25
    015E2 8160      LD	R22,Z
    015E3 8171      LDD	R23,Z+1
(0432) 		   if(timecache>18){
    015E4 E182      LDI	R24,0x12
    015E5 E090      LDI	R25,0
    015E6 1786      CP	R24,R22
    015E7 0797      CPC	R25,R23
    015E8 F508      BCC	0x160A
(0433) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1)/10);
    015E9 E02A      LDI	R18,0xA
    015EA E030      LDI	R19,0
    015EB 018B      MOVW	R16,R22
    015EC 5001      SUBI	R16,1
    015ED 4010      SBCI	R17,0
    015EE 9516      LSR	R17
    015EF 9507      ROR	R16
    015F0 5F0F      SUBI	R16,0xFF
    015F1 4F1F      SBCI	R17,0xFF
    015F2 940E 373D CALL	div16u
    015F4 0198      MOVW	R18,R16
    015F5 6320      ORI	R18,0x30
    015F6 E002      LDI	R16,2
    015F7 940E 0643 CALL	_lcd_write_char_con
(0434) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1)%10);
    015F9 E02A      LDI	R18,0xA
    015FA E030      LDI	R19,0
    015FB 018B      MOVW	R16,R22
    015FC 5001      SUBI	R16,1
    015FD 4010      SBCI	R17,0
    015FE 9516      LSR	R17
    015FF 9507      ROR	R16
    01600 5F0F      SUBI	R16,0xFF
    01601 4F1F      SBCI	R17,0xFF
    01602 940E 373B CALL	mod16u
    01604 0198      MOVW	R18,R16
    01605 6320      ORI	R18,0x30
    01606 E002      LDI	R16,2
    01607 940E 0643 CALL	_lcd_write_char_con
(0435) 		      }else{
    01609 C00F      RJMP	0x1619
(0436) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1));
    0160A 019B      MOVW	R18,R22
    0160B 5021      SUBI	R18,1
    0160C 4030      SBCI	R19,0
    0160D 9536      LSR	R19
    0160E 9527      ROR	R18
    0160F 5F2F      SUBI	R18,0xFF
    01610 4F3F      SBCI	R19,0xFF
    01611 6320      ORI	R18,0x30
    01612 E002      LDI	R16,2
    01613 940E 0643 CALL	_lcd_write_char_con
(0437) 				  lcd_write_char_con(2,' ');
    01615 E220      LDI	R18,0x20
    01616 E002      LDI	R16,2
    01617 940E 0643 CALL	_lcd_write_char_con
(0438) 		    }
(0439) 			 lcd_write_char_con(2,':');
    01619 E32A      LDI	R18,0x3A
    0161A E002      LDI	R16,2
    0161B 940E 0643 CALL	_lcd_write_char_con
(0440) 			 lcd_write_char_con(2,' ');
    0161D E220      LDI	R18,0x20
    0161E E002      LDI	R16,2
    0161F 940E 0643 CALL	_lcd_write_char_con
(0441) 		   if(timecache & 0x01){
    01621 FF60      SBRS	R22,0
    01622 C015      RJMP	0x1638
(0442) 		       lcd_write_str_con(2,"升温");
    01623 E023      LDI	R18,3
    01624 E038      LDI	R19,0x8
    01625 E002      LDI	R16,2
    01626 940E 06E5 CALL	_lcd_write_str_con
(0443)                 timecache=temps[pageParam[0]].p_settemp;
    01628 9120 0D56 LDS	R18,pageParam
    0162A 9130 0D57 LDS	R19,pageParam+1
    0162C E404      LDI	R16,0x44
    0162D E011      LDI	R17,1
    0162E 940E 376B CALL	empy16s
    01630 E28C      LDI	R24,0x2C
    01631 E092      LDI	R25,2
    01632 01F8      MOVW	R30,R16
    01633 0FE8      ADD	R30,R24
    01634 1FF9      ADC	R31,R25
    01635 8160      LD	R22,Z
    01636 8171      LDD	R23,Z+1
(0444) 		   }else{
    01637 C019      RJMP	0x1651
(0445) 		       lcd_write_str_con(2,"恒温");
    01638 EF2E      LDI	R18,0xFE
    01639 E037      LDI	R19,7
    0163A E002      LDI	R16,2
    0163B 940E 06E5 CALL	_lcd_write_str_con
(0446)                timecache=temps[pageParam[0]].settemp;
    0163D 9120 0D56 LDS	R18,pageParam
    0163F 9130 0D57 LDS	R19,pageParam+1
    01641 E404      LDI	R16,0x44
    01642 E011      LDI	R17,1
    01643 940E 376B CALL	empy16s
    01645 E386      LDI	R24,0x36
    01646 E092      LDI	R25,2
    01647 01F8      MOVW	R30,R16
    01648 0FE8      ADD	R30,R24
    01649 1FF9      ADC	R31,R25
    0164A 8100      LD	R16,Z
    0164B 8111      LDD	R17,Z+1
    0164C 8122      LDD	R18,Z+2
    0164D 8133      LDD	R19,Z+3
    0164E 940E 38B8 CALL	fpint
    01650 01B8      MOVW	R22,R16
(0447) 		   }
(0448) 		   lcd_write_char(9,1,0x30 | timecache/100);
    01651 E624      LDI	R18,0x64
    01652 E030      LDI	R19,0
    01653 018B      MOVW	R16,R22
    01654 940E 373D CALL	div16u
    01656 01C8      MOVW	R24,R16
    01657 6380      ORI	R24,0x30
    01658 8388      ST	Y,R24
    01659 E021      LDI	R18,1
    0165A E009      LDI	R16,0x9
    0165B 940E 0675 CALL	_lcd_write_char
(0449) 		   lcd_write_char_con(1,0x30 | (timecache/10)%10);
    0165D E02A      LDI	R18,0xA
    0165E E030      LDI	R19,0
    0165F 018B      MOVW	R16,R22
    01660 940E 373D CALL	div16u
    01662 E02A      LDI	R18,0xA
    01663 E030      LDI	R19,0
    01664 940E 373B CALL	mod16u
    01666 0198      MOVW	R18,R16
    01667 6320      ORI	R18,0x30
    01668 E001      LDI	R16,1
    01669 940E 0643 CALL	_lcd_write_char_con
(0450) 		   lcd_write_char_con(1,0x30 | timecache%10);
    0166B E02A      LDI	R18,0xA
    0166C E030      LDI	R19,0
    0166D 018B      MOVW	R16,R22
    0166E 940E 373B CALL	mod16u
    01670 0198      MOVW	R18,R16
    01671 6320      ORI	R18,0x30
    01672 E001      LDI	R16,1
    01673 940E 0643 CALL	_lcd_write_char_con
(0451) 		   lcd_write_char_con(1,' ');
    01675 E220      LDI	R18,0x20
    01676 E001      LDI	R16,1
    01677 940E 0643 CALL	_lcd_write_char_con
(0452) 		   lcd_write_char_con(1,0xA1);
    01679 EA21      LDI	R18,0xA1
    0167A E001      LDI	R16,1
    0167B 940E 0643 CALL	_lcd_write_char_con
(0453)            lcd_write_char_con(1,0xE6);
    0167D EE26      LDI	R18,0xE6
    0167E E001      LDI	R16,1
    0167F 940E 0643 CALL	_lcd_write_char_con
(0454) 		   lcd_write_pos(8,2);
    01681 E022      LDI	R18,2
    01682 E008      LDI	R16,0x8
    01683 940E 0657 CALL	_lcd_write_pos
(0455) 		   timecache=temps[pageParam[0]].nowtime;
    01685 9120 0D56 LDS	R18,pageParam
    01687 9130 0D57 LDS	R19,pageParam+1
    01689 E404      LDI	R16,0x44
    0168A E011      LDI	R17,1
    0168B 940E 376B CALL	empy16s
    0168D E284      LDI	R24,0x24
    0168E E092      LDI	R25,2
    0168F 01F8      MOVW	R30,R16
    01690 0FE8      ADD	R30,R24
    01691 1FF9      ADC	R31,R25
    01692 8160      LD	R22,Z
    01693 8171      LDD	R23,Z+1
(0456) 		   timecache/=3600;
    01694 E120      LDI	R18,0x10
    01695 E03E      LDI	R19,0xE
    01696 018B      MOVW	R16,R22
    01697 940E 373D CALL	div16u
    01699 01B8      MOVW	R22,R16
(0457) 		    lcd_write_char_con(2,0x30 | timecache/10);
    0169A E02A      LDI	R18,0xA
    0169B E030      LDI	R19,0
    0169C 940E 373D CALL	div16u
    0169E 0198      MOVW	R18,R16
    0169F 6320      ORI	R18,0x30
    016A0 E002      LDI	R16,2
    016A1 940E 0643 CALL	_lcd_write_char_con
(0458) 			lcd_write_char_con(2,0x30 | timecache%10);
    016A3 E02A      LDI	R18,0xA
    016A4 E030      LDI	R19,0
    016A5 018B      MOVW	R16,R22
    016A6 940E 373B CALL	mod16u
    016A8 0198      MOVW	R18,R16
    016A9 6320      ORI	R18,0x30
    016AA E002      LDI	R16,2
    016AB 940E 0643 CALL	_lcd_write_char_con
(0459) 			lcd_write_char_con(2,':');
    016AD E32A      LDI	R18,0x3A
    016AE E002      LDI	R16,2
    016AF 940E 0643 CALL	_lcd_write_char_con
(0460) 			timecache=temps[pageParam[0]].nowtime;
    016B1 9120 0D56 LDS	R18,pageParam
    016B3 9130 0D57 LDS	R19,pageParam+1
    016B5 E404      LDI	R16,0x44
    016B6 E011      LDI	R17,1
    016B7 940E 376B CALL	empy16s
    016B9 E284      LDI	R24,0x24
    016BA E092      LDI	R25,2
    016BB 01F8      MOVW	R30,R16
    016BC 0FE8      ADD	R30,R24
    016BD 1FF9      ADC	R31,R25
    016BE 8160      LD	R22,Z
    016BF 8171      LDD	R23,Z+1
(0461) 		    timecache/=60;
    016C0 E32C      LDI	R18,0x3C
    016C1 E030      LDI	R19,0
    016C2 018B      MOVW	R16,R22
    016C3 940E 373D CALL	div16u
(0462) 			timecache%=60;
    016C5 E32C      LDI	R18,0x3C
    016C6 E030      LDI	R19,0
    016C7 940E 373B CALL	mod16u
    016C9 01B8      MOVW	R22,R16
(0463) 			lcd_write_char_con(2,0x30 | timecache/10);
    016CA E02A      LDI	R18,0xA
    016CB E030      LDI	R19,0
    016CC 940E 373D CALL	div16u
    016CE 0198      MOVW	R18,R16
    016CF 6320      ORI	R18,0x30
    016D0 E002      LDI	R16,2
    016D1 940E 0643 CALL	_lcd_write_char_con
(0464) 			lcd_write_char_con(2,0x30 | timecache%10);
    016D3 E02A      LDI	R18,0xA
    016D4 E030      LDI	R19,0
    016D5 018B      MOVW	R16,R22
    016D6 940E 373B CALL	mod16u
    016D8 0198      MOVW	R18,R16
    016D9 6320      ORI	R18,0x30
    016DA E002      LDI	R16,2
    016DB 940E 0643 CALL	_lcd_write_char_con
(0465) 		    lcd_write_char_con(2,':');
    016DD E32A      LDI	R18,0x3A
    016DE E002      LDI	R16,2
    016DF 940E 0643 CALL	_lcd_write_char_con
(0466) 			timecache=temps[pageParam[0]].nowtime;
    016E1 9120 0D56 LDS	R18,pageParam
    016E3 9130 0D57 LDS	R19,pageParam+1
    016E5 E404      LDI	R16,0x44
    016E6 E011      LDI	R17,1
    016E7 940E 376B CALL	empy16s
    016E9 E284      LDI	R24,0x24
    016EA E092      LDI	R25,2
    016EB 01F8      MOVW	R30,R16
    016EC 0FE8      ADD	R30,R24
    016ED 1FF9      ADC	R31,R25
    016EE 8160      LD	R22,Z
    016EF 8171      LDD	R23,Z+1
(0467) 		    timecache%=60;
    016F0 E32C      LDI	R18,0x3C
    016F1 E030      LDI	R19,0
    016F2 018B      MOVW	R16,R22
    016F3 940E 373B CALL	mod16u
    016F5 01B8      MOVW	R22,R16
(0468) 			lcd_write_char_con(2,0x30 |  timecache/10);
    016F6 E02A      LDI	R18,0xA
    016F7 E030      LDI	R19,0
    016F8 940E 373D CALL	div16u
    016FA 0198      MOVW	R18,R16
    016FB 6320      ORI	R18,0x30
    016FC E002      LDI	R16,2
    016FD 940E 0643 CALL	_lcd_write_char_con
(0469) 			lcd_write_char_con(2,0x30 |  timecache%10);
    016FF E02A      LDI	R18,0xA
    01700 E030      LDI	R19,0
    01701 018B      MOVW	R16,R22
    01702 940E 373B CALL	mod16u
    01704 0198      MOVW	R18,R16
    01705 6320      ORI	R18,0x30
    01706 E002      LDI	R16,2
    01707 940E 0643 CALL	_lcd_write_char_con
(0470) 		   break;
    01709 C030      RJMP	0x173A
(0471) 		 case 2:
(0472) 		   lcd_write_str_con(2,"故障");
    0170A E622      LDI	R18,0x62
    0170B E038      LDI	R19,0x8
    0170C E002      LDI	R16,2
    0170D 940E 06E5 CALL	_lcd_write_str_con
(0473) 		   break;
    0170F C02A      RJMP	0x173A
(0474) 		 case 3:
(0475) 		   lcd_write_str_con(2,"暂停");
    01710 E52D      LDI	R18,0x5D
    01711 E038      LDI	R19,0x8
    01712 E002      LDI	R16,2
    01713 940E 06E5 CALL	_lcd_write_str_con
(0476) 		   break;
    01715 C024      RJMP	0x173A
(0477) 		 case 4:
(0478) 		   lcd_write_str(9,1,"      ");
    01716 EF87      LDI	R24,0xF7
    01717 E097      LDI	R25,7
    01718 8399      STD	Y+1,R25
    01719 8388      ST	Y,R24
    0171A E021      LDI	R18,1
    0171B E009      LDI	R16,0x9
    0171C 940E 069B CALL	_lcd_write_str
(0479) 		   lcd_write_str(4,2,"                ");
    0171E EE86      LDI	R24,0xE6
    0171F E097      LDI	R25,7
    01720 8399      STD	Y+1,R25
    01721 8388      ST	Y,R24
    01722 E022      LDI	R18,2
    01723 E004      LDI	R16,4
    01724 940E 069B CALL	_lcd_write_str
(0480) 		   lcd_write_str(4,2,"结束");
    01726 E588      LDI	R24,0x58
    01727 E098      LDI	R25,0x8
    01728 8399      STD	Y+1,R25
    01729 8388      ST	Y,R24
    0172A E022      LDI	R18,2
    0172B E004      LDI	R16,4
    0172C 940E 069B CALL	_lcd_write_str
(0481) 		   break;
    0172E C00B      RJMP	0x173A
(0482) 		 case 5:
(0483) 		   lcd_write_str_con(2,"等待");
    0172F E523      LDI	R18,0x53
    01730 E038      LDI	R19,0x8
    01731 E002      LDI	R16,2
    01732 940E 06E5 CALL	_lcd_write_str_con
(0484) 		   break;
    01734 C005      RJMP	0x173A
(0485) 		 case 6:
(0486) 		   lcd_write_str_con(2,"暂停");
    01735 E52D      LDI	R18,0x5D
    01736 E038      LDI	R19,0x8
    01737 E002      LDI	R16,2
    01738 940E 06E5 CALL	_lcd_write_str_con
(0487) 		   break;
(0488) 		   break;
(0489) 		 default:
(0490) 		   break;
(0491) 	   }
(0492) 	
(0493)       keyV=KeyScan_once();  
    0173A 940E 0538 CALL	_KeyScan_once
    0173C 2F60      MOV	R22,R16
(0494) 	  if(keyV=='e'){
    0173D 3605      CPI	R16,0x65
    0173E F4F9      BNE	0x175E
(0495) 	      Set_White_off(1,3,2);
    0173F E082      LDI	R24,2
    01740 8388      ST	Y,R24
    01741 E023      LDI	R18,3
    01742 E001      LDI	R16,1
    01743 940E 0850 CALL	_Set_White_off
(0496) 		  Set_White_off(4,3,5);
    01745 E085      LDI	R24,5
    01746 8388      ST	Y,R24
    01747 E023      LDI	R18,3
    01748 E004      LDI	R16,4
    01749 940E 0850 CALL	_Set_White_off
(0497) 		  Set_White_off(8,3,9);
    0174B E089      LDI	R24,0x9
    0174C 8388      ST	Y,R24
    0174D E023      LDI	R18,3
    0174E E008      LDI	R16,0x8
    0174F 940E 0850 CALL	_Set_White_off
(0498) 		  Set_White_off(11,3,12);
    01751 E08C      LDI	R24,0xC
    01752 8388      ST	Y,R24
    01753 E023      LDI	R18,3
    01754 E00B      LDI	R16,0xB
    01755 940E 0850 CALL	_Set_White_off
(0499) 		  pageNum=1;
    01757 E081      LDI	R24,1
    01758 E090      LDI	R25,0
    01759 9390 0D61 STS	pageNum+1,R25
    0175B 9380 0D60 STS	pageNum,R24
(0500) 		  return;
    0175D C0E6      RJMP	0x1844
(0501) 	  }else if(keyV=='l'){
    0175E 366C      CPI	R22,0x6C
    0175F F5D1      BNE	0x179A
(0502) 	     switch(cur){
    01760 3041      CPI	R20,1
    01761 E0E0      LDI	R30,0
    01762 075E      CPC	R21,R30
    01763 F049      BEQ	0x176D
    01764 3042      CPI	R20,2
    01765 E0E0      LDI	R30,0
    01766 075E      CPC	R21,R30
    01767 F0A1      BEQ	0x177C
    01768 3043      CPI	R20,3
    01769 E0E0      LDI	R30,0
    0176A 075E      CPC	R21,R30
    0176B F0F9      BEQ	0x178B
    0176C C0D6      RJMP	0x1843
(0503) 		   case 1:
(0504) 		     Set_White_off(4,3,5);
    0176D E085      LDI	R24,5
    0176E 8388      ST	Y,R24
    0176F E023      LDI	R18,3
    01770 E004      LDI	R16,4
    01771 940E 0850 CALL	_Set_White_off
(0505) 		     Set_White(1,3,2);
    01773 E082      LDI	R24,2
    01774 8388      ST	Y,R24
    01775 E023      LDI	R18,3
    01776 E001      LDI	R16,1
    01777 940E 08C0 CALL	_Set_White
(0506) 			 cur=0;
    01779 2744      CLR	R20
    0177A 2755      CLR	R21
(0507) 		     break;
    0177B C0C7      RJMP	0x1843
(0508) 		   case 2:
(0509) 		     Set_White_off(8,3,9);
    0177C E089      LDI	R24,0x9
    0177D 8388      ST	Y,R24
    0177E E023      LDI	R18,3
    0177F E008      LDI	R16,0x8
    01780 940E 0850 CALL	_Set_White_off
(0510) 		     Set_White(4,3,5);
    01782 E085      LDI	R24,5
    01783 8388      ST	Y,R24
    01784 E023      LDI	R18,3
    01785 E004      LDI	R16,4
    01786 940E 08C0 CALL	_Set_White
(0511) 		     cur=1;
    01788 E041      LDI	R20,1
    01789 E050      LDI	R21,0
(0512) 		     break;
    0178A C0B8      RJMP	0x1843
(0513) 		   case 3:
(0514) 		     Set_White_off(11,3,12);
    0178B E08C      LDI	R24,0xC
    0178C 8388      ST	Y,R24
    0178D E023      LDI	R18,3
    0178E E00B      LDI	R16,0xB
    0178F 940E 0850 CALL	_Set_White_off
(0515) 		     Set_White(8,3,9);
    01791 E089      LDI	R24,0x9
    01792 8388      ST	Y,R24
    01793 E023      LDI	R18,3
    01794 E008      LDI	R16,0x8
    01795 940E 08C0 CALL	_Set_White
(0516) 		     cur=2;
    01797 E042      LDI	R20,2
    01798 E050      LDI	R21,0
(0517) 		     break;
(0518) 		 }
(0519) 	  }else if(keyV=='r'){
    01799 C0A9      RJMP	0x1843
    0179A 3762      CPI	R22,0x72
    0179B F5C9      BNE	0x17D5
(0520) 	       switch(cur){
    0179C 3040      CPI	R20,0
    0179D 0745      CPC	R20,R21
    0179E F049      BEQ	0x17A8
    0179F 3041      CPI	R20,1
    017A0 E0E0      LDI	R30,0
    017A1 075E      CPC	R21,R30
    017A2 F0A1      BEQ	0x17B7
    017A3 3042      CPI	R20,2
    017A4 E0E0      LDI	R30,0
    017A5 075E      CPC	R21,R30
    017A6 F0F9      BEQ	0x17C6
    017A7 C09B      RJMP	0x1843
(0521) 		   case 0:
(0522) 		     Set_White(4,3,5);
    017A8 E085      LDI	R24,5
    017A9 8388      ST	Y,R24
    017AA E023      LDI	R18,3
    017AB E004      LDI	R16,4
    017AC 940E 08C0 CALL	_Set_White
(0523) 		     Set_White_off(1,3,2);
    017AE E082      LDI	R24,2
    017AF 8388      ST	Y,R24
    017B0 E023      LDI	R18,3
    017B1 E001      LDI	R16,1
    017B2 940E 0850 CALL	_Set_White_off
(0524) 			 cur=1;
    017B4 E041      LDI	R20,1
    017B5 E050      LDI	R21,0
(0525) 		     break;
    017B6 C08C      RJMP	0x1843
(0526) 		   case 1:
(0527) 		     Set_White(8,3,9);
    017B7 E089      LDI	R24,0x9
    017B8 8388      ST	Y,R24
    017B9 E023      LDI	R18,3
    017BA E008      LDI	R16,0x8
    017BB 940E 08C0 CALL	_Set_White
(0528) 		     Set_White_off(4,3,5);
    017BD E085      LDI	R24,5
    017BE 8388      ST	Y,R24
    017BF E023      LDI	R18,3
    017C0 E004      LDI	R16,4
    017C1 940E 0850 CALL	_Set_White_off
(0529) 		     cur=2;
    017C3 E042      LDI	R20,2
    017C4 E050      LDI	R21,0
(0530) 		     break;
    017C5 C07D      RJMP	0x1843
(0531) 		   case 2:
(0532) 		     Set_White(11,3,12);
    017C6 E08C      LDI	R24,0xC
    017C7 8388      ST	Y,R24
    017C8 E023      LDI	R18,3
    017C9 E00B      LDI	R16,0xB
    017CA 940E 08C0 CALL	_Set_White
(0533) 		     Set_White_off(8,3,9);
    017CC E089      LDI	R24,0x9
    017CD 8388      ST	Y,R24
    017CE E023      LDI	R18,3
    017CF E008      LDI	R16,0x8
    017D0 940E 0850 CALL	_Set_White_off
(0534) 		     cur=3;
    017D2 E043      LDI	R20,3
    017D3 E050      LDI	R21,0
(0535) 		     break;
(0536) 		 }
(0537) 	  }else if(keyV=='t'){
    017D4 C06E      RJMP	0x1843
    017D5 3764      CPI	R22,0x74
    017D6 F009      BEQ	0x17D8
    017D7 C04A      RJMP	0x1822
(0538) 	       switch(cur){
    017D8 3040      CPI	R20,0
    017D9 0745      CPC	R20,R21
    017DA F069      BEQ	0x17E8
    017DB 3041      CPI	R20,1
    017DC E0E0      LDI	R30,0
    017DD 075E      CPC	R21,R30
    017DE F0B1      BEQ	0x17F5
    017DF 3042      CPI	R20,2
    017E0 E0E0      LDI	R30,0
    017E1 075E      CPC	R21,R30
    017E2 F0C9      BEQ	0x17FC
    017E3 3043      CPI	R20,3
    017E4 E0E0      LDI	R30,0
    017E5 075E      CPC	R21,R30
    017E6 F121      BEQ	0x180B
    017E7 C05B      RJMP	0x1843
(0539) 		   case 0:
(0540) 		     Set_White_off(1,3,2);
    017E8 E082      LDI	R24,2
    017E9 8388      ST	Y,R24
    017EA E023      LDI	R18,3
    017EB E001      LDI	R16,1
    017EC 940E 0850 CALL	_Set_White_off
(0541) 			 pageNum=4;
    017EE E084      LDI	R24,4
    017EF E090      LDI	R25,0
    017F0 9390 0D61 STS	pageNum+1,R25
    017F2 9380 0D60 STS	pageNum,R24
(0542) 		     return;
    017F4 C04F      RJMP	0x1844
(0543) 		   case 1:
(0544) 		     //运行操作
(0545) 			 set_start(pageParam[0]);
    017F5 9100 0D56 LDS	R16,pageParam
    017F7 9110 0D57 LDS	R17,pageParam+1
    017F9 940E 3378 CALL	_set_start
(0546) 		     break;
    017FB C047      RJMP	0x1843
(0547) 		   case 2:
(0548) 		     //暂停操作
(0549) 			  lcd_write_str(4,2,"                ");
    017FC EE86      LDI	R24,0xE6
    017FD E097      LDI	R25,7
    017FE 8399      STD	Y+1,R25
    017FF 8388      ST	Y,R24
    01800 E022      LDI	R18,2
    01801 E004      LDI	R16,4
    01802 940E 069B CALL	_lcd_write_str
(0550) 			 set_stop(pageParam[0]);
    01804 9100 0D56 LDS	R16,pageParam
    01806 9110 0D57 LDS	R17,pageParam+1
    01808 940E 33DA CALL	_set_stop
(0551) 		     break;
    0180A C038      RJMP	0x1843
(0552) 		  case 3:
(0553) 		     //重置操作
(0554) 			 Set_White_off(11,3,12);
    0180B E08C      LDI	R24,0xC
    0180C 8388      ST	Y,R24
    0180D E023      LDI	R18,3
    0180E E00B      LDI	R16,0xB
    0180F 940E 0850 CALL	_Set_White_off
(0555) 			 pageParam[2]=1;//表示重置是温度数据的
    01811 E081      LDI	R24,1
    01812 E090      LDI	R25,0
    01813 9390 0D5B STS	pageParam+5,R25
    01815 9380 0D5A STS	pageParam+4,R24
(0556) 			 prePageNum=3;
    01817 E083      LDI	R24,3
    01818 9390 0D55 STS	prePageNum+1,R25
    0181A 9380 0D54 STS	prePageNum,R24
(0557) 		     pageNum=7;
    0181C E087      LDI	R24,7
    0181D 9390 0D61 STS	pageNum+1,R25
    0181F 9380 0D60 STS	pageNum,R24
(0558) 		     return;
    01821 C022      RJMP	0x1844
(0559) 		 }
(0560) 	  }else if(keyV=='s'){
    01822 3763      CPI	R22,0x73
    01823 F4F9      BNE	0x1843
(0561) 	       Set_White_off(1,3,2);
    01824 E082      LDI	R24,2
    01825 8388      ST	Y,R24
    01826 E023      LDI	R18,3
    01827 E001      LDI	R16,1
    01828 940E 0850 CALL	_Set_White_off
(0562) 		   Set_White_off(4,3,5);
    0182A E085      LDI	R24,5
    0182B 8388      ST	Y,R24
    0182C E023      LDI	R18,3
    0182D E004      LDI	R16,4
    0182E 940E 0850 CALL	_Set_White_off
(0563) 		   Set_White_off(8,3,9);
    01830 E089      LDI	R24,0x9
    01831 8388      ST	Y,R24
    01832 E023      LDI	R18,3
    01833 E008      LDI	R16,0x8
    01834 940E 0850 CALL	_Set_White_off
(0564) 		   Set_White_off(11,3,12);
    01836 E08C      LDI	R24,0xC
    01837 8388      ST	Y,R24
    01838 E023      LDI	R18,3
    01839 E00B      LDI	R16,0xB
    0183A 940E 0850 CALL	_Set_White_off
(0565) 			pageNum=4;
    0183C E084      LDI	R24,4
    0183D E090      LDI	R25,0
    0183E 9390 0D61 STS	pageNum+1,R25
    01840 9380 0D60 STS	pageNum,R24
(0566) 		     return;
    01842 C001      RJMP	0x1844
    01843 CCC4      RJMP	0x1508
    01844 9622      ADIW	R28,2
    01845 940C 37AC JMP	pop_xgsetF000
_page4_data:
  numL                 --> R14
  numH                 --> R12
  beginCur             --> R20
  i                    --> R22
  dataCach             --> R10
  y                    --> Y,+12
    01847 940E 3711 CALL	push_arg4
    01849 940E 3792 CALL	push_xgsetF0FC
    0184B 0159      MOVW	R10,R18
    0184C 9722      SBIW	R28,2
(0567) 	  }
(0568) 	}
(0569)  }
(0570)  //等下调用page_ac()函数改变ac写数据
(0571)  void page4_data(uint y,uint* dataCach){
(0572)       uint numH=0xA2;
    0184D EA82      LDI	R24,0xA2
    0184E E090      LDI	R25,0
    0184F 016C      MOVW	R12,R24
(0573)       uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
    01850 EC84      LDI	R24,0xC4
    01851 017C      MOVW	R14,R24
(0574) 	  uint i=0;
    01852 2766      CLR	R22
    01853 2777      CLR	R23
(0575) 	  uint beginCur=0;
    01854 2744      CLR	R20
    01855 2755      CLR	R21
(0576)     //这个判断需要些到读取值函数中去
(0577) 	 if(y<3){
    01856 858C      LDD	R24,Y+12
    01857 859D      LDD	R25,Y+13
    01858 3083      CPI	R24,3
    01859 E0E0      LDI	R30,0
    0185A 079E      CPC	R25,R30
    0185B F530      BCC	0x1882
(0578) 	   lcd_write_char(2,1,numH);
    0185C 82C8      ST	Y,R12
    0185D E021      LDI	R18,1
    0185E E002      LDI	R16,2
    0185F 940E 0675 CALL	_lcd_write_char
(0579)        lcd_write_char_con(1,numL+1);
    01861 0197      MOVW	R18,R14
    01862 5F2F      SUBI	R18,0xFF
    01863 4F3F      SBCI	R19,0xFF
    01864 E001      LDI	R16,1
    01865 940E 0643 CALL	_lcd_write_char_con
(0580) 	   lcd_write_char(2,2,numH);
    01867 82C8      ST	Y,R12
    01868 E022      LDI	R18,2
    01869 E002      LDI	R16,2
    0186A 940E 0675 CALL	_lcd_write_char
(0581)        lcd_write_char_con(2,numL+2);
    0186C 0197      MOVW	R18,R14
    0186D 5F2E      SUBI	R18,0xFE
    0186E 4F3F      SBCI	R19,0xFF
    0186F E002      LDI	R16,2
    01870 940E 0643 CALL	_lcd_write_char_con
(0582)        lcd_write_char(2,3,numH);
    01872 82C8      ST	Y,R12
    01873 E023      LDI	R18,3
    01874 E002      LDI	R16,2
    01875 940E 0675 CALL	_lcd_write_char
(0583)        lcd_write_char_con(3,numL+3);
    01877 0197      MOVW	R18,R14
    01878 5F2D      SUBI	R18,0xFD
    01879 4F3F      SBCI	R19,0xFF
    0187A E003      LDI	R16,3
    0187B 940E 0643 CALL	_lcd_write_char_con
(0584) 	   y=0;
    0187D 2400      CLR	R0
    0187E 2411      CLR	R1
    0187F 861D      STD	Y+13,R1
    01880 860C      STD	Y+12,R0
(0585) 	  }else if(y>=3 && y<6){
    01881 C08F      RJMP	0x1911
    01882 858C      LDD	R24,Y+12
    01883 859D      LDD	R25,Y+13
    01884 3083      CPI	R24,3
    01885 E0E0      LDI	R30,0
    01886 079E      CPC	R25,R30
    01887 F150      BCS	0x18B2
    01888 3086      CPI	R24,6
    01889 E0E0      LDI	R30,0
    0188A 079E      CPC	R25,R30
    0188B F530      BCC	0x18B2
(0586) 	   lcd_write_char(2,1,numH);
    0188C 82C8      ST	Y,R12
    0188D E021      LDI	R18,1
    0188E E002      LDI	R16,2
    0188F 940E 0675 CALL	_lcd_write_char
(0587)        lcd_write_char_con(1,numL+4);
    01891 0197      MOVW	R18,R14
    01892 5F2C      SUBI	R18,0xFC
    01893 4F3F      SBCI	R19,0xFF
    01894 E001      LDI	R16,1
    01895 940E 0643 CALL	_lcd_write_char_con
(0588) 	   lcd_write_char(2,2,numH);
    01897 82C8      ST	Y,R12
    01898 E022      LDI	R18,2
    01899 E002      LDI	R16,2
    0189A 940E 0675 CALL	_lcd_write_char
(0589)        lcd_write_char_con(2,numL+5);
    0189C 0197      MOVW	R18,R14
    0189D 5F2B      SUBI	R18,0xFB
    0189E 4F3F      SBCI	R19,0xFF
    0189F E002      LDI	R16,2
    018A0 940E 0643 CALL	_lcd_write_char_con
(0590)        lcd_write_char(2,3,numH);
    018A2 82C8      ST	Y,R12
    018A3 E023      LDI	R18,3
    018A4 E002      LDI	R16,2
    018A5 940E 0675 CALL	_lcd_write_char
(0591)        lcd_write_char_con(3,numL+6);
    018A7 0197      MOVW	R18,R14
    018A8 5F2A      SUBI	R18,0xFA
    018A9 4F3F      SBCI	R19,0xFF
    018AA E003      LDI	R16,3
    018AB 940E 0643 CALL	_lcd_write_char_con
(0592) 	   y=1;
    018AD E081      LDI	R24,1
    018AE E090      LDI	R25,0
    018AF 879D      STD	Y+13,R25
    018B0 878C      STD	Y+12,R24
(0593) 	  }else if(y>=6 && y<9){
    018B1 C05F      RJMP	0x1911
    018B2 858C      LDD	R24,Y+12
    018B3 859D      LDD	R25,Y+13
    018B4 3086      CPI	R24,6
    018B5 E0E0      LDI	R30,0
    018B6 079E      CPC	R25,R30
    018B7 F150      BCS	0x18E2
    018B8 3089      CPI	R24,0x9
    018B9 E0E0      LDI	R30,0
    018BA 079E      CPC	R25,R30
    018BB F530      BCC	0x18E2
(0594) 	   lcd_write_char(2,1,numH);
    018BC 82C8      ST	Y,R12
    018BD E021      LDI	R18,1
    018BE E002      LDI	R16,2
    018BF 940E 0675 CALL	_lcd_write_char
(0595)        lcd_write_char_con(1,numL+7);
    018C1 0197      MOVW	R18,R14
    018C2 5F29      SUBI	R18,0xF9
    018C3 4F3F      SBCI	R19,0xFF
    018C4 E001      LDI	R16,1
    018C5 940E 0643 CALL	_lcd_write_char_con
(0596) 	   lcd_write_char(2,2,numH);
    018C7 82C8      ST	Y,R12
    018C8 E022      LDI	R18,2
    018C9 E002      LDI	R16,2
    018CA 940E 0675 CALL	_lcd_write_char
(0597)        lcd_write_char_con(2,numL+8);
    018CC 0197      MOVW	R18,R14
    018CD 5F28      SUBI	R18,0xF8
    018CE 4F3F      SBCI	R19,0xFF
    018CF E002      LDI	R16,2
    018D0 940E 0643 CALL	_lcd_write_char_con
(0598)        lcd_write_char(2,3,numH);
    018D2 82C8      ST	Y,R12
    018D3 E023      LDI	R18,3
    018D4 E002      LDI	R16,2
    018D5 940E 0675 CALL	_lcd_write_char
(0599)        lcd_write_char_con(3,numL+9);
    018D7 0197      MOVW	R18,R14
    018D8 5F27      SUBI	R18,0xF7
    018D9 4F3F      SBCI	R19,0xFF
    018DA E003      LDI	R16,3
    018DB 940E 0643 CALL	_lcd_write_char_con
(0600) 	   y=2;
    018DD E082      LDI	R24,2
    018DE E090      LDI	R25,0
    018DF 879D      STD	Y+13,R25
    018E0 878C      STD	Y+12,R24
(0601) 	  }else if(y>=9 && y<12){
    018E1 C02F      RJMP	0x1911
    018E2 858C      LDD	R24,Y+12
    018E3 859D      LDD	R25,Y+13
    018E4 3089      CPI	R24,0x9
    018E5 E0E0      LDI	R30,0
    018E6 079E      CPC	R25,R30
    018E7 F148      BCS	0x1911
    018E8 308C      CPI	R24,0xC
    018E9 E0E0      LDI	R30,0
    018EA 079E      CPC	R25,R30
    018EB F528      BCC	0x1911
(0602) 	   lcd_write_char(2,1,numH);
    018EC 82C8      ST	Y,R12
    018ED E021      LDI	R18,1
    018EE E002      LDI	R16,2
    018EF 940E 0675 CALL	_lcd_write_char
(0603)        lcd_write_char_con(1,numL+10);
    018F1 0197      MOVW	R18,R14
    018F2 5F26      SUBI	R18,0xF6
    018F3 4F3F      SBCI	R19,0xFF
    018F4 E001      LDI	R16,1
    018F5 940E 0643 CALL	_lcd_write_char_con
(0604) 	   lcd_write_char(2,2,numH);
    018F7 82C8      ST	Y,R12
    018F8 E022      LDI	R18,2
    018F9 E002      LDI	R16,2
    018FA 940E 0675 CALL	_lcd_write_char
(0605)        lcd_write_char_con(2,numL+11);
    018FC 0197      MOVW	R18,R14
    018FD 5F25      SUBI	R18,0xF5
    018FE 4F3F      SBCI	R19,0xFF
    018FF E002      LDI	R16,2
    01900 940E 0643 CALL	_lcd_write_char_con
(0606)        lcd_write_char(2,3,numH);
    01902 82C8      ST	Y,R12
    01903 E023      LDI	R18,3
    01904 E002      LDI	R16,2
    01905 940E 0675 CALL	_lcd_write_char
(0607)        lcd_write_char_con(3,numL+12);
    01907 0197      MOVW	R18,R14
    01908 5F24      SUBI	R18,0xF4
    01909 4F3F      SBCI	R19,0xFF
    0190A E003      LDI	R16,3
    0190B 940E 0643 CALL	_lcd_write_char_con
(0608) 	   y=3;
    0190D E083      LDI	R24,3
    0190E E090      LDI	R25,0
    0190F 879D      STD	Y+13,R25
    01910 878C      STD	Y+12,R24
(0609) 	  }
(0610) 	  //还要做数据读取操作
(0611) 	  beginCur=y*33;//获得首个数据
    01911 E201      LDI	R16,0x21
    01912 E010      LDI	R17,0
    01913 852C      LDD	R18,Y+12
    01914 853D      LDD	R19,Y+13
    01915 940E 376B CALL	empy16s
    01917 01A8      MOVW	R20,R16
(0612) 	  for(i=1;i<=3;i++){
    01918 E061      LDI	R22,1
    01919 E070      LDI	R23,0
    0191A C0C5      RJMP	0x19E0
(0613) 	    if(i==1){//第一次进入需要判断，首位写不许用++
    0191B 3061      CPI	R22,1
    0191C E0E0      LDI	R30,0
    0191D 077E      CPC	R23,R30
    0191E F471      BNE	0x192D
(0614) 		 lcd_write_char(3,i,0x30 | *(dataCach+beginCur));
    0191F 01FA      MOVW	R30,R20
    01920 0FEE      LSL	R30
    01921 1FFF      ROL	R31
    01922 0DEA      ADD	R30,R10
    01923 1DFB      ADC	R31,R11
    01924 8180      LD	R24,Z
    01925 8191      LDD	R25,Z+1
    01926 6380      ORI	R24,0x30
    01927 8388      ST	Y,R24
    01928 2F26      MOV	R18,R22
    01929 E003      LDI	R16,3
    0192A 940E 0675 CALL	_lcd_write_char
(0615) 		}else{
    0192C C010      RJMP	0x193D
(0616) 		 lcd_write_char(3,i,0x30 | *(dataCach+(++beginCur)));
    0192D 01CA      MOVW	R24,R20
    0192E 9601      ADIW	R24,1
    0192F 01AC      MOVW	R20,R24
    01930 01FC      MOVW	R30,R24
    01931 0FEE      LSL	R30
    01932 1FFF      ROL	R31
    01933 0DEA      ADD	R30,R10
    01934 1DFB      ADC	R31,R11
    01935 8180      LD	R24,Z
    01936 8191      LDD	R25,Z+1
    01937 6380      ORI	R24,0x30
    01938 8388      ST	Y,R24
    01939 2F26      MOV	R18,R22
    0193A E003      LDI	R16,3
    0193B 940E 0675 CALL	_lcd_write_char
(0617) 		}
(0618)         lcd_write_char_con(i, 0x30 | *(dataCach+(++beginCur)));
    0193D 01CA      MOVW	R24,R20
    0193E 9601      ADIW	R24,1
    0193F 01AC      MOVW	R20,R24
    01940 01FC      MOVW	R30,R24
    01941 0FEE      LSL	R30
    01942 1FFF      ROL	R31
    01943 0DEA      ADD	R30,R10
    01944 1DFB      ADC	R31,R11
    01945 8120      LD	R18,Z
    01946 8131      LDD	R19,Z+1
    01947 6320      ORI	R18,0x30
    01948 2F06      MOV	R16,R22
    01949 940E 0643 CALL	_lcd_write_char_con
(0619) 		 lcd_write_str_con(i,": ");
    0194B EE23      LDI	R18,0xE3
    0194C E037      LDI	R19,7
    0194D 2F06      MOV	R16,R22
    0194E 940E 06E5 CALL	_lcd_write_str_con
(0620) 	     lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    01950 01CA      MOVW	R24,R20
    01951 9601      ADIW	R24,1
    01952 01AC      MOVW	R20,R24
    01953 01FC      MOVW	R30,R24
    01954 0FEE      LSL	R30
    01955 1FFF      ROL	R31
    01956 0DEA      ADD	R30,R10
    01957 1DFB      ADC	R31,R11
    01958 8120      LD	R18,Z
    01959 8131      LDD	R19,Z+1
    0195A 6320      ORI	R18,0x30
    0195B 2F06      MOV	R16,R22
    0195C 940E 0643 CALL	_lcd_write_char_con
(0621) 		 lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    0195E 01CA      MOVW	R24,R20
    0195F 9601      ADIW	R24,1
    01960 01AC      MOVW	R20,R24
    01961 01FC      MOVW	R30,R24
    01962 0FEE      LSL	R30
    01963 1FFF      ROL	R31
    01964 0DEA      ADD	R30,R10
    01965 1DFB      ADC	R31,R11
    01966 8120      LD	R18,Z
    01967 8131      LDD	R19,Z+1
    01968 6320      ORI	R18,0x30
    01969 2F06      MOV	R16,R22
    0196A 940E 0643 CALL	_lcd_write_char_con
(0622) 		 
(0623) 		 lcd_write_char(7,i, 0x30 | *(dataCach+(++beginCur)));
    0196C 01CA      MOVW	R24,R20
    0196D 9601      ADIW	R24,1
    0196E 01AC      MOVW	R20,R24
    0196F 01FC      MOVW	R30,R24
    01970 0FEE      LSL	R30
    01971 1FFF      ROL	R31
    01972 0DEA      ADD	R30,R10
    01973 1DFB      ADC	R31,R11
    01974 8180      LD	R24,Z
    01975 8191      LDD	R25,Z+1
    01976 6380      ORI	R24,0x30
    01977 8388      ST	Y,R24
    01978 2F26      MOV	R18,R22
    01979 E007      LDI	R16,7
    0197A 940E 0675 CALL	_lcd_write_char
(0624) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    0197C 01CA      MOVW	R24,R20
    0197D 9601      ADIW	R24,1
    0197E 01AC      MOVW	R20,R24
    0197F 01FC      MOVW	R30,R24
    01980 0FEE      LSL	R30
    01981 1FFF      ROL	R31
    01982 0DEA      ADD	R30,R10
    01983 1DFB      ADC	R31,R11
    01984 8120      LD	R18,Z
    01985 8131      LDD	R19,Z+1
    01986 6320      ORI	R18,0x30
    01987 2F06      MOV	R16,R22
    01988 940E 0643 CALL	_lcd_write_char_con
(0625) 		  lcd_write_str_con(i,": ");
    0198A EE23      LDI	R18,0xE3
    0198B E037      LDI	R19,7
    0198C 2F06      MOV	R16,R22
    0198D 940E 06E5 CALL	_lcd_write_str_con
(0626) 		 lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    0198F 01CA      MOVW	R24,R20
    01990 9601      ADIW	R24,1
    01991 01AC      MOVW	R20,R24
    01992 01FC      MOVW	R30,R24
    01993 0FEE      LSL	R30
    01994 1FFF      ROL	R31
    01995 0DEA      ADD	R30,R10
    01996 1DFB      ADC	R31,R11
    01997 8120      LD	R18,Z
    01998 8131      LDD	R19,Z+1
    01999 6320      ORI	R18,0x30
    0199A 2F06      MOV	R16,R22
    0199B 940E 0643 CALL	_lcd_write_char_con
(0627) 		 lcd_write_char_con(i, 0x30 | *(dataCach+(++beginCur)));
    0199D 01CA      MOVW	R24,R20
    0199E 9601      ADIW	R24,1
    0199F 01AC      MOVW	R20,R24
    019A0 01FC      MOVW	R30,R24
    019A1 0FEE      LSL	R30
    019A2 1FFF      ROL	R31
    019A3 0DEA      ADD	R30,R10
    019A4 1DFB      ADC	R31,R11
    019A5 8120      LD	R18,Z
    019A6 8131      LDD	R19,Z+1
    019A7 6320      ORI	R18,0x30
    019A8 2F06      MOV	R16,R22
    019A9 940E 0643 CALL	_lcd_write_char_con
(0628) 		 
(0629) 		 lcd_write_str(10,i," ");
    019AB EE81      LDI	R24,0xE1
    019AC E097      LDI	R25,7
    019AD 8399      STD	Y+1,R25
    019AE 8388      ST	Y,R24
    019AF 2F26      MOV	R18,R22
    019B0 E00A      LDI	R16,0xA
    019B1 940E 069B CALL	_lcd_write_str
(0630) 		 lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    019B3 01CA      MOVW	R24,R20
    019B4 9601      ADIW	R24,1
    019B5 01AC      MOVW	R20,R24
    019B6 01FC      MOVW	R30,R24
    019B7 0FEE      LSL	R30
    019B8 1FFF      ROL	R31
    019B9 0DEA      ADD	R30,R10
    019BA 1DFB      ADC	R31,R11
    019BB 8120      LD	R18,Z
    019BC 8131      LDD	R19,Z+1
    019BD 6320      ORI	R18,0x30
    019BE 2F06      MOV	R16,R22
    019BF 940E 0643 CALL	_lcd_write_char_con
(0631) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    019C1 01CA      MOVW	R24,R20
    019C2 9601      ADIW	R24,1
    019C3 01AC      MOVW	R20,R24
    019C4 01FC      MOVW	R30,R24
    019C5 0FEE      LSL	R30
    019C6 1FFF      ROL	R31
    019C7 0DEA      ADD	R30,R10
    019C8 1DFB      ADC	R31,R11
    019C9 8120      LD	R18,Z
    019CA 8131      LDD	R19,Z+1
    019CB 6320      ORI	R18,0x30
    019CC 2F06      MOV	R16,R22
    019CD 940E 0643 CALL	_lcd_write_char_con
(0632) 		 lcd_write_char_con(i, 0x30 | *(dataCach+(++beginCur)));
    019CF 01CA      MOVW	R24,R20
    019D0 9601      ADIW	R24,1
    019D1 016C      MOVW	R12,R24
    019D2 01AC      MOVW	R20,R24
    019D3 01FC      MOVW	R30,R24
    019D4 0FEE      LSL	R30
    019D5 1FFF      ROL	R31
    019D6 0DEA      ADD	R30,R10
    019D7 1DFB      ADC	R31,R11
    019D8 8120      LD	R18,Z
    019D9 8131      LDD	R19,Z+1
    019DA 6320      ORI	R18,0x30
    019DB 2F06      MOV	R16,R22
    019DC 940E 0643 CALL	_lcd_write_char_con
    019DE 5F6F      SUBI	R22,0xFF
    019DF 4F7F      SBCI	R23,0xFF
    019E0 E083      LDI	R24,3
    019E1 E090      LDI	R25,0
    019E2 1786      CP	R24,R22
    019E3 0797      CPC	R25,R23
    019E4 F008      BCS	0x19E6
    019E5 CF35      RJMP	0x191B
    019E6 9622      ADIW	R28,2
    019E7 940E 3787 CALL	pop_xgsetF0FC
    019E9 9624      ADIW	R28,4
    019EA 9508      RET
_page4_ac:
  y                    --> R10
  x                    --> R22
  lcd_y                --> R20
  dataCach             --> R12
  oldcur               --> Y,+12
  cur                  --> Y,+10
    019EB 940E 3711 CALL	push_arg4
    019ED 940E 3792 CALL	push_xgsetF0FC
    019EF 84CE      LDD	R12,Y+14
    019F0 84DF      LDD	R13,Y+15
(0633) 	  }
(0634) 	  
(0635)  }
(0636)  //传入cur做ac位置操作,判断是否翻页
(0637)  void page4_ac(uint cur,uint oldcur,uint* dataCach){
(0638)       uint y=cur/11;//逻辑y.从0开始
    019F1 E02B      LDI	R18,0xB
    019F2 E030      LDI	R19,0
    019F3 850A      LDD	R16,Y+10
    019F4 851B      LDD	R17,Y+11
    019F5 940E 373D CALL	div16u
    019F7 0158      MOVW	R10,R16
(0639) 	  uint lcd_y;//显示y
(0640) 	  uint x=cur%11;//x轴
    019F8 E02B      LDI	R18,0xB
    019F9 E030      LDI	R19,0
    019FA 850A      LDD	R16,Y+10
    019FB 851B      LDD	R17,Y+11
    019FC 940E 373B CALL	mod16u
    019FE 01B8      MOVW	R22,R16
(0641) 	  switch(y%3){
    019FF E023      LDI	R18,3
    01A00 E030      LDI	R19,0
    01A01 0185      MOVW	R16,R10
    01A02 940E 373B CALL	mod16u
    01A04 0178      MOVW	R14,R16
    01A05 3000      CPI	R16,0
    01A06 0701      CPC	R16,R17
    01A07 F051      BEQ	0x1A12
    01A08 01C7      MOVW	R24,R14
    01A09 3001      CPI	R16,1
    01A0A E0E0      LDI	R30,0
    01A0B 071E      CPC	R17,R30
    01A0C F041      BEQ	0x1A15
    01A0D 3002      CPI	R16,2
    01A0E E0E0      LDI	R30,0
    01A0F 071E      CPC	R17,R30
    01A10 F039      BEQ	0x1A18
    01A11 C008      RJMP	0x1A1A
(0642) 	   case 0://1行
(0643) 	     lcd_y=1;
    01A12 E041      LDI	R20,1
    01A13 E050      LDI	R21,0
(0644) 	     break;
    01A14 C005      RJMP	0x1A1A
(0645) 	   case 1://2行
(0646) 	     lcd_y=2;
    01A15 E042      LDI	R20,2
    01A16 E050      LDI	R21,0
(0647) 		 break;
    01A17 C002      RJMP	0x1A1A
(0648) 	   case 2://3行
(0649) 	     lcd_y=3;
    01A18 E043      LDI	R20,3
    01A19 E050      LDI	R21,0
(0650) 	     break;
(0651) 	  }
(0652) 	  switch((oldcur/11)/3){
    01A1A E02B      LDI	R18,0xB
    01A1B E030      LDI	R19,0
    01A1C 850C      LDD	R16,Y+12
    01A1D 851D      LDD	R17,Y+13
    01A1E 940E 373D CALL	div16u
    01A20 E023      LDI	R18,3
    01A21 E030      LDI	R19,0
    01A22 940E 373D CALL	div16u
    01A24 0178      MOVW	R14,R16
    01A25 3000      CPI	R16,0
    01A26 0701      CPC	R16,R17
    01A27 F071      BEQ	0x1A36
    01A28 01C7      MOVW	R24,R14
    01A29 3001      CPI	R16,1
    01A2A E0E0      LDI	R30,0
    01A2B 071E      CPC	R17,R30
    01A2C F0A1      BEQ	0x1A41
    01A2D 3002      CPI	R16,2
    01A2E E0E0      LDI	R30,0
    01A2F 071E      CPC	R17,R30
    01A30 F101      BEQ	0x1A51
    01A31 3003      CPI	R16,3
    01A32 E0E0      LDI	R30,0
    01A33 071E      CPC	R17,R30
    01A34 F169      BEQ	0x1A62
    01A35 C035      RJMP	0x1A6B
(0653) 	    case 0:
(0654) 		 if(cur>32){
    01A36 E280      LDI	R24,0x20
    01A37 E090      LDI	R25,0
    01A38 840A      LDD	R0,Y+10
    01A39 841B      LDD	R1,Y+11
    01A3A 1580      CP	R24,R0
    01A3B 0591      CPC	R25,R1
    01A3C F570      BCC	0x1A6B
(0655) 		   page4_data(y,dataCach);
    01A3D 0196      MOVW	R18,R12
    01A3E 0185      MOVW	R16,R10
    01A3F DE07      RCALL	_page4_data
(0656) 		 }
(0657) 		 break;
    01A40 C02A      RJMP	0x1A6B
(0658) 		case 1:
(0659) 		  if(cur>65 || cur<33){
    01A41 E481      LDI	R24,0x41
    01A42 E090      LDI	R25,0
    01A43 840A      LDD	R0,Y+10
    01A44 841B      LDD	R1,Y+11
    01A45 1580      CP	R24,R0
    01A46 0591      CPC	R25,R1
    01A47 F028      BCS	0x1A4D
    01A48 01C0      MOVW	R24,R0
    01A49 3281      CPI	R24,0x21
    01A4A E0E0      LDI	R30,0
    01A4B 079E      CPC	R25,R30
    01A4C F4F0      BCC	0x1A6B
(0660) 		   page4_data(y,dataCach);
    01A4D 0196      MOVW	R18,R12
    01A4E 0185      MOVW	R16,R10
    01A4F DDF7      RCALL	_page4_data
(0661) 		 }
(0662) 		 break;
    01A50 C01A      RJMP	0x1A6B
(0663) 		case 2:
(0664) 		if(cur<66 || cur>98){
    01A51 858A      LDD	R24,Y+10
    01A52 859B      LDD	R25,Y+11
    01A53 3482      CPI	R24,0x42
    01A54 E0E0      LDI	R30,0
    01A55 079E      CPC	R25,R30
    01A56 F038      BCS	0x1A5E
    01A57 E682      LDI	R24,0x62
    01A58 E090      LDI	R25,0
    01A59 840A      LDD	R0,Y+10
    01A5A 841B      LDD	R1,Y+11
    01A5B 1580      CP	R24,R0
    01A5C 0591      CPC	R25,R1
    01A5D F468      BCC	0x1A6B
(0665) 		   page4_data(y,dataCach);
    01A5E 0196      MOVW	R18,R12
    01A5F 0185      MOVW	R16,R10
    01A60 DDE6      RCALL	_page4_data
(0666) 		 }
(0667) 		 break;
    01A61 C009      RJMP	0x1A6B
(0668) 		case 3:
(0669) 		if(cur<99){
    01A62 858A      LDD	R24,Y+10
    01A63 859B      LDD	R25,Y+11
    01A64 3683      CPI	R24,0x63
    01A65 E0E0      LDI	R30,0
    01A66 079E      CPC	R25,R30
    01A67 F418      BCC	0x1A6B
(0670) 		   page4_data(y,dataCach);
    01A68 0196      MOVW	R18,R12
    01A69 0185      MOVW	R16,R10
    01A6A DDDC      RCALL	_page4_data
(0671) 		 }
(0672) 		 break;
(0673) 	  }
(0674) 	  if(lcd_y==1){
    01A6B 3041      CPI	R20,1
    01A6C E0E0      LDI	R30,0
    01A6D 075E      CPC	R21,R30
    01A6E F449      BNE	0x1A78
(0675) 	     cur_set(3);
    01A6F E003      LDI	R16,3
    01A70 E010      LDI	R17,0
    01A71 940E 080C CALL	_cur_set
(0676) 		 cur_set(4);
    01A73 E004      LDI	R16,4
    01A74 E010      LDI	R17,0
    01A75 940E 080C CALL	_cur_set
(0677) 	  }else if(lcd_y==2 || lcd_y==3){
    01A77 C010      RJMP	0x1A88
    01A78 3042      CPI	R20,2
    01A79 E0E0      LDI	R30,0
    01A7A 075E      CPC	R21,R30
    01A7B F021      BEQ	0x1A80
    01A7C 3043      CPI	R20,3
    01A7D E0E0      LDI	R30,0
    01A7E 075E      CPC	R21,R30
    01A7F F441      BNE	0x1A88
(0678) 	     cur_set(0);
    01A80 2700      CLR	R16
    01A81 2711      CLR	R17
    01A82 940E 080C CALL	_cur_set
(0679) 		 cur_set(7);
    01A84 E007      LDI	R16,7
    01A85 E010      LDI	R17,0
    01A86 940E 080C CALL	_cur_set
(0680) 	  }
(0681) 	  if(x==0){
    01A88 3060      CPI	R22,0
    01A89 0767      CPC	R22,R23
    01A8A F429      BNE	0x1A90
(0682) 	      lcd_write_pos(3,lcd_y);
    01A8B 2F24      MOV	R18,R20
    01A8C E003      LDI	R16,3
    01A8D 940E 0657 CALL	_lcd_write_pos
(0683) 	  }else if(x==2){
    01A8F C031      RJMP	0x1AC1
    01A90 3062      CPI	R22,2
    01A91 E0E0      LDI	R30,0
    01A92 077E      CPC	R23,R30
    01A93 F429      BNE	0x1A99
(0684) 	       lcd_write_pos(5,lcd_y);
    01A94 2F24      MOV	R18,R20
    01A95 E005      LDI	R16,5
    01A96 940E 0657 CALL	_lcd_write_pos
(0685) 	  }else if(x==4){
    01A98 C028      RJMP	0x1AC1
    01A99 3064      CPI	R22,4
    01A9A E0E0      LDI	R30,0
    01A9B 077E      CPC	R23,R30
    01A9C F429      BNE	0x1AA2
(0686) 	        lcd_write_pos(7,lcd_y);
    01A9D 2F24      MOV	R18,R20
    01A9E E007      LDI	R16,7
    01A9F 940E 0657 CALL	_lcd_write_pos
(0687) 	  }else if(x==6){
    01AA1 C01F      RJMP	0x1AC1
    01AA2 3066      CPI	R22,6
    01AA3 E0E0      LDI	R30,0
    01AA4 077E      CPC	R23,R30
    01AA5 F429      BNE	0x1AAB
(0688) 	        lcd_write_pos(9,lcd_y);
    01AA6 2F24      MOV	R18,R20
    01AA7 E009      LDI	R16,0x9
    01AA8 940E 0657 CALL	_lcd_write_pos
(0689) 	  }else if(x==8){
    01AAA C016      RJMP	0x1AC1
    01AAB 3068      CPI	R22,0x8
    01AAC E0E0      LDI	R30,0
    01AAD 077E      CPC	R23,R30
    01AAE F451      BNE	0x1AB9
(0690) 	        lcd_write_pos(10,lcd_y);
    01AAF 2F24      MOV	R18,R20
    01AB0 E00A      LDI	R16,0xA
    01AB1 940E 0657 CALL	_lcd_write_pos
(0691) 			lcd_write_str_con(lcd_y," ");
    01AB3 EE21      LDI	R18,0xE1
    01AB4 E037      LDI	R19,7
    01AB5 2F04      MOV	R16,R20
    01AB6 940E 06E5 CALL	_lcd_write_str_con
(0692) 	  }else if(x==9){
    01AB8 C008      RJMP	0x1AC1
    01AB9 3069      CPI	R22,0x9
    01ABA E0E0      LDI	R30,0
    01ABB 077E      CPC	R23,R30
    01ABC F421      BNE	0x1AC1
(0693) 	        lcd_write_pos(11,lcd_y);
    01ABD 2F24      MOV	R18,R20
    01ABE E00B      LDI	R16,0xB
    01ABF 940E 0657 CALL	_lcd_write_pos
(0694) 	  }
(0695) 	  return;
    01AC1 940E 3787 CALL	pop_xgsetF0FC
    01AC3 9624      ADIW	R28,4
    01AC4 9508      RET
_page4:
  numL                 --> R20
  numH                 --> R20
  oldcur               --> R22
  dataCach             --> Y,+2
  cur                  --> R20
  keyV                 --> R10
  i                    --> R10
    01AC5 940E 37CD CALL	push_xgsetF03C
    01AC7 97EF      SBIW	R28,0x3F
    01AC8 97EF      SBIW	R28,0x3F
    01AC9 97EF      SBIW	R28,0x3F
    01ACA 97EF      SBIW	R28,0x3F
    01ACB 972C      SBIW	R28,0xC
(0696)  }
(0697)   void page4(void){
(0698)     //定义一个局部的结构体，从对呀温度中获得数据。暂时未写
(0699)   uint numH=0xA2;
(0700)   uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
(0701)   uint cur=0;
    01ACC 2744      CLR	R20
    01ACD 2755      CLR	R21
(0702)   uint oldcur=0;
    01ACE 2766      CLR	R22
    01ACF 2777      CLR	R23
(0703)   uint dataCach[131]={0};
    01AD0 E28A      LDI	R24,0x2A
    01AD1 E096      LDI	R25,6
    01AD2 01FE      MOVW	R30,R28
    01AD3 9632      ADIW	R30,2
    01AD4 E006      LDI	R16,6
    01AD5 E011      LDI	R17,1
    01AD6 93FA      ST	-Y,R31
    01AD7 93EA      ST	-Y,R30
    01AD8 939A      ST	-Y,R25
    01AD9 938A      ST	-Y,R24
    01ADA 940E 37EE CALL	asgnblk
(0704)   uint i=0;
(0705)    uchar keyV;
(0706)    lcd_write_str(0,0,"T");
    01ADC E28A      LDI	R24,0x2A
    01ADD E098      LDI	R25,0x8
    01ADE 8399      STD	Y+1,R25
    01ADF 8388      ST	Y,R24
    01AE0 2722      CLR	R18
    01AE1 2700      CLR	R16
    01AE2 940E 069B CALL	_lcd_write_str
(0707)    lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    01AE4 9120 0D56 LDS	R18,pageParam
    01AE6 9130 0D57 LDS	R19,pageParam+1
    01AE8 5F2F      SUBI	R18,0xFF
    01AE9 4F3F      SBCI	R19,0xFF
    01AEA 6320      ORI	R18,0x30
    01AEB 2700      CLR	R16
    01AEC 940E 0643 CALL	_lcd_write_char_con
(0708)    lcd_write_char_con(0,':');
    01AEE E32A      LDI	R18,0x3A
    01AEF 2700      CLR	R16
    01AF0 940E 0643 CALL	_lcd_write_char_con
(0709)    
(0710)    lcd_write_str(4,0,"升温");
    01AF2 E083      LDI	R24,3
    01AF3 E098      LDI	R25,0x8
    01AF4 8399      STD	Y+1,R25
    01AF5 8388      ST	Y,R24
    01AF6 2722      CLR	R18
    01AF7 E004      LDI	R16,4
    01AF8 940E 069B CALL	_lcd_write_str
(0711)    lcd_write_str(7,0,"恒温");
    01AFA EF8E      LDI	R24,0xFE
    01AFB E097      LDI	R25,7
    01AFC 8399      STD	Y+1,R25
    01AFD 8388      ST	Y,R24
    01AFE 2722      CLR	R18
    01AFF E007      LDI	R16,7
    01B00 940E 069B CALL	_lcd_write_str
(0712)    lcd_write_str(10,0,"温度");
    01B02 ED8C      LDI	R24,0xDC
    01B03 E097      LDI	R25,7
    01B04 8399      STD	Y+1,R25
    01B05 8388      ST	Y,R24
    01B06 2722      CLR	R18
    01B07 E00A      LDI	R16,0xA
    01B08 940E 069B CALL	_lcd_write_str
(0713)    lcd_write_str(0,1,"保存");
    01B0A ED87      LDI	R24,0xD7
    01B0B E097      LDI	R25,7
    01B0C 8399      STD	Y+1,R25
    01B0D 8388      ST	Y,R24
    01B0E E021      LDI	R18,1
    01B0F 2700      CLR	R16
    01B10 940E 069B CALL	_lcd_write_str
(0714)    lcd_write_str(0,2,"取消");
    01B12 E388      LDI	R24,0x38
    01B13 E098      LDI	R25,0x8
    01B14 8399      STD	Y+1,R25
    01B15 8388      ST	Y,R24
    01B16 E022      LDI	R18,2
    01B17 2700      CLR	R16
    01B18 940E 069B CALL	_lcd_write_str
(0715)    lcd_write_str(0,3,"重置");
    01B1A E089      LDI	R24,0x9
    01B1B E098      LDI	R25,0x8
    01B1C 8399      STD	Y+1,R25
    01B1D 8388      ST	Y,R24
    01B1E E023      LDI	R18,3
    01B1F 2700      CLR	R16
    01B20 940E 069B CALL	_lcd_write_str
(0716)   
(0717)   for(i=0;i<132;i++){
    01B22 24AA      CLR	R10
    01B23 24BB      CLR	R11
    01B24 C020      RJMP	0x1B45
(0718)     dataCach[i]=temps[pageParam[0]].temp_data[i];
    01B25 0115      MOVW	R2,R10
    01B26 0C22      LSL	R2
    01B27 1C33      ROL	R3
    01B28 0121      MOVW	R4,R2
    01B29 9120 0D56 LDS	R18,pageParam
    01B2B 9130 0D57 LDS	R19,pageParam+1
    01B2D E404      LDI	R16,0x44
    01B2E E011      LDI	R17,1
    01B2F 940E 376B CALL	empy16s
    01B31 E188      LDI	R24,0x18
    01B32 E091      LDI	R25,1
    01B33 0118      MOVW	R2,R16
    01B34 0E28      ADD	R2,R24
    01B35 1E39      ADC	R3,R25
    01B36 01F2      MOVW	R30,R4
    01B37 0DE2      ADD	R30,R2
    01B38 1DF3      ADC	R31,R3
    01B39 8020      LD	R2,Z
    01B3A 8031      LDD	R3,Z+1
    01B3B 01CE      MOVW	R24,R28
    01B3C 9602      ADIW	R24,2
    01B3D 01F2      MOVW	R30,R4
    01B3E 0FE8      ADD	R30,R24
    01B3F 1FF9      ADC	R31,R25
    01B40 8231      STD	Z+1,R3
    01B41 8220      ST	Z,R2
    01B42 01C5      MOVW	R24,R10
    01B43 9601      ADIW	R24,1
    01B44 015C      MOVW	R10,R24
    01B45 01C5      MOVW	R24,R10
    01B46 3884      CPI	R24,0x84
    01B47 E0E0      LDI	R30,0
    01B48 079E      CPC	R25,R30
    01B49 F2D8      BCS	0x1B25
(0719)   }
(0720)     page4_data(0,dataCach);//调用函数填充
    01B4A 019E      MOVW	R18,R28
    01B4B 5F2E      SUBI	R18,0xFE
    01B4C 4F3F      SBCI	R19,0xFF
    01B4D 2700      CLR	R16
    01B4E 2711      CLR	R17
    01B4F DCF7      RCALL	_page4_data
(0721)    cur=0;
    01B50 2744      CLR	R20
    01B51 2755      CLR	R21
(0722)    lcd_write_pos(3,1);
    01B52 E021      LDI	R18,1
    01B53 E003      LDI	R16,3
    01B54 940E 0657 CALL	_lcd_write_pos
(0723)    cur_set(3);
    01B56 E003      LDI	R16,3
    01B57 E010      LDI	R17,0
    01B58 940E 080C CALL	_cur_set
    01B5A C22B      RJMP	0x1D86
(0724)    
(0725)    //Set_White(9,2,10);
(0726)     while(1){
(0727)       keyV=KeyScan_once();
    01B5B 940E 0538 CALL	_KeyScan_once
    01B5D 2EA0      MOV	R10,R16
(0728) 	  if(keyV=='e'){
    01B5E 3605      CPI	R16,0x65
    01B5F F509      BNE	0x1B81
(0729) 	        Set_White_off(1,1,2);
    01B60 E082      LDI	R24,2
    01B61 8388      ST	Y,R24
    01B62 E021      LDI	R18,1
    01B63 E001      LDI	R16,1
    01B64 940E 0850 CALL	_Set_White_off
(0730) 			Set_White_off(1,2,2);
    01B66 E082      LDI	R24,2
    01B67 8388      ST	Y,R24
    01B68 E022      LDI	R18,2
    01B69 E001      LDI	R16,1
    01B6A 940E 0850 CALL	_Set_White_off
(0731) 			Set_White_off(1,3,2);
    01B6C E082      LDI	R24,2
    01B6D 8388      ST	Y,R24
    01B6E E023      LDI	R18,3
    01B6F E001      LDI	R16,1
    01B70 940E 0850 CALL	_Set_White_off
(0732) 			cur_set(0);
    01B72 2700      CLR	R16
    01B73 2711      CLR	R17
    01B74 940E 080C CALL	_cur_set
(0733) 			cur_set(4);
    01B76 E004      LDI	R16,4
    01B77 E010      LDI	R17,0
    01B78 940E 080C CALL	_cur_set
(0734) 		    pageNum=3;
    01B7A E083      LDI	R24,3
    01B7B E090      LDI	R25,0
    01B7C 9390 0D61 STS	pageNum+1,R25
    01B7E 9380 0D60 STS	pageNum,R24
(0735) 		    return;
    01B80 C206      RJMP	0x1D87
(0736) 	  }else if(keyV=='u'){
    01B81 2D8A      MOV	R24,R10
    01B82 3785      CPI	R24,0x75
    01B83 F009      BEQ	0x1B85
    01B84 C046      RJMP	0x1BCB
(0737) 	     if(cur==133){
    01B85 3845      CPI	R20,0x85
    01B86 E0E0      LDI	R30,0
    01B87 075E      CPC	R21,R30
    01B88 F479      BNE	0x1B98
(0738) 		    Set_White(1,1,2);
    01B89 E082      LDI	R24,2
    01B8A 8388      ST	Y,R24
    01B8B E021      LDI	R18,1
    01B8C E001      LDI	R16,1
    01B8D 940E 08C0 CALL	_Set_White
(0739) 			Set_White_off(1,2,2);
    01B8F E082      LDI	R24,2
    01B90 8388      ST	Y,R24
    01B91 E022      LDI	R18,2
    01B92 E001      LDI	R16,1
    01B93 940E 0850 CALL	_Set_White_off
(0740) 			cur=132;
    01B95 E844      LDI	R20,0x84
    01B96 E050      LDI	R21,0
(0741) 		 }else if(cur==134){
    01B97 C1EE      RJMP	0x1D86
    01B98 3846      CPI	R20,0x86
    01B99 E0E0      LDI	R30,0
    01B9A 075E      CPC	R21,R30
    01B9B F479      BNE	0x1BAB
(0742) 		    Set_White(1,2,2);
    01B9C E082      LDI	R24,2
    01B9D 8388      ST	Y,R24
    01B9E E022      LDI	R18,2
    01B9F E001      LDI	R16,1
    01BA0 940E 08C0 CALL	_Set_White
(0743) 			Set_White_off(1,3,2);
    01BA2 E082      LDI	R24,2
    01BA3 8388      ST	Y,R24
    01BA4 E023      LDI	R18,3
    01BA5 E001      LDI	R16,1
    01BA6 940E 0850 CALL	_Set_White_off
(0744) 			cur=133;
    01BA8 E845      LDI	R20,0x85
    01BA9 E050      LDI	R21,0
(0745) 		 }else if(cur>10 && cur<=131){
    01BAA C1DB      RJMP	0x1D86
    01BAB E08A      LDI	R24,0xA
    01BAC E090      LDI	R25,0
    01BAD 1784      CP	R24,R20
    01BAE 0795      CPC	R25,R21
    01BAF F008      BCS	0x1BB1
    01BB0 C1D5      RJMP	0x1D86
    01BB1 E883      LDI	R24,0x83
    01BB2 1784      CP	R24,R20
    01BB3 0795      CPC	R25,R21
    01BB4 F408      BCC	0x1BB6
    01BB5 C1D0      RJMP	0x1D86
(0746) 		   oldcur=cur;
    01BB6 01BA      MOVW	R22,R20
(0747) 	       cur=(cur/11-1)*11;
    01BB7 E02B      LDI	R18,0xB
    01BB8 E030      LDI	R19,0
    01BB9 018A      MOVW	R16,R20
    01BBA 940E 373D CALL	div16u
    01BBC 0198      MOVW	R18,R16
    01BBD 5021      SUBI	R18,1
    01BBE 4030      SBCI	R19,0
    01BBF E00B      LDI	R16,0xB
    01BC0 E010      LDI	R17,0
    01BC1 940E 376B CALL	empy16s
    01BC3 01A8      MOVW	R20,R16
(0748) 		   page4_ac(cur,oldcur,dataCach);
    01BC4 01CE      MOVW	R24,R28
    01BC5 9602      ADIW	R24,2
    01BC6 8399      STD	Y+1,R25
    01BC7 8388      ST	Y,R24
    01BC8 019B      MOVW	R18,R22
    01BC9 DE21      RCALL	_page4_ac
(0749) 		 }
(0750) 	  }else if(keyV=='d'){
    01BCA C1BB      RJMP	0x1D86
    01BCB 2D8A      MOV	R24,R10
    01BCC 3684      CPI	R24,0x64
    01BCD F009      BEQ	0x1BCF
    01BCE C040      RJMP	0x1C0F
(0751) 	     if(cur==132){
    01BCF 3844      CPI	R20,0x84
    01BD0 E0E0      LDI	R30,0
    01BD1 075E      CPC	R21,R30
    01BD2 F479      BNE	0x1BE2
(0752) 		    Set_White_off(1,1,2);
    01BD3 E082      LDI	R24,2
    01BD4 8388      ST	Y,R24
    01BD5 E021      LDI	R18,1
    01BD6 E001      LDI	R16,1
    01BD7 940E 0850 CALL	_Set_White_off
(0753) 			Set_White(1,2,2);
    01BD9 E082      LDI	R24,2
    01BDA 8388      ST	Y,R24
    01BDB E022      LDI	R18,2
    01BDC E001      LDI	R16,1
    01BDD 940E 08C0 CALL	_Set_White
(0754) 			cur=133;
    01BDF E845      LDI	R20,0x85
    01BE0 E050      LDI	R21,0
(0755) 		 }else if(cur==133){
    01BE1 C1A4      RJMP	0x1D86
    01BE2 3845      CPI	R20,0x85
    01BE3 E0E0      LDI	R30,0
    01BE4 075E      CPC	R21,R30
    01BE5 F479      BNE	0x1BF5
(0756) 		    Set_White_off(1,2,2);
    01BE6 E082      LDI	R24,2
    01BE7 8388      ST	Y,R24
    01BE8 E022      LDI	R18,2
    01BE9 E001      LDI	R16,1
    01BEA 940E 0850 CALL	_Set_White_off
(0757) 			Set_White(1,3,2);
    01BEC E082      LDI	R24,2
    01BED 8388      ST	Y,R24
    01BEE E023      LDI	R18,3
    01BEF E001      LDI	R16,1
    01BF0 940E 08C0 CALL	_Set_White
(0758) 			cur=134;
    01BF2 E846      LDI	R20,0x86
    01BF3 E050      LDI	R21,0
(0759) 		 }else if(cur<121){
    01BF4 C191      RJMP	0x1D86
    01BF5 3749      CPI	R20,0x79
    01BF6 E0E0      LDI	R30,0
    01BF7 075E      CPC	R21,R30
    01BF8 F008      BCS	0x1BFA
    01BF9 C18C      RJMP	0x1D86
(0760) 	      oldcur=cur;
    01BFA 01BA      MOVW	R22,R20
(0761) 	      cur=(cur/11+1)*11;
    01BFB E02B      LDI	R18,0xB
    01BFC E030      LDI	R19,0
    01BFD 018A      MOVW	R16,R20
    01BFE 940E 373D CALL	div16u
    01C00 0198      MOVW	R18,R16
    01C01 5F2F      SUBI	R18,0xFF
    01C02 4F3F      SBCI	R19,0xFF
    01C03 E00B      LDI	R16,0xB
    01C04 E010      LDI	R17,0
    01C05 940E 376B CALL	empy16s
    01C07 01A8      MOVW	R20,R16
(0762) 		  page4_ac(cur,oldcur,dataCach);
    01C08 01CE      MOVW	R24,R28
    01C09 9602      ADIW	R24,2
    01C0A 8399      STD	Y+1,R25
    01C0B 8388      ST	Y,R24
    01C0C 019B      MOVW	R18,R22
    01C0D DDDD      RCALL	_page4_ac
(0763) 		}
(0764) 		
(0765) 	  }else if(keyV=='l'){
    01C0E C177      RJMP	0x1D86
    01C0F 2D8A      MOV	R24,R10
    01C10 368C      CPI	R24,0x6C
    01C11 F009      BEQ	0x1C13
    01C12 C049      RJMP	0x1C5C
(0766) 	   oldcur=cur;
    01C13 01BA      MOVW	R22,R20
(0767) 	  if(cur%11==0){
    01C14 E02B      LDI	R18,0xB
    01C15 E030      LDI	R19,0
    01C16 018A      MOVW	R16,R20
    01C17 940E 373B CALL	mod16u
    01C19 3000      CPI	R16,0
    01C1A 0701      CPC	R16,R17
    01C1B F489      BNE	0x1C2D
(0768) 	        Set_White(1,1,2);
    01C1C E082      LDI	R24,2
    01C1D 8388      ST	Y,R24
    01C1E E021      LDI	R18,1
    01C1F E001      LDI	R16,1
    01C20 940E 08C0 CALL	_Set_White
(0769) 			cur_set(0);
    01C22 2700      CLR	R16
    01C23 2711      CLR	R17
    01C24 940E 080C CALL	_cur_set
(0770) 			cur_set(4);
    01C26 E004      LDI	R16,4
    01C27 E010      LDI	R17,0
    01C28 940E 080C CALL	_cur_set
(0771) 			cur=132;
    01C2A E844      LDI	R20,0x84
    01C2B E050      LDI	R21,0
(0772) 	   }else if(cur%11==2 || cur%11==4 || cur%11==6 || cur%11==8){
    01C2C C159      RJMP	0x1D86
    01C2D E02B      LDI	R18,0xB
    01C2E E030      LDI	R19,0
    01C2F 018A      MOVW	R16,R20
    01C30 940E 373B CALL	mod16u
    01C32 0168      MOVW	R12,R16
    01C33 01C6      MOVW	R24,R12
    01C34 3002      CPI	R16,2
    01C35 E0E0      LDI	R30,0
    01C36 071E      CPC	R17,R30
    01C37 F061      BEQ	0x1C44
    01C38 3004      CPI	R16,4
    01C39 E0E0      LDI	R30,0
    01C3A 071E      CPC	R17,R30
    01C3B F041      BEQ	0x1C44
    01C3C 3006      CPI	R16,6
    01C3D E0E0      LDI	R30,0
    01C3E 071E      CPC	R17,R30
    01C3F F021      BEQ	0x1C44
    01C40 3008      CPI	R16,0x8
    01C41 E0E0      LDI	R30,0
    01C42 071E      CPC	R17,R30
    01C43 F451      BNE	0x1C4E
(0773) 	      cur-=2;
    01C44 5042      SUBI	R20,2
    01C45 4050      SBCI	R21,0
(0774) 		   page4_ac(cur,oldcur,dataCach);
    01C46 01CE      MOVW	R24,R28
    01C47 9602      ADIW	R24,2
    01C48 8399      STD	Y+1,R25
    01C49 8388      ST	Y,R24
    01C4A 019B      MOVW	R18,R22
    01C4B 018A      MOVW	R16,R20
    01C4C DD9E      RCALL	_page4_ac
(0775) 		}else if(cur>0){
    01C4D C138      RJMP	0x1D86
    01C4E 3040      CPI	R20,0
    01C4F 0745      CPC	R20,R21
    01C50 F409      BNE	0x1C52
    01C51 C134      RJMP	0x1D86
(0776) 	      cur--;
    01C52 5041      SUBI	R20,1
    01C53 4050      SBCI	R21,0
(0777) 		   page4_ac(cur,oldcur,dataCach);
    01C54 01CE      MOVW	R24,R28
    01C55 9602      ADIW	R24,2
    01C56 8399      STD	Y+1,R25
    01C57 8388      ST	Y,R24
    01C58 019B      MOVW	R18,R22
    01C59 018A      MOVW	R16,R20
    01C5A DD90      RCALL	_page4_ac
(0778) 		}
(0779) 	  
(0780) 	  }else if(keyV=='r'){
    01C5B C12A      RJMP	0x1D86
    01C5C 2D8A      MOV	R24,R10
    01C5D 3782      CPI	R24,0x72
    01C5E F541      BNE	0x1C87
(0781) 	  if(cur>131){
    01C5F E883      LDI	R24,0x83
    01C60 E090      LDI	R25,0
    01C61 1784      CP	R24,R20
    01C62 0795      CPC	R25,R21
    01C63 F4A0      BCC	0x1C78
(0782) 	      Set_White_off(1,1,2);
    01C64 E082      LDI	R24,2
    01C65 8388      ST	Y,R24
    01C66 E021      LDI	R18,1
    01C67 E001      LDI	R16,1
    01C68 940E 0850 CALL	_Set_White_off
(0783) 	      Set_White_off(1,2,2);
    01C6A E082      LDI	R24,2
    01C6B 8388      ST	Y,R24
    01C6C E022      LDI	R18,2
    01C6D E001      LDI	R16,1
    01C6E 940E 0850 CALL	_Set_White_off
(0784) 		  Set_White_off(1,3,2);
    01C70 E082      LDI	R24,2
    01C71 8388      ST	Y,R24
    01C72 E023      LDI	R18,3
    01C73 E001      LDI	R16,1
    01C74 940E 0850 CALL	_Set_White_off
(0785) 		  cur=oldcur;
    01C76 01AB      MOVW	R20,R22
(0786) 	  }else  if(cur<131){
    01C77 C007      RJMP	0x1C7F
    01C78 3843      CPI	R20,0x83
    01C79 E0E0      LDI	R30,0
    01C7A 075E      CPC	R21,R30
    01C7B F418      BCC	0x1C7F
(0787) 		 oldcur=cur;
    01C7C 01BA      MOVW	R22,R20
(0788) 	     cur++;
    01C7D 5F4F      SUBI	R20,0xFF
    01C7E 4F5F      SBCI	R21,0xFF
(0789) 		 }
(0790) 	    page4_ac(cur,oldcur,dataCach);
    01C7F 01CE      MOVW	R24,R28
    01C80 9602      ADIW	R24,2
    01C81 8399      STD	Y+1,R25
    01C82 8388      ST	Y,R24
    01C83 019B      MOVW	R18,R22
    01C84 018A      MOVW	R16,R20
    01C85 DD65      RCALL	_page4_ac
(0791) 	  }else if(keyV=='t'){	    
    01C86 C0FF      RJMP	0x1D86
    01C87 2D8A      MOV	R24,R10
    01C88 3784      CPI	R24,0x74
    01C89 F009      BEQ	0x1C8B
    01C8A C098      RJMP	0x1D23
(0792) 	     if(cur==132){
    01C8B 3844      CPI	R20,0x84
    01C8C E0E0      LDI	R30,0
    01C8D 075E      CPC	R21,R30
    01C8E F009      BEQ	0x1C90
    01C8F C03E      RJMP	0x1CCE
(0793) 		   Set_White_off(1,1,2);
    01C90 E082      LDI	R24,2
    01C91 8388      ST	Y,R24
    01C92 E021      LDI	R18,1
    01C93 E001      LDI	R16,1
    01C94 940E 0850 CALL	_Set_White_off
(0794) 			Set_White_off(1,2,2);
    01C96 E082      LDI	R24,2
    01C97 8388      ST	Y,R24
    01C98 E022      LDI	R18,2
    01C99 E001      LDI	R16,1
    01C9A 940E 0850 CALL	_Set_White_off
(0795) 			Set_White_off(1,3,2);
    01C9C E082      LDI	R24,2
    01C9D 8388      ST	Y,R24
    01C9E E023      LDI	R18,3
    01C9F E001      LDI	R16,1
    01CA0 940E 0850 CALL	_Set_White_off
(0796) 		   cur_set(0);
    01CA2 2700      CLR	R16
    01CA3 2711      CLR	R17
    01CA4 940E 080C CALL	_cur_set
(0797) 			cur_set(4);
    01CA6 E004      LDI	R16,4
    01CA7 E010      LDI	R17,0
    01CA8 940E 080C CALL	_cur_set
(0798) 			lcd_clear();
    01CAA 940E 0752 CALL	_lcd_clear
(0799) 			lcd_write_str(5,2,"保存中. . .");
    01CAC EC8B      LDI	R24,0xCB
    01CAD E097      LDI	R25,7
    01CAE 8399      STD	Y+1,R25
    01CAF 8388      ST	Y,R24
    01CB0 E022      LDI	R18,2
    01CB1 E005      LDI	R16,5
    01CB2 940E 069B CALL	_lcd_write_str
(0800) 		    pageParam[1]=1;//表示是温度数据的，这里处理保存的方法，因为数据在这里。只是跳转过去，参数如果是1表示成功。2表示失败
    01CB4 E081      LDI	R24,1
    01CB5 E090      LDI	R25,0
    01CB6 9390 0D59 STS	pageParam+3,R25
    01CB8 9380 0D58 STS	pageParam+2,R24
(0801) 		    prePageNum=4;
    01CBA E084      LDI	R24,4
    01CBB 9390 0D55 STS	prePageNum+1,R25
    01CBD 9380 0D54 STS	prePageNum,R24
(0802) 		    pageNum=6;
    01CBF E086      LDI	R24,6
    01CC0 9390 0D61 STS	pageNum+1,R25
    01CC2 9380 0D60 STS	pageNum,R24
(0803) 			set_temp_data(pageParam[0],dataCach);//保存数据
    01CC4 019E      MOVW	R18,R28
    01CC5 5F2E      SUBI	R18,0xFE
    01CC6 4F3F      SBCI	R19,0xFF
    01CC7 9100 0D56 LDS	R16,pageParam
    01CC9 9110 0D57 LDS	R17,pageParam+1
    01CCB 940E 3154 CALL	_set_temp_data
(0804) 		    return;
    01CCD C0B9      RJMP	0x1D87
(0805) 		 }else if(cur==133){
    01CCE 3845      CPI	R20,0x85
    01CCF E0E0      LDI	R30,0
    01CD0 075E      CPC	R21,R30
    01CD1 F509      BNE	0x1CF3
(0806) 		    Set_White_off(1,1,2);
    01CD2 E082      LDI	R24,2
    01CD3 8388      ST	Y,R24
    01CD4 E021      LDI	R18,1
    01CD5 E001      LDI	R16,1
    01CD6 940E 0850 CALL	_Set_White_off
(0807) 			Set_White_off(1,2,2);
    01CD8 E082      LDI	R24,2
    01CD9 8388      ST	Y,R24
    01CDA E022      LDI	R18,2
    01CDB E001      LDI	R16,1
    01CDC 940E 0850 CALL	_Set_White_off
(0808) 			Set_White_off(1,3,2);
    01CDE E082      LDI	R24,2
    01CDF 8388      ST	Y,R24
    01CE0 E023      LDI	R18,3
    01CE1 E001      LDI	R16,1
    01CE2 940E 0850 CALL	_Set_White_off
(0809) 		    cur_set(0);
    01CE4 2700      CLR	R16
    01CE5 2711      CLR	R17
    01CE6 940E 080C CALL	_cur_set
(0810) 			cur_set(4);
    01CE8 E004      LDI	R16,4
    01CE9 E010      LDI	R17,0
    01CEA 940E 080C CALL	_cur_set
(0811) 		    pageNum=3;
    01CEC E083      LDI	R24,3
    01CED E090      LDI	R25,0
    01CEE 9390 0D61 STS	pageNum+1,R25
    01CF0 9380 0D60 STS	pageNum,R24
(0812) 		    return;
    01CF2 C094      RJMP	0x1D87
(0813) 		 }else if(cur==134){
    01CF3 3846      CPI	R20,0x86
    01CF4 E0E0      LDI	R30,0
    01CF5 075E      CPC	R21,R30
    01CF6 F009      BEQ	0x1CF8
    01CF7 C08E      RJMP	0x1D86
(0814) 		    Set_White_off(1,1,2);
    01CF8 E082      LDI	R24,2
    01CF9 8388      ST	Y,R24
    01CFA E021      LDI	R18,1
    01CFB E001      LDI	R16,1
    01CFC 940E 0850 CALL	_Set_White_off
(0815) 			Set_White_off(1,2,2);
    01CFE E082      LDI	R24,2
    01CFF 8388      ST	Y,R24
    01D00 E022      LDI	R18,2
    01D01 E001      LDI	R16,1
    01D02 940E 0850 CALL	_Set_White_off
(0816) 			Set_White_off(1,3,2);
    01D04 E082      LDI	R24,2
    01D05 8388      ST	Y,R24
    01D06 E023      LDI	R18,3
    01D07 E001      LDI	R16,1
    01D08 940E 0850 CALL	_Set_White_off
(0817) 		   cur_set(0);
    01D0A 2700      CLR	R16
    01D0B 2711      CLR	R17
    01D0C 940E 080C CALL	_cur_set
(0818) 			cur_set(4);
    01D0E E004      LDI	R16,4
    01D0F E010      LDI	R17,0
    01D10 940E 080C CALL	_cur_set
(0819) 		   //重置。有提示
(0820) 			pageParam[2]=1;//表示重置是温度数据的
    01D12 E081      LDI	R24,1
    01D13 E090      LDI	R25,0
    01D14 9390 0D5B STS	pageParam+5,R25
    01D16 9380 0D5A STS	pageParam+4,R24
(0821) 			prePageNum=4;
    01D18 E084      LDI	R24,4
    01D19 9390 0D55 STS	prePageNum+1,R25
    01D1B 9380 0D54 STS	prePageNum,R24
(0822) 		    pageNum=7;
    01D1D E087      LDI	R24,7
    01D1E 9390 0D61 STS	pageNum+1,R25
    01D20 9380 0D60 STS	pageNum,R24
(0823) 		    return;
    01D22 C064      RJMP	0x1D87
(0824) 		 }
(0825) 	     
(0826) 	  }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    01D23 2D8A      MOV	R24,R10
    01D24 3380      CPI	R24,0x30
    01D25 F099      BEQ	0x1D39
    01D26 3381      CPI	R24,0x31
    01D27 F089      BEQ	0x1D39
    01D28 3382      CPI	R24,0x32
    01D29 F079      BEQ	0x1D39
    01D2A 3383      CPI	R24,0x33
    01D2B F069      BEQ	0x1D39
    01D2C 3384      CPI	R24,0x34
    01D2D F059      BEQ	0x1D39
    01D2E 3385      CPI	R24,0x35
    01D2F F049      BEQ	0x1D39
    01D30 3386      CPI	R24,0x36
    01D31 F039      BEQ	0x1D39
    01D32 3387      CPI	R24,0x37
    01D33 F029      BEQ	0x1D39
    01D34 3388      CPI	R24,0x38
    01D35 F019      BEQ	0x1D39
    01D36 3389      CPI	R24,0x39
    01D37 F009      BEQ	0x1D39
    01D38 C04D      RJMP	0x1D86
(0827) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(0828) 			  if(cur <132){//判断还在输入域
    01D39 3844      CPI	R20,0x84
    01D3A E0E0      LDI	R30,0
    01D3B 075E      CPC	R21,R30
    01D3C F008      BCS	0x1D3E
    01D3D C048      RJMP	0x1D86
(0829) 			   if((cur/11)%3==0){
    01D3E E02B      LDI	R18,0xB
    01D3F E030      LDI	R19,0
    01D40 018A      MOVW	R16,R20
    01D41 940E 373D CALL	div16u
    01D43 E023      LDI	R18,3
    01D44 E030      LDI	R19,0
    01D45 940E 373B CALL	mod16u
    01D47 3000      CPI	R16,0
    01D48 0701      CPC	R16,R17
    01D49 F431      BNE	0x1D50
(0830) 			      lcd_write_char_con(1,0x30 | keyV);
    01D4A 2D2A      MOV	R18,R10
    01D4B 6320      ORI	R18,0x30
    01D4C E001      LDI	R16,1
    01D4D 940E 0643 CALL	_lcd_write_char_con
(0831) 				}else{
    01D4F C005      RJMP	0x1D55
(0832) 				  lcd_write_char_con(2,0x30 | keyV);
    01D50 2D2A      MOV	R18,R10
    01D51 6320      ORI	R18,0x30
    01D52 E002      LDI	R16,2
    01D53 940E 0643 CALL	_lcd_write_char_con
(0833) 				}
(0834) 				dataCach[cur]=keyV-48;
    01D55 01CE      MOVW	R24,R28
    01D56 9602      ADIW	R24,2
    01D57 01FA      MOVW	R30,R20
    01D58 0FEE      LSL	R30
    01D59 1FFF      ROL	R31
    01D5A 0FE8      ADD	R30,R24
    01D5B 1FF9      ADC	R31,R25
    01D5C 2D8A      MOV	R24,R10
    01D5D 2799      CLR	R25
    01D5E 97C0      SBIW	R24,0x30
    01D5F 8391      STD	Z+1,R25
    01D60 8380      ST	Z,R24
(0835) 				oldcur=cur;
    01D61 01BA      MOVW	R22,R20
(0836) 				if(cur<131)
    01D62 3863      CPI	R22,0x83
    01D63 E0E0      LDI	R30,0
    01D64 077E      CPC	R23,R30
    01D65 F450      BCC	0x1D70
(0837) 				{
(0838) 				  cur++;
    01D66 5F4F      SUBI	R20,0xFF
    01D67 4F5F      SBCI	R21,0xFF
(0839) 				  page4_ac(cur,oldcur,dataCach);
    01D68 01CE      MOVW	R24,R28
    01D69 9602      ADIW	R24,2
    01D6A 8399      STD	Y+1,R25
    01D6B 8388      ST	Y,R24
    01D6C 019B      MOVW	R18,R22
    01D6D 018A      MOVW	R16,R20
    01D6E DC7C      RCALL	_page4_ac
(0840) 				}else if(cur==131){//最后一个131会在上面处理，最后一次进入这里。跳到保存
    01D6F C016      RJMP	0x1D86
    01D70 3843      CPI	R20,0x83
    01D71 E0E0      LDI	R30,0
    01D72 075E      CPC	R21,R30
    01D73 F491      BNE	0x1D86
(0841) 				  Set_White(1,1,2);
    01D74 E082      LDI	R24,2
    01D75 8388      ST	Y,R24
    01D76 E021      LDI	R18,1
    01D77 E001      LDI	R16,1
    01D78 940E 08C0 CALL	_Set_White
(0842) 			       cur_set(0);
    01D7A 2700      CLR	R16
    01D7B 2711      CLR	R17
    01D7C 940E 080C CALL	_cur_set
(0843) 			       cur_set(4);
    01D7E E004      LDI	R16,4
    01D7F E010      LDI	R17,0
    01D80 940E 080C CALL	_cur_set
(0844) 			       cur=132;
    01D82 E844      LDI	R20,0x84
    01D83 E050      LDI	R21,0
(0845) 				   oldcur=99;
    01D84 E663      LDI	R22,0x63
    01D85 E070      LDI	R23,0
    01D86 CDD4      RJMP	0x1B5B
    01D87 96EF      ADIW	R28,0x3F
    01D88 96EF      ADIW	R28,0x3F
    01D89 96EF      ADIW	R28,0x3F
    01D8A 96EF      ADIW	R28,0x3F
    01D8B 962C      ADIW	R28,0xC
    01D8C 940C 37D6 JMP	pop_xgsetF03C
_page5:
  ddflag               --> R22
  cur                  --> R20
  keyV                 --> R10
    01D8E 940E 37B1 CALL	push_xgsetF00C
    01D90 9722      SBIW	R28,2
(0846) 				}
(0847) 				
(0848) 			  }
(0849) 		}
(0850) 	}
(0851)  }
(0852)  
(0853)  void page5(void){
(0854)   uint cur=0;
    01D91 2744      CLR	R20
    01D92 2755      CLR	R21
(0855)    uchar keyV;
(0856)    uint ddflag;
(0857)    lcd_write_str(4,0,"断电自动恢复");
    01D93 EB8E      LDI	R24,0xBE
    01D94 E097      LDI	R25,7
    01D95 8399      STD	Y+1,R25
    01D96 8388      ST	Y,R24
    01D97 2722      CLR	R18
    01D98 E004      LDI	R16,4
    01D99 940E 069B CALL	_lcd_write_str
(0858)    lcd_write_str(4,1,"设置时间");
    01D9B EB85      LDI	R24,0xB5
    01D9C E097      LDI	R25,7
    01D9D 8399      STD	Y+1,R25
    01D9E 8388      ST	Y,R24
    01D9F E021      LDI	R18,1
    01DA0 E004      LDI	R16,4
    01DA1 940E 069B CALL	_lcd_write_str
(0859)    lcd_write_str(4,2,"重置系统");
    01DA3 EA8C      LDI	R24,0xAC
    01DA4 E097      LDI	R25,7
    01DA5 8399      STD	Y+1,R25
    01DA6 8388      ST	Y,R24
    01DA7 E022      LDI	R18,2
    01DA8 E004      LDI	R16,4
    01DA9 940E 069B CALL	_lcd_write_str
(0860)     ddflag=EEPROM_read(0,0);
    01DAB 2722      CLR	R18
    01DAC 2733      CLR	R19
    01DAD 2700      CLR	R16
    01DAE 2711      CLR	R17
    01DAF 940E 0F75 CALL	_EEPROM_read
    01DB1 01B8      MOVW	R22,R16
(0861) 	if(ddflag==0){
    01DB2 3000      CPI	R16,0
    01DB3 0701      CPC	R16,R17
    01DB4 F459      BNE	0x1DC0
(0862)       lcd_write_char(3,0,0xA1);
    01DB5 EA81      LDI	R24,0xA1
    01DB6 8388      ST	Y,R24
    01DB7 2722      CLR	R18
    01DB8 E003      LDI	R16,3
    01DB9 940E 0675 CALL	_lcd_write_char
(0863)       lcd_write_char_con(0,0xC1);
    01DBB EC21      LDI	R18,0xC1
    01DBC 2700      CLR	R16
    01DBD 940E 0643 CALL	_lcd_write_char_con
(0864)    }else {
    01DBF C00A      RJMP	0x1DCA
(0865)       lcd_write_char(3,0,0xA1);
    01DC0 EA81      LDI	R24,0xA1
    01DC1 8388      ST	Y,R24
    01DC2 2722      CLR	R18
    01DC3 E003      LDI	R16,3
    01DC4 940E 0675 CALL	_lcd_write_char
(0866)       lcd_write_char_con(0,0xCC);
    01DC6 EC2C      LDI	R18,0xCC
    01DC7 2700      CLR	R16
    01DC8 940E 0643 CALL	_lcd_write_char_con
(0867)    }
(0868)    cur=0;
    01DCA 2744      CLR	R20
    01DCB 2755      CLR	R21
(0869)    Set_White(5,0,10);
    01DCC E08A      LDI	R24,0xA
    01DCD 8388      ST	Y,R24
    01DCE 2722      CLR	R18
    01DCF E005      LDI	R16,5
    01DD0 940E 08C0 CALL	_Set_White
    01DD2 C0DC      RJMP	0x1EAF
(0870)    while(1){
(0871)       keyV=KeyScan_once();
    01DD3 940E 0538 CALL	_KeyScan_once
    01DD5 2EA0      MOV	R10,R16
(0872) 	  if(keyV=='u'){
    01DD6 3705      CPI	R16,0x75
    01DD7 F539      BNE	0x1DFF
(0873) 	    switch(cur){
    01DD8 3041      CPI	R20,1
    01DD9 E0E0      LDI	R30,0
    01DDA 075E      CPC	R21,R30
    01DDB F029      BEQ	0x1DE1
    01DDC 3042      CPI	R20,2
    01DDD E0E0      LDI	R30,0
    01DDE 075E      CPC	R21,R30
    01DDF F081      BEQ	0x1DF0
    01DE0 C0CE      RJMP	0x1EAF
(0874) 		  case 1:
(0875) 		   Set_White_off(5,1,8);
    01DE1 E088      LDI	R24,0x8
    01DE2 8388      ST	Y,R24
    01DE3 E021      LDI	R18,1
    01DE4 E005      LDI	R16,5
    01DE5 940E 0850 CALL	_Set_White_off
(0876) 		   Set_White(5,0,10);
    01DE7 E08A      LDI	R24,0xA
    01DE8 8388      ST	Y,R24
    01DE9 2722      CLR	R18
    01DEA E005      LDI	R16,5
    01DEB 940E 08C0 CALL	_Set_White
(0877) 		   cur=0;
    01DED 2744      CLR	R20
    01DEE 2755      CLR	R21
(0878) 		   break;
    01DEF C0BF      RJMP	0x1EAF
(0879) 		  case 2: 
(0880) 		   Set_White_off(5,2,8);
    01DF0 E088      LDI	R24,0x8
    01DF1 8388      ST	Y,R24
    01DF2 E022      LDI	R18,2
    01DF3 E005      LDI	R16,5
    01DF4 940E 0850 CALL	_Set_White_off
(0881) 		   Set_White(5,1,8);
    01DF6 E088      LDI	R24,0x8
    01DF7 8388      ST	Y,R24
    01DF8 E021      LDI	R18,1
    01DF9 E005      LDI	R16,5
    01DFA 940E 08C0 CALL	_Set_White
(0882) 		   cur=1;
    01DFC E041      LDI	R20,1
    01DFD E050      LDI	R21,0
(0883) 		   break;
(0884) 		}
(0885) 	  }else if(keyV=='d'){
    01DFE C0B0      RJMP	0x1EAF
    01DFF 2D8A      MOV	R24,R10
    01E00 3684      CPI	R24,0x64
    01E01 F531      BNE	0x1E28
(0886) 	      switch(cur){
    01E02 3040      CPI	R20,0
    01E03 0745      CPC	R20,R21
    01E04 F029      BEQ	0x1E0A
    01E05 3041      CPI	R20,1
    01E06 E0E0      LDI	R30,0
    01E07 075E      CPC	R21,R30
    01E08 F081      BEQ	0x1E19
    01E09 C0A5      RJMP	0x1EAF
(0887) 		  case 0:
(0888) 		   Set_White_off(5,0,10);
    01E0A E08A      LDI	R24,0xA
    01E0B 8388      ST	Y,R24
    01E0C 2722      CLR	R18
    01E0D E005      LDI	R16,5
    01E0E 940E 0850 CALL	_Set_White_off
(0889) 		   Set_White(5,1,8);
    01E10 E088      LDI	R24,0x8
    01E11 8388      ST	Y,R24
    01E12 E021      LDI	R18,1
    01E13 E005      LDI	R16,5
    01E14 940E 08C0 CALL	_Set_White
(0890) 		   cur=1;
    01E16 E041      LDI	R20,1
    01E17 E050      LDI	R21,0
(0891) 		   break;
    01E18 C096      RJMP	0x1EAF
(0892) 		  case 1: 
(0893) 		   Set_White_off(5,1,8);
    01E19 E088      LDI	R24,0x8
    01E1A 8388      ST	Y,R24
    01E1B E021      LDI	R18,1
    01E1C E005      LDI	R16,5
    01E1D 940E 0850 CALL	_Set_White_off
(0894) 		   Set_White(5,2,8);
    01E1F E088      LDI	R24,0x8
    01E20 8388      ST	Y,R24
    01E21 E022      LDI	R18,2
    01E22 E005      LDI	R16,5
    01E23 940E 08C0 CALL	_Set_White
(0895) 		   cur=2;
    01E25 E042      LDI	R20,2
    01E26 E050      LDI	R21,0
(0896) 		   break;
(0897) 		}
(0898) 	  }else if(keyV=='e'){
    01E27 C087      RJMP	0x1EAF
    01E28 2D8A      MOV	R24,R10
    01E29 3685      CPI	R24,0x65
    01E2A F539      BNE	0x1E52
(0899) 	     switch(cur){
    01E2B 3040      CPI	R20,0
    01E2C 0745      CPC	R20,R21
    01E2D F049      BEQ	0x1E37
    01E2E 3041      CPI	R20,1
    01E2F E0E0      LDI	R30,0
    01E30 075E      CPC	R21,R30
    01E31 F061      BEQ	0x1E3E
    01E32 3042      CPI	R20,2
    01E33 E0E0      LDI	R30,0
    01E34 075E      CPC	R21,R30
    01E35 F079      BEQ	0x1E45
    01E36 C014      RJMP	0x1E4B
(0900) 		 case 0: 
(0901) 		   Set_White_off(5,0,10);
    01E37 E08A      LDI	R24,0xA
    01E38 8388      ST	Y,R24
    01E39 2722      CLR	R18
    01E3A E005      LDI	R16,5
    01E3B 940E 0850 CALL	_Set_White_off
(0902) 		    break;
    01E3D C00D      RJMP	0x1E4B
(0903) 		 case 1:
(0904) 		   Set_White_off(5,1,8);
    01E3E E088      LDI	R24,0x8
    01E3F 8388      ST	Y,R24
    01E40 E021      LDI	R18,1
    01E41 E005      LDI	R16,5
    01E42 940E 0850 CALL	_Set_White_off
(0905) 		   break;
    01E44 C006      RJMP	0x1E4B
(0906) 		 case 2:
(0907) 		  Set_White_off(5,2,8);
    01E45 E088      LDI	R24,0x8
    01E46 8388      ST	Y,R24
    01E47 E022      LDI	R18,2
    01E48 E005      LDI	R16,5
    01E49 940E 0850 CALL	_Set_White_off
(0908) 		  break;
(0909) 	
(0910) 		  default:
(0911) 		   break;
(0912) 		 }
(0913) 	    pageNum=1;
    01E4B E081      LDI	R24,1
    01E4C E090      LDI	R25,0
    01E4D 9390 0D61 STS	pageNum+1,R25
    01E4F 9380 0D60 STS	pageNum,R24
(0914) 		return;
    01E51 C05E      RJMP	0x1EB0
(0915) 	  }else if(keyV=='t'){
    01E52 2D8A      MOV	R24,R10
    01E53 3784      CPI	R24,0x74
    01E54 F009      BEQ	0x1E56
    01E55 C059      RJMP	0x1EAF
(0916) 	    switch(cur){
    01E56 3040      CPI	R20,0
    01E57 0745      CPC	R20,R21
    01E58 F049      BEQ	0x1E62
    01E59 3041      CPI	R20,1
    01E5A E0E0      LDI	R30,0
    01E5B 075E      CPC	R21,R30
    01E5C F171      BEQ	0x1E8B
    01E5D 3042      CPI	R20,2
    01E5E E0E0      LDI	R30,0
    01E5F 075E      CPC	R21,R30
    01E60 F1B1      BEQ	0x1E97
    01E61 C04D      RJMP	0x1EAF
(0917) 		  case 0:
(0918) 		     //执行EEPROM操作
(0919) 			 if(ddflag==0){
    01E62 3060      CPI	R22,0
    01E63 0767      CPC	R22,R23
    01E64 F419      BNE	0x1E68
(0920) 			   ddflag=1;
    01E65 E061      LDI	R22,1
    01E66 E070      LDI	R23,0
(0921) 			 }else{
    01E67 C002      RJMP	0x1E6A
(0922) 			   ddflag=0;
    01E68 2766      CLR	R22
    01E69 2777      CLR	R23
(0923) 			 }
(0924) 			 EEPROM_write(0,0,ddflag);//写入到EEPROM
    01E6A 8379      STD	Y+1,R23
    01E6B 8368      ST	Y,R22
    01E6C 2722      CLR	R18
    01E6D 2733      CLR	R19
    01E6E 2700      CLR	R16
    01E6F 2711      CLR	R17
    01E70 940E 0F5E CALL	_EEPROM_write
(0925) 			if(ddflag==0){
    01E72 3060      CPI	R22,0
    01E73 0767      CPC	R22,R23
    01E74 F459      BNE	0x1E80
(0926)                lcd_write_char(3,0,0xA1);
    01E75 EA81      LDI	R24,0xA1
    01E76 8388      ST	Y,R24
    01E77 2722      CLR	R18
    01E78 E003      LDI	R16,3
    01E79 940E 0675 CALL	_lcd_write_char
(0927)                lcd_write_char_con(0,0xC1);
    01E7B EC21      LDI	R18,0xC1
    01E7C 2700      CLR	R16
    01E7D 940E 0643 CALL	_lcd_write_char_con
(0928)             }else{
    01E7F C02F      RJMP	0x1EAF
(0929)               lcd_write_char(3,0,0xA1);
    01E80 EA81      LDI	R24,0xA1
    01E81 8388      ST	Y,R24
    01E82 2722      CLR	R18
    01E83 E003      LDI	R16,3
    01E84 940E 0675 CALL	_lcd_write_char
(0930)               lcd_write_char_con(0,0xCC);
    01E86 EC2C      LDI	R18,0xCC
    01E87 2700      CLR	R16
    01E88 940E 0643 CALL	_lcd_write_char_con
(0931)             }
(0932) 		    break;
    01E8A C024      RJMP	0x1EAF
(0933) 		  case 1:
(0934) 		   pageNum=8;
    01E8B E088      LDI	R24,0x8
    01E8C E090      LDI	R25,0
    01E8D 9390 0D61 STS	pageNum+1,R25
    01E8F 9380 0D60 STS	pageNum,R24
(0935) 		   Set_White_off(5,1,8);
    01E91 8388      ST	Y,R24
    01E92 E021      LDI	R18,1
    01E93 E005      LDI	R16,5
    01E94 940E 0850 CALL	_Set_White_off
(0936) 		   return;
    01E96 C019      RJMP	0x1EB0
(0937) 		  
(0938) 		  case 2://重置系统
(0939) 		    prePageNum=5;
    01E97 E085      LDI	R24,5
    01E98 E090      LDI	R25,0
    01E99 9390 0D55 STS	prePageNum+1,R25
    01E9B 9380 0D54 STS	prePageNum,R24
(0940) 		    pageNum=7;
    01E9D E087      LDI	R24,7
    01E9E 9390 0D61 STS	pageNum+1,R25
    01EA0 9380 0D60 STS	pageNum,R24
(0941) 			pageParam[2]=0;
    01EA2 2422      CLR	R2
    01EA3 2433      CLR	R3
    01EA4 9230 0D5B STS	pageParam+5,R3
    01EA6 9220 0D5A STS	pageParam+4,R2
(0942) 		    Set_White_off(5,2,8);
    01EA8 E088      LDI	R24,0x8
    01EA9 8388      ST	Y,R24
    01EAA E022      LDI	R18,2
    01EAB E005      LDI	R16,5
    01EAC 940E 0850 CALL	_Set_White_off
(0943) 		   return;
    01EAE C001      RJMP	0x1EB0
    01EAF CF23      RJMP	0x1DD3
    01EB0 9622      ADIW	R28,2
    01EB1 940C 37B8 JMP	pop_xgsetF00C
_page6:
    01EB3 9722      SBIW	R28,2
(0944) 		}
(0945) 	    
(0946) 	  }
(0947)    }
(0948)    
(0949)  }
(0950)  void page6(void){//复用的方法
(0951)  if(pageParam[1]==0){
    01EB4 9020 0D58 LDS	R2,pageParam+2
    01EB6 9030 0D59 LDS	R3,pageParam+3
    01EB8 2022      TST	R2
    01EB9 F459      BNE	0x1EC5
    01EBA 2033      TST	R3
    01EBB F449      BNE	0x1EC5
(0952)      lcd_write_str(4,1,"时间保存成功！");
    01EBC E98D      LDI	R24,0x9D
    01EBD E097      LDI	R25,7
    01EBE 8399      STD	Y+1,R25
    01EBF 8388      ST	Y,R24
    01EC0 E021      LDI	R18,1
    01EC1 E004      LDI	R16,4
    01EC2 940E 069B CALL	_lcd_write_str
(0953)    }else if(pageParam[1]==1){
    01EC4 C021      RJMP	0x1EE6
    01EC5 9180 0D58 LDS	R24,pageParam+2
    01EC7 9190 0D59 LDS	R25,pageParam+3
    01EC9 3081      CPI	R24,1
    01ECA E0E0      LDI	R30,0
    01ECB 079E      CPC	R25,R30
    01ECC F449      BNE	0x1ED6
(0954)      lcd_write_str(4,1,"温度保存成功！");
    01ECD E88E      LDI	R24,0x8E
    01ECE E097      LDI	R25,7
    01ECF 8399      STD	Y+1,R25
    01ED0 8388      ST	Y,R24
    01ED1 E021      LDI	R18,1
    01ED2 E004      LDI	R16,4
    01ED3 940E 069B CALL	_lcd_write_str
(0955)    }else if(pageParam[1]==2){
    01ED5 C010      RJMP	0x1EE6
    01ED6 9180 0D58 LDS	R24,pageParam+2
    01ED8 9190 0D59 LDS	R25,pageParam+3
    01EDA 3082      CPI	R24,2
    01EDB E0E0      LDI	R30,0
    01EDC 079E      CPC	R25,R30
    01EDD F441      BNE	0x1EE6
(0956)      lcd_write_str(4,1,"温度保存失败！");
    01EDE E78F      LDI	R24,0x7F
    01EDF E097      LDI	R25,7
    01EE0 8399      STD	Y+1,R25
    01EE1 8388      ST	Y,R24
    01EE2 E021      LDI	R18,1
    01EE3 E004      LDI	R16,4
    01EE4 940E 069B CALL	_lcd_write_str
(0957)    }
(0958)    delay_ms(500);
    01EE6 EF04      LDI	R16,0xF4
    01EE7 E011      LDI	R17,1
    01EE8 940E 044B CALL	_delay_ms
(0959)    pageNum=prePageNum;
    01EEA 9020 0D54 LDS	R2,prePageNum
    01EEC 9030 0D55 LDS	R3,prePageNum+1
    01EEE 9230 0D61 STS	pageNum+1,R3
    01EF0 9220 0D60 STS	pageNum,R2
    01EF2 9622      ADIW	R28,2
    01EF3 9508      RET
_page7:
  cur                  --> R20
  keyV                 --> R10
    01EF4 940E 37B1 CALL	push_xgsetF00C
    01EF6 9722      SBIW	R28,2
(0960)  }
(0961)  void page7(void){
(0962)    uint cur=1;
    01EF7 E041      LDI	R20,1
    01EF8 E050      LDI	R21,0
(0963)    uchar keyV;
(0964)    lcd_write_str(2,0,"是否重置");
    01EF9 E786      LDI	R24,0x76
    01EFA E097      LDI	R25,7
    01EFB 8399      STD	Y+1,R25
    01EFC 8388      ST	Y,R24
    01EFD 2722      CLR	R18
    01EFE E002      LDI	R16,2
    01EFF 940E 069B CALL	_lcd_write_str
(0965)    lcd_write_str(2,2,"确认");
    01F01 E781      LDI	R24,0x71
    01F02 E097      LDI	R25,7
    01F03 8399      STD	Y+1,R25
    01F04 8388      ST	Y,R24
    01F05 E022      LDI	R18,2
    01F06 E002      LDI	R16,2
    01F07 940E 069B CALL	_lcd_write_str
(0966)    lcd_write_str(8,2,"取消");
    01F09 E388      LDI	R24,0x38
    01F0A E098      LDI	R25,0x8
    01F0B 8399      STD	Y+1,R25
    01F0C 8388      ST	Y,R24
    01F0D E022      LDI	R18,2
    01F0E E008      LDI	R16,0x8
    01F0F 940E 069B CALL	_lcd_write_str
(0967)    Set_White(9,2,10);
    01F11 E08A      LDI	R24,0xA
    01F12 8388      ST	Y,R24
    01F13 E022      LDI	R18,2
    01F14 E009      LDI	R16,0x9
    01F15 940E 08C0 CALL	_Set_White
    01F17 C078      RJMP	0x1F90
(0968)     while(1){
(0969)       keyV=KeyScan_once();
    01F18 940E 0538 CALL	_KeyScan_once
    01F1A 2EA0      MOV	R10,R16
(0970) 	  switch(keyV){
    01F1B 2D6A      MOV	R22,R10
    01F1C 2777      CLR	R23
    01F1D 366C      CPI	R22,0x6C
    01F1E E0E0      LDI	R30,0
    01F1F 077E      CPC	R23,R30
    01F20 F0A1      BEQ	0x1F35
    01F21 E68C      LDI	R24,0x6C
    01F22 E090      LDI	R25,0
    01F23 1786      CP	R24,R22
    01F24 0797      CPC	R25,R23
    01F25 F034      BLT	0x1F2C
    01F26 3665      CPI	R22,0x65
    01F27 E0E0      LDI	R30,0
    01F28 077E      CPC	R23,R30
    01F29 F409      BNE	0x1F2B
    01F2A C050      RJMP	0x1F7B
    01F2B C064      RJMP	0x1F90
    01F2C 3762      CPI	R22,0x72
    01F2D E0E0      LDI	R30,0
    01F2E 077E      CPC	R23,R30
    01F2F F0C9      BEQ	0x1F49
    01F30 3764      CPI	R22,0x74
    01F31 E0E0      LDI	R30,0
    01F32 077E      CPC	R23,R30
    01F33 F141      BEQ	0x1F5C
    01F34 C05B      RJMP	0x1F90
(0971) 	    case 'l':
(0972) 		   if(cur==1){
    01F35 3041      CPI	R20,1
    01F36 E0E0      LDI	R30,0
    01F37 075E      CPC	R21,R30
    01F38 F009      BEQ	0x1F3A
    01F39 C056      RJMP	0x1F90
(0973) 		      Set_White_off(9,2,10);
    01F3A E08A      LDI	R24,0xA
    01F3B 8388      ST	Y,R24
    01F3C E022      LDI	R18,2
    01F3D E009      LDI	R16,0x9
    01F3E 940E 0850 CALL	_Set_White_off
(0974) 		      Set_White(3,2,4);
    01F40 E084      LDI	R24,4
    01F41 8388      ST	Y,R24
    01F42 E022      LDI	R18,2
    01F43 E003      LDI	R16,3
    01F44 940E 08C0 CALL	_Set_White
(0975) 			  cur=0;
    01F46 2744      CLR	R20
    01F47 2755      CLR	R21
(0976) 		   }
(0977) 		   break;
    01F48 C047      RJMP	0x1F90
(0978) 		case 'r':
(0979) 		   if(cur==0){
    01F49 3040      CPI	R20,0
    01F4A 0745      CPC	R20,R21
    01F4B F009      BEQ	0x1F4D
    01F4C C043      RJMP	0x1F90
(0980) 		      Set_White_off(3,2,4);
    01F4D E084      LDI	R24,4
    01F4E 8388      ST	Y,R24
    01F4F E022      LDI	R18,2
    01F50 E003      LDI	R16,3
    01F51 940E 0850 CALL	_Set_White_off
(0981) 		      Set_White(9,2,10);
    01F53 E08A      LDI	R24,0xA
    01F54 8388      ST	Y,R24
    01F55 E022      LDI	R18,2
    01F56 E009      LDI	R16,0x9
    01F57 940E 08C0 CALL	_Set_White
(0982) 			  cur=1;
    01F59 E041      LDI	R20,1
    01F5A E050      LDI	R21,0
(0983) 		   }
(0984) 		  break;
    01F5B C034      RJMP	0x1F90
(0985) 		case 't':
(0986) 		  //执行相关操作	  
(0987) 		  if(cur==0){
    01F5C 3040      CPI	R20,0
    01F5D 0745      CPC	R20,R21
    01F5E F469      BNE	0x1F6C
(0988) 		     Set_White_off(3,2,4);
    01F5F E084      LDI	R24,4
    01F60 8388      ST	Y,R24
    01F61 E022      LDI	R18,2
    01F62 E003      LDI	R16,3
    01F63 940E 0850 CALL	_Set_White_off
(0989) 		       //进入重置画面。在Page9启动看门狗重置系统、不喂狗。数据重置对呀操作不同
(0990) 		       pageNum=9;
    01F65 E089      LDI	R24,0x9
    01F66 E090      LDI	R25,0
    01F67 9390 0D61 STS	pageNum+1,R25
    01F69 9380 0D60 STS	pageNum,R24
(0991) 		  }else {
    01F6B C025      RJMP	0x1F91
(0992) 		      Set_White_off(9,2,10);
    01F6C E08A      LDI	R24,0xA
    01F6D 8388      ST	Y,R24
    01F6E E022      LDI	R18,2
    01F6F E009      LDI	R16,0x9
    01F70 940E 0850 CALL	_Set_White_off
(0993) 		       pageNum=prePageNum;
    01F72 9020 0D54 LDS	R2,prePageNum
    01F74 9030 0D55 LDS	R3,prePageNum+1
    01F76 9230 0D61 STS	pageNum+1,R3
    01F78 9220 0D60 STS	pageNum,R2
(0994) 		  }
(0995) 		  return;
    01F7A C016      RJMP	0x1F91
(0996) 		 case 'e':
(0997) 		    Set_White_off(3,2,4);
    01F7B E084      LDI	R24,4
    01F7C 8388      ST	Y,R24
    01F7D E022      LDI	R18,2
    01F7E E003      LDI	R16,3
    01F7F 940E 0850 CALL	_Set_White_off
(0998) 		    Set_White_off(9,2,10);
    01F81 E08A      LDI	R24,0xA
    01F82 8388      ST	Y,R24
    01F83 E022      LDI	R18,2
    01F84 E009      LDI	R16,0x9
    01F85 940E 0850 CALL	_Set_White_off
(0999) 		    pageNum=prePageNum;
    01F87 9020 0D54 LDS	R2,prePageNum
    01F89 9030 0D55 LDS	R3,prePageNum+1
    01F8B 9230 0D61 STS	pageNum+1,R3
    01F8D 9220 0D60 STS	pageNum,R2
(1000) 		    return;
    01F8F C001      RJMP	0x1F91
    01F90 CF87      RJMP	0x1F18
    01F91 9622      ADIW	R28,2
    01F92 940C 37B8 JMP	pop_xgsetF00C
_page8:
  dateAc               --> Y,+38
  time_cacah           --> R22
  keyV                 --> R22
  cur                  --> R20
  date                 --> Y,+8
  i                    --> R22
    01F94 940E 37B1 CALL	push_xgsetF00C
    01F96 97EF      SBIW	R28,0x3F
    01F97 9723      SBIW	R28,3
(1001) 	  }
(1002) 	}
(1003)  }
(1004)  void page8(void){
(1005)    uint cur=0;
    01F98 2744      CLR	R20
    01F99 2755      CLR	R21
(1006)    uchar keyV;
(1007)    uint date[15];
(1008)    uint i;
(1009)    uint time_cacah;
(1010)     uint dateAc[14]={1,2,3,4,6,7,9,10,2,3,5,6,8,9};
    01F9A E380      LDI	R24,0x30
    01F9B E097      LDI	R25,7
    01F9C 01FE      MOVW	R30,R28
    01F9D 96B6      ADIW	R30,0x26
    01F9E E10C      LDI	R16,0x1C
    01F9F E010      LDI	R17,0
    01FA0 93FA      ST	-Y,R31
    01FA1 93EA      ST	-Y,R30
    01FA2 939A      ST	-Y,R25
    01FA3 938A      ST	-Y,R24
    01FA4 940E 37EE CALL	asgnblk
(1011)    time_cacah=Read1307(0x06);
    01FA6 E006      LDI	R16,6
    01FA7 940E 3642 CALL	_Read1307
    01FA9 01B8      MOVW	R22,R16
(1012)    date[0]=2;
    01FAA E082      LDI	R24,2
    01FAB E090      LDI	R25,0
    01FAC 8799      STD	Y+9,R25
    01FAD 8788      STD	Y+8,R24
(1013)    date[1]=0;
    01FAE 2422      CLR	R2
    01FAF 2433      CLR	R3
    01FB0 863B      STD	Y+11,R3
    01FB1 862A      STD	Y+10,R2
(1014)    date[2]=time_cacah>>4;
    01FB2 011B      MOVW	R2,R22
    01FB3 9436      LSR	R3
    01FB4 9427      ROR	R2
    01FB5 9436      LSR	R3
    01FB6 9427      ROR	R2
    01FB7 9436      LSR	R3
    01FB8 9427      ROR	R2
    01FB9 9436      LSR	R3
    01FBA 9427      ROR	R2
    01FBB 863D      STD	Y+13,R3
    01FBC 862C      STD	Y+12,R2
(1015)    date[3]=time_cacah&0x0F;
    01FBD 01CB      MOVW	R24,R22
    01FBE 708F      ANDI	R24,0xF
    01FBF 7090      ANDI	R25,0
    01FC0 879F      STD	Y+15,R25
    01FC1 878E      STD	Y+14,R24
(1016)    time_cacah=Read1307(0x05);
    01FC2 E005      LDI	R16,5
    01FC3 940E 3642 CALL	_Read1307
    01FC5 01B8      MOVW	R22,R16
(1017)    date[4]=(time_cacah>>4)&0x01;
    01FC6 01CB      MOVW	R24,R22
    01FC7 9596      LSR	R25
    01FC8 9587      ROR	R24
    01FC9 9596      LSR	R25
    01FCA 9587      ROR	R24
    01FCB 9596      LSR	R25
    01FCC 9587      ROR	R24
    01FCD 9596      LSR	R25
    01FCE 9587      ROR	R24
    01FCF 7081      ANDI	R24,1
    01FD0 7090      ANDI	R25,0
    01FD1 8B99      STD	Y+17,R25
    01FD2 8B88      STD	Y+16,R24
(1018)    date[5]=time_cacah&0x0F;
    01FD3 01CB      MOVW	R24,R22
    01FD4 708F      ANDI	R24,0xF
    01FD5 7090      ANDI	R25,0
    01FD6 8B9B      STD	Y+19,R25
    01FD7 8B8A      STD	Y+18,R24
(1019)     time_cacah=Read1307(0x04);
    01FD8 E004      LDI	R16,4
    01FD9 940E 3642 CALL	_Read1307
    01FDB 0158      MOVW	R10,R16
    01FDC 01B5      MOVW	R22,R10
(1020)    date[6]=0x03&(time_cacah>>4);
    01FDD 01CB      MOVW	R24,R22
    01FDE 9596      LSR	R25
    01FDF 9587      ROR	R24
    01FE0 9596      LSR	R25
    01FE1 9587      ROR	R24
    01FE2 9596      LSR	R25
    01FE3 9587      ROR	R24
    01FE4 9596      LSR	R25
    01FE5 9587      ROR	R24
    01FE6 7083      ANDI	R24,3
    01FE7 7090      ANDI	R25,0
    01FE8 8B9D      STD	Y+21,R25
    01FE9 8B8C      STD	Y+20,R24
(1021)    date[7]=time_cacah&0x0F;
    01FEA 01CB      MOVW	R24,R22
    01FEB 708F      ANDI	R24,0xF
    01FEC 7090      ANDI	R25,0
    01FED 8B9F      STD	Y+23,R25
    01FEE 8B8E      STD	Y+22,R24
(1022)    time_cacah=Read1307(0x02);
    01FEF E002      LDI	R16,2
    01FF0 940E 3642 CALL	_Read1307
    01FF2 0158      MOVW	R10,R16
    01FF3 01B5      MOVW	R22,R10
(1023)    date[8]=0x03&(time_cacah>>4);
    01FF4 01CB      MOVW	R24,R22
    01FF5 9596      LSR	R25
    01FF6 9587      ROR	R24
    01FF7 9596      LSR	R25
    01FF8 9587      ROR	R24
    01FF9 9596      LSR	R25
    01FFA 9587      ROR	R24
    01FFB 9596      LSR	R25
    01FFC 9587      ROR	R24
    01FFD 7083      ANDI	R24,3
    01FFE 7090      ANDI	R25,0
    01FFF 8F99      STD	Y+25,R25
    02000 8F88      STD	Y+24,R24
(1024)    date[9]=time_cacah&0x0F;
    02001 01CB      MOVW	R24,R22
    02002 708F      ANDI	R24,0xF
    02003 7090      ANDI	R25,0
    02004 8F9B      STD	Y+27,R25
    02005 8F8A      STD	Y+26,R24
(1025)    time_cacah=Read1307(0x01);
    02006 E001      LDI	R16,1
    02007 940E 3642 CALL	_Read1307
    02009 0158      MOVW	R10,R16
    0200A 01B5      MOVW	R22,R10
(1026)    date[10]=0x07&(time_cacah>>4);
    0200B 01CB      MOVW	R24,R22
    0200C 9596      LSR	R25
    0200D 9587      ROR	R24
    0200E 9596      LSR	R25
    0200F 9587      ROR	R24
    02010 9596      LSR	R25
    02011 9587      ROR	R24
    02012 9596      LSR	R25
    02013 9587      ROR	R24
    02014 7087      ANDI	R24,7
    02015 7090      ANDI	R25,0
    02016 8F9D      STD	Y+29,R25
    02017 8F8C      STD	Y+28,R24
(1027)    date[11]=time_cacah&0x0f;
    02018 01CB      MOVW	R24,R22
    02019 708F      ANDI	R24,0xF
    0201A 7090      ANDI	R25,0
    0201B 8F9F      STD	Y+31,R25
    0201C 8F8E      STD	Y+30,R24
(1028)    time_cacah=Read1307(0x00);
    0201D 2700      CLR	R16
    0201E 940E 3642 CALL	_Read1307
    02020 0158      MOVW	R10,R16
    02021 01B5      MOVW	R22,R10
(1029)    date[12]=0x07&(time_cacah>>4);
    02022 01CB      MOVW	R24,R22
    02023 9596      LSR	R25
    02024 9587      ROR	R24
    02025 9596      LSR	R25
    02026 9587      ROR	R24
    02027 9596      LSR	R25
    02028 9587      ROR	R24
    02029 9596      LSR	R25
    0202A 9587      ROR	R24
    0202B 7087      ANDI	R24,7
    0202C 7090      ANDI	R25,0
    0202D A399      STD	Y+33,R25
    0202E A388      STD	Y+32,R24
(1030)    date[13]=time_cacah&0x0F;
    0202F 01CB      MOVW	R24,R22
    02030 708F      ANDI	R24,0xF
    02031 7090      ANDI	R25,0
    02032 A39B      STD	Y+35,R25
    02033 A38A      STD	Y+34,R24
(1031)     lcd_write_pos(1,0);
    02034 2722      CLR	R18
    02035 E001      LDI	R16,1
    02036 940E 0657 CALL	_lcd_write_pos
(1032)   for(i=0;i<8;i++){
    02038 2766      CLR	R22
    02039 2777      CLR	R23
    0203A C020      RJMP	0x205B
(1033)    lcd_write_char_con(0,0x30 | date[i]);
    0203B 01CE      MOVW	R24,R28
    0203C 9608      ADIW	R24,0x8
    0203D 01FB      MOVW	R30,R22
    0203E 0FEE      LSL	R30
    0203F 1FFF      ROL	R31
    02040 0FE8      ADD	R30,R24
    02041 1FF9      ADC	R31,R25
    02042 8120      LD	R18,Z
    02043 8131      LDD	R19,Z+1
    02044 6320      ORI	R18,0x30
    02045 2700      CLR	R16
    02046 940E 0643 CALL	_lcd_write_char_con
(1034)     lcd_write_char_con(0,' ');
    02048 E220      LDI	R18,0x20
    02049 2700      CLR	R16
    0204A 940E 0643 CALL	_lcd_write_char_con
(1035) 	if(i==3 || i==5){
    0204C 3063      CPI	R22,3
    0204D E0E0      LDI	R30,0
    0204E 077E      CPC	R23,R30
    0204F F021      BEQ	0x2054
    02050 3065      CPI	R22,5
    02051 E0E0      LDI	R30,0
    02052 077E      CPC	R23,R30
    02053 F429      BNE	0x2059
(1036) 	  lcd_write_str_con(0,"- ");
    02054 E62E      LDI	R18,0x6E
    02055 E037      LDI	R19,7
    02056 2700      CLR	R16
    02057 940E 06E5 CALL	_lcd_write_str_con
    02059 5F6F      SUBI	R22,0xFF
    0205A 4F7F      SBCI	R23,0xFF
    0205B 3068      CPI	R22,0x8
    0205C E0E0      LDI	R30,0
    0205D 077E      CPC	R23,R30
    0205E F2E0      BCS	0x203B
(1037) 	}
(1038)   }
(1039)    lcd_write_pos(2,1);
    0205F E021      LDI	R18,1
    02060 E002      LDI	R16,2
    02061 940E 0657 CALL	_lcd_write_pos
(1040)    for(i=8;i<14;i++){
    02063 E068      LDI	R22,0x8
    02064 E070      LDI	R23,0
    02065 C020      RJMP	0x2086
(1041)    lcd_write_char_con(1,0x30 | date[i]);
    02066 01CE      MOVW	R24,R28
    02067 9608      ADIW	R24,0x8
    02068 01FB      MOVW	R30,R22
    02069 0FEE      LSL	R30
    0206A 1FFF      ROL	R31
    0206B 0FE8      ADD	R30,R24
    0206C 1FF9      ADC	R31,R25
    0206D 8120      LD	R18,Z
    0206E 8131      LDD	R19,Z+1
    0206F 6320      ORI	R18,0x30
    02070 E001      LDI	R16,1
    02071 940E 0643 CALL	_lcd_write_char_con
(1042)    lcd_write_char_con(0,' ');
    02073 E220      LDI	R18,0x20
    02074 2700      CLR	R16
    02075 940E 0643 CALL	_lcd_write_char_con
(1043)    if(i==9 || i==11){
    02077 3069      CPI	R22,0x9
    02078 E0E0      LDI	R30,0
    02079 077E      CPC	R23,R30
    0207A F021      BEQ	0x207F
    0207B 306B      CPI	R22,0xB
    0207C E0E0      LDI	R30,0
    0207D 077E      CPC	R23,R30
    0207E F429      BNE	0x2084
(1044) 	 lcd_write_str_con(0,": ");
    0207F EE23      LDI	R18,0xE3
    02080 E037      LDI	R19,7
    02081 2700      CLR	R16
    02082 940E 06E5 CALL	_lcd_write_str_con
    02084 5F6F      SUBI	R22,0xFF
    02085 4F7F      SBCI	R23,0xFF
    02086 306E      CPI	R22,0xE
    02087 E0E0      LDI	R30,0
    02088 077E      CPC	R23,R30
    02089 F2E0      BCS	0x2066
(1045)    }
(1046)   } 
(1047)    lcd_write_str(3,2,"保存");
    0208A ED87      LDI	R24,0xD7
    0208B E097      LDI	R25,7
    0208C 8399      STD	Y+1,R25
    0208D 8388      ST	Y,R24
    0208E E022      LDI	R18,2
    0208F E003      LDI	R16,3
    02090 940E 069B CALL	_lcd_write_str
(1048)    lcd_write_str(8,2,"取消");
    02092 E388      LDI	R24,0x38
    02093 E098      LDI	R25,0x8
    02094 8399      STD	Y+1,R25
    02095 8388      ST	Y,R24
    02096 E022      LDI	R18,2
    02097 E008      LDI	R16,0x8
    02098 940E 069B CALL	_lcd_write_str
(1049)    //初始化date
(1050)   
(1051)    cur=0;
    0209A 2744      CLR	R20
    0209B 2755      CLR	R21
(1052)    lcd_write_pos(1,0);//初始游标位置
    0209C 2722      CLR	R18
    0209D E001      LDI	R16,1
    0209E 940E 0657 CALL	_lcd_write_pos
(1053)    cur_set(3);//上半屏幕游标设置
    020A0 E003      LDI	R16,3
    020A1 E010      LDI	R17,0
    020A2 940E 080C CALL	_cur_set
    020A4 C284      RJMP	0x2329
(1054)    while(1){
(1055)      pageTime(3);//
    020A5 E003      LDI	R16,3
    020A6 E010      LDI	R17,0
    020A7 940E 0F8B CALL	_pageTime
(1056) 	 keyV=KeyScan_once();
    020A9 940E 0538 CALL	_KeyScan_once
    020AB 2EA0      MOV	R10,R16
    020AC 2D6A      MOV	R22,R10
(1057) 	 if(keyV=='u'){
    020AD 3705      CPI	R16,0x75
    020AE F571      BNE	0x20DD
(1058) 	   if(cur>13){//调到时间第一个
    020AF E08D      LDI	R24,0xD
    020B0 E090      LDI	R25,0
    020B1 1784      CP	R24,R20
    020B2 0795      CPC	R25,R21
    020B3 F4B8      BCC	0x20CB
(1059) 	        Set_White_off(4,2,5);
    020B4 E085      LDI	R24,5
    020B5 8388      ST	Y,R24
    020B6 E022      LDI	R18,2
    020B7 E004      LDI	R16,4
    020B8 940E 0850 CALL	_Set_White_off
(1060) 			Set_White_off(9,2,10);
    020BA E08A      LDI	R24,0xA
    020BB 8388      ST	Y,R24
    020BC E022      LDI	R18,2
    020BD E009      LDI	R16,0x9
    020BE 940E 0850 CALL	_Set_White_off
(1061) 	        lcd_write_pos(2,1);
    020C0 E021      LDI	R18,1
    020C1 E002      LDI	R16,2
    020C2 940E 0657 CALL	_lcd_write_pos
(1062) 		    cur_set(3);
    020C4 E003      LDI	R16,3
    020C5 E010      LDI	R17,0
    020C6 940E 080C CALL	_cur_set
(1063) 			cur=8; 
    020C8 E048      LDI	R20,0x8
    020C9 E050      LDI	R21,0
(1064) 		   }else if(cur>7 && cur <14){//调到日期第一个
    020CA C25E      RJMP	0x2329
    020CB E087      LDI	R24,7
    020CC E090      LDI	R25,0
    020CD 1784      CP	R24,R20
    020CE 0795      CPC	R25,R21
    020CF F008      BCS	0x20D1
    020D0 C258      RJMP	0x2329
    020D1 304E      CPI	R20,0xE
    020D2 E0E0      LDI	R30,0
    020D3 075E      CPC	R21,R30
    020D4 F008      BCS	0x20D6
    020D5 C253      RJMP	0x2329
(1065) 		    lcd_write_pos(1,0);
    020D6 2722      CLR	R18
    020D7 E001      LDI	R16,1
    020D8 940E 0657 CALL	_lcd_write_pos
(1066) 			cur=0; 
    020DA 2744      CLR	R20
    020DB 2755      CLR	R21
(1067) 		   }
(1068) 	 }else if(keyV=='d'){
    020DC C24C      RJMP	0x2329
    020DD 3664      CPI	R22,0x64
    020DE F519      BNE	0x2102
(1069) 	     if(cur>7 && cur <14){//在时间上，第三行，默认要保存，所以调到保存上
    020DF E087      LDI	R24,7
    020E0 E090      LDI	R25,0
    020E1 1784      CP	R24,R20
    020E2 0795      CPC	R25,R21
    020E3 F488      BCC	0x20F5
    020E4 304E      CPI	R20,0xE
    020E5 E0E0      LDI	R30,0
    020E6 075E      CPC	R21,R30
    020E7 F468      BCC	0x20F5
(1070) 		      cur_set(0);//关下半屏幕游标
    020E8 2700      CLR	R16
    020E9 2711      CLR	R17
    020EA 940E 080C CALL	_cur_set
(1071) 			  Set_White(4,2,5);
    020EC E085      LDI	R24,5
    020ED 8388      ST	Y,R24
    020EE E022      LDI	R18,2
    020EF E004      LDI	R16,4
    020F0 940E 08C0 CALL	_Set_White
(1072) 			  cur=14;
    020F2 E04E      LDI	R20,0xE
    020F3 E050      LDI	R21,0
(1073) 		 }else if(cur<=7){ //调到时间第一个
    020F4 C234      RJMP	0x2329
    020F5 E087      LDI	R24,7
    020F6 E090      LDI	R25,0
    020F7 1784      CP	R24,R20
    020F8 0795      CPC	R25,R21
    020F9 F408      BCC	0x20FB
    020FA C22E      RJMP	0x2329
(1074) 		    lcd_write_pos(2,1);
    020FB E021      LDI	R18,1
    020FC E002      LDI	R16,2
    020FD 940E 0657 CALL	_lcd_write_pos
(1075) 			cur=8; 
    020FF E048      LDI	R20,0x8
    02100 E050      LDI	R21,0
(1076) 		 }
(1077) 	 }else if(keyV=='l'){
    02101 C227      RJMP	0x2329
    02102 366C      CPI	R22,0x6C
    02103 F009      BEQ	0x2105
    02104 C043      RJMP	0x2148
(1078) 			if(cur<=8 && cur>0){
    02105 E088      LDI	R24,0x8
    02106 E090      LDI	R25,0
    02107 1784      CP	R24,R20
    02108 0795      CPC	R25,R21
    02109 F090      BCS	0x211C
    0210A 3040      CPI	R20,0
    0210B 0745      CPC	R20,R21
    0210C F079      BEQ	0x211C
(1079) 			 cur--;
    0210D 5041      SUBI	R20,1
    0210E 4050      SBCI	R21,0
(1080) 			 lcd_write_pos(dateAc[cur],0);
    0210F 2722      CLR	R18
    02110 01CE      MOVW	R24,R28
    02111 9686      ADIW	R24,0x26
    02112 01FA      MOVW	R30,R20
    02113 0FEE      LSL	R30
    02114 1FFF      ROL	R31
    02115 0FE8      ADD	R30,R24
    02116 1FF9      ADC	R31,R25
    02117 8100      LD	R16,Z
    02118 8111      LDD	R17,Z+1
    02119 940E 0657 CALL	_lcd_write_pos
(1081) 			}else if (cur>8 && cur<14){
    0211B C20D      RJMP	0x2329
    0211C E088      LDI	R24,0x8
    0211D E090      LDI	R25,0
    0211E 1784      CP	R24,R20
    0211F 0795      CPC	R25,R21
    02120 F498      BCC	0x2134
    02121 304E      CPI	R20,0xE
    02122 E0E0      LDI	R30,0
    02123 075E      CPC	R21,R30
    02124 F478      BCC	0x2134
(1082) 			 cur--;
    02125 5041      SUBI	R20,1
    02126 4050      SBCI	R21,0
(1083) 			 lcd_write_pos(dateAc[cur],1);
    02127 E021      LDI	R18,1
    02128 01CE      MOVW	R24,R28
    02129 9686      ADIW	R24,0x26
    0212A 01FA      MOVW	R30,R20
    0212B 0FEE      LSL	R30
    0212C 1FFF      ROL	R31
    0212D 0FE8      ADD	R30,R24
    0212E 1FF9      ADC	R31,R25
    0212F 8100      LD	R16,Z
    02130 8111      LDD	R17,Z+1
    02131 940E 0657 CALL	_lcd_write_pos
(1084) 			}else if (cur==15){
    02133 C1F5      RJMP	0x2329
    02134 304F      CPI	R20,0xF
    02135 E0E0      LDI	R30,0
    02136 075E      CPC	R21,R30
    02137 F009      BEQ	0x2139
    02138 C1F0      RJMP	0x2329
(1085) 			    Set_White_off(9,2,10);
    02139 E08A      LDI	R24,0xA
    0213A 8388      ST	Y,R24
    0213B E022      LDI	R18,2
    0213C E009      LDI	R16,0x9
    0213D 940E 0850 CALL	_Set_White_off
(1086) 			    Set_White(4,2,5);
    0213F E085      LDI	R24,5
    02140 8388      ST	Y,R24
    02141 E022      LDI	R18,2
    02142 E004      LDI	R16,4
    02143 940E 08C0 CALL	_Set_White
(1087) 				cur=14;
    02145 E04E      LDI	R20,0xE
    02146 E050      LDI	R21,0
(1088) 			}
(1089) 			
(1090) 		
(1091) 	 }else if(keyV=='r'){
    02147 C1E1      RJMP	0x2329
    02148 3762      CPI	R22,0x72
    02149 F009      BEQ	0x214B
    0214A C03A      RJMP	0x2185
(1092) 	       if(cur<7){
    0214B 3047      CPI	R20,7
    0214C E0E0      LDI	R30,0
    0214D 075E      CPC	R21,R30
    0214E F478      BCC	0x215E
(1093) 			   cur++;
    0214F 5F4F      SUBI	R20,0xFF
    02150 4F5F      SBCI	R21,0xFF
(1094) 			   lcd_write_pos(dateAc[cur],0);
    02151 2722      CLR	R18
    02152 01CE      MOVW	R24,R28
    02153 9686      ADIW	R24,0x26
    02154 01FA      MOVW	R30,R20
    02155 0FEE      LSL	R30
    02156 1FFF      ROL	R31
    02157 0FE8      ADD	R30,R24
    02158 1FF9      ADC	R31,R25
    02159 8100      LD	R16,Z
    0215A 8111      LDD	R17,Z+1
    0215B 940E 0657 CALL	_lcd_write_pos
(1095) 			}else if (cur<13){
    0215D C1CB      RJMP	0x2329
    0215E 304D      CPI	R20,0xD
    0215F E0E0      LDI	R30,0
    02160 075E      CPC	R21,R30
    02161 F478      BCC	0x2171
(1096) 			   cur++;
    02162 5F4F      SUBI	R20,0xFF
    02163 4F5F      SBCI	R21,0xFF
(1097) 			   lcd_write_pos(dateAc[cur],1);
    02164 E021      LDI	R18,1
    02165 01CE      MOVW	R24,R28
    02166 9686      ADIW	R24,0x26
    02167 01FA      MOVW	R30,R20
    02168 0FEE      LSL	R30
    02169 1FFF      ROL	R31
    0216A 0FE8      ADD	R30,R24
    0216B 1FF9      ADC	R31,R25
    0216C 8100      LD	R16,Z
    0216D 8111      LDD	R17,Z+1
    0216E 940E 0657 CALL	_lcd_write_pos
(1098) 			}else if (cur==14){
    02170 C1B8      RJMP	0x2329
    02171 304E      CPI	R20,0xE
    02172 E0E0      LDI	R30,0
    02173 075E      CPC	R21,R30
    02174 F009      BEQ	0x2176
    02175 C1B3      RJMP	0x2329
(1099) 			    Set_White_off(4,2,5);
    02176 E085      LDI	R24,5
    02177 8388      ST	Y,R24
    02178 E022      LDI	R18,2
    02179 E004      LDI	R16,4
    0217A 940E 0850 CALL	_Set_White_off
(1100) 				Set_White(9,2,10);
    0217C E08A      LDI	R24,0xA
    0217D 8388      ST	Y,R24
    0217E E022      LDI	R18,2
    0217F E009      LDI	R16,0x9
    02180 940E 08C0 CALL	_Set_White
(1101) 				cur=15;
    02182 E04F      LDI	R20,0xF
    02183 E050      LDI	R21,0
(1102) 			}
(1103) 	 }else if(keyV=='e'){
    02184 C1A4      RJMP	0x2329
    02185 3665      CPI	R22,0x65
    02186 F4B9      BNE	0x219E
(1104) 	     cur_set(0);//关上半屏幕游标
    02187 2700      CLR	R16
    02188 2711      CLR	R17
    02189 940E 080C CALL	_cur_set
(1105) 		  Set_White_off(4,2,5);
    0218B E085      LDI	R24,5
    0218C 8388      ST	Y,R24
    0218D E022      LDI	R18,2
    0218E E004      LDI	R16,4
    0218F 940E 0850 CALL	_Set_White_off
(1106) 		  Set_White_off(9,2,10);
    02191 E08A      LDI	R24,0xA
    02192 8388      ST	Y,R24
    02193 E022      LDI	R18,2
    02194 E009      LDI	R16,0x9
    02195 940E 0850 CALL	_Set_White_off
(1107) 		 pageNum=1;
    02197 E081      LDI	R24,1
    02198 E090      LDI	R25,0
    02199 9390 0D61 STS	pageNum+1,R25
    0219B 9380 0D60 STS	pageNum,R24
(1108) 		 return;
    0219D C18C      RJMP	0x232A
(1109) 	     //退出界面
(1110) 	 }else if(keyV=='t'){
    0219E 3764      CPI	R22,0x74
    0219F F009      BEQ	0x21A1
    021A0 C085      RJMP	0x2226
(1111) 	      if(cur==14){
    021A1 304E      CPI	R20,0xE
    021A2 E0E0      LDI	R30,0
    021A3 075E      CPC	R21,R30
    021A4 F009      BEQ	0x21A6
    021A5 C064      RJMP	0x220A
(1112) 		      setTime((date[2]*16)+date[3],(date[4]*16)+date[5],(date[6]*16)+date[7],(date[8]*16)+date[9],(date[10]*16)+date[11],(date[12]*16)+date[13]);
    021A6 A128      LDD	R18,Y+32
    021A7 A139      LDD	R19,Y+33
    021A8 E100      LDI	R16,0x10
    021A9 E010      LDI	R17,0
    021AA 940E 376B CALL	empy16s
    021AC 0118      MOVW	R2,R16
    021AD A04A      LDD	R4,Y+34
    021AE A05B      LDD	R5,Y+35
    021AF 0C24      ADD	R2,R4
    021B0 1C35      ADC	R3,R5
    021B1 823F      STD	Y+7,R3
    021B2 822E      STD	Y+6,R2
    021B3 8D2C      LDD	R18,Y+28
    021B4 8D3D      LDD	R19,Y+29
    021B5 E100      LDI	R16,0x10
    021B6 E010      LDI	R17,0
    021B7 940E 376B CALL	empy16s
    021B9 0118      MOVW	R2,R16
    021BA 8C4E      LDD	R4,Y+30
    021BB 8C5F      LDD	R5,Y+31
    021BC 0C24      ADD	R2,R4
    021BD 1C35      ADC	R3,R5
    021BE 823D      STD	Y+5,R3
    021BF 822C      STD	Y+4,R2
    021C0 8D28      LDD	R18,Y+24
    021C1 8D39      LDD	R19,Y+25
    021C2 E100      LDI	R16,0x10
    021C3 E010      LDI	R17,0
    021C4 940E 376B CALL	empy16s
    021C6 0118      MOVW	R2,R16
    021C7 8C4A      LDD	R4,Y+26
    021C8 8C5B      LDD	R5,Y+27
    021C9 0C24      ADD	R2,R4
    021CA 1C35      ADC	R3,R5
    021CB 823B      STD	Y+3,R3
    021CC 822A      STD	Y+2,R2
    021CD 892C      LDD	R18,Y+20
    021CE 893D      LDD	R19,Y+21
    021CF E100      LDI	R16,0x10
    021D0 E010      LDI	R17,0
    021D1 940E 376B CALL	empy16s
    021D3 0118      MOVW	R2,R16
    021D4 884E      LDD	R4,Y+22
    021D5 885F      LDD	R5,Y+23
    021D6 0C24      ADD	R2,R4
    021D7 1C35      ADC	R3,R5
    021D8 8239      STD	Y+1,R3
    021D9 8228      ST	Y,R2
    021DA 8928      LDD	R18,Y+16
    021DB 8939      LDD	R19,Y+17
    021DC E100      LDI	R16,0x10
    021DD E010      LDI	R17,0
    021DE 940E 376B CALL	empy16s
    021E0 0198      MOVW	R18,R16
    021E1 882A      LDD	R2,Y+18
    021E2 883B      LDD	R3,Y+19
    021E3 0D22      ADD	R18,R2
    021E4 1D33      ADC	R19,R3
    021E5 842C      LDD	R2,Y+12
    021E6 843D      LDD	R3,Y+13
    021E7 E100      LDI	R16,0x10
    021E8 E010      LDI	R17,0
    021E9 932F      PUSH	R18
    021EA 933F      PUSH	R19
    021EB 0191      MOVW	R18,R2
    021EC 940E 376B CALL	empy16s
    021EE 0118      MOVW	R2,R16
    021EF 913F      POP	R19
    021F0 912F      POP	R18
    021F1 844E      LDD	R4,Y+14
    021F2 845F      LDD	R5,Y+15
    021F3 0C24      ADD	R2,R4
    021F4 1C35      ADC	R3,R5
    021F5 0181      MOVW	R16,R2
    021F6 940E 3656 CALL	_setTime
(1113) 		        //setTime(1*16+2,1<<4+2+0x00,2*16+2,1<<4+2+0x00,5+0x00,5<<4+1+0x00);
(1114) 				//保存操作
(1115) 				pageParam[1]=0;//标记是时间的保存
    021F8 2422      CLR	R2
    021F9 2433      CLR	R3
    021FA 9230 0D59 STS	pageParam+3,R3
    021FC 9220 0D58 STS	pageParam+2,R2
(1116) 				prePageNum=8;
    021FE E088      LDI	R24,0x8
    021FF E090      LDI	R25,0
    02200 9390 0D55 STS	prePageNum+1,R25
    02202 9380 0D54 STS	prePageNum,R24
(1117) 				pageNum=6;
    02204 E086      LDI	R24,6
    02205 9390 0D61 STS	pageNum+1,R25
    02207 9380 0D60 STS	pageNum,R24
(1118) 				return;
    02209 C120      RJMP	0x232A
(1119) 		 }else if(cur==15){
    0220A 304F      CPI	R20,0xF
    0220B E0E0      LDI	R30,0
    0220C 075E      CPC	R21,R30
    0220D F009      BEQ	0x220F
    0220E C11A      RJMP	0x2329
(1120) 		        //取消操作
(1121) 			 cur_set(0);//关上半屏幕游标
    0220F 2700      CLR	R16
    02210 2711      CLR	R17
    02211 940E 080C CALL	_cur_set
(1122) 		  Set_White_off(4,2,5);
    02213 E085      LDI	R24,5
    02214 8388      ST	Y,R24
    02215 E022      LDI	R18,2
    02216 E004      LDI	R16,4
    02217 940E 0850 CALL	_Set_White_off
(1123) 		  Set_White_off(9,2,10);
    02219 E08A      LDI	R24,0xA
    0221A 8388      ST	Y,R24
    0221B E022      LDI	R18,2
    0221C E009      LDI	R16,0x9
    0221D 940E 0850 CALL	_Set_White_off
(1124) 		 pageNum=1;
    0221F E081      LDI	R24,1
    02220 E090      LDI	R25,0
    02221 9390 0D61 STS	pageNum+1,R25
    02223 9380 0D60 STS	pageNum,R24
(1125) 		 return;
    02225 C104      RJMP	0x232A
(1126) 		 }
(1127) 	 }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    02226 3360      CPI	R22,0x30
    02227 F099      BEQ	0x223B
    02228 3361      CPI	R22,0x31
    02229 F089      BEQ	0x223B
    0222A 3362      CPI	R22,0x32
    0222B F079      BEQ	0x223B
    0222C 3363      CPI	R22,0x33
    0222D F069      BEQ	0x223B
    0222E 3364      CPI	R22,0x34
    0222F F059      BEQ	0x223B
    02230 3365      CPI	R22,0x35
    02231 F049      BEQ	0x223B
    02232 3366      CPI	R22,0x36
    02233 F039      BEQ	0x223B
    02234 3367      CPI	R22,0x37
    02235 F029      BEQ	0x223B
    02236 3368      CPI	R22,0x38
    02237 F019      BEQ	0x223B
    02238 3369      CPI	R22,0x39
    02239 F009      BEQ	0x223B
    0223A C0EE      RJMP	0x2329
(1128) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(1129) 			if(cur<14){
    0223B 304E      CPI	R20,0xE
    0223C E0E0      LDI	R30,0
    0223D 075E      CPC	R21,R30
    0223E F008      BCS	0x2240
    0223F C0E9      RJMP	0x2329
(1130) 			 lcd_write_char_con(0,0x30 | keyV);
    02240 2F26      MOV	R18,R22
    02241 6320      ORI	R18,0x30
    02242 2700      CLR	R16
    02243 940E 0643 CALL	_lcd_write_char_con
(1131) 			 lcd_write_char_con(0,' ');
    02245 E220      LDI	R18,0x20
    02246 2700      CLR	R16
    02247 940E 0643 CALL	_lcd_write_char_con
(1132) 			 switch(keyV){
    02249 2777      CLR	R23
    0224A 3360      CPI	R22,0x30
    0224B E0E0      LDI	R30,0
    0224C 077E      CPC	R23,R30
    0224D F409      BNE	0x224F
    0224E C02E      RJMP	0x227D
    0224F 3361      CPI	R22,0x31
    02250 E0E0      LDI	R30,0
    02251 077E      CPC	R23,R30
    02252 F409      BNE	0x2254
    02253 C035      RJMP	0x2289
    02254 3362      CPI	R22,0x32
    02255 E0E0      LDI	R30,0
    02256 077E      CPC	R23,R30
    02257 F409      BNE	0x2259
    02258 C03C      RJMP	0x2295
    02259 3363      CPI	R22,0x33
    0225A E0E0      LDI	R30,0
    0225B 077E      CPC	R23,R30
    0225C F409      BNE	0x225E
    0225D C043      RJMP	0x22A1
    0225E 3364      CPI	R22,0x34
    0225F E0E0      LDI	R30,0
    02260 077E      CPC	R23,R30
    02261 F409      BNE	0x2263
    02262 C04A      RJMP	0x22AD
    02263 3365      CPI	R22,0x35
    02264 E0E0      LDI	R30,0
    02265 077E      CPC	R23,R30
    02266 F409      BNE	0x2268
    02267 C051      RJMP	0x22B9
    02268 3366      CPI	R22,0x36
    02269 E0E0      LDI	R30,0
    0226A 077E      CPC	R23,R30
    0226B F409      BNE	0x226D
    0226C C058      RJMP	0x22C5
    0226D 3367      CPI	R22,0x37
    0226E E0E0      LDI	R30,0
    0226F 077E      CPC	R23,R30
    02270 F409      BNE	0x2272
    02271 C05F      RJMP	0x22D1
    02272 3368      CPI	R22,0x38
    02273 E0E0      LDI	R30,0
    02274 077E      CPC	R23,R30
    02275 F409      BNE	0x2277
    02276 C066      RJMP	0x22DD
    02277 3369      CPI	R22,0x39
    02278 E0E0      LDI	R30,0
    02279 077E      CPC	R23,R30
    0227A F409      BNE	0x227C
    0227B C06D      RJMP	0x22E9
    0227C C077      RJMP	0x22F4
(1133) 			  case '0':
(1134) 			    date[cur]=0;
    0227D 01CE      MOVW	R24,R28
    0227E 9608      ADIW	R24,0x8
    0227F 01FA      MOVW	R30,R20
    02280 0FEE      LSL	R30
    02281 1FFF      ROL	R31
    02282 0FE8      ADD	R30,R24
    02283 1FF9      ADC	R31,R25
    02284 2422      CLR	R2
    02285 2433      CLR	R3
    02286 8231      STD	Z+1,R3
    02287 8220      ST	Z,R2
(1135) 			    break;
    02288 C06B      RJMP	0x22F4
(1136) 			  case '1':
(1137) 			    date[cur]=1;
    02289 01CE      MOVW	R24,R28
    0228A 9608      ADIW	R24,0x8
    0228B 01FA      MOVW	R30,R20
    0228C 0FEE      LSL	R30
    0228D 1FFF      ROL	R31
    0228E 0FE8      ADD	R30,R24
    0228F 1FF9      ADC	R31,R25
    02290 E081      LDI	R24,1
    02291 E090      LDI	R25,0
    02292 8391      STD	Z+1,R25
    02293 8380      ST	Z,R24
(1138) 			    break;
    02294 C05F      RJMP	0x22F4
(1139) 			  case '2':
(1140) 			    date[cur]=2;
    02295 01CE      MOVW	R24,R28
    02296 9608      ADIW	R24,0x8
    02297 01FA      MOVW	R30,R20
    02298 0FEE      LSL	R30
    02299 1FFF      ROL	R31
    0229A 0FE8      ADD	R30,R24
    0229B 1FF9      ADC	R31,R25
    0229C E082      LDI	R24,2
    0229D E090      LDI	R25,0
    0229E 8391      STD	Z+1,R25
    0229F 8380      ST	Z,R24
(1141) 			    break;
    022A0 C053      RJMP	0x22F4
(1142) 			  case '3':
(1143) 			    date[cur]=3;
    022A1 01CE      MOVW	R24,R28
    022A2 9608      ADIW	R24,0x8
    022A3 01FA      MOVW	R30,R20
    022A4 0FEE      LSL	R30
    022A5 1FFF      ROL	R31
    022A6 0FE8      ADD	R30,R24
    022A7 1FF9      ADC	R31,R25
    022A8 E083      LDI	R24,3
    022A9 E090      LDI	R25,0
    022AA 8391      STD	Z+1,R25
    022AB 8380      ST	Z,R24
(1144) 			    break;
    022AC C047      RJMP	0x22F4
(1145) 			  case '4':
(1146) 			    date[cur]=4;
    022AD 01CE      MOVW	R24,R28
    022AE 9608      ADIW	R24,0x8
    022AF 01FA      MOVW	R30,R20
    022B0 0FEE      LSL	R30
    022B1 1FFF      ROL	R31
    022B2 0FE8      ADD	R30,R24
    022B3 1FF9      ADC	R31,R25
    022B4 E084      LDI	R24,4
    022B5 E090      LDI	R25,0
    022B6 8391      STD	Z+1,R25
    022B7 8380      ST	Z,R24
(1147) 			    break;
    022B8 C03B      RJMP	0x22F4
(1148) 			  case '5':
(1149) 			    date[cur]=5;
    022B9 01CE      MOVW	R24,R28
    022BA 9608      ADIW	R24,0x8
    022BB 01FA      MOVW	R30,R20
    022BC 0FEE      LSL	R30
    022BD 1FFF      ROL	R31
    022BE 0FE8      ADD	R30,R24
    022BF 1FF9      ADC	R31,R25
    022C0 E085      LDI	R24,5
    022C1 E090      LDI	R25,0
    022C2 8391      STD	Z+1,R25
    022C3 8380      ST	Z,R24
(1150) 			    break;
    022C4 C02F      RJMP	0x22F4
(1151) 			  case '6':
(1152) 			    date[cur]=6;
    022C5 01CE      MOVW	R24,R28
    022C6 9608      ADIW	R24,0x8
    022C7 01FA      MOVW	R30,R20
    022C8 0FEE      LSL	R30
    022C9 1FFF      ROL	R31
    022CA 0FE8      ADD	R30,R24
    022CB 1FF9      ADC	R31,R25
    022CC E086      LDI	R24,6
    022CD E090      LDI	R25,0
    022CE 8391      STD	Z+1,R25
    022CF 8380      ST	Z,R24
(1153) 			    break;
    022D0 C023      RJMP	0x22F4
(1154) 			  case '7':
(1155) 			    date[cur]=7;
    022D1 01CE      MOVW	R24,R28
    022D2 9608      ADIW	R24,0x8
    022D3 01FA      MOVW	R30,R20
    022D4 0FEE      LSL	R30
    022D5 1FFF      ROL	R31
    022D6 0FE8      ADD	R30,R24
    022D7 1FF9      ADC	R31,R25
    022D8 E087      LDI	R24,7
    022D9 E090      LDI	R25,0
    022DA 8391      STD	Z+1,R25
    022DB 8380      ST	Z,R24
(1156) 			    break;
    022DC C017      RJMP	0x22F4
(1157) 		      case '8':
(1158) 			    date[cur]=8;
    022DD 01CE      MOVW	R24,R28
    022DE 9608      ADIW	R24,0x8
    022DF 01FA      MOVW	R30,R20
    022E0 0FEE      LSL	R30
    022E1 1FFF      ROL	R31
    022E2 0FE8      ADD	R30,R24
    022E3 1FF9      ADC	R31,R25
    022E4 E088      LDI	R24,0x8
    022E5 E090      LDI	R25,0
    022E6 8391      STD	Z+1,R25
    022E7 8380      ST	Z,R24
(1159) 			    break;
    022E8 C00B      RJMP	0x22F4
(1160) 			  case '9':
(1161) 			    date[cur]=9;
    022E9 01CE      MOVW	R24,R28
    022EA 9608      ADIW	R24,0x8
    022EB 01FA      MOVW	R30,R20
    022EC 0FEE      LSL	R30
    022ED 1FFF      ROL	R31
    022EE 0FE8      ADD	R30,R24
    022EF 1FF9      ADC	R31,R25
    022F0 E089      LDI	R24,0x9
    022F1 E090      LDI	R25,0
    022F2 8391      STD	Z+1,R25
    022F3 8380      ST	Z,R24
(1162) 			    break;
(1163) 			  
(1164) 			 }
(1165) 			  if(cur==3 || cur==5){
    022F4 3043      CPI	R20,3
    022F5 E0E0      LDI	R30,0
    022F6 075E      CPC	R21,R30
    022F7 F021      BEQ	0x22FC
    022F8 3045      CPI	R20,5
    022F9 E0E0      LDI	R30,0
    022FA 075E      CPC	R21,R30
    022FB F431      BNE	0x2302
(1166) 			    lcd_write_str_con(0,"- ");
    022FC E62E      LDI	R18,0x6E
    022FD E037      LDI	R19,7
    022FE 2700      CLR	R16
    022FF 940E 06E5 CALL	_lcd_write_str_con
(1167) 			 }else if(cur==9 || cur==11){
    02301 C00D      RJMP	0x230F
    02302 3049      CPI	R20,0x9
    02303 E0E0      LDI	R30,0
    02304 075E      CPC	R21,R30
    02305 F021      BEQ	0x230A
    02306 304B      CPI	R20,0xB
    02307 E0E0      LDI	R30,0
    02308 075E      CPC	R21,R30
    02309 F429      BNE	0x230F
(1168) 			    lcd_write_str_con(0,": ");
    0230A EE23      LDI	R18,0xE3
    0230B E037      LDI	R19,7
    0230C 2700      CLR	R16
    0230D 940E 06E5 CALL	_lcd_write_str_con
(1169) 			 }
(1170) 			 cur++;
    0230F 5F4F      SUBI	R20,0xFF
    02310 4F5F      SBCI	R21,0xFF
(1171) 			 if(cur==8){
    02311 3048      CPI	R20,0x8
    02312 E0E0      LDI	R30,0
    02313 075E      CPC	R21,R30
    02314 F431      BNE	0x231B
(1172) 			    lcd_write_pos(dateAc[8],1);
    02315 E021      LDI	R18,1
    02316 A90E      LDD	R16,Y+54
    02317 A91F      LDD	R17,Y+55
    02318 940E 0657 CALL	_lcd_write_pos
(1173) 			 }else if(cur==14){
    0231A C00E      RJMP	0x2329
    0231B 304E      CPI	R20,0xE
    0231C E0E0      LDI	R30,0
    0231D 075E      CPC	R21,R30
    0231E F451      BNE	0x2329
(1174) 			  cur_set(0);//关下半屏幕游标
    0231F 2700      CLR	R16
    02320 2711      CLR	R17
    02321 940E 080C CALL	_cur_set
(1175) 			  Set_White(4,2,5);
    02323 E085      LDI	R24,5
    02324 8388      ST	Y,R24
    02325 E022      LDI	R18,2
    02326 E004      LDI	R16,4
    02327 940E 08C0 CALL	_Set_White
    02329 CD7B      RJMP	0x20A5
    0232A 96EF      ADIW	R28,0x3F
    0232B 9623      ADIW	R28,3
    0232C 940C 37B8 JMP	pop_xgsetF00C
_page9:
    0232E 9722      SBIW	R28,2
(1176) 			 }
(1177) 			}
(1178) 	 }
(1179)    }
(1180)  }
(1181) void page9(void){//复用的方法
(1182)   if(pageParam[2]==0){
    0232F 9020 0D5A LDS	R2,pageParam+4
    02331 9030 0D5B LDS	R3,pageParam+5
    02333 2022      TST	R2
    02334 F481      BNE	0x2345
    02335 2033      TST	R3
    02336 F471      BNE	0x2345
(1183)      lcd_write_str(4,1,"系统重置中。。。");
    02337 E58D      LDI	R24,0x5D
    02338 E097      LDI	R25,7
    02339 8399      STD	Y+1,R25
    0233A 8388      ST	Y,R24
    0233B E021      LDI	R18,1
    0233C E004      LDI	R16,4
    0233D 940E 069B CALL	_lcd_write_str
(1184) 	 //是否需要清除数据，考虑中
(1185) 	 WDTCR|=(1<<WDCE)|(1<<WDE); /* 置位 WDTOE 和 WDE(在设置看门狗定时器的预置分频器参数时需要将其写1)*/
    0233F B581      IN	R24,0x21
    02340 6188      ORI	R24,0x18
    02341 BD81      OUT	0x21,R24
(1186)      WDTCR=(1<<WDE)|(1<<WDP2)|(1<<WDP1); /*设定周期为1S*/
    02342 E08E      LDI	R24,0xE
    02343 BD81      OUT	0x21,R24
(1187) 	 while(1){
    02344 CFFF      RJMP	0x2344
(1188) 	 }
(1189)    }else if(pageParam[2]==1){
    02345 9180 0D5A LDS	R24,pageParam+4
    02347 9190 0D5B LDS	R25,pageParam+5
    02349 3081      CPI	R24,1
    0234A E0E0      LDI	R30,0
    0234B 079E      CPC	R25,R30
    0234C F471      BNE	0x235B
(1190)      lcd_write_str(4,1,"数据重置中。。。");
    0234D E48C      LDI	R24,0x4C
    0234E E097      LDI	R25,7
    0234F 8399      STD	Y+1,R25
    02350 8388      ST	Y,R24
    02351 E021      LDI	R18,1
    02352 E004      LDI	R16,4
    02353 940E 069B CALL	_lcd_write_str
(1191) 	 reset_temp_data(pageParam[0]);
    02355 9100 0D56 LDS	R16,pageParam
    02357 9110 0D57 LDS	R17,pageParam+1
    02359 940E 31BC CALL	_reset_temp_data
(1192)    }
(1193)    delay_ms(50);
    0235B E302      LDI	R16,0x32
    0235C E010      LDI	R17,0
    0235D 940E 044B CALL	_delay_ms
(1194)    pageNum=prePageNum;
    0235F 9020 0D54 LDS	R2,prePageNum
    02361 9030 0D55 LDS	R3,prePageNum+1
    02363 9230 0D61 STS	pageNum+1,R3
    02365 9220 0D60 STS	pageNum,R2
    02367 9622      ADIW	R28,2
    02368 9508      RET
(1195)  }
(1196) //分发Pages
(1197) void dispatchPages(void){
(1198)       lcd_clear();//清屏幕
_dispatchPages:
    02369 940E 0752 CALL	_lcd_clear
(1199)       if(pageNum==1){
    0236B 9180 0D60 LDS	R24,pageNum
    0236D 9190 0D61 LDS	R25,pageNum+1
    0236F 3081      CPI	R24,1
    02370 E0E0      LDI	R30,0
    02371 079E      CPC	R25,R30
    02372 F419      BNE	0x2376
(1200) 	    page1();
    02373 940E 0FA7 CALL	_page1
(1201) 	  }else if(pageNum==2){
    02375 C052      RJMP	0x23C8
    02376 9180 0D60 LDS	R24,pageNum
    02378 9190 0D61 LDS	R25,pageNum+1
    0237A 3082      CPI	R24,2
    0237B E0E0      LDI	R30,0
    0237C 079E      CPC	R25,R30
    0237D F419      BNE	0x2381
(1202) 	    page2();
    0237E 940E 138A CALL	_page2
(1203) 	  }else if(pageNum==3){
    02380 C047      RJMP	0x23C8
    02381 9180 0D60 LDS	R24,pageNum
    02383 9190 0D61 LDS	R25,pageNum+1
    02385 3083      CPI	R24,3
    02386 E0E0      LDI	R30,0
    02387 079E      CPC	R25,R30
    02388 F419      BNE	0x238C
(1204) 	    page3();
    02389 940E 14AE CALL	_page3
(1205) 	  }else if(pageNum==4){
    0238B C03C      RJMP	0x23C8
    0238C 9180 0D60 LDS	R24,pageNum
    0238E 9190 0D61 LDS	R25,pageNum+1
    02390 3084      CPI	R24,4
    02391 E0E0      LDI	R30,0
    02392 079E      CPC	R25,R30
    02393 F419      BNE	0x2397
(1206) 	    page4();
    02394 940E 1AC5 CALL	_page4
(1207) 	  }else if(pageNum==5){
    02396 C031      RJMP	0x23C8
    02397 9180 0D60 LDS	R24,pageNum
    02399 9190 0D61 LDS	R25,pageNum+1
    0239B 3085      CPI	R24,5
    0239C E0E0      LDI	R30,0
    0239D 079E      CPC	R25,R30
    0239E F411      BNE	0x23A1
(1208) 	    page5();
    0239F D9EE      RCALL	_page5
(1209) 	  }else if(pageNum==6){
    023A0 C027      RJMP	0x23C8
    023A1 9180 0D60 LDS	R24,pageNum
    023A3 9190 0D61 LDS	R25,pageNum+1
    023A5 3086      CPI	R24,6
    023A6 E0E0      LDI	R30,0
    023A7 079E      CPC	R25,R30
    023A8 F411      BNE	0x23AB
(1210) 	    page6();
    023A9 DB09      RCALL	_page6
(1211) 	  }else if(pageNum==7){
    023AA C01D      RJMP	0x23C8
    023AB 9180 0D60 LDS	R24,pageNum
    023AD 9190 0D61 LDS	R25,pageNum+1
    023AF 3087      CPI	R24,7
    023B0 E0E0      LDI	R30,0
    023B1 079E      CPC	R25,R30
    023B2 F411      BNE	0x23B5
(1212) 	    page7();
    023B3 DB40      RCALL	_page7
(1213) 	  }else if(pageNum==8){
    023B4 C013      RJMP	0x23C8
    023B5 9180 0D60 LDS	R24,pageNum
    023B7 9190 0D61 LDS	R25,pageNum+1
    023B9 3088      CPI	R24,0x8
    023BA E0E0      LDI	R30,0
    023BB 079E      CPC	R25,R30
    023BC F411      BNE	0x23BF
(1214) 	    page8();
    023BD DBD6      RCALL	_page8
(1215) 	  }else if(pageNum==9){
    023BE C009      RJMP	0x23C8
    023BF 9180 0D60 LDS	R24,pageNum
    023C1 9190 0D61 LDS	R25,pageNum+1
    023C3 3089      CPI	R24,0x9
    023C4 E0E0      LDI	R30,0
    023C5 079E      CPC	R25,R30
    023C6 F409      BNE	0x23C8
(1216) 	    page9();
    023C7 DF66      RCALL	_page9
(1217) 	  }
    023C8 9508      RET
_int_int2:
  cache                --> R20
    023C9 920A      ST	-Y,R0
    023CA 921A      ST	-Y,R1
    023CB 922A      ST	-Y,R2
    023CC 923A      ST	-Y,R3
    023CD 924A      ST	-Y,R4
    023CE 925A      ST	-Y,R5
    023CF 926A      ST	-Y,R6
    023D0 927A      ST	-Y,R7
    023D1 928A      ST	-Y,R8
    023D2 929A      ST	-Y,R9
    023D3 930A      ST	-Y,R16
    023D4 931A      ST	-Y,R17
    023D5 932A      ST	-Y,R18
    023D6 933A      ST	-Y,R19
    023D7 938A      ST	-Y,R24
    023D8 939A      ST	-Y,R25
    023D9 93AA      ST	-Y,R26
    023DA 93BA      ST	-Y,R27
    023DB 93EA      ST	-Y,R30
    023DC 93FA      ST	-Y,R31
    023DD B60F      IN	R0,0x3F
    023DE 920A      ST	-Y,R0
    023DF 940E 379D CALL	push_xgset300C
    023E1 9722      SBIW	R28,2
FILE: E:\ICCDemo\Temp_Control\temp_control\temp.c
(0001) #include<iom128v.h>
(0002) #include "temp.h"
(0003) #include "main.h"
(0004) #include "eeprom.h"
(0005) #include "lcd.h"
(0006) #include "max6675.h"
(0007) uint second;
(0008) void PID_realize(uint temp_n);
(0009) void set_start_real(uint t);
(0010) 
(0011) //中断1s进入，使用int2。可以使用，但是买的这个DS1307，硬件电路问题不可以使用
(0012) //  进行状态变换和参数调整,
(0013) /*升温：没1C变化温度更改参数，状态计算
(0014) /*恒温：只计算状态
(0015) /*****************************/
(0016) #pragma interrupt_handler int_int2:4
(0017) void int_int2(void){//做温度数据时间增加操作。不能做耗时的操作.中断优先级较高
(0018)   uint cache=0;//保存多次使用的数据，局部变量更快
    023E2 2744      CLR	R20
    023E3 2755      CLR	R21
(0019)   EIMSK &= 0xFB;//关中断2
    023E4 B789      IN	R24,0x39
    023E5 7F8B      ANDI	R24,0xFB
    023E6 BF89      OUT	0x39,R24
(0020)   TIMSK&=0xBF;//关定时器2溢出中断,8位的
    023E7 B787      IN	R24,0x37
    023E8 7B8F      ANDI	R24,0xBF
    023E9 BF87      OUT	0x37,R24
(0021)   //10分钟计时
(0022)   second++;
    023EA 9180 0D6B LDS	R24,second
    023EC 9190 0D6C LDS	R25,second+1
    023EE 9601      ADIW	R24,1
    023EF 9390 0D6C STS	second+1,R25
    023F1 9380 0D6B STS	second,R24
(0023)   if(second>600){
    023F3 E588      LDI	R24,0x58
    023F4 E092      LDI	R25,2
    023F5 9020 0D6B LDS	R2,second
    023F7 9030 0D6C LDS	R3,second+1
    023F9 1582      CP	R24,R2
    023FA 0593      CPC	R25,R3
    023FB F008      BCS	0x23FD
    023FC C327      RJMP	0x2724
(0024)      //保存状态。保存flag、status、nowtime就行，下面需加上判断
(0025) 	 second=0;
    023FD 2422      CLR	R2
    023FE 2433      CLR	R3
    023FF 9230 0D6C STS	second+1,R3
    02401 9220 0D6B STS	second,R2
(0026) 	  EEPROM_write(1,133,temps[0].flag);
    02403 9020 0116 LDS	R2,temps
    02405 9030 0117 LDS	R3,temps+1
    02407 8239      STD	Y+1,R3
    02408 8228      ST	Y,R2
    02409 E825      LDI	R18,0x85
    0240A E030      LDI	R19,0
    0240B E001      LDI	R16,1
    0240C E010      LDI	R17,0
    0240D 940E 0F5E CALL	_EEPROM_write
(0027) 	  if(temps[0].flag==1 || temps[0].flag==3){
    0240F 9020 0116 LDS	R2,temps
    02411 9030 0117 LDS	R3,temps+1
    02413 01C1      MOVW	R24,R2
    02414 3081      CPI	R24,1
    02415 E0E0      LDI	R30,0
    02416 079E      CPC	R25,R30
    02417 F029      BEQ	0x241D
    02418 3083      CPI	R24,3
    02419 E0E0      LDI	R30,0
    0241A 079E      CPC	R25,R30
    0241B F009      BEQ	0x241D
    0241C C0AF      RJMP	0x24CC
(0028) 	    EEPROM_write(1,134,temps[0].status);
    0241D 9020 0220 LDS	R2,temps+266
    0241F 9030 0221 LDS	R3,temps+267
    02421 8239      STD	Y+1,R3
    02422 8228      ST	Y,R2
    02423 E826      LDI	R18,0x86
    02424 E030      LDI	R19,0
    02425 E001      LDI	R16,1
    02426 E010      LDI	R17,0
    02427 940E 0F5E CALL	_EEPROM_write
(0029) 	    EEPROM_write(1,135,temps[0].needtime>>8);
    02429 9020 0222 LDS	R2,temps+268
    0242B 9030 0223 LDS	R3,temps+269
    0242D 2C23      MOV	R2,R3
    0242E 2433      CLR	R3
    0242F 8239      STD	Y+1,R3
    02430 8228      ST	Y,R2
    02431 E827      LDI	R18,0x87
    02432 E030      LDI	R19,0
    02433 E001      LDI	R16,1
    02434 E010      LDI	R17,0
    02435 940E 0F5E CALL	_EEPROM_write
(0030) 		EEPROM_write(1,136,temps[0].needtime & 0xFF);
    02437 9180 0222 LDS	R24,temps+268
    02439 9190 0223 LDS	R25,temps+269
    0243B 7090      ANDI	R25,0
    0243C 8399      STD	Y+1,R25
    0243D 8388      ST	Y,R24
    0243E E828      LDI	R18,0x88
    0243F E030      LDI	R19,0
    02440 E001      LDI	R16,1
    02441 E010      LDI	R17,0
    02442 940E 0F5E CALL	_EEPROM_write
(0031) 		EEPROM_write(1,137,temps[0].nowtime>>8);
    02444 9020 0224 LDS	R2,temps+270
    02446 9030 0225 LDS	R3,temps+271
    02448 2C23      MOV	R2,R3
    02449 2433      CLR	R3
    0244A 8239      STD	Y+1,R3
    0244B 8228      ST	Y,R2
    0244C E829      LDI	R18,0x89
    0244D E030      LDI	R19,0
    0244E E001      LDI	R16,1
    0244F E010      LDI	R17,0
    02450 940E 0F5E CALL	_EEPROM_write
(0032) 		EEPROM_write(1,138,temps[0].nowtime & 0xFF);
    02452 9180 0224 LDS	R24,temps+270
    02454 9190 0225 LDS	R25,temps+271
    02456 7090      ANDI	R25,0
    02457 8399      STD	Y+1,R25
    02458 8388      ST	Y,R24
    02459 E82A      LDI	R18,0x8A
    0245A E030      LDI	R19,0
    0245B E001      LDI	R16,1
    0245C E010      LDI	R17,0
    0245D 940E 0F5E CALL	_EEPROM_write
(0033) 	    EEPROM_write(1,139,temps[0].pertime>>8);
    0245F 9020 0226 LDS	R2,temps+272
    02461 9030 0227 LDS	R3,temps+273
    02463 2C23      MOV	R2,R3
    02464 2433      CLR	R3
    02465 8239      STD	Y+1,R3
    02466 8228      ST	Y,R2
    02467 E82B      LDI	R18,0x8B
    02468 E030      LDI	R19,0
    02469 E001      LDI	R16,1
    0246A E010      LDI	R17,0
    0246B 940E 0F5E CALL	_EEPROM_write
(0034) 		EEPROM_write(1,140,temps[0].pertime & 0xff);
    0246D 9180 0226 LDS	R24,temps+272
    0246F 9190 0227 LDS	R25,temps+273
    02471 7090      ANDI	R25,0
    02472 8399      STD	Y+1,R25
    02473 8388      ST	Y,R24
    02474 E82C      LDI	R18,0x8C
    02475 E030      LDI	R19,0
    02476 E001      LDI	R16,1
    02477 E010      LDI	R17,0
    02478 940E 0F5E CALL	_EEPROM_write
(0035) 		
(0036) 	    EEPROM_write(1,141,temps[0].statusflag);
    0247A 9020 022A LDS	R2,temps+276
    0247C 9030 022B LDS	R3,temps+277
    0247E 8239      STD	Y+1,R3
    0247F 8228      ST	Y,R2
    02480 E82D      LDI	R18,0x8D
    02481 E030      LDI	R19,0
    02482 E001      LDI	R16,1
    02483 E010      LDI	R17,0
    02484 940E 0F5E CALL	_EEPROM_write
(0037) 	    EEPROM_write(1,142,temps[0].p_settemp>>8 );
    02486 9020 022C LDS	R2,temps+278
    02488 9030 022D LDS	R3,temps+279
    0248A 2C23      MOV	R2,R3
    0248B 2433      CLR	R3
    0248C 8239      STD	Y+1,R3
    0248D 8228      ST	Y,R2
    0248E E82E      LDI	R18,0x8E
    0248F E030      LDI	R19,0
    02490 E001      LDI	R16,1
    02491 E010      LDI	R17,0
    02492 940E 0F5E CALL	_EEPROM_write
(0038) 		EEPROM_write(1,143,temps[0].p_settemp&0xff);
    02494 9180 022C LDS	R24,temps+278
    02496 9190 022D LDS	R25,temps+279
    02498 7090      ANDI	R25,0
    02499 8399      STD	Y+1,R25
    0249A 8388      ST	Y,R24
    0249B E82F      LDI	R18,0x8F
    0249C E030      LDI	R19,0
    0249D E001      LDI	R16,1
    0249E E010      LDI	R17,0
    0249F 940E 0F5E CALL	_EEPROM_write
(0039) 		EEPROM_write(1,144,((int)temps[0].settemp)>>8);
    024A1 9120 0238 LDS	R18,temps+290
    024A3 9130 0239 LDS	R19,temps+291
    024A5 9100 0236 LDS	R16,temps+288
    024A7 9110 0237 LDS	R17,temps+289
    024A9 940E 38B8 CALL	fpint
    024AB 0118      MOVW	R2,R16
    024AC 2C23      MOV	R2,R3
    024AD 2433      CLR	R3
    024AE FC27      SBRC	R2,7
    024AF 9430      COM	R3
    024B0 8239      STD	Y+1,R3
    024B1 8228      ST	Y,R2
    024B2 E920      LDI	R18,0x90
    024B3 E030      LDI	R19,0
    024B4 E001      LDI	R16,1
    024B5 E010      LDI	R17,0
    024B6 940E 0F5E CALL	_EEPROM_write
(0040) 	    EEPROM_write(1,145,((int)temps[0].settemp)&0xff);
    024B8 9120 0238 LDS	R18,temps+290
    024BA 9130 0239 LDS	R19,temps+291
    024BC 9100 0236 LDS	R16,temps+288
    024BE 9110 0237 LDS	R17,temps+289
    024C0 940E 38B8 CALL	fpint
    024C2 01C8      MOVW	R24,R16
    024C3 7090      ANDI	R25,0
    024C4 8399      STD	Y+1,R25
    024C5 8388      ST	Y,R24
    024C6 E921      LDI	R18,0x91
    024C7 E030      LDI	R19,0
    024C8 E001      LDI	R16,1
    024C9 E010      LDI	R17,0
    024CA 940E 0F5E CALL	_EEPROM_write
(0041) 	 }
(0042) 	 EEPROM_write(2,133,temps[1].flag);
    024CC 9020 025A LDS	R2,temps+324
    024CE 9030 025B LDS	R3,temps+325
    024D0 8239      STD	Y+1,R3
    024D1 8228      ST	Y,R2
    024D2 E825      LDI	R18,0x85
    024D3 E030      LDI	R19,0
    024D4 E002      LDI	R16,2
    024D5 E010      LDI	R17,0
    024D6 940E 0F5E CALL	_EEPROM_write
(0043) 	  if(temps[1].flag==1 || temps[1].flag==3){
    024D8 9180 025A LDS	R24,temps+324
    024DA 9190 025B LDS	R25,temps+325
    024DC 3081      CPI	R24,1
    024DD E0E0      LDI	R30,0
    024DE 079E      CPC	R25,R30
    024DF F029      BEQ	0x24E5
    024E0 3083      CPI	R24,3
    024E1 E0E0      LDI	R30,0
    024E2 079E      CPC	R25,R30
    024E3 F009      BEQ	0x24E5
    024E4 C0AF      RJMP	0x2594
(0044) 	    EEPROM_write(2,134,temps[1].status);
    024E5 9020 0364 LDS	R2,temps+590
    024E7 9030 0365 LDS	R3,temps+591
    024E9 8239      STD	Y+1,R3
    024EA 8228      ST	Y,R2
    024EB E826      LDI	R18,0x86
    024EC E030      LDI	R19,0
    024ED E002      LDI	R16,2
    024EE E010      LDI	R17,0
    024EF 940E 0F5E CALL	_EEPROM_write
(0045) 	    EEPROM_write(2,135,temps[1].needtime>>8);
    024F1 9020 0366 LDS	R2,temps+592
    024F3 9030 0367 LDS	R3,temps+593
    024F5 2C23      MOV	R2,R3
    024F6 2433      CLR	R3
    024F7 8239      STD	Y+1,R3
    024F8 8228      ST	Y,R2
    024F9 E827      LDI	R18,0x87
    024FA E030      LDI	R19,0
    024FB E002      LDI	R16,2
    024FC E010      LDI	R17,0
    024FD 940E 0F5E CALL	_EEPROM_write
(0046) 		EEPROM_write(2,136,temps[1].needtime & 0xFF);
    024FF 9180 0366 LDS	R24,temps+592
    02501 9190 0367 LDS	R25,temps+593
    02503 7090      ANDI	R25,0
    02504 8399      STD	Y+1,R25
    02505 8388      ST	Y,R24
    02506 E828      LDI	R18,0x88
    02507 E030      LDI	R19,0
    02508 E002      LDI	R16,2
    02509 E010      LDI	R17,0
    0250A 940E 0F5E CALL	_EEPROM_write
(0047) 		EEPROM_write(2,137,temps[1].nowtime>>8);
    0250C 9020 0368 LDS	R2,temps+594
    0250E 9030 0369 LDS	R3,temps+595
    02510 2C23      MOV	R2,R3
    02511 2433      CLR	R3
    02512 8239      STD	Y+1,R3
    02513 8228      ST	Y,R2
    02514 E829      LDI	R18,0x89
    02515 E030      LDI	R19,0
    02516 E002      LDI	R16,2
    02517 E010      LDI	R17,0
    02518 940E 0F5E CALL	_EEPROM_write
(0048) 		EEPROM_write(2,138,temps[1].nowtime & 0xFF);
    0251A 9180 0368 LDS	R24,temps+594
    0251C 9190 0369 LDS	R25,temps+595
    0251E 7090      ANDI	R25,0
    0251F 8399      STD	Y+1,R25
    02520 8388      ST	Y,R24
    02521 E82A      LDI	R18,0x8A
    02522 E030      LDI	R19,0
    02523 E002      LDI	R16,2
    02524 E010      LDI	R17,0
    02525 940E 0F5E CALL	_EEPROM_write
(0049) 	    EEPROM_write(2,139,temps[1].pertime>>8);
    02527 9020 036A LDS	R2,temps+596
    02529 9030 036B LDS	R3,temps+597
    0252B 2C23      MOV	R2,R3
    0252C 2433      CLR	R3
    0252D 8239      STD	Y+1,R3
    0252E 8228      ST	Y,R2
    0252F E82B      LDI	R18,0x8B
    02530 E030      LDI	R19,0
    02531 E002      LDI	R16,2
    02532 E010      LDI	R17,0
    02533 940E 0F5E CALL	_EEPROM_write
(0050) 		EEPROM_write(2,140,temps[1].pertime & 0xff);
    02535 9180 036A LDS	R24,temps+596
    02537 9190 036B LDS	R25,temps+597
    02539 7090      ANDI	R25,0
    0253A 8399      STD	Y+1,R25
    0253B 8388      ST	Y,R24
    0253C E82C      LDI	R18,0x8C
    0253D E030      LDI	R19,0
    0253E E002      LDI	R16,2
    0253F E010      LDI	R17,0
    02540 940E 0F5E CALL	_EEPROM_write
(0051) 		
(0052) 	    EEPROM_write(2,141,temps[1].statusflag);
    02542 9020 036E LDS	R2,temps+600
    02544 9030 036F LDS	R3,temps+601
    02546 8239      STD	Y+1,R3
    02547 8228      ST	Y,R2
    02548 E82D      LDI	R18,0x8D
    02549 E030      LDI	R19,0
    0254A E002      LDI	R16,2
    0254B E010      LDI	R17,0
    0254C 940E 0F5E CALL	_EEPROM_write
(0053) 	   EEPROM_write(2,142,temps[1].p_settemp>>8 );
    0254E 9020 0370 LDS	R2,temps+602
    02550 9030 0371 LDS	R3,temps+603
    02552 2C23      MOV	R2,R3
    02553 2433      CLR	R3
    02554 8239      STD	Y+1,R3
    02555 8228      ST	Y,R2
    02556 E82E      LDI	R18,0x8E
    02557 E030      LDI	R19,0
    02558 E002      LDI	R16,2
    02559 E010      LDI	R17,0
    0255A 940E 0F5E CALL	_EEPROM_write
(0054) 		EEPROM_write(2,143,temps[1].p_settemp&0xff);
    0255C 9180 0370 LDS	R24,temps+602
    0255E 9190 0371 LDS	R25,temps+603
    02560 7090      ANDI	R25,0
    02561 8399      STD	Y+1,R25
    02562 8388      ST	Y,R24
    02563 E82F      LDI	R18,0x8F
    02564 E030      LDI	R19,0
    02565 E002      LDI	R16,2
    02566 E010      LDI	R17,0
    02567 940E 0F5E CALL	_EEPROM_write
(0055) 		EEPROM_write(2,144,((int)temps[1].settemp)>>8);
    02569 9120 037C LDS	R18,temps+614
    0256B 9130 037D LDS	R19,temps+615
    0256D 9100 037A LDS	R16,temps+612
    0256F 9110 037B LDS	R17,temps+613
    02571 940E 38B8 CALL	fpint
    02573 0118      MOVW	R2,R16
    02574 2C23      MOV	R2,R3
    02575 2433      CLR	R3
    02576 FC27      SBRC	R2,7
    02577 9430      COM	R3
    02578 8239      STD	Y+1,R3
    02579 8228      ST	Y,R2
    0257A E920      LDI	R18,0x90
    0257B E030      LDI	R19,0
    0257C E002      LDI	R16,2
    0257D E010      LDI	R17,0
    0257E 940E 0F5E CALL	_EEPROM_write
(0056) 	    EEPROM_write(2,145,((int)temps[1].settemp)&0xff);
    02580 9120 037C LDS	R18,temps+614
    02582 9130 037D LDS	R19,temps+615
    02584 9100 037A LDS	R16,temps+612
    02586 9110 037B LDS	R17,temps+613
    02588 940E 38B8 CALL	fpint
    0258A 01C8      MOVW	R24,R16
    0258B 7090      ANDI	R25,0
    0258C 8399      STD	Y+1,R25
    0258D 8388      ST	Y,R24
    0258E E921      LDI	R18,0x91
    0258F E030      LDI	R19,0
    02590 E002      LDI	R16,2
    02591 E010      LDI	R17,0
    02592 940E 0F5E CALL	_EEPROM_write
(0057) 	 }
(0058) 	 EEPROM_write(3,133,temps[2].flag);
    02594 9020 039E LDS	R2,temps+648
    02596 9030 039F LDS	R3,temps+649
    02598 8239      STD	Y+1,R3
    02599 8228      ST	Y,R2
    0259A E825      LDI	R18,0x85
    0259B E030      LDI	R19,0
    0259C E003      LDI	R16,3
    0259D E010      LDI	R17,0
    0259E 940E 0F5E CALL	_EEPROM_write
(0059) 	  if(temps[2].flag==1 || temps[2].flag==3){
    025A0 9180 039E LDS	R24,temps+648
    025A2 9190 039F LDS	R25,temps+649
    025A4 3081      CPI	R24,1
    025A5 E0E0      LDI	R30,0
    025A6 079E      CPC	R25,R30
    025A7 F029      BEQ	0x25AD
    025A8 3083      CPI	R24,3
    025A9 E0E0      LDI	R30,0
    025AA 079E      CPC	R25,R30
    025AB F009      BEQ	0x25AD
    025AC C0AF      RJMP	0x265C
(0060) 	    EEPROM_write(3,134,temps[2].status);
    025AD 9020 04A8 LDS	R2,temps+914
    025AF 9030 04A9 LDS	R3,temps+915
    025B1 8239      STD	Y+1,R3
    025B2 8228      ST	Y,R2
    025B3 E826      LDI	R18,0x86
    025B4 E030      LDI	R19,0
    025B5 E003      LDI	R16,3
    025B6 E010      LDI	R17,0
    025B7 940E 0F5E CALL	_EEPROM_write
(0061) 	    EEPROM_write(3,135,temps[2].needtime>>8);
    025B9 9020 04AA LDS	R2,temps+916
    025BB 9030 04AB LDS	R3,temps+917
    025BD 2C23      MOV	R2,R3
    025BE 2433      CLR	R3
    025BF 8239      STD	Y+1,R3
    025C0 8228      ST	Y,R2
    025C1 E827      LDI	R18,0x87
    025C2 E030      LDI	R19,0
    025C3 E003      LDI	R16,3
    025C4 E010      LDI	R17,0
    025C5 940E 0F5E CALL	_EEPROM_write
(0062) 		EEPROM_write(3,136,temps[2].needtime & 0xFF);
    025C7 9180 04AA LDS	R24,temps+916
    025C9 9190 04AB LDS	R25,temps+917
    025CB 7090      ANDI	R25,0
    025CC 8399      STD	Y+1,R25
    025CD 8388      ST	Y,R24
    025CE E828      LDI	R18,0x88
    025CF E030      LDI	R19,0
    025D0 E003      LDI	R16,3
    025D1 E010      LDI	R17,0
    025D2 940E 0F5E CALL	_EEPROM_write
(0063) 		EEPROM_write(3,137,temps[2].nowtime>>8);
    025D4 9020 04AC LDS	R2,temps+918
    025D6 9030 04AD LDS	R3,temps+919
    025D8 2C23      MOV	R2,R3
    025D9 2433      CLR	R3
    025DA 8239      STD	Y+1,R3
    025DB 8228      ST	Y,R2
    025DC E829      LDI	R18,0x89
    025DD E030      LDI	R19,0
    025DE E003      LDI	R16,3
    025DF E010      LDI	R17,0
    025E0 940E 0F5E CALL	_EEPROM_write
(0064) 		EEPROM_write(3,138,temps[2].nowtime & 0xFF);
    025E2 9180 04AC LDS	R24,temps+918
    025E4 9190 04AD LDS	R25,temps+919
    025E6 7090      ANDI	R25,0
    025E7 8399      STD	Y+1,R25
    025E8 8388      ST	Y,R24
    025E9 E82A      LDI	R18,0x8A
    025EA E030      LDI	R19,0
    025EB E003      LDI	R16,3
    025EC E010      LDI	R17,0
    025ED 940E 0F5E CALL	_EEPROM_write
(0065) 	    EEPROM_write(3,139,temps[2].pertime>>8);
    025EF 9020 04AE LDS	R2,temps+920
    025F1 9030 04AF LDS	R3,temps+921
    025F3 2C23      MOV	R2,R3
    025F4 2433      CLR	R3
    025F5 8239      STD	Y+1,R3
    025F6 8228      ST	Y,R2
    025F7 E82B      LDI	R18,0x8B
    025F8 E030      LDI	R19,0
    025F9 E003      LDI	R16,3
    025FA E010      LDI	R17,0
    025FB 940E 0F5E CALL	_EEPROM_write
(0066) 		EEPROM_write(3,140,temps[2].pertime & 0xff);
    025FD 9180 04AE LDS	R24,temps+920
    025FF 9190 04AF LDS	R25,temps+921
    02601 7090      ANDI	R25,0
    02602 8399      STD	Y+1,R25
    02603 8388      ST	Y,R24
    02604 E82C      LDI	R18,0x8C
    02605 E030      LDI	R19,0
    02606 E003      LDI	R16,3
    02607 E010      LDI	R17,0
    02608 940E 0F5E CALL	_EEPROM_write
(0067) 	    EEPROM_write(3,141,temps[2].statusflag);
    0260A 9020 04B2 LDS	R2,temps+924
    0260C 9030 04B3 LDS	R3,temps+925
    0260E 8239      STD	Y+1,R3
    0260F 8228      ST	Y,R2
    02610 E82D      LDI	R18,0x8D
    02611 E030      LDI	R19,0
    02612 E003      LDI	R16,3
    02613 E010      LDI	R17,0
    02614 940E 0F5E CALL	_EEPROM_write
(0068) 	    EEPROM_write(3,142,temps[2].p_settemp>>8 );
    02616 9020 04B4 LDS	R2,temps+926
    02618 9030 04B5 LDS	R3,temps+927
    0261A 2C23      MOV	R2,R3
    0261B 2433      CLR	R3
    0261C 8239      STD	Y+1,R3
    0261D 8228      ST	Y,R2
    0261E E82E      LDI	R18,0x8E
    0261F E030      LDI	R19,0
    02620 E003      LDI	R16,3
    02621 E010      LDI	R17,0
    02622 940E 0F5E CALL	_EEPROM_write
(0069) 		EEPROM_write(3,143,temps[2].p_settemp&0xff);
    02624 9180 04B4 LDS	R24,temps+926
    02626 9190 04B5 LDS	R25,temps+927
    02628 7090      ANDI	R25,0
    02629 8399      STD	Y+1,R25
    0262A 8388      ST	Y,R24
    0262B E82F      LDI	R18,0x8F
    0262C E030      LDI	R19,0
    0262D E003      LDI	R16,3
    0262E E010      LDI	R17,0
    0262F 940E 0F5E CALL	_EEPROM_write
(0070) 		EEPROM_write(3,144,((int)temps[2].settemp)>>8);
    02631 9120 04C0 LDS	R18,temps+938
    02633 9130 04C1 LDS	R19,temps+939
    02635 9100 04BE LDS	R16,temps+936
    02637 9110 04BF LDS	R17,temps+937
    02639 940E 38B8 CALL	fpint
    0263B 0118      MOVW	R2,R16
    0263C 2C23      MOV	R2,R3
    0263D 2433      CLR	R3
    0263E FC27      SBRC	R2,7
    0263F 9430      COM	R3
    02640 8239      STD	Y+1,R3
    02641 8228      ST	Y,R2
    02642 E920      LDI	R18,0x90
    02643 E030      LDI	R19,0
    02644 E003      LDI	R16,3
    02645 E010      LDI	R17,0
    02646 940E 0F5E CALL	_EEPROM_write
(0071) 	    EEPROM_write(3,145,((int)temps[2].settemp)&0xff);
    02648 9120 04C0 LDS	R18,temps+938
    0264A 9130 04C1 LDS	R19,temps+939
    0264C 9100 04BE LDS	R16,temps+936
    0264E 9110 04BF LDS	R17,temps+937
    02650 940E 38B8 CALL	fpint
    02652 01C8      MOVW	R24,R16
    02653 7090      ANDI	R25,0
    02654 8399      STD	Y+1,R25
    02655 8388      ST	Y,R24
    02656 E921      LDI	R18,0x91
    02657 E030      LDI	R19,0
    02658 E003      LDI	R16,3
    02659 E010      LDI	R17,0
    0265A 940E 0F5E CALL	_EEPROM_write
(0072) 	 }
(0073) 	 EEPROM_write(4,133,temps[3].flag);
    0265C 9020 04E2 LDS	R2,temps+972
    0265E 9030 04E3 LDS	R3,temps+973
    02660 8239      STD	Y+1,R3
    02661 8228      ST	Y,R2
    02662 E825      LDI	R18,0x85
    02663 E030      LDI	R19,0
    02664 E004      LDI	R16,4
    02665 E010      LDI	R17,0
    02666 940E 0F5E CALL	_EEPROM_write
(0074) 	  if(temps[3].flag==1 || temps[3].flag==3){
    02668 9180 04E2 LDS	R24,temps+972
    0266A 9190 04E3 LDS	R25,temps+973
    0266C 3081      CPI	R24,1
    0266D E0E0      LDI	R30,0
    0266E 079E      CPC	R25,R30
    0266F F029      BEQ	0x2675
    02670 3083      CPI	R24,3
    02671 E0E0      LDI	R30,0
    02672 079E      CPC	R25,R30
    02673 F009      BEQ	0x2675
    02674 C0AF      RJMP	0x2724
(0075) 	    EEPROM_write(4,134,temps[3].status);
    02675 9020 05EC LDS	R2,temps+1238
    02677 9030 05ED LDS	R3,temps+1239
    02679 8239      STD	Y+1,R3
    0267A 8228      ST	Y,R2
    0267B E826      LDI	R18,0x86
    0267C E030      LDI	R19,0
    0267D E004      LDI	R16,4
    0267E E010      LDI	R17,0
    0267F 940E 0F5E CALL	_EEPROM_write
(0076) 	    EEPROM_write(4,135,temps[3].needtime>>8);
    02681 9020 05EE LDS	R2,temps+1240
    02683 9030 05EF LDS	R3,temps+1241
    02685 2C23      MOV	R2,R3
    02686 2433      CLR	R3
    02687 8239      STD	Y+1,R3
    02688 8228      ST	Y,R2
    02689 E827      LDI	R18,0x87
    0268A E030      LDI	R19,0
    0268B E004      LDI	R16,4
    0268C E010      LDI	R17,0
    0268D 940E 0F5E CALL	_EEPROM_write
(0077) 		EEPROM_write(4,136,temps[3].needtime & 0xFF);
    0268F 9180 05EE LDS	R24,temps+1240
    02691 9190 05EF LDS	R25,temps+1241
    02693 7090      ANDI	R25,0
    02694 8399      STD	Y+1,R25
    02695 8388      ST	Y,R24
    02696 E828      LDI	R18,0x88
    02697 E030      LDI	R19,0
    02698 E004      LDI	R16,4
    02699 E010      LDI	R17,0
    0269A 940E 0F5E CALL	_EEPROM_write
(0078) 		EEPROM_write(4,137,temps[3].nowtime>>8);
    0269C 9020 05F0 LDS	R2,temps+1242
    0269E 9030 05F1 LDS	R3,temps+1243
    026A0 2C23      MOV	R2,R3
    026A1 2433      CLR	R3
    026A2 8239      STD	Y+1,R3
    026A3 8228      ST	Y,R2
    026A4 E829      LDI	R18,0x89
    026A5 E030      LDI	R19,0
    026A6 E004      LDI	R16,4
    026A7 E010      LDI	R17,0
    026A8 940E 0F5E CALL	_EEPROM_write
(0079) 		EEPROM_write(4,138,temps[3].nowtime & 0xFF);
    026AA 9180 05F0 LDS	R24,temps+1242
    026AC 9190 05F1 LDS	R25,temps+1243
    026AE 7090      ANDI	R25,0
    026AF 8399      STD	Y+1,R25
    026B0 8388      ST	Y,R24
    026B1 E82A      LDI	R18,0x8A
    026B2 E030      LDI	R19,0
    026B3 E004      LDI	R16,4
    026B4 E010      LDI	R17,0
    026B5 940E 0F5E CALL	_EEPROM_write
(0080) 	    EEPROM_write(4,139,temps[3].pertime>>8);
    026B7 9020 05F2 LDS	R2,temps+1244
    026B9 9030 05F3 LDS	R3,temps+1245
    026BB 2C23      MOV	R2,R3
    026BC 2433      CLR	R3
    026BD 8239      STD	Y+1,R3
    026BE 8228      ST	Y,R2
    026BF E82B      LDI	R18,0x8B
    026C0 E030      LDI	R19,0
    026C1 E004      LDI	R16,4
    026C2 E010      LDI	R17,0
    026C3 940E 0F5E CALL	_EEPROM_write
(0081) 		EEPROM_write(4,140,temps[3].pertime & 0xff);
    026C5 9180 05F2 LDS	R24,temps+1244
    026C7 9190 05F3 LDS	R25,temps+1245
    026C9 7090      ANDI	R25,0
    026CA 8399      STD	Y+1,R25
    026CB 8388      ST	Y,R24
    026CC E82C      LDI	R18,0x8C
    026CD E030      LDI	R19,0
    026CE E004      LDI	R16,4
    026CF E010      LDI	R17,0
    026D0 940E 0F5E CALL	_EEPROM_write
(0082) 	    EEPROM_write(4,141,temps[3].statusflag);
    026D2 9020 05F6 LDS	R2,temps+1248
    026D4 9030 05F7 LDS	R3,temps+1249
    026D6 8239      STD	Y+1,R3
    026D7 8228      ST	Y,R2
    026D8 E82D      LDI	R18,0x8D
    026D9 E030      LDI	R19,0
    026DA E004      LDI	R16,4
    026DB E010      LDI	R17,0
    026DC 940E 0F5E CALL	_EEPROM_write
(0083) 	    EEPROM_write(4,142,temps[3].p_settemp>>8 );
    026DE 9020 05F8 LDS	R2,temps+1250
    026E0 9030 05F9 LDS	R3,temps+1251
    026E2 2C23      MOV	R2,R3
    026E3 2433      CLR	R3
    026E4 8239      STD	Y+1,R3
    026E5 8228      ST	Y,R2
    026E6 E82E      LDI	R18,0x8E
    026E7 E030      LDI	R19,0
    026E8 E004      LDI	R16,4
    026E9 E010      LDI	R17,0
    026EA 940E 0F5E CALL	_EEPROM_write
(0084) 		EEPROM_write(4,143,temps[3].p_settemp&0xff);
    026EC 9180 05F8 LDS	R24,temps+1250
    026EE 9190 05F9 LDS	R25,temps+1251
    026F0 7090      ANDI	R25,0
    026F1 8399      STD	Y+1,R25
    026F2 8388      ST	Y,R24
    026F3 E82F      LDI	R18,0x8F
    026F4 E030      LDI	R19,0
    026F5 E004      LDI	R16,4
    026F6 E010      LDI	R17,0
    026F7 940E 0F5E CALL	_EEPROM_write
(0085) 		EEPROM_write(4,144,((int)temps[3].settemp)>>8);
    026F9 9120 0604 LDS	R18,temps+1262
    026FB 9130 0605 LDS	R19,temps+1263
    026FD 9100 0602 LDS	R16,temps+1260
    026FF 9110 0603 LDS	R17,temps+1261
    02701 940E 38B8 CALL	fpint
    02703 0118      MOVW	R2,R16
    02704 2C23      MOV	R2,R3
    02705 2433      CLR	R3
    02706 FC27      SBRC	R2,7
    02707 9430      COM	R3
    02708 8239      STD	Y+1,R3
    02709 8228      ST	Y,R2
    0270A E920      LDI	R18,0x90
    0270B E030      LDI	R19,0
    0270C E004      LDI	R16,4
    0270D E010      LDI	R17,0
    0270E 940E 0F5E CALL	_EEPROM_write
(0086) 	    EEPROM_write(4,145,((int)temps[3].settemp)&0xff);
    02710 9120 0604 LDS	R18,temps+1262
    02712 9130 0605 LDS	R19,temps+1263
    02714 9100 0602 LDS	R16,temps+1260
    02716 9110 0603 LDS	R17,temps+1261
    02718 940E 38B8 CALL	fpint
    0271A 01C8      MOVW	R24,R16
    0271B 7090      ANDI	R25,0
    0271C 8399      STD	Y+1,R25
    0271D 8388      ST	Y,R24
    0271E E921      LDI	R18,0x91
    0271F E030      LDI	R19,0
    02720 E004      LDI	R16,4
    02721 E010      LDI	R17,0
    02722 940E 0F5E CALL	_EEPROM_write
(0087) 	 }
(0088) 	 
(0089)   }
(0090)   //第一个
(0091)   if(temps[0].flag==1){//运行中
    02724 9180 0116 LDS	R24,temps
    02726 9190 0117 LDS	R25,temps+1
    02728 3081      CPI	R24,1
    02729 E0E0      LDI	R30,0
    0272A 079E      CPC	R25,R30
    0272B F009      BEQ	0x272D
    0272C C173      RJMP	0x28A0
(0092)      cache=temps[0].status;//暂存当前状态
    0272D 9140 0220 LDS	R20,temps+266
    0272F 9150 0221 LDS	R21,temps+267
(0093)      if(temps[0].statusflag==0){//不是第一次进入当前状态
    02731 9020 022A LDS	R2,temps+276
    02733 9030 022B LDS	R3,temps+277
    02735 2022      TST	R2
    02736 F009      BEQ	0x2738
    02737 C044      RJMP	0x277C
    02738 2033      TST	R3
    02739 F009      BEQ	0x273B
    0273A C041      RJMP	0x277C
(0094) 	     temps[0].nowtime++;//当前阶段运行时间
    0273B 9180 0224 LDS	R24,temps+270
    0273D 9190 0225 LDS	R25,temps+271
    0273F 9601      ADIW	R24,1
    02740 9390 0225 STS	temps+271,R25
    02742 9380 0224 STS	temps+270,R24
(0095) 		if(temps[0].nowtime>=temps[0].needtime){//当前阶段运行结束进入下一阶段
    02744 9020 0222 LDS	R2,temps+268
    02746 9030 0223 LDS	R3,temps+269
    02748 1582      CP	R24,R2
    02749 0593      CPC	R25,R3
    0274A F068      BCS	0x2758
(0096) 		    temps[0].status++;
    0274B 01CA      MOVW	R24,R20
    0274C 9601      ADIW	R24,1
    0274D 9390 0221 STS	temps+267,R25
    0274F 9380 0220 STS	temps+266,R24
(0097) 		    temps[0].statusflag=1;
    02751 E081      LDI	R24,1
    02752 E090      LDI	R25,0
    02753 9390 022B STS	temps+277,R25
    02755 9380 022A STS	temps+276,R24
(0098) 			//PORTE=0xFF;
(0099) 		}else{//还在当前阶段
    02757 C148      RJMP	0x28A0
(0100) 		     if(cache & 0x01){//恒温阶段,
    02758 FF40      SBRS	R20,0
    02759 C001      RJMP	0x275B
(0101) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0102) 		      }else{ //升温阶段
    0275A C145      RJMP	0x28A0
(0103) 		            temps[0].pertimecnt++;
    0275B 9180 0228 LDS	R24,temps+274
    0275D 9190 0229 LDS	R25,temps+275
    0275F 9601      ADIW	R24,1
    02760 9390 0229 STS	temps+275,R25
    02762 9380 0228 STS	temps+274,R24
(0104) 		            if(temps[0].pertimecnt>temps[0].pertime){
    02764 9020 0226 LDS	R2,temps+272
    02766 9030 0227 LDS	R3,temps+273
    02768 1628      CP	R2,R24
    02769 0639      CPC	R3,R25
    0276A F008      BCS	0x276C
    0276B C134      RJMP	0x28A0
(0105) 		                    temps[0].p_settemp++;//1C需要时间到达，增加温度。
    0276C 9180 022C LDS	R24,temps+278
    0276E 9190 022D LDS	R25,temps+279
    02770 9601      ADIW	R24,1
    02771 9390 022D STS	temps+279,R25
    02773 9380 022C STS	temps+278,R24
(0106) 			                temps[0].pertimecnt=0;
    02775 2422      CLR	R2
    02776 2433      CLR	R3
    02777 9230 0229 STS	temps+275,R3
    02779 9220 0228 STS	temps+274,R2
(0107) 		              } 
(0108) 			  }
(0109) 		 }
(0110) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    0277B C124      RJMP	0x28A0
(0111) 	        temps[0].statusflag=0;
    0277C 2422      CLR	R2
    0277D 2433      CLR	R3
    0277E 9230 022B STS	temps+277,R3
    02780 9220 022A STS	temps+276,R2
(0112) 		    temps[0].nowtime=0;
    02782 9230 0225 STS	temps+271,R3
    02784 9220 0224 STS	temps+270,R2
(0113) 	       if(cache & 0x01){//升温阶段
    02786 FF40      SBRS	R20,0
    02787 C0BD      RJMP	0x2845
(0114) 		      cache=((cache-1)>>1)*11;
    02788 019A      MOVW	R18,R20
    02789 5021      SUBI	R18,1
    0278A 4030      SBCI	R19,0
    0278B 9536      LSR	R19
    0278C 9527      ROR	R18
    0278D E00B      LDI	R16,0xB
    0278E E010      LDI	R17,0
    0278F 940E 376B CALL	empy16s
    02791 01A8      MOVW	R20,R16
(0115) 		      temps[0].needtime=(temps[0].temp_data[cache]*10+temps[0].temp_data[cache+1])*3600+(temps[0].temp_data[cache+2]*10+temps[0].temp_data[cache+3])*60;
    02792 E188      LDI	R24,0x18
    02793 E091      LDI	R25,1
    02794 01FA      MOVW	R30,R20
    02795 9632      ADIW	R30,2
    02796 0FEE      LSL	R30
    02797 1FFF      ROL	R31
    02798 0FE8      ADD	R30,R24
    02799 1FF9      ADC	R31,R25
    0279A 8120      LD	R18,Z
    0279B 8131      LDD	R19,Z+1
    0279C E00A      LDI	R16,0xA
    0279D E010      LDI	R17,0
    0279E 940E 376B CALL	empy16s
    027A0 0198      MOVW	R18,R16
    027A1 E188      LDI	R24,0x18
    027A2 E091      LDI	R25,1
    027A3 01FA      MOVW	R30,R20
    027A4 9633      ADIW	R30,3
    027A5 0FEE      LSL	R30
    027A6 1FFF      ROL	R31
    027A7 0FE8      ADD	R30,R24
    027A8 1FF9      ADC	R31,R25
    027A9 8020      LD	R2,Z
    027AA 8031      LDD	R3,Z+1
    027AB 0D22      ADD	R18,R2
    027AC 1D33      ADC	R19,R3
    027AD E30C      LDI	R16,0x3C
    027AE E010      LDI	R17,0
    027AF 940E 376B CALL	empy16s
    027B1 0118      MOVW	R2,R16
    027B2 E188      LDI	R24,0x18
    027B3 E091      LDI	R25,1
    027B4 01FA      MOVW	R30,R20
    027B5 0FEE      LSL	R30
    027B6 1FFF      ROL	R31
    027B7 0FE8      ADD	R30,R24
    027B8 1FF9      ADC	R31,R25
    027B9 8120      LD	R18,Z
    027BA 8131      LDD	R19,Z+1
    027BB E00A      LDI	R16,0xA
    027BC E010      LDI	R17,0
    027BD 940E 376B CALL	empy16s
    027BF 0198      MOVW	R18,R16
    027C0 E188      LDI	R24,0x18
    027C1 E091      LDI	R25,1
    027C2 01FA      MOVW	R30,R20
    027C3 9631      ADIW	R30,1
    027C4 0FEE      LSL	R30
    027C5 1FFF      ROL	R31
    027C6 0FE8      ADD	R30,R24
    027C7 1FF9      ADC	R31,R25
    027C8 8040      LD	R4,Z
    027C9 8051      LDD	R5,Z+1
    027CA 0D24      ADD	R18,R4
    027CB 1D35      ADC	R19,R5
    027CC E100      LDI	R16,0x10
    027CD E01E      LDI	R17,0xE
    027CE 940E 376B CALL	empy16s
    027D0 0128      MOVW	R4,R16
    027D1 0C42      ADD	R4,R2
    027D2 1C53      ADC	R5,R3
    027D3 9250 0223 STS	temps+269,R5
    027D5 9240 0222 STS	temps+268,R4
(0116) 			  //temps[0].needtime=3;
(0117) 			  if(temps[0].needtime==0){
    027D7 2044      TST	R4
    027D8 F449      BNE	0x27E2
    027D9 2055      TST	R5
    027DA F439      BNE	0x27E2
(0118) 			     //当前阶段时间为0，表示已经结束更改标记
(0119) 				  temps[0].flag=4;
    027DB E084      LDI	R24,4
    027DC E090      LDI	R25,0
    027DD 9390 0117 STS	temps+1,R25
    027DF 9380 0116 STS	temps,R24
(0120) 			  }else{
    027E1 C0BE      RJMP	0x28A0
(0121) 			     temps[0].p_settemp=temps[0].temp_data[cache+8]*100+temps[0].temp_data[cache+9]*10+temps[0].temp_data[cache+10];
    027E2 E188      LDI	R24,0x18
    027E3 E091      LDI	R25,1
    027E4 01FA      MOVW	R30,R20
    027E5 9639      ADIW	R30,0x9
    027E6 0FEE      LSL	R30
    027E7 1FFF      ROL	R31
    027E8 0FE8      ADD	R30,R24
    027E9 1FF9      ADC	R31,R25
    027EA 8120      LD	R18,Z
    027EB 8131      LDD	R19,Z+1
    027EC E00A      LDI	R16,0xA
    027ED E010      LDI	R17,0
    027EE 940E 376B CALL	empy16s
    027F0 0118      MOVW	R2,R16
    027F1 E188      LDI	R24,0x18
    027F2 E091      LDI	R25,1
    027F3 01FA      MOVW	R30,R20
    027F4 9638      ADIW	R30,0x8
    027F5 0FEE      LSL	R30
    027F6 1FFF      ROL	R31
    027F7 0FE8      ADD	R30,R24
    027F8 1FF9      ADC	R31,R25
    027F9 8120      LD	R18,Z
    027FA 8131      LDD	R19,Z+1
    027FB E604      LDI	R16,0x64
    027FC E010      LDI	R17,0
    027FD 940E 376B CALL	empy16s
    027FF 0128      MOVW	R4,R16
    02800 0C42      ADD	R4,R2
    02801 1C53      ADC	R5,R3
    02802 E188      LDI	R24,0x18
    02803 E091      LDI	R25,1
    02804 01FA      MOVW	R30,R20
    02805 963A      ADIW	R30,0xA
    02806 0FEE      LSL	R30
    02807 1FFF      ROL	R31
    02808 0FE8      ADD	R30,R24
    02809 1FF9      ADC	R31,R25
    0280A 8020      LD	R2,Z
    0280B 8031      LDD	R3,Z+1
    0280C 0C42      ADD	R4,R2
    0280D 1C53      ADC	R5,R3
    0280E 9250 022D STS	temps+279,R5
    02810 9240 022C STS	temps+278,R4
(0122) 			     temps[0].pertime=temps[0].needtime/(temps[0].p_settemp-temps[0].actualtemp);
    02812 9100 0222 LDS	R16,temps+268
    02814 9110 0223 LDS	R17,temps+269
    02816 940E 38EA CALL	uint2fp
    02818 0118      MOVW	R2,R16
    02819 0129      MOVW	R4,R18
    0281A 9100 022C LDS	R16,temps+278
    0281C 9110 022D LDS	R17,temps+279
    0281E 940E 38EA CALL	uint2fp
    02820 E38A      LDI	R24,0x3A
    02821 E092      LDI	R25,2
    02822 939A      ST	-Y,R25
    02823 938A      ST	-Y,R24
    02824 940E 389D CALL	fpsub1x
    02826 0181      MOVW	R16,R2
    02827 0192      MOVW	R18,R4
    02828 940E 3917 CALL	fpdiv2
    0282A 940E 38B8 CALL	fpint
    0282C 9310 0227 STS	temps+273,R17
    0282E 9300 0226 STS	temps+272,R16
(0123) 			     temps[0].pertimecnt=0;
    02830 2422      CLR	R2
    02831 2433      CLR	R3
    02832 9230 0229 STS	temps+275,R3
    02834 9220 0228 STS	temps+274,R2
(0124) 				 temps[0].settemp=temps[0].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02836 9100 022C LDS	R16,temps+278
    02838 9110 022D LDS	R17,temps+279
    0283A 940E 38EA CALL	uint2fp
    0283C 9310 0237 STS	temps+289,R17
    0283E 9300 0236 STS	temps+288,R16
    02840 9330 0239 STS	temps+291,R19
    02842 9320 0238 STS	temps+290,R18
(0125) 			  }
(0126) 		     
(0127) 		    }else{//恒温阶段
    02844 C05B      RJMP	0x28A0
(0128) 			   cache=((cache-1)>>1)*11+4;
    02845 019A      MOVW	R18,R20
    02846 5021      SUBI	R18,1
    02847 4030      SBCI	R19,0
    02848 9536      LSR	R19
    02849 9527      ROR	R18
    0284A E00B      LDI	R16,0xB
    0284B E010      LDI	R17,0
    0284C 940E 376B CALL	empy16s
    0284E 01A8      MOVW	R20,R16
    0284F 5F4C      SUBI	R20,0xFC
    02850 4F5F      SBCI	R21,0xFF
(0129) 		      temps[0].needtime=(temps[0].temp_data[cache]*10+temps[0].temp_data[cache+1])*3600+(temps[0].temp_data[cache+2]*10+temps[0].temp_data[cache+3])*60;
    02851 E188      LDI	R24,0x18
    02852 E091      LDI	R25,1
    02853 01FA      MOVW	R30,R20
    02854 9632      ADIW	R30,2
    02855 0FEE      LSL	R30
    02856 1FFF      ROL	R31
    02857 0FE8      ADD	R30,R24
    02858 1FF9      ADC	R31,R25
    02859 8120      LD	R18,Z
    0285A 8131      LDD	R19,Z+1
    0285B E00A      LDI	R16,0xA
    0285C E010      LDI	R17,0
    0285D 940E 376B CALL	empy16s
    0285F 0198      MOVW	R18,R16
    02860 E188      LDI	R24,0x18
    02861 E091      LDI	R25,1
    02862 01FA      MOVW	R30,R20
    02863 9633      ADIW	R30,3
    02864 0FEE      LSL	R30
    02865 1FFF      ROL	R31
    02866 0FE8      ADD	R30,R24
    02867 1FF9      ADC	R31,R25
    02868 8020      LD	R2,Z
    02869 8031      LDD	R3,Z+1
    0286A 0D22      ADD	R18,R2
    0286B 1D33      ADC	R19,R3
    0286C E30C      LDI	R16,0x3C
    0286D E010      LDI	R17,0
    0286E 940E 376B CALL	empy16s
    02870 0118      MOVW	R2,R16
    02871 E188      LDI	R24,0x18
    02872 E091      LDI	R25,1
    02873 01FA      MOVW	R30,R20
    02874 0FEE      LSL	R30
    02875 1FFF      ROL	R31
    02876 0FE8      ADD	R30,R24
    02877 1FF9      ADC	R31,R25
    02878 8120      LD	R18,Z
    02879 8131      LDD	R19,Z+1
    0287A E00A      LDI	R16,0xA
    0287B E010      LDI	R17,0
    0287C 940E 376B CALL	empy16s
    0287E 0198      MOVW	R18,R16
    0287F E188      LDI	R24,0x18
    02880 E091      LDI	R25,1
    02881 01FA      MOVW	R30,R20
    02882 9631      ADIW	R30,1
    02883 0FEE      LSL	R30
    02884 1FFF      ROL	R31
    02885 0FE8      ADD	R30,R24
    02886 1FF9      ADC	R31,R25
    02887 8040      LD	R4,Z
    02888 8051      LDD	R5,Z+1
    02889 0D24      ADD	R18,R4
    0288A 1D35      ADC	R19,R5
    0288B E100      LDI	R16,0x10
    0288C E01E      LDI	R17,0xE
    0288D 940E 376B CALL	empy16s
    0288F 0128      MOVW	R4,R16
    02890 0C42      ADD	R4,R2
    02891 1C53      ADC	R5,R3
    02892 9250 0223 STS	temps+269,R5
    02894 9240 0222 STS	temps+268,R4
(0130) 			  //temps[0].needtime=3;
(0131) 			  if(temps[0].needtime==0){
    02896 2044      TST	R4
    02897 F441      BNE	0x28A0
    02898 2055      TST	R5
    02899 F431      BNE	0x28A0
(0132) 			     //当前阶段时间为0，表示已经结束更改标记
(0133) 				  temps[0].flag=4;
    0289A E084      LDI	R24,4
    0289B E090      LDI	R25,0
    0289C 9390 0117 STS	temps+1,R25
    0289E 9380 0116 STS	temps,R24
(0134) 			  }
(0135) 			 // temps[0].settemp，在上一场升温时候赋值过
(0136) 			}
(0137) 	  }
(0138)   }
(0139)   //第二个
(0140)   if(temps[1].flag==1){//运行中
    028A0 9180 025A LDS	R24,temps+324
    028A2 9190 025B LDS	R25,temps+325
    028A4 3081      CPI	R24,1
    028A5 E0E0      LDI	R30,0
    028A6 079E      CPC	R25,R30
    028A7 F009      BEQ	0x28A9
    028A8 C173      RJMP	0x2A1C
(0141)      cache=temps[1].status;//暂存当前状态
    028A9 9140 0364 LDS	R20,temps+590
    028AB 9150 0365 LDS	R21,temps+591
(0142)      if(temps[1].statusflag==0){//不是第一次进入当前状态
    028AD 9020 036E LDS	R2,temps+600
    028AF 9030 036F LDS	R3,temps+601
    028B1 2022      TST	R2
    028B2 F009      BEQ	0x28B4
    028B3 C044      RJMP	0x28F8
    028B4 2033      TST	R3
    028B5 F009      BEQ	0x28B7
    028B6 C041      RJMP	0x28F8
(0143) 	     temps[1].nowtime++;//当前阶段运行时间
    028B7 9180 0368 LDS	R24,temps+594
    028B9 9190 0369 LDS	R25,temps+595
    028BB 9601      ADIW	R24,1
    028BC 9390 0369 STS	temps+595,R25
    028BE 9380 0368 STS	temps+594,R24
(0144) 		if(temps[1].nowtime>=temps[1].needtime){//当前阶段运行结束进入下一阶段
    028C0 9020 0366 LDS	R2,temps+592
    028C2 9030 0367 LDS	R3,temps+593
    028C4 1582      CP	R24,R2
    028C5 0593      CPC	R25,R3
    028C6 F068      BCS	0x28D4
(0145) 		    temps[1].status++;
    028C7 01CA      MOVW	R24,R20
    028C8 9601      ADIW	R24,1
    028C9 9390 0365 STS	temps+591,R25
    028CB 9380 0364 STS	temps+590,R24
(0146) 		    temps[1].statusflag=1;
    028CD E081      LDI	R24,1
    028CE E090      LDI	R25,0
    028CF 9390 036F STS	temps+601,R25
    028D1 9380 036E STS	temps+600,R24
(0147) 			//PORTE=0xFF;
(0148) 		}else{//还在当前阶段
    028D3 C148      RJMP	0x2A1C
(0149) 		     if(cache & 0x01){//恒温阶段,
    028D4 FF40      SBRS	R20,0
    028D5 C001      RJMP	0x28D7
(0150) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0151) 		      }else{ //升温阶段
    028D6 C145      RJMP	0x2A1C
(0152) 		            temps[1].pertimecnt++;
    028D7 9180 036C LDS	R24,temps+598
    028D9 9190 036D LDS	R25,temps+599
    028DB 9601      ADIW	R24,1
    028DC 9390 036D STS	temps+599,R25
    028DE 9380 036C STS	temps+598,R24
(0153) 		            if(temps[1].pertimecnt>temps[1].pertime){
    028E0 9020 036A LDS	R2,temps+596
    028E2 9030 036B LDS	R3,temps+597
    028E4 1628      CP	R2,R24
    028E5 0639      CPC	R3,R25
    028E6 F008      BCS	0x28E8
    028E7 C134      RJMP	0x2A1C
(0154) 		                    temps[1].p_settemp++;//1C需要时间到达，增加温度。
    028E8 9180 0370 LDS	R24,temps+602
    028EA 9190 0371 LDS	R25,temps+603
    028EC 9601      ADIW	R24,1
    028ED 9390 0371 STS	temps+603,R25
    028EF 9380 0370 STS	temps+602,R24
(0155) 			                temps[1].pertimecnt=0;
    028F1 2422      CLR	R2
    028F2 2433      CLR	R3
    028F3 9230 036D STS	temps+599,R3
    028F5 9220 036C STS	temps+598,R2
(0156) 		              } 
(0157) 			  }
(0158) 		 }
(0159) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    028F7 C124      RJMP	0x2A1C
(0160) 	        temps[1].statusflag=0;
    028F8 2422      CLR	R2
    028F9 2433      CLR	R3
    028FA 9230 036F STS	temps+601,R3
    028FC 9220 036E STS	temps+600,R2
(0161) 		    temps[1].nowtime=0;
    028FE 9230 0369 STS	temps+595,R3
    02900 9220 0368 STS	temps+594,R2
(0162) 	       if(cache & 0x01){//升温阶段
    02902 FF40      SBRS	R20,0
    02903 C0BD      RJMP	0x29C1
(0163) 		      cache=((cache-1)>>1)*11;
    02904 019A      MOVW	R18,R20
    02905 5021      SUBI	R18,1
    02906 4030      SBCI	R19,0
    02907 9536      LSR	R19
    02908 9527      ROR	R18
    02909 E00B      LDI	R16,0xB
    0290A E010      LDI	R17,0
    0290B 940E 376B CALL	empy16s
    0290D 01A8      MOVW	R20,R16
(0164) 		      temps[1].needtime=(temps[1].temp_data[cache]*10+temps[1].temp_data[cache+1])*3600+(temps[1].temp_data[cache+2]*10+temps[1].temp_data[cache+3])*60;
    0290E E58C      LDI	R24,0x5C
    0290F E092      LDI	R25,2
    02910 01FA      MOVW	R30,R20
    02911 9632      ADIW	R30,2
    02912 0FEE      LSL	R30
    02913 1FFF      ROL	R31
    02914 0FE8      ADD	R30,R24
    02915 1FF9      ADC	R31,R25
    02916 8120      LD	R18,Z
    02917 8131      LDD	R19,Z+1
    02918 E00A      LDI	R16,0xA
    02919 E010      LDI	R17,0
    0291A 940E 376B CALL	empy16s
    0291C 0198      MOVW	R18,R16
    0291D E58C      LDI	R24,0x5C
    0291E E092      LDI	R25,2
    0291F 01FA      MOVW	R30,R20
    02920 9633      ADIW	R30,3
    02921 0FEE      LSL	R30
    02922 1FFF      ROL	R31
    02923 0FE8      ADD	R30,R24
    02924 1FF9      ADC	R31,R25
    02925 8020      LD	R2,Z
    02926 8031      LDD	R3,Z+1
    02927 0D22      ADD	R18,R2
    02928 1D33      ADC	R19,R3
    02929 E30C      LDI	R16,0x3C
    0292A E010      LDI	R17,0
    0292B 940E 376B CALL	empy16s
    0292D 0118      MOVW	R2,R16
    0292E E58C      LDI	R24,0x5C
    0292F E092      LDI	R25,2
    02930 01FA      MOVW	R30,R20
    02931 0FEE      LSL	R30
    02932 1FFF      ROL	R31
    02933 0FE8      ADD	R30,R24
    02934 1FF9      ADC	R31,R25
    02935 8120      LD	R18,Z
    02936 8131      LDD	R19,Z+1
    02937 E00A      LDI	R16,0xA
    02938 E010      LDI	R17,0
    02939 940E 376B CALL	empy16s
    0293B 0198      MOVW	R18,R16
    0293C E58C      LDI	R24,0x5C
    0293D E092      LDI	R25,2
    0293E 01FA      MOVW	R30,R20
    0293F 9631      ADIW	R30,1
    02940 0FEE      LSL	R30
    02941 1FFF      ROL	R31
    02942 0FE8      ADD	R30,R24
    02943 1FF9      ADC	R31,R25
    02944 8040      LD	R4,Z
    02945 8051      LDD	R5,Z+1
    02946 0D24      ADD	R18,R4
    02947 1D35      ADC	R19,R5
    02948 E100      LDI	R16,0x10
    02949 E01E      LDI	R17,0xE
    0294A 940E 376B CALL	empy16s
    0294C 0128      MOVW	R4,R16
    0294D 0C42      ADD	R4,R2
    0294E 1C53      ADC	R5,R3
    0294F 9250 0367 STS	temps+593,R5
    02951 9240 0366 STS	temps+592,R4
(0165) 			  //temps[0].needtime=3;
(0166) 			  if(temps[1].needtime==0){
    02953 2044      TST	R4
    02954 F449      BNE	0x295E
    02955 2055      TST	R5
    02956 F439      BNE	0x295E
(0167) 			     //当前阶段时间为0，表示已经结束更改标记
(0168) 				  temps[1].flag=4;
    02957 E084      LDI	R24,4
    02958 E090      LDI	R25,0
    02959 9390 025B STS	temps+325,R25
    0295B 9380 025A STS	temps+324,R24
(0169) 			  }else{
    0295D C0BE      RJMP	0x2A1C
(0170) 			     temps[1].p_settemp=temps[1].temp_data[cache+8]*100+temps[1].temp_data[cache+9]*10+temps[1].temp_data[cache+10];
    0295E E58C      LDI	R24,0x5C
    0295F E092      LDI	R25,2
    02960 01FA      MOVW	R30,R20
    02961 9639      ADIW	R30,0x9
    02962 0FEE      LSL	R30
    02963 1FFF      ROL	R31
    02964 0FE8      ADD	R30,R24
    02965 1FF9      ADC	R31,R25
    02966 8120      LD	R18,Z
    02967 8131      LDD	R19,Z+1
    02968 E00A      LDI	R16,0xA
    02969 E010      LDI	R17,0
    0296A 940E 376B CALL	empy16s
    0296C 0118      MOVW	R2,R16
    0296D E58C      LDI	R24,0x5C
    0296E E092      LDI	R25,2
    0296F 01FA      MOVW	R30,R20
    02970 9638      ADIW	R30,0x8
    02971 0FEE      LSL	R30
    02972 1FFF      ROL	R31
    02973 0FE8      ADD	R30,R24
    02974 1FF9      ADC	R31,R25
    02975 8120      LD	R18,Z
    02976 8131      LDD	R19,Z+1
    02977 E604      LDI	R16,0x64
    02978 E010      LDI	R17,0
    02979 940E 376B CALL	empy16s
    0297B 0128      MOVW	R4,R16
    0297C 0C42      ADD	R4,R2
    0297D 1C53      ADC	R5,R3
    0297E E58C      LDI	R24,0x5C
    0297F E092      LDI	R25,2
    02980 01FA      MOVW	R30,R20
    02981 963A      ADIW	R30,0xA
    02982 0FEE      LSL	R30
    02983 1FFF      ROL	R31
    02984 0FE8      ADD	R30,R24
    02985 1FF9      ADC	R31,R25
    02986 8020      LD	R2,Z
    02987 8031      LDD	R3,Z+1
    02988 0C42      ADD	R4,R2
    02989 1C53      ADC	R5,R3
    0298A 9250 0371 STS	temps+603,R5
    0298C 9240 0370 STS	temps+602,R4
(0171) 			     temps[1].pertime=temps[1].needtime/(temps[1].p_settemp-temps[1].actualtemp);
    0298E 9100 0366 LDS	R16,temps+592
    02990 9110 0367 LDS	R17,temps+593
    02992 940E 38EA CALL	uint2fp
    02994 0118      MOVW	R2,R16
    02995 0129      MOVW	R4,R18
    02996 9100 0370 LDS	R16,temps+602
    02998 9110 0371 LDS	R17,temps+603
    0299A 940E 38EA CALL	uint2fp
    0299C E78E      LDI	R24,0x7E
    0299D E093      LDI	R25,3
    0299E 939A      ST	-Y,R25
    0299F 938A      ST	-Y,R24
    029A0 940E 389D CALL	fpsub1x
    029A2 0181      MOVW	R16,R2
    029A3 0192      MOVW	R18,R4
    029A4 940E 3917 CALL	fpdiv2
    029A6 940E 38B8 CALL	fpint
    029A8 9310 036B STS	temps+597,R17
    029AA 9300 036A STS	temps+596,R16
(0172) 			     temps[1].pertimecnt=0;
    029AC 2422      CLR	R2
    029AD 2433      CLR	R3
    029AE 9230 036D STS	temps+599,R3
    029B0 9220 036C STS	temps+598,R2
(0173) 				 temps[1].settemp=temps[1].p_settemp;//当接近恒温温度时候使用pid需要此温度
    029B2 9100 0370 LDS	R16,temps+602
    029B4 9110 0371 LDS	R17,temps+603
    029B6 940E 38EA CALL	uint2fp
    029B8 9310 037B STS	temps+613,R17
    029BA 9300 037A STS	temps+612,R16
    029BC 9330 037D STS	temps+615,R19
    029BE 9320 037C STS	temps+614,R18
(0174) 			  }
(0175) 		     
(0176) 		    }else{//恒温阶段
    029C0 C05B      RJMP	0x2A1C
(0177) 			   cache=((cache-1)>>1)*11+4;
    029C1 019A      MOVW	R18,R20
    029C2 5021      SUBI	R18,1
    029C3 4030      SBCI	R19,0
    029C4 9536      LSR	R19
    029C5 9527      ROR	R18
    029C6 E00B      LDI	R16,0xB
    029C7 E010      LDI	R17,0
    029C8 940E 376B CALL	empy16s
    029CA 01A8      MOVW	R20,R16
    029CB 5F4C      SUBI	R20,0xFC
    029CC 4F5F      SBCI	R21,0xFF
(0178) 		      temps[1].needtime=(temps[1].temp_data[cache]*10+temps[1].temp_data[cache+1])*3600+(temps[1].temp_data[cache+2]*10+temps[1].temp_data[cache+3])*60;
    029CD E58C      LDI	R24,0x5C
    029CE E092      LDI	R25,2
    029CF 01FA      MOVW	R30,R20
    029D0 9632      ADIW	R30,2
    029D1 0FEE      LSL	R30
    029D2 1FFF      ROL	R31
    029D3 0FE8      ADD	R30,R24
    029D4 1FF9      ADC	R31,R25
    029D5 8120      LD	R18,Z
    029D6 8131      LDD	R19,Z+1
    029D7 E00A      LDI	R16,0xA
    029D8 E010      LDI	R17,0
    029D9 940E 376B CALL	empy16s
    029DB 0198      MOVW	R18,R16
    029DC E58C      LDI	R24,0x5C
    029DD E092      LDI	R25,2
    029DE 01FA      MOVW	R30,R20
    029DF 9633      ADIW	R30,3
    029E0 0FEE      LSL	R30
    029E1 1FFF      ROL	R31
    029E2 0FE8      ADD	R30,R24
    029E3 1FF9      ADC	R31,R25
    029E4 8020      LD	R2,Z
    029E5 8031      LDD	R3,Z+1
    029E6 0D22      ADD	R18,R2
    029E7 1D33      ADC	R19,R3
    029E8 E30C      LDI	R16,0x3C
    029E9 E010      LDI	R17,0
    029EA 940E 376B CALL	empy16s
    029EC 0118      MOVW	R2,R16
    029ED E58C      LDI	R24,0x5C
    029EE E092      LDI	R25,2
    029EF 01FA      MOVW	R30,R20
    029F0 0FEE      LSL	R30
    029F1 1FFF      ROL	R31
    029F2 0FE8      ADD	R30,R24
    029F3 1FF9      ADC	R31,R25
    029F4 8120      LD	R18,Z
    029F5 8131      LDD	R19,Z+1
    029F6 E00A      LDI	R16,0xA
    029F7 E010      LDI	R17,0
    029F8 940E 376B CALL	empy16s
    029FA 0198      MOVW	R18,R16
    029FB E58C      LDI	R24,0x5C
    029FC E092      LDI	R25,2
    029FD 01FA      MOVW	R30,R20
    029FE 9631      ADIW	R30,1
    029FF 0FEE      LSL	R30
    02A00 1FFF      ROL	R31
    02A01 0FE8      ADD	R30,R24
    02A02 1FF9      ADC	R31,R25
    02A03 8040      LD	R4,Z
    02A04 8051      LDD	R5,Z+1
    02A05 0D24      ADD	R18,R4
    02A06 1D35      ADC	R19,R5
    02A07 E100      LDI	R16,0x10
    02A08 E01E      LDI	R17,0xE
    02A09 940E 376B CALL	empy16s
    02A0B 0128      MOVW	R4,R16
    02A0C 0C42      ADD	R4,R2
    02A0D 1C53      ADC	R5,R3
    02A0E 9250 0367 STS	temps+593,R5
    02A10 9240 0366 STS	temps+592,R4
(0179) 			  //temps[1].needtime=3;
(0180) 			  if(temps[1].needtime==0){
    02A12 2044      TST	R4
    02A13 F441      BNE	0x2A1C
    02A14 2055      TST	R5
    02A15 F431      BNE	0x2A1C
(0181) 			     //当前阶段时间为0，表示已经结束更改标记
(0182) 				  temps[1].flag=4;
    02A16 E084      LDI	R24,4
    02A17 E090      LDI	R25,0
    02A18 9390 025B STS	temps+325,R25
    02A1A 9380 025A STS	temps+324,R24
(0183) 			  }
(0184) 			 // temps[1].settemp，在上一场升温时候赋值过
(0185) 			}
(0186) 	  }
(0187)   }
(0188)   //第三个
(0189)   if(temps[2].flag==1){//运行中
    02A1C 9180 039E LDS	R24,temps+648
    02A1E 9190 039F LDS	R25,temps+649
    02A20 3081      CPI	R24,1
    02A21 E0E0      LDI	R30,0
    02A22 079E      CPC	R25,R30
    02A23 F009      BEQ	0x2A25
    02A24 C173      RJMP	0x2B98
(0190)      cache=temps[2].status;//暂存当前状态
    02A25 9140 04A8 LDS	R20,temps+914
    02A27 9150 04A9 LDS	R21,temps+915
(0191)      if(temps[2].statusflag==0){//不是第一次进入当前状态
    02A29 9020 04B2 LDS	R2,temps+924
    02A2B 9030 04B3 LDS	R3,temps+925
    02A2D 2022      TST	R2
    02A2E F009      BEQ	0x2A30
    02A2F C044      RJMP	0x2A74
    02A30 2033      TST	R3
    02A31 F009      BEQ	0x2A33
    02A32 C041      RJMP	0x2A74
(0192) 	     temps[2].nowtime++;//当前阶段运行时间
    02A33 9180 04AC LDS	R24,temps+918
    02A35 9190 04AD LDS	R25,temps+919
    02A37 9601      ADIW	R24,1
    02A38 9390 04AD STS	temps+919,R25
    02A3A 9380 04AC STS	temps+918,R24
(0193) 		if(temps[2].nowtime>=temps[2].needtime){//当前阶段运行结束进入下一阶段
    02A3C 9020 04AA LDS	R2,temps+916
    02A3E 9030 04AB LDS	R3,temps+917
    02A40 1582      CP	R24,R2
    02A41 0593      CPC	R25,R3
    02A42 F068      BCS	0x2A50
(0194) 		    temps[2].status++;
    02A43 01CA      MOVW	R24,R20
    02A44 9601      ADIW	R24,1
    02A45 9390 04A9 STS	temps+915,R25
    02A47 9380 04A8 STS	temps+914,R24
(0195) 		    temps[2].statusflag=1;
    02A49 E081      LDI	R24,1
    02A4A E090      LDI	R25,0
    02A4B 9390 04B3 STS	temps+925,R25
    02A4D 9380 04B2 STS	temps+924,R24
(0196) 			//PORTE=0xFF;
(0197) 		}else{//还在当前阶段
    02A4F C148      RJMP	0x2B98
(0198) 		     if(cache & 0x01){//恒温阶段,
    02A50 FF40      SBRS	R20,0
    02A51 C001      RJMP	0x2A53
(0199) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0200) 		      }else{ //升温阶段
    02A52 C145      RJMP	0x2B98
(0201) 		            temps[2].pertimecnt++;
    02A53 9180 04B0 LDS	R24,temps+922
    02A55 9190 04B1 LDS	R25,temps+923
    02A57 9601      ADIW	R24,1
    02A58 9390 04B1 STS	temps+923,R25
    02A5A 9380 04B0 STS	temps+922,R24
(0202) 		            if(temps[2].pertimecnt>temps[2].pertime){
    02A5C 9020 04AE LDS	R2,temps+920
    02A5E 9030 04AF LDS	R3,temps+921
    02A60 1628      CP	R2,R24
    02A61 0639      CPC	R3,R25
    02A62 F008      BCS	0x2A64
    02A63 C134      RJMP	0x2B98
(0203) 		                    temps[2].p_settemp++;//1C需要时间到达，增加温度。
    02A64 9180 04B4 LDS	R24,temps+926
    02A66 9190 04B5 LDS	R25,temps+927
    02A68 9601      ADIW	R24,1
    02A69 9390 04B5 STS	temps+927,R25
    02A6B 9380 04B4 STS	temps+926,R24
(0204) 			                temps[2].pertimecnt=0;
    02A6D 2422      CLR	R2
    02A6E 2433      CLR	R3
    02A6F 9230 04B1 STS	temps+923,R3
    02A71 9220 04B0 STS	temps+922,R2
(0205) 		              } 
(0206) 			  }
(0207) 		 }
(0208) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    02A73 C124      RJMP	0x2B98
(0209) 	        temps[2].statusflag=0;
    02A74 2422      CLR	R2
    02A75 2433      CLR	R3
    02A76 9230 04B3 STS	temps+925,R3
    02A78 9220 04B2 STS	temps+924,R2
(0210) 		    temps[2].nowtime=0;
    02A7A 9230 04AD STS	temps+919,R3
    02A7C 9220 04AC STS	temps+918,R2
(0211) 	       if(cache & 0x01){//升温阶段
    02A7E FF40      SBRS	R20,0
    02A7F C0BD      RJMP	0x2B3D
(0212) 		      cache=((cache-1)>>1)*11;
    02A80 019A      MOVW	R18,R20
    02A81 5021      SUBI	R18,1
    02A82 4030      SBCI	R19,0
    02A83 9536      LSR	R19
    02A84 9527      ROR	R18
    02A85 E00B      LDI	R16,0xB
    02A86 E010      LDI	R17,0
    02A87 940E 376B CALL	empy16s
    02A89 01A8      MOVW	R20,R16
(0213) 		      temps[2].needtime=(temps[2].temp_data[cache]*10+temps[2].temp_data[cache+1])*3600+(temps[2].temp_data[cache+2]*10+temps[2].temp_data[cache+3])*60;
    02A8A EA80      LDI	R24,0xA0
    02A8B E093      LDI	R25,3
    02A8C 01FA      MOVW	R30,R20
    02A8D 9632      ADIW	R30,2
    02A8E 0FEE      LSL	R30
    02A8F 1FFF      ROL	R31
    02A90 0FE8      ADD	R30,R24
    02A91 1FF9      ADC	R31,R25
    02A92 8120      LD	R18,Z
    02A93 8131      LDD	R19,Z+1
    02A94 E00A      LDI	R16,0xA
    02A95 E010      LDI	R17,0
    02A96 940E 376B CALL	empy16s
    02A98 0198      MOVW	R18,R16
    02A99 EA80      LDI	R24,0xA0
    02A9A E093      LDI	R25,3
    02A9B 01FA      MOVW	R30,R20
    02A9C 9633      ADIW	R30,3
    02A9D 0FEE      LSL	R30
    02A9E 1FFF      ROL	R31
    02A9F 0FE8      ADD	R30,R24
    02AA0 1FF9      ADC	R31,R25
    02AA1 8020      LD	R2,Z
    02AA2 8031      LDD	R3,Z+1
    02AA3 0D22      ADD	R18,R2
    02AA4 1D33      ADC	R19,R3
    02AA5 E30C      LDI	R16,0x3C
    02AA6 E010      LDI	R17,0
    02AA7 940E 376B CALL	empy16s
    02AA9 0118      MOVW	R2,R16
    02AAA EA80      LDI	R24,0xA0
    02AAB E093      LDI	R25,3
    02AAC 01FA      MOVW	R30,R20
    02AAD 0FEE      LSL	R30
    02AAE 1FFF      ROL	R31
    02AAF 0FE8      ADD	R30,R24
    02AB0 1FF9      ADC	R31,R25
    02AB1 8120      LD	R18,Z
    02AB2 8131      LDD	R19,Z+1
    02AB3 E00A      LDI	R16,0xA
    02AB4 E010      LDI	R17,0
    02AB5 940E 376B CALL	empy16s
    02AB7 0198      MOVW	R18,R16
    02AB8 EA80      LDI	R24,0xA0
    02AB9 E093      LDI	R25,3
    02ABA 01FA      MOVW	R30,R20
    02ABB 9631      ADIW	R30,1
    02ABC 0FEE      LSL	R30
    02ABD 1FFF      ROL	R31
    02ABE 0FE8      ADD	R30,R24
    02ABF 1FF9      ADC	R31,R25
    02AC0 8040      LD	R4,Z
    02AC1 8051      LDD	R5,Z+1
    02AC2 0D24      ADD	R18,R4
    02AC3 1D35      ADC	R19,R5
    02AC4 E100      LDI	R16,0x10
    02AC5 E01E      LDI	R17,0xE
    02AC6 940E 376B CALL	empy16s
    02AC8 0128      MOVW	R4,R16
    02AC9 0C42      ADD	R4,R2
    02ACA 1C53      ADC	R5,R3
    02ACB 9250 04AB STS	temps+917,R5
    02ACD 9240 04AA STS	temps+916,R4
(0214) 			  //temps[0].needtime=3;
(0215) 			  if(temps[2].needtime==0){
    02ACF 2044      TST	R4
    02AD0 F449      BNE	0x2ADA
    02AD1 2055      TST	R5
    02AD2 F439      BNE	0x2ADA
(0216) 			     //当前阶段时间为0，表示已经结束更改标记
(0217) 				  temps[2].flag=4;
    02AD3 E084      LDI	R24,4
    02AD4 E090      LDI	R25,0
    02AD5 9390 039F STS	temps+649,R25
    02AD7 9380 039E STS	temps+648,R24
(0218) 			  }else{
    02AD9 C0BE      RJMP	0x2B98
(0219) 			     temps[2].p_settemp=temps[2].temp_data[cache+8]*100+temps[2].temp_data[cache+9]*10+temps[2].temp_data[cache+10];
    02ADA EA80      LDI	R24,0xA0
    02ADB E093      LDI	R25,3
    02ADC 01FA      MOVW	R30,R20
    02ADD 9639      ADIW	R30,0x9
    02ADE 0FEE      LSL	R30
    02ADF 1FFF      ROL	R31
    02AE0 0FE8      ADD	R30,R24
    02AE1 1FF9      ADC	R31,R25
    02AE2 8120      LD	R18,Z
    02AE3 8131      LDD	R19,Z+1
    02AE4 E00A      LDI	R16,0xA
    02AE5 E010      LDI	R17,0
    02AE6 940E 376B CALL	empy16s
    02AE8 0118      MOVW	R2,R16
    02AE9 EA80      LDI	R24,0xA0
    02AEA E093      LDI	R25,3
    02AEB 01FA      MOVW	R30,R20
    02AEC 9638      ADIW	R30,0x8
    02AED 0FEE      LSL	R30
    02AEE 1FFF      ROL	R31
    02AEF 0FE8      ADD	R30,R24
    02AF0 1FF9      ADC	R31,R25
    02AF1 8120      LD	R18,Z
    02AF2 8131      LDD	R19,Z+1
    02AF3 E604      LDI	R16,0x64
    02AF4 E010      LDI	R17,0
    02AF5 940E 376B CALL	empy16s
    02AF7 0128      MOVW	R4,R16
    02AF8 0C42      ADD	R4,R2
    02AF9 1C53      ADC	R5,R3
    02AFA EA80      LDI	R24,0xA0
    02AFB E093      LDI	R25,3
    02AFC 01FA      MOVW	R30,R20
    02AFD 963A      ADIW	R30,0xA
    02AFE 0FEE      LSL	R30
    02AFF 1FFF      ROL	R31
    02B00 0FE8      ADD	R30,R24
    02B01 1FF9      ADC	R31,R25
    02B02 8020      LD	R2,Z
    02B03 8031      LDD	R3,Z+1
    02B04 0C42      ADD	R4,R2
    02B05 1C53      ADC	R5,R3
    02B06 9250 04B5 STS	temps+927,R5
    02B08 9240 04B4 STS	temps+926,R4
(0220) 			     temps[2].pertime=temps[2].needtime/(temps[2].p_settemp-temps[2].actualtemp);
    02B0A 9100 04AA LDS	R16,temps+916
    02B0C 9110 04AB LDS	R17,temps+917
    02B0E 940E 38EA CALL	uint2fp
    02B10 0118      MOVW	R2,R16
    02B11 0129      MOVW	R4,R18
    02B12 9100 04B4 LDS	R16,temps+926
    02B14 9110 04B5 LDS	R17,temps+927
    02B16 940E 38EA CALL	uint2fp
    02B18 EC82      LDI	R24,0xC2
    02B19 E094      LDI	R25,4
    02B1A 939A      ST	-Y,R25
    02B1B 938A      ST	-Y,R24
    02B1C 940E 389D CALL	fpsub1x
    02B1E 0181      MOVW	R16,R2
    02B1F 0192      MOVW	R18,R4
    02B20 940E 3917 CALL	fpdiv2
    02B22 940E 38B8 CALL	fpint
    02B24 9310 04AF STS	temps+921,R17
    02B26 9300 04AE STS	temps+920,R16
(0221) 			     temps[2].pertimecnt=0;
    02B28 2422      CLR	R2
    02B29 2433      CLR	R3
    02B2A 9230 04B1 STS	temps+923,R3
    02B2C 9220 04B0 STS	temps+922,R2
(0222) 				 temps[2].settemp=temps[2].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02B2E 9100 04B4 LDS	R16,temps+926
    02B30 9110 04B5 LDS	R17,temps+927
    02B32 940E 38EA CALL	uint2fp
    02B34 9310 04BF STS	temps+937,R17
    02B36 9300 04BE STS	temps+936,R16
    02B38 9330 04C1 STS	temps+939,R19
    02B3A 9320 04C0 STS	temps+938,R18
(0223) 			  }
(0224) 		     
(0225) 		    }else{//恒温阶段
    02B3C C05B      RJMP	0x2B98
(0226) 			   cache=((cache-1)>>1)*11+4;
    02B3D 019A      MOVW	R18,R20
    02B3E 5021      SUBI	R18,1
    02B3F 4030      SBCI	R19,0
    02B40 9536      LSR	R19
    02B41 9527      ROR	R18
    02B42 E00B      LDI	R16,0xB
    02B43 E010      LDI	R17,0
    02B44 940E 376B CALL	empy16s
    02B46 01A8      MOVW	R20,R16
    02B47 5F4C      SUBI	R20,0xFC
    02B48 4F5F      SBCI	R21,0xFF
(0227) 		      temps[2].needtime=(temps[2].temp_data[cache]*10+temps[2].temp_data[cache+1])*3600+(temps[2].temp_data[cache+2]*10+temps[2].temp_data[cache+3])*60;
    02B49 EA80      LDI	R24,0xA0
    02B4A E093      LDI	R25,3
    02B4B 01FA      MOVW	R30,R20
    02B4C 9632      ADIW	R30,2
    02B4D 0FEE      LSL	R30
    02B4E 1FFF      ROL	R31
    02B4F 0FE8      ADD	R30,R24
    02B50 1FF9      ADC	R31,R25
    02B51 8120      LD	R18,Z
    02B52 8131      LDD	R19,Z+1
    02B53 E00A      LDI	R16,0xA
    02B54 E010      LDI	R17,0
    02B55 940E 376B CALL	empy16s
    02B57 0198      MOVW	R18,R16
    02B58 EA80      LDI	R24,0xA0
    02B59 E093      LDI	R25,3
    02B5A 01FA      MOVW	R30,R20
    02B5B 9633      ADIW	R30,3
    02B5C 0FEE      LSL	R30
    02B5D 1FFF      ROL	R31
    02B5E 0FE8      ADD	R30,R24
    02B5F 1FF9      ADC	R31,R25
    02B60 8020      LD	R2,Z
    02B61 8031      LDD	R3,Z+1
    02B62 0D22      ADD	R18,R2
    02B63 1D33      ADC	R19,R3
    02B64 E30C      LDI	R16,0x3C
    02B65 E010      LDI	R17,0
    02B66 940E 376B CALL	empy16s
    02B68 0118      MOVW	R2,R16
    02B69 EA80      LDI	R24,0xA0
    02B6A E093      LDI	R25,3
    02B6B 01FA      MOVW	R30,R20
    02B6C 0FEE      LSL	R30
    02B6D 1FFF      ROL	R31
    02B6E 0FE8      ADD	R30,R24
    02B6F 1FF9      ADC	R31,R25
    02B70 8120      LD	R18,Z
    02B71 8131      LDD	R19,Z+1
    02B72 E00A      LDI	R16,0xA
    02B73 E010      LDI	R17,0
    02B74 940E 376B CALL	empy16s
    02B76 0198      MOVW	R18,R16
    02B77 EA80      LDI	R24,0xA0
    02B78 E093      LDI	R25,3
    02B79 01FA      MOVW	R30,R20
    02B7A 9631      ADIW	R30,1
    02B7B 0FEE      LSL	R30
    02B7C 1FFF      ROL	R31
    02B7D 0FE8      ADD	R30,R24
    02B7E 1FF9      ADC	R31,R25
    02B7F 8040      LD	R4,Z
    02B80 8051      LDD	R5,Z+1
    02B81 0D24      ADD	R18,R4
    02B82 1D35      ADC	R19,R5
    02B83 E100      LDI	R16,0x10
    02B84 E01E      LDI	R17,0xE
    02B85 940E 376B CALL	empy16s
    02B87 0128      MOVW	R4,R16
    02B88 0C42      ADD	R4,R2
    02B89 1C53      ADC	R5,R3
    02B8A 9250 04AB STS	temps+917,R5
    02B8C 9240 04AA STS	temps+916,R4
(0228) 			  //temps[0].needtime=3;
(0229) 			  if(temps[2].needtime==0){
    02B8E 2044      TST	R4
    02B8F F441      BNE	0x2B98
    02B90 2055      TST	R5
    02B91 F431      BNE	0x2B98
(0230) 			     //当前阶段时间为0，表示已经结束更改标记
(0231) 				  temps[2].flag=4;
    02B92 E084      LDI	R24,4
    02B93 E090      LDI	R25,0
    02B94 9390 039F STS	temps+649,R25
    02B96 9380 039E STS	temps+648,R24
(0232) 			  }
(0233) 			 // temps[0].settemp，在上一场升温时候赋值过
(0234) 			}
(0235) 	  }
(0236)   }
(0237)   //第一个
(0238)   if(temps[3].flag==1){//运行中
    02B98 9180 04E2 LDS	R24,temps+972
    02B9A 9190 04E3 LDS	R25,temps+973
    02B9C 3081      CPI	R24,1
    02B9D E0E0      LDI	R30,0
    02B9E 079E      CPC	R25,R30
    02B9F F009      BEQ	0x2BA1
    02BA0 C173      RJMP	0x2D14
(0239)      cache=temps[3].status;//暂存当前状态
    02BA1 9140 05EC LDS	R20,temps+1238
    02BA3 9150 05ED LDS	R21,temps+1239
(0240)      if(temps[3].statusflag==0){//不是第一次进入当前状态
    02BA5 9020 05F6 LDS	R2,temps+1248
    02BA7 9030 05F7 LDS	R3,temps+1249
    02BA9 2022      TST	R2
    02BAA F009      BEQ	0x2BAC
    02BAB C044      RJMP	0x2BF0
    02BAC 2033      TST	R3
    02BAD F009      BEQ	0x2BAF
    02BAE C041      RJMP	0x2BF0
(0241) 	     temps[3].nowtime++;//当前阶段运行时间
    02BAF 9180 05F0 LDS	R24,temps+1242
    02BB1 9190 05F1 LDS	R25,temps+1243
    02BB3 9601      ADIW	R24,1
    02BB4 9390 05F1 STS	temps+1243,R25
    02BB6 9380 05F0 STS	temps+1242,R24
(0242) 		if(temps[3].nowtime>=temps[3].needtime){//当前阶段运行结束进入下一阶段
    02BB8 9020 05EE LDS	R2,temps+1240
    02BBA 9030 05EF LDS	R3,temps+1241
    02BBC 1582      CP	R24,R2
    02BBD 0593      CPC	R25,R3
    02BBE F068      BCS	0x2BCC
(0243) 		    temps[3].status++;
    02BBF 01CA      MOVW	R24,R20
    02BC0 9601      ADIW	R24,1
    02BC1 9390 05ED STS	temps+1239,R25
    02BC3 9380 05EC STS	temps+1238,R24
(0244) 		    temps[3].statusflag=1;
    02BC5 E081      LDI	R24,1
    02BC6 E090      LDI	R25,0
    02BC7 9390 05F7 STS	temps+1249,R25
    02BC9 9380 05F6 STS	temps+1248,R24
(0245) 			//PORTE=0xFF;
(0246) 		}else{//还在当前阶段
    02BCB C148      RJMP	0x2D14
(0247) 		     if(cache & 0x01){//恒温阶段,
    02BCC FF40      SBRS	R20,0
    02BCD C001      RJMP	0x2BCF
(0248) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0249) 		      }else{ //升温阶段
    02BCE C145      RJMP	0x2D14
(0250) 		            temps[3].pertimecnt++;
    02BCF 9180 05F4 LDS	R24,temps+1246
    02BD1 9190 05F5 LDS	R25,temps+1247
    02BD3 9601      ADIW	R24,1
    02BD4 9390 05F5 STS	temps+1247,R25
    02BD6 9380 05F4 STS	temps+1246,R24
(0251) 		            if(temps[3].pertimecnt>temps[3].pertime){
    02BD8 9020 05F2 LDS	R2,temps+1244
    02BDA 9030 05F3 LDS	R3,temps+1245
    02BDC 1628      CP	R2,R24
    02BDD 0639      CPC	R3,R25
    02BDE F008      BCS	0x2BE0
    02BDF C134      RJMP	0x2D14
(0252) 		                    temps[3].p_settemp++;//1C需要时间到达，增加温度。
    02BE0 9180 05F8 LDS	R24,temps+1250
    02BE2 9190 05F9 LDS	R25,temps+1251
    02BE4 9601      ADIW	R24,1
    02BE5 9390 05F9 STS	temps+1251,R25
    02BE7 9380 05F8 STS	temps+1250,R24
(0253) 			                temps[3].pertimecnt=0;
    02BE9 2422      CLR	R2
    02BEA 2433      CLR	R3
    02BEB 9230 05F5 STS	temps+1247,R3
    02BED 9220 05F4 STS	temps+1246,R2
(0254) 		              } 
(0255) 			  }
(0256) 		 }
(0257) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    02BEF C124      RJMP	0x2D14
(0258) 	        temps[3].statusflag=0;
    02BF0 2422      CLR	R2
    02BF1 2433      CLR	R3
    02BF2 9230 05F7 STS	temps+1249,R3
    02BF4 9220 05F6 STS	temps+1248,R2
(0259) 		    temps[3].nowtime=0;
    02BF6 9230 05F1 STS	temps+1243,R3
    02BF8 9220 05F0 STS	temps+1242,R2
(0260) 	       if(cache & 0x01){//升温阶段
    02BFA FF40      SBRS	R20,0
    02BFB C0BD      RJMP	0x2CB9
(0261) 		      cache=((cache-1)>>1)*11;
    02BFC 019A      MOVW	R18,R20
    02BFD 5021      SUBI	R18,1
    02BFE 4030      SBCI	R19,0
    02BFF 9536      LSR	R19
    02C00 9527      ROR	R18
    02C01 E00B      LDI	R16,0xB
    02C02 E010      LDI	R17,0
    02C03 940E 376B CALL	empy16s
    02C05 01A8      MOVW	R20,R16
(0262) 		      temps[3].needtime=(temps[3].temp_data[cache]*10+temps[3].temp_data[cache+1])*3600+(temps[3].temp_data[cache+2]*10+temps[3].temp_data[cache+3])*60;
    02C06 EE84      LDI	R24,0xE4
    02C07 E094      LDI	R25,4
    02C08 01FA      MOVW	R30,R20
    02C09 9632      ADIW	R30,2
    02C0A 0FEE      LSL	R30
    02C0B 1FFF      ROL	R31
    02C0C 0FE8      ADD	R30,R24
    02C0D 1FF9      ADC	R31,R25
    02C0E 8120      LD	R18,Z
    02C0F 8131      LDD	R19,Z+1
    02C10 E00A      LDI	R16,0xA
    02C11 E010      LDI	R17,0
    02C12 940E 376B CALL	empy16s
    02C14 0198      MOVW	R18,R16
    02C15 EE84      LDI	R24,0xE4
    02C16 E094      LDI	R25,4
    02C17 01FA      MOVW	R30,R20
    02C18 9633      ADIW	R30,3
    02C19 0FEE      LSL	R30
    02C1A 1FFF      ROL	R31
    02C1B 0FE8      ADD	R30,R24
    02C1C 1FF9      ADC	R31,R25
    02C1D 8020      LD	R2,Z
    02C1E 8031      LDD	R3,Z+1
    02C1F 0D22      ADD	R18,R2
    02C20 1D33      ADC	R19,R3
    02C21 E30C      LDI	R16,0x3C
    02C22 E010      LDI	R17,0
    02C23 940E 376B CALL	empy16s
    02C25 0118      MOVW	R2,R16
    02C26 EE84      LDI	R24,0xE4
    02C27 E094      LDI	R25,4
    02C28 01FA      MOVW	R30,R20
    02C29 0FEE      LSL	R30
    02C2A 1FFF      ROL	R31
    02C2B 0FE8      ADD	R30,R24
    02C2C 1FF9      ADC	R31,R25
    02C2D 8120      LD	R18,Z
    02C2E 8131      LDD	R19,Z+1
    02C2F E00A      LDI	R16,0xA
    02C30 E010      LDI	R17,0
    02C31 940E 376B CALL	empy16s
    02C33 0198      MOVW	R18,R16
    02C34 EE84      LDI	R24,0xE4
    02C35 E094      LDI	R25,4
    02C36 01FA      MOVW	R30,R20
    02C37 9631      ADIW	R30,1
    02C38 0FEE      LSL	R30
    02C39 1FFF      ROL	R31
    02C3A 0FE8      ADD	R30,R24
    02C3B 1FF9      ADC	R31,R25
    02C3C 8040      LD	R4,Z
    02C3D 8051      LDD	R5,Z+1
    02C3E 0D24      ADD	R18,R4
    02C3F 1D35      ADC	R19,R5
    02C40 E100      LDI	R16,0x10
    02C41 E01E      LDI	R17,0xE
    02C42 940E 376B CALL	empy16s
    02C44 0128      MOVW	R4,R16
    02C45 0C42      ADD	R4,R2
    02C46 1C53      ADC	R5,R3
    02C47 9250 05EF STS	temps+1241,R5
    02C49 9240 05EE STS	temps+1240,R4
(0263) 			  //temps[0].needtime=3;
(0264) 			  if(temps[3].needtime==0){
    02C4B 2044      TST	R4
    02C4C F449      BNE	0x2C56
    02C4D 2055      TST	R5
    02C4E F439      BNE	0x2C56
(0265) 			     //当前阶段时间为0，表示已经结束更改标记
(0266) 				  temps[3].flag=4;
    02C4F E084      LDI	R24,4
    02C50 E090      LDI	R25,0
    02C51 9390 04E3 STS	temps+973,R25
    02C53 9380 04E2 STS	temps+972,R24
(0267) 			  }else{
    02C55 C0BE      RJMP	0x2D14
(0268) 			     temps[3].p_settemp=temps[3].temp_data[cache+8]*100+temps[3].temp_data[cache+9]*10+temps[3].temp_data[cache+10];
    02C56 EE84      LDI	R24,0xE4
    02C57 E094      LDI	R25,4
    02C58 01FA      MOVW	R30,R20
    02C59 9639      ADIW	R30,0x9
    02C5A 0FEE      LSL	R30
    02C5B 1FFF      ROL	R31
    02C5C 0FE8      ADD	R30,R24
    02C5D 1FF9      ADC	R31,R25
    02C5E 8120      LD	R18,Z
    02C5F 8131      LDD	R19,Z+1
    02C60 E00A      LDI	R16,0xA
    02C61 E010      LDI	R17,0
    02C62 940E 376B CALL	empy16s
    02C64 0118      MOVW	R2,R16
    02C65 EE84      LDI	R24,0xE4
    02C66 E094      LDI	R25,4
    02C67 01FA      MOVW	R30,R20
    02C68 9638      ADIW	R30,0x8
    02C69 0FEE      LSL	R30
    02C6A 1FFF      ROL	R31
    02C6B 0FE8      ADD	R30,R24
    02C6C 1FF9      ADC	R31,R25
    02C6D 8120      LD	R18,Z
    02C6E 8131      LDD	R19,Z+1
    02C6F E604      LDI	R16,0x64
    02C70 E010      LDI	R17,0
    02C71 940E 376B CALL	empy16s
    02C73 0128      MOVW	R4,R16
    02C74 0C42      ADD	R4,R2
    02C75 1C53      ADC	R5,R3
    02C76 EE84      LDI	R24,0xE4
    02C77 E094      LDI	R25,4
    02C78 01FA      MOVW	R30,R20
    02C79 963A      ADIW	R30,0xA
    02C7A 0FEE      LSL	R30
    02C7B 1FFF      ROL	R31
    02C7C 0FE8      ADD	R30,R24
    02C7D 1FF9      ADC	R31,R25
    02C7E 8020      LD	R2,Z
    02C7F 8031      LDD	R3,Z+1
    02C80 0C42      ADD	R4,R2
    02C81 1C53      ADC	R5,R3
    02C82 9250 05F9 STS	temps+1251,R5
    02C84 9240 05F8 STS	temps+1250,R4
(0269) 			     temps[3].pertime=temps[3].needtime/(temps[3].p_settemp-temps[3].actualtemp);
    02C86 9100 05EE LDS	R16,temps+1240
    02C88 9110 05EF LDS	R17,temps+1241
    02C8A 940E 38EA CALL	uint2fp
    02C8C 0118      MOVW	R2,R16
    02C8D 0129      MOVW	R4,R18
    02C8E 9100 05F8 LDS	R16,temps+1250
    02C90 9110 05F9 LDS	R17,temps+1251
    02C92 940E 38EA CALL	uint2fp
    02C94 E086      LDI	R24,6
    02C95 E096      LDI	R25,6
    02C96 939A      ST	-Y,R25
    02C97 938A      ST	-Y,R24
    02C98 940E 389D CALL	fpsub1x
    02C9A 0181      MOVW	R16,R2
    02C9B 0192      MOVW	R18,R4
    02C9C 940E 3917 CALL	fpdiv2
    02C9E 940E 38B8 CALL	fpint
    02CA0 9310 05F3 STS	temps+1245,R17
    02CA2 9300 05F2 STS	temps+1244,R16
(0270) 			     temps[3].pertimecnt=0;
    02CA4 2422      CLR	R2
    02CA5 2433      CLR	R3
    02CA6 9230 05F5 STS	temps+1247,R3
    02CA8 9220 05F4 STS	temps+1246,R2
(0271) 				 temps[3].settemp=temps[3].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02CAA 9100 05F8 LDS	R16,temps+1250
    02CAC 9110 05F9 LDS	R17,temps+1251
    02CAE 940E 38EA CALL	uint2fp
    02CB0 9310 0603 STS	temps+1261,R17
    02CB2 9300 0602 STS	temps+1260,R16
    02CB4 9330 0605 STS	temps+1263,R19
    02CB6 9320 0604 STS	temps+1262,R18
(0272) 			  }
(0273) 		     
(0274) 		    }else{//恒温阶段
    02CB8 C05B      RJMP	0x2D14
(0275) 			   cache=((cache-1)>>1)*11+4;
    02CB9 019A      MOVW	R18,R20
    02CBA 5021      SUBI	R18,1
    02CBB 4030      SBCI	R19,0
    02CBC 9536      LSR	R19
    02CBD 9527      ROR	R18
    02CBE E00B      LDI	R16,0xB
    02CBF E010      LDI	R17,0
    02CC0 940E 376B CALL	empy16s
    02CC2 01A8      MOVW	R20,R16
    02CC3 5F4C      SUBI	R20,0xFC
    02CC4 4F5F      SBCI	R21,0xFF
(0276) 		      temps[3].needtime=(temps[3].temp_data[cache]*10+temps[3].temp_data[cache+1])*3600+(temps[3].temp_data[cache+2]*10+temps[3].temp_data[cache+3])*60;
    02CC5 EE84      LDI	R24,0xE4
    02CC6 E094      LDI	R25,4
    02CC7 01FA      MOVW	R30,R20
    02CC8 9632      ADIW	R30,2
    02CC9 0FEE      LSL	R30
    02CCA 1FFF      ROL	R31
    02CCB 0FE8      ADD	R30,R24
    02CCC 1FF9      ADC	R31,R25
    02CCD 8120      LD	R18,Z
    02CCE 8131      LDD	R19,Z+1
    02CCF E00A      LDI	R16,0xA
    02CD0 E010      LDI	R17,0
    02CD1 940E 376B CALL	empy16s
    02CD3 0198      MOVW	R18,R16
    02CD4 EE84      LDI	R24,0xE4
    02CD5 E094      LDI	R25,4
    02CD6 01FA      MOVW	R30,R20
    02CD7 9633      ADIW	R30,3
    02CD8 0FEE      LSL	R30
    02CD9 1FFF      ROL	R31
    02CDA 0FE8      ADD	R30,R24
    02CDB 1FF9      ADC	R31,R25
    02CDC 8020      LD	R2,Z
    02CDD 8031      LDD	R3,Z+1
    02CDE 0D22      ADD	R18,R2
    02CDF 1D33      ADC	R19,R3
    02CE0 E30C      LDI	R16,0x3C
    02CE1 E010      LDI	R17,0
    02CE2 940E 376B CALL	empy16s
    02CE4 0118      MOVW	R2,R16
    02CE5 EE84      LDI	R24,0xE4
    02CE6 E094      LDI	R25,4
    02CE7 01FA      MOVW	R30,R20
    02CE8 0FEE      LSL	R30
    02CE9 1FFF      ROL	R31
    02CEA 0FE8      ADD	R30,R24
    02CEB 1FF9      ADC	R31,R25
    02CEC 8120      LD	R18,Z
    02CED 8131      LDD	R19,Z+1
    02CEE E00A      LDI	R16,0xA
    02CEF E010      LDI	R17,0
    02CF0 940E 376B CALL	empy16s
    02CF2 0198      MOVW	R18,R16
    02CF3 EE84      LDI	R24,0xE4
    02CF4 E094      LDI	R25,4
    02CF5 01FA      MOVW	R30,R20
    02CF6 9631      ADIW	R30,1
    02CF7 0FEE      LSL	R30
    02CF8 1FFF      ROL	R31
    02CF9 0FE8      ADD	R30,R24
    02CFA 1FF9      ADC	R31,R25
    02CFB 8040      LD	R4,Z
    02CFC 8051      LDD	R5,Z+1
    02CFD 0D24      ADD	R18,R4
    02CFE 1D35      ADC	R19,R5
    02CFF E100      LDI	R16,0x10
    02D00 E01E      LDI	R17,0xE
    02D01 940E 376B CALL	empy16s
    02D03 0128      MOVW	R4,R16
    02D04 0C42      ADD	R4,R2
    02D05 1C53      ADC	R5,R3
    02D06 9250 05EF STS	temps+1241,R5
    02D08 9240 05EE STS	temps+1240,R4
(0277) 			  //temps[0].needtime=3;
(0278) 			  if(temps[3].needtime==0){
    02D0A 2044      TST	R4
    02D0B F441      BNE	0x2D14
    02D0C 2055      TST	R5
    02D0D F431      BNE	0x2D14
(0279) 			     //当前阶段时间为0，表示已经结束更改标记
(0280) 				  temps[3].flag=4;
    02D0E E084      LDI	R24,4
    02D0F E090      LDI	R25,0
    02D10 9390 04E3 STS	temps+973,R25
    02D12 9380 04E2 STS	temps+972,R24
(0281) 			  }
(0282) 			 // temps[0].settemp，在上一场升温时候赋值过
(0283) 			}
(0284) 	  }
(0285)   }
(0286)   TIMSK|=0x40;//开定时器2溢出中断,8位的
    02D14 B787      IN	R24,0x37
    02D15 6480      ORI	R24,0x40
    02D16 BF87      OUT	0x37,R24
(0287)   EIMSK |= 0x04;//开中断2  
    02D17 B789      IN	R24,0x39
    02D18 6084      ORI	R24,4
    02D19 BF89      OUT	0x39,R24
    02D1A 9622      ADIW	R28,2
    02D1B 940E 37A2 CALL	pop_xgset300C
    02D1D 9009      LD	R0,Y+
    02D1E BE0F      OUT	0x3F,R0
    02D1F 91F9      LD	R31,Y+
    02D20 91E9      LD	R30,Y+
    02D21 91B9      LD	R27,Y+
    02D22 91A9      LD	R26,Y+
    02D23 9199      LD	R25,Y+
    02D24 9189      LD	R24,Y+
    02D25 9139      LD	R19,Y+
    02D26 9129      LD	R18,Y+
    02D27 9119      LD	R17,Y+
    02D28 9109      LD	R16,Y+
    02D29 9099      LD	R9,Y+
    02D2A 9089      LD	R8,Y+
    02D2B 9079      LD	R7,Y+
    02D2C 9069      LD	R6,Y+
    02D2D 9059      LD	R5,Y+
    02D2E 9049      LD	R4,Y+
    02D2F 9039      LD	R3,Y+
    02D30 9029      LD	R2,Y+
    02D31 9019      LD	R1,Y+
    02D32 9009      LD	R0,Y+
    02D33 9518      RETI
_tempcontrol:
  j                    --> R22
  i                    --> R20
    02D34 940E 37B1 CALL	push_xgsetF00C
    02D36 9722      SBIW	R28,2
(0288) }
(0289)  //执行温度控制数据更新操作，读取温度更新输出参数.会对温度数据故障更新
(0290)  //定时器控制，0.5s进入一次
(0291) void tempcontrol(void){
(0292)    uint i,j;
(0293)       temp_l=0x00;
    02D37 2422      CLR	R2
    02D38 2433      CLR	R3
    02D39 9230 0115 STS	temp_l+1,R3
    02D3B 9220 0114 STS	temp_l,R2
(0294)       temp_h=0x12;
    02D3D E182      LDI	R24,0x12
    02D3E E090      LDI	R25,0
    02D3F 9390 0113 STS	temp_h+1,R25
    02D41 9380 0112 STS	temp_h,R24
(0295)    for(i=0;i<4;i++){
    02D43 2744      CLR	R20
    02D44 2755      CLR	R21
    02D45 C15A      RJMP	0x2EA0
(0296)          //readTemp(i);//读取温度，一次验证有效性
(0297) 	 if(temp_l&0x04){//当前故障，下面就不用再运行啦
    02D46 9020 0114 LDS	R2,temp_l
    02D48 9030 0115 LDS	R3,temp_l+1
    02D4A FE22      SBRS	R2,2
    02D4B C00F      RJMP	0x2D5B
(0298) 		     temps[i].flag=2;
    02D4C E404      LDI	R16,0x44
    02D4D E011      LDI	R17,1
    02D4E 019A      MOVW	R18,R20
    02D4F 940E 376B CALL	empy16s
    02D51 E186      LDI	R24,0x16
    02D52 E091      LDI	R25,1
    02D53 01F8      MOVW	R30,R16
    02D54 0FE8      ADD	R30,R24
    02D55 1FF9      ADC	R31,R25
    02D56 E082      LDI	R24,2
    02D57 E090      LDI	R25,0
    02D58 8391      STD	Z+1,R25
    02D59 8380      ST	Z,R24
(0299) 	 }else{
    02D5A C143      RJMP	0x2E9E
(0300) 	      //temps[i].actualtemp=0x55<<2;
(0301) 		  temps[i].actualtemp=(temp_h&0x3F)<<4|(temp_l&0xF0)>>4;
    02D5B E404      LDI	R16,0x44
    02D5C E011      LDI	R17,1
    02D5D 019A      MOVW	R18,R20
    02D5E 940E 376B CALL	empy16s
    02D60 E38A      LDI	R24,0x3A
    02D61 E092      LDI	R25,2
    02D62 01F8      MOVW	R30,R16
    02D63 0FE8      ADD	R30,R24
    02D64 1FF9      ADC	R31,R25
    02D65 9180 0114 LDS	R24,temp_l
    02D67 9190 0115 LDS	R25,temp_l+1
    02D69 7F80      ANDI	R24,0xF0
    02D6A 7090      ANDI	R25,0
    02D6B 9596      LSR	R25
    02D6C 9587      ROR	R24
    02D6D 9596      LSR	R25
    02D6E 9587      ROR	R24
    02D6F 9596      LSR	R25
    02D70 9587      ROR	R24
    02D71 9596      LSR	R25
    02D72 9587      ROR	R24
    02D73 9100 0112 LDS	R16,temp_h
    02D75 9110 0113 LDS	R17,temp_h+1
    02D77 730F      ANDI	R16,0x3F
    02D78 7010      ANDI	R17,0
    02D79 0F00      LSL	R16
    02D7A 1F11      ROL	R17
    02D7B 0F00      LSL	R16
    02D7C 1F11      ROL	R17
    02D7D 0F00      LSL	R16
    02D7E 1F11      ROL	R17
    02D7F 0F00      LSL	R16
    02D80 1F11      ROL	R17
    02D81 2B08      OR	R16,R24
    02D82 2B19      OR	R17,R25
    02D83 940E 38EA CALL	uint2fp
    02D85 8300      ST	Z,R16
    02D86 8311      STD	Z+1,R17
    02D87 8322      STD	Z+2,R18
    02D88 8333      STD	Z+3,R19
(0302)          if(temps[i].flag==1)//运行中的
    02D89 E404      LDI	R16,0x44
    02D8A E011      LDI	R17,1
    02D8B 019A      MOVW	R18,R20
    02D8C 940E 376B CALL	empy16s
    02D8E E186      LDI	R24,0x16
    02D8F E091      LDI	R25,1
    02D90 01F8      MOVW	R30,R16
    02D91 0FE8      ADD	R30,R24
    02D92 1FF9      ADC	R31,R25
    02D93 8180      LD	R24,Z
    02D94 8191      LDD	R25,Z+1
    02D95 3081      CPI	R24,1
    02D96 E0E0      LDI	R30,0
    02D97 079E      CPC	R25,R30
    02D98 F009      BEQ	0x2D9A
    02D99 C0A0      RJMP	0x2E3A
(0303) 	      {   
(0304) 		      for(j=0;j<9;j++){
    02D9A 2766      CLR	R22
    02D9B 2777      CLR	R23
    02D9C C03F      RJMP	0x2DDC
(0305) 			    //readTemp(i);//读取温度，需要读取10次左右
(0306) 			    temps[i].actualtemp+=(temp_h&0x3F)<<4|(temp_l&0xF0)>>4;
    02D9D E404      LDI	R16,0x44
    02D9E E011      LDI	R17,1
    02D9F 019A      MOVW	R18,R20
    02DA0 940E 376B CALL	empy16s
    02DA2 0118      MOVW	R2,R16
    02DA3 E38A      LDI	R24,0x3A
    02DA4 E092      LDI	R25,2
    02DA5 0E28      ADD	R2,R24
    02DA6 1E39      ADC	R3,R25
    02DA7 0131      MOVW	R6,R2
    02DA8 01F1      MOVW	R30,R2
    02DA9 8020      LD	R2,Z
    02DAA 8031      LDD	R3,Z+1
    02DAB 8042      LDD	R4,Z+2
    02DAC 8053      LDD	R5,Z+3
    02DAD 9180 0114 LDS	R24,temp_l
    02DAF 9190 0115 LDS	R25,temp_l+1
    02DB1 7F80      ANDI	R24,0xF0
    02DB2 7090      ANDI	R25,0
    02DB3 9596      LSR	R25
    02DB4 9587      ROR	R24
    02DB5 9596      LSR	R25
    02DB6 9587      ROR	R24
    02DB7 9596      LSR	R25
    02DB8 9587      ROR	R24
    02DB9 9596      LSR	R25
    02DBA 9587      ROR	R24
    02DBB 9100 0112 LDS	R16,temp_h
    02DBD 9110 0113 LDS	R17,temp_h+1
    02DBF 730F      ANDI	R16,0x3F
    02DC0 7010      ANDI	R17,0
    02DC1 0F00      LSL	R16
    02DC2 1F11      ROL	R17
    02DC3 0F00      LSL	R16
    02DC4 1F11      ROL	R17
    02DC5 0F00      LSL	R16
    02DC6 1F11      ROL	R17
    02DC7 0F00      LSL	R16
    02DC8 1F11      ROL	R17
    02DC9 2B08      OR	R16,R24
    02DCA 2B19      OR	R17,R25
    02DCB 940E 38EA CALL	uint2fp
    02DCD 933A      ST	-Y,R19
    02DCE 932A      ST	-Y,R18
    02DCF 931A      ST	-Y,R17
    02DD0 930A      ST	-Y,R16
    02DD1 0181      MOVW	R16,R2
    02DD2 0192      MOVW	R18,R4
    02DD3 940E 387D CALL	fpadd2
    02DD5 01F3      MOVW	R30,R6
    02DD6 8300      ST	Z,R16
    02DD7 8311      STD	Z+1,R17
    02DD8 8322      STD	Z+2,R18
    02DD9 8333      STD	Z+3,R19
    02DDA 5F6F      SUBI	R22,0xFF
    02DDB 4F7F      SBCI	R23,0xFF
    02DDC 3069      CPI	R22,0x9
    02DDD E0E0      LDI	R30,0
    02DDE 077E      CPC	R23,R30
    02DDF F408      BCC	0x2DE1
    02DE0 CFBC      RJMP	0x2D9D
(0307) 			  }
(0308) 			    temps[i].actualtemp/=10;
    02DE1 E404      LDI	R16,0x44
    02DE2 E011      LDI	R17,1
    02DE3 019A      MOVW	R18,R20
    02DE4 940E 376B CALL	empy16s
    02DE6 0118      MOVW	R2,R16
    02DE7 E38A      LDI	R24,0x3A
    02DE8 E092      LDI	R25,2
    02DE9 0E28      ADD	R2,R24
    02DEA 1E39      ADC	R3,R25
    02DEB 0131      MOVW	R6,R2
    02DEC 01F1      MOVW	R30,R2
    02DED 8020      LD	R2,Z
    02DEE 8031      LDD	R3,Z+1
    02DEF 8042      LDD	R4,Z+2
    02DF0 8053      LDD	R5,Z+3
    02DF1 E908      LDI	R16,0x98
    02DF2 E010      LDI	R17,0
    02DF3 940E 3757 CALL	elpm32
    02DF5 933A      ST	-Y,R19
    02DF6 932A      ST	-Y,R18
    02DF7 931A      ST	-Y,R17
    02DF8 930A      ST	-Y,R16
    02DF9 0181      MOVW	R16,R2
    02DFA 0192      MOVW	R18,R4
    02DFB 940E 3917 CALL	fpdiv2
    02DFD 01F3      MOVW	R30,R6
    02DFE 8300      ST	Z,R16
    02DFF 8311      STD	Z+1,R17
    02E00 8322      STD	Z+2,R18
    02E01 8333      STD	Z+3,R19
(0309) 		        if(temps[i].status & 0x01){//恒温阶段，使用pid算法。temps[i].status & 0x01如果是1代表是奇数，0代表是偶数
    02E02 E404      LDI	R16,0x44
    02E03 E011      LDI	R17,1
    02E04 019A      MOVW	R18,R20
    02E05 940E 376B CALL	empy16s
    02E07 E280      LDI	R24,0x20
    02E08 E092      LDI	R25,2
    02E09 01F8      MOVW	R30,R16
    02E0A 0FE8      ADD	R30,R24
    02E0B 1FF9      ADC	R31,R25
    02E0C 8020      LD	R2,Z
    02E0D 8031      LDD	R3,Z+1
    02E0E FE20      SBRS	R2,0
    02E0F C001      RJMP	0x2E11
(0310) 				   //PID_realize(i);//启用pid算法
(0311)                 }else if(temps[i].settemp-temps[i].actualtemp<10){
    02E10 C08D      RJMP	0x2E9E
    02E11 E404      LDI	R16,0x44
    02E12 E011      LDI	R17,1
    02E13 019A      MOVW	R18,R20
    02E14 940E 376B CALL	empy16s
    02E16 0158      MOVW	R10,R16
    02E17 E386      LDI	R24,0x36
    02E18 E092      LDI	R25,2
    02E19 01F5      MOVW	R30,R10
    02E1A 0FE8      ADD	R30,R24
    02E1B 1FF9      ADC	R31,R25
    02E1C 8100      LD	R16,Z
    02E1D 8111      LDD	R17,Z+1
    02E1E 8122      LDD	R18,Z+2
    02E1F 8133      LDD	R19,Z+3
    02E20 E38A      LDI	R24,0x3A
    02E21 E092      LDI	R25,2
    02E22 0115      MOVW	R2,R10
    02E23 0E28      ADD	R2,R24
    02E24 1E39      ADC	R3,R25
    02E25 923A      ST	-Y,R3
    02E26 922A      ST	-Y,R2
    02E27 940E 3888 CALL	fpsub1
    02E29 0118      MOVW	R2,R16
    02E2A 0129      MOVW	R4,R18
    02E2B E908      LDI	R16,0x98
    02E2C E010      LDI	R17,0
    02E2D 940E 3757 CALL	elpm32
    02E2F 933A      ST	-Y,R19
    02E30 932A      ST	-Y,R18
    02E31 931A      ST	-Y,R17
    02E32 930A      ST	-Y,R16
    02E33 0181      MOVW	R16,R2
    02E34 0192      MOVW	R18,R4
    02E35 940E 3ABA CALL	fpcmp2
    02E37 F00C      BLT	0x2E39
    02E38 C065      RJMP	0x2E9E
(0312) 		           //升温或阶段，如果温度接近某个温度则开始使用PID算法。这个值要重新考虑
(0313) 				   //PID_realize(i);//启用pid算法
(0314) 		         }else {//升温使用pi算法
(0315) 		            //PI_realize(i);//启用pi算法
(0316) 		         }
(0317) 	      }else if(temps[i].flag==5){//初始化参数
    02E39 C064      RJMP	0x2E9E
    02E3A E404      LDI	R16,0x44
    02E3B E011      LDI	R17,1
    02E3C 019A      MOVW	R18,R20
    02E3D 940E 376B CALL	empy16s
    02E3F E186      LDI	R24,0x16
    02E40 E091      LDI	R25,1
    02E41 01F8      MOVW	R30,R16
    02E42 0FE8      ADD	R30,R24
    02E43 1FF9      ADC	R31,R25
    02E44 8180      LD	R24,Z
    02E45 8191      LDD	R25,Z+1
    02E46 3085      CPI	R24,5
    02E47 E0E0      LDI	R30,0
    02E48 079E      CPC	R25,R30
    02E49 F009      BEQ	0x2E4B
    02E4A C035      RJMP	0x2E80
(0318) 	             temps[i].flag=1;
    02E4B E404      LDI	R16,0x44
    02E4C E011      LDI	R17,1
    02E4D 019A      MOVW	R18,R20
    02E4E 940E 376B CALL	empy16s
    02E50 E186      LDI	R24,0x16
    02E51 E091      LDI	R25,1
    02E52 01F8      MOVW	R30,R16
    02E53 0FE8      ADD	R30,R24
    02E54 1FF9      ADC	R31,R25
    02E55 E081      LDI	R24,1
    02E56 E090      LDI	R25,0
    02E57 8391      STD	Z+1,R25
    02E58 8380      ST	Z,R24
(0319) 				 temps[i].status=1;
    02E59 E404      LDI	R16,0x44
    02E5A E011      LDI	R17,1
    02E5B 019A      MOVW	R18,R20
    02E5C 940E 376B CALL	empy16s
    02E5E E280      LDI	R24,0x20
    02E5F E092      LDI	R25,2
    02E60 01F8      MOVW	R30,R16
    02E61 0FE8      ADD	R30,R24
    02E62 1FF9      ADC	R31,R25
    02E63 E081      LDI	R24,1
    02E64 E090      LDI	R25,0
    02E65 8391      STD	Z+1,R25
    02E66 8380      ST	Z,R24
(0320) 				 temps[i].statusflag=1;
    02E67 E404      LDI	R16,0x44
    02E68 E011      LDI	R17,1
    02E69 019A      MOVW	R18,R20
    02E6A 940E 376B CALL	empy16s
    02E6C E28A      LDI	R24,0x2A
    02E6D E092      LDI	R25,2
    02E6E 01F8      MOVW	R30,R16
    02E6F 0FE8      ADD	R30,R24
    02E70 1FF9      ADC	R31,R25
    02E71 E081      LDI	R24,1
    02E72 E090      LDI	R25,0
    02E73 8391      STD	Z+1,R25
    02E74 8380      ST	Z,R24
(0321) 				  EEPROM_write(i+1,133,5);//先写状态为5，预防在刚开始还未记录状态时候发生断电。
    02E75 E085      LDI	R24,5
    02E76 8399      STD	Y+1,R25
    02E77 8388      ST	Y,R24
    02E78 E825      LDI	R18,0x85
    02E79 E030      LDI	R19,0
    02E7A 018A      MOVW	R16,R20
    02E7B 5F0F      SUBI	R16,0xFF
    02E7C 4F1F      SBCI	R17,0xFF
    02E7D 940E 0F5E CALL	_EEPROM_write
(0322) 	      }else if(temps[i].flag==2){//故障的,设置标志位位未初始化，但是状态和温度数据可能存在、所以可以直接恢复
    02E7F C01E      RJMP	0x2E9E
    02E80 E404      LDI	R16,0x44
    02E81 E011      LDI	R17,1
    02E82 019A      MOVW	R18,R20
    02E83 940E 376B CALL	empy16s
    02E85 E186      LDI	R24,0x16
    02E86 E091      LDI	R25,1
    02E87 01F8      MOVW	R30,R16
    02E88 0FE8      ADD	R30,R24
    02E89 1FF9      ADC	R31,R25
    02E8A 8180      LD	R24,Z
    02E8B 8191      LDD	R25,Z+1
    02E8C 3082      CPI	R24,2
    02E8D E0E0      LDI	R30,0
    02E8E 079E      CPC	R25,R30
    02E8F F471      BNE	0x2E9E
(0323) 		       temps[i].flag=0;
    02E90 E404      LDI	R16,0x44
    02E91 E011      LDI	R17,1
    02E92 019A      MOVW	R18,R20
    02E93 940E 376B CALL	empy16s
    02E95 E186      LDI	R24,0x16
    02E96 E091      LDI	R25,1
    02E97 01F8      MOVW	R30,R16
    02E98 0FE8      ADD	R30,R24
    02E99 1FF9      ADC	R31,R25
    02E9A 2422      CLR	R2
    02E9B 2433      CLR	R3
    02E9C 8231      STD	Z+1,R3
    02E9D 8220      ST	Z,R2
    02E9E 5F4F      SUBI	R20,0xFF
    02E9F 4F5F      SBCI	R21,0xFF
    02EA0 3044      CPI	R20,4
    02EA1 E0E0      LDI	R30,0
    02EA2 075E      CPC	R21,R30
    02EA3 F408      BCC	0x2EA5
    02EA4 CEA1      RJMP	0x2D46
    02EA5 9622      ADIW	R28,2
    02EA6 940C 37B8 JMP	pop_xgsetF00C
_tempdata_init:
  j                    --> R22
  i                    --> R20
    02EA8 940E 37A7 CALL	push_xgsetF000
(0324) 	      }
(0325) 	  }
(0326)    }
(0327) }
(0328) 
(0329) //开机初始化空间。全部置0,不初始化数据，等用户或EEPROM数据回填
(0330) void tempdata_init(void){
(0331)  uint i,j;
(0332)  for(i=0;i<4;i++){
    02EAA 2744      CLR	R20
    02EAB 2755      CLR	R21
    02EAC C168      RJMP	0x3015
(0333)     temps[i].flag=0;
    02EAD E404      LDI	R16,0x44
    02EAE E011      LDI	R17,1
    02EAF 019A      MOVW	R18,R20
    02EB0 940E 376B CALL	empy16s
    02EB2 E186      LDI	R24,0x16
    02EB3 E091      LDI	R25,1
    02EB4 01F8      MOVW	R30,R16
    02EB5 0FE8      ADD	R30,R24
    02EB6 1FF9      ADC	R31,R25
    02EB7 2422      CLR	R2
    02EB8 2433      CLR	R3
    02EB9 8231      STD	Z+1,R3
    02EBA 8220      ST	Z,R2
(0334) 	for(j=0;j<132;j++){
    02EBB 2766      CLR	R22
    02EBC 2777      CLR	R23
    02EBD C015      RJMP	0x2ED3
(0335) 	 temps[i].temp_data[j]=0;
    02EBE E404      LDI	R16,0x44
    02EBF E011      LDI	R17,1
    02EC0 019A      MOVW	R18,R20
    02EC1 940E 376B CALL	empy16s
    02EC3 0118      MOVW	R2,R16
    02EC4 E188      LDI	R24,0x18
    02EC5 E091      LDI	R25,1
    02EC6 0E28      ADD	R2,R24
    02EC7 1E39      ADC	R3,R25
    02EC8 01FB      MOVW	R30,R22
    02EC9 0FEE      LSL	R30
    02ECA 1FFF      ROL	R31
    02ECB 0DE2      ADD	R30,R2
    02ECC 1DF3      ADC	R31,R3
    02ECD 2422      CLR	R2
    02ECE 2433      CLR	R3
    02ECF 8231      STD	Z+1,R3
    02ED0 8220      ST	Z,R2
    02ED1 5F6F      SUBI	R22,0xFF
    02ED2 4F7F      SBCI	R23,0xFF
    02ED3 3864      CPI	R22,0x84
    02ED4 E0E0      LDI	R30,0
    02ED5 077E      CPC	R23,R30
    02ED6 F338      BCS	0x2EBE
(0336) 	}
(0337) 	temps[i].status=0;
    02ED7 E404      LDI	R16,0x44
    02ED8 E011      LDI	R17,1
    02ED9 019A      MOVW	R18,R20
    02EDA 940E 376B CALL	empy16s
    02EDC E280      LDI	R24,0x20
    02EDD E092      LDI	R25,2
    02EDE 01F8      MOVW	R30,R16
    02EDF 0FE8      ADD	R30,R24
    02EE0 1FF9      ADC	R31,R25
    02EE1 2422      CLR	R2
    02EE2 2433      CLR	R3
    02EE3 8231      STD	Z+1,R3
    02EE4 8220      ST	Z,R2
(0338) 	temps[i].needtime=0;
    02EE5 E404      LDI	R16,0x44
    02EE6 E011      LDI	R17,1
    02EE7 019A      MOVW	R18,R20
    02EE8 940E 376B CALL	empy16s
    02EEA E282      LDI	R24,0x22
    02EEB E092      LDI	R25,2
    02EEC 01F8      MOVW	R30,R16
    02EED 0FE8      ADD	R30,R24
    02EEE 1FF9      ADC	R31,R25
    02EEF 2422      CLR	R2
    02EF0 2433      CLR	R3
    02EF1 8231      STD	Z+1,R3
    02EF2 8220      ST	Z,R2
(0339) 	temps[i].nowtime=0;
    02EF3 E404      LDI	R16,0x44
    02EF4 E011      LDI	R17,1
    02EF5 019A      MOVW	R18,R20
    02EF6 940E 376B CALL	empy16s
    02EF8 E284      LDI	R24,0x24
    02EF9 E092      LDI	R25,2
    02EFA 01F8      MOVW	R30,R16
    02EFB 0FE8      ADD	R30,R24
    02EFC 1FF9      ADC	R31,R25
    02EFD 2422      CLR	R2
    02EFE 2433      CLR	R3
    02EFF 8231      STD	Z+1,R3
    02F00 8220      ST	Z,R2
(0340) 	temps[i].pertime=0;//每1C需要时间，计时
    02F01 E404      LDI	R16,0x44
    02F02 E011      LDI	R17,1
    02F03 019A      MOVW	R18,R20
    02F04 940E 376B CALL	empy16s
    02F06 E286      LDI	R24,0x26
    02F07 E092      LDI	R25,2
    02F08 01F8      MOVW	R30,R16
    02F09 0FE8      ADD	R30,R24
    02F0A 1FF9      ADC	R31,R25
    02F0B 2422      CLR	R2
    02F0C 2433      CLR	R3
    02F0D 8231      STD	Z+1,R3
    02F0E 8220      ST	Z,R2
(0341) 	temps[i].pertimecnt=0;//每1C需要时间，计时器
    02F0F E404      LDI	R16,0x44
    02F10 E011      LDI	R17,1
    02F11 019A      MOVW	R18,R20
    02F12 940E 376B CALL	empy16s
    02F14 E288      LDI	R24,0x28
    02F15 E092      LDI	R25,2
    02F16 01F8      MOVW	R30,R16
    02F17 0FE8      ADD	R30,R24
    02F18 1FF9      ADC	R31,R25
    02F19 2422      CLR	R2
    02F1A 2433      CLR	R3
    02F1B 8231      STD	Z+1,R3
    02F1C 8220      ST	Z,R2
(0342) 	temps[i].statusflag=1;//是否第一次进入当前状态,1、第一次；0、不是第一次
    02F1D E404      LDI	R16,0x44
    02F1E E011      LDI	R17,1
    02F1F 019A      MOVW	R18,R20
    02F20 940E 376B CALL	empy16s
    02F22 E28A      LDI	R24,0x2A
    02F23 E092      LDI	R25,2
    02F24 01F8      MOVW	R30,R16
    02F25 0FE8      ADD	R30,R24
    02F26 1FF9      ADC	R31,R25
    02F27 E081      LDI	R24,1
    02F28 E090      LDI	R25,0
    02F29 8391      STD	Z+1,R25
    02F2A 8380      ST	Z,R24
(0343) 		//控制相关
(0344) 	temps[i].p_settemp=0;//升温时候的小阶段需要温度
    02F2B E404      LDI	R16,0x44
    02F2C E011      LDI	R17,1
    02F2D 019A      MOVW	R18,R20
    02F2E 940E 376B CALL	empy16s
    02F30 E28C      LDI	R24,0x2C
    02F31 E092      LDI	R25,2
    02F32 01F8      MOVW	R30,R16
    02F33 0FE8      ADD	R30,R24
    02F34 1FF9      ADC	R31,R25
    02F35 2422      CLR	R2
    02F36 2433      CLR	R3
    02F37 8231      STD	Z+1,R3
    02F38 8220      ST	Z,R2
(0345) 	temps[i].p_err_next=0;//升温阶段控制使用
    02F39 E404      LDI	R16,0x44
    02F3A E011      LDI	R17,1
    02F3B 019A      MOVW	R18,R20
    02F3C 940E 376B CALL	empy16s
    02F3E E28E      LDI	R24,0x2E
    02F3F E092      LDI	R25,2
    02F40 01F8      MOVW	R30,R16
    02F41 0FE8      ADD	R30,R24
    02F42 1FF9      ADC	R31,R25
    02F43 2422      CLR	R2
    02F44 2433      CLR	R3
    02F45 8231      STD	Z+1,R3
    02F46 8220      ST	Z,R2
(0346) 	temps[i].p_Kp=0;//升温阶段控制使用
    02F47 E404      LDI	R16,0x44
    02F48 E011      LDI	R17,1
    02F49 019A      MOVW	R18,R20
    02F4A 940E 376B CALL	empy16s
    02F4C E380      LDI	R24,0x30
    02F4D E092      LDI	R25,2
    02F4E 01F8      MOVW	R30,R16
    02F4F 0FE8      ADD	R30,R24
    02F50 1FF9      ADC	R31,R25
    02F51 2422      CLR	R2
    02F52 2433      CLR	R3
    02F53 8231      STD	Z+1,R3
    02F54 8220      ST	Z,R2
(0347) 	temps[i].p_Ki=0;//升温阶段控制使用
    02F55 E404      LDI	R16,0x44
    02F56 E011      LDI	R17,1
    02F57 019A      MOVW	R18,R20
    02F58 940E 376B CALL	empy16s
    02F5A E382      LDI	R24,0x32
    02F5B E092      LDI	R25,2
    02F5C 01F8      MOVW	R30,R16
    02F5D 0FE8      ADD	R30,R24
    02F5E 1FF9      ADC	R31,R25
    02F5F 2422      CLR	R2
    02F60 2433      CLR	R3
    02F61 8231      STD	Z+1,R3
    02F62 8220      ST	Z,R2
(0348)     temps[i].p_err_last=0;
    02F63 E404      LDI	R16,0x44
    02F64 E011      LDI	R17,1
    02F65 019A      MOVW	R18,R20
    02F66 940E 376B CALL	empy16s
    02F68 E384      LDI	R24,0x34
    02F69 E092      LDI	R25,2
    02F6A 01F8      MOVW	R30,R16
    02F6B 0FE8      ADD	R30,R24
    02F6C 1FF9      ADC	R31,R25
    02F6D 2422      CLR	R2
    02F6E 2433      CLR	R3
    02F6F 8231      STD	Z+1,R3
    02F70 8220      ST	Z,R2
(0349) 	temps[i].settemp=0;
    02F71 E404      LDI	R16,0x44
    02F72 E011      LDI	R17,1
    02F73 019A      MOVW	R18,R20
    02F74 940E 376B CALL	empy16s
    02F76 E386      LDI	R24,0x36
    02F77 E092      LDI	R25,2
    02F78 01F8      MOVW	R30,R16
    02F79 0FE8      ADD	R30,R24
    02F7A 1FF9      ADC	R31,R25
    02F7B E904      LDI	R16,0x94
    02F7C E010      LDI	R17,0
    02F7D 940E 3757 CALL	elpm32
    02F7F 8300      ST	Z,R16
    02F80 8311      STD	Z+1,R17
    02F81 8322      STD	Z+2,R18
    02F82 8333      STD	Z+3,R19
(0350) 	temps[i].actualtemp=0;
    02F83 E404      LDI	R16,0x44
    02F84 E011      LDI	R17,1
    02F85 019A      MOVW	R18,R20
    02F86 940E 376B CALL	empy16s
    02F88 E38A      LDI	R24,0x3A
    02F89 E092      LDI	R25,2
    02F8A 01F8      MOVW	R30,R16
    02F8B 0FE8      ADD	R30,R24
    02F8C 1FF9      ADC	R31,R25
    02F8D E904      LDI	R16,0x94
    02F8E E010      LDI	R17,0
    02F8F 940E 3757 CALL	elpm32
    02F91 8300      ST	Z,R16
    02F92 8311      STD	Z+1,R17
    02F93 8322      STD	Z+2,R18
    02F94 8333      STD	Z+3,R19
(0351) 	temps[i].err=0;
    02F95 E404      LDI	R16,0x44
    02F96 E011      LDI	R17,1
    02F97 019A      MOVW	R18,R20
    02F98 940E 376B CALL	empy16s
    02F9A E38E      LDI	R24,0x3E
    02F9B E092      LDI	R25,2
    02F9C 01F8      MOVW	R30,R16
    02F9D 0FE8      ADD	R30,R24
    02F9E 1FF9      ADC	R31,R25
    02F9F E904      LDI	R16,0x94
    02FA0 E010      LDI	R17,0
    02FA1 940E 3757 CALL	elpm32
    02FA3 8300      ST	Z,R16
    02FA4 8311      STD	Z+1,R17
    02FA5 8322      STD	Z+2,R18
    02FA6 8333      STD	Z+3,R19
(0352) 	 temps[i].err_last=0;
    02FA7 E404      LDI	R16,0x44
    02FA8 E011      LDI	R17,1
    02FA9 019A      MOVW	R18,R20
    02FAA 940E 376B CALL	empy16s
    02FAC E482      LDI	R24,0x42
    02FAD E092      LDI	R25,2
    02FAE 01F8      MOVW	R30,R16
    02FAF 0FE8      ADD	R30,R24
    02FB0 1FF9      ADC	R31,R25
    02FB1 E904      LDI	R16,0x94
    02FB2 E010      LDI	R17,0
    02FB3 940E 3757 CALL	elpm32
    02FB5 8300      ST	Z,R16
    02FB6 8311      STD	Z+1,R17
    02FB7 8322      STD	Z+2,R18
    02FB8 8333      STD	Z+3,R19
(0353) 	 temps[i].err_next=0;
    02FB9 E404      LDI	R16,0x44
    02FBA E011      LDI	R17,1
    02FBB 019A      MOVW	R18,R20
    02FBC 940E 376B CALL	empy16s
    02FBE E486      LDI	R24,0x46
    02FBF E092      LDI	R25,2
    02FC0 01F8      MOVW	R30,R16
    02FC1 0FE8      ADD	R30,R24
    02FC2 1FF9      ADC	R31,R25
    02FC3 E904      LDI	R16,0x94
    02FC4 E010      LDI	R17,0
    02FC5 940E 3757 CALL	elpm32
    02FC7 8300      ST	Z,R16
    02FC8 8311      STD	Z+1,R17
    02FC9 8322      STD	Z+2,R18
    02FCA 8333      STD	Z+3,R19
(0354) 	 temps[i].Kp=0.0;
    02FCB E404      LDI	R16,0x44
    02FCC E011      LDI	R17,1
    02FCD 019A      MOVW	R18,R20
    02FCE 940E 376B CALL	empy16s
    02FD0 E48A      LDI	R24,0x4A
    02FD1 E092      LDI	R25,2
    02FD2 01F8      MOVW	R30,R16
    02FD3 0FE8      ADD	R30,R24
    02FD4 1FF9      ADC	R31,R25
    02FD5 E904      LDI	R16,0x94
    02FD6 E010      LDI	R17,0
    02FD7 940E 3757 CALL	elpm32
    02FD9 8300      ST	Z,R16
    02FDA 8311      STD	Z+1,R17
    02FDB 8322      STD	Z+2,R18
    02FDC 8333      STD	Z+3,R19
(0355) 	 temps[i].Ki=0.0;
    02FDD E404      LDI	R16,0x44
    02FDE E011      LDI	R17,1
    02FDF 019A      MOVW	R18,R20
    02FE0 940E 376B CALL	empy16s
    02FE2 E48E      LDI	R24,0x4E
    02FE3 E092      LDI	R25,2
    02FE4 01F8      MOVW	R30,R16
    02FE5 0FE8      ADD	R30,R24
    02FE6 1FF9      ADC	R31,R25
    02FE7 E904      LDI	R16,0x94
    02FE8 E010      LDI	R17,0
    02FE9 940E 3757 CALL	elpm32
    02FEB 8300      ST	Z,R16
    02FEC 8311      STD	Z+1,R17
    02FED 8322      STD	Z+2,R18
    02FEE 8333      STD	Z+3,R19
(0356) 	 temps[i].Kd=0.0;
    02FEF E404      LDI	R16,0x44
    02FF0 E011      LDI	R17,1
    02FF1 019A      MOVW	R18,R20
    02FF2 940E 376B CALL	empy16s
    02FF4 E582      LDI	R24,0x52
    02FF5 E092      LDI	R25,2
    02FF6 01F8      MOVW	R30,R16
    02FF7 0FE8      ADD	R30,R24
    02FF8 1FF9      ADC	R31,R25
    02FF9 E904      LDI	R16,0x94
    02FFA E010      LDI	R17,0
    02FFB 940E 3757 CALL	elpm32
    02FFD 8300      ST	Z,R16
    02FFE 8311      STD	Z+1,R17
    02FFF 8322      STD	Z+2,R18
    03000 8333      STD	Z+3,R19
(0357) 	 temps[i].incrementtemp=25.0;
    03001 E404      LDI	R16,0x44
    03002 E011      LDI	R17,1
    03003 019A      MOVW	R18,R20
    03004 940E 376B CALL	empy16s
    03006 E586      LDI	R24,0x56
    03007 E092      LDI	R25,2
    03008 01F8      MOVW	R30,R16
    03009 0FE8      ADD	R30,R24
    0300A 1FF9      ADC	R31,R25
    0300B E900      LDI	R16,0x90
    0300C E010      LDI	R17,0
    0300D 940E 3757 CALL	elpm32
    0300F 8300      ST	Z,R16
    03010 8311      STD	Z+1,R17
    03011 8322      STD	Z+2,R18
    03012 8333      STD	Z+3,R19
    03013 5F4F      SUBI	R20,0xFF
    03014 4F5F      SBCI	R21,0xFF
    03015 3044      CPI	R20,4
    03016 E0E0      LDI	R30,0
    03017 075E      CPC	R21,R30
    03018 F408      BCC	0x301A
    03019 CE93      RJMP	0x2EAD
    0301A 940C 37AC JMP	pop_xgsetF000
_data_recover:
  dataC                --> R22
  i                    --> R20
  j                    --> R22
    0301C 940E 37CD CALL	push_xgsetF03C
(0358)  } 
(0359) }
(0360) void data_recover(void){
(0361)  uint i,j;
(0362)  uint dataC;
(0363)  for(i=0;i<4;i++){
    0301E 2744      CLR	R20
    0301F 2755      CLR	R21
    03020 C12C      RJMP	0x314D
(0364)    dataC=EEPROM_read(i+1,0);//读取标记位
    03021 2722      CLR	R18
    03022 2733      CLR	R19
    03023 018A      MOVW	R16,R20
    03024 5F0F      SUBI	R16,0xFF
    03025 4F1F      SBCI	R17,0xFF
    03026 940E 0F75 CALL	_EEPROM_read
    03028 01B8      MOVW	R22,R16
(0365)    if(dataC==1){
    03029 3001      CPI	R16,1
    0302A E0E0      LDI	R30,0
    0302B 071E      CPC	R17,R30
    0302C F009      BEQ	0x302E
    0302D C11D      RJMP	0x314B
(0366)       temps[i].flag=EEPROM_read(i+1,133);
    0302E E825      LDI	R18,0x85
    0302F E030      LDI	R19,0
    03030 018A      MOVW	R16,R20
    03031 5F0F      SUBI	R16,0xFF
    03032 4F1F      SBCI	R17,0xFF
    03033 940E 0F75 CALL	_EEPROM_read
    03035 0118      MOVW	R2,R16
    03036 E404      LDI	R16,0x44
    03037 E011      LDI	R17,1
    03038 019A      MOVW	R18,R20
    03039 940E 376B CALL	empy16s
    0303B E186      LDI	R24,0x16
    0303C E091      LDI	R25,1
    0303D 01F8      MOVW	R30,R16
    0303E 0FE8      ADD	R30,R24
    0303F 1FF9      ADC	R31,R25
    03040 8231      STD	Z+1,R3
    03041 8220      ST	Z,R2
(0367) 	  if(temps[i].flag==1 || temps[i].flag==3){
    03042 E404      LDI	R16,0x44
    03043 E011      LDI	R17,1
    03044 019A      MOVW	R18,R20
    03045 940E 376B CALL	empy16s
    03047 E186      LDI	R24,0x16
    03048 E091      LDI	R25,1
    03049 01F8      MOVW	R30,R16
    0304A 0FE8      ADD	R30,R24
    0304B 1FF9      ADC	R31,R25
    0304C 8160      LD	R22,Z
    0304D 8171      LDD	R23,Z+1
    0304E 3061      CPI	R22,1
    0304F E0E0      LDI	R30,0
    03050 077E      CPC	R23,R30
    03051 F029      BEQ	0x3057
    03052 3063      CPI	R22,3
    03053 E0E0      LDI	R30,0
    03054 077E      CPC	R23,R30
    03055 F009      BEQ	0x3057
    03056 C0D1      RJMP	0x3128
(0368) 	    temps[i].status=EEPROM_read(i+1,134);
    03057 E826      LDI	R18,0x86
    03058 E030      LDI	R19,0
    03059 018A      MOVW	R16,R20
    0305A 5F0F      SUBI	R16,0xFF
    0305B 4F1F      SBCI	R17,0xFF
    0305C 940E 0F75 CALL	_EEPROM_read
    0305E 0158      MOVW	R10,R16
    0305F E404      LDI	R16,0x44
    03060 E011      LDI	R17,1
    03061 019A      MOVW	R18,R20
    03062 940E 376B CALL	empy16s
    03064 E280      LDI	R24,0x20
    03065 E092      LDI	R25,2
    03066 01F8      MOVW	R30,R16
    03067 0FE8      ADD	R30,R24
    03068 1FF9      ADC	R31,R25
    03069 82B1      STD	Z+1,R11
    0306A 82A0      ST	Z,R10
(0369) 	    temps[i].needtime =EEPROM_read(i+1,135)<<8 | EEPROM_read(i+1,136);
    0306B E827      LDI	R18,0x87
    0306C E030      LDI	R19,0
    0306D 018A      MOVW	R16,R20
    0306E 5F0F      SUBI	R16,0xFF
    0306F 4F1F      SBCI	R17,0xFF
    03070 940E 0F75 CALL	_EEPROM_read
    03072 0168      MOVW	R12,R16
    03073 E828      LDI	R18,0x88
    03074 E030      LDI	R19,0
    03075 018A      MOVW	R16,R20
    03076 5F0F      SUBI	R16,0xFF
    03077 4F1F      SBCI	R17,0xFF
    03078 940E 0F75 CALL	_EEPROM_read
    0307A 0158      MOVW	R10,R16
    0307B E404      LDI	R16,0x44
    0307C E011      LDI	R17,1
    0307D 019A      MOVW	R18,R20
    0307E 940E 376B CALL	empy16s
    03080 E282      LDI	R24,0x22
    03081 E092      LDI	R25,2
    03082 01F8      MOVW	R30,R16
    03083 0FE8      ADD	R30,R24
    03084 1FF9      ADC	R31,R25
    03085 0116      MOVW	R2,R12
    03086 2C32      MOV	R3,R2
    03087 2422      CLR	R2
    03088 282A      OR	R2,R10
    03089 283B      OR	R3,R11
    0308A 8231      STD	Z+1,R3
    0308B 8220      ST	Z,R2
(0370) 		temps[i].nowtime=EEPROM_read(i+1,137)<<8  | EEPROM_read(i+1,138);
    0308C E829      LDI	R18,0x89
    0308D E030      LDI	R19,0
    0308E 018A      MOVW	R16,R20
    0308F 5F0F      SUBI	R16,0xFF
    03090 4F1F      SBCI	R17,0xFF
    03091 940E 0F75 CALL	_EEPROM_read
    03093 0168      MOVW	R12,R16
    03094 E82A      LDI	R18,0x8A
    03095 E030      LDI	R19,0
    03096 018A      MOVW	R16,R20
    03097 5F0F      SUBI	R16,0xFF
    03098 4F1F      SBCI	R17,0xFF
    03099 940E 0F75 CALL	_EEPROM_read
    0309B 0158      MOVW	R10,R16
    0309C E404      LDI	R16,0x44
    0309D E011      LDI	R17,1
    0309E 019A      MOVW	R18,R20
    0309F 940E 376B CALL	empy16s
    030A1 E284      LDI	R24,0x24
    030A2 E092      LDI	R25,2
    030A3 01F8      MOVW	R30,R16
    030A4 0FE8      ADD	R30,R24
    030A5 1FF9      ADC	R31,R25
    030A6 0116      MOVW	R2,R12
    030A7 2C32      MOV	R3,R2
    030A8 2422      CLR	R2
    030A9 282A      OR	R2,R10
    030AA 283B      OR	R3,R11
    030AB 8231      STD	Z+1,R3
    030AC 8220      ST	Z,R2
(0371) 	    temps[i].pertime=EEPROM_read(i+1,139)<<8 | EEPROM_read(i+1,140);
    030AD E82B      LDI	R18,0x8B
    030AE E030      LDI	R19,0
    030AF 018A      MOVW	R16,R20
    030B0 5F0F      SUBI	R16,0xFF
    030B1 4F1F      SBCI	R17,0xFF
    030B2 940E 0F75 CALL	_EEPROM_read
    030B4 0168      MOVW	R12,R16
    030B5 E82C      LDI	R18,0x8C
    030B6 E030      LDI	R19,0
    030B7 018A      MOVW	R16,R20
    030B8 5F0F      SUBI	R16,0xFF
    030B9 4F1F      SBCI	R17,0xFF
    030BA 940E 0F75 CALL	_EEPROM_read
    030BC 0158      MOVW	R10,R16
    030BD E404      LDI	R16,0x44
    030BE E011      LDI	R17,1
    030BF 019A      MOVW	R18,R20
    030C0 940E 376B CALL	empy16s
    030C2 E286      LDI	R24,0x26
    030C3 E092      LDI	R25,2
    030C4 01F8      MOVW	R30,R16
    030C5 0FE8      ADD	R30,R24
    030C6 1FF9      ADC	R31,R25
    030C7 0116      MOVW	R2,R12
    030C8 2C32      MOV	R3,R2
    030C9 2422      CLR	R2
    030CA 282A      OR	R2,R10
    030CB 283B      OR	R3,R11
    030CC 8231      STD	Z+1,R3
    030CD 8220      ST	Z,R2
(0372) 	    temps[i].statusflag=EEPROM_read(i+1,141);
    030CE E82D      LDI	R18,0x8D
    030CF E030      LDI	R19,0
    030D0 018A      MOVW	R16,R20
    030D1 5F0F      SUBI	R16,0xFF
    030D2 4F1F      SBCI	R17,0xFF
    030D3 940E 0F75 CALL	_EEPROM_read
    030D5 0158      MOVW	R10,R16
    030D6 E404      LDI	R16,0x44
    030D7 E011      LDI	R17,1
    030D8 019A      MOVW	R18,R20
    030D9 940E 376B CALL	empy16s
    030DB E28A      LDI	R24,0x2A
    030DC E092      LDI	R25,2
    030DD 01F8      MOVW	R30,R16
    030DE 0FE8      ADD	R30,R24
    030DF 1FF9      ADC	R31,R25
    030E0 82B1      STD	Z+1,R11
    030E1 82A0      ST	Z,R10
(0373) 	    temps[i].p_settemp=EEPROM_read(i+1,142)<<8  | EEPROM_read(i+1,143);
    030E2 E82E      LDI	R18,0x8E
    030E3 E030      LDI	R19,0
    030E4 018A      MOVW	R16,R20
    030E5 5F0F      SUBI	R16,0xFF
    030E6 4F1F      SBCI	R17,0xFF
    030E7 940E 0F75 CALL	_EEPROM_read
    030E9 0168      MOVW	R12,R16
    030EA E82F      LDI	R18,0x8F
    030EB E030      LDI	R19,0
    030EC 018A      MOVW	R16,R20
    030ED 5F0F      SUBI	R16,0xFF
    030EE 4F1F      SBCI	R17,0xFF
    030EF 940E 0F75 CALL	_EEPROM_read
    030F1 0158      MOVW	R10,R16
    030F2 E404      LDI	R16,0x44
    030F3 E011      LDI	R17,1
    030F4 019A      MOVW	R18,R20
    030F5 940E 376B CALL	empy16s
    030F7 E28C      LDI	R24,0x2C
    030F8 E092      LDI	R25,2
    030F9 01F8      MOVW	R30,R16
    030FA 0FE8      ADD	R30,R24
    030FB 1FF9      ADC	R31,R25
    030FC 0116      MOVW	R2,R12
    030FD 2C32      MOV	R3,R2
    030FE 2422      CLR	R2
    030FF 282A      OR	R2,R10
    03100 283B      OR	R3,R11
    03101 8231      STD	Z+1,R3
    03102 8220      ST	Z,R2
(0374) 	    temps[i].settemp=EEPROM_read(i+1,144)<<8 | EEPROM_read(i+1,145);
    03103 E920      LDI	R18,0x90
    03104 E030      LDI	R19,0
    03105 018A      MOVW	R16,R20
    03106 5F0F      SUBI	R16,0xFF
    03107 4F1F      SBCI	R17,0xFF
    03108 940E 0F75 CALL	_EEPROM_read
    0310A 0168      MOVW	R12,R16
    0310B E921      LDI	R18,0x91
    0310C E030      LDI	R19,0
    0310D 018A      MOVW	R16,R20
    0310E 5F0F      SUBI	R16,0xFF
    0310F 4F1F      SBCI	R17,0xFF
    03110 940E 0F75 CALL	_EEPROM_read
    03112 0158      MOVW	R10,R16
    03113 E404      LDI	R16,0x44
    03114 E011      LDI	R17,1
    03115 019A      MOVW	R18,R20
    03116 940E 376B CALL	empy16s
    03118 E386      LDI	R24,0x36
    03119 E092      LDI	R25,2
    0311A 01F8      MOVW	R30,R16
    0311B 0FE8      ADD	R30,R24
    0311C 1FF9      ADC	R31,R25
    0311D 0186      MOVW	R16,R12
    0311E 2F10      MOV	R17,R16
    0311F 2700      CLR	R16
    03120 290A      OR	R16,R10
    03121 291B      OR	R17,R11
    03122 940E 38EA CALL	uint2fp
    03124 8300      ST	Z,R16
    03125 8311      STD	Z+1,R17
    03126 8322      STD	Z+2,R18
    03127 8333      STD	Z+3,R19
(0375) 	  }
(0376) 	  for(j=0;j<132;j++){
    03128 2766      CLR	R22
    03129 2777      CLR	R23
    0312A C01C      RJMP	0x3147
(0377) 	    temps[i].temp_data[j]=EEPROM_read(i+1,j+1);
    0312B 019B      MOVW	R18,R22
    0312C 5F2F      SUBI	R18,0xFF
    0312D 4F3F      SBCI	R19,0xFF
    0312E 018A      MOVW	R16,R20
    0312F 5F0F      SUBI	R16,0xFF
    03130 4F1F      SBCI	R17,0xFF
    03131 940E 0F75 CALL	_EEPROM_read
    03133 0158      MOVW	R10,R16
    03134 E404      LDI	R16,0x44
    03135 E011      LDI	R17,1
    03136 019A      MOVW	R18,R20
    03137 940E 376B CALL	empy16s
    03139 0118      MOVW	R2,R16
    0313A E188      LDI	R24,0x18
    0313B E091      LDI	R25,1
    0313C 0E28      ADD	R2,R24
    0313D 1E39      ADC	R3,R25
    0313E 01FB      MOVW	R30,R22
    0313F 0FEE      LSL	R30
    03140 1FFF      ROL	R31
    03141 0DE2      ADD	R30,R2
    03142 1DF3      ADC	R31,R3
    03143 82B1      STD	Z+1,R11
    03144 82A0      ST	Z,R10
    03145 5F6F      SUBI	R22,0xFF
    03146 4F7F      SBCI	R23,0xFF
    03147 3864      CPI	R22,0x84
    03148 E0E0      LDI	R30,0
    03149 077E      CPC	R23,R30
    0314A F300      BCS	0x312B
    0314B 5F4F      SUBI	R20,0xFF
    0314C 4F5F      SBCI	R21,0xFF
    0314D 3044      CPI	R20,4
    0314E E0E0      LDI	R30,0
    0314F 075E      CPC	R21,R30
    03150 F408      BCC	0x3152
    03151 CECF      RJMP	0x3021
    03152 940C 37D6 JMP	pop_xgsetF03C
_set_temp_data:
  j                    --> R20
  dataCach             --> R10
  t                    --> R22
    03154 940E 37B1 CALL	push_xgsetF00C
    03156 0159      MOVW	R10,R18
    03157 01B8      MOVW	R22,R16
    03158 9722      SBIW	R28,2
(0378) 	   }
(0379) 	}
(0380)  } 
(0381) }
(0382) 
(0383) //设置指定的数据,保存相关标志位
(0384) void set_temp_data(uint t,uint* dataCach){
(0385)     uint j;
(0386) 	temps[t].flag=6;
    03159 E404      LDI	R16,0x44
    0315A E011      LDI	R17,1
    0315B 019B      MOVW	R18,R22
    0315C 940E 376B CALL	empy16s
    0315E E186      LDI	R24,0x16
    0315F E091      LDI	R25,1
    03160 01F8      MOVW	R30,R16
    03161 0FE8      ADD	R30,R24
    03162 1FF9      ADC	R31,R25
    03163 E086      LDI	R24,6
    03164 E090      LDI	R25,0
    03165 8391      STD	Z+1,R25
    03166 8380      ST	Z,R24
(0387) 	EEPROM_write(t+1,0,0x01);
    03167 E081      LDI	R24,1
    03168 8399      STD	Y+1,R25
    03169 8388      ST	Y,R24
    0316A 2722      CLR	R18
    0316B 2733      CLR	R19
    0316C 018B      MOVW	R16,R22
    0316D 5F0F      SUBI	R16,0xFF
    0316E 4F1F      SBCI	R17,0xFF
    0316F 940E 0F5E CALL	_EEPROM_write
(0388) 	EEPROM_write(t+1,133,6);
    03171 E086      LDI	R24,6
    03172 E090      LDI	R25,0
    03173 8399      STD	Y+1,R25
    03174 8388      ST	Y,R24
    03175 E825      LDI	R18,0x85
    03176 E030      LDI	R19,0
    03177 018B      MOVW	R16,R22
    03178 5F0F      SUBI	R16,0xFF
    03179 4F1F      SBCI	R17,0xFF
    0317A 940E 0F5E CALL	_EEPROM_write
(0389)     for(j=0;j<132;j++){
    0317C 2744      CLR	R20
    0317D 2755      CLR	R21
    0317E C035      RJMP	0x31B4
(0390) 	   temps[t].temp_data[j]=*(dataCach+j);
    0317F 011A      MOVW	R2,R20
    03180 0C22      LSL	R2
    03181 1C33      ROL	R3
    03182 0121      MOVW	R4,R2
    03183 E404      LDI	R16,0x44
    03184 E011      LDI	R17,1
    03185 019B      MOVW	R18,R22
    03186 940E 376B CALL	empy16s
    03188 0118      MOVW	R2,R16
    03189 E188      LDI	R24,0x18
    0318A E091      LDI	R25,1
    0318B 0E28      ADD	R2,R24
    0318C 1E39      ADC	R3,R25
    0318D 01F2      MOVW	R30,R4
    0318E 0DE2      ADD	R30,R2
    0318F 1DF3      ADC	R31,R3
    03190 01D2      MOVW	R26,R4
    03191 0DAA      ADD	R26,R10
    03192 1DBB      ADC	R27,R11
    03193 902D      LD	R2,X+
    03194 903C      LD	R3,X
    03195 8231      STD	Z+1,R3
    03196 8220      ST	Z,R2
(0391) 	   EEPROM_write(t+1,j+1,temps[t].temp_data[j]);//这里要保存的
    03197 E404      LDI	R16,0x44
    03198 E011      LDI	R17,1
    03199 019B      MOVW	R18,R22
    0319A 940E 376B CALL	empy16s
    0319C 0118      MOVW	R2,R16
    0319D E188      LDI	R24,0x18
    0319E E091      LDI	R25,1
    0319F 0E28      ADD	R2,R24
    031A0 1E39      ADC	R3,R25
    031A1 01FA      MOVW	R30,R20
    031A2 0FEE      LSL	R30
    031A3 1FFF      ROL	R31
    031A4 0DE2      ADD	R30,R2
    031A5 1DF3      ADC	R31,R3
    031A6 8020      LD	R2,Z
    031A7 8031      LDD	R3,Z+1
    031A8 8239      STD	Y+1,R3
    031A9 8228      ST	Y,R2
    031AA 019A      MOVW	R18,R20
    031AB 5F2F      SUBI	R18,0xFF
    031AC 4F3F      SBCI	R19,0xFF
    031AD 018B      MOVW	R16,R22
    031AE 5F0F      SUBI	R16,0xFF
    031AF 4F1F      SBCI	R17,0xFF
    031B0 940E 0F5E CALL	_EEPROM_write
    031B2 5F4F      SUBI	R20,0xFF
    031B3 4F5F      SBCI	R21,0xFF
    031B4 3844      CPI	R20,0x84
    031B5 E0E0      LDI	R30,0
    031B6 075E      CPC	R21,R30
    031B7 F408      BCC	0x31B9
    031B8 CFC6      RJMP	0x317F
    031B9 9622      ADIW	R28,2
    031BA 940C 37B8 JMP	pop_xgsetF00C
_reset_temp_data:
  j                    --> R22
  t                    --> R20
    031BC 940E 37A7 CALL	push_xgsetF000
    031BE 01A8      MOVW	R20,R16
    031BF 9722      SBIW	R28,2
(0392) 	}
(0393) }
(0394) 
(0395) //重置指定的数据,保存相关标志位
(0396) void reset_temp_data(uint t){
(0397)     uint j;
(0398) 	temps[t].flag=0;
    031C0 E404      LDI	R16,0x44
    031C1 E011      LDI	R17,1
    031C2 019A      MOVW	R18,R20
    031C3 940E 376B CALL	empy16s
    031C5 E186      LDI	R24,0x16
    031C6 E091      LDI	R25,1
    031C7 01F8      MOVW	R30,R16
    031C8 0FE8      ADD	R30,R24
    031C9 1FF9      ADC	R31,R25
    031CA 2422      CLR	R2
    031CB 2433      CLR	R3
    031CC 8231      STD	Z+1,R3
    031CD 8220      ST	Z,R2
(0399) 	temps[t].status=0;
    031CE E404      LDI	R16,0x44
    031CF E011      LDI	R17,1
    031D0 019A      MOVW	R18,R20
    031D1 940E 376B CALL	empy16s
    031D3 E280      LDI	R24,0x20
    031D4 E092      LDI	R25,2
    031D5 01F8      MOVW	R30,R16
    031D6 0FE8      ADD	R30,R24
    031D7 1FF9      ADC	R31,R25
    031D8 2422      CLR	R2
    031D9 2433      CLR	R3
    031DA 8231      STD	Z+1,R3
    031DB 8220      ST	Z,R2
(0400) 	temps[t].statusflag=1;//是否第一次进入当前状态,1、第一次；0、不是第一次
    031DC E404      LDI	R16,0x44
    031DD E011      LDI	R17,1
    031DE 019A      MOVW	R18,R20
    031DF 940E 376B CALL	empy16s
    031E1 E28A      LDI	R24,0x2A
    031E2 E092      LDI	R25,2
    031E3 01F8      MOVW	R30,R16
    031E4 0FE8      ADD	R30,R24
    031E5 1FF9      ADC	R31,R25
    031E6 E081      LDI	R24,1
    031E7 E090      LDI	R25,0
    031E8 8391      STD	Z+1,R25
    031E9 8380      ST	Z,R24
(0401) 		//控制相关
(0402) 	temps[t].p_settemp=0;//升温时候的小阶段需要温度
    031EA E404      LDI	R16,0x44
    031EB E011      LDI	R17,1
    031EC 019A      MOVW	R18,R20
    031ED 940E 376B CALL	empy16s
    031EF E28C      LDI	R24,0x2C
    031F0 E092      LDI	R25,2
    031F1 01F8      MOVW	R30,R16
    031F2 0FE8      ADD	R30,R24
    031F3 1FF9      ADC	R31,R25
    031F4 2422      CLR	R2
    031F5 2433      CLR	R3
    031F6 8231      STD	Z+1,R3
    031F7 8220      ST	Z,R2
(0403) 	temps[t].p_err_next=0;//升温阶段控制使用
    031F8 E404      LDI	R16,0x44
    031F9 E011      LDI	R17,1
    031FA 019A      MOVW	R18,R20
    031FB 940E 376B CALL	empy16s
    031FD E28E      LDI	R24,0x2E
    031FE E092      LDI	R25,2
    031FF 01F8      MOVW	R30,R16
    03200 0FE8      ADD	R30,R24
    03201 1FF9      ADC	R31,R25
    03202 2422      CLR	R2
    03203 2433      CLR	R3
    03204 8231      STD	Z+1,R3
    03205 8220      ST	Z,R2
(0404)     temps[t].p_err_last=0;
    03206 E404      LDI	R16,0x44
    03207 E011      LDI	R17,1
    03208 019A      MOVW	R18,R20
    03209 940E 376B CALL	empy16s
    0320B E384      LDI	R24,0x34
    0320C E092      LDI	R25,2
    0320D 01F8      MOVW	R30,R16
    0320E 0FE8      ADD	R30,R24
    0320F 1FF9      ADC	R31,R25
    03210 2422      CLR	R2
    03211 2433      CLR	R3
    03212 8231      STD	Z+1,R3
    03213 8220      ST	Z,R2
(0405) 	 temps[t].err_last=0;
    03214 E404      LDI	R16,0x44
    03215 E011      LDI	R17,1
    03216 019A      MOVW	R18,R20
    03217 940E 376B CALL	empy16s
    03219 E482      LDI	R24,0x42
    0321A E092      LDI	R25,2
    0321B 01F8      MOVW	R30,R16
    0321C 0FE8      ADD	R30,R24
    0321D 1FF9      ADC	R31,R25
    0321E E904      LDI	R16,0x94
    0321F E010      LDI	R17,0
    03220 940E 3757 CALL	elpm32
    03222 8300      ST	Z,R16
    03223 8311      STD	Z+1,R17
    03224 8322      STD	Z+2,R18
    03225 8333      STD	Z+3,R19
(0406) 	 temps[t].err_next=0;
    03226 E404      LDI	R16,0x44
    03227 E011      LDI	R17,1
    03228 019A      MOVW	R18,R20
    03229 940E 376B CALL	empy16s
    0322B E486      LDI	R24,0x46
    0322C E092      LDI	R25,2
    0322D 01F8      MOVW	R30,R16
    0322E 0FE8      ADD	R30,R24
    0322F 1FF9      ADC	R31,R25
    03230 E904      LDI	R16,0x94
    03231 E010      LDI	R17,0
    03232 940E 3757 CALL	elpm32
    03234 8300      ST	Z,R16
    03235 8311      STD	Z+1,R17
    03236 8322      STD	Z+2,R18
    03237 8333      STD	Z+3,R19
(0407) 	
(0408) 	EEPROM_write(t+1,0,0x00);
    03238 2422      CLR	R2
    03239 2433      CLR	R3
    0323A 8239      STD	Y+1,R3
    0323B 8228      ST	Y,R2
    0323C 2722      CLR	R18
    0323D 2733      CLR	R19
    0323E 018A      MOVW	R16,R20
    0323F 5F0F      SUBI	R16,0xFF
    03240 4F1F      SBCI	R17,0xFF
    03241 940E 0F5E CALL	_EEPROM_write
(0409) 	EEPROM_write(t+1,133,0x00);
    03243 2422      CLR	R2
    03244 2433      CLR	R3
    03245 8239      STD	Y+1,R3
    03246 8228      ST	Y,R2
    03247 E825      LDI	R18,0x85
    03248 E030      LDI	R19,0
    03249 018A      MOVW	R16,R20
    0324A 5F0F      SUBI	R16,0xFF
    0324B 4F1F      SBCI	R17,0xFF
    0324C 940E 0F5E CALL	_EEPROM_write
(0410)     for(j=0;j<132;j++){
    0324E 2766      CLR	R22
    0324F 2777      CLR	R23
    03250 C01F      RJMP	0x3270
(0411) 	   temps[t].temp_data[j]=0;
    03251 E404      LDI	R16,0x44
    03252 E011      LDI	R17,1
    03253 019A      MOVW	R18,R20
    03254 940E 376B CALL	empy16s
    03256 0118      MOVW	R2,R16
    03257 E188      LDI	R24,0x18
    03258 E091      LDI	R25,1
    03259 0E28      ADD	R2,R24
    0325A 1E39      ADC	R3,R25
    0325B 01FB      MOVW	R30,R22
    0325C 0FEE      LSL	R30
    0325D 1FFF      ROL	R31
    0325E 0DE2      ADD	R30,R2
    0325F 1DF3      ADC	R31,R3
    03260 2422      CLR	R2
    03261 2433      CLR	R3
    03262 8231      STD	Z+1,R3
    03263 8220      ST	Z,R2
(0412) 	   EEPROM_write(t+1,j+1,0);//这里要保存的
    03264 8239      STD	Y+1,R3
    03265 8228      ST	Y,R2
    03266 019B      MOVW	R18,R22
    03267 5F2F      SUBI	R18,0xFF
    03268 4F3F      SBCI	R19,0xFF
    03269 018A      MOVW	R16,R20
    0326A 5F0F      SUBI	R16,0xFF
    0326B 4F1F      SBCI	R17,0xFF
    0326C 940E 0F5E CALL	_EEPROM_write
    0326E 5F6F      SUBI	R22,0xFF
    0326F 4F7F      SBCI	R23,0xFF
    03270 3864      CPI	R22,0x84
    03271 E0E0      LDI	R30,0
    03272 077E      CPC	R23,R30
    03273 F2E8      BCS	0x3251
(0413) 	}
(0414) 	 EEPROM_write(t+1,134,0);
    03274 2422      CLR	R2
    03275 2433      CLR	R3
    03276 8239      STD	Y+1,R3
    03277 8228      ST	Y,R2
    03278 E826      LDI	R18,0x86
    03279 E030      LDI	R19,0
    0327A 018A      MOVW	R16,R20
    0327B 5F0F      SUBI	R16,0xFF
    0327C 4F1F      SBCI	R17,0xFF
    0327D 940E 0F5E CALL	_EEPROM_write
(0415) 	 EEPROM_write(t+1,135,0);
    0327F 2422      CLR	R2
    03280 2433      CLR	R3
    03281 8239      STD	Y+1,R3
    03282 8228      ST	Y,R2
    03283 E827      LDI	R18,0x87
    03284 E030      LDI	R19,0
    03285 018A      MOVW	R16,R20
    03286 5F0F      SUBI	R16,0xFF
    03287 4F1F      SBCI	R17,0xFF
    03288 940E 0F5E CALL	_EEPROM_write
(0416) 	 EEPROM_write(t+1,136,0);
    0328A 2422      CLR	R2
    0328B 2433      CLR	R3
    0328C 8239      STD	Y+1,R3
    0328D 8228      ST	Y,R2
    0328E E828      LDI	R18,0x88
    0328F E030      LDI	R19,0
    03290 018A      MOVW	R16,R20
    03291 5F0F      SUBI	R16,0xFF
    03292 4F1F      SBCI	R17,0xFF
    03293 940E 0F5E CALL	_EEPROM_write
(0417) 	 EEPROM_write(t+1,137,0);
    03295 2422      CLR	R2
    03296 2433      CLR	R3
    03297 8239      STD	Y+1,R3
    03298 8228      ST	Y,R2
    03299 E829      LDI	R18,0x89
    0329A E030      LDI	R19,0
    0329B 018A      MOVW	R16,R20
    0329C 5F0F      SUBI	R16,0xFF
    0329D 4F1F      SBCI	R17,0xFF
    0329E 940E 0F5E CALL	_EEPROM_write
(0418) 	 EEPROM_write(t+1,138,0);
    032A0 2422      CLR	R2
    032A1 2433      CLR	R3
    032A2 8239      STD	Y+1,R3
    032A3 8228      ST	Y,R2
    032A4 E82A      LDI	R18,0x8A
    032A5 E030      LDI	R19,0
    032A6 018A      MOVW	R16,R20
    032A7 5F0F      SUBI	R16,0xFF
    032A8 4F1F      SBCI	R17,0xFF
    032A9 940E 0F5E CALL	_EEPROM_write
(0419) 	 EEPROM_write(t+1,139,0);
    032AB 2422      CLR	R2
    032AC 2433      CLR	R3
    032AD 8239      STD	Y+1,R3
    032AE 8228      ST	Y,R2
    032AF E82B      LDI	R18,0x8B
    032B0 E030      LDI	R19,0
    032B1 018A      MOVW	R16,R20
    032B2 5F0F      SUBI	R16,0xFF
    032B3 4F1F      SBCI	R17,0xFF
    032B4 940E 0F5E CALL	_EEPROM_write
(0420) 	 EEPROM_write(t+1,140,0);
    032B6 2422      CLR	R2
    032B7 2433      CLR	R3
    032B8 8239      STD	Y+1,R3
    032B9 8228      ST	Y,R2
    032BA E82C      LDI	R18,0x8C
    032BB E030      LDI	R19,0
    032BC 018A      MOVW	R16,R20
    032BD 5F0F      SUBI	R16,0xFF
    032BE 4F1F      SBCI	R17,0xFF
    032BF 940E 0F5E CALL	_EEPROM_write
(0421) 	 EEPROM_write(t+1,141,0);
    032C1 2422      CLR	R2
    032C2 2433      CLR	R3
    032C3 8239      STD	Y+1,R3
    032C4 8228      ST	Y,R2
    032C5 E82D      LDI	R18,0x8D
    032C6 E030      LDI	R19,0
    032C7 018A      MOVW	R16,R20
    032C8 5F0F      SUBI	R16,0xFF
    032C9 4F1F      SBCI	R17,0xFF
    032CA 940E 0F5E CALL	_EEPROM_write
(0422) 	 EEPROM_write(t+1,142,0);
    032CC 2422      CLR	R2
    032CD 2433      CLR	R3
    032CE 8239      STD	Y+1,R3
    032CF 8228      ST	Y,R2
    032D0 E82E      LDI	R18,0x8E
    032D1 E030      LDI	R19,0
    032D2 018A      MOVW	R16,R20
    032D3 5F0F      SUBI	R16,0xFF
    032D4 4F1F      SBCI	R17,0xFF
    032D5 940E 0F5E CALL	_EEPROM_write
(0423) 	 EEPROM_write(t+1,143,0);
    032D7 2422      CLR	R2
    032D8 2433      CLR	R3
    032D9 8239      STD	Y+1,R3
    032DA 8228      ST	Y,R2
    032DB E82F      LDI	R18,0x8F
    032DC E030      LDI	R19,0
    032DD 018A      MOVW	R16,R20
    032DE 5F0F      SUBI	R16,0xFF
    032DF 4F1F      SBCI	R17,0xFF
    032E0 940E 0F5E CALL	_EEPROM_write
(0424) 	 EEPROM_write(t+1,144,0);
    032E2 2422      CLR	R2
    032E3 2433      CLR	R3
    032E4 8239      STD	Y+1,R3
    032E5 8228      ST	Y,R2
    032E6 E920      LDI	R18,0x90
    032E7 E030      LDI	R19,0
    032E8 018A      MOVW	R16,R20
    032E9 5F0F      SUBI	R16,0xFF
    032EA 4F1F      SBCI	R17,0xFF
    032EB 940E 0F5E CALL	_EEPROM_write
(0425) 	 EEPROM_write(t+1,145,0);
    032ED 2422      CLR	R2
    032EE 2433      CLR	R3
    032EF 8239      STD	Y+1,R3
    032F0 8228      ST	Y,R2
    032F1 E921      LDI	R18,0x91
    032F2 E030      LDI	R19,0
    032F3 018A      MOVW	R16,R20
    032F4 5F0F      SUBI	R16,0xFF
    032F5 4F1F      SBCI	R17,0xFF
    032F6 940E 0F5E CALL	_EEPROM_write
    032F8 9622      ADIW	R28,2
    032F9 940C 37AC JMP	pop_xgsetF000
_set_all_start:
  j                    --> R20
    032FB 934A      ST	-Y,R20
    032FC 935A      ST	-Y,R21
(0426) }
(0427) //温度全部开始工作。状态为停止和刚重置数据的可以开始
(0428) void set_all_start(void){
(0429)     uint j;
(0430) 	
(0431)     for(j=0;j<4;j++){
    032FD 2744      CLR	R20
    032FE 2755      CLR	R21
    032FF C03F      RJMP	0x333F
(0432) 	    if(temps[j].flag==3){
    03300 E404      LDI	R16,0x44
    03301 E011      LDI	R17,1
    03302 019A      MOVW	R18,R20
    03303 940E 376B CALL	empy16s
    03305 E186      LDI	R24,0x16
    03306 E091      LDI	R25,1
    03307 01F8      MOVW	R30,R16
    03308 0FE8      ADD	R30,R24
    03309 1FF9      ADC	R31,R25
    0330A 8180      LD	R24,Z
    0330B 8191      LDD	R25,Z+1
    0330C 3083      CPI	R24,3
    0330D E0E0      LDI	R30,0
    0330E 079E      CPC	R25,R30
    0330F F479      BNE	0x331F
(0433) 	           temps[j].flag=1;
    03310 E404      LDI	R16,0x44
    03311 E011      LDI	R17,1
    03312 019A      MOVW	R18,R20
    03313 940E 376B CALL	empy16s
    03315 E186      LDI	R24,0x16
    03316 E091      LDI	R25,1
    03317 01F8      MOVW	R30,R16
    03318 0FE8      ADD	R30,R24
    03319 1FF9      ADC	R31,R25
    0331A E081      LDI	R24,1
    0331B E090      LDI	R25,0
    0331C 8391      STD	Z+1,R25
    0331D 8380      ST	Z,R24
(0434) 	      }else if(temps[j].flag==6){
    0331E C01E      RJMP	0x333D
    0331F E404      LDI	R16,0x44
    03320 E011      LDI	R17,1
    03321 019A      MOVW	R18,R20
    03322 940E 376B CALL	empy16s
    03324 E186      LDI	R24,0x16
    03325 E091      LDI	R25,1
    03326 01F8      MOVW	R30,R16
    03327 0FE8      ADD	R30,R24
    03328 1FF9      ADC	R31,R25
    03329 8180      LD	R24,Z
    0332A 8191      LDD	R25,Z+1
    0332B 3086      CPI	R24,6
    0332C E0E0      LDI	R30,0
    0332D 079E      CPC	R25,R30
    0332E F471      BNE	0x333D
(0435) 	             temps[j].flag=5;
    0332F E404      LDI	R16,0x44
    03330 E011      LDI	R17,1
    03331 019A      MOVW	R18,R20
    03332 940E 376B CALL	empy16s
    03334 E186      LDI	R24,0x16
    03335 E091      LDI	R25,1
    03336 01F8      MOVW	R30,R16
    03337 0FE8      ADD	R30,R24
    03338 1FF9      ADC	R31,R25
    03339 E085      LDI	R24,5
    0333A E090      LDI	R25,0
    0333B 8391      STD	Z+1,R25
    0333C 8380      ST	Z,R24
    0333D 5F4F      SUBI	R20,0xFF
    0333E 4F5F      SBCI	R21,0xFF
    0333F 3044      CPI	R20,4
    03340 E0E0      LDI	R30,0
    03341 075E      CPC	R21,R30
    03342 F408      BCC	0x3344
    03343 CFBC      RJMP	0x3300
    03344 9159      LD	R21,Y+
    03345 9149      LD	R20,Y+
    03346 9508      RET
_set_all_stop:
  j                    --> R20
    03347 934A      ST	-Y,R20
    03348 935A      ST	-Y,R21
(0436) 
(0437) 	      }
(0438) 	}
(0439) }
(0440) //温度全部暂停.要运行的才会暂停。。关闭输出
(0441) void set_all_stop(void){
(0442)     uint j;
(0443) 	
(0444)     for(j=0;j<4;j++){
    03349 2744      CLR	R20
    0334A 2755      CLR	R21
    0334B C025      RJMP	0x3371
(0445) 	  if(temps[j].flag==1 || temps[j].flag==5){
    0334C E404      LDI	R16,0x44
    0334D E011      LDI	R17,1
    0334E 019A      MOVW	R18,R20
    0334F 940E 376B CALL	empy16s
    03351 E186      LDI	R24,0x16
    03352 E091      LDI	R25,1
    03353 01F8      MOVW	R30,R16
    03354 0FE8      ADD	R30,R24
    03355 1FF9      ADC	R31,R25
    03356 8020      LD	R2,Z
    03357 8031      LDD	R3,Z+1
    03358 01C1      MOVW	R24,R2
    03359 3081      CPI	R24,1
    0335A E0E0      LDI	R30,0
    0335B 079E      CPC	R25,R30
    0335C F021      BEQ	0x3361
    0335D 3085      CPI	R24,5
    0335E E0E0      LDI	R30,0
    0335F 079E      CPC	R25,R30
    03360 F471      BNE	0x336F
(0446) 	     temps[j].flag=3;
    03361 E404      LDI	R16,0x44
    03362 E011      LDI	R17,1
    03363 019A      MOVW	R18,R20
    03364 940E 376B CALL	empy16s
    03366 E186      LDI	R24,0x16
    03367 E091      LDI	R25,1
    03368 01F8      MOVW	R30,R16
    03369 0FE8      ADD	R30,R24
    0336A 1FF9      ADC	R31,R25
    0336B E083      LDI	R24,3
    0336C E090      LDI	R25,0
    0336D 8391      STD	Z+1,R25
    0336E 8380      ST	Z,R24
    0336F 5F4F      SUBI	R20,0xFF
    03370 4F5F      SBCI	R21,0xFF
    03371 3044      CPI	R20,4
    03372 E0E0      LDI	R30,0
    03373 075E      CPC	R21,R30
    03374 F2B8      BCS	0x334C
    03375 9159      LD	R21,Y+
    03376 9149      LD	R20,Y+
    03377 9508      RET
_set_start:
  t                    --> R10
    03378 92AA      ST	-Y,R10
    03379 92BA      ST	-Y,R11
    0337A 0158      MOVW	R10,R16
(0447) 		//  EEPROM_write(j+1,133,3);
(0448) 	   }
(0449) 	}
(0450) }
(0451) //指定温度开始,预备
(0452) void set_start(uint t){
(0453)   if(temps[t].flag==3){
    0337B E404      LDI	R16,0x44
    0337C E011      LDI	R17,1
    0337D 0195      MOVW	R18,R10
    0337E 940E 376B CALL	empy16s
    03380 E186      LDI	R24,0x16
    03381 E091      LDI	R25,1
    03382 01F8      MOVW	R30,R16
    03383 0FE8      ADD	R30,R24
    03384 1FF9      ADC	R31,R25
    03385 8180      LD	R24,Z
    03386 8191      LDD	R25,Z+1
    03387 3083      CPI	R24,3
    03388 E0E0      LDI	R30,0
    03389 079E      CPC	R25,R30
    0338A F479      BNE	0x339A
(0454) 	     temps[t].flag=1;
    0338B E404      LDI	R16,0x44
    0338C E011      LDI	R17,1
    0338D 0195      MOVW	R18,R10
    0338E 940E 376B CALL	empy16s
    03390 E186      LDI	R24,0x16
    03391 E091      LDI	R25,1
    03392 01F8      MOVW	R30,R16
    03393 0FE8      ADD	R30,R24
    03394 1FF9      ADC	R31,R25
    03395 E081      LDI	R24,1
    03396 E090      LDI	R25,0
    03397 8391      STD	Z+1,R25
    03398 8380      ST	Z,R24
(0455) 		///  EEPROM_write(t+1,133,5);
(0456) 	}else if(temps[t].flag==6){
    03399 C03D      RJMP	0x33D7
    0339A E404      LDI	R16,0x44
    0339B E011      LDI	R17,1
    0339C 0195      MOVW	R18,R10
    0339D 940E 376B CALL	empy16s
    0339F E186      LDI	R24,0x16
    033A0 E091      LDI	R25,1
    033A1 01F8      MOVW	R30,R16
    033A2 0FE8      ADD	R30,R24
    033A3 1FF9      ADC	R31,R25
    033A4 8180      LD	R24,Z
    033A5 8191      LDD	R25,Z+1
    033A6 3086      CPI	R24,6
    033A7 E0E0      LDI	R30,0
    033A8 079E      CPC	R25,R30
    033A9 F479      BNE	0x33B9
(0457) 	     temps[t].flag=5;
    033AA E404      LDI	R16,0x44
    033AB E011      LDI	R17,1
    033AC 0195      MOVW	R18,R10
    033AD 940E 376B CALL	empy16s
    033AF E186      LDI	R24,0x16
    033B0 E091      LDI	R25,1
    033B1 01F8      MOVW	R30,R16
    033B2 0FE8      ADD	R30,R24
    033B3 1FF9      ADC	R31,R25
    033B4 E085      LDI	R24,5
    033B5 E090      LDI	R25,0
    033B6 8391      STD	Z+1,R25
    033B7 8380      ST	Z,R24
(0458) 		///  EEPROM_write(t+1,133,5);
(0459) 	}else if(temps[t].flag==4){
    033B8 C01E      RJMP	0x33D7
    033B9 E404      LDI	R16,0x44
    033BA E011      LDI	R17,1
    033BB 0195      MOVW	R18,R10
    033BC 940E 376B CALL	empy16s
    033BE E186      LDI	R24,0x16
    033BF E091      LDI	R25,1
    033C0 01F8      MOVW	R30,R16
    033C1 0FE8      ADD	R30,R24
    033C2 1FF9      ADC	R31,R25
    033C3 8180      LD	R24,Z
    033C4 8191      LDD	R25,Z+1
    033C5 3084      CPI	R24,4
    033C6 E0E0      LDI	R30,0
    033C7 079E      CPC	R25,R30
    033C8 F471      BNE	0x33D7
(0460) 	     temps[t].flag=5;
    033C9 E404      LDI	R16,0x44
    033CA E011      LDI	R17,1
    033CB 0195      MOVW	R18,R10
    033CC 940E 376B CALL	empy16s
    033CE E186      LDI	R24,0x16
    033CF E091      LDI	R25,1
    033D0 01F8      MOVW	R30,R16
    033D1 0FE8      ADD	R30,R24
    033D2 1FF9      ADC	R31,R25
    033D3 E085      LDI	R24,5
    033D4 E090      LDI	R25,0
    033D5 8391      STD	Z+1,R25
    033D6 8380      ST	Z,R24
(0461) 		///  EEPROM_write(t+1,133,5);
(0462) 	}
    033D7 90B9      LD	R11,Y+
    033D8 90A9      LD	R10,Y+
    033D9 9508      RET
_set_stop:
  t                    --> R10
    033DA 92AA      ST	-Y,R10
    033DB 92BA      ST	-Y,R11
    033DC 0158      MOVW	R10,R16
(0463) }
(0464) 
(0465) //指定温度暂停。关闭输出
(0466) void set_stop(uint t){
(0467)  if(temps[t].flag==1 || temps[t].flag==5){
    033DD E404      LDI	R16,0x44
    033DE E011      LDI	R17,1
    033DF 0195      MOVW	R18,R10
    033E0 940E 376B CALL	empy16s
    033E2 E186      LDI	R24,0x16
    033E3 E091      LDI	R25,1
    033E4 01F8      MOVW	R30,R16
    033E5 0FE8      ADD	R30,R24
    033E6 1FF9      ADC	R31,R25
    033E7 8020      LD	R2,Z
    033E8 8031      LDD	R3,Z+1
    033E9 01C1      MOVW	R24,R2
    033EA 3081      CPI	R24,1
    033EB E0E0      LDI	R30,0
    033EC 079E      CPC	R25,R30
    033ED F021      BEQ	0x33F2
    033EE 3085      CPI	R24,5
    033EF E0E0      LDI	R30,0
    033F0 079E      CPC	R25,R30
    033F1 F471      BNE	0x3400
(0468) 	     temps[t].flag=3;
    033F2 E404      LDI	R16,0x44
    033F3 E011      LDI	R17,1
    033F4 0195      MOVW	R18,R10
    033F5 940E 376B CALL	empy16s
    033F7 E186      LDI	R24,0x16
    033F8 E091      LDI	R25,1
    033F9 01F8      MOVW	R30,R16
    033FA 0FE8      ADD	R30,R24
    033FB 1FF9      ADC	R31,R25
    033FC E083      LDI	R24,3
    033FD E090      LDI	R25,0
    033FE 8391      STD	Z+1,R25
    033FF 8380      ST	Z,R24
(0469) 		// EEPROM_write(t+1,133,3);
(0470) 	   }
    03400 90B9      LD	R11,Y+
    03401 90A9      LD	R10,Y+
    03402 9508      RET
_PID_realize:
  temp_n               --> R10
    03403 940E 37CD CALL	push_xgsetF03C
    03405 0158      MOVW	R10,R16
(0471) }
(0472) /***********************************************************************
(0473) * 函数功能：	PID计算
(0474) * 参      数：	读入的温度
(0475) * 返 回  值：	无	改变incrementtemp的值，输出函数获得这个值然后输出
(0476) * 备	   注：	
(0477) **1
(0478) **********************************************************************/
(0479) void PID_realize(uint temp_n)
(0480) {
(0481)    temps[temp_n].err=temps[temp_n].settemp-temps[temp_n].actualtemp;//这两个都在结构体中
    03406 E404      LDI	R16,0x44
    03407 E011      LDI	R17,1
    03408 0195      MOVW	R18,R10
    03409 940E 376B CALL	empy16s
    0340B 0128      MOVW	R4,R16
    0340C E386      LDI	R24,0x36
    0340D E092      LDI	R25,2
    0340E 01F2      MOVW	R30,R4
    0340F 0FE8      ADD	R30,R24
    03410 1FF9      ADC	R31,R25
    03411 8100      LD	R16,Z
    03412 8111      LDD	R17,Z+1
    03413 8122      LDD	R18,Z+2
    03414 8133      LDD	R19,Z+3
    03415 E38A      LDI	R24,0x3A
    03416 E092      LDI	R25,2
    03417 0112      MOVW	R2,R4
    03418 0E28      ADD	R2,R24
    03419 1E39      ADC	R3,R25
    0341A 923A      ST	-Y,R3
    0341B 922A      ST	-Y,R2
    0341C 940E 3888 CALL	fpsub1
    0341E E38E      LDI	R24,0x3E
    0341F E092      LDI	R25,2
    03420 01F2      MOVW	R30,R4
    03421 0FE8      ADD	R30,R24
    03422 1FF9      ADC	R31,R25
    03423 8300      ST	Z,R16
    03424 8311      STD	Z+1,R17
    03425 8322      STD	Z+2,R18
    03426 8333      STD	Z+3,R19
(0482)    temps[temp_n].incrementtemp=temps[temp_n].Kp*(temps[temp_n].err-temps[temp_n].err_next)+temps[temp_n].Ki*temps[temp_n].err+temps[temp_n].Kd*(temps[temp_n].err-2*temps[temp_n].err_next+temps[temp_n].err_last);
    03427 E404      LDI	R16,0x44
    03428 E011      LDI	R17,1
    03429 0195      MOVW	R18,R10
    0342A 940E 376B CALL	empy16s
    0342C 01D8      MOVW	R26,R16
    0342D E48A      LDI	R24,0x4A
    0342E E092      LDI	R25,2
    0342F 01FD      MOVW	R30,R26
    03430 0FE8      ADD	R30,R24
    03431 1FF9      ADC	R31,R25
    03432 8020      LD	R2,Z
    03433 8031      LDD	R3,Z+1
    03434 8042      LDD	R4,Z+2
    03435 8053      LDD	R5,Z+3
    03436 E38E      LDI	R24,0x3E
    03437 E092      LDI	R25,2
    03438 01FD      MOVW	R30,R26
    03439 0FE8      ADD	R30,R24
    0343A 1FF9      ADC	R31,R25
    0343B 8100      LD	R16,Z
    0343C 8111      LDD	R17,Z+1
    0343D 8122      LDD	R18,Z+2
    0343E 8133      LDD	R19,Z+3
    0343F E486      LDI	R24,0x46
    03440 E092      LDI	R25,2
    03441 013D      MOVW	R6,R26
    03442 0E68      ADD	R6,R24
    03443 1E79      ADC	R7,R25
    03444 927A      ST	-Y,R7
    03445 926A      ST	-Y,R6
    03446 940E 389D CALL	fpsub1x
    03448 0181      MOVW	R16,R2
    03449 0192      MOVW	R18,R4
    0344A 940E 3A87 CALL	fpmule2
    0344C 0118      MOVW	R2,R16
    0344D 0129      MOVW	R4,R18
    0344E E48E      LDI	R24,0x4E
    0344F E092      LDI	R25,2
    03450 01FD      MOVW	R30,R26
    03451 0FE8      ADD	R30,R24
    03452 1FF9      ADC	R31,R25
    03453 8100      LD	R16,Z
    03454 8111      LDD	R17,Z+1
    03455 8122      LDD	R18,Z+2
    03456 8133      LDD	R19,Z+3
    03457 E38E      LDI	R24,0x3E
    03458 E092      LDI	R25,2
    03459 013D      MOVW	R6,R26
    0345A 0E68      ADD	R6,R24
    0345B 1E79      ADC	R7,R25
    0345C 927A      ST	-Y,R7
    0345D 926A      ST	-Y,R6
    0345E 940E 3A92 CALL	fpmule1x
    03460 0181      MOVW	R16,R2
    03461 0192      MOVW	R18,R4
    03462 940E 387D CALL	fpadd2
    03464 0118      MOVW	R2,R16
    03465 0129      MOVW	R4,R18
    03466 E582      LDI	R24,0x52
    03467 E092      LDI	R25,2
    03468 01FD      MOVW	R30,R26
    03469 0FE8      ADD	R30,R24
    0346A 1FF9      ADC	R31,R25
    0346B 8060      LD	R6,Z
    0346C 8071      LDD	R7,Z+1
    0346D 8082      LDD	R8,Z+2
    0346E 8093      LDD	R9,Z+3
    0346F E38E      LDI	R24,0x3E
    03470 E092      LDI	R25,2
    03471 01FD      MOVW	R30,R26
    03472 0FE8      ADD	R30,R24
    03473 1FF9      ADC	R31,R25
    03474 8140      LD	R20,Z
    03475 8151      LDD	R21,Z+1
    03476 8162      LDD	R22,Z+2
    03477 8173      LDD	R23,Z+3
    03478 E80C      LDI	R16,0x8C
    03479 E010      LDI	R17,0
    0347A 940E 3757 CALL	elpm32
    0347C E486      LDI	R24,0x46
    0347D E092      LDI	R25,2
    0347E 01FD      MOVW	R30,R26
    0347F 0FE8      ADD	R30,R24
    03480 1FF9      ADC	R31,R25
    03481 93FA      ST	-Y,R31
    03482 93EA      ST	-Y,R30
    03483 940E 3A92 CALL	fpmule1x
    03485 018A      MOVW	R16,R20
    03486 019B      MOVW	R18,R22
    03487 940E 3892 CALL	fpsub2
    03489 E482      LDI	R24,0x42
    0348A E092      LDI	R25,2
    0348B 01FD      MOVW	R30,R26
    0348C 0FE8      ADD	R30,R24
    0348D 1FF9      ADC	R31,R25
    0348E 93FA      ST	-Y,R31
    0348F 93EA      ST	-Y,R30
    03490 940E 3870 CALL	fpadd1x
    03492 0183      MOVW	R16,R6
    03493 0194      MOVW	R18,R8
    03494 940E 3A9F CALL	fpmule2x
    03496 0181      MOVW	R16,R2
    03497 0192      MOVW	R18,R4
    03498 940E 387D CALL	fpadd2
    0349A E586      LDI	R24,0x56
    0349B E092      LDI	R25,2
    0349C 01FD      MOVW	R30,R26
    0349D 0FE8      ADD	R30,R24
    0349E 1FF9      ADC	R31,R25
    0349F 8300      ST	Z,R16
    034A0 8311      STD	Z+1,R17
    034A1 8322      STD	Z+2,R18
    034A2 8333      STD	Z+3,R19
(0483)    temps[temp_n].err_last=temps[temp_n].err_next;
    034A3 E404      LDI	R16,0x44
    034A4 E011      LDI	R17,1
    034A5 0195      MOVW	R18,R10
    034A6 940E 376B CALL	empy16s
    034A8 0168      MOVW	R12,R16
    034A9 E486      LDI	R24,0x46
    034AA E092      LDI	R25,2
    034AB 01F6      MOVW	R30,R12
    034AC 0FE8      ADD	R30,R24
    034AD 1FF9      ADC	R31,R25
    034AE 8020      LD	R2,Z
    034AF 8031      LDD	R3,Z+1
    034B0 8042      LDD	R4,Z+2
    034B1 8053      LDD	R5,Z+3
    034B2 E482      LDI	R24,0x42
    034B3 E092      LDI	R25,2
    034B4 01F6      MOVW	R30,R12
    034B5 0FE8      ADD	R30,R24
    034B6 1FF9      ADC	R31,R25
    034B7 8220      ST	Z,R2
    034B8 8231      STD	Z+1,R3
    034B9 8242      STD	Z+2,R4
    034BA 8253      STD	Z+3,R5
(0484)    temps[temp_n].err_next=temps[temp_n].err;
    034BB E404      LDI	R16,0x44
    034BC E011      LDI	R17,1
    034BD 0195      MOVW	R18,R10
    034BE 940E 376B CALL	empy16s
    034C0 0168      MOVW	R12,R16
    034C1 E38E      LDI	R24,0x3E
    034C2 E092      LDI	R25,2
    034C3 01F6      MOVW	R30,R12
    034C4 0FE8      ADD	R30,R24
    034C5 1FF9      ADC	R31,R25
    034C6 8020      LD	R2,Z
    034C7 8031      LDD	R3,Z+1
    034C8 8042      LDD	R4,Z+2
    034C9 8053      LDD	R5,Z+3
    034CA E486      LDI	R24,0x46
    034CB E092      LDI	R25,2
    034CC 01F6      MOVW	R30,R12
    034CD 0FE8      ADD	R30,R24
    034CE 1FF9      ADC	R31,R25
    034CF 8220      ST	Z,R2
    034D0 8231      STD	Z+1,R3
    034D1 8242      STD	Z+2,R4
    034D2 8253      STD	Z+3,R5
(0485)    temps[temp_n].incrementtemp=temps[temp_n].incrementtemp/2;
    034D3 E404      LDI	R16,0x44
    034D4 E011      LDI	R17,1
    034D5 0195      MOVW	R18,R10
    034D6 940E 376B CALL	empy16s
    034D8 0158      MOVW	R10,R16
    034D9 E586      LDI	R24,0x56
    034DA E092      LDI	R25,2
    034DB 01F5      MOVW	R30,R10
    034DC 0FE8      ADD	R30,R24
    034DD 1FF9      ADC	R31,R25
    034DE 8020      LD	R2,Z
    034DF 8031      LDD	R3,Z+1
    034E0 8042      LDD	R4,Z+2
    034E1 8053      LDD	R5,Z+3
    034E2 E80C      LDI	R16,0x8C
    034E3 E010      LDI	R17,0
    034E4 940E 3757 CALL	elpm32
    034E6 933A      ST	-Y,R19
    034E7 932A      ST	-Y,R18
    034E8 931A      ST	-Y,R17
    034E9 930A      ST	-Y,R16
    034EA 0181      MOVW	R16,R2
    034EB 0192      MOVW	R18,R4
    034EC 940E 3917 CALL	fpdiv2
    034EE E586      LDI	R24,0x56
    034EF E092      LDI	R25,2
    034F0 01F5      MOVW	R30,R10
    034F1 0FE8      ADD	R30,R24
    034F2 1FF9      ADC	R31,R25
    034F3 8300      ST	Z,R16
    034F4 8311      STD	Z+1,R17
    034F5 8322      STD	Z+2,R18
    034F6 8333      STD	Z+3,R19
    034F7 940C 37D6 JMP	pop_xgsetF03C
_PI_realize:
  temp_n               --> R10
    034F9 940E 3798 CALL	push_xgset003C
    034FB 0158      MOVW	R10,R16
(0486) }
(0487) void PI_realize(uint temp_n)
(0488) {
(0489)    temps[temp_n].err=temps[temp_n].p_settemp-temps[temp_n].actualtemp;//这两个都在结构体中
    034FC E404      LDI	R16,0x44
    034FD E011      LDI	R17,1
    034FE 0195      MOVW	R18,R10
    034FF 940E 376B CALL	empy16s
    03501 0128      MOVW	R4,R16
    03502 E28C      LDI	R24,0x2C
    03503 E092      LDI	R25,2
    03504 01F2      MOVW	R30,R4
    03505 0FE8      ADD	R30,R24
    03506 1FF9      ADC	R31,R25
    03507 8100      LD	R16,Z
    03508 8111      LDD	R17,Z+1
    03509 940E 38EA CALL	uint2fp
    0350B E38A      LDI	R24,0x3A
    0350C E092      LDI	R25,2
    0350D 0112      MOVW	R2,R4
    0350E 0E28      ADD	R2,R24
    0350F 1E39      ADC	R3,R25
    03510 923A      ST	-Y,R3
    03511 922A      ST	-Y,R2
    03512 940E 3888 CALL	fpsub1
    03514 E38E      LDI	R24,0x3E
    03515 E092      LDI	R25,2
    03516 01F2      MOVW	R30,R4
    03517 0FE8      ADD	R30,R24
    03518 1FF9      ADC	R31,R25
    03519 8300      ST	Z,R16
    0351A 8311      STD	Z+1,R17
    0351B 8322      STD	Z+2,R18
    0351C 8333      STD	Z+3,R19
(0490)    temps[temp_n].incrementtemp=temps[temp_n].p_Kp*(temps[temp_n].err-temps[temp_n].p_err_next)+temps[temp_n].p_Ki*temps[temp_n].err;
    0351D E404      LDI	R16,0x44
    0351E E011      LDI	R17,1
    0351F 0195      MOVW	R18,R10
    03520 940E 376B CALL	empy16s
    03522 01D8      MOVW	R26,R16
    03523 E380      LDI	R24,0x30
    03524 E092      LDI	R25,2
    03525 01FD      MOVW	R30,R26
    03526 0FE8      ADD	R30,R24
    03527 1FF9      ADC	R31,R25
    03528 8100      LD	R16,Z
    03529 8111      LDD	R17,Z+1
    0352A 940E 38EA CALL	uint2fp
    0352C 0118      MOVW	R2,R16
    0352D 0129      MOVW	R4,R18
    0352E E38E      LDI	R24,0x3E
    0352F E092      LDI	R25,2
    03530 01FD      MOVW	R30,R26
    03531 0FE8      ADD	R30,R24
    03532 1FF9      ADC	R31,R25
    03533 8060      LD	R6,Z
    03534 8071      LDD	R7,Z+1
    03535 8082      LDD	R8,Z+2
    03536 8093      LDD	R9,Z+3
    03537 E28E      LDI	R24,0x2E
    03538 E092      LDI	R25,2
    03539 01FD      MOVW	R30,R26
    0353A 0FE8      ADD	R30,R24
    0353B 1FF9      ADC	R31,R25
    0353C 8100      LD	R16,Z
    0353D 8111      LDD	R17,Z+1
    0353E 940E 38EA CALL	uint2fp
    03540 933A      ST	-Y,R19
    03541 932A      ST	-Y,R18
    03542 931A      ST	-Y,R17
    03543 930A      ST	-Y,R16
    03544 0183      MOVW	R16,R6
    03545 0194      MOVW	R18,R8
    03546 940E 38AA CALL	fpsub2x
    03548 0181      MOVW	R16,R2
    03549 0192      MOVW	R18,R4
    0354A 940E 3A87 CALL	fpmule2
    0354C 0118      MOVW	R2,R16
    0354D 0129      MOVW	R4,R18
    0354E E382      LDI	R24,0x32
    0354F E092      LDI	R25,2
    03550 01FD      MOVW	R30,R26
    03551 0FE8      ADD	R30,R24
    03552 1FF9      ADC	R31,R25
    03553 8100      LD	R16,Z
    03554 8111      LDD	R17,Z+1
    03555 940E 38EA CALL	uint2fp
    03557 E38E      LDI	R24,0x3E
    03558 E092      LDI	R25,2
    03559 013D      MOVW	R6,R26
    0355A 0E68      ADD	R6,R24
    0355B 1E79      ADC	R7,R25
    0355C 927A      ST	-Y,R7
    0355D 926A      ST	-Y,R6
    0355E 940E 3A92 CALL	fpmule1x
    03560 0181      MOVW	R16,R2
    03561 0192      MOVW	R18,R4
    03562 940E 387D CALL	fpadd2
    03564 E586      LDI	R24,0x56
    03565 E092      LDI	R25,2
    03566 01FD      MOVW	R30,R26
    03567 0FE8      ADD	R30,R24
    03568 1FF9      ADC	R31,R25
    03569 8300      ST	Z,R16
    0356A 8311      STD	Z+1,R17
    0356B 8322      STD	Z+2,R18
    0356C 8333      STD	Z+3,R19
(0491)    temps[temp_n].p_err_last=temps[temp_n].p_err_next;
    0356D E404      LDI	R16,0x44
    0356E E011      LDI	R17,1
    0356F 0195      MOVW	R18,R10
    03570 940E 376B CALL	empy16s
    03572 0168      MOVW	R12,R16
    03573 E28E      LDI	R24,0x2E
    03574 E092      LDI	R25,2
    03575 01F6      MOVW	R30,R12
    03576 0FE8      ADD	R30,R24
    03577 1FF9      ADC	R31,R25
    03578 8020      LD	R2,Z
    03579 8031      LDD	R3,Z+1
    0357A E384      LDI	R24,0x34
    0357B E092      LDI	R25,2
    0357C 01F6      MOVW	R30,R12
    0357D 0FE8      ADD	R30,R24
    0357E 1FF9      ADC	R31,R25
    0357F 8231      STD	Z+1,R3
    03580 8220      ST	Z,R2
(0492)    temps[temp_n].p_err_next=temps[temp_n].err;
    03581 E404      LDI	R16,0x44
    03582 E011      LDI	R17,1
    03583 0195      MOVW	R18,R10
    03584 940E 376B CALL	empy16s
    03586 0168      MOVW	R12,R16
    03587 E38E      LDI	R24,0x3E
    03588 E092      LDI	R25,2
    03589 01F6      MOVW	R30,R12
    0358A 0FE8      ADD	R30,R24
    0358B 1FF9      ADC	R31,R25
    0358C 8100      LD	R16,Z
    0358D 8111      LDD	R17,Z+1
    0358E 8122      LDD	R18,Z+2
    0358F 8133      LDD	R19,Z+3
    03590 940E 38B8 CALL	fpint
    03592 E28E      LDI	R24,0x2E
    03593 E092      LDI	R25,2
    03594 01F6      MOVW	R30,R12
    03595 0FE8      ADD	R30,R24
    03596 1FF9      ADC	R31,R25
    03597 8311      STD	Z+1,R17
    03598 8300      ST	Z,R16
(0493)    temps[temp_n].incrementtemp=temps[temp_n].incrementtemp/2;
    03599 E404      LDI	R16,0x44
    0359A E011      LDI	R17,1
    0359B 0195      MOVW	R18,R10
    0359C 940E 376B CALL	empy16s
    0359E 0158      MOVW	R10,R16
    0359F E586      LDI	R24,0x56
    035A0 E092      LDI	R25,2
    035A1 01F5      MOVW	R30,R10
    035A2 0FE8      ADD	R30,R24
    035A3 1FF9      ADC	R31,R25
    035A4 8020      LD	R2,Z
    035A5 8031      LDD	R3,Z+1
    035A6 8042      LDD	R4,Z+2
    035A7 8053      LDD	R5,Z+3
    035A8 E80C      LDI	R16,0x8C
    035A9 E010      LDI	R17,0
    035AA 940E 3757 CALL	elpm32
    035AC 933A      ST	-Y,R19
    035AD 932A      ST	-Y,R18
    035AE 931A      ST	-Y,R17
    035AF 930A      ST	-Y,R16
    035B0 0181      MOVW	R16,R2
    035B1 0192      MOVW	R18,R4
    035B2 940E 3917 CALL	fpdiv2
    035B4 E586      LDI	R24,0x56
    035B5 E092      LDI	R25,2
    035B6 01F5      MOVW	R30,R10
    035B7 0FE8      ADD	R30,R24
    035B8 1FF9      ADC	R31,R25
    035B9 8300      ST	Z,R16
    035BA 8311      STD	Z+1,R17
    035BB 8322      STD	Z+2,R18
    035BC 8333      STD	Z+3,R19
    035BD 940C 377B JMP	pop_xgset003C
FILE: E:\ICCDemo\Temp_Control\temp_control\time1307.c
(0001) #include<iom128v.h>
(0002) #include "time1307.h"
(0003) #include "delay.h"
(0004) #include "lcd.h"
(0005) #include "main.h"
(0006) //寄存器宏定义
(0007) #define SECOND 0x00
(0008) #define MINUTE 0x01 
(0009) #define HOUR 0x02
(0010) #define DAY 0x04
(0011) #define MONTH 0x05 
(0012) #define WEEK 0x03
(0013) #define YEAE 0x06
(0014) #define CIBTPOL 0x07 
(0015) #define  WRITEDS1307    0xD0
(0016) #define     READDS1307    0xD1
(0017) 
(0018) 
(0019) #define  SCL_H  PORTD|=1<<PD0 //
(0020) #define  SCL_L  PORTD&=~(1<<PD0) //
(0021) #define  SDA_H   PORTD|=1<<PD1 //
(0022) #define  SDA_L  PORTD&=~(1<<PD1)  //
(0023) /* unsigned char set_rtc_code[7];
(0024) unsigned char rtc_address[7]={0x00,0x01,0x02,0x03,0x04,0x05,0x06};
(0025) unsigned char read_rtc_code[7];
(0026) unsigned char wr_j1j3_code[7];
(0027) unsigned char jk[7]={0,0,0,2,0,0,9};//设置时钟初始值*/
(0028) 
(0029) unsigned  char BP;
(0030) 
(0031) 
(0032) void I2C_start(void){//启动IIC总线
(0033)    SDA_H;
_I2C_start:
    035BF 9A91      SBI	0x12,1
(0034)    SCL_H;
    035C0 9A90      SBI	0x12,0
(0035)    delay_us(8);
    035C1 E008      LDI	R16,0x8
    035C2 E010      LDI	R17,0
    035C3 940E 0441 CALL	_delay_us
(0036)    SDA_L;
    035C5 9891      CBI	0x12,1
(0037)    delay_us(8);
    035C6 E008      LDI	R16,0x8
    035C7 E010      LDI	R17,0
    035C8 940E 0441 CALL	_delay_us
(0038)    SCL_L;
    035CA 9890      CBI	0x12,0
    035CB 9508      RET
(0039)    
(0040) }
(0041) void I2C_stop(void){//启动IIC总线
(0042)    SDA_L;
_I2C_stop:
    035CC 9891      CBI	0x12,1
(0043)    SCL_H;
    035CD 9A90      SBI	0x12,0
(0044)    delay_us(8);
    035CE E008      LDI	R16,0x8
    035CF E010      LDI	R17,0
    035D0 940E 0441 CALL	_delay_us
(0045)    SDA_H;
    035D2 9A91      SBI	0x12,1
(0046)    delay_us(8);
    035D3 E008      LDI	R16,0x8
    035D4 E010      LDI	R17,0
    035D5 940E 0441 CALL	_delay_us
(0047)    SCL_L;
    035D7 9890      CBI	0x12,0
    035D8 9508      RET
(0048)    
(0049) }
(0050) void I2C_send_ack(void){//应答ack
(0051)   SDA_L;
_I2C_send_ack:
    035D9 9891      CBI	0x12,1
(0052)   SCL_H;
    035DA 9A90      SBI	0x12,0
(0053)   delay_us(8);
    035DB E008      LDI	R16,0x8
    035DC E010      LDI	R17,0
    035DD 940E 0441 CALL	_delay_us
(0054)   SCL_L;
    035DF 9890      CBI	0x12,0
    035E0 9508      RET
(0055) } 
(0056) void I2C_send_noack(void){
(0057)   SDA_H;
_I2C_send_noack:
    035E1 9A91      SBI	0x12,1
(0058)   SCL_H;
    035E2 9A90      SBI	0x12,0
(0059)    delay_us(8);
    035E3 E008      LDI	R16,0x8
    035E4 E010      LDI	R17,0
    035E5 940E 0441 CALL	_delay_us
(0060)    SCL_L;
    035E7 9890      CBI	0x12,0
    035E8 9508      RET
_I2C_write_byte:
  i                    --> R20
  IIC_data             --> R10
    035E9 92AA      ST	-Y,R10
    035EA 934A      ST	-Y,R20
    035EB 2EA0      MOV	R10,R16
(0061) }
(0062) void I2C_write_byte(unsigned char IIC_data){
(0063)    unsigned char i;
(0064)   // BP=0;
(0065)    for(i=0;i<8;i++){//循环输出数据
    035EC 2744      CLR	R20
    035ED C016      RJMP	0x3604
(0066)       SCL_L;
    035EE 9890      CBI	0x12,0
(0067) 	   if(((IIC_data<<i)&0x80)){
    035EF 2D0A      MOV	R16,R10
    035F0 2F14      MOV	R17,R20
    035F1 940E 37E8 CALL	lsl8
    035F3 2F80      MOV	R24,R16
    035F4 7880      ANDI	R24,0x80
    035F5 F011      BEQ	0x35F8
(0068) 	      SDA_H;
    035F6 9A91      SBI	0x12,1
(0069) 	   }else{
    035F7 C001      RJMP	0x35F9
(0070) 	   	  SDA_L;
    035F8 9891      CBI	0x12,1
(0071) 	   }
(0072) 	   delay_us(4);
    035F9 E004      LDI	R16,4
    035FA E010      LDI	R17,0
    035FB 940E 0441 CALL	_delay_us
(0073) 	   SCL_H;
    035FD 9A90      SBI	0x12,0
(0074) 	   delay_us(4);
    035FE E004      LDI	R16,4
    035FF E010      LDI	R17,0
    03600 940E 0441 CALL	_delay_us
(0075) 	   SCL_L;
    03602 9890      CBI	0x12,0
    03603 9543      INC	R20
    03604 3048      CPI	R20,0x8
    03605 F340      BCS	0x35EE
(0076)    }
(0077)    //读取ACK
(0078)    delay_us(4);
    03606 E004      LDI	R16,4
    03607 E010      LDI	R17,0
    03608 940E 0441 CALL	_delay_us
(0079)    DDRD &=~(0x02);//发送完，等待输入信号
    0360A 9889      CBI	0x11,1
(0080)    delay_us(4);
    0360B E004      LDI	R16,4
    0360C E010      LDI	R17,0
    0360D 940E 0441 CALL	_delay_us
(0081)    if((PIND&(1<<PD1))){
    0360F 9B81      SBIS	0x10,1
    03610 C000      RJMP	0x3611
(0082)     //正常
(0083)    }//读取，如果发送的是noack，
(0084)    SCL_H;
    03611 9A90      SBI	0x12,0
(0085)    delay_us(4);
    03612 E004      LDI	R16,4
    03613 E010      LDI	R17,0
    03614 940E 0441 CALL	_delay_us
(0086)    SCL_L;
    03616 9890      CBI	0x12,0
(0087)    DDRD |=0x02;
    03617 9A89      SBI	0x11,1
    03618 9149      LD	R20,Y+
    03619 90A9      LD	R10,Y+
    0361A 9508      RET
_I2C_read_byte:
  i                    --> R20
  dat                  --> R10
    0361B 92AA      ST	-Y,R10
    0361C 934A      ST	-Y,R20
(0088) }
(0089) unsigned char I2C_read_byte(void){
(0090)   unsigned char i,dat;
(0091)   DDRD &=~(0x02);
    0361D 9889      CBI	0x11,1
(0092)   dat=0;
    0361E 24AA      CLR	R10
(0093)   for (i=0;i<8;i++)
    0361F 2744      CLR	R20
    03620 C00B      RJMP	0x362C
(0094)     {
(0095)       dat=dat<<1;
    03621 0CAA      LSL	R10
(0096)       SCL_H;
    03622 9A90      SBI	0x12,0
(0097)       delay_us(4);
    03623 E004      LDI	R16,4
    03624 E010      LDI	R17,0
    03625 940E 0441 CALL	_delay_us
(0098)      if((PIND&(1<<PD1)))
    03627 9B81      SBIS	0x10,1
    03628 C001      RJMP	0x362A
(0099)      {
(0100)        dat++;
    03629 94A3      INC	R10
(0101) 	  // PORTE=~PORTE;
(0102)      }
(0103)        SCL_L;  
    0362A 9890      CBI	0x12,0
    0362B 9543      INC	R20
    0362C 3048      CPI	R20,0x8
    0362D F398      BCS	0x3621
(0104)     }  
(0105)   DDRD |=0x02;
    0362E 9A89      SBI	0x11,1
(0106)   return dat;
    0362F 2D0A      MOV	R16,R10
    03630 9149      LD	R20,Y+
    03631 90A9      LD	R10,Y+
    03632 9508      RET
_Write1307:
  dat                  --> R10
  add                  --> R12
    03633 92AA      ST	-Y,R10
    03634 92CA      ST	-Y,R12
    03635 2EA2      MOV	R10,R18
    03636 2EC0      MOV	R12,R16
(0107) }
(0108) /***********************************************************************/
(0109) /******************************** DS1307 写数据  ****************/
(0110) void Write1307(unsigned char add,unsigned char dat)
(0111) {
(0112)   I2C_start();
    03637 DF87      RCALL	_I2C_start
(0113)   I2C_write_byte(WRITEDS1307);
    03638 ED00      LDI	R16,0xD0
    03639 DFAF      RCALL	_I2C_write_byte
(0114)   I2C_write_byte(add);
    0363A 2D0C      MOV	R16,R12
    0363B DFAD      RCALL	_I2C_write_byte
(0115)   I2C_write_byte(dat);
    0363C 2D0A      MOV	R16,R10
    0363D DFAB      RCALL	_I2C_write_byte
(0116)   I2C_stop();
    0363E DF8D      RCALL	_I2C_stop
    0363F 90C9      LD	R12,Y+
    03640 90A9      LD	R10,Y+
    03641 9508      RET
_Read1307:
  dat                  --> R10
  add                  --> R10
    03642 92AA      ST	-Y,R10
    03643 92BA      ST	-Y,R11
    03644 2EA0      MOV	R10,R16
(0117) }
(0118) /***********************************************************************/
(0119) unsigned int Read1307(unsigned char add)
(0120) {
(0121)   
(0122)   unsigned int dat;
(0123)   I2C_start();
    03645 DF79      RCALL	_I2C_start
(0124)   I2C_write_byte(WRITEDS1307);
    03646 ED00      LDI	R16,0xD0
    03647 DFA1      RCALL	_I2C_write_byte
(0125)   I2C_write_byte(add);
    03648 2D0A      MOV	R16,R10
    03649 DF9F      RCALL	_I2C_write_byte
(0126)   I2C_start();
    0364A DF74      RCALL	_I2C_start
(0127)   I2C_write_byte(READDS1307);
    0364B ED01      LDI	R16,0xD1
    0364C DF9C      RCALL	_I2C_write_byte
(0128)   dat=I2C_read_byte(); 
    0364D DFCD      RCALL	_I2C_read_byte
    0364E 2EA0      MOV	R10,R16
    0364F 24BB      CLR	R11
(0129)   I2C_send_noack();
    03650 DF90      RCALL	_I2C_send_noack
(0130)   I2C_stop();      
    03651 DF7A      RCALL	_I2C_stop
(0131)   return (dat);
    03652 0185      MOVW	R16,R10
    03653 90B9      LD	R11,Y+
    03654 90A9      LD	R10,Y+
    03655 9508      RET
_setTime:
  second               --> R10
  minute               --> R22
  hour                 --> R20
  day                  --> R14
  month                --> R12
  year                 --> Y,+10
    03656 940E 3711 CALL	push_arg4
    03658 940E 3792 CALL	push_xgsetF0FC
    0365A 0169      MOVW	R12,R18
    0365B 84EE      LDD	R14,Y+14
    0365C 84FF      LDD	R15,Y+15
    0365D 8948      LDD	R20,Y+16
    0365E 8959      LDD	R21,Y+17
    0365F 896A      LDD	R22,Y+18
    03660 897B      LDD	R23,Y+19
    03661 88AC      LDD	R10,Y+20
    03662 88BD      LDD	R11,Y+21
(0132)  }
(0133) //年、月、日、星期、时、分、秒。星期没有写入
(0134) void setTime(uint year,uint month,uint day,uint hour,uint minute,uint second){
(0135)    Write1307(0x00,second);//
    03663 2D2A      MOV	R18,R10
    03664 2700      CLR	R16
    03665 DFCD      RCALL	_Write1307
(0136)    Write1307(0x01,minute);//
    03666 2F26      MOV	R18,R22
    03667 E001      LDI	R16,1
    03668 DFCA      RCALL	_Write1307
(0137)    Write1307(0x02,hour);//
    03669 2F24      MOV	R18,R20
    0366A E002      LDI	R16,2
    0366B DFC7      RCALL	_Write1307
(0138)    //Write1307(0x03,0X01);//
(0139)    Write1307(0x04,day);//
    0366C 2D2E      MOV	R18,R14
    0366D E004      LDI	R16,4
    0366E DFC4      RCALL	_Write1307
(0140)    Write1307(0x05,month);//
    0366F 2D2C      MOV	R18,R12
    03670 E005      LDI	R16,5
    03671 DFC1      RCALL	_Write1307
(0141)    Write1307(0x06,year);
    03672 852A      LDD	R18,Y+10
    03673 853B      LDD	R19,Y+11
    03674 E006      LDI	R16,6
    03675 DFBD      RCALL	_Write1307
    03676 940E 3787 CALL	pop_xgsetF0FC
    03678 9624      ADIW	R28,4
    03679 9508      RET
(0142) }
(0143) void Initial_time(void){//初始化输出、方波、中断
(0144)    DDRD|=0x07;
_Initial_time:
    0367A B381      IN	R24,0x11
    0367B 6087      ORI	R24,7
    0367C BB81      OUT	0x11,R24
(0145)    PORTD=0x00;
    0367D 2422      CLR	R2
    0367E BA22      OUT	0x12,R2
(0146)   /* Write1307(0x00,0X00);//
(0147)    Write1307(0x01,0X00);//
(0148)    Write1307(0x02,0X12);//
(0149)    Write1307(0x03,0X01);//
(0150)    Write1307(0x04,0X21);//
(0151)    Write1307(0x05,0X05);//
(0152)    Write1307(0x06,0X15);//*/
(0153)     Write1307(0x07,0x10);
    0367F E120      LDI	R18,0x10
    03680 E007      LDI	R16,7
    03681 DFB1      RCALL	_Write1307
(0154)    
(0155)    EIMSK |= 0x04;//开中断2
    03682 B789      IN	R24,0x39
    03683 6084      ORI	R24,4
    03684 BF89      OUT	0x39,R24
(0156)    EICRA |=0x30;
    03685 9180 006A LDS	R24,0x6A
    03687 6380      ORI	R24,0x30
    03688 9380 006A STS	0x6A,R24
    0368A 9508      RET
_showTime_page:
  time_cacah           --> R20
  y                    --> R10
    0368B 940E 37BF CALL	push_xgset303C
    0368D 0158      MOVW	R10,R16
(0157)    
(0158) }
(0159) //显示时间，年月日时分秒，用于page调用。没有改变AC，会接着写
(0160) void showTime_page(uint y){
(0161)    //PORTE=~Read1302(0x81);
(0162)    uchar time_cacah;
(0163)  //年
(0164)     time_cacah=Read1307(0x06);
    0368E E006      LDI	R16,6
    0368F DFB2      RCALL	_Read1307
    03690 2F40      MOV	R20,R16
(0165)     lcd_write_str_con(y, "20");
    03691 E92D      LDI	R18,0x9D
    03692 E038      LDI	R19,0x8
    03693 2D0A      MOV	R16,R10
    03694 940E 06E5 CALL	_lcd_write_str_con
(0166)     lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x0F));
    03696 2F24      MOV	R18,R20
    03697 9522      SWAP	R18
    03698 702F      ANDI	R18,0xF
    03699 702F      ANDI	R18,0xF
    0369A 6320      ORI	R18,0x30
    0369B 2D0A      MOV	R16,R10
    0369C 940E 0643 CALL	_lcd_write_char_con
(0167)     lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    0369E 2F24      MOV	R18,R20
    0369F 702F      ANDI	R18,0xF
    036A0 6320      ORI	R18,0x30
    036A1 2D0A      MOV	R16,R10
    036A2 940E 0643 CALL	_lcd_write_char_con
(0168) 	lcd_write_char_con(y,'-');
    036A4 E22D      LDI	R18,0x2D
    036A5 2D0A      MOV	R16,R10
    036A6 940E 0643 CALL	_lcd_write_char_con
(0169) 	 //月
(0170) 	 time_cacah=Read1307(0x05);
    036A8 E005      LDI	R16,5
    036A9 DF98      RCALL	_Read1307
    036AA 2F40      MOV	R20,R16
(0171) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x01));
    036AB 2F24      MOV	R18,R20
    036AC 9522      SWAP	R18
    036AD 702F      ANDI	R18,0xF
    036AE 7021      ANDI	R18,1
    036AF 6320      ORI	R18,0x30
    036B0 2D0A      MOV	R16,R10
    036B1 940E 0643 CALL	_lcd_write_char_con
(0172)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    036B3 2F24      MOV	R18,R20
    036B4 702F      ANDI	R18,0xF
    036B5 6320      ORI	R18,0x30
    036B6 2D0A      MOV	R16,R10
    036B7 940E 0643 CALL	_lcd_write_char_con
(0173) 	 lcd_write_char_con(y,'-');
    036B9 E22D      LDI	R18,0x2D
    036BA 2D0A      MOV	R16,R10
    036BB 940E 0643 CALL	_lcd_write_char_con
(0174) 	 //日
(0175) 	 time_cacah=Read1307(0x04);
    036BD E004      LDI	R16,4
    036BE DF83      RCALL	_Read1307
    036BF 0168      MOVW	R12,R16
    036C0 2D4C      MOV	R20,R12
(0176) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    036C1 2F24      MOV	R18,R20
    036C2 9522      SWAP	R18
    036C3 702F      ANDI	R18,0xF
    036C4 7023      ANDI	R18,3
    036C5 6320      ORI	R18,0x30
    036C6 2D0A      MOV	R16,R10
    036C7 940E 0643 CALL	_lcd_write_char_con
(0177)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    036C9 2F24      MOV	R18,R20
    036CA 702F      ANDI	R18,0xF
    036CB 6320      ORI	R18,0x30
    036CC 2D0A      MOV	R16,R10
    036CD 940E 0643 CALL	_lcd_write_char_con
(0178) 	 lcd_write_char_con(y,' ');
    036CF E220      LDI	R18,0x20
    036D0 2D0A      MOV	R16,R10
    036D1 940E 0643 CALL	_lcd_write_char_con
(0179) 	//时
(0180) 	time_cacah=Read1307(0x02);
    036D3 E002      LDI	R16,2
    036D4 DF6D      RCALL	_Read1307
    036D5 0168      MOVW	R12,R16
    036D6 2D4C      MOV	R20,R12
(0181) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    036D7 2F24      MOV	R18,R20
    036D8 9522      SWAP	R18
    036D9 702F      ANDI	R18,0xF
    036DA 7023      ANDI	R18,3
    036DB 6320      ORI	R18,0x30
    036DC 2D0A      MOV	R16,R10
    036DD 940E 0643 CALL	_lcd_write_char_con
(0182) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    036DF 2F24      MOV	R18,R20
    036E0 702F      ANDI	R18,0xF
    036E1 6320      ORI	R18,0x30
    036E2 2D0A      MOV	R16,R10
    036E3 940E 0643 CALL	_lcd_write_char_con
(0183) 	 lcd_write_char_con(y,':');
    036E5 E32A      LDI	R18,0x3A
    036E6 2D0A      MOV	R16,R10
    036E7 940E 0643 CALL	_lcd_write_char_con
(0184) 	//分
(0185) 	time_cacah=Read1307(0x01);
    036E9 E001      LDI	R16,1
    036EA DF57      RCALL	_Read1307
    036EB 0168      MOVW	R12,R16
    036EC 2D4C      MOV	R20,R12
(0186) 	 lcd_write_char_con(y, 0x30|time_cacah>>4);
    036ED 2F24      MOV	R18,R20
    036EE 9522      SWAP	R18
    036EF 702F      ANDI	R18,0xF
    036F0 6320      ORI	R18,0x30
    036F1 2D0A      MOV	R16,R10
    036F2 940E 0643 CALL	_lcd_write_char_con
(0187) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F));
    036F4 2F24      MOV	R18,R20
    036F5 702F      ANDI	R18,0xF
    036F6 6320      ORI	R18,0x30
    036F7 2D0A      MOV	R16,R10
    036F8 940E 0643 CALL	_lcd_write_char_con
(0188) 	 lcd_write_char_con(y,':');
    036FA E32A      LDI	R18,0x3A
    036FB 2D0A      MOV	R16,R10
    036FC 940E 0643 CALL	_lcd_write_char_con
(0189) 	//秒
(0190) 	time_cacah=Read1307(0x00);
    036FE 2700      CLR	R16
    036FF DF42      RCALL	_Read1307
    03700 0168      MOVW	R12,R16
    03701 2D4C      MOV	R20,R12
(0191) 	 lcd_write_char_con(y, 0x30|(time_cacah>>4));
    03702 2F24      MOV	R18,R20
    03703 9522      SWAP	R18
    03704 702F      ANDI	R18,0xF
    03705 6320      ORI	R18,0x30
    03706 2D0A      MOV	R16,R10
    03707 940E 0643 CALL	_lcd_write_char_con
(0192) 	 lcd_write_char_con(y,0x30|(time_cacah &0x0F));
FILE: <library>
    03709 2F24      MOV	R18,R20
    0370A 702F      ANDI	R18,0xF
    0370B 6320      ORI	R18,0x30
    0370C 2D0A      MOV	R16,R10
    0370D 940E 0643 CALL	_lcd_write_char_con
    0370F 940C 37C6 JMP	pop_xgset303C
push_arg4:
    03711 933A      ST	-Y,R19
    03712 932A      ST	-Y,R18
push_arg2:
    03713 931A      ST	-Y,R17
    03714 930A      ST	-Y,R16
    03715 9508      RET
asr16:
    03716 2322      TST	R18
    03717 F021      BEQ	0x371C
    03718 9515      ASR	R17
    03719 9507      ROR	R16
    0371A 952A      DEC	R18
    0371B CFFA      RJMP	asr16
    0371C 9508      RET
mod16s:
    0371D 9468      BSET	6
    0371E 92DA      ST	-Y,R13
    0371F 2ED1      MOV	R13,R17
    03720 C004      RJMP	0x3725
div16s:
    03721 94E8      BCLR	6
    03722 92DA      ST	-Y,R13
    03723 2ED1      MOV	R13,R17
    03724 26D3      EOR	R13,R19
    03725 FF17      SBRS	R17,7
    03726 C004      RJMP	0x372B
    03727 9510      COM	R17
    03728 9500      COM	R16
    03729 5F0F      SUBI	R16,0xFF
    0372A 4F1F      SBCI	R17,0xFF
    0372B FF37      SBRS	R19,7
    0372C C004      RJMP	0x3731
    0372D 9530      COM	R19
    0372E 9520      COM	R18
    0372F 5F2F      SUBI	R18,0xFF
    03730 4F3F      SBCI	R19,0xFF
    03731 940E 373E CALL	xdiv16u
    03733 FED7      SBRS	R13,7
    03734 C004      RJMP	0x3739
    03735 9510      COM	R17
    03736 9500      COM	R16
    03737 5F0F      SUBI	R16,0xFF
    03738 4F1F      SBCI	R17,0xFF
    03739 90D9      LD	R13,Y+
    0373A 9508      RET
mod16u:
    0373B 9468      BSET	6
    0373C C001      RJMP	xdiv16u
div16u:
    0373D 94E8      BCLR	6
xdiv16u:
    0373E 92EA      ST	-Y,R14
    0373F 92FA      ST	-Y,R15
    03740 938A      ST	-Y,R24
    03741 24EE      CLR	R14
    03742 24FF      CLR	R15
    03743 E180      LDI	R24,0x10
    03744 0F00      LSL	R16
    03745 1F11      ROL	R17
    03746 1CEE      ROL	R14
    03747 1CFF      ROL	R15
    03748 16E2      CP	R14,R18
    03749 06F3      CPC	R15,R19
    0374A F018      BCS	0x374E
    0374B 1AE2      SUB	R14,R18
    0374C 0AF3      SBC	R15,R19
    0374D 9503      INC	R16
    0374E 958A      DEC	R24
    0374F F7A1      BNE	0x3744
    03750 F416      BRTC	0x3753
    03751 2D0E      MOV	R16,R14
    03752 2D1F      MOV	R17,R15
    03753 9189      LD	R24,Y+
    03754 90F9      LD	R15,Y+
    03755 90E9      LD	R14,Y+
    03756 9508      RET
elpm32:
    03757 93EA      ST	-Y,R30
    03758 93FA      ST	-Y,R31
    03759 920A      ST	-Y,R0
    0375A 2FE0      MOV	R30,R16
    0375B 2FF1      MOV	R31,R17
    0375C 95D8      ELPM
    0375D 2D00      MOV	R16,R0
    0375E 9631      ADIW	R30,1
    0375F 95D8      ELPM
    03760 2D10      MOV	R17,R0
    03761 9631      ADIW	R30,1
    03762 95D8      ELPM
    03763 2D20      MOV	R18,R0
    03764 9631      ADIW	R30,1
    03765 95D8      ELPM
    03766 2D30      MOV	R19,R0
    03767 9009      LD	R0,Y+
    03768 91F9      LD	R31,Y+
    03769 91E9      LD	R30,Y+
    0376A 9508      RET
empy16s:
    0376B 920A      ST	-Y,R0
    0376C 921A      ST	-Y,R1
    0376D 938A      ST	-Y,R24
    0376E 939A      ST	-Y,R25
    0376F 9F02      MUL	R16,R18
    03770 01C0      MOVW	R24,R0
    03771 9F12      MUL	R17,R18
    03772 0D90      ADD	R25,R0
    03773 9F03      MUL	R16,R19
    03774 0D90      ADD	R25,R0
    03775 018C      MOVW	R16,R24
    03776 9199      LD	R25,Y+
    03777 9189      LD	R24,Y+
    03778 9019      LD	R1,Y+
    03779 9009      LD	R0,Y+
    0377A 9508      RET
pop_xgset003C:
    0377B 90A9      LD	R10,Y+
    0377C 90B9      LD	R11,Y+
    0377D 90C9      LD	R12,Y+
    0377E 90D9      LD	R13,Y+
    0377F 9508      RET
pop_xgset00FC:
    03780 90A9      LD	R10,Y+
    03781 90B9      LD	R11,Y+
    03782 90C9      LD	R12,Y+
    03783 90D9      LD	R13,Y+
    03784 90E9      LD	R14,Y+
    03785 90F9      LD	R15,Y+
    03786 9508      RET
pop_xgsetF0FC:
    03787 90A9      LD	R10,Y+
    03788 90B9      LD	R11,Y+
    03789 90C9      LD	R12,Y+
    0378A 90D9      LD	R13,Y+
    0378B 90E9      LD	R14,Y+
    0378C 90F9      LD	R15,Y+
    0378D 9149      LD	R20,Y+
    0378E 9159      LD	R21,Y+
    0378F 9169      LD	R22,Y+
    03790 9179      LD	R23,Y+
    03791 9508      RET
push_xgsetF0FC:
    03792 937A      ST	-Y,R23
    03793 936A      ST	-Y,R22
push_xgset30FC:
    03794 935A      ST	-Y,R21
    03795 934A      ST	-Y,R20
push_xgset00FC:
    03796 92FA      ST	-Y,R15
    03797 92EA      ST	-Y,R14
push_xgset003C:
    03798 92DA      ST	-Y,R13
    03799 92CA      ST	-Y,R12
    0379A 92BA      ST	-Y,R11
    0379B 92AA      ST	-Y,R10
    0379C 9508      RET
push_xgset300C:
    0379D 935A      ST	-Y,R21
    0379E 934A      ST	-Y,R20
    0379F 92BA      ST	-Y,R11
    037A0 92AA      ST	-Y,R10
    037A1 9508      RET
pop_xgset300C:
    037A2 90A9      LD	R10,Y+
    037A3 90B9      LD	R11,Y+
    037A4 9149      LD	R20,Y+
    037A5 9159      LD	R21,Y+
    037A6 9508      RET
push_xgsetF000:
    037A7 937A      ST	-Y,R23
    037A8 936A      ST	-Y,R22
    037A9 935A      ST	-Y,R21
    037AA 934A      ST	-Y,R20
    037AB 9508      RET
pop_xgsetF000:
    037AC 9149      LD	R20,Y+
    037AD 9159      LD	R21,Y+
    037AE 9169      LD	R22,Y+
    037AF 9179      LD	R23,Y+
    037B0 9508      RET
push_xgsetF00C:
    037B1 937A      ST	-Y,R23
    037B2 936A      ST	-Y,R22
    037B3 935A      ST	-Y,R21
    037B4 934A      ST	-Y,R20
    037B5 92BA      ST	-Y,R11
    037B6 92AA      ST	-Y,R10
    037B7 9508      RET
pop_xgsetF00C:
    037B8 90A9      LD	R10,Y+
    037B9 90B9      LD	R11,Y+
    037BA 9149      LD	R20,Y+
    037BB 9159      LD	R21,Y+
    037BC 9169      LD	R22,Y+
    037BD 9179      LD	R23,Y+
    037BE 9508      RET
push_xgset303C:
    037BF 935A      ST	-Y,R21
    037C0 934A      ST	-Y,R20
    037C1 92DA      ST	-Y,R13
    037C2 92CA      ST	-Y,R12
    037C3 92BA      ST	-Y,R11
    037C4 92AA      ST	-Y,R10
    037C5 9508      RET
pop_xgset303C:
    037C6 90A9      LD	R10,Y+
    037C7 90B9      LD	R11,Y+
    037C8 90C9      LD	R12,Y+
    037C9 90D9      LD	R13,Y+
    037CA 9149      LD	R20,Y+
    037CB 9159      LD	R21,Y+
    037CC 9508      RET
push_xgsetF03C:
    037CD 937A      ST	-Y,R23
    037CE 936A      ST	-Y,R22
    037CF 935A      ST	-Y,R21
    037D0 934A      ST	-Y,R20
    037D1 92DA      ST	-Y,R13
    037D2 92CA      ST	-Y,R12
    037D3 92BA      ST	-Y,R11
    037D4 92AA      ST	-Y,R10
    037D5 9508      RET
pop_xgsetF03C:
    037D6 90A9      LD	R10,Y+
    037D7 90B9      LD	R11,Y+
    037D8 90C9      LD	R12,Y+
    037D9 90D9      LD	R13,Y+
    037DA 9149      LD	R20,Y+
    037DB 9159      LD	R21,Y+
    037DC 9169      LD	R22,Y+
    037DD 9179      LD	R23,Y+
    037DE 9508      RET
neg32:
    037DF 9500      COM	R16
    037E0 9510      COM	R17
    037E1 9520      COM	R18
    037E2 9530      COM	R19
    037E3 5F0F      SUBI	R16,0xFF
    037E4 4F1F      SBCI	R17,0xFF
    037E5 4F2F      SBCI	R18,0xFF
    037E6 4F3F      SBCI	R19,0xFF
    037E7 9508      RET
lsl8:
    037E8 2311      TST	R17
    037E9 F019      BEQ	0x37ED
    037EA 0F00      LSL	R16
    037EB 951A      DEC	R17
    037EC CFFB      RJMP	lsl8
    037ED 9508      RET
asgnblk:
    037EE 93AA      ST	-Y,R26
    037EF 93BA      ST	-Y,R27
    037F0 93EA      ST	-Y,R30
    037F1 93FA      ST	-Y,R31
    037F2 920A      ST	-Y,R0
    037F3 81AF      LDD	R26,Y+7
    037F4 85B8      LDD	R27,Y+8
    037F5 81ED      LDD	R30,Y+5
    037F6 81FE      LDD	R31,Y+6
    037F7 3000      CPI	R16,0
    037F8 0701      CPC	R16,R17
    037F9 F029      BEQ	0x37FF
    037FA 9001      LD	R0,Z+
    037FB 920D      ST	X+,R0
    037FC 5001      SUBI	R16,1
    037FD 4010      SBCI	R17,0
    037FE CFF8      RJMP	0x37F7
    037FF 9009      LD	R0,Y+
    03800 91F9      LD	R31,Y+
    03801 91E9      LD	R30,Y+
    03802 91B9      LD	R27,Y+
    03803 91A9      LD	R26,Y+
    03804 9624      ADIW	R28,4
    03805 9508      RET
fpsub:
    03806 9468      BSET	6
    03807 C001      RJMP	fpadd_alt
fpadd:
    03808 94E8      BCLR	6
fpadd_alt:
    03809 940E 3A16 CALL	saveFPRegs
    0380B 940E 39A8 CALL	unpacks
    0380D F409      BNE	0x380F
    0380E C048      RJMP	0x3857
    0380F 2CE6      MOV	R14,R6
    03810 2CD5      MOV	R13,R5
    03811 2CC4      MOV	R12,R4
    03812 2EB3      MOV	R11,R19
    03813 2EA2      MOV	R10,R18
    03814 2E91      MOV	R9,R17
    03815 2E80      MOV	R8,R16
    03816 8100      LD	R16,Z
    03817 8111      LDD	R17,Z+1
    03818 8122      LDD	R18,Z+2
    03819 8133      LDD	R19,Z+3
    0381A 940E 39A8 CALL	unpacks
    0381C F409      BNE	0x381E
    0381D C044      RJMP	0x3862
    0381E 2D84      MOV	R24,R4
    0381F 2D95      MOV	R25,R5
    03820 198C      SUB	R24,R12
    03821 099D      SBC	R25,R13
    03822 F0B9      BEQ	0x383A
    03823 F472      BPL	0x3832
    03824 9590      COM	R25
    03825 9580      COM	R24
    03826 9601      ADIW	R24,1
    03827 2C4C      MOV	R4,R12
    03828 2C5D      MOV	R5,R13
    03829 3188      CPI	R24,0x18
    0382A F5B8      BCC	0x3862
    0382B 9535      ASR	R19
    0382C 9527      ROR	R18
    0382D 9517      ROR	R17
    0382E 9507      ROR	R16
    0382F 9701      SBIW	R24,1
    03830 F7D1      BNE	0x382B
    03831 C008      RJMP	0x383A
    03832 3188      CPI	R24,0x18
    03833 F518      BCC	0x3857
    03834 94B5      ASR	R11
    03835 94A7      ROR	R10
    03836 9497      ROR	R9
    03837 9487      ROR	R8
    03838 9701      SBIW	R24,1
    03839 F7D1      BNE	0x3834
    0383A 2466      CLR	R6
    0383B F02E      BRTS	0x3841
    0383C 0D08      ADD	R16,R8
    0383D 1D19      ADC	R17,R9
    0383E 1D2A      ADC	R18,R10
    0383F 1D3B      ADC	R19,R11
    03840 C009      RJMP	0x384A
    03841 1A80      SUB	R8,R16
    03842 0A91      SBC	R9,R17
    03843 0AA2      SBC	R10,R18
    03844 0AB3      SBC	R11,R19
    03845 2D08      MOV	R16,R8
    03846 2D19      MOV	R17,R9
    03847 2D2A      MOV	R18,R10
    03848 2D3B      MOV	R19,R11
    03849 2333      TST	R19
    0384A F422      BPL	0x384F
    0384B 940E 37DF CALL	neg32
    0384D E880      LDI	R24,0x80
    0384E 2E68      MOV	R6,R24
    0384F 940E 39D1 CALL	normalize_and_pack
    03851 C002      RJMP	0x3854
    03852 940E 3A06 CALL	pack
    03854 940E 3A25 CALL	restoreFPRegs
    03856 9508      RET
    03857 8100      LD	R16,Z
    03858 8111      LDD	R17,Z+1
    03859 8122      LDD	R18,Z+2
    0385A 8133      LDD	R19,Z+3
    0385B F7C6      BRTC	0x3854
    0385C 940E 39B0 CALL	tstR16_R19
    0385E F3A9      BEQ	0x3854
    0385F E880      LDI	R24,0x80
    03860 2738      EOR	R19,R24
    03861 CFF2      RJMP	0x3854
    03862 2D08      MOV	R16,R8
    03863 2D19      MOV	R17,R9
    03864 2D2A      MOV	R18,R10
    03865 2D3B      MOV	R19,R11
    03866 2C4C      MOV	R4,R12
    03867 2C5D      MOV	R5,R13
    03868 2C6E      MOV	R6,R14
    03869 2333      TST	R19
    0386A F73A      BPL	0x3852
    0386B 940E 37DF CALL	neg32
    0386D E880      LDI	R24,0x80
    0386E 2E68      MOV	R6,R24
    0386F CFE2      RJMP	0x3852
fpadd1x:
    03870 93FA      ST	-Y,R31
    03871 93EA      ST	-Y,R30
    03872 81EA      LDD	R30,Y+2
    03873 81FB      LDD	R31,Y+3
    03874 940E 3808 CALL	fpadd
    03876 91E9      LD	R30,Y+
    03877 91F9      LD	R31,Y+
    03878 8339      STD	Y+1,R19
    03879 8328      ST	Y,R18
    0387A 931A      ST	-Y,R17
    0387B 930A      ST	-Y,R16
    0387C 9508      RET
fpadd2:
    0387D 93FA      ST	-Y,R31
    0387E 93EA      ST	-Y,R30
    0387F 2FEC      MOV	R30,R28
    03880 2FFD      MOV	R31,R29
    03881 9632      ADIW	R30,2
    03882 940E 3808 CALL	fpadd
    03884 91E9      LD	R30,Y+
    03885 91F9      LD	R31,Y+
    03886 9624      ADIW	R28,4
    03887 9508      RET
fpsub1:
    03888 93FA      ST	-Y,R31
    03889 93EA      ST	-Y,R30
    0388A 81EA      LDD	R30,Y+2
    0388B 81FB      LDD	R31,Y+3
    0388C 940E 3806 CALL	fpsub
    0388E 91E9      LD	R30,Y+
    0388F 91F9      LD	R31,Y+
    03890 9622      ADIW	R28,2
    03891 9508      RET
fpsub2:
    03892 93FA      ST	-Y,R31
    03893 93EA      ST	-Y,R30
    03894 2FEC      MOV	R30,R28
    03895 2FFD      MOV	R31,R29
    03896 9632      ADIW	R30,2
    03897 940E 3806 CALL	fpsub
    03899 91E9      LD	R30,Y+
    0389A 91F9      LD	R31,Y+
    0389B 9624      ADIW	R28,4
    0389C 9508      RET
fpsub1x:
    0389D 93FA      ST	-Y,R31
    0389E 93EA      ST	-Y,R30
    0389F 81EA      LDD	R30,Y+2
    038A0 81FB      LDD	R31,Y+3
    038A1 940E 3806 CALL	fpsub
    038A3 91E9      LD	R30,Y+
    038A4 91F9      LD	R31,Y+
    038A5 8339      STD	Y+1,R19
    038A6 8328      ST	Y,R18
    038A7 931A      ST	-Y,R17
    038A8 930A      ST	-Y,R16
    038A9 9508      RET
fpsub2x:
    038AA 93FA      ST	-Y,R31
    038AB 93EA      ST	-Y,R30
    038AC 2FEC      MOV	R30,R28
    038AD 2FFD      MOV	R31,R29
    038AE 9632      ADIW	R30,2
    038AF 940E 3806 CALL	fpsub
    038B1 91E9      LD	R30,Y+
    038B2 91F9      LD	R31,Y+
    038B3 833B      STD	Y+3,R19
    038B4 832A      STD	Y+2,R18
    038B5 8319      STD	Y+1,R17
    038B6 8308      ST	Y,R16
    038B7 9508      RET
fpint:
    038B8 924A      ST	-Y,R4
    038B9 925A      ST	-Y,R5
    038BA 926A      ST	-Y,R6
    038BB 938A      ST	-Y,R24
    038BC 940E 39B8 CALL	unpacku
    038BE F111      BEQ	0x38E1
    038BF 2055      TST	R5
    038C0 F0E2      BMI	0x38DD
    038C1 E18F      LDI	R24,0x1F
    038C2 1648      CP	R4,R24
    038C3 F4C0      BCC	0x38DC
    038C4 E187      LDI	R24,0x17
    038C5 1648      CP	R4,R24
    038C6 F0D1      BEQ	0x38E1
    038C7 F458      BCC	0x38D3
    038C8 9441      NEG	R4
    038C9 EE89      LDI	R24,0xE9
    038CA 1A48      SUB	R4,R24
    038CB C005      RJMP	0x38D1
    038CC 9535      ASR	R19
    038CD 9527      ROR	R18
    038CE 9517      ROR	R17
    038CF 9507      ROR	R16
    038D0 944A      DEC	R4
    038D1 F7D1      BNE	0x38CC
    038D2 C00E      RJMP	0x38E1
    038D3 E187      LDI	R24,0x17
    038D4 1A48      SUB	R4,R24
    038D5 0F00      LSL	R16
    038D6 1F11      ROL	R17
    038D7 1F22      ROL	R18
    038D8 1F33      ROL	R19
    038D9 944A      DEC	R4
    038DA F7D1      BNE	0x38D5
    038DB C005      RJMP	0x38E1
    038DC E73F      LDI	R19,0x7F
    038DD 2F23      MOV	R18,R19
    038DE 2F13      MOV	R17,R19
    038DF 2F03      MOV	R16,R19
    038E0 C004      RJMP	0x38E5
    038E1 2066      TST	R6
    038E2 F011      BEQ	0x38E5
    038E3 940E 37DF CALL	neg32
    038E5 9189      LD	R24,Y+
    038E6 9069      LD	R6,Y+
    038E7 9059      LD	R5,Y+
    038E8 9049      LD	R4,Y+
    038E9 9508      RET
uint2fp:
    038EA 9468      BSET	6
    038EB C001      RJMP	0x38ED
int2fp:
    038EC 94E8      BCLR	6
    038ED 2722      CLR	R18
    038EE 2733      CLR	R19
    038EF F046      BRTS	0x38F8
    038F0 FD17      SBRC	R17,7
    038F1 9520      COM	R18
    038F2 FD17      SBRC	R17,7
    038F3 9530      COM	R19
    038F4 C003      RJMP	0x38F8
ulong2fp:
    038F5 9468      BSET	6
    038F6 C001      RJMP	0x38F8
long2fp:
    038F7 94E8      BCLR	6
    038F8 924A      ST	-Y,R4
    038F9 925A      ST	-Y,R5
    038FA 926A      ST	-Y,R6
    038FB 938A      ST	-Y,R24
    038FC E187      LDI	R24,0x17
    038FD 2E48      MOV	R4,R24
    038FE 2455      CLR	R5
    038FF 2466      CLR	R6
    03900 F036      BRTS	0x3907
    03901 2333      TST	R19
    03902 F422      BPL	0x3907
    03903 940E 37DF CALL	neg32
    03905 E880      LDI	R24,0x80
    03906 2E68      MOV	R6,R24
    03907 940E 39D1 CALL	normalize_and_pack
    03909 9189      LD	R24,Y+
    0390A 9069      LD	R6,Y+
    0390B 9059      LD	R5,Y+
    0390C 9049      LD	R4,Y+
    0390D 9508      RET
fpdiv1:
    0390E 93FA      ST	-Y,R31
    0390F 93EA      ST	-Y,R30
    03910 81EA      LDD	R30,Y+2
    03911 81FB      LDD	R31,Y+3
    03912 D027      RCALL	0x393A
    03913 91E9      LD	R30,Y+
    03914 91F9      LD	R31,Y+
    03915 9622      ADIW	R28,2
    03916 9508      RET
fpdiv2:
    03917 93FA      ST	-Y,R31
    03918 93EA      ST	-Y,R30
    03919 2FEC      MOV	R30,R28
    0391A 2FFD      MOV	R31,R29
    0391B 9632      ADIW	R30,2
    0391C D01D      RCALL	0x393A
    0391D 91E9      LD	R30,Y+
    0391E 91F9      LD	R31,Y+
    0391F 9624      ADIW	R28,4
    03920 9508      RET
fpdiv1x:
    03921 93FA      ST	-Y,R31
    03922 93EA      ST	-Y,R30
    03923 81EA      LDD	R30,Y+2
    03924 81FB      LDD	R31,Y+3
    03925 D014      RCALL	0x393A
    03926 91E9      LD	R30,Y+
    03927 91F9      LD	R31,Y+
    03928 8339      STD	Y+1,R19
    03929 8328      ST	Y,R18
    0392A 931A      ST	-Y,R17
    0392B 930A      ST	-Y,R16
    0392C 9508      RET
fpdiv2x:
    0392D 93FA      ST	-Y,R31
    0392E 93EA      ST	-Y,R30
    0392F 2FEC      MOV	R30,R28
    03930 2FFD      MOV	R31,R29
    03931 9632      ADIW	R30,2
    03932 D007      RCALL	0x393A
    03933 91E9      LD	R30,Y+
    03934 91F9      LD	R31,Y+
    03935 833B      STD	Y+3,R19
    03936 832A      STD	Y+2,R18
    03937 8319      STD	Y+1,R17
    03938 8308      ST	Y,R16
    03939 9508      RET
    0393A 920A      ST	-Y,R0
    0393B 921A      ST	-Y,R1
    0393C 922A      ST	-Y,R2
    0393D 923A      ST	-Y,R3
    0393E 940E 3A16 CALL	saveFPRegs
    03940 933A      ST	-Y,R19
    03941 932A      ST	-Y,R18
    03942 931A      ST	-Y,R17
    03943 930A      ST	-Y,R16
    03944 8100      LD	R16,Z
    03945 8111      LDD	R17,Z+1
    03946 8122      LDD	R18,Z+2
    03947 8133      LDD	R19,Z+3
    03948 940E 39B8 CALL	unpacku
    0394A F409      BNE	0x394C
    0394B C057      RJMP	0x39A3
    0394C 2CE6      MOV	R14,R6
    0394D 2CD5      MOV	R13,R5
    0394E 2CC4      MOV	R12,R4
    0394F 2EB3      MOV	R11,R19
    03950 2EA2      MOV	R10,R18
    03951 2E91      MOV	R9,R17
    03952 2E80      MOV	R8,R16
    03953 9109      LD	R16,Y+
    03954 9119      LD	R17,Y+
    03955 9129      LD	R18,Y+
    03956 9139      LD	R19,Y+
    03957 940E 39B8 CALL	unpacku
    03959 F1A1      BEQ	0x398E
    0395A 246E      EOR	R6,R14
    0395B 184C      SUB	R4,R12
    0395C 085D      SBC	R5,R13
    0395D E880      LDI	R24,0x80
    0395E 1648      CP	R4,R24
    0395F 0653      CPC	R5,R19
    03960 F00C      BLT	0x3962
    03961 C033      RJMP	0x3995
    03962 E881      LDI	R24,0x81
    03963 1648      CP	R4,R24
    03964 EF8F      LDI	R24,0xFF
    03965 0658      CPC	R5,R24
    03966 F40C      BGE	0x3968
    03967 C036      RJMP	0x399E
    03968 E280      LDI	R24,0x20
    03969 2433      CLR	R3
    0396A 2E23      MOV	R2,R19
    0396B 2E12      MOV	R1,R18
    0396C 2E01      MOV	R0,R17
    0396D 2F30      MOV	R19,R16
    0396E 2722      CLR	R18
    0396F 2711      CLR	R17
    03970 2700      CLR	R16
    03971 9426      LSR	R2
    03972 9417      ROR	R1
    03973 9407      ROR	R0
    03974 9537      ROR	R19
    03975 9527      ROR	R18
    03976 0F00      LSL	R16
    03977 1F11      ROL	R17
    03978 1F22      ROL	R18
    03979 1F33      ROL	R19
    0397A 1C00      ROL	R0
    0397B 1C11      ROL	R1
    0397C 1C22      ROL	R2
    0397D 1C33      ROL	R3
    0397E F028      BCS	0x3984
    0397F 1808      SUB	R0,R8
    03980 0819      SBC	R1,R9
    03981 082A      SBC	R2,R10
    03982 083B      SBC	R3,R11
    03983 C004      RJMP	0x3988
    03984 0C08      ADD	R0,R8
    03985 1C19      ADC	R1,R9
    03986 1C2A      ADC	R2,R10
    03987 1C3B      ADC	R3,R11
    03988 F00A      BMI	0x398A
    03989 6001      ORI	R16,1
    0398A 958A      DEC	R24
    0398B F751      BNE	0x3976
    0398C 940E 39D1 CALL	normalize_and_pack
    0398E 940E 3A25 CALL	restoreFPRegs
    03990 9039      LD	R3,Y+
    03991 9029      LD	R2,Y+
    03992 9019      LD	R1,Y+
    03993 9009      LD	R0,Y+
    03994 9508      RET
    03995 EF0F      LDI	R16,0xFF
    03996 2F10      MOV	R17,R16
    03997 E72F      LDI	R18,0x7F
    03998 E73F      LDI	R19,0x7F
    03999 2066      TST	R6
    0399A F399      BEQ	0x398E
    0399B 940E 37DF CALL	neg32
    0399D CFF0      RJMP	0x398E
    0399E 2700      CLR	R16
    0399F 2F10      MOV	R17,R16
    039A0 2F20      MOV	R18,R16
    039A1 2F30      MOV	R19,R16
    039A2 CFEB      RJMP	0x398E
    039A3 9109      LD	R16,Y+
    039A4 9119      LD	R17,Y+
    039A5 9129      LD	R18,Y+
    039A6 9139      LD	R19,Y+
    039A7 CFED      RJMP	0x3995
unpacks:
    039A8 D00F      RCALL	unpacku
    039A9 F029      BEQ	0x39AF
    039AA 2066      TST	R6
    039AB F011      BEQ	0x39AE
    039AC 940E 37DF CALL	neg32
    039AE 9498      BCLR	1
    039AF 9508      RET
tstR16_R19:
    039B0 2300      TST	R16
    039B1 F429      BNE	0x39B7
    039B2 2311      TST	R17
    039B3 F419      BNE	0x39B7
    039B4 2322      TST	R18
    039B5 F409      BNE	0x39B7
    039B6 2333      TST	R19
    039B7 9508      RET
unpacku:
    039B8 DFF7      RCALL	tstR16_R19
    039B9 F099      BEQ	0x39CD
    039BA 938A      ST	-Y,R24
    039BB 2E63      MOV	R6,R19
    039BC E880      LDI	R24,0x80
    039BD 2268      AND	R6,R24
    039BE 0F22      LSL	R18
    039BF 1F33      ROL	R19
    039C0 2E43      MOV	R4,R19
    039C1 E78F      LDI	R24,0x7F
    039C2 1A48      SUB	R4,R24
    039C3 2455      CLR	R5
    039C4 2788      CLR	R24
    039C5 0A58      SBC	R5,R24
    039C6 9526      LSR	R18
    039C7 E830      LDI	R19,0x80
    039C8 2B23      OR	R18,R19
    039C9 2733      CLR	R19
    039CA 9189      LD	R24,Y+
    039CB 9498      BCLR	1
    039CC 9508      RET
    039CD 2444      CLR	R4
    039CE 2455      CLR	R5
    039CF 2466      CLR	R6
    039D0 9508      RET
normalize_and_pack:
    039D1 DFDE      RCALL	tstR16_R19
    039D2 F409      BNE	0x39D4
    039D3 9508      RET
    039D4 93AA      ST	-Y,R26
    039D5 93BA      ST	-Y,R27
    039D6 01D2      MOVW	R26,R4
    039D7 939A      ST	-Y,R25
    039D8 938A      ST	-Y,R24
    039D9 E78E      LDI	R24,0x7E
    039DA E090      LDI	R25,0
    039DB 2333      TST	R19
    039DC F049      BEQ	0x39E6
    039DD 9536      LSR	R19
    039DE 9527      ROR	R18
    039DF 9517      ROR	R17
    039E0 9507      ROR	R16
    039E1 17A8      CP	R26,R24
    039E2 07B9      CPC	R27,R25
    039E3 F4CC      BGE	0x39FD
    039E4 9611      ADIW	R26,1
    039E5 CFF5      RJMP	0x39DB
    039E6 9580      COM	R24
    039E7 9590      COM	R25
    039E8 9601      ADIW	R24,1
    039E9 2322      TST	R18
    039EA F0BA      BMI	0x3A02
    039EB 0F00      LSL	R16
    039EC 1F11      ROL	R17
    039ED 1F22      ROL	R18
    039EE 17A8      CP	R26,R24
    039EF 07B9      CPC	R27,R25
    039F0 F014      BLT	0x39F3
    039F1 9711      SBIW	R26,1
    039F2 CFF6      RJMP	0x39E9
    039F3 2700      CLR	R16
    039F4 2711      CLR	R17
    039F5 2722      CLR	R18
    039F6 2733      CLR	R19
    039F7 9189      LD	R24,Y+
    039F8 9199      LD	R25,Y+
    039F9 012D      MOVW	R4,R26
    039FA 91B9      LD	R27,Y+
    039FB 91A9      LD	R26,Y+
    039FC 9508      RET
    039FD 2733      CLR	R19
    039FE EF0F      LDI	R16,0xFF
    039FF 2F10      MOV	R17,R16
    03A00 E72F      LDI	R18,0x7F
    03A01 2F32      MOV	R19,R18
    03A02 9189      LD	R24,Y+
    03A03 9199      LD	R25,Y+
    03A04 012D      MOVW	R4,R26
    03A05 C002      RJMP	0x3A08
pack:
    03A06 93AA      ST	-Y,R26
    03A07 93BA      ST	-Y,R27
    03A08 DFA7      RCALL	tstR16_R19
    03A09 F049      BEQ	0x3A13
    03A0A 01D2      MOVW	R26,R4
    03A0B 58A1      SUBI	R26,0x81
    03A0C 4FBF      SBCI	R27,0xFF
    03A0D 012D      MOVW	R4,R26
    03A0E 2D34      MOV	R19,R4
    03A0F 0F22      LSL	R18
    03A10 9536      LSR	R19
    03A11 9527      ROR	R18
    03A12 2936      OR	R19,R6
    03A13 91B9      LD	R27,Y+
    03A14 91A9      LD	R26,Y+
    03A15 9508      RET
saveFPRegs:
    03A16 924A      ST	-Y,R4
    03A17 925A      ST	-Y,R5
    03A18 926A      ST	-Y,R6
    03A19 927A      ST	-Y,R7
    03A1A 928A      ST	-Y,R8
    03A1B 929A      ST	-Y,R9
    03A1C 92AA      ST	-Y,R10
    03A1D 92BA      ST	-Y,R11
    03A1E 92CA      ST	-Y,R12
    03A1F 92DA      ST	-Y,R13
    03A20 92EA      ST	-Y,R14
    03A21 92FA      ST	-Y,R15
    03A22 938A      ST	-Y,R24
    03A23 939A      ST	-Y,R25
    03A24 9508      RET
restoreFPRegs:
    03A25 9199      LD	R25,Y+
    03A26 9189      LD	R24,Y+
    03A27 90F9      LD	R15,Y+
    03A28 90E9      LD	R14,Y+
    03A29 90D9      LD	R13,Y+
    03A2A 90C9      LD	R12,Y+
    03A2B 90B9      LD	R11,Y+
    03A2C 90A9      LD	R10,Y+
    03A2D 9099      LD	R9,Y+
    03A2E 9089      LD	R8,Y+
    03A2F 9079      LD	R7,Y+
    03A30 9069      LD	R6,Y+
    03A31 9059      LD	R5,Y+
    03A32 9049      LD	R4,Y+
    03A33 9508      RET
fpmule:
    03A34 940E 3A16 CALL	saveFPRegs
    03A36 93AA      ST	-Y,R26
    03A37 93BA      ST	-Y,R27
    03A38 940E 39B8 CALL	unpacku
    03A3A F1E1      BEQ	0x3A77
    03A3B 2CE6      MOV	R14,R6
    03A3C 2CD5      MOV	R13,R5
    03A3D 2CC4      MOV	R12,R4
    03A3E 2EB3      MOV	R11,R19
    03A3F 2EA2      MOV	R10,R18
    03A40 2E91      MOV	R9,R17
    03A41 2E80      MOV	R8,R16
    03A42 8100      LD	R16,Z
    03A43 8111      LDD	R17,Z+1
    03A44 8122      LDD	R18,Z+2
    03A45 8133      LDD	R19,Z+3
    03A46 940E 39B8 CALL	unpacku
    03A48 F171      BEQ	0x3A77
    03A49 246E      EOR	R6,R14
    03A4A 0C4C      ADD	R4,R12
    03A4B 1C5D      ADC	R5,R13
    03A4C E880      LDI	R24,0x80
    03A4D 1648      CP	R4,R24
    03A4E 0653      CPC	R5,R19
    03A4F F564      BGE	0x3A7C
    03A50 E881      LDI	R24,0x81
    03A51 1648      CP	R4,R24
    03A52 EF8F      LDI	R24,0xFF
    03A53 0658      CPC	R5,R24
    03A54 F16C      BLT	0x3A82
    03A55 9EA2      MUL	R10,R18
    03A56 2DB1      MOV	R27,R1
    03A57 2DA0      MOV	R26,R0
    03A58 9E91      MUL	R9,R17
    03A59 2D91      MOV	R25,R1
    03A5A 2D80      MOV	R24,R0
    03A5B 9EA0      MUL	R10,R16
    03A5C 0D80      ADD	R24,R0
    03A5D 1D91      ADC	R25,R1
    03A5E 1FA3      ADC	R26,R19
    03A5F 1FB3      ADC	R27,R19
    03A60 9E82      MUL	R8,R18
    03A61 0D80      ADD	R24,R0
    03A62 1D91      ADC	R25,R1
    03A63 1FA3      ADC	R26,R19
    03A64 1FB3      ADC	R27,R19
    03A65 9E92      MUL	R9,R18
    03A66 0D90      ADD	R25,R0
    03A67 1DA1      ADC	R26,R1
    03A68 1FB3      ADC	R27,R19
    03A69 9EA1      MUL	R10,R17
    03A6A 0D90      ADD	R25,R0
    03A6B 1DA1      ADC	R26,R1
    03A6C 1FB3      ADC	R27,R19
    03A6D 2F2B      MOV	R18,R27
    03A6E 2F1A      MOV	R17,R26
    03A6F 2F09      MOV	R16,R25
    03A70 0F88      LSL	R24
    03A71 1F00      ROL	R16
    03A72 1F11      ROL	R17
    03A73 1F22      ROL	R18
    03A74 1F33      ROL	R19
    03A75 940E 39D1 CALL	normalize_and_pack
    03A77 91B9      LD	R27,Y+
    03A78 91A9      LD	R26,Y+
    03A79 940E 3A25 CALL	restoreFPRegs
    03A7B 9508      RET
    03A7C EF0F      LDI	R16,0xFF
    03A7D 2F10      MOV	R17,R16
    03A7E E72F      LDI	R18,0x7F
    03A7F E78F      LDI	R24,0x7F
    03A80 2E48      MOV	R4,R24
    03A81 CFF5      RJMP	0x3A77
    03A82 2700      CLR	R16
    03A83 2F10      MOV	R17,R16
    03A84 2F20      MOV	R18,R16
    03A85 2F30      MOV	R19,R16
    03A86 CFF0      RJMP	0x3A77
fpmule2:
    03A87 93FA      ST	-Y,R31
    03A88 93EA      ST	-Y,R30
    03A89 2FEC      MOV	R30,R28
    03A8A 2FFD      MOV	R31,R29
    03A8B 9632      ADIW	R30,2
    03A8C 940E 3A34 CALL	fpmule
    03A8E 91E9      LD	R30,Y+
    03A8F 91F9      LD	R31,Y+
    03A90 9624      ADIW	R28,4
    03A91 9508      RET
fpmule1x:
    03A92 93FA      ST	-Y,R31
    03A93 93EA      ST	-Y,R30
    03A94 81EA      LDD	R30,Y+2
    03A95 81FB      LDD	R31,Y+3
    03A96 940E 3A34 CALL	fpmule
    03A98 91E9      LD	R30,Y+
    03A99 91F9      LD	R31,Y+
    03A9A 8339      STD	Y+1,R19
    03A9B 8328      ST	Y,R18
    03A9C 931A      ST	-Y,R17
    03A9D 930A      ST	-Y,R16
    03A9E 9508      RET
fpmule2x:
    03A9F 93FA      ST	-Y,R31
    03AA0 93EA      ST	-Y,R30
    03AA1 2FEC      MOV	R30,R28
    03AA2 2FFD      MOV	R31,R29
    03AA3 9632      ADIW	R30,2
    03AA4 940E 3A34 CALL	fpmule
    03AA6 91E9      LD	R30,Y+
    03AA7 91F9      LD	R31,Y+
    03AA8 833B      STD	Y+3,R19
    03AA9 832A      STD	Y+2,R18
    03AAA 8319      STD	Y+1,R17
    03AAB 8308      ST	Y,R16
    03AAC 9508      RET
fpcmp:
    03AAD 940E 3806 CALL	fpsub
    03AAF 2333      TST	R19
    03AB0 F03A      BMI	0x3AB8
    03AB1 940E 39B0 CALL	tstR16_R19
    03AB3 F011      BEQ	0x3AB6
    03AB4 E001      LDI	R16,1
    03AB5 9508      RET
    03AB6 2700      CLR	R16
    03AB7 9508      RET
    03AB8 EF0F      LDI	R16,0xFF
    03AB9 9508      RET
fpcmp2:
    03ABA 93FA      ST	-Y,R31
    03ABB 93EA      ST	-Y,R30
    03ABC 2FEC      MOV	R30,R28
    03ABD 2FFD      MOV	R31,R29
    03ABE 9632      ADIW	R30,2
    03ABF 940E 3AAD CALL	fpcmp
    03AC1 91E9      LD	R30,Y+
    03AC2 91F9      LD	R31,Y+
    03AC3 9624      ADIW	R28,4
    03AC4 2300      TST	R16
    03AC5 9508      RET
