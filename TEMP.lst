Interrupt Vectors
    00000 940C 0392 JMP	__start|__text_start
    00014 940C 0BDA JMP	_int_timer2
    0001C 940C 0B89 JMP	_int_timer1
    00020 940C 0B3B JMP	_int_timer0
    0003A 940C 0C2B JMP	_int_timer3

Program Code (text area)
__start|__text_start:
    00392 EFCF      LDI	R28,0xFF
    00393 E1D0      LDI	R29,0x10
    00394 BFCD      OUT	0x3D,R28
    00395 BFDE      OUT	0x3E,R29
    00396 51CE      SUBI	R28,0x1E
    00397 40D0      SBCI	R29,0
    00398 EA0A      LDI	R16,0xAA
    00399 8308      ST	Y,R16
    0039A 2400      CLR	R0
    0039B E9E7      LDI	R30,0x97
    0039C E0F7      LDI	R31,7
    0039D E01C      LDI	R17,0xC
    0039E 36E2      CPI	R30,0x62
    0039F 07F1      CPC	R31,R17
    003A0 F011      BEQ	0x03A3
    003A1 9201      ST	Z+,R0
    003A2 CFFB      RJMP	0x039E
    003A3 8300      ST	Z,R16
    003A4 E8EC      LDI	R30,0x8C
    003A5 E0F0      LDI	R31,0
    003A6 E0A0      LDI	R26,0
    003A7 E0B1      LDI	R27,1
    003A8 E017      LDI	R17,7
    003A9 E000      LDI	R16,0
    003AA BF0B      OUT	0x3B,R16
    003AB 32E3      CPI	R30,0x23
    003AC 07F1      CPC	R31,R17
    003AD F021      BEQ	0x03B2
    003AE 95C8      LPM
    003AF 9631      ADIW	R30,1
    003B0 920D      ST	X+,R0
    003B1 CFF9      RJMP	0x03AB
    003B2 940E 0AD6 CALL	_main
_exit:
    003B4 CFFF      RJMP	_exit
FILE: E:\ICCDemo\Temp_Control\temp_control\delay.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) 
(0004) 
(0005) void delay_us(uint n)//延时us
(0006) {
(0007)   n=2*n;
_delay_us:
  n                    --> R16
    003B5 0F00      LSL	R16
    003B6 1F11      ROL	R17
(0008)   do{ n--;
    003B7 5001      SUBI	R16,1
    003B8 4010      SBCI	R17,0
(0009)   }while(n>1);
    003B9 E081      LDI	R24,1
    003BA E090      LDI	R25,0
    003BB 1780      CP	R24,R16
    003BC 0791      CPC	R25,R17
    003BD F3C8      BCS	0x03B7
    003BE 9508      RET
_delay_ms:
  j                    --> R20
    003BF 934A      ST	-Y,R20
    003C0 935A      ST	-Y,R21
    003C1 01A8      MOVW	R20,R16
(0010) }
(0011) void delay_ms(uint j)//延时ms
(0012) {
(0013)    do{j--;
    003C2 5041      SUBI	R20,1
    003C3 4050      SBCI	R21,0
(0014)      delay_us(1141);
    003C4 E705      LDI	R16,0x75
    003C5 E014      LDI	R17,4
    003C6 DFEE      RCALL	_delay_us
(0015)    }while(j>1);
    003C7 E081      LDI	R24,1
    003C8 E090      LDI	R25,0
    003C9 1784      CP	R24,R20
    003CA 0795      CPC	R25,R21
    003CB F3B0      BCS	0x03C2
    003CC 9159      LD	R21,Y+
    003CD 9149      LD	R20,Y+
    003CE 9508      RET
_delay_s:
  i                    --> R20
    003CF 934A      ST	-Y,R20
    003D0 935A      ST	-Y,R21
    003D1 01A8      MOVW	R20,R16
(0016) }
(0017) void delay_s(uint i)
(0018) {
(0019)    do{
(0020)    i--;
    003D2 5041      SUBI	R20,1
    003D3 4050      SBCI	R21,0
(0021)    delay_ms(1000);
    003D4 EE08      LDI	R16,0xE8
    003D5 E013      LDI	R17,3
    003D6 DFE8      RCALL	_delay_ms
(0022)    }while(i>1);
    003D7 E081      LDI	R24,1
    003D8 E090      LDI	R25,0
    003D9 1784      CP	R24,R20
    003DA 0795      CPC	R25,R21
    003DB F3B0      BCS	0x03D2
    003DC 9159      LD	R21,Y+
    003DD 9149      LD	R20,Y+
    003DE 9508      RET
_Write1302:
  temp                 --> R10
  i                    --> R20
  dat                  --> R18
  addr                 --> R16
    003DF 92AA      ST	-Y,R10
    003E0 934A      ST	-Y,R20
FILE: E:\ICCDemo\Temp_Control\temp_control\time.c
(0001) #include<iom128v.h>
(0002) #include "time.h"
(0003) #include "delay.h"
(0004) #include "lcd.h"
(0005) //寄存器宏定义
(0006) #define WRITE_SECOND 0x80
(0007) #define WRITE_MINUTE 0x82 
(0008) #define WRITE_HOUR 0x84
(0009) #define WRITE_DAY 0x86
(0010) #define WRITE_MONTH 0x88 
(0011) #define WRITE_WEEK 0x8A
(0012) #define WRITE_YEAE 0x8C
(0013) #define WRITE_PROTECT 0x8E 
(0014) 
(0015) #define READ_SECOND 0x81 
(0016) #define READ_MINUTE 0x83 
(0017) #define READ_HOUR 0x85 
(0018) #define READ_DAY 0x87
(0019) #define READ_MONTH 0x89
(0020) #define READ_WEEK 0x8B
(0021) #define READ_YEAE 0x8D
(0022) #define READ_PROTECT 0x8F
(0023) 
(0024) 
(0025) #define  SCLK_H  PORTD|=1<<PD0 //
(0026) #define  SCLK_L  PORTD&=~(1<<PD0) //
(0027) #define  DIO    PORTD&(~(1<<PD1)) //会获得PB1的值，判断是否等于0来确定值
(0028) #define  DIO_H   PORTD|=1<<PD1 //
(0029) #define  DIO_L  PORTD&=~(1<<PD1)  //
(0030) #define  CE_H    PORTD|=1<<PD2
(0031) #define  CE_L   PORTD&=~(1<<PD2) 
(0032) 
(0033) 
(0034) //地址、数据发送子程序
(0035) void Write1302  ( unsigned char  addr,unsigned char dat )
(0036) { 
(0037)   unsigned char  i,temp; 
(0038)   CE_L; //CE引脚为低，数据传送中止
    003E1 9892      CBI	0x12,2
(0039)   SCLK_L;//清零时钟总线?
    003E2 9890      CBI	0x12,0
(0040)   CE_H;//CE引脚为高，逻辑控制有效
    003E3 9A92      SBI	0x12,2
(0041)   //发送地址?
(0042)     for ( i=8; i>0; i-- ) //循环8次移位
    003E4 E048      LDI	R20,0x8
    003E5 C00A      RJMP	0x03F0
(0043)     { 
(0044)        SCLK_L;
    003E6 9890      CBI	0x12,0
(0045) 	   temp=addr;
    003E7 2EA0      MOV	R10,R16
(0046)        if((temp&0x01))//每次传输低字节
    003E8 FF00      SBRS	R16,0
    003E9 C002      RJMP	0x03EC
(0047) 	   {
(0048) 	   	DIO_H;
    003EA 9A91      SBI	0x12,1
(0049) 	   }else{
    003EB C001      RJMP	0x03ED
(0050) 	   DIO_L;
    003EC 9891      CBI	0x12,1
(0051) 	   }
(0052)        addr>>=1;//右移一位
    003ED 9506      LSR	R16
(0053) 			  SCLK_H;
    003EE 9A90      SBI	0x12,0
    003EF 954A      DEC	R20
    003F0 E080      LDI	R24,0
    003F1 1784      CP	R24,R20
    003F2 F398      BCS	0x03E6
(0054)  }
(0055) //发送数据?
(0056) for(i=8;i>0;i--){
    003F3 E048      LDI	R20,0x8
    003F4 C00A      RJMP	0x03FF
(0057)    SCLK_L; 
    003F5 9890      CBI	0x12,0
(0058)    temp=dat;
    003F6 2EA2      MOV	R10,R18
(0059)    if((temp&0x01))//每次传输低字节
    003F7 FF20      SBRS	R18,0
    003F8 C002      RJMP	0x03FB
(0060) 	   {
(0061) 	   	DIO_H;
    003F9 9A91      SBI	0x12,1
(0062) 	   }else{
    003FA C001      RJMP	0x03FC
(0063) 	   DIO_L;
    003FB 9891      CBI	0x12,1
(0064) 	   }
(0065) 	dat>>=1;
    003FC 9526      LSR	R18
(0066)     SCLK_H;
    003FD 9A90      SBI	0x12,0
    003FE 954A      DEC	R20
    003FF E080      LDI	R24,0
    00400 1784      CP	R24,R20
    00401 F398      BCS	0x03F5
(0067)   }
(0068)    CE_L;
    00402 9892      CBI	0x12,2
    00403 9149      LD	R20,Y+
    00404 90A9      LD	R10,Y+
    00405 9508      RET
_Read1302:
  data                 --> R10
  temp                 --> R14
  i                    --> R20
  addr                 --> R12
    00406 940E 21BB CALL	push_xgset30FC
    00408 2EC0      MOV	R12,R16
(0069) }
(0070) //数据读取子程序
(0071) unsigned char Read1302( unsigned char addr ){
(0072)    unsigned char i,temp,data=0;
    00409 24AA      CLR	R10
(0073)    CE_L;
    0040A 9892      CBI	0x12,2
(0074)    SCLK_L;
    0040B 9890      CBI	0x12,0
(0075)    CE_H;//发送地址?
    0040C 9A92      SBI	0x12,2
(0076)    for(i=8;i>0;i--)//循环8次移位
    0040D E048      LDI	R20,0x8
    0040E C00A      RJMP	0x0419
(0077)    {
(0078)       
(0079) 	   temp=addr;
    0040F 2CEC      MOV	R14,R12
(0080)       if((temp&0x01))//每次传输低字节
    00410 FEC0      SBRS	R12,0
    00411 C002      RJMP	0x0414
(0081) 	   {
(0082) 	   	DIO_H;
    00412 9A91      SBI	0x12,1
(0083) 	   }else{
    00413 C001      RJMP	0x0415
(0084) 	   DIO_L;
    00414 9891      CBI	0x12,1
(0085) 	   }
(0086) 	   SCLK_L;
    00415 9890      CBI	0x12,0
(0087)        addr>>=1;//右移一位
    00416 94C6      LSR	R12
(0088) 	  SCLK_H;
    00417 9A90      SBI	0x12,0
    00418 954A      DEC	R20
    00419 E080      LDI	R24,0
    0041A 1784      CP	R24,R20
    0041B F398      BCS	0x040F
(0089)    }
(0090) //读取数据
(0091) DDRD&=0xFD;
    0041C B381      IN	R24,0x11
    0041D 7F8D      ANDI	R24,0xFD
    0041E BB81      OUT	0x11,R24
(0092)  for(i=0;i<8;i++)
    0041F 2744      CLR	R20
    00420 C00E      RJMP	0x042F
(0093)   {
(0094)      SCLK_H;
    00421 9A90      SBI	0x12,0
(0095) 	 SCLK_L;
    00422 9890      CBI	0x12,0
(0096) 	 delay_ms(1);
    00423 E001      LDI	R16,1
    00424 E010      LDI	R17,0
    00425 940E 03BF CALL	_delay_ms
(0097)    	 data |=(((PIND&(1<<PD1))>>1)<<i);
    00427 B300      IN	R16,0x10
    00428 7002      ANDI	R16,2
    00429 9506      LSR	R16
    0042A 2F14      MOV	R17,R20
    0042B 940E 220D CALL	lsl8
    0042D 2AA0      OR	R10,R16
    0042E 9543      INC	R20
    0042F 3048      CPI	R20,0x8
    00430 F380      BCS	0x0421
(0098)            
(0099)     }
(0100) 	///PORTE=data;
(0101)    DDRD|=0x07;
    00431 B381      IN	R24,0x11
    00432 6087      ORI	R24,7
    00433 BB81      OUT	0x11,R24
(0102)     CE_L;
    00434 9892      CBI	0x12,2
(0103)     // temp = data>>4;
(0104)    // data &= 0x0f;
(0105)     //data = temp*10 + data;
(0106) 	
(0107)     return(data);
    00435 2D0A      MOV	R16,R10
    00436 940C 21A5 JMP	pop_xgset30FC
(0108) }
(0109) //初始化DS1302?
(0110) void Initial_time(void) {
(0111)    DDRD|=0x07;
_Initial_time:
    00438 B381      IN	R24,0x11
    00439 6087      ORI	R24,7
    0043A BB81      OUT	0x11,R24
(0112)    PORTD=0x00;
    0043B 2422      CLR	R2
    0043C BA22      OUT	0x12,R2
(0113)    Write1302(WRITE_PROTECT,0X00);//禁止写保护
    0043D 2722      CLR	R18
    0043E E80E      LDI	R16,0x8E
    0043F DF9F      RCALL	_Write1302
(0114)    Write1302(WRITE_SECOND,0x00);//秒位初始化
    00440 2722      CLR	R18
    00441 E800      LDI	R16,0x80
    00442 DF9C      RCALL	_Write1302
(0115)    Write1302(WRITE_MINUTE,0x50);//分钟初始化
    00443 E520      LDI	R18,0x50
    00444 E802      LDI	R16,0x82
    00445 DF99      RCALL	_Write1302
(0116)    Write1302(WRITE_HOUR,0x91);//小时初始化
    00446 E921      LDI	R18,0x91
    00447 E804      LDI	R16,0x84
    00448 DF96      RCALL	_Write1302
(0117)    Write1302(WRITE_PROTECT,0x80);//写保护
    00449 E820      LDI	R18,0x80
    0044A E80E      LDI	R16,0x8E
    0044B CF93      RJMP	_Write1302
_showTimeLcd:
    0044C 92AA      ST	-Y,R10
    0044D 934A      ST	-Y,R20
    0044E 9721      SBIW	R28,1
(0118) }
(0119) //显示时间，时分秒
(0120) void showTimeLcd(void){
(0121)    //PORTE=~Read1302(0x81);
(0122) 	if(Read1302(0x85)&0x80){
    0044F E805      LDI	R16,0x85
    00450 DFB5      RCALL	_Read1302
    00451 FF07      SBRS	R16,7
    00452 C048      RJMP	0x049B
(0123) 	if( (Read1302(0x85)>>4)&0x01 )
    00453 E805      LDI	R16,0x85
    00454 DFB1      RCALL	_Read1302
    00455 2F80      MOV	R24,R16
    00456 9582      SWAP	R24
    00457 708F      ANDI	R24,0xF
    00458 7081      ANDI	R24,1
    00459 F0B9      BEQ	0x0471
(0124) 	{
(0125) 	 lcd_write_char(0x00,1,0x30|((Read1302(0x85)>>4)&0x01));
    0045A E805      LDI	R16,0x85
    0045B DFAA      RCALL	_Read1302
    0045C 2EA0      MOV	R10,R16
    0045D 2D8A      MOV	R24,R10
    0045E 9582      SWAP	R24
    0045F 708F      ANDI	R24,0xF
    00460 7081      ANDI	R24,1
    00461 6380      ORI	R24,0x30
    00462 8388      ST	Y,R24
    00463 E021      LDI	R18,1
    00464 2700      CLR	R16
    00465 940E 0798 CALL	_lcd_write_char
(0126) 	 lcd_write_char_con(1,0x30|(Read1302(0x85)&0x0F));
    00467 E805      LDI	R16,0x85
    00468 DF9D      RCALL	_Read1302
    00469 2F40      MOV	R20,R16
    0046A 2F24      MOV	R18,R20
    0046B 702F      ANDI	R18,0xF
    0046C 6320      ORI	R18,0x30
    0046D E001      LDI	R16,1
    0046E 940E 0766 CALL	_lcd_write_char_con
(0127) 	}else{
    00470 C00F      RJMP	0x0480
(0128) 	 lcd_write_char(0x00,1,' ' );
    00471 E280      LDI	R24,0x20
    00472 8388      ST	Y,R24
    00473 E021      LDI	R18,1
    00474 2700      CLR	R16
    00475 940E 0798 CALL	_lcd_write_char
(0129) 	 lcd_write_char_con(1,0x30|(Read1302(0x85)&0x0F));
    00477 E805      LDI	R16,0x85
    00478 DF8D      RCALL	_Read1302
    00479 2F40      MOV	R20,R16
    0047A 2F24      MOV	R18,R20
    0047B 702F      ANDI	R18,0xF
    0047C 6320      ORI	R18,0x30
    0047D E001      LDI	R16,1
    0047E 940E 0766 CALL	_lcd_write_char_con
(0130) 	}
(0131) 
(0132) 	   if(((Read1302(0x85))&0x20)){
    00480 E805      LDI	R16,0x85
    00481 DF84      RCALL	_Read1302
    00482 2EA0      MOV	R10,R16
    00483 FF05      SBRS	R16,5
    00484 C00B      RJMP	0x0490
(0133) 	      lcd_write_char(0x05,1, 'P');
    00485 E580      LDI	R24,0x50
    00486 8388      ST	Y,R24
    00487 E021      LDI	R18,1
    00488 E005      LDI	R16,5
    00489 940E 0798 CALL	_lcd_write_char
(0134) 	     lcd_write_char_con(1, 'M');
    0048B E42D      LDI	R18,0x4D
    0048C E001      LDI	R16,1
    0048D 940E 0766 CALL	_lcd_write_char_con
(0135) 	   }else{
    0048F C021      RJMP	0x04B1
(0136) 	     lcd_write_char(0x05,1, 'A');
    00490 E481      LDI	R24,0x41
    00491 8388      ST	Y,R24
    00492 E021      LDI	R18,1
    00493 E005      LDI	R16,5
    00494 940E 0798 CALL	_lcd_write_char
(0137) 	     lcd_write_char_con(1, 'M');
    00496 E42D      LDI	R18,0x4D
    00497 E001      LDI	R16,1
    00498 940E 0766 CALL	_lcd_write_char_con
(0138) 	    }
(0139) 	}else{
    0049A C016      RJMP	0x04B1
(0140) 	 lcd_write_char(0x00,1, 0x30|((Read1302(0x85)>>4)&0x03));
    0049B E805      LDI	R16,0x85
    0049C DF69      RCALL	_Read1302
    0049D 2EA0      MOV	R10,R16
    0049E 2D8A      MOV	R24,R10
    0049F 9582      SWAP	R24
    004A0 708F      ANDI	R24,0xF
    004A1 7083      ANDI	R24,3
    004A2 6380      ORI	R24,0x30
    004A3 8388      ST	Y,R24
    004A4 E021      LDI	R18,1
    004A5 2700      CLR	R16
    004A6 940E 0798 CALL	_lcd_write_char
(0141) 	 lcd_write_char_con(1,0x30|(Read1302(0x85)&0x0F)); 
    004A8 E805      LDI	R16,0x85
    004A9 DF5C      RCALL	_Read1302
    004AA 2F40      MOV	R20,R16
    004AB 2F24      MOV	R18,R20
    004AC 702F      ANDI	R18,0xF
    004AD 6320      ORI	R18,0x30
    004AE E001      LDI	R16,1
    004AF 940E 0766 CALL	_lcd_write_char_con
(0142) 	}
(0143) 	
(0144) 	lcd_write_char(0x01,1,':');
    004B1 E38A      LDI	R24,0x3A
    004B2 8388      ST	Y,R24
    004B3 E021      LDI	R18,1
    004B4 E001      LDI	R16,1
    004B5 940E 0798 CALL	_lcd_write_char
(0145) 	
(0146) 	lcd_write_char_con(1, 0x30|Read1302(0x83)>>4);
    004B7 E803      LDI	R16,0x83
    004B8 DF4D      RCALL	_Read1302
    004B9 2EA0      MOV	R10,R16
    004BA 2D2A      MOV	R18,R10
    004BB 9522      SWAP	R18
    004BC 702F      ANDI	R18,0xF
    004BD 6320      ORI	R18,0x30
    004BE E001      LDI	R16,1
    004BF 940E 0766 CALL	_lcd_write_char_con
(0147) 	lcd_write_char_con(1,0x30|(Read1302(0x83)&0x0F));
    004C1 E803      LDI	R16,0x83
    004C2 DF43      RCALL	_Read1302
    004C3 2F40      MOV	R20,R16
    004C4 2F24      MOV	R18,R20
    004C5 702F      ANDI	R18,0xF
    004C6 6320      ORI	R18,0x30
    004C7 E001      LDI	R16,1
    004C8 940E 0766 CALL	_lcd_write_char_con
(0148) 
(0149) 	lcd_write_char_con(1,':');
    004CA E32A      LDI	R18,0x3A
    004CB E001      LDI	R16,1
    004CC 940E 0766 CALL	_lcd_write_char_con
(0150) 	
(0151) 	 lcd_write_char_con(1, 0x30|(Read1302(0x81)>>4));
    004CE E801      LDI	R16,0x81
    004CF DF36      RCALL	_Read1302
    004D0 2EA0      MOV	R10,R16
    004D1 2D2A      MOV	R18,R10
    004D2 9522      SWAP	R18
    004D3 702F      ANDI	R18,0xF
    004D4 6320      ORI	R18,0x30
    004D5 E001      LDI	R16,1
    004D6 940E 0766 CALL	_lcd_write_char_con
(0152) 	lcd_write_char_con(1,0x30|(Read1302(0x81)&0x0F));
    004D8 E801      LDI	R16,0x81
    004D9 DF2C      RCALL	_Read1302
    004DA 2F40      MOV	R20,R16
    004DB 2F24      MOV	R18,R20
    004DC 702F      ANDI	R18,0xF
    004DD 6320      ORI	R18,0x30
    004DE E001      LDI	R16,1
    004DF 940E 0766 CALL	_lcd_write_char_con
    004E1 9621      ADIW	R28,1
    004E2 9149      LD	R20,Y+
    004E3 90A9      LD	R10,Y+
    004E4 9508      RET
(0153) }
(0154) 
(0155) uint getYear(void){
(0156)  return 1;
_getYear:
    004E5 E001      LDI	R16,1
    004E6 E010      LDI	R17,0
    004E7 9508      RET
(0157) }
(0158) uint getMonth(void){
(0159)   return 1;
_getMonth:
    004E8 E001      LDI	R16,1
    004E9 E010      LDI	R17,0
    004EA 9508      RET
(0160) }
(0161) uint getDay(void){
(0162)  return 1;
_getDay:
    004EB E001      LDI	R16,1
    004EC E010      LDI	R17,0
    004ED 9508      RET
(0163) }
(0164) uint getWeek(void){
(0165)  return 1;
_getWeek:
    004EE E001      LDI	R16,1
    004EF E010      LDI	R17,0
    004F0 9508      RET
(0166) }
(0167) uint getHour(void){
(0168)  return 1;
_getHour:
    004F1 E001      LDI	R16,1
    004F2 E010      LDI	R17,0
    004F3 9508      RET
(0169) }
(0170) uint getMinute(void){
(0171)  return 1;
_getMinute:
    004F4 E001      LDI	R16,1
    004F5 E010      LDI	R17,0
    004F6 9508      RET
(0172) }
(0173) uint getSecond(void){
(0174)  return 1;
_getSecond:
    004F7 E001      LDI	R16,1
    004F8 E010      LDI	R17,0
    004F9 9508      RET
(0175) }
(0176) void setTime(uint year,uint month,uint day,uint week,uint hour,uint minute,uint second){
_setTime:
  second               --> Y,+12
  minute               --> Y,+10
  hour                 --> Y,+8
  week                 --> Y,+6
  day                  --> Y,+4
  month                --> Y,+2
  year                 --> Y,+0
    004FA 9508      RET
_showTime_page:
  y                    --> R10
    004FB 940E 21E6 CALL	push_xgset303C
    004FD 0158      MOVW	R10,R16
(0177) 
(0178) }
(0179) //显示时间，年月日时分秒，用于page调用。没有改变AC，会接着写
(0180) void showTime_page(uint y){
(0181)    //PORTE=~Read1302(0x81);
(0182)    //年
(0183)     lcd_write_str_con(y, "20");
    004FE E020      LDI	R18,0
    004FF E031      LDI	R19,1
    00500 2D0A      MOV	R16,R10
    00501 940E 0808 CALL	_lcd_write_str_con
(0184)     lcd_write_char_con(y, 0x30|((Read1302(0x8D)>>4)&0x0F));
    00503 E80D      LDI	R16,0x8D
    00504 DF01      RCALL	_Read1302
    00505 2F20      MOV	R18,R16
    00506 9522      SWAP	R18
    00507 702F      ANDI	R18,0xF
    00508 702F      ANDI	R18,0xF
    00509 6320      ORI	R18,0x30
    0050A 2D0A      MOV	R16,R10
    0050B 940E 0766 CALL	_lcd_write_char_con
(0185)     lcd_write_char_con(y,0x30|(Read1302(0x8D)&0x0F)); 
    0050D E80D      LDI	R16,0x8D
    0050E DEF7      RCALL	_Read1302
    0050F 2F20      MOV	R18,R16
    00510 702F      ANDI	R18,0xF
    00511 6320      ORI	R18,0x30
    00512 2D0A      MOV	R16,R10
    00513 940E 0766 CALL	_lcd_write_char_con
(0186) 	lcd_write_char_con(y,'-');
    00515 E22D      LDI	R18,0x2D
    00516 2D0A      MOV	R16,R10
    00517 940E 0766 CALL	_lcd_write_char_con
(0187) 	 //月
(0188) 	 lcd_write_char_con(y, 0x30|((Read1302(0x89)>>4)&0x01));
    00519 E809      LDI	R16,0x89
    0051A DEEB      RCALL	_Read1302
    0051B 2EC0      MOV	R12,R16
    0051C 2D2C      MOV	R18,R12
    0051D 9522      SWAP	R18
    0051E 702F      ANDI	R18,0xF
    0051F 7021      ANDI	R18,1
    00520 6320      ORI	R18,0x30
    00521 2D0A      MOV	R16,R10
    00522 940E 0766 CALL	_lcd_write_char_con
(0189)      lcd_write_char_con(y,0x30|(Read1302(0x89)&0x0F)); 
    00524 E809      LDI	R16,0x89
    00525 DEE0      RCALL	_Read1302
    00526 2F40      MOV	R20,R16
    00527 2F24      MOV	R18,R20
    00528 702F      ANDI	R18,0xF
    00529 6320      ORI	R18,0x30
    0052A 2D0A      MOV	R16,R10
    0052B 940E 0766 CALL	_lcd_write_char_con
(0190) 	 lcd_write_char_con(y,'-');
    0052D E22D      LDI	R18,0x2D
    0052E 2D0A      MOV	R16,R10
    0052F 940E 0766 CALL	_lcd_write_char_con
(0191) 	 //日
(0192) 	 lcd_write_char_con(y, 0x30|((Read1302(0x87)>>4)&0x03));
    00531 E807      LDI	R16,0x87
    00532 DED3      RCALL	_Read1302
    00533 2EC0      MOV	R12,R16
    00534 2D2C      MOV	R18,R12
    00535 9522      SWAP	R18
    00536 702F      ANDI	R18,0xF
    00537 7023      ANDI	R18,3
    00538 6320      ORI	R18,0x30
    00539 2D0A      MOV	R16,R10
    0053A 940E 0766 CALL	_lcd_write_char_con
(0193)      lcd_write_char_con(y,0x30|(Read1302(0x87)&0x0F)); 
    0053C E807      LDI	R16,0x87
    0053D DEC8      RCALL	_Read1302
    0053E 2F40      MOV	R20,R16
    0053F 2F24      MOV	R18,R20
    00540 702F      ANDI	R18,0xF
    00541 6320      ORI	R18,0x30
    00542 2D0A      MOV	R16,R10
    00543 940E 0766 CALL	_lcd_write_char_con
(0194) 	 lcd_write_char_con(y,' ');
    00545 E220      LDI	R18,0x20
    00546 2D0A      MOV	R16,R10
    00547 940E 0766 CALL	_lcd_write_char_con
(0195) 	//时
(0196) 	 lcd_write_char_con(y, 0x30|((Read1302(0x85)>>4)&0x03));
    00549 E805      LDI	R16,0x85
    0054A DEBB      RCALL	_Read1302
    0054B 2EC0      MOV	R12,R16
    0054C 2D2C      MOV	R18,R12
    0054D 9522      SWAP	R18
    0054E 702F      ANDI	R18,0xF
    0054F 7023      ANDI	R18,3
    00550 6320      ORI	R18,0x30
    00551 2D0A      MOV	R16,R10
    00552 940E 0766 CALL	_lcd_write_char_con
(0197) 	 lcd_write_char_con(y,0x30|(Read1302(0x85)&0x0F)); 
    00554 E805      LDI	R16,0x85
    00555 DEB0      RCALL	_Read1302
    00556 2F40      MOV	R20,R16
    00557 2F24      MOV	R18,R20
    00558 702F      ANDI	R18,0xF
    00559 6320      ORI	R18,0x30
    0055A 2D0A      MOV	R16,R10
    0055B 940E 0766 CALL	_lcd_write_char_con
(0198) 	 lcd_write_char_con(y,':');
    0055D E32A      LDI	R18,0x3A
    0055E 2D0A      MOV	R16,R10
    0055F 940E 0766 CALL	_lcd_write_char_con
(0199) 	//分
(0200) 	 lcd_write_char_con(y, 0x30|Read1302(0x83)>>4);
    00561 E803      LDI	R16,0x83
    00562 DEA3      RCALL	_Read1302
    00563 2EC0      MOV	R12,R16
    00564 2D2C      MOV	R18,R12
    00565 9522      SWAP	R18
    00566 702F      ANDI	R18,0xF
    00567 6320      ORI	R18,0x30
    00568 2D0A      MOV	R16,R10
    00569 940E 0766 CALL	_lcd_write_char_con
(0201) 	 lcd_write_char_con(y,0x30|(Read1302(0x83)&0x0F));
    0056B E803      LDI	R16,0x83
    0056C DE99      RCALL	_Read1302
    0056D 2F40      MOV	R20,R16
    0056E 2F24      MOV	R18,R20
    0056F 702F      ANDI	R18,0xF
    00570 6320      ORI	R18,0x30
    00571 2D0A      MOV	R16,R10
    00572 940E 0766 CALL	_lcd_write_char_con
(0202) 	 lcd_write_char_con(y,':');
    00574 E32A      LDI	R18,0x3A
    00575 2D0A      MOV	R16,R10
    00576 940E 0766 CALL	_lcd_write_char_con
(0203) 	//秒
(0204) 	 lcd_write_char_con(y, 0x30|(Read1302(0x81)>>4));
    00578 E801      LDI	R16,0x81
    00579 DE8C      RCALL	_Read1302
    0057A 2EC0      MOV	R12,R16
    0057B 2D2C      MOV	R18,R12
    0057C 9522      SWAP	R18
    0057D 702F      ANDI	R18,0xF
    0057E 6320      ORI	R18,0x30
    0057F 2D0A      MOV	R16,R10
    00580 940E 0766 CALL	_lcd_write_char_con
(0205) 	 lcd_write_char_con(y,0x30|(Read1302(0x81)&0x0F));
    00582 E801      LDI	R16,0x81
    00583 DE82      RCALL	_Read1302
    00584 2F40      MOV	R20,R16
    00585 2F24      MOV	R18,R20
    00586 702F      ANDI	R18,0xF
    00587 6320      ORI	R18,0x30
    00588 2D0A      MOV	R16,R10
    00589 940E 0766 CALL	_lcd_write_char_con
    0058B 940C 21ED JMP	pop_xgset303C
FILE: E:\ICCDemo\Temp_Control\temp_control\key.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) #include "lcd.h"
(0004) uchar key_value='n';
(0005) void KeyInit(void){
_KeyInit:
    0058D 9508      RET
_KeyScan:
    0058E 934A      ST	-Y,R20
    0058F 935A      ST	-Y,R21
(0006) }
(0007) uchar KeyScan(void){
(0008)   //初始化端口
(0009)    DDRC=0xE0;
    00590 EE80      LDI	R24,0xE0
    00591 BB84      OUT	0x14,R24
(0010)    DDRG|=0x10;
    00592 9180 0064 LDS	R24,0x64
    00594 6180      ORI	R24,0x10
    00595 9380 0064 STS	0x64,R24
(0011)    
(0012)    //第一次扫描
(0013)    PORTC=0xDF;
    00597 ED8F      LDI	R24,0xDF
    00598 BB85      OUT	0x15,R24
(0014)    PORTG|=0x10;
    00599 9180 0065 LDS	R24,0x65
    0059B 6180      ORI	R24,0x10
    0059C 9380 0065 STS	0x65,R24
(0015)    delay_us(1);
    0059E E001      LDI	R16,1
    0059F E010      LDI	R17,0
    005A0 940E 03B5 CALL	_delay_us
(0016)    switch(PINC)
    005A2 B343      IN	R20,0x13
    005A3 2755      CLR	R21
    005A4 3C4F      CPI	R20,0xCF
    005A5 E0E0      LDI	R30,0
    005A6 075E      CPC	R21,R30
    005A7 F0E9      BEQ	0x05C5
    005A8 3C4F      CPI	R20,0xCF
    005A9 E0E0      LDI	R30,0
    005AA 075E      CPC	R21,R30
    005AB F0DC      BLT	0x05C7
    005AC 3D47      CPI	R20,0xD7
    005AD E0E0      LDI	R30,0
    005AE 075E      CPC	R21,R30
    005AF F099      BEQ	0x05C3
    005B0 3D4B      CPI	R20,0xDB
    005B1 E0E0      LDI	R30,0
    005B2 075E      CPC	R21,R30
    005B3 F069      BEQ	0x05C1
    005B4 3D4D      CPI	R20,0xDD
    005B5 E0E0      LDI	R30,0
    005B6 075E      CPC	R21,R30
    005B7 F039      BEQ	0x05BF
    005B8 3D4E      CPI	R20,0xDE
    005B9 E0E0      LDI	R30,0
    005BA 075E      CPC	R21,R30
    005BB F009      BEQ	0x05BD
    005BC C00A      RJMP	0x05C7
(0017)    {
(0018)    		case 0xDE:return  'e';//'esc';
    005BD E605      LDI	R16,0x65
    005BE C099      RJMP	0x0658
(0019) 		case 0xdd:return  'a';//'alm';
    005BF E601      LDI	R16,0x61
    005C0 C097      RJMP	0x0658
(0020) 		case 0xdb:return  'd';//'down';  
    005C1 E604      LDI	R16,0x64
    005C2 C095      RJMP	0x0658
(0021) 		case 0xd7:return  'u';//'up';
    005C3 E705      LDI	R16,0x75
    005C4 C093      RJMP	0x0658
(0022) 		case 0xcf:return  'l';//'left';
    005C5 E60C      LDI	R16,0x6C
    005C6 C091      RJMP	0x0658
(0023) 		default:break;	   
(0024)    } 
(0025)     //第二次扫描
(0026)    PORTC=0xBF;
    005C7 EB8F      LDI	R24,0xBF
    005C8 BB85      OUT	0x15,R24
(0027)    PORTG|=0x10;
    005C9 9180 0065 LDS	R24,0x65
    005CB 6180      ORI	R24,0x10
    005CC 9380 0065 STS	0x65,R24
(0028)    delay_us(1);
    005CE E001      LDI	R16,1
    005CF E010      LDI	R17,0
    005D0 940E 03B5 CALL	_delay_us
(0029)    switch(PINC)
    005D2 B343      IN	R20,0x13
    005D3 2755      CLR	R21
    005D4 3A4F      CPI	R20,0xAF
    005D5 E0E0      LDI	R30,0
    005D6 075E      CPC	R21,R30
    005D7 F0E9      BEQ	0x05F5
    005D8 3A4F      CPI	R20,0xAF
    005D9 E0E0      LDI	R30,0
    005DA 075E      CPC	R21,R30
    005DB F0DC      BLT	0x05F7
    005DC 3B47      CPI	R20,0xB7
    005DD E0E0      LDI	R30,0
    005DE 075E      CPC	R21,R30
    005DF F099      BEQ	0x05F3
    005E0 3B4B      CPI	R20,0xBB
    005E1 E0E0      LDI	R30,0
    005E2 075E      CPC	R21,R30
    005E3 F069      BEQ	0x05F1
    005E4 3B4D      CPI	R20,0xBD
    005E5 E0E0      LDI	R30,0
    005E6 075E      CPC	R21,R30
    005E7 F039      BEQ	0x05EF
    005E8 3B4E      CPI	R20,0xBE
    005E9 E0E0      LDI	R30,0
    005EA 075E      CPC	R21,R30
    005EB F009      BEQ	0x05ED
    005EC C00A      RJMP	0x05F7
(0030)    {
(0031)    		case 0xbE:return 's';//'set';
    005ED E703      LDI	R16,0x73
    005EE C069      RJMP	0x0658
(0032) 		case 0xbd:return 'r';//'right';
    005EF E702      LDI	R16,0x72
    005F0 C067      RJMP	0x0658
(0033) 		case 0xbb:return 't';//'ent';  
    005F1 E704      LDI	R16,0x74
    005F2 C065      RJMP	0x0658
(0034) 		case 0xb7:return 'c';//'clr';
    005F3 E603      LDI	R16,0x63
    005F4 C063      RJMP	0x0658
(0035) 		case 0xaf:return '+';//'+/-';
    005F5 E20B      LDI	R16,0x2B
    005F6 C061      RJMP	0x0658
(0036) 		default:break;	   
(0037)    } 
(0038)     //第三次扫描
(0039)    PORTC=0x7F;
    005F7 E78F      LDI	R24,0x7F
    005F8 BB85      OUT	0x15,R24
(0040)    PORTG|=0x10;
    005F9 9180 0065 LDS	R24,0x65
    005FB 6180      ORI	R24,0x10
    005FC 9380 0065 STS	0x65,R24
(0041)    delay_us(1);
    005FE E001      LDI	R16,1
    005FF E010      LDI	R17,0
    00600 940E 03B5 CALL	_delay_us
(0042)    switch(PINC)
    00602 B343      IN	R20,0x13
    00603 2755      CLR	R21
    00604 364F      CPI	R20,0x6F
    00605 E0E0      LDI	R30,0
    00606 075E      CPC	R21,R30
    00607 F0E9      BEQ	0x0625
    00608 364F      CPI	R20,0x6F
    00609 E0E0      LDI	R30,0
    0060A 075E      CPC	R21,R30
    0060B F0DC      BLT	0x0627
    0060C 3747      CPI	R20,0x77
    0060D E0E0      LDI	R30,0
    0060E 075E      CPC	R21,R30
    0060F F099      BEQ	0x0623
    00610 374B      CPI	R20,0x7B
    00611 E0E0      LDI	R30,0
    00612 075E      CPC	R21,R30
    00613 F069      BEQ	0x0621
    00614 374D      CPI	R20,0x7D
    00615 E0E0      LDI	R30,0
    00616 075E      CPC	R21,R30
    00617 F039      BEQ	0x061F
    00618 374E      CPI	R20,0x7E
    00619 E0E0      LDI	R30,0
    0061A 075E      CPC	R21,R30
    0061B F009      BEQ	0x061D
    0061C C00A      RJMP	0x0627
(0043)    {
(0044)    		case 0x7E:return '0';
    0061D E300      LDI	R16,0x30
    0061E C039      RJMP	0x0658
(0045) 		case 0x7d:return '3';
    0061F E303      LDI	R16,0x33
    00620 C037      RJMP	0x0658
(0046) 		case 0x7b:return '2';  
    00621 E302      LDI	R16,0x32
    00622 C035      RJMP	0x0658
(0047) 		case 0x77:return '1';
    00623 E301      LDI	R16,0x31
    00624 C033      RJMP	0x0658
(0048) 		case 0x6f:return '6';
    00625 E306      LDI	R16,0x36
    00626 C031      RJMP	0x0658
(0049) 		default:break;	   
(0050)    } 
(0051)       //第四次扫描
(0052)    PORTC=0xFF;
    00627 EF8F      LDI	R24,0xFF
    00628 BB85      OUT	0x15,R24
(0053)    PORTG&=0x0F;
    00629 9180 0065 LDS	R24,0x65
    0062B 708F      ANDI	R24,0xF
    0062C 9380 0065 STS	0x65,R24
(0054)    delay_us(1);
    0062E E001      LDI	R16,1
    0062F E010      LDI	R17,0
    00630 940E 03B5 CALL	_delay_us
(0055)    switch(PINC)
    00632 B343      IN	R20,0x13
    00633 2755      CLR	R21
    00634 3E4F      CPI	R20,0xEF
    00635 E0E0      LDI	R30,0
    00636 075E      CPC	R21,R30
    00637 F0E9      BEQ	0x0655
    00638 3E4F      CPI	R20,0xEF
    00639 E0E0      LDI	R30,0
    0063A 075E      CPC	R21,R30
    0063B F0DC      BLT	0x0657
    0063C 3F47      CPI	R20,0xF7
    0063D E0E0      LDI	R30,0
    0063E 075E      CPC	R21,R30
    0063F F099      BEQ	0x0653
    00640 3F4B      CPI	R20,0xFB
    00641 E0E0      LDI	R30,0
    00642 075E      CPC	R21,R30
    00643 F069      BEQ	0x0651
    00644 3F4D      CPI	R20,0xFD
    00645 E0E0      LDI	R30,0
    00646 075E      CPC	R21,R30
    00647 F039      BEQ	0x064F
    00648 3F4E      CPI	R20,0xFE
    00649 E0E0      LDI	R30,0
    0064A 075E      CPC	R21,R30
    0064B F009      BEQ	0x064D
    0064C C00A      RJMP	0x0657
(0056)    {
(0057)    		case 0xFE:return '7';
    0064D E307      LDI	R16,0x37
    0064E C009      RJMP	0x0658
(0058) 		case 0xFd:return '8';
    0064F E308      LDI	R16,0x38
    00650 C007      RJMP	0x0658
(0059) 		case 0xFb:return '9';  
    00651 E309      LDI	R16,0x39
    00652 C005      RJMP	0x0658
(0060) 		case 0xF7:return '4';
    00653 E304      LDI	R16,0x34
    00654 C003      RJMP	0x0658
(0061) 		case 0xEf:return '5';
    00655 E305      LDI	R16,0x35
    00656 C001      RJMP	0x0658
(0062) 		default:break;	   
(0063)    }
(0064)  return 'n';
    00657 E60E      LDI	R16,0x6E
    00658 9159      LD	R21,Y+
    00659 9149      LD	R20,Y+
    0065A 9508      RET
_KeyScan_once:
  keyValue2            --> R10
  keyValue             --> R20
    0065B 92AA      ST	-Y,R10
    0065C 934A      ST	-Y,R20
(0065)    
(0066) }
(0067) //********************************
(0068) //		加上延时抖动的读取，一次读取一个
(0069) //********************************
(0070) uchar KeyScan_once(void){
(0071) 	  uchar keyValue,keyValue2;
(0072) 	  keyValue=KeyScan();
    0065D DF30      RCALL	_KeyScan
    0065E 2F40      MOV	R20,R16
(0073) 	  delay_ms(2);
    0065F E002      LDI	R16,2
    00660 E010      LDI	R17,0
    00661 940E 03BF CALL	_delay_ms
(0074) 	  keyValue2=KeyScan();
    00663 DF2A      RCALL	_KeyScan
    00664 2EA0      MOV	R10,R16
(0075) 	 if(keyValue==keyValue2 && keyValue!='n'){//两次扫描，消除抖动
    00665 1740      CP	R20,R16
    00666 F461      BNE	0x0673
    00667 364E      CPI	R20,0x6E
    00668 F051      BEQ	0x0673
(0076) 	 	if(key_value==keyValue){//如果还是上一次保存的值则代表一直按着，返回‘n’
    00669 9020 0103 LDS	R2,key_value
    0066B 1624      CP	R2,R20
    0066C F411      BNE	0x066F
(0077) 		    return 'n';  
    0066D E60E      LDI	R16,0x6E
    0066E C008      RJMP	0x0677
(0078) 	    }else{                  //松开后第一次按下，返回该键的值
(0079) 		 key_value=keyValue;
    0066F 9340 0103 STS	key_value,R20
(0080) 		  return keyValue;
    00671 2F04      MOV	R16,R20
    00672 C004      RJMP	0x0677
(0081) 		}
(0082) 	 }else{                     //因为读取键盘的值会多次刷新，所以在松开按键时key_value重置
(0083) 	   key_value='n';
    00673 E68E      LDI	R24,0x6E
    00674 9380 0103 STS	key_value,R24
(0084) 	   return 'n';
    00676 E60E      LDI	R16,0x6E
    00677 9149      LD	R20,Y+
    00678 90A9      LD	R10,Y+
    00679 9508      RET
_lcd_bz_1:
  result               --> R20
    0067A 934A      ST	-Y,R20
    0067B 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\lcd.c
(0001) #include<iom128v.h>
(0002) #include "lcd.h"
(0003) #include "delay.h" 
(0004) #define rs_l PORTG&=~(1<<PG1)
(0005) #define rs_h PORTG|=1<<PG1
(0006) #define rw_l PORTG&=~(1<<PG0)
(0007) #define rw_h PORTG|=1<<PG0
(0008) #define ep1_l PORTG&=~(1<<PG3)
(0009) #define ep1_h PORTG|=1<<PG3
(0010) #define ep2_l PORTF&=~(1<<PF0)
(0011) #define ep2_h PORTF|=1<<PF0
(0012) //***********************************
(0013) //上半屏幕
(0014) //**********************************
(0015) /*
(0016)  读忙程序。命令后，读入BF
(0017) */
(0018) uint lcd_bz_1(void){
(0019) 	uint result;
(0020) 	DDRA=0x00;
    0067C 2422      CLR	R2
    0067D BA2A      OUT	0x1A,R2
(0021) 	rs_l;
    0067E 9180 0065 LDS	R24,0x65
    00680 7F8D      ANDI	R24,0xFD
    00681 9380 0065 STS	0x65,R24
(0022) 	rw_h;
    00683 9180 0065 LDS	R24,0x65
    00685 6081      ORI	R24,1
    00686 9380 0065 STS	0x65,R24
(0023) 	ep1_h;
    00688 9180 0065 LDS	R24,0x65
    0068A 6088      ORI	R24,0x8
    0068B 9380 0065 STS	0x65,R24
(0024) 	delay_us(1);
    0068D E001      LDI	R16,1
    0068E E010      LDI	R17,0
    0068F 940E 03B5 CALL	_delay_us
(0025) 	result=PINA&(1<<PINA7);
    00691 B349      IN	R20,0x19
    00692 2755      CLR	R21
    00693 7840      ANDI	R20,0x80
    00694 7050      ANDI	R21,0
(0026) 	DDRA=0xFF;
    00695 EF8F      LDI	R24,0xFF
    00696 BB8A      OUT	0x1A,R24
(0027) 	ep1_l;
    00697 9180 0065 LDS	R24,0x65
    00699 7F87      ANDI	R24,0xF7
    0069A 9380 0065 STS	0x65,R24
(0028) 	return result;
    0069C 018A      MOVW	R16,R20
    0069D 9159      LD	R21,Y+
    0069E 9149      LD	R20,Y+
    0069F 9508      RET
_lcd_wcmd_1:
  cmd                  --> R10
    006A0 92AA      ST	-Y,R10
    006A1 2EA0      MOV	R10,R16
(0029) }
(0030) void lcd_wcmd_1(uchar cmd){
(0031) 	 while(lcd_bz_1());
    006A2 DFD7      RCALL	_lcd_bz_1
    006A3 3000      CPI	R16,0
    006A4 0701      CPC	R16,R17
    006A5 F7E1      BNE	0x06A2
(0032) 	 rs_l;
    006A6 9180 0065 LDS	R24,0x65
    006A8 7F8D      ANDI	R24,0xFD
    006A9 9380 0065 STS	0x65,R24
(0033) 	 rw_l;
    006AB 9180 0065 LDS	R24,0x65
    006AD 7F8E      ANDI	R24,0xFE
    006AE 9380 0065 STS	0x65,R24
(0034) 	 ep1_l;
    006B0 9180 0065 LDS	R24,0x65
    006B2 7F87      ANDI	R24,0xF7
    006B3 9380 0065 STS	0x65,R24
(0035) 	 PORTA=cmd;
    006B5 BAAB      OUT	0x1B,R10
(0036) 	 ep1_h;
    006B6 9180 0065 LDS	R24,0x65
    006B8 6088      ORI	R24,0x8
    006B9 9380 0065 STS	0x65,R24
(0037) 	 delay_us(1);
    006BB E001      LDI	R16,1
    006BC E010      LDI	R17,0
    006BD 940E 03B5 CALL	_delay_us
(0038) 	 ep1_l;
    006BF 9180 0065 LDS	R24,0x65
    006C1 7F87      ANDI	R24,0xF7
    006C2 9380 0065 STS	0x65,R24
(0039) 	 return;
    006C4 90A9      LD	R10,Y+
    006C5 9508      RET
_lcd_wdat_1:
  dat                  --> R10
    006C6 92AA      ST	-Y,R10
    006C7 2EA0      MOV	R10,R16
(0040) }
(0041) /*
(0042) 写输出数据,char
(0043) */
(0044) void lcd_wdat_1(uchar dat){
(0045) 	 while(lcd_bz_1());
    006C8 DFB1      RCALL	_lcd_bz_1
    006C9 3000      CPI	R16,0
    006CA 0701      CPC	R16,R17
    006CB F7E1      BNE	0x06C8
(0046) 	 rs_h;
    006CC 9180 0065 LDS	R24,0x65
    006CE 6082      ORI	R24,2
    006CF 9380 0065 STS	0x65,R24
(0047) 	 rw_l;
    006D1 9180 0065 LDS	R24,0x65
    006D3 7F8E      ANDI	R24,0xFE
    006D4 9380 0065 STS	0x65,R24
(0048) 	 ep1_l;
    006D6 9180 0065 LDS	R24,0x65
    006D8 7F87      ANDI	R24,0xF7
    006D9 9380 0065 STS	0x65,R24
(0049) 	 PORTA=dat;
    006DB BAAB      OUT	0x1B,R10
(0050) 	 ep1_h;
    006DC 9180 0065 LDS	R24,0x65
    006DE 6088      ORI	R24,0x8
    006DF 9380 0065 STS	0x65,R24
(0051) 	 delay_us(1);
    006E1 E001      LDI	R16,1
    006E2 E010      LDI	R17,0
    006E3 940E 03B5 CALL	_delay_us
(0052) 	 ep1_l;
    006E5 9180 0065 LDS	R24,0x65
    006E7 7F87      ANDI	R24,0xF7
    006E8 9380 0065 STS	0x65,R24
    006EA 90A9      LD	R10,Y+
    006EB 9508      RET
(0053) }
(0054) 
(0055) /*清显示*/
(0056) void lcd_clear_1(void) 
(0057) {
(0058) 	lcd_wcmd_1(0x01);
_lcd_clear_1:
    006EC E001      LDI	R16,1
    006ED DFB2      RCALL	_lcd_wcmd_1
(0059) 	delay_ms(1);
    006EE E001      LDI	R16,1
    006EF E010      LDI	R17,0
    006F0 940C 03BF JMP	_delay_ms
_lcd_bz_2:
  result               --> R20
    006F2 934A      ST	-Y,R20
    006F3 935A      ST	-Y,R21
(0060) }
(0061) //***********************************
(0062) //    下半屏幕
(0063) //***********************************
(0064) uint lcd_bz_2(void){
(0065) 	uint result;
(0066) 	DDRA=0x00;
    006F4 2422      CLR	R2
    006F5 BA2A      OUT	0x1A,R2
(0067) 	rs_l;
    006F6 9180 0065 LDS	R24,0x65
    006F8 7F8D      ANDI	R24,0xFD
    006F9 9380 0065 STS	0x65,R24
(0068) 	rw_h;
    006FB 9180 0065 LDS	R24,0x65
    006FD 6081      ORI	R24,1
    006FE 9380 0065 STS	0x65,R24
(0069) 	ep2_h;
    00700 9180 0062 LDS	R24,0x62
    00702 6081      ORI	R24,1
    00703 9380 0062 STS	0x62,R24
(0070) 	delay_us(1);
    00705 E001      LDI	R16,1
    00706 E010      LDI	R17,0
    00707 940E 03B5 CALL	_delay_us
(0071) 	result=PINA&(1<<PINA7);
    00709 B349      IN	R20,0x19
    0070A 2755      CLR	R21
    0070B 7840      ANDI	R20,0x80
    0070C 7050      ANDI	R21,0
(0072) 	DDRA=0xFF;
    0070D EF8F      LDI	R24,0xFF
    0070E BB8A      OUT	0x1A,R24
(0073) 	ep2_l;
    0070F 9180 0062 LDS	R24,0x62
    00711 7F8E      ANDI	R24,0xFE
    00712 9380 0062 STS	0x62,R24
(0074) 	return result;
    00714 018A      MOVW	R16,R20
    00715 9159      LD	R21,Y+
    00716 9149      LD	R20,Y+
    00717 9508      RET
_lcd_wcmd_2:
  cmd                  --> R10
    00718 92AA      ST	-Y,R10
    00719 2EA0      MOV	R10,R16
(0075) }
(0076) void lcd_wcmd_2(uchar cmd){
(0077) 	 while(lcd_bz_2());
    0071A DFD7      RCALL	_lcd_bz_2
    0071B 3000      CPI	R16,0
    0071C 0701      CPC	R16,R17
    0071D F7E1      BNE	0x071A
(0078) 	 rs_l;
    0071E 9180 0065 LDS	R24,0x65
    00720 7F8D      ANDI	R24,0xFD
    00721 9380 0065 STS	0x65,R24
(0079) 	 rw_l;
    00723 9180 0065 LDS	R24,0x65
    00725 7F8E      ANDI	R24,0xFE
    00726 9380 0065 STS	0x65,R24
(0080) 	 ep2_l;
    00728 9180 0062 LDS	R24,0x62
    0072A 7F8E      ANDI	R24,0xFE
    0072B 9380 0062 STS	0x62,R24
(0081) 	 PORTA=cmd;
    0072D BAAB      OUT	0x1B,R10
(0082) 	 ep2_h;
    0072E 9180 0062 LDS	R24,0x62
    00730 6081      ORI	R24,1
    00731 9380 0062 STS	0x62,R24
(0083) 	delay_us(1);
    00733 E001      LDI	R16,1
    00734 E010      LDI	R17,0
    00735 940E 03B5 CALL	_delay_us
(0084) 	 ep2_l;
    00737 9180 0062 LDS	R24,0x62
    00739 7F8E      ANDI	R24,0xFE
    0073A 9380 0062 STS	0x62,R24
    0073C 90A9      LD	R10,Y+
    0073D 9508      RET
_lcd_wdat_2:
  dat                  --> R10
    0073E 92AA      ST	-Y,R10
    0073F 2EA0      MOV	R10,R16
(0085) }
(0086) //  写输出数据,char
(0087) void lcd_wdat_2(uchar dat){
(0088) 	 while(lcd_bz_2());
    00740 DFB1      RCALL	_lcd_bz_2
    00741 3000      CPI	R16,0
    00742 0701      CPC	R16,R17
    00743 F7E1      BNE	0x0740
(0089) 	 rs_h;
    00744 9180 0065 LDS	R24,0x65
    00746 6082      ORI	R24,2
    00747 9380 0065 STS	0x65,R24
(0090) 	 rw_l;
    00749 9180 0065 LDS	R24,0x65
    0074B 7F8E      ANDI	R24,0xFE
    0074C 9380 0065 STS	0x65,R24
(0091) 	 ep2_l;
    0074E 9180 0062 LDS	R24,0x62
    00750 7F8E      ANDI	R24,0xFE
    00751 9380 0062 STS	0x62,R24
(0092) 	 PORTA=dat;
    00753 BAAB      OUT	0x1B,R10
(0093) 	 ep2_h;
    00754 9180 0062 LDS	R24,0x62
    00756 6081      ORI	R24,1
    00757 9380 0062 STS	0x62,R24
(0094) 	delay_us(1);
    00759 E001      LDI	R16,1
    0075A E010      LDI	R17,0
    0075B 940E 03B5 CALL	_delay_us
(0095) 	 ep2_l;
    0075D 9180 0062 LDS	R24,0x62
    0075F 7F8E      ANDI	R24,0xFE
    00760 9380 0062 STS	0x62,R24
    00762 90A9      LD	R10,Y+
    00763 9508      RET
(0096) }
(0097) /*清显示*/
(0098) void lcd_clear_2(void) 
(0099) {
(0100) 	lcd_wcmd_2(0x01);
_lcd_clear_2:
    00764 E001      LDI	R16,1
    00765 CFB2      RJMP	_lcd_wcmd_2
_lcd_write_char_con:
  data                 --> R10
  y                    --> R20
    00766 92AA      ST	-Y,R10
    00767 934A      ST	-Y,R20
    00768 2EA2      MOV	R10,R18
    00769 2F40      MOV	R20,R16
(0101) }
(0102) 
(0103) //*************************************************
(0104) //					写字符
(0105) //***************************************************
(0106) /*
(0107)   附带y。调用 lcd_wdat（）方法。传入时转换为char。直接连续写入使用
(0108) */
(0109) void lcd_write_char_con(unsigned char y,unsigned char data) 
(0110) {
(0111) 	
(0112)     if (y == 0 || y==1) 
    0076A 2344      TST	R20
    0076B F011      BEQ	0x076E
    0076C 3041      CPI	R20,1
    0076D F419      BNE	0x0771
(0113)     {
(0114)     	
(0115) 		 lcd_wdat_1( data);
    0076E 2D0A      MOV	R16,R10
    0076F DF56      RCALL	_lcd_wdat_1
(0116)     }else  if(y==2 || y==3 )
    00770 C006      RJMP	0x0777
    00771 3042      CPI	R20,2
    00772 F011      BEQ	0x0775
    00773 3043      CPI	R20,3
    00774 F411      BNE	0x0777
(0117)     {
(0118)     	
(0119) 		 lcd_wdat_2( data);
    00775 2D0A      MOV	R16,R10
    00776 DFC7      RCALL	_lcd_wdat_2
(0120)     }
(0121)    return; 
    00777 9149      LD	R20,Y+
    00778 90A9      LD	R10,Y+
    00779 9508      RET
_lcd_write_pos:
  y                    --> R22
  x                    --> R20
    0077A 934A      ST	-Y,R20
    0077B 936A      ST	-Y,R22
    0077C 2F62      MOV	R22,R18
    0077D 2F40      MOV	R20,R16
(0122) }
(0123) /*
(0124)   附带x,y。写光标位置
(0125) */
(0126) void lcd_write_pos(unsigned char x,unsigned char y) 
(0127) {
(0128) 	
(0129)     if (y == 0) 
    0077E 2366      TST	R22
    0077F F421      BNE	0x0784
(0130)     {
(0131)     	lcd_wcmd_1(0x80 + x);
    00780 2F04      MOV	R16,R20
    00781 5800      SUBI	R16,0x80
    00782 DF1D      RCALL	_lcd_wcmd_1
(0132)     }
    00783 C011      RJMP	0x0795
(0133)     else  if(y==1)
    00784 3061      CPI	R22,1
    00785 F421      BNE	0x078A
(0134)     {
(0135)     	lcd_wcmd_1(0x90 + x);
    00786 2F04      MOV	R16,R20
    00787 5700      SUBI	R16,0x70
    00788 DF17      RCALL	_lcd_wcmd_1
(0136)     }else  if(y==2)
    00789 C00B      RJMP	0x0795
    0078A 3062      CPI	R22,2
    0078B F421      BNE	0x0790
(0137)     {
(0138)     	lcd_wcmd_2(0x80 + x);
    0078C 2F04      MOV	R16,R20
    0078D 5800      SUBI	R16,0x80
    0078E DF89      RCALL	_lcd_wcmd_2
(0139)     }else  if(y==3)
    0078F C005      RJMP	0x0795
    00790 3063      CPI	R22,3
    00791 F419      BNE	0x0795
(0140)     {
(0141)     	lcd_wcmd_2(0x90 + x);
    00792 2F04      MOV	R16,R20
    00793 5700      SUBI	R16,0x70
    00794 DF83      RCALL	_lcd_wcmd_2
(0142)     }
(0143)    return; 
    00795 9169      LD	R22,Y+
    00796 9149      LD	R20,Y+
    00797 9508      RET
_lcd_write_char:
  data                 --> R10
  y                    --> R22
  x                    --> R20
    00798 940E 21D8 CALL	push_xgsetF00C
    0079A 2F62      MOV	R22,R18
    0079B 2F40      MOV	R20,R16
    0079C 80AE      LDD	R10,Y+6
(0144) }
(0145) /*
(0146)   附带x,y。调用 lcd_wdat（）方法。传入时转换为char
(0147) */
(0148) void lcd_write_char(unsigned char x,unsigned char y,unsigned char data) 
(0149) {
(0150) 	
(0151)     if (y == 0) 
    0079D 2366      TST	R22
    0079E F431      BNE	0x07A5
(0152)     {
(0153)     	lcd_wcmd_1(0x80 + x);
    0079F 2F04      MOV	R16,R20
    007A0 5800      SUBI	R16,0x80
    007A1 DEFE      RCALL	_lcd_wcmd_1
(0154) 		 lcd_wdat_1( data);
    007A2 2D0A      MOV	R16,R10
    007A3 DF22      RCALL	_lcd_wdat_1
(0155)     }
    007A4 C017      RJMP	0x07BC
(0156)     else  if(y==1)
    007A5 3061      CPI	R22,1
    007A6 F431      BNE	0x07AD
(0157)     {
(0158)     	lcd_wcmd_1(0x90 + x);
    007A7 2F04      MOV	R16,R20
    007A8 5700      SUBI	R16,0x70
    007A9 DEF6      RCALL	_lcd_wcmd_1
(0159) 		 lcd_wdat_1( data);
    007AA 2D0A      MOV	R16,R10
    007AB DF1A      RCALL	_lcd_wdat_1
(0160)     }else  if(y==2)
    007AC C00F      RJMP	0x07BC
    007AD 3062      CPI	R22,2
    007AE F431      BNE	0x07B5
(0161)     {
(0162)     	lcd_wcmd_2(0x80 + x);
    007AF 2F04      MOV	R16,R20
    007B0 5800      SUBI	R16,0x80
    007B1 DF66      RCALL	_lcd_wcmd_2
(0163) 		 lcd_wdat_2( data);
    007B2 2D0A      MOV	R16,R10
    007B3 DF8A      RCALL	_lcd_wdat_2
(0164)     }else  if(y==3)
    007B4 C007      RJMP	0x07BC
    007B5 3063      CPI	R22,3
    007B6 F429      BNE	0x07BC
(0165)     {
(0166)     	lcd_wcmd_2(0x90 + x);
    007B7 2F04      MOV	R16,R20
    007B8 5700      SUBI	R16,0x70
    007B9 DF5E      RCALL	_lcd_wcmd_2
(0167) 		 lcd_wdat_2( data);
    007BA 2D0A      MOV	R16,R10
    007BB DF82      RCALL	_lcd_wdat_2
(0168)     }
(0169)    return; 
    007BC 940C 21DF JMP	pop_xgsetF00C
_lcd_write_str:
  s                    --> R20
  y                    --> R10
  x                    --> R22
    007BE 940E 21D8 CALL	push_xgsetF00C
    007C0 2EA2      MOV	R10,R18
    007C1 2F60      MOV	R22,R16
    007C2 814E      LDD	R20,Y+6
    007C3 815F      LDD	R21,Y+7
(0170) }
(0171) /*
(0172)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0173) */
(0174) void lcd_write_str(unsigned char x,unsigned char y,unsigned char *s) 
(0175) {
(0176) 	
(0177)     if (y == 0) 
    007C4 20AA      TST	R10
    007C5 F471      BNE	0x07D4
(0178)     {
(0179)     	lcd_wcmd_1(0x80 + x);
    007C6 2F06      MOV	R16,R22
    007C7 5800      SUBI	R16,0x80
    007C8 DED7      RCALL	_lcd_wcmd_1
    007C9 C005      RJMP	0x07CF
(0180) 		 while (*s) 
(0181)        {
(0182)     	lcd_wdat_1( *s);
    007CA 01FA      MOVW	R30,R20
    007CB 8100      LD	R16,Z
    007CC DEF9      RCALL	_lcd_wdat_1
(0183)     	s ++;
    007CD 5F4F      SUBI	R20,0xFF
    007CE 4F5F      SBCI	R21,0xFF
    007CF 01FA      MOVW	R30,R20
    007D0 8020      LD	R2,Z
    007D1 2022      TST	R2
    007D2 F7B9      BNE	0x07CA
(0184)         }
(0185)     }
    007D3 C032      RJMP	0x0806
(0186)     else  if(y==1)
    007D4 2D8A      MOV	R24,R10
    007D5 3081      CPI	R24,1
    007D6 F471      BNE	0x07E5
(0187)     {
(0188)     	lcd_wcmd_1(0x90 + x);
    007D7 2F06      MOV	R16,R22
    007D8 5700      SUBI	R16,0x70
    007D9 DEC6      RCALL	_lcd_wcmd_1
    007DA C005      RJMP	0x07E0
(0189) 		 while (*s) 
(0190)         {
(0191)     	lcd_wdat_1( *s);
    007DB 01FA      MOVW	R30,R20
    007DC 8100      LD	R16,Z
    007DD DEE8      RCALL	_lcd_wdat_1
(0192)     	s ++;
    007DE 5F4F      SUBI	R20,0xFF
    007DF 4F5F      SBCI	R21,0xFF
    007E0 01FA      MOVW	R30,R20
    007E1 8020      LD	R2,Z
    007E2 2022      TST	R2
    007E3 F7B9      BNE	0x07DB
(0193)        }
(0194)     }else  if(y==2)
    007E4 C021      RJMP	0x0806
    007E5 2D8A      MOV	R24,R10
    007E6 3082      CPI	R24,2
    007E7 F471      BNE	0x07F6
(0195)     {
(0196)     	lcd_wcmd_2(0x80 + x);
    007E8 2F06      MOV	R16,R22
    007E9 5800      SUBI	R16,0x80
    007EA DF2D      RCALL	_lcd_wcmd_2
    007EB C005      RJMP	0x07F1
(0197) 		  while (*s) 
(0198)        {
(0199)     	lcd_wdat_2( *s);
    007EC 01FA      MOVW	R30,R20
    007ED 8100      LD	R16,Z
    007EE DF4F      RCALL	_lcd_wdat_2
(0200)     	s ++;
    007EF 5F4F      SUBI	R20,0xFF
    007F0 4F5F      SBCI	R21,0xFF
    007F1 01FA      MOVW	R30,R20
    007F2 8020      LD	R2,Z
    007F3 2022      TST	R2
    007F4 F7B9      BNE	0x07EC
(0201)        }
(0202)     }else  if(y==3)
    007F5 C010      RJMP	0x0806
    007F6 2D8A      MOV	R24,R10
    007F7 3083      CPI	R24,3
    007F8 F469      BNE	0x0806
(0203)     {
(0204)     	lcd_wcmd_2(0x90 + x);
    007F9 2F06      MOV	R16,R22
    007FA 5700      SUBI	R16,0x70
    007FB DF1C      RCALL	_lcd_wcmd_2
    007FC C005      RJMP	0x0802
(0205) 		  while (*s) 
(0206)        {
(0207)     	lcd_wdat_2( *s);
    007FD 01FA      MOVW	R30,R20
    007FE 8100      LD	R16,Z
    007FF DF3E      RCALL	_lcd_wdat_2
(0208)     	s ++;
    00800 5F4F      SUBI	R20,0xFF
    00801 4F5F      SBCI	R21,0xFF
    00802 01FA      MOVW	R30,R20
    00803 8020      LD	R2,Z
    00804 2022      TST	R2
    00805 F7B9      BNE	0x07FD
(0209)        }
(0210)     }
    00806 940C 21DF JMP	pop_xgsetF00C
_lcd_write_str_con:
  s                    --> R20
  y                    --> R22
    00808 940E 21CE CALL	push_xgsetF000
    0080A 01A9      MOVW	R20,R18
    0080B 2F60      MOV	R22,R16
(0211)    
(0212) }
(0213) /*
(0214)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0215) */
(0216) void lcd_write_str_con(unsigned char y,unsigned char *s) 
(0217) {
(0218) 	
(0219)     if (y == 0 || y==1) 
    0080C 2366      TST	R22
    0080D F011      BEQ	0x0810
    0080E 3061      CPI	R22,1
    0080F F459      BNE	0x081B
(0220)     {
    00810 C005      RJMP	0x0816
(0221)     	
(0222) 		 while (*s) 
(0223)        {
(0224)     	lcd_wdat_1( *s);
    00811 01FA      MOVW	R30,R20
    00812 8100      LD	R16,Z
    00813 DEB2      RCALL	_lcd_wdat_1
(0225)     	s ++;
    00814 5F4F      SUBI	R20,0xFF
    00815 4F5F      SBCI	R21,0xFF
    00816 01FA      MOVW	R30,R20
    00817 8020      LD	R2,Z
    00818 2022      TST	R2
    00819 F7B9      BNE	0x0811
(0226)         }
(0227)     }
    0081A C00E      RJMP	0x0829
(0228)     else  if(y==2 || y==3)
    0081B 3062      CPI	R22,2
    0081C F011      BEQ	0x081F
    0081D 3063      CPI	R22,3
    0081E F451      BNE	0x0829
(0229)     {
    0081F C005      RJMP	0x0825
(0230)     	
(0231) 		  while (*s) 
(0232)        {
(0233)     	lcd_wdat_2( *s);
    00820 01FA      MOVW	R30,R20
    00821 8100      LD	R16,Z
    00822 DF1B      RCALL	_lcd_wdat_2
(0234)     	s ++;
    00823 5F4F      SUBI	R20,0xFF
    00824 4F5F      SBCI	R21,0xFF
    00825 01FA      MOVW	R30,R20
    00826 8020      LD	R2,Z
    00827 2022      TST	R2
    00828 F7B9      BNE	0x0820
(0235)        }
(0236)     }
    00829 940C 21D3 JMP	pop_xgsetF000
_read_ac_1:
  result               --> R20
    0082B 934A      ST	-Y,R20
    0082C 935A      ST	-Y,R21
(0237)    
(0238) }
(0239) //****************************
(0240) //  读出数据,.不知道有没有用，先放在这
(0241) //****************************
(0242) /**
(0243)  读程序。命令后，读AC地址
(0244) */
(0245) uchar read_ac_1(void){
(0246) 	uint result;
(0247) 	DDRA=0x00;
    0082D 2422      CLR	R2
    0082E BA2A      OUT	0x1A,R2
(0248) 	rs_l;
    0082F 9180 0065 LDS	R24,0x65
    00831 7F8D      ANDI	R24,0xFD
    00832 9380 0065 STS	0x65,R24
(0249) 	rw_h;
    00834 9180 0065 LDS	R24,0x65
    00836 6081      ORI	R24,1
    00837 9380 0065 STS	0x65,R24
(0250) 	ep1_h;
    00839 9180 0065 LDS	R24,0x65
    0083B 6088      ORI	R24,0x8
    0083C 9380 0065 STS	0x65,R24
(0251) 	delay_ms(1);
    0083E E001      LDI	R16,1
    0083F E010      LDI	R17,0
    00840 940E 03BF CALL	_delay_ms
(0252) 	result=PINA&(~(1<<PINA7));
    00842 B349      IN	R20,0x19
    00843 2755      CLR	R21
    00844 774F      ANDI	R20,0x7F
(0253) 	DDRA=0xFF;
    00845 EF8F      LDI	R24,0xFF
    00846 BB8A      OUT	0x1A,R24
(0254) 	ep1_l;
    00847 9180 0065 LDS	R24,0x65
    00849 7F87      ANDI	R24,0xF7
    0084A 9380 0065 STS	0x65,R24
(0255) 	return result;
    0084C 2F04      MOV	R16,R20
    0084D 9159      LD	R21,Y+
    0084E 9149      LD	R20,Y+
    0084F 9508      RET
_read_ac_2:
  result               --> R20
    00850 934A      ST	-Y,R20
    00851 935A      ST	-Y,R21
(0256) }
(0257) uchar read_ac_2(void){
(0258) 	uint result;
(0259) 	DDRA=0x00;
    00852 2422      CLR	R2
    00853 BA2A      OUT	0x1A,R2
(0260) 	rs_l;
    00854 9180 0065 LDS	R24,0x65
    00856 7F8D      ANDI	R24,0xFD
    00857 9380 0065 STS	0x65,R24
(0261) 	rw_h;
    00859 9180 0065 LDS	R24,0x65
    0085B 6081      ORI	R24,1
    0085C 9380 0065 STS	0x65,R24
(0262) 	ep2_h;
    0085E 9180 0062 LDS	R24,0x62
    00860 6081      ORI	R24,1
    00861 9380 0062 STS	0x62,R24
(0263) 	delay_ms(1);
    00863 E001      LDI	R16,1
    00864 E010      LDI	R17,0
    00865 940E 03BF CALL	_delay_ms
(0264) 	result=PINA&(~(1<<PINA7));
    00867 B349      IN	R20,0x19
    00868 2755      CLR	R21
    00869 774F      ANDI	R20,0x7F
(0265) 	DDRA=0xFF;
    0086A EF8F      LDI	R24,0xFF
    0086B BB8A      OUT	0x1A,R24
(0266) 	ep2_l;
    0086C 9180 0062 LDS	R24,0x62
    0086E 7F8E      ANDI	R24,0xFE
    0086F 9380 0062 STS	0x62,R24
(0267) 	return result;
    00871 2F04      MOV	R16,R20
    00872 9159      LD	R21,Y+
    00873 9149      LD	R20,Y+
    00874 9508      RET
(0268) }
(0269) 
(0270) void lcd_clear(void){
(0271)    lcd_clear_1();
_lcd_clear:
    00875 DE76      RCALL	_lcd_clear_1
(0272)     lcd_clear_2();
    00876 CEED      RJMP	_lcd_clear_2
_date_cmd_1:
  result               --> R10
    00877 92AA      ST	-Y,R10
    00878 92BA      ST	-Y,R11
(0273) }
(0274) /*
(0275)  读数据程序。命令后，读入。使用read_data函数会是设定的值，再吃调用本函数会使ac
(0276)  移动一次，8读取位的数据
(0277) */
(0278) uchar date_cmd_1(void){
(0279) 	uint result;
(0280) 	DDRA=0x00;
    00879 2422      CLR	R2
    0087A BA2A      OUT	0x1A,R2
(0281) 	rs_h;
    0087B 9180 0065 LDS	R24,0x65
    0087D 6082      ORI	R24,2
    0087E 9380 0065 STS	0x65,R24
(0282) 	rw_h;
    00880 9180 0065 LDS	R24,0x65
    00882 6081      ORI	R24,1
    00883 9380 0065 STS	0x65,R24
(0283) 	ep1_h;
    00885 9180 0065 LDS	R24,0x65
    00887 6088      ORI	R24,0x8
    00888 9380 0065 STS	0x65,R24
(0284) 	delay_ms(1);
    0088A E001      LDI	R16,1
    0088B E010      LDI	R17,0
    0088C 940E 03BF CALL	_delay_ms
(0285) 	result=PINA;
    0088E B2A9      IN	R10,0x19
    0088F 24BB      CLR	R11
(0286) 	DDRA=0xFF;
    00890 EF8F      LDI	R24,0xFF
    00891 BB8A      OUT	0x1A,R24
(0287) 	ep1_l;
    00892 9180 0065 LDS	R24,0x65
    00894 7F87      ANDI	R24,0xF7
    00895 9380 0065 STS	0x65,R24
(0288) 	return result;
    00897 2D0A      MOV	R16,R10
    00898 90B9      LD	R11,Y+
    00899 90A9      LD	R10,Y+
    0089A 9508      RET
_date_cmd_2:
  result               --> R10
    0089B 92AA      ST	-Y,R10
    0089C 92BA      ST	-Y,R11
(0289) }
(0290) uchar date_cmd_2(void){
(0291) 	uint result;
(0292) 	DDRA=0x00;
    0089D 2422      CLR	R2
    0089E BA2A      OUT	0x1A,R2
(0293) 	rs_h;
    0089F 9180 0065 LDS	R24,0x65
    008A1 6082      ORI	R24,2
    008A2 9380 0065 STS	0x65,R24
(0294) 	rw_h;
    008A4 9180 0065 LDS	R24,0x65
    008A6 6081      ORI	R24,1
    008A7 9380 0065 STS	0x65,R24
(0295) 	ep2_h;
    008A9 9180 0062 LDS	R24,0x62
    008AB 6081      ORI	R24,1
    008AC 9380 0062 STS	0x62,R24
(0296) 	delay_ms(1);
    008AE E001      LDI	R16,1
    008AF E010      LDI	R17,0
    008B0 940E 03BF CALL	_delay_ms
(0297) 	result=PINA;
    008B2 B2A9      IN	R10,0x19
    008B3 24BB      CLR	R11
(0298) 	DDRA=0xFF;
    008B4 EF8F      LDI	R24,0xFF
    008B5 BB8A      OUT	0x1A,R24
(0299) 	ep2_l;
    008B6 9180 0062 LDS	R24,0x62
    008B8 7F8E      ANDI	R24,0xFE
    008B9 9380 0062 STS	0x62,R24
(0300) 	return result;
    008BB 2D0A      MOV	R16,R10
    008BC 90B9      LD	R11,Y+
    008BD 90A9      LD	R10,Y+
    008BE 9508      RET
_read_data_xy:
  y                    --> R22
  x                    --> R20
    008BF 940E 21D8 CALL	push_xgsetF00C
    008C1 2F62      MOV	R22,R18
    008C2 2F40      MOV	R20,R16
(0301) }
(0302) //**************************
(0303) //读取函数，注意会ac位置
(0304) //**************************
(0305) uchar read_data_xy(unsigned char x,unsigned char y){
(0306) 	if (y == 0) {
    008C3 2366      TST	R22
    008C4 F449      BNE	0x08CE
(0307)     	lcd_wcmd_1(0x80 + x);
    008C5 2F04      MOV	R16,R20
    008C6 5800      SUBI	R16,0x80
    008C7 DDD8      RCALL	_lcd_wcmd_1
(0308) 		delay_us(10);
    008C8 E00A      LDI	R16,0xA
    008C9 E010      LDI	R17,0
    008CA 940E 03B5 CALL	_delay_us
(0309) 		return date_cmd_1();
    008CC DFAA      RCALL	_date_cmd_1
    008CD C024      RJMP	0x08F2
(0310) 		
(0311)     }else  if(y==1){
    008CE 3061      CPI	R22,1
    008CF F449      BNE	0x08D9
(0312)     	lcd_wcmd_1(0x90 + x);
    008D0 2F04      MOV	R16,R20
    008D1 5700      SUBI	R16,0x70
    008D2 DDCD      RCALL	_lcd_wcmd_1
(0313) 		delay_us(10);
    008D3 E00A      LDI	R16,0xA
    008D4 E010      LDI	R17,0
    008D5 940E 03B5 CALL	_delay_us
(0314) 		return date_cmd_1();
    008D7 DF9F      RCALL	_date_cmd_1
    008D8 C019      RJMP	0x08F2
(0315)     }else  if(y==2){
    008D9 3062      CPI	R22,2
    008DA F451      BNE	0x08E5
(0316)     	lcd_wcmd_2(0x80 + x);
    008DB 2F04      MOV	R16,R20
    008DC 5800      SUBI	R16,0x80
    008DD DE3A      RCALL	_lcd_wcmd_2
(0317) 		delay_us(10);
    008DE E00A      LDI	R16,0xA
    008DF E010      LDI	R17,0
    008E0 940E 03B5 CALL	_delay_us
(0318) 		return date_cmd_2();
    008E2 DFB8      RCALL	_date_cmd_2
    008E3 2EA0      MOV	R10,R16
    008E4 C00D      RJMP	0x08F2
(0319)     }else  if(y==3){
    008E5 3063      CPI	R22,3
    008E6 F451      BNE	0x08F1
(0320)     	lcd_wcmd_2(0x90 + x);
    008E7 2F04      MOV	R16,R20
    008E8 5700      SUBI	R16,0x70
    008E9 DE2E      RCALL	_lcd_wcmd_2
(0321) 		delay_us(10);
    008EA E00A      LDI	R16,0xA
    008EB E010      LDI	R17,0
    008EC 940E 03B5 CALL	_delay_us
(0322) 		return date_cmd_2();
    008EE DFAC      RCALL	_date_cmd_2
    008EF 2EA0      MOV	R10,R16
    008F0 C001      RJMP	0x08F2
(0323)     }
(0324) 	
(0325) 	return 0x00;
    008F1 2700      CLR	R16
    008F2 940C 21DF JMP	pop_xgsetF00C
_read_data_1:
  addr                 --> R10
    008F4 92AA      ST	-Y,R10
    008F5 2EA0      MOV	R10,R16
(0326) }
(0327) uchar read_data_1(unsigned char addr){
(0328) 	
(0329)     	lcd_wcmd_1(addr);
    008F6 2D0A      MOV	R16,R10
    008F7 DDA8      RCALL	_lcd_wcmd_1
(0330)     	return date_cmd_1();
    008F8 DF7E      RCALL	_date_cmd_1
    008F9 90A9      LD	R10,Y+
    008FA 9508      RET
_read_data_2:
  addr                 --> R10
    008FB 92AA      ST	-Y,R10
    008FC 2EA0      MOV	R10,R16
(0331) }
(0332) uchar read_data_2(unsigned char addr){
(0333)     	lcd_wcmd_1(addr);
    008FD 2D0A      MOV	R16,R10
    008FE DDA1      RCALL	_lcd_wcmd_1
(0334) 		return date_cmd_2();
    008FF DF9B      RCALL	_date_cmd_2
    00900 90A9      LD	R10,Y+
    00901 9508      RET
(0335) }
(0336) 
(0337) 
(0338) /*初始化功能*/
(0339) void lcd_init(void){
(0340) 	 //初始化端口功能
(0341) 	 DDRA |=0xFF;
_lcd_init:
    00902 B38A      IN	R24,0x1A
    00903 6F8F      ORI	R24,0xFF
    00904 BB8A      OUT	0x1A,R24
(0342) 	 PORTA=0xFF;
    00905 EF8F      LDI	R24,0xFF
    00906 BB8B      OUT	0x1B,R24
(0343) 	 DDRG |=0x0F;
    00907 9180 0064 LDS	R24,0x64
    00909 608F      ORI	R24,0xF
    0090A 9380 0064 STS	0x64,R24
(0344) 	 PORTG|=0x0F;
    0090C 9180 0065 LDS	R24,0x65
    0090E 608F      ORI	R24,0xF
    0090F 9380 0065 STS	0x65,R24
(0345) 	 DDRF|=0x01;
    00911 9180 0061 LDS	R24,0x61
    00913 6081      ORI	R24,1
    00914 9380 0061 STS	0x61,R24
(0346) 	 PORTF|=0x01;
    00916 9180 0062 LDS	R24,0x62
    00918 6081      ORI	R24,1
    00919 9380 0062 STS	0x62,R24
(0347) 	 //lcd_wcmd(0x38);//初始化功能,8位，基本指令
(0348) 	 lcd_wcmd_1(0x30);//初始化功能,8位，基本指令
    0091B E300      LDI	R16,0x30
    0091C DD83      RCALL	_lcd_wcmd_1
(0349) 	  lcd_wcmd_1(0x08);//关显示
    0091D E008      LDI	R16,0x8
    0091E DD81      RCALL	_lcd_wcmd_1
(0350) 	  lcd_wcmd_1(0x01);//清显示
    0091F E001      LDI	R16,1
    00920 DD7F      RCALL	_lcd_wcmd_1
(0351) 	  lcd_wcmd_1(0x06);//输入模式，右移
    00921 E006      LDI	R16,6
    00922 DD7D      RCALL	_lcd_wcmd_1
(0352) 	  lcd_wcmd_1(0x0c);//初始化光标,开显示
    00923 E00C      LDI	R16,0xC
    00924 DD7B      RCALL	_lcd_wcmd_1
(0353) 	
(0354) 	  lcd_wcmd_2(0x30);//初始化功能,8位，基本指令
    00925 E300      LDI	R16,0x30
    00926 DDF1      RCALL	_lcd_wcmd_2
(0355) 	 lcd_wcmd_2(0x08);//关显示
    00927 E008      LDI	R16,0x8
    00928 DDEF      RCALL	_lcd_wcmd_2
(0356) 	 lcd_wcmd_2(0x01);//清显示
    00929 E001      LDI	R16,1
    0092A DDED      RCALL	_lcd_wcmd_2
(0357) 	 lcd_wcmd_2(0x06);//输入模式，右移
    0092B E006      LDI	R16,6
    0092C DDEB      RCALL	_lcd_wcmd_2
(0358) 	 lcd_wcmd_2(0x0c);//初始化光标,开显示
    0092D E00C      LDI	R16,0xC
    0092E CDE9      RJMP	_lcd_wcmd_2
_cur_set:
  type                 --> R20
    0092F 934A      ST	-Y,R20
    00930 935A      ST	-Y,R21
    00931 01A8      MOVW	R20,R16
(0359) }
(0360) //************
(0361) // 光标显示操作,默认初始化都是关闭。上半屏 0:关闭,1：开游标,2：游标反白,3：开游标、反白
(0362) // 下半屏  4:关闭,5：开游标,6：游标反白,7：开游标、反白
(0363) //************
(0364) void cur_set(uint type){
(0365) 	 if(type==0){
    00932 3040      CPI	R20,0
    00933 0745      CPC	R20,R21
    00934 F419      BNE	0x0938
(0366) 	 	lcd_wcmd_1(0x0c);	 
    00935 E00C      LDI	R16,0xC
    00936 DD69      RCALL	_lcd_wcmd_1
(0367) 	 }else if(type==1){
    00937 C030      RJMP	0x0968
    00938 3041      CPI	R20,1
    00939 E0E0      LDI	R30,0
    0093A 075E      CPC	R21,R30
    0093B F419      BNE	0x093F
(0368) 	     lcd_wcmd_1(0x0e);
    0093C E00E      LDI	R16,0xE
    0093D DD62      RCALL	_lcd_wcmd_1
(0369) 	 }else if(type==2){
    0093E C029      RJMP	0x0968
    0093F 3042      CPI	R20,2
    00940 E0E0      LDI	R30,0
    00941 075E      CPC	R21,R30
    00942 F419      BNE	0x0946
(0370) 	    lcd_wcmd_1(0x0d);
    00943 E00D      LDI	R16,0xD
    00944 DD5B      RCALL	_lcd_wcmd_1
(0371) 	 }else if(type==3){
    00945 C022      RJMP	0x0968
    00946 3043      CPI	R20,3
    00947 E0E0      LDI	R30,0
    00948 075E      CPC	R21,R30
    00949 F419      BNE	0x094D
(0372) 	    lcd_wcmd_1(0x0f);
    0094A E00F      LDI	R16,0xF
    0094B DD54      RCALL	_lcd_wcmd_1
(0373) 	 }else if(type==4){
    0094C C01B      RJMP	0x0968
    0094D 3044      CPI	R20,4
    0094E E0E0      LDI	R30,0
    0094F 075E      CPC	R21,R30
    00950 F419      BNE	0x0954
(0374) 	    lcd_wcmd_2(0x0c);
    00951 E00C      LDI	R16,0xC
    00952 DDC5      RCALL	_lcd_wcmd_2
(0375) 	 }else if(type==5){
    00953 C014      RJMP	0x0968
    00954 3045      CPI	R20,5
    00955 E0E0      LDI	R30,0
    00956 075E      CPC	R21,R30
    00957 F419      BNE	0x095B
(0376) 	    lcd_wcmd_2(0x0e);
    00958 E00E      LDI	R16,0xE
    00959 DDBE      RCALL	_lcd_wcmd_2
(0377) 	 }else if(type==6){
    0095A C00D      RJMP	0x0968
    0095B 3046      CPI	R20,6
    0095C E0E0      LDI	R30,0
    0095D 075E      CPC	R21,R30
    0095E F419      BNE	0x0962
(0378) 	    lcd_wcmd_2(0x0d);
    0095F E00D      LDI	R16,0xD
    00960 DDB7      RCALL	_lcd_wcmd_2
(0379) 	 }else if(type==7){
    00961 C006      RJMP	0x0968
    00962 3047      CPI	R20,7
    00963 E0E0      LDI	R30,0
    00964 075E      CPC	R21,R30
    00965 F411      BNE	0x0968
(0380) 	    lcd_wcmd_2(0x0f);
    00966 E00F      LDI	R16,0xF
    00967 DDB0      RCALL	_lcd_wcmd_2
(0381) 	 }
    00968 9159      LD	R21,Y+
    00969 9149      LD	R20,Y+
    0096A 9508      RET
(0382) }
(0383) //***************************************************
(0384) //   反白相关
(0385) //***************************************************
(0386) /********************************************************************  
(0387)     函 数 名：Set_Draw(  
(0388)     入口参数：无  
(0389)     出口参数：无  
(0390)     修改日期：  
(0391)     函数作用：  
(0392)     说    明：  
(0393)     ********************************************************************/   
(0394)     void Set_Draw(void)   
(0395)     {   
(0396)         //W_1byte(0,0,0x01);            //清屏    
(0397)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0398)         lcd_wcmd_1(0x36); 
_Set_Draw:
    0096B E306      LDI	R16,0x36
    0096C DD33      RCALL	_lcd_wcmd_1
(0399) 		lcd_wcmd_2(0x36);   
    0096D E306      LDI	R16,0x36
    0096E CDA9      RJMP	_lcd_wcmd_2
(0400)     }
(0401) 	void Set_UNDraw(void)   
(0402)     {   
(0403)         //W_1byte(0,0,0x01);            //清屏   
(0404)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0405)         lcd_wcmd_1(0x30); 
_Set_UNDraw:
    0096F E300      LDI	R16,0x30
    00970 DD2F      RCALL	_lcd_wcmd_1
(0406) 		lcd_wcmd_2(0x30);   
    00971 E300      LDI	R16,0x30
    00972 CDA5      RJMP	_lcd_wcmd_2
_Set_White_off:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    00973 940E 2168 CALL	push_arg4
    00975 940E 21B9 CALL	push_xgsetF0FC
    00977 2F62      MOV	R22,R18
    00978 9721      SBIW	R28,1
    00979 84AF      LDD	R10,Y+15
(0407)     }
(0408) /**************************************************  
(0409)     uchar x,起始位置
(0410) 	uchar y,对应y
(0411) 	uchar end_x, 反白结束位置
(0412) 	uchar clear 0：反白，1：不反白
(0413)  **************************************************/   
(0414)     void Set_White_off(uchar x,uchar y,uchar end_x)   
(0415)     {   
(0416)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0417)         white_end_x = (end_x-x+1);   
    0097A 2D8A      MOV	R24,R10
    0097B 840B      LDD	R0,Y+11
    0097C 1980      SUB	R24,R0
    0097D 5F8F      SUBI	R24,0xFF
    0097E 2EC8      MOV	R12,R24
(0418)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    0097F 0CCC      LSL	R12
(0419) 		Set_Draw(); //开画图
    00980 DFEA      RCALL	_Set_Draw
(0420)         if(y==0)   
    00981 2366      TST	R22
    00982 F449      BNE	0x098C
(0421)         {   
(0422)             white_x = (0x80+x-1);   
    00983 858B      LDD	R24,Y+11
    00984 5880      SUBI	R24,0x80
    00985 5081      SUBI	R24,1
    00986 8388      ST	Y,R24
(0423)             white_y = 0x80;   
    00987 E840      LDI	R20,0x80
(0424)             clr_x = 0x80;   
    00988 E880      LDI	R24,0x80
    00989 2EA8      MOV	R10,R24
(0425)             clr_y = 0x80;   
    0098A 2EE8      MOV	R14,R24
(0426)         }   
    0098B C022      RJMP	0x09AE
(0427)         else if(y==1)   
    0098C 3061      CPI	R22,1
    0098D F451      BNE	0x0998
(0428)         {   
(0429)             white_x = (0x80+x-1);   
    0098E 858B      LDD	R24,Y+11
    0098F 5880      SUBI	R24,0x80
    00990 5081      SUBI	R24,1
    00991 8388      ST	Y,R24
(0430)             white_y = 0x90;   
    00992 E940      LDI	R20,0x90
(0431)             clr_x = 0x80;   
    00993 E880      LDI	R24,0x80
    00994 2EA8      MOV	R10,R24
(0432)             clr_y = 0x90;   
    00995 E980      LDI	R24,0x90
    00996 2EE8      MOV	R14,R24
(0433)         }   
    00997 C016      RJMP	0x09AE
(0434)         else if(y==2)   
    00998 3062      CPI	R22,2
    00999 F449      BNE	0x09A3
(0435)         {   
(0436)             white_x = (0x80+x-1);   
    0099A 858B      LDD	R24,Y+11
    0099B 5880      SUBI	R24,0x80
    0099C 5081      SUBI	R24,1
    0099D 8388      ST	Y,R24
(0437)             white_y = 0x80;   
    0099E E840      LDI	R20,0x80
(0438)             clr_x = 0x80;   
    0099F E880      LDI	R24,0x80
    009A0 2EA8      MOV	R10,R24
(0439)             clr_y = 0x80;   
    009A1 2EE8      MOV	R14,R24
(0440)         }   
    009A2 C00B      RJMP	0x09AE
(0441)         else if(y==3)   
    009A3 3063      CPI	R22,3
    009A4 F449      BNE	0x09AE
(0442)         {   
(0443)             white_x = (0x80+x-1);   
    009A5 858B      LDD	R24,Y+11
    009A6 5880      SUBI	R24,0x80
    009A7 5081      SUBI	R24,1
    009A8 8388      ST	Y,R24
(0444)             white_y = 0x90;   
    009A9 E940      LDI	R20,0x90
(0445)             clr_x = 0x80;   
    009AA E880      LDI	R24,0x80
    009AB 2EA8      MOV	R10,R24
(0446)             clr_y = 0x90;   
    009AC E980      LDI	R24,0x90
    009AD 2EE8      MOV	R14,R24
(0447)         }   
(0448) 		if(y==0 || y==1){    
    009AE 2366      TST	R22
    009AF F011      BEQ	0x09B2
    009B0 3061      CPI	R22,1
    009B1 F4A1      BNE	0x09C6
(0449)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    009B2 24AA      CLR	R10
    009B3 C00E      RJMP	0x09C2
(0450)           {   
(0451)              lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    009B4 2E24      MOV	R2,R20
    009B5 5F4F      SUBI	R20,0xFF
    009B6 2D02      MOV	R16,R2
    009B7 DCE8      RCALL	_lcd_wcmd_1
(0452)              lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    009B8 8108      LD	R16,Y
    009B9 DCE6      RCALL	_lcd_wcmd_1
(0453)              for(j=0;j<white_end_x;j++)   //   
    009BA 24EE      CLR	R14
    009BB C003      RJMP	0x09BF
(0454)              {     
(0455)                lcd_wdat_1(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    009BC 2700      CLR	R16
    009BD DD08      RCALL	_lcd_wdat_1
    009BE 94E3      INC	R14
    009BF 14EC      CP	R14,R12
    009C0 F3D8      BCS	0x09BC
    009C1 94A3      INC	R10
    009C2 2D8A      MOV	R24,R10
    009C3 3180      CPI	R24,0x10
    009C4 F378      BCS	0x09B4
(0456)              }   
(0457)           }
(0458) 		}else if(y==2 || y==3){
    009C5 C017      RJMP	0x09DD
    009C6 3062      CPI	R22,2
    009C7 F011      BEQ	0x09CA
    009C8 3063      CPI	R22,3
    009C9 F499      BNE	0x09DD
(0459) 		    for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    009CA 24AA      CLR	R10
    009CB C00E      RJMP	0x09DA
(0460)           {   
(0461)              lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    009CC 2E24      MOV	R2,R20
    009CD 5F4F      SUBI	R20,0xFF
    009CE 2D02      MOV	R16,R2
    009CF DD48      RCALL	_lcd_wcmd_2
(0462)              lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    009D0 8108      LD	R16,Y
    009D1 DD46      RCALL	_lcd_wcmd_2
(0463)              for(j=0;j<white_end_x;j++)   //   
    009D2 24EE      CLR	R14
    009D3 C003      RJMP	0x09D7
(0464)              {     
(0465)                lcd_wdat_2(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    009D4 2700      CLR	R16
    009D5 DD68      RCALL	_lcd_wdat_2
    009D6 94E3      INC	R14
    009D7 14EC      CP	R14,R12
    009D8 F3D8      BCS	0x09D4
    009D9 94A3      INC	R10
    009DA 2D8A      MOV	R24,R10
    009DB 3180      CPI	R24,0x10
    009DC F378      BCS	0x09CC
(0466)              }   
(0467)           }
(0468) 		}
(0469) 		  Set_UNDraw();//关画图  
    009DD DF91      RCALL	_Set_UNDraw
    009DE 9621      ADIW	R28,1
    009DF 940E 21AE CALL	pop_xgsetF0FC
    009E1 9624      ADIW	R28,4
    009E2 9508      RET
_Set_White:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    009E3 940E 2168 CALL	push_arg4
    009E5 940E 21B9 CALL	push_xgsetF0FC
    009E7 2F62      MOV	R22,R18
    009E8 9721      SBIW	R28,1
    009E9 84AF      LDD	R10,Y+15
(0470)     } 
(0471) 	void Set_White(uchar x,uchar y,uchar end_x)   
(0472)     {   
(0473)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0474)         white_end_x = (end_x-x+1);   
    009EA 2D8A      MOV	R24,R10
    009EB 840B      LDD	R0,Y+11
    009EC 1980      SUB	R24,R0
    009ED 5F8F      SUBI	R24,0xFF
    009EE 2EC8      MOV	R12,R24
(0475)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    009EF 0CCC      LSL	R12
(0476) 		Set_Draw(); //开画图
    009F0 DF7A      RCALL	_Set_Draw
(0477)         if(y==0)   
    009F1 2366      TST	R22
    009F2 F449      BNE	0x09FC
(0478)         {   
(0479)             white_x = (0x80+x-1);   
    009F3 858B      LDD	R24,Y+11
    009F4 5880      SUBI	R24,0x80
    009F5 5081      SUBI	R24,1
    009F6 8388      ST	Y,R24
(0480)             white_y = 0x80;   
    009F7 E840      LDI	R20,0x80
(0481)             clr_x = 0x80;   
    009F8 E880      LDI	R24,0x80
    009F9 2EA8      MOV	R10,R24
(0482)             clr_y = 0x80;   
    009FA 2EE8      MOV	R14,R24
(0483)         }   
    009FB C022      RJMP	0x0A1E
(0484)         else if(y==1)   
    009FC 3061      CPI	R22,1
    009FD F451      BNE	0x0A08
(0485)         {   
(0486)             white_x = (0x80+x-1);   
    009FE 858B      LDD	R24,Y+11
    009FF 5880      SUBI	R24,0x80
    00A00 5081      SUBI	R24,1
    00A01 8388      ST	Y,R24
(0487)             white_y = 0x90;   
    00A02 E940      LDI	R20,0x90
(0488)             clr_x = 0x80;   
    00A03 E880      LDI	R24,0x80
    00A04 2EA8      MOV	R10,R24
(0489)             clr_y = 0x90;   
    00A05 E980      LDI	R24,0x90
    00A06 2EE8      MOV	R14,R24
(0490)         }   
    00A07 C016      RJMP	0x0A1E
(0491)         else if(y==2)   
    00A08 3062      CPI	R22,2
    00A09 F449      BNE	0x0A13
(0492)         {   
(0493)             white_x = (0x80+x-1);   
    00A0A 858B      LDD	R24,Y+11
    00A0B 5880      SUBI	R24,0x80
    00A0C 5081      SUBI	R24,1
    00A0D 8388      ST	Y,R24
(0494)             white_y = 0x80;   
    00A0E E840      LDI	R20,0x80
(0495)             clr_x = 0x80;   
    00A0F E880      LDI	R24,0x80
    00A10 2EA8      MOV	R10,R24
(0496)             clr_y = 0x80;   
    00A11 2EE8      MOV	R14,R24
(0497)         }   
    00A12 C00B      RJMP	0x0A1E
(0498)         else if(y==3)   
    00A13 3063      CPI	R22,3
    00A14 F449      BNE	0x0A1E
(0499)         {   
(0500)             white_x = (0x80+x-1);   
    00A15 858B      LDD	R24,Y+11
    00A16 5880      SUBI	R24,0x80
    00A17 5081      SUBI	R24,1
    00A18 8388      ST	Y,R24
(0501)             white_y = 0x90;   
    00A19 E940      LDI	R20,0x90
(0502)             clr_x = 0x80;   
    00A1A E880      LDI	R24,0x80
    00A1B 2EA8      MOV	R10,R24
(0503)             clr_y = 0x90;   
    00A1C E980      LDI	R24,0x90
    00A1D 2EE8      MOV	R14,R24
(0504)         } 
(0505) 		if(y==0 || y==1){          
    00A1E 2366      TST	R22
    00A1F F011      BEQ	0x0A22
    00A20 3061      CPI	R22,1
    00A21 F4A1      BNE	0x0A36
(0506)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00A22 24AA      CLR	R10
    00A23 C00E      RJMP	0x0A32
(0507)           {   
(0508)               lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    00A24 2E24      MOV	R2,R20
    00A25 5F4F      SUBI	R20,0xFF
    00A26 2D02      MOV	R16,R2
    00A27 DC78      RCALL	_lcd_wcmd_1
(0509)               lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    00A28 8108      LD	R16,Y
    00A29 DC76      RCALL	_lcd_wcmd_1
(0510)               for(j=0;j<white_end_x;j++)   //   
    00A2A 24EE      CLR	R14
    00A2B C003      RJMP	0x0A2F
(0511)               {    
(0512)                     lcd_wdat_1(0xff); //反白这一行的8个点，液晶地址自动加1     
    00A2C EF0F      LDI	R16,0xFF
    00A2D DC98      RCALL	_lcd_wdat_1
    00A2E 94E3      INC	R14
    00A2F 14EC      CP	R14,R12
    00A30 F3D8      BCS	0x0A2C
    00A31 94A3      INC	R10
    00A32 2D8A      MOV	R24,R10
    00A33 3180      CPI	R24,0x10
    00A34 F378      BCS	0x0A24
(0513)               }   
(0514)           }
(0515) 		}else if(y==2 || y==3){
    00A35 C017      RJMP	0x0A4D
    00A36 3062      CPI	R22,2
    00A37 F011      BEQ	0x0A3A
    00A38 3063      CPI	R22,3
    00A39 F499      BNE	0x0A4D
(0516) 		   for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00A3A 24AA      CLR	R10
    00A3B C00E      RJMP	0x0A4A
(0517)             {   
(0518)               lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    00A3C 2E24      MOV	R2,R20
    00A3D 5F4F      SUBI	R20,0xFF
    00A3E 2D02      MOV	R16,R2
    00A3F DCD8      RCALL	_lcd_wcmd_2
(0519)               lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    00A40 8108      LD	R16,Y
    00A41 DCD6      RCALL	_lcd_wcmd_2
(0520)               for(j=0;j<white_end_x;j++)   //   
    00A42 24EE      CLR	R14
    00A43 C003      RJMP	0x0A47
(0521)               {    
(0522)                     lcd_wdat_2(0xff); //反白这一行的8个点，液晶地址自动加1     
    00A44 EF0F      LDI	R16,0xFF
    00A45 DCF8      RCALL	_lcd_wdat_2
    00A46 94E3      INC	R14
    00A47 14EC      CP	R14,R12
    00A48 F3D8      BCS	0x0A44
    00A49 94A3      INC	R10
    00A4A 2D8A      MOV	R24,R10
    00A4B 3180      CPI	R24,0x10
    00A4C F378      BCS	0x0A3C
(0523)               }   
(0524)             }
(0525) 		}
(0526) 		  Set_UNDraw();//关画图  
    00A4D DF21      RCALL	_Set_UNDraw
    00A4E 9621      ADIW	R28,1
    00A4F 940E 21AE CALL	pop_xgsetF0FC
    00A51 9624      ADIW	R28,4
    00A52 9508      RET
_Draw_Pic:
  temp_y               --> R20
  temp_x               --> R22
  i                    --> R10
  j                    --> R14
  Draw                 --> Y,+12
  y                    --> Y,+10
  x                    --> R12
    00A53 933A      ST	-Y,R19
    00A54 932A      ST	-Y,R18
    00A55 940E 21B9 CALL	push_xgsetF0FC
    00A57 2EC0      MOV	R12,R16
(0527)     } 
(0528) 	/********************************************************************  
(0529)     函 数 名：Draw_Pic  128*64  
(0530)     入口参数：x,y,*Draw  
(0531)     出口参数：无  
(0532)     建立日期：2007年8月26日  
(0533)     修改日期：  
(0534)     函数作用：  
(0535)     说    明：  
(0536)     ********************************************************************/   
(0537)     /*************************************************/   
(0538)        
(0539)     void Draw_Pic(uchar x, uchar y, const uchar *Draw)   
(0540)     {   
(0541)         uchar i, j, temp_x, temp_y;     //   
(0542) 		lcd_wcmd_1(0x34);
    00A58 E304      LDI	R16,0x34
    00A59 DC46      RCALL	_lcd_wcmd_1
(0543) 		lcd_wcmd_2(0x34);
    00A5A E304      LDI	R16,0x34
    00A5B DCBC      RCALL	_lcd_wcmd_2
(0544)         temp_x = x;                     //   
    00A5C 2D6C      MOV	R22,R12
(0545)         temp_y = y;                     //   
    00A5D 854A      LDD	R20,Y+10
(0546)         temp_x |= 0x80;                 //   
    00A5E 6860      ORI	R22,0x80
(0547)         temp_y |= 0x80;                 //   
    00A5F 6840      ORI	R20,0x80
(0548)         for(i=0;i<32;i++ )               //上半屏32行   
    00A60 24AA      CLR	R10
    00A61 C013      RJMP	0x0A75
(0549)         {   
(0550)             lcd_wcmd_1(temp_y++);      //设置绘图区的Y地址坐标0   
    00A62 2E24      MOV	R2,R20
    00A63 5F4F      SUBI	R20,0xFF
    00A64 2D02      MOV	R16,R2
    00A65 DC3A      RCALL	_lcd_wcmd_1
(0551)             lcd_wcmd_1(temp_x);        //设置绘图区的X地址坐标0   
    00A66 2F06      MOV	R16,R22
    00A67 DC38      RCALL	_lcd_wcmd_1
(0552)             for(j=0;j<24;j++)            //   
    00A68 24EE      CLR	R14
    00A69 C007      RJMP	0x0A71
(0553)             {   
(0554)                  lcd_wdat_1(*Draw++);  //   
    00A6A 85EC      LDD	R30,Y+12
    00A6B 85FD      LDD	R31,Y+13
    00A6C 9101      LD	R16,Z+
    00A6D 87FD      STD	Y+13,R31
    00A6E 87EC      STD	Y+12,R30
    00A6F DC56      RCALL	_lcd_wdat_1
    00A70 94E3      INC	R14
    00A71 2D8E      MOV	R24,R14
    00A72 3188      CPI	R24,0x18
    00A73 F3B0      BCS	0x0A6A
    00A74 94A3      INC	R10
    00A75 2D8A      MOV	R24,R10
    00A76 3280      CPI	R24,0x20
    00A77 F350      BCS	0x0A62
(0555)             }   
(0556)         }   
(0557)            
(0558)         temp_x = x;                     //   
    00A78 2D6C      MOV	R22,R12
(0559)         temp_y = y;                     //   
    00A79 854A      LDD	R20,Y+10
(0560)         temp_x |= 0x80;                 //   
    00A7A 6860      ORI	R22,0x80
(0561)         temp_y |= 0x80;                   //   
    00A7B 6840      ORI	R20,0x80
(0562)         j = 0;                          //   
    00A7C 24EE      CLR	R14
(0563)         for(;i<64;i++ )   
    00A7D C013      RJMP	0x0A91
(0564)         {   
(0565)             lcd_wcmd_2(temp_y++);      //设置绘图区的Y地址坐标   
    00A7E 2E24      MOV	R2,R20
    00A7F 5F4F      SUBI	R20,0xFF
    00A80 2D02      MOV	R16,R2
    00A81 DC96      RCALL	_lcd_wcmd_2
(0566)             lcd_wcmd_2(temp_x);        //设置绘图区的X地址坐标   
    00A82 2F06      MOV	R16,R22
    00A83 DC94      RCALL	_lcd_wcmd_2
(0567)             for(j=0;j<24;j++)   
    00A84 24EE      CLR	R14
    00A85 C007      RJMP	0x0A8D
(0568)             {   
(0569)                  lcd_wdat_2(*Draw++);  //   
    00A86 85EC      LDD	R30,Y+12
    00A87 85FD      LDD	R31,Y+13
    00A88 9101      LD	R16,Z+
    00A89 87FD      STD	Y+13,R31
    00A8A 87EC      STD	Y+12,R30
    00A8B DCB2      RCALL	_lcd_wdat_2
    00A8C 94E3      INC	R14
    00A8D 2D8E      MOV	R24,R14
    00A8E 3188      CPI	R24,0x18
    00A8F F3B0      BCS	0x0A86
    00A90 94A3      INC	R10
    00A91 2D8A      MOV	R24,R10
    00A92 3480      CPI	R24,0x40
    00A93 F350      BCS	0x0A7E
(0570)             }   
(0571)         }   
(0572)        lcd_wcmd_1(0x36);
    00A94 E306      LDI	R16,0x36
    00A95 DC0A      RCALL	_lcd_wcmd_1
(0573) 	   lcd_wcmd_2(0x36);
    00A96 E306      LDI	R16,0x36
    00A97 DC80      RCALL	_lcd_wcmd_2
(0574) 	   delay_us(1);
    00A98 E001      LDI	R16,1
    00A99 E010      LDI	R17,0
    00A9A 940E 03B5 CALL	_delay_us
(0575) 	   lcd_wcmd_1(0x30);
    00A9C E300      LDI	R16,0x30
    00A9D DC02      RCALL	_lcd_wcmd_1
(0576) 	   lcd_wcmd_2(0x30);
    00A9E E300      LDI	R16,0x30
    00A9F DC78      RCALL	_lcd_wcmd_2
    00AA0 940E 21AE CALL	pop_xgsetF0FC
    00AA2 9622      ADIW	R28,2
    00AA3 9508      RET
_lcd_Desk:
    00AA4 9722      SBIW	R28,2
(0577) 	        
(0578)     }  
(0579)     /*************************************************/  
(0580) //***********************************************************************
(0581) //      液晶显示界面初始化
(0582) //***********************************************************************
(0583) void lcd_Desk(void)
(0584) { 
(0585)   //uint i=0;   
(0586)  // lcd_clear();
(0587)   //lcd_write_str(0,0,"ADC0:");
(0588)   lcd_write_str(0,3,"反白测试第一次");
    00AA5 E084      LDI	R24,4
    00AA6 E091      LDI	R25,1
    00AA7 8399      STD	Y+1,R25
    00AA8 8388      ST	Y,R24
    00AA9 E023      LDI	R18,3
    00AAA 2700      CLR	R16
    00AAB DD12      RCALL	_lcd_write_str
(0589)   lcd_write_str(0,0,"反白测试第一次");
    00AAC E084      LDI	R24,4
    00AAD E091      LDI	R25,1
    00AAE 8399      STD	Y+1,R25
    00AAF 8388      ST	Y,R24
    00AB0 2722      CLR	R18
    00AB1 2700      CLR	R16
    00AB2 DD0B      RCALL	_lcd_write_str
(0590)   //delay_ms(100);
(0591)      
(0592)     Set_White(1,1,7); 
    00AB3 E087      LDI	R24,7
    00AB4 8388      ST	Y,R24
    00AB5 E021      LDI	R18,1
    00AB6 E001      LDI	R16,1
    00AB7 DF2B      RCALL	_Set_White
(0593) 	   
(0594) 	 
(0595)     delay_ms(3000); 
    00AB8 EB08      LDI	R16,0xB8
    00AB9 E01B      LDI	R17,0xB
    00ABA 940E 03BF CALL	_delay_ms
(0596)      Set_White_off(1,1,7);
    00ABC E087      LDI	R24,7
    00ABD 8388      ST	Y,R24
    00ABE E021      LDI	R18,1
    00ABF E001      LDI	R16,1
    00AC0 DEB2      RCALL	_Set_White_off
(0597) 	Set_White(2,1,2); 
    00AC1 E082      LDI	R24,2
    00AC2 8388      ST	Y,R24
    00AC3 E021      LDI	R18,1
    00AC4 E002      LDI	R16,2
    00AC5 DF1D      RCALL	_Set_White
(0598) 	 delay_ms(300); 
    00AC6 E20C      LDI	R16,0x2C
    00AC7 E011      LDI	R17,1
    00AC8 940E 03BF CALL	_delay_ms
(0599) 	 Set_White_off(2,2,7);
    00ACA E087      LDI	R24,7
    00ACB 8388      ST	Y,R24
    00ACC E022      LDI	R18,2
    00ACD E002      LDI	R16,2
    00ACE DEA4      RCALL	_Set_White_off
(0600) 	 Set_White(3,1,5);   
    00ACF E085      LDI	R24,5
    00AD0 8388      ST	Y,R24
    00AD1 E021      LDI	R18,1
    00AD2 E003      LDI	R16,3
    00AD3 DF0F      RCALL	_Set_White
    00AD4 9622      ADIW	R28,2
    00AD5 9508      RET
_main:
  data                 --> Y,+2
  i                    --> Y,+2
    00AD6 9721      SBIW	R28,1
FILE: E:\ICCDemo\Temp_Control\temp_control\main.c
(0001) 
(0002) #include<iom128v.h>
(0003) #include "main.h"
(0004) #include "lcd.h"
(0005) #include "time.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "timertask.h"
(0009) #include "eeprom.h"
(0010) #include "pages.h"
(0011) #include "temp.h"
(0012) //const unsigned char nihao[1536]={};
(0013) 
(0014) //下面两个要删掉，现在为编译暂时不删
(0015)  unsigned int temp_h=0;
(0016)  unsigned int temp_l=0;
(0017)  //uart需要参数
(0018)  unsigned char send_buf[600];
(0019)  unsigned char receive_buf[600];
(0020)  unsigned int send_len;
(0021)  unsigned int receive_len;
(0022)  //界面需要参数
(0023)  unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0024)  unsigned int pageParam[5];//传递参数。界面间参数暂存
(0025)  unsigned int prePageNum; //上一界面。应该在跳转前设置这个参数。但是用到这个参数的就Page3、4、8.所以可以直接在该界面用到在设置。不用理会规则
(0026)  //**************
(0027) struct temp temps[4]={{0},{0},{0},{0}};
(0028) 
(0029) 
(0030) //*************************************************************************
(0031) //			主程序
(0032) //*************************************************************************
(0033) void main(void)
(0034) { 
(0035) uint i;
(0036)   uchar data;
(0037) 
(0038)   DDRE=0xFF;
    00AD7 EF8F      LDI	R24,0xFF
    00AD8 B982      OUT	0x02,R24
(0039)   SREG|=0x80;//开中断
    00AD9 9478      BSET	7
(0040)   lcd_init();
    00ADA 940E 0902 CALL	_lcd_init
(0041)   lcd_clear();
    00ADC 940E 0875 CALL	_lcd_clear
(0042)   //Initial_time(); 
(0043)    //画欢迎界面
(0044)   //Draw_Pic( 0, 0, nihao);
(0045)    //delay_ms(1000);
(0046)   tempdata_init();//数据初始化，清空
    00ADE 940E 1F53 CALL	_tempdata_init
(0047)  
(0048)   pageNum=2;
    00AE0 E082      LDI	R24,2
    00AE1 E090      LDI	R25,0
    00AE2 9390 0C58 STS	pageNum+1,R25
    00AE4 9380 0C57 STS	pageNum,R24
(0049)      Set_White_off(1,0,12);
    00AE6 E08C      LDI	R24,0xC
    00AE7 8388      ST	Y,R24
    00AE8 2722      CLR	R18
    00AE9 E001      LDI	R16,1
    00AEA 940E 0973 CALL	_Set_White_off
(0050) 	 Set_White_off(1,1,12);
    00AEC E08C      LDI	R24,0xC
    00AED 8388      ST	Y,R24
    00AEE E021      LDI	R18,1
    00AEF E001      LDI	R16,1
    00AF0 940E 0973 CALL	_Set_White_off
(0051) 	 Set_White_off(1,2,12);
    00AF2 E08C      LDI	R24,0xC
    00AF3 8388      ST	Y,R24
    00AF4 E022      LDI	R18,2
    00AF5 E001      LDI	R16,1
    00AF6 940E 0973 CALL	_Set_White_off
(0052) 	 Set_White_off(1,3,12);
    00AF8 E08C      LDI	R24,0xC
    00AF9 8388      ST	Y,R24
    00AFA E023      LDI	R18,3
    00AFB E001      LDI	R16,1
    00AFC 940E 0973 CALL	_Set_White_off
    00AFE C002      RJMP	0x0B01
(0053) 	 while(1){
(0054)      dispatchPages();
    00AFF 940E 1EF4 CALL	_dispatchPages
    00B01 CFFD      RJMP	0x0AFF
    00B02 9621      ADIW	R28,1
    00B03 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\timertask.c
(0001) #include<iom128v.h>
(0002) #include "timertask.h"
(0003) #include "time.h"
(0004) #include "lcd.h"
(0005) #include "delay.h"
(0006) unsigned char time_h_1, time_l_1,time_h_3, time_l_3,time_0, time_2,i;
(0007) //************************************************
(0008) //16位定时器，定时器1
(0009) //*************************************************
(0010) /*
(0011)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0012)   自行计算时间传入。传入高低八位
(0013) */
(0014) void Timerinit_1(uchar time_h,uchar time_l){
(0015)     time_h_1=time_h;
_Timerinit_1:
  time_l               --> R18
  time_h               --> R16
    00B04 9300 0C5F STS	time_h_1,R16
(0016) 	time_l_1=time_l;
    00B06 9320 0C5E STS	time_l_1,R18
(0017) 	 TCCR1B=0x00;
    00B08 2422      CLR	R2
    00B09 BC2E      OUT	0x2E,R2
(0018) 	//写入初值
(0019)     TCNT1H=time_h;
    00B0A BD0D      OUT	0x2D,R16
(0020)     TCNT1L=time_l;
    00B0B BD2C      OUT	0x2C,R18
(0021) 	//普通计数，1024分频
(0022)     TCCR1A=0x00;
    00B0C BC2F      OUT	0x2F,R2
(0023)     TCCR1B=0x05;
    00B0D E085      LDI	R24,5
    00B0E BD8E      OUT	0x2E,R24
(0024) 	 TIMSK|=0x04;//开定时器1溢出中断,16位的
    00B0F B787      IN	R24,0x37
    00B10 6084      ORI	R24,4
    00B11 BF87      OUT	0x37,R24
    00B12 9508      RET
(0025) }
(0026) //************************************************
(0027) //16位定时器，定时器3
(0028) //*************************************************
(0029) /*
(0030)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0031)   自行计算时间传入。传入高低八位
(0032) */
(0033) void Timerinit_3(uchar time_h,uchar time_l){
(0034)  	time_h_3=time_h;
_Timerinit_3:
  time_l               --> R18
  time_h               --> R16
    00B13 9300 0C5D STS	time_h_3,R16
(0035) 	time_l_3=time_l;
    00B15 9320 0C5C STS	time_l_3,R18
(0036) 	//写入初值
(0037) 	 TCCR3B=0x00;
    00B17 2422      CLR	R2
    00B18 9220 008A STS	0x8A,R2
(0038)     TCNT3H=time_h;
    00B1A 9300 0089 STS	0x89,R16
(0039)     TCNT3L=time_l;
    00B1C 9320 0088 STS	0x88,R18
(0040) 	//普通计数，1024分频
(0041)     TCCR3A=0x00;
    00B1E 9220 008B STS	0x8B,R2
(0042)     TCCR3B=0x05;
    00B20 E085      LDI	R24,5
    00B21 9380 008A STS	0x8A,R24
(0043) 	ETIMSK |=0x04;//开外部中断1
    00B23 9180 007D LDS	R24,0x7D
    00B25 6084      ORI	R24,4
    00B26 9380 007D STS	0x7D,R24
    00B28 9508      RET
(0044) }
(0045) //************************************************
(0046) //8位定时器，定时器0
(0047) //*************************************************
(0048) 
(0049) /*
(0050)   计数器0，8位的。普通计时，1024分频。
(0051)   自行计算时间传入。
(0052) */
(0053) void Timerinit_0(uchar time){
(0054)     time_0=time;
_Timerinit_0:
  time                 --> R16
    00B29 9300 0C5B STS	time_0,R16
(0055) 	//写入初值
(0056)     TCNT0=time;
    00B2B BF02      OUT	0x32,R16
(0057) 	TIMSK|=0x01;//开定时器0溢出中断,8位的
    00B2C B787      IN	R24,0x37
    00B2D 6081      ORI	R24,1
    00B2E BF87      OUT	0x37,R24
(0058) 	 TCCR0=0x07;//普通计数，1024分频
    00B2F E087      LDI	R24,7
    00B30 BF83      OUT	0x33,R24
    00B31 9508      RET
(0059) }
(0060) //************************************************
(0061) //8位定时器，定时器2
(0062) //*************************************************
(0063) /*
(0064)   计数器0，8位的。普通计时，1024分频。
(0065)   自行计算时间传入。
(0066) */
(0067) void Timerinit_2(uchar time){
(0068)     time_2=time;
_Timerinit_2:
  time                 --> R16
    00B32 9300 0C5A STS	time_2,R16
(0069) 	//写入初值
(0070)     TCNT2=time;
    00B34 BD04      OUT	0x24,R16
(0071) 	TIMSK|=0x40;//开定时器0溢出中断,8位的
    00B35 B787      IN	R24,0x37
    00B36 6480      ORI	R24,0x40
    00B37 BF87      OUT	0x37,R24
(0072) 	//普通计数，1024分频
(0073)     TCCR2=0x05;
    00B38 E085      LDI	R24,5
    00B39 BD85      OUT	0x25,R24
    00B3A 9508      RET
_int_timer0:
    00B3B 920A      ST	-Y,R0
    00B3C 921A      ST	-Y,R1
    00B3D 922A      ST	-Y,R2
    00B3E 923A      ST	-Y,R3
    00B3F 924A      ST	-Y,R4
    00B40 925A      ST	-Y,R5
    00B41 926A      ST	-Y,R6
    00B42 927A      ST	-Y,R7
    00B43 928A      ST	-Y,R8
    00B44 929A      ST	-Y,R9
    00B45 930A      ST	-Y,R16
    00B46 931A      ST	-Y,R17
    00B47 932A      ST	-Y,R18
    00B48 933A      ST	-Y,R19
    00B49 938A      ST	-Y,R24
    00B4A 939A      ST	-Y,R25
    00B4B 93AA      ST	-Y,R26
    00B4C 93BA      ST	-Y,R27
    00B4D 93EA      ST	-Y,R30
    00B4E 93FA      ST	-Y,R31
    00B4F B60F      IN	R0,0x3F
    00B50 920A      ST	-Y,R0
    00B51 9721      SBIW	R28,1
(0074) }
(0075) #pragma interrupt_handler int_timer0:17
(0076) void int_timer0(void){ 
(0077) 		TCCR0=0x00;
    00B52 2422      CLR	R2
    00B53 BE23      OUT	0x33,R2
(0078) 		//adc_init_once();
(0079) 		for(i=0;i<5;i++){
    00B54 9220 0C59 STS	i,R2
    00B56 C011      RJMP	0x0B68
(0080)   		 lcd_write_char(0x01,3,0x30+i);	
    00B57 9180 0C59 LDS	R24,i
    00B59 5D80      SUBI	R24,0xD0
    00B5A 8388      ST	Y,R24
    00B5B E023      LDI	R18,3
    00B5C E001      LDI	R16,1
    00B5D 940E 0798 CALL	_lcd_write_char
(0081) 		 delay_ms(100);		
    00B5F E604      LDI	R16,0x64
    00B60 E010      LDI	R17,0
    00B61 940E 03BF CALL	_delay_ms
    00B63 9180 0C59 LDS	R24,i
    00B65 5F8F      SUBI	R24,0xFF
    00B66 9380 0C59 STS	i,R24
    00B68 9180 0C59 LDS	R24,i
    00B6A 3085      CPI	R24,5
    00B6B F358      BCS	0x0B57
(0082)         }
(0083) 		TCNT0=time_0;
    00B6C 9020 0C5B LDS	R2,time_0
    00B6E BE22      OUT	0x32,R2
(0084) 		TCCR0=0x07;
    00B6F E087      LDI	R24,7
    00B70 BF83      OUT	0x33,R24
(0085) 		return;
    00B71 9621      ADIW	R28,1
    00B72 9009      LD	R0,Y+
    00B73 BE0F      OUT	0x3F,R0
    00B74 91F9      LD	R31,Y+
    00B75 91E9      LD	R30,Y+
    00B76 91B9      LD	R27,Y+
    00B77 91A9      LD	R26,Y+
    00B78 9199      LD	R25,Y+
    00B79 9189      LD	R24,Y+
    00B7A 9139      LD	R19,Y+
    00B7B 9129      LD	R18,Y+
    00B7C 9119      LD	R17,Y+
    00B7D 9109      LD	R16,Y+
    00B7E 9099      LD	R9,Y+
    00B7F 9089      LD	R8,Y+
    00B80 9079      LD	R7,Y+
    00B81 9069      LD	R6,Y+
    00B82 9059      LD	R5,Y+
    00B83 9049      LD	R4,Y+
    00B84 9039      LD	R3,Y+
    00B85 9029      LD	R2,Y+
    00B86 9019      LD	R1,Y+
    00B87 9009      LD	R0,Y+
    00B88 9518      RETI
_int_timer1:
    00B89 920A      ST	-Y,R0
    00B8A 921A      ST	-Y,R1
    00B8B 922A      ST	-Y,R2
    00B8C 923A      ST	-Y,R3
    00B8D 924A      ST	-Y,R4
    00B8E 925A      ST	-Y,R5
    00B8F 926A      ST	-Y,R6
    00B90 927A      ST	-Y,R7
    00B91 928A      ST	-Y,R8
    00B92 929A      ST	-Y,R9
    00B93 930A      ST	-Y,R16
    00B94 931A      ST	-Y,R17
    00B95 932A      ST	-Y,R18
    00B96 933A      ST	-Y,R19
    00B97 938A      ST	-Y,R24
    00B98 939A      ST	-Y,R25
    00B99 93AA      ST	-Y,R26
    00B9A 93BA      ST	-Y,R27
    00B9B 93EA      ST	-Y,R30
    00B9C 93FA      ST	-Y,R31
    00B9D B60F      IN	R0,0x3F
    00B9E 920A      ST	-Y,R0
    00B9F 9721      SBIW	R28,1
(0086) }
(0087) //溢出中断。
(0088) #pragma interrupt_handler int_timer1:15
(0089) void int_timer1(void){
(0090) 		 TCCR1B=0x00;
    00BA0 2422      CLR	R2
    00BA1 BC2E      OUT	0x2E,R2
(0091) 		//adc_init_once();
(0092) 		for(i=0;i<5;i++){
    00BA2 9220 0C59 STS	i,R2
    00BA4 C011      RJMP	0x0BB6
(0093)   		 lcd_write_char(0x03,3,0x30+i);	
    00BA5 9180 0C59 LDS	R24,i
    00BA7 5D80      SUBI	R24,0xD0
    00BA8 8388      ST	Y,R24
    00BA9 E023      LDI	R18,3
    00BAA E003      LDI	R16,3
    00BAB 940E 0798 CALL	_lcd_write_char
(0094) 		 delay_ms(100);		
    00BAD E604      LDI	R16,0x64
    00BAE E010      LDI	R17,0
    00BAF 940E 03BF CALL	_delay_ms
    00BB1 9180 0C59 LDS	R24,i
    00BB3 5F8F      SUBI	R24,0xFF
    00BB4 9380 0C59 STS	i,R24
    00BB6 9180 0C59 LDS	R24,i
    00BB8 3085      CPI	R24,5
    00BB9 F358      BCS	0x0BA5
(0095)         }
(0096) 		TCNT1H=time_h_1;
    00BBA 9020 0C5F LDS	R2,time_h_1
    00BBC BC2D      OUT	0x2D,R2
(0097)          TCNT1L=time_l_1;
    00BBD 9020 0C5E LDS	R2,time_l_1
    00BBF BC2C      OUT	0x2C,R2
(0098) 		 TCCR1B=0x05;
    00BC0 E085      LDI	R24,5
    00BC1 BD8E      OUT	0x2E,R24
(0099) 		return;
    00BC2 9621      ADIW	R28,1
    00BC3 9009      LD	R0,Y+
    00BC4 BE0F      OUT	0x3F,R0
    00BC5 91F9      LD	R31,Y+
    00BC6 91E9      LD	R30,Y+
    00BC7 91B9      LD	R27,Y+
    00BC8 91A9      LD	R26,Y+
    00BC9 9199      LD	R25,Y+
    00BCA 9189      LD	R24,Y+
    00BCB 9139      LD	R19,Y+
    00BCC 9129      LD	R18,Y+
    00BCD 9119      LD	R17,Y+
    00BCE 9109      LD	R16,Y+
    00BCF 9099      LD	R9,Y+
    00BD0 9089      LD	R8,Y+
    00BD1 9079      LD	R7,Y+
    00BD2 9069      LD	R6,Y+
    00BD3 9059      LD	R5,Y+
    00BD4 9049      LD	R4,Y+
    00BD5 9039      LD	R3,Y+
    00BD6 9029      LD	R2,Y+
    00BD7 9019      LD	R1,Y+
    00BD8 9009      LD	R0,Y+
    00BD9 9518      RETI
_int_timer2:
    00BDA 920A      ST	-Y,R0
    00BDB 921A      ST	-Y,R1
    00BDC 922A      ST	-Y,R2
    00BDD 923A      ST	-Y,R3
    00BDE 924A      ST	-Y,R4
    00BDF 925A      ST	-Y,R5
    00BE0 926A      ST	-Y,R6
    00BE1 927A      ST	-Y,R7
    00BE2 928A      ST	-Y,R8
    00BE3 929A      ST	-Y,R9
    00BE4 930A      ST	-Y,R16
    00BE5 931A      ST	-Y,R17
    00BE6 932A      ST	-Y,R18
    00BE7 933A      ST	-Y,R19
    00BE8 938A      ST	-Y,R24
    00BE9 939A      ST	-Y,R25
    00BEA 93AA      ST	-Y,R26
    00BEB 93BA      ST	-Y,R27
    00BEC 93EA      ST	-Y,R30
    00BED 93FA      ST	-Y,R31
    00BEE B60F      IN	R0,0x3F
    00BEF 920A      ST	-Y,R0
    00BF0 9721      SBIW	R28,1
(0100) }
(0101) #pragma interrupt_handler int_timer2:11
(0102) void int_timer2(void){
(0103)       PORTE=~PORTE;
    00BF1 B023      IN	R2,0x03
    00BF2 9420      COM	R2
    00BF3 B823      OUT	0x03,R2
(0104) 		TCCR2=0x00;
    00BF4 2422      CLR	R2
    00BF5 BC25      OUT	0x25,R2
(0105) 		for(i=0;i<5;i++){
    00BF6 9220 0C59 STS	i,R2
    00BF8 C011      RJMP	0x0C0A
(0106)   		 lcd_write_char(0x00,3,0x30+i);	
    00BF9 9180 0C59 LDS	R24,i
    00BFB 5D80      SUBI	R24,0xD0
    00BFC 8388      ST	Y,R24
    00BFD E023      LDI	R18,3
    00BFE 2700      CLR	R16
    00BFF 940E 0798 CALL	_lcd_write_char
(0107) 		 delay_ms(100);		
    00C01 E604      LDI	R16,0x64
    00C02 E010      LDI	R17,0
    00C03 940E 03BF CALL	_delay_ms
    00C05 9180 0C59 LDS	R24,i
    00C07 5F8F      SUBI	R24,0xFF
    00C08 9380 0C59 STS	i,R24
    00C0A 9180 0C59 LDS	R24,i
    00C0C 3085      CPI	R24,5
    00C0D F358      BCS	0x0BF9
(0108)         }
(0109) 		TCNT2=time_2;
    00C0E 9020 0C5A LDS	R2,time_2
    00C10 BC24      OUT	0x24,R2
(0110) 		TCCR2=0x05;
    00C11 E085      LDI	R24,5
    00C12 BD85      OUT	0x25,R24
(0111) 		return;
    00C13 9621      ADIW	R28,1
    00C14 9009      LD	R0,Y+
    00C15 BE0F      OUT	0x3F,R0
    00C16 91F9      LD	R31,Y+
    00C17 91E9      LD	R30,Y+
    00C18 91B9      LD	R27,Y+
    00C19 91A9      LD	R26,Y+
    00C1A 9199      LD	R25,Y+
    00C1B 9189      LD	R24,Y+
    00C1C 9139      LD	R19,Y+
    00C1D 9129      LD	R18,Y+
    00C1E 9119      LD	R17,Y+
    00C1F 9109      LD	R16,Y+
    00C20 9099      LD	R9,Y+
    00C21 9089      LD	R8,Y+
    00C22 9079      LD	R7,Y+
    00C23 9069      LD	R6,Y+
    00C24 9059      LD	R5,Y+
    00C25 9049      LD	R4,Y+
    00C26 9039      LD	R3,Y+
    00C27 9029      LD	R2,Y+
    00C28 9019      LD	R1,Y+
    00C29 9009      LD	R0,Y+
    00C2A 9518      RETI
_int_timer3:
    00C2B 920A      ST	-Y,R0
    00C2C 921A      ST	-Y,R1
    00C2D 922A      ST	-Y,R2
    00C2E 923A      ST	-Y,R3
    00C2F 924A      ST	-Y,R4
    00C30 925A      ST	-Y,R5
    00C31 926A      ST	-Y,R6
    00C32 927A      ST	-Y,R7
    00C33 928A      ST	-Y,R8
    00C34 929A      ST	-Y,R9
    00C35 930A      ST	-Y,R16
    00C36 931A      ST	-Y,R17
    00C37 932A      ST	-Y,R18
    00C38 933A      ST	-Y,R19
    00C39 938A      ST	-Y,R24
    00C3A 939A      ST	-Y,R25
    00C3B 93AA      ST	-Y,R26
    00C3C 93BA      ST	-Y,R27
    00C3D 93EA      ST	-Y,R30
    00C3E 93FA      ST	-Y,R31
    00C3F B60F      IN	R0,0x3F
    00C40 920A      ST	-Y,R0
    00C41 9721      SBIW	R28,1
(0112) }
(0113) //16位定时器，定时器3溢出中断。
(0114) #pragma interrupt_handler int_timer3:30
(0115) void int_timer3(void){
(0116)     TCCR1B=0x00;
    00C42 2422      CLR	R2
    00C43 BC2E      OUT	0x2E,R2
(0117)      for(i=0;i<5;i++){
    00C44 9220 0C59 STS	i,R2
    00C46 C011      RJMP	0x0C58
(0118)   		 lcd_write_char(0x02,3,0x30+i);	
    00C47 9180 0C59 LDS	R24,i
    00C49 5D80      SUBI	R24,0xD0
    00C4A 8388      ST	Y,R24
    00C4B E023      LDI	R18,3
    00C4C E002      LDI	R16,2
    00C4D 940E 0798 CALL	_lcd_write_char
(0119) 		 delay_ms(100);		
    00C4F E604      LDI	R16,0x64
    00C50 E010      LDI	R17,0
    00C51 940E 03BF CALL	_delay_ms
    00C53 9180 0C59 LDS	R24,i
    00C55 5F8F      SUBI	R24,0xFF
    00C56 9380 0C59 STS	i,R24
    00C58 9180 0C59 LDS	R24,i
    00C5A 3085      CPI	R24,5
    00C5B F358      BCS	0x0C47
(0120)         }
(0121) 	TCNT3H=time_h_3;
    00C5C 9020 0C5D LDS	R2,time_h_3
    00C5E 9220 0089 STS	0x89,R2
(0122)     TCNT3L=time_l_3;
    00C60 9020 0C5C LDS	R2,time_l_3
    00C62 9220 0088 STS	0x88,R2
(0123) 	 TCCR1B=0x05;
    00C64 E085      LDI	R24,5
    00C65 BD8E      OUT	0x2E,R24
    00C66 9621      ADIW	R28,1
    00C67 9009      LD	R0,Y+
    00C68 BE0F      OUT	0x3F,R0
    00C69 91F9      LD	R31,Y+
    00C6A 91E9      LD	R30,Y+
    00C6B 91B9      LD	R27,Y+
    00C6C 91A9      LD	R26,Y+
    00C6D 9199      LD	R25,Y+
    00C6E 9189      LD	R24,Y+
    00C6F 9139      LD	R19,Y+
    00C70 9129      LD	R18,Y+
    00C71 9119      LD	R17,Y+
    00C72 9109      LD	R16,Y+
    00C73 9099      LD	R9,Y+
    00C74 9089      LD	R8,Y+
    00C75 9079      LD	R7,Y+
    00C76 9069      LD	R6,Y+
    00C77 9059      LD	R5,Y+
    00C78 9049      LD	R4,Y+
    00C79 9039      LD	R3,Y+
    00C7A 9029      LD	R2,Y+
    00C7B 9019      LD	R1,Y+
    00C7C 9009      LD	R0,Y+
    00C7D 9518      RETI
_readTemp_1:
  i                    --> R20
    00C7E 934A      ST	-Y,R20
    00C7F 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\max6675.c
(0001) #include<iom128v.h>
(0002) #include "max6675.h"
(0003) #include "main.h"
(0004) #include "delay.h"
(0005) #define sck_h_1 PORTE|=(1<<PE3) 
(0006) #define sck_l_1 PORTE&=~(1<<PE3) 
(0007) #define cs_h_1 PORTE|=1<<PE4 
(0008) #define cs_l_1 PORTE&=~(1<<PE4) 
(0009) 
(0010) #define sck_h_2 PORTE|=(1<<PE6) 
(0011) #define sck_l_2 PORTE&=~(1<<PE6) 
(0012) #define cs_h_2 PORTE|=1<<PE7 
(0013) #define cs_l_2 PORTE&=~(1<<PE7) 
(0014) 
(0015) #define sck_h_3 PORTF|=(1<<PF0) 
(0016) #define sck_l_3 PORTF&=~(1<<PF0) 
(0017) #define cs_h_3 PORTF|=1<<PF2 
(0018) #define cs_l_3 PORTF&=~(1<<PF2) 
(0019) 
(0020) #define sck_h_4 PORTF|=(1<<PF4) 
(0021) #define sck_l_4 PORTF&=~(1<<PF4) 
(0022) #define cs_h_4 PORTF|=1<<PF5 
(0023) #define cs_l_4 PORTF&=~(1<<PF5) 
(0024) /*
(0025) 仿真中没有读出数据，也没有实物
(0026) 
(0027) */
(0028) void readTemp_1(void){
(0029) 	   uint i;
(0030) 	   DDRE&=0xFB;
    00C80 B182      IN	R24,0x02
    00C81 7F8B      ANDI	R24,0xFB
    00C82 B982      OUT	0x02,R24
(0031) 	   sck_l_1;
    00C83 981B      CBI	0x03,3
(0032) 	   cs_l_1;
    00C84 981C      CBI	0x03,4
(0033) 	   delay_us(1);
    00C85 E001      LDI	R16,1
    00C86 E010      LDI	R17,0
    00C87 940E 03B5 CALL	_delay_us
(0034) 	   for(i=0;i<8;i++){
    00C89 2744      CLR	R20
    00C8A 2755      CLR	R21
    00C8B C020      RJMP	0x0CAC
(0035) 			sck_h_1;
    00C8C 9A1B      SBI	0x03,3
(0036) 			delay_us(10);
    00C8D E00A      LDI	R16,0xA
    00C8E E010      LDI	R17,0
    00C8F 940E 03B5 CALL	_delay_us
(0037) 	    	temp_h=temp_h|(PINE&0x04);
    00C91 B181      IN	R24,0x01
    00C92 2799      CLR	R25
    00C93 7084      ANDI	R24,4
    00C94 7090      ANDI	R25,0
    00C95 9020 0113 LDS	R2,temp_h
    00C97 9030 0114 LDS	R3,temp_h+1
    00C99 2A28      OR	R2,R24
    00C9A 2A39      OR	R3,R25
    00C9B 9230 0114 STS	temp_h+1,R3
    00C9D 9220 0113 STS	temp_h,R2
(0038) 			temp_h<<=1;
    00C9F 0C22      LSL	R2
    00CA0 1C33      ROL	R3
    00CA1 9230 0114 STS	temp_h+1,R3
    00CA3 9220 0113 STS	temp_h,R2
(0039) 			sck_l_1;
    00CA5 981B      CBI	0x03,3
(0040) 			delay_us(1);
    00CA6 E001      LDI	R16,1
    00CA7 E010      LDI	R17,0
    00CA8 940E 03B5 CALL	_delay_us
    00CAA 5F4F      SUBI	R20,0xFF
    00CAB 4F5F      SBCI	R21,0xFF
    00CAC 3048      CPI	R20,0x8
    00CAD E0E0      LDI	R30,0
    00CAE 075E      CPC	R21,R30
    00CAF F2E0      BCS	0x0C8C
(0041) 			
(0042) 	   }
(0043) 	   for(i=0;i<8;i++){
    00CB0 2744      CLR	R20
    00CB1 2755      CLR	R21
    00CB2 C022      RJMP	0x0CD5
(0044) 			sck_h_1;
    00CB3 9A1B      SBI	0x03,3
(0045) 			delay_us(10);
    00CB4 E00A      LDI	R16,0xA
    00CB5 E010      LDI	R17,0
    00CB6 940E 03B5 CALL	_delay_us
(0046) 	    	temp_l=temp_l|(PINE&0x04);
    00CB8 B181      IN	R24,0x01
    00CB9 2799      CLR	R25
    00CBA 7084      ANDI	R24,4
    00CBB 7090      ANDI	R25,0
    00CBC 9020 0115 LDS	R2,temp_l
    00CBE 9030 0116 LDS	R3,temp_l+1
    00CC0 2A28      OR	R2,R24
    00CC1 2A39      OR	R3,R25
    00CC2 9230 0116 STS	temp_l+1,R3
    00CC4 9220 0115 STS	temp_l,R2
(0047) 			temp_l<<=temp_l;
    00CC6 0191      MOVW	R18,R2
    00CC7 0181      MOVW	R16,R2
    00CC8 940E 2206 CALL	lsl16
    00CCA 9310 0116 STS	temp_l+1,R17
    00CCC 9300 0115 STS	temp_l,R16
(0048) 			sck_l_1;
    00CCE 981B      CBI	0x03,3
(0049) 			delay_us(1);
    00CCF E001      LDI	R16,1
    00CD0 E010      LDI	R17,0
    00CD1 940E 03B5 CALL	_delay_us
    00CD3 5F4F      SUBI	R20,0xFF
    00CD4 4F5F      SBCI	R21,0xFF
    00CD5 3048      CPI	R20,0x8
    00CD6 E0E0      LDI	R30,0
    00CD7 075E      CPC	R21,R30
    00CD8 F2D0      BCS	0x0CB3
(0050) 	   }
(0051) 	   delay_us(1);
    00CD9 E001      LDI	R16,1
    00CDA E010      LDI	R17,0
    00CDB 940E 03B5 CALL	_delay_us
(0052) 	  // temp_l=0x55;
(0053) 	   return ;
    00CDD 9159      LD	R21,Y+
    00CDE 9149      LD	R20,Y+
    00CDF 9508      RET
_readTemp_2:
  i                    --> R20
    00CE0 934A      ST	-Y,R20
    00CE1 935A      ST	-Y,R21
(0054) }
(0055) void readTemp_2(void){
(0056) 	   uint i;
(0057) 	   DDRE&=0xDF;
    00CE2 B182      IN	R24,0x02
    00CE3 7D8F      ANDI	R24,0xDF
    00CE4 B982      OUT	0x02,R24
(0058) 	   sck_l_2;
    00CE5 981E      CBI	0x03,6
(0059) 	   cs_l_2;
    00CE6 981F      CBI	0x03,7
(0060) 	   delay_us(1);
    00CE7 E001      LDI	R16,1
    00CE8 E010      LDI	R17,0
    00CE9 940E 03B5 CALL	_delay_us
(0061) 	   for(i=0;i<8;i++){
    00CEB 2744      CLR	R20
    00CEC 2755      CLR	R21
    00CED C020      RJMP	0x0D0E
(0062) 			sck_h_2;
    00CEE 9A1E      SBI	0x03,6
(0063) 			delay_us(10);
    00CEF E00A      LDI	R16,0xA
    00CF0 E010      LDI	R17,0
    00CF1 940E 03B5 CALL	_delay_us
(0064) 	    	temp_h=temp_h|(PINE&0x20);
    00CF3 B181      IN	R24,0x01
    00CF4 2799      CLR	R25
    00CF5 7280      ANDI	R24,0x20
    00CF6 7090      ANDI	R25,0
    00CF7 9020 0113 LDS	R2,temp_h
    00CF9 9030 0114 LDS	R3,temp_h+1
    00CFB 2A28      OR	R2,R24
    00CFC 2A39      OR	R3,R25
    00CFD 9230 0114 STS	temp_h+1,R3
    00CFF 9220 0113 STS	temp_h,R2
(0065) 			temp_h<<=1;
    00D01 0C22      LSL	R2
    00D02 1C33      ROL	R3
    00D03 9230 0114 STS	temp_h+1,R3
    00D05 9220 0113 STS	temp_h,R2
(0066) 			sck_l_2;
    00D07 981E      CBI	0x03,6
(0067) 			delay_us(1);
    00D08 E001      LDI	R16,1
    00D09 E010      LDI	R17,0
    00D0A 940E 03B5 CALL	_delay_us
    00D0C 5F4F      SUBI	R20,0xFF
    00D0D 4F5F      SBCI	R21,0xFF
    00D0E 3048      CPI	R20,0x8
    00D0F E0E0      LDI	R30,0
    00D10 075E      CPC	R21,R30
    00D11 F2E0      BCS	0x0CEE
(0068) 			
(0069) 	   }
(0070) 	   for(i=0;i<8;i++){
    00D12 2744      CLR	R20
    00D13 2755      CLR	R21
    00D14 C022      RJMP	0x0D37
(0071) 			sck_h_2;
    00D15 9A1E      SBI	0x03,6
(0072) 			delay_us(10);
    00D16 E00A      LDI	R16,0xA
    00D17 E010      LDI	R17,0
    00D18 940E 03B5 CALL	_delay_us
(0073) 	    	temp_l=temp_l|(PINE&0x20);
    00D1A B181      IN	R24,0x01
    00D1B 2799      CLR	R25
    00D1C 7280      ANDI	R24,0x20
    00D1D 7090      ANDI	R25,0
    00D1E 9020 0115 LDS	R2,temp_l
    00D20 9030 0116 LDS	R3,temp_l+1
    00D22 2A28      OR	R2,R24
    00D23 2A39      OR	R3,R25
    00D24 9230 0116 STS	temp_l+1,R3
    00D26 9220 0115 STS	temp_l,R2
(0074) 			temp_l<<=temp_l;
    00D28 0191      MOVW	R18,R2
    00D29 0181      MOVW	R16,R2
    00D2A 940E 2206 CALL	lsl16
    00D2C 9310 0116 STS	temp_l+1,R17
    00D2E 9300 0115 STS	temp_l,R16
(0075) 			sck_l_2;
    00D30 981E      CBI	0x03,6
(0076) 			delay_us(1);
    00D31 E001      LDI	R16,1
    00D32 E010      LDI	R17,0
    00D33 940E 03B5 CALL	_delay_us
    00D35 5F4F      SUBI	R20,0xFF
    00D36 4F5F      SBCI	R21,0xFF
    00D37 3048      CPI	R20,0x8
    00D38 E0E0      LDI	R30,0
    00D39 075E      CPC	R21,R30
    00D3A F2D0      BCS	0x0D15
(0077) 	   }
(0078) 	   delay_us(1);
    00D3B E001      LDI	R16,1
    00D3C E010      LDI	R17,0
    00D3D 940E 03B5 CALL	_delay_us
(0079) 	  // temp_l=0x55;
(0080) 	   return ;
    00D3F 9159      LD	R21,Y+
    00D40 9149      LD	R20,Y+
    00D41 9508      RET
_readTemp_3:
  i                    --> R20
    00D42 934A      ST	-Y,R20
    00D43 935A      ST	-Y,R21
(0081) }
(0082) void readTemp_3(void){
(0083) 	   uint i;
(0084) 	   DDRF&=0xFE;
    00D44 9180 0061 LDS	R24,0x61
    00D46 7F8E      ANDI	R24,0xFE
    00D47 9380 0061 STS	0x61,R24
(0085) 	   sck_l_3;
    00D49 9180 0062 LDS	R24,0x62
    00D4B 7F8E      ANDI	R24,0xFE
    00D4C 9380 0062 STS	0x62,R24
(0086) 	   cs_l_3;
    00D4E 9180 0062 LDS	R24,0x62
    00D50 7F8B      ANDI	R24,0xFB
    00D51 9380 0062 STS	0x62,R24
(0087) 	   delay_us(1);
    00D53 E001      LDI	R16,1
    00D54 E010      LDI	R17,0
    00D55 940E 03B5 CALL	_delay_us
(0088) 	   for(i=0;i<8;i++){
    00D57 2744      CLR	R20
    00D58 2755      CLR	R21
    00D59 C028      RJMP	0x0D82
(0089) 			sck_h_3;
    00D5A 9180 0062 LDS	R24,0x62
    00D5C 6081      ORI	R24,1
    00D5D 9380 0062 STS	0x62,R24
(0090) 			delay_us(10);
    00D5F E00A      LDI	R16,0xA
    00D60 E010      LDI	R17,0
    00D61 940E 03B5 CALL	_delay_us
(0091) 	    	temp_h=temp_h|(PINF&0x01);
    00D63 B180      IN	R24,0x00
    00D64 2799      CLR	R25
    00D65 7081      ANDI	R24,1
    00D66 7090      ANDI	R25,0
    00D67 9020 0113 LDS	R2,temp_h
    00D69 9030 0114 LDS	R3,temp_h+1
    00D6B 2A28      OR	R2,R24
    00D6C 2A39      OR	R3,R25
    00D6D 9230 0114 STS	temp_h+1,R3
    00D6F 9220 0113 STS	temp_h,R2
(0092) 			temp_h<<=1;
    00D71 0C22      LSL	R2
    00D72 1C33      ROL	R3
    00D73 9230 0114 STS	temp_h+1,R3
    00D75 9220 0113 STS	temp_h,R2
(0093) 			sck_l_3;
    00D77 9180 0062 LDS	R24,0x62
    00D79 7F8E      ANDI	R24,0xFE
    00D7A 9380 0062 STS	0x62,R24
(0094) 			delay_us(1);
    00D7C E001      LDI	R16,1
    00D7D E010      LDI	R17,0
    00D7E 940E 03B5 CALL	_delay_us
    00D80 5F4F      SUBI	R20,0xFF
    00D81 4F5F      SBCI	R21,0xFF
    00D82 3048      CPI	R20,0x8
    00D83 E0E0      LDI	R30,0
    00D84 075E      CPC	R21,R30
    00D85 F2A0      BCS	0x0D5A
(0095) 			
(0096) 	   }
(0097) 	   for(i=0;i<8;i++){
    00D86 2744      CLR	R20
    00D87 2755      CLR	R21
    00D88 C02A      RJMP	0x0DB3
(0098) 			sck_h_3;
    00D89 9180 0062 LDS	R24,0x62
    00D8B 6081      ORI	R24,1
    00D8C 9380 0062 STS	0x62,R24
(0099) 			delay_us(10);
    00D8E E00A      LDI	R16,0xA
    00D8F E010      LDI	R17,0
    00D90 940E 03B5 CALL	_delay_us
(0100) 	    	temp_l=temp_l|(PINF&0x01);
    00D92 B180      IN	R24,0x00
    00D93 2799      CLR	R25
    00D94 7081      ANDI	R24,1
    00D95 7090      ANDI	R25,0
    00D96 9020 0115 LDS	R2,temp_l
    00D98 9030 0116 LDS	R3,temp_l+1
    00D9A 2A28      OR	R2,R24
    00D9B 2A39      OR	R3,R25
    00D9C 9230 0116 STS	temp_l+1,R3
    00D9E 9220 0115 STS	temp_l,R2
(0101) 			temp_l<<=temp_l;
    00DA0 0191      MOVW	R18,R2
    00DA1 0181      MOVW	R16,R2
    00DA2 940E 2206 CALL	lsl16
    00DA4 9310 0116 STS	temp_l+1,R17
    00DA6 9300 0115 STS	temp_l,R16
(0102) 			sck_l_3;
    00DA8 9180 0062 LDS	R24,0x62
    00DAA 7F8E      ANDI	R24,0xFE
    00DAB 9380 0062 STS	0x62,R24
(0103) 			delay_us(1);
    00DAD E001      LDI	R16,1
    00DAE E010      LDI	R17,0
    00DAF 940E 03B5 CALL	_delay_us
    00DB1 5F4F      SUBI	R20,0xFF
    00DB2 4F5F      SBCI	R21,0xFF
    00DB3 3048      CPI	R20,0x8
    00DB4 E0E0      LDI	R30,0
    00DB5 075E      CPC	R21,R30
    00DB6 F290      BCS	0x0D89
(0104) 	   }
(0105) 	   delay_us(1);
    00DB7 E001      LDI	R16,1
    00DB8 E010      LDI	R17,0
    00DB9 940E 03B5 CALL	_delay_us
(0106) 	  // temp_l=0x55;
(0107) 	   return ;
    00DBB 9159      LD	R21,Y+
    00DBC 9149      LD	R20,Y+
    00DBD 9508      RET
_readTemp_4:
  i                    --> R20
    00DBE 934A      ST	-Y,R20
    00DBF 935A      ST	-Y,R21
(0108) }
(0109) void readTemp_4(void){
(0110) 	   uint i;
(0111) 	   DDRF&=0xF7;
    00DC0 9180 0061 LDS	R24,0x61
    00DC2 7F87      ANDI	R24,0xF7
    00DC3 9380 0061 STS	0x61,R24
(0112) 	   sck_l_4;
    00DC5 9180 0062 LDS	R24,0x62
    00DC7 7E8F      ANDI	R24,0xEF
    00DC8 9380 0062 STS	0x62,R24
(0113) 	   cs_l_4;
    00DCA 9180 0062 LDS	R24,0x62
    00DCC 7D8F      ANDI	R24,0xDF
    00DCD 9380 0062 STS	0x62,R24
(0114) 	   delay_us(1);
    00DCF E001      LDI	R16,1
    00DD0 E010      LDI	R17,0
    00DD1 940E 03B5 CALL	_delay_us
(0115) 	   for(i=0;i<8;i++){
    00DD3 2744      CLR	R20
    00DD4 2755      CLR	R21
    00DD5 C028      RJMP	0x0DFE
(0116) 			sck_h_4;
    00DD6 9180 0062 LDS	R24,0x62
    00DD8 6180      ORI	R24,0x10
    00DD9 9380 0062 STS	0x62,R24
(0117) 			delay_us(10);
    00DDB E00A      LDI	R16,0xA
    00DDC E010      LDI	R17,0
    00DDD 940E 03B5 CALL	_delay_us
(0118) 	    	temp_h=temp_h|(PINF&0x80);
    00DDF B180      IN	R24,0x00
    00DE0 2799      CLR	R25
    00DE1 7880      ANDI	R24,0x80
    00DE2 7090      ANDI	R25,0
    00DE3 9020 0113 LDS	R2,temp_h
    00DE5 9030 0114 LDS	R3,temp_h+1
    00DE7 2A28      OR	R2,R24
    00DE8 2A39      OR	R3,R25
    00DE9 9230 0114 STS	temp_h+1,R3
    00DEB 9220 0113 STS	temp_h,R2
(0119) 			temp_h<<=1;
    00DED 0C22      LSL	R2
    00DEE 1C33      ROL	R3
    00DEF 9230 0114 STS	temp_h+1,R3
    00DF1 9220 0113 STS	temp_h,R2
(0120) 			sck_l_4;
    00DF3 9180 0062 LDS	R24,0x62
    00DF5 7E8F      ANDI	R24,0xEF
    00DF6 9380 0062 STS	0x62,R24
(0121) 			delay_us(1);
    00DF8 E001      LDI	R16,1
    00DF9 E010      LDI	R17,0
    00DFA 940E 03B5 CALL	_delay_us
    00DFC 5F4F      SUBI	R20,0xFF
    00DFD 4F5F      SBCI	R21,0xFF
    00DFE 3048      CPI	R20,0x8
    00DFF E0E0      LDI	R30,0
    00E00 075E      CPC	R21,R30
    00E01 F2A0      BCS	0x0DD6
(0122) 			
(0123) 	   }
(0124) 	   for(i=0;i<8;i++){
    00E02 2744      CLR	R20
    00E03 2755      CLR	R21
    00E04 C02A      RJMP	0x0E2F
(0125) 			sck_h_4;
    00E05 9180 0062 LDS	R24,0x62
    00E07 6180      ORI	R24,0x10
    00E08 9380 0062 STS	0x62,R24
(0126) 			delay_us(10);
    00E0A E00A      LDI	R16,0xA
    00E0B E010      LDI	R17,0
    00E0C 940E 03B5 CALL	_delay_us
(0127) 	    	temp_l=temp_l|(PINF&0x80);
    00E0E B180      IN	R24,0x00
    00E0F 2799      CLR	R25
    00E10 7880      ANDI	R24,0x80
    00E11 7090      ANDI	R25,0
    00E12 9020 0115 LDS	R2,temp_l
    00E14 9030 0116 LDS	R3,temp_l+1
    00E16 2A28      OR	R2,R24
    00E17 2A39      OR	R3,R25
    00E18 9230 0116 STS	temp_l+1,R3
    00E1A 9220 0115 STS	temp_l,R2
(0128) 			temp_l<<=temp_l;
    00E1C 0191      MOVW	R18,R2
    00E1D 0181      MOVW	R16,R2
    00E1E 940E 2206 CALL	lsl16
    00E20 9310 0116 STS	temp_l+1,R17
    00E22 9300 0115 STS	temp_l,R16
(0129) 			sck_l_4;
    00E24 9180 0062 LDS	R24,0x62
    00E26 7E8F      ANDI	R24,0xEF
    00E27 9380 0062 STS	0x62,R24
(0130) 			delay_us(1);
    00E29 E001      LDI	R16,1
    00E2A E010      LDI	R17,0
    00E2B 940E 03B5 CALL	_delay_us
    00E2D 5F4F      SUBI	R20,0xFF
    00E2E 4F5F      SBCI	R21,0xFF
    00E2F 3048      CPI	R20,0x8
    00E30 E0E0      LDI	R30,0
    00E31 075E      CPC	R21,R30
    00E32 F290      BCS	0x0E05
(0131) 	   }
(0132) 	   delay_us(1);
    00E33 E001      LDI	R16,1
    00E34 E010      LDI	R17,0
    00E35 940E 03B5 CALL	_delay_us
(0133) 	  // temp_l=0x55;
(0134) 	   return ;
    00E37 9159      LD	R21,Y+
    00E38 9149      LD	R20,Y+
    00E39 9508      RET
(0135) }
(0136) uchar readOC(void){
(0137) 	  DDRD&=0x07;
_readOC:
    00E3A B381      IN	R24,0x11
    00E3B 7087      ANDI	R24,7
    00E3C BB81      OUT	0x11,R24
(0138) 	  return PIND&(0xF8);
    00E3D B300      IN	R16,0x10
    00E3E 7F08      ANDI	R16,0xF8
    00E3F 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\out.c
(0001) #include<iom128v.h>
(0002) #include "out.h"
(0003) 
(0004) void out_all(uchar out){
(0005)   DDRC=0xFF;
_out_all:
  out                  --> R16
    00E40 EF8F      LDI	R24,0xFF
    00E41 BB84      OUT	0x14,R24
(0006)   PORTC=out;
    00E42 BB05      OUT	0x15,R16
    00E43 9508      RET
_out_port:
  port                 --> R10
  out                  --> R20
    00E44 940E 21C4 CALL	push_xgset300C
    00E46 0159      MOVW	R10,R18
    00E47 01A8      MOVW	R20,R16
(0007) }
(0008) //0、1的传入。port由0~7
(0009) void out_port(uint out,uint port){
(0010)   DDRC=0xFF;
    00E48 EF8F      LDI	R24,0xFF
    00E49 BB84      OUT	0x14,R24
(0011)   if(out==0){
    00E4A 3040      CPI	R20,0
    00E4B 0745      CPC	R20,R21
    00E4C F471      BNE	0x0E5B
(0012)    PORTC&=~(1<<port);
    00E4D E001      LDI	R16,1
    00E4E E010      LDI	R17,0
    00E4F 0195      MOVW	R18,R10
    00E50 940E 2206 CALL	lsl16
    00E52 0118      MOVW	R2,R16
    00E53 9420      COM	R2
    00E54 9430      COM	R3
    00E55 B245      IN	R4,0x15
    00E56 2455      CLR	R5
    00E57 2042      AND	R4,R2
    00E58 2053      AND	R5,R3
    00E59 BA45      OUT	0x15,R4
(0013)   }else if(out==1){
    00E5A C00E      RJMP	0x0E69
    00E5B 3041      CPI	R20,1
    00E5C E0E0      LDI	R30,0
    00E5D 075E      CPC	R21,R30
    00E5E F451      BNE	0x0E69
(0014)    PORTC|=(1<<port);
    00E5F E001      LDI	R16,1
    00E60 E010      LDI	R17,0
    00E61 0195      MOVW	R18,R10
    00E62 940E 2206 CALL	lsl16
    00E64 B225      IN	R2,0x15
    00E65 2433      CLR	R3
    00E66 2A20      OR	R2,R16
    00E67 2A31      OR	R3,R17
    00E68 BA25      OUT	0x15,R2
(0015)   }
    00E69 940C 21C9 JMP	pop_xgset300C
_read_port:
  port                 --> R10
    00E6B 92AA      ST	-Y,R10
    00E6C 92BA      ST	-Y,R11
    00E6D 0158      MOVW	R10,R16
(0016) }
(0017) uint read_port(uint port){
(0018)   return PINC&(1<<port);
    00E6E E001      LDI	R16,1
    00E6F E010      LDI	R17,0
    00E70 0195      MOVW	R18,R10
    00E71 940E 2206 CALL	lsl16
    00E73 B223      IN	R2,0x13
    00E74 2433      CLR	R3
    00E75 2220      AND	R2,R16
    00E76 2231      AND	R3,R17
    00E77 0181      MOVW	R16,R2
    00E78 90B9      LD	R11,Y+
    00E79 90A9      LD	R10,Y+
    00E7A 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\uart.c
(0001) #include <iom128v.h>
(0002) #include "uart.h"
(0003) 
(0004) //常量定义
(0005) #define BAUDRATE1       115200	//波特率
(0006) //#define BAUDRATE2       9600	//波特率
(0007) #define F_CPU		7372800//晶振频率
(0008) 
(0009) //变量定义
(0010) extern unsigned char send_buf[600];
(0011) extern unsigned char receive_buf[600];
(0012) extern unsigned int send_len;
(0013) extern unsigned int receive_len;
(0014) 
(0015) unsigned char uart_timeout_flag1;
(0016) unsigned char uart_timeout_flag2;
(0017) 
(0018) //串口1对应程序
(0019) ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0020) //USART 初始化
(0021) void init_USART1(void)
(0022) {
(0023)     //USART 115200 8, n,1  PC上位机软件(超级终端等)也要设成同样的设置才能通讯
(0024)     UCSR0C = (1<<USBS0)|(3<<UCSZ00);
_init_USART1:
    00E7B E08E      LDI	R24,0xE
    00E7C 9380 0095 STS	0x95,R24
(0025)     
(0026)   //异步，8位数据，无奇偶校验，一个停止位，无倍速   
(0027)     //U2X=0时的公式计算
(0028)     UBRR0L= (F_CPU/BAUDRATE1/16-1)%256;
    00E7E E083      LDI	R24,3
    00E7F B989      OUT	0x09,R24
(0029)     UBRR0H= (F_CPU/BAUDRATE1/16-1)/256;
    00E80 2422      CLR	R2
    00E81 9220 0090 STS	0x90,R2
(0030) 
(0031)     UCSR0A = 0x00;
    00E83 B82B      OUT	0x0B,R2
(0032) 
(0033)     //使能接收中断，使能接收，使能发送
(0034)     UCSR0B = (1<<RXEN0)|(1<<TXEN0);
    00E84 E188      LDI	R24,0x18
    00E85 B98A      OUT	0x0A,R24
    00E86 9508      RET
(0035)     
(0036) }
(0037) 
(0038) //向串口1写数
(0039) void put_c1(unsigned char c)
(0040) {
(0041) 	while( !(UCSR0A & (1<<UDRE0)) );
_put_c1:
  c                    --> R16
    00E87 9B5D      SBIS	0x0B,5
    00E88 CFFE      RJMP	_put_c1
(0042) 	UDR0=c;	
    00E89 B90C      OUT	0x0C,R16
    00E8A 9508      RET
(0043) }
(0044) 
(0045) //从串口1读数
(0046) unsigned char USART_Receive1( void )
(0047) {
(0048)    unsigned int j=0;
_USART_Receive1:
  j                    --> R16
    00E8B 2700      CLR	R16
    00E8C 2711      CLR	R17
(0049)    uart_timeout_flag1=0; 
    00E8D 2422      CLR	R2
    00E8E 9220 0C61 STS	uart_timeout_flag1,R2
    00E90 C00B      RJMP	0x0E9C
(0050)   //等待接受标志
(0051)   while ( !(UCSR0A & (1<<RXC0)) ){
(0052)     if(j==32000) //判断超时，并设置标志
    00E91 3000      CPI	R16,0
    00E92 E7ED      LDI	R30,0x7D
    00E93 071E      CPC	R17,R30
    00E94 F429      BNE	0x0E9A
(0053)     { uart_timeout_flag1=1;   
    00E95 E081      LDI	R24,1
    00E96 9380 0C61 STS	uart_timeout_flag1,R24
(0054)     return FAILURE;}
    00E98 E001      LDI	R16,1
    00E99 C005      RJMP	0x0E9F
(0055) 	else 
(0056) 		j++;
    00E9A 5F0F      SUBI	R16,0xFF
    00E9B 4F1F      SBCI	R17,0xFF
    00E9C 9B5F      SBIS	0x0B,7
    00E9D CFF3      RJMP	0x0E91
(0057)     ;}
(0058)   //读接收数据  
(0059)   return UDR0;
    00E9E B10C      IN	R16,0x0C
    00E9F 9508      RET
_receiveStrfromCom:
  k                    --> R20
    00EA0 92AA      ST	-Y,R10
    00EA1 934A      ST	-Y,R20
(0060) }
(0061) 
(0062) //从串口接收数据串
(0063) unsigned char receiveStrfromCom(void)
(0064) {
    00EA2 C03E      RJMP	0x0EE1
(0065)   unsigned char k;
(0066) 
(0067)   while(1)
(0068)   {
(0069)     ///以下为从串口接收数据的过程
(0070)     send_buf[0]=USART_Receive1();
    00EA3 DFE7      RCALL	_USART_Receive1
    00EA4 9300 09F3 STS	send_buf,R16
(0071)     //若接收的不是命令头则继续等待
(0072)     if(send_buf[0]!=0x02)continue;
    00EA6 3002      CPI	R16,2
    00EA7 F009      BEQ	0x0EA9
    00EA8 C038      RJMP	0x0EE1
(0073)       
(0074)     for(k=1;k<5;k++)
    00EA9 E041      LDI	R20,1
    00EAA C00F      RJMP	0x0EBA
(0075)     {
(0076)         send_buf[k]=USART_Receive1(); 
    00EAB DFDF      RCALL	_USART_Receive1
    00EAC EF83      LDI	R24,0xF3
    00EAD E099      LDI	R25,0x9
    00EAE 2FE4      MOV	R30,R20
    00EAF 27FF      CLR	R31
    00EB0 0FE8      ADD	R30,R24
    00EB1 1FF9      ADC	R31,R25
    00EB2 8300      ST	Z,R16
(0077)         if(uart_timeout_flag1==1)
    00EB3 9180 0C61 LDS	R24,uart_timeout_flag1
    00EB5 3081      CPI	R24,1
    00EB6 F411      BNE	0x0EB9
(0078)         {  
(0079) //          ComSendResponse(send_buf[3],EXE_TIME_OUT,1);
(0080)           return FAILURE;
    00EB7 E001      LDI	R16,1
    00EB8 C029      RJMP	0x0EE2
    00EB9 9543      INC	R20
    00EBA 3045      CPI	R20,5
    00EBB F378      BCS	0x0EAB
(0081)         }  
(0082)     }
(0083)     
(0084)     send_len=send_buf[4];
    00EBC 9020 09F7 LDS	R2,send_buf+4
    00EBE 2433      CLR	R3
    00EBF 9230 079A STS	send_len+1,R3
    00EC1 9220 0799 STS	send_len,R2
(0085)     
(0086)     for(k=5;k<send_len+6;k++)
    00EC3 E045      LDI	R20,5
    00EC4 C010      RJMP	0x0ED5
(0087)     {
(0088)         send_buf[k]=USART_Receive1(); 
    00EC5 DFC5      RCALL	_USART_Receive1
    00EC6 2EA0      MOV	R10,R16
    00EC7 EF83      LDI	R24,0xF3
    00EC8 E099      LDI	R25,0x9
    00EC9 2FE4      MOV	R30,R20
    00ECA 27FF      CLR	R31
    00ECB 0FE8      ADD	R30,R24
    00ECC 1FF9      ADC	R31,R25
    00ECD 82A0      ST	Z,R10
(0089)         if(uart_timeout_flag1==1)
    00ECE 9180 0C61 LDS	R24,uart_timeout_flag1
    00ED0 3081      CPI	R24,1
    00ED1 F411      BNE	0x0ED4
(0090)         {  
(0091) //           ComSendResponse(send_buf[3],EXE_TIME_OUT,1);
(0092)            return FAILURE; 
    00ED2 E001      LDI	R16,1
    00ED3 C00E      RJMP	0x0EE2
    00ED4 9543      INC	R20
    00ED5 9180 0799 LDS	R24,send_len
    00ED7 9190 079A LDS	R25,send_len+1
    00ED9 9606      ADIW	R24,6
    00EDA 2E24      MOV	R2,R20
    00EDB 2433      CLR	R3
    00EDC 1628      CP	R2,R24
    00EDD 0639      CPC	R3,R25
    00EDE F330      BCS	0x0EC5
(0093)         }  
(0094)     }  
(0095)     return SUCCESS;
    00EDF 2700      CLR	R16
    00EE0 C001      RJMP	0x0EE2
    00EE1 CFC1      RJMP	0x0EA3
    00EE2 9149      LD	R20,Y+
    00EE3 90A9      LD	R10,Y+
    00EE4 9508      RET
_outStrtoCom:
  i                    --> R10
  length               --> R12
  pData                --> R14
    00EE5 940E 21BD CALL	push_xgset00FC
    00EE7 0169      MOVW	R12,R18
    00EE8 0178      MOVW	R14,R16
(0096) 
(0097)   }  
(0098)   return FAILURE;
(0099) } 
(0100) 
(0101) //向串口输出数据串
(0102) void outStrtoCom(unsigned char *pData,unsigned int length)
(0103) {
(0104) 	unsigned char i;
(0105) 	for(i=0;i<length;i++)
    00EE9 24AA      CLR	R10
    00EEA C007      RJMP	0x0EF2
(0106) 		put_c1(pData[i]);
    00EEB 2DEA      MOV	R30,R10
    00EEC 27FF      CLR	R31
    00EED 0DEE      ADD	R30,R14
    00EEE 1DFF      ADC	R31,R15
    00EEF 8100      LD	R16,Z
    00EF0 DF96      RCALL	_put_c1
    00EF1 94A3      INC	R10
    00EF2 2C2A      MOV	R2,R10
    00EF3 2433      CLR	R3
    00EF4 142C      CP	R2,R12
    00EF5 043D      CPC	R3,R13
    00EF6 F3A0      BCS	0x0EEB
    00EF7 940C 219E JMP	pop_xgset00FC
_MAC_CalCrc16:
  i                    --> R10
  j                    --> R22
  value_CRC            --> R20
  ucLen                --> R12
  pCrc16               --> R18
  pInput               --> R16
    00EF9 940E 21F4 CALL	push_xgsetF03C
    00EFB 84C8      LDD	R12,Y+8
(0107) }
(0108) /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0109) 
(0110) /*-----------------------------------------------
(0111) 函数名： 　MAC_CalCrc16
(0112) 功  能：  以字节为单位计算len个数的CRC16校验和，首字节
(0113) 		  为pInput[0].
(0114) 参  数：  pInput			为需要计算CRC的数据的指针
(0115)           pCrc16			为指向存储CRC值的数组
(0116)           ucLen				为需要计算CRC的数据长度
(0117) 返回值：　无　
(0118) 作  者：　lz
(0119) 日  期：  2008-06-18
(0120) ------------------------------------------------*/
(0121) void MAC_CalCrc16(unsigned char  *pInput, unsigned char * pCrc16, unsigned char ucLen)   
(0122) {   
(0123)     unsigned int value_CRC=0xffff;
    00EFC EF4F      LDI	R20,0xFF
    00EFD EF5F      LDI	R21,0xFF
(0124)     unsigned char i;
(0125)     unsigned char j;
(0126) 
(0127) 	for( i=0; i<ucLen; i++ )
    00EFE 24AA      CLR	R10
    00EFF C01B      RJMP	0x0F1B
(0128) 	{	
(0129) 		value_CRC = value_CRC ^((unsigned int)pInput[i]);
    00F00 2DEA      MOV	R30,R10
    00F01 27FF      CLR	R31
    00F02 0FE0      ADD	R30,R16
    00F03 1FF1      ADC	R31,R17
    00F04 8020      LD	R2,Z
    00F05 2433      CLR	R3
    00F06 2542      EOR	R20,R2
    00F07 2553      EOR	R21,R3
(0130) 		for (j = 0; j < 8; j++)
    00F08 2766      CLR	R22
    00F09 C00E      RJMP	0x0F18
(0131) 		{
(0132) 			if (value_CRC & 0x0001)
    00F0A FF40      SBRS	R20,0
    00F0B C009      RJMP	0x0F15
(0133) 			{
(0134) 				value_CRC = (value_CRC >> 1) ^ 0x8408;
    00F0C E088      LDI	R24,0x8
    00F0D E894      LDI	R25,0x84
    00F0E 011A      MOVW	R2,R20
    00F0F 9436      LSR	R3
    00F10 9427      ROR	R2
    00F11 2628      EOR	R2,R24
    00F12 2639      EOR	R3,R25
    00F13 01A1      MOVW	R20,R2
(0135) 			}
    00F14 C002      RJMP	0x0F17
(0136) 			else
(0137) 			{
(0138) 				value_CRC = (value_CRC >> 1);
    00F15 9556      LSR	R21
    00F16 9547      ROR	R20
    00F17 9563      INC	R22
    00F18 3068      CPI	R22,0x8
    00F19 F380      BCS	0x0F0A
    00F1A 94A3      INC	R10
    00F1B 14AC      CP	R10,R12
    00F1C F318      BCS	0x0F00
(0139) 			}
(0140) 		}
(0141) 	}
(0142) 	
(0143)   	pCrc16[0] = (unsigned char)(value_CRC>>8);
    00F1D 011A      MOVW	R2,R20
    00F1E 2C23      MOV	R2,R3
    00F1F 2433      CLR	R3
    00F20 01F9      MOVW	R30,R18
    00F21 8220      ST	Z,R2
(0144) 	pCrc16[1] = (unsigned char)(value_CRC);
    00F22 8341      STD	Z+1,R20
(0145) 	
(0146) 	return;
    00F23 940C 21FD JMP	pop_xgsetF03C
_MAC_CheckCrc16:
  CrcChk               --> Y,+1
  ucLen                --> R20
  pInput               --> R10
    00F25 940E 21C4 CALL	push_xgset300C
    00F27 2F42      MOV	R20,R18
    00F28 0158      MOVW	R10,R16
    00F29 9723      SBIW	R28,3
(0147) }
(0148) 
(0149) 
(0150) /*-----------------------------------------------
(0151) 函数名：	MAC_CheckCrc16
(0152) 功  能：  校验一帧长度为ucLen的数据，pInput[ucLen]
(0153)           pInput[ucLen+1]是这帧数据的校验字节。
(0154) 参  数：  pInput      校验帧的首地址
(0155)           ucLen 　　　需校验的数据帧的长度 
(0156) 返回值：　0表示校验通过，1表示校验失败　
(0157) 作  者：　lz
(0158) 日  期：  2008-06-18
(0159) ------------------------------------------------*/
(0160) unsigned char MAC_CheckCrc16(unsigned char * pInput, unsigned char ucLen)
(0161) {
(0162) 	unsigned char CrcChk[2];
(0163) 
(0164) 	MAC_CalCrc16(pInput,CrcChk,ucLen-2);
    00F2A 2F84      MOV	R24,R20
    00F2B 5082      SUBI	R24,2
    00F2C 8388      ST	Y,R24
    00F2D 019E      MOVW	R18,R28
    00F2E 5F2F      SUBI	R18,0xFF
    00F2F 4F3F      SBCI	R19,0xFF
    00F30 0185      MOVW	R16,R10
    00F31 DFC7      RCALL	_MAC_CalCrc16
(0165) 
(0166) 	if (CrcChk[0]!=pInput[ucLen-2] || CrcChk[1]!=pInput[ucLen-1])
    00F32 2FE4      MOV	R30,R20
    00F33 27FF      CLR	R31
    00F34 9732      SBIW	R30,2
    00F35 0DEA      ADD	R30,R10
    00F36 1DFB      ADC	R31,R11
    00F37 8020      LD	R2,Z
    00F38 8039      LDD	R3,Y+1
    00F39 1432      CP	R3,R2
    00F3A F449      BNE	0x0F44
    00F3B 2FE4      MOV	R30,R20
    00F3C 27FF      CLR	R31
    00F3D 9731      SBIW	R30,1
    00F3E 0DEA      ADD	R30,R10
    00F3F 1DFB      ADC	R31,R11
    00F40 8020      LD	R2,Z
    00F41 803A      LDD	R3,Y+2
    00F42 1432      CP	R3,R2
    00F43 F011      BEQ	0x0F46
(0167) 	{
(0168) 		return FAILURE; // crc16 fail!
    00F44 E001      LDI	R16,1
    00F45 C001      RJMP	0x0F47
(0169) 	}
(0170) 	
(0171) 	return SUCCESS; // crc16 ok!
    00F46 2700      CLR	R16
    00F47 9623      ADIW	R28,3
    00F48 940C 21C9 JMP	pop_xgset300C
_ComSendResponse:
  crc_buf              --> Y,+1
  LenData              --> R20
  statusdata           --> R12
  CmdData              --> R10
    00F4A 940E 21E6 CALL	push_xgset303C
    00F4C 2EC2      MOV	R12,R18
    00F4D 2EA0      MOV	R10,R16
    00F4E 9723      SBIW	R28,3
    00F4F 8549      LDD	R20,Y+9
(0172) }
(0173) /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0174) //发送命令响应结果
(0175) void ComSendResponse(unsigned char CmdData,unsigned char statusdata,unsigned char LenData)
(0176) {
(0177)     unsigned char crc_buf[2];
(0178)     
(0179)     receive_buf[5]= statusdata;
    00F50 92C0 07A0 STS	receive_buf+5,R12
(0180) 
(0181)     receive_buf[4]=LenData;
    00F52 9340 079F STS	receive_buf+4,R20
(0182) 
(0183)     receive_buf[3]=CmdData;
    00F54 92A0 079E STS	receive_buf+3,R10
(0184)     
(0185)     receive_buf[1]=0x00;receive_buf[2]=0x01;
    00F56 2422      CLR	R2
    00F57 9220 079C STS	receive_buf+1,R2
    00F59 E081      LDI	R24,1
    00F5A 9380 079D STS	receive_buf+2,R24
(0186) 
(0187)     receive_buf[0]=0x02;
    00F5C E082      LDI	R24,2
    00F5D 9380 079B STS	receive_buf,R24
(0188)     
(0189)     MAC_CalCrc16(receive_buf, crc_buf,LenData+5); 
    00F5F 2F84      MOV	R24,R20
    00F60 5F8B      SUBI	R24,0xFB
    00F61 8388      ST	Y,R24
    00F62 019E      MOVW	R18,R28
    00F63 5F2F      SUBI	R18,0xFF
    00F64 4F3F      SBCI	R19,0xFF
    00F65 E90B      LDI	R16,0x9B
    00F66 E017      LDI	R17,7
    00F67 DF91      RCALL	_MAC_CalCrc16
(0190)     
(0191)     receive_buf[LenData+5]=crc_buf[0];
    00F68 EA80      LDI	R24,0xA0
    00F69 E097      LDI	R25,7
    00F6A 2FE4      MOV	R30,R20
    00F6B 27FF      CLR	R31
    00F6C 0FE8      ADD	R30,R24
    00F6D 1FF9      ADC	R31,R25
    00F6E 8029      LDD	R2,Y+1
    00F6F 8220      ST	Z,R2
(0192)     
(0193)     receive_buf[LenData+6]=crc_buf[1];//数据包尾 
    00F70 EA81      LDI	R24,0xA1
    00F71 E097      LDI	R25,7
    00F72 2FE4      MOV	R30,R20
    00F73 27FF      CLR	R31
    00F74 0FE8      ADD	R30,R24
    00F75 1FF9      ADC	R31,R25
    00F76 802A      LDD	R2,Y+2
    00F77 8220      ST	Z,R2
(0194)     
(0195)     init_USART1(); 
    00F78 DF02      RCALL	_init_USART1
(0196)     outStrtoCom(receive_buf,LenData+7); 
    00F79 2F24      MOV	R18,R20
    00F7A 2733      CLR	R19
    00F7B 5F29      SUBI	R18,0xF9
    00F7C 4F3F      SBCI	R19,0xFF
    00F7D E90B      LDI	R16,0x9B
    00F7E E017      LDI	R17,7
    00F7F DF65      RCALL	_outStrtoCom
(0197)    
(0198)     return;
    00F80 9623      ADIW	R28,3
    00F81 940C 21ED JMP	pop_xgset303C
_EEPROM_write:
  data                 --> R10
  addr_l               --> R14
  addr_h               --> R12
    00F83 940E 21BD CALL	push_xgset00FC
    00F85 0179      MOVW	R14,R18
    00F86 0168      MOVW	R12,R16
    00F87 80AE      LDD	R10,Y+6
    00F88 80BF      LDD	R11,Y+7
FILE: E:\ICCDemo\Temp_Control\temp_control\eeprom.c
(0001) #include<iom128v.h>
(0002) #include "eeprom.h"
(0003) #include "delay.h"
(0004) 
(0005) //使用全非中断方式读写。温控数据在保存时候一次性写入。状态数据执行时写入，写入量小不会影响速度
(0006) void EEPROM_write(uint addr_h,uint addr_l,uint data){
(0007)    SREG&=0x7F;//关中断
    00F89 B78F      IN	R24,0x3F
    00F8A 778F      ANDI	R24,0x7F
    00F8B BF8F      OUT	0x3F,R24
(0008)     while(EECR & (1<<EEWE)){
    00F8C 99E1      SBIC	0x1C,1
    00F8D CFFE      RJMP	0x0F8C
(0009) 	 			 
(0010) 	 } 
(0011) 	  EEARL=addr_l;
    00F8E BAEE      OUT	0x1E,R14
(0012) 	 EEARH=addr_h;
    00F8F BACF      OUT	0x1F,R12
(0013) 	 EEDR=data;
    00F90 BAAD      OUT	0x1D,R10
(0014) 	 EECR|=(1<<EEMWE);
    00F91 9AE2      SBI	0x1C,2
(0015) 	 EECR|=(1<<EEWE);
    00F92 9AE1      SBI	0x1C,1
(0016) 	  delay_us(1);
    00F93 E001      LDI	R16,1
    00F94 E010      LDI	R17,0
    00F95 940E 03B5 CALL	_delay_us
(0017) 	 SREG|=0x80;//开中断
    00F97 9478      BSET	7
(0018) 	 return;
    00F98 940C 219E JMP	pop_xgset00FC
_EEPROM_read:
  data                 --> R10
  addr_l               --> R12
  addr_h               --> R10
    00F9A 940E 21BF CALL	push_xgset003C
    00F9C 0169      MOVW	R12,R18
    00F9D 0158      MOVW	R10,R16
(0019) }
(0020) uint EEPROM_read(uint addr_h,uint addr_l){
(0021)    uint data;
(0022)    SREG&=0x7F;//关中断
    00F9E B78F      IN	R24,0x3F
    00F9F 778F      ANDI	R24,0x7F
    00FA0 BF8F      OUT	0x3F,R24
(0023)     while(EECR & (1<<EEWE)){ 			 
    00FA1 99E1      SBIC	0x1C,1
    00FA2 CFFE      RJMP	0x0FA1
(0024) 	 }
(0025) 	EEARL=addr_l;
    00FA3 BACE      OUT	0x1E,R12
(0026) 	 EEARH=addr_h;
    00FA4 BAAF      OUT	0x1F,R10
(0027) 	 
(0028) 	 EECR|=(1<<EERE);
    00FA5 9AE0      SBI	0x1C,0
(0029) 	 delay_us(1);
    00FA6 E001      LDI	R16,1
    00FA7 E010      LDI	R17,0
    00FA8 940E 03B5 CALL	_delay_us
(0030) 	 data=EEDR;
    00FAA B2AD      IN	R10,0x1D
    00FAB 24BB      CLR	R11
(0031) 	 SREG|=0x80;//开中断
    00FAC 9478      BSET	7
(0032) 	 return data;
    00FAD 0185      MOVW	R16,R10
    00FAE 940C 2199 JMP	pop_xgset003C
_pageTime:
  y                    --> R10
    00FB0 92AA      ST	-Y,R10
    00FB1 92BA      ST	-Y,R11
    00FB2 0158      MOVW	R10,R16
    00FB3 9722      SBIW	R28,2
FILE: E:\ICCDemo\Temp_Control\temp_control\pages.c
(0001) #include<iom128v.h>
(0002) #include "main.h"
(0003) #include "lcd.h"
(0004) #include "time.h"
(0005) #include "timertask.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "temp.h"
(0009) //************************
(0010) // 所有界面信息在这里,用到全局变量， 
(0011) // unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0012) // unsigned int pageParam[5];//传递参数。界面间参数暂存
(0013) // unsigned int prePageNum;
(0014) //************************
(0015) 
(0016) //用于显第一行日期信息，其中Page1、Page3 、Page8使用，
(0017) //由定时器触发该函数，进入这三个界面是启动定时器，退出时关闭
(0018) void pageTime(uint y){
(0019)                 //关定时器
(0020)    lcd_write_str(0,y,"时间:");
    00FB4 E981      LDI	R24,0x91
    00FB5 E097      LDI	R25,7
    00FB6 8399      STD	Y+1,R25
    00FB7 8388      ST	Y,R24
    00FB8 2D2A      MOV	R18,R10
    00FB9 2700      CLR	R16
    00FBA 940E 07BE CALL	_lcd_write_str
(0021)    showTime_page(y);
    00FBC 0185      MOVW	R16,R10
    00FBD 940E 04FB CALL	_showTime_page
    00FBF 9622      ADIW	R28,2
    00FC0 90B9      LD	R11,Y+
    00FC1 90A9      LD	R10,Y+
    00FC2 9508      RET
_pageTime2:
  y                    --> R10
    00FC3 92AA      ST	-Y,R10
    00FC4 92BA      ST	-Y,R11
    00FC5 0158      MOVW	R10,R16
(0022)                  //开定时器 
(0023) }
(0024) void pageTime2(uint y){
(0025)                 //关定时器
(0026)    //lcd_write_str(0,y,"时间:");
(0027)    showTime_page(y);
    00FC6 0185      MOVW	R16,R10
    00FC7 940E 04FB CALL	_showTime_page
    00FC9 90B9      LD	R11,Y+
    00FCA 90A9      LD	R10,Y+
    00FCB 9508      RET
_page1:
  cur                  --> R20
  keyV                 --> R10
  y                    --> R22
  i                    --> R10
    00FCC 940E 21F4 CALL	push_xgsetF03C
    00FCE 9722      SBIW	R28,2
(0028)                  //开定时器 
(0029) }
(0030) //page1,首页的界面
(0031) void page1(void){
(0032)    uint cur=0;
(0033)    uchar keyV;
(0034)    uint i;//用于循环
(0035)    uint y;//确定是那个半屏幕
(0036)    prePageNum=1;//首页不会再有上一界面，这里设置。虽然违反规则
    00FCF E081      LDI	R24,1
    00FD0 E090      LDI	R25,0
    00FD1 9390 0C4C STS	prePageNum+1,R25
    00FD3 9380 0C4B STS	prePageNum,R24
(0037)    //初始化起始选择
(0038)     lcd_write_str(1,1," T1:");
    00FD5 E88C      LDI	R24,0x8C
    00FD6 E097      LDI	R25,7
    00FD7 8399      STD	Y+1,R25
    00FD8 8388      ST	Y,R24
    00FD9 E021      LDI	R18,1
    00FDA E001      LDI	R16,1
    00FDB 940E 07BE CALL	_lcd_write_str
(0039)     lcd_write_str(6,1," T2:");
    00FDD E887      LDI	R24,0x87
    00FDE E097      LDI	R25,7
    00FDF 8399      STD	Y+1,R25
    00FE0 8388      ST	Y,R24
    00FE1 E021      LDI	R18,1
    00FE2 E006      LDI	R16,6
    00FE3 940E 07BE CALL	_lcd_write_str
(0040)     lcd_write_str(1,2," T3:");
    00FE5 E882      LDI	R24,0x82
    00FE6 E097      LDI	R25,7
    00FE7 8399      STD	Y+1,R25
    00FE8 8388      ST	Y,R24
    00FE9 E022      LDI	R18,2
    00FEA E001      LDI	R16,1
    00FEB 940E 07BE CALL	_lcd_write_str
(0041)     lcd_write_str(6,2," T4:");
    00FED E78D      LDI	R24,0x7D
    00FEE E097      LDI	R25,7
    00FEF 8399      STD	Y+1,R25
    00FF0 8388      ST	Y,R24
    00FF1 E022      LDI	R18,2
    00FF2 E006      LDI	R16,6
    00FF3 940E 07BE CALL	_lcd_write_str
(0042) 
(0043) 	
(0044) 	lcd_write_str(1,3,"开始    ");
    00FF5 E784      LDI	R24,0x74
    00FF6 E097      LDI	R25,7
    00FF7 8399      STD	Y+1,R25
    00FF8 8388      ST	Y,R24
    00FF9 E023      LDI	R18,3
    00FFA E001      LDI	R16,1
    00FFB 940E 07BE CALL	_lcd_write_str
(0045)     lcd_write_str_con(3,"停止    ");
    00FFD E62B      LDI	R18,0x6B
    00FFE E037      LDI	R19,7
    00FFF E003      LDI	R16,3
    01000 940E 0808 CALL	_lcd_write_str_con
(0046) 	lcd_write_str_con(3,"设置");
    01002 E626      LDI	R18,0x66
    01003 E037      LDI	R19,7
    01004 E003      LDI	R16,3
    01005 940E 0808 CALL	_lcd_write_str_con
(0047) 	lcd_write_str(1,3,"开始    ");
    01007 E784      LDI	R24,0x74
    01008 E097      LDI	R25,7
    01009 8399      STD	Y+1,R25
    0100A 8388      ST	Y,R24
    0100B E023      LDI	R18,3
    0100C E001      LDI	R16,1
    0100D 940E 07BE CALL	_lcd_write_str
(0048)     lcd_write_str_con(3,"停止    ");
    0100F E62B      LDI	R18,0x6B
    01010 E037      LDI	R19,7
    01011 E003      LDI	R16,3
    01012 940E 0808 CALL	_lcd_write_str_con
(0049) 	lcd_write_str_con(3,"设置"); 
    01014 E626      LDI	R18,0x66
    01015 E037      LDI	R19,7
    01016 E003      LDI	R16,3
    01017 940E 0808 CALL	_lcd_write_str_con
(0050) 	cur=0;
    01019 2744      CLR	R20
    0101A 2755      CLR	R21
(0051) 	Set_White(2,1,3);
    0101B E083      LDI	R24,3
    0101C 8388      ST	Y,R24
    0101D E021      LDI	R18,1
    0101E E002      LDI	R16,2
    0101F 940E 09E3 CALL	_Set_White
    01021 C320      RJMP	0x1342
(0052) 	while(1){
(0053) 	 pageTime(0);
    01022 2700      CLR	R16
    01023 2711      CLR	R17
    01024 DF8B      RCALL	_pageTime
(0054) 	for(i=0;i<4;i++){
    01025 24AA      CLR	R10
    01026 24BB      CLR	R11
    01027 C08C      RJMP	0x10B4
(0055) 	  if(i==0){
    01028 20AA      TST	R10
    01029 F449      BNE	0x1033
    0102A 20BB      TST	R11
    0102B F439      BNE	0x1033
(0056) 	    y=1;
    0102C E061      LDI	R22,1
    0102D E070      LDI	R23,0
(0057) 	    lcd_write_pos(3,1);
    0102E E021      LDI	R18,1
    0102F E003      LDI	R16,3
    01030 940E 077A CALL	_lcd_write_pos
(0058) 	  }else if(i==1){
    01032 C023      RJMP	0x1056
    01033 01C5      MOVW	R24,R10
    01034 3081      CPI	R24,1
    01035 E0E0      LDI	R30,0
    01036 079E      CPC	R25,R30
    01037 F439      BNE	0x103F
(0059) 	    y=1;
    01038 E061      LDI	R22,1
    01039 E070      LDI	R23,0
(0060) 	    lcd_write_pos(8,1);
    0103A E021      LDI	R18,1
    0103B E008      LDI	R16,0x8
    0103C 940E 077A CALL	_lcd_write_pos
(0061) 	  }else if(i==2){
    0103E C017      RJMP	0x1056
    0103F 01C5      MOVW	R24,R10
    01040 3082      CPI	R24,2
    01041 E0E0      LDI	R30,0
    01042 079E      CPC	R25,R30
    01043 F439      BNE	0x104B
(0062) 	    y=2;
    01044 E062      LDI	R22,2
    01045 E070      LDI	R23,0
(0063) 	    lcd_write_pos(3,2);
    01046 E022      LDI	R18,2
    01047 E003      LDI	R16,3
    01048 940E 077A CALL	_lcd_write_pos
(0064) 	  }else if(i==3){
    0104A C00B      RJMP	0x1056
    0104B 01C5      MOVW	R24,R10
    0104C 3083      CPI	R24,3
    0104D E0E0      LDI	R30,0
    0104E 079E      CPC	R25,R30
    0104F F431      BNE	0x1056
(0065) 	    y=2;
    01050 E062      LDI	R22,2
    01051 E070      LDI	R23,0
(0066) 	    lcd_write_pos(8,2);
    01052 E022      LDI	R18,2
    01053 E008      LDI	R16,0x8
    01054 940E 077A CALL	_lcd_write_pos
(0067) 	  }
(0068) 	   switch(temps[i].flag){
    01056 E00A      LDI	R16,0xA
    01057 E011      LDI	R17,1
    01058 0195      MOVW	R18,R10
    01059 940E 2189 CALL	empy16s
    0105B E187      LDI	R24,0x17
    0105C E091      LDI	R25,1
    0105D 01F8      MOVW	R30,R16
    0105E 0FE8      ADD	R30,R24
    0105F 1FF9      ADC	R31,R25
    01060 80C0      LD	R12,Z
    01061 80D1      LDD	R13,Z+1
    01062 20CC      TST	R12
    01063 F411      BNE	0x1066
    01064 20DD      TST	R13
    01065 F0D1      BEQ	0x1080
    01066 01C6      MOVW	R24,R12
    01067 3081      CPI	R24,1
    01068 E0E0      LDI	R30,0
    01069 079E      CPC	R25,R30
    0106A F0D9      BEQ	0x1086
    0106B 3082      CPI	R24,2
    0106C E0E0      LDI	R30,0
    0106D 079E      CPC	R25,R30
    0106E F129      BEQ	0x1094
    0106F 3083      CPI	R24,3
    01070 E0E0      LDI	R30,0
    01071 079E      CPC	R25,R30
    01072 F139      BEQ	0x109A
    01073 3084      CPI	R24,4
    01074 E0E0      LDI	R30,0
    01075 079E      CPC	R25,R30
    01076 F149      BEQ	0x10A0
    01077 3085      CPI	R24,5
    01078 E0E0      LDI	R30,0
    01079 079E      CPC	R25,R30
    0107A F159      BEQ	0x10A6
    0107B 3086      CPI	R24,6
    0107C E0E0      LDI	R30,0
    0107D 079E      CPC	R25,R30
    0107E F169      BEQ	0x10AC
    0107F C031      RJMP	0x10B1
(0069) 	     case 0:
(0070) 		   lcd_write_str_con(y,"停止");
    01080 E621      LDI	R18,0x61
    01081 E037      LDI	R19,7
    01082 2F06      MOV	R16,R22
    01083 940E 0808 CALL	_lcd_write_str_con
(0071) 		   break;
    01085 C02B      RJMP	0x10B1
(0072) 		 case 1:
(0073) 		   lcd_write_str_con(y,"150");
    01086 E52D      LDI	R18,0x5D
    01087 E037      LDI	R19,7
    01088 2F06      MOV	R16,R22
    01089 940E 0808 CALL	_lcd_write_str_con
(0074) 		   lcd_write_char_con(y,0xA1);
    0108B EA21      LDI	R18,0xA1
    0108C 2F06      MOV	R16,R22
    0108D 940E 0766 CALL	_lcd_write_char_con
(0075)           lcd_write_char_con(y,0xE6);
    0108F EE26      LDI	R18,0xE6
    01090 2F06      MOV	R16,R22
    01091 940E 0766 CALL	_lcd_write_char_con
(0076) 		   break;
    01093 C01D      RJMP	0x10B1
(0077) 		 case 2:
(0078) 		   lcd_write_str_con(y,"故障");
    01094 E528      LDI	R18,0x58
    01095 E037      LDI	R19,7
    01096 2F06      MOV	R16,R22
    01097 940E 0808 CALL	_lcd_write_str_con
(0079) 		   break;
    01099 C017      RJMP	0x10B1
(0080) 		 case 3:
(0081) 		   lcd_write_str_con(y,"暂停");
    0109A E523      LDI	R18,0x53
    0109B E037      LDI	R19,7
    0109C 2F06      MOV	R16,R22
    0109D 940E 0808 CALL	_lcd_write_str_con
(0082) 		   break;
    0109F C011      RJMP	0x10B1
(0083) 		 case 4:
(0084) 		   lcd_write_str_con(y,"结束");
    010A0 E42E      LDI	R18,0x4E
    010A1 E037      LDI	R19,7
    010A2 2F06      MOV	R16,R22
    010A3 940E 0808 CALL	_lcd_write_str_con
(0085) 		   break;
    010A5 C00B      RJMP	0x10B1
(0086) 		 case 5:
(0087) 		   lcd_write_str_con(y,"等待");
    010A6 E429      LDI	R18,0x49
    010A7 E037      LDI	R19,7
    010A8 2F06      MOV	R16,R22
    010A9 940E 0808 CALL	_lcd_write_str_con
(0088) 		   break;
    010AB C005      RJMP	0x10B1
(0089) 		 case 6:
(0090) 		   lcd_write_str_con(y,"暂停");
    010AC E523      LDI	R18,0x53
    010AD E037      LDI	R19,7
    010AE 2F06      MOV	R16,R22
    010AF 940E 0808 CALL	_lcd_write_str_con
    010B1 01C5      MOVW	R24,R10
    010B2 9601      ADIW	R24,1
    010B3 015C      MOVW	R10,R24
    010B4 01C5      MOVW	R24,R10
    010B5 3084      CPI	R24,4
    010B6 E0E0      LDI	R30,0
    010B7 079E      CPC	R25,R30
    010B8 F408      BCC	0x10BA
    010B9 CF6E      RJMP	0x1028
(0091) 		   break;
(0092) 		   break;
(0093) 		 default:
(0094) 		   break;
(0095) 	   }
(0096) 	}
(0097) 	 keyV=KeyScan_once();
    010BA 940E 065B CALL	_KeyScan_once
    010BC 2EA0      MOV	R10,R16
(0098) 	 if(keyV=='a'){
    010BD 3601      CPI	R16,0x61
    010BE F009      BEQ	0x10C0
    010BF C048      RJMP	0x1108
(0099) 	      //pageNum=8;//跳转到设置时间的界面
(0100) 		   pageNum=8;
    010C0 E088      LDI	R24,0x8
    010C1 E090      LDI	R25,0
    010C2 9390 0C58 STS	pageNum+1,R25
    010C4 9380 0C57 STS	pageNum,R24
(0101) 	   switch(cur){
    010C6 3040      CPI	R20,0
    010C7 0745      CPC	R20,R21
    010C8 F0A9      BEQ	0x10DE
    010C9 3041      CPI	R20,1
    010CA E0E0      LDI	R30,0
    010CB 075E      CPC	R21,R30
    010CC F0C1      BEQ	0x10E5
    010CD 3042      CPI	R20,2
    010CE E0E0      LDI	R30,0
    010CF 075E      CPC	R21,R30
    010D0 F0D9      BEQ	0x10EC
    010D1 3043      CPI	R20,3
    010D2 E0E0      LDI	R30,0
    010D3 075E      CPC	R21,R30
    010D4 F0F1      BEQ	0x10F3
    010D5 3045      CPI	R20,5
    010D6 E0E0      LDI	R30,0
    010D7 075E      CPC	R21,R30
    010D8 F109      BEQ	0x10FA
    010D9 3046      CPI	R20,6
    010DA E0E0      LDI	R30,0
    010DB 075E      CPC	R21,R30
    010DC F121      BEQ	0x1101
    010DD C265      RJMP	0x1343
(0102) 		 case 0: 
(0103) 		    Set_White_off(2,1,3);
    010DE E083      LDI	R24,3
    010DF 8388      ST	Y,R24
    010E0 E021      LDI	R18,1
    010E1 E002      LDI	R16,2
    010E2 940E 0973 CALL	_Set_White_off
(0104) 		    break;
    010E4 C25E      RJMP	0x1343
(0105) 		 case 1:
(0106) 		   Set_White_off(7,1,8);
    010E5 E088      LDI	R24,0x8
    010E6 8388      ST	Y,R24
    010E7 E021      LDI	R18,1
    010E8 E007      LDI	R16,7
    010E9 940E 0973 CALL	_Set_White_off
(0107) 		   break;
    010EB C257      RJMP	0x1343
(0108) 		 case 2:
(0109) 		  Set_White_off(2,2,3);
    010EC E083      LDI	R24,3
    010ED 8388      ST	Y,R24
    010EE E022      LDI	R18,2
    010EF E002      LDI	R16,2
    010F0 940E 0973 CALL	_Set_White_off
(0110) 		  break;
    010F2 C250      RJMP	0x1343
(0111) 		 case 3:
(0112) 		   Set_White_off(7,2,8);
    010F3 E088      LDI	R24,0x8
    010F4 8388      ST	Y,R24
    010F5 E022      LDI	R18,2
    010F6 E007      LDI	R16,7
    010F7 940E 0973 CALL	_Set_White_off
(0113) 		    break;
    010F9 C249      RJMP	0x1343
(0114) 		case 5:
(0115) 		    Set_White_off(6,3,7);
    010FA E087      LDI	R24,7
    010FB 8388      ST	Y,R24
    010FC E023      LDI	R18,3
    010FD E006      LDI	R16,6
    010FE 940E 0973 CALL	_Set_White_off
(0116) 		    break;
    01100 C242      RJMP	0x1343
(0117) 		 case 6:
(0118) 		   Set_White_off(10,3,11);
    01101 E08B      LDI	R24,0xB
    01102 8388      ST	Y,R24
    01103 E023      LDI	R18,3
    01104 E00A      LDI	R16,0xA
    01105 940E 0973 CALL	_Set_White_off
(0119) 		    break;
(0120) 		  default:
(0121) 		   break;
(0122) 		 }
(0123) 	   return ;
    01107 C23B      RJMP	0x1343
(0124) 	}else if(keyV=='d'){
    01108 2D8A      MOV	R24,R10
    01109 3684      CPI	R24,0x64
    0110A F009      BEQ	0x110C
    0110B C04C      RJMP	0x1158
(0125) 	     switch(cur){
    0110C 3040      CPI	R20,0
    0110D 0745      CPC	R20,R21
    0110E F069      BEQ	0x111C
    0110F 3041      CPI	R20,1
    01110 E0E0      LDI	R30,0
    01111 075E      CPC	R21,R30
    01112 F0C1      BEQ	0x112B
    01113 3042      CPI	R20,2
    01114 E0E0      LDI	R30,0
    01115 075E      CPC	R21,R30
    01116 F119      BEQ	0x113A
    01117 3043      CPI	R20,3
    01118 E0E0      LDI	R30,0
    01119 075E      CPC	R21,R30
    0111A F171      BEQ	0x1149
    0111B C226      RJMP	0x1342
(0126) 		  case 0:
(0127) 		   Set_White_off(2,1,3);
    0111C E083      LDI	R24,3
    0111D 8388      ST	Y,R24
    0111E E021      LDI	R18,1
    0111F E002      LDI	R16,2
    01120 940E 0973 CALL	_Set_White_off
(0128) 		   Set_White(2,2,3);
    01122 E083      LDI	R24,3
    01123 8388      ST	Y,R24
    01124 E022      LDI	R18,2
    01125 E002      LDI	R16,2
    01126 940E 09E3 CALL	_Set_White
(0129) 		   cur=2;
    01128 E042      LDI	R20,2
    01129 E050      LDI	R21,0
(0130) 		   break;
    0112A C217      RJMP	0x1342
(0131) 		  case 1:
(0132) 		   Set_White_off(7,1,8);
    0112B E088      LDI	R24,0x8
    0112C 8388      ST	Y,R24
    0112D E021      LDI	R18,1
    0112E E007      LDI	R16,7
    0112F 940E 0973 CALL	_Set_White_off
(0133) 		   Set_White(7,2,8);
    01131 E088      LDI	R24,0x8
    01132 8388      ST	Y,R24
    01133 E022      LDI	R18,2
    01134 E007      LDI	R16,7
    01135 940E 09E3 CALL	_Set_White
(0134) 		   cur=3;
    01137 E043      LDI	R20,3
    01138 E050      LDI	R21,0
(0135) 		   break;
    01139 C208      RJMP	0x1342
(0136) 		  case 2:
(0137) 		   Set_White_off(2,2,3);
    0113A E083      LDI	R24,3
    0113B 8388      ST	Y,R24
    0113C E022      LDI	R18,2
    0113D E002      LDI	R16,2
    0113E 940E 0973 CALL	_Set_White_off
(0138) 		   Set_White(2,3,3);
    01140 E083      LDI	R24,3
    01141 8388      ST	Y,R24
    01142 E023      LDI	R18,3
    01143 E002      LDI	R16,2
    01144 940E 09E3 CALL	_Set_White
(0139) 		   cur=4;
    01146 E044      LDI	R20,4
    01147 E050      LDI	R21,0
(0140) 		   break;
    01148 C1F9      RJMP	0x1342
(0141) 		  case 3:
(0142) 		   Set_White_off(7,2,8);
    01149 E088      LDI	R24,0x8
    0114A 8388      ST	Y,R24
    0114B E022      LDI	R18,2
    0114C E007      LDI	R16,7
    0114D 940E 0973 CALL	_Set_White_off
(0143) 		   Set_White(6,3,7);
    0114F E087      LDI	R24,7
    01150 8388      ST	Y,R24
    01151 E023      LDI	R18,3
    01152 E006      LDI	R16,6
    01153 940E 09E3 CALL	_Set_White
(0144) 		   cur=5;
    01155 E045      LDI	R20,5
    01156 E050      LDI	R21,0
(0145) 		   break;
(0146) 		  default:
(0147) 		   break;
(0148) 		 }
(0149) 	}else if(keyV=='u'){switch(cur){
    01157 C1EA      RJMP	0x1342
    01158 2D8A      MOV	R24,R10
    01159 3785      CPI	R24,0x75
    0115A F009      BEQ	0x115C
    0115B C061      RJMP	0x11BD
    0115C 3042      CPI	R20,2
    0115D E0E0      LDI	R30,0
    0115E 075E      CPC	R21,R30
    0115F F091      BEQ	0x1172
    01160 3043      CPI	R20,3
    01161 E0E0      LDI	R30,0
    01162 075E      CPC	R21,R30
    01163 F0E9      BEQ	0x1181
    01164 3044      CPI	R20,4
    01165 E0E0      LDI	R30,0
    01166 075E      CPC	R21,R30
    01167 F141      BEQ	0x1190
    01168 3045      CPI	R20,5
    01169 E0E0      LDI	R30,0
    0116A 075E      CPC	R21,R30
    0116B F199      BEQ	0x119F
    0116C 3046      CPI	R20,6
    0116D E0E0      LDI	R30,0
    0116E 075E      CPC	R21,R30
    0116F F409      BNE	0x1171
    01170 C03D      RJMP	0x11AE
    01171 C1D0      RJMP	0x1342
(0150) 		  case 2:
(0151) 		   Set_White_off(2,2,3);
    01172 E083      LDI	R24,3
    01173 8388      ST	Y,R24
    01174 E022      LDI	R18,2
    01175 E002      LDI	R16,2
    01176 940E 0973 CALL	_Set_White_off
(0152) 		   Set_White(2,1,3);
    01178 E083      LDI	R24,3
    01179 8388      ST	Y,R24
    0117A E021      LDI	R18,1
    0117B E002      LDI	R16,2
    0117C 940E 09E3 CALL	_Set_White
(0153) 		   cur=0;
    0117E 2744      CLR	R20
    0117F 2755      CLR	R21
(0154) 		   break;
    01180 C1C1      RJMP	0x1342
(0155) 		  case 3:
(0156) 		   Set_White_off(7,2,8);
    01181 E088      LDI	R24,0x8
    01182 8388      ST	Y,R24
    01183 E022      LDI	R18,2
    01184 E007      LDI	R16,7
    01185 940E 0973 CALL	_Set_White_off
(0157) 		   Set_White(7,1,8);
    01187 E088      LDI	R24,0x8
    01188 8388      ST	Y,R24
    01189 E021      LDI	R18,1
    0118A E007      LDI	R16,7
    0118B 940E 09E3 CALL	_Set_White
(0158) 		   cur=1;
    0118D E041      LDI	R20,1
    0118E E050      LDI	R21,0
(0159) 		   break;
    0118F C1B2      RJMP	0x1342
(0160) 		  case 4:
(0161) 		   Set_White_off(2,3,5);
    01190 E085      LDI	R24,5
    01191 8388      ST	Y,R24
    01192 E023      LDI	R18,3
    01193 E002      LDI	R16,2
    01194 940E 0973 CALL	_Set_White_off
(0162) 		   Set_White(2,2,3);
    01196 E083      LDI	R24,3
    01197 8388      ST	Y,R24
    01198 E022      LDI	R18,2
    01199 E002      LDI	R16,2
    0119A 940E 09E3 CALL	_Set_White
(0163) 		   cur=2;
    0119C E042      LDI	R20,2
    0119D E050      LDI	R21,0
(0164) 		   break;
    0119E C1A3      RJMP	0x1342
(0165) 		  case 5:
(0166) 		   Set_White_off(6,3,7);
    0119F E087      LDI	R24,7
    011A0 8388      ST	Y,R24
    011A1 E023      LDI	R18,3
    011A2 E006      LDI	R16,6
    011A3 940E 0973 CALL	_Set_White_off
(0167) 		   Set_White(7,2,8);
    011A5 E088      LDI	R24,0x8
    011A6 8388      ST	Y,R24
    011A7 E022      LDI	R18,2
    011A8 E007      LDI	R16,7
    011A9 940E 09E3 CALL	_Set_White
(0168) 		   cur=3;
    011AB E043      LDI	R20,3
    011AC E050      LDI	R21,0
(0169) 		   break;
    011AD C194      RJMP	0x1342
(0170) 		  case 6:
(0171) 		   Set_White_off(10,3,11);
    011AE E08B      LDI	R24,0xB
    011AF 8388      ST	Y,R24
    011B0 E023      LDI	R18,3
    011B1 E00A      LDI	R16,0xA
    011B2 940E 0973 CALL	_Set_White_off
(0172) 		   Set_White(7,2,8);
    011B4 E088      LDI	R24,0x8
    011B5 8388      ST	Y,R24
    011B6 E022      LDI	R18,2
    011B7 E007      LDI	R16,7
    011B8 940E 09E3 CALL	_Set_White
(0173) 		   cur=3;
    011BA E043      LDI	R20,3
    011BB E050      LDI	R21,0
(0174) 		   break;
(0175) 		  default:
(0176) 		   break;
(0177) 		 }
(0178) 	}else if(keyV=='l'){switch(cur){
    011BC C185      RJMP	0x1342
    011BD 2D8A      MOV	R24,R10
    011BE 368C      CPI	R24,0x6C
    011BF F009      BEQ	0x11C1
    011C0 C04D      RJMP	0x120E
    011C1 3041      CPI	R20,1
    011C2 E0E0      LDI	R30,0
    011C3 075E      CPC	R21,R30
    011C4 F069      BEQ	0x11D2
    011C5 3043      CPI	R20,3
    011C6 E0E0      LDI	R30,0
    011C7 075E      CPC	R21,R30
    011C8 F0C1      BEQ	0x11E1
    011C9 3045      CPI	R20,5
    011CA E0E0      LDI	R30,0
    011CB 075E      CPC	R21,R30
    011CC F119      BEQ	0x11F0
    011CD 3046      CPI	R20,6
    011CE E0E0      LDI	R30,0
    011CF 075E      CPC	R21,R30
    011D0 F171      BEQ	0x11FF
    011D1 C170      RJMP	0x1342
(0179) 		  case 1:
(0180) 		   Set_White_off(7,1,8);
    011D2 E088      LDI	R24,0x8
    011D3 8388      ST	Y,R24
    011D4 E021      LDI	R18,1
    011D5 E007      LDI	R16,7
    011D6 940E 0973 CALL	_Set_White_off
(0181) 		   Set_White(2,1,3);
    011D8 E083      LDI	R24,3
    011D9 8388      ST	Y,R24
    011DA E021      LDI	R18,1
    011DB E002      LDI	R16,2
    011DC 940E 09E3 CALL	_Set_White
(0182) 		   cur=0;
    011DE 2744      CLR	R20
    011DF 2755      CLR	R21
(0183) 		   break;
    011E0 C161      RJMP	0x1342
(0184) 		  case 3:
(0185) 		   Set_White_off(7,2,8);
    011E1 E088      LDI	R24,0x8
    011E2 8388      ST	Y,R24
    011E3 E022      LDI	R18,2
    011E4 E007      LDI	R16,7
    011E5 940E 0973 CALL	_Set_White_off
(0186) 		   Set_White(2,2,3);
    011E7 E083      LDI	R24,3
    011E8 8388      ST	Y,R24
    011E9 E022      LDI	R18,2
    011EA E002      LDI	R16,2
    011EB 940E 09E3 CALL	_Set_White
(0187) 		   cur=2;
    011ED E042      LDI	R20,2
    011EE E050      LDI	R21,0
(0188) 		   break;
    011EF C152      RJMP	0x1342
(0189) 		  case 5:
(0190) 		   Set_White_off(6,3,7);
    011F0 E087      LDI	R24,7
    011F1 8388      ST	Y,R24
    011F2 E023      LDI	R18,3
    011F3 E006      LDI	R16,6
    011F4 940E 0973 CALL	_Set_White_off
(0191) 		   Set_White(2,3,3);
    011F6 E083      LDI	R24,3
    011F7 8388      ST	Y,R24
    011F8 E023      LDI	R18,3
    011F9 E002      LDI	R16,2
    011FA 940E 09E3 CALL	_Set_White
(0192) 		   cur=4;
    011FC E044      LDI	R20,4
    011FD E050      LDI	R21,0
(0193) 		   break;
    011FE C143      RJMP	0x1342
(0194) 		  case 6:
(0195) 		   Set_White_off(10,3,11);
    011FF E08B      LDI	R24,0xB
    01200 8388      ST	Y,R24
    01201 E023      LDI	R18,3
    01202 E00A      LDI	R16,0xA
    01203 940E 0973 CALL	_Set_White_off
(0196) 		   Set_White(6,3,7);
    01205 E087      LDI	R24,7
    01206 8388      ST	Y,R24
    01207 E023      LDI	R18,3
    01208 E006      LDI	R16,6
    01209 940E 09E3 CALL	_Set_White
(0197) 		   cur=5;
    0120B E045      LDI	R20,5
    0120C E050      LDI	R21,0
(0198) 		   break;
(0199) 		  default:
(0200) 		   break;
(0201) 		 }
(0202) 	}else if(keyV=='r'){
    0120D C134      RJMP	0x1342
    0120E 2D8A      MOV	R24,R10
    0120F 3782      CPI	R24,0x72
    01210 F009      BEQ	0x1212
    01211 C04C      RJMP	0x125E
(0203) 	switch(cur){
    01212 3040      CPI	R20,0
    01213 0745      CPC	R20,R21
    01214 F069      BEQ	0x1222
    01215 3042      CPI	R20,2
    01216 E0E0      LDI	R30,0
    01217 075E      CPC	R21,R30
    01218 F0C1      BEQ	0x1231
    01219 3044      CPI	R20,4
    0121A E0E0      LDI	R30,0
    0121B 075E      CPC	R21,R30
    0121C F119      BEQ	0x1240
    0121D 3045      CPI	R20,5
    0121E E0E0      LDI	R30,0
    0121F 075E      CPC	R21,R30
    01220 F171      BEQ	0x124F
    01221 C120      RJMP	0x1342
(0204) 		  case 0:
(0205) 		   Set_White_off(2,1,3);
    01222 E083      LDI	R24,3
    01223 8388      ST	Y,R24
    01224 E021      LDI	R18,1
    01225 E002      LDI	R16,2
    01226 940E 0973 CALL	_Set_White_off
(0206) 		   Set_White(7,1,8);
    01228 E088      LDI	R24,0x8
    01229 8388      ST	Y,R24
    0122A E021      LDI	R18,1
    0122B E007      LDI	R16,7
    0122C 940E 09E3 CALL	_Set_White
(0207) 		   cur=1;
    0122E E041      LDI	R20,1
    0122F E050      LDI	R21,0
(0208) 		   break;
    01230 C111      RJMP	0x1342
(0209) 		  case 2:
(0210) 		   Set_White_off(2,2,3);
    01231 E083      LDI	R24,3
    01232 8388      ST	Y,R24
    01233 E022      LDI	R18,2
    01234 E002      LDI	R16,2
    01235 940E 0973 CALL	_Set_White_off
(0211) 		   Set_White(7,2,8);
    01237 E088      LDI	R24,0x8
    01238 8388      ST	Y,R24
    01239 E022      LDI	R18,2
    0123A E007      LDI	R16,7
    0123B 940E 09E3 CALL	_Set_White
(0212) 		   cur=3;
    0123D E043      LDI	R20,3
    0123E E050      LDI	R21,0
(0213) 		   break;
    0123F C102      RJMP	0x1342
(0214) 		  case 4:
(0215) 		   Set_White_off(2,3,3);
    01240 E083      LDI	R24,3
    01241 8388      ST	Y,R24
    01242 E023      LDI	R18,3
    01243 E002      LDI	R16,2
    01244 940E 0973 CALL	_Set_White_off
(0216) 		   Set_White(6,3,7);
    01246 E087      LDI	R24,7
    01247 8388      ST	Y,R24
    01248 E023      LDI	R18,3
    01249 E006      LDI	R16,6
    0124A 940E 09E3 CALL	_Set_White
(0217) 		   cur=5;
    0124C E045      LDI	R20,5
    0124D E050      LDI	R21,0
(0218) 		   break;
    0124E C0F3      RJMP	0x1342
(0219) 		  case 5:
(0220) 		   Set_White_off(6,3,7);
    0124F E087      LDI	R24,7
    01250 8388      ST	Y,R24
    01251 E023      LDI	R18,3
    01252 E006      LDI	R16,6
    01253 940E 0973 CALL	_Set_White_off
(0221) 		   Set_White(10,3,11);
    01255 E08B      LDI	R24,0xB
    01256 8388      ST	Y,R24
    01257 E023      LDI	R18,3
    01258 E00A      LDI	R16,0xA
    01259 940E 09E3 CALL	_Set_White
(0222) 		   cur=6;
    0125B E046      LDI	R20,6
    0125C E050      LDI	R21,0
(0223) 		   break;
(0224) 		  default:
(0225) 		   break;
(0226) 		 }
(0227) 	}else if(keyV=='s'){
    0125D C0E4      RJMP	0x1342
    0125E 2D8A      MOV	R24,R10
    0125F 3783      CPI	R24,0x73
    01260 F009      BEQ	0x1262
    01261 C048      RJMP	0x12AA
(0228) 	   pageNum=5;
    01262 E085      LDI	R24,5
    01263 E090      LDI	R25,0
    01264 9390 0C58 STS	pageNum+1,R25
    01266 9380 0C57 STS	pageNum,R24
(0229) 	   switch(cur){
    01268 3040      CPI	R20,0
    01269 0745      CPC	R20,R21
    0126A F0A9      BEQ	0x1280
    0126B 3041      CPI	R20,1
    0126C E0E0      LDI	R30,0
    0126D 075E      CPC	R21,R30
    0126E F0C1      BEQ	0x1287
    0126F 3042      CPI	R20,2
    01270 E0E0      LDI	R30,0
    01271 075E      CPC	R21,R30
    01272 F0D9      BEQ	0x128E
    01273 3043      CPI	R20,3
    01274 E0E0      LDI	R30,0
    01275 075E      CPC	R21,R30
    01276 F0F1      BEQ	0x1295
    01277 3045      CPI	R20,5
    01278 E0E0      LDI	R30,0
    01279 075E      CPC	R21,R30
    0127A F109      BEQ	0x129C
    0127B 3046      CPI	R20,6
    0127C E0E0      LDI	R30,0
    0127D 075E      CPC	R21,R30
    0127E F121      BEQ	0x12A3
    0127F C0C3      RJMP	0x1343
(0230) 		 case 0: 
(0231) 		    Set_White_off(2,1,3);
    01280 E083      LDI	R24,3
    01281 8388      ST	Y,R24
    01282 E021      LDI	R18,1
    01283 E002      LDI	R16,2
    01284 940E 0973 CALL	_Set_White_off
(0232) 		    break;
    01286 C0BC      RJMP	0x1343
(0233) 		 case 1:
(0234) 		   Set_White_off(7,1,8);
    01287 E088      LDI	R24,0x8
    01288 8388      ST	Y,R24
    01289 E021      LDI	R18,1
    0128A E007      LDI	R16,7
    0128B 940E 0973 CALL	_Set_White_off
(0235) 		   break;
    0128D C0B5      RJMP	0x1343
(0236) 		 case 2:
(0237) 		  Set_White_off(2,2,3);
    0128E E083      LDI	R24,3
    0128F 8388      ST	Y,R24
    01290 E022      LDI	R18,2
    01291 E002      LDI	R16,2
    01292 940E 0973 CALL	_Set_White_off
(0238) 		  break;
    01294 C0AE      RJMP	0x1343
(0239) 		 case 3:
(0240) 		   Set_White_off(7,2,8);
    01295 E088      LDI	R24,0x8
    01296 8388      ST	Y,R24
    01297 E022      LDI	R18,2
    01298 E007      LDI	R16,7
    01299 940E 0973 CALL	_Set_White_off
(0241) 		    break;
    0129B C0A7      RJMP	0x1343
(0242) 		case 5:
(0243) 		    Set_White_off(6,3,7);
    0129C E087      LDI	R24,7
    0129D 8388      ST	Y,R24
    0129E E023      LDI	R18,3
    0129F E006      LDI	R16,6
    012A0 940E 0973 CALL	_Set_White_off
(0244) 		    break;
    012A2 C0A0      RJMP	0x1343
(0245) 		 case 6:
(0246) 		   Set_White_off(10,3,11);
    012A3 E08B      LDI	R24,0xB
    012A4 8388      ST	Y,R24
    012A5 E023      LDI	R18,3
    012A6 E00A      LDI	R16,0xA
    012A7 940E 0973 CALL	_Set_White_off
(0247) 		    break;
(0248) 		  default:
(0249) 		   break;
(0250) 		 }
(0251) 	   return ;
    012A9 C099      RJMP	0x1343
(0252) 	}else if(keyV=='t'){
    012AA 2D8A      MOV	R24,R10
    012AB 3784      CPI	R24,0x74
    012AC F009      BEQ	0x12AE
    012AD C094      RJMP	0x1342
(0253) 	   switch(cur){
    012AE 3040      CPI	R20,0
    012AF 0745      CPC	R20,R21
    012B0 F0F1      BEQ	0x12CF
    012B1 3041      CPI	R20,1
    012B2 E0E0      LDI	R30,0
    012B3 075E      CPC	R21,R30
    012B4 F191      BEQ	0x12E7
    012B5 3042      CPI	R20,2
    012B6 E0E0      LDI	R30,0
    012B7 075E      CPC	R21,R30
    012B8 F409      BNE	0x12BA
    012B9 C043      RJMP	0x12FD
    012BA 3043      CPI	R20,3
    012BB E0E0      LDI	R30,0
    012BC 075E      CPC	R21,R30
    012BD F409      BNE	0x12BF
    012BE C055      RJMP	0x1314
    012BF 3044      CPI	R20,4
    012C0 E0E0      LDI	R30,0
    012C1 075E      CPC	R21,R30
    012C2 F409      BNE	0x12C4
    012C3 C066      RJMP	0x132A
    012C4 3045      CPI	R20,5
    012C5 E0E0      LDI	R30,0
    012C6 075E      CPC	R21,R30
    012C7 F409      BNE	0x12C9
    012C8 C064      RJMP	0x132D
    012C9 3046      CPI	R20,6
    012CA E0E0      LDI	R30,0
    012CB 075E      CPC	R21,R30
    012CC F409      BNE	0x12CE
    012CD C062      RJMP	0x1330
    012CE C073      RJMP	0x1342
(0254) 		 case 0: 
(0255) 		    Set_White_off(2,1,3);
    012CF E083      LDI	R24,3
    012D0 8388      ST	Y,R24
    012D1 E021      LDI	R18,1
    012D2 E002      LDI	R16,2
    012D3 940E 0973 CALL	_Set_White_off
(0256) 		    prePageNum=1;
    012D5 E081      LDI	R24,1
    012D6 E090      LDI	R25,0
    012D7 9390 0C4C STS	prePageNum+1,R25
    012D9 9380 0C4B STS	prePageNum,R24
(0257) 		    pageParam[0]=0;//传递使用第一个，对应不同的温度
    012DB 2422      CLR	R2
    012DC 2433      CLR	R3
    012DD 9230 0C4E STS	pageParam+1,R3
    012DF 9220 0C4D STS	pageParam,R2
(0258) 		    pageNum=3;
    012E1 E083      LDI	R24,3
    012E2 9390 0C58 STS	pageNum+1,R25
    012E4 9380 0C57 STS	pageNum,R24
(0259) 		    return;
    012E6 C05C      RJMP	0x1343
(0260) 		 case 1:
(0261) 		   Set_White_off(7,1,8);
    012E7 E088      LDI	R24,0x8
    012E8 8388      ST	Y,R24
    012E9 E021      LDI	R18,1
    012EA E007      LDI	R16,7
    012EB 940E 0973 CALL	_Set_White_off
(0262) 		    prePageNum=1;
    012ED E081      LDI	R24,1
    012EE E090      LDI	R25,0
    012EF 9390 0C4C STS	prePageNum+1,R25
    012F1 9380 0C4B STS	prePageNum,R24
(0263) 		   pageParam[0]=1;//传递使用第一个，对应不同的温度
    012F3 9390 0C4E STS	pageParam+1,R25
    012F5 9380 0C4D STS	pageParam,R24
(0264) 		    pageNum=3;
    012F7 E083      LDI	R24,3
    012F8 9390 0C58 STS	pageNum+1,R25
    012FA 9380 0C57 STS	pageNum,R24
(0265) 		    return;
    012FC C046      RJMP	0x1343
(0266) 		 case 2:
(0267) 		  Set_White_off(2,2,3);
    012FD E083      LDI	R24,3
    012FE 8388      ST	Y,R24
    012FF E022      LDI	R18,2
    01300 E002      LDI	R16,2
    01301 940E 0973 CALL	_Set_White_off
(0268) 		    prePageNum=1;
    01303 E081      LDI	R24,1
    01304 E090      LDI	R25,0
    01305 9390 0C4C STS	prePageNum+1,R25
    01307 9380 0C4B STS	prePageNum,R24
(0269) 		    pageParam[0]=2;//传递使用第一个，对应不同的温度
    01309 E082      LDI	R24,2
    0130A 9390 0C4E STS	pageParam+1,R25
    0130C 9380 0C4D STS	pageParam,R24
(0270) 		   pageNum=3;
    0130E E083      LDI	R24,3
    0130F 9390 0C58 STS	pageNum+1,R25
    01311 9380 0C57 STS	pageNum,R24
(0271) 		   return;
    01313 C02F      RJMP	0x1343
(0272) 		 case 3:
(0273) 		   Set_White_off(7,2,8);
    01314 E088      LDI	R24,0x8
    01315 8388      ST	Y,R24
    01316 E022      LDI	R18,2
    01317 E007      LDI	R16,7
    01318 940E 0973 CALL	_Set_White_off
(0274) 		     prePageNum=1;
    0131A E081      LDI	R24,1
    0131B E090      LDI	R25,0
    0131C 9390 0C4C STS	prePageNum+1,R25
    0131E 9380 0C4B STS	prePageNum,R24
(0275) 		    pageParam[0]=3;//传递使用第一个，对应不同的温度
    01320 E083      LDI	R24,3
    01321 9390 0C4E STS	pageParam+1,R25
    01323 9380 0C4D STS	pageParam,R24
(0276) 		    pageNum=3;
    01325 9390 0C58 STS	pageNum+1,R25
    01327 9380 0C57 STS	pageNum,R24
(0277) 		    return;
    01329 C019      RJMP	0x1343
(0278) 		 case 4:
(0279) 		    //调用函数全部开始，参数正确的
(0280) 			set_all_start();
    0132A 940E 2088 CALL	_set_all_start
(0281) 		   break;
    0132C C015      RJMP	0x1342
(0282) 		 case 5:
(0283) 		    //全部停止
(0284) 			set_all_stop();
    0132D 940E 20C4 CALL	_set_all_stop
(0285) 		   break;
    0132F C012      RJMP	0x1342
(0286) 		 case 6://设置
(0287) 		   Set_White_off(10,3,11);
    01330 E08B      LDI	R24,0xB
    01331 8388      ST	Y,R24
    01332 E023      LDI	R18,3
    01333 E00A      LDI	R16,0xA
    01334 940E 0973 CALL	_Set_White_off
(0288) 		   prePageNum=1;
    01336 E081      LDI	R24,1
    01337 E090      LDI	R25,0
    01338 9390 0C4C STS	prePageNum+1,R25
    0133A 9380 0C4B STS	prePageNum,R24
(0289) 		   pageNum=5;
    0133C E085      LDI	R24,5
    0133D 9390 0C58 STS	pageNum+1,R25
    0133F 9380 0C57 STS	pageNum,R24
(0290) 		    return;
    01341 C001      RJMP	0x1343
    01342 CCDF      RJMP	0x1022
    01343 9622      ADIW	R28,2
    01344 940C 21FD JMP	pop_xgsetF03C
_page2:
  cur                  --> R20
  keyV                 --> R10
    01346 940E 21D8 CALL	push_xgsetF00C
    01348 9722      SBIW	R28,2
(0291) 		  default:
(0292) 		   break;
(0293) 		 }
(0294) 	
(0295) 	}
(0296)   }
(0297)    return;
(0298) }
(0299)  void page2(void){
(0300)    uint cur=0;
    01349 2744      CLR	R20
    0134A 2755      CLR	R21
(0301)    uchar keyV;
(0302)    //初始画面，会有读取EEPROM的判断默认操作，本次只是画界面
(0303)    lcd_write_str(2,0,"是否恢复上次工作");
    0134B E388      LDI	R24,0x38
    0134C E097      LDI	R25,7
    0134D 8399      STD	Y+1,R25
    0134E 8388      ST	Y,R24
    0134F 2722      CLR	R18
    01350 E002      LDI	R16,2
    01351 940E 07BE CALL	_lcd_write_str
(0304)    lcd_write_str(2,2,"恢复");
    01353 E383      LDI	R24,0x33
    01354 E097      LDI	R25,7
    01355 8399      STD	Y+1,R25
    01356 8388      ST	Y,R24
    01357 E022      LDI	R18,2
    01358 E002      LDI	R16,2
    01359 940E 07BE CALL	_lcd_write_str
(0305)    lcd_write_str(8,2,"取消");
    0135B E28E      LDI	R24,0x2E
    0135C E097      LDI	R25,7
    0135D 8399      STD	Y+1,R25
    0135E 8388      ST	Y,R24
    0135F E022      LDI	R18,2
    01360 E008      LDI	R16,0x8
    01361 940E 07BE CALL	_lcd_write_str
(0306)    Set_White(3,2,4);
    01363 E084      LDI	R24,4
    01364 8388      ST	Y,R24
    01365 E022      LDI	R18,2
    01366 E003      LDI	R16,3
    01367 940E 09E3 CALL	_Set_White
    01369 C063      RJMP	0x13CD
(0307)     while(1){
(0308)       keyV=KeyScan_once();
    0136A 940E 065B CALL	_KeyScan_once
    0136C 2EA0      MOV	R10,R16
(0309) 	  switch(keyV){
    0136D 2D6A      MOV	R22,R10
    0136E 2777      CLR	R23
    0136F 366C      CPI	R22,0x6C
    01370 E0E0      LDI	R30,0
    01371 077E      CPC	R23,R30
    01372 F071      BEQ	0x1381
    01373 366C      CPI	R22,0x6C
    01374 E0E0      LDI	R30,0
    01375 077E      CPC	R23,R30
    01376 F40C      BGE	0x1378
    01377 C055      RJMP	0x13CD
    01378 3762      CPI	R22,0x72
    01379 E0E0      LDI	R30,0
    0137A 077E      CPC	R23,R30
    0137B F0C9      BEQ	0x1395
    0137C 3764      CPI	R22,0x74
    0137D E0E0      LDI	R30,0
    0137E 077E      CPC	R23,R30
    0137F F139      BEQ	0x13A7
    01380 C04C      RJMP	0x13CD
(0310) 	    case 'l':
(0311) 		   if(cur==1){
    01381 3041      CPI	R20,1
    01382 E0E0      LDI	R30,0
    01383 075E      CPC	R21,R30
    01384 F009      BEQ	0x1386
    01385 C047      RJMP	0x13CD
(0312) 		      Set_White_off(9,2,10);
    01386 E08A      LDI	R24,0xA
    01387 8388      ST	Y,R24
    01388 E022      LDI	R18,2
    01389 E009      LDI	R16,0x9
    0138A 940E 0973 CALL	_Set_White_off
(0313) 		      Set_White(3,2,4);
    0138C E084      LDI	R24,4
    0138D 8388      ST	Y,R24
    0138E E022      LDI	R18,2
    0138F E003      LDI	R16,3
    01390 940E 09E3 CALL	_Set_White
(0314) 			  cur=0;
    01392 2744      CLR	R20
    01393 2755      CLR	R21
(0315) 		   }
(0316) 		   break;
    01394 C038      RJMP	0x13CD
(0317) 		case 'r':
(0318) 		   if(cur==0){
    01395 3040      CPI	R20,0
    01396 0745      CPC	R20,R21
    01397 F5A9      BNE	0x13CD
(0319) 		      Set_White_off(3,2,4);
    01398 E084      LDI	R24,4
    01399 8388      ST	Y,R24
    0139A E022      LDI	R18,2
    0139B E003      LDI	R16,3
    0139C 940E 0973 CALL	_Set_White_off
(0320) 		      Set_White(9,2,10);
    0139E E08A      LDI	R24,0xA
    0139F 8388      ST	Y,R24
    013A0 E022      LDI	R18,2
    013A1 E009      LDI	R16,0x9
    013A2 940E 09E3 CALL	_Set_White
(0321) 			  cur=1;
    013A4 E041      LDI	R20,1
    013A5 E050      LDI	R21,0
(0322) 		   }
(0323) 		  break;
    013A6 C026      RJMP	0x13CD
(0324) 		case 't':
(0325) 		  //执行相关操作
(0326) 		   Set_White_off(9,2,10);
    013A7 E08A      LDI	R24,0xA
    013A8 8388      ST	Y,R24
    013A9 E022      LDI	R18,2
    013AA E009      LDI	R16,0x9
    013AB 940E 0973 CALL	_Set_White_off
(0327) 		    Set_White_off(3,2,4);
    013AD E084      LDI	R24,4
    013AE 8388      ST	Y,R24
    013AF E022      LDI	R18,2
    013B0 E003      LDI	R16,3
    013B1 940E 0973 CALL	_Set_White_off
(0328) 			if(cur==0){
    013B3 3040      CPI	R20,0
    013B4 0745      CPC	R20,R21
    013B5 F481      BNE	0x13C6
(0329) 			  lcd_clear();
    013B6 940E 0875 CALL	_lcd_clear
(0330) 			  lcd_write_str(5,2,"恢复中. . .");
    013B8 E282      LDI	R24,0x22
    013B9 E097      LDI	R25,7
    013BA 8399      STD	Y+1,R25
    013BB 8388      ST	Y,R24
    013BC E022      LDI	R18,2
    013BD E005      LDI	R16,5
    013BE 940E 07BE CALL	_lcd_write_str
(0331) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    013C0 940E 1F8A CALL	_data_recover
(0332) 			  delay_ms(200);
    013C2 EC08      LDI	R16,0xC8
    013C3 E010      LDI	R17,0
    013C4 940E 03BF CALL	_delay_ms
(0333) 			}
(0334) 		  pageNum=1;
    013C6 E081      LDI	R24,1
    013C7 E090      LDI	R25,0
    013C8 9390 0C58 STS	pageNum+1,R25
    013CA 9380 0C57 STS	pageNum,R24
(0335) 		  return;
    013CC C001      RJMP	0x13CE
    013CD CF9C      RJMP	0x136A
    013CE 9622      ADIW	R28,2
    013CF 940C 21DF JMP	pop_xgsetF00C
_page3:
  cur                  --> R20
  keyV                 --> R22
    013D1 940E 21CE CALL	push_xgsetF000
    013D3 9722      SBIW	R28,2
(0336) 	  }
(0337) 	}
(0338)  }
(0339)  void page3(void){
(0340)   uint cur=0;
    013D4 2744      CLR	R20
    013D5 2755      CLR	R21
(0341)    uchar keyV;
(0342)    lcd_write_str(0,0,"T");
    013D6 E280      LDI	R24,0x20
    013D7 E097      LDI	R25,7
    013D8 8399      STD	Y+1,R25
    013D9 8388      ST	Y,R24
    013DA 2722      CLR	R18
    013DB 2700      CLR	R16
    013DC 940E 07BE CALL	_lcd_write_str
(0343)     lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    013DE 9120 0C4D LDS	R18,pageParam
    013E0 9130 0C4E LDS	R19,pageParam+1
    013E2 5F2F      SUBI	R18,0xFF
    013E3 4F3F      SBCI	R19,0xFF
    013E4 6320      ORI	R18,0x30
    013E5 2700      CLR	R16
    013E6 940E 0766 CALL	_lcd_write_char_con
(0344) 	lcd_write_char_con(0,':');
    013E8 E32A      LDI	R18,0x3A
    013E9 2700      CLR	R16
    013EA 940E 0766 CALL	_lcd_write_char_con
(0345)    lcd_write_str(1,1,"温度:");
    013EC E18A      LDI	R24,0x1A
    013ED E097      LDI	R25,7
    013EE 8399      STD	Y+1,R25
    013EF 8388      ST	Y,R24
    013F0 E021      LDI	R18,1
    013F1 E001      LDI	R16,1
    013F2 940E 07BE CALL	_lcd_write_str
(0346)    lcd_write_str(1,2,"状态:");
    013F4 E184      LDI	R24,0x14
    013F5 E097      LDI	R25,7
    013F6 8399      STD	Y+1,R25
    013F7 8388      ST	Y,R24
    013F8 E022      LDI	R18,2
    013F9 E001      LDI	R16,1
    013FA 940E 07BE CALL	_lcd_write_str
(0347)    lcd_write_str(0,3,"编辑");
    013FC E08F      LDI	R24,0xF
    013FD E097      LDI	R25,7
    013FE 8399      STD	Y+1,R25
    013FF 8388      ST	Y,R24
    01400 E023      LDI	R18,3
    01401 2700      CLR	R16
    01402 940E 07BE CALL	_lcd_write_str
(0348)    lcd_write_str(3,3,"运行");
    01404 E08A      LDI	R24,0xA
    01405 E097      LDI	R25,7
    01406 8399      STD	Y+1,R25
    01407 8388      ST	Y,R24
    01408 E023      LDI	R18,3
    01409 E003      LDI	R16,3
    0140A 940E 07BE CALL	_lcd_write_str
(0349)    lcd_write_str(7,3,"暂停");
    0140C E583      LDI	R24,0x53
    0140D E097      LDI	R25,7
    0140E 8399      STD	Y+1,R25
    0140F 8388      ST	Y,R24
    01410 E023      LDI	R18,3
    01411 E007      LDI	R16,7
    01412 940E 07BE CALL	_lcd_write_str
(0350)    lcd_write_str(10,3,"重置");
    01414 E085      LDI	R24,5
    01415 E097      LDI	R25,7
    01416 8399      STD	Y+1,R25
    01417 8388      ST	Y,R24
    01418 E023      LDI	R18,3
    01419 E00A      LDI	R16,0xA
    0141A 940E 07BE CALL	_lcd_write_str
(0351)    Set_White(1,3,2);
    0141C E082      LDI	R24,2
    0141D 8388      ST	Y,R24
    0141E E023      LDI	R18,3
    0141F E001      LDI	R16,1
    01420 940E 09E3 CALL	_Set_White
    01422 C16C      RJMP	0x158F
(0352)    //Set_White(9,2,10);
(0353)     while(1){
(0354) 	lcd_write_pos(2,0);
    01423 2722      CLR	R18
    01424 E002      LDI	R16,2
    01425 940E 077A CALL	_lcd_write_pos
(0355) 	pageTime2(0);
    01427 2700      CLR	R16
    01428 2711      CLR	R17
    01429 DB99      RCALL	_pageTime2
(0356) 	//数据需要读入
(0357) 	lcd_write_pos(4,2);
    0142A E022      LDI	R18,2
    0142B E004      LDI	R16,4
    0142C 940E 077A CALL	_lcd_write_pos
(0358) 	switch(temps[pageParam[0]].flag){
    0142E 9120 0C4D LDS	R18,pageParam
    01430 9130 0C4E LDS	R19,pageParam+1
    01432 E00A      LDI	R16,0xA
    01433 E011      LDI	R17,1
    01434 940E 2189 CALL	empy16s
    01436 E187      LDI	R24,0x17
    01437 E091      LDI	R25,1
    01438 01F8      MOVW	R30,R16
    01439 0FE8      ADD	R30,R24
    0143A 1FF9      ADC	R31,R25
    0143B 8160      LD	R22,Z
    0143C 8171      LDD	R23,Z+1
    0143D 3060      CPI	R22,0
    0143E 0767      CPC	R22,R23
    0143F F0C9      BEQ	0x1459
    01440 3061      CPI	R22,1
    01441 E0E0      LDI	R30,0
    01442 077E      CPC	R23,R30
    01443 F0D9      BEQ	0x145F
    01444 3062      CPI	R22,2
    01445 E0E0      LDI	R30,0
    01446 077E      CPC	R23,R30
    01447 F149      BEQ	0x1471
    01448 3063      CPI	R22,3
    01449 E0E0      LDI	R30,0
    0144A 077E      CPC	R23,R30
    0144B F159      BEQ	0x1477
    0144C 3064      CPI	R22,4
    0144D E0E0      LDI	R30,0
    0144E 077E      CPC	R23,R30
    0144F F169      BEQ	0x147D
    01450 3065      CPI	R22,5
    01451 E0E0      LDI	R30,0
    01452 077E      CPC	R23,R30
    01453 F179      BEQ	0x1483
    01454 3066      CPI	R22,6
    01455 E0E0      LDI	R30,0
    01456 077E      CPC	R23,R30
    01457 F189      BEQ	0x1489
    01458 C035      RJMP	0x148E
(0359) 	     case 0: 
(0360) 		   lcd_write_str_con(2,"停止");
    01459 E621      LDI	R18,0x61
    0145A E037      LDI	R19,7
    0145B E002      LDI	R16,2
    0145C 940E 0808 CALL	_lcd_write_str_con
(0361) 		   break;
    0145E C02F      RJMP	0x148E
(0362) 		 case 1:
(0363) 		   //写温度
(0364) 		   lcd_write_pos(4,1);
    0145F E021      LDI	R18,1
    01460 E004      LDI	R16,4
    01461 940E 077A CALL	_lcd_write_pos
(0365) 		   lcd_write_str_con(1,"150");
    01463 E52D      LDI	R18,0x5D
    01464 E037      LDI	R19,7
    01465 E001      LDI	R16,1
    01466 940E 0808 CALL	_lcd_write_str_con
(0366) 		   lcd_write_char_con(1,0xA1);
    01468 EA21      LDI	R18,0xA1
    01469 E001      LDI	R16,1
    0146A 940E 0766 CALL	_lcd_write_char_con
(0367)            lcd_write_char_con(1,0xE6);
    0146C EE26      LDI	R18,0xE6
    0146D E001      LDI	R16,1
    0146E 940E 0766 CALL	_lcd_write_char_con
(0368) 		   //写状态
(0369) 		   break;
    01470 C01D      RJMP	0x148E
(0370) 		 case 2:
(0371) 		   lcd_write_str_con(2,"故障");
    01471 E528      LDI	R18,0x58
    01472 E037      LDI	R19,7
    01473 E002      LDI	R16,2
    01474 940E 0808 CALL	_lcd_write_str_con
(0372) 		   break;
    01476 C017      RJMP	0x148E
(0373) 		 case 3:
(0374) 		   lcd_write_str_con(2,"暂停");
    01477 E523      LDI	R18,0x53
    01478 E037      LDI	R19,7
    01479 E002      LDI	R16,2
    0147A 940E 0808 CALL	_lcd_write_str_con
(0375) 		   break;
    0147C C011      RJMP	0x148E
(0376) 		 case 4:
(0377) 		   lcd_write_str_con(2,"结束");
    0147D E42E      LDI	R18,0x4E
    0147E E037      LDI	R19,7
    0147F E002      LDI	R16,2
    01480 940E 0808 CALL	_lcd_write_str_con
(0378) 		   break;
    01482 C00B      RJMP	0x148E
(0379) 		 case 5:
(0380) 		   lcd_write_str_con(2,"等待");
    01483 E429      LDI	R18,0x49
    01484 E037      LDI	R19,7
    01485 E002      LDI	R16,2
    01486 940E 0808 CALL	_lcd_write_str_con
(0381) 		   break;
    01488 C005      RJMP	0x148E
(0382) 		 case 6:
(0383) 		   lcd_write_str_con(2,"暂停");
    01489 E523      LDI	R18,0x53
    0148A E037      LDI	R19,7
    0148B E002      LDI	R16,2
    0148C 940E 0808 CALL	_lcd_write_str_con
(0384) 		   break;
(0385) 		   break;
(0386) 		 default:
(0387) 		   break;
(0388) 	   }
(0389) 	
(0390)       keyV=KeyScan_once();  
    0148E 940E 065B CALL	_KeyScan_once
    01490 2F60      MOV	R22,R16
(0391) 	  if(keyV=='e'){
    01491 3605      CPI	R16,0x65
    01492 F4F9      BNE	0x14B2
(0392) 	      Set_White_off(1,3,2);
    01493 E082      LDI	R24,2
    01494 8388      ST	Y,R24
    01495 E023      LDI	R18,3
    01496 E001      LDI	R16,1
    01497 940E 0973 CALL	_Set_White_off
(0393) 		  Set_White_off(4,3,5);
    01499 E085      LDI	R24,5
    0149A 8388      ST	Y,R24
    0149B E023      LDI	R18,3
    0149C E004      LDI	R16,4
    0149D 940E 0973 CALL	_Set_White_off
(0394) 		  Set_White_off(8,3,9);
    0149F E089      LDI	R24,0x9
    014A0 8388      ST	Y,R24
    014A1 E023      LDI	R18,3
    014A2 E008      LDI	R16,0x8
    014A3 940E 0973 CALL	_Set_White_off
(0395) 		  Set_White_off(11,3,12);
    014A5 E08C      LDI	R24,0xC
    014A6 8388      ST	Y,R24
    014A7 E023      LDI	R18,3
    014A8 E00B      LDI	R16,0xB
    014A9 940E 0973 CALL	_Set_White_off
(0396) 		  pageNum=1;
    014AB E081      LDI	R24,1
    014AC E090      LDI	R25,0
    014AD 9390 0C58 STS	pageNum+1,R25
    014AF 9380 0C57 STS	pageNum,R24
(0397) 		  return;
    014B1 C0DE      RJMP	0x1590
(0398) 	  }else if(keyV=='l'){
    014B2 366C      CPI	R22,0x6C
    014B3 F5D1      BNE	0x14EE
(0399) 	     switch(cur){
    014B4 3041      CPI	R20,1
    014B5 E0E0      LDI	R30,0
    014B6 075E      CPC	R21,R30
    014B7 F049      BEQ	0x14C1
    014B8 3042      CPI	R20,2
    014B9 E0E0      LDI	R30,0
    014BA 075E      CPC	R21,R30
    014BB F0A1      BEQ	0x14D0
    014BC 3043      CPI	R20,3
    014BD E0E0      LDI	R30,0
    014BE 075E      CPC	R21,R30
    014BF F0F9      BEQ	0x14DF
    014C0 C0CE      RJMP	0x158F
(0400) 		   case 1:
(0401) 		     Set_White_off(4,3,5);
    014C1 E085      LDI	R24,5
    014C2 8388      ST	Y,R24
    014C3 E023      LDI	R18,3
    014C4 E004      LDI	R16,4
    014C5 940E 0973 CALL	_Set_White_off
(0402) 		     Set_White(1,3,2);
    014C7 E082      LDI	R24,2
    014C8 8388      ST	Y,R24
    014C9 E023      LDI	R18,3
    014CA E001      LDI	R16,1
    014CB 940E 09E3 CALL	_Set_White
(0403) 			 cur=0;
    014CD 2744      CLR	R20
    014CE 2755      CLR	R21
(0404) 		     break;
    014CF C0BF      RJMP	0x158F
(0405) 		   case 2:
(0406) 		     Set_White_off(8,3,9);
    014D0 E089      LDI	R24,0x9
    014D1 8388      ST	Y,R24
    014D2 E023      LDI	R18,3
    014D3 E008      LDI	R16,0x8
    014D4 940E 0973 CALL	_Set_White_off
(0407) 		     Set_White(4,3,5);
    014D6 E085      LDI	R24,5
    014D7 8388      ST	Y,R24
    014D8 E023      LDI	R18,3
    014D9 E004      LDI	R16,4
    014DA 940E 09E3 CALL	_Set_White
(0408) 		     cur=1;
    014DC E041      LDI	R20,1
    014DD E050      LDI	R21,0
(0409) 		     break;
    014DE C0B0      RJMP	0x158F
(0410) 		   case 3:
(0411) 		     Set_White_off(11,3,12);
    014DF E08C      LDI	R24,0xC
    014E0 8388      ST	Y,R24
    014E1 E023      LDI	R18,3
    014E2 E00B      LDI	R16,0xB
    014E3 940E 0973 CALL	_Set_White_off
(0412) 		     Set_White(8,3,9);
    014E5 E089      LDI	R24,0x9
    014E6 8388      ST	Y,R24
    014E7 E023      LDI	R18,3
    014E8 E008      LDI	R16,0x8
    014E9 940E 09E3 CALL	_Set_White
(0413) 		     cur=2;
    014EB E042      LDI	R20,2
    014EC E050      LDI	R21,0
(0414) 		     break;
(0415) 		 }
(0416) 	  }else if(keyV=='r'){
    014ED C0A1      RJMP	0x158F
    014EE 3762      CPI	R22,0x72
    014EF F5C9      BNE	0x1529
(0417) 	       switch(cur){
    014F0 3040      CPI	R20,0
    014F1 0745      CPC	R20,R21
    014F2 F049      BEQ	0x14FC
    014F3 3041      CPI	R20,1
    014F4 E0E0      LDI	R30,0
    014F5 075E      CPC	R21,R30
    014F6 F0A1      BEQ	0x150B
    014F7 3042      CPI	R20,2
    014F8 E0E0      LDI	R30,0
    014F9 075E      CPC	R21,R30
    014FA F0F9      BEQ	0x151A
    014FB C093      RJMP	0x158F
(0418) 		   case 0:
(0419) 		     Set_White(4,3,5);
    014FC E085      LDI	R24,5
    014FD 8388      ST	Y,R24
    014FE E023      LDI	R18,3
    014FF E004      LDI	R16,4
    01500 940E 09E3 CALL	_Set_White
(0420) 		     Set_White_off(1,3,2);
    01502 E082      LDI	R24,2
    01503 8388      ST	Y,R24
    01504 E023      LDI	R18,3
    01505 E001      LDI	R16,1
    01506 940E 0973 CALL	_Set_White_off
(0421) 			 cur=1;
    01508 E041      LDI	R20,1
    01509 E050      LDI	R21,0
(0422) 		     break;
    0150A C084      RJMP	0x158F
(0423) 		   case 1:
(0424) 		     Set_White(8,3,9);
    0150B E089      LDI	R24,0x9
    0150C 8388      ST	Y,R24
    0150D E023      LDI	R18,3
    0150E E008      LDI	R16,0x8
    0150F 940E 09E3 CALL	_Set_White
(0425) 		     Set_White_off(4,3,5);
    01511 E085      LDI	R24,5
    01512 8388      ST	Y,R24
    01513 E023      LDI	R18,3
    01514 E004      LDI	R16,4
    01515 940E 0973 CALL	_Set_White_off
(0426) 		     cur=2;
    01517 E042      LDI	R20,2
    01518 E050      LDI	R21,0
(0427) 		     break;
    01519 C075      RJMP	0x158F
(0428) 		   case 2:
(0429) 		     Set_White(11,3,12);
    0151A E08C      LDI	R24,0xC
    0151B 8388      ST	Y,R24
    0151C E023      LDI	R18,3
    0151D E00B      LDI	R16,0xB
    0151E 940E 09E3 CALL	_Set_White
(0430) 		     Set_White_off(8,3,9);
    01520 E089      LDI	R24,0x9
    01521 8388      ST	Y,R24
    01522 E023      LDI	R18,3
    01523 E008      LDI	R16,0x8
    01524 940E 0973 CALL	_Set_White_off
(0431) 		     cur=3;
    01526 E043      LDI	R20,3
    01527 E050      LDI	R21,0
(0432) 		     break;
(0433) 		 }
(0434) 	  }else if(keyV=='t'){
    01528 C066      RJMP	0x158F
    01529 3764      CPI	R22,0x74
    0152A F009      BEQ	0x152C
    0152B C042      RJMP	0x156E
(0435) 	       switch(cur){
    0152C 3040      CPI	R20,0
    0152D 0745      CPC	R20,R21
    0152E F069      BEQ	0x153C
    0152F 3041      CPI	R20,1
    01530 E0E0      LDI	R30,0
    01531 075E      CPC	R21,R30
    01532 F0B1      BEQ	0x1549
    01533 3042      CPI	R20,2
    01534 E0E0      LDI	R30,0
    01535 075E      CPC	R21,R30
    01536 F0C9      BEQ	0x1550
    01537 3043      CPI	R20,3
    01538 E0E0      LDI	R30,0
    01539 075E      CPC	R21,R30
    0153A F0E1      BEQ	0x1557
    0153B C053      RJMP	0x158F
(0436) 		   case 0:
(0437) 		     Set_White_off(1,3,2);
    0153C E082      LDI	R24,2
    0153D 8388      ST	Y,R24
    0153E E023      LDI	R18,3
    0153F E001      LDI	R16,1
    01540 940E 0973 CALL	_Set_White_off
(0438) 			 pageNum=4;
    01542 E084      LDI	R24,4
    01543 E090      LDI	R25,0
    01544 9390 0C58 STS	pageNum+1,R25
    01546 9380 0C57 STS	pageNum,R24
(0439) 		     return;
    01548 C047      RJMP	0x1590
(0440) 		   case 1:
(0441) 		     //运行操作
(0442) 			 set_start(pageParam[0]);
    01549 9100 0C4D LDS	R16,pageParam
    0154B 9110 0C4E LDS	R17,pageParam+1
    0154D 940E 2100 CALL	_set_start
(0443) 		     break;
    0154F C03F      RJMP	0x158F
(0444) 		   case 2:
(0445) 		     //暂停操作
(0446) 			 set_stop(pageParam[0]);
    01550 9100 0C4D LDS	R16,pageParam
    01552 9110 0C4E LDS	R17,pageParam+1
    01554 940E 2134 CALL	_set_stop
(0447) 		     break;
    01556 C038      RJMP	0x158F
(0448) 		  case 3:
(0449) 		     //重置操作
(0450) 			 Set_White_off(11,3,12);
    01557 E08C      LDI	R24,0xC
    01558 8388      ST	Y,R24
    01559 E023      LDI	R18,3
    0155A E00B      LDI	R16,0xB
    0155B 940E 0973 CALL	_Set_White_off
(0451) 			 pageParam[2]=1;//表示重置是温度数据的
    0155D E081      LDI	R24,1
    0155E E090      LDI	R25,0
    0155F 9390 0C52 STS	pageParam+5,R25
    01561 9380 0C51 STS	pageParam+4,R24
(0452) 			 prePageNum=3;
    01563 E083      LDI	R24,3
    01564 9390 0C4C STS	prePageNum+1,R25
    01566 9380 0C4B STS	prePageNum,R24
(0453) 		     pageNum=7;
    01568 E087      LDI	R24,7
    01569 9390 0C58 STS	pageNum+1,R25
    0156B 9380 0C57 STS	pageNum,R24
(0454) 		     return;
    0156D C022      RJMP	0x1590
(0455) 		 }
(0456) 	  }else if(keyV=='s'){
    0156E 3763      CPI	R22,0x73
    0156F F4F9      BNE	0x158F
(0457) 	       Set_White_off(1,3,2);
    01570 E082      LDI	R24,2
    01571 8388      ST	Y,R24
    01572 E023      LDI	R18,3
    01573 E001      LDI	R16,1
    01574 940E 0973 CALL	_Set_White_off
(0458) 		   Set_White_off(4,3,5);
    01576 E085      LDI	R24,5
    01577 8388      ST	Y,R24
    01578 E023      LDI	R18,3
    01579 E004      LDI	R16,4
    0157A 940E 0973 CALL	_Set_White_off
(0459) 		   Set_White_off(8,3,9);
    0157C E089      LDI	R24,0x9
    0157D 8388      ST	Y,R24
    0157E E023      LDI	R18,3
    0157F E008      LDI	R16,0x8
    01580 940E 0973 CALL	_Set_White_off
(0460) 		   Set_White_off(11,3,12);
    01582 E08C      LDI	R24,0xC
    01583 8388      ST	Y,R24
    01584 E023      LDI	R18,3
    01585 E00B      LDI	R16,0xB
    01586 940E 0973 CALL	_Set_White_off
(0461) 			pageNum=4;
    01588 E084      LDI	R24,4
    01589 E090      LDI	R25,0
    0158A 9390 0C58 STS	pageNum+1,R25
    0158C 9380 0C57 STS	pageNum,R24
(0462) 		     return;
    0158E C001      RJMP	0x1590
    0158F CE93      RJMP	0x1423
    01590 9622      ADIW	R28,2
    01591 940C 21D3 JMP	pop_xgsetF000
_page4_data:
  numL                 --> R14
  numH                 --> R12
  beginCur             --> R20
  i                    --> R22
  dataCach             --> R10
  y                    --> Y,+12
    01593 940E 2168 CALL	push_arg4
    01595 940E 21B9 CALL	push_xgsetF0FC
    01597 0159      MOVW	R10,R18
    01598 9722      SBIW	R28,2
(0463) 	  }
(0464) 	}
(0465)  }
(0466)  //等下调用page_ac()函数改变ac写数据
(0467)  void page4_data(uint y,uint* dataCach){
(0468)       uint numH=0xA2;
    01599 EA82      LDI	R24,0xA2
    0159A E090      LDI	R25,0
    0159B 016C      MOVW	R12,R24
(0469)       uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
    0159C EC84      LDI	R24,0xC4
    0159D 017C      MOVW	R14,R24
(0470) 	  uint i=0;
    0159E 2766      CLR	R22
    0159F 2777      CLR	R23
(0471) 	  uint beginCur=0;
    015A0 2744      CLR	R20
    015A1 2755      CLR	R21
(0472)     //这个判断需要些到读取值函数中去
(0473) 	 if(y<3){
    015A2 858C      LDD	R24,Y+12
    015A3 859D      LDD	R25,Y+13
    015A4 3083      CPI	R24,3
    015A5 E0E0      LDI	R30,0
    015A6 079E      CPC	R25,R30
    015A7 F530      BCC	0x15CE
(0474) 	   lcd_write_char(2,1,numH);
    015A8 82C8      ST	Y,R12
    015A9 E021      LDI	R18,1
    015AA E002      LDI	R16,2
    015AB 940E 0798 CALL	_lcd_write_char
(0475)        lcd_write_char_con(1,numL+1);
    015AD 0197      MOVW	R18,R14
    015AE 5F2F      SUBI	R18,0xFF
    015AF 4F3F      SBCI	R19,0xFF
    015B0 E001      LDI	R16,1
    015B1 940E 0766 CALL	_lcd_write_char_con
(0476) 	   lcd_write_char(2,2,numH);
    015B3 82C8      ST	Y,R12
    015B4 E022      LDI	R18,2
    015B5 E002      LDI	R16,2
    015B6 940E 0798 CALL	_lcd_write_char
(0477)        lcd_write_char_con(2,numL+2);
    015B8 0197      MOVW	R18,R14
    015B9 5F2E      SUBI	R18,0xFE
    015BA 4F3F      SBCI	R19,0xFF
    015BB E002      LDI	R16,2
    015BC 940E 0766 CALL	_lcd_write_char_con
(0478)        lcd_write_char(2,3,numH);
    015BE 82C8      ST	Y,R12
    015BF E023      LDI	R18,3
    015C0 E002      LDI	R16,2
    015C1 940E 0798 CALL	_lcd_write_char
(0479)        lcd_write_char_con(3,numL+3);
    015C3 0197      MOVW	R18,R14
    015C4 5F2D      SUBI	R18,0xFD
    015C5 4F3F      SBCI	R19,0xFF
    015C6 E003      LDI	R16,3
    015C7 940E 0766 CALL	_lcd_write_char_con
(0480) 	   y=0;
    015C9 2400      CLR	R0
    015CA 2411      CLR	R1
    015CB 861D      STD	Y+13,R1
    015CC 860C      STD	Y+12,R0
(0481) 	  }else if(y>=3 && y<6){
    015CD C08F      RJMP	0x165D
    015CE 858C      LDD	R24,Y+12
    015CF 859D      LDD	R25,Y+13
    015D0 3083      CPI	R24,3
    015D1 E0E0      LDI	R30,0
    015D2 079E      CPC	R25,R30
    015D3 F150      BCS	0x15FE
    015D4 3086      CPI	R24,6
    015D5 E0E0      LDI	R30,0
    015D6 079E      CPC	R25,R30
    015D7 F530      BCC	0x15FE
(0482) 	   lcd_write_char(2,1,numH);
    015D8 82C8      ST	Y,R12
    015D9 E021      LDI	R18,1
    015DA E002      LDI	R16,2
    015DB 940E 0798 CALL	_lcd_write_char
(0483)        lcd_write_char_con(1,numL+4);
    015DD 0197      MOVW	R18,R14
    015DE 5F2C      SUBI	R18,0xFC
    015DF 4F3F      SBCI	R19,0xFF
    015E0 E001      LDI	R16,1
    015E1 940E 0766 CALL	_lcd_write_char_con
(0484) 	   lcd_write_char(2,2,numH);
    015E3 82C8      ST	Y,R12
    015E4 E022      LDI	R18,2
    015E5 E002      LDI	R16,2
    015E6 940E 0798 CALL	_lcd_write_char
(0485)        lcd_write_char_con(2,numL+5);
    015E8 0197      MOVW	R18,R14
    015E9 5F2B      SUBI	R18,0xFB
    015EA 4F3F      SBCI	R19,0xFF
    015EB E002      LDI	R16,2
    015EC 940E 0766 CALL	_lcd_write_char_con
(0486)        lcd_write_char(2,3,numH);
    015EE 82C8      ST	Y,R12
    015EF E023      LDI	R18,3
    015F0 E002      LDI	R16,2
    015F1 940E 0798 CALL	_lcd_write_char
(0487)        lcd_write_char_con(3,numL+6);
    015F3 0197      MOVW	R18,R14
    015F4 5F2A      SUBI	R18,0xFA
    015F5 4F3F      SBCI	R19,0xFF
    015F6 E003      LDI	R16,3
    015F7 940E 0766 CALL	_lcd_write_char_con
(0488) 	   y=1;
    015F9 E081      LDI	R24,1
    015FA E090      LDI	R25,0
    015FB 879D      STD	Y+13,R25
    015FC 878C      STD	Y+12,R24
(0489) 	  }else if(y>=6 && y<9){
    015FD C05F      RJMP	0x165D
    015FE 858C      LDD	R24,Y+12
    015FF 859D      LDD	R25,Y+13
    01600 3086      CPI	R24,6
    01601 E0E0      LDI	R30,0
    01602 079E      CPC	R25,R30
    01603 F150      BCS	0x162E
    01604 3089      CPI	R24,0x9
    01605 E0E0      LDI	R30,0
    01606 079E      CPC	R25,R30
    01607 F530      BCC	0x162E
(0490) 	   lcd_write_char(2,1,numH);
    01608 82C8      ST	Y,R12
    01609 E021      LDI	R18,1
    0160A E002      LDI	R16,2
    0160B 940E 0798 CALL	_lcd_write_char
(0491)        lcd_write_char_con(1,numL+7);
    0160D 0197      MOVW	R18,R14
    0160E 5F29      SUBI	R18,0xF9
    0160F 4F3F      SBCI	R19,0xFF
    01610 E001      LDI	R16,1
    01611 940E 0766 CALL	_lcd_write_char_con
(0492) 	   lcd_write_char(2,2,numH);
    01613 82C8      ST	Y,R12
    01614 E022      LDI	R18,2
    01615 E002      LDI	R16,2
    01616 940E 0798 CALL	_lcd_write_char
(0493)        lcd_write_char_con(2,numL+8);
    01618 0197      MOVW	R18,R14
    01619 5F28      SUBI	R18,0xF8
    0161A 4F3F      SBCI	R19,0xFF
    0161B E002      LDI	R16,2
    0161C 940E 0766 CALL	_lcd_write_char_con
(0494)        lcd_write_char(2,3,numH);
    0161E 82C8      ST	Y,R12
    0161F E023      LDI	R18,3
    01620 E002      LDI	R16,2
    01621 940E 0798 CALL	_lcd_write_char
(0495)        lcd_write_char_con(3,numL+9);
    01623 0197      MOVW	R18,R14
    01624 5F27      SUBI	R18,0xF7
    01625 4F3F      SBCI	R19,0xFF
    01626 E003      LDI	R16,3
    01627 940E 0766 CALL	_lcd_write_char_con
(0496) 	   y=2;
    01629 E082      LDI	R24,2
    0162A E090      LDI	R25,0
    0162B 879D      STD	Y+13,R25
    0162C 878C      STD	Y+12,R24
(0497) 	  }else if(y>=9 && y<12){
    0162D C02F      RJMP	0x165D
    0162E 858C      LDD	R24,Y+12
    0162F 859D      LDD	R25,Y+13
    01630 3089      CPI	R24,0x9
    01631 E0E0      LDI	R30,0
    01632 079E      CPC	R25,R30
    01633 F148      BCS	0x165D
    01634 308C      CPI	R24,0xC
    01635 E0E0      LDI	R30,0
    01636 079E      CPC	R25,R30
    01637 F528      BCC	0x165D
(0498) 	   lcd_write_char(2,1,numH);
    01638 82C8      ST	Y,R12
    01639 E021      LDI	R18,1
    0163A E002      LDI	R16,2
    0163B 940E 0798 CALL	_lcd_write_char
(0499)        lcd_write_char_con(1,numL+10);
    0163D 0197      MOVW	R18,R14
    0163E 5F26      SUBI	R18,0xF6
    0163F 4F3F      SBCI	R19,0xFF
    01640 E001      LDI	R16,1
    01641 940E 0766 CALL	_lcd_write_char_con
(0500) 	   lcd_write_char(2,2,numH);
    01643 82C8      ST	Y,R12
    01644 E022      LDI	R18,2
    01645 E002      LDI	R16,2
    01646 940E 0798 CALL	_lcd_write_char
(0501)        lcd_write_char_con(2,numL+11);
    01648 0197      MOVW	R18,R14
    01649 5F25      SUBI	R18,0xF5
    0164A 4F3F      SBCI	R19,0xFF
    0164B E002      LDI	R16,2
    0164C 940E 0766 CALL	_lcd_write_char_con
(0502)        lcd_write_char(2,3,numH);
    0164E 82C8      ST	Y,R12
    0164F E023      LDI	R18,3
    01650 E002      LDI	R16,2
    01651 940E 0798 CALL	_lcd_write_char
(0503)        lcd_write_char_con(3,numL+12);
    01653 0197      MOVW	R18,R14
    01654 5F24      SUBI	R18,0xF4
    01655 4F3F      SBCI	R19,0xFF
    01656 E003      LDI	R16,3
    01657 940E 0766 CALL	_lcd_write_char_con
(0504) 	   y=3;
    01659 E083      LDI	R24,3
    0165A E090      LDI	R25,0
    0165B 879D      STD	Y+13,R25
    0165C 878C      STD	Y+12,R24
(0505) 	  }
(0506) 	  //还要做数据读取操作
(0507) 	  beginCur=y*33;//获得首个数据
    0165D E201      LDI	R16,0x21
    0165E E010      LDI	R17,0
    0165F 852C      LDD	R18,Y+12
    01660 853D      LDD	R19,Y+13
    01661 940E 2189 CALL	empy16s
    01663 01A8      MOVW	R20,R16
(0508) 	  for(i=1;i<=3;i++){
    01664 E061      LDI	R22,1
    01665 E070      LDI	R23,0
    01666 C0C5      RJMP	0x172C
(0509) 	    if(i==1){//第一次进入需要判断，首位写不许用++
    01667 3061      CPI	R22,1
    01668 E0E0      LDI	R30,0
    01669 077E      CPC	R23,R30
    0166A F471      BNE	0x1679
(0510) 		 lcd_write_char(3,i,0x30 | *(dataCach+beginCur));
    0166B 01FA      MOVW	R30,R20
    0166C 0FEE      LSL	R30
    0166D 1FFF      ROL	R31
    0166E 0DEA      ADD	R30,R10
    0166F 1DFB      ADC	R31,R11
    01670 8180      LD	R24,Z
    01671 8191      LDD	R25,Z+1
    01672 6380      ORI	R24,0x30
    01673 8388      ST	Y,R24
    01674 2F26      MOV	R18,R22
    01675 E003      LDI	R16,3
    01676 940E 0798 CALL	_lcd_write_char
(0511) 		}else{
    01678 C010      RJMP	0x1689
(0512) 		 lcd_write_char(3,i,0x30 | *(dataCach+(++beginCur)));
    01679 01CA      MOVW	R24,R20
    0167A 9601      ADIW	R24,1
    0167B 01AC      MOVW	R20,R24
    0167C 01FC      MOVW	R30,R24
    0167D 0FEE      LSL	R30
    0167E 1FFF      ROL	R31
    0167F 0DEA      ADD	R30,R10
    01680 1DFB      ADC	R31,R11
    01681 8180      LD	R24,Z
    01682 8191      LDD	R25,Z+1
    01683 6380      ORI	R24,0x30
    01684 8388      ST	Y,R24
    01685 2F26      MOV	R18,R22
    01686 E003      LDI	R16,3
    01687 940E 0798 CALL	_lcd_write_char
(0513) 		}
(0514)         lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01689 01CA      MOVW	R24,R20
    0168A 9601      ADIW	R24,1
    0168B 01AC      MOVW	R20,R24
    0168C 01FC      MOVW	R30,R24
    0168D 0FEE      LSL	R30
    0168E 1FFF      ROL	R31
    0168F 0DEA      ADD	R30,R10
    01690 1DFB      ADC	R31,R11
    01691 8120      LD	R18,Z
    01692 8131      LDD	R19,Z+1
    01693 6320      ORI	R18,0x30
    01694 2F06      MOV	R16,R22
    01695 940E 0766 CALL	_lcd_write_char_con
(0515) 		 lcd_write_str_con(i,": ");
    01697 E022      LDI	R18,2
    01698 E037      LDI	R19,7
    01699 2F06      MOV	R16,R22
    0169A 940E 0808 CALL	_lcd_write_str_con
(0516) 	     lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    0169C 01CA      MOVW	R24,R20
    0169D 9601      ADIW	R24,1
    0169E 01AC      MOVW	R20,R24
    0169F 01FC      MOVW	R30,R24
    016A0 0FEE      LSL	R30
    016A1 1FFF      ROL	R31
    016A2 0DEA      ADD	R30,R10
    016A3 1DFB      ADC	R31,R11
    016A4 8120      LD	R18,Z
    016A5 8131      LDD	R19,Z+1
    016A6 6320      ORI	R18,0x30
    016A7 2F06      MOV	R16,R22
    016A8 940E 0766 CALL	_lcd_write_char_con
(0517) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    016AA 01CA      MOVW	R24,R20
    016AB 9601      ADIW	R24,1
    016AC 01AC      MOVW	R20,R24
    016AD 01FC      MOVW	R30,R24
    016AE 0FEE      LSL	R30
    016AF 1FFF      ROL	R31
    016B0 0DEA      ADD	R30,R10
    016B1 1DFB      ADC	R31,R11
    016B2 8120      LD	R18,Z
    016B3 8131      LDD	R19,Z+1
    016B4 6320      ORI	R18,0x30
    016B5 2F06      MOV	R16,R22
    016B6 940E 0766 CALL	_lcd_write_char_con
(0518) 		 
(0519) 		 lcd_write_char(7,i,0x30 | *(dataCach+(++beginCur)));
    016B8 01CA      MOVW	R24,R20
    016B9 9601      ADIW	R24,1
    016BA 01AC      MOVW	R20,R24
    016BB 01FC      MOVW	R30,R24
    016BC 0FEE      LSL	R30
    016BD 1FFF      ROL	R31
    016BE 0DEA      ADD	R30,R10
    016BF 1DFB      ADC	R31,R11
    016C0 8180      LD	R24,Z
    016C1 8191      LDD	R25,Z+1
    016C2 6380      ORI	R24,0x30
    016C3 8388      ST	Y,R24
    016C4 2F26      MOV	R18,R22
    016C5 E007      LDI	R16,7
    016C6 940E 0798 CALL	_lcd_write_char
(0520) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    016C8 01CA      MOVW	R24,R20
    016C9 9601      ADIW	R24,1
    016CA 01AC      MOVW	R20,R24
    016CB 01FC      MOVW	R30,R24
    016CC 0FEE      LSL	R30
    016CD 1FFF      ROL	R31
    016CE 0DEA      ADD	R30,R10
    016CF 1DFB      ADC	R31,R11
    016D0 8120      LD	R18,Z
    016D1 8131      LDD	R19,Z+1
    016D2 6320      ORI	R18,0x30
    016D3 2F06      MOV	R16,R22
    016D4 940E 0766 CALL	_lcd_write_char_con
(0521) 		  lcd_write_str_con(i,": ");
    016D6 E022      LDI	R18,2
    016D7 E037      LDI	R19,7
    016D8 2F06      MOV	R16,R22
    016D9 940E 0808 CALL	_lcd_write_str_con
(0522) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    016DB 01CA      MOVW	R24,R20
    016DC 9601      ADIW	R24,1
    016DD 01AC      MOVW	R20,R24
    016DE 01FC      MOVW	R30,R24
    016DF 0FEE      LSL	R30
    016E0 1FFF      ROL	R31
    016E1 0DEA      ADD	R30,R10
    016E2 1DFB      ADC	R31,R11
    016E3 8120      LD	R18,Z
    016E4 8131      LDD	R19,Z+1
    016E5 6320      ORI	R18,0x30
    016E6 2F06      MOV	R16,R22
    016E7 940E 0766 CALL	_lcd_write_char_con
(0523) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    016E9 01CA      MOVW	R24,R20
    016EA 9601      ADIW	R24,1
    016EB 01AC      MOVW	R20,R24
    016EC 01FC      MOVW	R30,R24
    016ED 0FEE      LSL	R30
    016EE 1FFF      ROL	R31
    016EF 0DEA      ADD	R30,R10
    016F0 1DFB      ADC	R31,R11
    016F1 8120      LD	R18,Z
    016F2 8131      LDD	R19,Z+1
    016F3 6320      ORI	R18,0x30
    016F4 2F06      MOV	R16,R22
    016F5 940E 0766 CALL	_lcd_write_char_con
(0524) 		 
(0525) 		 lcd_write_str(10,i," ");
    016F7 E080      LDI	R24,0
    016F8 E097      LDI	R25,7
    016F9 8399      STD	Y+1,R25
    016FA 8388      ST	Y,R24
    016FB 2F26      MOV	R18,R22
    016FC E00A      LDI	R16,0xA
    016FD 940E 07BE CALL	_lcd_write_str
(0526) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    016FF 01CA      MOVW	R24,R20
    01700 9601      ADIW	R24,1
    01701 01AC      MOVW	R20,R24
    01702 01FC      MOVW	R30,R24
    01703 0FEE      LSL	R30
    01704 1FFF      ROL	R31
    01705 0DEA      ADD	R30,R10
    01706 1DFB      ADC	R31,R11
    01707 8120      LD	R18,Z
    01708 8131      LDD	R19,Z+1
    01709 6320      ORI	R18,0x30
    0170A 2F06      MOV	R16,R22
    0170B 940E 0766 CALL	_lcd_write_char_con
(0527) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    0170D 01CA      MOVW	R24,R20
    0170E 9601      ADIW	R24,1
    0170F 01AC      MOVW	R20,R24
    01710 01FC      MOVW	R30,R24
    01711 0FEE      LSL	R30
    01712 1FFF      ROL	R31
    01713 0DEA      ADD	R30,R10
    01714 1DFB      ADC	R31,R11
    01715 8120      LD	R18,Z
    01716 8131      LDD	R19,Z+1
    01717 6320      ORI	R18,0x30
    01718 2F06      MOV	R16,R22
    01719 940E 0766 CALL	_lcd_write_char_con
(0528) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    0171B 01CA      MOVW	R24,R20
    0171C 9601      ADIW	R24,1
    0171D 016C      MOVW	R12,R24
    0171E 01AC      MOVW	R20,R24
    0171F 01FC      MOVW	R30,R24
    01720 0FEE      LSL	R30
    01721 1FFF      ROL	R31
    01722 0DEA      ADD	R30,R10
    01723 1DFB      ADC	R31,R11
    01724 8120      LD	R18,Z
    01725 8131      LDD	R19,Z+1
    01726 6320      ORI	R18,0x30
    01727 2F06      MOV	R16,R22
    01728 940E 0766 CALL	_lcd_write_char_con
    0172A 5F6F      SUBI	R22,0xFF
    0172B 4F7F      SBCI	R23,0xFF
    0172C E083      LDI	R24,3
    0172D E090      LDI	R25,0
    0172E 1786      CP	R24,R22
    0172F 0797      CPC	R25,R23
    01730 F008      BCS	0x1732
    01731 CF35      RJMP	0x1667
    01732 9622      ADIW	R28,2
    01733 940E 21AE CALL	pop_xgsetF0FC
    01735 9624      ADIW	R28,4
    01736 9508      RET
_page4_ac:
  y                    --> R10
  x                    --> R22
  lcd_y                --> R20
  dataCach             --> R12
  oldcur               --> Y,+12
  cur                  --> Y,+10
    01737 940E 2168 CALL	push_arg4
    01739 940E 21B9 CALL	push_xgsetF0FC
    0173B 84CE      LDD	R12,Y+14
    0173C 84DF      LDD	R13,Y+15
(0529) 	  }
(0530) 	  
(0531)  }
(0532)  //传入cur做ac位置操作,判断是否翻页
(0533)  void page4_ac(uint cur,uint oldcur,uint* dataCach){
(0534)       uint y=cur/11;//逻辑y.从0开始
    0173D E02B      LDI	R18,0xB
    0173E E030      LDI	R19,0
    0173F 850A      LDD	R16,Y+10
    01740 851B      LDD	R17,Y+11
    01741 940E 216F CALL	div16u
    01743 0158      MOVW	R10,R16
(0535) 	  uint lcd_y;//显示y
(0536) 	  uint x=cur%11;//x轴
    01744 E02B      LDI	R18,0xB
    01745 E030      LDI	R19,0
    01746 850A      LDD	R16,Y+10
    01747 851B      LDD	R17,Y+11
    01748 940E 216D CALL	mod16u
    0174A 01B8      MOVW	R22,R16
(0537) 	  switch(y%3){
    0174B E023      LDI	R18,3
    0174C E030      LDI	R19,0
    0174D 0185      MOVW	R16,R10
    0174E 940E 216D CALL	mod16u
    01750 0178      MOVW	R14,R16
    01751 3000      CPI	R16,0
    01752 0701      CPC	R16,R17
    01753 F051      BEQ	0x175E
    01754 01C7      MOVW	R24,R14
    01755 3001      CPI	R16,1
    01756 E0E0      LDI	R30,0
    01757 071E      CPC	R17,R30
    01758 F041      BEQ	0x1761
    01759 3002      CPI	R16,2
    0175A E0E0      LDI	R30,0
    0175B 071E      CPC	R17,R30
    0175C F039      BEQ	0x1764
    0175D C008      RJMP	0x1766
(0538) 	   case 0://1行
(0539) 	     lcd_y=1;
    0175E E041      LDI	R20,1
    0175F E050      LDI	R21,0
(0540) 	     break;
    01760 C005      RJMP	0x1766
(0541) 	   case 1://2行
(0542) 	     lcd_y=2;
    01761 E042      LDI	R20,2
    01762 E050      LDI	R21,0
(0543) 		 break;
    01763 C002      RJMP	0x1766
(0544) 	   case 2://3行
(0545) 	     lcd_y=3;
    01764 E043      LDI	R20,3
    01765 E050      LDI	R21,0
(0546) 	     break;
(0547) 	  }
(0548) 	  switch((oldcur/11)/3){
    01766 E02B      LDI	R18,0xB
    01767 E030      LDI	R19,0
    01768 850C      LDD	R16,Y+12
    01769 851D      LDD	R17,Y+13
    0176A 940E 216F CALL	div16u
    0176C E023      LDI	R18,3
    0176D E030      LDI	R19,0
    0176E 940E 216F CALL	div16u
    01770 0178      MOVW	R14,R16
    01771 3000      CPI	R16,0
    01772 0701      CPC	R16,R17
    01773 F071      BEQ	0x1782
    01774 01C7      MOVW	R24,R14
    01775 3001      CPI	R16,1
    01776 E0E0      LDI	R30,0
    01777 071E      CPC	R17,R30
    01778 F0A1      BEQ	0x178D
    01779 3002      CPI	R16,2
    0177A E0E0      LDI	R30,0
    0177B 071E      CPC	R17,R30
    0177C F101      BEQ	0x179D
    0177D 3003      CPI	R16,3
    0177E E0E0      LDI	R30,0
    0177F 071E      CPC	R17,R30
    01780 F169      BEQ	0x17AE
    01781 C035      RJMP	0x17B7
(0549) 	    case 0:
(0550) 		 if(cur>32){
    01782 E280      LDI	R24,0x20
    01783 E090      LDI	R25,0
    01784 840A      LDD	R0,Y+10
    01785 841B      LDD	R1,Y+11
    01786 1580      CP	R24,R0
    01787 0591      CPC	R25,R1
    01788 F570      BCC	0x17B7
(0551) 		   page4_data(y,dataCach);
    01789 0196      MOVW	R18,R12
    0178A 0185      MOVW	R16,R10
    0178B DE07      RCALL	_page4_data
(0552) 		 }
(0553) 		 break;
    0178C C02A      RJMP	0x17B7
(0554) 		case 1:
(0555) 		  if(cur>65 || cur<33){
    0178D E481      LDI	R24,0x41
    0178E E090      LDI	R25,0
    0178F 840A      LDD	R0,Y+10
    01790 841B      LDD	R1,Y+11
    01791 1580      CP	R24,R0
    01792 0591      CPC	R25,R1
    01793 F028      BCS	0x1799
    01794 01C0      MOVW	R24,R0
    01795 3281      CPI	R24,0x21
    01796 E0E0      LDI	R30,0
    01797 079E      CPC	R25,R30
    01798 F4F0      BCC	0x17B7
(0556) 		   page4_data(y,dataCach);
    01799 0196      MOVW	R18,R12
    0179A 0185      MOVW	R16,R10
    0179B DDF7      RCALL	_page4_data
(0557) 		 }
(0558) 		 break;
    0179C C01A      RJMP	0x17B7
(0559) 		case 2:
(0560) 		if(cur<66 || cur>98){
    0179D 858A      LDD	R24,Y+10
    0179E 859B      LDD	R25,Y+11
    0179F 3482      CPI	R24,0x42
    017A0 E0E0      LDI	R30,0
    017A1 079E      CPC	R25,R30
    017A2 F038      BCS	0x17AA
    017A3 E682      LDI	R24,0x62
    017A4 E090      LDI	R25,0
    017A5 840A      LDD	R0,Y+10
    017A6 841B      LDD	R1,Y+11
    017A7 1580      CP	R24,R0
    017A8 0591      CPC	R25,R1
    017A9 F468      BCC	0x17B7
(0561) 		   page4_data(y,dataCach);
    017AA 0196      MOVW	R18,R12
    017AB 0185      MOVW	R16,R10
    017AC DDE6      RCALL	_page4_data
(0562) 		 }
(0563) 		 break;
    017AD C009      RJMP	0x17B7
(0564) 		case 3:
(0565) 		if(cur<99){
    017AE 858A      LDD	R24,Y+10
    017AF 859B      LDD	R25,Y+11
    017B0 3683      CPI	R24,0x63
    017B1 E0E0      LDI	R30,0
    017B2 079E      CPC	R25,R30
    017B3 F418      BCC	0x17B7
(0566) 		   page4_data(y,dataCach);
    017B4 0196      MOVW	R18,R12
    017B5 0185      MOVW	R16,R10
    017B6 DDDC      RCALL	_page4_data
(0567) 		 }
(0568) 		 break;
(0569) 	  }
(0570) 	  if(lcd_y==1){
    017B7 3041      CPI	R20,1
    017B8 E0E0      LDI	R30,0
    017B9 075E      CPC	R21,R30
    017BA F449      BNE	0x17C4
(0571) 	     cur_set(3);
    017BB E003      LDI	R16,3
    017BC E010      LDI	R17,0
    017BD 940E 092F CALL	_cur_set
(0572) 		 cur_set(4);
    017BF E004      LDI	R16,4
    017C0 E010      LDI	R17,0
    017C1 940E 092F CALL	_cur_set
(0573) 	  }else if(lcd_y==2 || lcd_y==3){
    017C3 C010      RJMP	0x17D4
    017C4 3042      CPI	R20,2
    017C5 E0E0      LDI	R30,0
    017C6 075E      CPC	R21,R30
    017C7 F021      BEQ	0x17CC
    017C8 3043      CPI	R20,3
    017C9 E0E0      LDI	R30,0
    017CA 075E      CPC	R21,R30
    017CB F441      BNE	0x17D4
(0574) 	     cur_set(0);
    017CC 2700      CLR	R16
    017CD 2711      CLR	R17
    017CE 940E 092F CALL	_cur_set
(0575) 		 cur_set(7);
    017D0 E007      LDI	R16,7
    017D1 E010      LDI	R17,0
    017D2 940E 092F CALL	_cur_set
(0576) 	  }
(0577) 	  if(x==0){
    017D4 3060      CPI	R22,0
    017D5 0767      CPC	R22,R23
    017D6 F429      BNE	0x17DC
(0578) 	      lcd_write_pos(3,lcd_y);
    017D7 2F24      MOV	R18,R20
    017D8 E003      LDI	R16,3
    017D9 940E 077A CALL	_lcd_write_pos
(0579) 	  }else if(x==2){
    017DB C031      RJMP	0x180D
    017DC 3062      CPI	R22,2
    017DD E0E0      LDI	R30,0
    017DE 077E      CPC	R23,R30
    017DF F429      BNE	0x17E5
(0580) 	       lcd_write_pos(5,lcd_y);
    017E0 2F24      MOV	R18,R20
    017E1 E005      LDI	R16,5
    017E2 940E 077A CALL	_lcd_write_pos
(0581) 	  }else if(x==4){
    017E4 C028      RJMP	0x180D
    017E5 3064      CPI	R22,4
    017E6 E0E0      LDI	R30,0
    017E7 077E      CPC	R23,R30
    017E8 F429      BNE	0x17EE
(0582) 	        lcd_write_pos(7,lcd_y);
    017E9 2F24      MOV	R18,R20
    017EA E007      LDI	R16,7
    017EB 940E 077A CALL	_lcd_write_pos
(0583) 	  }else if(x==6){
    017ED C01F      RJMP	0x180D
    017EE 3066      CPI	R22,6
    017EF E0E0      LDI	R30,0
    017F0 077E      CPC	R23,R30
    017F1 F429      BNE	0x17F7
(0584) 	        lcd_write_pos(9,lcd_y);
    017F2 2F24      MOV	R18,R20
    017F3 E009      LDI	R16,0x9
    017F4 940E 077A CALL	_lcd_write_pos
(0585) 	  }else if(x==8){
    017F6 C016      RJMP	0x180D
    017F7 3068      CPI	R22,0x8
    017F8 E0E0      LDI	R30,0
    017F9 077E      CPC	R23,R30
    017FA F451      BNE	0x1805
(0586) 	        lcd_write_pos(10,lcd_y);
    017FB 2F24      MOV	R18,R20
    017FC E00A      LDI	R16,0xA
    017FD 940E 077A CALL	_lcd_write_pos
(0587) 			lcd_write_str_con(lcd_y," ");
    017FF E020      LDI	R18,0
    01800 E037      LDI	R19,7
    01801 2F04      MOV	R16,R20
    01802 940E 0808 CALL	_lcd_write_str_con
(0588) 	  }else if(x==9){
    01804 C008      RJMP	0x180D
    01805 3069      CPI	R22,0x9
    01806 E0E0      LDI	R30,0
    01807 077E      CPC	R23,R30
    01808 F421      BNE	0x180D
(0589) 	        lcd_write_pos(11,lcd_y);
    01809 2F24      MOV	R18,R20
    0180A E00B      LDI	R16,0xB
    0180B 940E 077A CALL	_lcd_write_pos
(0590) 	  }
(0591) 	  return;
    0180D 940E 21AE CALL	pop_xgsetF0FC
    0180F 9624      ADIW	R28,4
    01810 9508      RET
_page4:
  numL                 --> R20
  numH                 --> R20
  oldcur               --> R22
  dataCach             --> Y,+2
  cur                  --> R20
  keyV                 --> R10
  i                    --> R10
    01811 940E 21F4 CALL	push_xgsetF03C
    01813 97EF      SBIW	R28,0x3F
    01814 97EF      SBIW	R28,0x3F
    01815 97EF      SBIW	R28,0x3F
    01816 97EF      SBIW	R28,0x3F
    01817 972C      SBIW	R28,0xC
(0592)  }
(0593)   void page4(void){
(0594)     //定义一个局部的结构体，从对呀温度中获得数据。暂时未写
(0595)   uint numH=0xA2;
(0596)   uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
(0597)   uint cur=0;
    01818 2744      CLR	R20
    01819 2755      CLR	R21
(0598)   uint oldcur=0;
    0181A 2766      CLR	R22
    0181B 2777      CLR	R23
(0599)   uint dataCach[131]={0};
    0181C E38F      LDI	R24,0x3F
    0181D E095      LDI	R25,5
    0181E 01FE      MOVW	R30,R28
    0181F 9632      ADIW	R30,2
    01820 E006      LDI	R16,6
    01821 E011      LDI	R17,1
    01822 93FA      ST	-Y,R31
    01823 93EA      ST	-Y,R30
    01824 939A      ST	-Y,R25
    01825 938A      ST	-Y,R24
    01826 940E 2213 CALL	asgnblk
(0600)   uint i=0;
(0601)    uchar keyV;
(0602)    lcd_write_str(0,0,"T");
    01828 E280      LDI	R24,0x20
    01829 E097      LDI	R25,7
    0182A 8399      STD	Y+1,R25
    0182B 8388      ST	Y,R24
    0182C 2722      CLR	R18
    0182D 2700      CLR	R16
    0182E 940E 07BE CALL	_lcd_write_str
(0603)    lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    01830 9120 0C4D LDS	R18,pageParam
    01832 9130 0C4E LDS	R19,pageParam+1
    01834 5F2F      SUBI	R18,0xFF
    01835 4F3F      SBCI	R19,0xFF
    01836 6320      ORI	R18,0x30
    01837 2700      CLR	R16
    01838 940E 0766 CALL	_lcd_write_char_con
(0604)    lcd_write_char_con(0,':');
    0183A E32A      LDI	R18,0x3A
    0183B 2700      CLR	R16
    0183C 940E 0766 CALL	_lcd_write_char_con
(0605)    
(0606)    lcd_write_str(4,0,"升温");
    0183E EF8B      LDI	R24,0xFB
    0183F E096      LDI	R25,6
    01840 8399      STD	Y+1,R25
    01841 8388      ST	Y,R24
    01842 2722      CLR	R18
    01843 E004      LDI	R16,4
    01844 940E 07BE CALL	_lcd_write_str
(0607)    lcd_write_str(7,0,"恒温");
    01846 EF86      LDI	R24,0xF6
    01847 E096      LDI	R25,6
    01848 8399      STD	Y+1,R25
    01849 8388      ST	Y,R24
    0184A 2722      CLR	R18
    0184B E007      LDI	R16,7
    0184C 940E 07BE CALL	_lcd_write_str
(0608)    lcd_write_str(10,0,"温度");
    0184E EF81      LDI	R24,0xF1
    0184F E096      LDI	R25,6
    01850 8399      STD	Y+1,R25
    01851 8388      ST	Y,R24
    01852 2722      CLR	R18
    01853 E00A      LDI	R16,0xA
    01854 940E 07BE CALL	_lcd_write_str
(0609)    lcd_write_str(0,1,"保存");
    01856 EE8C      LDI	R24,0xEC
    01857 E096      LDI	R25,6
    01858 8399      STD	Y+1,R25
    01859 8388      ST	Y,R24
    0185A E021      LDI	R18,1
    0185B 2700      CLR	R16
    0185C 940E 07BE CALL	_lcd_write_str
(0610)    lcd_write_str(0,2,"取消");
    0185E E28E      LDI	R24,0x2E
    0185F E097      LDI	R25,7
    01860 8399      STD	Y+1,R25
    01861 8388      ST	Y,R24
    01862 E022      LDI	R18,2
    01863 2700      CLR	R16
    01864 940E 07BE CALL	_lcd_write_str
(0611)    lcd_write_str(0,3,"重置");
    01866 E085      LDI	R24,5
    01867 E097      LDI	R25,7
    01868 8399      STD	Y+1,R25
    01869 8388      ST	Y,R24
    0186A E023      LDI	R18,3
    0186B 2700      CLR	R16
    0186C 940E 07BE CALL	_lcd_write_str
(0612)   
(0613)   for(i=0;i<132;i++){
    0186E 24AA      CLR	R10
    0186F 24BB      CLR	R11
    01870 C020      RJMP	0x1891
(0614)     dataCach[i]=temps[pageParam[0]].temp_data[i];
    01871 0115      MOVW	R2,R10
    01872 0C22      LSL	R2
    01873 1C33      ROL	R3
    01874 0121      MOVW	R4,R2
    01875 9120 0C4D LDS	R18,pageParam
    01877 9130 0C4E LDS	R19,pageParam+1
    01879 E00A      LDI	R16,0xA
    0187A E011      LDI	R17,1
    0187B 940E 2189 CALL	empy16s
    0187D E189      LDI	R24,0x19
    0187E E091      LDI	R25,1
    0187F 0118      MOVW	R2,R16
    01880 0E28      ADD	R2,R24
    01881 1E39      ADC	R3,R25
    01882 01F2      MOVW	R30,R4
    01883 0DE2      ADD	R30,R2
    01884 1DF3      ADC	R31,R3
    01885 8020      LD	R2,Z
    01886 8031      LDD	R3,Z+1
    01887 01CE      MOVW	R24,R28
    01888 9602      ADIW	R24,2
    01889 01F2      MOVW	R30,R4
    0188A 0FE8      ADD	R30,R24
    0188B 1FF9      ADC	R31,R25
    0188C 8231      STD	Z+1,R3
    0188D 8220      ST	Z,R2
    0188E 01C5      MOVW	R24,R10
    0188F 9601      ADIW	R24,1
    01890 015C      MOVW	R10,R24
    01891 01C5      MOVW	R24,R10
    01892 3884      CPI	R24,0x84
    01893 E0E0      LDI	R30,0
    01894 079E      CPC	R25,R30
    01895 F2D8      BCS	0x1871
(0615)   }
(0616)     page4_data(0,dataCach);//调用函数填充
    01896 019E      MOVW	R18,R28
    01897 5F2E      SUBI	R18,0xFE
    01898 4F3F      SBCI	R19,0xFF
    01899 2700      CLR	R16
    0189A 2711      CLR	R17
    0189B DCF7      RCALL	_page4_data
(0617)    cur=0;
    0189C 2744      CLR	R20
    0189D 2755      CLR	R21
(0618)    lcd_write_pos(3,1);
    0189E E021      LDI	R18,1
    0189F E003      LDI	R16,3
    018A0 940E 077A CALL	_lcd_write_pos
(0619)    cur_set(3);
    018A2 E003      LDI	R16,3
    018A3 E010      LDI	R17,0
    018A4 940E 092F CALL	_cur_set
    018A6 C22A      RJMP	0x1AD1
(0620)    
(0621)    //Set_White(9,2,10);
(0622)     while(1){
(0623)       keyV=KeyScan_once();
    018A7 940E 065B CALL	_KeyScan_once
    018A9 2EA0      MOV	R10,R16
(0624) 	  if(keyV=='e'){
    018AA 3605      CPI	R16,0x65
    018AB F509      BNE	0x18CD
(0625) 	        Set_White_off(1,1,2);
    018AC E082      LDI	R24,2
    018AD 8388      ST	Y,R24
    018AE E021      LDI	R18,1
    018AF E001      LDI	R16,1
    018B0 940E 0973 CALL	_Set_White_off
(0626) 			Set_White_off(1,2,2);
    018B2 E082      LDI	R24,2
    018B3 8388      ST	Y,R24
    018B4 E022      LDI	R18,2
    018B5 E001      LDI	R16,1
    018B6 940E 0973 CALL	_Set_White_off
(0627) 			Set_White_off(1,3,2);
    018B8 E082      LDI	R24,2
    018B9 8388      ST	Y,R24
    018BA E023      LDI	R18,3
    018BB E001      LDI	R16,1
    018BC 940E 0973 CALL	_Set_White_off
(0628) 			cur_set(0);
    018BE 2700      CLR	R16
    018BF 2711      CLR	R17
    018C0 940E 092F CALL	_cur_set
(0629) 			cur_set(4);
    018C2 E004      LDI	R16,4
    018C3 E010      LDI	R17,0
    018C4 940E 092F CALL	_cur_set
(0630) 		    pageNum=3;
    018C6 E083      LDI	R24,3
    018C7 E090      LDI	R25,0
    018C8 9390 0C58 STS	pageNum+1,R25
    018CA 9380 0C57 STS	pageNum,R24
(0631) 		    return;
    018CC C205      RJMP	0x1AD2
(0632) 	  }else if(keyV=='u'){
    018CD 2D8A      MOV	R24,R10
    018CE 3785      CPI	R24,0x75
    018CF F009      BEQ	0x18D1
    018D0 C046      RJMP	0x1917
(0633) 	     if(cur==133){
    018D1 3845      CPI	R20,0x85
    018D2 E0E0      LDI	R30,0
    018D3 075E      CPC	R21,R30
    018D4 F479      BNE	0x18E4
(0634) 		    Set_White(1,1,2);
    018D5 E082      LDI	R24,2
    018D6 8388      ST	Y,R24
    018D7 E021      LDI	R18,1
    018D8 E001      LDI	R16,1
    018D9 940E 09E3 CALL	_Set_White
(0635) 			Set_White_off(1,2,2);
    018DB E082      LDI	R24,2
    018DC 8388      ST	Y,R24
    018DD E022      LDI	R18,2
    018DE E001      LDI	R16,1
    018DF 940E 0973 CALL	_Set_White_off
(0636) 			cur=132;
    018E1 E844      LDI	R20,0x84
    018E2 E050      LDI	R21,0
(0637) 		 }else if(cur==134){
    018E3 C1ED      RJMP	0x1AD1
    018E4 3846      CPI	R20,0x86
    018E5 E0E0      LDI	R30,0
    018E6 075E      CPC	R21,R30
    018E7 F479      BNE	0x18F7
(0638) 		    Set_White(1,2,2);
    018E8 E082      LDI	R24,2
    018E9 8388      ST	Y,R24
    018EA E022      LDI	R18,2
    018EB E001      LDI	R16,1
    018EC 940E 09E3 CALL	_Set_White
(0639) 			Set_White_off(1,3,2);
    018EE E082      LDI	R24,2
    018EF 8388      ST	Y,R24
    018F0 E023      LDI	R18,3
    018F1 E001      LDI	R16,1
    018F2 940E 0973 CALL	_Set_White_off
(0640) 			cur=133;
    018F4 E845      LDI	R20,0x85
    018F5 E050      LDI	R21,0
(0641) 		 }else if(cur>10 && cur<=131){
    018F6 C1DA      RJMP	0x1AD1
    018F7 E08A      LDI	R24,0xA
    018F8 E090      LDI	R25,0
    018F9 1784      CP	R24,R20
    018FA 0795      CPC	R25,R21
    018FB F008      BCS	0x18FD
    018FC C1D4      RJMP	0x1AD1
    018FD E883      LDI	R24,0x83
    018FE 1784      CP	R24,R20
    018FF 0795      CPC	R25,R21
    01900 F408      BCC	0x1902
    01901 C1CF      RJMP	0x1AD1
(0642) 		   oldcur=cur;
    01902 01BA      MOVW	R22,R20
(0643) 	       cur=(cur/11-1)*11;
    01903 E02B      LDI	R18,0xB
    01904 E030      LDI	R19,0
    01905 018A      MOVW	R16,R20
    01906 940E 216F CALL	div16u
    01908 0198      MOVW	R18,R16
    01909 5021      SUBI	R18,1
    0190A 4030      SBCI	R19,0
    0190B E00B      LDI	R16,0xB
    0190C E010      LDI	R17,0
    0190D 940E 2189 CALL	empy16s
    0190F 01A8      MOVW	R20,R16
(0644) 		   page4_ac(cur,oldcur,dataCach);
    01910 01CE      MOVW	R24,R28
    01911 9602      ADIW	R24,2
    01912 8399      STD	Y+1,R25
    01913 8388      ST	Y,R24
    01914 019B      MOVW	R18,R22
    01915 DE21      RCALL	_page4_ac
(0645) 		 }
(0646) 	  }else if(keyV=='d'){
    01916 C1BA      RJMP	0x1AD1
    01917 2D8A      MOV	R24,R10
    01918 3684      CPI	R24,0x64
    01919 F009      BEQ	0x191B
    0191A C040      RJMP	0x195B
(0647) 	     if(cur==132){
    0191B 3844      CPI	R20,0x84
    0191C E0E0      LDI	R30,0
    0191D 075E      CPC	R21,R30
    0191E F479      BNE	0x192E
(0648) 		    Set_White_off(1,1,2);
    0191F E082      LDI	R24,2
    01920 8388      ST	Y,R24
    01921 E021      LDI	R18,1
    01922 E001      LDI	R16,1
    01923 940E 0973 CALL	_Set_White_off
(0649) 			Set_White(1,2,2);
    01925 E082      LDI	R24,2
    01926 8388      ST	Y,R24
    01927 E022      LDI	R18,2
    01928 E001      LDI	R16,1
    01929 940E 09E3 CALL	_Set_White
(0650) 			cur=133;
    0192B E845      LDI	R20,0x85
    0192C E050      LDI	R21,0
(0651) 		 }else if(cur==133){
    0192D C1A3      RJMP	0x1AD1
    0192E 3845      CPI	R20,0x85
    0192F E0E0      LDI	R30,0
    01930 075E      CPC	R21,R30
    01931 F479      BNE	0x1941
(0652) 		    Set_White_off(1,2,2);
    01932 E082      LDI	R24,2
    01933 8388      ST	Y,R24
    01934 E022      LDI	R18,2
    01935 E001      LDI	R16,1
    01936 940E 0973 CALL	_Set_White_off
(0653) 			Set_White(1,3,2);
    01938 E082      LDI	R24,2
    01939 8388      ST	Y,R24
    0193A E023      LDI	R18,3
    0193B E001      LDI	R16,1
    0193C 940E 09E3 CALL	_Set_White
(0654) 			cur=134;
    0193E E846      LDI	R20,0x86
    0193F E050      LDI	R21,0
(0655) 		 }else if(cur<121){
    01940 C190      RJMP	0x1AD1
    01941 3749      CPI	R20,0x79
    01942 E0E0      LDI	R30,0
    01943 075E      CPC	R21,R30
    01944 F008      BCS	0x1946
    01945 C18B      RJMP	0x1AD1
(0656) 	      oldcur=cur;
    01946 01BA      MOVW	R22,R20
(0657) 	      cur=(cur/11+1)*11;
    01947 E02B      LDI	R18,0xB
    01948 E030      LDI	R19,0
    01949 018A      MOVW	R16,R20
    0194A 940E 216F CALL	div16u
    0194C 0198      MOVW	R18,R16
    0194D 5F2F      SUBI	R18,0xFF
    0194E 4F3F      SBCI	R19,0xFF
    0194F E00B      LDI	R16,0xB
    01950 E010      LDI	R17,0
    01951 940E 2189 CALL	empy16s
    01953 01A8      MOVW	R20,R16
(0658) 		  page4_ac(cur,oldcur,dataCach);
    01954 01CE      MOVW	R24,R28
    01955 9602      ADIW	R24,2
    01956 8399      STD	Y+1,R25
    01957 8388      ST	Y,R24
    01958 019B      MOVW	R18,R22
    01959 DDDD      RCALL	_page4_ac
(0659) 		}
(0660) 		
(0661) 	  }else if(keyV=='l'){
    0195A C176      RJMP	0x1AD1
    0195B 2D8A      MOV	R24,R10
    0195C 368C      CPI	R24,0x6C
    0195D F009      BEQ	0x195F
    0195E C049      RJMP	0x19A8
(0662) 	   oldcur=cur;
    0195F 01BA      MOVW	R22,R20
(0663) 	  if(cur%11==0){
    01960 E02B      LDI	R18,0xB
    01961 E030      LDI	R19,0
    01962 018A      MOVW	R16,R20
    01963 940E 216D CALL	mod16u
    01965 3000      CPI	R16,0
    01966 0701      CPC	R16,R17
    01967 F489      BNE	0x1979
(0664) 	        Set_White(1,1,2);
    01968 E082      LDI	R24,2
    01969 8388      ST	Y,R24
    0196A E021      LDI	R18,1
    0196B E001      LDI	R16,1
    0196C 940E 09E3 CALL	_Set_White
(0665) 			cur_set(0);
    0196E 2700      CLR	R16
    0196F 2711      CLR	R17
    01970 940E 092F CALL	_cur_set
(0666) 			cur_set(4);
    01972 E004      LDI	R16,4
    01973 E010      LDI	R17,0
    01974 940E 092F CALL	_cur_set
(0667) 			cur=132;
    01976 E844      LDI	R20,0x84
    01977 E050      LDI	R21,0
(0668) 	   }else if(cur%11==2 || cur%11==4 || cur%11==6 || cur%11==8){
    01978 C158      RJMP	0x1AD1
    01979 E02B      LDI	R18,0xB
    0197A E030      LDI	R19,0
    0197B 018A      MOVW	R16,R20
    0197C 940E 216D CALL	mod16u
    0197E 0168      MOVW	R12,R16
    0197F 01C6      MOVW	R24,R12
    01980 3002      CPI	R16,2
    01981 E0E0      LDI	R30,0
    01982 071E      CPC	R17,R30
    01983 F061      BEQ	0x1990
    01984 3004      CPI	R16,4
    01985 E0E0      LDI	R30,0
    01986 071E      CPC	R17,R30
    01987 F041      BEQ	0x1990
    01988 3006      CPI	R16,6
    01989 E0E0      LDI	R30,0
    0198A 071E      CPC	R17,R30
    0198B F021      BEQ	0x1990
    0198C 3008      CPI	R16,0x8
    0198D E0E0      LDI	R30,0
    0198E 071E      CPC	R17,R30
    0198F F451      BNE	0x199A
(0669) 	      cur-=2;
    01990 5042      SUBI	R20,2
    01991 4050      SBCI	R21,0
(0670) 		   page4_ac(cur,oldcur,dataCach);
    01992 01CE      MOVW	R24,R28
    01993 9602      ADIW	R24,2
    01994 8399      STD	Y+1,R25
    01995 8388      ST	Y,R24
    01996 019B      MOVW	R18,R22
    01997 018A      MOVW	R16,R20
    01998 DD9E      RCALL	_page4_ac
(0671) 		}else if(cur>0){
    01999 C137      RJMP	0x1AD1
    0199A 3040      CPI	R20,0
    0199B 0745      CPC	R20,R21
    0199C F409      BNE	0x199E
    0199D C133      RJMP	0x1AD1
(0672) 	      cur--;
    0199E 5041      SUBI	R20,1
    0199F 4050      SBCI	R21,0
(0673) 		   page4_ac(cur,oldcur,dataCach);
    019A0 01CE      MOVW	R24,R28
    019A1 9602      ADIW	R24,2
    019A2 8399      STD	Y+1,R25
    019A3 8388      ST	Y,R24
    019A4 019B      MOVW	R18,R22
    019A5 018A      MOVW	R16,R20
    019A6 DD90      RCALL	_page4_ac
(0674) 		}
(0675) 	  
(0676) 	  }else if(keyV=='r'){
    019A7 C129      RJMP	0x1AD1
    019A8 2D8A      MOV	R24,R10
    019A9 3782      CPI	R24,0x72
    019AA F541      BNE	0x19D3
(0677) 	  if(cur>131){
    019AB E883      LDI	R24,0x83
    019AC E090      LDI	R25,0
    019AD 1784      CP	R24,R20
    019AE 0795      CPC	R25,R21
    019AF F4A0      BCC	0x19C4
(0678) 	      Set_White_off(1,1,2);
    019B0 E082      LDI	R24,2
    019B1 8388      ST	Y,R24
    019B2 E021      LDI	R18,1
    019B3 E001      LDI	R16,1
    019B4 940E 0973 CALL	_Set_White_off
(0679) 	      Set_White_off(1,2,2);
    019B6 E082      LDI	R24,2
    019B7 8388      ST	Y,R24
    019B8 E022      LDI	R18,2
    019B9 E001      LDI	R16,1
    019BA 940E 0973 CALL	_Set_White_off
(0680) 		  Set_White_off(1,3,2);
    019BC E082      LDI	R24,2
    019BD 8388      ST	Y,R24
    019BE E023      LDI	R18,3
    019BF E001      LDI	R16,1
    019C0 940E 0973 CALL	_Set_White_off
(0681) 		  cur=oldcur;
    019C2 01AB      MOVW	R20,R22
(0682) 	  }else  if(cur<131){
    019C3 C007      RJMP	0x19CB
    019C4 3843      CPI	R20,0x83
    019C5 E0E0      LDI	R30,0
    019C6 075E      CPC	R21,R30
    019C7 F418      BCC	0x19CB
(0683) 		 oldcur=cur;
    019C8 01BA      MOVW	R22,R20
(0684) 	     cur++;
    019C9 5F4F      SUBI	R20,0xFF
    019CA 4F5F      SBCI	R21,0xFF
(0685) 		 }
(0686) 	    page4_ac(cur,oldcur,dataCach);
    019CB 01CE      MOVW	R24,R28
    019CC 9602      ADIW	R24,2
    019CD 8399      STD	Y+1,R25
    019CE 8388      ST	Y,R24
    019CF 019B      MOVW	R18,R22
    019D0 018A      MOVW	R16,R20
    019D1 DD65      RCALL	_page4_ac
(0687) 	  }else if(keyV=='t'){	    
    019D2 C0FE      RJMP	0x1AD1
    019D3 2D8A      MOV	R24,R10
    019D4 3784      CPI	R24,0x74
    019D5 F009      BEQ	0x19D7
    019D6 C098      RJMP	0x1A6F
(0688) 	     if(cur==132){
    019D7 3844      CPI	R20,0x84
    019D8 E0E0      LDI	R30,0
    019D9 075E      CPC	R21,R30
    019DA F009      BEQ	0x19DC
    019DB C03E      RJMP	0x1A1A
(0689) 		   Set_White_off(1,1,2);
    019DC E082      LDI	R24,2
    019DD 8388      ST	Y,R24
    019DE E021      LDI	R18,1
    019DF E001      LDI	R16,1
    019E0 940E 0973 CALL	_Set_White_off
(0690) 			Set_White_off(1,2,2);
    019E2 E082      LDI	R24,2
    019E3 8388      ST	Y,R24
    019E4 E022      LDI	R18,2
    019E5 E001      LDI	R16,1
    019E6 940E 0973 CALL	_Set_White_off
(0691) 			Set_White_off(1,3,2);
    019E8 E082      LDI	R24,2
    019E9 8388      ST	Y,R24
    019EA E023      LDI	R18,3
    019EB E001      LDI	R16,1
    019EC 940E 0973 CALL	_Set_White_off
(0692) 		   cur_set(0);
    019EE 2700      CLR	R16
    019EF 2711      CLR	R17
    019F0 940E 092F CALL	_cur_set
(0693) 			cur_set(4);
    019F2 E004      LDI	R16,4
    019F3 E010      LDI	R17,0
    019F4 940E 092F CALL	_cur_set
(0694) 			lcd_clear();
    019F6 940E 0875 CALL	_lcd_clear
(0695) 			lcd_write_str(5,2,"保存中. . .");
    019F8 EE80      LDI	R24,0xE0
    019F9 E096      LDI	R25,6
    019FA 8399      STD	Y+1,R25
    019FB 8388      ST	Y,R24
    019FC E022      LDI	R18,2
    019FD E005      LDI	R16,5
    019FE 940E 07BE CALL	_lcd_write_str
(0696) 		    pageParam[1]=1;//表示是温度数据的，这里处理保存的方法，因为数据在这里。只是跳转过去，参数如果是1表示成功。2表示失败
    01A00 E081      LDI	R24,1
    01A01 E090      LDI	R25,0
    01A02 9390 0C50 STS	pageParam+3,R25
    01A04 9380 0C4F STS	pageParam+2,R24
(0697) 		    prePageNum=4;
    01A06 E084      LDI	R24,4
    01A07 9390 0C4C STS	prePageNum+1,R25
    01A09 9380 0C4B STS	prePageNum,R24
(0698) 		    pageNum=6;
    01A0B E086      LDI	R24,6
    01A0C 9390 0C58 STS	pageNum+1,R25
    01A0E 9380 0C57 STS	pageNum,R24
(0699) 			set_temp_data(pageParam[0],dataCach);//保存数据
    01A10 019E      MOVW	R18,R28
    01A11 5F2E      SUBI	R18,0xFE
    01A12 4F3F      SBCI	R19,0xFF
    01A13 9100 0C4D LDS	R16,pageParam
    01A15 9110 0C4E LDS	R17,pageParam+1
    01A17 940E 1FDC CALL	_set_temp_data
(0700) 		    return;
    01A19 C0B8      RJMP	0x1AD2
(0701) 		 }else if(cur==133){
    01A1A 3845      CPI	R20,0x85
    01A1B E0E0      LDI	R30,0
    01A1C 075E      CPC	R21,R30
    01A1D F509      BNE	0x1A3F
(0702) 		    Set_White_off(1,1,2);
    01A1E E082      LDI	R24,2
    01A1F 8388      ST	Y,R24
    01A20 E021      LDI	R18,1
    01A21 E001      LDI	R16,1
    01A22 940E 0973 CALL	_Set_White_off
(0703) 			Set_White_off(1,2,2);
    01A24 E082      LDI	R24,2
    01A25 8388      ST	Y,R24
    01A26 E022      LDI	R18,2
    01A27 E001      LDI	R16,1
    01A28 940E 0973 CALL	_Set_White_off
(0704) 			Set_White_off(1,3,2);
    01A2A E082      LDI	R24,2
    01A2B 8388      ST	Y,R24
    01A2C E023      LDI	R18,3
    01A2D E001      LDI	R16,1
    01A2E 940E 0973 CALL	_Set_White_off
(0705) 		    cur_set(0);
    01A30 2700      CLR	R16
    01A31 2711      CLR	R17
    01A32 940E 092F CALL	_cur_set
(0706) 			cur_set(4);
    01A34 E004      LDI	R16,4
    01A35 E010      LDI	R17,0
    01A36 940E 092F CALL	_cur_set
(0707) 		    pageNum=3;
    01A38 E083      LDI	R24,3
    01A39 E090      LDI	R25,0
    01A3A 9390 0C58 STS	pageNum+1,R25
    01A3C 9380 0C57 STS	pageNum,R24
(0708) 		    return;
    01A3E C093      RJMP	0x1AD2
(0709) 		 }else if(cur==134){
    01A3F 3846      CPI	R20,0x86
    01A40 E0E0      LDI	R30,0
    01A41 075E      CPC	R21,R30
    01A42 F009      BEQ	0x1A44
    01A43 C08D      RJMP	0x1AD1
(0710) 		    Set_White_off(1,1,2);
    01A44 E082      LDI	R24,2
    01A45 8388      ST	Y,R24
    01A46 E021      LDI	R18,1
    01A47 E001      LDI	R16,1
    01A48 940E 0973 CALL	_Set_White_off
(0711) 			Set_White_off(1,2,2);
    01A4A E082      LDI	R24,2
    01A4B 8388      ST	Y,R24
    01A4C E022      LDI	R18,2
    01A4D E001      LDI	R16,1
    01A4E 940E 0973 CALL	_Set_White_off
(0712) 			Set_White_off(1,3,2);
    01A50 E082      LDI	R24,2
    01A51 8388      ST	Y,R24
    01A52 E023      LDI	R18,3
    01A53 E001      LDI	R16,1
    01A54 940E 0973 CALL	_Set_White_off
(0713) 		   cur_set(0);
    01A56 2700      CLR	R16
    01A57 2711      CLR	R17
    01A58 940E 092F CALL	_cur_set
(0714) 			cur_set(4);
    01A5A E004      LDI	R16,4
    01A5B E010      LDI	R17,0
    01A5C 940E 092F CALL	_cur_set
(0715) 		   //重置。有提示
(0716) 			pageParam[2]=1;//表示重置是温度数据的
    01A5E E081      LDI	R24,1
    01A5F E090      LDI	R25,0
    01A60 9390 0C52 STS	pageParam+5,R25
    01A62 9380 0C51 STS	pageParam+4,R24
(0717) 			prePageNum=4;
    01A64 E084      LDI	R24,4
    01A65 9390 0C4C STS	prePageNum+1,R25
    01A67 9380 0C4B STS	prePageNum,R24
(0718) 		    pageNum=7;
    01A69 E087      LDI	R24,7
    01A6A 9390 0C58 STS	pageNum+1,R25
    01A6C 9380 0C57 STS	pageNum,R24
(0719) 		    return;
    01A6E C063      RJMP	0x1AD2
(0720) 		 }
(0721) 	     
(0722) 	  }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    01A6F 2D8A      MOV	R24,R10
    01A70 3380      CPI	R24,0x30
    01A71 F099      BEQ	0x1A85
    01A72 3381      CPI	R24,0x31
    01A73 F089      BEQ	0x1A85
    01A74 3382      CPI	R24,0x32
    01A75 F079      BEQ	0x1A85
    01A76 3383      CPI	R24,0x33
    01A77 F069      BEQ	0x1A85
    01A78 3384      CPI	R24,0x34
    01A79 F059      BEQ	0x1A85
    01A7A 3385      CPI	R24,0x35
    01A7B F049      BEQ	0x1A85
    01A7C 3386      CPI	R24,0x36
    01A7D F039      BEQ	0x1A85
    01A7E 3387      CPI	R24,0x37
    01A7F F029      BEQ	0x1A85
    01A80 3388      CPI	R24,0x38
    01A81 F019      BEQ	0x1A85
    01A82 3389      CPI	R24,0x39
    01A83 F009      BEQ	0x1A85
    01A84 C04C      RJMP	0x1AD1
(0723) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(0724) 			  if(cur <132){//判断还在输入域
    01A85 3844      CPI	R20,0x84
    01A86 E0E0      LDI	R30,0
    01A87 075E      CPC	R21,R30
    01A88 F008      BCS	0x1A8A
    01A89 C047      RJMP	0x1AD1
(0725) 			   if((cur/11)%3==0){
    01A8A E02B      LDI	R18,0xB
    01A8B E030      LDI	R19,0
    01A8C 018A      MOVW	R16,R20
    01A8D 940E 216F CALL	div16u
    01A8F E023      LDI	R18,3
    01A90 E030      LDI	R19,0
    01A91 940E 216D CALL	mod16u
    01A93 3000      CPI	R16,0
    01A94 0701      CPC	R16,R17
    01A95 F431      BNE	0x1A9C
(0726) 			      lcd_write_char_con(1,0x30 | keyV);
    01A96 2D2A      MOV	R18,R10
    01A97 6320      ORI	R18,0x30
    01A98 E001      LDI	R16,1
    01A99 940E 0766 CALL	_lcd_write_char_con
(0727) 				}else{
    01A9B C005      RJMP	0x1AA1
(0728) 				  lcd_write_char_con(2,0x30 | keyV);
    01A9C 2D2A      MOV	R18,R10
    01A9D 6320      ORI	R18,0x30
    01A9E E002      LDI	R16,2
    01A9F 940E 0766 CALL	_lcd_write_char_con
(0729) 				}
(0730) 				dataCach[cur]=keyV;
    01AA1 01CE      MOVW	R24,R28
    01AA2 9602      ADIW	R24,2
    01AA3 01FA      MOVW	R30,R20
    01AA4 0FEE      LSL	R30
    01AA5 1FFF      ROL	R31
    01AA6 0FE8      ADD	R30,R24
    01AA7 1FF9      ADC	R31,R25
    01AA8 2C2A      MOV	R2,R10
    01AA9 2433      CLR	R3
    01AAA 8231      STD	Z+1,R3
    01AAB 8220      ST	Z,R2
(0731) 				oldcur=cur;
    01AAC 01BA      MOVW	R22,R20
(0732) 				if(cur<131)
    01AAD 3863      CPI	R22,0x83
    01AAE E0E0      LDI	R30,0
    01AAF 077E      CPC	R23,R30
    01AB0 F450      BCC	0x1ABB
(0733) 				{
(0734) 				  cur++;
    01AB1 5F4F      SUBI	R20,0xFF
    01AB2 4F5F      SBCI	R21,0xFF
(0735) 				  page4_ac(cur,oldcur,dataCach);
    01AB3 01CE      MOVW	R24,R28
    01AB4 9602      ADIW	R24,2
    01AB5 8399      STD	Y+1,R25
    01AB6 8388      ST	Y,R24
    01AB7 019B      MOVW	R18,R22
    01AB8 018A      MOVW	R16,R20
    01AB9 DC7D      RCALL	_page4_ac
(0736) 				}else if(cur==131){//最后一个131会在上面处理，最后一次进入这里。跳到保存
    01ABA C016      RJMP	0x1AD1
    01ABB 3843      CPI	R20,0x83
    01ABC E0E0      LDI	R30,0
    01ABD 075E      CPC	R21,R30
    01ABE F491      BNE	0x1AD1
(0737) 				  Set_White(1,1,2);
    01ABF E082      LDI	R24,2
    01AC0 8388      ST	Y,R24
    01AC1 E021      LDI	R18,1
    01AC2 E001      LDI	R16,1
    01AC3 940E 09E3 CALL	_Set_White
(0738) 			       cur_set(0);
    01AC5 2700      CLR	R16
    01AC6 2711      CLR	R17
    01AC7 940E 092F CALL	_cur_set
(0739) 			       cur_set(4);
    01AC9 E004      LDI	R16,4
    01ACA E010      LDI	R17,0
    01ACB 940E 092F CALL	_cur_set
(0740) 			       cur=132;
    01ACD E844      LDI	R20,0x84
    01ACE E050      LDI	R21,0
(0741) 				   oldcur=99;
    01ACF E663      LDI	R22,0x63
    01AD0 E070      LDI	R23,0
    01AD1 CDD5      RJMP	0x18A7
    01AD2 96EF      ADIW	R28,0x3F
    01AD3 96EF      ADIW	R28,0x3F
    01AD4 96EF      ADIW	R28,0x3F
    01AD5 96EF      ADIW	R28,0x3F
    01AD6 962C      ADIW	R28,0xC
    01AD7 940C 21FD JMP	pop_xgsetF03C
_page5:
  cur                  --> R20
  keyV                 --> R22
    01AD9 940E 21CE CALL	push_xgsetF000
    01ADB 9722      SBIW	R28,2
(0742) 				}
(0743) 				
(0744) 			  }
(0745) 		}
(0746) 	}
(0747)  }
(0748)  
(0749)  void page5(void){
(0750)   uint cur=0;
(0751)    uchar keyV;
(0752)    lcd_write_str(4,0,"断电自动重置");
    01ADC ED83      LDI	R24,0xD3
    01ADD E096      LDI	R25,6
    01ADE 8399      STD	Y+1,R25
    01ADF 8388      ST	Y,R24
    01AE0 2722      CLR	R18
    01AE1 E004      LDI	R16,4
    01AE2 940E 07BE CALL	_lcd_write_str
(0753)    lcd_write_str(4,1,"设置时间");
    01AE4 EC8A      LDI	R24,0xCA
    01AE5 E096      LDI	R25,6
    01AE6 8399      STD	Y+1,R25
    01AE7 8388      ST	Y,R24
    01AE8 E021      LDI	R18,1
    01AE9 E004      LDI	R16,4
    01AEA 940E 07BE CALL	_lcd_write_str
(0754)    lcd_write_str(4,2,"重置系统");
    01AEC EC81      LDI	R24,0xC1
    01AED E096      LDI	R25,6
    01AEE 8399      STD	Y+1,R25
    01AEF 8388      ST	Y,R24
    01AF0 E022      LDI	R18,2
    01AF1 E004      LDI	R16,4
    01AF2 940E 07BE CALL	_lcd_write_str
(0755)    lcd_write_char(3,0,0xA1);
    01AF4 EA81      LDI	R24,0xA1
    01AF5 8388      ST	Y,R24
    01AF6 2722      CLR	R18
    01AF7 E003      LDI	R16,3
    01AF8 940E 0798 CALL	_lcd_write_char
(0756)    lcd_write_char_con(0,0xC1);
    01AFA EC21      LDI	R18,0xC1
    01AFB 2700      CLR	R16
    01AFC 940E 0766 CALL	_lcd_write_char_con
(0757)    
(0758)    /* lcd_write_char(1,0,0xA1);
(0759)    lcd_write_char_con(0,0xCC);*/
(0760)    cur=0;
    01AFE 2744      CLR	R20
    01AFF 2755      CLR	R21
(0761)    Set_White(5,0,10);
    01B00 E08A      LDI	R24,0xA
    01B01 8388      ST	Y,R24
    01B02 2722      CLR	R18
    01B03 E005      LDI	R16,5
    01B04 940E 09E3 CALL	_Set_White
    01B06 C0AF      RJMP	0x1BB6
(0762)    while(1){
(0763)       keyV=KeyScan_once();
    01B07 940E 065B CALL	_KeyScan_once
    01B09 2F60      MOV	R22,R16
(0764) 	  if(keyV=='u'){
    01B0A 3705      CPI	R16,0x75
    01B0B F539      BNE	0x1B33
(0765) 	    switch(cur){
    01B0C 3041      CPI	R20,1
    01B0D E0E0      LDI	R30,0
    01B0E 075E      CPC	R21,R30
    01B0F F029      BEQ	0x1B15
    01B10 3042      CPI	R20,2
    01B11 E0E0      LDI	R30,0
    01B12 075E      CPC	R21,R30
    01B13 F081      BEQ	0x1B24
    01B14 C0A1      RJMP	0x1BB6
(0766) 		  case 1:
(0767) 		   Set_White_off(5,1,8);
    01B15 E088      LDI	R24,0x8
    01B16 8388      ST	Y,R24
    01B17 E021      LDI	R18,1
    01B18 E005      LDI	R16,5
    01B19 940E 0973 CALL	_Set_White_off
(0768) 		   Set_White(5,0,10);
    01B1B E08A      LDI	R24,0xA
    01B1C 8388      ST	Y,R24
    01B1D 2722      CLR	R18
    01B1E E005      LDI	R16,5
    01B1F 940E 09E3 CALL	_Set_White
(0769) 		   cur=0;
    01B21 2744      CLR	R20
    01B22 2755      CLR	R21
(0770) 		   break;
    01B23 C092      RJMP	0x1BB6
(0771) 		  case 2: 
(0772) 		   Set_White_off(5,2,8);
    01B24 E088      LDI	R24,0x8
    01B25 8388      ST	Y,R24
    01B26 E022      LDI	R18,2
    01B27 E005      LDI	R16,5
    01B28 940E 0973 CALL	_Set_White_off
(0773) 		   Set_White(5,1,8);
    01B2A E088      LDI	R24,0x8
    01B2B 8388      ST	Y,R24
    01B2C E021      LDI	R18,1
    01B2D E005      LDI	R16,5
    01B2E 940E 09E3 CALL	_Set_White
(0774) 		   cur=1;
    01B30 E041      LDI	R20,1
    01B31 E050      LDI	R21,0
(0775) 		   break;
(0776) 		}
(0777) 	  }else if(keyV=='d'){
    01B32 C083      RJMP	0x1BB6
    01B33 3664      CPI	R22,0x64
    01B34 F531      BNE	0x1B5B
(0778) 	      switch(cur){
    01B35 3040      CPI	R20,0
    01B36 0745      CPC	R20,R21
    01B37 F029      BEQ	0x1B3D
    01B38 3041      CPI	R20,1
    01B39 E0E0      LDI	R30,0
    01B3A 075E      CPC	R21,R30
    01B3B F081      BEQ	0x1B4C
    01B3C C079      RJMP	0x1BB6
(0779) 		  case 0:
(0780) 		   Set_White_off(5,0,10);
    01B3D E08A      LDI	R24,0xA
    01B3E 8388      ST	Y,R24
    01B3F 2722      CLR	R18
    01B40 E005      LDI	R16,5
    01B41 940E 0973 CALL	_Set_White_off
(0781) 		   Set_White(5,1,8);
    01B43 E088      LDI	R24,0x8
    01B44 8388      ST	Y,R24
    01B45 E021      LDI	R18,1
    01B46 E005      LDI	R16,5
    01B47 940E 09E3 CALL	_Set_White
(0782) 		   cur=1;
    01B49 E041      LDI	R20,1
    01B4A E050      LDI	R21,0
(0783) 		   break;
    01B4B C06A      RJMP	0x1BB6
(0784) 		  case 1: 
(0785) 		   Set_White_off(5,1,8);
    01B4C E088      LDI	R24,0x8
    01B4D 8388      ST	Y,R24
    01B4E E021      LDI	R18,1
    01B4F E005      LDI	R16,5
    01B50 940E 0973 CALL	_Set_White_off
(0786) 		   Set_White(5,2,8);
    01B52 E088      LDI	R24,0x8
    01B53 8388      ST	Y,R24
    01B54 E022      LDI	R18,2
    01B55 E005      LDI	R16,5
    01B56 940E 09E3 CALL	_Set_White
(0787) 		   cur=2;
    01B58 E042      LDI	R20,2
    01B59 E050      LDI	R21,0
(0788) 		   break;
(0789) 		}
(0790) 	  }else if(keyV=='e'){
    01B5A C05B      RJMP	0x1BB6
    01B5B 3665      CPI	R22,0x65
    01B5C F539      BNE	0x1B84
(0791) 	     switch(cur){
    01B5D 3040      CPI	R20,0
    01B5E 0745      CPC	R20,R21
    01B5F F049      BEQ	0x1B69
    01B60 3041      CPI	R20,1
    01B61 E0E0      LDI	R30,0
    01B62 075E      CPC	R21,R30
    01B63 F061      BEQ	0x1B70
    01B64 3042      CPI	R20,2
    01B65 E0E0      LDI	R30,0
    01B66 075E      CPC	R21,R30
    01B67 F079      BEQ	0x1B77
    01B68 C014      RJMP	0x1B7D
(0792) 		 case 0: 
(0793) 		   Set_White_off(5,0,10);
    01B69 E08A      LDI	R24,0xA
    01B6A 8388      ST	Y,R24
    01B6B 2722      CLR	R18
    01B6C E005      LDI	R16,5
    01B6D 940E 0973 CALL	_Set_White_off
(0794) 		    break;
    01B6F C00D      RJMP	0x1B7D
(0795) 		 case 1:
(0796) 		   Set_White_off(5,1,8);
    01B70 E088      LDI	R24,0x8
    01B71 8388      ST	Y,R24
    01B72 E021      LDI	R18,1
    01B73 E005      LDI	R16,5
    01B74 940E 0973 CALL	_Set_White_off
(0797) 		   break;
    01B76 C006      RJMP	0x1B7D
(0798) 		 case 2:
(0799) 		  Set_White_off(5,2,8);
    01B77 E088      LDI	R24,0x8
    01B78 8388      ST	Y,R24
    01B79 E022      LDI	R18,2
    01B7A E005      LDI	R16,5
    01B7B 940E 0973 CALL	_Set_White_off
(0800) 		  break;
(0801) 	
(0802) 		  default:
(0803) 		   break;
(0804) 		 }
(0805) 	    pageNum=1;
    01B7D E081      LDI	R24,1
    01B7E E090      LDI	R25,0
    01B7F 9390 0C58 STS	pageNum+1,R25
    01B81 9380 0C57 STS	pageNum,R24
(0806) 		return;
    01B83 C033      RJMP	0x1BB7
(0807) 	  }else if(keyV=='t'){
    01B84 3764      CPI	R22,0x74
    01B85 F581      BNE	0x1BB6
(0808) 	    switch(cur){
    01B86 3040      CPI	R20,0
    01B87 0745      CPC	R20,R21
    01B88 F169      BEQ	0x1BB6
    01B89 3041      CPI	R20,1
    01B8A E0E0      LDI	R30,0
    01B8B 075E      CPC	R21,R30
    01B8C F029      BEQ	0x1B92
    01B8D 3042      CPI	R20,2
    01B8E E0E0      LDI	R30,0
    01B8F 075E      CPC	R21,R30
    01B90 F069      BEQ	0x1B9E
    01B91 C024      RJMP	0x1BB6
(0809) 		  case 0:
(0810) 		     //执行EEPROM操作
(0811) 		    break;
(0812) 		  case 1:
(0813) 		   pageNum=8;
    01B92 E088      LDI	R24,0x8
    01B93 E090      LDI	R25,0
    01B94 9390 0C58 STS	pageNum+1,R25
    01B96 9380 0C57 STS	pageNum,R24
(0814) 		   Set_White_off(5,1,8);
    01B98 8388      ST	Y,R24
    01B99 E021      LDI	R18,1
    01B9A E005      LDI	R16,5
    01B9B 940E 0973 CALL	_Set_White_off
(0815) 		   return;
    01B9D C019      RJMP	0x1BB7
(0816) 		  
(0817) 		  case 2://重置系统
(0818) 		    prePageNum=5;
    01B9E E085      LDI	R24,5
    01B9F E090      LDI	R25,0
    01BA0 9390 0C4C STS	prePageNum+1,R25
    01BA2 9380 0C4B STS	prePageNum,R24
(0819) 		    pageNum=7;
    01BA4 E087      LDI	R24,7
    01BA5 9390 0C58 STS	pageNum+1,R25
    01BA7 9380 0C57 STS	pageNum,R24
(0820) 			pageParam[2]=0;
    01BA9 2422      CLR	R2
    01BAA 2433      CLR	R3
    01BAB 9230 0C52 STS	pageParam+5,R3
    01BAD 9220 0C51 STS	pageParam+4,R2
(0821) 		    Set_White_off(5,2,8);
    01BAF E088      LDI	R24,0x8
    01BB0 8388      ST	Y,R24
    01BB1 E022      LDI	R18,2
    01BB2 E005      LDI	R16,5
    01BB3 940E 0973 CALL	_Set_White_off
(0822) 		   return;
    01BB5 C001      RJMP	0x1BB7
    01BB6 CF50      RJMP	0x1B07
    01BB7 9622      ADIW	R28,2
    01BB8 940C 21D3 JMP	pop_xgsetF000
_page6:
    01BBA 9722      SBIW	R28,2
(0823) 		}
(0824) 	    
(0825) 	  }
(0826)    }
(0827)    
(0828)  }
(0829)  void page6(void){//复用的方法
(0830)  if(pageParam[1]==0){
    01BBB 9020 0C4F LDS	R2,pageParam+2
    01BBD 9030 0C50 LDS	R3,pageParam+3
    01BBF 2022      TST	R2
    01BC0 F459      BNE	0x1BCC
    01BC1 2033      TST	R3
    01BC2 F449      BNE	0x1BCC
(0831)      lcd_write_str(4,1,"时间保存成功！");
    01BC3 EB82      LDI	R24,0xB2
    01BC4 E096      LDI	R25,6
    01BC5 8399      STD	Y+1,R25
    01BC6 8388      ST	Y,R24
    01BC7 E021      LDI	R18,1
    01BC8 E004      LDI	R16,4
    01BC9 940E 07BE CALL	_lcd_write_str
(0832)    }else if(pageParam[1]==1){
    01BCB C021      RJMP	0x1BED
    01BCC 9180 0C4F LDS	R24,pageParam+2
    01BCE 9190 0C50 LDS	R25,pageParam+3
    01BD0 3081      CPI	R24,1
    01BD1 E0E0      LDI	R30,0
    01BD2 079E      CPC	R25,R30
    01BD3 F449      BNE	0x1BDD
(0833)      lcd_write_str(4,1,"温度保存成功！");
    01BD4 EA83      LDI	R24,0xA3
    01BD5 E096      LDI	R25,6
    01BD6 8399      STD	Y+1,R25
    01BD7 8388      ST	Y,R24
    01BD8 E021      LDI	R18,1
    01BD9 E004      LDI	R16,4
    01BDA 940E 07BE CALL	_lcd_write_str
(0834)    }else if(pageParam[1]==2){
    01BDC C010      RJMP	0x1BED
    01BDD 9180 0C4F LDS	R24,pageParam+2
    01BDF 9190 0C50 LDS	R25,pageParam+3
    01BE1 3082      CPI	R24,2
    01BE2 E0E0      LDI	R30,0
    01BE3 079E      CPC	R25,R30
    01BE4 F441      BNE	0x1BED
(0835)      lcd_write_str(4,1,"温度保存失败！");
    01BE5 E984      LDI	R24,0x94
    01BE6 E096      LDI	R25,6
    01BE7 8399      STD	Y+1,R25
    01BE8 8388      ST	Y,R24
    01BE9 E021      LDI	R18,1
    01BEA E004      LDI	R16,4
    01BEB 940E 07BE CALL	_lcd_write_str
(0836)    }
(0837)    delay_ms(500);
    01BED EF04      LDI	R16,0xF4
    01BEE E011      LDI	R17,1
    01BEF 940E 03BF CALL	_delay_ms
(0838)    pageNum=prePageNum;
    01BF1 9020 0C4B LDS	R2,prePageNum
    01BF3 9030 0C4C LDS	R3,prePageNum+1
    01BF5 9230 0C58 STS	pageNum+1,R3
    01BF7 9220 0C57 STS	pageNum,R2
    01BF9 9622      ADIW	R28,2
    01BFA 9508      RET
_page7:
  cur                  --> R20
  keyV                 --> R10
    01BFB 940E 21D8 CALL	push_xgsetF00C
    01BFD 9722      SBIW	R28,2
(0839)  }
(0840)  void page7(void){
(0841)    uint cur=1;
    01BFE E041      LDI	R20,1
    01BFF E050      LDI	R21,0
(0842)    uchar keyV;
(0843)    lcd_write_str(2,0,"是否重置");
    01C00 E88B      LDI	R24,0x8B
    01C01 E096      LDI	R25,6
    01C02 8399      STD	Y+1,R25
    01C03 8388      ST	Y,R24
    01C04 2722      CLR	R18
    01C05 E002      LDI	R16,2
    01C06 940E 07BE CALL	_lcd_write_str
(0844)    lcd_write_str(2,2,"确认");
    01C08 E886      LDI	R24,0x86
    01C09 E096      LDI	R25,6
    01C0A 8399      STD	Y+1,R25
    01C0B 8388      ST	Y,R24
    01C0C E022      LDI	R18,2
    01C0D E002      LDI	R16,2
    01C0E 940E 07BE CALL	_lcd_write_str
(0845)    lcd_write_str(8,2,"取消");
    01C10 E28E      LDI	R24,0x2E
    01C11 E097      LDI	R25,7
    01C12 8399      STD	Y+1,R25
    01C13 8388      ST	Y,R24
    01C14 E022      LDI	R18,2
    01C15 E008      LDI	R16,0x8
    01C16 940E 07BE CALL	_lcd_write_str
(0846)    Set_White(9,2,10);
    01C18 E08A      LDI	R24,0xA
    01C19 8388      ST	Y,R24
    01C1A E022      LDI	R18,2
    01C1B E009      LDI	R16,0x9
    01C1C 940E 09E3 CALL	_Set_White
    01C1E C078      RJMP	0x1C97
(0847)     while(1){
(0848)       keyV=KeyScan_once();
    01C1F 940E 065B CALL	_KeyScan_once
    01C21 2EA0      MOV	R10,R16
(0849) 	  switch(keyV){
    01C22 2D6A      MOV	R22,R10
    01C23 2777      CLR	R23
    01C24 366C      CPI	R22,0x6C
    01C25 E0E0      LDI	R30,0
    01C26 077E      CPC	R23,R30
    01C27 F0A1      BEQ	0x1C3C
    01C28 E68C      LDI	R24,0x6C
    01C29 E090      LDI	R25,0
    01C2A 1786      CP	R24,R22
    01C2B 0797      CPC	R25,R23
    01C2C F034      BLT	0x1C33
    01C2D 3665      CPI	R22,0x65
    01C2E E0E0      LDI	R30,0
    01C2F 077E      CPC	R23,R30
    01C30 F409      BNE	0x1C32
    01C31 C050      RJMP	0x1C82
    01C32 C064      RJMP	0x1C97
    01C33 3762      CPI	R22,0x72
    01C34 E0E0      LDI	R30,0
    01C35 077E      CPC	R23,R30
    01C36 F0C9      BEQ	0x1C50
    01C37 3764      CPI	R22,0x74
    01C38 E0E0      LDI	R30,0
    01C39 077E      CPC	R23,R30
    01C3A F141      BEQ	0x1C63
    01C3B C05B      RJMP	0x1C97
(0850) 	    case 'l':
(0851) 		   if(cur==1){
    01C3C 3041      CPI	R20,1
    01C3D E0E0      LDI	R30,0
    01C3E 075E      CPC	R21,R30
    01C3F F009      BEQ	0x1C41
    01C40 C056      RJMP	0x1C97
(0852) 		      Set_White_off(9,2,10);
    01C41 E08A      LDI	R24,0xA
    01C42 8388      ST	Y,R24
    01C43 E022      LDI	R18,2
    01C44 E009      LDI	R16,0x9
    01C45 940E 0973 CALL	_Set_White_off
(0853) 		      Set_White(3,2,4);
    01C47 E084      LDI	R24,4
    01C48 8388      ST	Y,R24
    01C49 E022      LDI	R18,2
    01C4A E003      LDI	R16,3
    01C4B 940E 09E3 CALL	_Set_White
(0854) 			  cur=0;
    01C4D 2744      CLR	R20
    01C4E 2755      CLR	R21
(0855) 		   }
(0856) 		   break;
    01C4F C047      RJMP	0x1C97
(0857) 		case 'r':
(0858) 		   if(cur==0){
    01C50 3040      CPI	R20,0
    01C51 0745      CPC	R20,R21
    01C52 F009      BEQ	0x1C54
    01C53 C043      RJMP	0x1C97
(0859) 		      Set_White_off(3,2,4);
    01C54 E084      LDI	R24,4
    01C55 8388      ST	Y,R24
    01C56 E022      LDI	R18,2
    01C57 E003      LDI	R16,3
    01C58 940E 0973 CALL	_Set_White_off
(0860) 		      Set_White(9,2,10);
    01C5A E08A      LDI	R24,0xA
    01C5B 8388      ST	Y,R24
    01C5C E022      LDI	R18,2
    01C5D E009      LDI	R16,0x9
    01C5E 940E 09E3 CALL	_Set_White
(0861) 			  cur=1;
    01C60 E041      LDI	R20,1
    01C61 E050      LDI	R21,0
(0862) 		   }
(0863) 		  break;
    01C62 C034      RJMP	0x1C97
(0864) 		case 't':
(0865) 		  //执行相关操作	  
(0866) 		  if(cur==0){
    01C63 3040      CPI	R20,0
    01C64 0745      CPC	R20,R21
    01C65 F469      BNE	0x1C73
(0867) 		     Set_White_off(3,2,4);
    01C66 E084      LDI	R24,4
    01C67 8388      ST	Y,R24
    01C68 E022      LDI	R18,2
    01C69 E003      LDI	R16,3
    01C6A 940E 0973 CALL	_Set_White_off
(0868) 		       //进入重置画面。在Page9启动看门狗重置系统、不喂狗。数据重置对呀操作不同
(0869) 		       pageNum=9;
    01C6C E089      LDI	R24,0x9
    01C6D E090      LDI	R25,0
    01C6E 9390 0C58 STS	pageNum+1,R25
    01C70 9380 0C57 STS	pageNum,R24
(0870) 		  }else {
    01C72 C025      RJMP	0x1C98
(0871) 		      Set_White_off(9,2,10);
    01C73 E08A      LDI	R24,0xA
    01C74 8388      ST	Y,R24
    01C75 E022      LDI	R18,2
    01C76 E009      LDI	R16,0x9
    01C77 940E 0973 CALL	_Set_White_off
(0872) 		       pageNum=prePageNum;
    01C79 9020 0C4B LDS	R2,prePageNum
    01C7B 9030 0C4C LDS	R3,prePageNum+1
    01C7D 9230 0C58 STS	pageNum+1,R3
    01C7F 9220 0C57 STS	pageNum,R2
(0873) 		  }
(0874) 		  return;
    01C81 C016      RJMP	0x1C98
(0875) 		 case 'e':
(0876) 		    Set_White_off(3,2,4);
    01C82 E084      LDI	R24,4
    01C83 8388      ST	Y,R24
    01C84 E022      LDI	R18,2
    01C85 E003      LDI	R16,3
    01C86 940E 0973 CALL	_Set_White_off
(0877) 		    Set_White_off(9,2,10);
    01C88 E08A      LDI	R24,0xA
    01C89 8388      ST	Y,R24
    01C8A E022      LDI	R18,2
    01C8B E009      LDI	R16,0x9
    01C8C 940E 0973 CALL	_Set_White_off
(0878) 		    pageNum=prePageNum;
    01C8E 9020 0C4B LDS	R2,prePageNum
    01C90 9030 0C4C LDS	R3,prePageNum+1
    01C92 9230 0C58 STS	pageNum+1,R3
    01C94 9220 0C57 STS	pageNum,R2
(0879) 		    return;
    01C96 C001      RJMP	0x1C98
    01C97 CF87      RJMP	0x1C1F
    01C98 9622      ADIW	R28,2
    01C99 940C 21DF JMP	pop_xgsetF00C
_page8:
  dateAc               --> Y,+17
  keyV                 --> R22
  cur                  --> R20
  date                 --> Y,+2
  i                    --> R22
    01C9B 940E 21CE CALL	push_xgsetF000
    01C9D 97AD      SBIW	R28,0x2D
(0880) 	  }
(0881) 	}
(0882)  }
(0883)  //由于使用DS1307，暂时不做读取和保存时间的。等实时时钟模块买来
(0884)  void page8(void){
(0885)    uint cur=0;
    01C9E 2744      CLR	R20
    01C9F 2755      CLR	R21
(0886)    uchar keyV;
(0887)    uchar date[15];
(0888)    uint i;
(0889)     uint dateAc[14]={1,2,3,4,6,7,9,10,2,3,5,6,8,9};
    01CA0 E485      LDI	R24,0x45
    01CA1 E096      LDI	R25,6
    01CA2 01FE      MOVW	R30,R28
    01CA3 9671      ADIW	R30,0x11
    01CA4 E10C      LDI	R16,0x1C
    01CA5 E010      LDI	R17,0
    01CA6 93FA      ST	-Y,R31
    01CA7 93EA      ST	-Y,R30
    01CA8 939A      ST	-Y,R25
    01CA9 938A      ST	-Y,R24
    01CAA 940E 2213 CALL	asgnblk
(0890) 	
(0891)    date[0]=2;
    01CAC E082      LDI	R24,2
    01CAD 838A      STD	Y+2,R24
(0892)    date[1]=0;
    01CAE 2422      CLR	R2
    01CAF 822B      STD	Y+3,R2
(0893)    date[2]=1;
    01CB0 E081      LDI	R24,1
    01CB1 838C      STD	Y+4,R24
(0894)    date[3]=5;
    01CB2 E085      LDI	R24,5
    01CB3 838D      STD	Y+5,R24
(0895)    date[4]=1;
    01CB4 E081      LDI	R24,1
    01CB5 838E      STD	Y+6,R24
(0896)    date[5]=2;
    01CB6 E082      LDI	R24,2
    01CB7 838F      STD	Y+7,R24
(0897)    date[6]=2;
    01CB8 8788      STD	Y+8,R24
(0898)    date[7]=5;
    01CB9 E085      LDI	R24,5
    01CBA 8789      STD	Y+9,R24
(0899)    date[8]=1;
    01CBB E081      LDI	R24,1
    01CBC 878A      STD	Y+10,R24
(0900)    date[9]=2;
    01CBD E082      LDI	R24,2
    01CBE 878B      STD	Y+11,R24
(0901)    date[10]=3;
    01CBF E083      LDI	R24,3
    01CC0 878C      STD	Y+12,R24
(0902)    date[11]=0;
    01CC1 862D      STD	Y+13,R2
(0903)    date[12]=5;
    01CC2 E085      LDI	R24,5
    01CC3 878E      STD	Y+14,R24
(0904)    date[13]=0;
    01CC4 862F      STD	Y+15,R2
(0905)     lcd_write_pos(1,0);
    01CC5 2722      CLR	R18
    01CC6 E001      LDI	R16,1
    01CC7 940E 077A CALL	_lcd_write_pos
(0906)   for(i=0;i<8;i++){
    01CC9 2766      CLR	R22
    01CCA 2777      CLR	R23
    01CCB C01D      RJMP	0x1CE9
(0907)    lcd_write_char_con(0,0x30 | date[i]);
    01CCC 01CE      MOVW	R24,R28
    01CCD 9602      ADIW	R24,2
    01CCE 01FB      MOVW	R30,R22
    01CCF 0FE8      ADD	R30,R24
    01CD0 1FF9      ADC	R31,R25
    01CD1 8120      LD	R18,Z
    01CD2 6320      ORI	R18,0x30
    01CD3 2700      CLR	R16
    01CD4 940E 0766 CALL	_lcd_write_char_con
(0908)     lcd_write_char_con(0,' ');
    01CD6 E220      LDI	R18,0x20
    01CD7 2700      CLR	R16
    01CD8 940E 0766 CALL	_lcd_write_char_con
(0909) 	if(i==3 || i==5){
    01CDA 3063      CPI	R22,3
    01CDB E0E0      LDI	R30,0
    01CDC 077E      CPC	R23,R30
    01CDD F021      BEQ	0x1CE2
    01CDE 3065      CPI	R22,5
    01CDF E0E0      LDI	R30,0
    01CE0 077E      CPC	R23,R30
    01CE1 F429      BNE	0x1CE7
(0910) 	  lcd_write_str_con(0,"- ");
    01CE2 E823      LDI	R18,0x83
    01CE3 E036      LDI	R19,6
    01CE4 2700      CLR	R16
    01CE5 940E 0808 CALL	_lcd_write_str_con
    01CE7 5F6F      SUBI	R22,0xFF
    01CE8 4F7F      SBCI	R23,0xFF
    01CE9 3068      CPI	R22,0x8
    01CEA E0E0      LDI	R30,0
    01CEB 077E      CPC	R23,R30
    01CEC F2F8      BCS	0x1CCC
(0911) 	}
(0912)   }
(0913)    lcd_write_pos(2,1);
    01CED E021      LDI	R18,1
    01CEE E002      LDI	R16,2
    01CEF 940E 077A CALL	_lcd_write_pos
(0914)    for(i=8;i<14;i++){
    01CF1 E068      LDI	R22,0x8
    01CF2 E070      LDI	R23,0
    01CF3 C01D      RJMP	0x1D11
(0915)    lcd_write_char_con(1,0x30 | date[i]);
    01CF4 01CE      MOVW	R24,R28
    01CF5 9602      ADIW	R24,2
    01CF6 01FB      MOVW	R30,R22
    01CF7 0FE8      ADD	R30,R24
    01CF8 1FF9      ADC	R31,R25
    01CF9 8120      LD	R18,Z
    01CFA 6320      ORI	R18,0x30
    01CFB E001      LDI	R16,1
    01CFC 940E 0766 CALL	_lcd_write_char_con
(0916)    lcd_write_char_con(0,' ');
    01CFE E220      LDI	R18,0x20
    01CFF 2700      CLR	R16
    01D00 940E 0766 CALL	_lcd_write_char_con
(0917)    if(i==9 || i==11){
    01D02 3069      CPI	R22,0x9
    01D03 E0E0      LDI	R30,0
    01D04 077E      CPC	R23,R30
    01D05 F021      BEQ	0x1D0A
    01D06 306B      CPI	R22,0xB
    01D07 E0E0      LDI	R30,0
    01D08 077E      CPC	R23,R30
    01D09 F429      BNE	0x1D0F
(0918) 	 lcd_write_str_con(0,": ");
    01D0A E022      LDI	R18,2
    01D0B E037      LDI	R19,7
    01D0C 2700      CLR	R16
    01D0D 940E 0808 CALL	_lcd_write_str_con
    01D0F 5F6F      SUBI	R22,0xFF
    01D10 4F7F      SBCI	R23,0xFF
    01D11 306E      CPI	R22,0xE
    01D12 E0E0      LDI	R30,0
    01D13 077E      CPC	R23,R30
    01D14 F2F8      BCS	0x1CF4
(0919)    }
(0920)   } 
(0921)    lcd_write_str(3,2,"保存");
    01D15 EE8C      LDI	R24,0xEC
    01D16 E096      LDI	R25,6
    01D17 8399      STD	Y+1,R25
    01D18 8388      ST	Y,R24
    01D19 E022      LDI	R18,2
    01D1A E003      LDI	R16,3
    01D1B 940E 07BE CALL	_lcd_write_str
(0922)    lcd_write_str(8,2,"取消");
    01D1D E28E      LDI	R24,0x2E
    01D1E E097      LDI	R25,7
    01D1F 8399      STD	Y+1,R25
    01D20 8388      ST	Y,R24
    01D21 E022      LDI	R18,2
    01D22 E008      LDI	R16,0x8
    01D23 940E 07BE CALL	_lcd_write_str
(0923)    //初始化date
(0924)   
(0925)    cur=0;
    01D25 2744      CLR	R20
    01D26 2755      CLR	R21
(0926)    lcd_write_pos(1,0);//初始游标位置
    01D27 2722      CLR	R18
    01D28 E001      LDI	R16,1
    01D29 940E 077A CALL	_lcd_write_pos
(0927)    cur_set(3);//上半屏幕游标设置
    01D2B E003      LDI	R16,3
    01D2C E010      LDI	R17,0
    01D2D 940E 092F CALL	_cur_set
    01D2F C18A      RJMP	0x1EBA
(0928)    while(1){
(0929)      pageTime(3);//
    01D30 E003      LDI	R16,3
    01D31 E010      LDI	R17,0
    01D32 940E 0FB0 CALL	_pageTime
(0930) 	 keyV=KeyScan_once();
    01D34 940E 065B CALL	_KeyScan_once
    01D36 2F60      MOV	R22,R16
(0931) 	 if(keyV=='u'){
    01D37 3705      CPI	R16,0x75
    01D38 F571      BNE	0x1D67
(0932) 	   if(cur>13){//调到时间第一个
    01D39 E08D      LDI	R24,0xD
    01D3A E090      LDI	R25,0
    01D3B 1784      CP	R24,R20
    01D3C 0795      CPC	R25,R21
    01D3D F4B8      BCC	0x1D55
(0933) 	        Set_White_off(4,2,5);
    01D3E E085      LDI	R24,5
    01D3F 8388      ST	Y,R24
    01D40 E022      LDI	R18,2
    01D41 E004      LDI	R16,4
    01D42 940E 0973 CALL	_Set_White_off
(0934) 			Set_White_off(9,2,10);
    01D44 E08A      LDI	R24,0xA
    01D45 8388      ST	Y,R24
    01D46 E022      LDI	R18,2
    01D47 E009      LDI	R16,0x9
    01D48 940E 0973 CALL	_Set_White_off
(0935) 	        lcd_write_pos(2,1);
    01D4A E021      LDI	R18,1
    01D4B E002      LDI	R16,2
    01D4C 940E 077A CALL	_lcd_write_pos
(0936) 		    cur_set(3);
    01D4E E003      LDI	R16,3
    01D4F E010      LDI	R17,0
    01D50 940E 092F CALL	_cur_set
(0937) 			cur=8; 
    01D52 E048      LDI	R20,0x8
    01D53 E050      LDI	R21,0
(0938) 		   }else if(cur>7 && cur <14){//调到日期第一个
    01D54 C165      RJMP	0x1EBA
    01D55 E087      LDI	R24,7
    01D56 E090      LDI	R25,0
    01D57 1784      CP	R24,R20
    01D58 0795      CPC	R25,R21
    01D59 F008      BCS	0x1D5B
    01D5A C15F      RJMP	0x1EBA
    01D5B 304E      CPI	R20,0xE
    01D5C E0E0      LDI	R30,0
    01D5D 075E      CPC	R21,R30
    01D5E F008      BCS	0x1D60
    01D5F C15A      RJMP	0x1EBA
(0939) 		    lcd_write_pos(1,0);
    01D60 2722      CLR	R18
    01D61 E001      LDI	R16,1
    01D62 940E 077A CALL	_lcd_write_pos
(0940) 			cur=0; 
    01D64 2744      CLR	R20
    01D65 2755      CLR	R21
(0941) 		   }
(0942) 	 }else if(keyV=='d'){
    01D66 C153      RJMP	0x1EBA
    01D67 3664      CPI	R22,0x64
    01D68 F519      BNE	0x1D8C
(0943) 	     if(cur>7 && cur <14){//在时间上，第三行，默认要保存，所以调到保存上
    01D69 E087      LDI	R24,7
    01D6A E090      LDI	R25,0
    01D6B 1784      CP	R24,R20
    01D6C 0795      CPC	R25,R21
    01D6D F488      BCC	0x1D7F
    01D6E 304E      CPI	R20,0xE
    01D6F E0E0      LDI	R30,0
    01D70 075E      CPC	R21,R30
    01D71 F468      BCC	0x1D7F
(0944) 		      cur_set(0);//关下半屏幕游标
    01D72 2700      CLR	R16
    01D73 2711      CLR	R17
    01D74 940E 092F CALL	_cur_set
(0945) 			  Set_White(4,2,5);
    01D76 E085      LDI	R24,5
    01D77 8388      ST	Y,R24
    01D78 E022      LDI	R18,2
    01D79 E004      LDI	R16,4
    01D7A 940E 09E3 CALL	_Set_White
(0946) 			  cur=14;
    01D7C E04E      LDI	R20,0xE
    01D7D E050      LDI	R21,0
(0947) 		 }else if(cur<=7){ //调到时间第一个
    01D7E C13B      RJMP	0x1EBA
    01D7F E087      LDI	R24,7
    01D80 E090      LDI	R25,0
    01D81 1784      CP	R24,R20
    01D82 0795      CPC	R25,R21
    01D83 F408      BCC	0x1D85
    01D84 C135      RJMP	0x1EBA
(0948) 		    lcd_write_pos(2,1);
    01D85 E021      LDI	R18,1
    01D86 E002      LDI	R16,2
    01D87 940E 077A CALL	_lcd_write_pos
(0949) 			cur=8; 
    01D89 E048      LDI	R20,0x8
    01D8A E050      LDI	R21,0
(0950) 		 }
(0951) 	 }else if(keyV=='l'){
    01D8B C12E      RJMP	0x1EBA
    01D8C 366C      CPI	R22,0x6C
    01D8D F009      BEQ	0x1D8F
    01D8E C043      RJMP	0x1DD2
(0952) 			if(cur<=8 && cur>0){
    01D8F E088      LDI	R24,0x8
    01D90 E090      LDI	R25,0
    01D91 1784      CP	R24,R20
    01D92 0795      CPC	R25,R21
    01D93 F090      BCS	0x1DA6
    01D94 3040      CPI	R20,0
    01D95 0745      CPC	R20,R21
    01D96 F079      BEQ	0x1DA6
(0953) 			 cur--;
    01D97 5041      SUBI	R20,1
    01D98 4050      SBCI	R21,0
(0954) 			 lcd_write_pos(dateAc[cur],0);
    01D99 2722      CLR	R18
    01D9A 01CE      MOVW	R24,R28
    01D9B 9641      ADIW	R24,0x11
    01D9C 01FA      MOVW	R30,R20
    01D9D 0FEE      LSL	R30
    01D9E 1FFF      ROL	R31
    01D9F 0FE8      ADD	R30,R24
    01DA0 1FF9      ADC	R31,R25
    01DA1 8100      LD	R16,Z
    01DA2 8111      LDD	R17,Z+1
    01DA3 940E 077A CALL	_lcd_write_pos
(0955) 			}else if (cur>8 && cur<14){
    01DA5 C114      RJMP	0x1EBA
    01DA6 E088      LDI	R24,0x8
    01DA7 E090      LDI	R25,0
    01DA8 1784      CP	R24,R20
    01DA9 0795      CPC	R25,R21
    01DAA F498      BCC	0x1DBE
    01DAB 304E      CPI	R20,0xE
    01DAC E0E0      LDI	R30,0
    01DAD 075E      CPC	R21,R30
    01DAE F478      BCC	0x1DBE
(0956) 			 cur--;
    01DAF 5041      SUBI	R20,1
    01DB0 4050      SBCI	R21,0
(0957) 			 lcd_write_pos(dateAc[cur],1);
    01DB1 E021      LDI	R18,1
    01DB2 01CE      MOVW	R24,R28
    01DB3 9641      ADIW	R24,0x11
    01DB4 01FA      MOVW	R30,R20
    01DB5 0FEE      LSL	R30
    01DB6 1FFF      ROL	R31
    01DB7 0FE8      ADD	R30,R24
    01DB8 1FF9      ADC	R31,R25
    01DB9 8100      LD	R16,Z
    01DBA 8111      LDD	R17,Z+1
    01DBB 940E 077A CALL	_lcd_write_pos
(0958) 			}else if (cur==15){
    01DBD C0FC      RJMP	0x1EBA
    01DBE 304F      CPI	R20,0xF
    01DBF E0E0      LDI	R30,0
    01DC0 075E      CPC	R21,R30
    01DC1 F009      BEQ	0x1DC3
    01DC2 C0F7      RJMP	0x1EBA
(0959) 			    Set_White_off(9,2,10);
    01DC3 E08A      LDI	R24,0xA
    01DC4 8388      ST	Y,R24
    01DC5 E022      LDI	R18,2
    01DC6 E009      LDI	R16,0x9
    01DC7 940E 0973 CALL	_Set_White_off
(0960) 			    Set_White(4,2,5);
    01DC9 E085      LDI	R24,5
    01DCA 8388      ST	Y,R24
    01DCB E022      LDI	R18,2
    01DCC E004      LDI	R16,4
    01DCD 940E 09E3 CALL	_Set_White
(0961) 				cur=14;
    01DCF E04E      LDI	R20,0xE
    01DD0 E050      LDI	R21,0
(0962) 			}
(0963) 			
(0964) 		
(0965) 	 }else if(keyV=='r'){
    01DD1 C0E8      RJMP	0x1EBA
    01DD2 3762      CPI	R22,0x72
    01DD3 F009      BEQ	0x1DD5
    01DD4 C03A      RJMP	0x1E0F
(0966) 	       if(cur<7){
    01DD5 3047      CPI	R20,7
    01DD6 E0E0      LDI	R30,0
    01DD7 075E      CPC	R21,R30
    01DD8 F478      BCC	0x1DE8
(0967) 			   cur++;
    01DD9 5F4F      SUBI	R20,0xFF
    01DDA 4F5F      SBCI	R21,0xFF
(0968) 			   lcd_write_pos(dateAc[cur],0);
    01DDB 2722      CLR	R18
    01DDC 01CE      MOVW	R24,R28
    01DDD 9641      ADIW	R24,0x11
    01DDE 01FA      MOVW	R30,R20
    01DDF 0FEE      LSL	R30
    01DE0 1FFF      ROL	R31
    01DE1 0FE8      ADD	R30,R24
    01DE2 1FF9      ADC	R31,R25
    01DE3 8100      LD	R16,Z
    01DE4 8111      LDD	R17,Z+1
    01DE5 940E 077A CALL	_lcd_write_pos
(0969) 			}else if (cur<13){
    01DE7 C0D2      RJMP	0x1EBA
    01DE8 304D      CPI	R20,0xD
    01DE9 E0E0      LDI	R30,0
    01DEA 075E      CPC	R21,R30
    01DEB F478      BCC	0x1DFB
(0970) 			   cur++;
    01DEC 5F4F      SUBI	R20,0xFF
    01DED 4F5F      SBCI	R21,0xFF
(0971) 			   lcd_write_pos(dateAc[cur],1);
    01DEE E021      LDI	R18,1
    01DEF 01CE      MOVW	R24,R28
    01DF0 9641      ADIW	R24,0x11
    01DF1 01FA      MOVW	R30,R20
    01DF2 0FEE      LSL	R30
    01DF3 1FFF      ROL	R31
    01DF4 0FE8      ADD	R30,R24
    01DF5 1FF9      ADC	R31,R25
    01DF6 8100      LD	R16,Z
    01DF7 8111      LDD	R17,Z+1
    01DF8 940E 077A CALL	_lcd_write_pos
(0972) 			}else if (cur==14){
    01DFA C0BF      RJMP	0x1EBA
    01DFB 304E      CPI	R20,0xE
    01DFC E0E0      LDI	R30,0
    01DFD 075E      CPC	R21,R30
    01DFE F009      BEQ	0x1E00
    01DFF C0BA      RJMP	0x1EBA
(0973) 			    Set_White_off(4,2,5);
    01E00 E085      LDI	R24,5
    01E01 8388      ST	Y,R24
    01E02 E022      LDI	R18,2
    01E03 E004      LDI	R16,4
    01E04 940E 0973 CALL	_Set_White_off
(0974) 				Set_White(9,2,10);
    01E06 E08A      LDI	R24,0xA
    01E07 8388      ST	Y,R24
    01E08 E022      LDI	R18,2
    01E09 E009      LDI	R16,0x9
    01E0A 940E 09E3 CALL	_Set_White
(0975) 				cur=15;
    01E0C E04F      LDI	R20,0xF
    01E0D E050      LDI	R21,0
(0976) 			}
(0977) 	 }else if(keyV=='e'){
    01E0E C0AB      RJMP	0x1EBA
    01E0F 3665      CPI	R22,0x65
    01E10 F4B9      BNE	0x1E28
(0978) 	     cur_set(0);//关上半屏幕游标
    01E11 2700      CLR	R16
    01E12 2711      CLR	R17
    01E13 940E 092F CALL	_cur_set
(0979) 		  Set_White_off(4,2,5);
    01E15 E085      LDI	R24,5
    01E16 8388      ST	Y,R24
    01E17 E022      LDI	R18,2
    01E18 E004      LDI	R16,4
    01E19 940E 0973 CALL	_Set_White_off
(0980) 		  Set_White_off(9,2,10);
    01E1B E08A      LDI	R24,0xA
    01E1C 8388      ST	Y,R24
    01E1D E022      LDI	R18,2
    01E1E E009      LDI	R16,0x9
    01E1F 940E 0973 CALL	_Set_White_off
(0981) 		 pageNum=1;
    01E21 E081      LDI	R24,1
    01E22 E090      LDI	R25,0
    01E23 9390 0C58 STS	pageNum+1,R25
    01E25 9380 0C57 STS	pageNum,R24
(0982) 		 return;
    01E27 C093      RJMP	0x1EBB
(0983) 	     //退出界面
(0984) 	 }else if(keyV=='t'){
    01E28 3764      CPI	R22,0x74
    01E29 F591      BNE	0x1E5C
(0985) 	      if(cur==14){
    01E2A 304E      CPI	R20,0xE
    01E2B E0E0      LDI	R30,0
    01E2C 075E      CPC	R21,R30
    01E2D F491      BNE	0x1E40
(0986) 		        //保存操作
(0987) 				pageParam[1]=0;//标记是时间的保存
    01E2E 2422      CLR	R2
    01E2F 2433      CLR	R3
    01E30 9230 0C50 STS	pageParam+3,R3
    01E32 9220 0C4F STS	pageParam+2,R2
(0988) 				prePageNum=8;
    01E34 E088      LDI	R24,0x8
    01E35 E090      LDI	R25,0
    01E36 9390 0C4C STS	prePageNum+1,R25
    01E38 9380 0C4B STS	prePageNum,R24
(0989) 				pageNum=6;
    01E3A E086      LDI	R24,6
    01E3B 9390 0C58 STS	pageNum+1,R25
    01E3D 9380 0C57 STS	pageNum,R24
(0990) 				return;
    01E3F C07B      RJMP	0x1EBB
(0991) 		 }else if(cur==15){
    01E40 304F      CPI	R20,0xF
    01E41 E0E0      LDI	R30,0
    01E42 075E      CPC	R21,R30
    01E43 F009      BEQ	0x1E45
    01E44 C075      RJMP	0x1EBA
(0992) 		        //取消操作
(0993) 			 cur_set(0);//关上半屏幕游标
    01E45 2700      CLR	R16
    01E46 2711      CLR	R17
    01E47 940E 092F CALL	_cur_set
(0994) 		  Set_White_off(4,2,5);
    01E49 E085      LDI	R24,5
    01E4A 8388      ST	Y,R24
    01E4B E022      LDI	R18,2
    01E4C E004      LDI	R16,4
    01E4D 940E 0973 CALL	_Set_White_off
(0995) 		  Set_White_off(9,2,10);
    01E4F E08A      LDI	R24,0xA
    01E50 8388      ST	Y,R24
    01E51 E022      LDI	R18,2
    01E52 E009      LDI	R16,0x9
    01E53 940E 0973 CALL	_Set_White_off
(0996) 		 pageNum=1;
    01E55 E081      LDI	R24,1
    01E56 E090      LDI	R25,0
    01E57 9390 0C58 STS	pageNum+1,R25
    01E59 9380 0C57 STS	pageNum,R24
(0997) 		 return;
    01E5B C05F      RJMP	0x1EBB
(0998) 		 }
(0999) 	 }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    01E5C 3360      CPI	R22,0x30
    01E5D F099      BEQ	0x1E71
    01E5E 3361      CPI	R22,0x31
    01E5F F089      BEQ	0x1E71
    01E60 3362      CPI	R22,0x32
    01E61 F079      BEQ	0x1E71
    01E62 3363      CPI	R22,0x33
    01E63 F069      BEQ	0x1E71
    01E64 3364      CPI	R22,0x34
    01E65 F059      BEQ	0x1E71
    01E66 3365      CPI	R22,0x35
    01E67 F049      BEQ	0x1E71
    01E68 3366      CPI	R22,0x36
    01E69 F039      BEQ	0x1E71
    01E6A 3367      CPI	R22,0x37
    01E6B F029      BEQ	0x1E71
    01E6C 3368      CPI	R22,0x38
    01E6D F019      BEQ	0x1E71
    01E6E 3369      CPI	R22,0x39
    01E6F F009      BEQ	0x1E71
    01E70 C049      RJMP	0x1EBA
(1000) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(1001) 			if(cur<14){
    01E71 304E      CPI	R20,0xE
    01E72 E0E0      LDI	R30,0
    01E73 075E      CPC	R21,R30
    01E74 F008      BCS	0x1E76
    01E75 C044      RJMP	0x1EBA
(1002) 			 lcd_write_char_con(0,0x30 | keyV);
    01E76 2F26      MOV	R18,R22
    01E77 6320      ORI	R18,0x30
    01E78 2700      CLR	R16
    01E79 940E 0766 CALL	_lcd_write_char_con
(1003) 			 lcd_write_char_con(0,' ');
    01E7B E220      LDI	R18,0x20
    01E7C 2700      CLR	R16
    01E7D 940E 0766 CALL	_lcd_write_char_con
(1004) 			 date[cur]=keyV;
    01E7F 01CE      MOVW	R24,R28
    01E80 9602      ADIW	R24,2
    01E81 01FA      MOVW	R30,R20
    01E82 0FE8      ADD	R30,R24
    01E83 1FF9      ADC	R31,R25
    01E84 8360      ST	Z,R22
(1005) 			  if(cur==3 || cur==5){
    01E85 3043      CPI	R20,3
    01E86 E0E0      LDI	R30,0
    01E87 075E      CPC	R21,R30
    01E88 F021      BEQ	0x1E8D
    01E89 3045      CPI	R20,5
    01E8A E0E0      LDI	R30,0
    01E8B 075E      CPC	R21,R30
    01E8C F431      BNE	0x1E93
(1006) 			    lcd_write_str_con(0,"- ");
    01E8D E823      LDI	R18,0x83
    01E8E E036      LDI	R19,6
    01E8F 2700      CLR	R16
    01E90 940E 0808 CALL	_lcd_write_str_con
(1007) 			 }else if(cur==9 || cur==11){
    01E92 C00D      RJMP	0x1EA0
    01E93 3049      CPI	R20,0x9
    01E94 E0E0      LDI	R30,0
    01E95 075E      CPC	R21,R30
    01E96 F021      BEQ	0x1E9B
    01E97 304B      CPI	R20,0xB
    01E98 E0E0      LDI	R30,0
    01E99 075E      CPC	R21,R30
    01E9A F429      BNE	0x1EA0
(1008) 			    lcd_write_str_con(0,": ");
    01E9B E022      LDI	R18,2
    01E9C E037      LDI	R19,7
    01E9D 2700      CLR	R16
    01E9E 940E 0808 CALL	_lcd_write_str_con
(1009) 			 }
(1010) 			 cur++;
    01EA0 5F4F      SUBI	R20,0xFF
    01EA1 4F5F      SBCI	R21,0xFF
(1011) 			 if(cur==8){
    01EA2 3048      CPI	R20,0x8
    01EA3 E0E0      LDI	R30,0
    01EA4 075E      CPC	R21,R30
    01EA5 F431      BNE	0x1EAC
(1012) 			    lcd_write_pos(dateAc[8],1);
    01EA6 E021      LDI	R18,1
    01EA7 A109      LDD	R16,Y+33
    01EA8 A11A      LDD	R17,Y+34
    01EA9 940E 077A CALL	_lcd_write_pos
(1013) 			 }else if(cur==14){
    01EAB C00E      RJMP	0x1EBA
    01EAC 304E      CPI	R20,0xE
    01EAD E0E0      LDI	R30,0
    01EAE 075E      CPC	R21,R30
    01EAF F451      BNE	0x1EBA
(1014) 			  cur_set(0);//关下半屏幕游标
    01EB0 2700      CLR	R16
    01EB1 2711      CLR	R17
    01EB2 940E 092F CALL	_cur_set
(1015) 			  Set_White(4,2,5);
    01EB4 E085      LDI	R24,5
    01EB5 8388      ST	Y,R24
    01EB6 E022      LDI	R18,2
    01EB7 E004      LDI	R16,4
    01EB8 940E 09E3 CALL	_Set_White
    01EBA CE75      RJMP	0x1D30
    01EBB 96AD      ADIW	R28,0x2D
    01EBC 940C 21D3 JMP	pop_xgsetF000
_page9:
    01EBE 9722      SBIW	R28,2
(1016) 			 }
(1017) 			}
(1018) 	 }
(1019)    }
(1020)  }
(1021) void page9(void){//复用的方法
(1022)   if(pageParam[2]==0){
    01EBF 9020 0C51 LDS	R2,pageParam+4
    01EC1 9030 0C52 LDS	R3,pageParam+5
    01EC3 2022      TST	R2
    01EC4 F459      BNE	0x1ED0
    01EC5 2033      TST	R3
    01EC6 F449      BNE	0x1ED0
(1023)      lcd_write_str(4,1,"系统重置中。。。");
    01EC7 E782      LDI	R24,0x72
    01EC8 E096      LDI	R25,6
    01EC9 8399      STD	Y+1,R25
    01ECA 8388      ST	Y,R24
    01ECB E021      LDI	R18,1
    01ECC E004      LDI	R16,4
    01ECD 940E 07BE CALL	_lcd_write_str
(1024)    }else if(pageParam[2]==1){
    01ECF C016      RJMP	0x1EE6
    01ED0 9180 0C51 LDS	R24,pageParam+4
    01ED2 9190 0C52 LDS	R25,pageParam+5
    01ED4 3081      CPI	R24,1
    01ED5 E0E0      LDI	R30,0
    01ED6 079E      CPC	R25,R30
    01ED7 F471      BNE	0x1EE6
(1025)      lcd_write_str(4,1,"数据重置中。。。");
    01ED8 E681      LDI	R24,0x61
    01ED9 E096      LDI	R25,6
    01EDA 8399      STD	Y+1,R25
    01EDB 8388      ST	Y,R24
    01EDC E021      LDI	R18,1
    01EDD E004      LDI	R16,4
    01EDE 940E 07BE CALL	_lcd_write_str
(1026) 	 reset_temp_data(pageParam[0]);
    01EE0 9100 0C4D LDS	R16,pageParam
    01EE2 9110 0C4E LDS	R17,pageParam+1
    01EE4 940E 2039 CALL	_reset_temp_data
(1027)    }
(1028)    delay_ms(500);
    01EE6 EF04      LDI	R16,0xF4
    01EE7 E011      LDI	R17,1
    01EE8 940E 03BF CALL	_delay_ms
(1029)    pageNum=prePageNum;
    01EEA 9020 0C4B LDS	R2,prePageNum
    01EEC 9030 0C4C LDS	R3,prePageNum+1
    01EEE 9230 0C58 STS	pageNum+1,R3
    01EF0 9220 0C57 STS	pageNum,R2
    01EF2 9622      ADIW	R28,2
    01EF3 9508      RET
(1030)  }
(1031) //分发Pages
(1032) void dispatchPages(void){
(1033)       lcd_clear();//清屏幕
_dispatchPages:
    01EF4 940E 0875 CALL	_lcd_clear
(1034)       if(pageNum==1){
    01EF6 9180 0C57 LDS	R24,pageNum
    01EF8 9190 0C58 LDS	R25,pageNum+1
    01EFA 3081      CPI	R24,1
    01EFB E0E0      LDI	R30,0
    01EFC 079E      CPC	R25,R30
    01EFD F419      BNE	0x1F01
(1035) 	    page1();
    01EFE 940E 0FCC CALL	_page1
(1036) 	  }else if(pageNum==2){
    01F00 C051      RJMP	0x1F52
    01F01 9180 0C57 LDS	R24,pageNum
    01F03 9190 0C58 LDS	R25,pageNum+1
    01F05 3082      CPI	R24,2
    01F06 E0E0      LDI	R30,0
    01F07 079E      CPC	R25,R30
    01F08 F419      BNE	0x1F0C
(1037) 	    page2();
    01F09 940E 1346 CALL	_page2
(1038) 	  }else if(pageNum==3){
    01F0B C046      RJMP	0x1F52
    01F0C 9180 0C57 LDS	R24,pageNum
    01F0E 9190 0C58 LDS	R25,pageNum+1
    01F10 3083      CPI	R24,3
    01F11 E0E0      LDI	R30,0
    01F12 079E      CPC	R25,R30
    01F13 F419      BNE	0x1F17
(1039) 	    page3();
    01F14 940E 13D1 CALL	_page3
(1040) 	  }else if(pageNum==4){
    01F16 C03B      RJMP	0x1F52
    01F17 9180 0C57 LDS	R24,pageNum
    01F19 9190 0C58 LDS	R25,pageNum+1
    01F1B 3084      CPI	R24,4
    01F1C E0E0      LDI	R30,0
    01F1D 079E      CPC	R25,R30
    01F1E F411      BNE	0x1F21
(1041) 	    page4();
    01F1F D8F1      RCALL	_page4
(1042) 	  }else if(pageNum==5){
    01F20 C031      RJMP	0x1F52
    01F21 9180 0C57 LDS	R24,pageNum
    01F23 9190 0C58 LDS	R25,pageNum+1
    01F25 3085      CPI	R24,5
    01F26 E0E0      LDI	R30,0
    01F27 079E      CPC	R25,R30
    01F28 F411      BNE	0x1F2B
(1043) 	    page5();
    01F29 DBAF      RCALL	_page5
(1044) 	  }else if(pageNum==6){
    01F2A C027      RJMP	0x1F52
    01F2B 9180 0C57 LDS	R24,pageNum
    01F2D 9190 0C58 LDS	R25,pageNum+1
    01F2F 3086      CPI	R24,6
    01F30 E0E0      LDI	R30,0
    01F31 079E      CPC	R25,R30
    01F32 F411      BNE	0x1F35
(1045) 	    page6();
    01F33 DC86      RCALL	_page6
(1046) 	  }else if(pageNum==7){
    01F34 C01D      RJMP	0x1F52
    01F35 9180 0C57 LDS	R24,pageNum
    01F37 9190 0C58 LDS	R25,pageNum+1
    01F39 3087      CPI	R24,7
    01F3A E0E0      LDI	R30,0
    01F3B 079E      CPC	R25,R30
    01F3C F411      BNE	0x1F3F
(1047) 	    page7();
    01F3D DCBD      RCALL	_page7
(1048) 	  }else if(pageNum==8){
    01F3E C013      RJMP	0x1F52
    01F3F 9180 0C57 LDS	R24,pageNum
    01F41 9190 0C58 LDS	R25,pageNum+1
    01F43 3088      CPI	R24,0x8
    01F44 E0E0      LDI	R30,0
    01F45 079E      CPC	R25,R30
    01F46 F411      BNE	0x1F49
(1049) 	    page8();
    01F47 DD53      RCALL	_page8
(1050) 	  }else if(pageNum==9){
    01F48 C009      RJMP	0x1F52
    01F49 9180 0C57 LDS	R24,pageNum
    01F4B 9190 0C58 LDS	R25,pageNum+1
    01F4D 3089      CPI	R24,0x9
    01F4E E0E0      LDI	R30,0
    01F4F 079E      CPC	R25,R30
    01F50 F409      BNE	0x1F52
(1051) 	    page9();
    01F51 DF6C      RCALL	_page9
(1052) 	  }
    01F52 9508      RET
_tempdata_init:
  i                    --> R20
  j                    --> R22
    01F53 940E 21CE CALL	push_xgsetF000
FILE: E:\ICCDemo\Temp_Control\temp_control\temp.c
(0001) #include<iom128v.h>
(0002) #include "temp.h"
(0003) #include "main.h"
(0004) #include "eeprom.h"
(0005) //开机初始化空间。全部置0,不初始化数据，等用户或EEPROM数据回填
(0006) void tempdata_init(void){
(0007)  uint i,j;
(0008)  for(i=0;i<4;i++){
    01F55 2744      CLR	R20
    01F56 2755      CLR	R21
    01F57 C02C      RJMP	0x1F84
(0009)     temps[i].flag=0;
    01F58 E00A      LDI	R16,0xA
    01F59 E011      LDI	R17,1
    01F5A 019A      MOVW	R18,R20
    01F5B 940E 2189 CALL	empy16s
    01F5D E187      LDI	R24,0x17
    01F5E E091      LDI	R25,1
    01F5F 01F8      MOVW	R30,R16
    01F60 0FE8      ADD	R30,R24
    01F61 1FF9      ADC	R31,R25
    01F62 2422      CLR	R2
    01F63 2433      CLR	R3
    01F64 8231      STD	Z+1,R3
    01F65 8220      ST	Z,R2
(0010) 	for(j=0;j<132;j++){
    01F66 2766      CLR	R22
    01F67 2777      CLR	R23
    01F68 C015      RJMP	0x1F7E
(0011) 	 temps[i].temp_data[j]=0;
    01F69 E00A      LDI	R16,0xA
    01F6A E011      LDI	R17,1
    01F6B 019A      MOVW	R18,R20
    01F6C 940E 2189 CALL	empy16s
    01F6E 0118      MOVW	R2,R16
    01F6F E189      LDI	R24,0x19
    01F70 E091      LDI	R25,1
    01F71 0E28      ADD	R2,R24
    01F72 1E39      ADC	R3,R25
    01F73 01FB      MOVW	R30,R22
    01F74 0FEE      LSL	R30
    01F75 1FFF      ROL	R31
    01F76 0DE2      ADD	R30,R2
    01F77 1DF3      ADC	R31,R3
    01F78 2422      CLR	R2
    01F79 2433      CLR	R3
    01F7A 8231      STD	Z+1,R3
    01F7B 8220      ST	Z,R2
    01F7C 5F6F      SUBI	R22,0xFF
    01F7D 4F7F      SBCI	R23,0xFF
    01F7E 3864      CPI	R22,0x84
    01F7F E0E0      LDI	R30,0
    01F80 077E      CPC	R23,R30
    01F81 F338      BCS	0x1F69
    01F82 5F4F      SUBI	R20,0xFF
    01F83 4F5F      SBCI	R21,0xFF
    01F84 3044      CPI	R20,4
    01F85 E0E0      LDI	R30,0
    01F86 075E      CPC	R21,R30
    01F87 F280      BCS	0x1F58
    01F88 940C 21D3 JMP	pop_xgsetF000
_data_recover:
  dataC                --> R22
  i                    --> R20
  j                    --> R22
    01F8A 940E 21D8 CALL	push_xgsetF00C
(0012) 	}
(0013)  } 
(0014) }
(0015) void data_recover(void){
(0016)  uint i,j;
(0017)  uint dataC;
(0018)  for(i=0;i<4;i++){
    01F8C 2744      CLR	R20
    01F8D 2755      CLR	R21
    01F8E C046      RJMP	0x1FD5
(0019)    dataC=EEPROM_read(i+1,0);//读取标记位
    01F8F 2722      CLR	R18
    01F90 2733      CLR	R19
    01F91 018A      MOVW	R16,R20
    01F92 5F0F      SUBI	R16,0xFF
    01F93 4F1F      SBCI	R17,0xFF
    01F94 940E 0F9A CALL	_EEPROM_read
    01F96 01B8      MOVW	R22,R16
(0020)    if(dataC==1){
    01F97 3001      CPI	R16,1
    01F98 E0E0      LDI	R30,0
    01F99 071E      CPC	R17,R30
    01F9A F009      BEQ	0x1F9C
    01F9B C037      RJMP	0x1FD3
(0021)       temps[i].flag=EEPROM_read(i+1,133);
    01F9C E825      LDI	R18,0x85
    01F9D E030      LDI	R19,0
    01F9E 018A      MOVW	R16,R20
    01F9F 5F0F      SUBI	R16,0xFF
    01FA0 4F1F      SBCI	R17,0xFF
    01FA1 940E 0F9A CALL	_EEPROM_read
    01FA3 0118      MOVW	R2,R16
    01FA4 E00A      LDI	R16,0xA
    01FA5 E011      LDI	R17,1
    01FA6 019A      MOVW	R18,R20
    01FA7 940E 2189 CALL	empy16s
    01FA9 E187      LDI	R24,0x17
    01FAA E091      LDI	R25,1
    01FAB 01F8      MOVW	R30,R16
    01FAC 0FE8      ADD	R30,R24
    01FAD 1FF9      ADC	R31,R25
    01FAE 8231      STD	Z+1,R3
    01FAF 8220      ST	Z,R2
(0022) 	  for(j=0;j<132;j++){
    01FB0 2766      CLR	R22
    01FB1 2777      CLR	R23
    01FB2 C01C      RJMP	0x1FCF
(0023) 	    temps[i].temp_data[j]=EEPROM_read(i+1,j+1);
    01FB3 019B      MOVW	R18,R22
    01FB4 5F2F      SUBI	R18,0xFF
    01FB5 4F3F      SBCI	R19,0xFF
    01FB6 018A      MOVW	R16,R20
    01FB7 5F0F      SUBI	R16,0xFF
    01FB8 4F1F      SBCI	R17,0xFF
    01FB9 940E 0F9A CALL	_EEPROM_read
    01FBB 0158      MOVW	R10,R16
    01FBC E00A      LDI	R16,0xA
    01FBD E011      LDI	R17,1
    01FBE 019A      MOVW	R18,R20
    01FBF 940E 2189 CALL	empy16s
    01FC1 0118      MOVW	R2,R16
    01FC2 E189      LDI	R24,0x19
    01FC3 E091      LDI	R25,1
    01FC4 0E28      ADD	R2,R24
    01FC5 1E39      ADC	R3,R25
    01FC6 01FB      MOVW	R30,R22
    01FC7 0FEE      LSL	R30
    01FC8 1FFF      ROL	R31
    01FC9 0DE2      ADD	R30,R2
    01FCA 1DF3      ADC	R31,R3
    01FCB 82B1      STD	Z+1,R11
    01FCC 82A0      ST	Z,R10
    01FCD 5F6F      SUBI	R22,0xFF
    01FCE 4F7F      SBCI	R23,0xFF
    01FCF 3864      CPI	R22,0x84
    01FD0 E0E0      LDI	R30,0
    01FD1 077E      CPC	R23,R30
    01FD2 F300      BCS	0x1FB3
    01FD3 5F4F      SUBI	R20,0xFF
    01FD4 4F5F      SBCI	R21,0xFF
    01FD5 3044      CPI	R20,4
    01FD6 E0E0      LDI	R30,0
    01FD7 075E      CPC	R21,R30
    01FD8 F408      BCC	0x1FDA
    01FD9 CFB5      RJMP	0x1F8F
    01FDA 940C 21DF JMP	pop_xgsetF00C
_set_temp_data:
  j                    --> R20
  dataCach             --> R10
  t                    --> R22
    01FDC 940E 21D8 CALL	push_xgsetF00C
    01FDE 0159      MOVW	R10,R18
    01FDF 01B8      MOVW	R22,R16
    01FE0 9722      SBIW	R28,2
(0024) 	   }
(0025) 	}
(0026)  } 
(0027) }
(0028) //设置指定的数据,保存相关标志位
(0029) void set_temp_data(uint t,uint* dataCach){
(0030)     uint j;
(0031) 	temps[t].flag=6;
    01FE1 E00A      LDI	R16,0xA
    01FE2 E011      LDI	R17,1
    01FE3 019B      MOVW	R18,R22
    01FE4 940E 2189 CALL	empy16s
    01FE6 E187      LDI	R24,0x17
    01FE7 E091      LDI	R25,1
    01FE8 01F8      MOVW	R30,R16
    01FE9 0FE8      ADD	R30,R24
    01FEA 1FF9      ADC	R31,R25
    01FEB E086      LDI	R24,6
    01FEC E090      LDI	R25,0
    01FED 8391      STD	Z+1,R25
    01FEE 8380      ST	Z,R24
(0032) 	EEPROM_write(t+1,0,0x01);
    01FEF E081      LDI	R24,1
    01FF0 8399      STD	Y+1,R25
    01FF1 8388      ST	Y,R24
    01FF2 2722      CLR	R18
    01FF3 2733      CLR	R19
    01FF4 018B      MOVW	R16,R22
    01FF5 5F0F      SUBI	R16,0xFF
    01FF6 4F1F      SBCI	R17,0xFF
    01FF7 940E 0F83 CALL	_EEPROM_write
(0033)     for(j=0;j<132;j++){
    01FF9 2744      CLR	R20
    01FFA 2755      CLR	R21
    01FFB C035      RJMP	0x2031
(0034) 	   temps[t].temp_data[j]=*(dataCach+j);
    01FFC 011A      MOVW	R2,R20
    01FFD 0C22      LSL	R2
    01FFE 1C33      ROL	R3
    01FFF 0121      MOVW	R4,R2
    02000 E00A      LDI	R16,0xA
    02001 E011      LDI	R17,1
    02002 019B      MOVW	R18,R22
    02003 940E 2189 CALL	empy16s
    02005 0118      MOVW	R2,R16
    02006 E189      LDI	R24,0x19
    02007 E091      LDI	R25,1
    02008 0E28      ADD	R2,R24
    02009 1E39      ADC	R3,R25
    0200A 01F2      MOVW	R30,R4
    0200B 0DE2      ADD	R30,R2
    0200C 1DF3      ADC	R31,R3
    0200D 01D2      MOVW	R26,R4
    0200E 0DAA      ADD	R26,R10
    0200F 1DBB      ADC	R27,R11
    02010 902D      LD	R2,X+
    02011 903C      LD	R3,X
    02012 8231      STD	Z+1,R3
    02013 8220      ST	Z,R2
(0035) 	   EEPROM_write(t+1,j+1,temps[t].temp_data[j]);
    02014 E00A      LDI	R16,0xA
    02015 E011      LDI	R17,1
    02016 019B      MOVW	R18,R22
    02017 940E 2189 CALL	empy16s
    02019 0118      MOVW	R2,R16
    0201A E189      LDI	R24,0x19
    0201B E091      LDI	R25,1
    0201C 0E28      ADD	R2,R24
    0201D 1E39      ADC	R3,R25
    0201E 01FA      MOVW	R30,R20
    0201F 0FEE      LSL	R30
    02020 1FFF      ROL	R31
    02021 0DE2      ADD	R30,R2
    02022 1DF3      ADC	R31,R3
    02023 8020      LD	R2,Z
    02024 8031      LDD	R3,Z+1
    02025 8239      STD	Y+1,R3
    02026 8228      ST	Y,R2
    02027 019A      MOVW	R18,R20
    02028 5F2F      SUBI	R18,0xFF
    02029 4F3F      SBCI	R19,0xFF
    0202A 018B      MOVW	R16,R22
    0202B 5F0F      SUBI	R16,0xFF
    0202C 4F1F      SBCI	R17,0xFF
    0202D 940E 0F83 CALL	_EEPROM_write
    0202F 5F4F      SUBI	R20,0xFF
    02030 4F5F      SBCI	R21,0xFF
    02031 3844      CPI	R20,0x84
    02032 E0E0      LDI	R30,0
    02033 075E      CPC	R21,R30
    02034 F408      BCC	0x2036
    02035 CFC6      RJMP	0x1FFC
    02036 9622      ADIW	R28,2
    02037 940C 21DF JMP	pop_xgsetF00C
_reset_temp_data:
  j                    --> R20
  t                    --> R22
    02039 940E 21CE CALL	push_xgsetF000
    0203B 01B8      MOVW	R22,R16
    0203C 9722      SBIW	R28,2
(0036) 	}
(0037) }
(0038) 
(0039) //重置指定的数据,保存相关标志位
(0040) void reset_temp_data(uint t){
(0041)     uint j;
(0042) 	temps[t].flag=0;
    0203D E00A      LDI	R16,0xA
    0203E E011      LDI	R17,1
    0203F 019B      MOVW	R18,R22
    02040 940E 2189 CALL	empy16s
    02042 E187      LDI	R24,0x17
    02043 E091      LDI	R25,1
    02044 01F8      MOVW	R30,R16
    02045 0FE8      ADD	R30,R24
    02046 1FF9      ADC	R31,R25
    02047 2422      CLR	R2
    02048 2433      CLR	R3
    02049 8231      STD	Z+1,R3
    0204A 8220      ST	Z,R2
(0043) 	EEPROM_write(t+1,0,0x00);
    0204B 8239      STD	Y+1,R3
    0204C 8228      ST	Y,R2
    0204D 2722      CLR	R18
    0204E 2733      CLR	R19
    0204F 018B      MOVW	R16,R22
    02050 5F0F      SUBI	R16,0xFF
    02051 4F1F      SBCI	R17,0xFF
    02052 940E 0F83 CALL	_EEPROM_write
(0044) 	EEPROM_write(t+1,133,0x00);
    02054 2422      CLR	R2
    02055 2433      CLR	R3
    02056 8239      STD	Y+1,R3
    02057 8228      ST	Y,R2
    02058 E825      LDI	R18,0x85
    02059 E030      LDI	R19,0
    0205A 018B      MOVW	R16,R22
    0205B 5F0F      SUBI	R16,0xFF
    0205C 4F1F      SBCI	R17,0xFF
    0205D 940E 0F83 CALL	_EEPROM_write
(0045)     for(j=0;j<132;j++){
    0205F 2744      CLR	R20
    02060 2755      CLR	R21
    02061 C01F      RJMP	0x2081
(0046) 	   temps[t].temp_data[j]=0;
    02062 E00A      LDI	R16,0xA
    02063 E011      LDI	R17,1
    02064 019B      MOVW	R18,R22
    02065 940E 2189 CALL	empy16s
    02067 0118      MOVW	R2,R16
    02068 E189      LDI	R24,0x19
    02069 E091      LDI	R25,1
    0206A 0E28      ADD	R2,R24
    0206B 1E39      ADC	R3,R25
    0206C 01FA      MOVW	R30,R20
    0206D 0FEE      LSL	R30
    0206E 1FFF      ROL	R31
    0206F 0DE2      ADD	R30,R2
    02070 1DF3      ADC	R31,R3
    02071 2422      CLR	R2
    02072 2433      CLR	R3
    02073 8231      STD	Z+1,R3
    02074 8220      ST	Z,R2
(0047) 	   EEPROM_write(t+1,j+1,0);
    02075 8239      STD	Y+1,R3
    02076 8228      ST	Y,R2
    02077 019A      MOVW	R18,R20
    02078 5F2F      SUBI	R18,0xFF
    02079 4F3F      SBCI	R19,0xFF
    0207A 018B      MOVW	R16,R22
    0207B 5F0F      SUBI	R16,0xFF
    0207C 4F1F      SBCI	R17,0xFF
    0207D 940E 0F83 CALL	_EEPROM_write
    0207F 5F4F      SUBI	R20,0xFF
    02080 4F5F      SBCI	R21,0xFF
    02081 3844      CPI	R20,0x84
    02082 E0E0      LDI	R30,0
    02083 075E      CPC	R21,R30
    02084 F2E8      BCS	0x2062
    02085 9622      ADIW	R28,2
    02086 940C 21D3 JMP	pop_xgsetF000
_set_all_start:
  j                    --> R20
    02088 934A      ST	-Y,R20
    02089 935A      ST	-Y,R21
    0208A 9722      SBIW	R28,2
(0048) 	}
(0049) }
(0050) //温度全部开始工作。状态为停止和刚重置数据的可以开始
(0051) void set_all_start(void){
(0052)     uint j;
(0053) 	
(0054)     for(j=0;j<4;j++){
    0208B 2744      CLR	R20
    0208C 2755      CLR	R21
    0208D C02E      RJMP	0x20BC
(0055) 	   if(temps[j].flag==3 || temps[j].flag==6){
    0208E E00A      LDI	R16,0xA
    0208F E011      LDI	R17,1
    02090 019A      MOVW	R18,R20
    02091 940E 2189 CALL	empy16s
    02093 E187      LDI	R24,0x17
    02094 E091      LDI	R25,1
    02095 01F8      MOVW	R30,R16
    02096 0FE8      ADD	R30,R24
    02097 1FF9      ADC	R31,R25
    02098 8020      LD	R2,Z
    02099 8031      LDD	R3,Z+1
    0209A 01C1      MOVW	R24,R2
    0209B 3083      CPI	R24,3
    0209C E0E0      LDI	R30,0
    0209D 079E      CPC	R25,R30
    0209E F021      BEQ	0x20A3
    0209F 3086      CPI	R24,6
    020A0 E0E0      LDI	R30,0
    020A1 079E      CPC	R25,R30
    020A2 F4B9      BNE	0x20BA
(0056) 	     temps[j].flag=5;
    020A3 E00A      LDI	R16,0xA
    020A4 E011      LDI	R17,1
    020A5 019A      MOVW	R18,R20
    020A6 940E 2189 CALL	empy16s
    020A8 E187      LDI	R24,0x17
    020A9 E091      LDI	R25,1
    020AA 01F8      MOVW	R30,R16
    020AB 0FE8      ADD	R30,R24
    020AC 1FF9      ADC	R31,R25
    020AD E085      LDI	R24,5
    020AE E090      LDI	R25,0
    020AF 8391      STD	Z+1,R25
    020B0 8380      ST	Z,R24
(0057) 		 EEPROM_write(j+1,133,5);
    020B1 8399      STD	Y+1,R25
    020B2 8388      ST	Y,R24
    020B3 E825      LDI	R18,0x85
    020B4 E030      LDI	R19,0
    020B5 018A      MOVW	R16,R20
    020B6 5F0F      SUBI	R16,0xFF
    020B7 4F1F      SBCI	R17,0xFF
    020B8 940E 0F83 CALL	_EEPROM_write
    020BA 5F4F      SUBI	R20,0xFF
    020BB 4F5F      SBCI	R21,0xFF
    020BC 3044      CPI	R20,4
    020BD E0E0      LDI	R30,0
    020BE 075E      CPC	R21,R30
    020BF F270      BCS	0x208E
    020C0 9622      ADIW	R28,2
    020C1 9159      LD	R21,Y+
    020C2 9149      LD	R20,Y+
    020C3 9508      RET
_set_all_stop:
  j                    --> R20
    020C4 934A      ST	-Y,R20
    020C5 935A      ST	-Y,R21
    020C6 9722      SBIW	R28,2
(0058) 	   }
(0059) 	}
(0060) }
(0061) //温度全部暂停.要运行的才会暂停
(0062) void set_all_stop(void){
(0063)     uint j;
(0064) 	
(0065)     for(j=0;j<4;j++){
    020C7 2744      CLR	R20
    020C8 2755      CLR	R21
    020C9 C02E      RJMP	0x20F8
(0066) 	  if(temps[j].flag==1 || temps[j].flag==5){
    020CA E00A      LDI	R16,0xA
    020CB E011      LDI	R17,1
    020CC 019A      MOVW	R18,R20
    020CD 940E 2189 CALL	empy16s
    020CF E187      LDI	R24,0x17
    020D0 E091      LDI	R25,1
    020D1 01F8      MOVW	R30,R16
    020D2 0FE8      ADD	R30,R24
    020D3 1FF9      ADC	R31,R25
    020D4 8020      LD	R2,Z
    020D5 8031      LDD	R3,Z+1
    020D6 01C1      MOVW	R24,R2
    020D7 3081      CPI	R24,1
    020D8 E0E0      LDI	R30,0
    020D9 079E      CPC	R25,R30
    020DA F021      BEQ	0x20DF
    020DB 3085      CPI	R24,5
    020DC E0E0      LDI	R30,0
    020DD 079E      CPC	R25,R30
    020DE F4B9      BNE	0x20F6
(0067) 	     temps[j].flag=3;
    020DF E00A      LDI	R16,0xA
    020E0 E011      LDI	R17,1
    020E1 019A      MOVW	R18,R20
    020E2 940E 2189 CALL	empy16s
    020E4 E187      LDI	R24,0x17
    020E5 E091      LDI	R25,1
    020E6 01F8      MOVW	R30,R16
    020E7 0FE8      ADD	R30,R24
    020E8 1FF9      ADC	R31,R25
    020E9 E083      LDI	R24,3
    020EA E090      LDI	R25,0
    020EB 8391      STD	Z+1,R25
    020EC 8380      ST	Z,R24
(0068) 		  EEPROM_write(j+1,133,3);
    020ED 8399      STD	Y+1,R25
    020EE 8388      ST	Y,R24
    020EF E825      LDI	R18,0x85
    020F0 E030      LDI	R19,0
    020F1 018A      MOVW	R16,R20
    020F2 5F0F      SUBI	R16,0xFF
    020F3 4F1F      SBCI	R17,0xFF
    020F4 940E 0F83 CALL	_EEPROM_write
    020F6 5F4F      SUBI	R20,0xFF
    020F7 4F5F      SBCI	R21,0xFF
    020F8 3044      CPI	R20,4
    020F9 E0E0      LDI	R30,0
    020FA 075E      CPC	R21,R30
    020FB F270      BCS	0x20CA
    020FC 9622      ADIW	R28,2
    020FD 9159      LD	R21,Y+
    020FE 9149      LD	R20,Y+
    020FF 9508      RET
_set_start:
  t                    --> R20
    02100 934A      ST	-Y,R20
    02101 935A      ST	-Y,R21
    02102 01A8      MOVW	R20,R16
    02103 9722      SBIW	R28,2
(0069) 	   }
(0070) 	}
(0071) }
(0072) //指定温度开始
(0073) void set_start(uint t){
(0074)  if(temps[t].flag==3 || temps[t].flag==6){
    02104 E00A      LDI	R16,0xA
    02105 E011      LDI	R17,1
    02106 019A      MOVW	R18,R20
    02107 940E 2189 CALL	empy16s
    02109 E187      LDI	R24,0x17
    0210A E091      LDI	R25,1
    0210B 01F8      MOVW	R30,R16
    0210C 0FE8      ADD	R30,R24
    0210D 1FF9      ADC	R31,R25
    0210E 8020      LD	R2,Z
    0210F 8031      LDD	R3,Z+1
    02110 01C1      MOVW	R24,R2
    02111 3083      CPI	R24,3
    02112 E0E0      LDI	R30,0
    02113 079E      CPC	R25,R30
    02114 F021      BEQ	0x2119
    02115 3086      CPI	R24,6
    02116 E0E0      LDI	R30,0
    02117 079E      CPC	R25,R30
    02118 F4B9      BNE	0x2130
(0075) 	     temps[t].flag=5;
    02119 E00A      LDI	R16,0xA
    0211A E011      LDI	R17,1
    0211B 019A      MOVW	R18,R20
    0211C 940E 2189 CALL	empy16s
    0211E E187      LDI	R24,0x17
    0211F E091      LDI	R25,1
    02120 01F8      MOVW	R30,R16
    02121 0FE8      ADD	R30,R24
    02122 1FF9      ADC	R31,R25
    02123 E085      LDI	R24,5
    02124 E090      LDI	R25,0
    02125 8391      STD	Z+1,R25
    02126 8380      ST	Z,R24
(0076) 		  EEPROM_write(t+1,133,5);
    02127 8399      STD	Y+1,R25
    02128 8388      ST	Y,R24
    02129 E825      LDI	R18,0x85
    0212A E030      LDI	R19,0
    0212B 018A      MOVW	R16,R20
    0212C 5F0F      SUBI	R16,0xFF
    0212D 4F1F      SBCI	R17,0xFF
    0212E 940E 0F83 CALL	_EEPROM_write
(0077) 	}
    02130 9622      ADIW	R28,2
    02131 9159      LD	R21,Y+
    02132 9149      LD	R20,Y+
    02133 9508      RET
_set_stop:
  t                    --> R20
    02134 934A      ST	-Y,R20
    02135 935A      ST	-Y,R21
    02136 01A8      MOVW	R20,R16
    02137 9722      SBIW	R28,2
(0078) }
(0079) //指定温度暂停
(0080) void set_stop(uint t){
(0081)  if(temps[t].flag==1 || temps[t].flag==5){
    02138 E00A      LDI	R16,0xA
    02139 E011      LDI	R17,1
    0213A 019A      MOVW	R18,R20
    0213B 940E 2189 CALL	empy16s
    0213D E187      LDI	R24,0x17
    0213E E091      LDI	R25,1
    0213F 01F8      MOVW	R30,R16
    02140 0FE8      ADD	R30,R24
    02141 1FF9      ADC	R31,R25
    02142 8020      LD	R2,Z
    02143 8031      LDD	R3,Z+1
    02144 01C1      MOVW	R24,R2
    02145 3081      CPI	R24,1
    02146 E0E0      LDI	R30,0
    02147 079E      CPC	R25,R30
    02148 F021      BEQ	0x214D
    02149 3085      CPI	R24,5
    0214A E0E0      LDI	R30,0
    0214B 079E      CPC	R25,R30
    0214C F4B9      BNE	0x2164
(0082) 	     temps[t].flag=3;
    0214D E00A      LDI	R16,0xA
    0214E E011      LDI	R17,1
    0214F 019A      MOVW	R18,R20
    02150 940E 2189 CALL	empy16s
    02152 E187      LDI	R24,0x17
    02153 E091      LDI	R25,1
    02154 01F8      MOVW	R30,R16
    02155 0FE8      ADD	R30,R24
    02156 1FF9      ADC	R31,R25
    02157 E083      LDI	R24,3
    02158 E090      LDI	R25,0
    02159 8391      STD	Z+1,R25
    0215A 8380      ST	Z,R24
(0083) 		 EEPROM_write(t+1,133,3);
    0215B 8399      STD	Y+1,R25
    0215C 8388      ST	Y,R24
    0215D E825      LDI	R18,0x85
    0215E E030      LDI	R19,0
    0215F 018A      MOVW	R16,R20
    02160 5F0F      SUBI	R16,0xFF
    02161 4F1F      SBCI	R17,0xFF
    02162 940E 0F83 CALL	_EEPROM_write
(0084) 	   }
FILE: <library>
    02164 9622      ADIW	R28,2
    02165 9159      LD	R21,Y+
    02166 9149      LD	R20,Y+
    02167 9508      RET
push_arg4:
    02168 933A      ST	-Y,R19
    02169 932A      ST	-Y,R18
push_arg2:
    0216A 931A      ST	-Y,R17
    0216B 930A      ST	-Y,R16
    0216C 9508      RET
mod16u:
    0216D 9468      BSET	6
    0216E C001      RJMP	xdiv16u
div16u:
    0216F 94E8      BCLR	6
xdiv16u:
    02170 92EA      ST	-Y,R14
    02171 92FA      ST	-Y,R15
    02172 938A      ST	-Y,R24
    02173 24EE      CLR	R14
    02174 24FF      CLR	R15
    02175 E180      LDI	R24,0x10
    02176 0F00      LSL	R16
    02177 1F11      ROL	R17
    02178 1CEE      ROL	R14
    02179 1CFF      ROL	R15
    0217A 16E2      CP	R14,R18
    0217B 06F3      CPC	R15,R19
    0217C F018      BCS	0x2180
    0217D 1AE2      SUB	R14,R18
    0217E 0AF3      SBC	R15,R19
    0217F 9503      INC	R16
    02180 958A      DEC	R24
    02181 F7A1      BNE	0x2176
    02182 F416      BRTC	0x2185
    02183 2D0E      MOV	R16,R14
    02184 2D1F      MOV	R17,R15
    02185 9189      LD	R24,Y+
    02186 90F9      LD	R15,Y+
    02187 90E9      LD	R14,Y+
    02188 9508      RET
empy16s:
    02189 920A      ST	-Y,R0
    0218A 921A      ST	-Y,R1
    0218B 938A      ST	-Y,R24
    0218C 939A      ST	-Y,R25
    0218D 9F02      MUL	R16,R18
    0218E 01C0      MOVW	R24,R0
    0218F 9F12      MUL	R17,R18
    02190 0D90      ADD	R25,R0
    02191 9F03      MUL	R16,R19
    02192 0D90      ADD	R25,R0
    02193 018C      MOVW	R16,R24
    02194 9199      LD	R25,Y+
    02195 9189      LD	R24,Y+
    02196 9019      LD	R1,Y+
    02197 9009      LD	R0,Y+
    02198 9508      RET
pop_xgset003C:
    02199 90A9      LD	R10,Y+
    0219A 90B9      LD	R11,Y+
    0219B 90C9      LD	R12,Y+
    0219C 90D9      LD	R13,Y+
    0219D 9508      RET
pop_xgset00FC:
    0219E 90A9      LD	R10,Y+
    0219F 90B9      LD	R11,Y+
    021A0 90C9      LD	R12,Y+
    021A1 90D9      LD	R13,Y+
    021A2 90E9      LD	R14,Y+
    021A3 90F9      LD	R15,Y+
    021A4 9508      RET
pop_xgset30FC:
    021A5 90A9      LD	R10,Y+
    021A6 90B9      LD	R11,Y+
    021A7 90C9      LD	R12,Y+
    021A8 90D9      LD	R13,Y+
    021A9 90E9      LD	R14,Y+
    021AA 90F9      LD	R15,Y+
    021AB 9149      LD	R20,Y+
    021AC 9159      LD	R21,Y+
    021AD 9508      RET
pop_xgsetF0FC:
    021AE 90A9      LD	R10,Y+
    021AF 90B9      LD	R11,Y+
    021B0 90C9      LD	R12,Y+
    021B1 90D9      LD	R13,Y+
    021B2 90E9      LD	R14,Y+
    021B3 90F9      LD	R15,Y+
    021B4 9149      LD	R20,Y+
    021B5 9159      LD	R21,Y+
    021B6 9169      LD	R22,Y+
    021B7 9179      LD	R23,Y+
    021B8 9508      RET
push_xgsetF0FC:
    021B9 937A      ST	-Y,R23
    021BA 936A      ST	-Y,R22
push_xgset30FC:
    021BB 935A      ST	-Y,R21
    021BC 934A      ST	-Y,R20
push_xgset00FC:
    021BD 92FA      ST	-Y,R15
    021BE 92EA      ST	-Y,R14
push_xgset003C:
    021BF 92DA      ST	-Y,R13
    021C0 92CA      ST	-Y,R12
    021C1 92BA      ST	-Y,R11
    021C2 92AA      ST	-Y,R10
    021C3 9508      RET
push_xgset300C:
    021C4 935A      ST	-Y,R21
    021C5 934A      ST	-Y,R20
    021C6 92BA      ST	-Y,R11
    021C7 92AA      ST	-Y,R10
    021C8 9508      RET
pop_xgset300C:
    021C9 90A9      LD	R10,Y+
    021CA 90B9      LD	R11,Y+
    021CB 9149      LD	R20,Y+
    021CC 9159      LD	R21,Y+
    021CD 9508      RET
push_xgsetF000:
    021CE 937A      ST	-Y,R23
    021CF 936A      ST	-Y,R22
    021D0 935A      ST	-Y,R21
    021D1 934A      ST	-Y,R20
    021D2 9508      RET
pop_xgsetF000:
    021D3 9149      LD	R20,Y+
    021D4 9159      LD	R21,Y+
    021D5 9169      LD	R22,Y+
    021D6 9179      LD	R23,Y+
    021D7 9508      RET
push_xgsetF00C:
    021D8 937A      ST	-Y,R23
    021D9 936A      ST	-Y,R22
    021DA 935A      ST	-Y,R21
    021DB 934A      ST	-Y,R20
    021DC 92BA      ST	-Y,R11
    021DD 92AA      ST	-Y,R10
    021DE 9508      RET
pop_xgsetF00C:
    021DF 90A9      LD	R10,Y+
    021E0 90B9      LD	R11,Y+
    021E1 9149      LD	R20,Y+
    021E2 9159      LD	R21,Y+
    021E3 9169      LD	R22,Y+
    021E4 9179      LD	R23,Y+
    021E5 9508      RET
push_xgset303C:
    021E6 935A      ST	-Y,R21
    021E7 934A      ST	-Y,R20
    021E8 92DA      ST	-Y,R13
    021E9 92CA      ST	-Y,R12
    021EA 92BA      ST	-Y,R11
    021EB 92AA      ST	-Y,R10
    021EC 9508      RET
pop_xgset303C:
    021ED 90A9      LD	R10,Y+
    021EE 90B9      LD	R11,Y+
    021EF 90C9      LD	R12,Y+
    021F0 90D9      LD	R13,Y+
    021F1 9149      LD	R20,Y+
    021F2 9159      LD	R21,Y+
    021F3 9508      RET
push_xgsetF03C:
    021F4 937A      ST	-Y,R23
    021F5 936A      ST	-Y,R22
    021F6 935A      ST	-Y,R21
    021F7 934A      ST	-Y,R20
    021F8 92DA      ST	-Y,R13
    021F9 92CA      ST	-Y,R12
    021FA 92BA      ST	-Y,R11
    021FB 92AA      ST	-Y,R10
    021FC 9508      RET
pop_xgsetF03C:
    021FD 90A9      LD	R10,Y+
    021FE 90B9      LD	R11,Y+
    021FF 90C9      LD	R12,Y+
    02200 90D9      LD	R13,Y+
    02201 9149      LD	R20,Y+
    02202 9159      LD	R21,Y+
    02203 9169      LD	R22,Y+
    02204 9179      LD	R23,Y+
    02205 9508      RET
lsl16:
    02206 2322      TST	R18
    02207 F021      BEQ	0x220C
    02208 0F00      LSL	R16
    02209 1F11      ROL	R17
    0220A 952A      DEC	R18
    0220B CFFA      RJMP	lsl16
    0220C 9508      RET
lsl8:
    0220D 2311      TST	R17
    0220E F019      BEQ	0x2212
    0220F 0F00      LSL	R16
    02210 951A      DEC	R17
    02211 CFFB      RJMP	lsl8
    02212 9508      RET
asgnblk:
    02213 93AA      ST	-Y,R26
    02214 93BA      ST	-Y,R27
    02215 93EA      ST	-Y,R30
    02216 93FA      ST	-Y,R31
    02217 920A      ST	-Y,R0
    02218 81AF      LDD	R26,Y+7
    02219 85B8      LDD	R27,Y+8
    0221A 81ED      LDD	R30,Y+5
    0221B 81FE      LDD	R31,Y+6
    0221C 3000      CPI	R16,0
    0221D 0701      CPC	R16,R17
    0221E F029      BEQ	0x2224
    0221F 9001      LD	R0,Z+
    02220 920D      ST	X+,R0
    02221 5001      SUBI	R16,1
    02222 4010      SBCI	R17,0
    02223 CFF8      RJMP	0x221C
    02224 9009      LD	R0,Y+
    02225 91F9      LD	R31,Y+
    02226 91E9      LD	R30,Y+
    02227 91B9      LD	R27,Y+
    02228 91A9      LD	R26,Y+
    02229 9624      ADIW	R28,4
    0222A 9508      RET
