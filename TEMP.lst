Interrupt Vectors
    00000 940C 041B JMP	__text_start|__start
    00006 940C 2394 JMP	_int_int2
    00014 940C 0AC2 JMP	_int_timer2
    0001C 940C 0A89 JMP	_int_timer1
    00020 940C 0A30 JMP	_int_timer0
    0003A 940C 0B0F JMP	_int_timer3

Program Code (text area)
__text_start|__start:
    0041B EFCF      LDI	R28,0xFF
    0041C E1D0      LDI	R29,0x10
    0041D BFCD      OUT	0x3D,R28
    0041E BFDE      OUT	0x3E,R29
    0041F 51CE      SUBI	R28,0x1E
    00420 40D0      SBCI	R29,0
    00421 EA0A      LDI	R16,0xAA
    00422 8308      ST	Y,R16
    00423 2400      CLR	R0
    00424 E9E9      LDI	R30,0x99
    00425 E0F8      LDI	R31,0x8
    00426 E01D      LDI	R17,0xD
    00427 36E5      CPI	R30,0x65
    00428 07F1      CPC	R31,R17
    00429 F011      BEQ	0x042C
    0042A 9201      ST	Z+,R0
    0042B CFFB      RJMP	0x0427
    0042C 8300      ST	Z,R16
    0042D E9EC      LDI	R30,0x9C
    0042E E0F0      LDI	R31,0
    0042F E0A0      LDI	R26,0
    00430 E0B1      LDI	R27,1
    00431 E018      LDI	R17,0x8
    00432 E000      LDI	R16,0
    00433 BF0B      OUT	0x3B,R16
    00434 33E5      CPI	R30,0x35
    00435 07F1      CPC	R31,R17
    00436 F021      BEQ	0x043B
    00437 95C8      LPM
    00438 9631      ADIW	R30,1
    00439 920D      ST	X+,R0
    0043A CFF9      RJMP	0x0434
    0043B 940E 09B1 CALL	_main
_exit:
    0043D CFFF      RJMP	_exit
FILE: E:\ICCDemo\Temp_Control\temp_control\delay.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) 
(0004) 
(0005) void delay_us(uint n)//延时us
(0006) {
(0007)   n=2*n;
_delay_us:
  n                    --> R16
    0043E 0F00      LSL	R16
    0043F 1F11      ROL	R17
(0008)   do{ n--;
    00440 5001      SUBI	R16,1
    00441 4010      SBCI	R17,0
(0009)   }while(n>1);
    00442 E081      LDI	R24,1
    00443 E090      LDI	R25,0
    00444 1780      CP	R24,R16
    00445 0791      CPC	R25,R17
    00446 F3C8      BCS	0x0440
    00447 9508      RET
_delay_ms:
  j                    --> R20
    00448 934A      ST	-Y,R20
    00449 935A      ST	-Y,R21
    0044A 01A8      MOVW	R20,R16
(0010) }
(0011) void delay_ms(uint j)//延时ms
(0012) {
(0013)    do{j--;
    0044B 5041      SUBI	R20,1
    0044C 4050      SBCI	R21,0
(0014)      delay_us(1141);
    0044D E705      LDI	R16,0x75
    0044E E014      LDI	R17,4
    0044F DFEE      RCALL	_delay_us
(0015)    }while(j>1);
    00450 E081      LDI	R24,1
    00451 E090      LDI	R25,0
    00452 1784      CP	R24,R20
    00453 0795      CPC	R25,R21
    00454 F3B0      BCS	0x044B
    00455 9159      LD	R21,Y+
    00456 9149      LD	R20,Y+
    00457 9508      RET
_delay_s:
  i                    --> R20
    00458 934A      ST	-Y,R20
    00459 935A      ST	-Y,R21
    0045A 01A8      MOVW	R20,R16
(0016) }
(0017) void delay_s(uint i)
(0018) {
(0019)    do{
(0020)    i--;
    0045B 5041      SUBI	R20,1
    0045C 4050      SBCI	R21,0
(0021)    delay_ms(1000);
    0045D EE08      LDI	R16,0xE8
    0045E E013      LDI	R17,3
    0045F DFE8      RCALL	_delay_ms
(0022)    }while(i>1);
    00460 E081      LDI	R24,1
    00461 E090      LDI	R25,0
    00462 1784      CP	R24,R20
    00463 0795      CPC	R25,R21
    00464 F3B0      BCS	0x045B
    00465 9159      LD	R21,Y+
    00466 9149      LD	R20,Y+
    00467 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\key.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) #include "lcd.h"
(0004) uchar key_value='n';
(0005) void KeyInit(void){
_KeyInit:
    00468 9508      RET
_KeyScan:
    00469 934A      ST	-Y,R20
    0046A 935A      ST	-Y,R21
(0006) }
(0007) uchar KeyScan(void){
(0008)   //初始化端口
(0009)    DDRC=0xE0;
    0046B EE80      LDI	R24,0xE0
    0046C BB84      OUT	0x14,R24
(0010)    DDRG|=0x10;
    0046D 9180 0064 LDS	R24,0x64
    0046F 6180      ORI	R24,0x10
    00470 9380 0064 STS	0x64,R24
(0011)    
(0012)    //第一次扫描
(0013)    PORTC=0xDF;
    00472 ED8F      LDI	R24,0xDF
    00473 BB85      OUT	0x15,R24
(0014)    PORTG|=0x10;
    00474 9180 0065 LDS	R24,0x65
    00476 6180      ORI	R24,0x10
    00477 9380 0065 STS	0x65,R24
(0015)    delay_us(1);
    00479 E001      LDI	R16,1
    0047A E010      LDI	R17,0
    0047B 940E 043E CALL	_delay_us
(0016)    switch(PINC)
    0047D B343      IN	R20,0x13
    0047E 2755      CLR	R21
    0047F 3C4F      CPI	R20,0xCF
    00480 E0E0      LDI	R30,0
    00481 075E      CPC	R21,R30
    00482 F0E9      BEQ	0x04A0
    00483 3C4F      CPI	R20,0xCF
    00484 E0E0      LDI	R30,0
    00485 075E      CPC	R21,R30
    00486 F0DC      BLT	0x04A2
    00487 3D47      CPI	R20,0xD7
    00488 E0E0      LDI	R30,0
    00489 075E      CPC	R21,R30
    0048A F099      BEQ	0x049E
    0048B 3D4B      CPI	R20,0xDB
    0048C E0E0      LDI	R30,0
    0048D 075E      CPC	R21,R30
    0048E F069      BEQ	0x049C
    0048F 3D4D      CPI	R20,0xDD
    00490 E0E0      LDI	R30,0
    00491 075E      CPC	R21,R30
    00492 F039      BEQ	0x049A
    00493 3D4E      CPI	R20,0xDE
    00494 E0E0      LDI	R30,0
    00495 075E      CPC	R21,R30
    00496 F009      BEQ	0x0498
    00497 C00A      RJMP	0x04A2
(0017)    {
(0018)    		case 0xDE:return  'e';//'esc';
    00498 E605      LDI	R16,0x65
    00499 C099      RJMP	0x0533
(0019) 		case 0xdd:return  'a';//'alm';
    0049A E601      LDI	R16,0x61
    0049B C097      RJMP	0x0533
(0020) 		case 0xdb:return  'd';//'down';  
    0049C E604      LDI	R16,0x64
    0049D C095      RJMP	0x0533
(0021) 		case 0xd7:return  'u';//'up';
    0049E E705      LDI	R16,0x75
    0049F C093      RJMP	0x0533
(0022) 		case 0xcf:return  'l';//'left';
    004A0 E60C      LDI	R16,0x6C
    004A1 C091      RJMP	0x0533
(0023) 		default:break;	   
(0024)    } 
(0025)     //第二次扫描
(0026)    PORTC=0xBF;
    004A2 EB8F      LDI	R24,0xBF
    004A3 BB85      OUT	0x15,R24
(0027)    PORTG|=0x10;
    004A4 9180 0065 LDS	R24,0x65
    004A6 6180      ORI	R24,0x10
    004A7 9380 0065 STS	0x65,R24
(0028)    delay_us(1);
    004A9 E001      LDI	R16,1
    004AA E010      LDI	R17,0
    004AB 940E 043E CALL	_delay_us
(0029)    switch(PINC)
    004AD B343      IN	R20,0x13
    004AE 2755      CLR	R21
    004AF 3A4F      CPI	R20,0xAF
    004B0 E0E0      LDI	R30,0
    004B1 075E      CPC	R21,R30
    004B2 F0E9      BEQ	0x04D0
    004B3 3A4F      CPI	R20,0xAF
    004B4 E0E0      LDI	R30,0
    004B5 075E      CPC	R21,R30
    004B6 F0DC      BLT	0x04D2
    004B7 3B47      CPI	R20,0xB7
    004B8 E0E0      LDI	R30,0
    004B9 075E      CPC	R21,R30
    004BA F099      BEQ	0x04CE
    004BB 3B4B      CPI	R20,0xBB
    004BC E0E0      LDI	R30,0
    004BD 075E      CPC	R21,R30
    004BE F069      BEQ	0x04CC
    004BF 3B4D      CPI	R20,0xBD
    004C0 E0E0      LDI	R30,0
    004C1 075E      CPC	R21,R30
    004C2 F039      BEQ	0x04CA
    004C3 3B4E      CPI	R20,0xBE
    004C4 E0E0      LDI	R30,0
    004C5 075E      CPC	R21,R30
    004C6 F009      BEQ	0x04C8
    004C7 C00A      RJMP	0x04D2
(0030)    {
(0031)    		case 0xbE:return 's';//'set';
    004C8 E703      LDI	R16,0x73
    004C9 C069      RJMP	0x0533
(0032) 		case 0xbd:return 'r';//'right';
    004CA E702      LDI	R16,0x72
    004CB C067      RJMP	0x0533
(0033) 		case 0xbb:return 't';//'ent';  
    004CC E704      LDI	R16,0x74
    004CD C065      RJMP	0x0533
(0034) 		case 0xb7:return 'c';//'clr';
    004CE E603      LDI	R16,0x63
    004CF C063      RJMP	0x0533
(0035) 		case 0xaf:return '+';//'+/-';
    004D0 E20B      LDI	R16,0x2B
    004D1 C061      RJMP	0x0533
(0036) 		default:break;	   
(0037)    } 
(0038)     //第三次扫描
(0039)    PORTC=0x7F;
    004D2 E78F      LDI	R24,0x7F
    004D3 BB85      OUT	0x15,R24
(0040)    PORTG|=0x10;
    004D4 9180 0065 LDS	R24,0x65
    004D6 6180      ORI	R24,0x10
    004D7 9380 0065 STS	0x65,R24
(0041)    delay_us(1);
    004D9 E001      LDI	R16,1
    004DA E010      LDI	R17,0
    004DB 940E 043E CALL	_delay_us
(0042)    switch(PINC)
    004DD B343      IN	R20,0x13
    004DE 2755      CLR	R21
    004DF 364F      CPI	R20,0x6F
    004E0 E0E0      LDI	R30,0
    004E1 075E      CPC	R21,R30
    004E2 F0E9      BEQ	0x0500
    004E3 364F      CPI	R20,0x6F
    004E4 E0E0      LDI	R30,0
    004E5 075E      CPC	R21,R30
    004E6 F0DC      BLT	0x0502
    004E7 3747      CPI	R20,0x77
    004E8 E0E0      LDI	R30,0
    004E9 075E      CPC	R21,R30
    004EA F099      BEQ	0x04FE
    004EB 374B      CPI	R20,0x7B
    004EC E0E0      LDI	R30,0
    004ED 075E      CPC	R21,R30
    004EE F069      BEQ	0x04FC
    004EF 374D      CPI	R20,0x7D
    004F0 E0E0      LDI	R30,0
    004F1 075E      CPC	R21,R30
    004F2 F039      BEQ	0x04FA
    004F3 374E      CPI	R20,0x7E
    004F4 E0E0      LDI	R30,0
    004F5 075E      CPC	R21,R30
    004F6 F009      BEQ	0x04F8
    004F7 C00A      RJMP	0x0502
(0043)    {
(0044)    		case 0x7E:return '0';
    004F8 E300      LDI	R16,0x30
    004F9 C039      RJMP	0x0533
(0045) 		case 0x7d:return '3';
    004FA E303      LDI	R16,0x33
    004FB C037      RJMP	0x0533
(0046) 		case 0x7b:return '2';  
    004FC E302      LDI	R16,0x32
    004FD C035      RJMP	0x0533
(0047) 		case 0x77:return '1';
    004FE E301      LDI	R16,0x31
    004FF C033      RJMP	0x0533
(0048) 		case 0x6f:return '6';
    00500 E306      LDI	R16,0x36
    00501 C031      RJMP	0x0533
(0049) 		default:break;	   
(0050)    } 
(0051)       //第四次扫描
(0052)    PORTC=0xFF;
    00502 EF8F      LDI	R24,0xFF
    00503 BB85      OUT	0x15,R24
(0053)    PORTG&=0x0F;
    00504 9180 0065 LDS	R24,0x65
    00506 708F      ANDI	R24,0xF
    00507 9380 0065 STS	0x65,R24
(0054)    delay_us(1);
    00509 E001      LDI	R16,1
    0050A E010      LDI	R17,0
    0050B 940E 043E CALL	_delay_us
(0055)    switch(PINC)
    0050D B343      IN	R20,0x13
    0050E 2755      CLR	R21
    0050F 3E4F      CPI	R20,0xEF
    00510 E0E0      LDI	R30,0
    00511 075E      CPC	R21,R30
    00512 F0E9      BEQ	0x0530
    00513 3E4F      CPI	R20,0xEF
    00514 E0E0      LDI	R30,0
    00515 075E      CPC	R21,R30
    00516 F0DC      BLT	0x0532
    00517 3F47      CPI	R20,0xF7
    00518 E0E0      LDI	R30,0
    00519 075E      CPC	R21,R30
    0051A F099      BEQ	0x052E
    0051B 3F4B      CPI	R20,0xFB
    0051C E0E0      LDI	R30,0
    0051D 075E      CPC	R21,R30
    0051E F069      BEQ	0x052C
    0051F 3F4D      CPI	R20,0xFD
    00520 E0E0      LDI	R30,0
    00521 075E      CPC	R21,R30
    00522 F039      BEQ	0x052A
    00523 3F4E      CPI	R20,0xFE
    00524 E0E0      LDI	R30,0
    00525 075E      CPC	R21,R30
    00526 F009      BEQ	0x0528
    00527 C00A      RJMP	0x0532
(0056)    {
(0057)    		case 0xFE:return '7';
    00528 E307      LDI	R16,0x37
    00529 C009      RJMP	0x0533
(0058) 		case 0xFd:return '8';
    0052A E308      LDI	R16,0x38
    0052B C007      RJMP	0x0533
(0059) 		case 0xFb:return '9';  
    0052C E309      LDI	R16,0x39
    0052D C005      RJMP	0x0533
(0060) 		case 0xF7:return '4';
    0052E E304      LDI	R16,0x34
    0052F C003      RJMP	0x0533
(0061) 		case 0xEf:return '5';
    00530 E305      LDI	R16,0x35
    00531 C001      RJMP	0x0533
(0062) 		default:break;	   
(0063)    }
(0064)  return 'n';
    00532 E60E      LDI	R16,0x6E
    00533 9159      LD	R21,Y+
    00534 9149      LD	R20,Y+
    00535 9508      RET
_KeyScan_once:
  keyValue2            --> R10
  keyValue             --> R20
    00536 92AA      ST	-Y,R10
    00537 934A      ST	-Y,R20
(0065)    
(0066) }
(0067) //********************************
(0068) //		加上延时抖动的读取，一次读取一个
(0069) //********************************
(0070) uchar KeyScan_once(void){
(0071) 	  uchar keyValue,keyValue2;
(0072) 	  keyValue=KeyScan();
    00538 DF30      RCALL	_KeyScan
    00539 2F40      MOV	R20,R16
(0073) 	  delay_ms(2);
    0053A E002      LDI	R16,2
    0053B E010      LDI	R17,0
    0053C 940E 0448 CALL	_delay_ms
(0074) 	  keyValue2=KeyScan();
    0053E DF2A      RCALL	_KeyScan
    0053F 2EA0      MOV	R10,R16
(0075) 	 if(keyValue==keyValue2 && keyValue!='n'){//两次扫描，消除抖动
    00540 1740      CP	R20,R16
    00541 F461      BNE	0x054E
    00542 364E      CPI	R20,0x6E
    00543 F051      BEQ	0x054E
(0076) 	 	if(key_value==keyValue){//如果还是上一次保存的值则代表一直按着，返回‘n’
    00544 9020 0100 LDS	R2,key_value
    00546 1624      CP	R2,R20
    00547 F411      BNE	0x054A
(0077) 		    return 'n';  
    00548 E60E      LDI	R16,0x6E
    00549 C008      RJMP	0x0552
(0078) 	    }else{                  //松开后第一次按下，返回该键的值
(0079) 		 key_value=keyValue;
    0054A 9340 0100 STS	key_value,R20
(0080) 		  return keyValue;
    0054C 2F04      MOV	R16,R20
    0054D C004      RJMP	0x0552
(0081) 		}
(0082) 	 }else{                     //因为读取键盘的值会多次刷新，所以在松开按键时key_value重置
(0083) 	   key_value='n';
    0054E E68E      LDI	R24,0x6E
    0054F 9380 0100 STS	key_value,R24
(0084) 	   return 'n';
    00551 E60E      LDI	R16,0x6E
    00552 9149      LD	R20,Y+
    00553 90A9      LD	R10,Y+
    00554 9508      RET
_lcd_bz_1:
  result               --> R20
    00555 934A      ST	-Y,R20
    00556 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\lcd.c
(0001) #include<iom128v.h>
(0002) #include "lcd.h"
(0003) #include "delay.h" 
(0004) #define rs_l PORTG&=~(1<<PG1)
(0005) #define rs_h PORTG|=1<<PG1
(0006) #define rw_l PORTG&=~(1<<PG0)
(0007) #define rw_h PORTG|=1<<PG0
(0008) #define ep1_l PORTG&=~(1<<PG3)
(0009) #define ep1_h PORTG|=1<<PG3
(0010) #define ep2_l PORTF&=~(1<<PF0)
(0011) #define ep2_h PORTF|=1<<PF0
(0012) //***********************************
(0013) //上半屏幕
(0014) //**********************************
(0015) /*
(0016)  读忙程序。命令后，读入BF
(0017) */
(0018) uint lcd_bz_1(void){
(0019) 	uint result;
(0020) 	DDRA=0x00;
    00557 2422      CLR	R2
    00558 BA2A      OUT	0x1A,R2
(0021) 	rs_l;
    00559 9180 0065 LDS	R24,0x65
    0055B 7F8D      ANDI	R24,0xFD
    0055C 9380 0065 STS	0x65,R24
(0022) 	rw_h;
    0055E 9180 0065 LDS	R24,0x65
    00560 6081      ORI	R24,1
    00561 9380 0065 STS	0x65,R24
(0023) 	ep1_h;
    00563 9180 0065 LDS	R24,0x65
    00565 6088      ORI	R24,0x8
    00566 9380 0065 STS	0x65,R24
(0024) 	delay_us(1);
    00568 E001      LDI	R16,1
    00569 E010      LDI	R17,0
    0056A 940E 043E CALL	_delay_us
(0025) 	result=PINA&(1<<PINA7);
    0056C B349      IN	R20,0x19
    0056D 2755      CLR	R21
    0056E 7840      ANDI	R20,0x80
    0056F 7050      ANDI	R21,0
(0026) 	DDRA=0xFF;
    00570 EF8F      LDI	R24,0xFF
    00571 BB8A      OUT	0x1A,R24
(0027) 	ep1_l;
    00572 9180 0065 LDS	R24,0x65
    00574 7F87      ANDI	R24,0xF7
    00575 9380 0065 STS	0x65,R24
(0028) 	return result;
    00577 018A      MOVW	R16,R20
    00578 9159      LD	R21,Y+
    00579 9149      LD	R20,Y+
    0057A 9508      RET
_lcd_wcmd_1:
  cmd                  --> R10
    0057B 92AA      ST	-Y,R10
    0057C 2EA0      MOV	R10,R16
(0029) }
(0030) void lcd_wcmd_1(uchar cmd){
(0031) 	 while(lcd_bz_1());
    0057D DFD7      RCALL	_lcd_bz_1
    0057E 3000      CPI	R16,0
    0057F 0701      CPC	R16,R17
    00580 F7E1      BNE	0x057D
(0032) 	 rs_l;
    00581 9180 0065 LDS	R24,0x65
    00583 7F8D      ANDI	R24,0xFD
    00584 9380 0065 STS	0x65,R24
(0033) 	 rw_l;
    00586 9180 0065 LDS	R24,0x65
    00588 7F8E      ANDI	R24,0xFE
    00589 9380 0065 STS	0x65,R24
(0034) 	 ep1_l;
    0058B 9180 0065 LDS	R24,0x65
    0058D 7F87      ANDI	R24,0xF7
    0058E 9380 0065 STS	0x65,R24
(0035) 	 PORTA=cmd;
    00590 BAAB      OUT	0x1B,R10
(0036) 	 ep1_h;
    00591 9180 0065 LDS	R24,0x65
    00593 6088      ORI	R24,0x8
    00594 9380 0065 STS	0x65,R24
(0037) 	 delay_us(1);
    00596 E001      LDI	R16,1
    00597 E010      LDI	R17,0
    00598 940E 043E CALL	_delay_us
(0038) 	 ep1_l;
    0059A 9180 0065 LDS	R24,0x65
    0059C 7F87      ANDI	R24,0xF7
    0059D 9380 0065 STS	0x65,R24
(0039) 	 return;
    0059F 90A9      LD	R10,Y+
    005A0 9508      RET
_lcd_wdat_1:
  dat                  --> R10
    005A1 92AA      ST	-Y,R10
    005A2 2EA0      MOV	R10,R16
(0040) }
(0041) /*
(0042) 写输出数据,char
(0043) */
(0044) void lcd_wdat_1(uchar dat){
(0045) 	 while(lcd_bz_1());
    005A3 DFB1      RCALL	_lcd_bz_1
    005A4 3000      CPI	R16,0
    005A5 0701      CPC	R16,R17
    005A6 F7E1      BNE	0x05A3
(0046) 	 rs_h;
    005A7 9180 0065 LDS	R24,0x65
    005A9 6082      ORI	R24,2
    005AA 9380 0065 STS	0x65,R24
(0047) 	 rw_l;
    005AC 9180 0065 LDS	R24,0x65
    005AE 7F8E      ANDI	R24,0xFE
    005AF 9380 0065 STS	0x65,R24
(0048) 	 ep1_l;
    005B1 9180 0065 LDS	R24,0x65
    005B3 7F87      ANDI	R24,0xF7
    005B4 9380 0065 STS	0x65,R24
(0049) 	 PORTA=dat;
    005B6 BAAB      OUT	0x1B,R10
(0050) 	 ep1_h;
    005B7 9180 0065 LDS	R24,0x65
    005B9 6088      ORI	R24,0x8
    005BA 9380 0065 STS	0x65,R24
(0051) 	 delay_us(1);
    005BC E001      LDI	R16,1
    005BD E010      LDI	R17,0
    005BE 940E 043E CALL	_delay_us
(0052) 	 ep1_l;
    005C0 9180 0065 LDS	R24,0x65
    005C2 7F87      ANDI	R24,0xF7
    005C3 9380 0065 STS	0x65,R24
    005C5 90A9      LD	R10,Y+
    005C6 9508      RET
(0053) }
(0054) 
(0055) /*清显示*/
(0056) void lcd_clear_1(void) 
(0057) {
(0058) 	lcd_wcmd_1(0x01);
_lcd_clear_1:
    005C7 E001      LDI	R16,1
    005C8 DFB2      RCALL	_lcd_wcmd_1
(0059) 	delay_ms(1);
    005C9 E001      LDI	R16,1
    005CA E010      LDI	R17,0
    005CB 940C 0448 JMP	_delay_ms
_lcd_bz_2:
  result               --> R20
    005CD 934A      ST	-Y,R20
    005CE 935A      ST	-Y,R21
(0060) }
(0061) //***********************************
(0062) //    下半屏幕
(0063) //***********************************
(0064) uint lcd_bz_2(void){
(0065) 	uint result;
(0066) 	DDRA=0x00;
    005CF 2422      CLR	R2
    005D0 BA2A      OUT	0x1A,R2
(0067) 	rs_l;
    005D1 9180 0065 LDS	R24,0x65
    005D3 7F8D      ANDI	R24,0xFD
    005D4 9380 0065 STS	0x65,R24
(0068) 	rw_h;
    005D6 9180 0065 LDS	R24,0x65
    005D8 6081      ORI	R24,1
    005D9 9380 0065 STS	0x65,R24
(0069) 	ep2_h;
    005DB 9180 0062 LDS	R24,0x62
    005DD 6081      ORI	R24,1
    005DE 9380 0062 STS	0x62,R24
(0070) 	delay_us(1);
    005E0 E001      LDI	R16,1
    005E1 E010      LDI	R17,0
    005E2 940E 043E CALL	_delay_us
(0071) 	result=PINA&(1<<PINA7);
    005E4 B349      IN	R20,0x19
    005E5 2755      CLR	R21
    005E6 7840      ANDI	R20,0x80
    005E7 7050      ANDI	R21,0
(0072) 	DDRA=0xFF;
    005E8 EF8F      LDI	R24,0xFF
    005E9 BB8A      OUT	0x1A,R24
(0073) 	ep2_l;
    005EA 9180 0062 LDS	R24,0x62
    005EC 7F8E      ANDI	R24,0xFE
    005ED 9380 0062 STS	0x62,R24
(0074) 	return result;
    005EF 018A      MOVW	R16,R20
    005F0 9159      LD	R21,Y+
    005F1 9149      LD	R20,Y+
    005F2 9508      RET
_lcd_wcmd_2:
  cmd                  --> R10
    005F3 92AA      ST	-Y,R10
    005F4 2EA0      MOV	R10,R16
(0075) }
(0076) void lcd_wcmd_2(uchar cmd){
(0077) 	 while(lcd_bz_2());
    005F5 DFD7      RCALL	_lcd_bz_2
    005F6 3000      CPI	R16,0
    005F7 0701      CPC	R16,R17
    005F8 F7E1      BNE	0x05F5
(0078) 	 rs_l;
    005F9 9180 0065 LDS	R24,0x65
    005FB 7F8D      ANDI	R24,0xFD
    005FC 9380 0065 STS	0x65,R24
(0079) 	 rw_l;
    005FE 9180 0065 LDS	R24,0x65
    00600 7F8E      ANDI	R24,0xFE
    00601 9380 0065 STS	0x65,R24
(0080) 	 ep2_l;
    00603 9180 0062 LDS	R24,0x62
    00605 7F8E      ANDI	R24,0xFE
    00606 9380 0062 STS	0x62,R24
(0081) 	 PORTA=cmd;
    00608 BAAB      OUT	0x1B,R10
(0082) 	 ep2_h;
    00609 9180 0062 LDS	R24,0x62
    0060B 6081      ORI	R24,1
    0060C 9380 0062 STS	0x62,R24
(0083) 	delay_us(1);
    0060E E001      LDI	R16,1
    0060F E010      LDI	R17,0
    00610 940E 043E CALL	_delay_us
(0084) 	 ep2_l;
    00612 9180 0062 LDS	R24,0x62
    00614 7F8E      ANDI	R24,0xFE
    00615 9380 0062 STS	0x62,R24
    00617 90A9      LD	R10,Y+
    00618 9508      RET
_lcd_wdat_2:
  dat                  --> R10
    00619 92AA      ST	-Y,R10
    0061A 2EA0      MOV	R10,R16
(0085) }
(0086) //  写输出数据,char
(0087) void lcd_wdat_2(uchar dat){
(0088) 	 while(lcd_bz_2());
    0061B DFB1      RCALL	_lcd_bz_2
    0061C 3000      CPI	R16,0
    0061D 0701      CPC	R16,R17
    0061E F7E1      BNE	0x061B
(0089) 	 rs_h;
    0061F 9180 0065 LDS	R24,0x65
    00621 6082      ORI	R24,2
    00622 9380 0065 STS	0x65,R24
(0090) 	 rw_l;
    00624 9180 0065 LDS	R24,0x65
    00626 7F8E      ANDI	R24,0xFE
    00627 9380 0065 STS	0x65,R24
(0091) 	 ep2_l;
    00629 9180 0062 LDS	R24,0x62
    0062B 7F8E      ANDI	R24,0xFE
    0062C 9380 0062 STS	0x62,R24
(0092) 	 PORTA=dat;
    0062E BAAB      OUT	0x1B,R10
(0093) 	 ep2_h;
    0062F 9180 0062 LDS	R24,0x62
    00631 6081      ORI	R24,1
    00632 9380 0062 STS	0x62,R24
(0094) 	delay_us(1);
    00634 E001      LDI	R16,1
    00635 E010      LDI	R17,0
    00636 940E 043E CALL	_delay_us
(0095) 	 ep2_l;
    00638 9180 0062 LDS	R24,0x62
    0063A 7F8E      ANDI	R24,0xFE
    0063B 9380 0062 STS	0x62,R24
    0063D 90A9      LD	R10,Y+
    0063E 9508      RET
(0096) }
(0097) /*清显示*/
(0098) void lcd_clear_2(void) 
(0099) {
(0100) 	lcd_wcmd_2(0x01);
_lcd_clear_2:
    0063F E001      LDI	R16,1
    00640 CFB2      RJMP	_lcd_wcmd_2
_lcd_write_char_con:
  data                 --> R10
  y                    --> R20
    00641 92AA      ST	-Y,R10
    00642 934A      ST	-Y,R20
    00643 2EA2      MOV	R10,R18
    00644 2F40      MOV	R20,R16
(0101) }
(0102) 
(0103) //*************************************************
(0104) //					写字符
(0105) //***************************************************
(0106) /*
(0107)   附带y。调用 lcd_wdat（）方法。传入时转换为char。直接连续写入使用
(0108) */
(0109) void lcd_write_char_con(unsigned char y,unsigned char data) 
(0110) {
(0111) 	
(0112)     if (y == 0 || y==1) 
    00645 2344      TST	R20
    00646 F011      BEQ	0x0649
    00647 3041      CPI	R20,1
    00648 F419      BNE	0x064C
(0113)     {
(0114)     	
(0115) 		 lcd_wdat_1( data);
    00649 2D0A      MOV	R16,R10
    0064A DF56      RCALL	_lcd_wdat_1
(0116)     }else  if(y==2 || y==3 )
    0064B C006      RJMP	0x0652
    0064C 3042      CPI	R20,2
    0064D F011      BEQ	0x0650
    0064E 3043      CPI	R20,3
    0064F F411      BNE	0x0652
(0117)     {
(0118)     	
(0119) 		 lcd_wdat_2( data);
    00650 2D0A      MOV	R16,R10
    00651 DFC7      RCALL	_lcd_wdat_2
(0120)     }
(0121)    return; 
    00652 9149      LD	R20,Y+
    00653 90A9      LD	R10,Y+
    00654 9508      RET
_lcd_write_pos:
  y                    --> R22
  x                    --> R20
    00655 934A      ST	-Y,R20
    00656 936A      ST	-Y,R22
    00657 2F62      MOV	R22,R18
    00658 2F40      MOV	R20,R16
(0122) }
(0123) /*
(0124)   附带x,y。写光标位置
(0125) */
(0126) void lcd_write_pos(unsigned char x,unsigned char y) 
(0127) {
(0128) 	
(0129)     if (y == 0) 
    00659 2366      TST	R22
    0065A F421      BNE	0x065F
(0130)     {
(0131)     	lcd_wcmd_1(0x80 + x);
    0065B 2F04      MOV	R16,R20
    0065C 5800      SUBI	R16,0x80
    0065D DF1D      RCALL	_lcd_wcmd_1
(0132)     }
    0065E C011      RJMP	0x0670
(0133)     else  if(y==1)
    0065F 3061      CPI	R22,1
    00660 F421      BNE	0x0665
(0134)     {
(0135)     	lcd_wcmd_1(0x90 + x);
    00661 2F04      MOV	R16,R20
    00662 5700      SUBI	R16,0x70
    00663 DF17      RCALL	_lcd_wcmd_1
(0136)     }else  if(y==2)
    00664 C00B      RJMP	0x0670
    00665 3062      CPI	R22,2
    00666 F421      BNE	0x066B
(0137)     {
(0138)     	lcd_wcmd_2(0x80 + x);
    00667 2F04      MOV	R16,R20
    00668 5800      SUBI	R16,0x80
    00669 DF89      RCALL	_lcd_wcmd_2
(0139)     }else  if(y==3)
    0066A C005      RJMP	0x0670
    0066B 3063      CPI	R22,3
    0066C F419      BNE	0x0670
(0140)     {
(0141)     	lcd_wcmd_2(0x90 + x);
    0066D 2F04      MOV	R16,R20
    0066E 5700      SUBI	R16,0x70
    0066F DF83      RCALL	_lcd_wcmd_2
(0142)     }
(0143)    return; 
    00670 9169      LD	R22,Y+
    00671 9149      LD	R20,Y+
    00672 9508      RET
_lcd_write_char:
  data                 --> R10
  y                    --> R22
  x                    --> R20
    00673 940E 2D19 CALL	push_xgsetF00C
    00675 2F62      MOV	R22,R18
    00676 2F40      MOV	R20,R16
    00677 80AE      LDD	R10,Y+6
(0144) }
(0145) /*
(0146)   附带x,y。调用 lcd_wdat（）方法。传入时转换为char
(0147) */
(0148) void lcd_write_char(unsigned char x,unsigned char y,unsigned char data) 
(0149) {
(0150) 	
(0151)     if (y == 0) 
    00678 2366      TST	R22
    00679 F431      BNE	0x0680
(0152)     {
(0153)     	lcd_wcmd_1(0x80 + x);
    0067A 2F04      MOV	R16,R20
    0067B 5800      SUBI	R16,0x80
    0067C DEFE      RCALL	_lcd_wcmd_1
(0154) 		 lcd_wdat_1( data);
    0067D 2D0A      MOV	R16,R10
    0067E DF22      RCALL	_lcd_wdat_1
(0155)     }
    0067F C017      RJMP	0x0697
(0156)     else  if(y==1)
    00680 3061      CPI	R22,1
    00681 F431      BNE	0x0688
(0157)     {
(0158)     	lcd_wcmd_1(0x90 + x);
    00682 2F04      MOV	R16,R20
    00683 5700      SUBI	R16,0x70
    00684 DEF6      RCALL	_lcd_wcmd_1
(0159) 		 lcd_wdat_1( data);
    00685 2D0A      MOV	R16,R10
    00686 DF1A      RCALL	_lcd_wdat_1
(0160)     }else  if(y==2)
    00687 C00F      RJMP	0x0697
    00688 3062      CPI	R22,2
    00689 F431      BNE	0x0690
(0161)     {
(0162)     	lcd_wcmd_2(0x80 + x);
    0068A 2F04      MOV	R16,R20
    0068B 5800      SUBI	R16,0x80
    0068C DF66      RCALL	_lcd_wcmd_2
(0163) 		 lcd_wdat_2( data);
    0068D 2D0A      MOV	R16,R10
    0068E DF8A      RCALL	_lcd_wdat_2
(0164)     }else  if(y==3)
    0068F C007      RJMP	0x0697
    00690 3063      CPI	R22,3
    00691 F429      BNE	0x0697
(0165)     {
(0166)     	lcd_wcmd_2(0x90 + x);
    00692 2F04      MOV	R16,R20
    00693 5700      SUBI	R16,0x70
    00694 DF5E      RCALL	_lcd_wcmd_2
(0167) 		 lcd_wdat_2( data);
    00695 2D0A      MOV	R16,R10
    00696 DF82      RCALL	_lcd_wdat_2
(0168)     }
(0169)    return; 
    00697 940C 2D20 JMP	pop_xgsetF00C
_lcd_write_str:
  s                    --> R20
  y                    --> R10
  x                    --> R22
    00699 940E 2D19 CALL	push_xgsetF00C
    0069B 2EA2      MOV	R10,R18
    0069C 2F60      MOV	R22,R16
    0069D 814E      LDD	R20,Y+6
    0069E 815F      LDD	R21,Y+7
(0170) }
(0171) /*
(0172)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0173) */
(0174) void lcd_write_str(unsigned char x,unsigned char y,unsigned char *s) 
(0175) {
(0176) 	
(0177)     if (y == 0) 
    0069F 20AA      TST	R10
    006A0 F471      BNE	0x06AF
(0178)     {
(0179)     	lcd_wcmd_1(0x80 + x);
    006A1 2F06      MOV	R16,R22
    006A2 5800      SUBI	R16,0x80
    006A3 DED7      RCALL	_lcd_wcmd_1
    006A4 C005      RJMP	0x06AA
(0180) 		 while (*s) 
(0181)        {
(0182)     	lcd_wdat_1( *s);
    006A5 01FA      MOVW	R30,R20
    006A6 8100      LD	R16,Z
    006A7 DEF9      RCALL	_lcd_wdat_1
(0183)     	s ++;
    006A8 5F4F      SUBI	R20,0xFF
    006A9 4F5F      SBCI	R21,0xFF
    006AA 01FA      MOVW	R30,R20
    006AB 8020      LD	R2,Z
    006AC 2022      TST	R2
    006AD F7B9      BNE	0x06A5
(0184)         }
(0185)     }
    006AE C032      RJMP	0x06E1
(0186)     else  if(y==1)
    006AF 2D8A      MOV	R24,R10
    006B0 3081      CPI	R24,1
    006B1 F471      BNE	0x06C0
(0187)     {
(0188)     	lcd_wcmd_1(0x90 + x);
    006B2 2F06      MOV	R16,R22
    006B3 5700      SUBI	R16,0x70
    006B4 DEC6      RCALL	_lcd_wcmd_1
    006B5 C005      RJMP	0x06BB
(0189) 		 while (*s) 
(0190)         {
(0191)     	lcd_wdat_1( *s);
    006B6 01FA      MOVW	R30,R20
    006B7 8100      LD	R16,Z
    006B8 DEE8      RCALL	_lcd_wdat_1
(0192)     	s ++;
    006B9 5F4F      SUBI	R20,0xFF
    006BA 4F5F      SBCI	R21,0xFF
    006BB 01FA      MOVW	R30,R20
    006BC 8020      LD	R2,Z
    006BD 2022      TST	R2
    006BE F7B9      BNE	0x06B6
(0193)        }
(0194)     }else  if(y==2)
    006BF C021      RJMP	0x06E1
    006C0 2D8A      MOV	R24,R10
    006C1 3082      CPI	R24,2
    006C2 F471      BNE	0x06D1
(0195)     {
(0196)     	lcd_wcmd_2(0x80 + x);
    006C3 2F06      MOV	R16,R22
    006C4 5800      SUBI	R16,0x80
    006C5 DF2D      RCALL	_lcd_wcmd_2
    006C6 C005      RJMP	0x06CC
(0197) 		  while (*s) 
(0198)        {
(0199)     	lcd_wdat_2( *s);
    006C7 01FA      MOVW	R30,R20
    006C8 8100      LD	R16,Z
    006C9 DF4F      RCALL	_lcd_wdat_2
(0200)     	s ++;
    006CA 5F4F      SUBI	R20,0xFF
    006CB 4F5F      SBCI	R21,0xFF
    006CC 01FA      MOVW	R30,R20
    006CD 8020      LD	R2,Z
    006CE 2022      TST	R2
    006CF F7B9      BNE	0x06C7
(0201)        }
(0202)     }else  if(y==3)
    006D0 C010      RJMP	0x06E1
    006D1 2D8A      MOV	R24,R10
    006D2 3083      CPI	R24,3
    006D3 F469      BNE	0x06E1
(0203)     {
(0204)     	lcd_wcmd_2(0x90 + x);
    006D4 2F06      MOV	R16,R22
    006D5 5700      SUBI	R16,0x70
    006D6 DF1C      RCALL	_lcd_wcmd_2
    006D7 C005      RJMP	0x06DD
(0205) 		  while (*s) 
(0206)        {
(0207)     	lcd_wdat_2( *s);
    006D8 01FA      MOVW	R30,R20
    006D9 8100      LD	R16,Z
    006DA DF3E      RCALL	_lcd_wdat_2
(0208)     	s ++;
    006DB 5F4F      SUBI	R20,0xFF
    006DC 4F5F      SBCI	R21,0xFF
    006DD 01FA      MOVW	R30,R20
    006DE 8020      LD	R2,Z
    006DF 2022      TST	R2
    006E0 F7B9      BNE	0x06D8
(0209)        }
(0210)     }
    006E1 940C 2D20 JMP	pop_xgsetF00C
_lcd_write_str_con:
  s                    --> R20
  y                    --> R22
    006E3 940E 2D0F CALL	push_xgsetF000
    006E5 01A9      MOVW	R20,R18
    006E6 2F60      MOV	R22,R16
(0211)    
(0212) }
(0213) /*
(0214)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0215) */
(0216) void lcd_write_str_con(unsigned char y,unsigned char *s) 
(0217) {
(0218) 	
(0219)     if (y == 0 || y==1) 
    006E7 2366      TST	R22
    006E8 F011      BEQ	0x06EB
    006E9 3061      CPI	R22,1
    006EA F459      BNE	0x06F6
(0220)     {
    006EB C005      RJMP	0x06F1
(0221)     	
(0222) 		 while (*s) 
(0223)        {
(0224)     	lcd_wdat_1( *s);
    006EC 01FA      MOVW	R30,R20
    006ED 8100      LD	R16,Z
    006EE DEB2      RCALL	_lcd_wdat_1
(0225)     	s ++;
    006EF 5F4F      SUBI	R20,0xFF
    006F0 4F5F      SBCI	R21,0xFF
    006F1 01FA      MOVW	R30,R20
    006F2 8020      LD	R2,Z
    006F3 2022      TST	R2
    006F4 F7B9      BNE	0x06EC
(0226)         }
(0227)     }
    006F5 C00E      RJMP	0x0704
(0228)     else  if(y==2 || y==3)
    006F6 3062      CPI	R22,2
    006F7 F011      BEQ	0x06FA
    006F8 3063      CPI	R22,3
    006F9 F451      BNE	0x0704
(0229)     {
    006FA C005      RJMP	0x0700
(0230)     	
(0231) 		  while (*s) 
(0232)        {
(0233)     	lcd_wdat_2( *s);
    006FB 01FA      MOVW	R30,R20
    006FC 8100      LD	R16,Z
    006FD DF1B      RCALL	_lcd_wdat_2
(0234)     	s ++;
    006FE 5F4F      SUBI	R20,0xFF
    006FF 4F5F      SBCI	R21,0xFF
    00700 01FA      MOVW	R30,R20
    00701 8020      LD	R2,Z
    00702 2022      TST	R2
    00703 F7B9      BNE	0x06FB
(0235)        }
(0236)     }
    00704 940C 2D14 JMP	pop_xgsetF000
_read_ac_1:
  result               --> R20
    00706 934A      ST	-Y,R20
    00707 935A      ST	-Y,R21
(0237)    
(0238) }
(0239) //****************************
(0240) //  读出数据,.不知道有没有用，先放在这
(0241) //****************************
(0242) /**
(0243)  读程序。命令后，读AC地址
(0244) */
(0245) uchar read_ac_1(void){
(0246) 	uint result;
(0247) 	DDRA=0x00;
    00708 2422      CLR	R2
    00709 BA2A      OUT	0x1A,R2
(0248) 	rs_l;
    0070A 9180 0065 LDS	R24,0x65
    0070C 7F8D      ANDI	R24,0xFD
    0070D 9380 0065 STS	0x65,R24
(0249) 	rw_h;
    0070F 9180 0065 LDS	R24,0x65
    00711 6081      ORI	R24,1
    00712 9380 0065 STS	0x65,R24
(0250) 	ep1_h;
    00714 9180 0065 LDS	R24,0x65
    00716 6088      ORI	R24,0x8
    00717 9380 0065 STS	0x65,R24
(0251) 	delay_ms(1);
    00719 E001      LDI	R16,1
    0071A E010      LDI	R17,0
    0071B 940E 0448 CALL	_delay_ms
(0252) 	result=PINA&(~(1<<PINA7));
    0071D B349      IN	R20,0x19
    0071E 2755      CLR	R21
    0071F 774F      ANDI	R20,0x7F
(0253) 	DDRA=0xFF;
    00720 EF8F      LDI	R24,0xFF
    00721 BB8A      OUT	0x1A,R24
(0254) 	ep1_l;
    00722 9180 0065 LDS	R24,0x65
    00724 7F87      ANDI	R24,0xF7
    00725 9380 0065 STS	0x65,R24
(0255) 	return result;
    00727 2F04      MOV	R16,R20
    00728 9159      LD	R21,Y+
    00729 9149      LD	R20,Y+
    0072A 9508      RET
_read_ac_2:
  result               --> R20
    0072B 934A      ST	-Y,R20
    0072C 935A      ST	-Y,R21
(0256) }
(0257) uchar read_ac_2(void){
(0258) 	uint result;
(0259) 	DDRA=0x00;
    0072D 2422      CLR	R2
    0072E BA2A      OUT	0x1A,R2
(0260) 	rs_l;
    0072F 9180 0065 LDS	R24,0x65
    00731 7F8D      ANDI	R24,0xFD
    00732 9380 0065 STS	0x65,R24
(0261) 	rw_h;
    00734 9180 0065 LDS	R24,0x65
    00736 6081      ORI	R24,1
    00737 9380 0065 STS	0x65,R24
(0262) 	ep2_h;
    00739 9180 0062 LDS	R24,0x62
    0073B 6081      ORI	R24,1
    0073C 9380 0062 STS	0x62,R24
(0263) 	delay_ms(1);
    0073E E001      LDI	R16,1
    0073F E010      LDI	R17,0
    00740 940E 0448 CALL	_delay_ms
(0264) 	result=PINA&(~(1<<PINA7));
    00742 B349      IN	R20,0x19
    00743 2755      CLR	R21
    00744 774F      ANDI	R20,0x7F
(0265) 	DDRA=0xFF;
    00745 EF8F      LDI	R24,0xFF
    00746 BB8A      OUT	0x1A,R24
(0266) 	ep2_l;
    00747 9180 0062 LDS	R24,0x62
    00749 7F8E      ANDI	R24,0xFE
    0074A 9380 0062 STS	0x62,R24
(0267) 	return result;
    0074C 2F04      MOV	R16,R20
    0074D 9159      LD	R21,Y+
    0074E 9149      LD	R20,Y+
    0074F 9508      RET
(0268) }
(0269) 
(0270) void lcd_clear(void){
(0271)    lcd_clear_1();
_lcd_clear:
    00750 DE76      RCALL	_lcd_clear_1
(0272)     lcd_clear_2();
    00751 CEED      RJMP	_lcd_clear_2
_date_cmd_1:
  result               --> R10
    00752 92AA      ST	-Y,R10
    00753 92BA      ST	-Y,R11
(0273) }
(0274) /*
(0275)  读数据程序。命令后，读入。使用read_data函数会是设定的值，再吃调用本函数会使ac
(0276)  移动一次，8读取位的数据
(0277) */
(0278) uchar date_cmd_1(void){
(0279) 	uint result;
(0280) 	DDRA=0x00;
    00754 2422      CLR	R2
    00755 BA2A      OUT	0x1A,R2
(0281) 	rs_h;
    00756 9180 0065 LDS	R24,0x65
    00758 6082      ORI	R24,2
    00759 9380 0065 STS	0x65,R24
(0282) 	rw_h;
    0075B 9180 0065 LDS	R24,0x65
    0075D 6081      ORI	R24,1
    0075E 9380 0065 STS	0x65,R24
(0283) 	ep1_h;
    00760 9180 0065 LDS	R24,0x65
    00762 6088      ORI	R24,0x8
    00763 9380 0065 STS	0x65,R24
(0284) 	delay_ms(1);
    00765 E001      LDI	R16,1
    00766 E010      LDI	R17,0
    00767 940E 0448 CALL	_delay_ms
(0285) 	result=PINA;
    00769 B2A9      IN	R10,0x19
    0076A 24BB      CLR	R11
(0286) 	DDRA=0xFF;
    0076B EF8F      LDI	R24,0xFF
    0076C BB8A      OUT	0x1A,R24
(0287) 	ep1_l;
    0076D 9180 0065 LDS	R24,0x65
    0076F 7F87      ANDI	R24,0xF7
    00770 9380 0065 STS	0x65,R24
(0288) 	return result;
    00772 2D0A      MOV	R16,R10
    00773 90B9      LD	R11,Y+
    00774 90A9      LD	R10,Y+
    00775 9508      RET
_date_cmd_2:
  result               --> R10
    00776 92AA      ST	-Y,R10
    00777 92BA      ST	-Y,R11
(0289) }
(0290) uchar date_cmd_2(void){
(0291) 	uint result;
(0292) 	DDRA=0x00;
    00778 2422      CLR	R2
    00779 BA2A      OUT	0x1A,R2
(0293) 	rs_h;
    0077A 9180 0065 LDS	R24,0x65
    0077C 6082      ORI	R24,2
    0077D 9380 0065 STS	0x65,R24
(0294) 	rw_h;
    0077F 9180 0065 LDS	R24,0x65
    00781 6081      ORI	R24,1
    00782 9380 0065 STS	0x65,R24
(0295) 	ep2_h;
    00784 9180 0062 LDS	R24,0x62
    00786 6081      ORI	R24,1
    00787 9380 0062 STS	0x62,R24
(0296) 	delay_ms(1);
    00789 E001      LDI	R16,1
    0078A E010      LDI	R17,0
    0078B 940E 0448 CALL	_delay_ms
(0297) 	result=PINA;
    0078D B2A9      IN	R10,0x19
    0078E 24BB      CLR	R11
(0298) 	DDRA=0xFF;
    0078F EF8F      LDI	R24,0xFF
    00790 BB8A      OUT	0x1A,R24
(0299) 	ep2_l;
    00791 9180 0062 LDS	R24,0x62
    00793 7F8E      ANDI	R24,0xFE
    00794 9380 0062 STS	0x62,R24
(0300) 	return result;
    00796 2D0A      MOV	R16,R10
    00797 90B9      LD	R11,Y+
    00798 90A9      LD	R10,Y+
    00799 9508      RET
_read_data_xy:
  y                    --> R22
  x                    --> R20
    0079A 940E 2D19 CALL	push_xgsetF00C
    0079C 2F62      MOV	R22,R18
    0079D 2F40      MOV	R20,R16
(0301) }
(0302) //**************************
(0303) //读取函数，注意会ac位置
(0304) //**************************
(0305) uchar read_data_xy(unsigned char x,unsigned char y){
(0306) 	if (y == 0) {
    0079E 2366      TST	R22
    0079F F449      BNE	0x07A9
(0307)     	lcd_wcmd_1(0x80 + x);
    007A0 2F04      MOV	R16,R20
    007A1 5800      SUBI	R16,0x80
    007A2 DDD8      RCALL	_lcd_wcmd_1
(0308) 		delay_us(10);
    007A3 E00A      LDI	R16,0xA
    007A4 E010      LDI	R17,0
    007A5 940E 043E CALL	_delay_us
(0309) 		return date_cmd_1();
    007A7 DFAA      RCALL	_date_cmd_1
    007A8 C024      RJMP	0x07CD
(0310) 		
(0311)     }else  if(y==1){
    007A9 3061      CPI	R22,1
    007AA F449      BNE	0x07B4
(0312)     	lcd_wcmd_1(0x90 + x);
    007AB 2F04      MOV	R16,R20
    007AC 5700      SUBI	R16,0x70
    007AD DDCD      RCALL	_lcd_wcmd_1
(0313) 		delay_us(10);
    007AE E00A      LDI	R16,0xA
    007AF E010      LDI	R17,0
    007B0 940E 043E CALL	_delay_us
(0314) 		return date_cmd_1();
    007B2 DF9F      RCALL	_date_cmd_1
    007B3 C019      RJMP	0x07CD
(0315)     }else  if(y==2){
    007B4 3062      CPI	R22,2
    007B5 F451      BNE	0x07C0
(0316)     	lcd_wcmd_2(0x80 + x);
    007B6 2F04      MOV	R16,R20
    007B7 5800      SUBI	R16,0x80
    007B8 DE3A      RCALL	_lcd_wcmd_2
(0317) 		delay_us(10);
    007B9 E00A      LDI	R16,0xA
    007BA E010      LDI	R17,0
    007BB 940E 043E CALL	_delay_us
(0318) 		return date_cmd_2();
    007BD DFB8      RCALL	_date_cmd_2
    007BE 2EA0      MOV	R10,R16
    007BF C00D      RJMP	0x07CD
(0319)     }else  if(y==3){
    007C0 3063      CPI	R22,3
    007C1 F451      BNE	0x07CC
(0320)     	lcd_wcmd_2(0x90 + x);
    007C2 2F04      MOV	R16,R20
    007C3 5700      SUBI	R16,0x70
    007C4 DE2E      RCALL	_lcd_wcmd_2
(0321) 		delay_us(10);
    007C5 E00A      LDI	R16,0xA
    007C6 E010      LDI	R17,0
    007C7 940E 043E CALL	_delay_us
(0322) 		return date_cmd_2();
    007C9 DFAC      RCALL	_date_cmd_2
    007CA 2EA0      MOV	R10,R16
    007CB C001      RJMP	0x07CD
(0323)     }
(0324) 	
(0325) 	return 0x00;
    007CC 2700      CLR	R16
    007CD 940C 2D20 JMP	pop_xgsetF00C
_read_data_1:
  addr                 --> R10
    007CF 92AA      ST	-Y,R10
    007D0 2EA0      MOV	R10,R16
(0326) }
(0327) uchar read_data_1(unsigned char addr){
(0328) 	
(0329)     	lcd_wcmd_1(addr);
    007D1 2D0A      MOV	R16,R10
    007D2 DDA8      RCALL	_lcd_wcmd_1
(0330)     	return date_cmd_1();
    007D3 DF7E      RCALL	_date_cmd_1
    007D4 90A9      LD	R10,Y+
    007D5 9508      RET
_read_data_2:
  addr                 --> R10
    007D6 92AA      ST	-Y,R10
    007D7 2EA0      MOV	R10,R16
(0331) }
(0332) uchar read_data_2(unsigned char addr){
(0333)     	lcd_wcmd_1(addr);
    007D8 2D0A      MOV	R16,R10
    007D9 DDA1      RCALL	_lcd_wcmd_1
(0334) 		return date_cmd_2();
    007DA DF9B      RCALL	_date_cmd_2
    007DB 90A9      LD	R10,Y+
    007DC 9508      RET
(0335) }
(0336) 
(0337) 
(0338) /*初始化功能*/
(0339) void lcd_init(void){
(0340) 	 //初始化端口功能
(0341) 	 DDRA |=0xFF;
_lcd_init:
    007DD B38A      IN	R24,0x1A
    007DE 6F8F      ORI	R24,0xFF
    007DF BB8A      OUT	0x1A,R24
(0342) 	 PORTA=0xFF;
    007E0 EF8F      LDI	R24,0xFF
    007E1 BB8B      OUT	0x1B,R24
(0343) 	 DDRG |=0x0F;
    007E2 9180 0064 LDS	R24,0x64
    007E4 608F      ORI	R24,0xF
    007E5 9380 0064 STS	0x64,R24
(0344) 	 PORTG|=0x0F;
    007E7 9180 0065 LDS	R24,0x65
    007E9 608F      ORI	R24,0xF
    007EA 9380 0065 STS	0x65,R24
(0345) 	 DDRF|=0x01;
    007EC 9180 0061 LDS	R24,0x61
    007EE 6081      ORI	R24,1
    007EF 9380 0061 STS	0x61,R24
(0346) 	 PORTF|=0x01;
    007F1 9180 0062 LDS	R24,0x62
    007F3 6081      ORI	R24,1
    007F4 9380 0062 STS	0x62,R24
(0347) 	 //lcd_wcmd(0x38);//初始化功能,8位，基本指令
(0348) 	 lcd_wcmd_1(0x30);//初始化功能,8位，基本指令
    007F6 E300      LDI	R16,0x30
    007F7 DD83      RCALL	_lcd_wcmd_1
(0349) 	  lcd_wcmd_1(0x08);//关显示
    007F8 E008      LDI	R16,0x8
    007F9 DD81      RCALL	_lcd_wcmd_1
(0350) 	  lcd_wcmd_1(0x01);//清显示
    007FA E001      LDI	R16,1
    007FB DD7F      RCALL	_lcd_wcmd_1
(0351) 	  lcd_wcmd_1(0x06);//输入模式，右移
    007FC E006      LDI	R16,6
    007FD DD7D      RCALL	_lcd_wcmd_1
(0352) 	  lcd_wcmd_1(0x0c);//初始化光标,开显示
    007FE E00C      LDI	R16,0xC
    007FF DD7B      RCALL	_lcd_wcmd_1
(0353) 	
(0354) 	  lcd_wcmd_2(0x30);//初始化功能,8位，基本指令
    00800 E300      LDI	R16,0x30
    00801 DDF1      RCALL	_lcd_wcmd_2
(0355) 	 lcd_wcmd_2(0x08);//关显示
    00802 E008      LDI	R16,0x8
    00803 DDEF      RCALL	_lcd_wcmd_2
(0356) 	 lcd_wcmd_2(0x01);//清显示
    00804 E001      LDI	R16,1
    00805 DDED      RCALL	_lcd_wcmd_2
(0357) 	 lcd_wcmd_2(0x06);//输入模式，右移
    00806 E006      LDI	R16,6
    00807 DDEB      RCALL	_lcd_wcmd_2
(0358) 	 lcd_wcmd_2(0x0c);//初始化光标,开显示
    00808 E00C      LDI	R16,0xC
    00809 CDE9      RJMP	_lcd_wcmd_2
_cur_set:
  type                 --> R20
    0080A 934A      ST	-Y,R20
    0080B 935A      ST	-Y,R21
    0080C 01A8      MOVW	R20,R16
(0359) }
(0360) //************
(0361) // 光标显示操作,默认初始化都是关闭。上半屏 0:关闭,1：开游标,2：游标反白,3：开游标、反白
(0362) // 下半屏  4:关闭,5：开游标,6：游标反白,7：开游标、反白
(0363) //************
(0364) void cur_set(uint type){
(0365) 	 if(type==0){
    0080D 3040      CPI	R20,0
    0080E 0745      CPC	R20,R21
    0080F F419      BNE	0x0813
(0366) 	 	lcd_wcmd_1(0x0c);	 
    00810 E00C      LDI	R16,0xC
    00811 DD69      RCALL	_lcd_wcmd_1
(0367) 	 }else if(type==1){
    00812 C030      RJMP	0x0843
    00813 3041      CPI	R20,1
    00814 E0E0      LDI	R30,0
    00815 075E      CPC	R21,R30
    00816 F419      BNE	0x081A
(0368) 	     lcd_wcmd_1(0x0e);
    00817 E00E      LDI	R16,0xE
    00818 DD62      RCALL	_lcd_wcmd_1
(0369) 	 }else if(type==2){
    00819 C029      RJMP	0x0843
    0081A 3042      CPI	R20,2
    0081B E0E0      LDI	R30,0
    0081C 075E      CPC	R21,R30
    0081D F419      BNE	0x0821
(0370) 	    lcd_wcmd_1(0x0d);
    0081E E00D      LDI	R16,0xD
    0081F DD5B      RCALL	_lcd_wcmd_1
(0371) 	 }else if(type==3){
    00820 C022      RJMP	0x0843
    00821 3043      CPI	R20,3
    00822 E0E0      LDI	R30,0
    00823 075E      CPC	R21,R30
    00824 F419      BNE	0x0828
(0372) 	    lcd_wcmd_1(0x0f);
    00825 E00F      LDI	R16,0xF
    00826 DD54      RCALL	_lcd_wcmd_1
(0373) 	 }else if(type==4){
    00827 C01B      RJMP	0x0843
    00828 3044      CPI	R20,4
    00829 E0E0      LDI	R30,0
    0082A 075E      CPC	R21,R30
    0082B F419      BNE	0x082F
(0374) 	    lcd_wcmd_2(0x0c);
    0082C E00C      LDI	R16,0xC
    0082D DDC5      RCALL	_lcd_wcmd_2
(0375) 	 }else if(type==5){
    0082E C014      RJMP	0x0843
    0082F 3045      CPI	R20,5
    00830 E0E0      LDI	R30,0
    00831 075E      CPC	R21,R30
    00832 F419      BNE	0x0836
(0376) 	    lcd_wcmd_2(0x0e);
    00833 E00E      LDI	R16,0xE
    00834 DDBE      RCALL	_lcd_wcmd_2
(0377) 	 }else if(type==6){
    00835 C00D      RJMP	0x0843
    00836 3046      CPI	R20,6
    00837 E0E0      LDI	R30,0
    00838 075E      CPC	R21,R30
    00839 F419      BNE	0x083D
(0378) 	    lcd_wcmd_2(0x0d);
    0083A E00D      LDI	R16,0xD
    0083B DDB7      RCALL	_lcd_wcmd_2
(0379) 	 }else if(type==7){
    0083C C006      RJMP	0x0843
    0083D 3047      CPI	R20,7
    0083E E0E0      LDI	R30,0
    0083F 075E      CPC	R21,R30
    00840 F411      BNE	0x0843
(0380) 	    lcd_wcmd_2(0x0f);
    00841 E00F      LDI	R16,0xF
    00842 DDB0      RCALL	_lcd_wcmd_2
(0381) 	 }
    00843 9159      LD	R21,Y+
    00844 9149      LD	R20,Y+
    00845 9508      RET
(0382) }
(0383) //***************************************************
(0384) //   反白相关
(0385) //***************************************************
(0386) /********************************************************************  
(0387)     函 数 名：Set_Draw(  
(0388)     入口参数：无  
(0389)     出口参数：无  
(0390)     修改日期：  
(0391)     函数作用：  
(0392)     说    明：  
(0393)     ********************************************************************/   
(0394)     void Set_Draw(void)   
(0395)     {   
(0396)         //W_1byte(0,0,0x01);            //清屏    
(0397)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0398)         lcd_wcmd_1(0x36); 
_Set_Draw:
    00846 E306      LDI	R16,0x36
    00847 DD33      RCALL	_lcd_wcmd_1
(0399) 		lcd_wcmd_2(0x36);   
    00848 E306      LDI	R16,0x36
    00849 CDA9      RJMP	_lcd_wcmd_2
(0400)     }
(0401) 	void Set_UNDraw(void)   
(0402)     {   
(0403)         //W_1byte(0,0,0x01);            //清屏   
(0404)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0405)         lcd_wcmd_1(0x30); 
_Set_UNDraw:
    0084A E300      LDI	R16,0x30
    0084B DD2F      RCALL	_lcd_wcmd_1
(0406) 		lcd_wcmd_2(0x30);   
    0084C E300      LDI	R16,0x30
    0084D CDA5      RJMP	_lcd_wcmd_2
_Set_White_off:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    0084E 940E 2C79 CALL	push_arg4
    00850 940E 2CFA CALL	push_xgsetF0FC
    00852 2F62      MOV	R22,R18
    00853 9721      SBIW	R28,1
    00854 84AF      LDD	R10,Y+15
(0407)     }
(0408) /**************************************************  
(0409)     uchar x,起始位置
(0410) 	uchar y,对应y
(0411) 	uchar end_x, 反白结束位置
(0412) 	uchar clear 0：反白，1：不反白
(0413)  **************************************************/   
(0414)     void Set_White_off(uchar x,uchar y,uchar end_x)   
(0415)     {   
(0416)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0417)         white_end_x = (end_x-x+1);   
    00855 2D8A      MOV	R24,R10
    00856 840B      LDD	R0,Y+11
    00857 1980      SUB	R24,R0
    00858 5F8F      SUBI	R24,0xFF
    00859 2EC8      MOV	R12,R24
(0418)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    0085A 0CCC      LSL	R12
(0419) 		Set_Draw(); //开画图
    0085B DFEA      RCALL	_Set_Draw
(0420)         if(y==0)   
    0085C 2366      TST	R22
    0085D F449      BNE	0x0867
(0421)         {   
(0422)             white_x = (0x80+x-1);   
    0085E 858B      LDD	R24,Y+11
    0085F 5880      SUBI	R24,0x80
    00860 5081      SUBI	R24,1
    00861 8388      ST	Y,R24
(0423)             white_y = 0x80;   
    00862 E840      LDI	R20,0x80
(0424)             clr_x = 0x80;   
    00863 E880      LDI	R24,0x80
    00864 2EA8      MOV	R10,R24
(0425)             clr_y = 0x80;   
    00865 2EE8      MOV	R14,R24
(0426)         }   
    00866 C022      RJMP	0x0889
(0427)         else if(y==1)   
    00867 3061      CPI	R22,1
    00868 F451      BNE	0x0873
(0428)         {   
(0429)             white_x = (0x80+x-1);   
    00869 858B      LDD	R24,Y+11
    0086A 5880      SUBI	R24,0x80
    0086B 5081      SUBI	R24,1
    0086C 8388      ST	Y,R24
(0430)             white_y = 0x90;   
    0086D E940      LDI	R20,0x90
(0431)             clr_x = 0x80;   
    0086E E880      LDI	R24,0x80
    0086F 2EA8      MOV	R10,R24
(0432)             clr_y = 0x90;   
    00870 E980      LDI	R24,0x90
    00871 2EE8      MOV	R14,R24
(0433)         }   
    00872 C016      RJMP	0x0889
(0434)         else if(y==2)   
    00873 3062      CPI	R22,2
    00874 F449      BNE	0x087E
(0435)         {   
(0436)             white_x = (0x80+x-1);   
    00875 858B      LDD	R24,Y+11
    00876 5880      SUBI	R24,0x80
    00877 5081      SUBI	R24,1
    00878 8388      ST	Y,R24
(0437)             white_y = 0x80;   
    00879 E840      LDI	R20,0x80
(0438)             clr_x = 0x80;   
    0087A E880      LDI	R24,0x80
    0087B 2EA8      MOV	R10,R24
(0439)             clr_y = 0x80;   
    0087C 2EE8      MOV	R14,R24
(0440)         }   
    0087D C00B      RJMP	0x0889
(0441)         else if(y==3)   
    0087E 3063      CPI	R22,3
    0087F F449      BNE	0x0889
(0442)         {   
(0443)             white_x = (0x80+x-1);   
    00880 858B      LDD	R24,Y+11
    00881 5880      SUBI	R24,0x80
    00882 5081      SUBI	R24,1
    00883 8388      ST	Y,R24
(0444)             white_y = 0x90;   
    00884 E940      LDI	R20,0x90
(0445)             clr_x = 0x80;   
    00885 E880      LDI	R24,0x80
    00886 2EA8      MOV	R10,R24
(0446)             clr_y = 0x90;   
    00887 E980      LDI	R24,0x90
    00888 2EE8      MOV	R14,R24
(0447)         }   
(0448) 		if(y==0 || y==1){    
    00889 2366      TST	R22
    0088A F011      BEQ	0x088D
    0088B 3061      CPI	R22,1
    0088C F4A1      BNE	0x08A1
(0449)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    0088D 24AA      CLR	R10
    0088E C00E      RJMP	0x089D
(0450)           {   
(0451)              lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    0088F 2E24      MOV	R2,R20
    00890 5F4F      SUBI	R20,0xFF
    00891 2D02      MOV	R16,R2
    00892 DCE8      RCALL	_lcd_wcmd_1
(0452)              lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    00893 8108      LD	R16,Y
    00894 DCE6      RCALL	_lcd_wcmd_1
(0453)              for(j=0;j<white_end_x;j++)   //   
    00895 24EE      CLR	R14
    00896 C003      RJMP	0x089A
(0454)              {     
(0455)                lcd_wdat_1(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    00897 2700      CLR	R16
    00898 DD08      RCALL	_lcd_wdat_1
    00899 94E3      INC	R14
    0089A 14EC      CP	R14,R12
    0089B F3D8      BCS	0x0897
    0089C 94A3      INC	R10
    0089D 2D8A      MOV	R24,R10
    0089E 3180      CPI	R24,0x10
    0089F F378      BCS	0x088F
(0456)              }   
(0457)           }
(0458) 		}else if(y==2 || y==3){
    008A0 C017      RJMP	0x08B8
    008A1 3062      CPI	R22,2
    008A2 F011      BEQ	0x08A5
    008A3 3063      CPI	R22,3
    008A4 F499      BNE	0x08B8
(0459) 		    for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    008A5 24AA      CLR	R10
    008A6 C00E      RJMP	0x08B5
(0460)           {   
(0461)              lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    008A7 2E24      MOV	R2,R20
    008A8 5F4F      SUBI	R20,0xFF
    008A9 2D02      MOV	R16,R2
    008AA DD48      RCALL	_lcd_wcmd_2
(0462)              lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    008AB 8108      LD	R16,Y
    008AC DD46      RCALL	_lcd_wcmd_2
(0463)              for(j=0;j<white_end_x;j++)   //   
    008AD 24EE      CLR	R14
    008AE C003      RJMP	0x08B2
(0464)              {     
(0465)                lcd_wdat_2(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    008AF 2700      CLR	R16
    008B0 DD68      RCALL	_lcd_wdat_2
    008B1 94E3      INC	R14
    008B2 14EC      CP	R14,R12
    008B3 F3D8      BCS	0x08AF
    008B4 94A3      INC	R10
    008B5 2D8A      MOV	R24,R10
    008B6 3180      CPI	R24,0x10
    008B7 F378      BCS	0x08A7
(0466)              }   
(0467)           }
(0468) 		}
(0469) 		  Set_UNDraw();//关画图  
    008B8 DF91      RCALL	_Set_UNDraw
    008B9 9621      ADIW	R28,1
    008BA 940E 2CEF CALL	pop_xgsetF0FC
    008BC 9624      ADIW	R28,4
    008BD 9508      RET
_Set_White:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    008BE 940E 2C79 CALL	push_arg4
    008C0 940E 2CFA CALL	push_xgsetF0FC
    008C2 2F62      MOV	R22,R18
    008C3 9721      SBIW	R28,1
    008C4 84AF      LDD	R10,Y+15
(0470)     } 
(0471) 	void Set_White(uchar x,uchar y,uchar end_x)   
(0472)     {   
(0473)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0474)         white_end_x = (end_x-x+1);   
    008C5 2D8A      MOV	R24,R10
    008C6 840B      LDD	R0,Y+11
    008C7 1980      SUB	R24,R0
    008C8 5F8F      SUBI	R24,0xFF
    008C9 2EC8      MOV	R12,R24
(0475)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    008CA 0CCC      LSL	R12
(0476) 		Set_Draw(); //开画图
    008CB DF7A      RCALL	_Set_Draw
(0477)         if(y==0)   
    008CC 2366      TST	R22
    008CD F449      BNE	0x08D7
(0478)         {   
(0479)             white_x = (0x80+x-1);   
    008CE 858B      LDD	R24,Y+11
    008CF 5880      SUBI	R24,0x80
    008D0 5081      SUBI	R24,1
    008D1 8388      ST	Y,R24
(0480)             white_y = 0x80;   
    008D2 E840      LDI	R20,0x80
(0481)             clr_x = 0x80;   
    008D3 E880      LDI	R24,0x80
    008D4 2EA8      MOV	R10,R24
(0482)             clr_y = 0x80;   
    008D5 2EE8      MOV	R14,R24
(0483)         }   
    008D6 C022      RJMP	0x08F9
(0484)         else if(y==1)   
    008D7 3061      CPI	R22,1
    008D8 F451      BNE	0x08E3
(0485)         {   
(0486)             white_x = (0x80+x-1);   
    008D9 858B      LDD	R24,Y+11
    008DA 5880      SUBI	R24,0x80
    008DB 5081      SUBI	R24,1
    008DC 8388      ST	Y,R24
(0487)             white_y = 0x90;   
    008DD E940      LDI	R20,0x90
(0488)             clr_x = 0x80;   
    008DE E880      LDI	R24,0x80
    008DF 2EA8      MOV	R10,R24
(0489)             clr_y = 0x90;   
    008E0 E980      LDI	R24,0x90
    008E1 2EE8      MOV	R14,R24
(0490)         }   
    008E2 C016      RJMP	0x08F9
(0491)         else if(y==2)   
    008E3 3062      CPI	R22,2
    008E4 F449      BNE	0x08EE
(0492)         {   
(0493)             white_x = (0x80+x-1);   
    008E5 858B      LDD	R24,Y+11
    008E6 5880      SUBI	R24,0x80
    008E7 5081      SUBI	R24,1
    008E8 8388      ST	Y,R24
(0494)             white_y = 0x80;   
    008E9 E840      LDI	R20,0x80
(0495)             clr_x = 0x80;   
    008EA E880      LDI	R24,0x80
    008EB 2EA8      MOV	R10,R24
(0496)             clr_y = 0x80;   
    008EC 2EE8      MOV	R14,R24
(0497)         }   
    008ED C00B      RJMP	0x08F9
(0498)         else if(y==3)   
    008EE 3063      CPI	R22,3
    008EF F449      BNE	0x08F9
(0499)         {   
(0500)             white_x = (0x80+x-1);   
    008F0 858B      LDD	R24,Y+11
    008F1 5880      SUBI	R24,0x80
    008F2 5081      SUBI	R24,1
    008F3 8388      ST	Y,R24
(0501)             white_y = 0x90;   
    008F4 E940      LDI	R20,0x90
(0502)             clr_x = 0x80;   
    008F5 E880      LDI	R24,0x80
    008F6 2EA8      MOV	R10,R24
(0503)             clr_y = 0x90;   
    008F7 E980      LDI	R24,0x90
    008F8 2EE8      MOV	R14,R24
(0504)         } 
(0505) 		if(y==0 || y==1){          
    008F9 2366      TST	R22
    008FA F011      BEQ	0x08FD
    008FB 3061      CPI	R22,1
    008FC F4A1      BNE	0x0911
(0506)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    008FD 24AA      CLR	R10
    008FE C00E      RJMP	0x090D
(0507)           {   
(0508)               lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    008FF 2E24      MOV	R2,R20
    00900 5F4F      SUBI	R20,0xFF
    00901 2D02      MOV	R16,R2
    00902 DC78      RCALL	_lcd_wcmd_1
(0509)               lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    00903 8108      LD	R16,Y
    00904 DC76      RCALL	_lcd_wcmd_1
(0510)               for(j=0;j<white_end_x;j++)   //   
    00905 24EE      CLR	R14
    00906 C003      RJMP	0x090A
(0511)               {    
(0512)                     lcd_wdat_1(0xff); //反白这一行的8个点，液晶地址自动加1     
    00907 EF0F      LDI	R16,0xFF
    00908 DC98      RCALL	_lcd_wdat_1
    00909 94E3      INC	R14
    0090A 14EC      CP	R14,R12
    0090B F3D8      BCS	0x0907
    0090C 94A3      INC	R10
    0090D 2D8A      MOV	R24,R10
    0090E 3180      CPI	R24,0x10
    0090F F378      BCS	0x08FF
(0513)               }   
(0514)           }
(0515) 		}else if(y==2 || y==3){
    00910 C017      RJMP	0x0928
    00911 3062      CPI	R22,2
    00912 F011      BEQ	0x0915
    00913 3063      CPI	R22,3
    00914 F499      BNE	0x0928
(0516) 		   for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00915 24AA      CLR	R10
    00916 C00E      RJMP	0x0925
(0517)             {   
(0518)               lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    00917 2E24      MOV	R2,R20
    00918 5F4F      SUBI	R20,0xFF
    00919 2D02      MOV	R16,R2
    0091A DCD8      RCALL	_lcd_wcmd_2
(0519)               lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    0091B 8108      LD	R16,Y
    0091C DCD6      RCALL	_lcd_wcmd_2
(0520)               for(j=0;j<white_end_x;j++)   //   
    0091D 24EE      CLR	R14
    0091E C003      RJMP	0x0922
(0521)               {    
(0522)                     lcd_wdat_2(0xff); //反白这一行的8个点，液晶地址自动加1     
    0091F EF0F      LDI	R16,0xFF
    00920 DCF8      RCALL	_lcd_wdat_2
    00921 94E3      INC	R14
    00922 14EC      CP	R14,R12
    00923 F3D8      BCS	0x091F
    00924 94A3      INC	R10
    00925 2D8A      MOV	R24,R10
    00926 3180      CPI	R24,0x10
    00927 F378      BCS	0x0917
(0523)               }   
(0524)             }
(0525) 		}
(0526) 		  Set_UNDraw();//关画图  
    00928 DF21      RCALL	_Set_UNDraw
    00929 9621      ADIW	R28,1
    0092A 940E 2CEF CALL	pop_xgsetF0FC
    0092C 9624      ADIW	R28,4
    0092D 9508      RET
_Draw_Pic:
  temp_y               --> R20
  temp_x               --> R22
  i                    --> R10
  j                    --> R14
  Draw                 --> Y,+12
  y                    --> Y,+10
  x                    --> R12
    0092E 933A      ST	-Y,R19
    0092F 932A      ST	-Y,R18
    00930 940E 2CFA CALL	push_xgsetF0FC
    00932 2EC0      MOV	R12,R16
(0527)     } 
(0528) 	/********************************************************************  
(0529)     函 数 名：Draw_Pic  128*64  
(0530)     入口参数：x,y,*Draw  
(0531)     出口参数：无  
(0532)     建立日期：2007年8月26日  
(0533)     修改日期：  
(0534)     函数作用：  
(0535)     说    明：  
(0536)     ********************************************************************/   
(0537)     /*************************************************/   
(0538)        
(0539)     void Draw_Pic(uchar x, uchar y, const uchar *Draw)   
(0540)     {   
(0541)         uchar i, j, temp_x, temp_y;     //   
(0542) 		lcd_wcmd_1(0x34);
    00933 E304      LDI	R16,0x34
    00934 DC46      RCALL	_lcd_wcmd_1
(0543) 		lcd_wcmd_2(0x34);
    00935 E304      LDI	R16,0x34
    00936 DCBC      RCALL	_lcd_wcmd_2
(0544)         temp_x = x;                     //   
    00937 2D6C      MOV	R22,R12
(0545)         temp_y = y;                     //   
    00938 854A      LDD	R20,Y+10
(0546)         temp_x |= 0x80;                 //   
    00939 6860      ORI	R22,0x80
(0547)         temp_y |= 0x80;                 //   
    0093A 6840      ORI	R20,0x80
(0548)         for(i=0;i<32;i++ )               //上半屏32行   
    0093B 24AA      CLR	R10
    0093C C013      RJMP	0x0950
(0549)         {   
(0550)             lcd_wcmd_1(temp_y++);      //设置绘图区的Y地址坐标0   
    0093D 2E24      MOV	R2,R20
    0093E 5F4F      SUBI	R20,0xFF
    0093F 2D02      MOV	R16,R2
    00940 DC3A      RCALL	_lcd_wcmd_1
(0551)             lcd_wcmd_1(temp_x);        //设置绘图区的X地址坐标0   
    00941 2F06      MOV	R16,R22
    00942 DC38      RCALL	_lcd_wcmd_1
(0552)             for(j=0;j<24;j++)            //   
    00943 24EE      CLR	R14
    00944 C007      RJMP	0x094C
(0553)             {   
(0554)                  lcd_wdat_1(*Draw++);  //   
    00945 85EC      LDD	R30,Y+12
    00946 85FD      LDD	R31,Y+13
    00947 9101      LD	R16,Z+
    00948 87FD      STD	Y+13,R31
    00949 87EC      STD	Y+12,R30
    0094A DC56      RCALL	_lcd_wdat_1
    0094B 94E3      INC	R14
    0094C 2D8E      MOV	R24,R14
    0094D 3188      CPI	R24,0x18
    0094E F3B0      BCS	0x0945
    0094F 94A3      INC	R10
    00950 2D8A      MOV	R24,R10
    00951 3280      CPI	R24,0x20
    00952 F350      BCS	0x093D
(0555)             }   
(0556)         }   
(0557)            
(0558)         temp_x = x;                     //   
    00953 2D6C      MOV	R22,R12
(0559)         temp_y = y;                     //   
    00954 854A      LDD	R20,Y+10
(0560)         temp_x |= 0x80;                 //   
    00955 6860      ORI	R22,0x80
(0561)         temp_y |= 0x80;                   //   
    00956 6840      ORI	R20,0x80
(0562)         j = 0;                          //   
    00957 24EE      CLR	R14
(0563)         for(;i<64;i++ )   
    00958 C013      RJMP	0x096C
(0564)         {   
(0565)             lcd_wcmd_2(temp_y++);      //设置绘图区的Y地址坐标   
    00959 2E24      MOV	R2,R20
    0095A 5F4F      SUBI	R20,0xFF
    0095B 2D02      MOV	R16,R2
    0095C DC96      RCALL	_lcd_wcmd_2
(0566)             lcd_wcmd_2(temp_x);        //设置绘图区的X地址坐标   
    0095D 2F06      MOV	R16,R22
    0095E DC94      RCALL	_lcd_wcmd_2
(0567)             for(j=0;j<24;j++)   
    0095F 24EE      CLR	R14
    00960 C007      RJMP	0x0968
(0568)             {   
(0569)                  lcd_wdat_2(*Draw++);  //   
    00961 85EC      LDD	R30,Y+12
    00962 85FD      LDD	R31,Y+13
    00963 9101      LD	R16,Z+
    00964 87FD      STD	Y+13,R31
    00965 87EC      STD	Y+12,R30
    00966 DCB2      RCALL	_lcd_wdat_2
    00967 94E3      INC	R14
    00968 2D8E      MOV	R24,R14
    00969 3188      CPI	R24,0x18
    0096A F3B0      BCS	0x0961
    0096B 94A3      INC	R10
    0096C 2D8A      MOV	R24,R10
    0096D 3480      CPI	R24,0x40
    0096E F350      BCS	0x0959
(0570)             }   
(0571)         }   
(0572)        lcd_wcmd_1(0x36);
    0096F E306      LDI	R16,0x36
    00970 DC0A      RCALL	_lcd_wcmd_1
(0573) 	   lcd_wcmd_2(0x36);
    00971 E306      LDI	R16,0x36
    00972 DC80      RCALL	_lcd_wcmd_2
(0574) 	   delay_us(1);
    00973 E001      LDI	R16,1
    00974 E010      LDI	R17,0
    00975 940E 043E CALL	_delay_us
(0575) 	   lcd_wcmd_1(0x30);
    00977 E300      LDI	R16,0x30
    00978 DC02      RCALL	_lcd_wcmd_1
(0576) 	   lcd_wcmd_2(0x30);
    00979 E300      LDI	R16,0x30
    0097A DC78      RCALL	_lcd_wcmd_2
    0097B 940E 2CEF CALL	pop_xgsetF0FC
    0097D 9622      ADIW	R28,2
    0097E 9508      RET
_lcd_Desk:
    0097F 9722      SBIW	R28,2
(0577) 	        
(0578)     }  
(0579)     /*************************************************/  
(0580) //***********************************************************************
(0581) //      液晶显示界面初始化
(0582) //***********************************************************************
(0583) void lcd_Desk(void)
(0584) { 
(0585)   //uint i=0;   
(0586)  // lcd_clear();
(0587)   //lcd_write_str(0,0,"ADC0:");
(0588)   lcd_write_str(0,3,"反白测试第一次");
    00980 E081      LDI	R24,1
    00981 E091      LDI	R25,1
    00982 8399      STD	Y+1,R25
    00983 8388      ST	Y,R24
    00984 E023      LDI	R18,3
    00985 2700      CLR	R16
    00986 DD12      RCALL	_lcd_write_str
(0589)   lcd_write_str(0,0,"反白测试第一次");
    00987 E081      LDI	R24,1
    00988 E091      LDI	R25,1
    00989 8399      STD	Y+1,R25
    0098A 8388      ST	Y,R24
    0098B 2722      CLR	R18
    0098C 2700      CLR	R16
    0098D DD0B      RCALL	_lcd_write_str
(0590)   //delay_ms(100);
(0591)      
(0592)     Set_White(1,1,7); 
    0098E E087      LDI	R24,7
    0098F 8388      ST	Y,R24
    00990 E021      LDI	R18,1
    00991 E001      LDI	R16,1
    00992 DF2B      RCALL	_Set_White
(0593) 	   
(0594) 	 
(0595)     delay_ms(3000); 
    00993 EB08      LDI	R16,0xB8
    00994 E01B      LDI	R17,0xB
    00995 940E 0448 CALL	_delay_ms
(0596)      Set_White_off(1,1,7);
    00997 E087      LDI	R24,7
    00998 8388      ST	Y,R24
    00999 E021      LDI	R18,1
    0099A E001      LDI	R16,1
    0099B DEB2      RCALL	_Set_White_off
(0597) 	Set_White(2,1,2); 
    0099C E082      LDI	R24,2
    0099D 8388      ST	Y,R24
    0099E E021      LDI	R18,1
    0099F E002      LDI	R16,2
    009A0 DF1D      RCALL	_Set_White
(0598) 	 delay_ms(300); 
    009A1 E20C      LDI	R16,0x2C
    009A2 E011      LDI	R17,1
    009A3 940E 0448 CALL	_delay_ms
(0599) 	 Set_White_off(2,2,7);
    009A5 E087      LDI	R24,7
    009A6 8388      ST	Y,R24
    009A7 E022      LDI	R18,2
    009A8 E002      LDI	R16,2
    009A9 DEA4      RCALL	_Set_White_off
(0600) 	 Set_White(3,1,5);   
    009AA E085      LDI	R24,5
    009AB 8388      ST	Y,R24
    009AC E021      LDI	R18,1
    009AD E003      LDI	R16,3
    009AE DF0F      RCALL	_Set_White
    009AF 9622      ADIW	R28,2
    009B0 9508      RET
_main:
  data                 --> Y,+2
  i                    --> Y,+2
    009B1 9721      SBIW	R28,1
FILE: E:\ICCDemo\Temp_Control\temp_control\main.c
(0001) 
(0002) #include<iom128v.h>
(0003) #include "main.h"
(0004) #include "lcd.h"
(0005) #include "time1307.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "timertask.h"
(0009) #include "eeprom.h"
(0010) #include "pages.h"
(0011) #include "temp.h"
(0012) //const unsigned char nihao[1536]={};
(0013) unsigned int waitflag=1000;//确认恢复的等待标记，初始为10，如果为0代表到时
(0014) //下面两个继续使用。暂时保存数据使用
(0015)  unsigned int temp_h=0;
(0016)  unsigned int temp_l=0;
(0017)  //uart需要参数
(0018)  unsigned char send_buf[600];
(0019)  unsigned char receive_buf[600];
(0020)  unsigned int send_len;
(0021)  unsigned int receive_len;
(0022)  //界面需要参数
(0023)  unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0024)  unsigned int pageParam[5];//传递参数。界面间参数暂存
(0025)  unsigned int prePageNum; //上一界面。应该在跳转前设置这个参数。但是用到这个参数的就Page3、4、8.所以可以直接在该界面用到在设置。不用理会规则
(0026)  //**************
(0027) struct temp temps[4]={{0},{0},{0},{0}};
(0028) 
(0029) 
(0030) //*************************************************************************
(0031) //			主程序
(0032) //*************************************************************************
(0033) void main(void)
(0034) { 
(0035) uint i;
(0036)   uchar data;
(0037)   DDRE=0xFF;
    009B2 EF8F      LDI	R24,0xFF
    009B3 B982      OUT	0x02,R24
(0038)   PORTE=~0xaa;
    009B4 E585      LDI	R24,0x55
    009B5 B983      OUT	0x03,R24
(0039)   SREG|=0x80;//开中断
    009B6 9478      BSET	7
(0040)   lcd_init();
    009B7 940E 07DD CALL	_lcd_init
(0041)   lcd_clear();
    009B9 940E 0750 CALL	_lcd_clear
(0042)    //画欢迎界面
(0043)   //Draw_Pic( 0, 0, nihao);
(0044)    //delay_ms(1000);
(0045)      pageNum=2;
    009BB E082      LDI	R24,2
    009BC E090      LDI	R25,0
    009BD 9390 0D5A STS	pageNum+1,R25
    009BF 9380 0D59 STS	pageNum,R24
(0046)      Set_White_off(1,0,12);
    009C1 E08C      LDI	R24,0xC
    009C2 8388      ST	Y,R24
    009C3 2722      CLR	R18
    009C4 E001      LDI	R16,1
    009C5 940E 084E CALL	_Set_White_off
(0047) 	 Set_White_off(1,1,12);
    009C7 E08C      LDI	R24,0xC
    009C8 8388      ST	Y,R24
    009C9 E021      LDI	R18,1
    009CA E001      LDI	R16,1
    009CB 940E 084E CALL	_Set_White_off
(0048) 	 Set_White_off(1,2,12);
    009CD E08C      LDI	R24,0xC
    009CE 8388      ST	Y,R24
    009CF E022      LDI	R18,2
    009D0 E001      LDI	R16,1
    009D1 940E 084E CALL	_Set_White_off
(0049) 	 Set_White_off(1,3,12);
    009D3 E08C      LDI	R24,0xC
    009D4 8388      ST	Y,R24
    009D5 E023      LDI	R18,3
    009D6 E001      LDI	R16,1
    009D7 940E 084E CALL	_Set_White_off
(0050) 	 //测试使用
(0051) 	   temp_l=0x50;
    009D9 E580      LDI	R24,0x50
    009DA E090      LDI	R25,0
    009DB 9390 0115 STS	temp_l+1,R25
    009DD 9380 0114 STS	temp_l,R24
(0052)       temp_h=0x12;
    009DF E182      LDI	R24,0x12
    009E0 9390 0113 STS	temp_h+1,R25
    009E2 9380 0112 STS	temp_h,R24
(0053) 	  tempdata_init();//数据初始化，清空
    009E4 940E 262B CALL	_tempdata_init
(0054)       Initial_time(); //初始化时间的
    009E6 940E 2BE2 CALL	_Initial_time
(0055) 	  Timerinit_3(0xe0,0x00);//使用16位的定时器3来读取温度和pid算法
    009E8 2722      CLR	R18
    009E9 EE00      LDI	R16,0xE0
    009EA 940E 0A08 CALL	_Timerinit_3
(0056) 	  Timerinit_1(0xFe,0xb8);//使用16位的定时器1来输出
    009EC EB28      LDI	R18,0xB8
    009ED EF0E      LDI	R16,0xFE
    009EE 940E 09F9 CALL	_Timerinit_1
(0057) 	  Timerinit_2(0x00);
    009F0 2700      CLR	R16
    009F1 940E 0A27 CALL	_Timerinit_2
    009F3 C002      RJMP	0x09F6
(0058) 	 while(1){
(0059)      dispatchPages();
    009F4 940E 2334 CALL	_dispatchPages
    009F6 CFFD      RJMP	0x09F4
    009F7 9621      ADIW	R28,1
    009F8 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\timertask.c
(0001) #include<iom128v.h>
(0002) #include "timertask.h"
(0003) #include "time.h"
(0004) #include "lcd.h"
(0005) #include "delay.h"
(0006) #include "main.h"
(0007) #include "temp.h"
(0008) #include "out.h"
(0009) unsigned int secondflag=64;//8位定时器全计时64次为1s
(0010) unsigned char time_h_1, time_l_1,time_h_3, time_l_3,time_0, time_2,i;
(0011) //************************************************
(0012) //16位定时器，定时器1
(0013) //*************************************************
(0014) /*
(0015)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0016)   自行计算时间传入。传入高低八位
(0017) */
(0018) void Timerinit_1(uchar time_h,uchar time_l){
(0019)     time_h_1=time_h;
_Timerinit_1:
  time_l               --> R18
  time_h               --> R16
    009F9 9300 0D61 STS	time_h_1,R16
(0020) 	time_l_1=time_l;
    009FB 9320 0D60 STS	time_l_1,R18
(0021) 	 TCCR1B=0x00;
    009FD 2422      CLR	R2
    009FE BC2E      OUT	0x2E,R2
(0022) 	//写入初值
(0023)     TCNT1H=time_h;
    009FF BD0D      OUT	0x2D,R16
(0024)     TCNT1L=time_l;
    00A00 BD2C      OUT	0x2C,R18
(0025) 	//普通计数，1024分频
(0026)     TCCR1A=0x00;
    00A01 BC2F      OUT	0x2F,R2
(0027)     TCCR1B=0x05;
    00A02 E085      LDI	R24,5
    00A03 BD8E      OUT	0x2E,R24
(0028) 	 TIMSK|=0x04;//开定时器1溢出中断,16位的
    00A04 B787      IN	R24,0x37
    00A05 6084      ORI	R24,4
    00A06 BF87      OUT	0x37,R24
    00A07 9508      RET
(0029) }
(0030) //************************************************
(0031) //16位定时器，定时器3
(0032) //*************************************************
(0033) /*
(0034)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0035)   自行计算时间传入。传入高低八位
(0036) */
(0037) void Timerinit_3(uchar time_h,uchar time_l){
(0038)  	time_h_3=time_h;
_Timerinit_3:
  time_l               --> R18
  time_h               --> R16
    00A08 9300 0D5F STS	time_h_3,R16
(0039) 	time_l_3=time_l;
    00A0A 9320 0D5E STS	time_l_3,R18
(0040) 	//写入初值
(0041) 	 TCCR3B=0x00;
    00A0C 2422      CLR	R2
    00A0D 9220 008A STS	0x8A,R2
(0042)     TCNT3H=time_h;
    00A0F 9300 0089 STS	0x89,R16
(0043)     TCNT3L=time_l;
    00A11 9320 0088 STS	0x88,R18
(0044) 	//普通计数，1024分频
(0045)     TCCR3A=0x00;
    00A13 9220 008B STS	0x8B,R2
(0046)     TCCR3B=0x05;
    00A15 E085      LDI	R24,5
    00A16 9380 008A STS	0x8A,R24
(0047) 	ETIMSK |=0x04;//开外部中断
    00A18 9180 007D LDS	R24,0x7D
    00A1A 6084      ORI	R24,4
    00A1B 9380 007D STS	0x7D,R24
    00A1D 9508      RET
(0048) }
(0049) //************************************************
(0050) //8位定时器，定时器0
(0051) //*************************************************
(0052) 
(0053) /*
(0054)   计数器0，8位的。普通计时，1024分频。
(0055)   自行计算时间传入。
(0056) */
(0057) void Timerinit_0(uchar time){
(0058)     time_0=time;
_Timerinit_0:
  time                 --> R16
    00A1E 9300 0D5D STS	time_0,R16
(0059) 	//写入初值
(0060)     TCNT0=time;
    00A20 BF02      OUT	0x32,R16
(0061) 	TIMSK|=0x01;//开定时器0溢出中断,8位的
    00A21 B787      IN	R24,0x37
    00A22 6081      ORI	R24,1
    00A23 BF87      OUT	0x37,R24
(0062) 	 TCCR0=0x07;//普通计数，1024分频
    00A24 E087      LDI	R24,7
    00A25 BF83      OUT	0x33,R24
    00A26 9508      RET
(0063) 	 
(0064) }
(0065) //************************************************
(0066) //8位定时器，定时器2
(0067) //*************************************************
(0068) /*
(0069)   计数器0，8位的。普通计时，1024分频。
(0070)   自行计算时间传入。
(0071) */
(0072) void Timerinit_2(uchar time){
(0073)     time_2=time;
_Timerinit_2:
  time                 --> R16
    00A27 9300 0D5C STS	time_2,R16
(0074) 	//写入初值
(0075)     TCNT2=time;
    00A29 BD04      OUT	0x24,R16
(0076) 	TIMSK|=0x40;//开定时器2溢出中断,8位的
    00A2A B787      IN	R24,0x37
    00A2B 6480      ORI	R24,0x40
    00A2C BF87      OUT	0x37,R24
(0077) 	//普通计数，1024分频
(0078)     TCCR2=0x05;
    00A2D E085      LDI	R24,5
    00A2E BD85      OUT	0x25,R24
    00A2F 9508      RET
_int_timer0:
    00A30 920A      ST	-Y,R0
    00A31 921A      ST	-Y,R1
    00A32 922A      ST	-Y,R2
    00A33 923A      ST	-Y,R3
    00A34 924A      ST	-Y,R4
    00A35 925A      ST	-Y,R5
    00A36 926A      ST	-Y,R6
    00A37 927A      ST	-Y,R7
    00A38 928A      ST	-Y,R8
    00A39 929A      ST	-Y,R9
    00A3A 930A      ST	-Y,R16
    00A3B 931A      ST	-Y,R17
    00A3C 932A      ST	-Y,R18
    00A3D 933A      ST	-Y,R19
    00A3E 938A      ST	-Y,R24
    00A3F 939A      ST	-Y,R25
    00A40 93AA      ST	-Y,R26
    00A41 93BA      ST	-Y,R27
    00A42 93EA      ST	-Y,R30
    00A43 93FA      ST	-Y,R31
    00A44 B60F      IN	R0,0x3F
    00A45 920A      ST	-Y,R0
    00A46 9721      SBIW	R28,1
(0079) }
(0080) #pragma interrupt_handler int_timer0:17
(0081) void int_timer0(void){ 
(0082) 		TCCR0=0x00;
    00A47 2422      CLR	R2
    00A48 BE23      OUT	0x33,R2
(0083) 		waitflag--;
    00A49 9180 0110 LDS	R24,waitflag
    00A4B 9190 0111 LDS	R25,waitflag+1
    00A4D 9701      SBIW	R24,1
    00A4E 9390 0111 STS	waitflag+1,R25
    00A50 9380 0110 STS	waitflag,R24
(0084) 	lcd_write_char(10,0,0x30+(waitflag/100));
    00A52 E624      LDI	R18,0x64
    00A53 E030      LDI	R19,0
    00A54 018C      MOVW	R16,R24
    00A55 940E 2CA5 CALL	div16u
    00A57 01C8      MOVW	R24,R16
    00A58 96C0      ADIW	R24,0x30
    00A59 8388      ST	Y,R24
    00A5A 2722      CLR	R18
    00A5B E00A      LDI	R16,0xA
    00A5C 940E 0673 CALL	_lcd_write_char
(0085) 	lcd_write_char(11,0,'s');	
    00A5E E783      LDI	R24,0x73
    00A5F 8388      ST	Y,R24
    00A60 2722      CLR	R18
    00A61 E00B      LDI	R16,0xB
    00A62 940E 0673 CALL	_lcd_write_char
(0086) 	if(waitflag>1){
    00A64 E081      LDI	R24,1
    00A65 E090      LDI	R25,0
    00A66 9020 0110 LDS	R2,waitflag
    00A68 9030 0111 LDS	R3,waitflag+1
    00A6A 1582      CP	R24,R2
    00A6B 0593      CPC	R25,R3
    00A6C F420      BCC	0x0A71
(0087) 	   TCNT0=0x00;
    00A6D 2422      CLR	R2
    00A6E BE22      OUT	0x32,R2
(0088) 	   TCCR0=0x07;
    00A6F E087      LDI	R24,7
    00A70 BF83      OUT	0x33,R24
(0089) 	 }
(0090) 		return;
    00A71 9621      ADIW	R28,1
    00A72 9009      LD	R0,Y+
    00A73 BE0F      OUT	0x3F,R0
    00A74 91F9      LD	R31,Y+
    00A75 91E9      LD	R30,Y+
    00A76 91B9      LD	R27,Y+
    00A77 91A9      LD	R26,Y+
    00A78 9199      LD	R25,Y+
    00A79 9189      LD	R24,Y+
    00A7A 9139      LD	R19,Y+
    00A7B 9129      LD	R18,Y+
    00A7C 9119      LD	R17,Y+
    00A7D 9109      LD	R16,Y+
    00A7E 9099      LD	R9,Y+
    00A7F 9089      LD	R8,Y+
    00A80 9079      LD	R7,Y+
    00A81 9069      LD	R6,Y+
    00A82 9059      LD	R5,Y+
    00A83 9049      LD	R4,Y+
    00A84 9039      LD	R3,Y+
    00A85 9029      LD	R2,Y+
    00A86 9019      LD	R1,Y+
    00A87 9009      LD	R0,Y+
    00A88 9518      RETI
_int_timer1:
    00A89 920A      ST	-Y,R0
    00A8A 921A      ST	-Y,R1
    00A8B 922A      ST	-Y,R2
    00A8C 923A      ST	-Y,R3
    00A8D 924A      ST	-Y,R4
    00A8E 925A      ST	-Y,R5
    00A8F 926A      ST	-Y,R6
    00A90 927A      ST	-Y,R7
    00A91 928A      ST	-Y,R8
    00A92 929A      ST	-Y,R9
    00A93 930A      ST	-Y,R16
    00A94 931A      ST	-Y,R17
    00A95 932A      ST	-Y,R18
    00A96 933A      ST	-Y,R19
    00A97 938A      ST	-Y,R24
    00A98 939A      ST	-Y,R25
    00A99 93AA      ST	-Y,R26
    00A9A 93BA      ST	-Y,R27
    00A9B 93EA      ST	-Y,R30
    00A9C 93FA      ST	-Y,R31
    00A9D B60F      IN	R0,0x3F
    00A9E 920A      ST	-Y,R0
(0091) }
(0092) //溢出中断。
(0093) #pragma interrupt_handler int_timer1:15
(0094) void int_timer1(void){
(0095) 		 TCCR1B=0x00;
    00A9F 2422      CLR	R2
    00AA0 BC2E      OUT	0x2E,R2
(0096) 		 out_port();
    00AA1 940E 0D98 CALL	_out_port
(0097) 		TCNT1H=time_h_1;
    00AA3 9020 0D61 LDS	R2,time_h_1
    00AA5 BC2D      OUT	0x2D,R2
(0098)          TCNT1L=time_l_1;
    00AA6 9020 0D60 LDS	R2,time_l_1
    00AA8 BC2C      OUT	0x2C,R2
(0099) 		 TCCR1B=0x05;
    00AA9 E085      LDI	R24,5
    00AAA BD8E      OUT	0x2E,R24
(0100) 		return;
    00AAB 9009      LD	R0,Y+
    00AAC BE0F      OUT	0x3F,R0
    00AAD 91F9      LD	R31,Y+
    00AAE 91E9      LD	R30,Y+
    00AAF 91B9      LD	R27,Y+
    00AB0 91A9      LD	R26,Y+
    00AB1 9199      LD	R25,Y+
    00AB2 9189      LD	R24,Y+
    00AB3 9139      LD	R19,Y+
    00AB4 9129      LD	R18,Y+
    00AB5 9119      LD	R17,Y+
    00AB6 9109      LD	R16,Y+
    00AB7 9099      LD	R9,Y+
    00AB8 9089      LD	R8,Y+
    00AB9 9079      LD	R7,Y+
    00ABA 9069      LD	R6,Y+
    00ABB 9059      LD	R5,Y+
    00ABC 9049      LD	R4,Y+
    00ABD 9039      LD	R3,Y+
    00ABE 9029      LD	R2,Y+
    00ABF 9019      LD	R1,Y+
    00AC0 9009      LD	R0,Y+
    00AC1 9518      RETI
_int_timer2:
    00AC2 920A      ST	-Y,R0
    00AC3 921A      ST	-Y,R1
    00AC4 922A      ST	-Y,R2
    00AC5 923A      ST	-Y,R3
    00AC6 924A      ST	-Y,R4
    00AC7 925A      ST	-Y,R5
    00AC8 926A      ST	-Y,R6
    00AC9 927A      ST	-Y,R7
    00ACA 928A      ST	-Y,R8
    00ACB 929A      ST	-Y,R9
    00ACC 930A      ST	-Y,R16
    00ACD 931A      ST	-Y,R17
    00ACE 932A      ST	-Y,R18
    00ACF 933A      ST	-Y,R19
    00AD0 938A      ST	-Y,R24
    00AD1 939A      ST	-Y,R25
    00AD2 93AA      ST	-Y,R26
    00AD3 93BA      ST	-Y,R27
    00AD4 93EA      ST	-Y,R30
    00AD5 93FA      ST	-Y,R31
    00AD6 B60F      IN	R0,0x3F
    00AD7 920A      ST	-Y,R0
(0101) }
(0102) #pragma interrupt_handler int_timer2:11
(0103) void int_timer2(void){
(0104)       //PORTE=~PORTE;
(0105) 		TCCR2=0x00;
    00AD8 2422      CLR	R2
    00AD9 BC25      OUT	0x25,R2
(0106) 		TCNT2=time_2;
    00ADA 9020 0D5C LDS	R2,time_2
    00ADC BC24      OUT	0x24,R2
(0107) 		TCCR2=0x05;
    00ADD E085      LDI	R24,5
    00ADE BD85      OUT	0x25,R24
(0108) 		if(secondflag==0){
    00ADF 9020 0626 LDS	R2,secondflag
    00AE1 9030 0627 LDS	R3,secondflag+1
    00AE3 2022      TST	R2
    00AE4 F451      BNE	0x0AEF
    00AE5 2033      TST	R3
    00AE6 F441      BNE	0x0AEF
(0109) 		  secondflag=64;
    00AE7 E480      LDI	R24,0x40
    00AE8 E090      LDI	R25,0
    00AE9 9390 0627 STS	secondflag+1,R25
    00AEB 9380 0626 STS	secondflag,R24
(0110) 		  int_int2();
    00AED 940E 2394 CALL	_int_int2
(0111) 		}
(0112) 		secondflag--;
    00AEF 9180 0626 LDS	R24,secondflag
    00AF1 9190 0627 LDS	R25,secondflag+1
    00AF3 9701      SBIW	R24,1
    00AF4 9390 0627 STS	secondflag+1,R25
    00AF6 9380 0626 STS	secondflag,R24
(0113) 		return;
    00AF8 9009      LD	R0,Y+
    00AF9 BE0F      OUT	0x3F,R0
    00AFA 91F9      LD	R31,Y+
    00AFB 91E9      LD	R30,Y+
    00AFC 91B9      LD	R27,Y+
    00AFD 91A9      LD	R26,Y+
    00AFE 9199      LD	R25,Y+
    00AFF 9189      LD	R24,Y+
    00B00 9139      LD	R19,Y+
    00B01 9129      LD	R18,Y+
    00B02 9119      LD	R17,Y+
    00B03 9109      LD	R16,Y+
    00B04 9099      LD	R9,Y+
    00B05 9089      LD	R8,Y+
    00B06 9079      LD	R7,Y+
    00B07 9069      LD	R6,Y+
    00B08 9059      LD	R5,Y+
    00B09 9049      LD	R4,Y+
    00B0A 9039      LD	R3,Y+
    00B0B 9029      LD	R2,Y+
    00B0C 9019      LD	R1,Y+
    00B0D 9009      LD	R0,Y+
    00B0E 9518      RETI
_int_timer3:
    00B0F 920A      ST	-Y,R0
    00B10 921A      ST	-Y,R1
    00B11 922A      ST	-Y,R2
    00B12 923A      ST	-Y,R3
    00B13 924A      ST	-Y,R4
    00B14 925A      ST	-Y,R5
    00B15 926A      ST	-Y,R6
    00B16 927A      ST	-Y,R7
    00B17 928A      ST	-Y,R8
    00B18 929A      ST	-Y,R9
    00B19 930A      ST	-Y,R16
    00B1A 931A      ST	-Y,R17
    00B1B 932A      ST	-Y,R18
    00B1C 933A      ST	-Y,R19
    00B1D 938A      ST	-Y,R24
    00B1E 939A      ST	-Y,R25
    00B1F 93AA      ST	-Y,R26
    00B20 93BA      ST	-Y,R27
    00B21 93EA      ST	-Y,R30
    00B22 93FA      ST	-Y,R31
    00B23 B60F      IN	R0,0x3F
    00B24 920A      ST	-Y,R0
(0114) }
(0115) //16位定时器，定时器3溢出中断。
(0116) #pragma interrupt_handler int_timer3:30
(0117) void int_timer3(void){
(0118)       TCCR3B=0x00;
    00B25 2422      CLR	R2
    00B26 9220 008A STS	0x8A,R2
(0119)       tempcontrol();//执行温度调节
    00B28 940E 24C4 CALL	_tempcontrol
(0120) 	  TCNT3H=time_h_3;
    00B2A 9020 0D5F LDS	R2,time_h_3
    00B2C 9220 0089 STS	0x89,R2
(0121)       TCNT3L=time_l_3;
    00B2E 9020 0D5E LDS	R2,time_l_3
    00B30 9220 0088 STS	0x88,R2
(0122)       TCCR3B=0x05;
    00B32 E085      LDI	R24,5
    00B33 9380 008A STS	0x8A,R24
    00B35 9009      LD	R0,Y+
    00B36 BE0F      OUT	0x3F,R0
    00B37 91F9      LD	R31,Y+
    00B38 91E9      LD	R30,Y+
    00B39 91B9      LD	R27,Y+
    00B3A 91A9      LD	R26,Y+
    00B3B 9199      LD	R25,Y+
    00B3C 9189      LD	R24,Y+
    00B3D 9139      LD	R19,Y+
    00B3E 9129      LD	R18,Y+
    00B3F 9119      LD	R17,Y+
    00B40 9109      LD	R16,Y+
    00B41 9099      LD	R9,Y+
    00B42 9089      LD	R8,Y+
    00B43 9079      LD	R7,Y+
    00B44 9069      LD	R6,Y+
    00B45 9059      LD	R5,Y+
    00B46 9049      LD	R4,Y+
    00B47 9039      LD	R3,Y+
    00B48 9029      LD	R2,Y+
    00B49 9019      LD	R1,Y+
    00B4A 9009      LD	R0,Y+
    00B4B 9518      RETI
_readTemp_1:
  i                    --> R20
    00B4C 934A      ST	-Y,R20
    00B4D 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\max6675.c
(0001) #include<iom128v.h>
(0002) #include "max6675.h"
(0003) #include "main.h"
(0004) #include "delay.h"
(0005) #define sck_h_1 PORTE|=(1<<PE3) 
(0006) #define sck_l_1 PORTE&=~(1<<PE3) 
(0007) #define cs_h_1 PORTE|=1<<PE4 
(0008) #define cs_l_1 PORTE&=~(1<<PE4) 
(0009) 
(0010) #define sck_h_2 PORTE|=(1<<PE6) 
(0011) #define sck_l_2 PORTE&=~(1<<PE6) 
(0012) #define cs_h_2 PORTE|=1<<PE7 
(0013) #define cs_l_2 PORTE&=~(1<<PE7) 
(0014) 
(0015) #define sck_h_3 PORTF|=(1<<PF1) 
(0016) #define sck_l_3 PORTF&=~(1<<PF1) 
(0017) #define cs_h_3 PORTF|=1<<PF2 
(0018) #define cs_l_3 PORTF&=~(1<<PF2) 
(0019) 
(0020) #define sck_h_4 PORTF|=(1<<PF4) 
(0021) #define sck_l_4 PORTF&=~(1<<PF4) 
(0022) #define cs_h_4 PORTF|=1<<PF5 
(0023) #define cs_l_4 PORTF&=~(1<<PF5) 
(0024) void readTemp_1(void){
(0025) 	   uint i;
(0026) 	   sck_h_1;
    00B4E 9A1B      SBI	0x03,3
(0027) 	   cs_h_1;
    00B4F 9A1C      SBI	0x03,4
(0028) 	   delay_us(1);
    00B50 E001      LDI	R16,1
    00B51 E010      LDI	R17,0
    00B52 940E 043E CALL	_delay_us
(0029) 	   cs_l_1;
    00B54 981C      CBI	0x03,4
(0030) 	   delay_us(1);
    00B55 E001      LDI	R16,1
    00B56 E010      LDI	R17,0
    00B57 940E 043E CALL	_delay_us
(0031) 	   sck_l_1;
    00B59 981B      CBI	0x03,3
(0032) 	   delay_us(1);
    00B5A E001      LDI	R16,1
    00B5B E010      LDI	R17,0
    00B5C 940E 043E CALL	_delay_us
(0033) 	   sck_h_1;
    00B5E 9A1B      SBI	0x03,3
(0034) 	  for(i=0;i<8;i++){
    00B5F 2744      CLR	R20
    00B60 2755      CLR	R21
    00B61 C024      RJMP	0x0B86
(0035) 			sck_l_1;
    00B62 981B      CBI	0x03,3
(0036) 			delay_us(1);
    00B63 E001      LDI	R16,1
    00B64 E010      LDI	R17,0
    00B65 940E 043E CALL	_delay_us
(0037) 			temp_h=temp_h<<1;
    00B67 9020 0112 LDS	R2,temp_h
    00B69 9030 0113 LDS	R3,temp_h+1
    00B6B 0C22      LSL	R2
    00B6C 1C33      ROL	R3
    00B6D 9230 0113 STS	temp_h+1,R3
    00B6F 9220 0112 STS	temp_h,R2
(0038) 	    	temp_h=temp_h|((PINE&0x04)>>2);
    00B71 B181      IN	R24,0x01
    00B72 2799      CLR	R25
    00B73 7084      ANDI	R24,4
    00B74 7090      ANDI	R25,0
    00B75 9595      ASR	R25
    00B76 9587      ROR	R24
    00B77 9595      ASR	R25
    00B78 9587      ROR	R24
    00B79 2A28      OR	R2,R24
    00B7A 2A39      OR	R3,R25
    00B7B 9230 0113 STS	temp_h+1,R3
    00B7D 9220 0112 STS	temp_h,R2
(0039) 			sck_h_1;
    00B7F 9A1B      SBI	0x03,3
(0040) 			delay_us(1);
    00B80 E001      LDI	R16,1
    00B81 E010      LDI	R17,0
    00B82 940E 043E CALL	_delay_us
    00B84 5F4F      SUBI	R20,0xFF
    00B85 4F5F      SBCI	R21,0xFF
    00B86 3048      CPI	R20,0x8
    00B87 E0E0      LDI	R30,0
    00B88 075E      CPC	R21,R30
    00B89 F2C0      BCS	0x0B62
(0041) 			
(0042) 	   }
(0043) 	   for(i=0;i<8;i++){
    00B8A 2744      CLR	R20
    00B8B 2755      CLR	R21
    00B8C C024      RJMP	0x0BB1
(0044) 			sck_l_1;
    00B8D 981B      CBI	0x03,3
(0045) 			delay_us(1);
    00B8E E001      LDI	R16,1
    00B8F E010      LDI	R17,0
    00B90 940E 043E CALL	_delay_us
(0046) 			temp_l<<=1;
    00B92 9020 0114 LDS	R2,temp_l
    00B94 9030 0115 LDS	R3,temp_l+1
    00B96 0C22      LSL	R2
    00B97 1C33      ROL	R3
    00B98 9230 0115 STS	temp_l+1,R3
    00B9A 9220 0114 STS	temp_l,R2
(0047) 	    	temp_l=temp_l|((PINE&0x04)>>2);
    00B9C B181      IN	R24,0x01
    00B9D 2799      CLR	R25
    00B9E 7084      ANDI	R24,4
    00B9F 7090      ANDI	R25,0
    00BA0 9595      ASR	R25
    00BA1 9587      ROR	R24
    00BA2 9595      ASR	R25
    00BA3 9587      ROR	R24
    00BA4 2A28      OR	R2,R24
    00BA5 2A39      OR	R3,R25
    00BA6 9230 0115 STS	temp_l+1,R3
    00BA8 9220 0114 STS	temp_l,R2
(0048) 			sck_h_1;
    00BAA 9A1B      SBI	0x03,3
(0049) 			delay_us(1);
    00BAB E001      LDI	R16,1
    00BAC E010      LDI	R17,0
    00BAD 940E 043E CALL	_delay_us
    00BAF 5F4F      SUBI	R20,0xFF
    00BB0 4F5F      SBCI	R21,0xFF
    00BB1 3048      CPI	R20,0x8
    00BB2 E0E0      LDI	R30,0
    00BB3 075E      CPC	R21,R30
    00BB4 F2C0      BCS	0x0B8D
(0050) 	   }
(0051) 	    cs_h_1;
    00BB5 9A1C      SBI	0x03,4
(0052) 	   delay_us(10);
    00BB6 E00A      LDI	R16,0xA
    00BB7 E010      LDI	R17,0
    00BB8 940E 043E CALL	_delay_us
(0053) 	  // temp_l=0x55;
(0054) 	   return ;
    00BBA 9159      LD	R21,Y+
    00BBB 9149      LD	R20,Y+
    00BBC 9508      RET
_readTemp_2:
  i                    --> R20
    00BBD 934A      ST	-Y,R20
    00BBE 935A      ST	-Y,R21
(0055) }
(0056) void readTemp_2(void){
(0057) 	   uint i;
(0058) 	   sck_h_2;
    00BBF 9A1E      SBI	0x03,6
(0059) 	   cs_h_2;
    00BC0 9A1F      SBI	0x03,7
(0060) 	   delay_us(1);
    00BC1 E001      LDI	R16,1
    00BC2 E010      LDI	R17,0
    00BC3 940E 043E CALL	_delay_us
(0061) 	   cs_l_2;
    00BC5 981F      CBI	0x03,7
(0062) 	   delay_us(1);
    00BC6 E001      LDI	R16,1
    00BC7 E010      LDI	R17,0
    00BC8 940E 043E CALL	_delay_us
(0063) 	   sck_l_2;
    00BCA 981E      CBI	0x03,6
(0064) 	   delay_us(1);
    00BCB E001      LDI	R16,1
    00BCC E010      LDI	R17,0
    00BCD 940E 043E CALL	_delay_us
(0065) 	   sck_h_2;
    00BCF 9A1E      SBI	0x03,6
(0066) 	  for(i=0;i<8;i++){
    00BD0 2744      CLR	R20
    00BD1 2755      CLR	R21
    00BD2 C028      RJMP	0x0BFB
(0067) 			sck_l_2;
    00BD3 981E      CBI	0x03,6
(0068) 			delay_us(1);
    00BD4 E001      LDI	R16,1
    00BD5 E010      LDI	R17,0
    00BD6 940E 043E CALL	_delay_us
(0069) 			temp_h=temp_h<<1;
    00BD8 9020 0112 LDS	R2,temp_h
    00BDA 9030 0113 LDS	R3,temp_h+1
    00BDC 0C22      LSL	R2
    00BDD 1C33      ROL	R3
    00BDE 9230 0113 STS	temp_h+1,R3
    00BE0 9220 0112 STS	temp_h,R2
(0070) 	    	temp_h=temp_h|((PINE&0x20)>>5);
    00BE2 E025      LDI	R18,5
    00BE3 E030      LDI	R19,0
    00BE4 B101      IN	R16,0x01
    00BE5 2711      CLR	R17
    00BE6 7200      ANDI	R16,0x20
    00BE7 7010      ANDI	R17,0
    00BE8 940E 2C7E CALL	asr16
    00BEA 9020 0112 LDS	R2,temp_h
    00BEC 9030 0113 LDS	R3,temp_h+1
    00BEE 2A20      OR	R2,R16
    00BEF 2A31      OR	R3,R17
    00BF0 9230 0113 STS	temp_h+1,R3
    00BF2 9220 0112 STS	temp_h,R2
(0071) 			sck_h_2;
    00BF4 9A1E      SBI	0x03,6
(0072) 			delay_us(1);
    00BF5 E001      LDI	R16,1
    00BF6 E010      LDI	R17,0
    00BF7 940E 043E CALL	_delay_us
    00BF9 5F4F      SUBI	R20,0xFF
    00BFA 4F5F      SBCI	R21,0xFF
    00BFB 3048      CPI	R20,0x8
    00BFC E0E0      LDI	R30,0
    00BFD 075E      CPC	R21,R30
    00BFE F2A0      BCS	0x0BD3
(0073) 			
(0074) 	   }
(0075) 	   for(i=0;i<8;i++){
    00BFF 2744      CLR	R20
    00C00 2755      CLR	R21
    00C01 C028      RJMP	0x0C2A
(0076) 			sck_l_2;
    00C02 981E      CBI	0x03,6
(0077) 			delay_us(1);
    00C03 E001      LDI	R16,1
    00C04 E010      LDI	R17,0
    00C05 940E 043E CALL	_delay_us
(0078) 			temp_l<<=1;
    00C07 9020 0114 LDS	R2,temp_l
    00C09 9030 0115 LDS	R3,temp_l+1
    00C0B 0C22      LSL	R2
    00C0C 1C33      ROL	R3
    00C0D 9230 0115 STS	temp_l+1,R3
    00C0F 9220 0114 STS	temp_l,R2
(0079) 	    	temp_l=temp_l|((PINE&0x20)>>5);
    00C11 E025      LDI	R18,5
    00C12 E030      LDI	R19,0
    00C13 B101      IN	R16,0x01
    00C14 2711      CLR	R17
    00C15 7200      ANDI	R16,0x20
    00C16 7010      ANDI	R17,0
    00C17 940E 2C7E CALL	asr16
    00C19 9020 0114 LDS	R2,temp_l
    00C1B 9030 0115 LDS	R3,temp_l+1
    00C1D 2A20      OR	R2,R16
    00C1E 2A31      OR	R3,R17
    00C1F 9230 0115 STS	temp_l+1,R3
    00C21 9220 0114 STS	temp_l,R2
(0080) 			sck_h_2;
    00C23 9A1E      SBI	0x03,6
(0081) 			delay_us(1);
    00C24 E001      LDI	R16,1
    00C25 E010      LDI	R17,0
    00C26 940E 043E CALL	_delay_us
    00C28 5F4F      SUBI	R20,0xFF
    00C29 4F5F      SBCI	R21,0xFF
    00C2A 3048      CPI	R20,0x8
    00C2B E0E0      LDI	R30,0
    00C2C 075E      CPC	R21,R30
    00C2D F2A0      BCS	0x0C02
(0082) 	   }
(0083) 	    cs_h_2;
    00C2E 9A1F      SBI	0x03,7
(0084) 	   delay_us(10);
    00C2F E00A      LDI	R16,0xA
    00C30 E010      LDI	R17,0
    00C31 940E 043E CALL	_delay_us
(0085) 	  // temp_l=0x55;
(0086) 	   return ;
    00C33 9159      LD	R21,Y+
    00C34 9149      LD	R20,Y+
    00C35 9508      RET
_readTemp_3:
  i                    --> R20
    00C36 934A      ST	-Y,R20
    00C37 935A      ST	-Y,R21
(0087) }
(0088) void readTemp_3(void){
(0089) 	   uint i;
(0090) 	   sck_h_3;
    00C38 9180 0062 LDS	R24,0x62
    00C3A 6082      ORI	R24,2
    00C3B 9380 0062 STS	0x62,R24
(0091) 	   cs_h_3;
    00C3D 9180 0062 LDS	R24,0x62
    00C3F 6084      ORI	R24,4
    00C40 9380 0062 STS	0x62,R24
(0092) 	   delay_us(1);
    00C42 E001      LDI	R16,1
    00C43 E010      LDI	R17,0
    00C44 940E 043E CALL	_delay_us
(0093) 	   cs_l_3;
    00C46 9180 0062 LDS	R24,0x62
    00C48 7F8B      ANDI	R24,0xFB
    00C49 9380 0062 STS	0x62,R24
(0094) 	   delay_us(1);
    00C4B E001      LDI	R16,1
    00C4C E010      LDI	R17,0
    00C4D 940E 043E CALL	_delay_us
(0095) 	   sck_l_3;
    00C4F 9180 0062 LDS	R24,0x62
    00C51 7F8D      ANDI	R24,0xFD
    00C52 9380 0062 STS	0x62,R24
(0096) 	   delay_us(1);
    00C54 E001      LDI	R16,1
    00C55 E010      LDI	R17,0
    00C56 940E 043E CALL	_delay_us
(0097) 	   sck_h_3;
    00C58 9180 0062 LDS	R24,0x62
    00C5A 6082      ORI	R24,2
    00C5B 9380 0062 STS	0x62,R24
(0098) 	  for(i=0;i<8;i++){
    00C5D 2744      CLR	R20
    00C5E 2755      CLR	R21
    00C5F C028      RJMP	0x0C88
(0099) 			sck_l_3;
    00C60 9180 0062 LDS	R24,0x62
    00C62 7F8D      ANDI	R24,0xFD
    00C63 9380 0062 STS	0x62,R24
(0100) 			delay_us(1);
    00C65 E001      LDI	R16,1
    00C66 E010      LDI	R17,0
    00C67 940E 043E CALL	_delay_us
(0101) 			temp_h=temp_h<<1;
    00C69 9020 0112 LDS	R2,temp_h
    00C6B 9030 0113 LDS	R3,temp_h+1
    00C6D 0C22      LSL	R2
    00C6E 1C33      ROL	R3
    00C6F 9230 0113 STS	temp_h+1,R3
    00C71 9220 0112 STS	temp_h,R2
(0102) 	    	temp_h=temp_h|(PINF&0x01);
    00C73 B180      IN	R24,0x00
    00C74 2799      CLR	R25
    00C75 7081      ANDI	R24,1
    00C76 7090      ANDI	R25,0
    00C77 2A28      OR	R2,R24
    00C78 2A39      OR	R3,R25
    00C79 9230 0113 STS	temp_h+1,R3
    00C7B 9220 0112 STS	temp_h,R2
(0103) 			sck_h_3;
    00C7D 9180 0062 LDS	R24,0x62
    00C7F 6082      ORI	R24,2
    00C80 9380 0062 STS	0x62,R24
(0104) 			delay_us(1);
    00C82 E001      LDI	R16,1
    00C83 E010      LDI	R17,0
    00C84 940E 043E CALL	_delay_us
    00C86 5F4F      SUBI	R20,0xFF
    00C87 4F5F      SBCI	R21,0xFF
    00C88 3048      CPI	R20,0x8
    00C89 E0E0      LDI	R30,0
    00C8A 075E      CPC	R21,R30
    00C8B F2A0      BCS	0x0C60
(0105) 			
(0106) 	   }
(0107) 	   for(i=0;i<8;i++){
    00C8C 2744      CLR	R20
    00C8D 2755      CLR	R21
    00C8E C028      RJMP	0x0CB7
(0108) 			sck_l_3;
    00C8F 9180 0062 LDS	R24,0x62
    00C91 7F8D      ANDI	R24,0xFD
    00C92 9380 0062 STS	0x62,R24
(0109) 			delay_us(1);
    00C94 E001      LDI	R16,1
    00C95 E010      LDI	R17,0
    00C96 940E 043E CALL	_delay_us
(0110) 			temp_l<<=1;
    00C98 9020 0114 LDS	R2,temp_l
    00C9A 9030 0115 LDS	R3,temp_l+1
    00C9C 0C22      LSL	R2
    00C9D 1C33      ROL	R3
    00C9E 9230 0115 STS	temp_l+1,R3
    00CA0 9220 0114 STS	temp_l,R2
(0111) 	    	temp_l=temp_l|(PINF&0x01);
    00CA2 B180      IN	R24,0x00
    00CA3 2799      CLR	R25
    00CA4 7081      ANDI	R24,1
    00CA5 7090      ANDI	R25,0
    00CA6 2A28      OR	R2,R24
    00CA7 2A39      OR	R3,R25
    00CA8 9230 0115 STS	temp_l+1,R3
    00CAA 9220 0114 STS	temp_l,R2
(0112) 			sck_h_3;
    00CAC 9180 0062 LDS	R24,0x62
    00CAE 6082      ORI	R24,2
    00CAF 9380 0062 STS	0x62,R24
(0113) 			delay_us(1);
    00CB1 E001      LDI	R16,1
    00CB2 E010      LDI	R17,0
    00CB3 940E 043E CALL	_delay_us
    00CB5 5F4F      SUBI	R20,0xFF
    00CB6 4F5F      SBCI	R21,0xFF
    00CB7 3048      CPI	R20,0x8
    00CB8 E0E0      LDI	R30,0
    00CB9 075E      CPC	R21,R30
    00CBA F2A0      BCS	0x0C8F
(0114) 	   }
(0115) 	    cs_h_3;
    00CBB 9180 0062 LDS	R24,0x62
    00CBD 6084      ORI	R24,4
    00CBE 9380 0062 STS	0x62,R24
(0116) 	   delay_us(10);
    00CC0 E00A      LDI	R16,0xA
    00CC1 E010      LDI	R17,0
    00CC2 940E 043E CALL	_delay_us
(0117) 	  // temp_l=0x55;
(0118) 	   return ;
    00CC4 9159      LD	R21,Y+
    00CC5 9149      LD	R20,Y+
    00CC6 9508      RET
_readTemp_4:
  i                    --> R20
    00CC7 934A      ST	-Y,R20
    00CC8 935A      ST	-Y,R21
(0119) }
(0120) void readTemp_4(void){
(0121) 	  uint i;
(0122) 	   sck_h_4;
    00CC9 9180 0062 LDS	R24,0x62
    00CCB 6180      ORI	R24,0x10
    00CCC 9380 0062 STS	0x62,R24
(0123) 	   cs_h_4;
    00CCE 9180 0062 LDS	R24,0x62
    00CD0 6280      ORI	R24,0x20
    00CD1 9380 0062 STS	0x62,R24
(0124) 	   delay_us(1);
    00CD3 E001      LDI	R16,1
    00CD4 E010      LDI	R17,0
    00CD5 940E 043E CALL	_delay_us
(0125) 	   cs_l_4;
    00CD7 9180 0062 LDS	R24,0x62
    00CD9 7D8F      ANDI	R24,0xDF
    00CDA 9380 0062 STS	0x62,R24
(0126) 	   delay_us(1);
    00CDC E001      LDI	R16,1
    00CDD E010      LDI	R17,0
    00CDE 940E 043E CALL	_delay_us
(0127) 	   sck_l_4;
    00CE0 9180 0062 LDS	R24,0x62
    00CE2 7E8F      ANDI	R24,0xEF
    00CE3 9380 0062 STS	0x62,R24
(0128) 	   delay_us(1);
    00CE5 E001      LDI	R16,1
    00CE6 E010      LDI	R17,0
    00CE7 940E 043E CALL	_delay_us
(0129) 	   sck_h_4;
    00CE9 9180 0062 LDS	R24,0x62
    00CEB 6180      ORI	R24,0x10
    00CEC 9380 0062 STS	0x62,R24
(0130) 	  for(i=0;i<8;i++){
    00CEE 2744      CLR	R20
    00CEF 2755      CLR	R21
    00CF0 C033      RJMP	0x0D24
(0131) 			sck_l_4;
    00CF1 9180 0062 LDS	R24,0x62
    00CF3 7E8F      ANDI	R24,0xEF
    00CF4 9380 0062 STS	0x62,R24
(0132) 			delay_us(1);
    00CF6 E001      LDI	R16,1
    00CF7 E010      LDI	R17,0
    00CF8 940E 043E CALL	_delay_us
(0133) 			temp_h=temp_h<<1;
    00CFA 9020 0112 LDS	R2,temp_h
    00CFC 9030 0113 LDS	R3,temp_h+1
    00CFE 0C22      LSL	R2
    00CFF 1C33      ROL	R3
    00D00 9230 0113 STS	temp_h+1,R3
    00D02 9220 0112 STS	temp_h,R2
(0134) 	    	temp_h=temp_h|((PINE&0x08)>>3);
    00D04 B181      IN	R24,0x01
    00D05 2799      CLR	R25
    00D06 7088      ANDI	R24,0x8
    00D07 7090      ANDI	R25,0
    00D08 011C      MOVW	R2,R24
    00D09 9435      ASR	R3
    00D0A 9427      ROR	R2
    00D0B 9435      ASR	R3
    00D0C 9427      ROR	R2
    00D0D 9435      ASR	R3
    00D0E 9427      ROR	R2
    00D0F 9040 0112 LDS	R4,temp_h
    00D11 9050 0113 LDS	R5,temp_h+1
    00D13 2842      OR	R4,R2
    00D14 2853      OR	R5,R3
    00D15 9250 0113 STS	temp_h+1,R5
    00D17 9240 0112 STS	temp_h,R4
(0135) 			sck_h_4;
    00D19 9180 0062 LDS	R24,0x62
    00D1B 6180      ORI	R24,0x10
    00D1C 9380 0062 STS	0x62,R24
(0136) 			delay_us(1);
    00D1E E001      LDI	R16,1
    00D1F E010      LDI	R17,0
    00D20 940E 043E CALL	_delay_us
    00D22 5F4F      SUBI	R20,0xFF
    00D23 4F5F      SBCI	R21,0xFF
    00D24 3048      CPI	R20,0x8
    00D25 E0E0      LDI	R30,0
    00D26 075E      CPC	R21,R30
    00D27 F248      BCS	0x0CF1
(0137) 			
(0138) 	   }
(0139) 	   for(i=0;i<8;i++){
    00D28 2744      CLR	R20
    00D29 2755      CLR	R21
    00D2A C033      RJMP	0x0D5E
(0140) 			sck_l_4;
    00D2B 9180 0062 LDS	R24,0x62
    00D2D 7E8F      ANDI	R24,0xEF
    00D2E 9380 0062 STS	0x62,R24
(0141) 			delay_us(1);
    00D30 E001      LDI	R16,1
    00D31 E010      LDI	R17,0
    00D32 940E 043E CALL	_delay_us
(0142) 			temp_l<<=1;
    00D34 9020 0114 LDS	R2,temp_l
    00D36 9030 0115 LDS	R3,temp_l+1
    00D38 0C22      LSL	R2
    00D39 1C33      ROL	R3
    00D3A 9230 0115 STS	temp_l+1,R3
    00D3C 9220 0114 STS	temp_l,R2
(0143) 	    	temp_l=temp_l|((PINE&0x08)>>3);
    00D3E B181      IN	R24,0x01
    00D3F 2799      CLR	R25
    00D40 7088      ANDI	R24,0x8
    00D41 7090      ANDI	R25,0
    00D42 011C      MOVW	R2,R24
    00D43 9435      ASR	R3
    00D44 9427      ROR	R2
    00D45 9435      ASR	R3
    00D46 9427      ROR	R2
    00D47 9435      ASR	R3
    00D48 9427      ROR	R2
    00D49 9040 0114 LDS	R4,temp_l
    00D4B 9050 0115 LDS	R5,temp_l+1
    00D4D 2842      OR	R4,R2
    00D4E 2853      OR	R5,R3
    00D4F 9250 0115 STS	temp_l+1,R5
    00D51 9240 0114 STS	temp_l,R4
(0144) 			sck_h_4;
    00D53 9180 0062 LDS	R24,0x62
    00D55 6180      ORI	R24,0x10
    00D56 9380 0062 STS	0x62,R24
(0145) 			delay_us(1);
    00D58 E001      LDI	R16,1
    00D59 E010      LDI	R17,0
    00D5A 940E 043E CALL	_delay_us
    00D5C 5F4F      SUBI	R20,0xFF
    00D5D 4F5F      SBCI	R21,0xFF
    00D5E 3048      CPI	R20,0x8
    00D5F E0E0      LDI	R30,0
    00D60 075E      CPC	R21,R30
    00D61 F248      BCS	0x0D2B
(0146) 	   }
(0147) 	    cs_h_4;
    00D62 9180 0062 LDS	R24,0x62
    00D64 6280      ORI	R24,0x20
    00D65 9380 0062 STS	0x62,R24
(0148) 	   delay_us(10);
    00D67 E00A      LDI	R16,0xA
    00D68 E010      LDI	R17,0
    00D69 940E 043E CALL	_delay_us
(0149) 	  // temp_l=0x55;
(0150) 	   return ;
    00D6B 9159      LD	R21,Y+
    00D6C 9149      LD	R20,Y+
    00D6D 9508      RET
_readTemp:
  n                    --> R20
    00D6E 934A      ST	-Y,R20
    00D6F 935A      ST	-Y,R21
    00D70 01A8      MOVW	R20,R16
(0151) }
(0152) //传入的int：0、1、2、3对应温度的读取
(0153) void readTemp(uint n){
(0154)   DDRE=0xDA;
    00D71 ED8A      LDI	R24,0xDA
    00D72 B982      OUT	0x02,R24
(0155)   DDRF=0xF6;
    00D73 EF86      LDI	R24,0xF6
    00D74 9380 0061 STS	0x61,R24
(0156)   PORTE |=0xFC;
    00D76 B183      IN	R24,0x03
    00D77 6F8C      ORI	R24,0xFC
    00D78 B983      OUT	0x03,R24
(0157)   PORTF |= 0xFF;
    00D79 9180 0062 LDS	R24,0x62
    00D7B 6F8F      ORI	R24,0xFF
    00D7C 9380 0062 STS	0x62,R24
(0158)    switch(n){
    00D7E 3040      CPI	R20,0
    00D7F 0745      CPC	R20,R21
    00D80 F069      BEQ	0x0D8E
    00D81 3041      CPI	R20,1
    00D82 E0E0      LDI	R30,0
    00D83 075E      CPC	R21,R30
    00D84 F059      BEQ	0x0D90
    00D85 3042      CPI	R20,2
    00D86 E0E0      LDI	R30,0
    00D87 075E      CPC	R21,R30
    00D88 F049      BEQ	0x0D92
    00D89 3043      CPI	R20,3
    00D8A E0E0      LDI	R30,0
    00D8B 075E      CPC	R21,R30
    00D8C F039      BEQ	0x0D94
    00D8D C007      RJMP	0x0D95
(0159)     case 0:
(0160) 	  readTemp_1();
    00D8E DDBD      RCALL	_readTemp_1
(0161) 	  break;
    00D8F C005      RJMP	0x0D95
(0162) 	case 1:
(0163) 	  readTemp_2();
    00D90 DE2C      RCALL	_readTemp_2
(0164) 	  break;
    00D91 C003      RJMP	0x0D95
(0165) 	case 2:
(0166) 	  readTemp_3();
    00D92 DEA3      RCALL	_readTemp_3
(0167) 	  break;
    00D93 C001      RJMP	0x0D95
(0168) 	case 3:
(0169) 	  readTemp_4();
    00D94 DF32      RCALL	_readTemp_4
(0170) 	  break;
    00D95 9159      LD	R21,Y+
    00D96 9149      LD	R20,Y+
    00D97 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\out.c
(0001) #include<iom128v.h>
(0002) #include "out.h"
(0003) #include "lcd.h"
(0004) #include "main.h"
(0005) //*********************
(0006) // 1秒钟50周期，控制功率是50周期输出量
(0007) //*********************
(0008) uint hz=1;//1~50表示周期
(0009) 
(0010) //0、1的传入。port由0~7
(0011) void out_port(void){
(0012)    if(hz==51){
_out_port:
    00D98 9180 0628 LDS	R24,hz
    00D9A 9190 0629 LDS	R25,hz+1
    00D9C 3383      CPI	R24,0x33
    00D9D E0E0      LDI	R30,0
    00D9E 079E      CPC	R25,R30
    00D9F F431      BNE	0x0DA6
(0013)      hz=0;
    00DA0 2422      CLR	R2
    00DA1 2433      CLR	R3
    00DA2 9230 0629 STS	hz+1,R3
    00DA4 9220 0628 STS	hz,R2
(0014)    }
(0015)    if(temps[0].flag==1){
    00DA6 9180 0116 LDS	R24,temps
    00DA8 9190 0117 LDS	R25,temps+1
    00DAA 3081      CPI	R24,1
    00DAB E0E0      LDI	R30,0
    00DAC 079E      CPC	R25,R30
    00DAD F4E1      BNE	0x0DCA
(0016) 	  if(temps[0].incrementtemp>=hz){
    00DAE 9040 0258 LDS	R4,temps+322
    00DB0 9050 0259 LDS	R5,temps+323
    00DB2 9020 0256 LDS	R2,temps+320
    00DB4 9030 0257 LDS	R3,temps+321
    00DB6 9100 0628 LDS	R16,hz
    00DB8 9110 0629 LDS	R17,hz+1
    00DBA 940E 2E52 CALL	uint2fp
    00DBC 933A      ST	-Y,R19
    00DBD 932A      ST	-Y,R18
    00DBE 931A      ST	-Y,R17
    00DBF 930A      ST	-Y,R16
    00DC0 0181      MOVW	R16,R2
    00DC1 0192      MOVW	R18,R4
    00DC2 940E 3022 CALL	fpcmp2
    00DC4 F014      BLT	0x0DC7
(0017) 	    PORTE |=0x01;
    00DC5 9A18      SBI	0x03,0
(0018) 	  }else {
    00DC6 C003      RJMP	0x0DCA
(0019) 	    PORTE &=0xFE;
    00DC7 B183      IN	R24,0x03
    00DC8 7F8E      ANDI	R24,0xFE
    00DC9 B983      OUT	0x03,R24
(0020) 	  }
(0021)    }
(0022)     if(temps[1].flag==1){
    00DCA 9180 025A LDS	R24,temps+324
    00DCC 9190 025B LDS	R25,temps+325
    00DCE 3081      CPI	R24,1
    00DCF E0E0      LDI	R30,0
    00DD0 079E      CPC	R25,R30
    00DD1 F4E1      BNE	0x0DEE
(0023) 	  if(temps[0].incrementtemp>=hz){
    00DD2 9040 0258 LDS	R4,temps+322
    00DD4 9050 0259 LDS	R5,temps+323
    00DD6 9020 0256 LDS	R2,temps+320
    00DD8 9030 0257 LDS	R3,temps+321
    00DDA 9100 0628 LDS	R16,hz
    00DDC 9110 0629 LDS	R17,hz+1
    00DDE 940E 2E52 CALL	uint2fp
    00DE0 933A      ST	-Y,R19
    00DE1 932A      ST	-Y,R18
    00DE2 931A      ST	-Y,R17
    00DE3 930A      ST	-Y,R16
    00DE4 0181      MOVW	R16,R2
    00DE5 0192      MOVW	R18,R4
    00DE6 940E 3022 CALL	fpcmp2
    00DE8 F014      BLT	0x0DEB
(0024) 	      PORTC |=0x02;
    00DE9 9AA9      SBI	0x15,1
(0025) 	    }else {
    00DEA C003      RJMP	0x0DEE
(0026) 	      PORTC &=0xFD;
    00DEB B385      IN	R24,0x15
    00DEC 7F8D      ANDI	R24,0xFD
    00DED BB85      OUT	0x15,R24
(0027) 	    }
(0028)    }
(0029)     if(temps[2].flag==1){
    00DEE 9180 039E LDS	R24,temps+648
    00DF0 9190 039F LDS	R25,temps+649
    00DF2 3081      CPI	R24,1
    00DF3 E0E0      LDI	R30,0
    00DF4 079E      CPC	R25,R30
    00DF5 F4E1      BNE	0x0E12
(0030) 	  if(temps[0].incrementtemp>=hz){
    00DF6 9040 0258 LDS	R4,temps+322
    00DF8 9050 0259 LDS	R5,temps+323
    00DFA 9020 0256 LDS	R2,temps+320
    00DFC 9030 0257 LDS	R3,temps+321
    00DFE 9100 0628 LDS	R16,hz
    00E00 9110 0629 LDS	R17,hz+1
    00E02 940E 2E52 CALL	uint2fp
    00E04 933A      ST	-Y,R19
    00E05 932A      ST	-Y,R18
    00E06 931A      ST	-Y,R17
    00E07 930A      ST	-Y,R16
    00E08 0181      MOVW	R16,R2
    00E09 0192      MOVW	R18,R4
    00E0A 940E 3022 CALL	fpcmp2
    00E0C F014      BLT	0x0E0F
(0031) 	      PORTC |=0x04;
    00E0D 9AAA      SBI	0x15,2
(0032) 	    }else {
    00E0E C003      RJMP	0x0E12
(0033) 	      PORTC &=0xFB;
    00E0F B385      IN	R24,0x15
    00E10 7F8B      ANDI	R24,0xFB
    00E11 BB85      OUT	0x15,R24
(0034) 	    }
(0035)    }
(0036)     if(temps[3].flag==1){
    00E12 9180 04E2 LDS	R24,temps+972
    00E14 9190 04E3 LDS	R25,temps+973
    00E16 3081      CPI	R24,1
    00E17 E0E0      LDI	R30,0
    00E18 079E      CPC	R25,R30
    00E19 F4E1      BNE	0x0E36
(0037) 	  if(temps[0].incrementtemp>=hz){
    00E1A 9040 0258 LDS	R4,temps+322
    00E1C 9050 0259 LDS	R5,temps+323
    00E1E 9020 0256 LDS	R2,temps+320
    00E20 9030 0257 LDS	R3,temps+321
    00E22 9100 0628 LDS	R16,hz
    00E24 9110 0629 LDS	R17,hz+1
    00E26 940E 2E52 CALL	uint2fp
    00E28 933A      ST	-Y,R19
    00E29 932A      ST	-Y,R18
    00E2A 931A      ST	-Y,R17
    00E2B 930A      ST	-Y,R16
    00E2C 0181      MOVW	R16,R2
    00E2D 0192      MOVW	R18,R4
    00E2E 940E 3022 CALL	fpcmp2
    00E30 F014      BLT	0x0E33
(0038) 	      PORTC |=0x08;
    00E31 9AAB      SBI	0x15,3
(0039) 	    }else {
    00E32 C003      RJMP	0x0E36
(0040) 	      PORTC &=0xF7;
    00E33 B385      IN	R24,0x15
    00E34 7F87      ANDI	R24,0xF7
    00E35 BB85      OUT	0x15,R24
(0041) 	    }
(0042)    }
(0043)     hz++;
    00E36 9180 0628 LDS	R24,hz
    00E38 9190 0629 LDS	R25,hz+1
    00E3A 9601      ADIW	R24,1
    00E3B 9390 0629 STS	hz+1,R25
    00E3D 9380 0628 STS	hz,R24
    00E3F 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\uart.c
(0001) #include <iom128v.h>
(0002) #include "uart.h"
(0003) 
(0004) //常量定义
(0005) #define BAUDRATE1       115200	//波特率
(0006) //#define BAUDRATE2       9600	//波特率
(0007) #define F_CPU		7372800//晶振频率
(0008) 
(0009) //变量定义
(0010) extern unsigned char send_buf[600];
(0011) extern unsigned char receive_buf[600];
(0012) extern unsigned int send_len;
(0013) extern unsigned int receive_len;
(0014) 
(0015) unsigned char uart_timeout_flag1;
(0016) unsigned char uart_timeout_flag2;
(0017) 
(0018) //串口1对应程序
(0019) ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0020) //USART 初始化
(0021) void init_USART1(void)
(0022) {
(0023)     //USART 115200 8, n,1  PC上位机软件(超级终端等)也要设成同样的设置才能通讯
(0024)     UCSR0C = (1<<USBS0)|(3<<UCSZ00);
_init_USART1:
    00E40 E08E      LDI	R24,0xE
    00E41 9380 0095 STS	0x95,R24
(0025)     
(0026)   //异步，8位数据，无奇偶校验，一个停止位，无倍速   
(0027)     //U2X=0时的公式计算
(0028)     UBRR0L= (F_CPU/BAUDRATE1/16-1)%256;
    00E43 E083      LDI	R24,3
    00E44 B989      OUT	0x09,R24
(0029)     UBRR0H= (F_CPU/BAUDRATE1/16-1)/256;
    00E45 2422      CLR	R2
    00E46 9220 0090 STS	0x90,R2
(0030) 
(0031)     UCSR0A = 0x00;
    00E48 B82B      OUT	0x0B,R2
(0032) 
(0033)     //使能接收中断，使能接收，使能发送
(0034)     UCSR0B = (1<<RXEN0)|(1<<TXEN0);
    00E49 E188      LDI	R24,0x18
    00E4A B98A      OUT	0x0A,R24
    00E4B 9508      RET
(0035)     
(0036) }
(0037) 
(0038) //向串口1写数
(0039) void put_c1(unsigned char c)
(0040) {
(0041) 	while( !(UCSR0A & (1<<UDRE0)) );
_put_c1:
  c                    --> R16
    00E4C 9B5D      SBIS	0x0B,5
    00E4D CFFE      RJMP	_put_c1
(0042) 	UDR0=c;	
    00E4E B90C      OUT	0x0C,R16
    00E4F 9508      RET
(0043) }
(0044) 
(0045) //从串口1读数
(0046) unsigned char USART_Receive1( void )
(0047) {
(0048)    unsigned int j=0;
_USART_Receive1:
  j                    --> R16
    00E50 2700      CLR	R16
    00E51 2711      CLR	R17
(0049)    uart_timeout_flag1=0; 
    00E52 2422      CLR	R2
    00E53 9220 0D63 STS	uart_timeout_flag1,R2
    00E55 C00B      RJMP	0x0E61
(0050)   //等待接受标志
(0051)   while ( !(UCSR0A & (1<<RXC0)) ){
(0052)     if(j==32000) //判断超时，并设置标志
    00E56 3000      CPI	R16,0
    00E57 E7ED      LDI	R30,0x7D
    00E58 071E      CPC	R17,R30
    00E59 F429      BNE	0x0E5F
(0053)     { uart_timeout_flag1=1;   
    00E5A E081      LDI	R24,1
    00E5B 9380 0D63 STS	uart_timeout_flag1,R24
(0054)     return FAILURE;}
    00E5D E001      LDI	R16,1
    00E5E C005      RJMP	0x0E64
(0055) 	else 
(0056) 		j++;
    00E5F 5F0F      SUBI	R16,0xFF
    00E60 4F1F      SBCI	R17,0xFF
    00E61 9B5F      SBIS	0x0B,7
    00E62 CFF3      RJMP	0x0E56
(0057)     ;}
(0058)   //读接收数据  
(0059)   return UDR0;
    00E63 B10C      IN	R16,0x0C
    00E64 9508      RET
_receiveStrfromCom:
  k                    --> R20
    00E65 92AA      ST	-Y,R10
    00E66 934A      ST	-Y,R20
(0060) }
(0061) 
(0062) //从串口接收数据串
(0063) unsigned char receiveStrfromCom(void)
(0064) {
    00E67 C03E      RJMP	0x0EA6
(0065)   unsigned char k;
(0066) 
(0067)   while(1)
(0068)   {
(0069)     ///以下为从串口接收数据的过程
(0070)     send_buf[0]=USART_Receive1();
    00E68 DFE7      RCALL	_USART_Receive1
    00E69 9300 0AF5 STS	send_buf,R16
(0071)     //若接收的不是命令头则继续等待
(0072)     if(send_buf[0]!=0x02)continue;
    00E6B 3002      CPI	R16,2
    00E6C F009      BEQ	0x0E6E
    00E6D C038      RJMP	0x0EA6
(0073)       
(0074)     for(k=1;k<5;k++)
    00E6E E041      LDI	R20,1
    00E6F C00F      RJMP	0x0E7F
(0075)     {
(0076)         send_buf[k]=USART_Receive1(); 
    00E70 DFDF      RCALL	_USART_Receive1
    00E71 EF85      LDI	R24,0xF5
    00E72 E09A      LDI	R25,0xA
    00E73 2FE4      MOV	R30,R20
    00E74 27FF      CLR	R31
    00E75 0FE8      ADD	R30,R24
    00E76 1FF9      ADC	R31,R25
    00E77 8300      ST	Z,R16
(0077)         if(uart_timeout_flag1==1)
    00E78 9180 0D63 LDS	R24,uart_timeout_flag1
    00E7A 3081      CPI	R24,1
    00E7B F411      BNE	0x0E7E
(0078)         {  
(0079) //          ComSendResponse(send_buf[3],EXE_TIME_OUT,1);
(0080)           return FAILURE;
    00E7C E001      LDI	R16,1
    00E7D C029      RJMP	0x0EA7
    00E7E 9543      INC	R20
    00E7F 3045      CPI	R20,5
    00E80 F378      BCS	0x0E70
(0081)         }  
(0082)     }
(0083)     
(0084)     send_len=send_buf[4];
    00E81 9020 0AF9 LDS	R2,send_buf+4
    00E83 2433      CLR	R3
    00E84 9230 089C STS	send_len+1,R3
    00E86 9220 089B STS	send_len,R2
(0085)     
(0086)     for(k=5;k<send_len+6;k++)
    00E88 E045      LDI	R20,5
    00E89 C010      RJMP	0x0E9A
(0087)     {
(0088)         send_buf[k]=USART_Receive1(); 
    00E8A DFC5      RCALL	_USART_Receive1
    00E8B 2EA0      MOV	R10,R16
    00E8C EF85      LDI	R24,0xF5
    00E8D E09A      LDI	R25,0xA
    00E8E 2FE4      MOV	R30,R20
    00E8F 27FF      CLR	R31
    00E90 0FE8      ADD	R30,R24
    00E91 1FF9      ADC	R31,R25
    00E92 82A0      ST	Z,R10
(0089)         if(uart_timeout_flag1==1)
    00E93 9180 0D63 LDS	R24,uart_timeout_flag1
    00E95 3081      CPI	R24,1
    00E96 F411      BNE	0x0E99
(0090)         {  
(0091) //           ComSendResponse(send_buf[3],EXE_TIME_OUT,1);
(0092)            return FAILURE; 
    00E97 E001      LDI	R16,1
    00E98 C00E      RJMP	0x0EA7
    00E99 9543      INC	R20
    00E9A 9180 089B LDS	R24,send_len
    00E9C 9190 089C LDS	R25,send_len+1
    00E9E 9606      ADIW	R24,6
    00E9F 2E24      MOV	R2,R20
    00EA0 2433      CLR	R3
    00EA1 1628      CP	R2,R24
    00EA2 0639      CPC	R3,R25
    00EA3 F330      BCS	0x0E8A
(0093)         }  
(0094)     }  
(0095)     return SUCCESS;
    00EA4 2700      CLR	R16
    00EA5 C001      RJMP	0x0EA7
    00EA6 CFC1      RJMP	0x0E68
    00EA7 9149      LD	R20,Y+
    00EA8 90A9      LD	R10,Y+
    00EA9 9508      RET
_outStrtoCom:
  i                    --> R10
  length               --> R12
  pData                --> R14
    00EAA 940E 2CFE CALL	push_xgset00FC
    00EAC 0169      MOVW	R12,R18
    00EAD 0178      MOVW	R14,R16
(0096) 
(0097)   }  
(0098)   return FAILURE;
(0099) } 
(0100) 
(0101) //向串口输出数据串
(0102) void outStrtoCom(unsigned char *pData,unsigned int length)
(0103) {
(0104) 	unsigned char i;
(0105) 	for(i=0;i<length;i++)
    00EAE 24AA      CLR	R10
    00EAF C007      RJMP	0x0EB7
(0106) 		put_c1(pData[i]);
    00EB0 2DEA      MOV	R30,R10
    00EB1 27FF      CLR	R31
    00EB2 0DEE      ADD	R30,R14
    00EB3 1DFF      ADC	R31,R15
    00EB4 8100      LD	R16,Z
    00EB5 DF96      RCALL	_put_c1
    00EB6 94A3      INC	R10
    00EB7 2C2A      MOV	R2,R10
    00EB8 2433      CLR	R3
    00EB9 142C      CP	R2,R12
    00EBA 043D      CPC	R3,R13
    00EBB F3A0      BCS	0x0EB0
    00EBC 940C 2CE8 JMP	pop_xgset00FC
_MAC_CalCrc16:
  i                    --> R10
  j                    --> R22
  value_CRC            --> R20
  ucLen                --> R12
  pCrc16               --> R18
  pInput               --> R16
    00EBE 940E 2D35 CALL	push_xgsetF03C
    00EC0 84C8      LDD	R12,Y+8
(0107) }
(0108) /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0109) 
(0110) /*-----------------------------------------------
(0111) 函数名： 　MAC_CalCrc16
(0112) 功  能：  以字节为单位计算len个数的CRC16校验和，首字节
(0113) 		  为pInput[0].
(0114) 参  数：  pInput			为需要计算CRC的数据的指针
(0115)           pCrc16			为指向存储CRC值的数组
(0116)           ucLen				为需要计算CRC的数据长度
(0117) 返回值：　无　
(0118) 作  者：　lz
(0119) 日  期：  2008-06-18
(0120) ------------------------------------------------*/
(0121) void MAC_CalCrc16(unsigned char  *pInput, unsigned char * pCrc16, unsigned char ucLen)   
(0122) {   
(0123)     unsigned int value_CRC=0xffff;
    00EC1 EF4F      LDI	R20,0xFF
    00EC2 EF5F      LDI	R21,0xFF
(0124)     unsigned char i;
(0125)     unsigned char j;
(0126) 
(0127) 	for( i=0; i<ucLen; i++ )
    00EC3 24AA      CLR	R10
    00EC4 C01B      RJMP	0x0EE0
(0128) 	{	
(0129) 		value_CRC = value_CRC ^((unsigned int)pInput[i]);
    00EC5 2DEA      MOV	R30,R10
    00EC6 27FF      CLR	R31
    00EC7 0FE0      ADD	R30,R16
    00EC8 1FF1      ADC	R31,R17
    00EC9 8020      LD	R2,Z
    00ECA 2433      CLR	R3
    00ECB 2542      EOR	R20,R2
    00ECC 2553      EOR	R21,R3
(0130) 		for (j = 0; j < 8; j++)
    00ECD 2766      CLR	R22
    00ECE C00E      RJMP	0x0EDD
(0131) 		{
(0132) 			if (value_CRC & 0x0001)
    00ECF FF40      SBRS	R20,0
    00ED0 C009      RJMP	0x0EDA
(0133) 			{
(0134) 				value_CRC = (value_CRC >> 1) ^ 0x8408;
    00ED1 E088      LDI	R24,0x8
    00ED2 E894      LDI	R25,0x84
    00ED3 011A      MOVW	R2,R20
    00ED4 9436      LSR	R3
    00ED5 9427      ROR	R2
    00ED6 2628      EOR	R2,R24
    00ED7 2639      EOR	R3,R25
    00ED8 01A1      MOVW	R20,R2
(0135) 			}
    00ED9 C002      RJMP	0x0EDC
(0136) 			else
(0137) 			{
(0138) 				value_CRC = (value_CRC >> 1);
    00EDA 9556      LSR	R21
    00EDB 9547      ROR	R20
    00EDC 9563      INC	R22
    00EDD 3068      CPI	R22,0x8
    00EDE F380      BCS	0x0ECF
    00EDF 94A3      INC	R10
    00EE0 14AC      CP	R10,R12
    00EE1 F318      BCS	0x0EC5
(0139) 			}
(0140) 		}
(0141) 	}
(0142) 	
(0143)   	pCrc16[0] = (unsigned char)(value_CRC>>8);
    00EE2 011A      MOVW	R2,R20
    00EE3 2C23      MOV	R2,R3
    00EE4 2433      CLR	R3
    00EE5 01F9      MOVW	R30,R18
    00EE6 8220      ST	Z,R2
(0144) 	pCrc16[1] = (unsigned char)(value_CRC);
    00EE7 8341      STD	Z+1,R20
(0145) 	
(0146) 	return;
    00EE8 940C 2D3E JMP	pop_xgsetF03C
_MAC_CheckCrc16:
  CrcChk               --> Y,+1
  ucLen                --> R20
  pInput               --> R10
    00EEA 940E 2D05 CALL	push_xgset300C
    00EEC 2F42      MOV	R20,R18
    00EED 0158      MOVW	R10,R16
    00EEE 9723      SBIW	R28,3
(0147) }
(0148) 
(0149) 
(0150) /*-----------------------------------------------
(0151) 函数名：	MAC_CheckCrc16
(0152) 功  能：  校验一帧长度为ucLen的数据，pInput[ucLen]
(0153)           pInput[ucLen+1]是这帧数据的校验字节。
(0154) 参  数：  pInput      校验帧的首地址
(0155)           ucLen 　　　需校验的数据帧的长度 
(0156) 返回值：　0表示校验通过，1表示校验失败　
(0157) 作  者：　lz
(0158) 日  期：  2008-06-18
(0159) ------------------------------------------------*/
(0160) unsigned char MAC_CheckCrc16(unsigned char * pInput, unsigned char ucLen)
(0161) {
(0162) 	unsigned char CrcChk[2];
(0163) 
(0164) 	MAC_CalCrc16(pInput,CrcChk,ucLen-2);
    00EEF 2F84      MOV	R24,R20
    00EF0 5082      SUBI	R24,2
    00EF1 8388      ST	Y,R24
    00EF2 019E      MOVW	R18,R28
    00EF3 5F2F      SUBI	R18,0xFF
    00EF4 4F3F      SBCI	R19,0xFF
    00EF5 0185      MOVW	R16,R10
    00EF6 DFC7      RCALL	_MAC_CalCrc16
(0165) 
(0166) 	if (CrcChk[0]!=pInput[ucLen-2] || CrcChk[1]!=pInput[ucLen-1])
    00EF7 2FE4      MOV	R30,R20
    00EF8 27FF      CLR	R31
    00EF9 9732      SBIW	R30,2
    00EFA 0DEA      ADD	R30,R10
    00EFB 1DFB      ADC	R31,R11
    00EFC 8020      LD	R2,Z
    00EFD 8039      LDD	R3,Y+1
    00EFE 1432      CP	R3,R2
    00EFF F449      BNE	0x0F09
    00F00 2FE4      MOV	R30,R20
    00F01 27FF      CLR	R31
    00F02 9731      SBIW	R30,1
    00F03 0DEA      ADD	R30,R10
    00F04 1DFB      ADC	R31,R11
    00F05 8020      LD	R2,Z
    00F06 803A      LDD	R3,Y+2
    00F07 1432      CP	R3,R2
    00F08 F011      BEQ	0x0F0B
(0167) 	{
(0168) 		return FAILURE; // crc16 fail!
    00F09 E001      LDI	R16,1
    00F0A C001      RJMP	0x0F0C
(0169) 	}
(0170) 	
(0171) 	return SUCCESS; // crc16 ok!
    00F0B 2700      CLR	R16
    00F0C 9623      ADIW	R28,3
    00F0D 940C 2D0A JMP	pop_xgset300C
_ComSendResponse:
  crc_buf              --> Y,+1
  LenData              --> R20
  statusdata           --> R12
  CmdData              --> R10
    00F0F 940E 2D27 CALL	push_xgset303C
    00F11 2EC2      MOV	R12,R18
    00F12 2EA0      MOV	R10,R16
    00F13 9723      SBIW	R28,3
    00F14 8549      LDD	R20,Y+9
(0172) }
(0173) /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0174) //发送命令响应结果
(0175) void ComSendResponse(unsigned char CmdData,unsigned char statusdata,unsigned char LenData)
(0176) {
(0177)     unsigned char crc_buf[2];
(0178)     
(0179)     receive_buf[5]= statusdata;
    00F15 92C0 08A2 STS	receive_buf+5,R12
(0180) 
(0181)     receive_buf[4]=LenData;
    00F17 9340 08A1 STS	receive_buf+4,R20
(0182) 
(0183)     receive_buf[3]=CmdData;
    00F19 92A0 08A0 STS	receive_buf+3,R10
(0184)     
(0185)     receive_buf[1]=0x00;receive_buf[2]=0x01;
    00F1B 2422      CLR	R2
    00F1C 9220 089E STS	receive_buf+1,R2
    00F1E E081      LDI	R24,1
    00F1F 9380 089F STS	receive_buf+2,R24
(0186) 
(0187)     receive_buf[0]=0x02;
    00F21 E082      LDI	R24,2
    00F22 9380 089D STS	receive_buf,R24
(0188)     
(0189)     MAC_CalCrc16(receive_buf, crc_buf,LenData+5); 
    00F24 2F84      MOV	R24,R20
    00F25 5F8B      SUBI	R24,0xFB
    00F26 8388      ST	Y,R24
    00F27 019E      MOVW	R18,R28
    00F28 5F2F      SUBI	R18,0xFF
    00F29 4F3F      SBCI	R19,0xFF
    00F2A E90D      LDI	R16,0x9D
    00F2B E018      LDI	R17,0x8
    00F2C DF91      RCALL	_MAC_CalCrc16
(0190)     
(0191)     receive_buf[LenData+5]=crc_buf[0];
    00F2D EA82      LDI	R24,0xA2
    00F2E E098      LDI	R25,0x8
    00F2F 2FE4      MOV	R30,R20
    00F30 27FF      CLR	R31
    00F31 0FE8      ADD	R30,R24
    00F32 1FF9      ADC	R31,R25
    00F33 8029      LDD	R2,Y+1
    00F34 8220      ST	Z,R2
(0192)     
(0193)     receive_buf[LenData+6]=crc_buf[1];//数据包尾 
    00F35 EA83      LDI	R24,0xA3
    00F36 E098      LDI	R25,0x8
    00F37 2FE4      MOV	R30,R20
    00F38 27FF      CLR	R31
    00F39 0FE8      ADD	R30,R24
    00F3A 1FF9      ADC	R31,R25
    00F3B 802A      LDD	R2,Y+2
    00F3C 8220      ST	Z,R2
(0194)     
(0195)     init_USART1(); 
    00F3D DF02      RCALL	_init_USART1
(0196)     outStrtoCom(receive_buf,LenData+7); 
    00F3E 2F24      MOV	R18,R20
    00F3F 2733      CLR	R19
    00F40 5F29      SUBI	R18,0xF9
    00F41 4F3F      SBCI	R19,0xFF
    00F42 E90D      LDI	R16,0x9D
    00F43 E018      LDI	R17,0x8
    00F44 DF65      RCALL	_outStrtoCom
(0197)    
(0198)     return;
    00F45 9623      ADIW	R28,3
    00F46 940C 2D2E JMP	pop_xgset303C
_EEPROM_write:
  data                 --> R10
  addr_l               --> R14
  addr_h               --> R12
    00F48 940E 2CFE CALL	push_xgset00FC
    00F4A 0179      MOVW	R14,R18
    00F4B 0168      MOVW	R12,R16
    00F4C 80AE      LDD	R10,Y+6
    00F4D 80BF      LDD	R11,Y+7
FILE: E:\ICCDemo\Temp_Control\temp_control\eeprom.c
(0001) #include<iom128v.h>
(0002) #include "eeprom.h"
(0003) #include "delay.h"
(0004) 
(0005) //使用全非中断方式读写。温控数据在保存时候一次性写入。状态数据执行时写入，写入量小不会影响速度
(0006) void EEPROM_write(uint addr_h,uint addr_l,uint data){
(0007)    SREG&=0x7F;//关中断
    00F4E B78F      IN	R24,0x3F
    00F4F 778F      ANDI	R24,0x7F
    00F50 BF8F      OUT	0x3F,R24
(0008)     while(EECR & (1<<EEWE)){
    00F51 99E1      SBIC	0x1C,1
    00F52 CFFE      RJMP	0x0F51
(0009) 	 			 
(0010) 	 } 
(0011) 	  EEARL=addr_l;
    00F53 BAEE      OUT	0x1E,R14
(0012) 	 EEARH=addr_h;
    00F54 BACF      OUT	0x1F,R12
(0013) 	 EEDR=data;
    00F55 BAAD      OUT	0x1D,R10
(0014) 	 EECR|=(1<<EEMWE);
    00F56 9AE2      SBI	0x1C,2
(0015) 	 EECR|=(1<<EEWE);
    00F57 9AE1      SBI	0x1C,1
(0016) 	  delay_us(1);
    00F58 E001      LDI	R16,1
    00F59 E010      LDI	R17,0
    00F5A 940E 043E CALL	_delay_us
(0017) 	 SREG|=0x80;//开中断
    00F5C 9478      BSET	7
(0018) 	 return;
    00F5D 940C 2CE8 JMP	pop_xgset00FC
_EEPROM_read:
  data                 --> R10
  addr_l               --> R12
  addr_h               --> R10
    00F5F 940E 2D00 CALL	push_xgset003C
    00F61 0169      MOVW	R12,R18
    00F62 0158      MOVW	R10,R16
(0019) }
(0020) uint EEPROM_read(uint addr_h,uint addr_l){
(0021)    uint data;
(0022)    SREG&=0x7F;//关中断
    00F63 B78F      IN	R24,0x3F
    00F64 778F      ANDI	R24,0x7F
    00F65 BF8F      OUT	0x3F,R24
(0023)     while(EECR & (1<<EEWE)){ 			 
    00F66 99E1      SBIC	0x1C,1
    00F67 CFFE      RJMP	0x0F66
(0024) 	 }
(0025) 	EEARL=addr_l;
    00F68 BACE      OUT	0x1E,R12
(0026) 	 EEARH=addr_h;
    00F69 BAAF      OUT	0x1F,R10
(0027) 	 
(0028) 	 EECR|=(1<<EERE);
    00F6A 9AE0      SBI	0x1C,0
(0029) 	 delay_us(1);
    00F6B E001      LDI	R16,1
    00F6C E010      LDI	R17,0
    00F6D 940E 043E CALL	_delay_us
(0030) 	 data=EEDR;
    00F6F B2AD      IN	R10,0x1D
    00F70 24BB      CLR	R11
(0031) 	 SREG|=0x80;//开中断
    00F71 9478      BSET	7
(0032) 	 return data;
    00F72 0185      MOVW	R16,R10
    00F73 940C 2CE3 JMP	pop_xgset003C
_pageTime:
  y                    --> R10
    00F75 92AA      ST	-Y,R10
    00F76 92BA      ST	-Y,R11
    00F77 0158      MOVW	R10,R16
    00F78 9722      SBIW	R28,2
FILE: E:\ICCDemo\Temp_Control\temp_control\pages.c
(0001) #include<iom128v.h>
(0002) #include "main.h"
(0003) #include "lcd.h"
(0004) #include "time1307.h"
(0005) #include "timertask.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "temp.h"
(0009) #include "eeprom.h"
(0010) //下面这个头文件里包含WDR();喂狗的方法
(0011) //#include <AVRdef.h>
(0012) 
(0013) //************************
(0014) // 所有界面信息在这里,用到全局变量， 
(0015) // unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0016) // unsigned int pageParam[5];//传递参数。界面间参数暂存
(0017) // unsigned int prePageNum;
(0018) //************************
(0019) 
(0020) //用于显第一行日期信息，其中Page1、Page3 、Page8使用，
(0021) //由定时器触发该函数，进入这三个界面是启动定时器，退出时关闭
(0022) void pageTime(uint y){
(0023)                 //关定时器
(0024)    lcd_write_str(0,y,"时间:");
    00F79 E980      LDI	R24,0x90
    00F7A E098      LDI	R25,0x8
    00F7B 8399      STD	Y+1,R25
    00F7C 8388      ST	Y,R24
    00F7D 2D2A      MOV	R18,R10
    00F7E 2700      CLR	R16
    00F7F 940E 0699 CALL	_lcd_write_str
(0025)    showTime_page(y);
    00F81 0185      MOVW	R16,R10
    00F82 940E 2BF3 CALL	_showTime_page
    00F84 9622      ADIW	R28,2
    00F85 90B9      LD	R11,Y+
    00F86 90A9      LD	R10,Y+
    00F87 9508      RET
_pageTime2:
  y                    --> R10
    00F88 92AA      ST	-Y,R10
    00F89 92BA      ST	-Y,R11
    00F8A 0158      MOVW	R10,R16
(0026)                  //开定时器 
(0027) }
(0028) void pageTime2(uint y){
(0029)                 //关定时器
(0030)    //lcd_write_str(0,y,"时间:");
(0031)    showTime_page(y);
    00F8B 0185      MOVW	R16,R10
    00F8C 940E 2BF3 CALL	_showTime_page
    00F8E 90B9      LD	R11,Y+
    00F8F 90A9      LD	R10,Y+
    00F90 9508      RET
_page1:
  cur                  --> R20
  keyV                 --> R10
  y                    --> R22
  i                    --> R10
    00F91 940E 2D35 CALL	push_xgsetF03C
    00F93 9722      SBIW	R28,2
(0032)                  //开定时器 
(0033) }
(0034) //page1,首页的界面
(0035) void page1(void){
(0036)    uint cur=0;
(0037)    uchar keyV;
(0038)    uint i;//用于循环
(0039)    uint y;//确定是那个半屏幕
(0040)    prePageNum=1;//首页不会再有上一界面，这里设置。虽然违反规则
    00F94 E081      LDI	R24,1
    00F95 E090      LDI	R25,0
    00F96 9390 0D4E STS	prePageNum+1,R25
    00F98 9380 0D4D STS	prePageNum,R24
(0041)    //初始化起始选择
(0042)     lcd_write_str(1,1," T1:");
    00F9A E88B      LDI	R24,0x8B
    00F9B E098      LDI	R25,0x8
    00F9C 8399      STD	Y+1,R25
    00F9D 8388      ST	Y,R24
    00F9E E021      LDI	R18,1
    00F9F E001      LDI	R16,1
    00FA0 940E 0699 CALL	_lcd_write_str
(0043)     lcd_write_str(6,1," T2:");
    00FA2 E886      LDI	R24,0x86
    00FA3 E098      LDI	R25,0x8
    00FA4 8399      STD	Y+1,R25
    00FA5 8388      ST	Y,R24
    00FA6 E021      LDI	R18,1
    00FA7 E006      LDI	R16,6
    00FA8 940E 0699 CALL	_lcd_write_str
(0044)     lcd_write_str(1,2," T3:");
    00FAA E881      LDI	R24,0x81
    00FAB E098      LDI	R25,0x8
    00FAC 8399      STD	Y+1,R25
    00FAD 8388      ST	Y,R24
    00FAE E022      LDI	R18,2
    00FAF E001      LDI	R16,1
    00FB0 940E 0699 CALL	_lcd_write_str
(0045)     lcd_write_str(6,2," T4:");
    00FB2 E78C      LDI	R24,0x7C
    00FB3 E098      LDI	R25,0x8
    00FB4 8399      STD	Y+1,R25
    00FB5 8388      ST	Y,R24
    00FB6 E022      LDI	R18,2
    00FB7 E006      LDI	R16,6
    00FB8 940E 0699 CALL	_lcd_write_str
(0046) 
(0047) 	
(0048) 	lcd_write_str(1,3,"开始    ");
    00FBA E783      LDI	R24,0x73
    00FBB E098      LDI	R25,0x8
    00FBC 8399      STD	Y+1,R25
    00FBD 8388      ST	Y,R24
    00FBE E023      LDI	R18,3
    00FBF E001      LDI	R16,1
    00FC0 940E 0699 CALL	_lcd_write_str
(0049)     lcd_write_str_con(3,"停止    ");
    00FC2 E62A      LDI	R18,0x6A
    00FC3 E038      LDI	R19,0x8
    00FC4 E003      LDI	R16,3
    00FC5 940E 06E3 CALL	_lcd_write_str_con
(0050) 	lcd_write_str_con(3,"设置");
    00FC7 E625      LDI	R18,0x65
    00FC8 E038      LDI	R19,0x8
    00FC9 E003      LDI	R16,3
    00FCA 940E 06E3 CALL	_lcd_write_str_con
(0051) 	lcd_write_str(1,3,"开始    ");
    00FCC E783      LDI	R24,0x73
    00FCD E098      LDI	R25,0x8
    00FCE 8399      STD	Y+1,R25
    00FCF 8388      ST	Y,R24
    00FD0 E023      LDI	R18,3
    00FD1 E001      LDI	R16,1
    00FD2 940E 0699 CALL	_lcd_write_str
(0052)     lcd_write_str_con(3,"停止    ");
    00FD4 E62A      LDI	R18,0x6A
    00FD5 E038      LDI	R19,0x8
    00FD6 E003      LDI	R16,3
    00FD7 940E 06E3 CALL	_lcd_write_str_con
(0053) 	lcd_write_str_con(3,"设置"); 
    00FD9 E625      LDI	R18,0x65
    00FDA E038      LDI	R19,0x8
    00FDB E003      LDI	R16,3
    00FDC 940E 06E3 CALL	_lcd_write_str_con
(0054) 	cur=0;
    00FDE 2744      CLR	R20
    00FDF 2755      CLR	R21
(0055) 	Set_White(2,1,3);
    00FE0 E083      LDI	R24,3
    00FE1 8388      ST	Y,R24
    00FE2 E021      LDI	R18,1
    00FE3 E002      LDI	R16,2
    00FE4 940E 08BE CALL	_Set_White
    00FE6 C37E      RJMP	0x1365
(0056) 	while(1){
(0057) 	 pageTime(0);
    00FE7 2700      CLR	R16
    00FE8 2711      CLR	R17
    00FE9 DF8B      RCALL	_pageTime
(0058) 	for(i=0;i<4;i++){
    00FEA 24AA      CLR	R10
    00FEB 24BB      CLR	R11
    00FEC C0DF      RJMP	0x10CC
(0059) 	  if(i==0){
    00FED 20AA      TST	R10
    00FEE F449      BNE	0x0FF8
    00FEF 20BB      TST	R11
    00FF0 F439      BNE	0x0FF8
(0060) 	    y=1;
    00FF1 E061      LDI	R22,1
    00FF2 E070      LDI	R23,0
(0061) 	    lcd_write_pos(3,1);
    00FF3 E021      LDI	R18,1
    00FF4 E003      LDI	R16,3
    00FF5 940E 0655 CALL	_lcd_write_pos
(0062) 	  }else if(i==1){
    00FF7 C023      RJMP	0x101B
    00FF8 01C5      MOVW	R24,R10
    00FF9 3081      CPI	R24,1
    00FFA E0E0      LDI	R30,0
    00FFB 079E      CPC	R25,R30
    00FFC F439      BNE	0x1004
(0063) 	    y=1;
    00FFD E061      LDI	R22,1
    00FFE E070      LDI	R23,0
(0064) 	    lcd_write_pos(8,1);
    00FFF E021      LDI	R18,1
    01000 E008      LDI	R16,0x8
    01001 940E 0655 CALL	_lcd_write_pos
(0065) 	  }else if(i==2){
    01003 C017      RJMP	0x101B
    01004 01C5      MOVW	R24,R10
    01005 3082      CPI	R24,2
    01006 E0E0      LDI	R30,0
    01007 079E      CPC	R25,R30
    01008 F439      BNE	0x1010
(0066) 	    y=2;
    01009 E062      LDI	R22,2
    0100A E070      LDI	R23,0
(0067) 	    lcd_write_pos(3,2);
    0100B E022      LDI	R18,2
    0100C E003      LDI	R16,3
    0100D 940E 0655 CALL	_lcd_write_pos
(0068) 	  }else if(i==3){
    0100F C00B      RJMP	0x101B
    01010 01C5      MOVW	R24,R10
    01011 3083      CPI	R24,3
    01012 E0E0      LDI	R30,0
    01013 079E      CPC	R25,R30
    01014 F431      BNE	0x101B
(0069) 	    y=2;
    01015 E062      LDI	R22,2
    01016 E070      LDI	R23,0
(0070) 	    lcd_write_pos(8,2);
    01017 E022      LDI	R18,2
    01018 E008      LDI	R16,0x8
    01019 940E 0655 CALL	_lcd_write_pos
(0071) 	  }
(0072) 	   switch(temps[i].flag){
    0101B E404      LDI	R16,0x44
    0101C E011      LDI	R17,1
    0101D 0195      MOVW	R18,R10
    0101E 940E 2CD3 CALL	empy16s
    01020 E186      LDI	R24,0x16
    01021 E091      LDI	R25,1
    01022 01F8      MOVW	R30,R16
    01023 0FE8      ADD	R30,R24
    01024 1FF9      ADC	R31,R25
    01025 80C0      LD	R12,Z
    01026 80D1      LDD	R13,Z+1
    01027 20CC      TST	R12
    01028 F411      BNE	0x102B
    01029 20DD      TST	R13
    0102A F0F9      BEQ	0x104A
    0102B 01C6      MOVW	R24,R12
    0102C 3081      CPI	R24,1
    0102D E0E0      LDI	R30,0
    0102E 079E      CPC	R25,R30
    0102F F101      BEQ	0x1050
    01030 3082      CPI	R24,2
    01031 E0E0      LDI	R30,0
    01032 079E      CPC	R25,R30
    01033 F409      BNE	0x1035
    01034 C077      RJMP	0x10AC
    01035 3083      CPI	R24,3
    01036 E0E0      LDI	R30,0
    01037 079E      CPC	R25,R30
    01038 F409      BNE	0x103A
    01039 C078      RJMP	0x10B2
    0103A 3084      CPI	R24,4
    0103B E0E0      LDI	R30,0
    0103C 079E      CPC	R25,R30
    0103D F409      BNE	0x103F
    0103E C079      RJMP	0x10B8
    0103F 3085      CPI	R24,5
    01040 E0E0      LDI	R30,0
    01041 079E      CPC	R25,R30
    01042 F409      BNE	0x1044
    01043 C07A      RJMP	0x10BE
    01044 3086      CPI	R24,6
    01045 E0E0      LDI	R30,0
    01046 079E      CPC	R25,R30
    01047 F409      BNE	0x1049
    01048 C07B      RJMP	0x10C4
    01049 C07F      RJMP	0x10C9
(0073) 	     case 0:
(0074) 		   lcd_write_str_con(y,"停止");
    0104A E620      LDI	R18,0x60
    0104B E038      LDI	R19,0x8
    0104C 2F06      MOV	R16,R22
    0104D 940E 06E3 CALL	_lcd_write_str_con
(0075) 		   break;
    0104F C079      RJMP	0x10C9
(0076) 		 case 1:
(0077) 		   lcd_write_char_con(y,0x30 | (int)temps[i].actualtemp/100);
    01050 E404      LDI	R16,0x44
    01051 E011      LDI	R17,1
    01052 0195      MOVW	R18,R10
    01053 940E 2CD3 CALL	empy16s
    01055 E38A      LDI	R24,0x3A
    01056 E092      LDI	R25,2
    01057 01F8      MOVW	R30,R16
    01058 0FE8      ADD	R30,R24
    01059 1FF9      ADC	R31,R25
    0105A 8100      LD	R16,Z
    0105B 8111      LDD	R17,Z+1
    0105C 8122      LDD	R18,Z+2
    0105D 8133      LDD	R19,Z+3
    0105E 940E 2E20 CALL	fpint
    01060 E624      LDI	R18,0x64
    01061 E030      LDI	R19,0
    01062 940E 2C89 CALL	div16s
    01064 0198      MOVW	R18,R16
    01065 6320      ORI	R18,0x30
    01066 2F06      MOV	R16,R22
    01067 940E 0641 CALL	_lcd_write_char_con
(0078) 		   lcd_write_char_con(y,0x30 | ((int)temps[i].actualtemp/10)%10);
    01069 E404      LDI	R16,0x44
    0106A E011      LDI	R17,1
    0106B 0195      MOVW	R18,R10
    0106C 940E 2CD3 CALL	empy16s
    0106E E38A      LDI	R24,0x3A
    0106F E092      LDI	R25,2
    01070 01F8      MOVW	R30,R16
    01071 0FE8      ADD	R30,R24
    01072 1FF9      ADC	R31,R25
    01073 8100      LD	R16,Z
    01074 8111      LDD	R17,Z+1
    01075 8122      LDD	R18,Z+2
    01076 8133      LDD	R19,Z+3
    01077 940E 2E20 CALL	fpint
    01079 E02A      LDI	R18,0xA
    0107A E030      LDI	R19,0
    0107B 940E 2C89 CALL	div16s
    0107D E02A      LDI	R18,0xA
    0107E E030      LDI	R19,0
    0107F 940E 2C85 CALL	mod16s
    01081 0198      MOVW	R18,R16
    01082 6320      ORI	R18,0x30
    01083 2F06      MOV	R16,R22
    01084 940E 0641 CALL	_lcd_write_char_con
(0079) 		   lcd_write_char_con(y,0x30 | (int)temps[i].actualtemp%10);
    01086 E404      LDI	R16,0x44
    01087 E011      LDI	R17,1
    01088 0195      MOVW	R18,R10
    01089 940E 2CD3 CALL	empy16s
    0108B E38A      LDI	R24,0x3A
    0108C E092      LDI	R25,2
    0108D 01F8      MOVW	R30,R16
    0108E 0FE8      ADD	R30,R24
    0108F 1FF9      ADC	R31,R25
    01090 8100      LD	R16,Z
    01091 8111      LDD	R17,Z+1
    01092 8122      LDD	R18,Z+2
    01093 8133      LDD	R19,Z+3
    01094 940E 2E20 CALL	fpint
    01096 E02A      LDI	R18,0xA
    01097 E030      LDI	R19,0
    01098 940E 2C85 CALL	mod16s
    0109A 0198      MOVW	R18,R16
    0109B 6320      ORI	R18,0x30
    0109C 2F06      MOV	R16,R22
    0109D 940E 0641 CALL	_lcd_write_char_con
(0080) 		   lcd_write_char_con(y,' ');
    0109F E220      LDI	R18,0x20
    010A0 2F06      MOV	R16,R22
    010A1 940E 0641 CALL	_lcd_write_char_con
(0081) 		   lcd_write_char_con(y,0xA1);
    010A3 EA21      LDI	R18,0xA1
    010A4 2F06      MOV	R16,R22
    010A5 940E 0641 CALL	_lcd_write_char_con
(0082)           lcd_write_char_con(y,0xE6);
    010A7 EE26      LDI	R18,0xE6
    010A8 2F06      MOV	R16,R22
    010A9 940E 0641 CALL	_lcd_write_char_con
(0083) 		   break;
    010AB C01D      RJMP	0x10C9
(0084) 		 case 2:
(0085) 		   lcd_write_str_con(y,"故障");
    010AC E52B      LDI	R18,0x5B
    010AD E038      LDI	R19,0x8
    010AE 2F06      MOV	R16,R22
    010AF 940E 06E3 CALL	_lcd_write_str_con
(0086) 		   break;
    010B1 C017      RJMP	0x10C9
(0087) 		 case 3:
(0088) 		   lcd_write_str_con(y,"暂停");
    010B2 E526      LDI	R18,0x56
    010B3 E038      LDI	R19,0x8
    010B4 2F06      MOV	R16,R22
    010B5 940E 06E3 CALL	_lcd_write_str_con
(0089) 		   break;
    010B7 C011      RJMP	0x10C9
(0090) 		 case 4:
(0091) 		   lcd_write_str_con(y,"结束");
    010B8 E521      LDI	R18,0x51
    010B9 E038      LDI	R19,0x8
    010BA 2F06      MOV	R16,R22
    010BB 940E 06E3 CALL	_lcd_write_str_con
(0092) 		   break;
    010BD C00B      RJMP	0x10C9
(0093) 		 case 5:
(0094) 		   lcd_write_str_con(y,"等待");
    010BE E42C      LDI	R18,0x4C
    010BF E038      LDI	R19,0x8
    010C0 2F06      MOV	R16,R22
    010C1 940E 06E3 CALL	_lcd_write_str_con
(0095) 		   break;
    010C3 C005      RJMP	0x10C9
(0096) 		 case 6:
(0097) 		   lcd_write_str_con(y,"暂停");
    010C4 E526      LDI	R18,0x56
    010C5 E038      LDI	R19,0x8
    010C6 2F06      MOV	R16,R22
    010C7 940E 06E3 CALL	_lcd_write_str_con
    010C9 01C5      MOVW	R24,R10
    010CA 9601      ADIW	R24,1
    010CB 015C      MOVW	R10,R24
    010CC 01C5      MOVW	R24,R10
    010CD 3084      CPI	R24,4
    010CE E0E0      LDI	R30,0
    010CF 079E      CPC	R25,R30
    010D0 F408      BCC	0x10D2
    010D1 CF1B      RJMP	0x0FED
(0098) 		   break;
(0099) 		   break;
(0100) 		 default:
(0101) 		   break;
(0102) 	   }
(0103) 	}
(0104) 	 keyV=KeyScan_once();
    010D2 940E 0536 CALL	_KeyScan_once
    010D4 2EA0      MOV	R10,R16
(0105) 	 if(keyV=='a'){
    010D5 3601      CPI	R16,0x61
    010D6 F009      BEQ	0x10D8
    010D7 C048      RJMP	0x1120
(0106) 	      //pageNum=8;//跳转到设置时间的界面
(0107) 		   pageNum=8;
    010D8 E088      LDI	R24,0x8
    010D9 E090      LDI	R25,0
    010DA 9390 0D5A STS	pageNum+1,R25
    010DC 9380 0D59 STS	pageNum,R24
(0108) 	   switch(cur){
    010DE 3040      CPI	R20,0
    010DF 0745      CPC	R20,R21
    010E0 F0A9      BEQ	0x10F6
    010E1 3041      CPI	R20,1
    010E2 E0E0      LDI	R30,0
    010E3 075E      CPC	R21,R30
    010E4 F0C1      BEQ	0x10FD
    010E5 3042      CPI	R20,2
    010E6 E0E0      LDI	R30,0
    010E7 075E      CPC	R21,R30
    010E8 F0D9      BEQ	0x1104
    010E9 3043      CPI	R20,3
    010EA E0E0      LDI	R30,0
    010EB 075E      CPC	R21,R30
    010EC F0F1      BEQ	0x110B
    010ED 3045      CPI	R20,5
    010EE E0E0      LDI	R30,0
    010EF 075E      CPC	R21,R30
    010F0 F109      BEQ	0x1112
    010F1 3046      CPI	R20,6
    010F2 E0E0      LDI	R30,0
    010F3 075E      CPC	R21,R30
    010F4 F121      BEQ	0x1119
    010F5 C270      RJMP	0x1366
(0109) 		 case 0: 
(0110) 		    Set_White_off(2,1,3);
    010F6 E083      LDI	R24,3
    010F7 8388      ST	Y,R24
    010F8 E021      LDI	R18,1
    010F9 E002      LDI	R16,2
    010FA 940E 084E CALL	_Set_White_off
(0111) 		    break;
    010FC C269      RJMP	0x1366
(0112) 		 case 1:
(0113) 		   Set_White_off(7,1,8);
    010FD E088      LDI	R24,0x8
    010FE 8388      ST	Y,R24
    010FF E021      LDI	R18,1
    01100 E007      LDI	R16,7
    01101 940E 084E CALL	_Set_White_off
(0114) 		   break;
    01103 C262      RJMP	0x1366
(0115) 		 case 2:
(0116) 		  Set_White_off(2,2,3);
    01104 E083      LDI	R24,3
    01105 8388      ST	Y,R24
    01106 E022      LDI	R18,2
    01107 E002      LDI	R16,2
    01108 940E 084E CALL	_Set_White_off
(0117) 		  break;
    0110A C25B      RJMP	0x1366
(0118) 		 case 3:
(0119) 		   Set_White_off(7,2,8);
    0110B E088      LDI	R24,0x8
    0110C 8388      ST	Y,R24
    0110D E022      LDI	R18,2
    0110E E007      LDI	R16,7
    0110F 940E 084E CALL	_Set_White_off
(0120) 		    break;
    01111 C254      RJMP	0x1366
(0121) 		case 5:
(0122) 		    Set_White_off(6,3,7);
    01112 E087      LDI	R24,7
    01113 8388      ST	Y,R24
    01114 E023      LDI	R18,3
    01115 E006      LDI	R16,6
    01116 940E 084E CALL	_Set_White_off
(0123) 		    break;
    01118 C24D      RJMP	0x1366
(0124) 		 case 6:
(0125) 		   Set_White_off(10,3,11);
    01119 E08B      LDI	R24,0xB
    0111A 8388      ST	Y,R24
    0111B E023      LDI	R18,3
    0111C E00A      LDI	R16,0xA
    0111D 940E 084E CALL	_Set_White_off
(0126) 		    break;
(0127) 		  default:
(0128) 		   break;
(0129) 		 }
(0130) 	   return ;
    0111F C246      RJMP	0x1366
(0131) 	}else if(keyV=='d'){
    01120 2D8A      MOV	R24,R10
    01121 3684      CPI	R24,0x64
    01122 F009      BEQ	0x1124
    01123 C04C      RJMP	0x1170
(0132) 	     switch(cur){
    01124 3040      CPI	R20,0
    01125 0745      CPC	R20,R21
    01126 F069      BEQ	0x1134
    01127 3041      CPI	R20,1
    01128 E0E0      LDI	R30,0
    01129 075E      CPC	R21,R30
    0112A F0C1      BEQ	0x1143
    0112B 3042      CPI	R20,2
    0112C E0E0      LDI	R30,0
    0112D 075E      CPC	R21,R30
    0112E F119      BEQ	0x1152
    0112F 3043      CPI	R20,3
    01130 E0E0      LDI	R30,0
    01131 075E      CPC	R21,R30
    01132 F171      BEQ	0x1161
    01133 C231      RJMP	0x1365
(0133) 		  case 0:
(0134) 		   Set_White_off(2,1,3);
    01134 E083      LDI	R24,3
    01135 8388      ST	Y,R24
    01136 E021      LDI	R18,1
    01137 E002      LDI	R16,2
    01138 940E 084E CALL	_Set_White_off
(0135) 		   Set_White(2,2,3);
    0113A E083      LDI	R24,3
    0113B 8388      ST	Y,R24
    0113C E022      LDI	R18,2
    0113D E002      LDI	R16,2
    0113E 940E 08BE CALL	_Set_White
(0136) 		   cur=2;
    01140 E042      LDI	R20,2
    01141 E050      LDI	R21,0
(0137) 		   break;
    01142 C222      RJMP	0x1365
(0138) 		  case 1:
(0139) 		   Set_White_off(7,1,8);
    01143 E088      LDI	R24,0x8
    01144 8388      ST	Y,R24
    01145 E021      LDI	R18,1
    01146 E007      LDI	R16,7
    01147 940E 084E CALL	_Set_White_off
(0140) 		   Set_White(7,2,8);
    01149 E088      LDI	R24,0x8
    0114A 8388      ST	Y,R24
    0114B E022      LDI	R18,2
    0114C E007      LDI	R16,7
    0114D 940E 08BE CALL	_Set_White
(0141) 		   cur=3;
    0114F E043      LDI	R20,3
    01150 E050      LDI	R21,0
(0142) 		   break;
    01151 C213      RJMP	0x1365
(0143) 		  case 2:
(0144) 		   Set_White_off(2,2,3);
    01152 E083      LDI	R24,3
    01153 8388      ST	Y,R24
    01154 E022      LDI	R18,2
    01155 E002      LDI	R16,2
    01156 940E 084E CALL	_Set_White_off
(0145) 		   Set_White(2,3,3);
    01158 E083      LDI	R24,3
    01159 8388      ST	Y,R24
    0115A E023      LDI	R18,3
    0115B E002      LDI	R16,2
    0115C 940E 08BE CALL	_Set_White
(0146) 		   cur=4;
    0115E E044      LDI	R20,4
    0115F E050      LDI	R21,0
(0147) 		   break;
    01160 C204      RJMP	0x1365
(0148) 		  case 3:
(0149) 		   Set_White_off(7,2,8);
    01161 E088      LDI	R24,0x8
    01162 8388      ST	Y,R24
    01163 E022      LDI	R18,2
    01164 E007      LDI	R16,7
    01165 940E 084E CALL	_Set_White_off
(0150) 		   Set_White(6,3,7);
    01167 E087      LDI	R24,7
    01168 8388      ST	Y,R24
    01169 E023      LDI	R18,3
    0116A E006      LDI	R16,6
    0116B 940E 08BE CALL	_Set_White
(0151) 		   cur=5;
    0116D E045      LDI	R20,5
    0116E E050      LDI	R21,0
(0152) 		   break;
(0153) 		  default:
(0154) 		   break;
(0155) 		 }
(0156) 	}else if(keyV=='u'){switch(cur){
    0116F C1F5      RJMP	0x1365
    01170 2D8A      MOV	R24,R10
    01171 3785      CPI	R24,0x75
    01172 F009      BEQ	0x1174
    01173 C061      RJMP	0x11D5
    01174 3042      CPI	R20,2
    01175 E0E0      LDI	R30,0
    01176 075E      CPC	R21,R30
    01177 F091      BEQ	0x118A
    01178 3043      CPI	R20,3
    01179 E0E0      LDI	R30,0
    0117A 075E      CPC	R21,R30
    0117B F0E9      BEQ	0x1199
    0117C 3044      CPI	R20,4
    0117D E0E0      LDI	R30,0
    0117E 075E      CPC	R21,R30
    0117F F141      BEQ	0x11A8
    01180 3045      CPI	R20,5
    01181 E0E0      LDI	R30,0
    01182 075E      CPC	R21,R30
    01183 F199      BEQ	0x11B7
    01184 3046      CPI	R20,6
    01185 E0E0      LDI	R30,0
    01186 075E      CPC	R21,R30
    01187 F409      BNE	0x1189
    01188 C03D      RJMP	0x11C6
    01189 C1DB      RJMP	0x1365
(0157) 		  case 2:
(0158) 		   Set_White_off(2,2,3);
    0118A E083      LDI	R24,3
    0118B 8388      ST	Y,R24
    0118C E022      LDI	R18,2
    0118D E002      LDI	R16,2
    0118E 940E 084E CALL	_Set_White_off
(0159) 		   Set_White(2,1,3);
    01190 E083      LDI	R24,3
    01191 8388      ST	Y,R24
    01192 E021      LDI	R18,1
    01193 E002      LDI	R16,2
    01194 940E 08BE CALL	_Set_White
(0160) 		   cur=0;
    01196 2744      CLR	R20
    01197 2755      CLR	R21
(0161) 		   break;
    01198 C1CC      RJMP	0x1365
(0162) 		  case 3:
(0163) 		   Set_White_off(7,2,8);
    01199 E088      LDI	R24,0x8
    0119A 8388      ST	Y,R24
    0119B E022      LDI	R18,2
    0119C E007      LDI	R16,7
    0119D 940E 084E CALL	_Set_White_off
(0164) 		   Set_White(7,1,8);
    0119F E088      LDI	R24,0x8
    011A0 8388      ST	Y,R24
    011A1 E021      LDI	R18,1
    011A2 E007      LDI	R16,7
    011A3 940E 08BE CALL	_Set_White
(0165) 		   cur=1;
    011A5 E041      LDI	R20,1
    011A6 E050      LDI	R21,0
(0166) 		   break;
    011A7 C1BD      RJMP	0x1365
(0167) 		  case 4:
(0168) 		   Set_White_off(2,3,5);
    011A8 E085      LDI	R24,5
    011A9 8388      ST	Y,R24
    011AA E023      LDI	R18,3
    011AB E002      LDI	R16,2
    011AC 940E 084E CALL	_Set_White_off
(0169) 		   Set_White(2,2,3);
    011AE E083      LDI	R24,3
    011AF 8388      ST	Y,R24
    011B0 E022      LDI	R18,2
    011B1 E002      LDI	R16,2
    011B2 940E 08BE CALL	_Set_White
(0170) 		   cur=2;
    011B4 E042      LDI	R20,2
    011B5 E050      LDI	R21,0
(0171) 		   break;
    011B6 C1AE      RJMP	0x1365
(0172) 		  case 5:
(0173) 		   Set_White_off(6,3,7);
    011B7 E087      LDI	R24,7
    011B8 8388      ST	Y,R24
    011B9 E023      LDI	R18,3
    011BA E006      LDI	R16,6
    011BB 940E 084E CALL	_Set_White_off
(0174) 		   Set_White(7,2,8);
    011BD E088      LDI	R24,0x8
    011BE 8388      ST	Y,R24
    011BF E022      LDI	R18,2
    011C0 E007      LDI	R16,7
    011C1 940E 08BE CALL	_Set_White
(0175) 		   cur=3;
    011C3 E043      LDI	R20,3
    011C4 E050      LDI	R21,0
(0176) 		   break;
    011C5 C19F      RJMP	0x1365
(0177) 		  case 6:
(0178) 		   Set_White_off(10,3,11);
    011C6 E08B      LDI	R24,0xB
    011C7 8388      ST	Y,R24
    011C8 E023      LDI	R18,3
    011C9 E00A      LDI	R16,0xA
    011CA 940E 084E CALL	_Set_White_off
(0179) 		   Set_White(7,2,8);
    011CC E088      LDI	R24,0x8
    011CD 8388      ST	Y,R24
    011CE E022      LDI	R18,2
    011CF E007      LDI	R16,7
    011D0 940E 08BE CALL	_Set_White
(0180) 		   cur=3;
    011D2 E043      LDI	R20,3
    011D3 E050      LDI	R21,0
(0181) 		   break;
(0182) 		  default:
(0183) 		   break;
(0184) 		 }
(0185) 	}else if(keyV=='l'){switch(cur){
    011D4 C190      RJMP	0x1365
    011D5 2D8A      MOV	R24,R10
    011D6 368C      CPI	R24,0x6C
    011D7 F009      BEQ	0x11D9
    011D8 C04D      RJMP	0x1226
    011D9 3041      CPI	R20,1
    011DA E0E0      LDI	R30,0
    011DB 075E      CPC	R21,R30
    011DC F069      BEQ	0x11EA
    011DD 3043      CPI	R20,3
    011DE E0E0      LDI	R30,0
    011DF 075E      CPC	R21,R30
    011E0 F0C1      BEQ	0x11F9
    011E1 3045      CPI	R20,5
    011E2 E0E0      LDI	R30,0
    011E3 075E      CPC	R21,R30
    011E4 F119      BEQ	0x1208
    011E5 3046      CPI	R20,6
    011E6 E0E0      LDI	R30,0
    011E7 075E      CPC	R21,R30
    011E8 F171      BEQ	0x1217
    011E9 C17B      RJMP	0x1365
(0186) 		  case 1:
(0187) 		   Set_White_off(7,1,8);
    011EA E088      LDI	R24,0x8
    011EB 8388      ST	Y,R24
    011EC E021      LDI	R18,1
    011ED E007      LDI	R16,7
    011EE 940E 084E CALL	_Set_White_off
(0188) 		   Set_White(2,1,3);
    011F0 E083      LDI	R24,3
    011F1 8388      ST	Y,R24
    011F2 E021      LDI	R18,1
    011F3 E002      LDI	R16,2
    011F4 940E 08BE CALL	_Set_White
(0189) 		   cur=0;
    011F6 2744      CLR	R20
    011F7 2755      CLR	R21
(0190) 		   break;
    011F8 C16C      RJMP	0x1365
(0191) 		  case 3:
(0192) 		   Set_White_off(7,2,8);
    011F9 E088      LDI	R24,0x8
    011FA 8388      ST	Y,R24
    011FB E022      LDI	R18,2
    011FC E007      LDI	R16,7
    011FD 940E 084E CALL	_Set_White_off
(0193) 		   Set_White(2,2,3);
    011FF E083      LDI	R24,3
    01200 8388      ST	Y,R24
    01201 E022      LDI	R18,2
    01202 E002      LDI	R16,2
    01203 940E 08BE CALL	_Set_White
(0194) 		   cur=2;
    01205 E042      LDI	R20,2
    01206 E050      LDI	R21,0
(0195) 		   break;
    01207 C15D      RJMP	0x1365
(0196) 		  case 5:
(0197) 		   Set_White_off(6,3,7);
    01208 E087      LDI	R24,7
    01209 8388      ST	Y,R24
    0120A E023      LDI	R18,3
    0120B E006      LDI	R16,6
    0120C 940E 084E CALL	_Set_White_off
(0198) 		   Set_White(2,3,3);
    0120E E083      LDI	R24,3
    0120F 8388      ST	Y,R24
    01210 E023      LDI	R18,3
    01211 E002      LDI	R16,2
    01212 940E 08BE CALL	_Set_White
(0199) 		   cur=4;
    01214 E044      LDI	R20,4
    01215 E050      LDI	R21,0
(0200) 		   break;
    01216 C14E      RJMP	0x1365
(0201) 		  case 6:
(0202) 		   Set_White_off(10,3,11);
    01217 E08B      LDI	R24,0xB
    01218 8388      ST	Y,R24
    01219 E023      LDI	R18,3
    0121A E00A      LDI	R16,0xA
    0121B 940E 084E CALL	_Set_White_off
(0203) 		   Set_White(6,3,7);
    0121D E087      LDI	R24,7
    0121E 8388      ST	Y,R24
    0121F E023      LDI	R18,3
    01220 E006      LDI	R16,6
    01221 940E 08BE CALL	_Set_White
(0204) 		   cur=5;
    01223 E045      LDI	R20,5
    01224 E050      LDI	R21,0
(0205) 		   break;
(0206) 		  default:
(0207) 		   break;
(0208) 		 }
(0209) 	}else if(keyV=='r'){
    01225 C13F      RJMP	0x1365
    01226 2D8A      MOV	R24,R10
    01227 3782      CPI	R24,0x72
    01228 F009      BEQ	0x122A
    01229 C04C      RJMP	0x1276
(0210) 	switch(cur){
    0122A 3040      CPI	R20,0
    0122B 0745      CPC	R20,R21
    0122C F069      BEQ	0x123A
    0122D 3042      CPI	R20,2
    0122E E0E0      LDI	R30,0
    0122F 075E      CPC	R21,R30
    01230 F0C1      BEQ	0x1249
    01231 3044      CPI	R20,4
    01232 E0E0      LDI	R30,0
    01233 075E      CPC	R21,R30
    01234 F119      BEQ	0x1258
    01235 3045      CPI	R20,5
    01236 E0E0      LDI	R30,0
    01237 075E      CPC	R21,R30
    01238 F171      BEQ	0x1267
    01239 C12B      RJMP	0x1365
(0211) 		  case 0:
(0212) 		   Set_White_off(2,1,3);
    0123A E083      LDI	R24,3
    0123B 8388      ST	Y,R24
    0123C E021      LDI	R18,1
    0123D E002      LDI	R16,2
    0123E 940E 084E CALL	_Set_White_off
(0213) 		   Set_White(7,1,8);
    01240 E088      LDI	R24,0x8
    01241 8388      ST	Y,R24
    01242 E021      LDI	R18,1
    01243 E007      LDI	R16,7
    01244 940E 08BE CALL	_Set_White
(0214) 		   cur=1;
    01246 E041      LDI	R20,1
    01247 E050      LDI	R21,0
(0215) 		   break;
    01248 C11C      RJMP	0x1365
(0216) 		  case 2:
(0217) 		   Set_White_off(2,2,3);
    01249 E083      LDI	R24,3
    0124A 8388      ST	Y,R24
    0124B E022      LDI	R18,2
    0124C E002      LDI	R16,2
    0124D 940E 084E CALL	_Set_White_off
(0218) 		   Set_White(7,2,8);
    0124F E088      LDI	R24,0x8
    01250 8388      ST	Y,R24
    01251 E022      LDI	R18,2
    01252 E007      LDI	R16,7
    01253 940E 08BE CALL	_Set_White
(0219) 		   cur=3;
    01255 E043      LDI	R20,3
    01256 E050      LDI	R21,0
(0220) 		   break;
    01257 C10D      RJMP	0x1365
(0221) 		  case 4:
(0222) 		   Set_White_off(2,3,3);
    01258 E083      LDI	R24,3
    01259 8388      ST	Y,R24
    0125A E023      LDI	R18,3
    0125B E002      LDI	R16,2
    0125C 940E 084E CALL	_Set_White_off
(0223) 		   Set_White(6,3,7);
    0125E E087      LDI	R24,7
    0125F 8388      ST	Y,R24
    01260 E023      LDI	R18,3
    01261 E006      LDI	R16,6
    01262 940E 08BE CALL	_Set_White
(0224) 		   cur=5;
    01264 E045      LDI	R20,5
    01265 E050      LDI	R21,0
(0225) 		   break;
    01266 C0FE      RJMP	0x1365
(0226) 		  case 5:
(0227) 		   Set_White_off(6,3,7);
    01267 E087      LDI	R24,7
    01268 8388      ST	Y,R24
    01269 E023      LDI	R18,3
    0126A E006      LDI	R16,6
    0126B 940E 084E CALL	_Set_White_off
(0228) 		   Set_White(10,3,11);
    0126D E08B      LDI	R24,0xB
    0126E 8388      ST	Y,R24
    0126F E023      LDI	R18,3
    01270 E00A      LDI	R16,0xA
    01271 940E 08BE CALL	_Set_White
(0229) 		   cur=6;
    01273 E046      LDI	R20,6
    01274 E050      LDI	R21,0
(0230) 		   break;
(0231) 		  default:
(0232) 		   break;
(0233) 		 }
(0234) 	}else if(keyV=='s'){
    01275 C0EF      RJMP	0x1365
    01276 2D8A      MOV	R24,R10
    01277 3783      CPI	R24,0x73
    01278 F009      BEQ	0x127A
    01279 C053      RJMP	0x12CD
(0235) 	   pageNum=5;
    0127A E085      LDI	R24,5
    0127B E090      LDI	R25,0
    0127C 9390 0D5A STS	pageNum+1,R25
    0127E 9380 0D59 STS	pageNum,R24
(0236) 	   switch(cur){
    01280 3040      CPI	R20,0
    01281 0745      CPC	R20,R21
    01282 F0C9      BEQ	0x129C
    01283 3041      CPI	R20,1
    01284 E0E0      LDI	R30,0
    01285 075E      CPC	R21,R30
    01286 F0E1      BEQ	0x12A3
    01287 3042      CPI	R20,2
    01288 E0E0      LDI	R30,0
    01289 075E      CPC	R21,R30
    0128A F0F9      BEQ	0x12AA
    0128B 3043      CPI	R20,3
    0128C E0E0      LDI	R30,0
    0128D 075E      CPC	R21,R30
    0128E F111      BEQ	0x12B1
    0128F 3044      CPI	R20,4
    01290 E0E0      LDI	R30,0
    01291 075E      CPC	R21,R30
    01292 F129      BEQ	0x12B8
    01293 3045      CPI	R20,5
    01294 E0E0      LDI	R30,0
    01295 075E      CPC	R21,R30
    01296 F141      BEQ	0x12BF
    01297 3046      CPI	R20,6
    01298 E0E0      LDI	R30,0
    01299 075E      CPC	R21,R30
    0129A F159      BEQ	0x12C6
    0129B C0CA      RJMP	0x1366
(0237) 		 case 0: 
(0238) 		    Set_White_off(2,1,3);
    0129C E083      LDI	R24,3
    0129D 8388      ST	Y,R24
    0129E E021      LDI	R18,1
    0129F E002      LDI	R16,2
    012A0 940E 084E CALL	_Set_White_off
(0239) 		    break;
    012A2 C0C3      RJMP	0x1366
(0240) 		 case 1:
(0241) 		   Set_White_off(7,1,8);
    012A3 E088      LDI	R24,0x8
    012A4 8388      ST	Y,R24
    012A5 E021      LDI	R18,1
    012A6 E007      LDI	R16,7
    012A7 940E 084E CALL	_Set_White_off
(0242) 		   break;
    012A9 C0BC      RJMP	0x1366
(0243) 		 case 2:
(0244) 		  Set_White_off(2,2,3);
    012AA E083      LDI	R24,3
    012AB 8388      ST	Y,R24
    012AC E022      LDI	R18,2
    012AD E002      LDI	R16,2
    012AE 940E 084E CALL	_Set_White_off
(0245) 		  break;
    012B0 C0B5      RJMP	0x1366
(0246) 		 case 3:
(0247) 		   Set_White_off(7,2,8);
    012B1 E088      LDI	R24,0x8
    012B2 8388      ST	Y,R24
    012B3 E022      LDI	R18,2
    012B4 E007      LDI	R16,7
    012B5 940E 084E CALL	_Set_White_off
(0248) 		    break;
    012B7 C0AE      RJMP	0x1366
(0249) 		 case 4:
(0250) 		    Set_White_off(2,3,3);
    012B8 E083      LDI	R24,3
    012B9 8388      ST	Y,R24
    012BA E023      LDI	R18,3
    012BB E002      LDI	R16,2
    012BC 940E 084E CALL	_Set_White_off
(0251) 		    break;
    012BE C0A7      RJMP	0x1366
(0252) 		case 5:
(0253) 		    Set_White_off(6,3,7);
    012BF E087      LDI	R24,7
    012C0 8388      ST	Y,R24
    012C1 E023      LDI	R18,3
    012C2 E006      LDI	R16,6
    012C3 940E 084E CALL	_Set_White_off
(0254) 		    break;
    012C5 C0A0      RJMP	0x1366
(0255) 		 case 6:
(0256) 		   Set_White_off(10,3,11);
    012C6 E08B      LDI	R24,0xB
    012C7 8388      ST	Y,R24
    012C8 E023      LDI	R18,3
    012C9 E00A      LDI	R16,0xA
    012CA 940E 084E CALL	_Set_White_off
(0257) 		    break;
(0258) 		  default:
(0259) 		   break;
(0260) 		 }
(0261) 	   return ;
    012CC C099      RJMP	0x1366
(0262) 	}else if(keyV=='t'){
    012CD 2D8A      MOV	R24,R10
    012CE 3784      CPI	R24,0x74
    012CF F009      BEQ	0x12D1
    012D0 C094      RJMP	0x1365
(0263) 	   switch(cur){
    012D1 3040      CPI	R20,0
    012D2 0745      CPC	R20,R21
    012D3 F0F1      BEQ	0x12F2
    012D4 3041      CPI	R20,1
    012D5 E0E0      LDI	R30,0
    012D6 075E      CPC	R21,R30
    012D7 F191      BEQ	0x130A
    012D8 3042      CPI	R20,2
    012D9 E0E0      LDI	R30,0
    012DA 075E      CPC	R21,R30
    012DB F409      BNE	0x12DD
    012DC C043      RJMP	0x1320
    012DD 3043      CPI	R20,3
    012DE E0E0      LDI	R30,0
    012DF 075E      CPC	R21,R30
    012E0 F409      BNE	0x12E2
    012E1 C055      RJMP	0x1337
    012E2 3044      CPI	R20,4
    012E3 E0E0      LDI	R30,0
    012E4 075E      CPC	R21,R30
    012E5 F409      BNE	0x12E7
    012E6 C066      RJMP	0x134D
    012E7 3045      CPI	R20,5
    012E8 E0E0      LDI	R30,0
    012E9 075E      CPC	R21,R30
    012EA F409      BNE	0x12EC
    012EB C064      RJMP	0x1350
    012EC 3046      CPI	R20,6
    012ED E0E0      LDI	R30,0
    012EE 075E      CPC	R21,R30
    012EF F409      BNE	0x12F1
    012F0 C062      RJMP	0x1353
    012F1 C073      RJMP	0x1365
(0264) 		 case 0: 
(0265) 		    Set_White_off(2,1,3);
    012F2 E083      LDI	R24,3
    012F3 8388      ST	Y,R24
    012F4 E021      LDI	R18,1
    012F5 E002      LDI	R16,2
    012F6 940E 084E CALL	_Set_White_off
(0266) 		    prePageNum=1;
    012F8 E081      LDI	R24,1
    012F9 E090      LDI	R25,0
    012FA 9390 0D4E STS	prePageNum+1,R25
    012FC 9380 0D4D STS	prePageNum,R24
(0267) 		    pageParam[0]=0;//传递使用第一个，对应不同的温度
    012FE 2422      CLR	R2
    012FF 2433      CLR	R3
    01300 9230 0D50 STS	pageParam+1,R3
    01302 9220 0D4F STS	pageParam,R2
(0268) 		    pageNum=3;
    01304 E083      LDI	R24,3
    01305 9390 0D5A STS	pageNum+1,R25
    01307 9380 0D59 STS	pageNum,R24
(0269) 		    return;
    01309 C05C      RJMP	0x1366
(0270) 		 case 1:
(0271) 		   Set_White_off(7,1,8);
    0130A E088      LDI	R24,0x8
    0130B 8388      ST	Y,R24
    0130C E021      LDI	R18,1
    0130D E007      LDI	R16,7
    0130E 940E 084E CALL	_Set_White_off
(0272) 		    prePageNum=1;
    01310 E081      LDI	R24,1
    01311 E090      LDI	R25,0
    01312 9390 0D4E STS	prePageNum+1,R25
    01314 9380 0D4D STS	prePageNum,R24
(0273) 		   pageParam[0]=1;//传递使用第一个，对应不同的温度
    01316 9390 0D50 STS	pageParam+1,R25
    01318 9380 0D4F STS	pageParam,R24
(0274) 		    pageNum=3;
    0131A E083      LDI	R24,3
    0131B 9390 0D5A STS	pageNum+1,R25
    0131D 9380 0D59 STS	pageNum,R24
(0275) 		    return;
    0131F C046      RJMP	0x1366
(0276) 		 case 2:
(0277) 		  Set_White_off(2,2,3);
    01320 E083      LDI	R24,3
    01321 8388      ST	Y,R24
    01322 E022      LDI	R18,2
    01323 E002      LDI	R16,2
    01324 940E 084E CALL	_Set_White_off
(0278) 		    prePageNum=1;
    01326 E081      LDI	R24,1
    01327 E090      LDI	R25,0
    01328 9390 0D4E STS	prePageNum+1,R25
    0132A 9380 0D4D STS	prePageNum,R24
(0279) 		    pageParam[0]=2;//传递使用第一个，对应不同的温度
    0132C E082      LDI	R24,2
    0132D 9390 0D50 STS	pageParam+1,R25
    0132F 9380 0D4F STS	pageParam,R24
(0280) 		   pageNum=3;
    01331 E083      LDI	R24,3
    01332 9390 0D5A STS	pageNum+1,R25
    01334 9380 0D59 STS	pageNum,R24
(0281) 		   return;
    01336 C02F      RJMP	0x1366
(0282) 		 case 3:
(0283) 		   Set_White_off(7,2,8);
    01337 E088      LDI	R24,0x8
    01338 8388      ST	Y,R24
    01339 E022      LDI	R18,2
    0133A E007      LDI	R16,7
    0133B 940E 084E CALL	_Set_White_off
(0284) 		     prePageNum=1;
    0133D E081      LDI	R24,1
    0133E E090      LDI	R25,0
    0133F 9390 0D4E STS	prePageNum+1,R25
    01341 9380 0D4D STS	prePageNum,R24
(0285) 		    pageParam[0]=3;//传递使用第一个，对应不同的温度
    01343 E083      LDI	R24,3
    01344 9390 0D50 STS	pageParam+1,R25
    01346 9380 0D4F STS	pageParam,R24
(0286) 		    pageNum=3;
    01348 9390 0D5A STS	pageNum+1,R25
    0134A 9380 0D59 STS	pageNum,R24
(0287) 		    return;
    0134C C019      RJMP	0x1366
(0288) 		 case 4:
(0289) 		    //调用函数全部开始，参数正确的
(0290) 			set_all_start();
    0134D 940E 2882 CALL	_set_all_start
(0291) 		   break;
    0134F C015      RJMP	0x1365
(0292) 		 case 5:
(0293) 		    //全部停止
(0294) 			set_all_stop();
    01350 940E 28CE CALL	_set_all_stop
(0295) 		   break;
    01352 C012      RJMP	0x1365
(0296) 		 case 6://设置
(0297) 		   Set_White_off(10,3,11);
    01353 E08B      LDI	R24,0xB
    01354 8388      ST	Y,R24
    01355 E023      LDI	R18,3
    01356 E00A      LDI	R16,0xA
    01357 940E 084E CALL	_Set_White_off
(0298) 		   prePageNum=1;
    01359 E081      LDI	R24,1
    0135A E090      LDI	R25,0
    0135B 9390 0D4E STS	prePageNum+1,R25
    0135D 9380 0D4D STS	prePageNum,R24
(0299) 		   pageNum=5;
    0135F E085      LDI	R24,5
    01360 9390 0D5A STS	pageNum+1,R25
    01362 9380 0D59 STS	pageNum,R24
(0300) 		    return;
    01364 C001      RJMP	0x1366
    01365 CC81      RJMP	0x0FE7
    01366 9622      ADIW	R28,2
    01367 940C 2D3E JMP	pop_xgsetF03C
_page2:
  ft2                  --> R10
  ft1                  --> R12
  ft0                  --> R14
  ft3                  --> R22
  cur                  --> R20
  keyV                 --> R10
    01369 940E 2CFA CALL	push_xgsetF0FC
    0136B 9722      SBIW	R28,2
(0301) 		  default:
(0302) 		   break;
(0303) 		 }
(0304) 	
(0305) 	}
(0306)   }
(0307)    return;
(0308) }
(0309)  void page2(void){
(0310)    uint cur=0;
    0136C 2744      CLR	R20
    0136D 2755      CLR	R21
(0311)    uchar keyV;
(0312)    uint ft0,ft1,ft2,ft3;
(0313)    ft0=EEPROM_read(1,0);
    0136E 2722      CLR	R18
    0136F 2733      CLR	R19
    01370 E001      LDI	R16,1
    01371 E010      LDI	R17,0
    01372 940E 0F5F CALL	_EEPROM_read
    01374 0178      MOVW	R14,R16
(0314)    ft1=EEPROM_read(2,0);
    01375 2722      CLR	R18
    01376 2733      CLR	R19
    01377 E002      LDI	R16,2
    01378 E010      LDI	R17,0
    01379 940E 0F5F CALL	_EEPROM_read
    0137B 0168      MOVW	R12,R16
(0315)    ft2=EEPROM_read(3,0);
    0137C 2722      CLR	R18
    0137D 2733      CLR	R19
    0137E E003      LDI	R16,3
    0137F E010      LDI	R17,0
    01380 940E 0F5F CALL	_EEPROM_read
    01382 0158      MOVW	R10,R16
(0316)    ft3=EEPROM_read(4,0);
    01383 2722      CLR	R18
    01384 2733      CLR	R19
    01385 E004      LDI	R16,4
    01386 E010      LDI	R17,0
    01387 940E 0F5F CALL	_EEPROM_read
    01389 01B8      MOVW	R22,R16
(0317)  if(!(ft0==0 && ft1==0 && ft2==0 && ft3==0)){//判断是否有数据，任何一个有数据就询问是否恢复
    0138A 20EE      TST	R14
    0138B F471      BNE	0x139A
    0138C 20FF      TST	R15
    0138D F461      BNE	0x139A
    0138E 20CC      TST	R12
    0138F F451      BNE	0x139A
    01390 20DD      TST	R13
    01391 F441      BNE	0x139A
    01392 20AA      TST	R10
    01393 F431      BNE	0x139A
    01394 20BB      TST	R11
    01395 F421      BNE	0x139A
    01396 3000      CPI	R16,0
    01397 0701      CPC	R16,R17
    01398 F409      BNE	0x139A
    01399 C0EA      RJMP	0x1484
(0318)    //初始画面，会有读取EEPROM的判断默认操作，本次只是画界面
(0319)    lcd_write_str(2,0,"是否恢复上次工作");
    0139A E38B      LDI	R24,0x3B
    0139B E098      LDI	R25,0x8
    0139C 8399      STD	Y+1,R25
    0139D 8388      ST	Y,R24
    0139E 2722      CLR	R18
    0139F E002      LDI	R16,2
    013A0 940E 0699 CALL	_lcd_write_str
(0320)    lcd_write_str(2,2,"恢复");
    013A2 E386      LDI	R24,0x36
    013A3 E098      LDI	R25,0x8
    013A4 8399      STD	Y+1,R25
    013A5 8388      ST	Y,R24
    013A6 E022      LDI	R18,2
    013A7 E002      LDI	R16,2
    013A8 940E 0699 CALL	_lcd_write_str
(0321)    lcd_write_str(8,2,"取消");
    013AA E381      LDI	R24,0x31
    013AB E098      LDI	R25,0x8
    013AC 8399      STD	Y+1,R25
    013AD 8388      ST	Y,R24
    013AE E022      LDI	R18,2
    013AF E008      LDI	R16,0x8
    013B0 940E 0699 CALL	_lcd_write_str
(0322)    ft3=EEPROM_read(0,0);//复用读取首选项
    013B2 2722      CLR	R18
    013B3 2733      CLR	R19
    013B4 2700      CLR	R16
    013B5 2711      CLR	R17
    013B6 940E 0F5F CALL	_EEPROM_read
    013B8 0158      MOVW	R10,R16
    013B9 01B5      MOVW	R22,R10
(0323)    if(ft3==1){//默认恢复
    013BA 3001      CPI	R16,1
    013BB E0E0      LDI	R30,0
    013BC 071E      CPC	R17,R30
    013BD F449      BNE	0x13C7
(0324)      cur=0;
    013BE 2744      CLR	R20
    013BF 2755      CLR	R21
(0325)      Set_White(3,2,4);
    013C0 E084      LDI	R24,4
    013C1 8388      ST	Y,R24
    013C2 E022      LDI	R18,2
    013C3 E003      LDI	R16,3
    013C4 940E 08BE CALL	_Set_White
(0326)    }else{
    013C6 C008      RJMP	0x13CF
(0327)      cur=1;
    013C7 E041      LDI	R20,1
    013C8 E050      LDI	R21,0
(0328)      Set_White(9,2,10);
    013C9 E08A      LDI	R24,0xA
    013CA 8388      ST	Y,R24
    013CB E022      LDI	R18,2
    013CC E009      LDI	R16,0x9
    013CD 940E 08BE CALL	_Set_White
(0329)    }
(0330)    Timerinit_0(0x00); //使用定时器，定时一段时间更改标记，while中读取这个标记确定是否结束while
    013CF 2700      CLR	R16
    013D0 940E 0A1E CALL	_Timerinit_0
    013D2 C0B0      RJMP	0x1483
(0331)     while(1){
(0332) 	if(waitflag==1){
    013D3 9180 0110 LDS	R24,waitflag
    013D5 9190 0111 LDS	R25,waitflag+1
    013D7 3081      CPI	R24,1
    013D8 E0E0      LDI	R30,0
    013D9 079E      CPC	R25,R30
    013DA F531      BNE	0x1401
(0333) 	  //执行相关操作
(0334) 		   Set_White_off(9,2,10);
    013DB E08A      LDI	R24,0xA
    013DC 8388      ST	Y,R24
    013DD E022      LDI	R18,2
    013DE E009      LDI	R16,0x9
    013DF 940E 084E CALL	_Set_White_off
(0335) 		    Set_White_off(3,2,4);
    013E1 E084      LDI	R24,4
    013E2 8388      ST	Y,R24
    013E3 E022      LDI	R18,2
    013E4 E003      LDI	R16,3
    013E5 940E 084E CALL	_Set_White_off
(0336) 			if(cur==0){
    013E7 3040      CPI	R20,0
    013E8 0745      CPC	R20,R21
    013E9 F481      BNE	0x13FA
(0337) 			  lcd_clear();
    013EA 940E 0750 CALL	_lcd_clear
(0338) 			  lcd_write_str(5,2,"恢复中. . .");
    013EC E285      LDI	R24,0x25
    013ED E098      LDI	R25,0x8
    013EE 8399      STD	Y+1,R25
    013EF 8388      ST	Y,R24
    013F0 E022      LDI	R18,2
    013F1 E005      LDI	R16,5
    013F2 940E 0699 CALL	_lcd_write_str
(0339) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    013F4 940E 279F CALL	_data_recover
(0340) 			  delay_ms(200);
    013F6 EC08      LDI	R16,0xC8
    013F7 E010      LDI	R17,0
    013F8 940E 0448 CALL	_delay_ms
(0341) 			}
(0342) 		  pageNum=1;
    013FA E081      LDI	R24,1
    013FB E090      LDI	R25,0
    013FC 9390 0D5A STS	pageNum+1,R25
    013FE 9380 0D59 STS	pageNum,R24
(0343) 		  return;
    01400 C089      RJMP	0x148A
(0344) 	  }
(0345)       keyV=KeyScan_once();
    01401 940E 0536 CALL	_KeyScan_once
    01403 2EA0      MOV	R10,R16
(0346) 	  switch(keyV){
    01404 2D6A      MOV	R22,R10
    01405 2777      CLR	R23
    01406 366C      CPI	R22,0x6C
    01407 E0E0      LDI	R30,0
    01408 077E      CPC	R23,R30
    01409 F079      BEQ	0x1419
    0140A 366C      CPI	R22,0x6C
    0140B E0E0      LDI	R30,0
    0140C 077E      CPC	R23,R30
    0140D F40C      BGE	0x140F
    0140E C074      RJMP	0x1483
    0140F 3762      CPI	R22,0x72
    01410 E0E0      LDI	R30,0
    01411 077E      CPC	R23,R30
    01412 F141      BEQ	0x143B
    01413 3764      CPI	R22,0x74
    01414 E0E0      LDI	R30,0
    01415 077E      CPC	R23,R30
    01416 F409      BNE	0x1418
    01417 C043      RJMP	0x145B
    01418 C06A      RJMP	0x1483
(0347) 	    case 'l':
(0348) 		   TCCR0=0x00;//定时器停止
    01419 2422      CLR	R2
    0141A BE23      OUT	0x33,R2
(0349) 		   lcd_write_char(10,0,' ');
    0141B E280      LDI	R24,0x20
    0141C 8388      ST	Y,R24
    0141D 2722      CLR	R18
    0141E E00A      LDI	R16,0xA
    0141F 940E 0673 CALL	_lcd_write_char
(0350) 	       lcd_write_char(11,0,' ');	
    01421 E280      LDI	R24,0x20
    01422 8388      ST	Y,R24
    01423 2722      CLR	R18
    01424 E00B      LDI	R16,0xB
    01425 940E 0673 CALL	_lcd_write_char
(0351) 		   if(cur==1){
    01427 3041      CPI	R20,1
    01428 E0E0      LDI	R30,0
    01429 075E      CPC	R21,R30
    0142A F009      BEQ	0x142C
    0142B C057      RJMP	0x1483
(0352) 		      Set_White_off(9,2,10);
    0142C E08A      LDI	R24,0xA
    0142D 8388      ST	Y,R24
    0142E E022      LDI	R18,2
    0142F E009      LDI	R16,0x9
    01430 940E 084E CALL	_Set_White_off
(0353) 		      Set_White(3,2,4);
    01432 E084      LDI	R24,4
    01433 8388      ST	Y,R24
    01434 E022      LDI	R18,2
    01435 E003      LDI	R16,3
    01436 940E 08BE CALL	_Set_White
(0354) 			  cur=0;
    01438 2744      CLR	R20
    01439 2755      CLR	R21
(0355) 		   }
(0356) 		   break;
    0143A C048      RJMP	0x1483
(0357) 		case 'r':
(0358) 		   TCCR0=0x00;//定时器停止
    0143B 2422      CLR	R2
    0143C BE23      OUT	0x33,R2
(0359) 		   lcd_write_char(10,0,' ');
    0143D E280      LDI	R24,0x20
    0143E 8388      ST	Y,R24
    0143F 2722      CLR	R18
    01440 E00A      LDI	R16,0xA
    01441 940E 0673 CALL	_lcd_write_char
(0360) 	       lcd_write_char(11,0,' ');	
    01443 E280      LDI	R24,0x20
    01444 8388      ST	Y,R24
    01445 2722      CLR	R18
    01446 E00B      LDI	R16,0xB
    01447 940E 0673 CALL	_lcd_write_char
(0361) 		   if(cur==0){
    01449 3040      CPI	R20,0
    0144A 0745      CPC	R20,R21
    0144B F5B9      BNE	0x1483
(0362) 		      Set_White_off(3,2,4);
    0144C E084      LDI	R24,4
    0144D 8388      ST	Y,R24
    0144E E022      LDI	R18,2
    0144F E003      LDI	R16,3
    01450 940E 084E CALL	_Set_White_off
(0363) 		      Set_White(9,2,10);
    01452 E08A      LDI	R24,0xA
    01453 8388      ST	Y,R24
    01454 E022      LDI	R18,2
    01455 E009      LDI	R16,0x9
    01456 940E 08BE CALL	_Set_White
(0364) 			  cur=1;
    01458 E041      LDI	R20,1
    01459 E050      LDI	R21,0
(0365) 		   }
(0366) 		   
(0367) 		  break;
    0145A C028      RJMP	0x1483
(0368) 		case 't':
(0369) 		  //执行相关操作
(0370) 		   TCCR0=0x00;//定时器停止
    0145B 2422      CLR	R2
    0145C BE23      OUT	0x33,R2
(0371) 		   Set_White_off(9,2,10);
    0145D E08A      LDI	R24,0xA
    0145E 8388      ST	Y,R24
    0145F E022      LDI	R18,2
    01460 E009      LDI	R16,0x9
    01461 940E 084E CALL	_Set_White_off
(0372) 		    Set_White_off(3,2,4);
    01463 E084      LDI	R24,4
    01464 8388      ST	Y,R24
    01465 E022      LDI	R18,2
    01466 E003      LDI	R16,3
    01467 940E 084E CALL	_Set_White_off
(0373) 			if(cur==0){
    01469 3040      CPI	R20,0
    0146A 0745      CPC	R20,R21
    0146B F481      BNE	0x147C
(0374) 			  lcd_clear();
    0146C 940E 0750 CALL	_lcd_clear
(0375) 			  lcd_write_str(5,2,"恢复中. . .");
    0146E E285      LDI	R24,0x25
    0146F E098      LDI	R25,0x8
    01470 8399      STD	Y+1,R25
    01471 8388      ST	Y,R24
    01472 E022      LDI	R18,2
    01473 E005      LDI	R16,5
    01474 940E 0699 CALL	_lcd_write_str
(0376) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    01476 940E 279F CALL	_data_recover
(0377) 			  delay_ms(200);
    01478 EC08      LDI	R16,0xC8
    01479 E010      LDI	R17,0
    0147A 940E 0448 CALL	_delay_ms
(0378) 			}
(0379) 		  pageNum=1;
    0147C E081      LDI	R24,1
    0147D E090      LDI	R25,0
    0147E 9390 0D5A STS	pageNum+1,R25
    01480 9380 0D59 STS	pageNum,R24
(0380) 		  return;
    01482 C007      RJMP	0x148A
    01483 CF4F      RJMP	0x13D3
(0381) 	  }
(0382) 	}
(0383)   }else{
(0384)      pageNum=1;
    01484 E081      LDI	R24,1
    01485 E090      LDI	R25,0
    01486 9390 0D5A STS	pageNum+1,R25
    01488 9380 0D59 STS	pageNum,R24
(0385)      return;
    0148A 9622      ADIW	R28,2
    0148B 940C 2CEF JMP	pop_xgsetF0FC
_page3:
  cur                  --> R20
  timecache            --> R22
  keyV                 --> R22
    0148D 940E 2D0F CALL	push_xgsetF000
    0148F 9722      SBIW	R28,2
(0386)   }
(0387)  }
(0388)  void page3(void){
(0389)   uint cur=0;
    01490 2744      CLR	R20
    01491 2755      CLR	R21
(0390)    uchar keyV;
(0391)    uint timecache;
(0392)    lcd_write_str(0,0,"T");
    01492 E283      LDI	R24,0x23
    01493 E098      LDI	R25,0x8
    01494 8399      STD	Y+1,R25
    01495 8388      ST	Y,R24
    01496 2722      CLR	R18
    01497 2700      CLR	R16
    01498 940E 0699 CALL	_lcd_write_str
(0393)     lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    0149A 9120 0D4F LDS	R18,pageParam
    0149C 9130 0D50 LDS	R19,pageParam+1
    0149E 5F2F      SUBI	R18,0xFF
    0149F 4F3F      SBCI	R19,0xFF
    014A0 6320      ORI	R18,0x30
    014A1 2700      CLR	R16
    014A2 940E 0641 CALL	_lcd_write_char_con
(0394) 	lcd_write_char_con(0,':');
    014A4 E32A      LDI	R18,0x3A
    014A5 2700      CLR	R16
    014A6 940E 0641 CALL	_lcd_write_char_con
(0395)    lcd_write_str(1,1,"温度:");
    014A8 E18D      LDI	R24,0x1D
    014A9 E098      LDI	R25,0x8
    014AA 8399      STD	Y+1,R25
    014AB 8388      ST	Y,R24
    014AC E021      LDI	R18,1
    014AD E001      LDI	R16,1
    014AE 940E 0699 CALL	_lcd_write_str
(0396)    lcd_write_str(7,1,"目标:");
    014B0 E187      LDI	R24,0x17
    014B1 E098      LDI	R25,0x8
    014B2 8399      STD	Y+1,R25
    014B3 8388      ST	Y,R24
    014B4 E021      LDI	R18,1
    014B5 E007      LDI	R16,7
    014B6 940E 0699 CALL	_lcd_write_str
(0397)    lcd_write_str(1,2,"状态:");
    014B8 E181      LDI	R24,0x11
    014B9 E098      LDI	R25,0x8
    014BA 8399      STD	Y+1,R25
    014BB 8388      ST	Y,R24
    014BC E022      LDI	R18,2
    014BD E001      LDI	R16,1
    014BE 940E 0699 CALL	_lcd_write_str
(0398)    lcd_write_str(0,3,"编辑");
    014C0 E08C      LDI	R24,0xC
    014C1 E098      LDI	R25,0x8
    014C2 8399      STD	Y+1,R25
    014C3 8388      ST	Y,R24
    014C4 E023      LDI	R18,3
    014C5 2700      CLR	R16
    014C6 940E 0699 CALL	_lcd_write_str
(0399)    lcd_write_str(3,3,"运行");
    014C8 E087      LDI	R24,7
    014C9 E098      LDI	R25,0x8
    014CA 8399      STD	Y+1,R25
    014CB 8388      ST	Y,R24
    014CC E023      LDI	R18,3
    014CD E003      LDI	R16,3
    014CE 940E 0699 CALL	_lcd_write_str
(0400)    lcd_write_str(7,3,"暂停");
    014D0 E586      LDI	R24,0x56
    014D1 E098      LDI	R25,0x8
    014D2 8399      STD	Y+1,R25
    014D3 8388      ST	Y,R24
    014D4 E023      LDI	R18,3
    014D5 E007      LDI	R16,7
    014D6 940E 0699 CALL	_lcd_write_str
(0401)    lcd_write_str(10,3,"重置");
    014D8 E082      LDI	R24,2
    014D9 E098      LDI	R25,0x8
    014DA 8399      STD	Y+1,R25
    014DB 8388      ST	Y,R24
    014DC E023      LDI	R18,3
    014DD E00A      LDI	R16,0xA
    014DE 940E 0699 CALL	_lcd_write_str
(0402)    Set_White(1,3,2);
    014E0 E082      LDI	R24,2
    014E1 8388      ST	Y,R24
    014E2 E023      LDI	R18,3
    014E3 E001      LDI	R16,1
    014E4 940E 08BE CALL	_Set_White
    014E6 C328      RJMP	0x180F
(0403)    //Set_White(9,2,10);
(0404)     while(1){
(0405) 	lcd_write_pos(2,0);
    014E7 2722      CLR	R18
    014E8 E002      LDI	R16,2
    014E9 940E 0655 CALL	_lcd_write_pos
(0406) 	pageTime2(0);
    014EB 2700      CLR	R16
    014EC 2711      CLR	R17
    014ED DA9A      RCALL	_pageTime2
(0407) 	//写温度
(0408) 	if(temps[pageParam[0]].flag!=2){
    014EE 9120 0D4F LDS	R18,pageParam
    014F0 9130 0D50 LDS	R19,pageParam+1
    014F2 E404      LDI	R16,0x44
    014F3 E011      LDI	R17,1
    014F4 940E 2CD3 CALL	empy16s
    014F6 E186      LDI	R24,0x16
    014F7 E091      LDI	R25,1
    014F8 01F8      MOVW	R30,R16
    014F9 0FE8      ADD	R30,R24
    014FA 1FF9      ADC	R31,R25
    014FB 8180      LD	R24,Z
    014FC 8191      LDD	R25,Z+1
    014FD 3082      CPI	R24,2
    014FE E0E0      LDI	R30,0
    014FF 079E      CPC	R25,R30
    01500 F409      BNE	0x1502
    01501 C068      RJMP	0x156A
(0409) 	  lcd_write_pos(4,1);
    01502 E021      LDI	R18,1
    01503 E004      LDI	R16,4
    01504 940E 0655 CALL	_lcd_write_pos
(0410) 	  lcd_write_char_con(1,0x30 | ((int)temps[pageParam[0]].actualtemp)/100);
    01506 9120 0D4F LDS	R18,pageParam
    01508 9130 0D50 LDS	R19,pageParam+1
    0150A E404      LDI	R16,0x44
    0150B E011      LDI	R17,1
    0150C 940E 2CD3 CALL	empy16s
    0150E E38A      LDI	R24,0x3A
    0150F E092      LDI	R25,2
    01510 01F8      MOVW	R30,R16
    01511 0FE8      ADD	R30,R24
    01512 1FF9      ADC	R31,R25
    01513 8100      LD	R16,Z
    01514 8111      LDD	R17,Z+1
    01515 8122      LDD	R18,Z+2
    01516 8133      LDD	R19,Z+3
    01517 940E 2E20 CALL	fpint
    01519 E624      LDI	R18,0x64
    0151A E030      LDI	R19,0
    0151B 940E 2C89 CALL	div16s
    0151D 0198      MOVW	R18,R16
    0151E 6320      ORI	R18,0x30
    0151F E001      LDI	R16,1
    01520 940E 0641 CALL	_lcd_write_char_con
(0411) 	  lcd_write_char_con(1,0x30 | (((int)temps[pageParam[0]].actualtemp)/10)%10);
    01522 9120 0D4F LDS	R18,pageParam
    01524 9130 0D50 LDS	R19,pageParam+1
    01526 E404      LDI	R16,0x44
    01527 E011      LDI	R17,1
    01528 940E 2CD3 CALL	empy16s
    0152A E38A      LDI	R24,0x3A
    0152B E092      LDI	R25,2
    0152C 01F8      MOVW	R30,R16
    0152D 0FE8      ADD	R30,R24
    0152E 1FF9      ADC	R31,R25
    0152F 8100      LD	R16,Z
    01530 8111      LDD	R17,Z+1
    01531 8122      LDD	R18,Z+2
    01532 8133      LDD	R19,Z+3
    01533 940E 2E20 CALL	fpint
    01535 E02A      LDI	R18,0xA
    01536 E030      LDI	R19,0
    01537 940E 2C89 CALL	div16s
    01539 E02A      LDI	R18,0xA
    0153A E030      LDI	R19,0
    0153B 940E 2C85 CALL	mod16s
    0153D 0198      MOVW	R18,R16
    0153E 6320      ORI	R18,0x30
    0153F E001      LDI	R16,1
    01540 940E 0641 CALL	_lcd_write_char_con
(0412) 	  lcd_write_char_con(1,0x30 | ((int)temps[pageParam[0]].actualtemp)%10);
    01542 9120 0D4F LDS	R18,pageParam
    01544 9130 0D50 LDS	R19,pageParam+1
    01546 E404      LDI	R16,0x44
    01547 E011      LDI	R17,1
    01548 940E 2CD3 CALL	empy16s
    0154A E38A      LDI	R24,0x3A
    0154B E092      LDI	R25,2
    0154C 01F8      MOVW	R30,R16
    0154D 0FE8      ADD	R30,R24
    0154E 1FF9      ADC	R31,R25
    0154F 8100      LD	R16,Z
    01550 8111      LDD	R17,Z+1
    01551 8122      LDD	R18,Z+2
    01552 8133      LDD	R19,Z+3
    01553 940E 2E20 CALL	fpint
    01555 E02A      LDI	R18,0xA
    01556 E030      LDI	R19,0
    01557 940E 2C85 CALL	mod16s
    01559 0198      MOVW	R18,R16
    0155A 6320      ORI	R18,0x30
    0155B E001      LDI	R16,1
    0155C 940E 0641 CALL	_lcd_write_char_con
(0413) 	  lcd_write_char_con(1,' ');
    0155E E220      LDI	R18,0x20
    0155F E001      LDI	R16,1
    01560 940E 0641 CALL	_lcd_write_char_con
(0414) 	  lcd_write_char_con(1,0xA1);
    01562 EA21      LDI	R18,0xA1
    01563 E001      LDI	R16,1
    01564 940E 0641 CALL	_lcd_write_char_con
(0415)       lcd_write_char_con(1,0xE6);
    01566 EE26      LDI	R18,0xE6
    01567 E001      LDI	R16,1
    01568 940E 0641 CALL	_lcd_write_char_con
(0416) 	}
(0417) 	//数据需要读入
(0418) 	lcd_write_pos(4,2);
    0156A E022      LDI	R18,2
    0156B E004      LDI	R16,4
    0156C 940E 0655 CALL	_lcd_write_pos
(0419) 	switch(temps[pageParam[0]].flag){
    0156E 9120 0D4F LDS	R18,pageParam
    01570 9130 0D50 LDS	R19,pageParam+1
    01572 E404      LDI	R16,0x44
    01573 E011      LDI	R17,1
    01574 940E 2CD3 CALL	empy16s
    01576 E186      LDI	R24,0x16
    01577 E091      LDI	R25,1
    01578 01F8      MOVW	R30,R16
    01579 0FE8      ADD	R30,R24
    0157A 1FF9      ADC	R31,R25
    0157B 8160      LD	R22,Z
    0157C 8171      LDD	R23,Z+1
    0157D 3060      CPI	R22,0
    0157E 0767      CPC	R22,R23
    0157F F0F1      BEQ	0x159E
    01580 3061      CPI	R22,1
    01581 E0E0      LDI	R30,0
    01582 077E      CPC	R23,R30
    01583 F101      BEQ	0x15A4
    01584 3062      CPI	R22,2
    01585 E0E0      LDI	R30,0
    01586 077E      CPC	R23,R30
    01587 F409      BNE	0x1589
    01588 C160      RJMP	0x16E9
    01589 3063      CPI	R22,3
    0158A E0E0      LDI	R30,0
    0158B 077E      CPC	R23,R30
    0158C F409      BNE	0x158E
    0158D C161      RJMP	0x16EF
    0158E 3064      CPI	R22,4
    0158F E0E0      LDI	R30,0
    01590 077E      CPC	R23,R30
    01591 F409      BNE	0x1593
    01592 C162      RJMP	0x16F5
    01593 3065      CPI	R22,5
    01594 E0E0      LDI	R30,0
    01595 077E      CPC	R23,R30
    01596 F409      BNE	0x1598
    01597 C163      RJMP	0x16FB
    01598 3066      CPI	R22,6
    01599 E0E0      LDI	R30,0
    0159A 077E      CPC	R23,R30
    0159B F409      BNE	0x159D
    0159C C164      RJMP	0x1701
    0159D C168      RJMP	0x1706
(0420) 	     case 0: 
(0421) 		   lcd_write_str_con(2,"停止");
    0159E E620      LDI	R18,0x60
    0159F E038      LDI	R19,0x8
    015A0 E002      LDI	R16,2
    015A1 940E 06E3 CALL	_lcd_write_str_con
(0422) 		   break;
    015A3 C162      RJMP	0x1706
(0423) 		 case 1:
(0424) 		   //写状态
(0425) 		   lcd_write_str(9,1,"");
    015A4 E081      LDI	R24,1
    015A5 E098      LDI	R25,0x8
    015A6 8399      STD	Y+1,R25
    015A7 8388      ST	Y,R24
    015A8 E021      LDI	R18,1
    015A9 E009      LDI	R16,0x9
    015AA 940E 0699 CALL	_lcd_write_str
(0426) 		   lcd_write_char_con(1,0xA1);
    015AC EA21      LDI	R18,0xA1
    015AD E001      LDI	R16,1
    015AE 940E 0641 CALL	_lcd_write_char_con
(0427)            lcd_write_char_con(1,0xE6);
    015B0 EE26      LDI	R18,0xE6
    015B1 E001      LDI	R16,1
    015B2 940E 0641 CALL	_lcd_write_char_con
(0428) 		   timecache=temps[pageParam[0]].status;
    015B4 9120 0D4F LDS	R18,pageParam
    015B6 9130 0D50 LDS	R19,pageParam+1
    015B8 E404      LDI	R16,0x44
    015B9 E011      LDI	R17,1
    015BA 940E 2CD3 CALL	empy16s
    015BC E280      LDI	R24,0x20
    015BD E092      LDI	R25,2
    015BE 01F8      MOVW	R30,R16
    015BF 0FE8      ADD	R30,R24
    015C0 1FF9      ADC	R31,R25
    015C1 8160      LD	R22,Z
    015C2 8171      LDD	R23,Z+1
(0429) 		   if(timecache>18){
    015C3 E182      LDI	R24,0x12
    015C4 E090      LDI	R25,0
    015C5 1786      CP	R24,R22
    015C6 0797      CPC	R25,R23
    015C7 F508      BCC	0x15E9
(0430) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1)/10);
    015C8 E02A      LDI	R18,0xA
    015C9 E030      LDI	R19,0
    015CA 018B      MOVW	R16,R22
    015CB 5001      SUBI	R16,1
    015CC 4010      SBCI	R17,0
    015CD 9516      LSR	R17
    015CE 9507      ROR	R16
    015CF 5F0F      SUBI	R16,0xFF
    015D0 4F1F      SBCI	R17,0xFF
    015D1 940E 2CA5 CALL	div16u
    015D3 0198      MOVW	R18,R16
    015D4 6320      ORI	R18,0x30
    015D5 E002      LDI	R16,2
    015D6 940E 0641 CALL	_lcd_write_char_con
(0431) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1)%10);
    015D8 E02A      LDI	R18,0xA
    015D9 E030      LDI	R19,0
    015DA 018B      MOVW	R16,R22
    015DB 5001      SUBI	R16,1
    015DC 4010      SBCI	R17,0
    015DD 9516      LSR	R17
    015DE 9507      ROR	R16
    015DF 5F0F      SUBI	R16,0xFF
    015E0 4F1F      SBCI	R17,0xFF
    015E1 940E 2CA3 CALL	mod16u
    015E3 0198      MOVW	R18,R16
    015E4 6320      ORI	R18,0x30
    015E5 E002      LDI	R16,2
    015E6 940E 0641 CALL	_lcd_write_char_con
(0432) 		      }else{
    015E8 C00F      RJMP	0x15F8
(0433) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1));
    015E9 019B      MOVW	R18,R22
    015EA 5021      SUBI	R18,1
    015EB 4030      SBCI	R19,0
    015EC 9536      LSR	R19
    015ED 9527      ROR	R18
    015EE 5F2F      SUBI	R18,0xFF
    015EF 4F3F      SBCI	R19,0xFF
    015F0 6320      ORI	R18,0x30
    015F1 E002      LDI	R16,2
    015F2 940E 0641 CALL	_lcd_write_char_con
(0434) 				  lcd_write_char_con(2,' ');
    015F4 E220      LDI	R18,0x20
    015F5 E002      LDI	R16,2
    015F6 940E 0641 CALL	_lcd_write_char_con
(0435) 		    }
(0436) 			 lcd_write_char_con(2,':');
    015F8 E32A      LDI	R18,0x3A
    015F9 E002      LDI	R16,2
    015FA 940E 0641 CALL	_lcd_write_char_con
(0437) 			 lcd_write_char_con(2,' ');
    015FC E220      LDI	R18,0x20
    015FD E002      LDI	R16,2
    015FE 940E 0641 CALL	_lcd_write_char_con
(0438) 		   if(timecache & 0x01){
    01600 FF60      SBRS	R22,0
    01601 C015      RJMP	0x1617
(0439) 		       lcd_write_str_con(2,"升温");
    01602 EF2C      LDI	R18,0xFC
    01603 E037      LDI	R19,7
    01604 E002      LDI	R16,2
    01605 940E 06E3 CALL	_lcd_write_str_con
(0440)                 timecache=temps[pageParam[0]].p_settemp;
    01607 9120 0D4F LDS	R18,pageParam
    01609 9130 0D50 LDS	R19,pageParam+1
    0160B E404      LDI	R16,0x44
    0160C E011      LDI	R17,1
    0160D 940E 2CD3 CALL	empy16s
    0160F E28C      LDI	R24,0x2C
    01610 E092      LDI	R25,2
    01611 01F8      MOVW	R30,R16
    01612 0FE8      ADD	R30,R24
    01613 1FF9      ADC	R31,R25
    01614 8160      LD	R22,Z
    01615 8171      LDD	R23,Z+1
(0441) 		   }else{
    01616 C019      RJMP	0x1630
(0442) 		       lcd_write_str_con(2,"恒温");
    01617 EF27      LDI	R18,0xF7
    01618 E037      LDI	R19,7
    01619 E002      LDI	R16,2
    0161A 940E 06E3 CALL	_lcd_write_str_con
(0443)                timecache=temps[pageParam[0]].settemp;
    0161C 9120 0D4F LDS	R18,pageParam
    0161E 9130 0D50 LDS	R19,pageParam+1
    01620 E404      LDI	R16,0x44
    01621 E011      LDI	R17,1
    01622 940E 2CD3 CALL	empy16s
    01624 E386      LDI	R24,0x36
    01625 E092      LDI	R25,2
    01626 01F8      MOVW	R30,R16
    01627 0FE8      ADD	R30,R24
    01628 1FF9      ADC	R31,R25
    01629 8100      LD	R16,Z
    0162A 8111      LDD	R17,Z+1
    0162B 8122      LDD	R18,Z+2
    0162C 8133      LDD	R19,Z+3
    0162D 940E 2E20 CALL	fpint
    0162F 01B8      MOVW	R22,R16
(0444) 		   }
(0445) 		   lcd_write_char(9,1,0x30 | timecache/100);
    01630 E624      LDI	R18,0x64
    01631 E030      LDI	R19,0
    01632 018B      MOVW	R16,R22
    01633 940E 2CA5 CALL	div16u
    01635 01C8      MOVW	R24,R16
    01636 6380      ORI	R24,0x30
    01637 8388      ST	Y,R24
    01638 E021      LDI	R18,1
    01639 E009      LDI	R16,0x9
    0163A 940E 0673 CALL	_lcd_write_char
(0446) 		   lcd_write_char_con(1,0x30 | (timecache/10)%10);
    0163C E02A      LDI	R18,0xA
    0163D E030      LDI	R19,0
    0163E 018B      MOVW	R16,R22
    0163F 940E 2CA5 CALL	div16u
    01641 E02A      LDI	R18,0xA
    01642 E030      LDI	R19,0
    01643 940E 2CA3 CALL	mod16u
    01645 0198      MOVW	R18,R16
    01646 6320      ORI	R18,0x30
    01647 E001      LDI	R16,1
    01648 940E 0641 CALL	_lcd_write_char_con
(0447) 		   lcd_write_char_con(1,0x30 | timecache%10);
    0164A E02A      LDI	R18,0xA
    0164B E030      LDI	R19,0
    0164C 018B      MOVW	R16,R22
    0164D 940E 2CA3 CALL	mod16u
    0164F 0198      MOVW	R18,R16
    01650 6320      ORI	R18,0x30
    01651 E001      LDI	R16,1
    01652 940E 0641 CALL	_lcd_write_char_con
(0448) 		   lcd_write_char_con(1,' ');
    01654 E220      LDI	R18,0x20
    01655 E001      LDI	R16,1
    01656 940E 0641 CALL	_lcd_write_char_con
(0449) 		   lcd_write_char_con(1,0xA1);
    01658 EA21      LDI	R18,0xA1
    01659 E001      LDI	R16,1
    0165A 940E 0641 CALL	_lcd_write_char_con
(0450)            lcd_write_char_con(1,0xE6);
    0165C EE26      LDI	R18,0xE6
    0165D E001      LDI	R16,1
    0165E 940E 0641 CALL	_lcd_write_char_con
(0451) 		   lcd_write_pos(8,2);
    01660 E022      LDI	R18,2
    01661 E008      LDI	R16,0x8
    01662 940E 0655 CALL	_lcd_write_pos
(0452) 		   timecache=temps[pageParam[0]].nowtime;
    01664 9120 0D4F LDS	R18,pageParam
    01666 9130 0D50 LDS	R19,pageParam+1
    01668 E404      LDI	R16,0x44
    01669 E011      LDI	R17,1
    0166A 940E 2CD3 CALL	empy16s
    0166C E284      LDI	R24,0x24
    0166D E092      LDI	R25,2
    0166E 01F8      MOVW	R30,R16
    0166F 0FE8      ADD	R30,R24
    01670 1FF9      ADC	R31,R25
    01671 8160      LD	R22,Z
    01672 8171      LDD	R23,Z+1
(0453) 		   timecache/=3600;
    01673 E120      LDI	R18,0x10
    01674 E03E      LDI	R19,0xE
    01675 018B      MOVW	R16,R22
    01676 940E 2CA5 CALL	div16u
    01678 01B8      MOVW	R22,R16
(0454) 		    lcd_write_char_con(2,0x30 | timecache/10);
    01679 E02A      LDI	R18,0xA
    0167A E030      LDI	R19,0
    0167B 940E 2CA5 CALL	div16u
    0167D 0198      MOVW	R18,R16
    0167E 6320      ORI	R18,0x30
    0167F E002      LDI	R16,2
    01680 940E 0641 CALL	_lcd_write_char_con
(0455) 			lcd_write_char_con(2,0x30 | timecache%10);
    01682 E02A      LDI	R18,0xA
    01683 E030      LDI	R19,0
    01684 018B      MOVW	R16,R22
    01685 940E 2CA3 CALL	mod16u
    01687 0198      MOVW	R18,R16
    01688 6320      ORI	R18,0x30
    01689 E002      LDI	R16,2
    0168A 940E 0641 CALL	_lcd_write_char_con
(0456) 			lcd_write_char_con(2,':');
    0168C E32A      LDI	R18,0x3A
    0168D E002      LDI	R16,2
    0168E 940E 0641 CALL	_lcd_write_char_con
(0457) 			timecache=temps[pageParam[0]].nowtime;
    01690 9120 0D4F LDS	R18,pageParam
    01692 9130 0D50 LDS	R19,pageParam+1
    01694 E404      LDI	R16,0x44
    01695 E011      LDI	R17,1
    01696 940E 2CD3 CALL	empy16s
    01698 E284      LDI	R24,0x24
    01699 E092      LDI	R25,2
    0169A 01F8      MOVW	R30,R16
    0169B 0FE8      ADD	R30,R24
    0169C 1FF9      ADC	R31,R25
    0169D 8160      LD	R22,Z
    0169E 8171      LDD	R23,Z+1
(0458) 		    timecache/=60;
    0169F E32C      LDI	R18,0x3C
    016A0 E030      LDI	R19,0
    016A1 018B      MOVW	R16,R22
    016A2 940E 2CA5 CALL	div16u
(0459) 			timecache%=60;
    016A4 E32C      LDI	R18,0x3C
    016A5 E030      LDI	R19,0
    016A6 940E 2CA3 CALL	mod16u
    016A8 01B8      MOVW	R22,R16
(0460) 			lcd_write_char_con(2,0x30 | timecache/10);
    016A9 E02A      LDI	R18,0xA
    016AA E030      LDI	R19,0
    016AB 940E 2CA5 CALL	div16u
    016AD 0198      MOVW	R18,R16
    016AE 6320      ORI	R18,0x30
    016AF E002      LDI	R16,2
    016B0 940E 0641 CALL	_lcd_write_char_con
(0461) 			lcd_write_char_con(2,0x30 | timecache%10);
    016B2 E02A      LDI	R18,0xA
    016B3 E030      LDI	R19,0
    016B4 018B      MOVW	R16,R22
    016B5 940E 2CA3 CALL	mod16u
    016B7 0198      MOVW	R18,R16
    016B8 6320      ORI	R18,0x30
    016B9 E002      LDI	R16,2
    016BA 940E 0641 CALL	_lcd_write_char_con
(0462) 		    lcd_write_char_con(2,':');
    016BC E32A      LDI	R18,0x3A
    016BD E002      LDI	R16,2
    016BE 940E 0641 CALL	_lcd_write_char_con
(0463) 			timecache=temps[pageParam[0]].nowtime;
    016C0 9120 0D4F LDS	R18,pageParam
    016C2 9130 0D50 LDS	R19,pageParam+1
    016C4 E404      LDI	R16,0x44
    016C5 E011      LDI	R17,1
    016C6 940E 2CD3 CALL	empy16s
    016C8 E284      LDI	R24,0x24
    016C9 E092      LDI	R25,2
    016CA 01F8      MOVW	R30,R16
    016CB 0FE8      ADD	R30,R24
    016CC 1FF9      ADC	R31,R25
    016CD 8160      LD	R22,Z
    016CE 8171      LDD	R23,Z+1
(0464) 		    timecache%=60;
    016CF E32C      LDI	R18,0x3C
    016D0 E030      LDI	R19,0
    016D1 018B      MOVW	R16,R22
    016D2 940E 2CA3 CALL	mod16u
    016D4 01B8      MOVW	R22,R16
(0465) 			lcd_write_char_con(2,0x30 |  timecache/10);
    016D5 E02A      LDI	R18,0xA
    016D6 E030      LDI	R19,0
    016D7 940E 2CA5 CALL	div16u
    016D9 0198      MOVW	R18,R16
    016DA 6320      ORI	R18,0x30
    016DB E002      LDI	R16,2
    016DC 940E 0641 CALL	_lcd_write_char_con
(0466) 			lcd_write_char_con(2,0x30 |  timecache%10);
    016DE E02A      LDI	R18,0xA
    016DF E030      LDI	R19,0
    016E0 018B      MOVW	R16,R22
    016E1 940E 2CA3 CALL	mod16u
    016E3 0198      MOVW	R18,R16
    016E4 6320      ORI	R18,0x30
    016E5 E002      LDI	R16,2
    016E6 940E 0641 CALL	_lcd_write_char_con
(0467) 		   break;
    016E8 C01D      RJMP	0x1706
(0468) 		 case 2:
(0469) 		   lcd_write_str_con(2,"故障");
    016E9 E52B      LDI	R18,0x5B
    016EA E038      LDI	R19,0x8
    016EB E002      LDI	R16,2
    016EC 940E 06E3 CALL	_lcd_write_str_con
(0470) 		   break;
    016EE C017      RJMP	0x1706
(0471) 		 case 3:
(0472) 		   lcd_write_str_con(2,"暂停");
    016EF E526      LDI	R18,0x56
    016F0 E038      LDI	R19,0x8
    016F1 E002      LDI	R16,2
    016F2 940E 06E3 CALL	_lcd_write_str_con
(0473) 		   break;
    016F4 C011      RJMP	0x1706
(0474) 		 case 4:
(0475) 		   lcd_write_str_con(2,"结束");
    016F5 E521      LDI	R18,0x51
    016F6 E038      LDI	R19,0x8
    016F7 E002      LDI	R16,2
    016F8 940E 06E3 CALL	_lcd_write_str_con
(0476) 		   break;
    016FA C00B      RJMP	0x1706
(0477) 		 case 5:
(0478) 		   lcd_write_str_con(2,"等待");
    016FB E42C      LDI	R18,0x4C
    016FC E038      LDI	R19,0x8
    016FD E002      LDI	R16,2
    016FE 940E 06E3 CALL	_lcd_write_str_con
(0479) 		   break;
    01700 C005      RJMP	0x1706
(0480) 		 case 6:
(0481) 		   lcd_write_str_con(2,"暂停");
    01701 E526      LDI	R18,0x56
    01702 E038      LDI	R19,0x8
    01703 E002      LDI	R16,2
    01704 940E 06E3 CALL	_lcd_write_str_con
(0482) 		   break;
(0483) 		   break;
(0484) 		 default:
(0485) 		   break;
(0486) 	   }
(0487) 	
(0488)       keyV=KeyScan_once();  
    01706 940E 0536 CALL	_KeyScan_once
    01708 2F60      MOV	R22,R16
(0489) 	  if(keyV=='e'){
    01709 3605      CPI	R16,0x65
    0170A F4F9      BNE	0x172A
(0490) 	      Set_White_off(1,3,2);
    0170B E082      LDI	R24,2
    0170C 8388      ST	Y,R24
    0170D E023      LDI	R18,3
    0170E E001      LDI	R16,1
    0170F 940E 084E CALL	_Set_White_off
(0491) 		  Set_White_off(4,3,5);
    01711 E085      LDI	R24,5
    01712 8388      ST	Y,R24
    01713 E023      LDI	R18,3
    01714 E004      LDI	R16,4
    01715 940E 084E CALL	_Set_White_off
(0492) 		  Set_White_off(8,3,9);
    01717 E089      LDI	R24,0x9
    01718 8388      ST	Y,R24
    01719 E023      LDI	R18,3
    0171A E008      LDI	R16,0x8
    0171B 940E 084E CALL	_Set_White_off
(0493) 		  Set_White_off(11,3,12);
    0171D E08C      LDI	R24,0xC
    0171E 8388      ST	Y,R24
    0171F E023      LDI	R18,3
    01720 E00B      LDI	R16,0xB
    01721 940E 084E CALL	_Set_White_off
(0494) 		  pageNum=1;
    01723 E081      LDI	R24,1
    01724 E090      LDI	R25,0
    01725 9390 0D5A STS	pageNum+1,R25
    01727 9380 0D59 STS	pageNum,R24
(0495) 		  return;
    01729 C0E6      RJMP	0x1810
(0496) 	  }else if(keyV=='l'){
    0172A 366C      CPI	R22,0x6C
    0172B F5D1      BNE	0x1766
(0497) 	     switch(cur){
    0172C 3041      CPI	R20,1
    0172D E0E0      LDI	R30,0
    0172E 075E      CPC	R21,R30
    0172F F049      BEQ	0x1739
    01730 3042      CPI	R20,2
    01731 E0E0      LDI	R30,0
    01732 075E      CPC	R21,R30
    01733 F0A1      BEQ	0x1748
    01734 3043      CPI	R20,3
    01735 E0E0      LDI	R30,0
    01736 075E      CPC	R21,R30
    01737 F0F9      BEQ	0x1757
    01738 C0D6      RJMP	0x180F
(0498) 		   case 1:
(0499) 		     Set_White_off(4,3,5);
    01739 E085      LDI	R24,5
    0173A 8388      ST	Y,R24
    0173B E023      LDI	R18,3
    0173C E004      LDI	R16,4
    0173D 940E 084E CALL	_Set_White_off
(0500) 		     Set_White(1,3,2);
    0173F E082      LDI	R24,2
    01740 8388      ST	Y,R24
    01741 E023      LDI	R18,3
    01742 E001      LDI	R16,1
    01743 940E 08BE CALL	_Set_White
(0501) 			 cur=0;
    01745 2744      CLR	R20
    01746 2755      CLR	R21
(0502) 		     break;
    01747 C0C7      RJMP	0x180F
(0503) 		   case 2:
(0504) 		     Set_White_off(8,3,9);
    01748 E089      LDI	R24,0x9
    01749 8388      ST	Y,R24
    0174A E023      LDI	R18,3
    0174B E008      LDI	R16,0x8
    0174C 940E 084E CALL	_Set_White_off
(0505) 		     Set_White(4,3,5);
    0174E E085      LDI	R24,5
    0174F 8388      ST	Y,R24
    01750 E023      LDI	R18,3
    01751 E004      LDI	R16,4
    01752 940E 08BE CALL	_Set_White
(0506) 		     cur=1;
    01754 E041      LDI	R20,1
    01755 E050      LDI	R21,0
(0507) 		     break;
    01756 C0B8      RJMP	0x180F
(0508) 		   case 3:
(0509) 		     Set_White_off(11,3,12);
    01757 E08C      LDI	R24,0xC
    01758 8388      ST	Y,R24
    01759 E023      LDI	R18,3
    0175A E00B      LDI	R16,0xB
    0175B 940E 084E CALL	_Set_White_off
(0510) 		     Set_White(8,3,9);
    0175D E089      LDI	R24,0x9
    0175E 8388      ST	Y,R24
    0175F E023      LDI	R18,3
    01760 E008      LDI	R16,0x8
    01761 940E 08BE CALL	_Set_White
(0511) 		     cur=2;
    01763 E042      LDI	R20,2
    01764 E050      LDI	R21,0
(0512) 		     break;
(0513) 		 }
(0514) 	  }else if(keyV=='r'){
    01765 C0A9      RJMP	0x180F
    01766 3762      CPI	R22,0x72
    01767 F5C9      BNE	0x17A1
(0515) 	       switch(cur){
    01768 3040      CPI	R20,0
    01769 0745      CPC	R20,R21
    0176A F049      BEQ	0x1774
    0176B 3041      CPI	R20,1
    0176C E0E0      LDI	R30,0
    0176D 075E      CPC	R21,R30
    0176E F0A1      BEQ	0x1783
    0176F 3042      CPI	R20,2
    01770 E0E0      LDI	R30,0
    01771 075E      CPC	R21,R30
    01772 F0F9      BEQ	0x1792
    01773 C09B      RJMP	0x180F
(0516) 		   case 0:
(0517) 		     Set_White(4,3,5);
    01774 E085      LDI	R24,5
    01775 8388      ST	Y,R24
    01776 E023      LDI	R18,3
    01777 E004      LDI	R16,4
    01778 940E 08BE CALL	_Set_White
(0518) 		     Set_White_off(1,3,2);
    0177A E082      LDI	R24,2
    0177B 8388      ST	Y,R24
    0177C E023      LDI	R18,3
    0177D E001      LDI	R16,1
    0177E 940E 084E CALL	_Set_White_off
(0519) 			 cur=1;
    01780 E041      LDI	R20,1
    01781 E050      LDI	R21,0
(0520) 		     break;
    01782 C08C      RJMP	0x180F
(0521) 		   case 1:
(0522) 		     Set_White(8,3,9);
    01783 E089      LDI	R24,0x9
    01784 8388      ST	Y,R24
    01785 E023      LDI	R18,3
    01786 E008      LDI	R16,0x8
    01787 940E 08BE CALL	_Set_White
(0523) 		     Set_White_off(4,3,5);
    01789 E085      LDI	R24,5
    0178A 8388      ST	Y,R24
    0178B E023      LDI	R18,3
    0178C E004      LDI	R16,4
    0178D 940E 084E CALL	_Set_White_off
(0524) 		     cur=2;
    0178F E042      LDI	R20,2
    01790 E050      LDI	R21,0
(0525) 		     break;
    01791 C07D      RJMP	0x180F
(0526) 		   case 2:
(0527) 		     Set_White(11,3,12);
    01792 E08C      LDI	R24,0xC
    01793 8388      ST	Y,R24
    01794 E023      LDI	R18,3
    01795 E00B      LDI	R16,0xB
    01796 940E 08BE CALL	_Set_White
(0528) 		     Set_White_off(8,3,9);
    01798 E089      LDI	R24,0x9
    01799 8388      ST	Y,R24
    0179A E023      LDI	R18,3
    0179B E008      LDI	R16,0x8
    0179C 940E 084E CALL	_Set_White_off
(0529) 		     cur=3;
    0179E E043      LDI	R20,3
    0179F E050      LDI	R21,0
(0530) 		     break;
(0531) 		 }
(0532) 	  }else if(keyV=='t'){
    017A0 C06E      RJMP	0x180F
    017A1 3764      CPI	R22,0x74
    017A2 F009      BEQ	0x17A4
    017A3 C04A      RJMP	0x17EE
(0533) 	       switch(cur){
    017A4 3040      CPI	R20,0
    017A5 0745      CPC	R20,R21
    017A6 F069      BEQ	0x17B4
    017A7 3041      CPI	R20,1
    017A8 E0E0      LDI	R30,0
    017A9 075E      CPC	R21,R30
    017AA F0B1      BEQ	0x17C1
    017AB 3042      CPI	R20,2
    017AC E0E0      LDI	R30,0
    017AD 075E      CPC	R21,R30
    017AE F0C9      BEQ	0x17C8
    017AF 3043      CPI	R20,3
    017B0 E0E0      LDI	R30,0
    017B1 075E      CPC	R21,R30
    017B2 F121      BEQ	0x17D7
    017B3 C05B      RJMP	0x180F
(0534) 		   case 0:
(0535) 		     Set_White_off(1,3,2);
    017B4 E082      LDI	R24,2
    017B5 8388      ST	Y,R24
    017B6 E023      LDI	R18,3
    017B7 E001      LDI	R16,1
    017B8 940E 084E CALL	_Set_White_off
(0536) 			 pageNum=4;
    017BA E084      LDI	R24,4
    017BB E090      LDI	R25,0
    017BC 9390 0D5A STS	pageNum+1,R25
    017BE 9380 0D59 STS	pageNum,R24
(0537) 		     return;
    017C0 C04F      RJMP	0x1810
(0538) 		   case 1:
(0539) 		     //运行操作
(0540) 			 set_start(pageParam[0]);
    017C1 9100 0D4F LDS	R16,pageParam
    017C3 9110 0D50 LDS	R17,pageParam+1
    017C5 940E 28FF CALL	_set_start
(0541) 		     break;
    017C7 C047      RJMP	0x180F
(0542) 		   case 2:
(0543) 		     //暂停操作
(0544) 			  lcd_write_str(4,2,"                ");
    017C8 EE86      LDI	R24,0xE6
    017C9 E097      LDI	R25,7
    017CA 8399      STD	Y+1,R25
    017CB 8388      ST	Y,R24
    017CC E022      LDI	R18,2
    017CD E004      LDI	R16,4
    017CE 940E 0699 CALL	_lcd_write_str
(0545) 			 set_stop(pageParam[0]);
    017D0 9100 0D4F LDS	R16,pageParam
    017D2 9110 0D50 LDS	R17,pageParam+1
    017D4 940E 2942 CALL	_set_stop
(0546) 		     break;
    017D6 C038      RJMP	0x180F
(0547) 		  case 3:
(0548) 		     //重置操作
(0549) 			 Set_White_off(11,3,12);
    017D7 E08C      LDI	R24,0xC
    017D8 8388      ST	Y,R24
    017D9 E023      LDI	R18,3
    017DA E00B      LDI	R16,0xB
    017DB 940E 084E CALL	_Set_White_off
(0550) 			 pageParam[2]=1;//表示重置是温度数据的
    017DD E081      LDI	R24,1
    017DE E090      LDI	R25,0
    017DF 9390 0D54 STS	pageParam+5,R25
    017E1 9380 0D53 STS	pageParam+4,R24
(0551) 			 prePageNum=3;
    017E3 E083      LDI	R24,3
    017E4 9390 0D4E STS	prePageNum+1,R25
    017E6 9380 0D4D STS	prePageNum,R24
(0552) 		     pageNum=7;
    017E8 E087      LDI	R24,7
    017E9 9390 0D5A STS	pageNum+1,R25
    017EB 9380 0D59 STS	pageNum,R24
(0553) 		     return;
    017ED C022      RJMP	0x1810
(0554) 		 }
(0555) 	  }else if(keyV=='s'){
    017EE 3763      CPI	R22,0x73
    017EF F4F9      BNE	0x180F
(0556) 	       Set_White_off(1,3,2);
    017F0 E082      LDI	R24,2
    017F1 8388      ST	Y,R24
    017F2 E023      LDI	R18,3
    017F3 E001      LDI	R16,1
    017F4 940E 084E CALL	_Set_White_off
(0557) 		   Set_White_off(4,3,5);
    017F6 E085      LDI	R24,5
    017F7 8388      ST	Y,R24
    017F8 E023      LDI	R18,3
    017F9 E004      LDI	R16,4
    017FA 940E 084E CALL	_Set_White_off
(0558) 		   Set_White_off(8,3,9);
    017FC E089      LDI	R24,0x9
    017FD 8388      ST	Y,R24
    017FE E023      LDI	R18,3
    017FF E008      LDI	R16,0x8
    01800 940E 084E CALL	_Set_White_off
(0559) 		   Set_White_off(11,3,12);
    01802 E08C      LDI	R24,0xC
    01803 8388      ST	Y,R24
    01804 E023      LDI	R18,3
    01805 E00B      LDI	R16,0xB
    01806 940E 084E CALL	_Set_White_off
(0560) 			pageNum=4;
    01808 E084      LDI	R24,4
    01809 E090      LDI	R25,0
    0180A 9390 0D5A STS	pageNum+1,R25
    0180C 9380 0D59 STS	pageNum,R24
(0561) 		     return;
    0180E C001      RJMP	0x1810
    0180F CCD7      RJMP	0x14E7
    01810 9622      ADIW	R28,2
    01811 940C 2D14 JMP	pop_xgsetF000
_page4_data:
  numL                 --> R14
  numH                 --> R12
  beginCur             --> R20
  i                    --> R22
  dataCach             --> R10
  y                    --> Y,+12
    01813 940E 2C79 CALL	push_arg4
    01815 940E 2CFA CALL	push_xgsetF0FC
    01817 0159      MOVW	R10,R18
    01818 9722      SBIW	R28,2
(0562) 	  }
(0563) 	}
(0564)  }
(0565)  //等下调用page_ac()函数改变ac写数据
(0566)  void page4_data(uint y,uint* dataCach){
(0567)       uint numH=0xA2;
    01819 EA82      LDI	R24,0xA2
    0181A E090      LDI	R25,0
    0181B 016C      MOVW	R12,R24
(0568)       uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
    0181C EC84      LDI	R24,0xC4
    0181D 017C      MOVW	R14,R24
(0569) 	  uint i=0;
    0181E 2766      CLR	R22
    0181F 2777      CLR	R23
(0570) 	  uint beginCur=0;
    01820 2744      CLR	R20
    01821 2755      CLR	R21
(0571)     //这个判断需要些到读取值函数中去
(0572) 	 if(y<3){
    01822 858C      LDD	R24,Y+12
    01823 859D      LDD	R25,Y+13
    01824 3083      CPI	R24,3
    01825 E0E0      LDI	R30,0
    01826 079E      CPC	R25,R30
    01827 F530      BCC	0x184E
(0573) 	   lcd_write_char(2,1,numH);
    01828 82C8      ST	Y,R12
    01829 E021      LDI	R18,1
    0182A E002      LDI	R16,2
    0182B 940E 0673 CALL	_lcd_write_char
(0574)        lcd_write_char_con(1,numL+1);
    0182D 0197      MOVW	R18,R14
    0182E 5F2F      SUBI	R18,0xFF
    0182F 4F3F      SBCI	R19,0xFF
    01830 E001      LDI	R16,1
    01831 940E 0641 CALL	_lcd_write_char_con
(0575) 	   lcd_write_char(2,2,numH);
    01833 82C8      ST	Y,R12
    01834 E022      LDI	R18,2
    01835 E002      LDI	R16,2
    01836 940E 0673 CALL	_lcd_write_char
(0576)        lcd_write_char_con(2,numL+2);
    01838 0197      MOVW	R18,R14
    01839 5F2E      SUBI	R18,0xFE
    0183A 4F3F      SBCI	R19,0xFF
    0183B E002      LDI	R16,2
    0183C 940E 0641 CALL	_lcd_write_char_con
(0577)        lcd_write_char(2,3,numH);
    0183E 82C8      ST	Y,R12
    0183F E023      LDI	R18,3
    01840 E002      LDI	R16,2
    01841 940E 0673 CALL	_lcd_write_char
(0578)        lcd_write_char_con(3,numL+3);
    01843 0197      MOVW	R18,R14
    01844 5F2D      SUBI	R18,0xFD
    01845 4F3F      SBCI	R19,0xFF
    01846 E003      LDI	R16,3
    01847 940E 0641 CALL	_lcd_write_char_con
(0579) 	   y=0;
    01849 2400      CLR	R0
    0184A 2411      CLR	R1
    0184B 861D      STD	Y+13,R1
    0184C 860C      STD	Y+12,R0
(0580) 	  }else if(y>=3 && y<6){
    0184D C08F      RJMP	0x18DD
    0184E 858C      LDD	R24,Y+12
    0184F 859D      LDD	R25,Y+13
    01850 3083      CPI	R24,3
    01851 E0E0      LDI	R30,0
    01852 079E      CPC	R25,R30
    01853 F150      BCS	0x187E
    01854 3086      CPI	R24,6
    01855 E0E0      LDI	R30,0
    01856 079E      CPC	R25,R30
    01857 F530      BCC	0x187E
(0581) 	   lcd_write_char(2,1,numH);
    01858 82C8      ST	Y,R12
    01859 E021      LDI	R18,1
    0185A E002      LDI	R16,2
    0185B 940E 0673 CALL	_lcd_write_char
(0582)        lcd_write_char_con(1,numL+4);
    0185D 0197      MOVW	R18,R14
    0185E 5F2C      SUBI	R18,0xFC
    0185F 4F3F      SBCI	R19,0xFF
    01860 E001      LDI	R16,1
    01861 940E 0641 CALL	_lcd_write_char_con
(0583) 	   lcd_write_char(2,2,numH);
    01863 82C8      ST	Y,R12
    01864 E022      LDI	R18,2
    01865 E002      LDI	R16,2
    01866 940E 0673 CALL	_lcd_write_char
(0584)        lcd_write_char_con(2,numL+5);
    01868 0197      MOVW	R18,R14
    01869 5F2B      SUBI	R18,0xFB
    0186A 4F3F      SBCI	R19,0xFF
    0186B E002      LDI	R16,2
    0186C 940E 0641 CALL	_lcd_write_char_con
(0585)        lcd_write_char(2,3,numH);
    0186E 82C8      ST	Y,R12
    0186F E023      LDI	R18,3
    01870 E002      LDI	R16,2
    01871 940E 0673 CALL	_lcd_write_char
(0586)        lcd_write_char_con(3,numL+6);
    01873 0197      MOVW	R18,R14
    01874 5F2A      SUBI	R18,0xFA
    01875 4F3F      SBCI	R19,0xFF
    01876 E003      LDI	R16,3
    01877 940E 0641 CALL	_lcd_write_char_con
(0587) 	   y=1;
    01879 E081      LDI	R24,1
    0187A E090      LDI	R25,0
    0187B 879D      STD	Y+13,R25
    0187C 878C      STD	Y+12,R24
(0588) 	  }else if(y>=6 && y<9){
    0187D C05F      RJMP	0x18DD
    0187E 858C      LDD	R24,Y+12
    0187F 859D      LDD	R25,Y+13
    01880 3086      CPI	R24,6
    01881 E0E0      LDI	R30,0
    01882 079E      CPC	R25,R30
    01883 F150      BCS	0x18AE
    01884 3089      CPI	R24,0x9
    01885 E0E0      LDI	R30,0
    01886 079E      CPC	R25,R30
    01887 F530      BCC	0x18AE
(0589) 	   lcd_write_char(2,1,numH);
    01888 82C8      ST	Y,R12
    01889 E021      LDI	R18,1
    0188A E002      LDI	R16,2
    0188B 940E 0673 CALL	_lcd_write_char
(0590)        lcd_write_char_con(1,numL+7);
    0188D 0197      MOVW	R18,R14
    0188E 5F29      SUBI	R18,0xF9
    0188F 4F3F      SBCI	R19,0xFF
    01890 E001      LDI	R16,1
    01891 940E 0641 CALL	_lcd_write_char_con
(0591) 	   lcd_write_char(2,2,numH);
    01893 82C8      ST	Y,R12
    01894 E022      LDI	R18,2
    01895 E002      LDI	R16,2
    01896 940E 0673 CALL	_lcd_write_char
(0592)        lcd_write_char_con(2,numL+8);
    01898 0197      MOVW	R18,R14
    01899 5F28      SUBI	R18,0xF8
    0189A 4F3F      SBCI	R19,0xFF
    0189B E002      LDI	R16,2
    0189C 940E 0641 CALL	_lcd_write_char_con
(0593)        lcd_write_char(2,3,numH);
    0189E 82C8      ST	Y,R12
    0189F E023      LDI	R18,3
    018A0 E002      LDI	R16,2
    018A1 940E 0673 CALL	_lcd_write_char
(0594)        lcd_write_char_con(3,numL+9);
    018A3 0197      MOVW	R18,R14
    018A4 5F27      SUBI	R18,0xF7
    018A5 4F3F      SBCI	R19,0xFF
    018A6 E003      LDI	R16,3
    018A7 940E 0641 CALL	_lcd_write_char_con
(0595) 	   y=2;
    018A9 E082      LDI	R24,2
    018AA E090      LDI	R25,0
    018AB 879D      STD	Y+13,R25
    018AC 878C      STD	Y+12,R24
(0596) 	  }else if(y>=9 && y<12){
    018AD C02F      RJMP	0x18DD
    018AE 858C      LDD	R24,Y+12
    018AF 859D      LDD	R25,Y+13
    018B0 3089      CPI	R24,0x9
    018B1 E0E0      LDI	R30,0
    018B2 079E      CPC	R25,R30
    018B3 F148      BCS	0x18DD
    018B4 308C      CPI	R24,0xC
    018B5 E0E0      LDI	R30,0
    018B6 079E      CPC	R25,R30
    018B7 F528      BCC	0x18DD
(0597) 	   lcd_write_char(2,1,numH);
    018B8 82C8      ST	Y,R12
    018B9 E021      LDI	R18,1
    018BA E002      LDI	R16,2
    018BB 940E 0673 CALL	_lcd_write_char
(0598)        lcd_write_char_con(1,numL+10);
    018BD 0197      MOVW	R18,R14
    018BE 5F26      SUBI	R18,0xF6
    018BF 4F3F      SBCI	R19,0xFF
    018C0 E001      LDI	R16,1
    018C1 940E 0641 CALL	_lcd_write_char_con
(0599) 	   lcd_write_char(2,2,numH);
    018C3 82C8      ST	Y,R12
    018C4 E022      LDI	R18,2
    018C5 E002      LDI	R16,2
    018C6 940E 0673 CALL	_lcd_write_char
(0600)        lcd_write_char_con(2,numL+11);
    018C8 0197      MOVW	R18,R14
    018C9 5F25      SUBI	R18,0xF5
    018CA 4F3F      SBCI	R19,0xFF
    018CB E002      LDI	R16,2
    018CC 940E 0641 CALL	_lcd_write_char_con
(0601)        lcd_write_char(2,3,numH);
    018CE 82C8      ST	Y,R12
    018CF E023      LDI	R18,3
    018D0 E002      LDI	R16,2
    018D1 940E 0673 CALL	_lcd_write_char
(0602)        lcd_write_char_con(3,numL+12);
    018D3 0197      MOVW	R18,R14
    018D4 5F24      SUBI	R18,0xF4
    018D5 4F3F      SBCI	R19,0xFF
    018D6 E003      LDI	R16,3
    018D7 940E 0641 CALL	_lcd_write_char_con
(0603) 	   y=3;
    018D9 E083      LDI	R24,3
    018DA E090      LDI	R25,0
    018DB 879D      STD	Y+13,R25
    018DC 878C      STD	Y+12,R24
(0604) 	  }
(0605) 	  //还要做数据读取操作
(0606) 	  beginCur=y*33;//获得首个数据
    018DD E201      LDI	R16,0x21
    018DE E010      LDI	R17,0
    018DF 852C      LDD	R18,Y+12
    018E0 853D      LDD	R19,Y+13
    018E1 940E 2CD3 CALL	empy16s
    018E3 01A8      MOVW	R20,R16
(0607) 	  for(i=1;i<=3;i++){
    018E4 E061      LDI	R22,1
    018E5 E070      LDI	R23,0
    018E6 C0C5      RJMP	0x19AC
(0608) 	    if(i==1){//第一次进入需要判断，首位写不许用++
    018E7 3061      CPI	R22,1
    018E8 E0E0      LDI	R30,0
    018E9 077E      CPC	R23,R30
    018EA F471      BNE	0x18F9
(0609) 		 lcd_write_char(3,i,0x30 | *(dataCach+beginCur));
    018EB 01FA      MOVW	R30,R20
    018EC 0FEE      LSL	R30
    018ED 1FFF      ROL	R31
    018EE 0DEA      ADD	R30,R10
    018EF 1DFB      ADC	R31,R11
    018F0 8180      LD	R24,Z
    018F1 8191      LDD	R25,Z+1
    018F2 6380      ORI	R24,0x30
    018F3 8388      ST	Y,R24
    018F4 2F26      MOV	R18,R22
    018F5 E003      LDI	R16,3
    018F6 940E 0673 CALL	_lcd_write_char
(0610) 		}else{
    018F8 C010      RJMP	0x1909
(0611) 		 lcd_write_char(3,i,0x30 | *(dataCach+(++beginCur)));
    018F9 01CA      MOVW	R24,R20
    018FA 9601      ADIW	R24,1
    018FB 01AC      MOVW	R20,R24
    018FC 01FC      MOVW	R30,R24
    018FD 0FEE      LSL	R30
    018FE 1FFF      ROL	R31
    018FF 0DEA      ADD	R30,R10
    01900 1DFB      ADC	R31,R11
    01901 8180      LD	R24,Z
    01902 8191      LDD	R25,Z+1
    01903 6380      ORI	R24,0x30
    01904 8388      ST	Y,R24
    01905 2F26      MOV	R18,R22
    01906 E003      LDI	R16,3
    01907 940E 0673 CALL	_lcd_write_char
(0612) 		}
(0613)         lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01909 01CA      MOVW	R24,R20
    0190A 9601      ADIW	R24,1
    0190B 01AC      MOVW	R20,R24
    0190C 01FC      MOVW	R30,R24
    0190D 0FEE      LSL	R30
    0190E 1FFF      ROL	R31
    0190F 0DEA      ADD	R30,R10
    01910 1DFB      ADC	R31,R11
    01911 8120      LD	R18,Z
    01912 8131      LDD	R19,Z+1
    01913 6320      ORI	R18,0x30
    01914 2F06      MOV	R16,R22
    01915 940E 0641 CALL	_lcd_write_char_con
(0614) 		 lcd_write_str_con(i,": ");
    01917 EE23      LDI	R18,0xE3
    01918 E037      LDI	R19,7
    01919 2F06      MOV	R16,R22
    0191A 940E 06E3 CALL	_lcd_write_str_con
(0615) 	     lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    0191C 01CA      MOVW	R24,R20
    0191D 9601      ADIW	R24,1
    0191E 01AC      MOVW	R20,R24
    0191F 01FC      MOVW	R30,R24
    01920 0FEE      LSL	R30
    01921 1FFF      ROL	R31
    01922 0DEA      ADD	R30,R10
    01923 1DFB      ADC	R31,R11
    01924 8120      LD	R18,Z
    01925 8131      LDD	R19,Z+1
    01926 6320      ORI	R18,0x30
    01927 2F06      MOV	R16,R22
    01928 940E 0641 CALL	_lcd_write_char_con
(0616) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    0192A 01CA      MOVW	R24,R20
    0192B 9601      ADIW	R24,1
    0192C 01AC      MOVW	R20,R24
    0192D 01FC      MOVW	R30,R24
    0192E 0FEE      LSL	R30
    0192F 1FFF      ROL	R31
    01930 0DEA      ADD	R30,R10
    01931 1DFB      ADC	R31,R11
    01932 8120      LD	R18,Z
    01933 8131      LDD	R19,Z+1
    01934 6320      ORI	R18,0x30
    01935 2F06      MOV	R16,R22
    01936 940E 0641 CALL	_lcd_write_char_con
(0617) 		 
(0618) 		 lcd_write_char(7,i,0x30 | *(dataCach+(++beginCur)));
    01938 01CA      MOVW	R24,R20
    01939 9601      ADIW	R24,1
    0193A 01AC      MOVW	R20,R24
    0193B 01FC      MOVW	R30,R24
    0193C 0FEE      LSL	R30
    0193D 1FFF      ROL	R31
    0193E 0DEA      ADD	R30,R10
    0193F 1DFB      ADC	R31,R11
    01940 8180      LD	R24,Z
    01941 8191      LDD	R25,Z+1
    01942 6380      ORI	R24,0x30
    01943 8388      ST	Y,R24
    01944 2F26      MOV	R18,R22
    01945 E007      LDI	R16,7
    01946 940E 0673 CALL	_lcd_write_char
(0619) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01948 01CA      MOVW	R24,R20
    01949 9601      ADIW	R24,1
    0194A 01AC      MOVW	R20,R24
    0194B 01FC      MOVW	R30,R24
    0194C 0FEE      LSL	R30
    0194D 1FFF      ROL	R31
    0194E 0DEA      ADD	R30,R10
    0194F 1DFB      ADC	R31,R11
    01950 8120      LD	R18,Z
    01951 8131      LDD	R19,Z+1
    01952 6320      ORI	R18,0x30
    01953 2F06      MOV	R16,R22
    01954 940E 0641 CALL	_lcd_write_char_con
(0620) 		  lcd_write_str_con(i,": ");
    01956 EE23      LDI	R18,0xE3
    01957 E037      LDI	R19,7
    01958 2F06      MOV	R16,R22
    01959 940E 06E3 CALL	_lcd_write_str_con
(0621) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    0195B 01CA      MOVW	R24,R20
    0195C 9601      ADIW	R24,1
    0195D 01AC      MOVW	R20,R24
    0195E 01FC      MOVW	R30,R24
    0195F 0FEE      LSL	R30
    01960 1FFF      ROL	R31
    01961 0DEA      ADD	R30,R10
    01962 1DFB      ADC	R31,R11
    01963 8120      LD	R18,Z
    01964 8131      LDD	R19,Z+1
    01965 6320      ORI	R18,0x30
    01966 2F06      MOV	R16,R22
    01967 940E 0641 CALL	_lcd_write_char_con
(0622) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01969 01CA      MOVW	R24,R20
    0196A 9601      ADIW	R24,1
    0196B 01AC      MOVW	R20,R24
    0196C 01FC      MOVW	R30,R24
    0196D 0FEE      LSL	R30
    0196E 1FFF      ROL	R31
    0196F 0DEA      ADD	R30,R10
    01970 1DFB      ADC	R31,R11
    01971 8120      LD	R18,Z
    01972 8131      LDD	R19,Z+1
    01973 6320      ORI	R18,0x30
    01974 2F06      MOV	R16,R22
    01975 940E 0641 CALL	_lcd_write_char_con
(0623) 		 
(0624) 		 lcd_write_str(10,i," ");
    01977 EE81      LDI	R24,0xE1
    01978 E097      LDI	R25,7
    01979 8399      STD	Y+1,R25
    0197A 8388      ST	Y,R24
    0197B 2F26      MOV	R18,R22
    0197C E00A      LDI	R16,0xA
    0197D 940E 0699 CALL	_lcd_write_str
(0625) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    0197F 01CA      MOVW	R24,R20
    01980 9601      ADIW	R24,1
    01981 01AC      MOVW	R20,R24
    01982 01FC      MOVW	R30,R24
    01983 0FEE      LSL	R30
    01984 1FFF      ROL	R31
    01985 0DEA      ADD	R30,R10
    01986 1DFB      ADC	R31,R11
    01987 8120      LD	R18,Z
    01988 8131      LDD	R19,Z+1
    01989 6320      ORI	R18,0x30
    0198A 2F06      MOV	R16,R22
    0198B 940E 0641 CALL	_lcd_write_char_con
(0626) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    0198D 01CA      MOVW	R24,R20
    0198E 9601      ADIW	R24,1
    0198F 01AC      MOVW	R20,R24
    01990 01FC      MOVW	R30,R24
    01991 0FEE      LSL	R30
    01992 1FFF      ROL	R31
    01993 0DEA      ADD	R30,R10
    01994 1DFB      ADC	R31,R11
    01995 8120      LD	R18,Z
    01996 8131      LDD	R19,Z+1
    01997 6320      ORI	R18,0x30
    01998 2F06      MOV	R16,R22
    01999 940E 0641 CALL	_lcd_write_char_con
(0627) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    0199B 01CA      MOVW	R24,R20
    0199C 9601      ADIW	R24,1
    0199D 016C      MOVW	R12,R24
    0199E 01AC      MOVW	R20,R24
    0199F 01FC      MOVW	R30,R24
    019A0 0FEE      LSL	R30
    019A1 1FFF      ROL	R31
    019A2 0DEA      ADD	R30,R10
    019A3 1DFB      ADC	R31,R11
    019A4 8120      LD	R18,Z
    019A5 8131      LDD	R19,Z+1
    019A6 6320      ORI	R18,0x30
    019A7 2F06      MOV	R16,R22
    019A8 940E 0641 CALL	_lcd_write_char_con
    019AA 5F6F      SUBI	R22,0xFF
    019AB 4F7F      SBCI	R23,0xFF
    019AC E083      LDI	R24,3
    019AD E090      LDI	R25,0
    019AE 1786      CP	R24,R22
    019AF 0797      CPC	R25,R23
    019B0 F008      BCS	0x19B2
    019B1 CF35      RJMP	0x18E7
    019B2 9622      ADIW	R28,2
    019B3 940E 2CEF CALL	pop_xgsetF0FC
    019B5 9624      ADIW	R28,4
    019B6 9508      RET
_page4_ac:
  y                    --> R10
  x                    --> R22
  lcd_y                --> R20
  dataCach             --> R12
  oldcur               --> Y,+12
  cur                  --> Y,+10
    019B7 940E 2C79 CALL	push_arg4
    019B9 940E 2CFA CALL	push_xgsetF0FC
    019BB 84CE      LDD	R12,Y+14
    019BC 84DF      LDD	R13,Y+15
(0628) 	  }
(0629) 	  
(0630)  }
(0631)  //传入cur做ac位置操作,判断是否翻页
(0632)  void page4_ac(uint cur,uint oldcur,uint* dataCach){
(0633)       uint y=cur/11;//逻辑y.从0开始
    019BD E02B      LDI	R18,0xB
    019BE E030      LDI	R19,0
    019BF 850A      LDD	R16,Y+10
    019C0 851B      LDD	R17,Y+11
    019C1 940E 2CA5 CALL	div16u
    019C3 0158      MOVW	R10,R16
(0634) 	  uint lcd_y;//显示y
(0635) 	  uint x=cur%11;//x轴
    019C4 E02B      LDI	R18,0xB
    019C5 E030      LDI	R19,0
    019C6 850A      LDD	R16,Y+10
    019C7 851B      LDD	R17,Y+11
    019C8 940E 2CA3 CALL	mod16u
    019CA 01B8      MOVW	R22,R16
(0636) 	  switch(y%3){
    019CB E023      LDI	R18,3
    019CC E030      LDI	R19,0
    019CD 0185      MOVW	R16,R10
    019CE 940E 2CA3 CALL	mod16u
    019D0 0178      MOVW	R14,R16
    019D1 3000      CPI	R16,0
    019D2 0701      CPC	R16,R17
    019D3 F051      BEQ	0x19DE
    019D4 01C7      MOVW	R24,R14
    019D5 3001      CPI	R16,1
    019D6 E0E0      LDI	R30,0
    019D7 071E      CPC	R17,R30
    019D8 F041      BEQ	0x19E1
    019D9 3002      CPI	R16,2
    019DA E0E0      LDI	R30,0
    019DB 071E      CPC	R17,R30
    019DC F039      BEQ	0x19E4
    019DD C008      RJMP	0x19E6
(0637) 	   case 0://1行
(0638) 	     lcd_y=1;
    019DE E041      LDI	R20,1
    019DF E050      LDI	R21,0
(0639) 	     break;
    019E0 C005      RJMP	0x19E6
(0640) 	   case 1://2行
(0641) 	     lcd_y=2;
    019E1 E042      LDI	R20,2
    019E2 E050      LDI	R21,0
(0642) 		 break;
    019E3 C002      RJMP	0x19E6
(0643) 	   case 2://3行
(0644) 	     lcd_y=3;
    019E4 E043      LDI	R20,3
    019E5 E050      LDI	R21,0
(0645) 	     break;
(0646) 	  }
(0647) 	  switch((oldcur/11)/3){
    019E6 E02B      LDI	R18,0xB
    019E7 E030      LDI	R19,0
    019E8 850C      LDD	R16,Y+12
    019E9 851D      LDD	R17,Y+13
    019EA 940E 2CA5 CALL	div16u
    019EC E023      LDI	R18,3
    019ED E030      LDI	R19,0
    019EE 940E 2CA5 CALL	div16u
    019F0 0178      MOVW	R14,R16
    019F1 3000      CPI	R16,0
    019F2 0701      CPC	R16,R17
    019F3 F071      BEQ	0x1A02
    019F4 01C7      MOVW	R24,R14
    019F5 3001      CPI	R16,1
    019F6 E0E0      LDI	R30,0
    019F7 071E      CPC	R17,R30
    019F8 F0A1      BEQ	0x1A0D
    019F9 3002      CPI	R16,2
    019FA E0E0      LDI	R30,0
    019FB 071E      CPC	R17,R30
    019FC F101      BEQ	0x1A1D
    019FD 3003      CPI	R16,3
    019FE E0E0      LDI	R30,0
    019FF 071E      CPC	R17,R30
    01A00 F169      BEQ	0x1A2E
    01A01 C035      RJMP	0x1A37
(0648) 	    case 0:
(0649) 		 if(cur>32){
    01A02 E280      LDI	R24,0x20
    01A03 E090      LDI	R25,0
    01A04 840A      LDD	R0,Y+10
    01A05 841B      LDD	R1,Y+11
    01A06 1580      CP	R24,R0
    01A07 0591      CPC	R25,R1
    01A08 F570      BCC	0x1A37
(0650) 		   page4_data(y,dataCach);
    01A09 0196      MOVW	R18,R12
    01A0A 0185      MOVW	R16,R10
    01A0B DE07      RCALL	_page4_data
(0651) 		 }
(0652) 		 break;
    01A0C C02A      RJMP	0x1A37
(0653) 		case 1:
(0654) 		  if(cur>65 || cur<33){
    01A0D E481      LDI	R24,0x41
    01A0E E090      LDI	R25,0
    01A0F 840A      LDD	R0,Y+10
    01A10 841B      LDD	R1,Y+11
    01A11 1580      CP	R24,R0
    01A12 0591      CPC	R25,R1
    01A13 F028      BCS	0x1A19
    01A14 01C0      MOVW	R24,R0
    01A15 3281      CPI	R24,0x21
    01A16 E0E0      LDI	R30,0
    01A17 079E      CPC	R25,R30
    01A18 F4F0      BCC	0x1A37
(0655) 		   page4_data(y,dataCach);
    01A19 0196      MOVW	R18,R12
    01A1A 0185      MOVW	R16,R10
    01A1B DDF7      RCALL	_page4_data
(0656) 		 }
(0657) 		 break;
    01A1C C01A      RJMP	0x1A37
(0658) 		case 2:
(0659) 		if(cur<66 || cur>98){
    01A1D 858A      LDD	R24,Y+10
    01A1E 859B      LDD	R25,Y+11
    01A1F 3482      CPI	R24,0x42
    01A20 E0E0      LDI	R30,0
    01A21 079E      CPC	R25,R30
    01A22 F038      BCS	0x1A2A
    01A23 E682      LDI	R24,0x62
    01A24 E090      LDI	R25,0
    01A25 840A      LDD	R0,Y+10
    01A26 841B      LDD	R1,Y+11
    01A27 1580      CP	R24,R0
    01A28 0591      CPC	R25,R1
    01A29 F468      BCC	0x1A37
(0660) 		   page4_data(y,dataCach);
    01A2A 0196      MOVW	R18,R12
    01A2B 0185      MOVW	R16,R10
    01A2C DDE6      RCALL	_page4_data
(0661) 		 }
(0662) 		 break;
    01A2D C009      RJMP	0x1A37
(0663) 		case 3:
(0664) 		if(cur<99){
    01A2E 858A      LDD	R24,Y+10
    01A2F 859B      LDD	R25,Y+11
    01A30 3683      CPI	R24,0x63
    01A31 E0E0      LDI	R30,0
    01A32 079E      CPC	R25,R30
    01A33 F418      BCC	0x1A37
(0665) 		   page4_data(y,dataCach);
    01A34 0196      MOVW	R18,R12
    01A35 0185      MOVW	R16,R10
    01A36 DDDC      RCALL	_page4_data
(0666) 		 }
(0667) 		 break;
(0668) 	  }
(0669) 	  if(lcd_y==1){
    01A37 3041      CPI	R20,1
    01A38 E0E0      LDI	R30,0
    01A39 075E      CPC	R21,R30
    01A3A F449      BNE	0x1A44
(0670) 	     cur_set(3);
    01A3B E003      LDI	R16,3
    01A3C E010      LDI	R17,0
    01A3D 940E 080A CALL	_cur_set
(0671) 		 cur_set(4);
    01A3F E004      LDI	R16,4
    01A40 E010      LDI	R17,0
    01A41 940E 080A CALL	_cur_set
(0672) 	  }else if(lcd_y==2 || lcd_y==3){
    01A43 C010      RJMP	0x1A54
    01A44 3042      CPI	R20,2
    01A45 E0E0      LDI	R30,0
    01A46 075E      CPC	R21,R30
    01A47 F021      BEQ	0x1A4C
    01A48 3043      CPI	R20,3
    01A49 E0E0      LDI	R30,0
    01A4A 075E      CPC	R21,R30
    01A4B F441      BNE	0x1A54
(0673) 	     cur_set(0);
    01A4C 2700      CLR	R16
    01A4D 2711      CLR	R17
    01A4E 940E 080A CALL	_cur_set
(0674) 		 cur_set(7);
    01A50 E007      LDI	R16,7
    01A51 E010      LDI	R17,0
    01A52 940E 080A CALL	_cur_set
(0675) 	  }
(0676) 	  if(x==0){
    01A54 3060      CPI	R22,0
    01A55 0767      CPC	R22,R23
    01A56 F429      BNE	0x1A5C
(0677) 	      lcd_write_pos(3,lcd_y);
    01A57 2F24      MOV	R18,R20
    01A58 E003      LDI	R16,3
    01A59 940E 0655 CALL	_lcd_write_pos
(0678) 	  }else if(x==2){
    01A5B C031      RJMP	0x1A8D
    01A5C 3062      CPI	R22,2
    01A5D E0E0      LDI	R30,0
    01A5E 077E      CPC	R23,R30
    01A5F F429      BNE	0x1A65
(0679) 	       lcd_write_pos(5,lcd_y);
    01A60 2F24      MOV	R18,R20
    01A61 E005      LDI	R16,5
    01A62 940E 0655 CALL	_lcd_write_pos
(0680) 	  }else if(x==4){
    01A64 C028      RJMP	0x1A8D
    01A65 3064      CPI	R22,4
    01A66 E0E0      LDI	R30,0
    01A67 077E      CPC	R23,R30
    01A68 F429      BNE	0x1A6E
(0681) 	        lcd_write_pos(7,lcd_y);
    01A69 2F24      MOV	R18,R20
    01A6A E007      LDI	R16,7
    01A6B 940E 0655 CALL	_lcd_write_pos
(0682) 	  }else if(x==6){
    01A6D C01F      RJMP	0x1A8D
    01A6E 3066      CPI	R22,6
    01A6F E0E0      LDI	R30,0
    01A70 077E      CPC	R23,R30
    01A71 F429      BNE	0x1A77
(0683) 	        lcd_write_pos(9,lcd_y);
    01A72 2F24      MOV	R18,R20
    01A73 E009      LDI	R16,0x9
    01A74 940E 0655 CALL	_lcd_write_pos
(0684) 	  }else if(x==8){
    01A76 C016      RJMP	0x1A8D
    01A77 3068      CPI	R22,0x8
    01A78 E0E0      LDI	R30,0
    01A79 077E      CPC	R23,R30
    01A7A F451      BNE	0x1A85
(0685) 	        lcd_write_pos(10,lcd_y);
    01A7B 2F24      MOV	R18,R20
    01A7C E00A      LDI	R16,0xA
    01A7D 940E 0655 CALL	_lcd_write_pos
(0686) 			lcd_write_str_con(lcd_y," ");
    01A7F EE21      LDI	R18,0xE1
    01A80 E037      LDI	R19,7
    01A81 2F04      MOV	R16,R20
    01A82 940E 06E3 CALL	_lcd_write_str_con
(0687) 	  }else if(x==9){
    01A84 C008      RJMP	0x1A8D
    01A85 3069      CPI	R22,0x9
    01A86 E0E0      LDI	R30,0
    01A87 077E      CPC	R23,R30
    01A88 F421      BNE	0x1A8D
(0688) 	        lcd_write_pos(11,lcd_y);
    01A89 2F24      MOV	R18,R20
    01A8A E00B      LDI	R16,0xB
    01A8B 940E 0655 CALL	_lcd_write_pos
(0689) 	  }
(0690) 	  return;
    01A8D 940E 2CEF CALL	pop_xgsetF0FC
    01A8F 9624      ADIW	R28,4
    01A90 9508      RET
_page4:
  numL                 --> R20
  numH                 --> R20
  oldcur               --> R22
  dataCach             --> Y,+2
  cur                  --> R20
  keyV                 --> R10
  i                    --> R10
    01A91 940E 2D35 CALL	push_xgsetF03C
    01A93 97EF      SBIW	R28,0x3F
    01A94 97EF      SBIW	R28,0x3F
    01A95 97EF      SBIW	R28,0x3F
    01A96 97EF      SBIW	R28,0x3F
    01A97 972C      SBIW	R28,0xC
(0691)  }
(0692)   void page4(void){
(0693)     //定义一个局部的结构体，从对呀温度中获得数据。暂时未写
(0694)   uint numH=0xA2;
(0695)   uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
(0696)   uint cur=0;
    01A98 2744      CLR	R20
    01A99 2755      CLR	R21
(0697)   uint oldcur=0;
    01A9A 2766      CLR	R22
    01A9B 2777      CLR	R23
(0698)   uint dataCach[131]={0};
    01A9C E28A      LDI	R24,0x2A
    01A9D E096      LDI	R25,6
    01A9E 01FE      MOVW	R30,R28
    01A9F 9632      ADIW	R30,2
    01AA0 E006      LDI	R16,6
    01AA1 E011      LDI	R17,1
    01AA2 93FA      ST	-Y,R31
    01AA3 93EA      ST	-Y,R30
    01AA4 939A      ST	-Y,R25
    01AA5 938A      ST	-Y,R24
    01AA6 940E 2D56 CALL	asgnblk
(0699)   uint i=0;
(0700)    uchar keyV;
(0701)    lcd_write_str(0,0,"T");
    01AA8 E283      LDI	R24,0x23
    01AA9 E098      LDI	R25,0x8
    01AAA 8399      STD	Y+1,R25
    01AAB 8388      ST	Y,R24
    01AAC 2722      CLR	R18
    01AAD 2700      CLR	R16
    01AAE 940E 0699 CALL	_lcd_write_str
(0702)    lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    01AB0 9120 0D4F LDS	R18,pageParam
    01AB2 9130 0D50 LDS	R19,pageParam+1
    01AB4 5F2F      SUBI	R18,0xFF
    01AB5 4F3F      SBCI	R19,0xFF
    01AB6 6320      ORI	R18,0x30
    01AB7 2700      CLR	R16
    01AB8 940E 0641 CALL	_lcd_write_char_con
(0703)    lcd_write_char_con(0,':');
    01ABA E32A      LDI	R18,0x3A
    01ABB 2700      CLR	R16
    01ABC 940E 0641 CALL	_lcd_write_char_con
(0704)    
(0705)    lcd_write_str(4,0,"升温");
    01ABE EF8C      LDI	R24,0xFC
    01ABF E097      LDI	R25,7
    01AC0 8399      STD	Y+1,R25
    01AC1 8388      ST	Y,R24
    01AC2 2722      CLR	R18
    01AC3 E004      LDI	R16,4
    01AC4 940E 0699 CALL	_lcd_write_str
(0706)    lcd_write_str(7,0,"恒温");
    01AC6 EF87      LDI	R24,0xF7
    01AC7 E097      LDI	R25,7
    01AC8 8399      STD	Y+1,R25
    01AC9 8388      ST	Y,R24
    01ACA 2722      CLR	R18
    01ACB E007      LDI	R16,7
    01ACC 940E 0699 CALL	_lcd_write_str
(0707)    lcd_write_str(10,0,"温度");
    01ACE ED8C      LDI	R24,0xDC
    01ACF E097      LDI	R25,7
    01AD0 8399      STD	Y+1,R25
    01AD1 8388      ST	Y,R24
    01AD2 2722      CLR	R18
    01AD3 E00A      LDI	R16,0xA
    01AD4 940E 0699 CALL	_lcd_write_str
(0708)    lcd_write_str(0,1,"保存");
    01AD6 ED87      LDI	R24,0xD7
    01AD7 E097      LDI	R25,7
    01AD8 8399      STD	Y+1,R25
    01AD9 8388      ST	Y,R24
    01ADA E021      LDI	R18,1
    01ADB 2700      CLR	R16
    01ADC 940E 0699 CALL	_lcd_write_str
(0709)    lcd_write_str(0,2,"取消");
    01ADE E381      LDI	R24,0x31
    01ADF E098      LDI	R25,0x8
    01AE0 8399      STD	Y+1,R25
    01AE1 8388      ST	Y,R24
    01AE2 E022      LDI	R18,2
    01AE3 2700      CLR	R16
    01AE4 940E 0699 CALL	_lcd_write_str
(0710)    lcd_write_str(0,3,"重置");
    01AE6 E082      LDI	R24,2
    01AE7 E098      LDI	R25,0x8
    01AE8 8399      STD	Y+1,R25
    01AE9 8388      ST	Y,R24
    01AEA E023      LDI	R18,3
    01AEB 2700      CLR	R16
    01AEC 940E 0699 CALL	_lcd_write_str
(0711)   
(0712)   for(i=0;i<132;i++){
    01AEE 24AA      CLR	R10
    01AEF 24BB      CLR	R11
    01AF0 C020      RJMP	0x1B11
(0713)     dataCach[i]=temps[pageParam[0]].temp_data[i];
    01AF1 0115      MOVW	R2,R10
    01AF2 0C22      LSL	R2
    01AF3 1C33      ROL	R3
    01AF4 0121      MOVW	R4,R2
    01AF5 9120 0D4F LDS	R18,pageParam
    01AF7 9130 0D50 LDS	R19,pageParam+1
    01AF9 E404      LDI	R16,0x44
    01AFA E011      LDI	R17,1
    01AFB 940E 2CD3 CALL	empy16s
    01AFD E188      LDI	R24,0x18
    01AFE E091      LDI	R25,1
    01AFF 0118      MOVW	R2,R16
    01B00 0E28      ADD	R2,R24
    01B01 1E39      ADC	R3,R25
    01B02 01F2      MOVW	R30,R4
    01B03 0DE2      ADD	R30,R2
    01B04 1DF3      ADC	R31,R3
    01B05 8020      LD	R2,Z
    01B06 8031      LDD	R3,Z+1
    01B07 01CE      MOVW	R24,R28
    01B08 9602      ADIW	R24,2
    01B09 01F2      MOVW	R30,R4
    01B0A 0FE8      ADD	R30,R24
    01B0B 1FF9      ADC	R31,R25
    01B0C 8231      STD	Z+1,R3
    01B0D 8220      ST	Z,R2
    01B0E 01C5      MOVW	R24,R10
    01B0F 9601      ADIW	R24,1
    01B10 015C      MOVW	R10,R24
    01B11 01C5      MOVW	R24,R10
    01B12 3884      CPI	R24,0x84
    01B13 E0E0      LDI	R30,0
    01B14 079E      CPC	R25,R30
    01B15 F2D8      BCS	0x1AF1
(0714)   }
(0715)     page4_data(0,dataCach);//调用函数填充
    01B16 019E      MOVW	R18,R28
    01B17 5F2E      SUBI	R18,0xFE
    01B18 4F3F      SBCI	R19,0xFF
    01B19 2700      CLR	R16
    01B1A 2711      CLR	R17
    01B1B DCF7      RCALL	_page4_data
(0716)    cur=0;
    01B1C 2744      CLR	R20
    01B1D 2755      CLR	R21
(0717)    lcd_write_pos(3,1);
    01B1E E021      LDI	R18,1
    01B1F E003      LDI	R16,3
    01B20 940E 0655 CALL	_lcd_write_pos
(0718)    cur_set(3);
    01B22 E003      LDI	R16,3
    01B23 E010      LDI	R17,0
    01B24 940E 080A CALL	_cur_set
    01B26 C22A      RJMP	0x1D51
(0719)    
(0720)    //Set_White(9,2,10);
(0721)     while(1){
(0722)       keyV=KeyScan_once();
    01B27 940E 0536 CALL	_KeyScan_once
    01B29 2EA0      MOV	R10,R16
(0723) 	  if(keyV=='e'){
    01B2A 3605      CPI	R16,0x65
    01B2B F509      BNE	0x1B4D
(0724) 	        Set_White_off(1,1,2);
    01B2C E082      LDI	R24,2
    01B2D 8388      ST	Y,R24
    01B2E E021      LDI	R18,1
    01B2F E001      LDI	R16,1
    01B30 940E 084E CALL	_Set_White_off
(0725) 			Set_White_off(1,2,2);
    01B32 E082      LDI	R24,2
    01B33 8388      ST	Y,R24
    01B34 E022      LDI	R18,2
    01B35 E001      LDI	R16,1
    01B36 940E 084E CALL	_Set_White_off
(0726) 			Set_White_off(1,3,2);
    01B38 E082      LDI	R24,2
    01B39 8388      ST	Y,R24
    01B3A E023      LDI	R18,3
    01B3B E001      LDI	R16,1
    01B3C 940E 084E CALL	_Set_White_off
(0727) 			cur_set(0);
    01B3E 2700      CLR	R16
    01B3F 2711      CLR	R17
    01B40 940E 080A CALL	_cur_set
(0728) 			cur_set(4);
    01B42 E004      LDI	R16,4
    01B43 E010      LDI	R17,0
    01B44 940E 080A CALL	_cur_set
(0729) 		    pageNum=3;
    01B46 E083      LDI	R24,3
    01B47 E090      LDI	R25,0
    01B48 9390 0D5A STS	pageNum+1,R25
    01B4A 9380 0D59 STS	pageNum,R24
(0730) 		    return;
    01B4C C205      RJMP	0x1D52
(0731) 	  }else if(keyV=='u'){
    01B4D 2D8A      MOV	R24,R10
    01B4E 3785      CPI	R24,0x75
    01B4F F009      BEQ	0x1B51
    01B50 C046      RJMP	0x1B97
(0732) 	     if(cur==133){
    01B51 3845      CPI	R20,0x85
    01B52 E0E0      LDI	R30,0
    01B53 075E      CPC	R21,R30
    01B54 F479      BNE	0x1B64
(0733) 		    Set_White(1,1,2);
    01B55 E082      LDI	R24,2
    01B56 8388      ST	Y,R24
    01B57 E021      LDI	R18,1
    01B58 E001      LDI	R16,1
    01B59 940E 08BE CALL	_Set_White
(0734) 			Set_White_off(1,2,2);
    01B5B E082      LDI	R24,2
    01B5C 8388      ST	Y,R24
    01B5D E022      LDI	R18,2
    01B5E E001      LDI	R16,1
    01B5F 940E 084E CALL	_Set_White_off
(0735) 			cur=132;
    01B61 E844      LDI	R20,0x84
    01B62 E050      LDI	R21,0
(0736) 		 }else if(cur==134){
    01B63 C1ED      RJMP	0x1D51
    01B64 3846      CPI	R20,0x86
    01B65 E0E0      LDI	R30,0
    01B66 075E      CPC	R21,R30
    01B67 F479      BNE	0x1B77
(0737) 		    Set_White(1,2,2);
    01B68 E082      LDI	R24,2
    01B69 8388      ST	Y,R24
    01B6A E022      LDI	R18,2
    01B6B E001      LDI	R16,1
    01B6C 940E 08BE CALL	_Set_White
(0738) 			Set_White_off(1,3,2);
    01B6E E082      LDI	R24,2
    01B6F 8388      ST	Y,R24
    01B70 E023      LDI	R18,3
    01B71 E001      LDI	R16,1
    01B72 940E 084E CALL	_Set_White_off
(0739) 			cur=133;
    01B74 E845      LDI	R20,0x85
    01B75 E050      LDI	R21,0
(0740) 		 }else if(cur>10 && cur<=131){
    01B76 C1DA      RJMP	0x1D51
    01B77 E08A      LDI	R24,0xA
    01B78 E090      LDI	R25,0
    01B79 1784      CP	R24,R20
    01B7A 0795      CPC	R25,R21
    01B7B F008      BCS	0x1B7D
    01B7C C1D4      RJMP	0x1D51
    01B7D E883      LDI	R24,0x83
    01B7E 1784      CP	R24,R20
    01B7F 0795      CPC	R25,R21
    01B80 F408      BCC	0x1B82
    01B81 C1CF      RJMP	0x1D51
(0741) 		   oldcur=cur;
    01B82 01BA      MOVW	R22,R20
(0742) 	       cur=(cur/11-1)*11;
    01B83 E02B      LDI	R18,0xB
    01B84 E030      LDI	R19,0
    01B85 018A      MOVW	R16,R20
    01B86 940E 2CA5 CALL	div16u
    01B88 0198      MOVW	R18,R16
    01B89 5021      SUBI	R18,1
    01B8A 4030      SBCI	R19,0
    01B8B E00B      LDI	R16,0xB
    01B8C E010      LDI	R17,0
    01B8D 940E 2CD3 CALL	empy16s
    01B8F 01A8      MOVW	R20,R16
(0743) 		   page4_ac(cur,oldcur,dataCach);
    01B90 01CE      MOVW	R24,R28
    01B91 9602      ADIW	R24,2
    01B92 8399      STD	Y+1,R25
    01B93 8388      ST	Y,R24
    01B94 019B      MOVW	R18,R22
    01B95 DE21      RCALL	_page4_ac
(0744) 		 }
(0745) 	  }else if(keyV=='d'){
    01B96 C1BA      RJMP	0x1D51
    01B97 2D8A      MOV	R24,R10
    01B98 3684      CPI	R24,0x64
    01B99 F009      BEQ	0x1B9B
    01B9A C040      RJMP	0x1BDB
(0746) 	     if(cur==132){
    01B9B 3844      CPI	R20,0x84
    01B9C E0E0      LDI	R30,0
    01B9D 075E      CPC	R21,R30
    01B9E F479      BNE	0x1BAE
(0747) 		    Set_White_off(1,1,2);
    01B9F E082      LDI	R24,2
    01BA0 8388      ST	Y,R24
    01BA1 E021      LDI	R18,1
    01BA2 E001      LDI	R16,1
    01BA3 940E 084E CALL	_Set_White_off
(0748) 			Set_White(1,2,2);
    01BA5 E082      LDI	R24,2
    01BA6 8388      ST	Y,R24
    01BA7 E022      LDI	R18,2
    01BA8 E001      LDI	R16,1
    01BA9 940E 08BE CALL	_Set_White
(0749) 			cur=133;
    01BAB E845      LDI	R20,0x85
    01BAC E050      LDI	R21,0
(0750) 		 }else if(cur==133){
    01BAD C1A3      RJMP	0x1D51
    01BAE 3845      CPI	R20,0x85
    01BAF E0E0      LDI	R30,0
    01BB0 075E      CPC	R21,R30
    01BB1 F479      BNE	0x1BC1
(0751) 		    Set_White_off(1,2,2);
    01BB2 E082      LDI	R24,2
    01BB3 8388      ST	Y,R24
    01BB4 E022      LDI	R18,2
    01BB5 E001      LDI	R16,1
    01BB6 940E 084E CALL	_Set_White_off
(0752) 			Set_White(1,3,2);
    01BB8 E082      LDI	R24,2
    01BB9 8388      ST	Y,R24
    01BBA E023      LDI	R18,3
    01BBB E001      LDI	R16,1
    01BBC 940E 08BE CALL	_Set_White
(0753) 			cur=134;
    01BBE E846      LDI	R20,0x86
    01BBF E050      LDI	R21,0
(0754) 		 }else if(cur<121){
    01BC0 C190      RJMP	0x1D51
    01BC1 3749      CPI	R20,0x79
    01BC2 E0E0      LDI	R30,0
    01BC3 075E      CPC	R21,R30
    01BC4 F008      BCS	0x1BC6
    01BC5 C18B      RJMP	0x1D51
(0755) 	      oldcur=cur;
    01BC6 01BA      MOVW	R22,R20
(0756) 	      cur=(cur/11+1)*11;
    01BC7 E02B      LDI	R18,0xB
    01BC8 E030      LDI	R19,0
    01BC9 018A      MOVW	R16,R20
    01BCA 940E 2CA5 CALL	div16u
    01BCC 0198      MOVW	R18,R16
    01BCD 5F2F      SUBI	R18,0xFF
    01BCE 4F3F      SBCI	R19,0xFF
    01BCF E00B      LDI	R16,0xB
    01BD0 E010      LDI	R17,0
    01BD1 940E 2CD3 CALL	empy16s
    01BD3 01A8      MOVW	R20,R16
(0757) 		  page4_ac(cur,oldcur,dataCach);
    01BD4 01CE      MOVW	R24,R28
    01BD5 9602      ADIW	R24,2
    01BD6 8399      STD	Y+1,R25
    01BD7 8388      ST	Y,R24
    01BD8 019B      MOVW	R18,R22
    01BD9 DDDD      RCALL	_page4_ac
(0758) 		}
(0759) 		
(0760) 	  }else if(keyV=='l'){
    01BDA C176      RJMP	0x1D51
    01BDB 2D8A      MOV	R24,R10
    01BDC 368C      CPI	R24,0x6C
    01BDD F009      BEQ	0x1BDF
    01BDE C049      RJMP	0x1C28
(0761) 	   oldcur=cur;
    01BDF 01BA      MOVW	R22,R20
(0762) 	  if(cur%11==0){
    01BE0 E02B      LDI	R18,0xB
    01BE1 E030      LDI	R19,0
    01BE2 018A      MOVW	R16,R20
    01BE3 940E 2CA3 CALL	mod16u
    01BE5 3000      CPI	R16,0
    01BE6 0701      CPC	R16,R17
    01BE7 F489      BNE	0x1BF9
(0763) 	        Set_White(1,1,2);
    01BE8 E082      LDI	R24,2
    01BE9 8388      ST	Y,R24
    01BEA E021      LDI	R18,1
    01BEB E001      LDI	R16,1
    01BEC 940E 08BE CALL	_Set_White
(0764) 			cur_set(0);
    01BEE 2700      CLR	R16
    01BEF 2711      CLR	R17
    01BF0 940E 080A CALL	_cur_set
(0765) 			cur_set(4);
    01BF2 E004      LDI	R16,4
    01BF3 E010      LDI	R17,0
    01BF4 940E 080A CALL	_cur_set
(0766) 			cur=132;
    01BF6 E844      LDI	R20,0x84
    01BF7 E050      LDI	R21,0
(0767) 	   }else if(cur%11==2 || cur%11==4 || cur%11==6 || cur%11==8){
    01BF8 C158      RJMP	0x1D51
    01BF9 E02B      LDI	R18,0xB
    01BFA E030      LDI	R19,0
    01BFB 018A      MOVW	R16,R20
    01BFC 940E 2CA3 CALL	mod16u
    01BFE 0168      MOVW	R12,R16
    01BFF 01C6      MOVW	R24,R12
    01C00 3002      CPI	R16,2
    01C01 E0E0      LDI	R30,0
    01C02 071E      CPC	R17,R30
    01C03 F061      BEQ	0x1C10
    01C04 3004      CPI	R16,4
    01C05 E0E0      LDI	R30,0
    01C06 071E      CPC	R17,R30
    01C07 F041      BEQ	0x1C10
    01C08 3006      CPI	R16,6
    01C09 E0E0      LDI	R30,0
    01C0A 071E      CPC	R17,R30
    01C0B F021      BEQ	0x1C10
    01C0C 3008      CPI	R16,0x8
    01C0D E0E0      LDI	R30,0
    01C0E 071E      CPC	R17,R30
    01C0F F451      BNE	0x1C1A
(0768) 	      cur-=2;
    01C10 5042      SUBI	R20,2
    01C11 4050      SBCI	R21,0
(0769) 		   page4_ac(cur,oldcur,dataCach);
    01C12 01CE      MOVW	R24,R28
    01C13 9602      ADIW	R24,2
    01C14 8399      STD	Y+1,R25
    01C15 8388      ST	Y,R24
    01C16 019B      MOVW	R18,R22
    01C17 018A      MOVW	R16,R20
    01C18 DD9E      RCALL	_page4_ac
(0770) 		}else if(cur>0){
    01C19 C137      RJMP	0x1D51
    01C1A 3040      CPI	R20,0
    01C1B 0745      CPC	R20,R21
    01C1C F409      BNE	0x1C1E
    01C1D C133      RJMP	0x1D51
(0771) 	      cur--;
    01C1E 5041      SUBI	R20,1
    01C1F 4050      SBCI	R21,0
(0772) 		   page4_ac(cur,oldcur,dataCach);
    01C20 01CE      MOVW	R24,R28
    01C21 9602      ADIW	R24,2
    01C22 8399      STD	Y+1,R25
    01C23 8388      ST	Y,R24
    01C24 019B      MOVW	R18,R22
    01C25 018A      MOVW	R16,R20
    01C26 DD90      RCALL	_page4_ac
(0773) 		}
(0774) 	  
(0775) 	  }else if(keyV=='r'){
    01C27 C129      RJMP	0x1D51
    01C28 2D8A      MOV	R24,R10
    01C29 3782      CPI	R24,0x72
    01C2A F541      BNE	0x1C53
(0776) 	  if(cur>131){
    01C2B E883      LDI	R24,0x83
    01C2C E090      LDI	R25,0
    01C2D 1784      CP	R24,R20
    01C2E 0795      CPC	R25,R21
    01C2F F4A0      BCC	0x1C44
(0777) 	      Set_White_off(1,1,2);
    01C30 E082      LDI	R24,2
    01C31 8388      ST	Y,R24
    01C32 E021      LDI	R18,1
    01C33 E001      LDI	R16,1
    01C34 940E 084E CALL	_Set_White_off
(0778) 	      Set_White_off(1,2,2);
    01C36 E082      LDI	R24,2
    01C37 8388      ST	Y,R24
    01C38 E022      LDI	R18,2
    01C39 E001      LDI	R16,1
    01C3A 940E 084E CALL	_Set_White_off
(0779) 		  Set_White_off(1,3,2);
    01C3C E082      LDI	R24,2
    01C3D 8388      ST	Y,R24
    01C3E E023      LDI	R18,3
    01C3F E001      LDI	R16,1
    01C40 940E 084E CALL	_Set_White_off
(0780) 		  cur=oldcur;
    01C42 01AB      MOVW	R20,R22
(0781) 	  }else  if(cur<131){
    01C43 C007      RJMP	0x1C4B
    01C44 3843      CPI	R20,0x83
    01C45 E0E0      LDI	R30,0
    01C46 075E      CPC	R21,R30
    01C47 F418      BCC	0x1C4B
(0782) 		 oldcur=cur;
    01C48 01BA      MOVW	R22,R20
(0783) 	     cur++;
    01C49 5F4F      SUBI	R20,0xFF
    01C4A 4F5F      SBCI	R21,0xFF
(0784) 		 }
(0785) 	    page4_ac(cur,oldcur,dataCach);
    01C4B 01CE      MOVW	R24,R28
    01C4C 9602      ADIW	R24,2
    01C4D 8399      STD	Y+1,R25
    01C4E 8388      ST	Y,R24
    01C4F 019B      MOVW	R18,R22
    01C50 018A      MOVW	R16,R20
    01C51 DD65      RCALL	_page4_ac
(0786) 	  }else if(keyV=='t'){	    
    01C52 C0FE      RJMP	0x1D51
    01C53 2D8A      MOV	R24,R10
    01C54 3784      CPI	R24,0x74
    01C55 F009      BEQ	0x1C57
    01C56 C098      RJMP	0x1CEF
(0787) 	     if(cur==132){
    01C57 3844      CPI	R20,0x84
    01C58 E0E0      LDI	R30,0
    01C59 075E      CPC	R21,R30
    01C5A F009      BEQ	0x1C5C
    01C5B C03E      RJMP	0x1C9A
(0788) 		   Set_White_off(1,1,2);
    01C5C E082      LDI	R24,2
    01C5D 8388      ST	Y,R24
    01C5E E021      LDI	R18,1
    01C5F E001      LDI	R16,1
    01C60 940E 084E CALL	_Set_White_off
(0789) 			Set_White_off(1,2,2);
    01C62 E082      LDI	R24,2
    01C63 8388      ST	Y,R24
    01C64 E022      LDI	R18,2
    01C65 E001      LDI	R16,1
    01C66 940E 084E CALL	_Set_White_off
(0790) 			Set_White_off(1,3,2);
    01C68 E082      LDI	R24,2
    01C69 8388      ST	Y,R24
    01C6A E023      LDI	R18,3
    01C6B E001      LDI	R16,1
    01C6C 940E 084E CALL	_Set_White_off
(0791) 		   cur_set(0);
    01C6E 2700      CLR	R16
    01C6F 2711      CLR	R17
    01C70 940E 080A CALL	_cur_set
(0792) 			cur_set(4);
    01C72 E004      LDI	R16,4
    01C73 E010      LDI	R17,0
    01C74 940E 080A CALL	_cur_set
(0793) 			lcd_clear();
    01C76 940E 0750 CALL	_lcd_clear
(0794) 			lcd_write_str(5,2,"保存中. . .");
    01C78 EC8B      LDI	R24,0xCB
    01C79 E097      LDI	R25,7
    01C7A 8399      STD	Y+1,R25
    01C7B 8388      ST	Y,R24
    01C7C E022      LDI	R18,2
    01C7D E005      LDI	R16,5
    01C7E 940E 0699 CALL	_lcd_write_str
(0795) 		    pageParam[1]=1;//表示是温度数据的，这里处理保存的方法，因为数据在这里。只是跳转过去，参数如果是1表示成功。2表示失败
    01C80 E081      LDI	R24,1
    01C81 E090      LDI	R25,0
    01C82 9390 0D52 STS	pageParam+3,R25
    01C84 9380 0D51 STS	pageParam+2,R24
(0796) 		    prePageNum=4;
    01C86 E084      LDI	R24,4
    01C87 9390 0D4E STS	prePageNum+1,R25
    01C89 9380 0D4D STS	prePageNum,R24
(0797) 		    pageNum=6;
    01C8B E086      LDI	R24,6
    01C8C 9390 0D5A STS	pageNum+1,R25
    01C8E 9380 0D59 STS	pageNum,R24
(0798) 			set_temp_data(pageParam[0],dataCach);//保存数据
    01C90 019E      MOVW	R18,R28
    01C91 5F2E      SUBI	R18,0xFE
    01C92 4F3F      SBCI	R19,0xFF
    01C93 9100 0D4F LDS	R16,pageParam
    01C95 9110 0D50 LDS	R17,pageParam+1
    01C97 940E 27F1 CALL	_set_temp_data
(0799) 		    return;
    01C99 C0B8      RJMP	0x1D52
(0800) 		 }else if(cur==133){
    01C9A 3845      CPI	R20,0x85
    01C9B E0E0      LDI	R30,0
    01C9C 075E      CPC	R21,R30
    01C9D F509      BNE	0x1CBF
(0801) 		    Set_White_off(1,1,2);
    01C9E E082      LDI	R24,2
    01C9F 8388      ST	Y,R24
    01CA0 E021      LDI	R18,1
    01CA1 E001      LDI	R16,1
    01CA2 940E 084E CALL	_Set_White_off
(0802) 			Set_White_off(1,2,2);
    01CA4 E082      LDI	R24,2
    01CA5 8388      ST	Y,R24
    01CA6 E022      LDI	R18,2
    01CA7 E001      LDI	R16,1
    01CA8 940E 084E CALL	_Set_White_off
(0803) 			Set_White_off(1,3,2);
    01CAA E082      LDI	R24,2
    01CAB 8388      ST	Y,R24
    01CAC E023      LDI	R18,3
    01CAD E001      LDI	R16,1
    01CAE 940E 084E CALL	_Set_White_off
(0804) 		    cur_set(0);
    01CB0 2700      CLR	R16
    01CB1 2711      CLR	R17
    01CB2 940E 080A CALL	_cur_set
(0805) 			cur_set(4);
    01CB4 E004      LDI	R16,4
    01CB5 E010      LDI	R17,0
    01CB6 940E 080A CALL	_cur_set
(0806) 		    pageNum=3;
    01CB8 E083      LDI	R24,3
    01CB9 E090      LDI	R25,0
    01CBA 9390 0D5A STS	pageNum+1,R25
    01CBC 9380 0D59 STS	pageNum,R24
(0807) 		    return;
    01CBE C093      RJMP	0x1D52
(0808) 		 }else if(cur==134){
    01CBF 3846      CPI	R20,0x86
    01CC0 E0E0      LDI	R30,0
    01CC1 075E      CPC	R21,R30
    01CC2 F009      BEQ	0x1CC4
    01CC3 C08D      RJMP	0x1D51
(0809) 		    Set_White_off(1,1,2);
    01CC4 E082      LDI	R24,2
    01CC5 8388      ST	Y,R24
    01CC6 E021      LDI	R18,1
    01CC7 E001      LDI	R16,1
    01CC8 940E 084E CALL	_Set_White_off
(0810) 			Set_White_off(1,2,2);
    01CCA E082      LDI	R24,2
    01CCB 8388      ST	Y,R24
    01CCC E022      LDI	R18,2
    01CCD E001      LDI	R16,1
    01CCE 940E 084E CALL	_Set_White_off
(0811) 			Set_White_off(1,3,2);
    01CD0 E082      LDI	R24,2
    01CD1 8388      ST	Y,R24
    01CD2 E023      LDI	R18,3
    01CD3 E001      LDI	R16,1
    01CD4 940E 084E CALL	_Set_White_off
(0812) 		   cur_set(0);
    01CD6 2700      CLR	R16
    01CD7 2711      CLR	R17
    01CD8 940E 080A CALL	_cur_set
(0813) 			cur_set(4);
    01CDA E004      LDI	R16,4
    01CDB E010      LDI	R17,0
    01CDC 940E 080A CALL	_cur_set
(0814) 		   //重置。有提示
(0815) 			pageParam[2]=1;//表示重置是温度数据的
    01CDE E081      LDI	R24,1
    01CDF E090      LDI	R25,0
    01CE0 9390 0D54 STS	pageParam+5,R25
    01CE2 9380 0D53 STS	pageParam+4,R24
(0816) 			prePageNum=4;
    01CE4 E084      LDI	R24,4
    01CE5 9390 0D4E STS	prePageNum+1,R25
    01CE7 9380 0D4D STS	prePageNum,R24
(0817) 		    pageNum=7;
    01CE9 E087      LDI	R24,7
    01CEA 9390 0D5A STS	pageNum+1,R25
    01CEC 9380 0D59 STS	pageNum,R24
(0818) 		    return;
    01CEE C063      RJMP	0x1D52
(0819) 		 }
(0820) 	     
(0821) 	  }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    01CEF 2D8A      MOV	R24,R10
    01CF0 3380      CPI	R24,0x30
    01CF1 F099      BEQ	0x1D05
    01CF2 3381      CPI	R24,0x31
    01CF3 F089      BEQ	0x1D05
    01CF4 3382      CPI	R24,0x32
    01CF5 F079      BEQ	0x1D05
    01CF6 3383      CPI	R24,0x33
    01CF7 F069      BEQ	0x1D05
    01CF8 3384      CPI	R24,0x34
    01CF9 F059      BEQ	0x1D05
    01CFA 3385      CPI	R24,0x35
    01CFB F049      BEQ	0x1D05
    01CFC 3386      CPI	R24,0x36
    01CFD F039      BEQ	0x1D05
    01CFE 3387      CPI	R24,0x37
    01CFF F029      BEQ	0x1D05
    01D00 3388      CPI	R24,0x38
    01D01 F019      BEQ	0x1D05
    01D02 3389      CPI	R24,0x39
    01D03 F009      BEQ	0x1D05
    01D04 C04C      RJMP	0x1D51
(0822) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(0823) 			  if(cur <132){//判断还在输入域
    01D05 3844      CPI	R20,0x84
    01D06 E0E0      LDI	R30,0
    01D07 075E      CPC	R21,R30
    01D08 F008      BCS	0x1D0A
    01D09 C047      RJMP	0x1D51
(0824) 			   if((cur/11)%3==0){
    01D0A E02B      LDI	R18,0xB
    01D0B E030      LDI	R19,0
    01D0C 018A      MOVW	R16,R20
    01D0D 940E 2CA5 CALL	div16u
    01D0F E023      LDI	R18,3
    01D10 E030      LDI	R19,0
    01D11 940E 2CA3 CALL	mod16u
    01D13 3000      CPI	R16,0
    01D14 0701      CPC	R16,R17
    01D15 F431      BNE	0x1D1C
(0825) 			      lcd_write_char_con(1,0x30 | keyV);
    01D16 2D2A      MOV	R18,R10
    01D17 6320      ORI	R18,0x30
    01D18 E001      LDI	R16,1
    01D19 940E 0641 CALL	_lcd_write_char_con
(0826) 				}else{
    01D1B C005      RJMP	0x1D21
(0827) 				  lcd_write_char_con(2,0x30 | keyV);
    01D1C 2D2A      MOV	R18,R10
    01D1D 6320      ORI	R18,0x30
    01D1E E002      LDI	R16,2
    01D1F 940E 0641 CALL	_lcd_write_char_con
(0828) 				}
(0829) 				dataCach[cur]=keyV;
    01D21 01CE      MOVW	R24,R28
    01D22 9602      ADIW	R24,2
    01D23 01FA      MOVW	R30,R20
    01D24 0FEE      LSL	R30
    01D25 1FFF      ROL	R31
    01D26 0FE8      ADD	R30,R24
    01D27 1FF9      ADC	R31,R25
    01D28 2C2A      MOV	R2,R10
    01D29 2433      CLR	R3
    01D2A 8231      STD	Z+1,R3
    01D2B 8220      ST	Z,R2
(0830) 				oldcur=cur;
    01D2C 01BA      MOVW	R22,R20
(0831) 				if(cur<131)
    01D2D 3863      CPI	R22,0x83
    01D2E E0E0      LDI	R30,0
    01D2F 077E      CPC	R23,R30
    01D30 F450      BCC	0x1D3B
(0832) 				{
(0833) 				  cur++;
    01D31 5F4F      SUBI	R20,0xFF
    01D32 4F5F      SBCI	R21,0xFF
(0834) 				  page4_ac(cur,oldcur,dataCach);
    01D33 01CE      MOVW	R24,R28
    01D34 9602      ADIW	R24,2
    01D35 8399      STD	Y+1,R25
    01D36 8388      ST	Y,R24
    01D37 019B      MOVW	R18,R22
    01D38 018A      MOVW	R16,R20
    01D39 DC7D      RCALL	_page4_ac
(0835) 				}else if(cur==131){//最后一个131会在上面处理，最后一次进入这里。跳到保存
    01D3A C016      RJMP	0x1D51
    01D3B 3843      CPI	R20,0x83
    01D3C E0E0      LDI	R30,0
    01D3D 075E      CPC	R21,R30
    01D3E F491      BNE	0x1D51
(0836) 				  Set_White(1,1,2);
    01D3F E082      LDI	R24,2
    01D40 8388      ST	Y,R24
    01D41 E021      LDI	R18,1
    01D42 E001      LDI	R16,1
    01D43 940E 08BE CALL	_Set_White
(0837) 			       cur_set(0);
    01D45 2700      CLR	R16
    01D46 2711      CLR	R17
    01D47 940E 080A CALL	_cur_set
(0838) 			       cur_set(4);
    01D49 E004      LDI	R16,4
    01D4A E010      LDI	R17,0
    01D4B 940E 080A CALL	_cur_set
(0839) 			       cur=132;
    01D4D E844      LDI	R20,0x84
    01D4E E050      LDI	R21,0
(0840) 				   oldcur=99;
    01D4F E663      LDI	R22,0x63
    01D50 E070      LDI	R23,0
    01D51 CDD5      RJMP	0x1B27
    01D52 96EF      ADIW	R28,0x3F
    01D53 96EF      ADIW	R28,0x3F
    01D54 96EF      ADIW	R28,0x3F
    01D55 96EF      ADIW	R28,0x3F
    01D56 962C      ADIW	R28,0xC
    01D57 940C 2D3E JMP	pop_xgsetF03C
_page5:
  ddflag               --> R22
  cur                  --> R20
  keyV                 --> R10
    01D59 940E 2D19 CALL	push_xgsetF00C
    01D5B 9722      SBIW	R28,2
(0841) 				}
(0842) 				
(0843) 			  }
(0844) 		}
(0845) 	}
(0846)  }
(0847)  
(0848)  void page5(void){
(0849)   uint cur=0;
    01D5C 2744      CLR	R20
    01D5D 2755      CLR	R21
(0850)    uchar keyV;
(0851)    uint ddflag;
(0852)    lcd_write_str(4,0,"断电自动恢复");
    01D5E EB8E      LDI	R24,0xBE
    01D5F E097      LDI	R25,7
    01D60 8399      STD	Y+1,R25
    01D61 8388      ST	Y,R24
    01D62 2722      CLR	R18
    01D63 E004      LDI	R16,4
    01D64 940E 0699 CALL	_lcd_write_str
(0853)    lcd_write_str(4,1,"设置时间");
    01D66 EB85      LDI	R24,0xB5
    01D67 E097      LDI	R25,7
    01D68 8399      STD	Y+1,R25
    01D69 8388      ST	Y,R24
    01D6A E021      LDI	R18,1
    01D6B E004      LDI	R16,4
    01D6C 940E 0699 CALL	_lcd_write_str
(0854)    lcd_write_str(4,2,"重置系统");
    01D6E EA8C      LDI	R24,0xAC
    01D6F E097      LDI	R25,7
    01D70 8399      STD	Y+1,R25
    01D71 8388      ST	Y,R24
    01D72 E022      LDI	R18,2
    01D73 E004      LDI	R16,4
    01D74 940E 0699 CALL	_lcd_write_str
(0855)     ddflag=EEPROM_read(0,0);
    01D76 2722      CLR	R18
    01D77 2733      CLR	R19
    01D78 2700      CLR	R16
    01D79 2711      CLR	R17
    01D7A 940E 0F5F CALL	_EEPROM_read
    01D7C 01B8      MOVW	R22,R16
(0856) 	if(ddflag==0){
    01D7D 3000      CPI	R16,0
    01D7E 0701      CPC	R16,R17
    01D7F F459      BNE	0x1D8B
(0857)       lcd_write_char(3,0,0xA1);
    01D80 EA81      LDI	R24,0xA1
    01D81 8388      ST	Y,R24
    01D82 2722      CLR	R18
    01D83 E003      LDI	R16,3
    01D84 940E 0673 CALL	_lcd_write_char
(0858)       lcd_write_char_con(0,0xC1);
    01D86 EC21      LDI	R18,0xC1
    01D87 2700      CLR	R16
    01D88 940E 0641 CALL	_lcd_write_char_con
(0859)    }else {
    01D8A C00A      RJMP	0x1D95
(0860)       lcd_write_char(3,0,0xA1);
    01D8B EA81      LDI	R24,0xA1
    01D8C 8388      ST	Y,R24
    01D8D 2722      CLR	R18
    01D8E E003      LDI	R16,3
    01D8F 940E 0673 CALL	_lcd_write_char
(0861)       lcd_write_char_con(0,0xCC);
    01D91 EC2C      LDI	R18,0xCC
    01D92 2700      CLR	R16
    01D93 940E 0641 CALL	_lcd_write_char_con
(0862)    }
(0863)    cur=0;
    01D95 2744      CLR	R20
    01D96 2755      CLR	R21
(0864)    Set_White(5,0,10);
    01D97 E08A      LDI	R24,0xA
    01D98 8388      ST	Y,R24
    01D99 2722      CLR	R18
    01D9A E005      LDI	R16,5
    01D9B 940E 08BE CALL	_Set_White
    01D9D C0DC      RJMP	0x1E7A
(0865)    while(1){
(0866)       keyV=KeyScan_once();
    01D9E 940E 0536 CALL	_KeyScan_once
    01DA0 2EA0      MOV	R10,R16
(0867) 	  if(keyV=='u'){
    01DA1 3705      CPI	R16,0x75
    01DA2 F539      BNE	0x1DCA
(0868) 	    switch(cur){
    01DA3 3041      CPI	R20,1
    01DA4 E0E0      LDI	R30,0
    01DA5 075E      CPC	R21,R30
    01DA6 F029      BEQ	0x1DAC
    01DA7 3042      CPI	R20,2
    01DA8 E0E0      LDI	R30,0
    01DA9 075E      CPC	R21,R30
    01DAA F081      BEQ	0x1DBB
    01DAB C0CE      RJMP	0x1E7A
(0869) 		  case 1:
(0870) 		   Set_White_off(5,1,8);
    01DAC E088      LDI	R24,0x8
    01DAD 8388      ST	Y,R24
    01DAE E021      LDI	R18,1
    01DAF E005      LDI	R16,5
    01DB0 940E 084E CALL	_Set_White_off
(0871) 		   Set_White(5,0,10);
    01DB2 E08A      LDI	R24,0xA
    01DB3 8388      ST	Y,R24
    01DB4 2722      CLR	R18
    01DB5 E005      LDI	R16,5
    01DB6 940E 08BE CALL	_Set_White
(0872) 		   cur=0;
    01DB8 2744      CLR	R20
    01DB9 2755      CLR	R21
(0873) 		   break;
    01DBA C0BF      RJMP	0x1E7A
(0874) 		  case 2: 
(0875) 		   Set_White_off(5,2,8);
    01DBB E088      LDI	R24,0x8
    01DBC 8388      ST	Y,R24
    01DBD E022      LDI	R18,2
    01DBE E005      LDI	R16,5
    01DBF 940E 084E CALL	_Set_White_off
(0876) 		   Set_White(5,1,8);
    01DC1 E088      LDI	R24,0x8
    01DC2 8388      ST	Y,R24
    01DC3 E021      LDI	R18,1
    01DC4 E005      LDI	R16,5
    01DC5 940E 08BE CALL	_Set_White
(0877) 		   cur=1;
    01DC7 E041      LDI	R20,1
    01DC8 E050      LDI	R21,0
(0878) 		   break;
(0879) 		}
(0880) 	  }else if(keyV=='d'){
    01DC9 C0B0      RJMP	0x1E7A
    01DCA 2D8A      MOV	R24,R10
    01DCB 3684      CPI	R24,0x64
    01DCC F531      BNE	0x1DF3
(0881) 	      switch(cur){
    01DCD 3040      CPI	R20,0
    01DCE 0745      CPC	R20,R21
    01DCF F029      BEQ	0x1DD5
    01DD0 3041      CPI	R20,1
    01DD1 E0E0      LDI	R30,0
    01DD2 075E      CPC	R21,R30
    01DD3 F081      BEQ	0x1DE4
    01DD4 C0A5      RJMP	0x1E7A
(0882) 		  case 0:
(0883) 		   Set_White_off(5,0,10);
    01DD5 E08A      LDI	R24,0xA
    01DD6 8388      ST	Y,R24
    01DD7 2722      CLR	R18
    01DD8 E005      LDI	R16,5
    01DD9 940E 084E CALL	_Set_White_off
(0884) 		   Set_White(5,1,8);
    01DDB E088      LDI	R24,0x8
    01DDC 8388      ST	Y,R24
    01DDD E021      LDI	R18,1
    01DDE E005      LDI	R16,5
    01DDF 940E 08BE CALL	_Set_White
(0885) 		   cur=1;
    01DE1 E041      LDI	R20,1
    01DE2 E050      LDI	R21,0
(0886) 		   break;
    01DE3 C096      RJMP	0x1E7A
(0887) 		  case 1: 
(0888) 		   Set_White_off(5,1,8);
    01DE4 E088      LDI	R24,0x8
    01DE5 8388      ST	Y,R24
    01DE6 E021      LDI	R18,1
    01DE7 E005      LDI	R16,5
    01DE8 940E 084E CALL	_Set_White_off
(0889) 		   Set_White(5,2,8);
    01DEA E088      LDI	R24,0x8
    01DEB 8388      ST	Y,R24
    01DEC E022      LDI	R18,2
    01DED E005      LDI	R16,5
    01DEE 940E 08BE CALL	_Set_White
(0890) 		   cur=2;
    01DF0 E042      LDI	R20,2
    01DF1 E050      LDI	R21,0
(0891) 		   break;
(0892) 		}
(0893) 	  }else if(keyV=='e'){
    01DF2 C087      RJMP	0x1E7A
    01DF3 2D8A      MOV	R24,R10
    01DF4 3685      CPI	R24,0x65
    01DF5 F539      BNE	0x1E1D
(0894) 	     switch(cur){
    01DF6 3040      CPI	R20,0
    01DF7 0745      CPC	R20,R21
    01DF8 F049      BEQ	0x1E02
    01DF9 3041      CPI	R20,1
    01DFA E0E0      LDI	R30,0
    01DFB 075E      CPC	R21,R30
    01DFC F061      BEQ	0x1E09
    01DFD 3042      CPI	R20,2
    01DFE E0E0      LDI	R30,0
    01DFF 075E      CPC	R21,R30
    01E00 F079      BEQ	0x1E10
    01E01 C014      RJMP	0x1E16
(0895) 		 case 0: 
(0896) 		   Set_White_off(5,0,10);
    01E02 E08A      LDI	R24,0xA
    01E03 8388      ST	Y,R24
    01E04 2722      CLR	R18
    01E05 E005      LDI	R16,5
    01E06 940E 084E CALL	_Set_White_off
(0897) 		    break;
    01E08 C00D      RJMP	0x1E16
(0898) 		 case 1:
(0899) 		   Set_White_off(5,1,8);
    01E09 E088      LDI	R24,0x8
    01E0A 8388      ST	Y,R24
    01E0B E021      LDI	R18,1
    01E0C E005      LDI	R16,5
    01E0D 940E 084E CALL	_Set_White_off
(0900) 		   break;
    01E0F C006      RJMP	0x1E16
(0901) 		 case 2:
(0902) 		  Set_White_off(5,2,8);
    01E10 E088      LDI	R24,0x8
    01E11 8388      ST	Y,R24
    01E12 E022      LDI	R18,2
    01E13 E005      LDI	R16,5
    01E14 940E 084E CALL	_Set_White_off
(0903) 		  break;
(0904) 	
(0905) 		  default:
(0906) 		   break;
(0907) 		 }
(0908) 	    pageNum=1;
    01E16 E081      LDI	R24,1
    01E17 E090      LDI	R25,0
    01E18 9390 0D5A STS	pageNum+1,R25
    01E1A 9380 0D59 STS	pageNum,R24
(0909) 		return;
    01E1C C05E      RJMP	0x1E7B
(0910) 	  }else if(keyV=='t'){
    01E1D 2D8A      MOV	R24,R10
    01E1E 3784      CPI	R24,0x74
    01E1F F009      BEQ	0x1E21
    01E20 C059      RJMP	0x1E7A
(0911) 	    switch(cur){
    01E21 3040      CPI	R20,0
    01E22 0745      CPC	R20,R21
    01E23 F049      BEQ	0x1E2D
    01E24 3041      CPI	R20,1
    01E25 E0E0      LDI	R30,0
    01E26 075E      CPC	R21,R30
    01E27 F171      BEQ	0x1E56
    01E28 3042      CPI	R20,2
    01E29 E0E0      LDI	R30,0
    01E2A 075E      CPC	R21,R30
    01E2B F1B1      BEQ	0x1E62
    01E2C C04D      RJMP	0x1E7A
(0912) 		  case 0:
(0913) 		     //执行EEPROM操作
(0914) 			 if(ddflag==0){
    01E2D 3060      CPI	R22,0
    01E2E 0767      CPC	R22,R23
    01E2F F419      BNE	0x1E33
(0915) 			   ddflag=1;
    01E30 E061      LDI	R22,1
    01E31 E070      LDI	R23,0
(0916) 			 }else{
    01E32 C002      RJMP	0x1E35
(0917) 			   ddflag=0;
    01E33 2766      CLR	R22
    01E34 2777      CLR	R23
(0918) 			 }
(0919) 			 EEPROM_write(0,0,ddflag);//写入到EEPROM
    01E35 8379      STD	Y+1,R23
    01E36 8368      ST	Y,R22
    01E37 2722      CLR	R18
    01E38 2733      CLR	R19
    01E39 2700      CLR	R16
    01E3A 2711      CLR	R17
    01E3B 940E 0F48 CALL	_EEPROM_write
(0920) 			if(ddflag==0){
    01E3D 3060      CPI	R22,0
    01E3E 0767      CPC	R22,R23
    01E3F F459      BNE	0x1E4B
(0921)                lcd_write_char(3,0,0xA1);
    01E40 EA81      LDI	R24,0xA1
    01E41 8388      ST	Y,R24
    01E42 2722      CLR	R18
    01E43 E003      LDI	R16,3
    01E44 940E 0673 CALL	_lcd_write_char
(0922)                lcd_write_char_con(0,0xC1);
    01E46 EC21      LDI	R18,0xC1
    01E47 2700      CLR	R16
    01E48 940E 0641 CALL	_lcd_write_char_con
(0923)             }else{
    01E4A C02F      RJMP	0x1E7A
(0924)               lcd_write_char(3,0,0xA1);
    01E4B EA81      LDI	R24,0xA1
    01E4C 8388      ST	Y,R24
    01E4D 2722      CLR	R18
    01E4E E003      LDI	R16,3
    01E4F 940E 0673 CALL	_lcd_write_char
(0925)               lcd_write_char_con(0,0xCC);
    01E51 EC2C      LDI	R18,0xCC
    01E52 2700      CLR	R16
    01E53 940E 0641 CALL	_lcd_write_char_con
(0926)             }
(0927) 		    break;
    01E55 C024      RJMP	0x1E7A
(0928) 		  case 1:
(0929) 		   pageNum=8;
    01E56 E088      LDI	R24,0x8
    01E57 E090      LDI	R25,0
    01E58 9390 0D5A STS	pageNum+1,R25
    01E5A 9380 0D59 STS	pageNum,R24
(0930) 		   Set_White_off(5,1,8);
    01E5C 8388      ST	Y,R24
    01E5D E021      LDI	R18,1
    01E5E E005      LDI	R16,5
    01E5F 940E 084E CALL	_Set_White_off
(0931) 		   return;
    01E61 C019      RJMP	0x1E7B
(0932) 		  
(0933) 		  case 2://重置系统
(0934) 		    prePageNum=5;
    01E62 E085      LDI	R24,5
    01E63 E090      LDI	R25,0
    01E64 9390 0D4E STS	prePageNum+1,R25
    01E66 9380 0D4D STS	prePageNum,R24
(0935) 		    pageNum=7;
    01E68 E087      LDI	R24,7
    01E69 9390 0D5A STS	pageNum+1,R25
    01E6B 9380 0D59 STS	pageNum,R24
(0936) 			pageParam[2]=0;
    01E6D 2422      CLR	R2
    01E6E 2433      CLR	R3
    01E6F 9230 0D54 STS	pageParam+5,R3
    01E71 9220 0D53 STS	pageParam+4,R2
(0937) 		    Set_White_off(5,2,8);
    01E73 E088      LDI	R24,0x8
    01E74 8388      ST	Y,R24
    01E75 E022      LDI	R18,2
    01E76 E005      LDI	R16,5
    01E77 940E 084E CALL	_Set_White_off
(0938) 		   return;
    01E79 C001      RJMP	0x1E7B
    01E7A CF23      RJMP	0x1D9E
    01E7B 9622      ADIW	R28,2
    01E7C 940C 2D20 JMP	pop_xgsetF00C
_page6:
    01E7E 9722      SBIW	R28,2
(0939) 		}
(0940) 	    
(0941) 	  }
(0942)    }
(0943)    
(0944)  }
(0945)  void page6(void){//复用的方法
(0946)  if(pageParam[1]==0){
    01E7F 9020 0D51 LDS	R2,pageParam+2
    01E81 9030 0D52 LDS	R3,pageParam+3
    01E83 2022      TST	R2
    01E84 F459      BNE	0x1E90
    01E85 2033      TST	R3
    01E86 F449      BNE	0x1E90
(0947)      lcd_write_str(4,1,"时间保存成功！");
    01E87 E98D      LDI	R24,0x9D
    01E88 E097      LDI	R25,7
    01E89 8399      STD	Y+1,R25
    01E8A 8388      ST	Y,R24
    01E8B E021      LDI	R18,1
    01E8C E004      LDI	R16,4
    01E8D 940E 0699 CALL	_lcd_write_str
(0948)    }else if(pageParam[1]==1){
    01E8F C021      RJMP	0x1EB1
    01E90 9180 0D51 LDS	R24,pageParam+2
    01E92 9190 0D52 LDS	R25,pageParam+3
    01E94 3081      CPI	R24,1
    01E95 E0E0      LDI	R30,0
    01E96 079E      CPC	R25,R30
    01E97 F449      BNE	0x1EA1
(0949)      lcd_write_str(4,1,"温度保存成功！");
    01E98 E88E      LDI	R24,0x8E
    01E99 E097      LDI	R25,7
    01E9A 8399      STD	Y+1,R25
    01E9B 8388      ST	Y,R24
    01E9C E021      LDI	R18,1
    01E9D E004      LDI	R16,4
    01E9E 940E 0699 CALL	_lcd_write_str
(0950)    }else if(pageParam[1]==2){
    01EA0 C010      RJMP	0x1EB1
    01EA1 9180 0D51 LDS	R24,pageParam+2
    01EA3 9190 0D52 LDS	R25,pageParam+3
    01EA5 3082      CPI	R24,2
    01EA6 E0E0      LDI	R30,0
    01EA7 079E      CPC	R25,R30
    01EA8 F441      BNE	0x1EB1
(0951)      lcd_write_str(4,1,"温度保存失败！");
    01EA9 E78F      LDI	R24,0x7F
    01EAA E097      LDI	R25,7
    01EAB 8399      STD	Y+1,R25
    01EAC 8388      ST	Y,R24
    01EAD E021      LDI	R18,1
    01EAE E004      LDI	R16,4
    01EAF 940E 0699 CALL	_lcd_write_str
(0952)    }
(0953)    delay_ms(500);
    01EB1 EF04      LDI	R16,0xF4
    01EB2 E011      LDI	R17,1
    01EB3 940E 0448 CALL	_delay_ms
(0954)    pageNum=prePageNum;
    01EB5 9020 0D4D LDS	R2,prePageNum
    01EB7 9030 0D4E LDS	R3,prePageNum+1
    01EB9 9230 0D5A STS	pageNum+1,R3
    01EBB 9220 0D59 STS	pageNum,R2
    01EBD 9622      ADIW	R28,2
    01EBE 9508      RET
_page7:
  cur                  --> R20
  keyV                 --> R10
    01EBF 940E 2D19 CALL	push_xgsetF00C
    01EC1 9722      SBIW	R28,2
(0955)  }
(0956)  void page7(void){
(0957)    uint cur=1;
    01EC2 E041      LDI	R20,1
    01EC3 E050      LDI	R21,0
(0958)    uchar keyV;
(0959)    lcd_write_str(2,0,"是否重置");
    01EC4 E786      LDI	R24,0x76
    01EC5 E097      LDI	R25,7
    01EC6 8399      STD	Y+1,R25
    01EC7 8388      ST	Y,R24
    01EC8 2722      CLR	R18
    01EC9 E002      LDI	R16,2
    01ECA 940E 0699 CALL	_lcd_write_str
(0960)    lcd_write_str(2,2,"确认");
    01ECC E781      LDI	R24,0x71
    01ECD E097      LDI	R25,7
    01ECE 8399      STD	Y+1,R25
    01ECF 8388      ST	Y,R24
    01ED0 E022      LDI	R18,2
    01ED1 E002      LDI	R16,2
    01ED2 940E 0699 CALL	_lcd_write_str
(0961)    lcd_write_str(8,2,"取消");
    01ED4 E381      LDI	R24,0x31
    01ED5 E098      LDI	R25,0x8
    01ED6 8399      STD	Y+1,R25
    01ED7 8388      ST	Y,R24
    01ED8 E022      LDI	R18,2
    01ED9 E008      LDI	R16,0x8
    01EDA 940E 0699 CALL	_lcd_write_str
(0962)    Set_White(9,2,10);
    01EDC E08A      LDI	R24,0xA
    01EDD 8388      ST	Y,R24
    01EDE E022      LDI	R18,2
    01EDF E009      LDI	R16,0x9
    01EE0 940E 08BE CALL	_Set_White
    01EE2 C078      RJMP	0x1F5B
(0963)     while(1){
(0964)       keyV=KeyScan_once();
    01EE3 940E 0536 CALL	_KeyScan_once
    01EE5 2EA0      MOV	R10,R16
(0965) 	  switch(keyV){
    01EE6 2D6A      MOV	R22,R10
    01EE7 2777      CLR	R23
    01EE8 366C      CPI	R22,0x6C
    01EE9 E0E0      LDI	R30,0
    01EEA 077E      CPC	R23,R30
    01EEB F0A1      BEQ	0x1F00
    01EEC E68C      LDI	R24,0x6C
    01EED E090      LDI	R25,0
    01EEE 1786      CP	R24,R22
    01EEF 0797      CPC	R25,R23
    01EF0 F034      BLT	0x1EF7
    01EF1 3665      CPI	R22,0x65
    01EF2 E0E0      LDI	R30,0
    01EF3 077E      CPC	R23,R30
    01EF4 F409      BNE	0x1EF6
    01EF5 C050      RJMP	0x1F46
    01EF6 C064      RJMP	0x1F5B
    01EF7 3762      CPI	R22,0x72
    01EF8 E0E0      LDI	R30,0
    01EF9 077E      CPC	R23,R30
    01EFA F0C9      BEQ	0x1F14
    01EFB 3764      CPI	R22,0x74
    01EFC E0E0      LDI	R30,0
    01EFD 077E      CPC	R23,R30
    01EFE F141      BEQ	0x1F27
    01EFF C05B      RJMP	0x1F5B
(0966) 	    case 'l':
(0967) 		   if(cur==1){
    01F00 3041      CPI	R20,1
    01F01 E0E0      LDI	R30,0
    01F02 075E      CPC	R21,R30
    01F03 F009      BEQ	0x1F05
    01F04 C056      RJMP	0x1F5B
(0968) 		      Set_White_off(9,2,10);
    01F05 E08A      LDI	R24,0xA
    01F06 8388      ST	Y,R24
    01F07 E022      LDI	R18,2
    01F08 E009      LDI	R16,0x9
    01F09 940E 084E CALL	_Set_White_off
(0969) 		      Set_White(3,2,4);
    01F0B E084      LDI	R24,4
    01F0C 8388      ST	Y,R24
    01F0D E022      LDI	R18,2
    01F0E E003      LDI	R16,3
    01F0F 940E 08BE CALL	_Set_White
(0970) 			  cur=0;
    01F11 2744      CLR	R20
    01F12 2755      CLR	R21
(0971) 		   }
(0972) 		   break;
    01F13 C047      RJMP	0x1F5B
(0973) 		case 'r':
(0974) 		   if(cur==0){
    01F14 3040      CPI	R20,0
    01F15 0745      CPC	R20,R21
    01F16 F009      BEQ	0x1F18
    01F17 C043      RJMP	0x1F5B
(0975) 		      Set_White_off(3,2,4);
    01F18 E084      LDI	R24,4
    01F19 8388      ST	Y,R24
    01F1A E022      LDI	R18,2
    01F1B E003      LDI	R16,3
    01F1C 940E 084E CALL	_Set_White_off
(0976) 		      Set_White(9,2,10);
    01F1E E08A      LDI	R24,0xA
    01F1F 8388      ST	Y,R24
    01F20 E022      LDI	R18,2
    01F21 E009      LDI	R16,0x9
    01F22 940E 08BE CALL	_Set_White
(0977) 			  cur=1;
    01F24 E041      LDI	R20,1
    01F25 E050      LDI	R21,0
(0978) 		   }
(0979) 		  break;
    01F26 C034      RJMP	0x1F5B
(0980) 		case 't':
(0981) 		  //执行相关操作	  
(0982) 		  if(cur==0){
    01F27 3040      CPI	R20,0
    01F28 0745      CPC	R20,R21
    01F29 F469      BNE	0x1F37
(0983) 		     Set_White_off(3,2,4);
    01F2A E084      LDI	R24,4
    01F2B 8388      ST	Y,R24
    01F2C E022      LDI	R18,2
    01F2D E003      LDI	R16,3
    01F2E 940E 084E CALL	_Set_White_off
(0984) 		       //进入重置画面。在Page9启动看门狗重置系统、不喂狗。数据重置对呀操作不同
(0985) 		       pageNum=9;
    01F30 E089      LDI	R24,0x9
    01F31 E090      LDI	R25,0
    01F32 9390 0D5A STS	pageNum+1,R25
    01F34 9380 0D59 STS	pageNum,R24
(0986) 		  }else {
    01F36 C025      RJMP	0x1F5C
(0987) 		      Set_White_off(9,2,10);
    01F37 E08A      LDI	R24,0xA
    01F38 8388      ST	Y,R24
    01F39 E022      LDI	R18,2
    01F3A E009      LDI	R16,0x9
    01F3B 940E 084E CALL	_Set_White_off
(0988) 		       pageNum=prePageNum;
    01F3D 9020 0D4D LDS	R2,prePageNum
    01F3F 9030 0D4E LDS	R3,prePageNum+1
    01F41 9230 0D5A STS	pageNum+1,R3
    01F43 9220 0D59 STS	pageNum,R2
(0989) 		  }
(0990) 		  return;
    01F45 C016      RJMP	0x1F5C
(0991) 		 case 'e':
(0992) 		    Set_White_off(3,2,4);
    01F46 E084      LDI	R24,4
    01F47 8388      ST	Y,R24
    01F48 E022      LDI	R18,2
    01F49 E003      LDI	R16,3
    01F4A 940E 084E CALL	_Set_White_off
(0993) 		    Set_White_off(9,2,10);
    01F4C E08A      LDI	R24,0xA
    01F4D 8388      ST	Y,R24
    01F4E E022      LDI	R18,2
    01F4F E009      LDI	R16,0x9
    01F50 940E 084E CALL	_Set_White_off
(0994) 		    pageNum=prePageNum;
    01F52 9020 0D4D LDS	R2,prePageNum
    01F54 9030 0D4E LDS	R3,prePageNum+1
    01F56 9230 0D5A STS	pageNum+1,R3
    01F58 9220 0D59 STS	pageNum,R2
(0995) 		    return;
    01F5A C001      RJMP	0x1F5C
    01F5B CF87      RJMP	0x1EE3
    01F5C 9622      ADIW	R28,2
    01F5D 940C 2D20 JMP	pop_xgsetF00C
_page8:
  dateAc               --> Y,+38
  time_cacah           --> R22
  keyV                 --> R22
  cur                  --> R20
  date                 --> Y,+8
  i                    --> R22
    01F5F 940E 2D19 CALL	push_xgsetF00C
    01F61 97EF      SBIW	R28,0x3F
    01F62 9723      SBIW	R28,3
(0996) 	  }
(0997) 	}
(0998)  }
(0999)  void page8(void){
(1000)    uint cur=0;
    01F63 2744      CLR	R20
    01F64 2755      CLR	R21
(1001)    uchar keyV;
(1002)    uint date[15];
(1003)    uint i;
(1004)    uint time_cacah;
(1005)     uint dateAc[14]={1,2,3,4,6,7,9,10,2,3,5,6,8,9};
    01F65 E380      LDI	R24,0x30
    01F66 E097      LDI	R25,7
    01F67 01FE      MOVW	R30,R28
    01F68 96B6      ADIW	R30,0x26
    01F69 E10C      LDI	R16,0x1C
    01F6A E010      LDI	R17,0
    01F6B 93FA      ST	-Y,R31
    01F6C 93EA      ST	-Y,R30
    01F6D 939A      ST	-Y,R25
    01F6E 938A      ST	-Y,R24
    01F6F 940E 2D56 CALL	asgnblk
(1006)    time_cacah=Read1307(0x06);
    01F71 E006      LDI	R16,6
    01F72 940E 2BAA CALL	_Read1307
    01F74 01B8      MOVW	R22,R16
(1007)    date[0]=2;
    01F75 E082      LDI	R24,2
    01F76 E090      LDI	R25,0
    01F77 8799      STD	Y+9,R25
    01F78 8788      STD	Y+8,R24
(1008)    date[1]=0;
    01F79 2422      CLR	R2
    01F7A 2433      CLR	R3
    01F7B 863B      STD	Y+11,R3
    01F7C 862A      STD	Y+10,R2
(1009)    date[2]=time_cacah>>4;
    01F7D 011B      MOVW	R2,R22
    01F7E 9436      LSR	R3
    01F7F 9427      ROR	R2
    01F80 9436      LSR	R3
    01F81 9427      ROR	R2
    01F82 9436      LSR	R3
    01F83 9427      ROR	R2
    01F84 9436      LSR	R3
    01F85 9427      ROR	R2
    01F86 863D      STD	Y+13,R3
    01F87 862C      STD	Y+12,R2
(1010)    date[3]=time_cacah&0x0F;
    01F88 01CB      MOVW	R24,R22
    01F89 708F      ANDI	R24,0xF
    01F8A 7090      ANDI	R25,0
    01F8B 879F      STD	Y+15,R25
    01F8C 878E      STD	Y+14,R24
(1011)    time_cacah=Read1307(0x05);
    01F8D E005      LDI	R16,5
    01F8E 940E 2BAA CALL	_Read1307
    01F90 01B8      MOVW	R22,R16
(1012)    date[4]=(time_cacah>>4)&0x01;
    01F91 01CB      MOVW	R24,R22
    01F92 9596      LSR	R25
    01F93 9587      ROR	R24
    01F94 9596      LSR	R25
    01F95 9587      ROR	R24
    01F96 9596      LSR	R25
    01F97 9587      ROR	R24
    01F98 9596      LSR	R25
    01F99 9587      ROR	R24
    01F9A 7081      ANDI	R24,1
    01F9B 7090      ANDI	R25,0
    01F9C 8B99      STD	Y+17,R25
    01F9D 8B88      STD	Y+16,R24
(1013)    date[5]=time_cacah&0x0F;
    01F9E 01CB      MOVW	R24,R22
    01F9F 708F      ANDI	R24,0xF
    01FA0 7090      ANDI	R25,0
    01FA1 8B9B      STD	Y+19,R25
    01FA2 8B8A      STD	Y+18,R24
(1014)     time_cacah=Read1307(0x04);
    01FA3 E004      LDI	R16,4
    01FA4 940E 2BAA CALL	_Read1307
    01FA6 0158      MOVW	R10,R16
    01FA7 01B5      MOVW	R22,R10
(1015)    date[6]=0x03&(time_cacah>>4);
    01FA8 01CB      MOVW	R24,R22
    01FA9 9596      LSR	R25
    01FAA 9587      ROR	R24
    01FAB 9596      LSR	R25
    01FAC 9587      ROR	R24
    01FAD 9596      LSR	R25
    01FAE 9587      ROR	R24
    01FAF 9596      LSR	R25
    01FB0 9587      ROR	R24
    01FB1 7083      ANDI	R24,3
    01FB2 7090      ANDI	R25,0
    01FB3 8B9D      STD	Y+21,R25
    01FB4 8B8C      STD	Y+20,R24
(1016)    date[7]=time_cacah&0x0F;
    01FB5 01CB      MOVW	R24,R22
    01FB6 708F      ANDI	R24,0xF
    01FB7 7090      ANDI	R25,0
    01FB8 8B9F      STD	Y+23,R25
    01FB9 8B8E      STD	Y+22,R24
(1017)    time_cacah=Read1307(0x02);
    01FBA E002      LDI	R16,2
    01FBB 940E 2BAA CALL	_Read1307
    01FBD 0158      MOVW	R10,R16
    01FBE 01B5      MOVW	R22,R10
(1018)    date[8]=0x03&(time_cacah>>4);
    01FBF 01CB      MOVW	R24,R22
    01FC0 9596      LSR	R25
    01FC1 9587      ROR	R24
    01FC2 9596      LSR	R25
    01FC3 9587      ROR	R24
    01FC4 9596      LSR	R25
    01FC5 9587      ROR	R24
    01FC6 9596      LSR	R25
    01FC7 9587      ROR	R24
    01FC8 7083      ANDI	R24,3
    01FC9 7090      ANDI	R25,0
    01FCA 8F99      STD	Y+25,R25
    01FCB 8F88      STD	Y+24,R24
(1019)    date[9]=time_cacah&0x0F;
    01FCC 01CB      MOVW	R24,R22
    01FCD 708F      ANDI	R24,0xF
    01FCE 7090      ANDI	R25,0
    01FCF 8F9B      STD	Y+27,R25
    01FD0 8F8A      STD	Y+26,R24
(1020)    time_cacah=Read1307(0x01);
    01FD1 E001      LDI	R16,1
    01FD2 940E 2BAA CALL	_Read1307
    01FD4 0158      MOVW	R10,R16
    01FD5 01B5      MOVW	R22,R10
(1021)    date[10]=0x07&(time_cacah>>4);
    01FD6 01CB      MOVW	R24,R22
    01FD7 9596      LSR	R25
    01FD8 9587      ROR	R24
    01FD9 9596      LSR	R25
    01FDA 9587      ROR	R24
    01FDB 9596      LSR	R25
    01FDC 9587      ROR	R24
    01FDD 9596      LSR	R25
    01FDE 9587      ROR	R24
    01FDF 7087      ANDI	R24,7
    01FE0 7090      ANDI	R25,0
    01FE1 8F9D      STD	Y+29,R25
    01FE2 8F8C      STD	Y+28,R24
(1022)    date[11]=time_cacah&0x0f;
    01FE3 01CB      MOVW	R24,R22
    01FE4 708F      ANDI	R24,0xF
    01FE5 7090      ANDI	R25,0
    01FE6 8F9F      STD	Y+31,R25
    01FE7 8F8E      STD	Y+30,R24
(1023)    time_cacah=Read1307(0x00);
    01FE8 2700      CLR	R16
    01FE9 940E 2BAA CALL	_Read1307
    01FEB 0158      MOVW	R10,R16
    01FEC 01B5      MOVW	R22,R10
(1024)    date[12]=0x07&(time_cacah>>4);
    01FED 01CB      MOVW	R24,R22
    01FEE 9596      LSR	R25
    01FEF 9587      ROR	R24
    01FF0 9596      LSR	R25
    01FF1 9587      ROR	R24
    01FF2 9596      LSR	R25
    01FF3 9587      ROR	R24
    01FF4 9596      LSR	R25
    01FF5 9587      ROR	R24
    01FF6 7087      ANDI	R24,7
    01FF7 7090      ANDI	R25,0
    01FF8 A399      STD	Y+33,R25
    01FF9 A388      STD	Y+32,R24
(1025)    date[13]=time_cacah&0x0F;
    01FFA 01CB      MOVW	R24,R22
    01FFB 708F      ANDI	R24,0xF
    01FFC 7090      ANDI	R25,0
    01FFD A39B      STD	Y+35,R25
    01FFE A38A      STD	Y+34,R24
(1026)     lcd_write_pos(1,0);
    01FFF 2722      CLR	R18
    02000 E001      LDI	R16,1
    02001 940E 0655 CALL	_lcd_write_pos
(1027)   for(i=0;i<8;i++){
    02003 2766      CLR	R22
    02004 2777      CLR	R23
    02005 C020      RJMP	0x2026
(1028)    lcd_write_char_con(0,0x30 | date[i]);
    02006 01CE      MOVW	R24,R28
    02007 9608      ADIW	R24,0x8
    02008 01FB      MOVW	R30,R22
    02009 0FEE      LSL	R30
    0200A 1FFF      ROL	R31
    0200B 0FE8      ADD	R30,R24
    0200C 1FF9      ADC	R31,R25
    0200D 8120      LD	R18,Z
    0200E 8131      LDD	R19,Z+1
    0200F 6320      ORI	R18,0x30
    02010 2700      CLR	R16
    02011 940E 0641 CALL	_lcd_write_char_con
(1029)     lcd_write_char_con(0,' ');
    02013 E220      LDI	R18,0x20
    02014 2700      CLR	R16
    02015 940E 0641 CALL	_lcd_write_char_con
(1030) 	if(i==3 || i==5){
    02017 3063      CPI	R22,3
    02018 E0E0      LDI	R30,0
    02019 077E      CPC	R23,R30
    0201A F021      BEQ	0x201F
    0201B 3065      CPI	R22,5
    0201C E0E0      LDI	R30,0
    0201D 077E      CPC	R23,R30
    0201E F429      BNE	0x2024
(1031) 	  lcd_write_str_con(0,"- ");
    0201F E62E      LDI	R18,0x6E
    02020 E037      LDI	R19,7
    02021 2700      CLR	R16
    02022 940E 06E3 CALL	_lcd_write_str_con
    02024 5F6F      SUBI	R22,0xFF
    02025 4F7F      SBCI	R23,0xFF
    02026 3068      CPI	R22,0x8
    02027 E0E0      LDI	R30,0
    02028 077E      CPC	R23,R30
    02029 F2E0      BCS	0x2006
(1032) 	}
(1033)   }
(1034)    lcd_write_pos(2,1);
    0202A E021      LDI	R18,1
    0202B E002      LDI	R16,2
    0202C 940E 0655 CALL	_lcd_write_pos
(1035)    for(i=8;i<14;i++){
    0202E E068      LDI	R22,0x8
    0202F E070      LDI	R23,0
    02030 C020      RJMP	0x2051
(1036)    lcd_write_char_con(1,0x30 | date[i]);
    02031 01CE      MOVW	R24,R28
    02032 9608      ADIW	R24,0x8
    02033 01FB      MOVW	R30,R22
    02034 0FEE      LSL	R30
    02035 1FFF      ROL	R31
    02036 0FE8      ADD	R30,R24
    02037 1FF9      ADC	R31,R25
    02038 8120      LD	R18,Z
    02039 8131      LDD	R19,Z+1
    0203A 6320      ORI	R18,0x30
    0203B E001      LDI	R16,1
    0203C 940E 0641 CALL	_lcd_write_char_con
(1037)    lcd_write_char_con(0,' ');
    0203E E220      LDI	R18,0x20
    0203F 2700      CLR	R16
    02040 940E 0641 CALL	_lcd_write_char_con
(1038)    if(i==9 || i==11){
    02042 3069      CPI	R22,0x9
    02043 E0E0      LDI	R30,0
    02044 077E      CPC	R23,R30
    02045 F021      BEQ	0x204A
    02046 306B      CPI	R22,0xB
    02047 E0E0      LDI	R30,0
    02048 077E      CPC	R23,R30
    02049 F429      BNE	0x204F
(1039) 	 lcd_write_str_con(0,": ");
    0204A EE23      LDI	R18,0xE3
    0204B E037      LDI	R19,7
    0204C 2700      CLR	R16
    0204D 940E 06E3 CALL	_lcd_write_str_con
    0204F 5F6F      SUBI	R22,0xFF
    02050 4F7F      SBCI	R23,0xFF
    02051 306E      CPI	R22,0xE
    02052 E0E0      LDI	R30,0
    02053 077E      CPC	R23,R30
    02054 F2E0      BCS	0x2031
(1040)    }
(1041)   } 
(1042)    lcd_write_str(3,2,"保存");
    02055 ED87      LDI	R24,0xD7
    02056 E097      LDI	R25,7
    02057 8399      STD	Y+1,R25
    02058 8388      ST	Y,R24
    02059 E022      LDI	R18,2
    0205A E003      LDI	R16,3
    0205B 940E 0699 CALL	_lcd_write_str
(1043)    lcd_write_str(8,2,"取消");
    0205D E381      LDI	R24,0x31
    0205E E098      LDI	R25,0x8
    0205F 8399      STD	Y+1,R25
    02060 8388      ST	Y,R24
    02061 E022      LDI	R18,2
    02062 E008      LDI	R16,0x8
    02063 940E 0699 CALL	_lcd_write_str
(1044)    //初始化date
(1045)   
(1046)    cur=0;
    02065 2744      CLR	R20
    02066 2755      CLR	R21
(1047)    lcd_write_pos(1,0);//初始游标位置
    02067 2722      CLR	R18
    02068 E001      LDI	R16,1
    02069 940E 0655 CALL	_lcd_write_pos
(1048)    cur_set(3);//上半屏幕游标设置
    0206B E003      LDI	R16,3
    0206C E010      LDI	R17,0
    0206D 940E 080A CALL	_cur_set
    0206F C284      RJMP	0x22F4
(1049)    while(1){
(1050)      pageTime(3);//
    02070 E003      LDI	R16,3
    02071 E010      LDI	R17,0
    02072 940E 0F75 CALL	_pageTime
(1051) 	 keyV=KeyScan_once();
    02074 940E 0536 CALL	_KeyScan_once
    02076 2EA0      MOV	R10,R16
    02077 2D6A      MOV	R22,R10
(1052) 	 if(keyV=='u'){
    02078 3705      CPI	R16,0x75
    02079 F571      BNE	0x20A8
(1053) 	   if(cur>13){//调到时间第一个
    0207A E08D      LDI	R24,0xD
    0207B E090      LDI	R25,0
    0207C 1784      CP	R24,R20
    0207D 0795      CPC	R25,R21
    0207E F4B8      BCC	0x2096
(1054) 	        Set_White_off(4,2,5);
    0207F E085      LDI	R24,5
    02080 8388      ST	Y,R24
    02081 E022      LDI	R18,2
    02082 E004      LDI	R16,4
    02083 940E 084E CALL	_Set_White_off
(1055) 			Set_White_off(9,2,10);
    02085 E08A      LDI	R24,0xA
    02086 8388      ST	Y,R24
    02087 E022      LDI	R18,2
    02088 E009      LDI	R16,0x9
    02089 940E 084E CALL	_Set_White_off
(1056) 	        lcd_write_pos(2,1);
    0208B E021      LDI	R18,1
    0208C E002      LDI	R16,2
    0208D 940E 0655 CALL	_lcd_write_pos
(1057) 		    cur_set(3);
    0208F E003      LDI	R16,3
    02090 E010      LDI	R17,0
    02091 940E 080A CALL	_cur_set
(1058) 			cur=8; 
    02093 E048      LDI	R20,0x8
    02094 E050      LDI	R21,0
(1059) 		   }else if(cur>7 && cur <14){//调到日期第一个
    02095 C25E      RJMP	0x22F4
    02096 E087      LDI	R24,7
    02097 E090      LDI	R25,0
    02098 1784      CP	R24,R20
    02099 0795      CPC	R25,R21
    0209A F008      BCS	0x209C
    0209B C258      RJMP	0x22F4
    0209C 304E      CPI	R20,0xE
    0209D E0E0      LDI	R30,0
    0209E 075E      CPC	R21,R30
    0209F F008      BCS	0x20A1
    020A0 C253      RJMP	0x22F4
(1060) 		    lcd_write_pos(1,0);
    020A1 2722      CLR	R18
    020A2 E001      LDI	R16,1
    020A3 940E 0655 CALL	_lcd_write_pos
(1061) 			cur=0; 
    020A5 2744      CLR	R20
    020A6 2755      CLR	R21
(1062) 		   }
(1063) 	 }else if(keyV=='d'){
    020A7 C24C      RJMP	0x22F4
    020A8 3664      CPI	R22,0x64
    020A9 F519      BNE	0x20CD
(1064) 	     if(cur>7 && cur <14){//在时间上，第三行，默认要保存，所以调到保存上
    020AA E087      LDI	R24,7
    020AB E090      LDI	R25,0
    020AC 1784      CP	R24,R20
    020AD 0795      CPC	R25,R21
    020AE F488      BCC	0x20C0
    020AF 304E      CPI	R20,0xE
    020B0 E0E0      LDI	R30,0
    020B1 075E      CPC	R21,R30
    020B2 F468      BCC	0x20C0
(1065) 		      cur_set(0);//关下半屏幕游标
    020B3 2700      CLR	R16
    020B4 2711      CLR	R17
    020B5 940E 080A CALL	_cur_set
(1066) 			  Set_White(4,2,5);
    020B7 E085      LDI	R24,5
    020B8 8388      ST	Y,R24
    020B9 E022      LDI	R18,2
    020BA E004      LDI	R16,4
    020BB 940E 08BE CALL	_Set_White
(1067) 			  cur=14;
    020BD E04E      LDI	R20,0xE
    020BE E050      LDI	R21,0
(1068) 		 }else if(cur<=7){ //调到时间第一个
    020BF C234      RJMP	0x22F4
    020C0 E087      LDI	R24,7
    020C1 E090      LDI	R25,0
    020C2 1784      CP	R24,R20
    020C3 0795      CPC	R25,R21
    020C4 F408      BCC	0x20C6
    020C5 C22E      RJMP	0x22F4
(1069) 		    lcd_write_pos(2,1);
    020C6 E021      LDI	R18,1
    020C7 E002      LDI	R16,2
    020C8 940E 0655 CALL	_lcd_write_pos
(1070) 			cur=8; 
    020CA E048      LDI	R20,0x8
    020CB E050      LDI	R21,0
(1071) 		 }
(1072) 	 }else if(keyV=='l'){
    020CC C227      RJMP	0x22F4
    020CD 366C      CPI	R22,0x6C
    020CE F009      BEQ	0x20D0
    020CF C043      RJMP	0x2113
(1073) 			if(cur<=8 && cur>0){
    020D0 E088      LDI	R24,0x8
    020D1 E090      LDI	R25,0
    020D2 1784      CP	R24,R20
    020D3 0795      CPC	R25,R21
    020D4 F090      BCS	0x20E7
    020D5 3040      CPI	R20,0
    020D6 0745      CPC	R20,R21
    020D7 F079      BEQ	0x20E7
(1074) 			 cur--;
    020D8 5041      SUBI	R20,1
    020D9 4050      SBCI	R21,0
(1075) 			 lcd_write_pos(dateAc[cur],0);
    020DA 2722      CLR	R18
    020DB 01CE      MOVW	R24,R28
    020DC 9686      ADIW	R24,0x26
    020DD 01FA      MOVW	R30,R20
    020DE 0FEE      LSL	R30
    020DF 1FFF      ROL	R31
    020E0 0FE8      ADD	R30,R24
    020E1 1FF9      ADC	R31,R25
    020E2 8100      LD	R16,Z
    020E3 8111      LDD	R17,Z+1
    020E4 940E 0655 CALL	_lcd_write_pos
(1076) 			}else if (cur>8 && cur<14){
    020E6 C20D      RJMP	0x22F4
    020E7 E088      LDI	R24,0x8
    020E8 E090      LDI	R25,0
    020E9 1784      CP	R24,R20
    020EA 0795      CPC	R25,R21
    020EB F498      BCC	0x20FF
    020EC 304E      CPI	R20,0xE
    020ED E0E0      LDI	R30,0
    020EE 075E      CPC	R21,R30
    020EF F478      BCC	0x20FF
(1077) 			 cur--;
    020F0 5041      SUBI	R20,1
    020F1 4050      SBCI	R21,0
(1078) 			 lcd_write_pos(dateAc[cur],1);
    020F2 E021      LDI	R18,1
    020F3 01CE      MOVW	R24,R28
    020F4 9686      ADIW	R24,0x26
    020F5 01FA      MOVW	R30,R20
    020F6 0FEE      LSL	R30
    020F7 1FFF      ROL	R31
    020F8 0FE8      ADD	R30,R24
    020F9 1FF9      ADC	R31,R25
    020FA 8100      LD	R16,Z
    020FB 8111      LDD	R17,Z+1
    020FC 940E 0655 CALL	_lcd_write_pos
(1079) 			}else if (cur==15){
    020FE C1F5      RJMP	0x22F4
    020FF 304F      CPI	R20,0xF
    02100 E0E0      LDI	R30,0
    02101 075E      CPC	R21,R30
    02102 F009      BEQ	0x2104
    02103 C1F0      RJMP	0x22F4
(1080) 			    Set_White_off(9,2,10);
    02104 E08A      LDI	R24,0xA
    02105 8388      ST	Y,R24
    02106 E022      LDI	R18,2
    02107 E009      LDI	R16,0x9
    02108 940E 084E CALL	_Set_White_off
(1081) 			    Set_White(4,2,5);
    0210A E085      LDI	R24,5
    0210B 8388      ST	Y,R24
    0210C E022      LDI	R18,2
    0210D E004      LDI	R16,4
    0210E 940E 08BE CALL	_Set_White
(1082) 				cur=14;
    02110 E04E      LDI	R20,0xE
    02111 E050      LDI	R21,0
(1083) 			}
(1084) 			
(1085) 		
(1086) 	 }else if(keyV=='r'){
    02112 C1E1      RJMP	0x22F4
    02113 3762      CPI	R22,0x72
    02114 F009      BEQ	0x2116
    02115 C03A      RJMP	0x2150
(1087) 	       if(cur<7){
    02116 3047      CPI	R20,7
    02117 E0E0      LDI	R30,0
    02118 075E      CPC	R21,R30
    02119 F478      BCC	0x2129
(1088) 			   cur++;
    0211A 5F4F      SUBI	R20,0xFF
    0211B 4F5F      SBCI	R21,0xFF
(1089) 			   lcd_write_pos(dateAc[cur],0);
    0211C 2722      CLR	R18
    0211D 01CE      MOVW	R24,R28
    0211E 9686      ADIW	R24,0x26
    0211F 01FA      MOVW	R30,R20
    02120 0FEE      LSL	R30
    02121 1FFF      ROL	R31
    02122 0FE8      ADD	R30,R24
    02123 1FF9      ADC	R31,R25
    02124 8100      LD	R16,Z
    02125 8111      LDD	R17,Z+1
    02126 940E 0655 CALL	_lcd_write_pos
(1090) 			}else if (cur<13){
    02128 C1CB      RJMP	0x22F4
    02129 304D      CPI	R20,0xD
    0212A E0E0      LDI	R30,0
    0212B 075E      CPC	R21,R30
    0212C F478      BCC	0x213C
(1091) 			   cur++;
    0212D 5F4F      SUBI	R20,0xFF
    0212E 4F5F      SBCI	R21,0xFF
(1092) 			   lcd_write_pos(dateAc[cur],1);
    0212F E021      LDI	R18,1
    02130 01CE      MOVW	R24,R28
    02131 9686      ADIW	R24,0x26
    02132 01FA      MOVW	R30,R20
    02133 0FEE      LSL	R30
    02134 1FFF      ROL	R31
    02135 0FE8      ADD	R30,R24
    02136 1FF9      ADC	R31,R25
    02137 8100      LD	R16,Z
    02138 8111      LDD	R17,Z+1
    02139 940E 0655 CALL	_lcd_write_pos
(1093) 			}else if (cur==14){
    0213B C1B8      RJMP	0x22F4
    0213C 304E      CPI	R20,0xE
    0213D E0E0      LDI	R30,0
    0213E 075E      CPC	R21,R30
    0213F F009      BEQ	0x2141
    02140 C1B3      RJMP	0x22F4
(1094) 			    Set_White_off(4,2,5);
    02141 E085      LDI	R24,5
    02142 8388      ST	Y,R24
    02143 E022      LDI	R18,2
    02144 E004      LDI	R16,4
    02145 940E 084E CALL	_Set_White_off
(1095) 				Set_White(9,2,10);
    02147 E08A      LDI	R24,0xA
    02148 8388      ST	Y,R24
    02149 E022      LDI	R18,2
    0214A E009      LDI	R16,0x9
    0214B 940E 08BE CALL	_Set_White
(1096) 				cur=15;
    0214D E04F      LDI	R20,0xF
    0214E E050      LDI	R21,0
(1097) 			}
(1098) 	 }else if(keyV=='e'){
    0214F C1A4      RJMP	0x22F4
    02150 3665      CPI	R22,0x65
    02151 F4B9      BNE	0x2169
(1099) 	     cur_set(0);//关上半屏幕游标
    02152 2700      CLR	R16
    02153 2711      CLR	R17
    02154 940E 080A CALL	_cur_set
(1100) 		  Set_White_off(4,2,5);
    02156 E085      LDI	R24,5
    02157 8388      ST	Y,R24
    02158 E022      LDI	R18,2
    02159 E004      LDI	R16,4
    0215A 940E 084E CALL	_Set_White_off
(1101) 		  Set_White_off(9,2,10);
    0215C E08A      LDI	R24,0xA
    0215D 8388      ST	Y,R24
    0215E E022      LDI	R18,2
    0215F E009      LDI	R16,0x9
    02160 940E 084E CALL	_Set_White_off
(1102) 		 pageNum=1;
    02162 E081      LDI	R24,1
    02163 E090      LDI	R25,0
    02164 9390 0D5A STS	pageNum+1,R25
    02166 9380 0D59 STS	pageNum,R24
(1103) 		 return;
    02168 C18C      RJMP	0x22F5
(1104) 	     //退出界面
(1105) 	 }else if(keyV=='t'){
    02169 3764      CPI	R22,0x74
    0216A F009      BEQ	0x216C
    0216B C085      RJMP	0x21F1
(1106) 	      if(cur==14){
    0216C 304E      CPI	R20,0xE
    0216D E0E0      LDI	R30,0
    0216E 075E      CPC	R21,R30
    0216F F009      BEQ	0x2171
    02170 C064      RJMP	0x21D5
(1107) 		      setTime((date[2]*16)+date[3],(date[4]*16)+date[5],(date[6]*16)+date[7],(date[8]*16)+date[9],(date[10]*16)+date[11],(date[12]*16)+date[13]);
    02171 A128      LDD	R18,Y+32
    02172 A139      LDD	R19,Y+33
    02173 E100      LDI	R16,0x10
    02174 E010      LDI	R17,0
    02175 940E 2CD3 CALL	empy16s
    02177 0118      MOVW	R2,R16
    02178 A04A      LDD	R4,Y+34
    02179 A05B      LDD	R5,Y+35
    0217A 0C24      ADD	R2,R4
    0217B 1C35      ADC	R3,R5
    0217C 823F      STD	Y+7,R3
    0217D 822E      STD	Y+6,R2
    0217E 8D2C      LDD	R18,Y+28
    0217F 8D3D      LDD	R19,Y+29
    02180 E100      LDI	R16,0x10
    02181 E010      LDI	R17,0
    02182 940E 2CD3 CALL	empy16s
    02184 0118      MOVW	R2,R16
    02185 8C4E      LDD	R4,Y+30
    02186 8C5F      LDD	R5,Y+31
    02187 0C24      ADD	R2,R4
    02188 1C35      ADC	R3,R5
    02189 823D      STD	Y+5,R3
    0218A 822C      STD	Y+4,R2
    0218B 8D28      LDD	R18,Y+24
    0218C 8D39      LDD	R19,Y+25
    0218D E100      LDI	R16,0x10
    0218E E010      LDI	R17,0
    0218F 940E 2CD3 CALL	empy16s
    02191 0118      MOVW	R2,R16
    02192 8C4A      LDD	R4,Y+26
    02193 8C5B      LDD	R5,Y+27
    02194 0C24      ADD	R2,R4
    02195 1C35      ADC	R3,R5
    02196 823B      STD	Y+3,R3
    02197 822A      STD	Y+2,R2
    02198 892C      LDD	R18,Y+20
    02199 893D      LDD	R19,Y+21
    0219A E100      LDI	R16,0x10
    0219B E010      LDI	R17,0
    0219C 940E 2CD3 CALL	empy16s
    0219E 0118      MOVW	R2,R16
    0219F 884E      LDD	R4,Y+22
    021A0 885F      LDD	R5,Y+23
    021A1 0C24      ADD	R2,R4
    021A2 1C35      ADC	R3,R5
    021A3 8239      STD	Y+1,R3
    021A4 8228      ST	Y,R2
    021A5 8928      LDD	R18,Y+16
    021A6 8939      LDD	R19,Y+17
    021A7 E100      LDI	R16,0x10
    021A8 E010      LDI	R17,0
    021A9 940E 2CD3 CALL	empy16s
    021AB 0198      MOVW	R18,R16
    021AC 882A      LDD	R2,Y+18
    021AD 883B      LDD	R3,Y+19
    021AE 0D22      ADD	R18,R2
    021AF 1D33      ADC	R19,R3
    021B0 842C      LDD	R2,Y+12
    021B1 843D      LDD	R3,Y+13
    021B2 E100      LDI	R16,0x10
    021B3 E010      LDI	R17,0
    021B4 932F      PUSH	R18
    021B5 933F      PUSH	R19
    021B6 0191      MOVW	R18,R2
    021B7 940E 2CD3 CALL	empy16s
    021B9 0118      MOVW	R2,R16
    021BA 913F      POP	R19
    021BB 912F      POP	R18
    021BC 844E      LDD	R4,Y+14
    021BD 845F      LDD	R5,Y+15
    021BE 0C24      ADD	R2,R4
    021BF 1C35      ADC	R3,R5
    021C0 0181      MOVW	R16,R2
    021C1 940E 2BBE CALL	_setTime
(1108) 		        //setTime(1*16+2,1<<4+2+0x00,2*16+2,1<<4+2+0x00,5+0x00,5<<4+1+0x00);
(1109) 				//保存操作
(1110) 				pageParam[1]=0;//标记是时间的保存
    021C3 2422      CLR	R2
    021C4 2433      CLR	R3
    021C5 9230 0D52 STS	pageParam+3,R3
    021C7 9220 0D51 STS	pageParam+2,R2
(1111) 				prePageNum=8;
    021C9 E088      LDI	R24,0x8
    021CA E090      LDI	R25,0
    021CB 9390 0D4E STS	prePageNum+1,R25
    021CD 9380 0D4D STS	prePageNum,R24
(1112) 				pageNum=6;
    021CF E086      LDI	R24,6
    021D0 9390 0D5A STS	pageNum+1,R25
    021D2 9380 0D59 STS	pageNum,R24
(1113) 				return;
    021D4 C120      RJMP	0x22F5
(1114) 		 }else if(cur==15){
    021D5 304F      CPI	R20,0xF
    021D6 E0E0      LDI	R30,0
    021D7 075E      CPC	R21,R30
    021D8 F009      BEQ	0x21DA
    021D9 C11A      RJMP	0x22F4
(1115) 		        //取消操作
(1116) 			 cur_set(0);//关上半屏幕游标
    021DA 2700      CLR	R16
    021DB 2711      CLR	R17
    021DC 940E 080A CALL	_cur_set
(1117) 		  Set_White_off(4,2,5);
    021DE E085      LDI	R24,5
    021DF 8388      ST	Y,R24
    021E0 E022      LDI	R18,2
    021E1 E004      LDI	R16,4
    021E2 940E 084E CALL	_Set_White_off
(1118) 		  Set_White_off(9,2,10);
    021E4 E08A      LDI	R24,0xA
    021E5 8388      ST	Y,R24
    021E6 E022      LDI	R18,2
    021E7 E009      LDI	R16,0x9
    021E8 940E 084E CALL	_Set_White_off
(1119) 		 pageNum=1;
    021EA E081      LDI	R24,1
    021EB E090      LDI	R25,0
    021EC 9390 0D5A STS	pageNum+1,R25
    021EE 9380 0D59 STS	pageNum,R24
(1120) 		 return;
    021F0 C104      RJMP	0x22F5
(1121) 		 }
(1122) 	 }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    021F1 3360      CPI	R22,0x30
    021F2 F099      BEQ	0x2206
    021F3 3361      CPI	R22,0x31
    021F4 F089      BEQ	0x2206
    021F5 3362      CPI	R22,0x32
    021F6 F079      BEQ	0x2206
    021F7 3363      CPI	R22,0x33
    021F8 F069      BEQ	0x2206
    021F9 3364      CPI	R22,0x34
    021FA F059      BEQ	0x2206
    021FB 3365      CPI	R22,0x35
    021FC F049      BEQ	0x2206
    021FD 3366      CPI	R22,0x36
    021FE F039      BEQ	0x2206
    021FF 3367      CPI	R22,0x37
    02200 F029      BEQ	0x2206
    02201 3368      CPI	R22,0x38
    02202 F019      BEQ	0x2206
    02203 3369      CPI	R22,0x39
    02204 F009      BEQ	0x2206
    02205 C0EE      RJMP	0x22F4
(1123) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(1124) 			if(cur<14){
    02206 304E      CPI	R20,0xE
    02207 E0E0      LDI	R30,0
    02208 075E      CPC	R21,R30
    02209 F008      BCS	0x220B
    0220A C0E9      RJMP	0x22F4
(1125) 			 lcd_write_char_con(0,0x30 | keyV);
    0220B 2F26      MOV	R18,R22
    0220C 6320      ORI	R18,0x30
    0220D 2700      CLR	R16
    0220E 940E 0641 CALL	_lcd_write_char_con
(1126) 			 lcd_write_char_con(0,' ');
    02210 E220      LDI	R18,0x20
    02211 2700      CLR	R16
    02212 940E 0641 CALL	_lcd_write_char_con
(1127) 			 switch(keyV){
    02214 2777      CLR	R23
    02215 3360      CPI	R22,0x30
    02216 E0E0      LDI	R30,0
    02217 077E      CPC	R23,R30
    02218 F409      BNE	0x221A
    02219 C02E      RJMP	0x2248
    0221A 3361      CPI	R22,0x31
    0221B E0E0      LDI	R30,0
    0221C 077E      CPC	R23,R30
    0221D F409      BNE	0x221F
    0221E C035      RJMP	0x2254
    0221F 3362      CPI	R22,0x32
    02220 E0E0      LDI	R30,0
    02221 077E      CPC	R23,R30
    02222 F409      BNE	0x2224
    02223 C03C      RJMP	0x2260
    02224 3363      CPI	R22,0x33
    02225 E0E0      LDI	R30,0
    02226 077E      CPC	R23,R30
    02227 F409      BNE	0x2229
    02228 C043      RJMP	0x226C
    02229 3364      CPI	R22,0x34
    0222A E0E0      LDI	R30,0
    0222B 077E      CPC	R23,R30
    0222C F409      BNE	0x222E
    0222D C04A      RJMP	0x2278
    0222E 3365      CPI	R22,0x35
    0222F E0E0      LDI	R30,0
    02230 077E      CPC	R23,R30
    02231 F409      BNE	0x2233
    02232 C051      RJMP	0x2284
    02233 3366      CPI	R22,0x36
    02234 E0E0      LDI	R30,0
    02235 077E      CPC	R23,R30
    02236 F409      BNE	0x2238
    02237 C058      RJMP	0x2290
    02238 3367      CPI	R22,0x37
    02239 E0E0      LDI	R30,0
    0223A 077E      CPC	R23,R30
    0223B F409      BNE	0x223D
    0223C C05F      RJMP	0x229C
    0223D 3368      CPI	R22,0x38
    0223E E0E0      LDI	R30,0
    0223F 077E      CPC	R23,R30
    02240 F409      BNE	0x2242
    02241 C066      RJMP	0x22A8
    02242 3369      CPI	R22,0x39
    02243 E0E0      LDI	R30,0
    02244 077E      CPC	R23,R30
    02245 F409      BNE	0x2247
    02246 C06D      RJMP	0x22B4
    02247 C077      RJMP	0x22BF
(1128) 			  case '0':
(1129) 			    date[cur]=0;
    02248 01CE      MOVW	R24,R28
    02249 9608      ADIW	R24,0x8
    0224A 01FA      MOVW	R30,R20
    0224B 0FEE      LSL	R30
    0224C 1FFF      ROL	R31
    0224D 0FE8      ADD	R30,R24
    0224E 1FF9      ADC	R31,R25
    0224F 2422      CLR	R2
    02250 2433      CLR	R3
    02251 8231      STD	Z+1,R3
    02252 8220      ST	Z,R2
(1130) 			    break;
    02253 C06B      RJMP	0x22BF
(1131) 			  case '1':
(1132) 			    date[cur]=1;
    02254 01CE      MOVW	R24,R28
    02255 9608      ADIW	R24,0x8
    02256 01FA      MOVW	R30,R20
    02257 0FEE      LSL	R30
    02258 1FFF      ROL	R31
    02259 0FE8      ADD	R30,R24
    0225A 1FF9      ADC	R31,R25
    0225B E081      LDI	R24,1
    0225C E090      LDI	R25,0
    0225D 8391      STD	Z+1,R25
    0225E 8380      ST	Z,R24
(1133) 			    break;
    0225F C05F      RJMP	0x22BF
(1134) 			  case '2':
(1135) 			    date[cur]=2;
    02260 01CE      MOVW	R24,R28
    02261 9608      ADIW	R24,0x8
    02262 01FA      MOVW	R30,R20
    02263 0FEE      LSL	R30
    02264 1FFF      ROL	R31
    02265 0FE8      ADD	R30,R24
    02266 1FF9      ADC	R31,R25
    02267 E082      LDI	R24,2
    02268 E090      LDI	R25,0
    02269 8391      STD	Z+1,R25
    0226A 8380      ST	Z,R24
(1136) 			    break;
    0226B C053      RJMP	0x22BF
(1137) 			  case '3':
(1138) 			    date[cur]=3;
    0226C 01CE      MOVW	R24,R28
    0226D 9608      ADIW	R24,0x8
    0226E 01FA      MOVW	R30,R20
    0226F 0FEE      LSL	R30
    02270 1FFF      ROL	R31
    02271 0FE8      ADD	R30,R24
    02272 1FF9      ADC	R31,R25
    02273 E083      LDI	R24,3
    02274 E090      LDI	R25,0
    02275 8391      STD	Z+1,R25
    02276 8380      ST	Z,R24
(1139) 			    break;
    02277 C047      RJMP	0x22BF
(1140) 			  case '4':
(1141) 			    date[cur]=4;
    02278 01CE      MOVW	R24,R28
    02279 9608      ADIW	R24,0x8
    0227A 01FA      MOVW	R30,R20
    0227B 0FEE      LSL	R30
    0227C 1FFF      ROL	R31
    0227D 0FE8      ADD	R30,R24
    0227E 1FF9      ADC	R31,R25
    0227F E084      LDI	R24,4
    02280 E090      LDI	R25,0
    02281 8391      STD	Z+1,R25
    02282 8380      ST	Z,R24
(1142) 			    break;
    02283 C03B      RJMP	0x22BF
(1143) 			  case '5':
(1144) 			    date[cur]=5;
    02284 01CE      MOVW	R24,R28
    02285 9608      ADIW	R24,0x8
    02286 01FA      MOVW	R30,R20
    02287 0FEE      LSL	R30
    02288 1FFF      ROL	R31
    02289 0FE8      ADD	R30,R24
    0228A 1FF9      ADC	R31,R25
    0228B E085      LDI	R24,5
    0228C E090      LDI	R25,0
    0228D 8391      STD	Z+1,R25
    0228E 8380      ST	Z,R24
(1145) 			    break;
    0228F C02F      RJMP	0x22BF
(1146) 			  case '6':
(1147) 			    date[cur]=6;
    02290 01CE      MOVW	R24,R28
    02291 9608      ADIW	R24,0x8
    02292 01FA      MOVW	R30,R20
    02293 0FEE      LSL	R30
    02294 1FFF      ROL	R31
    02295 0FE8      ADD	R30,R24
    02296 1FF9      ADC	R31,R25
    02297 E086      LDI	R24,6
    02298 E090      LDI	R25,0
    02299 8391      STD	Z+1,R25
    0229A 8380      ST	Z,R24
(1148) 			    break;
    0229B C023      RJMP	0x22BF
(1149) 			  case '7':
(1150) 			    date[cur]=7;
    0229C 01CE      MOVW	R24,R28
    0229D 9608      ADIW	R24,0x8
    0229E 01FA      MOVW	R30,R20
    0229F 0FEE      LSL	R30
    022A0 1FFF      ROL	R31
    022A1 0FE8      ADD	R30,R24
    022A2 1FF9      ADC	R31,R25
    022A3 E087      LDI	R24,7
    022A4 E090      LDI	R25,0
    022A5 8391      STD	Z+1,R25
    022A6 8380      ST	Z,R24
(1151) 			    break;
    022A7 C017      RJMP	0x22BF
(1152) 		      case '8':
(1153) 			    date[cur]=8;
    022A8 01CE      MOVW	R24,R28
    022A9 9608      ADIW	R24,0x8
    022AA 01FA      MOVW	R30,R20
    022AB 0FEE      LSL	R30
    022AC 1FFF      ROL	R31
    022AD 0FE8      ADD	R30,R24
    022AE 1FF9      ADC	R31,R25
    022AF E088      LDI	R24,0x8
    022B0 E090      LDI	R25,0
    022B1 8391      STD	Z+1,R25
    022B2 8380      ST	Z,R24
(1154) 			    break;
    022B3 C00B      RJMP	0x22BF
(1155) 			  case '9':
(1156) 			    date[cur]=9;
    022B4 01CE      MOVW	R24,R28
    022B5 9608      ADIW	R24,0x8
    022B6 01FA      MOVW	R30,R20
    022B7 0FEE      LSL	R30
    022B8 1FFF      ROL	R31
    022B9 0FE8      ADD	R30,R24
    022BA 1FF9      ADC	R31,R25
    022BB E089      LDI	R24,0x9
    022BC E090      LDI	R25,0
    022BD 8391      STD	Z+1,R25
    022BE 8380      ST	Z,R24
(1157) 			    break;
(1158) 			  
(1159) 			 }
(1160) 			  if(cur==3 || cur==5){
    022BF 3043      CPI	R20,3
    022C0 E0E0      LDI	R30,0
    022C1 075E      CPC	R21,R30
    022C2 F021      BEQ	0x22C7
    022C3 3045      CPI	R20,5
    022C4 E0E0      LDI	R30,0
    022C5 075E      CPC	R21,R30
    022C6 F431      BNE	0x22CD
(1161) 			    lcd_write_str_con(0,"- ");
    022C7 E62E      LDI	R18,0x6E
    022C8 E037      LDI	R19,7
    022C9 2700      CLR	R16
    022CA 940E 06E3 CALL	_lcd_write_str_con
(1162) 			 }else if(cur==9 || cur==11){
    022CC C00D      RJMP	0x22DA
    022CD 3049      CPI	R20,0x9
    022CE E0E0      LDI	R30,0
    022CF 075E      CPC	R21,R30
    022D0 F021      BEQ	0x22D5
    022D1 304B      CPI	R20,0xB
    022D2 E0E0      LDI	R30,0
    022D3 075E      CPC	R21,R30
    022D4 F429      BNE	0x22DA
(1163) 			    lcd_write_str_con(0,": ");
    022D5 EE23      LDI	R18,0xE3
    022D6 E037      LDI	R19,7
    022D7 2700      CLR	R16
    022D8 940E 06E3 CALL	_lcd_write_str_con
(1164) 			 }
(1165) 			 cur++;
    022DA 5F4F      SUBI	R20,0xFF
    022DB 4F5F      SBCI	R21,0xFF
(1166) 			 if(cur==8){
    022DC 3048      CPI	R20,0x8
    022DD E0E0      LDI	R30,0
    022DE 075E      CPC	R21,R30
    022DF F431      BNE	0x22E6
(1167) 			    lcd_write_pos(dateAc[8],1);
    022E0 E021      LDI	R18,1
    022E1 A90E      LDD	R16,Y+54
    022E2 A91F      LDD	R17,Y+55
    022E3 940E 0655 CALL	_lcd_write_pos
(1168) 			 }else if(cur==14){
    022E5 C00E      RJMP	0x22F4
    022E6 304E      CPI	R20,0xE
    022E7 E0E0      LDI	R30,0
    022E8 075E      CPC	R21,R30
    022E9 F451      BNE	0x22F4
(1169) 			  cur_set(0);//关下半屏幕游标
    022EA 2700      CLR	R16
    022EB 2711      CLR	R17
    022EC 940E 080A CALL	_cur_set
(1170) 			  Set_White(4,2,5);
    022EE E085      LDI	R24,5
    022EF 8388      ST	Y,R24
    022F0 E022      LDI	R18,2
    022F1 E004      LDI	R16,4
    022F2 940E 08BE CALL	_Set_White
    022F4 CD7B      RJMP	0x2070
    022F5 96EF      ADIW	R28,0x3F
    022F6 9623      ADIW	R28,3
    022F7 940C 2D20 JMP	pop_xgsetF00C
_page9:
    022F9 9722      SBIW	R28,2
(1171) 			 }
(1172) 			}
(1173) 	 }
(1174)    }
(1175)  }
(1176) void page9(void){//复用的方法
(1177)   if(pageParam[2]==0){
    022FA 9020 0D53 LDS	R2,pageParam+4
    022FC 9030 0D54 LDS	R3,pageParam+5
    022FE 2022      TST	R2
    022FF F481      BNE	0x2310
    02300 2033      TST	R3
    02301 F471      BNE	0x2310
(1178)      lcd_write_str(4,1,"系统重置中。。。");
    02302 E58D      LDI	R24,0x5D
    02303 E097      LDI	R25,7
    02304 8399      STD	Y+1,R25
    02305 8388      ST	Y,R24
    02306 E021      LDI	R18,1
    02307 E004      LDI	R16,4
    02308 940E 0699 CALL	_lcd_write_str
(1179) 	 //是否需要清除数据，考虑中
(1180) 	 WDTCR|=(1<<WDCE)|(1<<WDE); /* 置位 WDTOE 和 WDE(在设置看门狗定时器的预置分频器参数时需要将其写1)*/
    0230A B581      IN	R24,0x21
    0230B 6188      ORI	R24,0x18
    0230C BD81      OUT	0x21,R24
(1181)      WDTCR=(1<<WDE)|(1<<WDP2)|(1<<WDP1); /*设定周期为1S*/
    0230D E08E      LDI	R24,0xE
    0230E BD81      OUT	0x21,R24
(1182) 	 while(1){
    0230F CFFF      RJMP	0x230F
(1183) 	 }
(1184)    }else if(pageParam[2]==1){
    02310 9180 0D53 LDS	R24,pageParam+4
    02312 9190 0D54 LDS	R25,pageParam+5
    02314 3081      CPI	R24,1
    02315 E0E0      LDI	R30,0
    02316 079E      CPC	R25,R30
    02317 F471      BNE	0x2326
(1185)      lcd_write_str(4,1,"数据重置中。。。");
    02318 E48C      LDI	R24,0x4C
    02319 E097      LDI	R25,7
    0231A 8399      STD	Y+1,R25
    0231B 8388      ST	Y,R24
    0231C E021      LDI	R18,1
    0231D E004      LDI	R16,4
    0231E 940E 0699 CALL	_lcd_write_str
(1186) 	 reset_temp_data(pageParam[0]);
    02320 9100 0D4F LDS	R16,pageParam
    02322 9110 0D50 LDS	R17,pageParam+1
    02324 940E 283D CALL	_reset_temp_data
(1187)    }
(1188)    delay_ms(500);
    02326 EF04      LDI	R16,0xF4
    02327 E011      LDI	R17,1
    02328 940E 0448 CALL	_delay_ms
(1189)    pageNum=prePageNum;
    0232A 9020 0D4D LDS	R2,prePageNum
    0232C 9030 0D4E LDS	R3,prePageNum+1
    0232E 9230 0D5A STS	pageNum+1,R3
    02330 9220 0D59 STS	pageNum,R2
    02332 9622      ADIW	R28,2
    02333 9508      RET
(1190)  }
(1191) //分发Pages
(1192) void dispatchPages(void){
(1193)       lcd_clear();//清屏幕
_dispatchPages:
    02334 940E 0750 CALL	_lcd_clear
(1194)       if(pageNum==1){
    02336 9180 0D59 LDS	R24,pageNum
    02338 9190 0D5A LDS	R25,pageNum+1
    0233A 3081      CPI	R24,1
    0233B E0E0      LDI	R30,0
    0233C 079E      CPC	R25,R30
    0233D F419      BNE	0x2341
(1195) 	    page1();
    0233E 940E 0F91 CALL	_page1
(1196) 	  }else if(pageNum==2){
    02340 C052      RJMP	0x2393
    02341 9180 0D59 LDS	R24,pageNum
    02343 9190 0D5A LDS	R25,pageNum+1
    02345 3082      CPI	R24,2
    02346 E0E0      LDI	R30,0
    02347 079E      CPC	R25,R30
    02348 F419      BNE	0x234C
(1197) 	    page2();
    02349 940E 1369 CALL	_page2
(1198) 	  }else if(pageNum==3){
    0234B C047      RJMP	0x2393
    0234C 9180 0D59 LDS	R24,pageNum
    0234E 9190 0D5A LDS	R25,pageNum+1
    02350 3083      CPI	R24,3
    02351 E0E0      LDI	R30,0
    02352 079E      CPC	R25,R30
    02353 F419      BNE	0x2357
(1199) 	    page3();
    02354 940E 148D CALL	_page3
(1200) 	  }else if(pageNum==4){
    02356 C03C      RJMP	0x2393
    02357 9180 0D59 LDS	R24,pageNum
    02359 9190 0D5A LDS	R25,pageNum+1
    0235B 3084      CPI	R24,4
    0235C E0E0      LDI	R30,0
    0235D 079E      CPC	R25,R30
    0235E F419      BNE	0x2362
(1201) 	    page4();
    0235F 940E 1A91 CALL	_page4
(1202) 	  }else if(pageNum==5){
    02361 C031      RJMP	0x2393
    02362 9180 0D59 LDS	R24,pageNum
    02364 9190 0D5A LDS	R25,pageNum+1
    02366 3085      CPI	R24,5
    02367 E0E0      LDI	R30,0
    02368 079E      CPC	R25,R30
    02369 F411      BNE	0x236C
(1203) 	    page5();
    0236A D9EE      RCALL	_page5
(1204) 	  }else if(pageNum==6){
    0236B C027      RJMP	0x2393
    0236C 9180 0D59 LDS	R24,pageNum
    0236E 9190 0D5A LDS	R25,pageNum+1
    02370 3086      CPI	R24,6
    02371 E0E0      LDI	R30,0
    02372 079E      CPC	R25,R30
    02373 F411      BNE	0x2376
(1205) 	    page6();
    02374 DB09      RCALL	_page6
(1206) 	  }else if(pageNum==7){
    02375 C01D      RJMP	0x2393
    02376 9180 0D59 LDS	R24,pageNum
    02378 9190 0D5A LDS	R25,pageNum+1
    0237A 3087      CPI	R24,7
    0237B E0E0      LDI	R30,0
    0237C 079E      CPC	R25,R30
    0237D F411      BNE	0x2380
(1207) 	    page7();
    0237E DB40      RCALL	_page7
(1208) 	  }else if(pageNum==8){
    0237F C013      RJMP	0x2393
    02380 9180 0D59 LDS	R24,pageNum
    02382 9190 0D5A LDS	R25,pageNum+1
    02384 3088      CPI	R24,0x8
    02385 E0E0      LDI	R30,0
    02386 079E      CPC	R25,R30
    02387 F411      BNE	0x238A
(1209) 	    page8();
    02388 DBD6      RCALL	_page8
(1210) 	  }else if(pageNum==9){
    02389 C009      RJMP	0x2393
    0238A 9180 0D59 LDS	R24,pageNum
    0238C 9190 0D5A LDS	R25,pageNum+1
    0238E 3089      CPI	R24,0x9
    0238F E0E0      LDI	R30,0
    02390 079E      CPC	R25,R30
    02391 F409      BNE	0x2393
(1211) 	    page9();
    02392 DF66      RCALL	_page9
(1212) 	  }
    02393 9508      RET
_int_int2:
  cache                --> R20
    02394 921A      ST	-Y,R1
    02395 922A      ST	-Y,R2
    02396 923A      ST	-Y,R3
    02397 924A      ST	-Y,R4
    02398 925A      ST	-Y,R5
    02399 930A      ST	-Y,R16
    0239A 931A      ST	-Y,R17
    0239B 932A      ST	-Y,R18
    0239C 933A      ST	-Y,R19
    0239D 938A      ST	-Y,R24
    0239E 939A      ST	-Y,R25
    0239F 93AA      ST	-Y,R26
    023A0 93EA      ST	-Y,R30
    023A1 93FA      ST	-Y,R31
    023A2 B61F      IN	R1,0x3F
    023A3 921A      ST	-Y,R1
    023A4 934A      ST	-Y,R20
    023A5 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\temp.c
(0001) #include<iom128v.h>
(0002) #include "temp.h"
(0003) #include "main.h"
(0004) #include "eeprom.h"
(0005) #include "lcd.h"
(0006) #include "max6675.h"
(0007) void PID_realize(uint temp_n);
(0008) void set_start_real(uint t);
(0009) 
(0010) //中断1s进入，使用int2。可以使用，但是买的这个DS1307，硬件电路问题不可以使用
(0011) //  进行状态变换和参数调整,
(0012) /*升温：没1C变化温度更改参数，状态计算
(0013) /*恒温：只计算状态
(0014) /*****************************/
(0015) #pragma interrupt_handler int_int2:4
(0016) void int_int2(void){//做温度数据时间增加操作。不能做耗时的操作.中断优先级较高
(0017)   uint cache=0;//保存多次使用的数据，局部变量更快
    023A6 2744      CLR	R20
    023A7 2755      CLR	R21
(0018)   EIMSK &= 0xFB;//关中断2
    023A8 B789      IN	R24,0x39
    023A9 7F8B      ANDI	R24,0xFB
    023AA BF89      OUT	0x39,R24
(0019)   TIMSK&=0xBF;//关定时器2溢出中断,8位的
    023AB B787      IN	R24,0x37
    023AC 7B8F      ANDI	R24,0xBF
    023AD BF87      OUT	0x37,R24
(0020)   //第一个
(0021)   if(temps[0].flag==1){//运行中
    023AE 9180 0116 LDS	R24,temps
    023B0 9190 0117 LDS	R25,temps+1
    023B2 3081      CPI	R24,1
    023B3 E0E0      LDI	R30,0
    023B4 079E      CPC	R25,R30
    023B5 F009      BEQ	0x23B7
    023B6 C0F4      RJMP	0x24AB
(0022)      cache=temps[0].status;//暂存当前状态
    023B7 9140 0220 LDS	R20,temps+266
    023B9 9150 0221 LDS	R21,temps+267
(0023)      if(temps[0].statusflag==0){//不是第一次进入当前状态
    023BB 9020 022A LDS	R2,temps+276
    023BD 9030 022B LDS	R3,temps+277
    023BF 2022      TST	R2
    023C0 F009      BEQ	0x23C2
    023C1 C047      RJMP	0x2409
    023C2 2033      TST	R3
    023C3 F009      BEQ	0x23C5
    023C4 C044      RJMP	0x2409
(0024) 	     temps[0].nowtime++;//当前阶段运行时间
    023C5 9180 0224 LDS	R24,temps+270
    023C7 9190 0225 LDS	R25,temps+271
    023C9 9601      ADIW	R24,1
    023CA 9390 0225 STS	temps+271,R25
    023CC 9380 0224 STS	temps+270,R24
(0025) 		if(temps[0].nowtime>=temps[0].needtime){//当前阶段运行结束进入下一阶段
    023CE 9020 0222 LDS	R2,temps+268
    023D0 9030 0223 LDS	R3,temps+269
    023D2 1582      CP	R24,R2
    023D3 0593      CPC	R25,R3
    023D4 F068      BCS	0x23E2
(0026) 		    temps[0].status++;
    023D5 01CA      MOVW	R24,R20
    023D6 9601      ADIW	R24,1
    023D7 9390 0221 STS	temps+267,R25
    023D9 9380 0220 STS	temps+266,R24
(0027) 		    temps[0].statusflag=1;
    023DB E081      LDI	R24,1
    023DC E090      LDI	R25,0
    023DD 9390 022B STS	temps+277,R25
    023DF 9380 022A STS	temps+276,R24
(0028) 			//PORTE=0xFF;
(0029) 		}else{//还在当前阶段
    023E1 C0C9      RJMP	0x24AB
(0030) 		    PORTE=~PORTE;
    023E2 B023      IN	R2,0x03
    023E3 9420      COM	R2
    023E4 B823      OUT	0x03,R2
(0031) 		     if(cache & 0x01){//恒温阶段,
    023E5 FF40      SBRS	R20,0
    023E6 C001      RJMP	0x23E8
(0032) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0033) 		      }else{ //升温阶段
    023E7 C0C3      RJMP	0x24AB
(0034) 		            temps[0].pertimecnt++;
    023E8 9180 0228 LDS	R24,temps+274
    023EA 9190 0229 LDS	R25,temps+275
    023EC 9601      ADIW	R24,1
    023ED 9390 0229 STS	temps+275,R25
    023EF 9380 0228 STS	temps+274,R24
(0035) 		            if(temps[0].pertimecnt>temps[0].pertime){
    023F1 9020 0226 LDS	R2,temps+272
    023F3 9030 0227 LDS	R3,temps+273
    023F5 1628      CP	R2,R24
    023F6 0639      CPC	R3,R25
    023F7 F008      BCS	0x23F9
    023F8 C0B2      RJMP	0x24AB
(0036) 		                    temps[0].p_settemp++;//1C需要时间到达，增加温度。
    023F9 9180 022C LDS	R24,temps+278
    023FB 9190 022D LDS	R25,temps+279
    023FD 9601      ADIW	R24,1
    023FE 9390 022D STS	temps+279,R25
    02400 9380 022C STS	temps+278,R24
(0037) 			                temps[0].pertimecnt=0;
    02402 2422      CLR	R2
    02403 2433      CLR	R3
    02404 9230 0229 STS	temps+275,R3
    02406 9220 0228 STS	temps+274,R2
(0038) 		              } 
(0039) 			  }
(0040) 		 }
(0041) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    02408 C0A2      RJMP	0x24AB
(0042) 	        temps[0].statusflag=0;
    02409 2422      CLR	R2
    0240A 2433      CLR	R3
    0240B 9230 022B STS	temps+277,R3
    0240D 9220 022A STS	temps+276,R2
(0043) 		    temps[0].nowtime=0;
    0240F 9230 0225 STS	temps+271,R3
    02411 9220 0224 STS	temps+270,R2
(0044) 	       if(cache & 0x01){//升温阶段
    02413 FF40      SBRS	R20,0
    02414 C07C      RJMP	0x2491
(0045) 		      cache=((cache-1)>>1)*11;
    02415 019A      MOVW	R18,R20
    02416 5021      SUBI	R18,1
    02417 4030      SBCI	R19,0
    02418 9536      LSR	R19
    02419 9527      ROR	R18
    0241A E00B      LDI	R16,0xB
    0241B E010      LDI	R17,0
    0241C 940E 2CD3 CALL	empy16s
    0241E 01A8      MOVW	R20,R16
(0046) 		      //temps[0].needtime=(temps[0].temp_data[cache]*10+temps[0].temp_data[cache+1])*3600+(temps[0].temp_data[cache+2]*10+temps[0].temp_data[cache+3])*60;
(0047) 			  temps[0].needtime=3;
    0241F E083      LDI	R24,3
    02420 E090      LDI	R25,0
    02421 9390 0223 STS	temps+269,R25
    02423 9380 0222 STS	temps+268,R24
(0048) 			  if(temps[0].needtime==0){
    02425 3080      CPI	R24,0
    02426 0789      CPC	R24,R25
    02427 F431      BNE	0x242E
(0049) 			     //当前阶段时间为0，表示已经结束更改标记
(0050) 				  temps[0].flag=4;
    02428 E084      LDI	R24,4
    02429 9390 0117 STS	temps+1,R25
    0242B 9380 0116 STS	temps,R24
(0051) 			  }else{
    0242D C07D      RJMP	0x24AB
(0052) 			     temps[0].p_settemp=temps[0].temp_data[cache+8]*100+temps[0].temp_data[cache+9]*10+temps[0].temp_data[cache+10];
    0242E E188      LDI	R24,0x18
    0242F E091      LDI	R25,1
    02430 01FA      MOVW	R30,R20
    02431 9639      ADIW	R30,0x9
    02432 0FEE      LSL	R30
    02433 1FFF      ROL	R31
    02434 0FE8      ADD	R30,R24
    02435 1FF9      ADC	R31,R25
    02436 8120      LD	R18,Z
    02437 8131      LDD	R19,Z+1
    02438 E00A      LDI	R16,0xA
    02439 E010      LDI	R17,0
    0243A 940E 2CD3 CALL	empy16s
    0243C 0118      MOVW	R2,R16
    0243D E188      LDI	R24,0x18
    0243E E091      LDI	R25,1
    0243F 01FA      MOVW	R30,R20
    02440 9638      ADIW	R30,0x8
    02441 0FEE      LSL	R30
    02442 1FFF      ROL	R31
    02443 0FE8      ADD	R30,R24
    02444 1FF9      ADC	R31,R25
    02445 8120      LD	R18,Z
    02446 8131      LDD	R19,Z+1
    02447 E604      LDI	R16,0x64
    02448 E010      LDI	R17,0
    02449 940E 2CD3 CALL	empy16s
    0244B 0128      MOVW	R4,R16
    0244C 0C42      ADD	R4,R2
    0244D 1C53      ADC	R5,R3
    0244E E188      LDI	R24,0x18
    0244F E091      LDI	R25,1
    02450 01FA      MOVW	R30,R20
    02451 963A      ADIW	R30,0xA
    02452 0FEE      LSL	R30
    02453 1FFF      ROL	R31
    02454 0FE8      ADD	R30,R24
    02455 1FF9      ADC	R31,R25
    02456 8020      LD	R2,Z
    02457 8031      LDD	R3,Z+1
    02458 0C42      ADD	R4,R2
    02459 1C53      ADC	R5,R3
    0245A 9250 022D STS	temps+279,R5
    0245C 9240 022C STS	temps+278,R4
(0053) 			     temps[0].pertime=temps[0].needtime/(temps[0].p_settemp-temps[0].actualtemp);
    0245E 9100 0222 LDS	R16,temps+268
    02460 9110 0223 LDS	R17,temps+269
    02462 940E 2E52 CALL	uint2fp
    02464 0118      MOVW	R2,R16
    02465 0129      MOVW	R4,R18
    02466 9100 022C LDS	R16,temps+278
    02468 9110 022D LDS	R17,temps+279
    0246A 940E 2E52 CALL	uint2fp
    0246C E38A      LDI	R24,0x3A
    0246D E092      LDI	R25,2
    0246E 939A      ST	-Y,R25
    0246F 938A      ST	-Y,R24
    02470 940E 2E05 CALL	fpsub1x
    02472 0181      MOVW	R16,R2
    02473 0192      MOVW	R18,R4
    02474 940E 2E7F CALL	fpdiv2
    02476 940E 2E20 CALL	fpint
    02478 9310 0227 STS	temps+273,R17
    0247A 9300 0226 STS	temps+272,R16
(0054) 			     temps[0].pertimecnt=0;
    0247C 2422      CLR	R2
    0247D 2433      CLR	R3
    0247E 9230 0229 STS	temps+275,R3
    02480 9220 0228 STS	temps+274,R2
(0055) 				 temps[0].settemp=temps[0].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02482 9100 022C LDS	R16,temps+278
    02484 9110 022D LDS	R17,temps+279
    02486 940E 2E52 CALL	uint2fp
    02488 9310 0237 STS	temps+289,R17
    0248A 9300 0236 STS	temps+288,R16
    0248C 9330 0239 STS	temps+291,R19
    0248E 9320 0238 STS	temps+290,R18
(0056) 			  }
(0057) 		     
(0058) 		    }else{//恒温阶段
    02490 C01A      RJMP	0x24AB
(0059) 			   cache=((cache-1)>>1)*11+4;
    02491 019A      MOVW	R18,R20
    02492 5021      SUBI	R18,1
    02493 4030      SBCI	R19,0
    02494 9536      LSR	R19
    02495 9527      ROR	R18
    02496 E00B      LDI	R16,0xB
    02497 E010      LDI	R17,0
    02498 940E 2CD3 CALL	empy16s
    0249A 01A8      MOVW	R20,R16
    0249B 5F4C      SUBI	R20,0xFC
    0249C 4F5F      SBCI	R21,0xFF
(0060) 		     // temps[0].needtime=(temps[0].temp_data[cache]*10+temps[0].temp_data[cache+1])*3600+(temps[0].temp_data[cache+2]*10+temps[0].temp_data[cache+3])*60;
(0061) 			  temps[0].needtime=3;
    0249D E083      LDI	R24,3
    0249E E090      LDI	R25,0
    0249F 9390 0223 STS	temps+269,R25
    024A1 9380 0222 STS	temps+268,R24
(0062) 			  if(temps[0].needtime==0){
    024A3 3080      CPI	R24,0
    024A4 0789      CPC	R24,R25
    024A5 F429      BNE	0x24AB
(0063) 			     //当前阶段时间为0，表示已经结束更改标记
(0064) 				  temps[0].flag=4;
    024A6 E084      LDI	R24,4
    024A7 9390 0117 STS	temps+1,R25
    024A9 9380 0116 STS	temps,R24
(0065) 			  }
(0066) 			 // temps[0].settemp，在上一场升温时候赋值过
(0067) 			}
(0068) 	  }
(0069)   }
(0070)   TIMSK|=0x40;//开定时器2溢出中断,8位的
    024AB B787      IN	R24,0x37
    024AC 6480      ORI	R24,0x40
    024AD BF87      OUT	0x37,R24
(0071)   EIMSK |= 0x04;//开中断2  
    024AE B789      IN	R24,0x39
    024AF 6084      ORI	R24,4
    024B0 BF89      OUT	0x39,R24
    024B1 9159      LD	R21,Y+
    024B2 9149      LD	R20,Y+
    024B3 9019      LD	R1,Y+
    024B4 BE1F      OUT	0x3F,R1
    024B5 91F9      LD	R31,Y+
    024B6 91E9      LD	R30,Y+
    024B7 91A9      LD	R26,Y+
    024B8 9199      LD	R25,Y+
    024B9 9189      LD	R24,Y+
    024BA 9139      LD	R19,Y+
    024BB 9129      LD	R18,Y+
    024BC 9119      LD	R17,Y+
    024BD 9109      LD	R16,Y+
    024BE 9059      LD	R5,Y+
    024BF 9049      LD	R4,Y+
    024C0 9039      LD	R3,Y+
    024C1 9029      LD	R2,Y+
    024C2 9019      LD	R1,Y+
    024C3 9518      RETI
_tempcontrol:
  j                    --> R22
  i                    --> R20
    024C4 940E 2D19 CALL	push_xgsetF00C
(0072) }
(0073)  //执行温度控制数据更新操作，读取温度更新输出参数.会对温度数据故障更新
(0074)  //定时器控制，0.5s进入一次
(0075) void tempcontrol(void){
(0076)    uint i,j;
(0077)       temp_l=0x00;
    024C6 2422      CLR	R2
    024C7 2433      CLR	R3
    024C8 9230 0115 STS	temp_l+1,R3
    024CA 9220 0114 STS	temp_l,R2
(0078)       temp_h=0x12;
    024CC E182      LDI	R24,0x12
    024CD E090      LDI	R25,0
    024CE 9390 0113 STS	temp_h+1,R25
    024D0 9380 0112 STS	temp_h,R24
(0079)    for(i=0;i<4;i++){
    024D2 2744      CLR	R20
    024D3 2755      CLR	R21
    024D4 C14F      RJMP	0x2624
(0080)          //readTemp(i);//读取温度，一次验证有效性
(0081) 	 if(temp_l&0x04){//当前故障，下面就不用再运行啦
    024D5 9020 0114 LDS	R2,temp_l
    024D7 9030 0115 LDS	R3,temp_l+1
    024D9 FE22      SBRS	R2,2
    024DA C00F      RJMP	0x24EA
(0082) 		     temps[i].flag=2;
    024DB E404      LDI	R16,0x44
    024DC E011      LDI	R17,1
    024DD 019A      MOVW	R18,R20
    024DE 940E 2CD3 CALL	empy16s
    024E0 E186      LDI	R24,0x16
    024E1 E091      LDI	R25,1
    024E2 01F8      MOVW	R30,R16
    024E3 0FE8      ADD	R30,R24
    024E4 1FF9      ADC	R31,R25
    024E5 E082      LDI	R24,2
    024E6 E090      LDI	R25,0
    024E7 8391      STD	Z+1,R25
    024E8 8380      ST	Z,R24
(0083) 	 }else{
    024E9 C138      RJMP	0x2622
(0084) 	      //temps[i].actualtemp=0x55<<2;
(0085) 		  temps[i].actualtemp=(temp_h&0x3F)<<4|(temp_l&0xF0)>>4;
    024EA E404      LDI	R16,0x44
    024EB E011      LDI	R17,1
    024EC 019A      MOVW	R18,R20
    024ED 940E 2CD3 CALL	empy16s
    024EF E38A      LDI	R24,0x3A
    024F0 E092      LDI	R25,2
    024F1 01F8      MOVW	R30,R16
    024F2 0FE8      ADD	R30,R24
    024F3 1FF9      ADC	R31,R25
    024F4 9180 0114 LDS	R24,temp_l
    024F6 9190 0115 LDS	R25,temp_l+1
    024F8 7F80      ANDI	R24,0xF0
    024F9 7090      ANDI	R25,0
    024FA 9596      LSR	R25
    024FB 9587      ROR	R24
    024FC 9596      LSR	R25
    024FD 9587      ROR	R24
    024FE 9596      LSR	R25
    024FF 9587      ROR	R24
    02500 9596      LSR	R25
    02501 9587      ROR	R24
    02502 9100 0112 LDS	R16,temp_h
    02504 9110 0113 LDS	R17,temp_h+1
    02506 730F      ANDI	R16,0x3F
    02507 7010      ANDI	R17,0
    02508 0F00      LSL	R16
    02509 1F11      ROL	R17
    0250A 0F00      LSL	R16
    0250B 1F11      ROL	R17
    0250C 0F00      LSL	R16
    0250D 1F11      ROL	R17
    0250E 0F00      LSL	R16
    0250F 1F11      ROL	R17
    02510 2B08      OR	R16,R24
    02511 2B19      OR	R17,R25
    02512 940E 2E52 CALL	uint2fp
    02514 8300      ST	Z,R16
    02515 8311      STD	Z+1,R17
    02516 8322      STD	Z+2,R18
    02517 8333      STD	Z+3,R19
(0086)          if(temps[i].flag==1)//运行中的
    02518 E404      LDI	R16,0x44
    02519 E011      LDI	R17,1
    0251A 019A      MOVW	R18,R20
    0251B 940E 2CD3 CALL	empy16s
    0251D E186      LDI	R24,0x16
    0251E E091      LDI	R25,1
    0251F 01F8      MOVW	R30,R16
    02520 0FE8      ADD	R30,R24
    02521 1FF9      ADC	R31,R25
    02522 8180      LD	R24,Z
    02523 8191      LDD	R25,Z+1
    02524 3081      CPI	R24,1
    02525 E0E0      LDI	R30,0
    02526 079E      CPC	R25,R30
    02527 F009      BEQ	0x2529
    02528 C0A0      RJMP	0x25C9
(0087) 	      {   
(0088) 		      for(j=0;j<9;j++){
    02529 2766      CLR	R22
    0252A 2777      CLR	R23
    0252B C03F      RJMP	0x256B
(0089) 			    //readTemp(i);//读取温度，需要读取10次左右
(0090) 			    temps[i].actualtemp+=(temp_h&0x3F)<<4|(temp_l&0xF0)>>4;
    0252C E404      LDI	R16,0x44
    0252D E011      LDI	R17,1
    0252E 019A      MOVW	R18,R20
    0252F 940E 2CD3 CALL	empy16s
    02531 0118      MOVW	R2,R16
    02532 E38A      LDI	R24,0x3A
    02533 E092      LDI	R25,2
    02534 0E28      ADD	R2,R24
    02535 1E39      ADC	R3,R25
    02536 0131      MOVW	R6,R2
    02537 01F1      MOVW	R30,R2
    02538 8020      LD	R2,Z
    02539 8031      LDD	R3,Z+1
    0253A 8042      LDD	R4,Z+2
    0253B 8053      LDD	R5,Z+3
    0253C 9180 0114 LDS	R24,temp_l
    0253E 9190 0115 LDS	R25,temp_l+1
    02540 7F80      ANDI	R24,0xF0
    02541 7090      ANDI	R25,0
    02542 9596      LSR	R25
    02543 9587      ROR	R24
    02544 9596      LSR	R25
    02545 9587      ROR	R24
    02546 9596      LSR	R25
    02547 9587      ROR	R24
    02548 9596      LSR	R25
    02549 9587      ROR	R24
    0254A 9100 0112 LDS	R16,temp_h
    0254C 9110 0113 LDS	R17,temp_h+1
    0254E 730F      ANDI	R16,0x3F
    0254F 7010      ANDI	R17,0
    02550 0F00      LSL	R16
    02551 1F11      ROL	R17
    02552 0F00      LSL	R16
    02553 1F11      ROL	R17
    02554 0F00      LSL	R16
    02555 1F11      ROL	R17
    02556 0F00      LSL	R16
    02557 1F11      ROL	R17
    02558 2B08      OR	R16,R24
    02559 2B19      OR	R17,R25
    0255A 940E 2E52 CALL	uint2fp
    0255C 933A      ST	-Y,R19
    0255D 932A      ST	-Y,R18
    0255E 931A      ST	-Y,R17
    0255F 930A      ST	-Y,R16
    02560 0181      MOVW	R16,R2
    02561 0192      MOVW	R18,R4
    02562 940E 2DE5 CALL	fpadd2
    02564 01F3      MOVW	R30,R6
    02565 8300      ST	Z,R16
    02566 8311      STD	Z+1,R17
    02567 8322      STD	Z+2,R18
    02568 8333      STD	Z+3,R19
    02569 5F6F      SUBI	R22,0xFF
    0256A 4F7F      SBCI	R23,0xFF
    0256B 3069      CPI	R22,0x9
    0256C E0E0      LDI	R30,0
    0256D 077E      CPC	R23,R30
    0256E F408      BCC	0x2570
    0256F CFBC      RJMP	0x252C
(0091) 			  }
(0092) 			    temps[i].actualtemp/=10;
    02570 E404      LDI	R16,0x44
    02571 E011      LDI	R17,1
    02572 019A      MOVW	R18,R20
    02573 940E 2CD3 CALL	empy16s
    02575 0118      MOVW	R2,R16
    02576 E38A      LDI	R24,0x3A
    02577 E092      LDI	R25,2
    02578 0E28      ADD	R2,R24
    02579 1E39      ADC	R3,R25
    0257A 0131      MOVW	R6,R2
    0257B 01F1      MOVW	R30,R2
    0257C 8020      LD	R2,Z
    0257D 8031      LDD	R3,Z+1
    0257E 8042      LDD	R4,Z+2
    0257F 8053      LDD	R5,Z+3
    02580 E908      LDI	R16,0x98
    02581 E010      LDI	R17,0
    02582 940E 2CBF CALL	elpm32
    02584 933A      ST	-Y,R19
    02585 932A      ST	-Y,R18
    02586 931A      ST	-Y,R17
    02587 930A      ST	-Y,R16
    02588 0181      MOVW	R16,R2
    02589 0192      MOVW	R18,R4
    0258A 940E 2E7F CALL	fpdiv2
    0258C 01F3      MOVW	R30,R6
    0258D 8300      ST	Z,R16
    0258E 8311      STD	Z+1,R17
    0258F 8322      STD	Z+2,R18
    02590 8333      STD	Z+3,R19
(0093) 		        if(temps[i].status & 0x01){//恒温阶段，使用pid算法。temps[i].status & 0x01如果是1代表是奇数，0代表是偶数
    02591 E404      LDI	R16,0x44
    02592 E011      LDI	R17,1
    02593 019A      MOVW	R18,R20
    02594 940E 2CD3 CALL	empy16s
    02596 E280      LDI	R24,0x20
    02597 E092      LDI	R25,2
    02598 01F8      MOVW	R30,R16
    02599 0FE8      ADD	R30,R24
    0259A 1FF9      ADC	R31,R25
    0259B 8020      LD	R2,Z
    0259C 8031      LDD	R3,Z+1
    0259D FE20      SBRS	R2,0
    0259E C001      RJMP	0x25A0
(0094) 				   //PID_realize(i);//启用pid算法
(0095)                 }else if(temps[i].settemp-temps[i].actualtemp<10){
    0259F C082      RJMP	0x2622
    025A0 E404      LDI	R16,0x44
    025A1 E011      LDI	R17,1
    025A2 019A      MOVW	R18,R20
    025A3 940E 2CD3 CALL	empy16s
    025A5 0158      MOVW	R10,R16
    025A6 E386      LDI	R24,0x36
    025A7 E092      LDI	R25,2
    025A8 01F5      MOVW	R30,R10
    025A9 0FE8      ADD	R30,R24
    025AA 1FF9      ADC	R31,R25
    025AB 8100      LD	R16,Z
    025AC 8111      LDD	R17,Z+1
    025AD 8122      LDD	R18,Z+2
    025AE 8133      LDD	R19,Z+3
    025AF E38A      LDI	R24,0x3A
    025B0 E092      LDI	R25,2
    025B1 0115      MOVW	R2,R10
    025B2 0E28      ADD	R2,R24
    025B3 1E39      ADC	R3,R25
    025B4 923A      ST	-Y,R3
    025B5 922A      ST	-Y,R2
    025B6 940E 2DF0 CALL	fpsub1
    025B8 0118      MOVW	R2,R16
    025B9 0129      MOVW	R4,R18
    025BA E908      LDI	R16,0x98
    025BB E010      LDI	R17,0
    025BC 940E 2CBF CALL	elpm32
    025BE 933A      ST	-Y,R19
    025BF 932A      ST	-Y,R18
    025C0 931A      ST	-Y,R17
    025C1 930A      ST	-Y,R16
    025C2 0181      MOVW	R16,R2
    025C3 0192      MOVW	R18,R4
    025C4 940E 3022 CALL	fpcmp2
    025C6 F00C      BLT	0x25C8
    025C7 C05A      RJMP	0x2622
(0096) 		           //升温或阶段，如果温度接近某个温度则开始使用PID算法。这个值要重新考虑
(0097) 				   //PID_realize(i);//启用pid算法
(0098) 		         }else {//升温使用pi算法
(0099) 		            //PI_realize(i);//启用pi算法
(0100) 		         }
(0101) 	      }else if(temps[i].flag==5){//初始化参数
    025C8 C059      RJMP	0x2622
    025C9 E404      LDI	R16,0x44
    025CA E011      LDI	R17,1
    025CB 019A      MOVW	R18,R20
    025CC 940E 2CD3 CALL	empy16s
    025CE E186      LDI	R24,0x16
    025CF E091      LDI	R25,1
    025D0 01F8      MOVW	R30,R16
    025D1 0FE8      ADD	R30,R24
    025D2 1FF9      ADC	R31,R25
    025D3 8180      LD	R24,Z
    025D4 8191      LDD	R25,Z+1
    025D5 3085      CPI	R24,5
    025D6 E0E0      LDI	R30,0
    025D7 079E      CPC	R25,R30
    025D8 F559      BNE	0x2604
(0102) 	             temps[i].flag=1;
    025D9 E404      LDI	R16,0x44
    025DA E011      LDI	R17,1
    025DB 019A      MOVW	R18,R20
    025DC 940E 2CD3 CALL	empy16s
    025DE E186      LDI	R24,0x16
    025DF E091      LDI	R25,1
    025E0 01F8      MOVW	R30,R16
    025E1 0FE8      ADD	R30,R24
    025E2 1FF9      ADC	R31,R25
    025E3 E081      LDI	R24,1
    025E4 E090      LDI	R25,0
    025E5 8391      STD	Z+1,R25
    025E6 8380      ST	Z,R24
(0103) 				 temps[i].status=1;
    025E7 E404      LDI	R16,0x44
    025E8 E011      LDI	R17,1
    025E9 019A      MOVW	R18,R20
    025EA 940E 2CD3 CALL	empy16s
    025EC E280      LDI	R24,0x20
    025ED E092      LDI	R25,2
    025EE 01F8      MOVW	R30,R16
    025EF 0FE8      ADD	R30,R24
    025F0 1FF9      ADC	R31,R25
    025F1 E081      LDI	R24,1
    025F2 E090      LDI	R25,0
    025F3 8391      STD	Z+1,R25
    025F4 8380      ST	Z,R24
(0104) 				 temps[i].statusflag=1;
    025F5 E404      LDI	R16,0x44
    025F6 E011      LDI	R17,1
    025F7 019A      MOVW	R18,R20
    025F8 940E 2CD3 CALL	empy16s
    025FA E28A      LDI	R24,0x2A
    025FB E092      LDI	R25,2
    025FC 01F8      MOVW	R30,R16
    025FD 0FE8      ADD	R30,R24
    025FE 1FF9      ADC	R31,R25
    025FF E081      LDI	R24,1
    02600 E090      LDI	R25,0
    02601 8391      STD	Z+1,R25
    02602 8380      ST	Z,R24
(0105) 	      }else if(temps[i].flag==2){//故障的,设置标志位位未初始化，但是状态和温度数据可能存在、所以可以直接恢复
    02603 C01E      RJMP	0x2622
    02604 E404      LDI	R16,0x44
    02605 E011      LDI	R17,1
    02606 019A      MOVW	R18,R20
    02607 940E 2CD3 CALL	empy16s
    02609 E186      LDI	R24,0x16
    0260A E091      LDI	R25,1
    0260B 01F8      MOVW	R30,R16
    0260C 0FE8      ADD	R30,R24
    0260D 1FF9      ADC	R31,R25
    0260E 8180      LD	R24,Z
    0260F 8191      LDD	R25,Z+1
    02610 3082      CPI	R24,2
    02611 E0E0      LDI	R30,0
    02612 079E      CPC	R25,R30
    02613 F471      BNE	0x2622
(0106) 		       temps[i].flag=0;
    02614 E404      LDI	R16,0x44
    02615 E011      LDI	R17,1
    02616 019A      MOVW	R18,R20
    02617 940E 2CD3 CALL	empy16s
    02619 E186      LDI	R24,0x16
    0261A E091      LDI	R25,1
    0261B 01F8      MOVW	R30,R16
    0261C 0FE8      ADD	R30,R24
    0261D 1FF9      ADC	R31,R25
    0261E 2422      CLR	R2
    0261F 2433      CLR	R3
    02620 8231      STD	Z+1,R3
    02621 8220      ST	Z,R2
    02622 5F4F      SUBI	R20,0xFF
    02623 4F5F      SBCI	R21,0xFF
    02624 3044      CPI	R20,4
    02625 E0E0      LDI	R30,0
    02626 075E      CPC	R21,R30
    02627 F408      BCC	0x2629
    02628 CEAC      RJMP	0x24D5
    02629 940C 2D20 JMP	pop_xgsetF00C
_tempdata_init:
  j                    --> R22
  i                    --> R20
    0262B 940E 2D0F CALL	push_xgsetF000
(0107) 	      }
(0108) 	  }
(0109)    }
(0110) }
(0111) 
(0112) //开机初始化空间。全部置0,不初始化数据，等用户或EEPROM数据回填
(0113) void tempdata_init(void){
(0114)  uint i,j;
(0115)  for(i=0;i<4;i++){
    0262D 2744      CLR	R20
    0262E 2755      CLR	R21
    0262F C168      RJMP	0x2798
(0116)     temps[i].flag=0;
    02630 E404      LDI	R16,0x44
    02631 E011      LDI	R17,1
    02632 019A      MOVW	R18,R20
    02633 940E 2CD3 CALL	empy16s
    02635 E186      LDI	R24,0x16
    02636 E091      LDI	R25,1
    02637 01F8      MOVW	R30,R16
    02638 0FE8      ADD	R30,R24
    02639 1FF9      ADC	R31,R25
    0263A 2422      CLR	R2
    0263B 2433      CLR	R3
    0263C 8231      STD	Z+1,R3
    0263D 8220      ST	Z,R2
(0117) 	for(j=0;j<132;j++){
    0263E 2766      CLR	R22
    0263F 2777      CLR	R23
    02640 C015      RJMP	0x2656
(0118) 	 temps[i].temp_data[j]=0;
    02641 E404      LDI	R16,0x44
    02642 E011      LDI	R17,1
    02643 019A      MOVW	R18,R20
    02644 940E 2CD3 CALL	empy16s
    02646 0118      MOVW	R2,R16
    02647 E188      LDI	R24,0x18
    02648 E091      LDI	R25,1
    02649 0E28      ADD	R2,R24
    0264A 1E39      ADC	R3,R25
    0264B 01FB      MOVW	R30,R22
    0264C 0FEE      LSL	R30
    0264D 1FFF      ROL	R31
    0264E 0DE2      ADD	R30,R2
    0264F 1DF3      ADC	R31,R3
    02650 2422      CLR	R2
    02651 2433      CLR	R3
    02652 8231      STD	Z+1,R3
    02653 8220      ST	Z,R2
    02654 5F6F      SUBI	R22,0xFF
    02655 4F7F      SBCI	R23,0xFF
    02656 3864      CPI	R22,0x84
    02657 E0E0      LDI	R30,0
    02658 077E      CPC	R23,R30
    02659 F338      BCS	0x2641
(0119) 	}
(0120) 	temps[i].status=0;
    0265A E404      LDI	R16,0x44
    0265B E011      LDI	R17,1
    0265C 019A      MOVW	R18,R20
    0265D 940E 2CD3 CALL	empy16s
    0265F E280      LDI	R24,0x20
    02660 E092      LDI	R25,2
    02661 01F8      MOVW	R30,R16
    02662 0FE8      ADD	R30,R24
    02663 1FF9      ADC	R31,R25
    02664 2422      CLR	R2
    02665 2433      CLR	R3
    02666 8231      STD	Z+1,R3
    02667 8220      ST	Z,R2
(0121) 	temps[i].needtime=0;
    02668 E404      LDI	R16,0x44
    02669 E011      LDI	R17,1
    0266A 019A      MOVW	R18,R20
    0266B 940E 2CD3 CALL	empy16s
    0266D E282      LDI	R24,0x22
    0266E E092      LDI	R25,2
    0266F 01F8      MOVW	R30,R16
    02670 0FE8      ADD	R30,R24
    02671 1FF9      ADC	R31,R25
    02672 2422      CLR	R2
    02673 2433      CLR	R3
    02674 8231      STD	Z+1,R3
    02675 8220      ST	Z,R2
(0122) 	temps[i].nowtime=0;
    02676 E404      LDI	R16,0x44
    02677 E011      LDI	R17,1
    02678 019A      MOVW	R18,R20
    02679 940E 2CD3 CALL	empy16s
    0267B E284      LDI	R24,0x24
    0267C E092      LDI	R25,2
    0267D 01F8      MOVW	R30,R16
    0267E 0FE8      ADD	R30,R24
    0267F 1FF9      ADC	R31,R25
    02680 2422      CLR	R2
    02681 2433      CLR	R3
    02682 8231      STD	Z+1,R3
    02683 8220      ST	Z,R2
(0123) 	temps[i].pertime=0;//每1C需要时间，计时
    02684 E404      LDI	R16,0x44
    02685 E011      LDI	R17,1
    02686 019A      MOVW	R18,R20
    02687 940E 2CD3 CALL	empy16s
    02689 E286      LDI	R24,0x26
    0268A E092      LDI	R25,2
    0268B 01F8      MOVW	R30,R16
    0268C 0FE8      ADD	R30,R24
    0268D 1FF9      ADC	R31,R25
    0268E 2422      CLR	R2
    0268F 2433      CLR	R3
    02690 8231      STD	Z+1,R3
    02691 8220      ST	Z,R2
(0124) 	temps[i].pertimecnt=0;//每1C需要时间，计时器
    02692 E404      LDI	R16,0x44
    02693 E011      LDI	R17,1
    02694 019A      MOVW	R18,R20
    02695 940E 2CD3 CALL	empy16s
    02697 E288      LDI	R24,0x28
    02698 E092      LDI	R25,2
    02699 01F8      MOVW	R30,R16
    0269A 0FE8      ADD	R30,R24
    0269B 1FF9      ADC	R31,R25
    0269C 2422      CLR	R2
    0269D 2433      CLR	R3
    0269E 8231      STD	Z+1,R3
    0269F 8220      ST	Z,R2
(0125) 	temps[i].statusflag=1;//是否第一次进入当前状态,1、第一次；0、不是第一次
    026A0 E404      LDI	R16,0x44
    026A1 E011      LDI	R17,1
    026A2 019A      MOVW	R18,R20
    026A3 940E 2CD3 CALL	empy16s
    026A5 E28A      LDI	R24,0x2A
    026A6 E092      LDI	R25,2
    026A7 01F8      MOVW	R30,R16
    026A8 0FE8      ADD	R30,R24
    026A9 1FF9      ADC	R31,R25
    026AA E081      LDI	R24,1
    026AB E090      LDI	R25,0
    026AC 8391      STD	Z+1,R25
    026AD 8380      ST	Z,R24
(0126) 		//控制相关
(0127) 	temps[i].p_settemp=0;//升温时候的小阶段需要温度
    026AE E404      LDI	R16,0x44
    026AF E011      LDI	R17,1
    026B0 019A      MOVW	R18,R20
    026B1 940E 2CD3 CALL	empy16s
    026B3 E28C      LDI	R24,0x2C
    026B4 E092      LDI	R25,2
    026B5 01F8      MOVW	R30,R16
    026B6 0FE8      ADD	R30,R24
    026B7 1FF9      ADC	R31,R25
    026B8 2422      CLR	R2
    026B9 2433      CLR	R3
    026BA 8231      STD	Z+1,R3
    026BB 8220      ST	Z,R2
(0128) 	temps[i].p_err_next=0;//升温阶段控制使用
    026BC E404      LDI	R16,0x44
    026BD E011      LDI	R17,1
    026BE 019A      MOVW	R18,R20
    026BF 940E 2CD3 CALL	empy16s
    026C1 E28E      LDI	R24,0x2E
    026C2 E092      LDI	R25,2
    026C3 01F8      MOVW	R30,R16
    026C4 0FE8      ADD	R30,R24
    026C5 1FF9      ADC	R31,R25
    026C6 2422      CLR	R2
    026C7 2433      CLR	R3
    026C8 8231      STD	Z+1,R3
    026C9 8220      ST	Z,R2
(0129) 	temps[i].p_Kp=0;//升温阶段控制使用
    026CA E404      LDI	R16,0x44
    026CB E011      LDI	R17,1
    026CC 019A      MOVW	R18,R20
    026CD 940E 2CD3 CALL	empy16s
    026CF E380      LDI	R24,0x30
    026D0 E092      LDI	R25,2
    026D1 01F8      MOVW	R30,R16
    026D2 0FE8      ADD	R30,R24
    026D3 1FF9      ADC	R31,R25
    026D4 2422      CLR	R2
    026D5 2433      CLR	R3
    026D6 8231      STD	Z+1,R3
    026D7 8220      ST	Z,R2
(0130) 	temps[i].p_Ki=0;//升温阶段控制使用
    026D8 E404      LDI	R16,0x44
    026D9 E011      LDI	R17,1
    026DA 019A      MOVW	R18,R20
    026DB 940E 2CD3 CALL	empy16s
    026DD E382      LDI	R24,0x32
    026DE E092      LDI	R25,2
    026DF 01F8      MOVW	R30,R16
    026E0 0FE8      ADD	R30,R24
    026E1 1FF9      ADC	R31,R25
    026E2 2422      CLR	R2
    026E3 2433      CLR	R3
    026E4 8231      STD	Z+1,R3
    026E5 8220      ST	Z,R2
(0131)     temps[i].p_err_last=0;
    026E6 E404      LDI	R16,0x44
    026E7 E011      LDI	R17,1
    026E8 019A      MOVW	R18,R20
    026E9 940E 2CD3 CALL	empy16s
    026EB E384      LDI	R24,0x34
    026EC E092      LDI	R25,2
    026ED 01F8      MOVW	R30,R16
    026EE 0FE8      ADD	R30,R24
    026EF 1FF9      ADC	R31,R25
    026F0 2422      CLR	R2
    026F1 2433      CLR	R3
    026F2 8231      STD	Z+1,R3
    026F3 8220      ST	Z,R2
(0132) 	temps[i].settemp=0;
    026F4 E404      LDI	R16,0x44
    026F5 E011      LDI	R17,1
    026F6 019A      MOVW	R18,R20
    026F7 940E 2CD3 CALL	empy16s
    026F9 E386      LDI	R24,0x36
    026FA E092      LDI	R25,2
    026FB 01F8      MOVW	R30,R16
    026FC 0FE8      ADD	R30,R24
    026FD 1FF9      ADC	R31,R25
    026FE E904      LDI	R16,0x94
    026FF E010      LDI	R17,0
    02700 940E 2CBF CALL	elpm32
    02702 8300      ST	Z,R16
    02703 8311      STD	Z+1,R17
    02704 8322      STD	Z+2,R18
    02705 8333      STD	Z+3,R19
(0133) 	temps[i].actualtemp=0;
    02706 E404      LDI	R16,0x44
    02707 E011      LDI	R17,1
    02708 019A      MOVW	R18,R20
    02709 940E 2CD3 CALL	empy16s
    0270B E38A      LDI	R24,0x3A
    0270C E092      LDI	R25,2
    0270D 01F8      MOVW	R30,R16
    0270E 0FE8      ADD	R30,R24
    0270F 1FF9      ADC	R31,R25
    02710 E904      LDI	R16,0x94
    02711 E010      LDI	R17,0
    02712 940E 2CBF CALL	elpm32
    02714 8300      ST	Z,R16
    02715 8311      STD	Z+1,R17
    02716 8322      STD	Z+2,R18
    02717 8333      STD	Z+3,R19
(0134) 	temps[i].err=0;
    02718 E404      LDI	R16,0x44
    02719 E011      LDI	R17,1
    0271A 019A      MOVW	R18,R20
    0271B 940E 2CD3 CALL	empy16s
    0271D E38E      LDI	R24,0x3E
    0271E E092      LDI	R25,2
    0271F 01F8      MOVW	R30,R16
    02720 0FE8      ADD	R30,R24
    02721 1FF9      ADC	R31,R25
    02722 E904      LDI	R16,0x94
    02723 E010      LDI	R17,0
    02724 940E 2CBF CALL	elpm32
    02726 8300      ST	Z,R16
    02727 8311      STD	Z+1,R17
    02728 8322      STD	Z+2,R18
    02729 8333      STD	Z+3,R19
(0135) 	 temps[i].err_last=0;
    0272A E404      LDI	R16,0x44
    0272B E011      LDI	R17,1
    0272C 019A      MOVW	R18,R20
    0272D 940E 2CD3 CALL	empy16s
    0272F E482      LDI	R24,0x42
    02730 E092      LDI	R25,2
    02731 01F8      MOVW	R30,R16
    02732 0FE8      ADD	R30,R24
    02733 1FF9      ADC	R31,R25
    02734 E904      LDI	R16,0x94
    02735 E010      LDI	R17,0
    02736 940E 2CBF CALL	elpm32
    02738 8300      ST	Z,R16
    02739 8311      STD	Z+1,R17
    0273A 8322      STD	Z+2,R18
    0273B 8333      STD	Z+3,R19
(0136) 	 temps[i].err_next=0;
    0273C E404      LDI	R16,0x44
    0273D E011      LDI	R17,1
    0273E 019A      MOVW	R18,R20
    0273F 940E 2CD3 CALL	empy16s
    02741 E486      LDI	R24,0x46
    02742 E092      LDI	R25,2
    02743 01F8      MOVW	R30,R16
    02744 0FE8      ADD	R30,R24
    02745 1FF9      ADC	R31,R25
    02746 E904      LDI	R16,0x94
    02747 E010      LDI	R17,0
    02748 940E 2CBF CALL	elpm32
    0274A 8300      ST	Z,R16
    0274B 8311      STD	Z+1,R17
    0274C 8322      STD	Z+2,R18
    0274D 8333      STD	Z+3,R19
(0137) 	 temps[i].Kp=0.0;
    0274E E404      LDI	R16,0x44
    0274F E011      LDI	R17,1
    02750 019A      MOVW	R18,R20
    02751 940E 2CD3 CALL	empy16s
    02753 E48A      LDI	R24,0x4A
    02754 E092      LDI	R25,2
    02755 01F8      MOVW	R30,R16
    02756 0FE8      ADD	R30,R24
    02757 1FF9      ADC	R31,R25
    02758 E904      LDI	R16,0x94
    02759 E010      LDI	R17,0
    0275A 940E 2CBF CALL	elpm32
    0275C 8300      ST	Z,R16
    0275D 8311      STD	Z+1,R17
    0275E 8322      STD	Z+2,R18
    0275F 8333      STD	Z+3,R19
(0138) 	 temps[i].Ki=0.0;
    02760 E404      LDI	R16,0x44
    02761 E011      LDI	R17,1
    02762 019A      MOVW	R18,R20
    02763 940E 2CD3 CALL	empy16s
    02765 E48E      LDI	R24,0x4E
    02766 E092      LDI	R25,2
    02767 01F8      MOVW	R30,R16
    02768 0FE8      ADD	R30,R24
    02769 1FF9      ADC	R31,R25
    0276A E904      LDI	R16,0x94
    0276B E010      LDI	R17,0
    0276C 940E 2CBF CALL	elpm32
    0276E 8300      ST	Z,R16
    0276F 8311      STD	Z+1,R17
    02770 8322      STD	Z+2,R18
    02771 8333      STD	Z+3,R19
(0139) 	 temps[i].Kd=0.0;
    02772 E404      LDI	R16,0x44
    02773 E011      LDI	R17,1
    02774 019A      MOVW	R18,R20
    02775 940E 2CD3 CALL	empy16s
    02777 E582      LDI	R24,0x52
    02778 E092      LDI	R25,2
    02779 01F8      MOVW	R30,R16
    0277A 0FE8      ADD	R30,R24
    0277B 1FF9      ADC	R31,R25
    0277C E904      LDI	R16,0x94
    0277D E010      LDI	R17,0
    0277E 940E 2CBF CALL	elpm32
    02780 8300      ST	Z,R16
    02781 8311      STD	Z+1,R17
    02782 8322      STD	Z+2,R18
    02783 8333      STD	Z+3,R19
(0140) 	 temps[i].incrementtemp=25.0;
    02784 E404      LDI	R16,0x44
    02785 E011      LDI	R17,1
    02786 019A      MOVW	R18,R20
    02787 940E 2CD3 CALL	empy16s
    02789 E586      LDI	R24,0x56
    0278A E092      LDI	R25,2
    0278B 01F8      MOVW	R30,R16
    0278C 0FE8      ADD	R30,R24
    0278D 1FF9      ADC	R31,R25
    0278E E900      LDI	R16,0x90
    0278F E010      LDI	R17,0
    02790 940E 2CBF CALL	elpm32
    02792 8300      ST	Z,R16
    02793 8311      STD	Z+1,R17
    02794 8322      STD	Z+2,R18
    02795 8333      STD	Z+3,R19
    02796 5F4F      SUBI	R20,0xFF
    02797 4F5F      SBCI	R21,0xFF
    02798 3044      CPI	R20,4
    02799 E0E0      LDI	R30,0
    0279A 075E      CPC	R21,R30
    0279B F408      BCC	0x279D
    0279C CE93      RJMP	0x2630
    0279D 940C 2D14 JMP	pop_xgsetF000
_data_recover:
  dataC                --> R22
  i                    --> R20
  j                    --> R22
    0279F 940E 2D19 CALL	push_xgsetF00C
(0141)  } 
(0142) }
(0143) void data_recover(void){
(0144)  uint i,j;
(0145)  uint dataC;
(0146)  for(i=0;i<4;i++){
    027A1 2744      CLR	R20
    027A2 2755      CLR	R21
    027A3 C046      RJMP	0x27EA
(0147)    dataC=EEPROM_read(i+1,0);//读取标记位
    027A4 2722      CLR	R18
    027A5 2733      CLR	R19
    027A6 018A      MOVW	R16,R20
    027A7 5F0F      SUBI	R16,0xFF
    027A8 4F1F      SBCI	R17,0xFF
    027A9 940E 0F5F CALL	_EEPROM_read
    027AB 01B8      MOVW	R22,R16
(0148)    if(dataC==1){
    027AC 3001      CPI	R16,1
    027AD E0E0      LDI	R30,0
    027AE 071E      CPC	R17,R30
    027AF F009      BEQ	0x27B1
    027B0 C037      RJMP	0x27E8
(0149)       temps[i].flag=EEPROM_read(i+1,133);
    027B1 E825      LDI	R18,0x85
    027B2 E030      LDI	R19,0
    027B3 018A      MOVW	R16,R20
    027B4 5F0F      SUBI	R16,0xFF
    027B5 4F1F      SBCI	R17,0xFF
    027B6 940E 0F5F CALL	_EEPROM_read
    027B8 0118      MOVW	R2,R16
    027B9 E404      LDI	R16,0x44
    027BA E011      LDI	R17,1
    027BB 019A      MOVW	R18,R20
    027BC 940E 2CD3 CALL	empy16s
    027BE E186      LDI	R24,0x16
    027BF E091      LDI	R25,1
    027C0 01F8      MOVW	R30,R16
    027C1 0FE8      ADD	R30,R24
    027C2 1FF9      ADC	R31,R25
    027C3 8231      STD	Z+1,R3
    027C4 8220      ST	Z,R2
(0150) 	  for(j=0;j<132;j++){
    027C5 2766      CLR	R22
    027C6 2777      CLR	R23
    027C7 C01C      RJMP	0x27E4
(0151) 	    temps[i].temp_data[j]=EEPROM_read(i+1,j+1);
    027C8 019B      MOVW	R18,R22
    027C9 5F2F      SUBI	R18,0xFF
    027CA 4F3F      SBCI	R19,0xFF
    027CB 018A      MOVW	R16,R20
    027CC 5F0F      SUBI	R16,0xFF
    027CD 4F1F      SBCI	R17,0xFF
    027CE 940E 0F5F CALL	_EEPROM_read
    027D0 0158      MOVW	R10,R16
    027D1 E404      LDI	R16,0x44
    027D2 E011      LDI	R17,1
    027D3 019A      MOVW	R18,R20
    027D4 940E 2CD3 CALL	empy16s
    027D6 0118      MOVW	R2,R16
    027D7 E188      LDI	R24,0x18
    027D8 E091      LDI	R25,1
    027D9 0E28      ADD	R2,R24
    027DA 1E39      ADC	R3,R25
    027DB 01FB      MOVW	R30,R22
    027DC 0FEE      LSL	R30
    027DD 1FFF      ROL	R31
    027DE 0DE2      ADD	R30,R2
    027DF 1DF3      ADC	R31,R3
    027E0 82B1      STD	Z+1,R11
    027E1 82A0      ST	Z,R10
    027E2 5F6F      SUBI	R22,0xFF
    027E3 4F7F      SBCI	R23,0xFF
    027E4 3864      CPI	R22,0x84
    027E5 E0E0      LDI	R30,0
    027E6 077E      CPC	R23,R30
    027E7 F300      BCS	0x27C8
    027E8 5F4F      SUBI	R20,0xFF
    027E9 4F5F      SBCI	R21,0xFF
    027EA 3044      CPI	R20,4
    027EB E0E0      LDI	R30,0
    027EC 075E      CPC	R21,R30
    027ED F408      BCC	0x27EF
    027EE CFB5      RJMP	0x27A4
    027EF 940C 2D20 JMP	pop_xgsetF00C
_set_temp_data:
  j                    --> R20
  dataCach             --> R10
  t                    --> R22
    027F1 940E 2D19 CALL	push_xgsetF00C
    027F3 0159      MOVW	R10,R18
    027F4 01B8      MOVW	R22,R16
    027F5 9722      SBIW	R28,2
(0152) 	   }
(0153) 	}
(0154)  } 
(0155) }
(0156) 
(0157) //设置指定的数据,保存相关标志位
(0158) void set_temp_data(uint t,uint* dataCach){
(0159)     uint j;
(0160) 	temps[t].flag=6;
    027F6 E404      LDI	R16,0x44
    027F7 E011      LDI	R17,1
    027F8 019B      MOVW	R18,R22
    027F9 940E 2CD3 CALL	empy16s
    027FB E186      LDI	R24,0x16
    027FC E091      LDI	R25,1
    027FD 01F8      MOVW	R30,R16
    027FE 0FE8      ADD	R30,R24
    027FF 1FF9      ADC	R31,R25
    02800 E086      LDI	R24,6
    02801 E090      LDI	R25,0
    02802 8391      STD	Z+1,R25
    02803 8380      ST	Z,R24
(0161) 	EEPROM_write(t+1,0,0x01);
    02804 E081      LDI	R24,1
    02805 8399      STD	Y+1,R25
    02806 8388      ST	Y,R24
    02807 2722      CLR	R18
    02808 2733      CLR	R19
    02809 018B      MOVW	R16,R22
    0280A 5F0F      SUBI	R16,0xFF
    0280B 4F1F      SBCI	R17,0xFF
    0280C 940E 0F48 CALL	_EEPROM_write
(0162) 	EEPROM_write(t+1,133,6);
    0280E E086      LDI	R24,6
    0280F E090      LDI	R25,0
    02810 8399      STD	Y+1,R25
    02811 8388      ST	Y,R24
    02812 E825      LDI	R18,0x85
    02813 E030      LDI	R19,0
    02814 018B      MOVW	R16,R22
    02815 5F0F      SUBI	R16,0xFF
    02816 4F1F      SBCI	R17,0xFF
    02817 940E 0F48 CALL	_EEPROM_write
(0163)     for(j=0;j<132;j++){
    02819 2744      CLR	R20
    0281A 2755      CLR	R21
    0281B C01A      RJMP	0x2836
(0164) 	   temps[t].temp_data[j]=*(dataCach+j);
    0281C 011A      MOVW	R2,R20
    0281D 0C22      LSL	R2
    0281E 1C33      ROL	R3
    0281F 0121      MOVW	R4,R2
    02820 E404      LDI	R16,0x44
    02821 E011      LDI	R17,1
    02822 019B      MOVW	R18,R22
    02823 940E 2CD3 CALL	empy16s
    02825 0118      MOVW	R2,R16
    02826 E188      LDI	R24,0x18
    02827 E091      LDI	R25,1
    02828 0E28      ADD	R2,R24
    02829 1E39      ADC	R3,R25
    0282A 01F2      MOVW	R30,R4
    0282B 0DE2      ADD	R30,R2
    0282C 1DF3      ADC	R31,R3
    0282D 01D2      MOVW	R26,R4
    0282E 0DAA      ADD	R26,R10
    0282F 1DBB      ADC	R27,R11
    02830 902D      LD	R2,X+
    02831 903C      LD	R3,X
    02832 8231      STD	Z+1,R3
    02833 8220      ST	Z,R2
    02834 5F4F      SUBI	R20,0xFF
    02835 4F5F      SBCI	R21,0xFF
    02836 3844      CPI	R20,0x84
    02837 E0E0      LDI	R30,0
    02838 075E      CPC	R21,R30
    02839 F310      BCS	0x281C
    0283A 9622      ADIW	R28,2
    0283B 940C 2D20 JMP	pop_xgsetF00C
_reset_temp_data:
  j                    --> R20
  t                    --> R22
    0283D 940E 2D0F CALL	push_xgsetF000
    0283F 01B8      MOVW	R22,R16
    02840 9722      SBIW	R28,2
(0165) 	 //  EEPROM_write(t+1,j+1,temps[t].temp_data[j]);
(0166) 	}
(0167) }
(0168) 
(0169) //重置指定的数据,保存相关标志位
(0170) void reset_temp_data(uint t){
(0171)     uint j;
(0172) 	temps[t].flag=0;
    02841 E404      LDI	R16,0x44
    02842 E011      LDI	R17,1
    02843 019B      MOVW	R18,R22
    02844 940E 2CD3 CALL	empy16s
    02846 E186      LDI	R24,0x16
    02847 E091      LDI	R25,1
    02848 01F8      MOVW	R30,R16
    02849 0FE8      ADD	R30,R24
    0284A 1FF9      ADC	R31,R25
    0284B 2422      CLR	R2
    0284C 2433      CLR	R3
    0284D 8231      STD	Z+1,R3
    0284E 8220      ST	Z,R2
(0173) 	EEPROM_write(t+1,0,0x00);
    0284F 8239      STD	Y+1,R3
    02850 8228      ST	Y,R2
    02851 2722      CLR	R18
    02852 2733      CLR	R19
    02853 018B      MOVW	R16,R22
    02854 5F0F      SUBI	R16,0xFF
    02855 4F1F      SBCI	R17,0xFF
    02856 940E 0F48 CALL	_EEPROM_write
(0174) 	EEPROM_write(t+1,133,0x00);
    02858 2422      CLR	R2
    02859 2433      CLR	R3
    0285A 8239      STD	Y+1,R3
    0285B 8228      ST	Y,R2
    0285C E825      LDI	R18,0x85
    0285D E030      LDI	R19,0
    0285E 018B      MOVW	R16,R22
    0285F 5F0F      SUBI	R16,0xFF
    02860 4F1F      SBCI	R17,0xFF
    02861 940E 0F48 CALL	_EEPROM_write
(0175)     for(j=0;j<132;j++){
    02863 2744      CLR	R20
    02864 2755      CLR	R21
    02865 C015      RJMP	0x287B
(0176) 	   temps[t].temp_data[j]=0;
    02866 E404      LDI	R16,0x44
    02867 E011      LDI	R17,1
    02868 019B      MOVW	R18,R22
    02869 940E 2CD3 CALL	empy16s
    0286B 0118      MOVW	R2,R16
    0286C E188      LDI	R24,0x18
    0286D E091      LDI	R25,1
    0286E 0E28      ADD	R2,R24
    0286F 1E39      ADC	R3,R25
    02870 01FA      MOVW	R30,R20
    02871 0FEE      LSL	R30
    02872 1FFF      ROL	R31
    02873 0DE2      ADD	R30,R2
    02874 1DF3      ADC	R31,R3
    02875 2422      CLR	R2
    02876 2433      CLR	R3
    02877 8231      STD	Z+1,R3
    02878 8220      ST	Z,R2
    02879 5F4F      SUBI	R20,0xFF
    0287A 4F5F      SBCI	R21,0xFF
    0287B 3844      CPI	R20,0x84
    0287C E0E0      LDI	R30,0
    0287D 075E      CPC	R21,R30
    0287E F338      BCS	0x2866
    0287F 9622      ADIW	R28,2
    02880 940C 2D14 JMP	pop_xgsetF000
_set_all_start:
  j                    --> R20
    02882 934A      ST	-Y,R20
    02883 935A      ST	-Y,R21
(0177) 	 //  EEPROM_write(t+1,j+1,0);
(0178) 	}
(0179) }
(0180) //温度全部开始工作。状态为停止和刚重置数据的可以开始
(0181) void set_all_start(void){
(0182)     uint j;
(0183) 	
(0184)     for(j=0;j<4;j++){
    02884 2744      CLR	R20
    02885 2755      CLR	R21
    02886 C03F      RJMP	0x28C6
(0185) 	    if(temps[j].flag==3){
    02887 E404      LDI	R16,0x44
    02888 E011      LDI	R17,1
    02889 019A      MOVW	R18,R20
    0288A 940E 2CD3 CALL	empy16s
    0288C E186      LDI	R24,0x16
    0288D E091      LDI	R25,1
    0288E 01F8      MOVW	R30,R16
    0288F 0FE8      ADD	R30,R24
    02890 1FF9      ADC	R31,R25
    02891 8180      LD	R24,Z
    02892 8191      LDD	R25,Z+1
    02893 3083      CPI	R24,3
    02894 E0E0      LDI	R30,0
    02895 079E      CPC	R25,R30
    02896 F479      BNE	0x28A6
(0186) 	           temps[j].flag=1;
    02897 E404      LDI	R16,0x44
    02898 E011      LDI	R17,1
    02899 019A      MOVW	R18,R20
    0289A 940E 2CD3 CALL	empy16s
    0289C E186      LDI	R24,0x16
    0289D E091      LDI	R25,1
    0289E 01F8      MOVW	R30,R16
    0289F 0FE8      ADD	R30,R24
    028A0 1FF9      ADC	R31,R25
    028A1 E081      LDI	R24,1
    028A2 E090      LDI	R25,0
    028A3 8391      STD	Z+1,R25
    028A4 8380      ST	Z,R24
(0187) 	      }else if(temps[j].flag==6){
    028A5 C01E      RJMP	0x28C4
    028A6 E404      LDI	R16,0x44
    028A7 E011      LDI	R17,1
    028A8 019A      MOVW	R18,R20
    028A9 940E 2CD3 CALL	empy16s
    028AB E186      LDI	R24,0x16
    028AC E091      LDI	R25,1
    028AD 01F8      MOVW	R30,R16
    028AE 0FE8      ADD	R30,R24
    028AF 1FF9      ADC	R31,R25
    028B0 8180      LD	R24,Z
    028B1 8191      LDD	R25,Z+1
    028B2 3086      CPI	R24,6
    028B3 E0E0      LDI	R30,0
    028B4 079E      CPC	R25,R30
    028B5 F471      BNE	0x28C4
(0188) 	             temps[j].flag=5;
    028B6 E404      LDI	R16,0x44
    028B7 E011      LDI	R17,1
    028B8 019A      MOVW	R18,R20
    028B9 940E 2CD3 CALL	empy16s
    028BB E186      LDI	R24,0x16
    028BC E091      LDI	R25,1
    028BD 01F8      MOVW	R30,R16
    028BE 0FE8      ADD	R30,R24
    028BF 1FF9      ADC	R31,R25
    028C0 E085      LDI	R24,5
    028C1 E090      LDI	R25,0
    028C2 8391      STD	Z+1,R25
    028C3 8380      ST	Z,R24
    028C4 5F4F      SUBI	R20,0xFF
    028C5 4F5F      SBCI	R21,0xFF
    028C6 3044      CPI	R20,4
    028C7 E0E0      LDI	R30,0
    028C8 075E      CPC	R21,R30
    028C9 F408      BCC	0x28CB
    028CA CFBC      RJMP	0x2887
    028CB 9159      LD	R21,Y+
    028CC 9149      LD	R20,Y+
    028CD 9508      RET
_set_all_stop:
  j                    --> R20
    028CE 934A      ST	-Y,R20
    028CF 935A      ST	-Y,R21
(0189) 
(0190) 	      }
(0191) 	}
(0192) }
(0193) //温度全部暂停.要运行的才会暂停。。关闭输出
(0194) void set_all_stop(void){
(0195)     uint j;
(0196) 	
(0197)     for(j=0;j<4;j++){
    028D0 2744      CLR	R20
    028D1 2755      CLR	R21
    028D2 C025      RJMP	0x28F8
(0198) 	  if(temps[j].flag==1 || temps[j].flag==5){
    028D3 E404      LDI	R16,0x44
    028D4 E011      LDI	R17,1
    028D5 019A      MOVW	R18,R20
    028D6 940E 2CD3 CALL	empy16s
    028D8 E186      LDI	R24,0x16
    028D9 E091      LDI	R25,1
    028DA 01F8      MOVW	R30,R16
    028DB 0FE8      ADD	R30,R24
    028DC 1FF9      ADC	R31,R25
    028DD 8020      LD	R2,Z
    028DE 8031      LDD	R3,Z+1
    028DF 01C1      MOVW	R24,R2
    028E0 3081      CPI	R24,1
    028E1 E0E0      LDI	R30,0
    028E2 079E      CPC	R25,R30
    028E3 F021      BEQ	0x28E8
    028E4 3085      CPI	R24,5
    028E5 E0E0      LDI	R30,0
    028E6 079E      CPC	R25,R30
    028E7 F471      BNE	0x28F6
(0199) 	     temps[j].flag=3;
    028E8 E404      LDI	R16,0x44
    028E9 E011      LDI	R17,1
    028EA 019A      MOVW	R18,R20
    028EB 940E 2CD3 CALL	empy16s
    028ED E186      LDI	R24,0x16
    028EE E091      LDI	R25,1
    028EF 01F8      MOVW	R30,R16
    028F0 0FE8      ADD	R30,R24
    028F1 1FF9      ADC	R31,R25
    028F2 E083      LDI	R24,3
    028F3 E090      LDI	R25,0
    028F4 8391      STD	Z+1,R25
    028F5 8380      ST	Z,R24
    028F6 5F4F      SUBI	R20,0xFF
    028F7 4F5F      SBCI	R21,0xFF
    028F8 3044      CPI	R20,4
    028F9 E0E0      LDI	R30,0
    028FA 075E      CPC	R21,R30
    028FB F2B8      BCS	0x28D3
    028FC 9159      LD	R21,Y+
    028FD 9149      LD	R20,Y+
    028FE 9508      RET
_set_start:
  t                    --> R10
    028FF 92AA      ST	-Y,R10
    02900 92BA      ST	-Y,R11
    02901 0158      MOVW	R10,R16
(0200) 		//  EEPROM_write(j+1,133,3);
(0201) 	   }
(0202) 	}
(0203) }
(0204) //指定温度开始,预备
(0205) void set_start(uint t){
(0206)   if(temps[t].flag==3){
    02902 E404      LDI	R16,0x44
    02903 E011      LDI	R17,1
    02904 0195      MOVW	R18,R10
    02905 940E 2CD3 CALL	empy16s
    02907 E186      LDI	R24,0x16
    02908 E091      LDI	R25,1
    02909 01F8      MOVW	R30,R16
    0290A 0FE8      ADD	R30,R24
    0290B 1FF9      ADC	R31,R25
    0290C 8180      LD	R24,Z
    0290D 8191      LDD	R25,Z+1
    0290E 3083      CPI	R24,3
    0290F E0E0      LDI	R30,0
    02910 079E      CPC	R25,R30
    02911 F479      BNE	0x2921
(0207) 	     temps[t].flag=1;
    02912 E404      LDI	R16,0x44
    02913 E011      LDI	R17,1
    02914 0195      MOVW	R18,R10
    02915 940E 2CD3 CALL	empy16s
    02917 E186      LDI	R24,0x16
    02918 E091      LDI	R25,1
    02919 01F8      MOVW	R30,R16
    0291A 0FE8      ADD	R30,R24
    0291B 1FF9      ADC	R31,R25
    0291C E081      LDI	R24,1
    0291D E090      LDI	R25,0
    0291E 8391      STD	Z+1,R25
    0291F 8380      ST	Z,R24
(0208) 		///  EEPROM_write(t+1,133,5);
(0209) 	}else if(temps[t].flag==6){
    02920 C01E      RJMP	0x293F
    02921 E404      LDI	R16,0x44
    02922 E011      LDI	R17,1
    02923 0195      MOVW	R18,R10
    02924 940E 2CD3 CALL	empy16s
    02926 E186      LDI	R24,0x16
    02927 E091      LDI	R25,1
    02928 01F8      MOVW	R30,R16
    02929 0FE8      ADD	R30,R24
    0292A 1FF9      ADC	R31,R25
    0292B 8180      LD	R24,Z
    0292C 8191      LDD	R25,Z+1
    0292D 3086      CPI	R24,6
    0292E E0E0      LDI	R30,0
    0292F 079E      CPC	R25,R30
    02930 F471      BNE	0x293F
(0210) 	     temps[t].flag=5;
    02931 E404      LDI	R16,0x44
    02932 E011      LDI	R17,1
    02933 0195      MOVW	R18,R10
    02934 940E 2CD3 CALL	empy16s
    02936 E186      LDI	R24,0x16
    02937 E091      LDI	R25,1
    02938 01F8      MOVW	R30,R16
    02939 0FE8      ADD	R30,R24
    0293A 1FF9      ADC	R31,R25
    0293B E085      LDI	R24,5
    0293C E090      LDI	R25,0
    0293D 8391      STD	Z+1,R25
    0293E 8380      ST	Z,R24
(0211) 		///  EEPROM_write(t+1,133,5);
(0212) 	}
    0293F 90B9      LD	R11,Y+
    02940 90A9      LD	R10,Y+
    02941 9508      RET
_set_stop:
  t                    --> R10
    02942 92AA      ST	-Y,R10
    02943 92BA      ST	-Y,R11
    02944 0158      MOVW	R10,R16
(0213) }
(0214) 
(0215) //指定温度暂停。关闭输出
(0216) void set_stop(uint t){
(0217)  if(temps[t].flag==1 || temps[t].flag==5){
    02945 E404      LDI	R16,0x44
    02946 E011      LDI	R17,1
    02947 0195      MOVW	R18,R10
    02948 940E 2CD3 CALL	empy16s
    0294A E186      LDI	R24,0x16
    0294B E091      LDI	R25,1
    0294C 01F8      MOVW	R30,R16
    0294D 0FE8      ADD	R30,R24
    0294E 1FF9      ADC	R31,R25
    0294F 8020      LD	R2,Z
    02950 8031      LDD	R3,Z+1
    02951 01C1      MOVW	R24,R2
    02952 3081      CPI	R24,1
    02953 E0E0      LDI	R30,0
    02954 079E      CPC	R25,R30
    02955 F021      BEQ	0x295A
    02956 3085      CPI	R24,5
    02957 E0E0      LDI	R30,0
    02958 079E      CPC	R25,R30
    02959 F471      BNE	0x2968
(0218) 	     temps[t].flag=3;
    0295A E404      LDI	R16,0x44
    0295B E011      LDI	R17,1
    0295C 0195      MOVW	R18,R10
    0295D 940E 2CD3 CALL	empy16s
    0295F E186      LDI	R24,0x16
    02960 E091      LDI	R25,1
    02961 01F8      MOVW	R30,R16
    02962 0FE8      ADD	R30,R24
    02963 1FF9      ADC	R31,R25
    02964 E083      LDI	R24,3
    02965 E090      LDI	R25,0
    02966 8391      STD	Z+1,R25
    02967 8380      ST	Z,R24
(0219) 		// EEPROM_write(t+1,133,3);
(0220) 	   }
    02968 90B9      LD	R11,Y+
    02969 90A9      LD	R10,Y+
    0296A 9508      RET
_PID_realize:
  temp_n               --> R10
    0296B 940E 2D35 CALL	push_xgsetF03C
    0296D 0158      MOVW	R10,R16
(0221) }
(0222) /***********************************************************************
(0223) * 函数功能：	PID计算
(0224) * 参      数：	读入的温度
(0225) * 返 回  值：	无	改变incrementtemp的值，输出函数获得这个值然后输出
(0226) * 备	   注：	
(0227) **1
(0228) **********************************************************************/
(0229) void PID_realize(uint temp_n)
(0230) {
(0231)    temps[temp_n].err=temps[temp_n].settemp-temps[temp_n].actualtemp;//这两个都在结构体中
    0296E E404      LDI	R16,0x44
    0296F E011      LDI	R17,1
    02970 0195      MOVW	R18,R10
    02971 940E 2CD3 CALL	empy16s
    02973 0128      MOVW	R4,R16
    02974 E386      LDI	R24,0x36
    02975 E092      LDI	R25,2
    02976 01F2      MOVW	R30,R4
    02977 0FE8      ADD	R30,R24
    02978 1FF9      ADC	R31,R25
    02979 8100      LD	R16,Z
    0297A 8111      LDD	R17,Z+1
    0297B 8122      LDD	R18,Z+2
    0297C 8133      LDD	R19,Z+3
    0297D E38A      LDI	R24,0x3A
    0297E E092      LDI	R25,2
    0297F 0112      MOVW	R2,R4
    02980 0E28      ADD	R2,R24
    02981 1E39      ADC	R3,R25
    02982 923A      ST	-Y,R3
    02983 922A      ST	-Y,R2
    02984 940E 2DF0 CALL	fpsub1
    02986 E38E      LDI	R24,0x3E
    02987 E092      LDI	R25,2
    02988 01F2      MOVW	R30,R4
    02989 0FE8      ADD	R30,R24
    0298A 1FF9      ADC	R31,R25
    0298B 8300      ST	Z,R16
    0298C 8311      STD	Z+1,R17
    0298D 8322      STD	Z+2,R18
    0298E 8333      STD	Z+3,R19
(0232)    temps[temp_n].incrementtemp=temps[temp_n].Kp*(temps[temp_n].err-temps[temp_n].err_next)+temps[temp_n].Ki*temps[temp_n].err+temps[temp_n].Kd*(temps[temp_n].err-2*temps[temp_n].err_next+temps[temp_n].err_last);
    0298F E404      LDI	R16,0x44
    02990 E011      LDI	R17,1
    02991 0195      MOVW	R18,R10
    02992 940E 2CD3 CALL	empy16s
    02994 01D8      MOVW	R26,R16
    02995 E48A      LDI	R24,0x4A
    02996 E092      LDI	R25,2
    02997 01FD      MOVW	R30,R26
    02998 0FE8      ADD	R30,R24
    02999 1FF9      ADC	R31,R25
    0299A 8020      LD	R2,Z
    0299B 8031      LDD	R3,Z+1
    0299C 8042      LDD	R4,Z+2
    0299D 8053      LDD	R5,Z+3
    0299E E38E      LDI	R24,0x3E
    0299F E092      LDI	R25,2
    029A0 01FD      MOVW	R30,R26
    029A1 0FE8      ADD	R30,R24
    029A2 1FF9      ADC	R31,R25
    029A3 8100      LD	R16,Z
    029A4 8111      LDD	R17,Z+1
    029A5 8122      LDD	R18,Z+2
    029A6 8133      LDD	R19,Z+3
    029A7 E486      LDI	R24,0x46
    029A8 E092      LDI	R25,2
    029A9 013D      MOVW	R6,R26
    029AA 0E68      ADD	R6,R24
    029AB 1E79      ADC	R7,R25
    029AC 927A      ST	-Y,R7
    029AD 926A      ST	-Y,R6
    029AE 940E 2E05 CALL	fpsub1x
    029B0 0181      MOVW	R16,R2
    029B1 0192      MOVW	R18,R4
    029B2 940E 2FEF CALL	fpmule2
    029B4 0118      MOVW	R2,R16
    029B5 0129      MOVW	R4,R18
    029B6 E48E      LDI	R24,0x4E
    029B7 E092      LDI	R25,2
    029B8 01FD      MOVW	R30,R26
    029B9 0FE8      ADD	R30,R24
    029BA 1FF9      ADC	R31,R25
    029BB 8100      LD	R16,Z
    029BC 8111      LDD	R17,Z+1
    029BD 8122      LDD	R18,Z+2
    029BE 8133      LDD	R19,Z+3
    029BF E38E      LDI	R24,0x3E
    029C0 E092      LDI	R25,2
    029C1 013D      MOVW	R6,R26
    029C2 0E68      ADD	R6,R24
    029C3 1E79      ADC	R7,R25
    029C4 927A      ST	-Y,R7
    029C5 926A      ST	-Y,R6
    029C6 940E 2FFA CALL	fpmule1x
    029C8 0181      MOVW	R16,R2
    029C9 0192      MOVW	R18,R4
    029CA 940E 2DE5 CALL	fpadd2
    029CC 0118      MOVW	R2,R16
    029CD 0129      MOVW	R4,R18
    029CE E582      LDI	R24,0x52
    029CF E092      LDI	R25,2
    029D0 01FD      MOVW	R30,R26
    029D1 0FE8      ADD	R30,R24
    029D2 1FF9      ADC	R31,R25
    029D3 8060      LD	R6,Z
    029D4 8071      LDD	R7,Z+1
    029D5 8082      LDD	R8,Z+2
    029D6 8093      LDD	R9,Z+3
    029D7 E38E      LDI	R24,0x3E
    029D8 E092      LDI	R25,2
    029D9 01FD      MOVW	R30,R26
    029DA 0FE8      ADD	R30,R24
    029DB 1FF9      ADC	R31,R25
    029DC 8140      LD	R20,Z
    029DD 8151      LDD	R21,Z+1
    029DE 8162      LDD	R22,Z+2
    029DF 8173      LDD	R23,Z+3
    029E0 E80C      LDI	R16,0x8C
    029E1 E010      LDI	R17,0
    029E2 940E 2CBF CALL	elpm32
    029E4 E486      LDI	R24,0x46
    029E5 E092      LDI	R25,2
    029E6 01FD      MOVW	R30,R26
    029E7 0FE8      ADD	R30,R24
    029E8 1FF9      ADC	R31,R25
    029E9 93FA      ST	-Y,R31
    029EA 93EA      ST	-Y,R30
    029EB 940E 2FFA CALL	fpmule1x
    029ED 018A      MOVW	R16,R20
    029EE 019B      MOVW	R18,R22
    029EF 940E 2DFA CALL	fpsub2
    029F1 E482      LDI	R24,0x42
    029F2 E092      LDI	R25,2
    029F3 01FD      MOVW	R30,R26
    029F4 0FE8      ADD	R30,R24
    029F5 1FF9      ADC	R31,R25
    029F6 93FA      ST	-Y,R31
    029F7 93EA      ST	-Y,R30
    029F8 940E 2DD8 CALL	fpadd1x
    029FA 0183      MOVW	R16,R6
    029FB 0194      MOVW	R18,R8
    029FC 940E 3007 CALL	fpmule2x
    029FE 0181      MOVW	R16,R2
    029FF 0192      MOVW	R18,R4
    02A00 940E 2DE5 CALL	fpadd2
    02A02 E586      LDI	R24,0x56
    02A03 E092      LDI	R25,2
    02A04 01FD      MOVW	R30,R26
    02A05 0FE8      ADD	R30,R24
    02A06 1FF9      ADC	R31,R25
    02A07 8300      ST	Z,R16
    02A08 8311      STD	Z+1,R17
    02A09 8322      STD	Z+2,R18
    02A0A 8333      STD	Z+3,R19
(0233)    temps[temp_n].err_last=temps[temp_n].err_next;
    02A0B E404      LDI	R16,0x44
    02A0C E011      LDI	R17,1
    02A0D 0195      MOVW	R18,R10
    02A0E 940E 2CD3 CALL	empy16s
    02A10 0168      MOVW	R12,R16
    02A11 E486      LDI	R24,0x46
    02A12 E092      LDI	R25,2
    02A13 01F6      MOVW	R30,R12
    02A14 0FE8      ADD	R30,R24
    02A15 1FF9      ADC	R31,R25
    02A16 8020      LD	R2,Z
    02A17 8031      LDD	R3,Z+1
    02A18 8042      LDD	R4,Z+2
    02A19 8053      LDD	R5,Z+3
    02A1A E482      LDI	R24,0x42
    02A1B E092      LDI	R25,2
    02A1C 01F6      MOVW	R30,R12
    02A1D 0FE8      ADD	R30,R24
    02A1E 1FF9      ADC	R31,R25
    02A1F 8220      ST	Z,R2
    02A20 8231      STD	Z+1,R3
    02A21 8242      STD	Z+2,R4
    02A22 8253      STD	Z+3,R5
(0234)    temps[temp_n].err_next=temps[temp_n].err;
    02A23 E404      LDI	R16,0x44
    02A24 E011      LDI	R17,1
    02A25 0195      MOVW	R18,R10
    02A26 940E 2CD3 CALL	empy16s
    02A28 0168      MOVW	R12,R16
    02A29 E38E      LDI	R24,0x3E
    02A2A E092      LDI	R25,2
    02A2B 01F6      MOVW	R30,R12
    02A2C 0FE8      ADD	R30,R24
    02A2D 1FF9      ADC	R31,R25
    02A2E 8020      LD	R2,Z
    02A2F 8031      LDD	R3,Z+1
    02A30 8042      LDD	R4,Z+2
    02A31 8053      LDD	R5,Z+3
    02A32 E486      LDI	R24,0x46
    02A33 E092      LDI	R25,2
    02A34 01F6      MOVW	R30,R12
    02A35 0FE8      ADD	R30,R24
    02A36 1FF9      ADC	R31,R25
    02A37 8220      ST	Z,R2
    02A38 8231      STD	Z+1,R3
    02A39 8242      STD	Z+2,R4
    02A3A 8253      STD	Z+3,R5
(0235)    temps[temp_n].incrementtemp=temps[temp_n].incrementtemp/2;
    02A3B E404      LDI	R16,0x44
    02A3C E011      LDI	R17,1
    02A3D 0195      MOVW	R18,R10
    02A3E 940E 2CD3 CALL	empy16s
    02A40 0158      MOVW	R10,R16
    02A41 E586      LDI	R24,0x56
    02A42 E092      LDI	R25,2
    02A43 01F5      MOVW	R30,R10
    02A44 0FE8      ADD	R30,R24
    02A45 1FF9      ADC	R31,R25
    02A46 8020      LD	R2,Z
    02A47 8031      LDD	R3,Z+1
    02A48 8042      LDD	R4,Z+2
    02A49 8053      LDD	R5,Z+3
    02A4A E80C      LDI	R16,0x8C
    02A4B E010      LDI	R17,0
    02A4C 940E 2CBF CALL	elpm32
    02A4E 933A      ST	-Y,R19
    02A4F 932A      ST	-Y,R18
    02A50 931A      ST	-Y,R17
    02A51 930A      ST	-Y,R16
    02A52 0181      MOVW	R16,R2
    02A53 0192      MOVW	R18,R4
    02A54 940E 2E7F CALL	fpdiv2
    02A56 E586      LDI	R24,0x56
    02A57 E092      LDI	R25,2
    02A58 01F5      MOVW	R30,R10
    02A59 0FE8      ADD	R30,R24
    02A5A 1FF9      ADC	R31,R25
    02A5B 8300      ST	Z,R16
    02A5C 8311      STD	Z+1,R17
    02A5D 8322      STD	Z+2,R18
    02A5E 8333      STD	Z+3,R19
    02A5F 940C 2D3E JMP	pop_xgsetF03C
_PI_realize:
  temp_n               --> R10
    02A61 940E 2D00 CALL	push_xgset003C
    02A63 0158      MOVW	R10,R16
(0236) }
(0237) void PI_realize(uint temp_n)
(0238) {
(0239)    temps[temp_n].err=temps[temp_n].p_settemp-temps[temp_n].actualtemp;//这两个都在结构体中
    02A64 E404      LDI	R16,0x44
    02A65 E011      LDI	R17,1
    02A66 0195      MOVW	R18,R10
    02A67 940E 2CD3 CALL	empy16s
    02A69 0128      MOVW	R4,R16
    02A6A E28C      LDI	R24,0x2C
    02A6B E092      LDI	R25,2
    02A6C 01F2      MOVW	R30,R4
    02A6D 0FE8      ADD	R30,R24
    02A6E 1FF9      ADC	R31,R25
    02A6F 8100      LD	R16,Z
    02A70 8111      LDD	R17,Z+1
    02A71 940E 2E52 CALL	uint2fp
    02A73 E38A      LDI	R24,0x3A
    02A74 E092      LDI	R25,2
    02A75 0112      MOVW	R2,R4
    02A76 0E28      ADD	R2,R24
    02A77 1E39      ADC	R3,R25
    02A78 923A      ST	-Y,R3
    02A79 922A      ST	-Y,R2
    02A7A 940E 2DF0 CALL	fpsub1
    02A7C E38E      LDI	R24,0x3E
    02A7D E092      LDI	R25,2
    02A7E 01F2      MOVW	R30,R4
    02A7F 0FE8      ADD	R30,R24
    02A80 1FF9      ADC	R31,R25
    02A81 8300      ST	Z,R16
    02A82 8311      STD	Z+1,R17
    02A83 8322      STD	Z+2,R18
    02A84 8333      STD	Z+3,R19
(0240)    temps[temp_n].incrementtemp=temps[temp_n].p_Kp*(temps[temp_n].err-temps[temp_n].p_err_next)+temps[temp_n].p_Ki*temps[temp_n].err;
    02A85 E404      LDI	R16,0x44
    02A86 E011      LDI	R17,1
    02A87 0195      MOVW	R18,R10
    02A88 940E 2CD3 CALL	empy16s
    02A8A 01D8      MOVW	R26,R16
    02A8B E380      LDI	R24,0x30
    02A8C E092      LDI	R25,2
    02A8D 01FD      MOVW	R30,R26
    02A8E 0FE8      ADD	R30,R24
    02A8F 1FF9      ADC	R31,R25
    02A90 8100      LD	R16,Z
    02A91 8111      LDD	R17,Z+1
    02A92 940E 2E52 CALL	uint2fp
    02A94 0118      MOVW	R2,R16
    02A95 0129      MOVW	R4,R18
    02A96 E38E      LDI	R24,0x3E
    02A97 E092      LDI	R25,2
    02A98 01FD      MOVW	R30,R26
    02A99 0FE8      ADD	R30,R24
    02A9A 1FF9      ADC	R31,R25
    02A9B 8060      LD	R6,Z
    02A9C 8071      LDD	R7,Z+1
    02A9D 8082      LDD	R8,Z+2
    02A9E 8093      LDD	R9,Z+3
    02A9F E28E      LDI	R24,0x2E
    02AA0 E092      LDI	R25,2
    02AA1 01FD      MOVW	R30,R26
    02AA2 0FE8      ADD	R30,R24
    02AA3 1FF9      ADC	R31,R25
    02AA4 8100      LD	R16,Z
    02AA5 8111      LDD	R17,Z+1
    02AA6 940E 2E52 CALL	uint2fp
    02AA8 933A      ST	-Y,R19
    02AA9 932A      ST	-Y,R18
    02AAA 931A      ST	-Y,R17
    02AAB 930A      ST	-Y,R16
    02AAC 0183      MOVW	R16,R6
    02AAD 0194      MOVW	R18,R8
    02AAE 940E 2E12 CALL	fpsub2x
    02AB0 0181      MOVW	R16,R2
    02AB1 0192      MOVW	R18,R4
    02AB2 940E 2FEF CALL	fpmule2
    02AB4 0118      MOVW	R2,R16
    02AB5 0129      MOVW	R4,R18
    02AB6 E382      LDI	R24,0x32
    02AB7 E092      LDI	R25,2
    02AB8 01FD      MOVW	R30,R26
    02AB9 0FE8      ADD	R30,R24
    02ABA 1FF9      ADC	R31,R25
    02ABB 8100      LD	R16,Z
    02ABC 8111      LDD	R17,Z+1
    02ABD 940E 2E52 CALL	uint2fp
    02ABF E38E      LDI	R24,0x3E
    02AC0 E092      LDI	R25,2
    02AC1 013D      MOVW	R6,R26
    02AC2 0E68      ADD	R6,R24
    02AC3 1E79      ADC	R7,R25
    02AC4 927A      ST	-Y,R7
    02AC5 926A      ST	-Y,R6
    02AC6 940E 2FFA CALL	fpmule1x
    02AC8 0181      MOVW	R16,R2
    02AC9 0192      MOVW	R18,R4
    02ACA 940E 2DE5 CALL	fpadd2
    02ACC E586      LDI	R24,0x56
    02ACD E092      LDI	R25,2
    02ACE 01FD      MOVW	R30,R26
    02ACF 0FE8      ADD	R30,R24
    02AD0 1FF9      ADC	R31,R25
    02AD1 8300      ST	Z,R16
    02AD2 8311      STD	Z+1,R17
    02AD3 8322      STD	Z+2,R18
    02AD4 8333      STD	Z+3,R19
(0241)    temps[temp_n].p_err_last=temps[temp_n].p_err_next;
    02AD5 E404      LDI	R16,0x44
    02AD6 E011      LDI	R17,1
    02AD7 0195      MOVW	R18,R10
    02AD8 940E 2CD3 CALL	empy16s
    02ADA 0168      MOVW	R12,R16
    02ADB E28E      LDI	R24,0x2E
    02ADC E092      LDI	R25,2
    02ADD 01F6      MOVW	R30,R12
    02ADE 0FE8      ADD	R30,R24
    02ADF 1FF9      ADC	R31,R25
    02AE0 8020      LD	R2,Z
    02AE1 8031      LDD	R3,Z+1
    02AE2 E384      LDI	R24,0x34
    02AE3 E092      LDI	R25,2
    02AE4 01F6      MOVW	R30,R12
    02AE5 0FE8      ADD	R30,R24
    02AE6 1FF9      ADC	R31,R25
    02AE7 8231      STD	Z+1,R3
    02AE8 8220      ST	Z,R2
(0242)    temps[temp_n].p_err_next=temps[temp_n].err;
    02AE9 E404      LDI	R16,0x44
    02AEA E011      LDI	R17,1
    02AEB 0195      MOVW	R18,R10
    02AEC 940E 2CD3 CALL	empy16s
    02AEE 0168      MOVW	R12,R16
    02AEF E38E      LDI	R24,0x3E
    02AF0 E092      LDI	R25,2
    02AF1 01F6      MOVW	R30,R12
    02AF2 0FE8      ADD	R30,R24
    02AF3 1FF9      ADC	R31,R25
    02AF4 8100      LD	R16,Z
    02AF5 8111      LDD	R17,Z+1
    02AF6 8122      LDD	R18,Z+2
    02AF7 8133      LDD	R19,Z+3
    02AF8 940E 2E20 CALL	fpint
    02AFA E28E      LDI	R24,0x2E
    02AFB E092      LDI	R25,2
    02AFC 01F6      MOVW	R30,R12
    02AFD 0FE8      ADD	R30,R24
    02AFE 1FF9      ADC	R31,R25
    02AFF 8311      STD	Z+1,R17
    02B00 8300      ST	Z,R16
(0243)    temps[temp_n].incrementtemp=temps[temp_n].incrementtemp/2;
    02B01 E404      LDI	R16,0x44
    02B02 E011      LDI	R17,1
    02B03 0195      MOVW	R18,R10
    02B04 940E 2CD3 CALL	empy16s
    02B06 0158      MOVW	R10,R16
    02B07 E586      LDI	R24,0x56
    02B08 E092      LDI	R25,2
    02B09 01F5      MOVW	R30,R10
    02B0A 0FE8      ADD	R30,R24
    02B0B 1FF9      ADC	R31,R25
    02B0C 8020      LD	R2,Z
    02B0D 8031      LDD	R3,Z+1
    02B0E 8042      LDD	R4,Z+2
    02B0F 8053      LDD	R5,Z+3
    02B10 E80C      LDI	R16,0x8C
    02B11 E010      LDI	R17,0
    02B12 940E 2CBF CALL	elpm32
    02B14 933A      ST	-Y,R19
    02B15 932A      ST	-Y,R18
    02B16 931A      ST	-Y,R17
    02B17 930A      ST	-Y,R16
    02B18 0181      MOVW	R16,R2
    02B19 0192      MOVW	R18,R4
    02B1A 940E 2E7F CALL	fpdiv2
    02B1C E586      LDI	R24,0x56
    02B1D E092      LDI	R25,2
    02B1E 01F5      MOVW	R30,R10
    02B1F 0FE8      ADD	R30,R24
    02B20 1FF9      ADC	R31,R25
    02B21 8300      ST	Z,R16
    02B22 8311      STD	Z+1,R17
    02B23 8322      STD	Z+2,R18
    02B24 8333      STD	Z+3,R19
    02B25 940C 2CE3 JMP	pop_xgset003C
FILE: E:\ICCDemo\Temp_Control\temp_control\time1307.c
(0001) #include<iom128v.h>
(0002) #include "time1307.h"
(0003) #include "delay.h"
(0004) #include "lcd.h"
(0005) #include "main.h"
(0006) //寄存器宏定义
(0007) #define SECOND 0x00
(0008) #define MINUTE 0x01 
(0009) #define HOUR 0x02
(0010) #define DAY 0x04
(0011) #define MONTH 0x05 
(0012) #define WEEK 0x03
(0013) #define YEAE 0x06
(0014) #define CIBTPOL 0x07 
(0015) #define  WRITEDS1307    0xD0
(0016) #define     READDS1307    0xD1
(0017) 
(0018) 
(0019) #define  SCL_H  PORTD|=1<<PD0 //
(0020) #define  SCL_L  PORTD&=~(1<<PD0) //
(0021) #define  SDA_H   PORTD|=1<<PD1 //
(0022) #define  SDA_L  PORTD&=~(1<<PD1)  //
(0023) /* unsigned char set_rtc_code[7];
(0024) unsigned char rtc_address[7]={0x00,0x01,0x02,0x03,0x04,0x05,0x06};
(0025) unsigned char read_rtc_code[7];
(0026) unsigned char wr_j1j3_code[7];
(0027) unsigned char jk[7]={0,0,0,2,0,0,9};//设置时钟初始值*/
(0028) 
(0029) unsigned  char BP;
(0030) 
(0031) 
(0032) void I2C_start(void){//启动IIC总线
(0033)    SDA_H;
_I2C_start:
    02B27 9A91      SBI	0x12,1
(0034)    SCL_H;
    02B28 9A90      SBI	0x12,0
(0035)    delay_us(8);
    02B29 E008      LDI	R16,0x8
    02B2A E010      LDI	R17,0
    02B2B 940E 043E CALL	_delay_us
(0036)    SDA_L;
    02B2D 9891      CBI	0x12,1
(0037)    delay_us(8);
    02B2E E008      LDI	R16,0x8
    02B2F E010      LDI	R17,0
    02B30 940E 043E CALL	_delay_us
(0038)    SCL_L;
    02B32 9890      CBI	0x12,0
    02B33 9508      RET
(0039)    
(0040) }
(0041) void I2C_stop(void){//启动IIC总线
(0042)    SDA_L;
_I2C_stop:
    02B34 9891      CBI	0x12,1
(0043)    SCL_H;
    02B35 9A90      SBI	0x12,0
(0044)    delay_us(8);
    02B36 E008      LDI	R16,0x8
    02B37 E010      LDI	R17,0
    02B38 940E 043E CALL	_delay_us
(0045)    SDA_H;
    02B3A 9A91      SBI	0x12,1
(0046)    delay_us(8);
    02B3B E008      LDI	R16,0x8
    02B3C E010      LDI	R17,0
    02B3D 940E 043E CALL	_delay_us
(0047)    SCL_L;
    02B3F 9890      CBI	0x12,0
    02B40 9508      RET
(0048)    
(0049) }
(0050) void I2C_send_ack(void){//应答ack
(0051)   SDA_L;
_I2C_send_ack:
    02B41 9891      CBI	0x12,1
(0052)   SCL_H;
    02B42 9A90      SBI	0x12,0
(0053)   delay_us(8);
    02B43 E008      LDI	R16,0x8
    02B44 E010      LDI	R17,0
    02B45 940E 043E CALL	_delay_us
(0054)   SCL_L;
    02B47 9890      CBI	0x12,0
    02B48 9508      RET
(0055) } 
(0056) void I2C_send_noack(void){
(0057)   SDA_H;
_I2C_send_noack:
    02B49 9A91      SBI	0x12,1
(0058)   SCL_H;
    02B4A 9A90      SBI	0x12,0
(0059)    delay_us(8);
    02B4B E008      LDI	R16,0x8
    02B4C E010      LDI	R17,0
    02B4D 940E 043E CALL	_delay_us
(0060)    SCL_L;
    02B4F 9890      CBI	0x12,0
    02B50 9508      RET
_I2C_write_byte:
  i                    --> R20
  IIC_data             --> R10
    02B51 92AA      ST	-Y,R10
    02B52 934A      ST	-Y,R20
    02B53 2EA0      MOV	R10,R16
(0061) }
(0062) void I2C_write_byte(unsigned char IIC_data){
(0063)    unsigned char i;
(0064)   // BP=0;
(0065)    for(i=0;i<8;i++){//循环输出数据
    02B54 2744      CLR	R20
    02B55 C016      RJMP	0x2B6C
(0066)       SCL_L;
    02B56 9890      CBI	0x12,0
(0067) 	   if(((IIC_data<<i)&0x80)){
    02B57 2D0A      MOV	R16,R10
    02B58 2F14      MOV	R17,R20
    02B59 940E 2D50 CALL	lsl8
    02B5B 2F80      MOV	R24,R16
    02B5C 7880      ANDI	R24,0x80
    02B5D F011      BEQ	0x2B60
(0068) 	      SDA_H;
    02B5E 9A91      SBI	0x12,1
(0069) 	   }else{
    02B5F C001      RJMP	0x2B61
(0070) 	   	  SDA_L;
    02B60 9891      CBI	0x12,1
(0071) 	   }
(0072) 	   delay_us(4);
    02B61 E004      LDI	R16,4
    02B62 E010      LDI	R17,0
    02B63 940E 043E CALL	_delay_us
(0073) 	   SCL_H;
    02B65 9A90      SBI	0x12,0
(0074) 	   delay_us(4);
    02B66 E004      LDI	R16,4
    02B67 E010      LDI	R17,0
    02B68 940E 043E CALL	_delay_us
(0075) 	   SCL_L;
    02B6A 9890      CBI	0x12,0
    02B6B 9543      INC	R20
    02B6C 3048      CPI	R20,0x8
    02B6D F340      BCS	0x2B56
(0076)    }
(0077)    //读取ACK
(0078)    delay_us(4);
    02B6E E004      LDI	R16,4
    02B6F E010      LDI	R17,0
    02B70 940E 043E CALL	_delay_us
(0079)    DDRD &=~(0x02);//发送完，等待输入信号
    02B72 9889      CBI	0x11,1
(0080)    delay_us(4);
    02B73 E004      LDI	R16,4
    02B74 E010      LDI	R17,0
    02B75 940E 043E CALL	_delay_us
(0081)    if((PIND&(1<<PD1))){
    02B77 9B81      SBIS	0x10,1
    02B78 C000      RJMP	0x2B79
(0082)     //正常
(0083)    }//读取，如果发送的是noack，
(0084)    SCL_H;
    02B79 9A90      SBI	0x12,0
(0085)    delay_us(4);
    02B7A E004      LDI	R16,4
    02B7B E010      LDI	R17,0
    02B7C 940E 043E CALL	_delay_us
(0086)    SCL_L;
    02B7E 9890      CBI	0x12,0
(0087)    DDRD |=0x02;
    02B7F 9A89      SBI	0x11,1
    02B80 9149      LD	R20,Y+
    02B81 90A9      LD	R10,Y+
    02B82 9508      RET
_I2C_read_byte:
  i                    --> R20
  dat                  --> R10
    02B83 92AA      ST	-Y,R10
    02B84 934A      ST	-Y,R20
(0088) }
(0089) unsigned char I2C_read_byte(void){
(0090)   unsigned char i,dat;
(0091)   DDRD &=~(0x02);
    02B85 9889      CBI	0x11,1
(0092)   dat=0;
    02B86 24AA      CLR	R10
(0093)   for (i=0;i<8;i++)
    02B87 2744      CLR	R20
    02B88 C00B      RJMP	0x2B94
(0094)     {
(0095)       dat=dat<<1;
    02B89 0CAA      LSL	R10
(0096)       SCL_H;
    02B8A 9A90      SBI	0x12,0
(0097)       delay_us(4);
    02B8B E004      LDI	R16,4
    02B8C E010      LDI	R17,0
    02B8D 940E 043E CALL	_delay_us
(0098)      if((PIND&(1<<PD1)))
    02B8F 9B81      SBIS	0x10,1
    02B90 C001      RJMP	0x2B92
(0099)      {
(0100)        dat++;
    02B91 94A3      INC	R10
(0101) 	  // PORTE=~PORTE;
(0102)      }
(0103)        SCL_L;  
    02B92 9890      CBI	0x12,0
    02B93 9543      INC	R20
    02B94 3048      CPI	R20,0x8
    02B95 F398      BCS	0x2B89
(0104)     }  
(0105)   DDRD |=0x02;
    02B96 9A89      SBI	0x11,1
(0106)   return dat;
    02B97 2D0A      MOV	R16,R10
    02B98 9149      LD	R20,Y+
    02B99 90A9      LD	R10,Y+
    02B9A 9508      RET
_Write1307:
  dat                  --> R10
  add                  --> R12
    02B9B 92AA      ST	-Y,R10
    02B9C 92CA      ST	-Y,R12
    02B9D 2EA2      MOV	R10,R18
    02B9E 2EC0      MOV	R12,R16
(0107) }
(0108) /***********************************************************************/
(0109) /******************************** DS1307 写数据  ****************/
(0110) void Write1307(unsigned char add,unsigned char dat)
(0111) {
(0112)   I2C_start();
    02B9F DF87      RCALL	_I2C_start
(0113)   I2C_write_byte(WRITEDS1307);
    02BA0 ED00      LDI	R16,0xD0
    02BA1 DFAF      RCALL	_I2C_write_byte
(0114)   I2C_write_byte(add);
    02BA2 2D0C      MOV	R16,R12
    02BA3 DFAD      RCALL	_I2C_write_byte
(0115)   I2C_write_byte(dat);
    02BA4 2D0A      MOV	R16,R10
    02BA5 DFAB      RCALL	_I2C_write_byte
(0116)   I2C_stop();
    02BA6 DF8D      RCALL	_I2C_stop
    02BA7 90C9      LD	R12,Y+
    02BA8 90A9      LD	R10,Y+
    02BA9 9508      RET
_Read1307:
  dat                  --> R10
  add                  --> R10
    02BAA 92AA      ST	-Y,R10
    02BAB 92BA      ST	-Y,R11
    02BAC 2EA0      MOV	R10,R16
(0117) }
(0118) /***********************************************************************/
(0119) unsigned int Read1307(unsigned char add)
(0120) {
(0121)   
(0122)   unsigned int dat;
(0123)   I2C_start();
    02BAD DF79      RCALL	_I2C_start
(0124)   I2C_write_byte(WRITEDS1307);
    02BAE ED00      LDI	R16,0xD0
    02BAF DFA1      RCALL	_I2C_write_byte
(0125)   I2C_write_byte(add);
    02BB0 2D0A      MOV	R16,R10
    02BB1 DF9F      RCALL	_I2C_write_byte
(0126)   I2C_start();
    02BB2 DF74      RCALL	_I2C_start
(0127)   I2C_write_byte(READDS1307);
    02BB3 ED01      LDI	R16,0xD1
    02BB4 DF9C      RCALL	_I2C_write_byte
(0128)   dat=I2C_read_byte(); 
    02BB5 DFCD      RCALL	_I2C_read_byte
    02BB6 2EA0      MOV	R10,R16
    02BB7 24BB      CLR	R11
(0129)   I2C_send_noack();
    02BB8 DF90      RCALL	_I2C_send_noack
(0130)   I2C_stop();      
    02BB9 DF7A      RCALL	_I2C_stop
(0131)   return (dat);
    02BBA 0185      MOVW	R16,R10
    02BBB 90B9      LD	R11,Y+
    02BBC 90A9      LD	R10,Y+
    02BBD 9508      RET
_setTime:
  second               --> R10
  minute               --> R22
  hour                 --> R20
  day                  --> R14
  month                --> R12
  year                 --> Y,+10
    02BBE 940E 2C79 CALL	push_arg4
    02BC0 940E 2CFA CALL	push_xgsetF0FC
    02BC2 0169      MOVW	R12,R18
    02BC3 84EE      LDD	R14,Y+14
    02BC4 84FF      LDD	R15,Y+15
    02BC5 8948      LDD	R20,Y+16
    02BC6 8959      LDD	R21,Y+17
    02BC7 896A      LDD	R22,Y+18
    02BC8 897B      LDD	R23,Y+19
    02BC9 88AC      LDD	R10,Y+20
    02BCA 88BD      LDD	R11,Y+21
(0132)  }
(0133) //年、月、日、星期、时、分、秒。星期没有写入
(0134) void setTime(uint year,uint month,uint day,uint hour,uint minute,uint second){
(0135)    Write1307(0x00,second);//
    02BCB 2D2A      MOV	R18,R10
    02BCC 2700      CLR	R16
    02BCD DFCD      RCALL	_Write1307
(0136)    Write1307(0x01,minute);//
    02BCE 2F26      MOV	R18,R22
    02BCF E001      LDI	R16,1
    02BD0 DFCA      RCALL	_Write1307
(0137)    Write1307(0x02,hour);//
    02BD1 2F24      MOV	R18,R20
    02BD2 E002      LDI	R16,2
    02BD3 DFC7      RCALL	_Write1307
(0138)    //Write1307(0x03,0X01);//
(0139)    Write1307(0x04,day);//
    02BD4 2D2E      MOV	R18,R14
    02BD5 E004      LDI	R16,4
    02BD6 DFC4      RCALL	_Write1307
(0140)    Write1307(0x05,month);//
    02BD7 2D2C      MOV	R18,R12
    02BD8 E005      LDI	R16,5
    02BD9 DFC1      RCALL	_Write1307
(0141)    Write1307(0x06,year);
    02BDA 852A      LDD	R18,Y+10
    02BDB 853B      LDD	R19,Y+11
    02BDC E006      LDI	R16,6
    02BDD DFBD      RCALL	_Write1307
    02BDE 940E 2CEF CALL	pop_xgsetF0FC
    02BE0 9624      ADIW	R28,4
    02BE1 9508      RET
(0142) }
(0143) void Initial_time(void){//初始化输出、方波、中断
(0144)    DDRD|=0x07;
_Initial_time:
    02BE2 B381      IN	R24,0x11
    02BE3 6087      ORI	R24,7
    02BE4 BB81      OUT	0x11,R24
(0145)    PORTD=0x00;
    02BE5 2422      CLR	R2
    02BE6 BA22      OUT	0x12,R2
(0146)   /* Write1307(0x00,0X00);//
(0147)    Write1307(0x01,0X00);//
(0148)    Write1307(0x02,0X12);//
(0149)    Write1307(0x03,0X01);//
(0150)    Write1307(0x04,0X21);//
(0151)    Write1307(0x05,0X05);//
(0152)    Write1307(0x06,0X15);//*/
(0153)     Write1307(0x07,0x10);
    02BE7 E120      LDI	R18,0x10
    02BE8 E007      LDI	R16,7
    02BE9 DFB1      RCALL	_Write1307
(0154)    
(0155)    EIMSK |= 0x04;//开中断2
    02BEA B789      IN	R24,0x39
    02BEB 6084      ORI	R24,4
    02BEC BF89      OUT	0x39,R24
(0156)    EICRA |=0x30;
    02BED 9180 006A LDS	R24,0x6A
    02BEF 6380      ORI	R24,0x30
    02BF0 9380 006A STS	0x6A,R24
    02BF2 9508      RET
_showTime_page:
  time_cacah           --> R20
  y                    --> R10
    02BF3 940E 2D27 CALL	push_xgset303C
    02BF5 0158      MOVW	R10,R16
(0157)    
(0158) }
(0159) //显示时间，年月日时分秒，用于page调用。没有改变AC，会接着写
(0160) void showTime_page(uint y){
(0161)    //PORTE=~Read1302(0x81);
(0162)    uchar time_cacah;
(0163)  //年
(0164)     time_cacah=Read1307(0x06);
    02BF6 E006      LDI	R16,6
    02BF7 DFB2      RCALL	_Read1307
    02BF8 2F40      MOV	R20,R16
(0165)     lcd_write_str_con(y, "20");
    02BF9 E926      LDI	R18,0x96
    02BFA E038      LDI	R19,0x8
    02BFB 2D0A      MOV	R16,R10
    02BFC 940E 06E3 CALL	_lcd_write_str_con
(0166)     lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x0F));
    02BFE 2F24      MOV	R18,R20
    02BFF 9522      SWAP	R18
    02C00 702F      ANDI	R18,0xF
    02C01 702F      ANDI	R18,0xF
    02C02 6320      ORI	R18,0x30
    02C03 2D0A      MOV	R16,R10
    02C04 940E 0641 CALL	_lcd_write_char_con
(0167)     lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    02C06 2F24      MOV	R18,R20
    02C07 702F      ANDI	R18,0xF
    02C08 6320      ORI	R18,0x30
    02C09 2D0A      MOV	R16,R10
    02C0A 940E 0641 CALL	_lcd_write_char_con
(0168) 	lcd_write_char_con(y,'-');
    02C0C E22D      LDI	R18,0x2D
    02C0D 2D0A      MOV	R16,R10
    02C0E 940E 0641 CALL	_lcd_write_char_con
(0169) 	 //月
(0170) 	 time_cacah=Read1307(0x05);
    02C10 E005      LDI	R16,5
    02C11 DF98      RCALL	_Read1307
    02C12 2F40      MOV	R20,R16
(0171) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x01));
    02C13 2F24      MOV	R18,R20
    02C14 9522      SWAP	R18
    02C15 702F      ANDI	R18,0xF
    02C16 7021      ANDI	R18,1
    02C17 6320      ORI	R18,0x30
    02C18 2D0A      MOV	R16,R10
    02C19 940E 0641 CALL	_lcd_write_char_con
(0172)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    02C1B 2F24      MOV	R18,R20
    02C1C 702F      ANDI	R18,0xF
    02C1D 6320      ORI	R18,0x30
    02C1E 2D0A      MOV	R16,R10
    02C1F 940E 0641 CALL	_lcd_write_char_con
(0173) 	 lcd_write_char_con(y,'-');
    02C21 E22D      LDI	R18,0x2D
    02C22 2D0A      MOV	R16,R10
    02C23 940E 0641 CALL	_lcd_write_char_con
(0174) 	 //日
(0175) 	 time_cacah=Read1307(0x04);
    02C25 E004      LDI	R16,4
    02C26 DF83      RCALL	_Read1307
    02C27 0168      MOVW	R12,R16
    02C28 2D4C      MOV	R20,R12
(0176) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    02C29 2F24      MOV	R18,R20
    02C2A 9522      SWAP	R18
    02C2B 702F      ANDI	R18,0xF
    02C2C 7023      ANDI	R18,3
    02C2D 6320      ORI	R18,0x30
    02C2E 2D0A      MOV	R16,R10
    02C2F 940E 0641 CALL	_lcd_write_char_con
(0177)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    02C31 2F24      MOV	R18,R20
    02C32 702F      ANDI	R18,0xF
    02C33 6320      ORI	R18,0x30
    02C34 2D0A      MOV	R16,R10
    02C35 940E 0641 CALL	_lcd_write_char_con
(0178) 	 lcd_write_char_con(y,' ');
    02C37 E220      LDI	R18,0x20
    02C38 2D0A      MOV	R16,R10
    02C39 940E 0641 CALL	_lcd_write_char_con
(0179) 	//时
(0180) 	time_cacah=Read1307(0x02);
    02C3B E002      LDI	R16,2
    02C3C DF6D      RCALL	_Read1307
    02C3D 0168      MOVW	R12,R16
    02C3E 2D4C      MOV	R20,R12
(0181) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    02C3F 2F24      MOV	R18,R20
    02C40 9522      SWAP	R18
    02C41 702F      ANDI	R18,0xF
    02C42 7023      ANDI	R18,3
    02C43 6320      ORI	R18,0x30
    02C44 2D0A      MOV	R16,R10
    02C45 940E 0641 CALL	_lcd_write_char_con
(0182) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    02C47 2F24      MOV	R18,R20
    02C48 702F      ANDI	R18,0xF
    02C49 6320      ORI	R18,0x30
    02C4A 2D0A      MOV	R16,R10
    02C4B 940E 0641 CALL	_lcd_write_char_con
(0183) 	 lcd_write_char_con(y,':');
    02C4D E32A      LDI	R18,0x3A
    02C4E 2D0A      MOV	R16,R10
    02C4F 940E 0641 CALL	_lcd_write_char_con
(0184) 	//分
(0185) 	time_cacah=Read1307(0x01);
    02C51 E001      LDI	R16,1
    02C52 DF57      RCALL	_Read1307
    02C53 0168      MOVW	R12,R16
    02C54 2D4C      MOV	R20,R12
(0186) 	 lcd_write_char_con(y, 0x30|time_cacah>>4);
    02C55 2F24      MOV	R18,R20
    02C56 9522      SWAP	R18
    02C57 702F      ANDI	R18,0xF
    02C58 6320      ORI	R18,0x30
    02C59 2D0A      MOV	R16,R10
    02C5A 940E 0641 CALL	_lcd_write_char_con
(0187) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F));
    02C5C 2F24      MOV	R18,R20
    02C5D 702F      ANDI	R18,0xF
    02C5E 6320      ORI	R18,0x30
    02C5F 2D0A      MOV	R16,R10
    02C60 940E 0641 CALL	_lcd_write_char_con
(0188) 	 lcd_write_char_con(y,':');
    02C62 E32A      LDI	R18,0x3A
    02C63 2D0A      MOV	R16,R10
    02C64 940E 0641 CALL	_lcd_write_char_con
(0189) 	//秒
(0190) 	time_cacah=Read1307(0x00);
    02C66 2700      CLR	R16
    02C67 DF42      RCALL	_Read1307
    02C68 0168      MOVW	R12,R16
    02C69 2D4C      MOV	R20,R12
(0191) 	 lcd_write_char_con(y, 0x30|(time_cacah>>4));
    02C6A 2F24      MOV	R18,R20
    02C6B 9522      SWAP	R18
    02C6C 702F      ANDI	R18,0xF
    02C6D 6320      ORI	R18,0x30
    02C6E 2D0A      MOV	R16,R10
    02C6F 940E 0641 CALL	_lcd_write_char_con
(0192) 	 lcd_write_char_con(y,0x30|(time_cacah &0x0F));
FILE: <library>
    02C71 2F24      MOV	R18,R20
    02C72 702F      ANDI	R18,0xF
    02C73 6320      ORI	R18,0x30
    02C74 2D0A      MOV	R16,R10
    02C75 940E 0641 CALL	_lcd_write_char_con
    02C77 940C 2D2E JMP	pop_xgset303C
push_arg4:
    02C79 933A      ST	-Y,R19
    02C7A 932A      ST	-Y,R18
push_arg2:
    02C7B 931A      ST	-Y,R17
    02C7C 930A      ST	-Y,R16
    02C7D 9508      RET
asr16:
    02C7E 2322      TST	R18
    02C7F F021      BEQ	0x2C84
    02C80 9515      ASR	R17
    02C81 9507      ROR	R16
    02C82 952A      DEC	R18
    02C83 CFFA      RJMP	asr16
    02C84 9508      RET
mod16s:
    02C85 9468      BSET	6
    02C86 92DA      ST	-Y,R13
    02C87 2ED1      MOV	R13,R17
    02C88 C004      RJMP	0x2C8D
div16s:
    02C89 94E8      BCLR	6
    02C8A 92DA      ST	-Y,R13
    02C8B 2ED1      MOV	R13,R17
    02C8C 26D3      EOR	R13,R19
    02C8D FF17      SBRS	R17,7
    02C8E C004      RJMP	0x2C93
    02C8F 9510      COM	R17
    02C90 9500      COM	R16
    02C91 5F0F      SUBI	R16,0xFF
    02C92 4F1F      SBCI	R17,0xFF
    02C93 FF37      SBRS	R19,7
    02C94 C004      RJMP	0x2C99
    02C95 9530      COM	R19
    02C96 9520      COM	R18
    02C97 5F2F      SUBI	R18,0xFF
    02C98 4F3F      SBCI	R19,0xFF
    02C99 940E 2CA6 CALL	xdiv16u
    02C9B FED7      SBRS	R13,7
    02C9C C004      RJMP	0x2CA1
    02C9D 9510      COM	R17
    02C9E 9500      COM	R16
    02C9F 5F0F      SUBI	R16,0xFF
    02CA0 4F1F      SBCI	R17,0xFF
    02CA1 90D9      LD	R13,Y+
    02CA2 9508      RET
mod16u:
    02CA3 9468      BSET	6
    02CA4 C001      RJMP	xdiv16u
div16u:
    02CA5 94E8      BCLR	6
xdiv16u:
    02CA6 92EA      ST	-Y,R14
    02CA7 92FA      ST	-Y,R15
    02CA8 938A      ST	-Y,R24
    02CA9 24EE      CLR	R14
    02CAA 24FF      CLR	R15
    02CAB E180      LDI	R24,0x10
    02CAC 0F00      LSL	R16
    02CAD 1F11      ROL	R17
    02CAE 1CEE      ROL	R14
    02CAF 1CFF      ROL	R15
    02CB0 16E2      CP	R14,R18
    02CB1 06F3      CPC	R15,R19
    02CB2 F018      BCS	0x2CB6
    02CB3 1AE2      SUB	R14,R18
    02CB4 0AF3      SBC	R15,R19
    02CB5 9503      INC	R16
    02CB6 958A      DEC	R24
    02CB7 F7A1      BNE	0x2CAC
    02CB8 F416      BRTC	0x2CBB
    02CB9 2D0E      MOV	R16,R14
    02CBA 2D1F      MOV	R17,R15
    02CBB 9189      LD	R24,Y+
    02CBC 90F9      LD	R15,Y+
    02CBD 90E9      LD	R14,Y+
    02CBE 9508      RET
elpm32:
    02CBF 93EA      ST	-Y,R30
    02CC0 93FA      ST	-Y,R31
    02CC1 920A      ST	-Y,R0
    02CC2 2FE0      MOV	R30,R16
    02CC3 2FF1      MOV	R31,R17
    02CC4 95D8      ELPM
    02CC5 2D00      MOV	R16,R0
    02CC6 9631      ADIW	R30,1
    02CC7 95D8      ELPM
    02CC8 2D10      MOV	R17,R0
    02CC9 9631      ADIW	R30,1
    02CCA 95D8      ELPM
    02CCB 2D20      MOV	R18,R0
    02CCC 9631      ADIW	R30,1
    02CCD 95D8      ELPM
    02CCE 2D30      MOV	R19,R0
    02CCF 9009      LD	R0,Y+
    02CD0 91F9      LD	R31,Y+
    02CD1 91E9      LD	R30,Y+
    02CD2 9508      RET
empy16s:
    02CD3 920A      ST	-Y,R0
    02CD4 921A      ST	-Y,R1
    02CD5 938A      ST	-Y,R24
    02CD6 939A      ST	-Y,R25
    02CD7 9F02      MUL	R16,R18
    02CD8 01C0      MOVW	R24,R0
    02CD9 9F12      MUL	R17,R18
    02CDA 0D90      ADD	R25,R0
    02CDB 9F03      MUL	R16,R19
    02CDC 0D90      ADD	R25,R0
    02CDD 018C      MOVW	R16,R24
    02CDE 9199      LD	R25,Y+
    02CDF 9189      LD	R24,Y+
    02CE0 9019      LD	R1,Y+
    02CE1 9009      LD	R0,Y+
    02CE2 9508      RET
pop_xgset003C:
    02CE3 90A9      LD	R10,Y+
    02CE4 90B9      LD	R11,Y+
    02CE5 90C9      LD	R12,Y+
    02CE6 90D9      LD	R13,Y+
    02CE7 9508      RET
pop_xgset00FC:
    02CE8 90A9      LD	R10,Y+
    02CE9 90B9      LD	R11,Y+
    02CEA 90C9      LD	R12,Y+
    02CEB 90D9      LD	R13,Y+
    02CEC 90E9      LD	R14,Y+
    02CED 90F9      LD	R15,Y+
    02CEE 9508      RET
pop_xgsetF0FC:
    02CEF 90A9      LD	R10,Y+
    02CF0 90B9      LD	R11,Y+
    02CF1 90C9      LD	R12,Y+
    02CF2 90D9      LD	R13,Y+
    02CF3 90E9      LD	R14,Y+
    02CF4 90F9      LD	R15,Y+
    02CF5 9149      LD	R20,Y+
    02CF6 9159      LD	R21,Y+
    02CF7 9169      LD	R22,Y+
    02CF8 9179      LD	R23,Y+
    02CF9 9508      RET
push_xgsetF0FC:
    02CFA 937A      ST	-Y,R23
    02CFB 936A      ST	-Y,R22
push_xgset30FC:
    02CFC 935A      ST	-Y,R21
    02CFD 934A      ST	-Y,R20
push_xgset00FC:
    02CFE 92FA      ST	-Y,R15
    02CFF 92EA      ST	-Y,R14
push_xgset003C:
    02D00 92DA      ST	-Y,R13
    02D01 92CA      ST	-Y,R12
    02D02 92BA      ST	-Y,R11
    02D03 92AA      ST	-Y,R10
    02D04 9508      RET
push_xgset300C:
    02D05 935A      ST	-Y,R21
    02D06 934A      ST	-Y,R20
    02D07 92BA      ST	-Y,R11
    02D08 92AA      ST	-Y,R10
    02D09 9508      RET
pop_xgset300C:
    02D0A 90A9      LD	R10,Y+
    02D0B 90B9      LD	R11,Y+
    02D0C 9149      LD	R20,Y+
    02D0D 9159      LD	R21,Y+
    02D0E 9508      RET
push_xgsetF000:
    02D0F 937A      ST	-Y,R23
    02D10 936A      ST	-Y,R22
    02D11 935A      ST	-Y,R21
    02D12 934A      ST	-Y,R20
    02D13 9508      RET
pop_xgsetF000:
    02D14 9149      LD	R20,Y+
    02D15 9159      LD	R21,Y+
    02D16 9169      LD	R22,Y+
    02D17 9179      LD	R23,Y+
    02D18 9508      RET
push_xgsetF00C:
    02D19 937A      ST	-Y,R23
    02D1A 936A      ST	-Y,R22
    02D1B 935A      ST	-Y,R21
    02D1C 934A      ST	-Y,R20
    02D1D 92BA      ST	-Y,R11
    02D1E 92AA      ST	-Y,R10
    02D1F 9508      RET
pop_xgsetF00C:
    02D20 90A9      LD	R10,Y+
    02D21 90B9      LD	R11,Y+
    02D22 9149      LD	R20,Y+
    02D23 9159      LD	R21,Y+
    02D24 9169      LD	R22,Y+
    02D25 9179      LD	R23,Y+
    02D26 9508      RET
push_xgset303C:
    02D27 935A      ST	-Y,R21
    02D28 934A      ST	-Y,R20
    02D29 92DA      ST	-Y,R13
    02D2A 92CA      ST	-Y,R12
    02D2B 92BA      ST	-Y,R11
    02D2C 92AA      ST	-Y,R10
    02D2D 9508      RET
pop_xgset303C:
    02D2E 90A9      LD	R10,Y+
    02D2F 90B9      LD	R11,Y+
    02D30 90C9      LD	R12,Y+
    02D31 90D9      LD	R13,Y+
    02D32 9149      LD	R20,Y+
    02D33 9159      LD	R21,Y+
    02D34 9508      RET
push_xgsetF03C:
    02D35 937A      ST	-Y,R23
    02D36 936A      ST	-Y,R22
    02D37 935A      ST	-Y,R21
    02D38 934A      ST	-Y,R20
    02D39 92DA      ST	-Y,R13
    02D3A 92CA      ST	-Y,R12
    02D3B 92BA      ST	-Y,R11
    02D3C 92AA      ST	-Y,R10
    02D3D 9508      RET
pop_xgsetF03C:
    02D3E 90A9      LD	R10,Y+
    02D3F 90B9      LD	R11,Y+
    02D40 90C9      LD	R12,Y+
    02D41 90D9      LD	R13,Y+
    02D42 9149      LD	R20,Y+
    02D43 9159      LD	R21,Y+
    02D44 9169      LD	R22,Y+
    02D45 9179      LD	R23,Y+
    02D46 9508      RET
neg32:
    02D47 9500      COM	R16
    02D48 9510      COM	R17
    02D49 9520      COM	R18
    02D4A 9530      COM	R19
    02D4B 5F0F      SUBI	R16,0xFF
    02D4C 4F1F      SBCI	R17,0xFF
    02D4D 4F2F      SBCI	R18,0xFF
    02D4E 4F3F      SBCI	R19,0xFF
    02D4F 9508      RET
lsl8:
    02D50 2311      TST	R17
    02D51 F019      BEQ	0x2D55
    02D52 0F00      LSL	R16
    02D53 951A      DEC	R17
    02D54 CFFB      RJMP	lsl8
    02D55 9508      RET
asgnblk:
    02D56 93AA      ST	-Y,R26
    02D57 93BA      ST	-Y,R27
    02D58 93EA      ST	-Y,R30
    02D59 93FA      ST	-Y,R31
    02D5A 920A      ST	-Y,R0
    02D5B 81AF      LDD	R26,Y+7
    02D5C 85B8      LDD	R27,Y+8
    02D5D 81ED      LDD	R30,Y+5
    02D5E 81FE      LDD	R31,Y+6
    02D5F 3000      CPI	R16,0
    02D60 0701      CPC	R16,R17
    02D61 F029      BEQ	0x2D67
    02D62 9001      LD	R0,Z+
    02D63 920D      ST	X+,R0
    02D64 5001      SUBI	R16,1
    02D65 4010      SBCI	R17,0
    02D66 CFF8      RJMP	0x2D5F
    02D67 9009      LD	R0,Y+
    02D68 91F9      LD	R31,Y+
    02D69 91E9      LD	R30,Y+
    02D6A 91B9      LD	R27,Y+
    02D6B 91A9      LD	R26,Y+
    02D6C 9624      ADIW	R28,4
    02D6D 9508      RET
fpsub:
    02D6E 9468      BSET	6
    02D6F C001      RJMP	fpadd_alt
fpadd:
    02D70 94E8      BCLR	6
fpadd_alt:
    02D71 940E 2F7E CALL	saveFPRegs
    02D73 940E 2F10 CALL	unpacks
    02D75 F409      BNE	0x2D77
    02D76 C048      RJMP	0x2DBF
    02D77 2CE6      MOV	R14,R6
    02D78 2CD5      MOV	R13,R5
    02D79 2CC4      MOV	R12,R4
    02D7A 2EB3      MOV	R11,R19
    02D7B 2EA2      MOV	R10,R18
    02D7C 2E91      MOV	R9,R17
    02D7D 2E80      MOV	R8,R16
    02D7E 8100      LD	R16,Z
    02D7F 8111      LDD	R17,Z+1
    02D80 8122      LDD	R18,Z+2
    02D81 8133      LDD	R19,Z+3
    02D82 940E 2F10 CALL	unpacks
    02D84 F409      BNE	0x2D86
    02D85 C044      RJMP	0x2DCA
    02D86 2D84      MOV	R24,R4
    02D87 2D95      MOV	R25,R5
    02D88 198C      SUB	R24,R12
    02D89 099D      SBC	R25,R13
    02D8A F0B9      BEQ	0x2DA2
    02D8B F472      BPL	0x2D9A
    02D8C 9590      COM	R25
    02D8D 9580      COM	R24
    02D8E 9601      ADIW	R24,1
    02D8F 2C4C      MOV	R4,R12
    02D90 2C5D      MOV	R5,R13
    02D91 3188      CPI	R24,0x18
    02D92 F5B8      BCC	0x2DCA
    02D93 9535      ASR	R19
    02D94 9527      ROR	R18
    02D95 9517      ROR	R17
    02D96 9507      ROR	R16
    02D97 9701      SBIW	R24,1
    02D98 F7D1      BNE	0x2D93
    02D99 C008      RJMP	0x2DA2
    02D9A 3188      CPI	R24,0x18
    02D9B F518      BCC	0x2DBF
    02D9C 94B5      ASR	R11
    02D9D 94A7      ROR	R10
    02D9E 9497      ROR	R9
    02D9F 9487      ROR	R8
    02DA0 9701      SBIW	R24,1
    02DA1 F7D1      BNE	0x2D9C
    02DA2 2466      CLR	R6
    02DA3 F02E      BRTS	0x2DA9
    02DA4 0D08      ADD	R16,R8
    02DA5 1D19      ADC	R17,R9
    02DA6 1D2A      ADC	R18,R10
    02DA7 1D3B      ADC	R19,R11
    02DA8 C009      RJMP	0x2DB2
    02DA9 1A80      SUB	R8,R16
    02DAA 0A91      SBC	R9,R17
    02DAB 0AA2      SBC	R10,R18
    02DAC 0AB3      SBC	R11,R19
    02DAD 2D08      MOV	R16,R8
    02DAE 2D19      MOV	R17,R9
    02DAF 2D2A      MOV	R18,R10
    02DB0 2D3B      MOV	R19,R11
    02DB1 2333      TST	R19
    02DB2 F422      BPL	0x2DB7
    02DB3 940E 2D47 CALL	neg32
    02DB5 E880      LDI	R24,0x80
    02DB6 2E68      MOV	R6,R24
    02DB7 940E 2F39 CALL	normalize_and_pack
    02DB9 C002      RJMP	0x2DBC
    02DBA 940E 2F6E CALL	pack
    02DBC 940E 2F8D CALL	restoreFPRegs
    02DBE 9508      RET
    02DBF 8100      LD	R16,Z
    02DC0 8111      LDD	R17,Z+1
    02DC1 8122      LDD	R18,Z+2
    02DC2 8133      LDD	R19,Z+3
    02DC3 F7C6      BRTC	0x2DBC
    02DC4 940E 2F18 CALL	tstR16_R19
    02DC6 F3A9      BEQ	0x2DBC
    02DC7 E880      LDI	R24,0x80
    02DC8 2738      EOR	R19,R24
    02DC9 CFF2      RJMP	0x2DBC
    02DCA 2D08      MOV	R16,R8
    02DCB 2D19      MOV	R17,R9
    02DCC 2D2A      MOV	R18,R10
    02DCD 2D3B      MOV	R19,R11
    02DCE 2C4C      MOV	R4,R12
    02DCF 2C5D      MOV	R5,R13
    02DD0 2C6E      MOV	R6,R14
    02DD1 2333      TST	R19
    02DD2 F73A      BPL	0x2DBA
    02DD3 940E 2D47 CALL	neg32
    02DD5 E880      LDI	R24,0x80
    02DD6 2E68      MOV	R6,R24
    02DD7 CFE2      RJMP	0x2DBA
fpadd1x:
    02DD8 93FA      ST	-Y,R31
    02DD9 93EA      ST	-Y,R30
    02DDA 81EA      LDD	R30,Y+2
    02DDB 81FB      LDD	R31,Y+3
    02DDC 940E 2D70 CALL	fpadd
    02DDE 91E9      LD	R30,Y+
    02DDF 91F9      LD	R31,Y+
    02DE0 8339      STD	Y+1,R19
    02DE1 8328      ST	Y,R18
    02DE2 931A      ST	-Y,R17
    02DE3 930A      ST	-Y,R16
    02DE4 9508      RET
fpadd2:
    02DE5 93FA      ST	-Y,R31
    02DE6 93EA      ST	-Y,R30
    02DE7 2FEC      MOV	R30,R28
    02DE8 2FFD      MOV	R31,R29
    02DE9 9632      ADIW	R30,2
    02DEA 940E 2D70 CALL	fpadd
    02DEC 91E9      LD	R30,Y+
    02DED 91F9      LD	R31,Y+
    02DEE 9624      ADIW	R28,4
    02DEF 9508      RET
fpsub1:
    02DF0 93FA      ST	-Y,R31
    02DF1 93EA      ST	-Y,R30
    02DF2 81EA      LDD	R30,Y+2
    02DF3 81FB      LDD	R31,Y+3
    02DF4 940E 2D6E CALL	fpsub
    02DF6 91E9      LD	R30,Y+
    02DF7 91F9      LD	R31,Y+
    02DF8 9622      ADIW	R28,2
    02DF9 9508      RET
fpsub2:
    02DFA 93FA      ST	-Y,R31
    02DFB 93EA      ST	-Y,R30
    02DFC 2FEC      MOV	R30,R28
    02DFD 2FFD      MOV	R31,R29
    02DFE 9632      ADIW	R30,2
    02DFF 940E 2D6E CALL	fpsub
    02E01 91E9      LD	R30,Y+
    02E02 91F9      LD	R31,Y+
    02E03 9624      ADIW	R28,4
    02E04 9508      RET
fpsub1x:
    02E05 93FA      ST	-Y,R31
    02E06 93EA      ST	-Y,R30
    02E07 81EA      LDD	R30,Y+2
    02E08 81FB      LDD	R31,Y+3
    02E09 940E 2D6E CALL	fpsub
    02E0B 91E9      LD	R30,Y+
    02E0C 91F9      LD	R31,Y+
    02E0D 8339      STD	Y+1,R19
    02E0E 8328      ST	Y,R18
    02E0F 931A      ST	-Y,R17
    02E10 930A      ST	-Y,R16
    02E11 9508      RET
fpsub2x:
    02E12 93FA      ST	-Y,R31
    02E13 93EA      ST	-Y,R30
    02E14 2FEC      MOV	R30,R28
    02E15 2FFD      MOV	R31,R29
    02E16 9632      ADIW	R30,2
    02E17 940E 2D6E CALL	fpsub
    02E19 91E9      LD	R30,Y+
    02E1A 91F9      LD	R31,Y+
    02E1B 833B      STD	Y+3,R19
    02E1C 832A      STD	Y+2,R18
    02E1D 8319      STD	Y+1,R17
    02E1E 8308      ST	Y,R16
    02E1F 9508      RET
fpint:
    02E20 924A      ST	-Y,R4
    02E21 925A      ST	-Y,R5
    02E22 926A      ST	-Y,R6
    02E23 938A      ST	-Y,R24
    02E24 940E 2F20 CALL	unpacku
    02E26 F111      BEQ	0x2E49
    02E27 2055      TST	R5
    02E28 F0E2      BMI	0x2E45
    02E29 E18F      LDI	R24,0x1F
    02E2A 1648      CP	R4,R24
    02E2B F4C0      BCC	0x2E44
    02E2C E187      LDI	R24,0x17
    02E2D 1648      CP	R4,R24
    02E2E F0D1      BEQ	0x2E49
    02E2F F458      BCC	0x2E3B
    02E30 9441      NEG	R4
    02E31 EE89      LDI	R24,0xE9
    02E32 1A48      SUB	R4,R24
    02E33 C005      RJMP	0x2E39
    02E34 9535      ASR	R19
    02E35 9527      ROR	R18
    02E36 9517      ROR	R17
    02E37 9507      ROR	R16
    02E38 944A      DEC	R4
    02E39 F7D1      BNE	0x2E34
    02E3A C00E      RJMP	0x2E49
    02E3B E187      LDI	R24,0x17
    02E3C 1A48      SUB	R4,R24
    02E3D 0F00      LSL	R16
    02E3E 1F11      ROL	R17
    02E3F 1F22      ROL	R18
    02E40 1F33      ROL	R19
    02E41 944A      DEC	R4
    02E42 F7D1      BNE	0x2E3D
    02E43 C005      RJMP	0x2E49
    02E44 E73F      LDI	R19,0x7F
    02E45 2F23      MOV	R18,R19
    02E46 2F13      MOV	R17,R19
    02E47 2F03      MOV	R16,R19
    02E48 C004      RJMP	0x2E4D
    02E49 2066      TST	R6
    02E4A F011      BEQ	0x2E4D
    02E4B 940E 2D47 CALL	neg32
    02E4D 9189      LD	R24,Y+
    02E4E 9069      LD	R6,Y+
    02E4F 9059      LD	R5,Y+
    02E50 9049      LD	R4,Y+
    02E51 9508      RET
uint2fp:
    02E52 9468      BSET	6
    02E53 C001      RJMP	0x2E55
int2fp:
    02E54 94E8      BCLR	6
    02E55 2722      CLR	R18
    02E56 2733      CLR	R19
    02E57 F046      BRTS	0x2E60
    02E58 FD17      SBRC	R17,7
    02E59 9520      COM	R18
    02E5A FD17      SBRC	R17,7
    02E5B 9530      COM	R19
    02E5C C003      RJMP	0x2E60
ulong2fp:
    02E5D 9468      BSET	6
    02E5E C001      RJMP	0x2E60
long2fp:
    02E5F 94E8      BCLR	6
    02E60 924A      ST	-Y,R4
    02E61 925A      ST	-Y,R5
    02E62 926A      ST	-Y,R6
    02E63 938A      ST	-Y,R24
    02E64 E187      LDI	R24,0x17
    02E65 2E48      MOV	R4,R24
    02E66 2455      CLR	R5
    02E67 2466      CLR	R6
    02E68 F036      BRTS	0x2E6F
    02E69 2333      TST	R19
    02E6A F422      BPL	0x2E6F
    02E6B 940E 2D47 CALL	neg32
    02E6D E880      LDI	R24,0x80
    02E6E 2E68      MOV	R6,R24
    02E6F 940E 2F39 CALL	normalize_and_pack
    02E71 9189      LD	R24,Y+
    02E72 9069      LD	R6,Y+
    02E73 9059      LD	R5,Y+
    02E74 9049      LD	R4,Y+
    02E75 9508      RET
fpdiv1:
    02E76 93FA      ST	-Y,R31
    02E77 93EA      ST	-Y,R30
    02E78 81EA      LDD	R30,Y+2
    02E79 81FB      LDD	R31,Y+3
    02E7A D027      RCALL	0x2EA2
    02E7B 91E9      LD	R30,Y+
    02E7C 91F9      LD	R31,Y+
    02E7D 9622      ADIW	R28,2
    02E7E 9508      RET
fpdiv2:
    02E7F 93FA      ST	-Y,R31
    02E80 93EA      ST	-Y,R30
    02E81 2FEC      MOV	R30,R28
    02E82 2FFD      MOV	R31,R29
    02E83 9632      ADIW	R30,2
    02E84 D01D      RCALL	0x2EA2
    02E85 91E9      LD	R30,Y+
    02E86 91F9      LD	R31,Y+
    02E87 9624      ADIW	R28,4
    02E88 9508      RET
fpdiv1x:
    02E89 93FA      ST	-Y,R31
    02E8A 93EA      ST	-Y,R30
    02E8B 81EA      LDD	R30,Y+2
    02E8C 81FB      LDD	R31,Y+3
    02E8D D014      RCALL	0x2EA2
    02E8E 91E9      LD	R30,Y+
    02E8F 91F9      LD	R31,Y+
    02E90 8339      STD	Y+1,R19
    02E91 8328      ST	Y,R18
    02E92 931A      ST	-Y,R17
    02E93 930A      ST	-Y,R16
    02E94 9508      RET
fpdiv2x:
    02E95 93FA      ST	-Y,R31
    02E96 93EA      ST	-Y,R30
    02E97 2FEC      MOV	R30,R28
    02E98 2FFD      MOV	R31,R29
    02E99 9632      ADIW	R30,2
    02E9A D007      RCALL	0x2EA2
    02E9B 91E9      LD	R30,Y+
    02E9C 91F9      LD	R31,Y+
    02E9D 833B      STD	Y+3,R19
    02E9E 832A      STD	Y+2,R18
    02E9F 8319      STD	Y+1,R17
    02EA0 8308      ST	Y,R16
    02EA1 9508      RET
    02EA2 920A      ST	-Y,R0
    02EA3 921A      ST	-Y,R1
    02EA4 922A      ST	-Y,R2
    02EA5 923A      ST	-Y,R3
    02EA6 940E 2F7E CALL	saveFPRegs
    02EA8 933A      ST	-Y,R19
    02EA9 932A      ST	-Y,R18
    02EAA 931A      ST	-Y,R17
    02EAB 930A      ST	-Y,R16
    02EAC 8100      LD	R16,Z
    02EAD 8111      LDD	R17,Z+1
    02EAE 8122      LDD	R18,Z+2
    02EAF 8133      LDD	R19,Z+3
    02EB0 940E 2F20 CALL	unpacku
    02EB2 F409      BNE	0x2EB4
    02EB3 C057      RJMP	0x2F0B
    02EB4 2CE6      MOV	R14,R6
    02EB5 2CD5      MOV	R13,R5
    02EB6 2CC4      MOV	R12,R4
    02EB7 2EB3      MOV	R11,R19
    02EB8 2EA2      MOV	R10,R18
    02EB9 2E91      MOV	R9,R17
    02EBA 2E80      MOV	R8,R16
    02EBB 9109      LD	R16,Y+
    02EBC 9119      LD	R17,Y+
    02EBD 9129      LD	R18,Y+
    02EBE 9139      LD	R19,Y+
    02EBF 940E 2F20 CALL	unpacku
    02EC1 F1A1      BEQ	0x2EF6
    02EC2 246E      EOR	R6,R14
    02EC3 184C      SUB	R4,R12
    02EC4 085D      SBC	R5,R13
    02EC5 E880      LDI	R24,0x80
    02EC6 1648      CP	R4,R24
    02EC7 0653      CPC	R5,R19
    02EC8 F00C      BLT	0x2ECA
    02EC9 C033      RJMP	0x2EFD
    02ECA E881      LDI	R24,0x81
    02ECB 1648      CP	R4,R24
    02ECC EF8F      LDI	R24,0xFF
    02ECD 0658      CPC	R5,R24
    02ECE F40C      BGE	0x2ED0
    02ECF C036      RJMP	0x2F06
    02ED0 E280      LDI	R24,0x20
    02ED1 2433      CLR	R3
    02ED2 2E23      MOV	R2,R19
    02ED3 2E12      MOV	R1,R18
    02ED4 2E01      MOV	R0,R17
    02ED5 2F30      MOV	R19,R16
    02ED6 2722      CLR	R18
    02ED7 2711      CLR	R17
    02ED8 2700      CLR	R16
    02ED9 9426      LSR	R2
    02EDA 9417      ROR	R1
    02EDB 9407      ROR	R0
    02EDC 9537      ROR	R19
    02EDD 9527      ROR	R18
    02EDE 0F00      LSL	R16
    02EDF 1F11      ROL	R17
    02EE0 1F22      ROL	R18
    02EE1 1F33      ROL	R19
    02EE2 1C00      ROL	R0
    02EE3 1C11      ROL	R1
    02EE4 1C22      ROL	R2
    02EE5 1C33      ROL	R3
    02EE6 F028      BCS	0x2EEC
    02EE7 1808      SUB	R0,R8
    02EE8 0819      SBC	R1,R9
    02EE9 082A      SBC	R2,R10
    02EEA 083B      SBC	R3,R11
    02EEB C004      RJMP	0x2EF0
    02EEC 0C08      ADD	R0,R8
    02EED 1C19      ADC	R1,R9
    02EEE 1C2A      ADC	R2,R10
    02EEF 1C3B      ADC	R3,R11
    02EF0 F00A      BMI	0x2EF2
    02EF1 6001      ORI	R16,1
    02EF2 958A      DEC	R24
    02EF3 F751      BNE	0x2EDE
    02EF4 940E 2F39 CALL	normalize_and_pack
    02EF6 940E 2F8D CALL	restoreFPRegs
    02EF8 9039      LD	R3,Y+
    02EF9 9029      LD	R2,Y+
    02EFA 9019      LD	R1,Y+
    02EFB 9009      LD	R0,Y+
    02EFC 9508      RET
    02EFD EF0F      LDI	R16,0xFF
    02EFE 2F10      MOV	R17,R16
    02EFF E72F      LDI	R18,0x7F
    02F00 E73F      LDI	R19,0x7F
    02F01 2066      TST	R6
    02F02 F399      BEQ	0x2EF6
    02F03 940E 2D47 CALL	neg32
    02F05 CFF0      RJMP	0x2EF6
    02F06 2700      CLR	R16
    02F07 2F10      MOV	R17,R16
    02F08 2F20      MOV	R18,R16
    02F09 2F30      MOV	R19,R16
    02F0A CFEB      RJMP	0x2EF6
    02F0B 9109      LD	R16,Y+
    02F0C 9119      LD	R17,Y+
    02F0D 9129      LD	R18,Y+
    02F0E 9139      LD	R19,Y+
    02F0F CFED      RJMP	0x2EFD
unpacks:
    02F10 D00F      RCALL	unpacku
    02F11 F029      BEQ	0x2F17
    02F12 2066      TST	R6
    02F13 F011      BEQ	0x2F16
    02F14 940E 2D47 CALL	neg32
    02F16 9498      BCLR	1
    02F17 9508      RET
tstR16_R19:
    02F18 2300      TST	R16
    02F19 F429      BNE	0x2F1F
    02F1A 2311      TST	R17
    02F1B F419      BNE	0x2F1F
    02F1C 2322      TST	R18
    02F1D F409      BNE	0x2F1F
    02F1E 2333      TST	R19
    02F1F 9508      RET
unpacku:
    02F20 DFF7      RCALL	tstR16_R19
    02F21 F099      BEQ	0x2F35
    02F22 938A      ST	-Y,R24
    02F23 2E63      MOV	R6,R19
    02F24 E880      LDI	R24,0x80
    02F25 2268      AND	R6,R24
    02F26 0F22      LSL	R18
    02F27 1F33      ROL	R19
    02F28 2E43      MOV	R4,R19
    02F29 E78F      LDI	R24,0x7F
    02F2A 1A48      SUB	R4,R24
    02F2B 2455      CLR	R5
    02F2C 2788      CLR	R24
    02F2D 0A58      SBC	R5,R24
    02F2E 9526      LSR	R18
    02F2F E830      LDI	R19,0x80
    02F30 2B23      OR	R18,R19
    02F31 2733      CLR	R19
    02F32 9189      LD	R24,Y+
    02F33 9498      BCLR	1
    02F34 9508      RET
    02F35 2444      CLR	R4
    02F36 2455      CLR	R5
    02F37 2466      CLR	R6
    02F38 9508      RET
normalize_and_pack:
    02F39 DFDE      RCALL	tstR16_R19
    02F3A F409      BNE	0x2F3C
    02F3B 9508      RET
    02F3C 93AA      ST	-Y,R26
    02F3D 93BA      ST	-Y,R27
    02F3E 01D2      MOVW	R26,R4
    02F3F 939A      ST	-Y,R25
    02F40 938A      ST	-Y,R24
    02F41 E78E      LDI	R24,0x7E
    02F42 E090      LDI	R25,0
    02F43 2333      TST	R19
    02F44 F049      BEQ	0x2F4E
    02F45 9536      LSR	R19
    02F46 9527      ROR	R18
    02F47 9517      ROR	R17
    02F48 9507      ROR	R16
    02F49 17A8      CP	R26,R24
    02F4A 07B9      CPC	R27,R25
    02F4B F4CC      BGE	0x2F65
    02F4C 9611      ADIW	R26,1
    02F4D CFF5      RJMP	0x2F43
    02F4E 9580      COM	R24
    02F4F 9590      COM	R25
    02F50 9601      ADIW	R24,1
    02F51 2322      TST	R18
    02F52 F0BA      BMI	0x2F6A
    02F53 0F00      LSL	R16
    02F54 1F11      ROL	R17
    02F55 1F22      ROL	R18
    02F56 17A8      CP	R26,R24
    02F57 07B9      CPC	R27,R25
    02F58 F014      BLT	0x2F5B
    02F59 9711      SBIW	R26,1
    02F5A CFF6      RJMP	0x2F51
    02F5B 2700      CLR	R16
    02F5C 2711      CLR	R17
    02F5D 2722      CLR	R18
    02F5E 2733      CLR	R19
    02F5F 9189      LD	R24,Y+
    02F60 9199      LD	R25,Y+
    02F61 012D      MOVW	R4,R26
    02F62 91B9      LD	R27,Y+
    02F63 91A9      LD	R26,Y+
    02F64 9508      RET
    02F65 2733      CLR	R19
    02F66 EF0F      LDI	R16,0xFF
    02F67 2F10      MOV	R17,R16
    02F68 E72F      LDI	R18,0x7F
    02F69 2F32      MOV	R19,R18
    02F6A 9189      LD	R24,Y+
    02F6B 9199      LD	R25,Y+
    02F6C 012D      MOVW	R4,R26
    02F6D C002      RJMP	0x2F70
pack:
    02F6E 93AA      ST	-Y,R26
    02F6F 93BA      ST	-Y,R27
    02F70 DFA7      RCALL	tstR16_R19
    02F71 F049      BEQ	0x2F7B
    02F72 01D2      MOVW	R26,R4
    02F73 58A1      SUBI	R26,0x81
    02F74 4FBF      SBCI	R27,0xFF
    02F75 012D      MOVW	R4,R26
    02F76 2D34      MOV	R19,R4
    02F77 0F22      LSL	R18
    02F78 9536      LSR	R19
    02F79 9527      ROR	R18
    02F7A 2936      OR	R19,R6
    02F7B 91B9      LD	R27,Y+
    02F7C 91A9      LD	R26,Y+
    02F7D 9508      RET
saveFPRegs:
    02F7E 924A      ST	-Y,R4
    02F7F 925A      ST	-Y,R5
    02F80 926A      ST	-Y,R6
    02F81 927A      ST	-Y,R7
    02F82 928A      ST	-Y,R8
    02F83 929A      ST	-Y,R9
    02F84 92AA      ST	-Y,R10
    02F85 92BA      ST	-Y,R11
    02F86 92CA      ST	-Y,R12
    02F87 92DA      ST	-Y,R13
    02F88 92EA      ST	-Y,R14
    02F89 92FA      ST	-Y,R15
    02F8A 938A      ST	-Y,R24
    02F8B 939A      ST	-Y,R25
    02F8C 9508      RET
restoreFPRegs:
    02F8D 9199      LD	R25,Y+
    02F8E 9189      LD	R24,Y+
    02F8F 90F9      LD	R15,Y+
    02F90 90E9      LD	R14,Y+
    02F91 90D9      LD	R13,Y+
    02F92 90C9      LD	R12,Y+
    02F93 90B9      LD	R11,Y+
    02F94 90A9      LD	R10,Y+
    02F95 9099      LD	R9,Y+
    02F96 9089      LD	R8,Y+
    02F97 9079      LD	R7,Y+
    02F98 9069      LD	R6,Y+
    02F99 9059      LD	R5,Y+
    02F9A 9049      LD	R4,Y+
    02F9B 9508      RET
fpmule:
    02F9C 940E 2F7E CALL	saveFPRegs
    02F9E 93AA      ST	-Y,R26
    02F9F 93BA      ST	-Y,R27
    02FA0 940E 2F20 CALL	unpacku
    02FA2 F1E1      BEQ	0x2FDF
    02FA3 2CE6      MOV	R14,R6
    02FA4 2CD5      MOV	R13,R5
    02FA5 2CC4      MOV	R12,R4
    02FA6 2EB3      MOV	R11,R19
    02FA7 2EA2      MOV	R10,R18
    02FA8 2E91      MOV	R9,R17
    02FA9 2E80      MOV	R8,R16
    02FAA 8100      LD	R16,Z
    02FAB 8111      LDD	R17,Z+1
    02FAC 8122      LDD	R18,Z+2
    02FAD 8133      LDD	R19,Z+3
    02FAE 940E 2F20 CALL	unpacku
    02FB0 F171      BEQ	0x2FDF
    02FB1 246E      EOR	R6,R14
    02FB2 0C4C      ADD	R4,R12
    02FB3 1C5D      ADC	R5,R13
    02FB4 E880      LDI	R24,0x80
    02FB5 1648      CP	R4,R24
    02FB6 0653      CPC	R5,R19
    02FB7 F564      BGE	0x2FE4
    02FB8 E881      LDI	R24,0x81
    02FB9 1648      CP	R4,R24
    02FBA EF8F      LDI	R24,0xFF
    02FBB 0658      CPC	R5,R24
    02FBC F16C      BLT	0x2FEA
    02FBD 9EA2      MUL	R10,R18
    02FBE 2DB1      MOV	R27,R1
    02FBF 2DA0      MOV	R26,R0
    02FC0 9E91      MUL	R9,R17
    02FC1 2D91      MOV	R25,R1
    02FC2 2D80      MOV	R24,R0
    02FC3 9EA0      MUL	R10,R16
    02FC4 0D80      ADD	R24,R0
    02FC5 1D91      ADC	R25,R1
    02FC6 1FA3      ADC	R26,R19
    02FC7 1FB3      ADC	R27,R19
    02FC8 9E82      MUL	R8,R18
    02FC9 0D80      ADD	R24,R0
    02FCA 1D91      ADC	R25,R1
    02FCB 1FA3      ADC	R26,R19
    02FCC 1FB3      ADC	R27,R19
    02FCD 9E92      MUL	R9,R18
    02FCE 0D90      ADD	R25,R0
    02FCF 1DA1      ADC	R26,R1
    02FD0 1FB3      ADC	R27,R19
    02FD1 9EA1      MUL	R10,R17
    02FD2 0D90      ADD	R25,R0
    02FD3 1DA1      ADC	R26,R1
    02FD4 1FB3      ADC	R27,R19
    02FD5 2F2B      MOV	R18,R27
    02FD6 2F1A      MOV	R17,R26
    02FD7 2F09      MOV	R16,R25
    02FD8 0F88      LSL	R24
    02FD9 1F00      ROL	R16
    02FDA 1F11      ROL	R17
    02FDB 1F22      ROL	R18
    02FDC 1F33      ROL	R19
    02FDD 940E 2F39 CALL	normalize_and_pack
    02FDF 91B9      LD	R27,Y+
    02FE0 91A9      LD	R26,Y+
    02FE1 940E 2F8D CALL	restoreFPRegs
    02FE3 9508      RET
    02FE4 EF0F      LDI	R16,0xFF
    02FE5 2F10      MOV	R17,R16
    02FE6 E72F      LDI	R18,0x7F
    02FE7 E78F      LDI	R24,0x7F
    02FE8 2E48      MOV	R4,R24
    02FE9 CFF5      RJMP	0x2FDF
    02FEA 2700      CLR	R16
    02FEB 2F10      MOV	R17,R16
    02FEC 2F20      MOV	R18,R16
    02FED 2F30      MOV	R19,R16
    02FEE CFF0      RJMP	0x2FDF
fpmule2:
    02FEF 93FA      ST	-Y,R31
    02FF0 93EA      ST	-Y,R30
    02FF1 2FEC      MOV	R30,R28
    02FF2 2FFD      MOV	R31,R29
    02FF3 9632      ADIW	R30,2
    02FF4 940E 2F9C CALL	fpmule
    02FF6 91E9      LD	R30,Y+
    02FF7 91F9      LD	R31,Y+
    02FF8 9624      ADIW	R28,4
    02FF9 9508      RET
fpmule1x:
    02FFA 93FA      ST	-Y,R31
    02FFB 93EA      ST	-Y,R30
    02FFC 81EA      LDD	R30,Y+2
    02FFD 81FB      LDD	R31,Y+3
    02FFE 940E 2F9C CALL	fpmule
    03000 91E9      LD	R30,Y+
    03001 91F9      LD	R31,Y+
    03002 8339      STD	Y+1,R19
    03003 8328      ST	Y,R18
    03004 931A      ST	-Y,R17
    03005 930A      ST	-Y,R16
    03006 9508      RET
fpmule2x:
    03007 93FA      ST	-Y,R31
    03008 93EA      ST	-Y,R30
    03009 2FEC      MOV	R30,R28
    0300A 2FFD      MOV	R31,R29
    0300B 9632      ADIW	R30,2
    0300C 940E 2F9C CALL	fpmule
    0300E 91E9      LD	R30,Y+
    0300F 91F9      LD	R31,Y+
    03010 833B      STD	Y+3,R19
    03011 832A      STD	Y+2,R18
    03012 8319      STD	Y+1,R17
    03013 8308      ST	Y,R16
    03014 9508      RET
fpcmp:
    03015 940E 2D6E CALL	fpsub
    03017 2333      TST	R19
    03018 F03A      BMI	0x3020
    03019 940E 2F18 CALL	tstR16_R19
    0301B F011      BEQ	0x301E
    0301C E001      LDI	R16,1
    0301D 9508      RET
    0301E 2700      CLR	R16
    0301F 9508      RET
    03020 EF0F      LDI	R16,0xFF
    03021 9508      RET
fpcmp2:
    03022 93FA      ST	-Y,R31
    03023 93EA      ST	-Y,R30
    03024 2FEC      MOV	R30,R28
    03025 2FFD      MOV	R31,R29
    03026 9632      ADIW	R30,2
    03027 940E 3015 CALL	fpcmp
    03029 91E9      LD	R30,Y+
    0302A 91F9      LD	R31,Y+
    0302B 9624      ADIW	R28,4
    0302C 2300      TST	R16
    0302D 9508      RET
