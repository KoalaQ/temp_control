Interrupt Vectors
    00000 940C 041E JMP	__text_start|__start
    00006 940C 23CA JMP	_int_int2
    00014 940C 0AC5 JMP	_int_timer2
    0001C 940C 0A8C JMP	_int_timer1
    00020 940C 0A33 JMP	_int_timer0
    0003A 940C 0B12 JMP	_int_timer3

Program Code (text area)
__text_start|__start:
    0041E EFCF      LDI	R28,0xFF
    0041F E1D0      LDI	R29,0x10
    00420 BFCD      OUT	0x3D,R28
    00421 BFDE      OUT	0x3E,R29
    00422 51CE      SUBI	R28,0x1E
    00423 40D0      SBCI	R29,0
    00424 EA0A      LDI	R16,0xAA
    00425 8308      ST	Y,R16
    00426 2400      CLR	R0
    00427 EAE0      LDI	R30,0xA0
    00428 E0F8      LDI	R31,0x8
    00429 E01D      LDI	R17,0xD
    0042A 36EE      CPI	R30,0x6E
    0042B 07F1      CPC	R31,R17
    0042C F011      BEQ	0x042F
    0042D 9201      ST	Z+,R0
    0042E CFFB      RJMP	0x042A
    0042F 8300      ST	Z,R16
    00430 E9EC      LDI	R30,0x9C
    00431 E0F0      LDI	R31,0
    00432 E0A0      LDI	R26,0
    00433 E0B1      LDI	R27,1
    00434 E018      LDI	R17,0x8
    00435 E000      LDI	R16,0
    00436 BF0B      OUT	0x3B,R16
    00437 33EC      CPI	R30,0x3C
    00438 07F1      CPC	R31,R17
    00439 F021      BEQ	0x043E
    0043A 95C8      LPM
    0043B 9631      ADIW	R30,1
    0043C 920D      ST	X+,R0
    0043D CFF9      RJMP	0x0437
    0043E 940E 09B4 CALL	_main
_exit:
    00440 CFFF      RJMP	_exit
FILE: E:\ICCDemo\Temp_Control\temp_control\delay.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) 
(0004) 
(0005) void delay_us(uint n)//延时us
(0006) {
(0007)   n=2*n;
_delay_us:
  n                    --> R16
    00441 0F00      LSL	R16
    00442 1F11      ROL	R17
(0008)   do{ n--;
    00443 5001      SUBI	R16,1
    00444 4010      SBCI	R17,0
(0009)   }while(n>1);
    00445 E081      LDI	R24,1
    00446 E090      LDI	R25,0
    00447 1780      CP	R24,R16
    00448 0791      CPC	R25,R17
    00449 F3C8      BCS	0x0443
    0044A 9508      RET
_delay_ms:
  j                    --> R20
    0044B 934A      ST	-Y,R20
    0044C 935A      ST	-Y,R21
    0044D 01A8      MOVW	R20,R16
(0010) }
(0011) void delay_ms(uint j)//延时ms
(0012) {
(0013)    do{j--;
    0044E 5041      SUBI	R20,1
    0044F 4050      SBCI	R21,0
(0014)      delay_us(1141);
    00450 E705      LDI	R16,0x75
    00451 E014      LDI	R17,4
    00452 DFEE      RCALL	_delay_us
(0015)    }while(j>1);
    00453 E081      LDI	R24,1
    00454 E090      LDI	R25,0
    00455 1784      CP	R24,R20
    00456 0795      CPC	R25,R21
    00457 F3B0      BCS	0x044E
    00458 9159      LD	R21,Y+
    00459 9149      LD	R20,Y+
    0045A 9508      RET
_delay_s:
  i                    --> R20
    0045B 934A      ST	-Y,R20
    0045C 935A      ST	-Y,R21
    0045D 01A8      MOVW	R20,R16
(0016) }
(0017) void delay_s(uint i)
(0018) {
(0019)    do{
(0020)    i--;
    0045E 5041      SUBI	R20,1
    0045F 4050      SBCI	R21,0
(0021)    delay_ms(1000);
    00460 EE08      LDI	R16,0xE8
    00461 E013      LDI	R17,3
    00462 DFE8      RCALL	_delay_ms
(0022)    }while(i>1);
    00463 E081      LDI	R24,1
    00464 E090      LDI	R25,0
    00465 1784      CP	R24,R20
    00466 0795      CPC	R25,R21
    00467 F3B0      BCS	0x045E
    00468 9159      LD	R21,Y+
    00469 9149      LD	R20,Y+
    0046A 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\key.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) #include "lcd.h"
(0004) uchar key_value='n';
(0005) void KeyInit(void){
_KeyInit:
    0046B 9508      RET
_KeyScan:
    0046C 934A      ST	-Y,R20
    0046D 935A      ST	-Y,R21
(0006) }
(0007) uchar KeyScan(void){
(0008)   //初始化端口
(0009)    DDRC=0xE0;
    0046E EE80      LDI	R24,0xE0
    0046F BB84      OUT	0x14,R24
(0010)    DDRG|=0x10;
    00470 9180 0064 LDS	R24,0x64
    00472 6180      ORI	R24,0x10
    00473 9380 0064 STS	0x64,R24
(0011)    
(0012)    //第一次扫描
(0013)    PORTC=0xDF;
    00475 ED8F      LDI	R24,0xDF
    00476 BB85      OUT	0x15,R24
(0014)    PORTG|=0x10;
    00477 9180 0065 LDS	R24,0x65
    00479 6180      ORI	R24,0x10
    0047A 9380 0065 STS	0x65,R24
(0015)    delay_us(1);
    0047C E001      LDI	R16,1
    0047D E010      LDI	R17,0
    0047E 940E 0441 CALL	_delay_us
(0016)    switch(PINC)
    00480 B343      IN	R20,0x13
    00481 2755      CLR	R21
    00482 3C4F      CPI	R20,0xCF
    00483 E0E0      LDI	R30,0
    00484 075E      CPC	R21,R30
    00485 F0E9      BEQ	0x04A3
    00486 3C4F      CPI	R20,0xCF
    00487 E0E0      LDI	R30,0
    00488 075E      CPC	R21,R30
    00489 F0DC      BLT	0x04A5
    0048A 3D47      CPI	R20,0xD7
    0048B E0E0      LDI	R30,0
    0048C 075E      CPC	R21,R30
    0048D F099      BEQ	0x04A1
    0048E 3D4B      CPI	R20,0xDB
    0048F E0E0      LDI	R30,0
    00490 075E      CPC	R21,R30
    00491 F069      BEQ	0x049F
    00492 3D4D      CPI	R20,0xDD
    00493 E0E0      LDI	R30,0
    00494 075E      CPC	R21,R30
    00495 F039      BEQ	0x049D
    00496 3D4E      CPI	R20,0xDE
    00497 E0E0      LDI	R30,0
    00498 075E      CPC	R21,R30
    00499 F009      BEQ	0x049B
    0049A C00A      RJMP	0x04A5
(0017)    {
(0018)    		case 0xDE:return  'e';//'esc';
    0049B E605      LDI	R16,0x65
    0049C C099      RJMP	0x0536
(0019) 		case 0xdd:return  'a';//'alm';
    0049D E601      LDI	R16,0x61
    0049E C097      RJMP	0x0536
(0020) 		case 0xdb:return  'd';//'down';  
    0049F E604      LDI	R16,0x64
    004A0 C095      RJMP	0x0536
(0021) 		case 0xd7:return  'u';//'up';
    004A1 E705      LDI	R16,0x75
    004A2 C093      RJMP	0x0536
(0022) 		case 0xcf:return  'l';//'left';
    004A3 E60C      LDI	R16,0x6C
    004A4 C091      RJMP	0x0536
(0023) 		default:break;	   
(0024)    } 
(0025)     //第二次扫描
(0026)    PORTC=0xBF;
    004A5 EB8F      LDI	R24,0xBF
    004A6 BB85      OUT	0x15,R24
(0027)    PORTG|=0x10;
    004A7 9180 0065 LDS	R24,0x65
    004A9 6180      ORI	R24,0x10
    004AA 9380 0065 STS	0x65,R24
(0028)    delay_us(1);
    004AC E001      LDI	R16,1
    004AD E010      LDI	R17,0
    004AE 940E 0441 CALL	_delay_us
(0029)    switch(PINC)
    004B0 B343      IN	R20,0x13
    004B1 2755      CLR	R21
    004B2 3A4F      CPI	R20,0xAF
    004B3 E0E0      LDI	R30,0
    004B4 075E      CPC	R21,R30
    004B5 F0E9      BEQ	0x04D3
    004B6 3A4F      CPI	R20,0xAF
    004B7 E0E0      LDI	R30,0
    004B8 075E      CPC	R21,R30
    004B9 F0DC      BLT	0x04D5
    004BA 3B47      CPI	R20,0xB7
    004BB E0E0      LDI	R30,0
    004BC 075E      CPC	R21,R30
    004BD F099      BEQ	0x04D1
    004BE 3B4B      CPI	R20,0xBB
    004BF E0E0      LDI	R30,0
    004C0 075E      CPC	R21,R30
    004C1 F069      BEQ	0x04CF
    004C2 3B4D      CPI	R20,0xBD
    004C3 E0E0      LDI	R30,0
    004C4 075E      CPC	R21,R30
    004C5 F039      BEQ	0x04CD
    004C6 3B4E      CPI	R20,0xBE
    004C7 E0E0      LDI	R30,0
    004C8 075E      CPC	R21,R30
    004C9 F009      BEQ	0x04CB
    004CA C00A      RJMP	0x04D5
(0030)    {
(0031)    		case 0xbE:return 's';//'set';
    004CB E703      LDI	R16,0x73
    004CC C069      RJMP	0x0536
(0032) 		case 0xbd:return 'r';//'right';
    004CD E702      LDI	R16,0x72
    004CE C067      RJMP	0x0536
(0033) 		case 0xbb:return 't';//'ent';  
    004CF E704      LDI	R16,0x74
    004D0 C065      RJMP	0x0536
(0034) 		case 0xb7:return 'c';//'clr';
    004D1 E603      LDI	R16,0x63
    004D2 C063      RJMP	0x0536
(0035) 		case 0xaf:return '+';//'+/-';
    004D3 E20B      LDI	R16,0x2B
    004D4 C061      RJMP	0x0536
(0036) 		default:break;	   
(0037)    } 
(0038)     //第三次扫描
(0039)    PORTC=0x7F;
    004D5 E78F      LDI	R24,0x7F
    004D6 BB85      OUT	0x15,R24
(0040)    PORTG|=0x10;
    004D7 9180 0065 LDS	R24,0x65
    004D9 6180      ORI	R24,0x10
    004DA 9380 0065 STS	0x65,R24
(0041)    delay_us(1);
    004DC E001      LDI	R16,1
    004DD E010      LDI	R17,0
    004DE 940E 0441 CALL	_delay_us
(0042)    switch(PINC)
    004E0 B343      IN	R20,0x13
    004E1 2755      CLR	R21
    004E2 364F      CPI	R20,0x6F
    004E3 E0E0      LDI	R30,0
    004E4 075E      CPC	R21,R30
    004E5 F0E9      BEQ	0x0503
    004E6 364F      CPI	R20,0x6F
    004E7 E0E0      LDI	R30,0
    004E8 075E      CPC	R21,R30
    004E9 F0DC      BLT	0x0505
    004EA 3747      CPI	R20,0x77
    004EB E0E0      LDI	R30,0
    004EC 075E      CPC	R21,R30
    004ED F099      BEQ	0x0501
    004EE 374B      CPI	R20,0x7B
    004EF E0E0      LDI	R30,0
    004F0 075E      CPC	R21,R30
    004F1 F069      BEQ	0x04FF
    004F2 374D      CPI	R20,0x7D
    004F3 E0E0      LDI	R30,0
    004F4 075E      CPC	R21,R30
    004F5 F039      BEQ	0x04FD
    004F6 374E      CPI	R20,0x7E
    004F7 E0E0      LDI	R30,0
    004F8 075E      CPC	R21,R30
    004F9 F009      BEQ	0x04FB
    004FA C00A      RJMP	0x0505
(0043)    {
(0044)    		case 0x7E:return '0';
    004FB E300      LDI	R16,0x30
    004FC C039      RJMP	0x0536
(0045) 		case 0x7d:return '3';
    004FD E303      LDI	R16,0x33
    004FE C037      RJMP	0x0536
(0046) 		case 0x7b:return '2';  
    004FF E302      LDI	R16,0x32
    00500 C035      RJMP	0x0536
(0047) 		case 0x77:return '1';
    00501 E301      LDI	R16,0x31
    00502 C033      RJMP	0x0536
(0048) 		case 0x6f:return '6';
    00503 E306      LDI	R16,0x36
    00504 C031      RJMP	0x0536
(0049) 		default:break;	   
(0050)    } 
(0051)       //第四次扫描
(0052)    PORTC=0xFF;
    00505 EF8F      LDI	R24,0xFF
    00506 BB85      OUT	0x15,R24
(0053)    PORTG&=0x0F;
    00507 9180 0065 LDS	R24,0x65
    00509 708F      ANDI	R24,0xF
    0050A 9380 0065 STS	0x65,R24
(0054)    delay_us(1);
    0050C E001      LDI	R16,1
    0050D E010      LDI	R17,0
    0050E 940E 0441 CALL	_delay_us
(0055)    switch(PINC)
    00510 B343      IN	R20,0x13
    00511 2755      CLR	R21
    00512 3E4F      CPI	R20,0xEF
    00513 E0E0      LDI	R30,0
    00514 075E      CPC	R21,R30
    00515 F0E9      BEQ	0x0533
    00516 3E4F      CPI	R20,0xEF
    00517 E0E0      LDI	R30,0
    00518 075E      CPC	R21,R30
    00519 F0DC      BLT	0x0535
    0051A 3F47      CPI	R20,0xF7
    0051B E0E0      LDI	R30,0
    0051C 075E      CPC	R21,R30
    0051D F099      BEQ	0x0531
    0051E 3F4B      CPI	R20,0xFB
    0051F E0E0      LDI	R30,0
    00520 075E      CPC	R21,R30
    00521 F069      BEQ	0x052F
    00522 3F4D      CPI	R20,0xFD
    00523 E0E0      LDI	R30,0
    00524 075E      CPC	R21,R30
    00525 F039      BEQ	0x052D
    00526 3F4E      CPI	R20,0xFE
    00527 E0E0      LDI	R30,0
    00528 075E      CPC	R21,R30
    00529 F009      BEQ	0x052B
    0052A C00A      RJMP	0x0535
(0056)    {
(0057)    		case 0xFE:return '7';
    0052B E307      LDI	R16,0x37
    0052C C009      RJMP	0x0536
(0058) 		case 0xFd:return '8';
    0052D E308      LDI	R16,0x38
    0052E C007      RJMP	0x0536
(0059) 		case 0xFb:return '9';  
    0052F E309      LDI	R16,0x39
    00530 C005      RJMP	0x0536
(0060) 		case 0xF7:return '4';
    00531 E304      LDI	R16,0x34
    00532 C003      RJMP	0x0536
(0061) 		case 0xEf:return '5';
    00533 E305      LDI	R16,0x35
    00534 C001      RJMP	0x0536
(0062) 		default:break;	   
(0063)    }
(0064)  return 'n';
    00535 E60E      LDI	R16,0x6E
    00536 9159      LD	R21,Y+
    00537 9149      LD	R20,Y+
    00538 9508      RET
_KeyScan_once:
  keyValue2            --> R10
  keyValue             --> R20
    00539 92AA      ST	-Y,R10
    0053A 934A      ST	-Y,R20
(0065)    
(0066) }
(0067) //********************************
(0068) //		加上延时抖动的读取，一次读取一个
(0069) //********************************
(0070) uchar KeyScan_once(void){
(0071) 	  uchar keyValue,keyValue2;
(0072) 	  keyValue=KeyScan();
    0053B DF30      RCALL	_KeyScan
    0053C 2F40      MOV	R20,R16
(0073) 	  delay_ms(2);
    0053D E002      LDI	R16,2
    0053E E010      LDI	R17,0
    0053F 940E 044B CALL	_delay_ms
(0074) 	  keyValue2=KeyScan();
    00541 DF2A      RCALL	_KeyScan
    00542 2EA0      MOV	R10,R16
(0075) 	 if(keyValue==keyValue2 && keyValue!='n'){//两次扫描，消除抖动
    00543 1740      CP	R20,R16
    00544 F461      BNE	0x0551
    00545 364E      CPI	R20,0x6E
    00546 F051      BEQ	0x0551
(0076) 	 	if(key_value==keyValue){//如果还是上一次保存的值则代表一直按着，返回‘n’
    00547 9020 0100 LDS	R2,key_value
    00549 1624      CP	R2,R20
    0054A F411      BNE	0x054D
(0077) 		    return 'n';  
    0054B E60E      LDI	R16,0x6E
    0054C C008      RJMP	0x0555
(0078) 	    }else{                  //松开后第一次按下，返回该键的值
(0079) 		 key_value=keyValue;
    0054D 9340 0100 STS	key_value,R20
(0080) 		  return keyValue;
    0054F 2F04      MOV	R16,R20
    00550 C004      RJMP	0x0555
(0081) 		}
(0082) 	 }else{                     //因为读取键盘的值会多次刷新，所以在松开按键时key_value重置
(0083) 	   key_value='n';
    00551 E68E      LDI	R24,0x6E
    00552 9380 0100 STS	key_value,R24
(0084) 	   return 'n';
    00554 E60E      LDI	R16,0x6E
    00555 9149      LD	R20,Y+
    00556 90A9      LD	R10,Y+
    00557 9508      RET
_lcd_bz_1:
  result               --> R20
    00558 934A      ST	-Y,R20
    00559 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\lcd.c
(0001) #include<iom128v.h>
(0002) #include "lcd.h"
(0003) #include "delay.h" 
(0004) #define rs_l PORTG&=~(1<<PG1)
(0005) #define rs_h PORTG|=1<<PG1
(0006) #define rw_l PORTG&=~(1<<PG0)
(0007) #define rw_h PORTG|=1<<PG0
(0008) #define ep1_l PORTG&=~(1<<PG3)
(0009) #define ep1_h PORTG|=1<<PG3
(0010) #define ep2_l PORTF&=~(1<<PF0)
(0011) #define ep2_h PORTF|=1<<PF0
(0012) //***********************************
(0013) //上半屏幕
(0014) //**********************************
(0015) /*
(0016)  读忙程序。命令后，读入BF
(0017) */
(0018) uint lcd_bz_1(void){
(0019) 	uint result;
(0020) 	DDRA=0x00;
    0055A 2422      CLR	R2
    0055B BA2A      OUT	0x1A,R2
(0021) 	rs_l;
    0055C 9180 0065 LDS	R24,0x65
    0055E 7F8D      ANDI	R24,0xFD
    0055F 9380 0065 STS	0x65,R24
(0022) 	rw_h;
    00561 9180 0065 LDS	R24,0x65
    00563 6081      ORI	R24,1
    00564 9380 0065 STS	0x65,R24
(0023) 	ep1_h;
    00566 9180 0065 LDS	R24,0x65
    00568 6088      ORI	R24,0x8
    00569 9380 0065 STS	0x65,R24
(0024) 	delay_us(1);
    0056B E001      LDI	R16,1
    0056C E010      LDI	R17,0
    0056D 940E 0441 CALL	_delay_us
(0025) 	result=PINA&(1<<PINA7);
    0056F B349      IN	R20,0x19
    00570 2755      CLR	R21
    00571 7840      ANDI	R20,0x80
    00572 7050      ANDI	R21,0
(0026) 	DDRA=0xFF;
    00573 EF8F      LDI	R24,0xFF
    00574 BB8A      OUT	0x1A,R24
(0027) 	ep1_l;
    00575 9180 0065 LDS	R24,0x65
    00577 7F87      ANDI	R24,0xF7
    00578 9380 0065 STS	0x65,R24
(0028) 	return result;
    0057A 018A      MOVW	R16,R20
    0057B 9159      LD	R21,Y+
    0057C 9149      LD	R20,Y+
    0057D 9508      RET
_lcd_wcmd_1:
  cmd                  --> R10
    0057E 92AA      ST	-Y,R10
    0057F 2EA0      MOV	R10,R16
(0029) }
(0030) void lcd_wcmd_1(uchar cmd){
(0031) 	 while(lcd_bz_1());
    00580 DFD7      RCALL	_lcd_bz_1
    00581 3000      CPI	R16,0
    00582 0701      CPC	R16,R17
    00583 F7E1      BNE	0x0580
(0032) 	 rs_l;
    00584 9180 0065 LDS	R24,0x65
    00586 7F8D      ANDI	R24,0xFD
    00587 9380 0065 STS	0x65,R24
(0033) 	 rw_l;
    00589 9180 0065 LDS	R24,0x65
    0058B 7F8E      ANDI	R24,0xFE
    0058C 9380 0065 STS	0x65,R24
(0034) 	 ep1_l;
    0058E 9180 0065 LDS	R24,0x65
    00590 7F87      ANDI	R24,0xF7
    00591 9380 0065 STS	0x65,R24
(0035) 	 PORTA=cmd;
    00593 BAAB      OUT	0x1B,R10
(0036) 	 ep1_h;
    00594 9180 0065 LDS	R24,0x65
    00596 6088      ORI	R24,0x8
    00597 9380 0065 STS	0x65,R24
(0037) 	 delay_us(1);
    00599 E001      LDI	R16,1
    0059A E010      LDI	R17,0
    0059B 940E 0441 CALL	_delay_us
(0038) 	 ep1_l;
    0059D 9180 0065 LDS	R24,0x65
    0059F 7F87      ANDI	R24,0xF7
    005A0 9380 0065 STS	0x65,R24
(0039) 	 return;
    005A2 90A9      LD	R10,Y+
    005A3 9508      RET
_lcd_wdat_1:
  dat                  --> R10
    005A4 92AA      ST	-Y,R10
    005A5 2EA0      MOV	R10,R16
(0040) }
(0041) /*
(0042) 写输出数据,char
(0043) */
(0044) void lcd_wdat_1(uchar dat){
(0045) 	 while(lcd_bz_1());
    005A6 DFB1      RCALL	_lcd_bz_1
    005A7 3000      CPI	R16,0
    005A8 0701      CPC	R16,R17
    005A9 F7E1      BNE	0x05A6
(0046) 	 rs_h;
    005AA 9180 0065 LDS	R24,0x65
    005AC 6082      ORI	R24,2
    005AD 9380 0065 STS	0x65,R24
(0047) 	 rw_l;
    005AF 9180 0065 LDS	R24,0x65
    005B1 7F8E      ANDI	R24,0xFE
    005B2 9380 0065 STS	0x65,R24
(0048) 	 ep1_l;
    005B4 9180 0065 LDS	R24,0x65
    005B6 7F87      ANDI	R24,0xF7
    005B7 9380 0065 STS	0x65,R24
(0049) 	 PORTA=dat;
    005B9 BAAB      OUT	0x1B,R10
(0050) 	 ep1_h;
    005BA 9180 0065 LDS	R24,0x65
    005BC 6088      ORI	R24,0x8
    005BD 9380 0065 STS	0x65,R24
(0051) 	 delay_us(1);
    005BF E001      LDI	R16,1
    005C0 E010      LDI	R17,0
    005C1 940E 0441 CALL	_delay_us
(0052) 	 ep1_l;
    005C3 9180 0065 LDS	R24,0x65
    005C5 7F87      ANDI	R24,0xF7
    005C6 9380 0065 STS	0x65,R24
    005C8 90A9      LD	R10,Y+
    005C9 9508      RET
(0053) }
(0054) 
(0055) /*清显示*/
(0056) void lcd_clear_1(void) 
(0057) {
(0058) 	lcd_wcmd_1(0x01);
_lcd_clear_1:
    005CA E001      LDI	R16,1
    005CB DFB2      RCALL	_lcd_wcmd_1
(0059) 	delay_ms(1);
    005CC E001      LDI	R16,1
    005CD E010      LDI	R17,0
    005CE 940C 044B JMP	_delay_ms
_lcd_bz_2:
  result               --> R20
    005D0 934A      ST	-Y,R20
    005D1 935A      ST	-Y,R21
(0060) }
(0061) //***********************************
(0062) //    下半屏幕
(0063) //***********************************
(0064) uint lcd_bz_2(void){
(0065) 	uint result;
(0066) 	DDRA=0x00;
    005D2 2422      CLR	R2
    005D3 BA2A      OUT	0x1A,R2
(0067) 	rs_l;
    005D4 9180 0065 LDS	R24,0x65
    005D6 7F8D      ANDI	R24,0xFD
    005D7 9380 0065 STS	0x65,R24
(0068) 	rw_h;
    005D9 9180 0065 LDS	R24,0x65
    005DB 6081      ORI	R24,1
    005DC 9380 0065 STS	0x65,R24
(0069) 	ep2_h;
    005DE 9180 0062 LDS	R24,0x62
    005E0 6081      ORI	R24,1
    005E1 9380 0062 STS	0x62,R24
(0070) 	delay_us(1);
    005E3 E001      LDI	R16,1
    005E4 E010      LDI	R17,0
    005E5 940E 0441 CALL	_delay_us
(0071) 	result=PINA&(1<<PINA7);
    005E7 B349      IN	R20,0x19
    005E8 2755      CLR	R21
    005E9 7840      ANDI	R20,0x80
    005EA 7050      ANDI	R21,0
(0072) 	DDRA=0xFF;
    005EB EF8F      LDI	R24,0xFF
    005EC BB8A      OUT	0x1A,R24
(0073) 	ep2_l;
    005ED 9180 0062 LDS	R24,0x62
    005EF 7F8E      ANDI	R24,0xFE
    005F0 9380 0062 STS	0x62,R24
(0074) 	return result;
    005F2 018A      MOVW	R16,R20
    005F3 9159      LD	R21,Y+
    005F4 9149      LD	R20,Y+
    005F5 9508      RET
_lcd_wcmd_2:
  cmd                  --> R10
    005F6 92AA      ST	-Y,R10
    005F7 2EA0      MOV	R10,R16
(0075) }
(0076) void lcd_wcmd_2(uchar cmd){
(0077) 	 while(lcd_bz_2());
    005F8 DFD7      RCALL	_lcd_bz_2
    005F9 3000      CPI	R16,0
    005FA 0701      CPC	R16,R17
    005FB F7E1      BNE	0x05F8
(0078) 	 rs_l;
    005FC 9180 0065 LDS	R24,0x65
    005FE 7F8D      ANDI	R24,0xFD
    005FF 9380 0065 STS	0x65,R24
(0079) 	 rw_l;
    00601 9180 0065 LDS	R24,0x65
    00603 7F8E      ANDI	R24,0xFE
    00604 9380 0065 STS	0x65,R24
(0080) 	 ep2_l;
    00606 9180 0062 LDS	R24,0x62
    00608 7F8E      ANDI	R24,0xFE
    00609 9380 0062 STS	0x62,R24
(0081) 	 PORTA=cmd;
    0060B BAAB      OUT	0x1B,R10
(0082) 	 ep2_h;
    0060C 9180 0062 LDS	R24,0x62
    0060E 6081      ORI	R24,1
    0060F 9380 0062 STS	0x62,R24
(0083) 	delay_us(1);
    00611 E001      LDI	R16,1
    00612 E010      LDI	R17,0
    00613 940E 0441 CALL	_delay_us
(0084) 	 ep2_l;
    00615 9180 0062 LDS	R24,0x62
    00617 7F8E      ANDI	R24,0xFE
    00618 9380 0062 STS	0x62,R24
    0061A 90A9      LD	R10,Y+
    0061B 9508      RET
_lcd_wdat_2:
  dat                  --> R10
    0061C 92AA      ST	-Y,R10
    0061D 2EA0      MOV	R10,R16
(0085) }
(0086) //  写输出数据,char
(0087) void lcd_wdat_2(uchar dat){
(0088) 	 while(lcd_bz_2());
    0061E DFB1      RCALL	_lcd_bz_2
    0061F 3000      CPI	R16,0
    00620 0701      CPC	R16,R17
    00621 F7E1      BNE	0x061E
(0089) 	 rs_h;
    00622 9180 0065 LDS	R24,0x65
    00624 6082      ORI	R24,2
    00625 9380 0065 STS	0x65,R24
(0090) 	 rw_l;
    00627 9180 0065 LDS	R24,0x65
    00629 7F8E      ANDI	R24,0xFE
    0062A 9380 0065 STS	0x65,R24
(0091) 	 ep2_l;
    0062C 9180 0062 LDS	R24,0x62
    0062E 7F8E      ANDI	R24,0xFE
    0062F 9380 0062 STS	0x62,R24
(0092) 	 PORTA=dat;
    00631 BAAB      OUT	0x1B,R10
(0093) 	 ep2_h;
    00632 9180 0062 LDS	R24,0x62
    00634 6081      ORI	R24,1
    00635 9380 0062 STS	0x62,R24
(0094) 	delay_us(1);
    00637 E001      LDI	R16,1
    00638 E010      LDI	R17,0
    00639 940E 0441 CALL	_delay_us
(0095) 	 ep2_l;
    0063B 9180 0062 LDS	R24,0x62
    0063D 7F8E      ANDI	R24,0xFE
    0063E 9380 0062 STS	0x62,R24
    00640 90A9      LD	R10,Y+
    00641 9508      RET
(0096) }
(0097) /*清显示*/
(0098) void lcd_clear_2(void) 
(0099) {
(0100) 	lcd_wcmd_2(0x01);
_lcd_clear_2:
    00642 E001      LDI	R16,1
    00643 CFB2      RJMP	_lcd_wcmd_2
_lcd_write_char_con:
  data                 --> R10
  y                    --> R20
    00644 92AA      ST	-Y,R10
    00645 934A      ST	-Y,R20
    00646 2EA2      MOV	R10,R18
    00647 2F40      MOV	R20,R16
(0101) }
(0102) 
(0103) //*************************************************
(0104) //					写字符
(0105) //***************************************************
(0106) /*
(0107)   附带y。调用 lcd_wdat（）方法。传入时转换为char。直接连续写入使用
(0108) */
(0109) void lcd_write_char_con(unsigned char y,unsigned char data) 
(0110) {
(0111) 	
(0112)     if (y == 0 || y==1) 
    00648 2344      TST	R20
    00649 F011      BEQ	0x064C
    0064A 3041      CPI	R20,1
    0064B F419      BNE	0x064F
(0113)     {
(0114)     	
(0115) 		 lcd_wdat_1( data);
    0064C 2D0A      MOV	R16,R10
    0064D DF56      RCALL	_lcd_wdat_1
(0116)     }else  if(y==2 || y==3 )
    0064E C006      RJMP	0x0655
    0064F 3042      CPI	R20,2
    00650 F011      BEQ	0x0653
    00651 3043      CPI	R20,3
    00652 F411      BNE	0x0655
(0117)     {
(0118)     	
(0119) 		 lcd_wdat_2( data);
    00653 2D0A      MOV	R16,R10
    00654 DFC7      RCALL	_lcd_wdat_2
(0120)     }
(0121)    return; 
    00655 9149      LD	R20,Y+
    00656 90A9      LD	R10,Y+
    00657 9508      RET
_lcd_write_pos:
  y                    --> R22
  x                    --> R20
    00658 934A      ST	-Y,R20
    00659 936A      ST	-Y,R22
    0065A 2F62      MOV	R22,R18
    0065B 2F40      MOV	R20,R16
(0122) }
(0123) /*
(0124)   附带x,y。写光标位置
(0125) */
(0126) void lcd_write_pos(unsigned char x,unsigned char y) 
(0127) {
(0128) 	
(0129)     if (y == 0) 
    0065C 2366      TST	R22
    0065D F421      BNE	0x0662
(0130)     {
(0131)     	lcd_wcmd_1(0x80 + x);
    0065E 2F04      MOV	R16,R20
    0065F 5800      SUBI	R16,0x80
    00660 DF1D      RCALL	_lcd_wcmd_1
(0132)     }
    00661 C011      RJMP	0x0673
(0133)     else  if(y==1)
    00662 3061      CPI	R22,1
    00663 F421      BNE	0x0668
(0134)     {
(0135)     	lcd_wcmd_1(0x90 + x);
    00664 2F04      MOV	R16,R20
    00665 5700      SUBI	R16,0x70
    00666 DF17      RCALL	_lcd_wcmd_1
(0136)     }else  if(y==2)
    00667 C00B      RJMP	0x0673
    00668 3062      CPI	R22,2
    00669 F421      BNE	0x066E
(0137)     {
(0138)     	lcd_wcmd_2(0x80 + x);
    0066A 2F04      MOV	R16,R20
    0066B 5800      SUBI	R16,0x80
    0066C DF89      RCALL	_lcd_wcmd_2
(0139)     }else  if(y==3)
    0066D C005      RJMP	0x0673
    0066E 3063      CPI	R22,3
    0066F F419      BNE	0x0673
(0140)     {
(0141)     	lcd_wcmd_2(0x90 + x);
    00670 2F04      MOV	R16,R20
    00671 5700      SUBI	R16,0x70
    00672 DF83      RCALL	_lcd_wcmd_2
(0142)     }
(0143)    return; 
    00673 9169      LD	R22,Y+
    00674 9149      LD	R20,Y+
    00675 9508      RET
_lcd_write_char:
  data                 --> R10
  y                    --> R22
  x                    --> R20
    00676 940E 37B2 CALL	push_xgsetF00C
    00678 2F62      MOV	R22,R18
    00679 2F40      MOV	R20,R16
    0067A 80AE      LDD	R10,Y+6
(0144) }
(0145) /*
(0146)   附带x,y。调用 lcd_wdat（）方法。传入时转换为char
(0147) */
(0148) void lcd_write_char(unsigned char x,unsigned char y,unsigned char data) 
(0149) {
(0150) 	
(0151)     if (y == 0) 
    0067B 2366      TST	R22
    0067C F431      BNE	0x0683
(0152)     {
(0153)     	lcd_wcmd_1(0x80 + x);
    0067D 2F04      MOV	R16,R20
    0067E 5800      SUBI	R16,0x80
    0067F DEFE      RCALL	_lcd_wcmd_1
(0154) 		 lcd_wdat_1( data);
    00680 2D0A      MOV	R16,R10
    00681 DF22      RCALL	_lcd_wdat_1
(0155)     }
    00682 C017      RJMP	0x069A
(0156)     else  if(y==1)
    00683 3061      CPI	R22,1
    00684 F431      BNE	0x068B
(0157)     {
(0158)     	lcd_wcmd_1(0x90 + x);
    00685 2F04      MOV	R16,R20
    00686 5700      SUBI	R16,0x70
    00687 DEF6      RCALL	_lcd_wcmd_1
(0159) 		 lcd_wdat_1( data);
    00688 2D0A      MOV	R16,R10
    00689 DF1A      RCALL	_lcd_wdat_1
(0160)     }else  if(y==2)
    0068A C00F      RJMP	0x069A
    0068B 3062      CPI	R22,2
    0068C F431      BNE	0x0693
(0161)     {
(0162)     	lcd_wcmd_2(0x80 + x);
    0068D 2F04      MOV	R16,R20
    0068E 5800      SUBI	R16,0x80
    0068F DF66      RCALL	_lcd_wcmd_2
(0163) 		 lcd_wdat_2( data);
    00690 2D0A      MOV	R16,R10
    00691 DF8A      RCALL	_lcd_wdat_2
(0164)     }else  if(y==3)
    00692 C007      RJMP	0x069A
    00693 3063      CPI	R22,3
    00694 F429      BNE	0x069A
(0165)     {
(0166)     	lcd_wcmd_2(0x90 + x);
    00695 2F04      MOV	R16,R20
    00696 5700      SUBI	R16,0x70
    00697 DF5E      RCALL	_lcd_wcmd_2
(0167) 		 lcd_wdat_2( data);
    00698 2D0A      MOV	R16,R10
    00699 DF82      RCALL	_lcd_wdat_2
(0168)     }
(0169)    return; 
    0069A 940C 37B9 JMP	pop_xgsetF00C
_lcd_write_str:
  s                    --> R20
  y                    --> R10
  x                    --> R22
    0069C 940E 37B2 CALL	push_xgsetF00C
    0069E 2EA2      MOV	R10,R18
    0069F 2F60      MOV	R22,R16
    006A0 814E      LDD	R20,Y+6
    006A1 815F      LDD	R21,Y+7
(0170) }
(0171) /*
(0172)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0173) */
(0174) void lcd_write_str(unsigned char x,unsigned char y,unsigned char *s) 
(0175) {
(0176) 	
(0177)     if (y == 0) 
    006A2 20AA      TST	R10
    006A3 F471      BNE	0x06B2
(0178)     {
(0179)     	lcd_wcmd_1(0x80 + x);
    006A4 2F06      MOV	R16,R22
    006A5 5800      SUBI	R16,0x80
    006A6 DED7      RCALL	_lcd_wcmd_1
    006A7 C005      RJMP	0x06AD
(0180) 		 while (*s) 
(0181)        {
(0182)     	lcd_wdat_1( *s);
    006A8 01FA      MOVW	R30,R20
    006A9 8100      LD	R16,Z
    006AA DEF9      RCALL	_lcd_wdat_1
(0183)     	s ++;
    006AB 5F4F      SUBI	R20,0xFF
    006AC 4F5F      SBCI	R21,0xFF
    006AD 01FA      MOVW	R30,R20
    006AE 8020      LD	R2,Z
    006AF 2022      TST	R2
    006B0 F7B9      BNE	0x06A8
(0184)         }
(0185)     }
    006B1 C032      RJMP	0x06E4
(0186)     else  if(y==1)
    006B2 2D8A      MOV	R24,R10
    006B3 3081      CPI	R24,1
    006B4 F471      BNE	0x06C3
(0187)     {
(0188)     	lcd_wcmd_1(0x90 + x);
    006B5 2F06      MOV	R16,R22
    006B6 5700      SUBI	R16,0x70
    006B7 DEC6      RCALL	_lcd_wcmd_1
    006B8 C005      RJMP	0x06BE
(0189) 		 while (*s) 
(0190)         {
(0191)     	lcd_wdat_1( *s);
    006B9 01FA      MOVW	R30,R20
    006BA 8100      LD	R16,Z
    006BB DEE8      RCALL	_lcd_wdat_1
(0192)     	s ++;
    006BC 5F4F      SUBI	R20,0xFF
    006BD 4F5F      SBCI	R21,0xFF
    006BE 01FA      MOVW	R30,R20
    006BF 8020      LD	R2,Z
    006C0 2022      TST	R2
    006C1 F7B9      BNE	0x06B9
(0193)        }
(0194)     }else  if(y==2)
    006C2 C021      RJMP	0x06E4
    006C3 2D8A      MOV	R24,R10
    006C4 3082      CPI	R24,2
    006C5 F471      BNE	0x06D4
(0195)     {
(0196)     	lcd_wcmd_2(0x80 + x);
    006C6 2F06      MOV	R16,R22
    006C7 5800      SUBI	R16,0x80
    006C8 DF2D      RCALL	_lcd_wcmd_2
    006C9 C005      RJMP	0x06CF
(0197) 		  while (*s) 
(0198)        {
(0199)     	lcd_wdat_2( *s);
    006CA 01FA      MOVW	R30,R20
    006CB 8100      LD	R16,Z
    006CC DF4F      RCALL	_lcd_wdat_2
(0200)     	s ++;
    006CD 5F4F      SUBI	R20,0xFF
    006CE 4F5F      SBCI	R21,0xFF
    006CF 01FA      MOVW	R30,R20
    006D0 8020      LD	R2,Z
    006D1 2022      TST	R2
    006D2 F7B9      BNE	0x06CA
(0201)        }
(0202)     }else  if(y==3)
    006D3 C010      RJMP	0x06E4
    006D4 2D8A      MOV	R24,R10
    006D5 3083      CPI	R24,3
    006D6 F469      BNE	0x06E4
(0203)     {
(0204)     	lcd_wcmd_2(0x90 + x);
    006D7 2F06      MOV	R16,R22
    006D8 5700      SUBI	R16,0x70
    006D9 DF1C      RCALL	_lcd_wcmd_2
    006DA C005      RJMP	0x06E0
(0205) 		  while (*s) 
(0206)        {
(0207)     	lcd_wdat_2( *s);
    006DB 01FA      MOVW	R30,R20
    006DC 8100      LD	R16,Z
    006DD DF3E      RCALL	_lcd_wdat_2
(0208)     	s ++;
    006DE 5F4F      SUBI	R20,0xFF
    006DF 4F5F      SBCI	R21,0xFF
    006E0 01FA      MOVW	R30,R20
    006E1 8020      LD	R2,Z
    006E2 2022      TST	R2
    006E3 F7B9      BNE	0x06DB
(0209)        }
(0210)     }
    006E4 940C 37B9 JMP	pop_xgsetF00C
_lcd_write_str_con:
  s                    --> R20
  y                    --> R22
    006E6 940E 37A8 CALL	push_xgsetF000
    006E8 01A9      MOVW	R20,R18
    006E9 2F60      MOV	R22,R16
(0211)    
(0212) }
(0213) /*
(0214)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0215) */
(0216) void lcd_write_str_con(unsigned char y,unsigned char *s) 
(0217) {
(0218) 	
(0219)     if (y == 0 || y==1) 
    006EA 2366      TST	R22
    006EB F011      BEQ	0x06EE
    006EC 3061      CPI	R22,1
    006ED F459      BNE	0x06F9
(0220)     {
    006EE C005      RJMP	0x06F4
(0221)     	
(0222) 		 while (*s) 
(0223)        {
(0224)     	lcd_wdat_1( *s);
    006EF 01FA      MOVW	R30,R20
    006F0 8100      LD	R16,Z
    006F1 DEB2      RCALL	_lcd_wdat_1
(0225)     	s ++;
    006F2 5F4F      SUBI	R20,0xFF
    006F3 4F5F      SBCI	R21,0xFF
    006F4 01FA      MOVW	R30,R20
    006F5 8020      LD	R2,Z
    006F6 2022      TST	R2
    006F7 F7B9      BNE	0x06EF
(0226)         }
(0227)     }
    006F8 C00E      RJMP	0x0707
(0228)     else  if(y==2 || y==3)
    006F9 3062      CPI	R22,2
    006FA F011      BEQ	0x06FD
    006FB 3063      CPI	R22,3
    006FC F451      BNE	0x0707
(0229)     {
    006FD C005      RJMP	0x0703
(0230)     	
(0231) 		  while (*s) 
(0232)        {
(0233)     	lcd_wdat_2( *s);
    006FE 01FA      MOVW	R30,R20
    006FF 8100      LD	R16,Z
    00700 DF1B      RCALL	_lcd_wdat_2
(0234)     	s ++;
    00701 5F4F      SUBI	R20,0xFF
    00702 4F5F      SBCI	R21,0xFF
    00703 01FA      MOVW	R30,R20
    00704 8020      LD	R2,Z
    00705 2022      TST	R2
    00706 F7B9      BNE	0x06FE
(0235)        }
(0236)     }
    00707 940C 37AD JMP	pop_xgsetF000
_read_ac_1:
  result               --> R20
    00709 934A      ST	-Y,R20
    0070A 935A      ST	-Y,R21
(0237)    
(0238) }
(0239) //****************************
(0240) //  读出数据,.不知道有没有用，先放在这
(0241) //****************************
(0242) /**
(0243)  读程序。命令后，读AC地址
(0244) */
(0245) uchar read_ac_1(void){
(0246) 	uint result;
(0247) 	DDRA=0x00;
    0070B 2422      CLR	R2
    0070C BA2A      OUT	0x1A,R2
(0248) 	rs_l;
    0070D 9180 0065 LDS	R24,0x65
    0070F 7F8D      ANDI	R24,0xFD
    00710 9380 0065 STS	0x65,R24
(0249) 	rw_h;
    00712 9180 0065 LDS	R24,0x65
    00714 6081      ORI	R24,1
    00715 9380 0065 STS	0x65,R24
(0250) 	ep1_h;
    00717 9180 0065 LDS	R24,0x65
    00719 6088      ORI	R24,0x8
    0071A 9380 0065 STS	0x65,R24
(0251) 	delay_ms(1);
    0071C E001      LDI	R16,1
    0071D E010      LDI	R17,0
    0071E 940E 044B CALL	_delay_ms
(0252) 	result=PINA&(~(1<<PINA7));
    00720 B349      IN	R20,0x19
    00721 2755      CLR	R21
    00722 774F      ANDI	R20,0x7F
(0253) 	DDRA=0xFF;
    00723 EF8F      LDI	R24,0xFF
    00724 BB8A      OUT	0x1A,R24
(0254) 	ep1_l;
    00725 9180 0065 LDS	R24,0x65
    00727 7F87      ANDI	R24,0xF7
    00728 9380 0065 STS	0x65,R24
(0255) 	return result;
    0072A 2F04      MOV	R16,R20
    0072B 9159      LD	R21,Y+
    0072C 9149      LD	R20,Y+
    0072D 9508      RET
_read_ac_2:
  result               --> R20
    0072E 934A      ST	-Y,R20
    0072F 935A      ST	-Y,R21
(0256) }
(0257) uchar read_ac_2(void){
(0258) 	uint result;
(0259) 	DDRA=0x00;
    00730 2422      CLR	R2
    00731 BA2A      OUT	0x1A,R2
(0260) 	rs_l;
    00732 9180 0065 LDS	R24,0x65
    00734 7F8D      ANDI	R24,0xFD
    00735 9380 0065 STS	0x65,R24
(0261) 	rw_h;
    00737 9180 0065 LDS	R24,0x65
    00739 6081      ORI	R24,1
    0073A 9380 0065 STS	0x65,R24
(0262) 	ep2_h;
    0073C 9180 0062 LDS	R24,0x62
    0073E 6081      ORI	R24,1
    0073F 9380 0062 STS	0x62,R24
(0263) 	delay_ms(1);
    00741 E001      LDI	R16,1
    00742 E010      LDI	R17,0
    00743 940E 044B CALL	_delay_ms
(0264) 	result=PINA&(~(1<<PINA7));
    00745 B349      IN	R20,0x19
    00746 2755      CLR	R21
    00747 774F      ANDI	R20,0x7F
(0265) 	DDRA=0xFF;
    00748 EF8F      LDI	R24,0xFF
    00749 BB8A      OUT	0x1A,R24
(0266) 	ep2_l;
    0074A 9180 0062 LDS	R24,0x62
    0074C 7F8E      ANDI	R24,0xFE
    0074D 9380 0062 STS	0x62,R24
(0267) 	return result;
    0074F 2F04      MOV	R16,R20
    00750 9159      LD	R21,Y+
    00751 9149      LD	R20,Y+
    00752 9508      RET
(0268) }
(0269) 
(0270) void lcd_clear(void){
(0271)    lcd_clear_1();
_lcd_clear:
    00753 DE76      RCALL	_lcd_clear_1
(0272)     lcd_clear_2();
    00754 CEED      RJMP	_lcd_clear_2
_date_cmd_1:
  result               --> R10
    00755 92AA      ST	-Y,R10
    00756 92BA      ST	-Y,R11
(0273) }
(0274) /*
(0275)  读数据程序。命令后，读入。使用read_data函数会是设定的值，再吃调用本函数会使ac
(0276)  移动一次，8读取位的数据
(0277) */
(0278) uchar date_cmd_1(void){
(0279) 	uint result;
(0280) 	DDRA=0x00;
    00757 2422      CLR	R2
    00758 BA2A      OUT	0x1A,R2
(0281) 	rs_h;
    00759 9180 0065 LDS	R24,0x65
    0075B 6082      ORI	R24,2
    0075C 9380 0065 STS	0x65,R24
(0282) 	rw_h;
    0075E 9180 0065 LDS	R24,0x65
    00760 6081      ORI	R24,1
    00761 9380 0065 STS	0x65,R24
(0283) 	ep1_h;
    00763 9180 0065 LDS	R24,0x65
    00765 6088      ORI	R24,0x8
    00766 9380 0065 STS	0x65,R24
(0284) 	delay_ms(1);
    00768 E001      LDI	R16,1
    00769 E010      LDI	R17,0
    0076A 940E 044B CALL	_delay_ms
(0285) 	result=PINA;
    0076C B2A9      IN	R10,0x19
    0076D 24BB      CLR	R11
(0286) 	DDRA=0xFF;
    0076E EF8F      LDI	R24,0xFF
    0076F BB8A      OUT	0x1A,R24
(0287) 	ep1_l;
    00770 9180 0065 LDS	R24,0x65
    00772 7F87      ANDI	R24,0xF7
    00773 9380 0065 STS	0x65,R24
(0288) 	return result;
    00775 2D0A      MOV	R16,R10
    00776 90B9      LD	R11,Y+
    00777 90A9      LD	R10,Y+
    00778 9508      RET
_date_cmd_2:
  result               --> R10
    00779 92AA      ST	-Y,R10
    0077A 92BA      ST	-Y,R11
(0289) }
(0290) uchar date_cmd_2(void){
(0291) 	uint result;
(0292) 	DDRA=0x00;
    0077B 2422      CLR	R2
    0077C BA2A      OUT	0x1A,R2
(0293) 	rs_h;
    0077D 9180 0065 LDS	R24,0x65
    0077F 6082      ORI	R24,2
    00780 9380 0065 STS	0x65,R24
(0294) 	rw_h;
    00782 9180 0065 LDS	R24,0x65
    00784 6081      ORI	R24,1
    00785 9380 0065 STS	0x65,R24
(0295) 	ep2_h;
    00787 9180 0062 LDS	R24,0x62
    00789 6081      ORI	R24,1
    0078A 9380 0062 STS	0x62,R24
(0296) 	delay_ms(1);
    0078C E001      LDI	R16,1
    0078D E010      LDI	R17,0
    0078E 940E 044B CALL	_delay_ms
(0297) 	result=PINA;
    00790 B2A9      IN	R10,0x19
    00791 24BB      CLR	R11
(0298) 	DDRA=0xFF;
    00792 EF8F      LDI	R24,0xFF
    00793 BB8A      OUT	0x1A,R24
(0299) 	ep2_l;
    00794 9180 0062 LDS	R24,0x62
    00796 7F8E      ANDI	R24,0xFE
    00797 9380 0062 STS	0x62,R24
(0300) 	return result;
    00799 2D0A      MOV	R16,R10
    0079A 90B9      LD	R11,Y+
    0079B 90A9      LD	R10,Y+
    0079C 9508      RET
_read_data_xy:
  y                    --> R22
  x                    --> R20
    0079D 940E 37B2 CALL	push_xgsetF00C
    0079F 2F62      MOV	R22,R18
    007A0 2F40      MOV	R20,R16
(0301) }
(0302) //**************************
(0303) //读取函数，注意会ac位置
(0304) //**************************
(0305) uchar read_data_xy(unsigned char x,unsigned char y){
(0306) 	if (y == 0) {
    007A1 2366      TST	R22
    007A2 F449      BNE	0x07AC
(0307)     	lcd_wcmd_1(0x80 + x);
    007A3 2F04      MOV	R16,R20
    007A4 5800      SUBI	R16,0x80
    007A5 DDD8      RCALL	_lcd_wcmd_1
(0308) 		delay_us(10);
    007A6 E00A      LDI	R16,0xA
    007A7 E010      LDI	R17,0
    007A8 940E 0441 CALL	_delay_us
(0309) 		return date_cmd_1();
    007AA DFAA      RCALL	_date_cmd_1
    007AB C024      RJMP	0x07D0
(0310) 		
(0311)     }else  if(y==1){
    007AC 3061      CPI	R22,1
    007AD F449      BNE	0x07B7
(0312)     	lcd_wcmd_1(0x90 + x);
    007AE 2F04      MOV	R16,R20
    007AF 5700      SUBI	R16,0x70
    007B0 DDCD      RCALL	_lcd_wcmd_1
(0313) 		delay_us(10);
    007B1 E00A      LDI	R16,0xA
    007B2 E010      LDI	R17,0
    007B3 940E 0441 CALL	_delay_us
(0314) 		return date_cmd_1();
    007B5 DF9F      RCALL	_date_cmd_1
    007B6 C019      RJMP	0x07D0
(0315)     }else  if(y==2){
    007B7 3062      CPI	R22,2
    007B8 F451      BNE	0x07C3
(0316)     	lcd_wcmd_2(0x80 + x);
    007B9 2F04      MOV	R16,R20
    007BA 5800      SUBI	R16,0x80
    007BB DE3A      RCALL	_lcd_wcmd_2
(0317) 		delay_us(10);
    007BC E00A      LDI	R16,0xA
    007BD E010      LDI	R17,0
    007BE 940E 0441 CALL	_delay_us
(0318) 		return date_cmd_2();
    007C0 DFB8      RCALL	_date_cmd_2
    007C1 2EA0      MOV	R10,R16
    007C2 C00D      RJMP	0x07D0
(0319)     }else  if(y==3){
    007C3 3063      CPI	R22,3
    007C4 F451      BNE	0x07CF
(0320)     	lcd_wcmd_2(0x90 + x);
    007C5 2F04      MOV	R16,R20
    007C6 5700      SUBI	R16,0x70
    007C7 DE2E      RCALL	_lcd_wcmd_2
(0321) 		delay_us(10);
    007C8 E00A      LDI	R16,0xA
    007C9 E010      LDI	R17,0
    007CA 940E 0441 CALL	_delay_us
(0322) 		return date_cmd_2();
    007CC DFAC      RCALL	_date_cmd_2
    007CD 2EA0      MOV	R10,R16
    007CE C001      RJMP	0x07D0
(0323)     }
(0324) 	
(0325) 	return 0x00;
    007CF 2700      CLR	R16
    007D0 940C 37B9 JMP	pop_xgsetF00C
_read_data_1:
  addr                 --> R10
    007D2 92AA      ST	-Y,R10
    007D3 2EA0      MOV	R10,R16
(0326) }
(0327) uchar read_data_1(unsigned char addr){
(0328) 	
(0329)     	lcd_wcmd_1(addr);
    007D4 2D0A      MOV	R16,R10
    007D5 DDA8      RCALL	_lcd_wcmd_1
(0330)     	return date_cmd_1();
    007D6 DF7E      RCALL	_date_cmd_1
    007D7 90A9      LD	R10,Y+
    007D8 9508      RET
_read_data_2:
  addr                 --> R10
    007D9 92AA      ST	-Y,R10
    007DA 2EA0      MOV	R10,R16
(0331) }
(0332) uchar read_data_2(unsigned char addr){
(0333)     	lcd_wcmd_1(addr);
    007DB 2D0A      MOV	R16,R10
    007DC DDA1      RCALL	_lcd_wcmd_1
(0334) 		return date_cmd_2();
    007DD DF9B      RCALL	_date_cmd_2
    007DE 90A9      LD	R10,Y+
    007DF 9508      RET
(0335) }
(0336) 
(0337) 
(0338) /*初始化功能*/
(0339) void lcd_init(void){
(0340) 	 //初始化端口功能
(0341) 	 DDRA |=0xFF;
_lcd_init:
    007E0 B38A      IN	R24,0x1A
    007E1 6F8F      ORI	R24,0xFF
    007E2 BB8A      OUT	0x1A,R24
(0342) 	 PORTA=0xFF;
    007E3 EF8F      LDI	R24,0xFF
    007E4 BB8B      OUT	0x1B,R24
(0343) 	 DDRG |=0x0F;
    007E5 9180 0064 LDS	R24,0x64
    007E7 608F      ORI	R24,0xF
    007E8 9380 0064 STS	0x64,R24
(0344) 	 PORTG|=0x0F;
    007EA 9180 0065 LDS	R24,0x65
    007EC 608F      ORI	R24,0xF
    007ED 9380 0065 STS	0x65,R24
(0345) 	 DDRF|=0x01;
    007EF 9180 0061 LDS	R24,0x61
    007F1 6081      ORI	R24,1
    007F2 9380 0061 STS	0x61,R24
(0346) 	 PORTF|=0x01;
    007F4 9180 0062 LDS	R24,0x62
    007F6 6081      ORI	R24,1
    007F7 9380 0062 STS	0x62,R24
(0347) 	 //lcd_wcmd(0x38);//初始化功能,8位，基本指令
(0348) 	 lcd_wcmd_1(0x30);//初始化功能,8位，基本指令
    007F9 E300      LDI	R16,0x30
    007FA DD83      RCALL	_lcd_wcmd_1
(0349) 	  lcd_wcmd_1(0x08);//关显示
    007FB E008      LDI	R16,0x8
    007FC DD81      RCALL	_lcd_wcmd_1
(0350) 	  lcd_wcmd_1(0x01);//清显示
    007FD E001      LDI	R16,1
    007FE DD7F      RCALL	_lcd_wcmd_1
(0351) 	  lcd_wcmd_1(0x06);//输入模式，右移
    007FF E006      LDI	R16,6
    00800 DD7D      RCALL	_lcd_wcmd_1
(0352) 	  lcd_wcmd_1(0x0c);//初始化光标,开显示
    00801 E00C      LDI	R16,0xC
    00802 DD7B      RCALL	_lcd_wcmd_1
(0353) 	
(0354) 	  lcd_wcmd_2(0x30);//初始化功能,8位，基本指令
    00803 E300      LDI	R16,0x30
    00804 DDF1      RCALL	_lcd_wcmd_2
(0355) 	 lcd_wcmd_2(0x08);//关显示
    00805 E008      LDI	R16,0x8
    00806 DDEF      RCALL	_lcd_wcmd_2
(0356) 	 lcd_wcmd_2(0x01);//清显示
    00807 E001      LDI	R16,1
    00808 DDED      RCALL	_lcd_wcmd_2
(0357) 	 lcd_wcmd_2(0x06);//输入模式，右移
    00809 E006      LDI	R16,6
    0080A DDEB      RCALL	_lcd_wcmd_2
(0358) 	 lcd_wcmd_2(0x0c);//初始化光标,开显示
    0080B E00C      LDI	R16,0xC
    0080C CDE9      RJMP	_lcd_wcmd_2
_cur_set:
  type                 --> R20
    0080D 934A      ST	-Y,R20
    0080E 935A      ST	-Y,R21
    0080F 01A8      MOVW	R20,R16
(0359) }
(0360) //************
(0361) // 光标显示操作,默认初始化都是关闭。上半屏 0:关闭,1：开游标,2：游标反白,3：开游标、反白
(0362) // 下半屏  4:关闭,5：开游标,6：游标反白,7：开游标、反白
(0363) //************
(0364) void cur_set(uint type){
(0365) 	 if(type==0){
    00810 3040      CPI	R20,0
    00811 0745      CPC	R20,R21
    00812 F419      BNE	0x0816
(0366) 	 	lcd_wcmd_1(0x0c);	 
    00813 E00C      LDI	R16,0xC
    00814 DD69      RCALL	_lcd_wcmd_1
(0367) 	 }else if(type==1){
    00815 C030      RJMP	0x0846
    00816 3041      CPI	R20,1
    00817 E0E0      LDI	R30,0
    00818 075E      CPC	R21,R30
    00819 F419      BNE	0x081D
(0368) 	     lcd_wcmd_1(0x0e);
    0081A E00E      LDI	R16,0xE
    0081B DD62      RCALL	_lcd_wcmd_1
(0369) 	 }else if(type==2){
    0081C C029      RJMP	0x0846
    0081D 3042      CPI	R20,2
    0081E E0E0      LDI	R30,0
    0081F 075E      CPC	R21,R30
    00820 F419      BNE	0x0824
(0370) 	    lcd_wcmd_1(0x0d);
    00821 E00D      LDI	R16,0xD
    00822 DD5B      RCALL	_lcd_wcmd_1
(0371) 	 }else if(type==3){
    00823 C022      RJMP	0x0846
    00824 3043      CPI	R20,3
    00825 E0E0      LDI	R30,0
    00826 075E      CPC	R21,R30
    00827 F419      BNE	0x082B
(0372) 	    lcd_wcmd_1(0x0f);
    00828 E00F      LDI	R16,0xF
    00829 DD54      RCALL	_lcd_wcmd_1
(0373) 	 }else if(type==4){
    0082A C01B      RJMP	0x0846
    0082B 3044      CPI	R20,4
    0082C E0E0      LDI	R30,0
    0082D 075E      CPC	R21,R30
    0082E F419      BNE	0x0832
(0374) 	    lcd_wcmd_2(0x0c);
    0082F E00C      LDI	R16,0xC
    00830 DDC5      RCALL	_lcd_wcmd_2
(0375) 	 }else if(type==5){
    00831 C014      RJMP	0x0846
    00832 3045      CPI	R20,5
    00833 E0E0      LDI	R30,0
    00834 075E      CPC	R21,R30
    00835 F419      BNE	0x0839
(0376) 	    lcd_wcmd_2(0x0e);
    00836 E00E      LDI	R16,0xE
    00837 DDBE      RCALL	_lcd_wcmd_2
(0377) 	 }else if(type==6){
    00838 C00D      RJMP	0x0846
    00839 3046      CPI	R20,6
    0083A E0E0      LDI	R30,0
    0083B 075E      CPC	R21,R30
    0083C F419      BNE	0x0840
(0378) 	    lcd_wcmd_2(0x0d);
    0083D E00D      LDI	R16,0xD
    0083E DDB7      RCALL	_lcd_wcmd_2
(0379) 	 }else if(type==7){
    0083F C006      RJMP	0x0846
    00840 3047      CPI	R20,7
    00841 E0E0      LDI	R30,0
    00842 075E      CPC	R21,R30
    00843 F411      BNE	0x0846
(0380) 	    lcd_wcmd_2(0x0f);
    00844 E00F      LDI	R16,0xF
    00845 DDB0      RCALL	_lcd_wcmd_2
(0381) 	 }
    00846 9159      LD	R21,Y+
    00847 9149      LD	R20,Y+
    00848 9508      RET
(0382) }
(0383) //***************************************************
(0384) //   反白相关
(0385) //***************************************************
(0386) /********************************************************************  
(0387)     函 数 名：Set_Draw(  
(0388)     入口参数：无  
(0389)     出口参数：无  
(0390)     修改日期：  
(0391)     函数作用：  
(0392)     说    明：  
(0393)     ********************************************************************/   
(0394)     void Set_Draw(void)   
(0395)     {   
(0396)         //W_1byte(0,0,0x01);            //清屏    
(0397)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0398)         lcd_wcmd_1(0x36); 
_Set_Draw:
    00849 E306      LDI	R16,0x36
    0084A DD33      RCALL	_lcd_wcmd_1
(0399) 		lcd_wcmd_2(0x36);   
    0084B E306      LDI	R16,0x36
    0084C CDA9      RJMP	_lcd_wcmd_2
(0400)     }
(0401) 	void Set_UNDraw(void)   
(0402)     {   
(0403)         //W_1byte(0,0,0x01);            //清屏   
(0404)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0405)         lcd_wcmd_1(0x30); 
_Set_UNDraw:
    0084D E300      LDI	R16,0x30
    0084E DD2F      RCALL	_lcd_wcmd_1
(0406) 		lcd_wcmd_2(0x30);   
    0084F E300      LDI	R16,0x30
    00850 CDA5      RJMP	_lcd_wcmd_2
_Set_White_off:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    00851 940E 3712 CALL	push_arg4
    00853 940E 3793 CALL	push_xgsetF0FC
    00855 2F62      MOV	R22,R18
    00856 9721      SBIW	R28,1
    00857 84AF      LDD	R10,Y+15
(0407)     }
(0408) /**************************************************  
(0409)     uchar x,起始位置
(0410) 	uchar y,对应y
(0411) 	uchar end_x, 反白结束位置
(0412) 	uchar clear 0：反白，1：不反白
(0413)  **************************************************/   
(0414)     void Set_White_off(uchar x,uchar y,uchar end_x)   
(0415)     {   
(0416)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0417)         white_end_x = (end_x-x+1);   
    00858 2D8A      MOV	R24,R10
    00859 840B      LDD	R0,Y+11
    0085A 1980      SUB	R24,R0
    0085B 5F8F      SUBI	R24,0xFF
    0085C 2EC8      MOV	R12,R24
(0418)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    0085D 0CCC      LSL	R12
(0419) 		Set_Draw(); //开画图
    0085E DFEA      RCALL	_Set_Draw
(0420)         if(y==0)   
    0085F 2366      TST	R22
    00860 F449      BNE	0x086A
(0421)         {   
(0422)             white_x = (0x80+x-1);   
    00861 858B      LDD	R24,Y+11
    00862 5880      SUBI	R24,0x80
    00863 5081      SUBI	R24,1
    00864 8388      ST	Y,R24
(0423)             white_y = 0x80;   
    00865 E840      LDI	R20,0x80
(0424)             clr_x = 0x80;   
    00866 E880      LDI	R24,0x80
    00867 2EA8      MOV	R10,R24
(0425)             clr_y = 0x80;   
    00868 2EE8      MOV	R14,R24
(0426)         }   
    00869 C022      RJMP	0x088C
(0427)         else if(y==1)   
    0086A 3061      CPI	R22,1
    0086B F451      BNE	0x0876
(0428)         {   
(0429)             white_x = (0x80+x-1);   
    0086C 858B      LDD	R24,Y+11
    0086D 5880      SUBI	R24,0x80
    0086E 5081      SUBI	R24,1
    0086F 8388      ST	Y,R24
(0430)             white_y = 0x90;   
    00870 E940      LDI	R20,0x90
(0431)             clr_x = 0x80;   
    00871 E880      LDI	R24,0x80
    00872 2EA8      MOV	R10,R24
(0432)             clr_y = 0x90;   
    00873 E980      LDI	R24,0x90
    00874 2EE8      MOV	R14,R24
(0433)         }   
    00875 C016      RJMP	0x088C
(0434)         else if(y==2)   
    00876 3062      CPI	R22,2
    00877 F449      BNE	0x0881
(0435)         {   
(0436)             white_x = (0x80+x-1);   
    00878 858B      LDD	R24,Y+11
    00879 5880      SUBI	R24,0x80
    0087A 5081      SUBI	R24,1
    0087B 8388      ST	Y,R24
(0437)             white_y = 0x80;   
    0087C E840      LDI	R20,0x80
(0438)             clr_x = 0x80;   
    0087D E880      LDI	R24,0x80
    0087E 2EA8      MOV	R10,R24
(0439)             clr_y = 0x80;   
    0087F 2EE8      MOV	R14,R24
(0440)         }   
    00880 C00B      RJMP	0x088C
(0441)         else if(y==3)   
    00881 3063      CPI	R22,3
    00882 F449      BNE	0x088C
(0442)         {   
(0443)             white_x = (0x80+x-1);   
    00883 858B      LDD	R24,Y+11
    00884 5880      SUBI	R24,0x80
    00885 5081      SUBI	R24,1
    00886 8388      ST	Y,R24
(0444)             white_y = 0x90;   
    00887 E940      LDI	R20,0x90
(0445)             clr_x = 0x80;   
    00888 E880      LDI	R24,0x80
    00889 2EA8      MOV	R10,R24
(0446)             clr_y = 0x90;   
    0088A E980      LDI	R24,0x90
    0088B 2EE8      MOV	R14,R24
(0447)         }   
(0448) 		if(y==0 || y==1){    
    0088C 2366      TST	R22
    0088D F011      BEQ	0x0890
    0088E 3061      CPI	R22,1
    0088F F4A1      BNE	0x08A4
(0449)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00890 24AA      CLR	R10
    00891 C00E      RJMP	0x08A0
(0450)           {   
(0451)              lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    00892 2E24      MOV	R2,R20
    00893 5F4F      SUBI	R20,0xFF
    00894 2D02      MOV	R16,R2
    00895 DCE8      RCALL	_lcd_wcmd_1
(0452)              lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    00896 8108      LD	R16,Y
    00897 DCE6      RCALL	_lcd_wcmd_1
(0453)              for(j=0;j<white_end_x;j++)   //   
    00898 24EE      CLR	R14
    00899 C003      RJMP	0x089D
(0454)              {     
(0455)                lcd_wdat_1(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    0089A 2700      CLR	R16
    0089B DD08      RCALL	_lcd_wdat_1
    0089C 94E3      INC	R14
    0089D 14EC      CP	R14,R12
    0089E F3D8      BCS	0x089A
    0089F 94A3      INC	R10
    008A0 2D8A      MOV	R24,R10
    008A1 3180      CPI	R24,0x10
    008A2 F378      BCS	0x0892
(0456)              }   
(0457)           }
(0458) 		}else if(y==2 || y==3){
    008A3 C017      RJMP	0x08BB
    008A4 3062      CPI	R22,2
    008A5 F011      BEQ	0x08A8
    008A6 3063      CPI	R22,3
    008A7 F499      BNE	0x08BB
(0459) 		    for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    008A8 24AA      CLR	R10
    008A9 C00E      RJMP	0x08B8
(0460)           {   
(0461)              lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    008AA 2E24      MOV	R2,R20
    008AB 5F4F      SUBI	R20,0xFF
    008AC 2D02      MOV	R16,R2
    008AD DD48      RCALL	_lcd_wcmd_2
(0462)              lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    008AE 8108      LD	R16,Y
    008AF DD46      RCALL	_lcd_wcmd_2
(0463)              for(j=0;j<white_end_x;j++)   //   
    008B0 24EE      CLR	R14
    008B1 C003      RJMP	0x08B5
(0464)              {     
(0465)                lcd_wdat_2(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    008B2 2700      CLR	R16
    008B3 DD68      RCALL	_lcd_wdat_2
    008B4 94E3      INC	R14
    008B5 14EC      CP	R14,R12
    008B6 F3D8      BCS	0x08B2
    008B7 94A3      INC	R10
    008B8 2D8A      MOV	R24,R10
    008B9 3180      CPI	R24,0x10
    008BA F378      BCS	0x08AA
(0466)              }   
(0467)           }
(0468) 		}
(0469) 		  Set_UNDraw();//关画图  
    008BB DF91      RCALL	_Set_UNDraw
    008BC 9621      ADIW	R28,1
    008BD 940E 3788 CALL	pop_xgsetF0FC
    008BF 9624      ADIW	R28,4
    008C0 9508      RET
_Set_White:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    008C1 940E 3712 CALL	push_arg4
    008C3 940E 3793 CALL	push_xgsetF0FC
    008C5 2F62      MOV	R22,R18
    008C6 9721      SBIW	R28,1
    008C7 84AF      LDD	R10,Y+15
(0470)     } 
(0471) 	void Set_White(uchar x,uchar y,uchar end_x)   
(0472)     {   
(0473)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0474)         white_end_x = (end_x-x+1);   
    008C8 2D8A      MOV	R24,R10
    008C9 840B      LDD	R0,Y+11
    008CA 1980      SUB	R24,R0
    008CB 5F8F      SUBI	R24,0xFF
    008CC 2EC8      MOV	R12,R24
(0475)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    008CD 0CCC      LSL	R12
(0476) 		Set_Draw(); //开画图
    008CE DF7A      RCALL	_Set_Draw
(0477)         if(y==0)   
    008CF 2366      TST	R22
    008D0 F449      BNE	0x08DA
(0478)         {   
(0479)             white_x = (0x80+x-1);   
    008D1 858B      LDD	R24,Y+11
    008D2 5880      SUBI	R24,0x80
    008D3 5081      SUBI	R24,1
    008D4 8388      ST	Y,R24
(0480)             white_y = 0x80;   
    008D5 E840      LDI	R20,0x80
(0481)             clr_x = 0x80;   
    008D6 E880      LDI	R24,0x80
    008D7 2EA8      MOV	R10,R24
(0482)             clr_y = 0x80;   
    008D8 2EE8      MOV	R14,R24
(0483)         }   
    008D9 C022      RJMP	0x08FC
(0484)         else if(y==1)   
    008DA 3061      CPI	R22,1
    008DB F451      BNE	0x08E6
(0485)         {   
(0486)             white_x = (0x80+x-1);   
    008DC 858B      LDD	R24,Y+11
    008DD 5880      SUBI	R24,0x80
    008DE 5081      SUBI	R24,1
    008DF 8388      ST	Y,R24
(0487)             white_y = 0x90;   
    008E0 E940      LDI	R20,0x90
(0488)             clr_x = 0x80;   
    008E1 E880      LDI	R24,0x80
    008E2 2EA8      MOV	R10,R24
(0489)             clr_y = 0x90;   
    008E3 E980      LDI	R24,0x90
    008E4 2EE8      MOV	R14,R24
(0490)         }   
    008E5 C016      RJMP	0x08FC
(0491)         else if(y==2)   
    008E6 3062      CPI	R22,2
    008E7 F449      BNE	0x08F1
(0492)         {   
(0493)             white_x = (0x80+x-1);   
    008E8 858B      LDD	R24,Y+11
    008E9 5880      SUBI	R24,0x80
    008EA 5081      SUBI	R24,1
    008EB 8388      ST	Y,R24
(0494)             white_y = 0x80;   
    008EC E840      LDI	R20,0x80
(0495)             clr_x = 0x80;   
    008ED E880      LDI	R24,0x80
    008EE 2EA8      MOV	R10,R24
(0496)             clr_y = 0x80;   
    008EF 2EE8      MOV	R14,R24
(0497)         }   
    008F0 C00B      RJMP	0x08FC
(0498)         else if(y==3)   
    008F1 3063      CPI	R22,3
    008F2 F449      BNE	0x08FC
(0499)         {   
(0500)             white_x = (0x80+x-1);   
    008F3 858B      LDD	R24,Y+11
    008F4 5880      SUBI	R24,0x80
    008F5 5081      SUBI	R24,1
    008F6 8388      ST	Y,R24
(0501)             white_y = 0x90;   
    008F7 E940      LDI	R20,0x90
(0502)             clr_x = 0x80;   
    008F8 E880      LDI	R24,0x80
    008F9 2EA8      MOV	R10,R24
(0503)             clr_y = 0x90;   
    008FA E980      LDI	R24,0x90
    008FB 2EE8      MOV	R14,R24
(0504)         } 
(0505) 		if(y==0 || y==1){          
    008FC 2366      TST	R22
    008FD F011      BEQ	0x0900
    008FE 3061      CPI	R22,1
    008FF F4A1      BNE	0x0914
(0506)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00900 24AA      CLR	R10
    00901 C00E      RJMP	0x0910
(0507)           {   
(0508)               lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    00902 2E24      MOV	R2,R20
    00903 5F4F      SUBI	R20,0xFF
    00904 2D02      MOV	R16,R2
    00905 DC78      RCALL	_lcd_wcmd_1
(0509)               lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    00906 8108      LD	R16,Y
    00907 DC76      RCALL	_lcd_wcmd_1
(0510)               for(j=0;j<white_end_x;j++)   //   
    00908 24EE      CLR	R14
    00909 C003      RJMP	0x090D
(0511)               {    
(0512)                     lcd_wdat_1(0xff); //反白这一行的8个点，液晶地址自动加1     
    0090A EF0F      LDI	R16,0xFF
    0090B DC98      RCALL	_lcd_wdat_1
    0090C 94E3      INC	R14
    0090D 14EC      CP	R14,R12
    0090E F3D8      BCS	0x090A
    0090F 94A3      INC	R10
    00910 2D8A      MOV	R24,R10
    00911 3180      CPI	R24,0x10
    00912 F378      BCS	0x0902
(0513)               }   
(0514)           }
(0515) 		}else if(y==2 || y==3){
    00913 C017      RJMP	0x092B
    00914 3062      CPI	R22,2
    00915 F011      BEQ	0x0918
    00916 3063      CPI	R22,3
    00917 F499      BNE	0x092B
(0516) 		   for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00918 24AA      CLR	R10
    00919 C00E      RJMP	0x0928
(0517)             {   
(0518)               lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    0091A 2E24      MOV	R2,R20
    0091B 5F4F      SUBI	R20,0xFF
    0091C 2D02      MOV	R16,R2
    0091D DCD8      RCALL	_lcd_wcmd_2
(0519)               lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    0091E 8108      LD	R16,Y
    0091F DCD6      RCALL	_lcd_wcmd_2
(0520)               for(j=0;j<white_end_x;j++)   //   
    00920 24EE      CLR	R14
    00921 C003      RJMP	0x0925
(0521)               {    
(0522)                     lcd_wdat_2(0xff); //反白这一行的8个点，液晶地址自动加1     
    00922 EF0F      LDI	R16,0xFF
    00923 DCF8      RCALL	_lcd_wdat_2
    00924 94E3      INC	R14
    00925 14EC      CP	R14,R12
    00926 F3D8      BCS	0x0922
    00927 94A3      INC	R10
    00928 2D8A      MOV	R24,R10
    00929 3180      CPI	R24,0x10
    0092A F378      BCS	0x091A
(0523)               }   
(0524)             }
(0525) 		}
(0526) 		  Set_UNDraw();//关画图  
    0092B DF21      RCALL	_Set_UNDraw
    0092C 9621      ADIW	R28,1
    0092D 940E 3788 CALL	pop_xgsetF0FC
    0092F 9624      ADIW	R28,4
    00930 9508      RET
_Draw_Pic:
  temp_y               --> R20
  temp_x               --> R22
  i                    --> R10
  j                    --> R14
  Draw                 --> Y,+12
  y                    --> Y,+10
  x                    --> R12
    00931 933A      ST	-Y,R19
    00932 932A      ST	-Y,R18
    00933 940E 3793 CALL	push_xgsetF0FC
    00935 2EC0      MOV	R12,R16
(0527)     } 
(0528) 	/********************************************************************  
(0529)     函 数 名：Draw_Pic  128*64  
(0530)     入口参数：x,y,*Draw  
(0531)     出口参数：无  
(0532)     建立日期：2007年8月26日  
(0533)     修改日期：  
(0534)     函数作用：  
(0535)     说    明：  
(0536)     ********************************************************************/   
(0537)     /*************************************************/   
(0538)        
(0539)     void Draw_Pic(uchar x, uchar y, const uchar *Draw)   
(0540)     {   
(0541)         uchar i, j, temp_x, temp_y;     //   
(0542) 		lcd_wcmd_1(0x34);
    00936 E304      LDI	R16,0x34
    00937 DC46      RCALL	_lcd_wcmd_1
(0543) 		lcd_wcmd_2(0x34);
    00938 E304      LDI	R16,0x34
    00939 DCBC      RCALL	_lcd_wcmd_2
(0544)         temp_x = x;                     //   
    0093A 2D6C      MOV	R22,R12
(0545)         temp_y = y;                     //   
    0093B 854A      LDD	R20,Y+10
(0546)         temp_x |= 0x80;                 //   
    0093C 6860      ORI	R22,0x80
(0547)         temp_y |= 0x80;                 //   
    0093D 6840      ORI	R20,0x80
(0548)         for(i=0;i<32;i++ )               //上半屏32行   
    0093E 24AA      CLR	R10
    0093F C013      RJMP	0x0953
(0549)         {   
(0550)             lcd_wcmd_1(temp_y++);      //设置绘图区的Y地址坐标0   
    00940 2E24      MOV	R2,R20
    00941 5F4F      SUBI	R20,0xFF
    00942 2D02      MOV	R16,R2
    00943 DC3A      RCALL	_lcd_wcmd_1
(0551)             lcd_wcmd_1(temp_x);        //设置绘图区的X地址坐标0   
    00944 2F06      MOV	R16,R22
    00945 DC38      RCALL	_lcd_wcmd_1
(0552)             for(j=0;j<24;j++)            //   
    00946 24EE      CLR	R14
    00947 C007      RJMP	0x094F
(0553)             {   
(0554)                  lcd_wdat_1(*Draw++);  //   
    00948 85EC      LDD	R30,Y+12
    00949 85FD      LDD	R31,Y+13
    0094A 9101      LD	R16,Z+
    0094B 87FD      STD	Y+13,R31
    0094C 87EC      STD	Y+12,R30
    0094D DC56      RCALL	_lcd_wdat_1
    0094E 94E3      INC	R14
    0094F 2D8E      MOV	R24,R14
    00950 3188      CPI	R24,0x18
    00951 F3B0      BCS	0x0948
    00952 94A3      INC	R10
    00953 2D8A      MOV	R24,R10
    00954 3280      CPI	R24,0x20
    00955 F350      BCS	0x0940
(0555)             }   
(0556)         }   
(0557)            
(0558)         temp_x = x;                     //   
    00956 2D6C      MOV	R22,R12
(0559)         temp_y = y;                     //   
    00957 854A      LDD	R20,Y+10
(0560)         temp_x |= 0x80;                 //   
    00958 6860      ORI	R22,0x80
(0561)         temp_y |= 0x80;                   //   
    00959 6840      ORI	R20,0x80
(0562)         j = 0;                          //   
    0095A 24EE      CLR	R14
(0563)         for(;i<64;i++ )   
    0095B C013      RJMP	0x096F
(0564)         {   
(0565)             lcd_wcmd_2(temp_y++);      //设置绘图区的Y地址坐标   
    0095C 2E24      MOV	R2,R20
    0095D 5F4F      SUBI	R20,0xFF
    0095E 2D02      MOV	R16,R2
    0095F DC96      RCALL	_lcd_wcmd_2
(0566)             lcd_wcmd_2(temp_x);        //设置绘图区的X地址坐标   
    00960 2F06      MOV	R16,R22
    00961 DC94      RCALL	_lcd_wcmd_2
(0567)             for(j=0;j<24;j++)   
    00962 24EE      CLR	R14
    00963 C007      RJMP	0x096B
(0568)             {   
(0569)                  lcd_wdat_2(*Draw++);  //   
    00964 85EC      LDD	R30,Y+12
    00965 85FD      LDD	R31,Y+13
    00966 9101      LD	R16,Z+
    00967 87FD      STD	Y+13,R31
    00968 87EC      STD	Y+12,R30
    00969 DCB2      RCALL	_lcd_wdat_2
    0096A 94E3      INC	R14
    0096B 2D8E      MOV	R24,R14
    0096C 3188      CPI	R24,0x18
    0096D F3B0      BCS	0x0964
    0096E 94A3      INC	R10
    0096F 2D8A      MOV	R24,R10
    00970 3480      CPI	R24,0x40
    00971 F350      BCS	0x095C
(0570)             }   
(0571)         }   
(0572)        lcd_wcmd_1(0x36);
    00972 E306      LDI	R16,0x36
    00973 DC0A      RCALL	_lcd_wcmd_1
(0573) 	   lcd_wcmd_2(0x36);
    00974 E306      LDI	R16,0x36
    00975 DC80      RCALL	_lcd_wcmd_2
(0574) 	   delay_us(1);
    00976 E001      LDI	R16,1
    00977 E010      LDI	R17,0
    00978 940E 0441 CALL	_delay_us
(0575) 	   lcd_wcmd_1(0x30);
    0097A E300      LDI	R16,0x30
    0097B DC02      RCALL	_lcd_wcmd_1
(0576) 	   lcd_wcmd_2(0x30);
    0097C E300      LDI	R16,0x30
    0097D DC78      RCALL	_lcd_wcmd_2
    0097E 940E 3788 CALL	pop_xgsetF0FC
    00980 9622      ADIW	R28,2
    00981 9508      RET
_lcd_Desk:
    00982 9722      SBIW	R28,2
(0577) 	        
(0578)     }  
(0579)     /*************************************************/  
(0580) //***********************************************************************
(0581) //      液晶显示界面初始化
(0582) //***********************************************************************
(0583) void lcd_Desk(void)
(0584) { 
(0585)   //uint i=0;   
(0586)  // lcd_clear();
(0587)   //lcd_write_str(0,0,"ADC0:");
(0588)   lcd_write_str(0,3,"反白测试第一次");
    00983 E081      LDI	R24,1
    00984 E091      LDI	R25,1
    00985 8399      STD	Y+1,R25
    00986 8388      ST	Y,R24
    00987 E023      LDI	R18,3
    00988 2700      CLR	R16
    00989 DD12      RCALL	_lcd_write_str
(0589)   lcd_write_str(0,0,"反白测试第一次");
    0098A E081      LDI	R24,1
    0098B E091      LDI	R25,1
    0098C 8399      STD	Y+1,R25
    0098D 8388      ST	Y,R24
    0098E 2722      CLR	R18
    0098F 2700      CLR	R16
    00990 DD0B      RCALL	_lcd_write_str
(0590)   //delay_ms(100);
(0591)      
(0592)     Set_White(1,1,7); 
    00991 E087      LDI	R24,7
    00992 8388      ST	Y,R24
    00993 E021      LDI	R18,1
    00994 E001      LDI	R16,1
    00995 DF2B      RCALL	_Set_White
(0593) 	   
(0594) 	 
(0595)     delay_ms(3000); 
    00996 EB08      LDI	R16,0xB8
    00997 E01B      LDI	R17,0xB
    00998 940E 044B CALL	_delay_ms
(0596)      Set_White_off(1,1,7);
    0099A E087      LDI	R24,7
    0099B 8388      ST	Y,R24
    0099C E021      LDI	R18,1
    0099D E001      LDI	R16,1
    0099E DEB2      RCALL	_Set_White_off
(0597) 	Set_White(2,1,2); 
    0099F E082      LDI	R24,2
    009A0 8388      ST	Y,R24
    009A1 E021      LDI	R18,1
    009A2 E002      LDI	R16,2
    009A3 DF1D      RCALL	_Set_White
(0598) 	 delay_ms(300); 
    009A4 E20C      LDI	R16,0x2C
    009A5 E011      LDI	R17,1
    009A6 940E 044B CALL	_delay_ms
(0599) 	 Set_White_off(2,2,7);
    009A8 E087      LDI	R24,7
    009A9 8388      ST	Y,R24
    009AA E022      LDI	R18,2
    009AB E002      LDI	R16,2
    009AC DEA4      RCALL	_Set_White_off
(0600) 	 Set_White(3,1,5);   
    009AD E085      LDI	R24,5
    009AE 8388      ST	Y,R24
    009AF E021      LDI	R18,1
    009B0 E003      LDI	R16,3
    009B1 DF0F      RCALL	_Set_White
    009B2 9622      ADIW	R28,2
    009B3 9508      RET
_main:
    009B4 9721      SBIW	R28,1
FILE: E:\ICCDemo\Temp_Control\temp_control\main.c
(0001) 
(0002) #include<iom128v.h>
(0003) #include "main.h"
(0004) #include "lcd.h"
(0005) #include "time1307.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "timertask.h"
(0009) #include "eeprom.h"
(0010) #include "pages.h"
(0011) #include "temp.h"
(0012) //const unsigned char nihao[1536]={};
(0013) unsigned int waitflag=1000;//确认恢复的等待标记，初始为10，如果为0代表到时
(0014) //下面两个继续使用。暂时保存数据使用
(0015)  unsigned int temp_h=0;
(0016)  unsigned int temp_l=0;
(0017)  //uart需要参数
(0018)  unsigned char send_buf[600];
(0019)  unsigned char receive_buf[600];
(0020)  unsigned int send_len;
(0021)  unsigned int receive_len;
(0022)  //界面需要参数
(0023)  unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0024)  unsigned int pageParam[5];//传递参数。界面间参数暂存
(0025)  unsigned int prePageNum; //上一界面。应该在跳转前设置这个参数。但是用到这个参数的就Page3、4、8.所以可以直接在该界面用到在设置。不用理会规则
(0026)  //**************
(0027) struct temp temps[4]={{0},{0},{0},{0}};
(0028) 
(0029) 
(0030) //*************************************************************************
(0031) //			主程序
(0032) //*************************************************************************
(0033) void main(void)
(0034) { 
(0035) 
(0036)   DDRE=0xFF;
    009B5 EF8F      LDI	R24,0xFF
    009B6 B982      OUT	0x02,R24
(0037)   PORTE=~0xaa;
    009B7 E585      LDI	R24,0x55
    009B8 B983      OUT	0x03,R24
(0038)   SREG|=0x80;//开中断
    009B9 9478      BSET	7
(0039)   lcd_init();
    009BA 940E 07E0 CALL	_lcd_init
(0040)   lcd_clear();
    009BC 940E 0753 CALL	_lcd_clear
(0041)    //画欢迎界面
(0042)   //Draw_Pic( 0, 0, nihao);
(0043)    //delay_ms(1000);
(0044)      pageNum=2;
    009BE E082      LDI	R24,2
    009BF E090      LDI	R25,0
    009C0 9390 0D61 STS	pageNum+1,R25
    009C2 9380 0D60 STS	pageNum,R24
(0045)      Set_White_off(1,0,12);
    009C4 E08C      LDI	R24,0xC
    009C5 8388      ST	Y,R24
    009C6 2722      CLR	R18
    009C7 E001      LDI	R16,1
    009C8 940E 0851 CALL	_Set_White_off
(0046) 	 Set_White_off(1,1,12);
    009CA E08C      LDI	R24,0xC
    009CB 8388      ST	Y,R24
    009CC E021      LDI	R18,1
    009CD E001      LDI	R16,1
    009CE 940E 0851 CALL	_Set_White_off
(0047) 	 Set_White_off(1,2,12);
    009D0 E08C      LDI	R24,0xC
    009D1 8388      ST	Y,R24
    009D2 E022      LDI	R18,2
    009D3 E001      LDI	R16,1
    009D4 940E 0851 CALL	_Set_White_off
(0048) 	 Set_White_off(1,3,12);
    009D6 E08C      LDI	R24,0xC
    009D7 8388      ST	Y,R24
    009D8 E023      LDI	R18,3
    009D9 E001      LDI	R16,1
    009DA 940E 0851 CALL	_Set_White_off
(0049) 	 //测试使用
(0050) 	   temp_l=0x50;
    009DC E580      LDI	R24,0x50
    009DD E090      LDI	R25,0
    009DE 9390 0115 STS	temp_l+1,R25
    009E0 9380 0114 STS	temp_l,R24
(0051)       temp_h=0x12;
    009E2 E182      LDI	R24,0x12
    009E3 9390 0113 STS	temp_h+1,R25
    009E5 9380 0112 STS	temp_h,R24
(0052) 	  tempdata_init();//数据初始化，清空
    009E7 940E 2EA9 CALL	_tempdata_init
(0053)       Initial_time(); //初始化时间的
    009E9 940E 367B CALL	_Initial_time
(0054) 	  Timerinit_3(0xe0,0x00);//使用16位的定时器3来读取温度和pid算法
    009EB 2722      CLR	R18
    009EC EE00      LDI	R16,0xE0
    009ED 940E 0A0B CALL	_Timerinit_3
(0055) 	  Timerinit_1(0xFe,0xb8);//使用16位的定时器1来输出
    009EF EB28      LDI	R18,0xB8
    009F0 EF0E      LDI	R16,0xFE
    009F1 940E 09FC CALL	_Timerinit_1
(0056) 	  Timerinit_2(0x00);
    009F3 2700      CLR	R16
    009F4 940E 0A2A CALL	_Timerinit_2
    009F6 C002      RJMP	0x09F9
(0057) 	 while(1){
(0058)      dispatchPages();
    009F7 940E 236A CALL	_dispatchPages
    009F9 CFFD      RJMP	0x09F7
    009FA 9621      ADIW	R28,1
    009FB 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\timertask.c
(0001) #include<iom128v.h>
(0002) #include "timertask.h"
(0003) #include "time.h"
(0004) #include "lcd.h"
(0005) #include "delay.h"
(0006) #include "main.h"
(0007) #include "temp.h"
(0008) #include "out.h"
(0009) unsigned int secondflag=64;//8位定时器全计时64次为1s
(0010) unsigned char time_h_1, time_l_1,time_h_3, time_l_3,time_0, time_2,i;
(0011) //************************************************
(0012) //16位定时器，定时器1
(0013) //*************************************************
(0014) /*
(0015)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0016)   自行计算时间传入。传入高低八位
(0017) */
(0018) void Timerinit_1(uchar time_h,uchar time_l){
(0019)     time_h_1=time_h;
_Timerinit_1:
  time_l               --> R18
  time_h               --> R16
    009FC 9300 0D68 STS	time_h_1,R16
(0020) 	time_l_1=time_l;
    009FE 9320 0D67 STS	time_l_1,R18
(0021) 	 TCCR1B=0x00;
    00A00 2422      CLR	R2
    00A01 BC2E      OUT	0x2E,R2
(0022) 	//写入初值
(0023)     TCNT1H=time_h;
    00A02 BD0D      OUT	0x2D,R16
(0024)     TCNT1L=time_l;
    00A03 BD2C      OUT	0x2C,R18
(0025) 	//普通计数，1024分频
(0026)     TCCR1A=0x00;
    00A04 BC2F      OUT	0x2F,R2
(0027)     TCCR1B=0x05;
    00A05 E085      LDI	R24,5
    00A06 BD8E      OUT	0x2E,R24
(0028) 	 TIMSK|=0x04;//开定时器1溢出中断,16位的
    00A07 B787      IN	R24,0x37
    00A08 6084      ORI	R24,4
    00A09 BF87      OUT	0x37,R24
    00A0A 9508      RET
(0029) }
(0030) //************************************************
(0031) //16位定时器，定时器3
(0032) //*************************************************
(0033) /*
(0034)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0035)   自行计算时间传入。传入高低八位
(0036) */
(0037) void Timerinit_3(uchar time_h,uchar time_l){
(0038)  	time_h_3=time_h;
_Timerinit_3:
  time_l               --> R18
  time_h               --> R16
    00A0B 9300 0D66 STS	time_h_3,R16
(0039) 	time_l_3=time_l;
    00A0D 9320 0D65 STS	time_l_3,R18
(0040) 	//写入初值
(0041) 	 TCCR3B=0x00;
    00A0F 2422      CLR	R2
    00A10 9220 008A STS	0x8A,R2
(0042)     TCNT3H=time_h;
    00A12 9300 0089 STS	0x89,R16
(0043)     TCNT3L=time_l;
    00A14 9320 0088 STS	0x88,R18
(0044) 	//普通计数，1024分频
(0045)     TCCR3A=0x00;
    00A16 9220 008B STS	0x8B,R2
(0046)     TCCR3B=0x05;
    00A18 E085      LDI	R24,5
    00A19 9380 008A STS	0x8A,R24
(0047) 	ETIMSK |=0x04;//开外部中断
    00A1B 9180 007D LDS	R24,0x7D
    00A1D 6084      ORI	R24,4
    00A1E 9380 007D STS	0x7D,R24
    00A20 9508      RET
(0048) }
(0049) //************************************************
(0050) //8位定时器，定时器0
(0051) //*************************************************
(0052) 
(0053) /*
(0054)   计数器0，8位的。普通计时，1024分频。
(0055)   自行计算时间传入。
(0056) */
(0057) void Timerinit_0(uchar time){
(0058)     time_0=time;
_Timerinit_0:
  time                 --> R16
    00A21 9300 0D64 STS	time_0,R16
(0059) 	//写入初值
(0060)     TCNT0=time;
    00A23 BF02      OUT	0x32,R16
(0061) 	TIMSK|=0x01;//开定时器0溢出中断,8位的
    00A24 B787      IN	R24,0x37
    00A25 6081      ORI	R24,1
    00A26 BF87      OUT	0x37,R24
(0062) 	 TCCR0=0x07;//普通计数，1024分频
    00A27 E087      LDI	R24,7
    00A28 BF83      OUT	0x33,R24
    00A29 9508      RET
(0063) 	 
(0064) }
(0065) //************************************************
(0066) //8位定时器，定时器2
(0067) //*************************************************
(0068) /*
(0069)   计数器0，8位的。普通计时，1024分频。
(0070)   自行计算时间传入。
(0071) */
(0072) void Timerinit_2(uchar time){
(0073)     time_2=time;
_Timerinit_2:
  time                 --> R16
    00A2A 9300 0D63 STS	time_2,R16
(0074) 	//写入初值
(0075)     TCNT2=time;
    00A2C BD04      OUT	0x24,R16
(0076) 	TIMSK|=0x40;//开定时器2溢出中断,8位的
    00A2D B787      IN	R24,0x37
    00A2E 6480      ORI	R24,0x40
    00A2F BF87      OUT	0x37,R24
(0077) 	//普通计数，1024分频
(0078)     TCCR2=0x05;
    00A30 E085      LDI	R24,5
    00A31 BD85      OUT	0x25,R24
    00A32 9508      RET
_int_timer0:
    00A33 920A      ST	-Y,R0
    00A34 921A      ST	-Y,R1
    00A35 922A      ST	-Y,R2
    00A36 923A      ST	-Y,R3
    00A37 924A      ST	-Y,R4
    00A38 925A      ST	-Y,R5
    00A39 926A      ST	-Y,R6
    00A3A 927A      ST	-Y,R7
    00A3B 928A      ST	-Y,R8
    00A3C 929A      ST	-Y,R9
    00A3D 930A      ST	-Y,R16
    00A3E 931A      ST	-Y,R17
    00A3F 932A      ST	-Y,R18
    00A40 933A      ST	-Y,R19
    00A41 938A      ST	-Y,R24
    00A42 939A      ST	-Y,R25
    00A43 93AA      ST	-Y,R26
    00A44 93BA      ST	-Y,R27
    00A45 93EA      ST	-Y,R30
    00A46 93FA      ST	-Y,R31
    00A47 B60F      IN	R0,0x3F
    00A48 920A      ST	-Y,R0
    00A49 9721      SBIW	R28,1
(0079) }
(0080) #pragma interrupt_handler int_timer0:17
(0081) void int_timer0(void){ 
(0082) 		TCCR0=0x00;
    00A4A 2422      CLR	R2
    00A4B BE23      OUT	0x33,R2
(0083) 		waitflag--;
    00A4C 9180 0110 LDS	R24,waitflag
    00A4E 9190 0111 LDS	R25,waitflag+1
    00A50 9701      SBIW	R24,1
    00A51 9390 0111 STS	waitflag+1,R25
    00A53 9380 0110 STS	waitflag,R24
(0084) 	lcd_write_char(10,0,0x30+(waitflag/100));
    00A55 E624      LDI	R18,0x64
    00A56 E030      LDI	R19,0
    00A57 018C      MOVW	R16,R24
    00A58 940E 373E CALL	div16u
    00A5A 01C8      MOVW	R24,R16
    00A5B 96C0      ADIW	R24,0x30
    00A5C 8388      ST	Y,R24
    00A5D 2722      CLR	R18
    00A5E E00A      LDI	R16,0xA
    00A5F 940E 0676 CALL	_lcd_write_char
(0085) 	lcd_write_char(11,0,'s');	
    00A61 E783      LDI	R24,0x73
    00A62 8388      ST	Y,R24
    00A63 2722      CLR	R18
    00A64 E00B      LDI	R16,0xB
    00A65 940E 0676 CALL	_lcd_write_char
(0086) 	if(waitflag>1){
    00A67 E081      LDI	R24,1
    00A68 E090      LDI	R25,0
    00A69 9020 0110 LDS	R2,waitflag
    00A6B 9030 0111 LDS	R3,waitflag+1
    00A6D 1582      CP	R24,R2
    00A6E 0593      CPC	R25,R3
    00A6F F420      BCC	0x0A74
(0087) 	   TCNT0=0x00;
    00A70 2422      CLR	R2
    00A71 BE22      OUT	0x32,R2
(0088) 	   TCCR0=0x07;
    00A72 E087      LDI	R24,7
    00A73 BF83      OUT	0x33,R24
(0089) 	 }
(0090) 		return;
    00A74 9621      ADIW	R28,1
    00A75 9009      LD	R0,Y+
    00A76 BE0F      OUT	0x3F,R0
    00A77 91F9      LD	R31,Y+
    00A78 91E9      LD	R30,Y+
    00A79 91B9      LD	R27,Y+
    00A7A 91A9      LD	R26,Y+
    00A7B 9199      LD	R25,Y+
    00A7C 9189      LD	R24,Y+
    00A7D 9139      LD	R19,Y+
    00A7E 9129      LD	R18,Y+
    00A7F 9119      LD	R17,Y+
    00A80 9109      LD	R16,Y+
    00A81 9099      LD	R9,Y+
    00A82 9089      LD	R8,Y+
    00A83 9079      LD	R7,Y+
    00A84 9069      LD	R6,Y+
    00A85 9059      LD	R5,Y+
    00A86 9049      LD	R4,Y+
    00A87 9039      LD	R3,Y+
    00A88 9029      LD	R2,Y+
    00A89 9019      LD	R1,Y+
    00A8A 9009      LD	R0,Y+
    00A8B 9518      RETI
_int_timer1:
    00A8C 920A      ST	-Y,R0
    00A8D 921A      ST	-Y,R1
    00A8E 922A      ST	-Y,R2
    00A8F 923A      ST	-Y,R3
    00A90 924A      ST	-Y,R4
    00A91 925A      ST	-Y,R5
    00A92 926A      ST	-Y,R6
    00A93 927A      ST	-Y,R7
    00A94 928A      ST	-Y,R8
    00A95 929A      ST	-Y,R9
    00A96 930A      ST	-Y,R16
    00A97 931A      ST	-Y,R17
    00A98 932A      ST	-Y,R18
    00A99 933A      ST	-Y,R19
    00A9A 938A      ST	-Y,R24
    00A9B 939A      ST	-Y,R25
    00A9C 93AA      ST	-Y,R26
    00A9D 93BA      ST	-Y,R27
    00A9E 93EA      ST	-Y,R30
    00A9F 93FA      ST	-Y,R31
    00AA0 B60F      IN	R0,0x3F
    00AA1 920A      ST	-Y,R0
(0091) }
(0092) //溢出中断。
(0093) #pragma interrupt_handler int_timer1:15
(0094) void int_timer1(void){
(0095) 		 TCCR1B=0x00;
    00AA2 2422      CLR	R2
    00AA3 BC2E      OUT	0x2E,R2
(0096) 		 out_port();
    00AA4 940E 0D9B CALL	_out_port
(0097) 		TCNT1H=time_h_1;
    00AA6 9020 0D68 LDS	R2,time_h_1
    00AA8 BC2D      OUT	0x2D,R2
(0098)          TCNT1L=time_l_1;
    00AA9 9020 0D67 LDS	R2,time_l_1
    00AAB BC2C      OUT	0x2C,R2
(0099) 		 TCCR1B=0x05;
    00AAC E085      LDI	R24,5
    00AAD BD8E      OUT	0x2E,R24
(0100) 		return;
    00AAE 9009      LD	R0,Y+
    00AAF BE0F      OUT	0x3F,R0
    00AB0 91F9      LD	R31,Y+
    00AB1 91E9      LD	R30,Y+
    00AB2 91B9      LD	R27,Y+
    00AB3 91A9      LD	R26,Y+
    00AB4 9199      LD	R25,Y+
    00AB5 9189      LD	R24,Y+
    00AB6 9139      LD	R19,Y+
    00AB7 9129      LD	R18,Y+
    00AB8 9119      LD	R17,Y+
    00AB9 9109      LD	R16,Y+
    00ABA 9099      LD	R9,Y+
    00ABB 9089      LD	R8,Y+
    00ABC 9079      LD	R7,Y+
    00ABD 9069      LD	R6,Y+
    00ABE 9059      LD	R5,Y+
    00ABF 9049      LD	R4,Y+
    00AC0 9039      LD	R3,Y+
    00AC1 9029      LD	R2,Y+
    00AC2 9019      LD	R1,Y+
    00AC3 9009      LD	R0,Y+
    00AC4 9518      RETI
_int_timer2:
    00AC5 920A      ST	-Y,R0
    00AC6 921A      ST	-Y,R1
    00AC7 922A      ST	-Y,R2
    00AC8 923A      ST	-Y,R3
    00AC9 924A      ST	-Y,R4
    00ACA 925A      ST	-Y,R5
    00ACB 926A      ST	-Y,R6
    00ACC 927A      ST	-Y,R7
    00ACD 928A      ST	-Y,R8
    00ACE 929A      ST	-Y,R9
    00ACF 930A      ST	-Y,R16
    00AD0 931A      ST	-Y,R17
    00AD1 932A      ST	-Y,R18
    00AD2 933A      ST	-Y,R19
    00AD3 938A      ST	-Y,R24
    00AD4 939A      ST	-Y,R25
    00AD5 93AA      ST	-Y,R26
    00AD6 93BA      ST	-Y,R27
    00AD7 93EA      ST	-Y,R30
    00AD8 93FA      ST	-Y,R31
    00AD9 B60F      IN	R0,0x3F
    00ADA 920A      ST	-Y,R0
(0101) }
(0102) #pragma interrupt_handler int_timer2:11
(0103) void int_timer2(void){
(0104)       //PORTE=~PORTE;
(0105) 		TCCR2=0x00;
    00ADB 2422      CLR	R2
    00ADC BC25      OUT	0x25,R2
(0106) 		TCNT2=time_2;
    00ADD 9020 0D63 LDS	R2,time_2
    00ADF BC24      OUT	0x24,R2
(0107) 		TCCR2=0x05;
    00AE0 E085      LDI	R24,5
    00AE1 BD85      OUT	0x25,R24
(0108) 		if(secondflag==0){
    00AE2 9020 0626 LDS	R2,secondflag
    00AE4 9030 0627 LDS	R3,secondflag+1
    00AE6 2022      TST	R2
    00AE7 F451      BNE	0x0AF2
    00AE8 2033      TST	R3
    00AE9 F441      BNE	0x0AF2
(0109) 		  secondflag=64;
    00AEA E480      LDI	R24,0x40
    00AEB E090      LDI	R25,0
    00AEC 9390 0627 STS	secondflag+1,R25
    00AEE 9380 0626 STS	secondflag,R24
(0110) 		  int_int2();
    00AF0 940E 23CA CALL	_int_int2
(0111) 		}
(0112) 		secondflag--;
    00AF2 9180 0626 LDS	R24,secondflag
    00AF4 9190 0627 LDS	R25,secondflag+1
    00AF6 9701      SBIW	R24,1
    00AF7 9390 0627 STS	secondflag+1,R25
    00AF9 9380 0626 STS	secondflag,R24
(0113) 		return;
    00AFB 9009      LD	R0,Y+
    00AFC BE0F      OUT	0x3F,R0
    00AFD 91F9      LD	R31,Y+
    00AFE 91E9      LD	R30,Y+
    00AFF 91B9      LD	R27,Y+
    00B00 91A9      LD	R26,Y+
    00B01 9199      LD	R25,Y+
    00B02 9189      LD	R24,Y+
    00B03 9139      LD	R19,Y+
    00B04 9129      LD	R18,Y+
    00B05 9119      LD	R17,Y+
    00B06 9109      LD	R16,Y+
    00B07 9099      LD	R9,Y+
    00B08 9089      LD	R8,Y+
    00B09 9079      LD	R7,Y+
    00B0A 9069      LD	R6,Y+
    00B0B 9059      LD	R5,Y+
    00B0C 9049      LD	R4,Y+
    00B0D 9039      LD	R3,Y+
    00B0E 9029      LD	R2,Y+
    00B0F 9019      LD	R1,Y+
    00B10 9009      LD	R0,Y+
    00B11 9518      RETI
_int_timer3:
    00B12 920A      ST	-Y,R0
    00B13 921A      ST	-Y,R1
    00B14 922A      ST	-Y,R2
    00B15 923A      ST	-Y,R3
    00B16 924A      ST	-Y,R4
    00B17 925A      ST	-Y,R5
    00B18 926A      ST	-Y,R6
    00B19 927A      ST	-Y,R7
    00B1A 928A      ST	-Y,R8
    00B1B 929A      ST	-Y,R9
    00B1C 930A      ST	-Y,R16
    00B1D 931A      ST	-Y,R17
    00B1E 932A      ST	-Y,R18
    00B1F 933A      ST	-Y,R19
    00B20 938A      ST	-Y,R24
    00B21 939A      ST	-Y,R25
    00B22 93AA      ST	-Y,R26
    00B23 93BA      ST	-Y,R27
    00B24 93EA      ST	-Y,R30
    00B25 93FA      ST	-Y,R31
    00B26 B60F      IN	R0,0x3F
    00B27 920A      ST	-Y,R0
(0114) }
(0115) //16位定时器，定时器3溢出中断。
(0116) #pragma interrupt_handler int_timer3:30
(0117) void int_timer3(void){
(0118)       TCCR3B=0x00;
    00B28 2422      CLR	R2
    00B29 9220 008A STS	0x8A,R2
(0119)       tempcontrol();//执行温度调节
    00B2B 940E 2D35 CALL	_tempcontrol
(0120) 	  TCNT3H=time_h_3;
    00B2D 9020 0D66 LDS	R2,time_h_3
    00B2F 9220 0089 STS	0x89,R2
(0121)       TCNT3L=time_l_3;
    00B31 9020 0D65 LDS	R2,time_l_3
    00B33 9220 0088 STS	0x88,R2
(0122)       TCCR3B=0x05;
    00B35 E085      LDI	R24,5
    00B36 9380 008A STS	0x8A,R24
    00B38 9009      LD	R0,Y+
    00B39 BE0F      OUT	0x3F,R0
    00B3A 91F9      LD	R31,Y+
    00B3B 91E9      LD	R30,Y+
    00B3C 91B9      LD	R27,Y+
    00B3D 91A9      LD	R26,Y+
    00B3E 9199      LD	R25,Y+
    00B3F 9189      LD	R24,Y+
    00B40 9139      LD	R19,Y+
    00B41 9129      LD	R18,Y+
    00B42 9119      LD	R17,Y+
    00B43 9109      LD	R16,Y+
    00B44 9099      LD	R9,Y+
    00B45 9089      LD	R8,Y+
    00B46 9079      LD	R7,Y+
    00B47 9069      LD	R6,Y+
    00B48 9059      LD	R5,Y+
    00B49 9049      LD	R4,Y+
    00B4A 9039      LD	R3,Y+
    00B4B 9029      LD	R2,Y+
    00B4C 9019      LD	R1,Y+
    00B4D 9009      LD	R0,Y+
    00B4E 9518      RETI
_readTemp_1:
  i                    --> R20
    00B4F 934A      ST	-Y,R20
    00B50 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\max6675.c
(0001) #include<iom128v.h>
(0002) #include "max6675.h"
(0003) #include "main.h"
(0004) #include "delay.h"
(0005) #define sck_h_1 PORTE|=(1<<PE3) 
(0006) #define sck_l_1 PORTE&=~(1<<PE3) 
(0007) #define cs_h_1 PORTE|=1<<PE4 
(0008) #define cs_l_1 PORTE&=~(1<<PE4) 
(0009) 
(0010) #define sck_h_2 PORTE|=(1<<PE6) 
(0011) #define sck_l_2 PORTE&=~(1<<PE6) 
(0012) #define cs_h_2 PORTE|=1<<PE7 
(0013) #define cs_l_2 PORTE&=~(1<<PE7) 
(0014) 
(0015) #define sck_h_3 PORTF|=(1<<PF1) 
(0016) #define sck_l_3 PORTF&=~(1<<PF1) 
(0017) #define cs_h_3 PORTF|=1<<PF2 
(0018) #define cs_l_3 PORTF&=~(1<<PF2) 
(0019) 
(0020) #define sck_h_4 PORTF|=(1<<PF4) 
(0021) #define sck_l_4 PORTF&=~(1<<PF4) 
(0022) #define cs_h_4 PORTF|=1<<PF5 
(0023) #define cs_l_4 PORTF&=~(1<<PF5) 
(0024) void readTemp_1(void){
(0025) 	   uint i;
(0026) 	   sck_h_1;
    00B51 9A1B      SBI	0x03,3
(0027) 	   cs_h_1;
    00B52 9A1C      SBI	0x03,4
(0028) 	   delay_us(1);
    00B53 E001      LDI	R16,1
    00B54 E010      LDI	R17,0
    00B55 940E 0441 CALL	_delay_us
(0029) 	   cs_l_1;
    00B57 981C      CBI	0x03,4
(0030) 	   delay_us(1);
    00B58 E001      LDI	R16,1
    00B59 E010      LDI	R17,0
    00B5A 940E 0441 CALL	_delay_us
(0031) 	   sck_l_1;
    00B5C 981B      CBI	0x03,3
(0032) 	   delay_us(1);
    00B5D E001      LDI	R16,1
    00B5E E010      LDI	R17,0
    00B5F 940E 0441 CALL	_delay_us
(0033) 	   sck_h_1;
    00B61 9A1B      SBI	0x03,3
(0034) 	  for(i=0;i<8;i++){
    00B62 2744      CLR	R20
    00B63 2755      CLR	R21
    00B64 C024      RJMP	0x0B89
(0035) 			sck_l_1;
    00B65 981B      CBI	0x03,3
(0036) 			delay_us(1);
    00B66 E001      LDI	R16,1
    00B67 E010      LDI	R17,0
    00B68 940E 0441 CALL	_delay_us
(0037) 			temp_h=temp_h<<1;
    00B6A 9020 0112 LDS	R2,temp_h
    00B6C 9030 0113 LDS	R3,temp_h+1
    00B6E 0C22      LSL	R2
    00B6F 1C33      ROL	R3
    00B70 9230 0113 STS	temp_h+1,R3
    00B72 9220 0112 STS	temp_h,R2
(0038) 	    	temp_h=temp_h|((PINE&0x04)>>2);
    00B74 B181      IN	R24,0x01
    00B75 2799      CLR	R25
    00B76 7084      ANDI	R24,4
    00B77 7090      ANDI	R25,0
    00B78 9595      ASR	R25
    00B79 9587      ROR	R24
    00B7A 9595      ASR	R25
    00B7B 9587      ROR	R24
    00B7C 2A28      OR	R2,R24
    00B7D 2A39      OR	R3,R25
    00B7E 9230 0113 STS	temp_h+1,R3
    00B80 9220 0112 STS	temp_h,R2
(0039) 			sck_h_1;
    00B82 9A1B      SBI	0x03,3
(0040) 			delay_us(1);
    00B83 E001      LDI	R16,1
    00B84 E010      LDI	R17,0
    00B85 940E 0441 CALL	_delay_us
    00B87 5F4F      SUBI	R20,0xFF
    00B88 4F5F      SBCI	R21,0xFF
    00B89 3048      CPI	R20,0x8
    00B8A E0E0      LDI	R30,0
    00B8B 075E      CPC	R21,R30
    00B8C F2C0      BCS	0x0B65
(0041) 			
(0042) 	   }
(0043) 	   for(i=0;i<8;i++){
    00B8D 2744      CLR	R20
    00B8E 2755      CLR	R21
    00B8F C024      RJMP	0x0BB4
(0044) 			sck_l_1;
    00B90 981B      CBI	0x03,3
(0045) 			delay_us(1);
    00B91 E001      LDI	R16,1
    00B92 E010      LDI	R17,0
    00B93 940E 0441 CALL	_delay_us
(0046) 			temp_l<<=1;
    00B95 9020 0114 LDS	R2,temp_l
    00B97 9030 0115 LDS	R3,temp_l+1
    00B99 0C22      LSL	R2
    00B9A 1C33      ROL	R3
    00B9B 9230 0115 STS	temp_l+1,R3
    00B9D 9220 0114 STS	temp_l,R2
(0047) 	    	temp_l=temp_l|((PINE&0x04)>>2);
    00B9F B181      IN	R24,0x01
    00BA0 2799      CLR	R25
    00BA1 7084      ANDI	R24,4
    00BA2 7090      ANDI	R25,0
    00BA3 9595      ASR	R25
    00BA4 9587      ROR	R24
    00BA5 9595      ASR	R25
    00BA6 9587      ROR	R24
    00BA7 2A28      OR	R2,R24
    00BA8 2A39      OR	R3,R25
    00BA9 9230 0115 STS	temp_l+1,R3
    00BAB 9220 0114 STS	temp_l,R2
(0048) 			sck_h_1;
    00BAD 9A1B      SBI	0x03,3
(0049) 			delay_us(1);
    00BAE E001      LDI	R16,1
    00BAF E010      LDI	R17,0
    00BB0 940E 0441 CALL	_delay_us
    00BB2 5F4F      SUBI	R20,0xFF
    00BB3 4F5F      SBCI	R21,0xFF
    00BB4 3048      CPI	R20,0x8
    00BB5 E0E0      LDI	R30,0
    00BB6 075E      CPC	R21,R30
    00BB7 F2C0      BCS	0x0B90
(0050) 	   }
(0051) 	    cs_h_1;
    00BB8 9A1C      SBI	0x03,4
(0052) 	   delay_us(10);
    00BB9 E00A      LDI	R16,0xA
    00BBA E010      LDI	R17,0
    00BBB 940E 0441 CALL	_delay_us
(0053) 	  // temp_l=0x55;
(0054) 	   return ;
    00BBD 9159      LD	R21,Y+
    00BBE 9149      LD	R20,Y+
    00BBF 9508      RET
_readTemp_2:
  i                    --> R20
    00BC0 934A      ST	-Y,R20
    00BC1 935A      ST	-Y,R21
(0055) }
(0056) void readTemp_2(void){
(0057) 	   uint i;
(0058) 	   sck_h_2;
    00BC2 9A1E      SBI	0x03,6
(0059) 	   cs_h_2;
    00BC3 9A1F      SBI	0x03,7
(0060) 	   delay_us(1);
    00BC4 E001      LDI	R16,1
    00BC5 E010      LDI	R17,0
    00BC6 940E 0441 CALL	_delay_us
(0061) 	   cs_l_2;
    00BC8 981F      CBI	0x03,7
(0062) 	   delay_us(1);
    00BC9 E001      LDI	R16,1
    00BCA E010      LDI	R17,0
    00BCB 940E 0441 CALL	_delay_us
(0063) 	   sck_l_2;
    00BCD 981E      CBI	0x03,6
(0064) 	   delay_us(1);
    00BCE E001      LDI	R16,1
    00BCF E010      LDI	R17,0
    00BD0 940E 0441 CALL	_delay_us
(0065) 	   sck_h_2;
    00BD2 9A1E      SBI	0x03,6
(0066) 	  for(i=0;i<8;i++){
    00BD3 2744      CLR	R20
    00BD4 2755      CLR	R21
    00BD5 C028      RJMP	0x0BFE
(0067) 			sck_l_2;
    00BD6 981E      CBI	0x03,6
(0068) 			delay_us(1);
    00BD7 E001      LDI	R16,1
    00BD8 E010      LDI	R17,0
    00BD9 940E 0441 CALL	_delay_us
(0069) 			temp_h=temp_h<<1;
    00BDB 9020 0112 LDS	R2,temp_h
    00BDD 9030 0113 LDS	R3,temp_h+1
    00BDF 0C22      LSL	R2
    00BE0 1C33      ROL	R3
    00BE1 9230 0113 STS	temp_h+1,R3
    00BE3 9220 0112 STS	temp_h,R2
(0070) 	    	temp_h=temp_h|((PINE&0x20)>>5);
    00BE5 E025      LDI	R18,5
    00BE6 E030      LDI	R19,0
    00BE7 B101      IN	R16,0x01
    00BE8 2711      CLR	R17
    00BE9 7200      ANDI	R16,0x20
    00BEA 7010      ANDI	R17,0
    00BEB 940E 3717 CALL	asr16
    00BED 9020 0112 LDS	R2,temp_h
    00BEF 9030 0113 LDS	R3,temp_h+1
    00BF1 2A20      OR	R2,R16
    00BF2 2A31      OR	R3,R17
    00BF3 9230 0113 STS	temp_h+1,R3
    00BF5 9220 0112 STS	temp_h,R2
(0071) 			sck_h_2;
    00BF7 9A1E      SBI	0x03,6
(0072) 			delay_us(1);
    00BF8 E001      LDI	R16,1
    00BF9 E010      LDI	R17,0
    00BFA 940E 0441 CALL	_delay_us
    00BFC 5F4F      SUBI	R20,0xFF
    00BFD 4F5F      SBCI	R21,0xFF
    00BFE 3048      CPI	R20,0x8
    00BFF E0E0      LDI	R30,0
    00C00 075E      CPC	R21,R30
    00C01 F2A0      BCS	0x0BD6
(0073) 			
(0074) 	   }
(0075) 	   for(i=0;i<8;i++){
    00C02 2744      CLR	R20
    00C03 2755      CLR	R21
    00C04 C028      RJMP	0x0C2D
(0076) 			sck_l_2;
    00C05 981E      CBI	0x03,6
(0077) 			delay_us(1);
    00C06 E001      LDI	R16,1
    00C07 E010      LDI	R17,0
    00C08 940E 0441 CALL	_delay_us
(0078) 			temp_l<<=1;
    00C0A 9020 0114 LDS	R2,temp_l
    00C0C 9030 0115 LDS	R3,temp_l+1
    00C0E 0C22      LSL	R2
    00C0F 1C33      ROL	R3
    00C10 9230 0115 STS	temp_l+1,R3
    00C12 9220 0114 STS	temp_l,R2
(0079) 	    	temp_l=temp_l|((PINE&0x20)>>5);
    00C14 E025      LDI	R18,5
    00C15 E030      LDI	R19,0
    00C16 B101      IN	R16,0x01
    00C17 2711      CLR	R17
    00C18 7200      ANDI	R16,0x20
    00C19 7010      ANDI	R17,0
    00C1A 940E 3717 CALL	asr16
    00C1C 9020 0114 LDS	R2,temp_l
    00C1E 9030 0115 LDS	R3,temp_l+1
    00C20 2A20      OR	R2,R16
    00C21 2A31      OR	R3,R17
    00C22 9230 0115 STS	temp_l+1,R3
    00C24 9220 0114 STS	temp_l,R2
(0080) 			sck_h_2;
    00C26 9A1E      SBI	0x03,6
(0081) 			delay_us(1);
    00C27 E001      LDI	R16,1
    00C28 E010      LDI	R17,0
    00C29 940E 0441 CALL	_delay_us
    00C2B 5F4F      SUBI	R20,0xFF
    00C2C 4F5F      SBCI	R21,0xFF
    00C2D 3048      CPI	R20,0x8
    00C2E E0E0      LDI	R30,0
    00C2F 075E      CPC	R21,R30
    00C30 F2A0      BCS	0x0C05
(0082) 	   }
(0083) 	    cs_h_2;
    00C31 9A1F      SBI	0x03,7
(0084) 	   delay_us(10);
    00C32 E00A      LDI	R16,0xA
    00C33 E010      LDI	R17,0
    00C34 940E 0441 CALL	_delay_us
(0085) 	  // temp_l=0x55;
(0086) 	   return ;
    00C36 9159      LD	R21,Y+
    00C37 9149      LD	R20,Y+
    00C38 9508      RET
_readTemp_3:
  i                    --> R20
    00C39 934A      ST	-Y,R20
    00C3A 935A      ST	-Y,R21
(0087) }
(0088) void readTemp_3(void){
(0089) 	   uint i;
(0090) 	   sck_h_3;
    00C3B 9180 0062 LDS	R24,0x62
    00C3D 6082      ORI	R24,2
    00C3E 9380 0062 STS	0x62,R24
(0091) 	   cs_h_3;
    00C40 9180 0062 LDS	R24,0x62
    00C42 6084      ORI	R24,4
    00C43 9380 0062 STS	0x62,R24
(0092) 	   delay_us(1);
    00C45 E001      LDI	R16,1
    00C46 E010      LDI	R17,0
    00C47 940E 0441 CALL	_delay_us
(0093) 	   cs_l_3;
    00C49 9180 0062 LDS	R24,0x62
    00C4B 7F8B      ANDI	R24,0xFB
    00C4C 9380 0062 STS	0x62,R24
(0094) 	   delay_us(1);
    00C4E E001      LDI	R16,1
    00C4F E010      LDI	R17,0
    00C50 940E 0441 CALL	_delay_us
(0095) 	   sck_l_3;
    00C52 9180 0062 LDS	R24,0x62
    00C54 7F8D      ANDI	R24,0xFD
    00C55 9380 0062 STS	0x62,R24
(0096) 	   delay_us(1);
    00C57 E001      LDI	R16,1
    00C58 E010      LDI	R17,0
    00C59 940E 0441 CALL	_delay_us
(0097) 	   sck_h_3;
    00C5B 9180 0062 LDS	R24,0x62
    00C5D 6082      ORI	R24,2
    00C5E 9380 0062 STS	0x62,R24
(0098) 	  for(i=0;i<8;i++){
    00C60 2744      CLR	R20
    00C61 2755      CLR	R21
    00C62 C028      RJMP	0x0C8B
(0099) 			sck_l_3;
    00C63 9180 0062 LDS	R24,0x62
    00C65 7F8D      ANDI	R24,0xFD
    00C66 9380 0062 STS	0x62,R24
(0100) 			delay_us(1);
    00C68 E001      LDI	R16,1
    00C69 E010      LDI	R17,0
    00C6A 940E 0441 CALL	_delay_us
(0101) 			temp_h=temp_h<<1;
    00C6C 9020 0112 LDS	R2,temp_h
    00C6E 9030 0113 LDS	R3,temp_h+1
    00C70 0C22      LSL	R2
    00C71 1C33      ROL	R3
    00C72 9230 0113 STS	temp_h+1,R3
    00C74 9220 0112 STS	temp_h,R2
(0102) 	    	temp_h=temp_h|(PINF&0x01);
    00C76 B180      IN	R24,0x00
    00C77 2799      CLR	R25
    00C78 7081      ANDI	R24,1
    00C79 7090      ANDI	R25,0
    00C7A 2A28      OR	R2,R24
    00C7B 2A39      OR	R3,R25
    00C7C 9230 0113 STS	temp_h+1,R3
    00C7E 9220 0112 STS	temp_h,R2
(0103) 			sck_h_3;
    00C80 9180 0062 LDS	R24,0x62
    00C82 6082      ORI	R24,2
    00C83 9380 0062 STS	0x62,R24
(0104) 			delay_us(1);
    00C85 E001      LDI	R16,1
    00C86 E010      LDI	R17,0
    00C87 940E 0441 CALL	_delay_us
    00C89 5F4F      SUBI	R20,0xFF
    00C8A 4F5F      SBCI	R21,0xFF
    00C8B 3048      CPI	R20,0x8
    00C8C E0E0      LDI	R30,0
    00C8D 075E      CPC	R21,R30
    00C8E F2A0      BCS	0x0C63
(0105) 			
(0106) 	   }
(0107) 	   for(i=0;i<8;i++){
    00C8F 2744      CLR	R20
    00C90 2755      CLR	R21
    00C91 C028      RJMP	0x0CBA
(0108) 			sck_l_3;
    00C92 9180 0062 LDS	R24,0x62
    00C94 7F8D      ANDI	R24,0xFD
    00C95 9380 0062 STS	0x62,R24
(0109) 			delay_us(1);
    00C97 E001      LDI	R16,1
    00C98 E010      LDI	R17,0
    00C99 940E 0441 CALL	_delay_us
(0110) 			temp_l<<=1;
    00C9B 9020 0114 LDS	R2,temp_l
    00C9D 9030 0115 LDS	R3,temp_l+1
    00C9F 0C22      LSL	R2
    00CA0 1C33      ROL	R3
    00CA1 9230 0115 STS	temp_l+1,R3
    00CA3 9220 0114 STS	temp_l,R2
(0111) 	    	temp_l=temp_l|(PINF&0x01);
    00CA5 B180      IN	R24,0x00
    00CA6 2799      CLR	R25
    00CA7 7081      ANDI	R24,1
    00CA8 7090      ANDI	R25,0
    00CA9 2A28      OR	R2,R24
    00CAA 2A39      OR	R3,R25
    00CAB 9230 0115 STS	temp_l+1,R3
    00CAD 9220 0114 STS	temp_l,R2
(0112) 			sck_h_3;
    00CAF 9180 0062 LDS	R24,0x62
    00CB1 6082      ORI	R24,2
    00CB2 9380 0062 STS	0x62,R24
(0113) 			delay_us(1);
    00CB4 E001      LDI	R16,1
    00CB5 E010      LDI	R17,0
    00CB6 940E 0441 CALL	_delay_us
    00CB8 5F4F      SUBI	R20,0xFF
    00CB9 4F5F      SBCI	R21,0xFF
    00CBA 3048      CPI	R20,0x8
    00CBB E0E0      LDI	R30,0
    00CBC 075E      CPC	R21,R30
    00CBD F2A0      BCS	0x0C92
(0114) 	   }
(0115) 	    cs_h_3;
    00CBE 9180 0062 LDS	R24,0x62
    00CC0 6084      ORI	R24,4
    00CC1 9380 0062 STS	0x62,R24
(0116) 	   delay_us(10);
    00CC3 E00A      LDI	R16,0xA
    00CC4 E010      LDI	R17,0
    00CC5 940E 0441 CALL	_delay_us
(0117) 	  // temp_l=0x55;
(0118) 	   return ;
    00CC7 9159      LD	R21,Y+
    00CC8 9149      LD	R20,Y+
    00CC9 9508      RET
_readTemp_4:
  i                    --> R20
    00CCA 934A      ST	-Y,R20
    00CCB 935A      ST	-Y,R21
(0119) }
(0120) void readTemp_4(void){
(0121) 	  uint i;
(0122) 	   sck_h_4;
    00CCC 9180 0062 LDS	R24,0x62
    00CCE 6180      ORI	R24,0x10
    00CCF 9380 0062 STS	0x62,R24
(0123) 	   cs_h_4;
    00CD1 9180 0062 LDS	R24,0x62
    00CD3 6280      ORI	R24,0x20
    00CD4 9380 0062 STS	0x62,R24
(0124) 	   delay_us(1);
    00CD6 E001      LDI	R16,1
    00CD7 E010      LDI	R17,0
    00CD8 940E 0441 CALL	_delay_us
(0125) 	   cs_l_4;
    00CDA 9180 0062 LDS	R24,0x62
    00CDC 7D8F      ANDI	R24,0xDF
    00CDD 9380 0062 STS	0x62,R24
(0126) 	   delay_us(1);
    00CDF E001      LDI	R16,1
    00CE0 E010      LDI	R17,0
    00CE1 940E 0441 CALL	_delay_us
(0127) 	   sck_l_4;
    00CE3 9180 0062 LDS	R24,0x62
    00CE5 7E8F      ANDI	R24,0xEF
    00CE6 9380 0062 STS	0x62,R24
(0128) 	   delay_us(1);
    00CE8 E001      LDI	R16,1
    00CE9 E010      LDI	R17,0
    00CEA 940E 0441 CALL	_delay_us
(0129) 	   sck_h_4;
    00CEC 9180 0062 LDS	R24,0x62
    00CEE 6180      ORI	R24,0x10
    00CEF 9380 0062 STS	0x62,R24
(0130) 	  for(i=0;i<8;i++){
    00CF1 2744      CLR	R20
    00CF2 2755      CLR	R21
    00CF3 C033      RJMP	0x0D27
(0131) 			sck_l_4;
    00CF4 9180 0062 LDS	R24,0x62
    00CF6 7E8F      ANDI	R24,0xEF
    00CF7 9380 0062 STS	0x62,R24
(0132) 			delay_us(1);
    00CF9 E001      LDI	R16,1
    00CFA E010      LDI	R17,0
    00CFB 940E 0441 CALL	_delay_us
(0133) 			temp_h=temp_h<<1;
    00CFD 9020 0112 LDS	R2,temp_h
    00CFF 9030 0113 LDS	R3,temp_h+1
    00D01 0C22      LSL	R2
    00D02 1C33      ROL	R3
    00D03 9230 0113 STS	temp_h+1,R3
    00D05 9220 0112 STS	temp_h,R2
(0134) 	    	temp_h=temp_h|((PINE&0x08)>>3);
    00D07 B181      IN	R24,0x01
    00D08 2799      CLR	R25
    00D09 7088      ANDI	R24,0x8
    00D0A 7090      ANDI	R25,0
    00D0B 011C      MOVW	R2,R24
    00D0C 9435      ASR	R3
    00D0D 9427      ROR	R2
    00D0E 9435      ASR	R3
    00D0F 9427      ROR	R2
    00D10 9435      ASR	R3
    00D11 9427      ROR	R2
    00D12 9040 0112 LDS	R4,temp_h
    00D14 9050 0113 LDS	R5,temp_h+1
    00D16 2842      OR	R4,R2
    00D17 2853      OR	R5,R3
    00D18 9250 0113 STS	temp_h+1,R5
    00D1A 9240 0112 STS	temp_h,R4
(0135) 			sck_h_4;
    00D1C 9180 0062 LDS	R24,0x62
    00D1E 6180      ORI	R24,0x10
    00D1F 9380 0062 STS	0x62,R24
(0136) 			delay_us(1);
    00D21 E001      LDI	R16,1
    00D22 E010      LDI	R17,0
    00D23 940E 0441 CALL	_delay_us
    00D25 5F4F      SUBI	R20,0xFF
    00D26 4F5F      SBCI	R21,0xFF
    00D27 3048      CPI	R20,0x8
    00D28 E0E0      LDI	R30,0
    00D29 075E      CPC	R21,R30
    00D2A F248      BCS	0x0CF4
(0137) 			
(0138) 	   }
(0139) 	   for(i=0;i<8;i++){
    00D2B 2744      CLR	R20
    00D2C 2755      CLR	R21
    00D2D C033      RJMP	0x0D61
(0140) 			sck_l_4;
    00D2E 9180 0062 LDS	R24,0x62
    00D30 7E8F      ANDI	R24,0xEF
    00D31 9380 0062 STS	0x62,R24
(0141) 			delay_us(1);
    00D33 E001      LDI	R16,1
    00D34 E010      LDI	R17,0
    00D35 940E 0441 CALL	_delay_us
(0142) 			temp_l<<=1;
    00D37 9020 0114 LDS	R2,temp_l
    00D39 9030 0115 LDS	R3,temp_l+1
    00D3B 0C22      LSL	R2
    00D3C 1C33      ROL	R3
    00D3D 9230 0115 STS	temp_l+1,R3
    00D3F 9220 0114 STS	temp_l,R2
(0143) 	    	temp_l=temp_l|((PINE&0x08)>>3);
    00D41 B181      IN	R24,0x01
    00D42 2799      CLR	R25
    00D43 7088      ANDI	R24,0x8
    00D44 7090      ANDI	R25,0
    00D45 011C      MOVW	R2,R24
    00D46 9435      ASR	R3
    00D47 9427      ROR	R2
    00D48 9435      ASR	R3
    00D49 9427      ROR	R2
    00D4A 9435      ASR	R3
    00D4B 9427      ROR	R2
    00D4C 9040 0114 LDS	R4,temp_l
    00D4E 9050 0115 LDS	R5,temp_l+1
    00D50 2842      OR	R4,R2
    00D51 2853      OR	R5,R3
    00D52 9250 0115 STS	temp_l+1,R5
    00D54 9240 0114 STS	temp_l,R4
(0144) 			sck_h_4;
    00D56 9180 0062 LDS	R24,0x62
    00D58 6180      ORI	R24,0x10
    00D59 9380 0062 STS	0x62,R24
(0145) 			delay_us(1);
    00D5B E001      LDI	R16,1
    00D5C E010      LDI	R17,0
    00D5D 940E 0441 CALL	_delay_us
    00D5F 5F4F      SUBI	R20,0xFF
    00D60 4F5F      SBCI	R21,0xFF
    00D61 3048      CPI	R20,0x8
    00D62 E0E0      LDI	R30,0
    00D63 075E      CPC	R21,R30
    00D64 F248      BCS	0x0D2E
(0146) 	   }
(0147) 	    cs_h_4;
    00D65 9180 0062 LDS	R24,0x62
    00D67 6280      ORI	R24,0x20
    00D68 9380 0062 STS	0x62,R24
(0148) 	   delay_us(10);
    00D6A E00A      LDI	R16,0xA
    00D6B E010      LDI	R17,0
    00D6C 940E 0441 CALL	_delay_us
(0149) 	  // temp_l=0x55;
(0150) 	   return ;
    00D6E 9159      LD	R21,Y+
    00D6F 9149      LD	R20,Y+
    00D70 9508      RET
_readTemp:
  n                    --> R20
    00D71 934A      ST	-Y,R20
    00D72 935A      ST	-Y,R21
    00D73 01A8      MOVW	R20,R16
(0151) }
(0152) //传入的int：0、1、2、3对应温度的读取
(0153) void readTemp(uint n){
(0154)   DDRE=0xDA;
    00D74 ED8A      LDI	R24,0xDA
    00D75 B982      OUT	0x02,R24
(0155)   DDRF=0xF6;
    00D76 EF86      LDI	R24,0xF6
    00D77 9380 0061 STS	0x61,R24
(0156)   PORTE |=0xFC;
    00D79 B183      IN	R24,0x03
    00D7A 6F8C      ORI	R24,0xFC
    00D7B B983      OUT	0x03,R24
(0157)   PORTF |= 0xFF;
    00D7C 9180 0062 LDS	R24,0x62
    00D7E 6F8F      ORI	R24,0xFF
    00D7F 9380 0062 STS	0x62,R24
(0158)    switch(n){
    00D81 3040      CPI	R20,0
    00D82 0745      CPC	R20,R21
    00D83 F069      BEQ	0x0D91
    00D84 3041      CPI	R20,1
    00D85 E0E0      LDI	R30,0
    00D86 075E      CPC	R21,R30
    00D87 F059      BEQ	0x0D93
    00D88 3042      CPI	R20,2
    00D89 E0E0      LDI	R30,0
    00D8A 075E      CPC	R21,R30
    00D8B F049      BEQ	0x0D95
    00D8C 3043      CPI	R20,3
    00D8D E0E0      LDI	R30,0
    00D8E 075E      CPC	R21,R30
    00D8F F039      BEQ	0x0D97
    00D90 C007      RJMP	0x0D98
(0159)     case 0:
(0160) 	  readTemp_1();
    00D91 DDBD      RCALL	_readTemp_1
(0161) 	  break;
    00D92 C005      RJMP	0x0D98
(0162) 	case 1:
(0163) 	  readTemp_2();
    00D93 DE2C      RCALL	_readTemp_2
(0164) 	  break;
    00D94 C003      RJMP	0x0D98
(0165) 	case 2:
(0166) 	  readTemp_3();
    00D95 DEA3      RCALL	_readTemp_3
(0167) 	  break;
    00D96 C001      RJMP	0x0D98
(0168) 	case 3:
(0169) 	  readTemp_4();
    00D97 DF32      RCALL	_readTemp_4
(0170) 	  break;
    00D98 9159      LD	R21,Y+
    00D99 9149      LD	R20,Y+
    00D9A 9508      RET
_out_port:
    00D9B 92AA      ST	-Y,R10
    00D9C 92BA      ST	-Y,R11
FILE: E:\ICCDemo\Temp_Control\temp_control\out.c
(0001) #include<iom128v.h>
(0002) #include "out.h"
(0003) #include "lcd.h"
(0004) #include "main.h"
(0005) //*********************
(0006) // 1秒钟50周期，控制功率是50周期输出量
(0007) //*********************
(0008) uint hz=1;//1~50表示周期
(0009) 
(0010) //0、1的传入。port由0~7
(0011) void out_port(void){
(0012)    if(hz==51){
    00D9D 9180 0628 LDS	R24,hz
    00D9F 9190 0629 LDS	R25,hz+1
    00DA1 3383      CPI	R24,0x33
    00DA2 E0E0      LDI	R30,0
    00DA3 079E      CPC	R25,R30
    00DA4 F431      BNE	0x0DAB
(0013)      hz=0;
    00DA5 2422      CLR	R2
    00DA6 2433      CLR	R3
    00DA7 9230 0629 STS	hz+1,R3
    00DA9 9220 0628 STS	hz,R2
(0014)    }
(0015)    if(temps[0].flag==1){
    00DAB 9180 0116 LDS	R24,temps
    00DAD 9190 0117 LDS	R25,temps+1
    00DAF 3081      CPI	R24,1
    00DB0 E0E0      LDI	R30,0
    00DB1 079E      CPC	R25,R30
    00DB2 F4E9      BNE	0x0DD0
(0016) 	  if(temps[0].incrementtemp>=hz){
    00DB3 9040 0258 LDS	R4,temps+322
    00DB5 9050 0259 LDS	R5,temps+323
    00DB7 9020 0256 LDS	R2,temps+320
    00DB9 9030 0257 LDS	R3,temps+321
    00DBB 9100 0628 LDS	R16,hz
    00DBD 9110 0629 LDS	R17,hz+1
    00DBF 940E 38EB CALL	uint2fp
    00DC1 933A      ST	-Y,R19
    00DC2 932A      ST	-Y,R18
    00DC3 931A      ST	-Y,R17
    00DC4 930A      ST	-Y,R16
    00DC5 0181      MOVW	R16,R2
    00DC6 0192      MOVW	R18,R4
    00DC7 940E 3ABB CALL	fpcmp2
    00DC9 F014      BLT	0x0DCC
(0017) 	    PORTE |=0x01;
    00DCA 9A18      SBI	0x03,0
(0018) 	  }else {
    00DCB C007      RJMP	0x0DD3
(0019) 	    PORTE &=0xFE;
    00DCC B183      IN	R24,0x03
    00DCD 7F8E      ANDI	R24,0xFE
    00DCE B983      OUT	0x03,R24
(0020) 	  }
(0021)    }else{
    00DCF C003      RJMP	0x0DD3
(0022)       PORTE &=0xFE;
    00DD0 B183      IN	R24,0x03
    00DD1 7F8E      ANDI	R24,0xFE
    00DD2 B983      OUT	0x03,R24
(0023)    }
(0024)     if(temps[1].flag==1){
    00DD3 9180 025A LDS	R24,temps+324
    00DD5 9190 025B LDS	R25,temps+325
    00DD7 3081      CPI	R24,1
    00DD8 E0E0      LDI	R30,0
    00DD9 079E      CPC	R25,R30
    00DDA F4E9      BNE	0x0DF8
(0025) 	  if(temps[0].incrementtemp>=hz){
    00DDB 9040 0258 LDS	R4,temps+322
    00DDD 9050 0259 LDS	R5,temps+323
    00DDF 9020 0256 LDS	R2,temps+320
    00DE1 9030 0257 LDS	R3,temps+321
    00DE3 9100 0628 LDS	R16,hz
    00DE5 9110 0629 LDS	R17,hz+1
    00DE7 940E 38EB CALL	uint2fp
    00DE9 933A      ST	-Y,R19
    00DEA 932A      ST	-Y,R18
    00DEB 931A      ST	-Y,R17
    00DEC 930A      ST	-Y,R16
    00DED 0181      MOVW	R16,R2
    00DEE 0192      MOVW	R18,R4
    00DEF 940E 3ABB CALL	fpcmp2
    00DF1 F014      BLT	0x0DF4
(0026) 	      PORTE |=0x02;
    00DF2 9A19      SBI	0x03,1
(0027) 	    }else {
    00DF3 C007      RJMP	0x0DFB
(0028) 	      PORTE &=0xFD;
    00DF4 B183      IN	R24,0x03
    00DF5 7F8D      ANDI	R24,0xFD
    00DF6 B983      OUT	0x03,R24
(0029) 	    }
(0030)    }else{
    00DF7 C003      RJMP	0x0DFB
(0031)       PORTE &=0xFD;
    00DF8 B183      IN	R24,0x03
    00DF9 7F8D      ANDI	R24,0xFD
    00DFA B983      OUT	0x03,R24
(0032)    }
(0033)     if(temps[2].flag==1){
    00DFB 9180 039E LDS	R24,temps+648
    00DFD 9190 039F LDS	R25,temps+649
    00DFF 3081      CPI	R24,1
    00E00 E0E0      LDI	R30,0
    00E01 079E      CPC	R25,R30
    00E02 F4E9      BNE	0x0E20
(0034) 	  if(temps[0].incrementtemp>=hz){
    00E03 9040 0258 LDS	R4,temps+322
    00E05 9050 0259 LDS	R5,temps+323
    00E07 9020 0256 LDS	R2,temps+320
    00E09 9030 0257 LDS	R3,temps+321
    00E0B 9100 0628 LDS	R16,hz
    00E0D 9110 0629 LDS	R17,hz+1
    00E0F 940E 38EB CALL	uint2fp
    00E11 933A      ST	-Y,R19
    00E12 932A      ST	-Y,R18
    00E13 931A      ST	-Y,R17
    00E14 930A      ST	-Y,R16
    00E15 0181      MOVW	R16,R2
    00E16 0192      MOVW	R18,R4
    00E17 940E 3ABB CALL	fpcmp2
    00E19 F014      BLT	0x0E1C
(0035) 	      PORTE |=0x04;
    00E1A 9A1A      SBI	0x03,2
(0036) 	    }else {
    00E1B C007      RJMP	0x0E23
(0037) 	      PORTE &=0xFB;
    00E1C B183      IN	R24,0x03
    00E1D 7F8B      ANDI	R24,0xFB
    00E1E B983      OUT	0x03,R24
(0038) 	    }
(0039)    }else{
    00E1F C003      RJMP	0x0E23
(0040)       PORTE &=0xFB;
    00E20 B183      IN	R24,0x03
    00E21 7F8B      ANDI	R24,0xFB
    00E22 B983      OUT	0x03,R24
(0041)    }
(0042)     if(temps[3].flag==1){
    00E23 9180 04E2 LDS	R24,temps+972
    00E25 9190 04E3 LDS	R25,temps+973
    00E27 3081      CPI	R24,1
    00E28 E0E0      LDI	R30,0
    00E29 079E      CPC	R25,R30
    00E2A F4E9      BNE	0x0E48
(0043) 	  if(temps[0].incrementtemp>=hz){
    00E2B 9040 0258 LDS	R4,temps+322
    00E2D 9050 0259 LDS	R5,temps+323
    00E2F 9020 0256 LDS	R2,temps+320
    00E31 9030 0257 LDS	R3,temps+321
    00E33 9100 0628 LDS	R16,hz
    00E35 9110 0629 LDS	R17,hz+1
    00E37 940E 38EB CALL	uint2fp
    00E39 933A      ST	-Y,R19
    00E3A 932A      ST	-Y,R18
    00E3B 931A      ST	-Y,R17
    00E3C 930A      ST	-Y,R16
    00E3D 0181      MOVW	R16,R2
    00E3E 0192      MOVW	R18,R4
    00E3F 940E 3ABB CALL	fpcmp2
    00E41 F014      BLT	0x0E44
(0044) 	      PORTE |=0x08;
    00E42 9A1B      SBI	0x03,3
(0045) 	    }else {
    00E43 C007      RJMP	0x0E4B
(0046) 	      PORTE &=0xF7;
    00E44 B183      IN	R24,0x03
    00E45 7F87      ANDI	R24,0xF7
    00E46 B983      OUT	0x03,R24
(0047) 	    }
(0048)    }else{
    00E47 C003      RJMP	0x0E4B
(0049)      PORTE &=0xF7;
    00E48 B183      IN	R24,0x03
    00E49 7F87      ANDI	R24,0xF7
    00E4A B983      OUT	0x03,R24
(0050)    }
(0051)     hz++;
    00E4B 9180 0628 LDS	R24,hz
    00E4D 9190 0629 LDS	R25,hz+1
    00E4F 9601      ADIW	R24,1
    00E50 9390 0629 STS	hz+1,R25
    00E52 9380 0628 STS	hz,R24
    00E54 90B9      LD	R11,Y+
    00E55 90A9      LD	R10,Y+
    00E56 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\uart.c
(0001) #include <iom128v.h>
(0002) #include "uart.h"
(0003) 
(0004) //常量定义
(0005) #define BAUDRATE1       115200	//波特率
(0006) //#define BAUDRATE2       9600	//波特率
(0007) #define F_CPU		7372800//晶振频率
(0008) 
(0009) //变量定义
(0010) extern unsigned char send_buf[600];
(0011) extern unsigned char receive_buf[600];
(0012) extern unsigned int send_len;
(0013) extern unsigned int receive_len;
(0014) 
(0015) unsigned char uart_timeout_flag1;
(0016) unsigned char uart_timeout_flag2;
(0017) 
(0018) //串口1对应程序
(0019) ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0020) //USART 初始化
(0021) void init_USART1(void)
(0022) {
(0023)     //USART 115200 8, n,1  PC上位机软件(超级终端等)也要设成同样的设置才能通讯
(0024)     UCSR0C = (1<<USBS0)|(3<<UCSZ00);
_init_USART1:
    00E57 E08E      LDI	R24,0xE
    00E58 9380 0095 STS	0x95,R24
(0025)     
(0026)   //异步，8位数据，无奇偶校验，一个停止位，无倍速   
(0027)     //U2X=0时的公式计算
(0028)     UBRR0L= (F_CPU/BAUDRATE1/16-1)%256;
    00E5A E083      LDI	R24,3
    00E5B B989      OUT	0x09,R24
(0029)     UBRR0H= (F_CPU/BAUDRATE1/16-1)/256;
    00E5C 2422      CLR	R2
    00E5D 9220 0090 STS	0x90,R2
(0030) 
(0031)     UCSR0A = 0x00;
    00E5F B82B      OUT	0x0B,R2
(0032) 
(0033)     //使能接收中断，使能接收，使能发送
(0034)     UCSR0B = (1<<RXEN0)|(1<<TXEN0);
    00E60 E188      LDI	R24,0x18
    00E61 B98A      OUT	0x0A,R24
    00E62 9508      RET
(0035)     
(0036) }
(0037) 
(0038) //向串口1写数
(0039) void put_c1(unsigned char c)
(0040) {
(0041) 	while( !(UCSR0A & (1<<UDRE0)) );
_put_c1:
  c                    --> R16
    00E63 9B5D      SBIS	0x0B,5
    00E64 CFFE      RJMP	_put_c1
(0042) 	UDR0=c;	
    00E65 B90C      OUT	0x0C,R16
    00E66 9508      RET
(0043) }
(0044) 
(0045) //从串口1读数
(0046) unsigned char USART_Receive1( void )
(0047) {
(0048)    unsigned int j=0;
_USART_Receive1:
  j                    --> R16
    00E67 2700      CLR	R16
    00E68 2711      CLR	R17
(0049)    uart_timeout_flag1=0; 
    00E69 2422      CLR	R2
    00E6A 9220 0D6A STS	uart_timeout_flag1,R2
    00E6C C00B      RJMP	0x0E78
(0050)   //等待接受标志
(0051)   while ( !(UCSR0A & (1<<RXC0)) ){
(0052)     if(j==32000) //判断超时，并设置标志
    00E6D 3000      CPI	R16,0
    00E6E E7ED      LDI	R30,0x7D
    00E6F 071E      CPC	R17,R30
    00E70 F429      BNE	0x0E76
(0053)     { uart_timeout_flag1=1;   
    00E71 E081      LDI	R24,1
    00E72 9380 0D6A STS	uart_timeout_flag1,R24
(0054)     return FAILURE;}
    00E74 E001      LDI	R16,1
    00E75 C005      RJMP	0x0E7B
(0055) 	else 
(0056) 		j++;
    00E76 5F0F      SUBI	R16,0xFF
    00E77 4F1F      SBCI	R17,0xFF
    00E78 9B5F      SBIS	0x0B,7
    00E79 CFF3      RJMP	0x0E6D
(0057)     ;}
(0058)   //读接收数据  
(0059)   return UDR0;
    00E7A B10C      IN	R16,0x0C
    00E7B 9508      RET
_receiveStrfromCom:
  k                    --> R20
    00E7C 92AA      ST	-Y,R10
    00E7D 934A      ST	-Y,R20
(0060) }
(0061) 
(0062) //从串口接收数据串
(0063) unsigned char receiveStrfromCom(void)
(0064) {
    00E7E C03E      RJMP	0x0EBD
(0065)   unsigned char k;
(0066) 
(0067)   while(1)
(0068)   {
(0069)     ///以下为从串口接收数据的过程
(0070)     send_buf[0]=USART_Receive1();
    00E7F DFE7      RCALL	_USART_Receive1
    00E80 9300 0AFC STS	send_buf,R16
(0071)     //若接收的不是命令头则继续等待
(0072)     if(send_buf[0]!=0x02)continue;
    00E82 3002      CPI	R16,2
    00E83 F009      BEQ	0x0E85
    00E84 C038      RJMP	0x0EBD
(0073)       
(0074)     for(k=1;k<5;k++)
    00E85 E041      LDI	R20,1
    00E86 C00F      RJMP	0x0E96
(0075)     {
(0076)         send_buf[k]=USART_Receive1(); 
    00E87 DFDF      RCALL	_USART_Receive1
    00E88 EF8C      LDI	R24,0xFC
    00E89 E09A      LDI	R25,0xA
    00E8A 2FE4      MOV	R30,R20
    00E8B 27FF      CLR	R31
    00E8C 0FE8      ADD	R30,R24
    00E8D 1FF9      ADC	R31,R25
    00E8E 8300      ST	Z,R16
(0077)         if(uart_timeout_flag1==1)
    00E8F 9180 0D6A LDS	R24,uart_timeout_flag1
    00E91 3081      CPI	R24,1
    00E92 F411      BNE	0x0E95
(0078)         {  
(0079) //          ComSendResponse(send_buf[3],EXE_TIME_OUT,1);
(0080)           return FAILURE;
    00E93 E001      LDI	R16,1
    00E94 C029      RJMP	0x0EBE
    00E95 9543      INC	R20
    00E96 3045      CPI	R20,5
    00E97 F378      BCS	0x0E87
(0081)         }  
(0082)     }
(0083)     
(0084)     send_len=send_buf[4];
    00E98 9020 0B00 LDS	R2,send_buf+4
    00E9A 2433      CLR	R3
    00E9B 9230 08A3 STS	send_len+1,R3
    00E9D 9220 08A2 STS	send_len,R2
(0085)     
(0086)     for(k=5;k<send_len+6;k++)
    00E9F E045      LDI	R20,5
    00EA0 C010      RJMP	0x0EB1
(0087)     {
(0088)         send_buf[k]=USART_Receive1(); 
    00EA1 DFC5      RCALL	_USART_Receive1
    00EA2 2EA0      MOV	R10,R16
    00EA3 EF8C      LDI	R24,0xFC
    00EA4 E09A      LDI	R25,0xA
    00EA5 2FE4      MOV	R30,R20
    00EA6 27FF      CLR	R31
    00EA7 0FE8      ADD	R30,R24
    00EA8 1FF9      ADC	R31,R25
    00EA9 82A0      ST	Z,R10
(0089)         if(uart_timeout_flag1==1)
    00EAA 9180 0D6A LDS	R24,uart_timeout_flag1
    00EAC 3081      CPI	R24,1
    00EAD F411      BNE	0x0EB0
(0090)         {  
(0091) //           ComSendResponse(send_buf[3],EXE_TIME_OUT,1);
(0092)            return FAILURE; 
    00EAE E001      LDI	R16,1
    00EAF C00E      RJMP	0x0EBE
    00EB0 9543      INC	R20
    00EB1 9180 08A2 LDS	R24,send_len
    00EB3 9190 08A3 LDS	R25,send_len+1
    00EB5 9606      ADIW	R24,6
    00EB6 2E24      MOV	R2,R20
    00EB7 2433      CLR	R3
    00EB8 1628      CP	R2,R24
    00EB9 0639      CPC	R3,R25
    00EBA F330      BCS	0x0EA1
(0093)         }  
(0094)     }  
(0095)     return SUCCESS;
    00EBB 2700      CLR	R16
    00EBC C001      RJMP	0x0EBE
    00EBD CFC1      RJMP	0x0E7F
    00EBE 9149      LD	R20,Y+
    00EBF 90A9      LD	R10,Y+
    00EC0 9508      RET
_outStrtoCom:
  i                    --> R10
  length               --> R12
  pData                --> R14
    00EC1 940E 3797 CALL	push_xgset00FC
    00EC3 0169      MOVW	R12,R18
    00EC4 0178      MOVW	R14,R16
(0096) 
(0097)   }  
(0098)   return FAILURE;
(0099) } 
(0100) 
(0101) //向串口输出数据串
(0102) void outStrtoCom(unsigned char *pData,unsigned int length)
(0103) {
(0104) 	unsigned char i;
(0105) 	for(i=0;i<length;i++)
    00EC5 24AA      CLR	R10
    00EC6 C007      RJMP	0x0ECE
(0106) 		put_c1(pData[i]);
    00EC7 2DEA      MOV	R30,R10
    00EC8 27FF      CLR	R31
    00EC9 0DEE      ADD	R30,R14
    00ECA 1DFF      ADC	R31,R15
    00ECB 8100      LD	R16,Z
    00ECC DF96      RCALL	_put_c1
    00ECD 94A3      INC	R10
    00ECE 2C2A      MOV	R2,R10
    00ECF 2433      CLR	R3
    00ED0 142C      CP	R2,R12
    00ED1 043D      CPC	R3,R13
    00ED2 F3A0      BCS	0x0EC7
    00ED3 940C 3781 JMP	pop_xgset00FC
_MAC_CalCrc16:
  i                    --> R10
  j                    --> R22
  value_CRC            --> R20
  ucLen                --> R12
  pCrc16               --> R18
  pInput               --> R16
    00ED5 940E 37CE CALL	push_xgsetF03C
    00ED7 84C8      LDD	R12,Y+8
(0107) }
(0108) /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0109) 
(0110) /*-----------------------------------------------
(0111) 函数名： 　MAC_CalCrc16
(0112) 功  能：  以字节为单位计算len个数的CRC16校验和，首字节
(0113) 		  为pInput[0].
(0114) 参  数：  pInput			为需要计算CRC的数据的指针
(0115)           pCrc16			为指向存储CRC值的数组
(0116)           ucLen				为需要计算CRC的数据长度
(0117) 返回值：　无　
(0118) 作  者：　lz
(0119) 日  期：  2008-06-18
(0120) ------------------------------------------------*/
(0121) void MAC_CalCrc16(unsigned char  *pInput, unsigned char * pCrc16, unsigned char ucLen)   
(0122) {   
(0123)     unsigned int value_CRC=0xffff;
    00ED8 EF4F      LDI	R20,0xFF
    00ED9 EF5F      LDI	R21,0xFF
(0124)     unsigned char i;
(0125)     unsigned char j;
(0126) 
(0127) 	for( i=0; i<ucLen; i++ )
    00EDA 24AA      CLR	R10
    00EDB C01B      RJMP	0x0EF7
(0128) 	{	
(0129) 		value_CRC = value_CRC ^((unsigned int)pInput[i]);
    00EDC 2DEA      MOV	R30,R10
    00EDD 27FF      CLR	R31
    00EDE 0FE0      ADD	R30,R16
    00EDF 1FF1      ADC	R31,R17
    00EE0 8020      LD	R2,Z
    00EE1 2433      CLR	R3
    00EE2 2542      EOR	R20,R2
    00EE3 2553      EOR	R21,R3
(0130) 		for (j = 0; j < 8; j++)
    00EE4 2766      CLR	R22
    00EE5 C00E      RJMP	0x0EF4
(0131) 		{
(0132) 			if (value_CRC & 0x0001)
    00EE6 FF40      SBRS	R20,0
    00EE7 C009      RJMP	0x0EF1
(0133) 			{
(0134) 				value_CRC = (value_CRC >> 1) ^ 0x8408;
    00EE8 E088      LDI	R24,0x8
    00EE9 E894      LDI	R25,0x84
    00EEA 011A      MOVW	R2,R20
    00EEB 9436      LSR	R3
    00EEC 9427      ROR	R2
    00EED 2628      EOR	R2,R24
    00EEE 2639      EOR	R3,R25
    00EEF 01A1      MOVW	R20,R2
(0135) 			}
    00EF0 C002      RJMP	0x0EF3
(0136) 			else
(0137) 			{
(0138) 				value_CRC = (value_CRC >> 1);
    00EF1 9556      LSR	R21
    00EF2 9547      ROR	R20
    00EF3 9563      INC	R22
    00EF4 3068      CPI	R22,0x8
    00EF5 F380      BCS	0x0EE6
    00EF6 94A3      INC	R10
    00EF7 14AC      CP	R10,R12
    00EF8 F318      BCS	0x0EDC
(0139) 			}
(0140) 		}
(0141) 	}
(0142) 	
(0143)   	pCrc16[0] = (unsigned char)(value_CRC>>8);
    00EF9 011A      MOVW	R2,R20
    00EFA 2C23      MOV	R2,R3
    00EFB 2433      CLR	R3
    00EFC 01F9      MOVW	R30,R18
    00EFD 8220      ST	Z,R2
(0144) 	pCrc16[1] = (unsigned char)(value_CRC);
    00EFE 8341      STD	Z+1,R20
(0145) 	
(0146) 	return;
    00EFF 940C 37D7 JMP	pop_xgsetF03C
_MAC_CheckCrc16:
  CrcChk               --> Y,+1
  ucLen                --> R20
  pInput               --> R10
    00F01 940E 379E CALL	push_xgset300C
    00F03 2F42      MOV	R20,R18
    00F04 0158      MOVW	R10,R16
    00F05 9723      SBIW	R28,3
(0147) }
(0148) 
(0149) 
(0150) /*-----------------------------------------------
(0151) 函数名：	MAC_CheckCrc16
(0152) 功  能：  校验一帧长度为ucLen的数据，pInput[ucLen]
(0153)           pInput[ucLen+1]是这帧数据的校验字节。
(0154) 参  数：  pInput      校验帧的首地址
(0155)           ucLen 　　　需校验的数据帧的长度 
(0156) 返回值：　0表示校验通过，1表示校验失败　
(0157) 作  者：　lz
(0158) 日  期：  2008-06-18
(0159) ------------------------------------------------*/
(0160) unsigned char MAC_CheckCrc16(unsigned char * pInput, unsigned char ucLen)
(0161) {
(0162) 	unsigned char CrcChk[2];
(0163) 
(0164) 	MAC_CalCrc16(pInput,CrcChk,ucLen-2);
    00F06 2F84      MOV	R24,R20
    00F07 5082      SUBI	R24,2
    00F08 8388      ST	Y,R24
    00F09 019E      MOVW	R18,R28
    00F0A 5F2F      SUBI	R18,0xFF
    00F0B 4F3F      SBCI	R19,0xFF
    00F0C 0185      MOVW	R16,R10
    00F0D DFC7      RCALL	_MAC_CalCrc16
(0165) 
(0166) 	if (CrcChk[0]!=pInput[ucLen-2] || CrcChk[1]!=pInput[ucLen-1])
    00F0E 2FE4      MOV	R30,R20
    00F0F 27FF      CLR	R31
    00F10 9732      SBIW	R30,2
    00F11 0DEA      ADD	R30,R10
    00F12 1DFB      ADC	R31,R11
    00F13 8020      LD	R2,Z
    00F14 8039      LDD	R3,Y+1
    00F15 1432      CP	R3,R2
    00F16 F449      BNE	0x0F20
    00F17 2FE4      MOV	R30,R20
    00F18 27FF      CLR	R31
    00F19 9731      SBIW	R30,1
    00F1A 0DEA      ADD	R30,R10
    00F1B 1DFB      ADC	R31,R11
    00F1C 8020      LD	R2,Z
    00F1D 803A      LDD	R3,Y+2
    00F1E 1432      CP	R3,R2
    00F1F F011      BEQ	0x0F22
(0167) 	{
(0168) 		return FAILURE; // crc16 fail!
    00F20 E001      LDI	R16,1
    00F21 C001      RJMP	0x0F23
(0169) 	}
(0170) 	
(0171) 	return SUCCESS; // crc16 ok!
    00F22 2700      CLR	R16
    00F23 9623      ADIW	R28,3
    00F24 940C 37A3 JMP	pop_xgset300C
_ComSendResponse:
  crc_buf              --> Y,+1
  LenData              --> R20
  statusdata           --> R12
  CmdData              --> R10
    00F26 940E 37C0 CALL	push_xgset303C
    00F28 2EC2      MOV	R12,R18
    00F29 2EA0      MOV	R10,R16
    00F2A 9723      SBIW	R28,3
    00F2B 8549      LDD	R20,Y+9
(0172) }
(0173) /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0174) //发送命令响应结果
(0175) void ComSendResponse(unsigned char CmdData,unsigned char statusdata,unsigned char LenData)
(0176) {
(0177)     unsigned char crc_buf[2];
(0178)     
(0179)     receive_buf[5]= statusdata;
    00F2C 92C0 08A9 STS	receive_buf+5,R12
(0180) 
(0181)     receive_buf[4]=LenData;
    00F2E 9340 08A8 STS	receive_buf+4,R20
(0182) 
(0183)     receive_buf[3]=CmdData;
    00F30 92A0 08A7 STS	receive_buf+3,R10
(0184)     
(0185)     receive_buf[1]=0x00;receive_buf[2]=0x01;
    00F32 2422      CLR	R2
    00F33 9220 08A5 STS	receive_buf+1,R2
    00F35 E081      LDI	R24,1
    00F36 9380 08A6 STS	receive_buf+2,R24
(0186) 
(0187)     receive_buf[0]=0x02;
    00F38 E082      LDI	R24,2
    00F39 9380 08A4 STS	receive_buf,R24
(0188)     
(0189)     MAC_CalCrc16(receive_buf, crc_buf,LenData+5); 
    00F3B 2F84      MOV	R24,R20
    00F3C 5F8B      SUBI	R24,0xFB
    00F3D 8388      ST	Y,R24
    00F3E 019E      MOVW	R18,R28
    00F3F 5F2F      SUBI	R18,0xFF
    00F40 4F3F      SBCI	R19,0xFF
    00F41 EA04      LDI	R16,0xA4
    00F42 E018      LDI	R17,0x8
    00F43 DF91      RCALL	_MAC_CalCrc16
(0190)     
(0191)     receive_buf[LenData+5]=crc_buf[0];
    00F44 EA89      LDI	R24,0xA9
    00F45 E098      LDI	R25,0x8
    00F46 2FE4      MOV	R30,R20
    00F47 27FF      CLR	R31
    00F48 0FE8      ADD	R30,R24
    00F49 1FF9      ADC	R31,R25
    00F4A 8029      LDD	R2,Y+1
    00F4B 8220      ST	Z,R2
(0192)     
(0193)     receive_buf[LenData+6]=crc_buf[1];//数据包尾 
    00F4C EA8A      LDI	R24,0xAA
    00F4D E098      LDI	R25,0x8
    00F4E 2FE4      MOV	R30,R20
    00F4F 27FF      CLR	R31
    00F50 0FE8      ADD	R30,R24
    00F51 1FF9      ADC	R31,R25
    00F52 802A      LDD	R2,Y+2
    00F53 8220      ST	Z,R2
(0194)     
(0195)     init_USART1(); 
    00F54 DF02      RCALL	_init_USART1
(0196)     outStrtoCom(receive_buf,LenData+7); 
    00F55 2F24      MOV	R18,R20
    00F56 2733      CLR	R19
    00F57 5F29      SUBI	R18,0xF9
    00F58 4F3F      SBCI	R19,0xFF
    00F59 EA04      LDI	R16,0xA4
    00F5A E018      LDI	R17,0x8
    00F5B DF65      RCALL	_outStrtoCom
(0197)    
(0198)     return;
    00F5C 9623      ADIW	R28,3
    00F5D 940C 37C7 JMP	pop_xgset303C
_EEPROM_write:
  data                 --> R10
  addr_l               --> R14
  addr_h               --> R12
    00F5F 940E 3797 CALL	push_xgset00FC
    00F61 0179      MOVW	R14,R18
    00F62 0168      MOVW	R12,R16
    00F63 80AE      LDD	R10,Y+6
    00F64 80BF      LDD	R11,Y+7
FILE: E:\ICCDemo\Temp_Control\temp_control\eeprom.c
(0001) #include<iom128v.h>
(0002) #include "eeprom.h"
(0003) #include "delay.h"
(0004) 
(0005) //使用全非中断方式读写。温控数据在保存时候一次性写入。状态数据执行时写入，写入量小不会影响速度
(0006) void EEPROM_write(uint addr_h,uint addr_l,uint data){
(0007)    SREG&=0x7F;//关中断
    00F65 B78F      IN	R24,0x3F
    00F66 778F      ANDI	R24,0x7F
    00F67 BF8F      OUT	0x3F,R24
(0008)     while(EECR & (1<<EEWE)){
    00F68 99E1      SBIC	0x1C,1
    00F69 CFFE      RJMP	0x0F68
(0009) 	 			 
(0010) 	 } 
(0011) 	  EEARL=addr_l;
    00F6A BAEE      OUT	0x1E,R14
(0012) 	 EEARH=addr_h;
    00F6B BACF      OUT	0x1F,R12
(0013) 	 EEDR=data;
    00F6C BAAD      OUT	0x1D,R10
(0014) 	 EECR|=(1<<EEMWE);
    00F6D 9AE2      SBI	0x1C,2
(0015) 	 EECR|=(1<<EEWE);
    00F6E 9AE1      SBI	0x1C,1
(0016) 	  delay_us(1);
    00F6F E001      LDI	R16,1
    00F70 E010      LDI	R17,0
    00F71 940E 0441 CALL	_delay_us
(0017) 	 SREG|=0x80;//开中断
    00F73 9478      BSET	7
(0018) 	 return;
    00F74 940C 3781 JMP	pop_xgset00FC
_EEPROM_read:
  data                 --> R10
  addr_l               --> R12
  addr_h               --> R10
    00F76 940E 3799 CALL	push_xgset003C
    00F78 0169      MOVW	R12,R18
    00F79 0158      MOVW	R10,R16
(0019) }
(0020) uint EEPROM_read(uint addr_h,uint addr_l){
(0021)    uint data;
(0022)    SREG&=0x7F;//关中断
    00F7A B78F      IN	R24,0x3F
    00F7B 778F      ANDI	R24,0x7F
    00F7C BF8F      OUT	0x3F,R24
(0023)     while(EECR & (1<<EEWE)){ 			 
    00F7D 99E1      SBIC	0x1C,1
    00F7E CFFE      RJMP	0x0F7D
(0024) 	 }
(0025) 	EEARL=addr_l;
    00F7F BACE      OUT	0x1E,R12
(0026) 	 EEARH=addr_h;
    00F80 BAAF      OUT	0x1F,R10
(0027) 	 
(0028) 	 EECR|=(1<<EERE);
    00F81 9AE0      SBI	0x1C,0
(0029) 	 delay_us(1);
    00F82 E001      LDI	R16,1
    00F83 E010      LDI	R17,0
    00F84 940E 0441 CALL	_delay_us
(0030) 	 data=EEDR;
    00F86 B2AD      IN	R10,0x1D
    00F87 24BB      CLR	R11
(0031) 	 SREG|=0x80;//开中断
    00F88 9478      BSET	7
(0032) 	 return data;
    00F89 0185      MOVW	R16,R10
    00F8A 940C 377C JMP	pop_xgset003C
_pageTime:
  y                    --> R10
    00F8C 92AA      ST	-Y,R10
    00F8D 92BA      ST	-Y,R11
    00F8E 0158      MOVW	R10,R16
    00F8F 9722      SBIW	R28,2
FILE: E:\ICCDemo\Temp_Control\temp_control\pages.c
(0001) #include<iom128v.h>
(0002) #include "main.h"
(0003) #include "lcd.h"
(0004) #include "time1307.h"
(0005) #include "timertask.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "temp.h"
(0009) #include "eeprom.h"
(0010) //下面这个头文件里包含WDR();喂狗的方法
(0011) //#include <AVRdef.h>
(0012) 
(0013) //************************
(0014) // 所有界面信息在这里,用到全局变量， 
(0015) // unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0016) // unsigned int pageParam[5];//传递参数。界面间参数暂存
(0017) // unsigned int prePageNum;
(0018) //************************
(0019) 
(0020) //用于显第一行日期信息，其中Page1、Page3 、Page8使用，
(0021) //由定时器触发该函数，进入这三个界面是启动定时器，退出时关闭
(0022) void pageTime(uint y){
(0023)                 //关定时器
(0024)    lcd_write_str(0,y,"时间:");
    00F90 E987      LDI	R24,0x97
    00F91 E098      LDI	R25,0x8
    00F92 8399      STD	Y+1,R25
    00F93 8388      ST	Y,R24
    00F94 2D2A      MOV	R18,R10
    00F95 2700      CLR	R16
    00F96 940E 069C CALL	_lcd_write_str
(0025)    showTime_page(y);
    00F98 0185      MOVW	R16,R10
    00F99 940E 368C CALL	_showTime_page
    00F9B 9622      ADIW	R28,2
    00F9C 90B9      LD	R11,Y+
    00F9D 90A9      LD	R10,Y+
    00F9E 9508      RET
_pageTime2:
  y                    --> R10
    00F9F 92AA      ST	-Y,R10
    00FA0 92BA      ST	-Y,R11
    00FA1 0158      MOVW	R10,R16
(0026)                  //开定时器 
(0027) }
(0028) void pageTime2(uint y){
(0029)                 //关定时器
(0030)    //lcd_write_str(0,y,"时间:");
(0031)    showTime_page(y);
    00FA2 0185      MOVW	R16,R10
    00FA3 940E 368C CALL	_showTime_page
    00FA5 90B9      LD	R11,Y+
    00FA6 90A9      LD	R10,Y+
    00FA7 9508      RET
_page1:
  cur                  --> R20
  keyV                 --> R10
  y                    --> R22
  i                    --> R10
    00FA8 940E 37CE CALL	push_xgsetF03C
    00FAA 9722      SBIW	R28,2
(0032)                  //开定时器 
(0033) }
(0034) //page1,首页的界面
(0035) void page1(void){
(0036)    uint cur=0;
(0037)    uchar keyV;
(0038)    uint i;//用于循环
(0039)    uint y;//确定是那个半屏幕
(0040)    prePageNum=1;//首页不会再有上一界面，这里设置。虽然违反规则
    00FAB E081      LDI	R24,1
    00FAC E090      LDI	R25,0
    00FAD 9390 0D55 STS	prePageNum+1,R25
    00FAF 9380 0D54 STS	prePageNum,R24
(0041)    //初始化起始选择
(0042)     lcd_write_str(1,1," T1:");
    00FB1 E982      LDI	R24,0x92
    00FB2 E098      LDI	R25,0x8
    00FB3 8399      STD	Y+1,R25
    00FB4 8388      ST	Y,R24
    00FB5 E021      LDI	R18,1
    00FB6 E001      LDI	R16,1
    00FB7 940E 069C CALL	_lcd_write_str
(0043)     lcd_write_str(6,1," T2:");
    00FB9 E88D      LDI	R24,0x8D
    00FBA E098      LDI	R25,0x8
    00FBB 8399      STD	Y+1,R25
    00FBC 8388      ST	Y,R24
    00FBD E021      LDI	R18,1
    00FBE E006      LDI	R16,6
    00FBF 940E 069C CALL	_lcd_write_str
(0044)     lcd_write_str(1,2," T3:");
    00FC1 E888      LDI	R24,0x88
    00FC2 E098      LDI	R25,0x8
    00FC3 8399      STD	Y+1,R25
    00FC4 8388      ST	Y,R24
    00FC5 E022      LDI	R18,2
    00FC6 E001      LDI	R16,1
    00FC7 940E 069C CALL	_lcd_write_str
(0045)     lcd_write_str(6,2," T4:");
    00FC9 E883      LDI	R24,0x83
    00FCA E098      LDI	R25,0x8
    00FCB 8399      STD	Y+1,R25
    00FCC 8388      ST	Y,R24
    00FCD E022      LDI	R18,2
    00FCE E006      LDI	R16,6
    00FCF 940E 069C CALL	_lcd_write_str
(0046) 
(0047) 	
(0048) 	lcd_write_str(1,3,"开始    ");
    00FD1 E78A      LDI	R24,0x7A
    00FD2 E098      LDI	R25,0x8
    00FD3 8399      STD	Y+1,R25
    00FD4 8388      ST	Y,R24
    00FD5 E023      LDI	R18,3
    00FD6 E001      LDI	R16,1
    00FD7 940E 069C CALL	_lcd_write_str
(0049)     lcd_write_str_con(3,"停止    ");
    00FD9 E721      LDI	R18,0x71
    00FDA E038      LDI	R19,0x8
    00FDB E003      LDI	R16,3
    00FDC 940E 06E6 CALL	_lcd_write_str_con
(0050) 	lcd_write_str_con(3,"设置");
    00FDE E62C      LDI	R18,0x6C
    00FDF E038      LDI	R19,0x8
    00FE0 E003      LDI	R16,3
    00FE1 940E 06E6 CALL	_lcd_write_str_con
(0051) 	lcd_write_str(1,3,"开始    ");
    00FE3 E78A      LDI	R24,0x7A
    00FE4 E098      LDI	R25,0x8
    00FE5 8399      STD	Y+1,R25
    00FE6 8388      ST	Y,R24
    00FE7 E023      LDI	R18,3
    00FE8 E001      LDI	R16,1
    00FE9 940E 069C CALL	_lcd_write_str
(0052)     lcd_write_str_con(3,"停止    ");
    00FEB E721      LDI	R18,0x71
    00FEC E038      LDI	R19,0x8
    00FED E003      LDI	R16,3
    00FEE 940E 06E6 CALL	_lcd_write_str_con
(0053) 	lcd_write_str_con(3,"设置"); 
    00FF0 E62C      LDI	R18,0x6C
    00FF1 E038      LDI	R19,0x8
    00FF2 E003      LDI	R16,3
    00FF3 940E 06E6 CALL	_lcd_write_str_con
(0054) 	cur=0;
    00FF5 2744      CLR	R20
    00FF6 2755      CLR	R21
(0055) 	Set_White(2,1,3);
    00FF7 E083      LDI	R24,3
    00FF8 8388      ST	Y,R24
    00FF9 E021      LDI	R18,1
    00FFA E002      LDI	R16,2
    00FFB 940E 08C1 CALL	_Set_White
    00FFD C389      RJMP	0x1387
(0056) 	while(1){
(0057) 	 pageTime(0);
    00FFE 2700      CLR	R16
    00FFF 2711      CLR	R17
    01000 DF8B      RCALL	_pageTime
(0058) 	for(i=0;i<4;i++){
    01001 24AA      CLR	R10
    01002 24BB      CLR	R11
    01003 C0DF      RJMP	0x10E3
(0059) 	  if(i==0){
    01004 20AA      TST	R10
    01005 F449      BNE	0x100F
    01006 20BB      TST	R11
    01007 F439      BNE	0x100F
(0060) 	    y=1;
    01008 E061      LDI	R22,1
    01009 E070      LDI	R23,0
(0061) 	    lcd_write_pos(3,1);
    0100A E021      LDI	R18,1
    0100B E003      LDI	R16,3
    0100C 940E 0658 CALL	_lcd_write_pos
(0062) 	  }else if(i==1){
    0100E C023      RJMP	0x1032
    0100F 01C5      MOVW	R24,R10
    01010 3081      CPI	R24,1
    01011 E0E0      LDI	R30,0
    01012 079E      CPC	R25,R30
    01013 F439      BNE	0x101B
(0063) 	    y=1;
    01014 E061      LDI	R22,1
    01015 E070      LDI	R23,0
(0064) 	    lcd_write_pos(8,1);
    01016 E021      LDI	R18,1
    01017 E008      LDI	R16,0x8
    01018 940E 0658 CALL	_lcd_write_pos
(0065) 	  }else if(i==2){
    0101A C017      RJMP	0x1032
    0101B 01C5      MOVW	R24,R10
    0101C 3082      CPI	R24,2
    0101D E0E0      LDI	R30,0
    0101E 079E      CPC	R25,R30
    0101F F439      BNE	0x1027
(0066) 	    y=2;
    01020 E062      LDI	R22,2
    01021 E070      LDI	R23,0
(0067) 	    lcd_write_pos(3,2);
    01022 E022      LDI	R18,2
    01023 E003      LDI	R16,3
    01024 940E 0658 CALL	_lcd_write_pos
(0068) 	  }else if(i==3){
    01026 C00B      RJMP	0x1032
    01027 01C5      MOVW	R24,R10
    01028 3083      CPI	R24,3
    01029 E0E0      LDI	R30,0
    0102A 079E      CPC	R25,R30
    0102B F431      BNE	0x1032
(0069) 	    y=2;
    0102C E062      LDI	R22,2
    0102D E070      LDI	R23,0
(0070) 	    lcd_write_pos(8,2);
    0102E E022      LDI	R18,2
    0102F E008      LDI	R16,0x8
    01030 940E 0658 CALL	_lcd_write_pos
(0071) 	  }
(0072) 	   switch(temps[i].flag){
    01032 E404      LDI	R16,0x44
    01033 E011      LDI	R17,1
    01034 0195      MOVW	R18,R10
    01035 940E 376C CALL	empy16s
    01037 E186      LDI	R24,0x16
    01038 E091      LDI	R25,1
    01039 01F8      MOVW	R30,R16
    0103A 0FE8      ADD	R30,R24
    0103B 1FF9      ADC	R31,R25
    0103C 80C0      LD	R12,Z
    0103D 80D1      LDD	R13,Z+1
    0103E 20CC      TST	R12
    0103F F411      BNE	0x1042
    01040 20DD      TST	R13
    01041 F0F9      BEQ	0x1061
    01042 01C6      MOVW	R24,R12
    01043 3081      CPI	R24,1
    01044 E0E0      LDI	R30,0
    01045 079E      CPC	R25,R30
    01046 F101      BEQ	0x1067
    01047 3082      CPI	R24,2
    01048 E0E0      LDI	R30,0
    01049 079E      CPC	R25,R30
    0104A F409      BNE	0x104C
    0104B C077      RJMP	0x10C3
    0104C 3083      CPI	R24,3
    0104D E0E0      LDI	R30,0
    0104E 079E      CPC	R25,R30
    0104F F409      BNE	0x1051
    01050 C078      RJMP	0x10C9
    01051 3084      CPI	R24,4
    01052 E0E0      LDI	R30,0
    01053 079E      CPC	R25,R30
    01054 F409      BNE	0x1056
    01055 C079      RJMP	0x10CF
    01056 3085      CPI	R24,5
    01057 E0E0      LDI	R30,0
    01058 079E      CPC	R25,R30
    01059 F409      BNE	0x105B
    0105A C07A      RJMP	0x10D5
    0105B 3086      CPI	R24,6
    0105C E0E0      LDI	R30,0
    0105D 079E      CPC	R25,R30
    0105E F409      BNE	0x1060
    0105F C07B      RJMP	0x10DB
    01060 C07F      RJMP	0x10E0
(0073) 	     case 0:
(0074) 		   lcd_write_str_con(y,"停止");
    01061 E627      LDI	R18,0x67
    01062 E038      LDI	R19,0x8
    01063 2F06      MOV	R16,R22
    01064 940E 06E6 CALL	_lcd_write_str_con
(0075) 		   break;
    01066 C079      RJMP	0x10E0
(0076) 		 case 1:
(0077) 		   lcd_write_char_con(y,0x30 | (int)temps[i].actualtemp/100);
    01067 E404      LDI	R16,0x44
    01068 E011      LDI	R17,1
    01069 0195      MOVW	R18,R10
    0106A 940E 376C CALL	empy16s
    0106C E38A      LDI	R24,0x3A
    0106D E092      LDI	R25,2
    0106E 01F8      MOVW	R30,R16
    0106F 0FE8      ADD	R30,R24
    01070 1FF9      ADC	R31,R25
    01071 8100      LD	R16,Z
    01072 8111      LDD	R17,Z+1
    01073 8122      LDD	R18,Z+2
    01074 8133      LDD	R19,Z+3
    01075 940E 38B9 CALL	fpint
    01077 E624      LDI	R18,0x64
    01078 E030      LDI	R19,0
    01079 940E 3722 CALL	div16s
    0107B 0198      MOVW	R18,R16
    0107C 6320      ORI	R18,0x30
    0107D 2F06      MOV	R16,R22
    0107E 940E 0644 CALL	_lcd_write_char_con
(0078) 		   lcd_write_char_con(y,0x30 | ((int)temps[i].actualtemp/10)%10);
    01080 E404      LDI	R16,0x44
    01081 E011      LDI	R17,1
    01082 0195      MOVW	R18,R10
    01083 940E 376C CALL	empy16s
    01085 E38A      LDI	R24,0x3A
    01086 E092      LDI	R25,2
    01087 01F8      MOVW	R30,R16
    01088 0FE8      ADD	R30,R24
    01089 1FF9      ADC	R31,R25
    0108A 8100      LD	R16,Z
    0108B 8111      LDD	R17,Z+1
    0108C 8122      LDD	R18,Z+2
    0108D 8133      LDD	R19,Z+3
    0108E 940E 38B9 CALL	fpint
    01090 E02A      LDI	R18,0xA
    01091 E030      LDI	R19,0
    01092 940E 3722 CALL	div16s
    01094 E02A      LDI	R18,0xA
    01095 E030      LDI	R19,0
    01096 940E 371E CALL	mod16s
    01098 0198      MOVW	R18,R16
    01099 6320      ORI	R18,0x30
    0109A 2F06      MOV	R16,R22
    0109B 940E 0644 CALL	_lcd_write_char_con
(0079) 		   lcd_write_char_con(y,0x30 | (int)temps[i].actualtemp%10);
    0109D E404      LDI	R16,0x44
    0109E E011      LDI	R17,1
    0109F 0195      MOVW	R18,R10
    010A0 940E 376C CALL	empy16s
    010A2 E38A      LDI	R24,0x3A
    010A3 E092      LDI	R25,2
    010A4 01F8      MOVW	R30,R16
    010A5 0FE8      ADD	R30,R24
    010A6 1FF9      ADC	R31,R25
    010A7 8100      LD	R16,Z
    010A8 8111      LDD	R17,Z+1
    010A9 8122      LDD	R18,Z+2
    010AA 8133      LDD	R19,Z+3
    010AB 940E 38B9 CALL	fpint
    010AD E02A      LDI	R18,0xA
    010AE E030      LDI	R19,0
    010AF 940E 371E CALL	mod16s
    010B1 0198      MOVW	R18,R16
    010B2 6320      ORI	R18,0x30
    010B3 2F06      MOV	R16,R22
    010B4 940E 0644 CALL	_lcd_write_char_con
(0080) 		   lcd_write_char_con(y,' ');
    010B6 E220      LDI	R18,0x20
    010B7 2F06      MOV	R16,R22
    010B8 940E 0644 CALL	_lcd_write_char_con
(0081) 		   lcd_write_char_con(y,0xA1);
    010BA EA21      LDI	R18,0xA1
    010BB 2F06      MOV	R16,R22
    010BC 940E 0644 CALL	_lcd_write_char_con
(0082)           lcd_write_char_con(y,0xE6);
    010BE EE26      LDI	R18,0xE6
    010BF 2F06      MOV	R16,R22
    010C0 940E 0644 CALL	_lcd_write_char_con
(0083) 		   break;
    010C2 C01D      RJMP	0x10E0
(0084) 		 case 2:
(0085) 		   lcd_write_str_con(y,"故障");
    010C3 E622      LDI	R18,0x62
    010C4 E038      LDI	R19,0x8
    010C5 2F06      MOV	R16,R22
    010C6 940E 06E6 CALL	_lcd_write_str_con
(0086) 		   break;
    010C8 C017      RJMP	0x10E0
(0087) 		 case 3:
(0088) 		   lcd_write_str_con(y,"暂停");
    010C9 E52D      LDI	R18,0x5D
    010CA E038      LDI	R19,0x8
    010CB 2F06      MOV	R16,R22
    010CC 940E 06E6 CALL	_lcd_write_str_con
(0089) 		   break;
    010CE C011      RJMP	0x10E0
(0090) 		 case 4:
(0091) 		   lcd_write_str_con(y,"结束");
    010CF E528      LDI	R18,0x58
    010D0 E038      LDI	R19,0x8
    010D1 2F06      MOV	R16,R22
    010D2 940E 06E6 CALL	_lcd_write_str_con
(0092) 		   break;
    010D4 C00B      RJMP	0x10E0
(0093) 		 case 5:
(0094) 		   lcd_write_str_con(y,"等待");
    010D5 E523      LDI	R18,0x53
    010D6 E038      LDI	R19,0x8
    010D7 2F06      MOV	R16,R22
    010D8 940E 06E6 CALL	_lcd_write_str_con
(0095) 		   break;
    010DA C005      RJMP	0x10E0
(0096) 		 case 6:
(0097) 		   lcd_write_str_con(y,"暂停");
    010DB E52D      LDI	R18,0x5D
    010DC E038      LDI	R19,0x8
    010DD 2F06      MOV	R16,R22
    010DE 940E 06E6 CALL	_lcd_write_str_con
    010E0 01C5      MOVW	R24,R10
    010E1 9601      ADIW	R24,1
    010E2 015C      MOVW	R10,R24
    010E3 01C5      MOVW	R24,R10
    010E4 3084      CPI	R24,4
    010E5 E0E0      LDI	R30,0
    010E6 079E      CPC	R25,R30
    010E7 F408      BCC	0x10E9
    010E8 CF1B      RJMP	0x1004
(0098) 		   break;
(0099) 		   break;
(0100) 		 default:
(0101) 		   break;
(0102) 	   }
(0103) 	}
(0104) 	 keyV=KeyScan_once();
    010E9 940E 0539 CALL	_KeyScan_once
    010EB 2EA0      MOV	R10,R16
(0105) 	 if(keyV=='a'){
    010EC 3601      CPI	R16,0x61
    010ED F009      BEQ	0x10EF
    010EE C053      RJMP	0x1142
(0106) 	      //pageNum=8;//跳转到设置时间的界面
(0107) 		   pageNum=8;
    010EF E088      LDI	R24,0x8
    010F0 E090      LDI	R25,0
    010F1 9390 0D61 STS	pageNum+1,R25
    010F3 9380 0D60 STS	pageNum,R24
(0108) 	   switch(cur){
    010F5 3040      CPI	R20,0
    010F6 0745      CPC	R20,R21
    010F7 F0C9      BEQ	0x1111
    010F8 3041      CPI	R20,1
    010F9 E0E0      LDI	R30,0
    010FA 075E      CPC	R21,R30
    010FB F0E1      BEQ	0x1118
    010FC 3042      CPI	R20,2
    010FD E0E0      LDI	R30,0
    010FE 075E      CPC	R21,R30
    010FF F0F9      BEQ	0x111F
    01100 3043      CPI	R20,3
    01101 E0E0      LDI	R30,0
    01102 075E      CPC	R21,R30
    01103 F111      BEQ	0x1126
    01104 3044      CPI	R20,4
    01105 E0E0      LDI	R30,0
    01106 075E      CPC	R21,R30
    01107 F129      BEQ	0x112D
    01108 3045      CPI	R20,5
    01109 E0E0      LDI	R30,0
    0110A 075E      CPC	R21,R30
    0110B F141      BEQ	0x1134
    0110C 3046      CPI	R20,6
    0110D E0E0      LDI	R30,0
    0110E 075E      CPC	R21,R30
    0110F F159      BEQ	0x113B
    01110 C277      RJMP	0x1388
(0109) 		 case 0: 
(0110) 		    Set_White_off(2,1,3);
    01111 E083      LDI	R24,3
    01112 8388      ST	Y,R24
    01113 E021      LDI	R18,1
    01114 E002      LDI	R16,2
    01115 940E 0851 CALL	_Set_White_off
(0111) 		    break;
    01117 C270      RJMP	0x1388
(0112) 		 case 1:
(0113) 		   Set_White_off(7,1,8);
    01118 E088      LDI	R24,0x8
    01119 8388      ST	Y,R24
    0111A E021      LDI	R18,1
    0111B E007      LDI	R16,7
    0111C 940E 0851 CALL	_Set_White_off
(0114) 		   break;
    0111E C269      RJMP	0x1388
(0115) 		 case 2:
(0116) 		  Set_White_off(2,2,3);
    0111F E083      LDI	R24,3
    01120 8388      ST	Y,R24
    01121 E022      LDI	R18,2
    01122 E002      LDI	R16,2
    01123 940E 0851 CALL	_Set_White_off
(0117) 		  break;
    01125 C262      RJMP	0x1388
(0118) 		 case 3:
(0119) 		   Set_White_off(7,2,8);
    01126 E088      LDI	R24,0x8
    01127 8388      ST	Y,R24
    01128 E022      LDI	R18,2
    01129 E007      LDI	R16,7
    0112A 940E 0851 CALL	_Set_White_off
(0120) 		    break;
    0112C C25B      RJMP	0x1388
(0121) 		case 4:
(0122) 		    Set_White_off(2,3,3);
    0112D E083      LDI	R24,3
    0112E 8388      ST	Y,R24
    0112F E023      LDI	R18,3
    01130 E002      LDI	R16,2
    01131 940E 0851 CALL	_Set_White_off
(0123) 		    break;
    01133 C254      RJMP	0x1388
(0124) 		case 5:
(0125) 		    Set_White_off(6,3,7);
    01134 E087      LDI	R24,7
    01135 8388      ST	Y,R24
    01136 E023      LDI	R18,3
    01137 E006      LDI	R16,6
    01138 940E 0851 CALL	_Set_White_off
(0126) 		    break;
    0113A C24D      RJMP	0x1388
(0127) 		 case 6:
(0128) 		   Set_White_off(10,3,11);
    0113B E08B      LDI	R24,0xB
    0113C 8388      ST	Y,R24
    0113D E023      LDI	R18,3
    0113E E00A      LDI	R16,0xA
    0113F 940E 0851 CALL	_Set_White_off
(0129) 		    break;
(0130) 		  default:
(0131) 		   break;
(0132) 		 }
(0133) 	   return ;
    01141 C246      RJMP	0x1388
(0134) 	}else if(keyV=='d'){
    01142 2D8A      MOV	R24,R10
    01143 3684      CPI	R24,0x64
    01144 F009      BEQ	0x1146
    01145 C04C      RJMP	0x1192
(0135) 	     switch(cur){
    01146 3040      CPI	R20,0
    01147 0745      CPC	R20,R21
    01148 F069      BEQ	0x1156
    01149 3041      CPI	R20,1
    0114A E0E0      LDI	R30,0
    0114B 075E      CPC	R21,R30
    0114C F0C1      BEQ	0x1165
    0114D 3042      CPI	R20,2
    0114E E0E0      LDI	R30,0
    0114F 075E      CPC	R21,R30
    01150 F119      BEQ	0x1174
    01151 3043      CPI	R20,3
    01152 E0E0      LDI	R30,0
    01153 075E      CPC	R21,R30
    01154 F171      BEQ	0x1183
    01155 C231      RJMP	0x1387
(0136) 		  case 0:
(0137) 		   Set_White_off(2,1,3);
    01156 E083      LDI	R24,3
    01157 8388      ST	Y,R24
    01158 E021      LDI	R18,1
    01159 E002      LDI	R16,2
    0115A 940E 0851 CALL	_Set_White_off
(0138) 		   Set_White(2,2,3);
    0115C E083      LDI	R24,3
    0115D 8388      ST	Y,R24
    0115E E022      LDI	R18,2
    0115F E002      LDI	R16,2
    01160 940E 08C1 CALL	_Set_White
(0139) 		   cur=2;
    01162 E042      LDI	R20,2
    01163 E050      LDI	R21,0
(0140) 		   break;
    01164 C222      RJMP	0x1387
(0141) 		  case 1:
(0142) 		   Set_White_off(7,1,8);
    01165 E088      LDI	R24,0x8
    01166 8388      ST	Y,R24
    01167 E021      LDI	R18,1
    01168 E007      LDI	R16,7
    01169 940E 0851 CALL	_Set_White_off
(0143) 		   Set_White(7,2,8);
    0116B E088      LDI	R24,0x8
    0116C 8388      ST	Y,R24
    0116D E022      LDI	R18,2
    0116E E007      LDI	R16,7
    0116F 940E 08C1 CALL	_Set_White
(0144) 		   cur=3;
    01171 E043      LDI	R20,3
    01172 E050      LDI	R21,0
(0145) 		   break;
    01173 C213      RJMP	0x1387
(0146) 		  case 2:
(0147) 		   Set_White_off(2,2,3);
    01174 E083      LDI	R24,3
    01175 8388      ST	Y,R24
    01176 E022      LDI	R18,2
    01177 E002      LDI	R16,2
    01178 940E 0851 CALL	_Set_White_off
(0148) 		   Set_White(2,3,3);
    0117A E083      LDI	R24,3
    0117B 8388      ST	Y,R24
    0117C E023      LDI	R18,3
    0117D E002      LDI	R16,2
    0117E 940E 08C1 CALL	_Set_White
(0149) 		   cur=4;
    01180 E044      LDI	R20,4
    01181 E050      LDI	R21,0
(0150) 		   break;
    01182 C204      RJMP	0x1387
(0151) 		  case 3:
(0152) 		   Set_White_off(7,2,8);
    01183 E088      LDI	R24,0x8
    01184 8388      ST	Y,R24
    01185 E022      LDI	R18,2
    01186 E007      LDI	R16,7
    01187 940E 0851 CALL	_Set_White_off
(0153) 		   Set_White(6,3,7);
    01189 E087      LDI	R24,7
    0118A 8388      ST	Y,R24
    0118B E023      LDI	R18,3
    0118C E006      LDI	R16,6
    0118D 940E 08C1 CALL	_Set_White
(0154) 		   cur=5;
    0118F E045      LDI	R20,5
    01190 E050      LDI	R21,0
(0155) 		   break;
(0156) 		  default:
(0157) 		   break;
(0158) 		 }
(0159) 	}else if(keyV=='u'){switch(cur){
    01191 C1F5      RJMP	0x1387
    01192 2D8A      MOV	R24,R10
    01193 3785      CPI	R24,0x75
    01194 F009      BEQ	0x1196
    01195 C061      RJMP	0x11F7
    01196 3042      CPI	R20,2
    01197 E0E0      LDI	R30,0
    01198 075E      CPC	R21,R30
    01199 F091      BEQ	0x11AC
    0119A 3043      CPI	R20,3
    0119B E0E0      LDI	R30,0
    0119C 075E      CPC	R21,R30
    0119D F0E9      BEQ	0x11BB
    0119E 3044      CPI	R20,4
    0119F E0E0      LDI	R30,0
    011A0 075E      CPC	R21,R30
    011A1 F141      BEQ	0x11CA
    011A2 3045      CPI	R20,5
    011A3 E0E0      LDI	R30,0
    011A4 075E      CPC	R21,R30
    011A5 F199      BEQ	0x11D9
    011A6 3046      CPI	R20,6
    011A7 E0E0      LDI	R30,0
    011A8 075E      CPC	R21,R30
    011A9 F409      BNE	0x11AB
    011AA C03D      RJMP	0x11E8
    011AB C1DB      RJMP	0x1387
(0160) 		  case 2:
(0161) 		   Set_White_off(2,2,3);
    011AC E083      LDI	R24,3
    011AD 8388      ST	Y,R24
    011AE E022      LDI	R18,2
    011AF E002      LDI	R16,2
    011B0 940E 0851 CALL	_Set_White_off
(0162) 		   Set_White(2,1,3);
    011B2 E083      LDI	R24,3
    011B3 8388      ST	Y,R24
    011B4 E021      LDI	R18,1
    011B5 E002      LDI	R16,2
    011B6 940E 08C1 CALL	_Set_White
(0163) 		   cur=0;
    011B8 2744      CLR	R20
    011B9 2755      CLR	R21
(0164) 		   break;
    011BA C1CC      RJMP	0x1387
(0165) 		  case 3:
(0166) 		   Set_White_off(7,2,8);
    011BB E088      LDI	R24,0x8
    011BC 8388      ST	Y,R24
    011BD E022      LDI	R18,2
    011BE E007      LDI	R16,7
    011BF 940E 0851 CALL	_Set_White_off
(0167) 		   Set_White(7,1,8);
    011C1 E088      LDI	R24,0x8
    011C2 8388      ST	Y,R24
    011C3 E021      LDI	R18,1
    011C4 E007      LDI	R16,7
    011C5 940E 08C1 CALL	_Set_White
(0168) 		   cur=1;
    011C7 E041      LDI	R20,1
    011C8 E050      LDI	R21,0
(0169) 		   break;
    011C9 C1BD      RJMP	0x1387
(0170) 		  case 4:
(0171) 		   Set_White_off(2,3,5);
    011CA E085      LDI	R24,5
    011CB 8388      ST	Y,R24
    011CC E023      LDI	R18,3
    011CD E002      LDI	R16,2
    011CE 940E 0851 CALL	_Set_White_off
(0172) 		   Set_White(2,2,3);
    011D0 E083      LDI	R24,3
    011D1 8388      ST	Y,R24
    011D2 E022      LDI	R18,2
    011D3 E002      LDI	R16,2
    011D4 940E 08C1 CALL	_Set_White
(0173) 		   cur=2;
    011D6 E042      LDI	R20,2
    011D7 E050      LDI	R21,0
(0174) 		   break;
    011D8 C1AE      RJMP	0x1387
(0175) 		  case 5:
(0176) 		   Set_White_off(6,3,7);
    011D9 E087      LDI	R24,7
    011DA 8388      ST	Y,R24
    011DB E023      LDI	R18,3
    011DC E006      LDI	R16,6
    011DD 940E 0851 CALL	_Set_White_off
(0177) 		   Set_White(7,2,8);
    011DF E088      LDI	R24,0x8
    011E0 8388      ST	Y,R24
    011E1 E022      LDI	R18,2
    011E2 E007      LDI	R16,7
    011E3 940E 08C1 CALL	_Set_White
(0178) 		   cur=3;
    011E5 E043      LDI	R20,3
    011E6 E050      LDI	R21,0
(0179) 		   break;
    011E7 C19F      RJMP	0x1387
(0180) 		  case 6:
(0181) 		   Set_White_off(10,3,11);
    011E8 E08B      LDI	R24,0xB
    011E9 8388      ST	Y,R24
    011EA E023      LDI	R18,3
    011EB E00A      LDI	R16,0xA
    011EC 940E 0851 CALL	_Set_White_off
(0182) 		   Set_White(7,2,8);
    011EE E088      LDI	R24,0x8
    011EF 8388      ST	Y,R24
    011F0 E022      LDI	R18,2
    011F1 E007      LDI	R16,7
    011F2 940E 08C1 CALL	_Set_White
(0183) 		   cur=3;
    011F4 E043      LDI	R20,3
    011F5 E050      LDI	R21,0
(0184) 		   break;
(0185) 		  default:
(0186) 		   break;
(0187) 		 }
(0188) 	}else if(keyV=='l'){switch(cur){
    011F6 C190      RJMP	0x1387
    011F7 2D8A      MOV	R24,R10
    011F8 368C      CPI	R24,0x6C
    011F9 F009      BEQ	0x11FB
    011FA C04D      RJMP	0x1248
    011FB 3041      CPI	R20,1
    011FC E0E0      LDI	R30,0
    011FD 075E      CPC	R21,R30
    011FE F069      BEQ	0x120C
    011FF 3043      CPI	R20,3
    01200 E0E0      LDI	R30,0
    01201 075E      CPC	R21,R30
    01202 F0C1      BEQ	0x121B
    01203 3045      CPI	R20,5
    01204 E0E0      LDI	R30,0
    01205 075E      CPC	R21,R30
    01206 F119      BEQ	0x122A
    01207 3046      CPI	R20,6
    01208 E0E0      LDI	R30,0
    01209 075E      CPC	R21,R30
    0120A F171      BEQ	0x1239
    0120B C17B      RJMP	0x1387
(0189) 		  case 1:
(0190) 		   Set_White_off(7,1,8);
    0120C E088      LDI	R24,0x8
    0120D 8388      ST	Y,R24
    0120E E021      LDI	R18,1
    0120F E007      LDI	R16,7
    01210 940E 0851 CALL	_Set_White_off
(0191) 		   Set_White(2,1,3);
    01212 E083      LDI	R24,3
    01213 8388      ST	Y,R24
    01214 E021      LDI	R18,1
    01215 E002      LDI	R16,2
    01216 940E 08C1 CALL	_Set_White
(0192) 		   cur=0;
    01218 2744      CLR	R20
    01219 2755      CLR	R21
(0193) 		   break;
    0121A C16C      RJMP	0x1387
(0194) 		  case 3:
(0195) 		   Set_White_off(7,2,8);
    0121B E088      LDI	R24,0x8
    0121C 8388      ST	Y,R24
    0121D E022      LDI	R18,2
    0121E E007      LDI	R16,7
    0121F 940E 0851 CALL	_Set_White_off
(0196) 		   Set_White(2,2,3);
    01221 E083      LDI	R24,3
    01222 8388      ST	Y,R24
    01223 E022      LDI	R18,2
    01224 E002      LDI	R16,2
    01225 940E 08C1 CALL	_Set_White
(0197) 		   cur=2;
    01227 E042      LDI	R20,2
    01228 E050      LDI	R21,0
(0198) 		   break;
    01229 C15D      RJMP	0x1387
(0199) 		  case 5:
(0200) 		   Set_White_off(6,3,7);
    0122A E087      LDI	R24,7
    0122B 8388      ST	Y,R24
    0122C E023      LDI	R18,3
    0122D E006      LDI	R16,6
    0122E 940E 0851 CALL	_Set_White_off
(0201) 		   Set_White(2,3,3);
    01230 E083      LDI	R24,3
    01231 8388      ST	Y,R24
    01232 E023      LDI	R18,3
    01233 E002      LDI	R16,2
    01234 940E 08C1 CALL	_Set_White
(0202) 		   cur=4;
    01236 E044      LDI	R20,4
    01237 E050      LDI	R21,0
(0203) 		   break;
    01238 C14E      RJMP	0x1387
(0204) 		  case 6:
(0205) 		   Set_White_off(10,3,11);
    01239 E08B      LDI	R24,0xB
    0123A 8388      ST	Y,R24
    0123B E023      LDI	R18,3
    0123C E00A      LDI	R16,0xA
    0123D 940E 0851 CALL	_Set_White_off
(0206) 		   Set_White(6,3,7);
    0123F E087      LDI	R24,7
    01240 8388      ST	Y,R24
    01241 E023      LDI	R18,3
    01242 E006      LDI	R16,6
    01243 940E 08C1 CALL	_Set_White
(0207) 		   cur=5;
    01245 E045      LDI	R20,5
    01246 E050      LDI	R21,0
(0208) 		   break;
(0209) 		  default:
(0210) 		   break;
(0211) 		 }
(0212) 	}else if(keyV=='r'){
    01247 C13F      RJMP	0x1387
    01248 2D8A      MOV	R24,R10
    01249 3782      CPI	R24,0x72
    0124A F009      BEQ	0x124C
    0124B C04C      RJMP	0x1298
(0213) 	switch(cur){
    0124C 3040      CPI	R20,0
    0124D 0745      CPC	R20,R21
    0124E F069      BEQ	0x125C
    0124F 3042      CPI	R20,2
    01250 E0E0      LDI	R30,0
    01251 075E      CPC	R21,R30
    01252 F0C1      BEQ	0x126B
    01253 3044      CPI	R20,4
    01254 E0E0      LDI	R30,0
    01255 075E      CPC	R21,R30
    01256 F119      BEQ	0x127A
    01257 3045      CPI	R20,5
    01258 E0E0      LDI	R30,0
    01259 075E      CPC	R21,R30
    0125A F171      BEQ	0x1289
    0125B C12B      RJMP	0x1387
(0214) 		  case 0:
(0215) 		   Set_White_off(2,1,3);
    0125C E083      LDI	R24,3
    0125D 8388      ST	Y,R24
    0125E E021      LDI	R18,1
    0125F E002      LDI	R16,2
    01260 940E 0851 CALL	_Set_White_off
(0216) 		   Set_White(7,1,8);
    01262 E088      LDI	R24,0x8
    01263 8388      ST	Y,R24
    01264 E021      LDI	R18,1
    01265 E007      LDI	R16,7
    01266 940E 08C1 CALL	_Set_White
(0217) 		   cur=1;
    01268 E041      LDI	R20,1
    01269 E050      LDI	R21,0
(0218) 		   break;
    0126A C11C      RJMP	0x1387
(0219) 		  case 2:
(0220) 		   Set_White_off(2,2,3);
    0126B E083      LDI	R24,3
    0126C 8388      ST	Y,R24
    0126D E022      LDI	R18,2
    0126E E002      LDI	R16,2
    0126F 940E 0851 CALL	_Set_White_off
(0221) 		   Set_White(7,2,8);
    01271 E088      LDI	R24,0x8
    01272 8388      ST	Y,R24
    01273 E022      LDI	R18,2
    01274 E007      LDI	R16,7
    01275 940E 08C1 CALL	_Set_White
(0222) 		   cur=3;
    01277 E043      LDI	R20,3
    01278 E050      LDI	R21,0
(0223) 		   break;
    01279 C10D      RJMP	0x1387
(0224) 		  case 4:
(0225) 		   Set_White_off(2,3,3);
    0127A E083      LDI	R24,3
    0127B 8388      ST	Y,R24
    0127C E023      LDI	R18,3
    0127D E002      LDI	R16,2
    0127E 940E 0851 CALL	_Set_White_off
(0226) 		   Set_White(6,3,7);
    01280 E087      LDI	R24,7
    01281 8388      ST	Y,R24
    01282 E023      LDI	R18,3
    01283 E006      LDI	R16,6
    01284 940E 08C1 CALL	_Set_White
(0227) 		   cur=5;
    01286 E045      LDI	R20,5
    01287 E050      LDI	R21,0
(0228) 		   break;
    01288 C0FE      RJMP	0x1387
(0229) 		  case 5:
(0230) 		   Set_White_off(6,3,7);
    01289 E087      LDI	R24,7
    0128A 8388      ST	Y,R24
    0128B E023      LDI	R18,3
    0128C E006      LDI	R16,6
    0128D 940E 0851 CALL	_Set_White_off
(0231) 		   Set_White(10,3,11);
    0128F E08B      LDI	R24,0xB
    01290 8388      ST	Y,R24
    01291 E023      LDI	R18,3
    01292 E00A      LDI	R16,0xA
    01293 940E 08C1 CALL	_Set_White
(0232) 		   cur=6;
    01295 E046      LDI	R20,6
    01296 E050      LDI	R21,0
(0233) 		   break;
(0234) 		  default:
(0235) 		   break;
(0236) 		 }
(0237) 	}else if(keyV=='s'){
    01297 C0EF      RJMP	0x1387
    01298 2D8A      MOV	R24,R10
    01299 3783      CPI	R24,0x73
    0129A F009      BEQ	0x129C
    0129B C053      RJMP	0x12EF
(0238) 	   pageNum=5;
    0129C E085      LDI	R24,5
    0129D E090      LDI	R25,0
    0129E 9390 0D61 STS	pageNum+1,R25
    012A0 9380 0D60 STS	pageNum,R24
(0239) 	   switch(cur){
    012A2 3040      CPI	R20,0
    012A3 0745      CPC	R20,R21
    012A4 F0C9      BEQ	0x12BE
    012A5 3041      CPI	R20,1
    012A6 E0E0      LDI	R30,0
    012A7 075E      CPC	R21,R30
    012A8 F0E1      BEQ	0x12C5
    012A9 3042      CPI	R20,2
    012AA E0E0      LDI	R30,0
    012AB 075E      CPC	R21,R30
    012AC F0F9      BEQ	0x12CC
    012AD 3043      CPI	R20,3
    012AE E0E0      LDI	R30,0
    012AF 075E      CPC	R21,R30
    012B0 F111      BEQ	0x12D3
    012B1 3044      CPI	R20,4
    012B2 E0E0      LDI	R30,0
    012B3 075E      CPC	R21,R30
    012B4 F129      BEQ	0x12DA
    012B5 3045      CPI	R20,5
    012B6 E0E0      LDI	R30,0
    012B7 075E      CPC	R21,R30
    012B8 F141      BEQ	0x12E1
    012B9 3046      CPI	R20,6
    012BA E0E0      LDI	R30,0
    012BB 075E      CPC	R21,R30
    012BC F159      BEQ	0x12E8
    012BD C0CA      RJMP	0x1388
(0240) 		 case 0: 
(0241) 		    Set_White_off(2,1,3);
    012BE E083      LDI	R24,3
    012BF 8388      ST	Y,R24
    012C0 E021      LDI	R18,1
    012C1 E002      LDI	R16,2
    012C2 940E 0851 CALL	_Set_White_off
(0242) 		    break;
    012C4 C0C3      RJMP	0x1388
(0243) 		 case 1:
(0244) 		   Set_White_off(7,1,8);
    012C5 E088      LDI	R24,0x8
    012C6 8388      ST	Y,R24
    012C7 E021      LDI	R18,1
    012C8 E007      LDI	R16,7
    012C9 940E 0851 CALL	_Set_White_off
(0245) 		   break;
    012CB C0BC      RJMP	0x1388
(0246) 		 case 2:
(0247) 		  Set_White_off(2,2,3);
    012CC E083      LDI	R24,3
    012CD 8388      ST	Y,R24
    012CE E022      LDI	R18,2
    012CF E002      LDI	R16,2
    012D0 940E 0851 CALL	_Set_White_off
(0248) 		  break;
    012D2 C0B5      RJMP	0x1388
(0249) 		 case 3:
(0250) 		   Set_White_off(7,2,8);
    012D3 E088      LDI	R24,0x8
    012D4 8388      ST	Y,R24
    012D5 E022      LDI	R18,2
    012D6 E007      LDI	R16,7
    012D7 940E 0851 CALL	_Set_White_off
(0251) 		    break;
    012D9 C0AE      RJMP	0x1388
(0252) 		 case 4:
(0253) 		    Set_White_off(2,3,3);
    012DA E083      LDI	R24,3
    012DB 8388      ST	Y,R24
    012DC E023      LDI	R18,3
    012DD E002      LDI	R16,2
    012DE 940E 0851 CALL	_Set_White_off
(0254) 		    break;
    012E0 C0A7      RJMP	0x1388
(0255) 		case 5:
(0256) 		    Set_White_off(6,3,7);
    012E1 E087      LDI	R24,7
    012E2 8388      ST	Y,R24
    012E3 E023      LDI	R18,3
    012E4 E006      LDI	R16,6
    012E5 940E 0851 CALL	_Set_White_off
(0257) 		    break;
    012E7 C0A0      RJMP	0x1388
(0258) 		 case 6:
(0259) 		   Set_White_off(10,3,11);
    012E8 E08B      LDI	R24,0xB
    012E9 8388      ST	Y,R24
    012EA E023      LDI	R18,3
    012EB E00A      LDI	R16,0xA
    012EC 940E 0851 CALL	_Set_White_off
(0260) 		    break;
(0261) 		  default:
(0262) 		   break;
(0263) 		 }
(0264) 	   return ;
    012EE C099      RJMP	0x1388
(0265) 	}else if(keyV=='t'){
    012EF 2D8A      MOV	R24,R10
    012F0 3784      CPI	R24,0x74
    012F1 F009      BEQ	0x12F3
    012F2 C094      RJMP	0x1387
(0266) 	   switch(cur){
    012F3 3040      CPI	R20,0
    012F4 0745      CPC	R20,R21
    012F5 F0F1      BEQ	0x1314
    012F6 3041      CPI	R20,1
    012F7 E0E0      LDI	R30,0
    012F8 075E      CPC	R21,R30
    012F9 F191      BEQ	0x132C
    012FA 3042      CPI	R20,2
    012FB E0E0      LDI	R30,0
    012FC 075E      CPC	R21,R30
    012FD F409      BNE	0x12FF
    012FE C043      RJMP	0x1342
    012FF 3043      CPI	R20,3
    01300 E0E0      LDI	R30,0
    01301 075E      CPC	R21,R30
    01302 F409      BNE	0x1304
    01303 C055      RJMP	0x1359
    01304 3044      CPI	R20,4
    01305 E0E0      LDI	R30,0
    01306 075E      CPC	R21,R30
    01307 F409      BNE	0x1309
    01308 C066      RJMP	0x136F
    01309 3045      CPI	R20,5
    0130A E0E0      LDI	R30,0
    0130B 075E      CPC	R21,R30
    0130C F409      BNE	0x130E
    0130D C064      RJMP	0x1372
    0130E 3046      CPI	R20,6
    0130F E0E0      LDI	R30,0
    01310 075E      CPC	R21,R30
    01311 F409      BNE	0x1313
    01312 C062      RJMP	0x1375
    01313 C073      RJMP	0x1387
(0267) 		 case 0: 
(0268) 		    Set_White_off(2,1,3);
    01314 E083      LDI	R24,3
    01315 8388      ST	Y,R24
    01316 E021      LDI	R18,1
    01317 E002      LDI	R16,2
    01318 940E 0851 CALL	_Set_White_off
(0269) 		    prePageNum=1;
    0131A E081      LDI	R24,1
    0131B E090      LDI	R25,0
    0131C 9390 0D55 STS	prePageNum+1,R25
    0131E 9380 0D54 STS	prePageNum,R24
(0270) 		    pageParam[0]=0;//传递使用第一个，对应不同的温度
    01320 2422      CLR	R2
    01321 2433      CLR	R3
    01322 9230 0D57 STS	pageParam+1,R3
    01324 9220 0D56 STS	pageParam,R2
(0271) 		    pageNum=3;
    01326 E083      LDI	R24,3
    01327 9390 0D61 STS	pageNum+1,R25
    01329 9380 0D60 STS	pageNum,R24
(0272) 		    return;
    0132B C05C      RJMP	0x1388
(0273) 		 case 1:
(0274) 		   Set_White_off(7,1,8);
    0132C E088      LDI	R24,0x8
    0132D 8388      ST	Y,R24
    0132E E021      LDI	R18,1
    0132F E007      LDI	R16,7
    01330 940E 0851 CALL	_Set_White_off
(0275) 		    prePageNum=1;
    01332 E081      LDI	R24,1
    01333 E090      LDI	R25,0
    01334 9390 0D55 STS	prePageNum+1,R25
    01336 9380 0D54 STS	prePageNum,R24
(0276) 		   pageParam[0]=1;//传递使用第一个，对应不同的温度
    01338 9390 0D57 STS	pageParam+1,R25
    0133A 9380 0D56 STS	pageParam,R24
(0277) 		    pageNum=3;
    0133C E083      LDI	R24,3
    0133D 9390 0D61 STS	pageNum+1,R25
    0133F 9380 0D60 STS	pageNum,R24
(0278) 		    return;
    01341 C046      RJMP	0x1388
(0279) 		 case 2:
(0280) 		  Set_White_off(2,2,3);
    01342 E083      LDI	R24,3
    01343 8388      ST	Y,R24
    01344 E022      LDI	R18,2
    01345 E002      LDI	R16,2
    01346 940E 0851 CALL	_Set_White_off
(0281) 		    prePageNum=1;
    01348 E081      LDI	R24,1
    01349 E090      LDI	R25,0
    0134A 9390 0D55 STS	prePageNum+1,R25
    0134C 9380 0D54 STS	prePageNum,R24
(0282) 		    pageParam[0]=2;//传递使用第一个，对应不同的温度
    0134E E082      LDI	R24,2
    0134F 9390 0D57 STS	pageParam+1,R25
    01351 9380 0D56 STS	pageParam,R24
(0283) 		   pageNum=3;
    01353 E083      LDI	R24,3
    01354 9390 0D61 STS	pageNum+1,R25
    01356 9380 0D60 STS	pageNum,R24
(0284) 		   return;
    01358 C02F      RJMP	0x1388
(0285) 		 case 3:
(0286) 		   Set_White_off(7,2,8);
    01359 E088      LDI	R24,0x8
    0135A 8388      ST	Y,R24
    0135B E022      LDI	R18,2
    0135C E007      LDI	R16,7
    0135D 940E 0851 CALL	_Set_White_off
(0287) 		     prePageNum=1;
    0135F E081      LDI	R24,1
    01360 E090      LDI	R25,0
    01361 9390 0D55 STS	prePageNum+1,R25
    01363 9380 0D54 STS	prePageNum,R24
(0288) 		    pageParam[0]=3;//传递使用第一个，对应不同的温度
    01365 E083      LDI	R24,3
    01366 9390 0D57 STS	pageParam+1,R25
    01368 9380 0D56 STS	pageParam,R24
(0289) 		    pageNum=3;
    0136A 9390 0D61 STS	pageNum+1,R25
    0136C 9380 0D60 STS	pageNum,R24
(0290) 		    return;
    0136E C019      RJMP	0x1388
(0291) 		 case 4:
(0292) 		    //调用函数全部开始，参数正确的
(0293) 			set_all_start();
    0136F 940E 32FC CALL	_set_all_start
(0294) 		   break;
    01371 C015      RJMP	0x1387
(0295) 		 case 5:
(0296) 		    //全部停止
(0297) 			set_all_stop();
    01372 940E 3348 CALL	_set_all_stop
(0298) 		   break;
    01374 C012      RJMP	0x1387
(0299) 		 case 6://设置
(0300) 		   Set_White_off(10,3,11);
    01375 E08B      LDI	R24,0xB
    01376 8388      ST	Y,R24
    01377 E023      LDI	R18,3
    01378 E00A      LDI	R16,0xA
    01379 940E 0851 CALL	_Set_White_off
(0301) 		   prePageNum=1;
    0137B E081      LDI	R24,1
    0137C E090      LDI	R25,0
    0137D 9390 0D55 STS	prePageNum+1,R25
    0137F 9380 0D54 STS	prePageNum,R24
(0302) 		   pageNum=5;
    01381 E085      LDI	R24,5
    01382 9390 0D61 STS	pageNum+1,R25
    01384 9380 0D60 STS	pageNum,R24
(0303) 		    return;
    01386 C001      RJMP	0x1388
    01387 CC76      RJMP	0x0FFE
    01388 9622      ADIW	R28,2
    01389 940C 37D7 JMP	pop_xgsetF03C
_page2:
  ft2                  --> R10
  ft1                  --> R12
  ft0                  --> R14
  ft3                  --> R22
  cur                  --> R20
  keyV                 --> R10
    0138B 940E 3793 CALL	push_xgsetF0FC
    0138D 9722      SBIW	R28,2
(0304) 		  default:
(0305) 		   break;
(0306) 		 }
(0307) 	
(0308) 	}
(0309)   }
(0310)    return;
(0311) }
(0312)  void page2(void){
(0313)    uint cur=0;
    0138E 2744      CLR	R20
    0138F 2755      CLR	R21
(0314)    uchar keyV;
(0315)    uint ft0,ft1,ft2,ft3;
(0316)    ft0=EEPROM_read(1,0);
    01390 2722      CLR	R18
    01391 2733      CLR	R19
    01392 E001      LDI	R16,1
    01393 E010      LDI	R17,0
    01394 940E 0F76 CALL	_EEPROM_read
    01396 0178      MOVW	R14,R16
(0317)    ft1=EEPROM_read(2,0);
    01397 2722      CLR	R18
    01398 2733      CLR	R19
    01399 E002      LDI	R16,2
    0139A E010      LDI	R17,0
    0139B 940E 0F76 CALL	_EEPROM_read
    0139D 0168      MOVW	R12,R16
(0318)    ft2=EEPROM_read(3,0);
    0139E 2722      CLR	R18
    0139F 2733      CLR	R19
    013A0 E003      LDI	R16,3
    013A1 E010      LDI	R17,0
    013A2 940E 0F76 CALL	_EEPROM_read
    013A4 0158      MOVW	R10,R16
(0319)    ft3=EEPROM_read(4,0);
    013A5 2722      CLR	R18
    013A6 2733      CLR	R19
    013A7 E004      LDI	R16,4
    013A8 E010      LDI	R17,0
    013A9 940E 0F76 CALL	_EEPROM_read
    013AB 01B8      MOVW	R22,R16
(0320)  if(!(ft0==0 && ft1==0 && ft2==0 && ft3==0)){//判断是否有数据，任何一个有数据就询问是否恢复
    013AC 20EE      TST	R14
    013AD F471      BNE	0x13BC
    013AE 20FF      TST	R15
    013AF F461      BNE	0x13BC
    013B0 20CC      TST	R12
    013B1 F451      BNE	0x13BC
    013B2 20DD      TST	R13
    013B3 F441      BNE	0x13BC
    013B4 20AA      TST	R10
    013B5 F431      BNE	0x13BC
    013B6 20BB      TST	R11
    013B7 F421      BNE	0x13BC
    013B8 3000      CPI	R16,0
    013B9 0701      CPC	R16,R17
    013BA F409      BNE	0x13BC
    013BB C0EA      RJMP	0x14A6
(0321)    //初始画面，会有读取EEPROM的判断默认操作，本次只是画界面
(0322)    lcd_write_str(2,0,"是否恢复上次工作");
    013BC E482      LDI	R24,0x42
    013BD E098      LDI	R25,0x8
    013BE 8399      STD	Y+1,R25
    013BF 8388      ST	Y,R24
    013C0 2722      CLR	R18
    013C1 E002      LDI	R16,2
    013C2 940E 069C CALL	_lcd_write_str
(0323)    lcd_write_str(2,2,"恢复");
    013C4 E38D      LDI	R24,0x3D
    013C5 E098      LDI	R25,0x8
    013C6 8399      STD	Y+1,R25
    013C7 8388      ST	Y,R24
    013C8 E022      LDI	R18,2
    013C9 E002      LDI	R16,2
    013CA 940E 069C CALL	_lcd_write_str
(0324)    lcd_write_str(8,2,"取消");
    013CC E388      LDI	R24,0x38
    013CD E098      LDI	R25,0x8
    013CE 8399      STD	Y+1,R25
    013CF 8388      ST	Y,R24
    013D0 E022      LDI	R18,2
    013D1 E008      LDI	R16,0x8
    013D2 940E 069C CALL	_lcd_write_str
(0325)    ft3=EEPROM_read(0,0);//复用读取首选项
    013D4 2722      CLR	R18
    013D5 2733      CLR	R19
    013D6 2700      CLR	R16
    013D7 2711      CLR	R17
    013D8 940E 0F76 CALL	_EEPROM_read
    013DA 0158      MOVW	R10,R16
    013DB 01B5      MOVW	R22,R10
(0326)    if(ft3==1){//默认恢复
    013DC 3001      CPI	R16,1
    013DD E0E0      LDI	R30,0
    013DE 071E      CPC	R17,R30
    013DF F449      BNE	0x13E9
(0327)      cur=0;
    013E0 2744      CLR	R20
    013E1 2755      CLR	R21
(0328)      Set_White(3,2,4);
    013E2 E084      LDI	R24,4
    013E3 8388      ST	Y,R24
    013E4 E022      LDI	R18,2
    013E5 E003      LDI	R16,3
    013E6 940E 08C1 CALL	_Set_White
(0329)    }else{
    013E8 C008      RJMP	0x13F1
(0330)      cur=1;
    013E9 E041      LDI	R20,1
    013EA E050      LDI	R21,0
(0331)      Set_White(9,2,10);
    013EB E08A      LDI	R24,0xA
    013EC 8388      ST	Y,R24
    013ED E022      LDI	R18,2
    013EE E009      LDI	R16,0x9
    013EF 940E 08C1 CALL	_Set_White
(0332)    }
(0333)    Timerinit_0(0x00); //使用定时器，定时一段时间更改标记，while中读取这个标记确定是否结束while
    013F1 2700      CLR	R16
    013F2 940E 0A21 CALL	_Timerinit_0
    013F4 C0B0      RJMP	0x14A5
(0334)     while(1){
(0335) 	if(waitflag==1){
    013F5 9180 0110 LDS	R24,waitflag
    013F7 9190 0111 LDS	R25,waitflag+1
    013F9 3081      CPI	R24,1
    013FA E0E0      LDI	R30,0
    013FB 079E      CPC	R25,R30
    013FC F531      BNE	0x1423
(0336) 	  //执行相关操作
(0337) 		   Set_White_off(9,2,10);
    013FD E08A      LDI	R24,0xA
    013FE 8388      ST	Y,R24
    013FF E022      LDI	R18,2
    01400 E009      LDI	R16,0x9
    01401 940E 0851 CALL	_Set_White_off
(0338) 		    Set_White_off(3,2,4);
    01403 E084      LDI	R24,4
    01404 8388      ST	Y,R24
    01405 E022      LDI	R18,2
    01406 E003      LDI	R16,3
    01407 940E 0851 CALL	_Set_White_off
(0339) 			if(cur==0){
    01409 3040      CPI	R20,0
    0140A 0745      CPC	R20,R21
    0140B F481      BNE	0x141C
(0340) 			  lcd_clear();
    0140C 940E 0753 CALL	_lcd_clear
(0341) 			  lcd_write_str(5,2,"恢复中. . .");
    0140E E28C      LDI	R24,0x2C
    0140F E098      LDI	R25,0x8
    01410 8399      STD	Y+1,R25
    01411 8388      ST	Y,R24
    01412 E022      LDI	R18,2
    01413 E005      LDI	R16,5
    01414 940E 069C CALL	_lcd_write_str
(0342) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    01416 940E 301D CALL	_data_recover
(0343) 			  delay_ms(200);
    01418 EC08      LDI	R16,0xC8
    01419 E010      LDI	R17,0
    0141A 940E 044B CALL	_delay_ms
(0344) 			}
(0345) 		  pageNum=1;
    0141C E081      LDI	R24,1
    0141D E090      LDI	R25,0
    0141E 9390 0D61 STS	pageNum+1,R25
    01420 9380 0D60 STS	pageNum,R24
(0346) 		  return;
    01422 C089      RJMP	0x14AC
(0347) 	  }
(0348)       keyV=KeyScan_once();
    01423 940E 0539 CALL	_KeyScan_once
    01425 2EA0      MOV	R10,R16
(0349) 	  switch(keyV){
    01426 2D6A      MOV	R22,R10
    01427 2777      CLR	R23
    01428 366C      CPI	R22,0x6C
    01429 E0E0      LDI	R30,0
    0142A 077E      CPC	R23,R30
    0142B F079      BEQ	0x143B
    0142C 366C      CPI	R22,0x6C
    0142D E0E0      LDI	R30,0
    0142E 077E      CPC	R23,R30
    0142F F40C      BGE	0x1431
    01430 C074      RJMP	0x14A5
    01431 3762      CPI	R22,0x72
    01432 E0E0      LDI	R30,0
    01433 077E      CPC	R23,R30
    01434 F141      BEQ	0x145D
    01435 3764      CPI	R22,0x74
    01436 E0E0      LDI	R30,0
    01437 077E      CPC	R23,R30
    01438 F409      BNE	0x143A
    01439 C043      RJMP	0x147D
    0143A C06A      RJMP	0x14A5
(0350) 	    case 'l':
(0351) 		   TCCR0=0x00;//定时器停止
    0143B 2422      CLR	R2
    0143C BE23      OUT	0x33,R2
(0352) 		   lcd_write_char(10,0,' ');
    0143D E280      LDI	R24,0x20
    0143E 8388      ST	Y,R24
    0143F 2722      CLR	R18
    01440 E00A      LDI	R16,0xA
    01441 940E 0676 CALL	_lcd_write_char
(0353) 	       lcd_write_char(11,0,' ');	
    01443 E280      LDI	R24,0x20
    01444 8388      ST	Y,R24
    01445 2722      CLR	R18
    01446 E00B      LDI	R16,0xB
    01447 940E 0676 CALL	_lcd_write_char
(0354) 		   if(cur==1){
    01449 3041      CPI	R20,1
    0144A E0E0      LDI	R30,0
    0144B 075E      CPC	R21,R30
    0144C F009      BEQ	0x144E
    0144D C057      RJMP	0x14A5
(0355) 		      Set_White_off(9,2,10);
    0144E E08A      LDI	R24,0xA
    0144F 8388      ST	Y,R24
    01450 E022      LDI	R18,2
    01451 E009      LDI	R16,0x9
    01452 940E 0851 CALL	_Set_White_off
(0356) 		      Set_White(3,2,4);
    01454 E084      LDI	R24,4
    01455 8388      ST	Y,R24
    01456 E022      LDI	R18,2
    01457 E003      LDI	R16,3
    01458 940E 08C1 CALL	_Set_White
(0357) 			  cur=0;
    0145A 2744      CLR	R20
    0145B 2755      CLR	R21
(0358) 		   }
(0359) 		   break;
    0145C C048      RJMP	0x14A5
(0360) 		case 'r':
(0361) 		   TCCR0=0x00;//定时器停止
    0145D 2422      CLR	R2
    0145E BE23      OUT	0x33,R2
(0362) 		   lcd_write_char(10,0,' ');
    0145F E280      LDI	R24,0x20
    01460 8388      ST	Y,R24
    01461 2722      CLR	R18
    01462 E00A      LDI	R16,0xA
    01463 940E 0676 CALL	_lcd_write_char
(0363) 	       lcd_write_char(11,0,' ');	
    01465 E280      LDI	R24,0x20
    01466 8388      ST	Y,R24
    01467 2722      CLR	R18
    01468 E00B      LDI	R16,0xB
    01469 940E 0676 CALL	_lcd_write_char
(0364) 		   if(cur==0){
    0146B 3040      CPI	R20,0
    0146C 0745      CPC	R20,R21
    0146D F5B9      BNE	0x14A5
(0365) 		      Set_White_off(3,2,4);
    0146E E084      LDI	R24,4
    0146F 8388      ST	Y,R24
    01470 E022      LDI	R18,2
    01471 E003      LDI	R16,3
    01472 940E 0851 CALL	_Set_White_off
(0366) 		      Set_White(9,2,10);
    01474 E08A      LDI	R24,0xA
    01475 8388      ST	Y,R24
    01476 E022      LDI	R18,2
    01477 E009      LDI	R16,0x9
    01478 940E 08C1 CALL	_Set_White
(0367) 			  cur=1;
    0147A E041      LDI	R20,1
    0147B E050      LDI	R21,0
(0368) 		   }
(0369) 		   
(0370) 		  break;
    0147C C028      RJMP	0x14A5
(0371) 		case 't':
(0372) 		  //执行相关操作
(0373) 		   TCCR0=0x00;//定时器停止
    0147D 2422      CLR	R2
    0147E BE23      OUT	0x33,R2
(0374) 		   Set_White_off(9,2,10);
    0147F E08A      LDI	R24,0xA
    01480 8388      ST	Y,R24
    01481 E022      LDI	R18,2
    01482 E009      LDI	R16,0x9
    01483 940E 0851 CALL	_Set_White_off
(0375) 		    Set_White_off(3,2,4);
    01485 E084      LDI	R24,4
    01486 8388      ST	Y,R24
    01487 E022      LDI	R18,2
    01488 E003      LDI	R16,3
    01489 940E 0851 CALL	_Set_White_off
(0376) 			if(cur==0){
    0148B 3040      CPI	R20,0
    0148C 0745      CPC	R20,R21
    0148D F481      BNE	0x149E
(0377) 			  lcd_clear();
    0148E 940E 0753 CALL	_lcd_clear
(0378) 			  lcd_write_str(5,2,"恢复中. . .");
    01490 E28C      LDI	R24,0x2C
    01491 E098      LDI	R25,0x8
    01492 8399      STD	Y+1,R25
    01493 8388      ST	Y,R24
    01494 E022      LDI	R18,2
    01495 E005      LDI	R16,5
    01496 940E 069C CALL	_lcd_write_str
(0379) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    01498 940E 301D CALL	_data_recover
(0380) 			  delay_ms(200);
    0149A EC08      LDI	R16,0xC8
    0149B E010      LDI	R17,0
    0149C 940E 044B CALL	_delay_ms
(0381) 			}
(0382) 		  pageNum=1;
    0149E E081      LDI	R24,1
    0149F E090      LDI	R25,0
    014A0 9390 0D61 STS	pageNum+1,R25
    014A2 9380 0D60 STS	pageNum,R24
(0383) 		  return;
    014A4 C007      RJMP	0x14AC
    014A5 CF4F      RJMP	0x13F5
(0384) 	  }
(0385) 	}
(0386)   }else{
(0387)      pageNum=1;
    014A6 E081      LDI	R24,1
    014A7 E090      LDI	R25,0
    014A8 9390 0D61 STS	pageNum+1,R25
    014AA 9380 0D60 STS	pageNum,R24
(0388)      return;
    014AC 9622      ADIW	R28,2
    014AD 940C 3788 JMP	pop_xgsetF0FC
_page3:
  cur                  --> R20
  timecache            --> R22
  keyV                 --> R22
    014AF 940E 37A8 CALL	push_xgsetF000
    014B1 9722      SBIW	R28,2
(0389)   }
(0390)  }
(0391)  void page3(void){
(0392)   uint cur=0;
    014B2 2744      CLR	R20
    014B3 2755      CLR	R21
(0393)    uchar keyV;
(0394)    uint timecache;
(0395)    lcd_write_str(0,0,"T");
    014B4 E28A      LDI	R24,0x2A
    014B5 E098      LDI	R25,0x8
    014B6 8399      STD	Y+1,R25
    014B7 8388      ST	Y,R24
    014B8 2722      CLR	R18
    014B9 2700      CLR	R16
    014BA 940E 069C CALL	_lcd_write_str
(0396)     lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    014BC 9120 0D56 LDS	R18,pageParam
    014BE 9130 0D57 LDS	R19,pageParam+1
    014C0 5F2F      SUBI	R18,0xFF
    014C1 4F3F      SBCI	R19,0xFF
    014C2 6320      ORI	R18,0x30
    014C3 2700      CLR	R16
    014C4 940E 0644 CALL	_lcd_write_char_con
(0397) 	lcd_write_char_con(0,':');
    014C6 E32A      LDI	R18,0x3A
    014C7 2700      CLR	R16
    014C8 940E 0644 CALL	_lcd_write_char_con
(0398)    lcd_write_str(1,1,"温度:");
    014CA E284      LDI	R24,0x24
    014CB E098      LDI	R25,0x8
    014CC 8399      STD	Y+1,R25
    014CD 8388      ST	Y,R24
    014CE E021      LDI	R18,1
    014CF E001      LDI	R16,1
    014D0 940E 069C CALL	_lcd_write_str
(0399)    lcd_write_str(7,1,"目标:");
    014D2 E18E      LDI	R24,0x1E
    014D3 E098      LDI	R25,0x8
    014D4 8399      STD	Y+1,R25
    014D5 8388      ST	Y,R24
    014D6 E021      LDI	R18,1
    014D7 E007      LDI	R16,7
    014D8 940E 069C CALL	_lcd_write_str
(0400)    lcd_write_str(1,2,"状态:");
    014DA E188      LDI	R24,0x18
    014DB E098      LDI	R25,0x8
    014DC 8399      STD	Y+1,R25
    014DD 8388      ST	Y,R24
    014DE E022      LDI	R18,2
    014DF E001      LDI	R16,1
    014E0 940E 069C CALL	_lcd_write_str
(0401)    lcd_write_str(0,3,"编辑");
    014E2 E183      LDI	R24,0x13
    014E3 E098      LDI	R25,0x8
    014E4 8399      STD	Y+1,R25
    014E5 8388      ST	Y,R24
    014E6 E023      LDI	R18,3
    014E7 2700      CLR	R16
    014E8 940E 069C CALL	_lcd_write_str
(0402)    lcd_write_str(3,3,"运行");
    014EA E08E      LDI	R24,0xE
    014EB E098      LDI	R25,0x8
    014EC 8399      STD	Y+1,R25
    014ED 8388      ST	Y,R24
    014EE E023      LDI	R18,3
    014EF E003      LDI	R16,3
    014F0 940E 069C CALL	_lcd_write_str
(0403)    lcd_write_str(7,3,"暂停");
    014F2 E58D      LDI	R24,0x5D
    014F3 E098      LDI	R25,0x8
    014F4 8399      STD	Y+1,R25
    014F5 8388      ST	Y,R24
    014F6 E023      LDI	R18,3
    014F7 E007      LDI	R16,7
    014F8 940E 069C CALL	_lcd_write_str
(0404)    lcd_write_str(10,3,"重置");
    014FA E089      LDI	R24,0x9
    014FB E098      LDI	R25,0x8
    014FC 8399      STD	Y+1,R25
    014FD 8388      ST	Y,R24
    014FE E023      LDI	R18,3
    014FF E00A      LDI	R16,0xA
    01500 940E 069C CALL	_lcd_write_str
(0405)    Set_White(1,3,2);
    01502 E082      LDI	R24,2
    01503 8388      ST	Y,R24
    01504 E023      LDI	R18,3
    01505 E001      LDI	R16,1
    01506 940E 08C1 CALL	_Set_White
    01508 C33B      RJMP	0x1844
(0406)    //Set_White(9,2,10);
(0407)     while(1){
(0408) 	lcd_write_pos(2,0);
    01509 2722      CLR	R18
    0150A E002      LDI	R16,2
    0150B 940E 0658 CALL	_lcd_write_pos
(0409) 	pageTime2(0);
    0150D 2700      CLR	R16
    0150E 2711      CLR	R17
    0150F DA8F      RCALL	_pageTime2
(0410) 	//写温度
(0411) 	if(temps[pageParam[0]].flag!=2){
    01510 9120 0D56 LDS	R18,pageParam
    01512 9130 0D57 LDS	R19,pageParam+1
    01514 E404      LDI	R16,0x44
    01515 E011      LDI	R17,1
    01516 940E 376C CALL	empy16s
    01518 E186      LDI	R24,0x16
    01519 E091      LDI	R25,1
    0151A 01F8      MOVW	R30,R16
    0151B 0FE8      ADD	R30,R24
    0151C 1FF9      ADC	R31,R25
    0151D 8180      LD	R24,Z
    0151E 8191      LDD	R25,Z+1
    0151F 3082      CPI	R24,2
    01520 E0E0      LDI	R30,0
    01521 079E      CPC	R25,R30
    01522 F409      BNE	0x1524
    01523 C068      RJMP	0x158C
(0412) 	  lcd_write_pos(4,1);
    01524 E021      LDI	R18,1
    01525 E004      LDI	R16,4
    01526 940E 0658 CALL	_lcd_write_pos
(0413) 	  lcd_write_char_con(1,0x30 | ((int)temps[pageParam[0]].actualtemp)/100);
    01528 9120 0D56 LDS	R18,pageParam
    0152A 9130 0D57 LDS	R19,pageParam+1
    0152C E404      LDI	R16,0x44
    0152D E011      LDI	R17,1
    0152E 940E 376C CALL	empy16s
    01530 E38A      LDI	R24,0x3A
    01531 E092      LDI	R25,2
    01532 01F8      MOVW	R30,R16
    01533 0FE8      ADD	R30,R24
    01534 1FF9      ADC	R31,R25
    01535 8100      LD	R16,Z
    01536 8111      LDD	R17,Z+1
    01537 8122      LDD	R18,Z+2
    01538 8133      LDD	R19,Z+3
    01539 940E 38B9 CALL	fpint
    0153B E624      LDI	R18,0x64
    0153C E030      LDI	R19,0
    0153D 940E 3722 CALL	div16s
    0153F 0198      MOVW	R18,R16
    01540 6320      ORI	R18,0x30
    01541 E001      LDI	R16,1
    01542 940E 0644 CALL	_lcd_write_char_con
(0414) 	  lcd_write_char_con(1,0x30 | (((int)temps[pageParam[0]].actualtemp)/10)%10);
    01544 9120 0D56 LDS	R18,pageParam
    01546 9130 0D57 LDS	R19,pageParam+1
    01548 E404      LDI	R16,0x44
    01549 E011      LDI	R17,1
    0154A 940E 376C CALL	empy16s
    0154C E38A      LDI	R24,0x3A
    0154D E092      LDI	R25,2
    0154E 01F8      MOVW	R30,R16
    0154F 0FE8      ADD	R30,R24
    01550 1FF9      ADC	R31,R25
    01551 8100      LD	R16,Z
    01552 8111      LDD	R17,Z+1
    01553 8122      LDD	R18,Z+2
    01554 8133      LDD	R19,Z+3
    01555 940E 38B9 CALL	fpint
    01557 E02A      LDI	R18,0xA
    01558 E030      LDI	R19,0
    01559 940E 3722 CALL	div16s
    0155B E02A      LDI	R18,0xA
    0155C E030      LDI	R19,0
    0155D 940E 371E CALL	mod16s
    0155F 0198      MOVW	R18,R16
    01560 6320      ORI	R18,0x30
    01561 E001      LDI	R16,1
    01562 940E 0644 CALL	_lcd_write_char_con
(0415) 	  lcd_write_char_con(1,0x30 | ((int)temps[pageParam[0]].actualtemp)%10);
    01564 9120 0D56 LDS	R18,pageParam
    01566 9130 0D57 LDS	R19,pageParam+1
    01568 E404      LDI	R16,0x44
    01569 E011      LDI	R17,1
    0156A 940E 376C CALL	empy16s
    0156C E38A      LDI	R24,0x3A
    0156D E092      LDI	R25,2
    0156E 01F8      MOVW	R30,R16
    0156F 0FE8      ADD	R30,R24
    01570 1FF9      ADC	R31,R25
    01571 8100      LD	R16,Z
    01572 8111      LDD	R17,Z+1
    01573 8122      LDD	R18,Z+2
    01574 8133      LDD	R19,Z+3
    01575 940E 38B9 CALL	fpint
    01577 E02A      LDI	R18,0xA
    01578 E030      LDI	R19,0
    01579 940E 371E CALL	mod16s
    0157B 0198      MOVW	R18,R16
    0157C 6320      ORI	R18,0x30
    0157D E001      LDI	R16,1
    0157E 940E 0644 CALL	_lcd_write_char_con
(0416) 	  lcd_write_char_con(1,' ');
    01580 E220      LDI	R18,0x20
    01581 E001      LDI	R16,1
    01582 940E 0644 CALL	_lcd_write_char_con
(0417) 	  lcd_write_char_con(1,0xA1);
    01584 EA21      LDI	R18,0xA1
    01585 E001      LDI	R16,1
    01586 940E 0644 CALL	_lcd_write_char_con
(0418)       lcd_write_char_con(1,0xE6);
    01588 EE26      LDI	R18,0xE6
    01589 E001      LDI	R16,1
    0158A 940E 0644 CALL	_lcd_write_char_con
(0419) 	}
(0420) 	//数据需要读入
(0421) 	lcd_write_pos(4,2);
    0158C E022      LDI	R18,2
    0158D E004      LDI	R16,4
    0158E 940E 0658 CALL	_lcd_write_pos
(0422) 	switch(temps[pageParam[0]].flag){
    01590 9120 0D56 LDS	R18,pageParam
    01592 9130 0D57 LDS	R19,pageParam+1
    01594 E404      LDI	R16,0x44
    01595 E011      LDI	R17,1
    01596 940E 376C CALL	empy16s
    01598 E186      LDI	R24,0x16
    01599 E091      LDI	R25,1
    0159A 01F8      MOVW	R30,R16
    0159B 0FE8      ADD	R30,R24
    0159C 1FF9      ADC	R31,R25
    0159D 8160      LD	R22,Z
    0159E 8171      LDD	R23,Z+1
    0159F 3060      CPI	R22,0
    015A0 0767      CPC	R22,R23
    015A1 F0F1      BEQ	0x15C0
    015A2 3061      CPI	R22,1
    015A3 E0E0      LDI	R30,0
    015A4 077E      CPC	R23,R30
    015A5 F101      BEQ	0x15C6
    015A6 3062      CPI	R22,2
    015A7 E0E0      LDI	R30,0
    015A8 077E      CPC	R23,R30
    015A9 F409      BNE	0x15AB
    015AA C160      RJMP	0x170B
    015AB 3063      CPI	R22,3
    015AC E0E0      LDI	R30,0
    015AD 077E      CPC	R23,R30
    015AE F409      BNE	0x15B0
    015AF C161      RJMP	0x1711
    015B0 3064      CPI	R22,4
    015B1 E0E0      LDI	R30,0
    015B2 077E      CPC	R23,R30
    015B3 F409      BNE	0x15B5
    015B4 C162      RJMP	0x1717
    015B5 3065      CPI	R22,5
    015B6 E0E0      LDI	R30,0
    015B7 077E      CPC	R23,R30
    015B8 F409      BNE	0x15BA
    015B9 C176      RJMP	0x1730
    015BA 3066      CPI	R22,6
    015BB E0E0      LDI	R30,0
    015BC 077E      CPC	R23,R30
    015BD F409      BNE	0x15BF
    015BE C177      RJMP	0x1736
    015BF C17B      RJMP	0x173B
(0423) 	     case 0: 
(0424) 		   lcd_write_str_con(2,"停止");
    015C0 E627      LDI	R18,0x67
    015C1 E038      LDI	R19,0x8
    015C2 E002      LDI	R16,2
    015C3 940E 06E6 CALL	_lcd_write_str_con
(0425) 		   break;
    015C5 C175      RJMP	0x173B
(0426) 		 case 1:
(0427) 		   //写状态
(0428) 		   lcd_write_str(9,1,"");
    015C6 E088      LDI	R24,0x8
    015C7 E098      LDI	R25,0x8
    015C8 8399      STD	Y+1,R25
    015C9 8388      ST	Y,R24
    015CA E021      LDI	R18,1
    015CB E009      LDI	R16,0x9
    015CC 940E 069C CALL	_lcd_write_str
(0429) 		   lcd_write_char_con(1,0xA1);
    015CE EA21      LDI	R18,0xA1
    015CF E001      LDI	R16,1
    015D0 940E 0644 CALL	_lcd_write_char_con
(0430)            lcd_write_char_con(1,0xE6);
    015D2 EE26      LDI	R18,0xE6
    015D3 E001      LDI	R16,1
    015D4 940E 0644 CALL	_lcd_write_char_con
(0431) 		   timecache=temps[pageParam[0]].status;
    015D6 9120 0D56 LDS	R18,pageParam
    015D8 9130 0D57 LDS	R19,pageParam+1
    015DA E404      LDI	R16,0x44
    015DB E011      LDI	R17,1
    015DC 940E 376C CALL	empy16s
    015DE E280      LDI	R24,0x20
    015DF E092      LDI	R25,2
    015E0 01F8      MOVW	R30,R16
    015E1 0FE8      ADD	R30,R24
    015E2 1FF9      ADC	R31,R25
    015E3 8160      LD	R22,Z
    015E4 8171      LDD	R23,Z+1
(0432) 		   if(timecache>18){
    015E5 E182      LDI	R24,0x12
    015E6 E090      LDI	R25,0
    015E7 1786      CP	R24,R22
    015E8 0797      CPC	R25,R23
    015E9 F508      BCC	0x160B
(0433) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1)/10);
    015EA E02A      LDI	R18,0xA
    015EB E030      LDI	R19,0
    015EC 018B      MOVW	R16,R22
    015ED 5001      SUBI	R16,1
    015EE 4010      SBCI	R17,0
    015EF 9516      LSR	R17
    015F0 9507      ROR	R16
    015F1 5F0F      SUBI	R16,0xFF
    015F2 4F1F      SBCI	R17,0xFF
    015F3 940E 373E CALL	div16u
    015F5 0198      MOVW	R18,R16
    015F6 6320      ORI	R18,0x30
    015F7 E002      LDI	R16,2
    015F8 940E 0644 CALL	_lcd_write_char_con
(0434) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1)%10);
    015FA E02A      LDI	R18,0xA
    015FB E030      LDI	R19,0
    015FC 018B      MOVW	R16,R22
    015FD 5001      SUBI	R16,1
    015FE 4010      SBCI	R17,0
    015FF 9516      LSR	R17
    01600 9507      ROR	R16
    01601 5F0F      SUBI	R16,0xFF
    01602 4F1F      SBCI	R17,0xFF
    01603 940E 373C CALL	mod16u
    01605 0198      MOVW	R18,R16
    01606 6320      ORI	R18,0x30
    01607 E002      LDI	R16,2
    01608 940E 0644 CALL	_lcd_write_char_con
(0435) 		      }else{
    0160A C00F      RJMP	0x161A
(0436) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1));
    0160B 019B      MOVW	R18,R22
    0160C 5021      SUBI	R18,1
    0160D 4030      SBCI	R19,0
    0160E 9536      LSR	R19
    0160F 9527      ROR	R18
    01610 5F2F      SUBI	R18,0xFF
    01611 4F3F      SBCI	R19,0xFF
    01612 6320      ORI	R18,0x30
    01613 E002      LDI	R16,2
    01614 940E 0644 CALL	_lcd_write_char_con
(0437) 				  lcd_write_char_con(2,' ');
    01616 E220      LDI	R18,0x20
    01617 E002      LDI	R16,2
    01618 940E 0644 CALL	_lcd_write_char_con
(0438) 		    }
(0439) 			 lcd_write_char_con(2,':');
    0161A E32A      LDI	R18,0x3A
    0161B E002      LDI	R16,2
    0161C 940E 0644 CALL	_lcd_write_char_con
(0440) 			 lcd_write_char_con(2,' ');
    0161E E220      LDI	R18,0x20
    0161F E002      LDI	R16,2
    01620 940E 0644 CALL	_lcd_write_char_con
(0441) 		   if(timecache & 0x01){
    01622 FF60      SBRS	R22,0
    01623 C015      RJMP	0x1639
(0442) 		       lcd_write_str_con(2,"升温");
    01624 E023      LDI	R18,3
    01625 E038      LDI	R19,0x8
    01626 E002      LDI	R16,2
    01627 940E 06E6 CALL	_lcd_write_str_con
(0443)                 timecache=temps[pageParam[0]].p_settemp;
    01629 9120 0D56 LDS	R18,pageParam
    0162B 9130 0D57 LDS	R19,pageParam+1
    0162D E404      LDI	R16,0x44
    0162E E011      LDI	R17,1
    0162F 940E 376C CALL	empy16s
    01631 E28C      LDI	R24,0x2C
    01632 E092      LDI	R25,2
    01633 01F8      MOVW	R30,R16
    01634 0FE8      ADD	R30,R24
    01635 1FF9      ADC	R31,R25
    01636 8160      LD	R22,Z
    01637 8171      LDD	R23,Z+1
(0444) 		   }else{
    01638 C019      RJMP	0x1652
(0445) 		       lcd_write_str_con(2,"恒温");
    01639 EF2E      LDI	R18,0xFE
    0163A E037      LDI	R19,7
    0163B E002      LDI	R16,2
    0163C 940E 06E6 CALL	_lcd_write_str_con
(0446)                timecache=temps[pageParam[0]].settemp;
    0163E 9120 0D56 LDS	R18,pageParam
    01640 9130 0D57 LDS	R19,pageParam+1
    01642 E404      LDI	R16,0x44
    01643 E011      LDI	R17,1
    01644 940E 376C CALL	empy16s
    01646 E386      LDI	R24,0x36
    01647 E092      LDI	R25,2
    01648 01F8      MOVW	R30,R16
    01649 0FE8      ADD	R30,R24
    0164A 1FF9      ADC	R31,R25
    0164B 8100      LD	R16,Z
    0164C 8111      LDD	R17,Z+1
    0164D 8122      LDD	R18,Z+2
    0164E 8133      LDD	R19,Z+3
    0164F 940E 38B9 CALL	fpint
    01651 01B8      MOVW	R22,R16
(0447) 		   }
(0448) 		   lcd_write_char(9,1,0x30 | timecache/100);
    01652 E624      LDI	R18,0x64
    01653 E030      LDI	R19,0
    01654 018B      MOVW	R16,R22
    01655 940E 373E CALL	div16u
    01657 01C8      MOVW	R24,R16
    01658 6380      ORI	R24,0x30
    01659 8388      ST	Y,R24
    0165A E021      LDI	R18,1
    0165B E009      LDI	R16,0x9
    0165C 940E 0676 CALL	_lcd_write_char
(0449) 		   lcd_write_char_con(1,0x30 | (timecache/10)%10);
    0165E E02A      LDI	R18,0xA
    0165F E030      LDI	R19,0
    01660 018B      MOVW	R16,R22
    01661 940E 373E CALL	div16u
    01663 E02A      LDI	R18,0xA
    01664 E030      LDI	R19,0
    01665 940E 373C CALL	mod16u
    01667 0198      MOVW	R18,R16
    01668 6320      ORI	R18,0x30
    01669 E001      LDI	R16,1
    0166A 940E 0644 CALL	_lcd_write_char_con
(0450) 		   lcd_write_char_con(1,0x30 | timecache%10);
    0166C E02A      LDI	R18,0xA
    0166D E030      LDI	R19,0
    0166E 018B      MOVW	R16,R22
    0166F 940E 373C CALL	mod16u
    01671 0198      MOVW	R18,R16
    01672 6320      ORI	R18,0x30
    01673 E001      LDI	R16,1
    01674 940E 0644 CALL	_lcd_write_char_con
(0451) 		   lcd_write_char_con(1,' ');
    01676 E220      LDI	R18,0x20
    01677 E001      LDI	R16,1
    01678 940E 0644 CALL	_lcd_write_char_con
(0452) 		   lcd_write_char_con(1,0xA1);
    0167A EA21      LDI	R18,0xA1
    0167B E001      LDI	R16,1
    0167C 940E 0644 CALL	_lcd_write_char_con
(0453)            lcd_write_char_con(1,0xE6);
    0167E EE26      LDI	R18,0xE6
    0167F E001      LDI	R16,1
    01680 940E 0644 CALL	_lcd_write_char_con
(0454) 		   lcd_write_pos(8,2);
    01682 E022      LDI	R18,2
    01683 E008      LDI	R16,0x8
    01684 940E 0658 CALL	_lcd_write_pos
(0455) 		   timecache=temps[pageParam[0]].nowtime;
    01686 9120 0D56 LDS	R18,pageParam
    01688 9130 0D57 LDS	R19,pageParam+1
    0168A E404      LDI	R16,0x44
    0168B E011      LDI	R17,1
    0168C 940E 376C CALL	empy16s
    0168E E284      LDI	R24,0x24
    0168F E092      LDI	R25,2
    01690 01F8      MOVW	R30,R16
    01691 0FE8      ADD	R30,R24
    01692 1FF9      ADC	R31,R25
    01693 8160      LD	R22,Z
    01694 8171      LDD	R23,Z+1
(0456) 		   timecache/=3600;
    01695 E120      LDI	R18,0x10
    01696 E03E      LDI	R19,0xE
    01697 018B      MOVW	R16,R22
    01698 940E 373E CALL	div16u
    0169A 01B8      MOVW	R22,R16
(0457) 		    lcd_write_char_con(2,0x30 | timecache/10);
    0169B E02A      LDI	R18,0xA
    0169C E030      LDI	R19,0
    0169D 940E 373E CALL	div16u
    0169F 0198      MOVW	R18,R16
    016A0 6320      ORI	R18,0x30
    016A1 E002      LDI	R16,2
    016A2 940E 0644 CALL	_lcd_write_char_con
(0458) 			lcd_write_char_con(2,0x30 | timecache%10);
    016A4 E02A      LDI	R18,0xA
    016A5 E030      LDI	R19,0
    016A6 018B      MOVW	R16,R22
    016A7 940E 373C CALL	mod16u
    016A9 0198      MOVW	R18,R16
    016AA 6320      ORI	R18,0x30
    016AB E002      LDI	R16,2
    016AC 940E 0644 CALL	_lcd_write_char_con
(0459) 			lcd_write_char_con(2,':');
    016AE E32A      LDI	R18,0x3A
    016AF E002      LDI	R16,2
    016B0 940E 0644 CALL	_lcd_write_char_con
(0460) 			timecache=temps[pageParam[0]].nowtime;
    016B2 9120 0D56 LDS	R18,pageParam
    016B4 9130 0D57 LDS	R19,pageParam+1
    016B6 E404      LDI	R16,0x44
    016B7 E011      LDI	R17,1
    016B8 940E 376C CALL	empy16s
    016BA E284      LDI	R24,0x24
    016BB E092      LDI	R25,2
    016BC 01F8      MOVW	R30,R16
    016BD 0FE8      ADD	R30,R24
    016BE 1FF9      ADC	R31,R25
    016BF 8160      LD	R22,Z
    016C0 8171      LDD	R23,Z+1
(0461) 		    timecache/=60;
    016C1 E32C      LDI	R18,0x3C
    016C2 E030      LDI	R19,0
    016C3 018B      MOVW	R16,R22
    016C4 940E 373E CALL	div16u
(0462) 			timecache%=60;
    016C6 E32C      LDI	R18,0x3C
    016C7 E030      LDI	R19,0
    016C8 940E 373C CALL	mod16u
    016CA 01B8      MOVW	R22,R16
(0463) 			lcd_write_char_con(2,0x30 | timecache/10);
    016CB E02A      LDI	R18,0xA
    016CC E030      LDI	R19,0
    016CD 940E 373E CALL	div16u
    016CF 0198      MOVW	R18,R16
    016D0 6320      ORI	R18,0x30
    016D1 E002      LDI	R16,2
    016D2 940E 0644 CALL	_lcd_write_char_con
(0464) 			lcd_write_char_con(2,0x30 | timecache%10);
    016D4 E02A      LDI	R18,0xA
    016D5 E030      LDI	R19,0
    016D6 018B      MOVW	R16,R22
    016D7 940E 373C CALL	mod16u
    016D9 0198      MOVW	R18,R16
    016DA 6320      ORI	R18,0x30
    016DB E002      LDI	R16,2
    016DC 940E 0644 CALL	_lcd_write_char_con
(0465) 		    lcd_write_char_con(2,':');
    016DE E32A      LDI	R18,0x3A
    016DF E002      LDI	R16,2
    016E0 940E 0644 CALL	_lcd_write_char_con
(0466) 			timecache=temps[pageParam[0]].nowtime;
    016E2 9120 0D56 LDS	R18,pageParam
    016E4 9130 0D57 LDS	R19,pageParam+1
    016E6 E404      LDI	R16,0x44
    016E7 E011      LDI	R17,1
    016E8 940E 376C CALL	empy16s
    016EA E284      LDI	R24,0x24
    016EB E092      LDI	R25,2
    016EC 01F8      MOVW	R30,R16
    016ED 0FE8      ADD	R30,R24
    016EE 1FF9      ADC	R31,R25
    016EF 8160      LD	R22,Z
    016F0 8171      LDD	R23,Z+1
(0467) 		    timecache%=60;
    016F1 E32C      LDI	R18,0x3C
    016F2 E030      LDI	R19,0
    016F3 018B      MOVW	R16,R22
    016F4 940E 373C CALL	mod16u
    016F6 01B8      MOVW	R22,R16
(0468) 			lcd_write_char_con(2,0x30 |  timecache/10);
    016F7 E02A      LDI	R18,0xA
    016F8 E030      LDI	R19,0
    016F9 940E 373E CALL	div16u
    016FB 0198      MOVW	R18,R16
    016FC 6320      ORI	R18,0x30
    016FD E002      LDI	R16,2
    016FE 940E 0644 CALL	_lcd_write_char_con
(0469) 			lcd_write_char_con(2,0x30 |  timecache%10);
    01700 E02A      LDI	R18,0xA
    01701 E030      LDI	R19,0
    01702 018B      MOVW	R16,R22
    01703 940E 373C CALL	mod16u
    01705 0198      MOVW	R18,R16
    01706 6320      ORI	R18,0x30
    01707 E002      LDI	R16,2
    01708 940E 0644 CALL	_lcd_write_char_con
(0470) 		   break;
    0170A C030      RJMP	0x173B
(0471) 		 case 2:
(0472) 		   lcd_write_str_con(2,"故障");
    0170B E622      LDI	R18,0x62
    0170C E038      LDI	R19,0x8
    0170D E002      LDI	R16,2
    0170E 940E 06E6 CALL	_lcd_write_str_con
(0473) 		   break;
    01710 C02A      RJMP	0x173B
(0474) 		 case 3:
(0475) 		   lcd_write_str_con(2,"暂停");
    01711 E52D      LDI	R18,0x5D
    01712 E038      LDI	R19,0x8
    01713 E002      LDI	R16,2
    01714 940E 06E6 CALL	_lcd_write_str_con
(0476) 		   break;
    01716 C024      RJMP	0x173B
(0477) 		 case 4:
(0478) 		   lcd_write_str(9,1,"      ");
    01717 EF87      LDI	R24,0xF7
    01718 E097      LDI	R25,7
    01719 8399      STD	Y+1,R25
    0171A 8388      ST	Y,R24
    0171B E021      LDI	R18,1
    0171C E009      LDI	R16,0x9
    0171D 940E 069C CALL	_lcd_write_str
(0479) 		   lcd_write_str(4,2,"                ");
    0171F EE86      LDI	R24,0xE6
    01720 E097      LDI	R25,7
    01721 8399      STD	Y+1,R25
    01722 8388      ST	Y,R24
    01723 E022      LDI	R18,2
    01724 E004      LDI	R16,4
    01725 940E 069C CALL	_lcd_write_str
(0480) 		   lcd_write_str(4,2,"结束");
    01727 E588      LDI	R24,0x58
    01728 E098      LDI	R25,0x8
    01729 8399      STD	Y+1,R25
    0172A 8388      ST	Y,R24
    0172B E022      LDI	R18,2
    0172C E004      LDI	R16,4
    0172D 940E 069C CALL	_lcd_write_str
(0481) 		   break;
    0172F C00B      RJMP	0x173B
(0482) 		 case 5:
(0483) 		   lcd_write_str_con(2,"等待");
    01730 E523      LDI	R18,0x53
    01731 E038      LDI	R19,0x8
    01732 E002      LDI	R16,2
    01733 940E 06E6 CALL	_lcd_write_str_con
(0484) 		   break;
    01735 C005      RJMP	0x173B
(0485) 		 case 6:
(0486) 		   lcd_write_str_con(2,"暂停");
    01736 E52D      LDI	R18,0x5D
    01737 E038      LDI	R19,0x8
    01738 E002      LDI	R16,2
    01739 940E 06E6 CALL	_lcd_write_str_con
(0487) 		   break;
(0488) 		   break;
(0489) 		 default:
(0490) 		   break;
(0491) 	   }
(0492) 	
(0493)       keyV=KeyScan_once();  
    0173B 940E 0539 CALL	_KeyScan_once
    0173D 2F60      MOV	R22,R16
(0494) 	  if(keyV=='e'){
    0173E 3605      CPI	R16,0x65
    0173F F4F9      BNE	0x175F
(0495) 	      Set_White_off(1,3,2);
    01740 E082      LDI	R24,2
    01741 8388      ST	Y,R24
    01742 E023      LDI	R18,3
    01743 E001      LDI	R16,1
    01744 940E 0851 CALL	_Set_White_off
(0496) 		  Set_White_off(4,3,5);
    01746 E085      LDI	R24,5
    01747 8388      ST	Y,R24
    01748 E023      LDI	R18,3
    01749 E004      LDI	R16,4
    0174A 940E 0851 CALL	_Set_White_off
(0497) 		  Set_White_off(8,3,9);
    0174C E089      LDI	R24,0x9
    0174D 8388      ST	Y,R24
    0174E E023      LDI	R18,3
    0174F E008      LDI	R16,0x8
    01750 940E 0851 CALL	_Set_White_off
(0498) 		  Set_White_off(11,3,12);
    01752 E08C      LDI	R24,0xC
    01753 8388      ST	Y,R24
    01754 E023      LDI	R18,3
    01755 E00B      LDI	R16,0xB
    01756 940E 0851 CALL	_Set_White_off
(0499) 		  pageNum=1;
    01758 E081      LDI	R24,1
    01759 E090      LDI	R25,0
    0175A 9390 0D61 STS	pageNum+1,R25
    0175C 9380 0D60 STS	pageNum,R24
(0500) 		  return;
    0175E C0E6      RJMP	0x1845
(0501) 	  }else if(keyV=='l'){
    0175F 366C      CPI	R22,0x6C
    01760 F5D1      BNE	0x179B
(0502) 	     switch(cur){
    01761 3041      CPI	R20,1
    01762 E0E0      LDI	R30,0
    01763 075E      CPC	R21,R30
    01764 F049      BEQ	0x176E
    01765 3042      CPI	R20,2
    01766 E0E0      LDI	R30,0
    01767 075E      CPC	R21,R30
    01768 F0A1      BEQ	0x177D
    01769 3043      CPI	R20,3
    0176A E0E0      LDI	R30,0
    0176B 075E      CPC	R21,R30
    0176C F0F9      BEQ	0x178C
    0176D C0D6      RJMP	0x1844
(0503) 		   case 1:
(0504) 		     Set_White_off(4,3,5);
    0176E E085      LDI	R24,5
    0176F 8388      ST	Y,R24
    01770 E023      LDI	R18,3
    01771 E004      LDI	R16,4
    01772 940E 0851 CALL	_Set_White_off
(0505) 		     Set_White(1,3,2);
    01774 E082      LDI	R24,2
    01775 8388      ST	Y,R24
    01776 E023      LDI	R18,3
    01777 E001      LDI	R16,1
    01778 940E 08C1 CALL	_Set_White
(0506) 			 cur=0;
    0177A 2744      CLR	R20
    0177B 2755      CLR	R21
(0507) 		     break;
    0177C C0C7      RJMP	0x1844
(0508) 		   case 2:
(0509) 		     Set_White_off(8,3,9);
    0177D E089      LDI	R24,0x9
    0177E 8388      ST	Y,R24
    0177F E023      LDI	R18,3
    01780 E008      LDI	R16,0x8
    01781 940E 0851 CALL	_Set_White_off
(0510) 		     Set_White(4,3,5);
    01783 E085      LDI	R24,5
    01784 8388      ST	Y,R24
    01785 E023      LDI	R18,3
    01786 E004      LDI	R16,4
    01787 940E 08C1 CALL	_Set_White
(0511) 		     cur=1;
    01789 E041      LDI	R20,1
    0178A E050      LDI	R21,0
(0512) 		     break;
    0178B C0B8      RJMP	0x1844
(0513) 		   case 3:
(0514) 		     Set_White_off(11,3,12);
    0178C E08C      LDI	R24,0xC
    0178D 8388      ST	Y,R24
    0178E E023      LDI	R18,3
    0178F E00B      LDI	R16,0xB
    01790 940E 0851 CALL	_Set_White_off
(0515) 		     Set_White(8,3,9);
    01792 E089      LDI	R24,0x9
    01793 8388      ST	Y,R24
    01794 E023      LDI	R18,3
    01795 E008      LDI	R16,0x8
    01796 940E 08C1 CALL	_Set_White
(0516) 		     cur=2;
    01798 E042      LDI	R20,2
    01799 E050      LDI	R21,0
(0517) 		     break;
(0518) 		 }
(0519) 	  }else if(keyV=='r'){
    0179A C0A9      RJMP	0x1844
    0179B 3762      CPI	R22,0x72
    0179C F5C9      BNE	0x17D6
(0520) 	       switch(cur){
    0179D 3040      CPI	R20,0
    0179E 0745      CPC	R20,R21
    0179F F049      BEQ	0x17A9
    017A0 3041      CPI	R20,1
    017A1 E0E0      LDI	R30,0
    017A2 075E      CPC	R21,R30
    017A3 F0A1      BEQ	0x17B8
    017A4 3042      CPI	R20,2
    017A5 E0E0      LDI	R30,0
    017A6 075E      CPC	R21,R30
    017A7 F0F9      BEQ	0x17C7
    017A8 C09B      RJMP	0x1844
(0521) 		   case 0:
(0522) 		     Set_White(4,3,5);
    017A9 E085      LDI	R24,5
    017AA 8388      ST	Y,R24
    017AB E023      LDI	R18,3
    017AC E004      LDI	R16,4
    017AD 940E 08C1 CALL	_Set_White
(0523) 		     Set_White_off(1,3,2);
    017AF E082      LDI	R24,2
    017B0 8388      ST	Y,R24
    017B1 E023      LDI	R18,3
    017B2 E001      LDI	R16,1
    017B3 940E 0851 CALL	_Set_White_off
(0524) 			 cur=1;
    017B5 E041      LDI	R20,1
    017B6 E050      LDI	R21,0
(0525) 		     break;
    017B7 C08C      RJMP	0x1844
(0526) 		   case 1:
(0527) 		     Set_White(8,3,9);
    017B8 E089      LDI	R24,0x9
    017B9 8388      ST	Y,R24
    017BA E023      LDI	R18,3
    017BB E008      LDI	R16,0x8
    017BC 940E 08C1 CALL	_Set_White
(0528) 		     Set_White_off(4,3,5);
    017BE E085      LDI	R24,5
    017BF 8388      ST	Y,R24
    017C0 E023      LDI	R18,3
    017C1 E004      LDI	R16,4
    017C2 940E 0851 CALL	_Set_White_off
(0529) 		     cur=2;
    017C4 E042      LDI	R20,2
    017C5 E050      LDI	R21,0
(0530) 		     break;
    017C6 C07D      RJMP	0x1844
(0531) 		   case 2:
(0532) 		     Set_White(11,3,12);
    017C7 E08C      LDI	R24,0xC
    017C8 8388      ST	Y,R24
    017C9 E023      LDI	R18,3
    017CA E00B      LDI	R16,0xB
    017CB 940E 08C1 CALL	_Set_White
(0533) 		     Set_White_off(8,3,9);
    017CD E089      LDI	R24,0x9
    017CE 8388      ST	Y,R24
    017CF E023      LDI	R18,3
    017D0 E008      LDI	R16,0x8
    017D1 940E 0851 CALL	_Set_White_off
(0534) 		     cur=3;
    017D3 E043      LDI	R20,3
    017D4 E050      LDI	R21,0
(0535) 		     break;
(0536) 		 }
(0537) 	  }else if(keyV=='t'){
    017D5 C06E      RJMP	0x1844
    017D6 3764      CPI	R22,0x74
    017D7 F009      BEQ	0x17D9
    017D8 C04A      RJMP	0x1823
(0538) 	       switch(cur){
    017D9 3040      CPI	R20,0
    017DA 0745      CPC	R20,R21
    017DB F069      BEQ	0x17E9
    017DC 3041      CPI	R20,1
    017DD E0E0      LDI	R30,0
    017DE 075E      CPC	R21,R30
    017DF F0B1      BEQ	0x17F6
    017E0 3042      CPI	R20,2
    017E1 E0E0      LDI	R30,0
    017E2 075E      CPC	R21,R30
    017E3 F0C9      BEQ	0x17FD
    017E4 3043      CPI	R20,3
    017E5 E0E0      LDI	R30,0
    017E6 075E      CPC	R21,R30
    017E7 F121      BEQ	0x180C
    017E8 C05B      RJMP	0x1844
(0539) 		   case 0:
(0540) 		     Set_White_off(1,3,2);
    017E9 E082      LDI	R24,2
    017EA 8388      ST	Y,R24
    017EB E023      LDI	R18,3
    017EC E001      LDI	R16,1
    017ED 940E 0851 CALL	_Set_White_off
(0541) 			 pageNum=4;
    017EF E084      LDI	R24,4
    017F0 E090      LDI	R25,0
    017F1 9390 0D61 STS	pageNum+1,R25
    017F3 9380 0D60 STS	pageNum,R24
(0542) 		     return;
    017F5 C04F      RJMP	0x1845
(0543) 		   case 1:
(0544) 		     //运行操作
(0545) 			 set_start(pageParam[0]);
    017F6 9100 0D56 LDS	R16,pageParam
    017F8 9110 0D57 LDS	R17,pageParam+1
    017FA 940E 3379 CALL	_set_start
(0546) 		     break;
    017FC C047      RJMP	0x1844
(0547) 		   case 2:
(0548) 		     //暂停操作
(0549) 			  lcd_write_str(4,2,"                ");
    017FD EE86      LDI	R24,0xE6
    017FE E097      LDI	R25,7
    017FF 8399      STD	Y+1,R25
    01800 8388      ST	Y,R24
    01801 E022      LDI	R18,2
    01802 E004      LDI	R16,4
    01803 940E 069C CALL	_lcd_write_str
(0550) 			 set_stop(pageParam[0]);
    01805 9100 0D56 LDS	R16,pageParam
    01807 9110 0D57 LDS	R17,pageParam+1
    01809 940E 33DB CALL	_set_stop
(0551) 		     break;
    0180B C038      RJMP	0x1844
(0552) 		  case 3:
(0553) 		     //重置操作
(0554) 			 Set_White_off(11,3,12);
    0180C E08C      LDI	R24,0xC
    0180D 8388      ST	Y,R24
    0180E E023      LDI	R18,3
    0180F E00B      LDI	R16,0xB
    01810 940E 0851 CALL	_Set_White_off
(0555) 			 pageParam[2]=1;//表示重置是温度数据的
    01812 E081      LDI	R24,1
    01813 E090      LDI	R25,0
    01814 9390 0D5B STS	pageParam+5,R25
    01816 9380 0D5A STS	pageParam+4,R24
(0556) 			 prePageNum=3;
    01818 E083      LDI	R24,3
    01819 9390 0D55 STS	prePageNum+1,R25
    0181B 9380 0D54 STS	prePageNum,R24
(0557) 		     pageNum=7;
    0181D E087      LDI	R24,7
    0181E 9390 0D61 STS	pageNum+1,R25
    01820 9380 0D60 STS	pageNum,R24
(0558) 		     return;
    01822 C022      RJMP	0x1845
(0559) 		 }
(0560) 	  }else if(keyV=='s'){
    01823 3763      CPI	R22,0x73
    01824 F4F9      BNE	0x1844
(0561) 	       Set_White_off(1,3,2);
    01825 E082      LDI	R24,2
    01826 8388      ST	Y,R24
    01827 E023      LDI	R18,3
    01828 E001      LDI	R16,1
    01829 940E 0851 CALL	_Set_White_off
(0562) 		   Set_White_off(4,3,5);
    0182B E085      LDI	R24,5
    0182C 8388      ST	Y,R24
    0182D E023      LDI	R18,3
    0182E E004      LDI	R16,4
    0182F 940E 0851 CALL	_Set_White_off
(0563) 		   Set_White_off(8,3,9);
    01831 E089      LDI	R24,0x9
    01832 8388      ST	Y,R24
    01833 E023      LDI	R18,3
    01834 E008      LDI	R16,0x8
    01835 940E 0851 CALL	_Set_White_off
(0564) 		   Set_White_off(11,3,12);
    01837 E08C      LDI	R24,0xC
    01838 8388      ST	Y,R24
    01839 E023      LDI	R18,3
    0183A E00B      LDI	R16,0xB
    0183B 940E 0851 CALL	_Set_White_off
(0565) 			pageNum=4;
    0183D E084      LDI	R24,4
    0183E E090      LDI	R25,0
    0183F 9390 0D61 STS	pageNum+1,R25
    01841 9380 0D60 STS	pageNum,R24
(0566) 		     return;
    01843 C001      RJMP	0x1845
    01844 CCC4      RJMP	0x1509
    01845 9622      ADIW	R28,2
    01846 940C 37AD JMP	pop_xgsetF000
_page4_data:
  numL                 --> R14
  numH                 --> R12
  beginCur             --> R20
  i                    --> R22
  dataCach             --> R10
  y                    --> Y,+12
    01848 940E 3712 CALL	push_arg4
    0184A 940E 3793 CALL	push_xgsetF0FC
    0184C 0159      MOVW	R10,R18
    0184D 9722      SBIW	R28,2
(0567) 	  }
(0568) 	}
(0569)  }
(0570)  //等下调用page_ac()函数改变ac写数据
(0571)  void page4_data(uint y,uint* dataCach){
(0572)       uint numH=0xA2;
    0184E EA82      LDI	R24,0xA2
    0184F E090      LDI	R25,0
    01850 016C      MOVW	R12,R24
(0573)       uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
    01851 EC84      LDI	R24,0xC4
    01852 017C      MOVW	R14,R24
(0574) 	  uint i=0;
    01853 2766      CLR	R22
    01854 2777      CLR	R23
(0575) 	  uint beginCur=0;
    01855 2744      CLR	R20
    01856 2755      CLR	R21
(0576)     //这个判断需要些到读取值函数中去
(0577) 	 if(y<3){
    01857 858C      LDD	R24,Y+12
    01858 859D      LDD	R25,Y+13
    01859 3083      CPI	R24,3
    0185A E0E0      LDI	R30,0
    0185B 079E      CPC	R25,R30
    0185C F530      BCC	0x1883
(0578) 	   lcd_write_char(2,1,numH);
    0185D 82C8      ST	Y,R12
    0185E E021      LDI	R18,1
    0185F E002      LDI	R16,2
    01860 940E 0676 CALL	_lcd_write_char
(0579)        lcd_write_char_con(1,numL+1);
    01862 0197      MOVW	R18,R14
    01863 5F2F      SUBI	R18,0xFF
    01864 4F3F      SBCI	R19,0xFF
    01865 E001      LDI	R16,1
    01866 940E 0644 CALL	_lcd_write_char_con
(0580) 	   lcd_write_char(2,2,numH);
    01868 82C8      ST	Y,R12
    01869 E022      LDI	R18,2
    0186A E002      LDI	R16,2
    0186B 940E 0676 CALL	_lcd_write_char
(0581)        lcd_write_char_con(2,numL+2);
    0186D 0197      MOVW	R18,R14
    0186E 5F2E      SUBI	R18,0xFE
    0186F 4F3F      SBCI	R19,0xFF
    01870 E002      LDI	R16,2
    01871 940E 0644 CALL	_lcd_write_char_con
(0582)        lcd_write_char(2,3,numH);
    01873 82C8      ST	Y,R12
    01874 E023      LDI	R18,3
    01875 E002      LDI	R16,2
    01876 940E 0676 CALL	_lcd_write_char
(0583)        lcd_write_char_con(3,numL+3);
    01878 0197      MOVW	R18,R14
    01879 5F2D      SUBI	R18,0xFD
    0187A 4F3F      SBCI	R19,0xFF
    0187B E003      LDI	R16,3
    0187C 940E 0644 CALL	_lcd_write_char_con
(0584) 	   y=0;
    0187E 2400      CLR	R0
    0187F 2411      CLR	R1
    01880 861D      STD	Y+13,R1
    01881 860C      STD	Y+12,R0
(0585) 	  }else if(y>=3 && y<6){
    01882 C08F      RJMP	0x1912
    01883 858C      LDD	R24,Y+12
    01884 859D      LDD	R25,Y+13
    01885 3083      CPI	R24,3
    01886 E0E0      LDI	R30,0
    01887 079E      CPC	R25,R30
    01888 F150      BCS	0x18B3
    01889 3086      CPI	R24,6
    0188A E0E0      LDI	R30,0
    0188B 079E      CPC	R25,R30
    0188C F530      BCC	0x18B3
(0586) 	   lcd_write_char(2,1,numH);
    0188D 82C8      ST	Y,R12
    0188E E021      LDI	R18,1
    0188F E002      LDI	R16,2
    01890 940E 0676 CALL	_lcd_write_char
(0587)        lcd_write_char_con(1,numL+4);
    01892 0197      MOVW	R18,R14
    01893 5F2C      SUBI	R18,0xFC
    01894 4F3F      SBCI	R19,0xFF
    01895 E001      LDI	R16,1
    01896 940E 0644 CALL	_lcd_write_char_con
(0588) 	   lcd_write_char(2,2,numH);
    01898 82C8      ST	Y,R12
    01899 E022      LDI	R18,2
    0189A E002      LDI	R16,2
    0189B 940E 0676 CALL	_lcd_write_char
(0589)        lcd_write_char_con(2,numL+5);
    0189D 0197      MOVW	R18,R14
    0189E 5F2B      SUBI	R18,0xFB
    0189F 4F3F      SBCI	R19,0xFF
    018A0 E002      LDI	R16,2
    018A1 940E 0644 CALL	_lcd_write_char_con
(0590)        lcd_write_char(2,3,numH);
    018A3 82C8      ST	Y,R12
    018A4 E023      LDI	R18,3
    018A5 E002      LDI	R16,2
    018A6 940E 0676 CALL	_lcd_write_char
(0591)        lcd_write_char_con(3,numL+6);
    018A8 0197      MOVW	R18,R14
    018A9 5F2A      SUBI	R18,0xFA
    018AA 4F3F      SBCI	R19,0xFF
    018AB E003      LDI	R16,3
    018AC 940E 0644 CALL	_lcd_write_char_con
(0592) 	   y=1;
    018AE E081      LDI	R24,1
    018AF E090      LDI	R25,0
    018B0 879D      STD	Y+13,R25
    018B1 878C      STD	Y+12,R24
(0593) 	  }else if(y>=6 && y<9){
    018B2 C05F      RJMP	0x1912
    018B3 858C      LDD	R24,Y+12
    018B4 859D      LDD	R25,Y+13
    018B5 3086      CPI	R24,6
    018B6 E0E0      LDI	R30,0
    018B7 079E      CPC	R25,R30
    018B8 F150      BCS	0x18E3
    018B9 3089      CPI	R24,0x9
    018BA E0E0      LDI	R30,0
    018BB 079E      CPC	R25,R30
    018BC F530      BCC	0x18E3
(0594) 	   lcd_write_char(2,1,numH);
    018BD 82C8      ST	Y,R12
    018BE E021      LDI	R18,1
    018BF E002      LDI	R16,2
    018C0 940E 0676 CALL	_lcd_write_char
(0595)        lcd_write_char_con(1,numL+7);
    018C2 0197      MOVW	R18,R14
    018C3 5F29      SUBI	R18,0xF9
    018C4 4F3F      SBCI	R19,0xFF
    018C5 E001      LDI	R16,1
    018C6 940E 0644 CALL	_lcd_write_char_con
(0596) 	   lcd_write_char(2,2,numH);
    018C8 82C8      ST	Y,R12
    018C9 E022      LDI	R18,2
    018CA E002      LDI	R16,2
    018CB 940E 0676 CALL	_lcd_write_char
(0597)        lcd_write_char_con(2,numL+8);
    018CD 0197      MOVW	R18,R14
    018CE 5F28      SUBI	R18,0xF8
    018CF 4F3F      SBCI	R19,0xFF
    018D0 E002      LDI	R16,2
    018D1 940E 0644 CALL	_lcd_write_char_con
(0598)        lcd_write_char(2,3,numH);
    018D3 82C8      ST	Y,R12
    018D4 E023      LDI	R18,3
    018D5 E002      LDI	R16,2
    018D6 940E 0676 CALL	_lcd_write_char
(0599)        lcd_write_char_con(3,numL+9);
    018D8 0197      MOVW	R18,R14
    018D9 5F27      SUBI	R18,0xF7
    018DA 4F3F      SBCI	R19,0xFF
    018DB E003      LDI	R16,3
    018DC 940E 0644 CALL	_lcd_write_char_con
(0600) 	   y=2;
    018DE E082      LDI	R24,2
    018DF E090      LDI	R25,0
    018E0 879D      STD	Y+13,R25
    018E1 878C      STD	Y+12,R24
(0601) 	  }else if(y>=9 && y<12){
    018E2 C02F      RJMP	0x1912
    018E3 858C      LDD	R24,Y+12
    018E4 859D      LDD	R25,Y+13
    018E5 3089      CPI	R24,0x9
    018E6 E0E0      LDI	R30,0
    018E7 079E      CPC	R25,R30
    018E8 F148      BCS	0x1912
    018E9 308C      CPI	R24,0xC
    018EA E0E0      LDI	R30,0
    018EB 079E      CPC	R25,R30
    018EC F528      BCC	0x1912
(0602) 	   lcd_write_char(2,1,numH);
    018ED 82C8      ST	Y,R12
    018EE E021      LDI	R18,1
    018EF E002      LDI	R16,2
    018F0 940E 0676 CALL	_lcd_write_char
(0603)        lcd_write_char_con(1,numL+10);
    018F2 0197      MOVW	R18,R14
    018F3 5F26      SUBI	R18,0xF6
    018F4 4F3F      SBCI	R19,0xFF
    018F5 E001      LDI	R16,1
    018F6 940E 0644 CALL	_lcd_write_char_con
(0604) 	   lcd_write_char(2,2,numH);
    018F8 82C8      ST	Y,R12
    018F9 E022      LDI	R18,2
    018FA E002      LDI	R16,2
    018FB 940E 0676 CALL	_lcd_write_char
(0605)        lcd_write_char_con(2,numL+11);
    018FD 0197      MOVW	R18,R14
    018FE 5F25      SUBI	R18,0xF5
    018FF 4F3F      SBCI	R19,0xFF
    01900 E002      LDI	R16,2
    01901 940E 0644 CALL	_lcd_write_char_con
(0606)        lcd_write_char(2,3,numH);
    01903 82C8      ST	Y,R12
    01904 E023      LDI	R18,3
    01905 E002      LDI	R16,2
    01906 940E 0676 CALL	_lcd_write_char
(0607)        lcd_write_char_con(3,numL+12);
    01908 0197      MOVW	R18,R14
    01909 5F24      SUBI	R18,0xF4
    0190A 4F3F      SBCI	R19,0xFF
    0190B E003      LDI	R16,3
    0190C 940E 0644 CALL	_lcd_write_char_con
(0608) 	   y=3;
    0190E E083      LDI	R24,3
    0190F E090      LDI	R25,0
    01910 879D      STD	Y+13,R25
    01911 878C      STD	Y+12,R24
(0609) 	  }
(0610) 	  //还要做数据读取操作
(0611) 	  beginCur=y*33;//获得首个数据
    01912 E201      LDI	R16,0x21
    01913 E010      LDI	R17,0
    01914 852C      LDD	R18,Y+12
    01915 853D      LDD	R19,Y+13
    01916 940E 376C CALL	empy16s
    01918 01A8      MOVW	R20,R16
(0612) 	  for(i=1;i<=3;i++){
    01919 E061      LDI	R22,1
    0191A E070      LDI	R23,0
    0191B C0C5      RJMP	0x19E1
(0613) 	    if(i==1){//第一次进入需要判断，首位写不许用++
    0191C 3061      CPI	R22,1
    0191D E0E0      LDI	R30,0
    0191E 077E      CPC	R23,R30
    0191F F471      BNE	0x192E
(0614) 		 lcd_write_char(3,i,0x30 | *(dataCach+beginCur));
    01920 01FA      MOVW	R30,R20
    01921 0FEE      LSL	R30
    01922 1FFF      ROL	R31
    01923 0DEA      ADD	R30,R10
    01924 1DFB      ADC	R31,R11
    01925 8180      LD	R24,Z
    01926 8191      LDD	R25,Z+1
    01927 6380      ORI	R24,0x30
    01928 8388      ST	Y,R24
    01929 2F26      MOV	R18,R22
    0192A E003      LDI	R16,3
    0192B 940E 0676 CALL	_lcd_write_char
(0615) 		}else{
    0192D C010      RJMP	0x193E
(0616) 		 lcd_write_char(3,i,0x30 | *(dataCach+(++beginCur)));
    0192E 01CA      MOVW	R24,R20
    0192F 9601      ADIW	R24,1
    01930 01AC      MOVW	R20,R24
    01931 01FC      MOVW	R30,R24
    01932 0FEE      LSL	R30
    01933 1FFF      ROL	R31
    01934 0DEA      ADD	R30,R10
    01935 1DFB      ADC	R31,R11
    01936 8180      LD	R24,Z
    01937 8191      LDD	R25,Z+1
    01938 6380      ORI	R24,0x30
    01939 8388      ST	Y,R24
    0193A 2F26      MOV	R18,R22
    0193B E003      LDI	R16,3
    0193C 940E 0676 CALL	_lcd_write_char
(0617) 		}
(0618)         lcd_write_char_con(i, 0x30 | *(dataCach+(++beginCur)));
    0193E 01CA      MOVW	R24,R20
    0193F 9601      ADIW	R24,1
    01940 01AC      MOVW	R20,R24
    01941 01FC      MOVW	R30,R24
    01942 0FEE      LSL	R30
    01943 1FFF      ROL	R31
    01944 0DEA      ADD	R30,R10
    01945 1DFB      ADC	R31,R11
    01946 8120      LD	R18,Z
    01947 8131      LDD	R19,Z+1
    01948 6320      ORI	R18,0x30
    01949 2F06      MOV	R16,R22
    0194A 940E 0644 CALL	_lcd_write_char_con
(0619) 		 lcd_write_str_con(i,": ");
    0194C EE23      LDI	R18,0xE3
    0194D E037      LDI	R19,7
    0194E 2F06      MOV	R16,R22
    0194F 940E 06E6 CALL	_lcd_write_str_con
(0620) 	     lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    01951 01CA      MOVW	R24,R20
    01952 9601      ADIW	R24,1
    01953 01AC      MOVW	R20,R24
    01954 01FC      MOVW	R30,R24
    01955 0FEE      LSL	R30
    01956 1FFF      ROL	R31
    01957 0DEA      ADD	R30,R10
    01958 1DFB      ADC	R31,R11
    01959 8120      LD	R18,Z
    0195A 8131      LDD	R19,Z+1
    0195B 6320      ORI	R18,0x30
    0195C 2F06      MOV	R16,R22
    0195D 940E 0644 CALL	_lcd_write_char_con
(0621) 		 lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    0195F 01CA      MOVW	R24,R20
    01960 9601      ADIW	R24,1
    01961 01AC      MOVW	R20,R24
    01962 01FC      MOVW	R30,R24
    01963 0FEE      LSL	R30
    01964 1FFF      ROL	R31
    01965 0DEA      ADD	R30,R10
    01966 1DFB      ADC	R31,R11
    01967 8120      LD	R18,Z
    01968 8131      LDD	R19,Z+1
    01969 6320      ORI	R18,0x30
    0196A 2F06      MOV	R16,R22
    0196B 940E 0644 CALL	_lcd_write_char_con
(0622) 		 
(0623) 		 lcd_write_char(7,i, 0x30 | *(dataCach+(++beginCur)));
    0196D 01CA      MOVW	R24,R20
    0196E 9601      ADIW	R24,1
    0196F 01AC      MOVW	R20,R24
    01970 01FC      MOVW	R30,R24
    01971 0FEE      LSL	R30
    01972 1FFF      ROL	R31
    01973 0DEA      ADD	R30,R10
    01974 1DFB      ADC	R31,R11
    01975 8180      LD	R24,Z
    01976 8191      LDD	R25,Z+1
    01977 6380      ORI	R24,0x30
    01978 8388      ST	Y,R24
    01979 2F26      MOV	R18,R22
    0197A E007      LDI	R16,7
    0197B 940E 0676 CALL	_lcd_write_char
(0624) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    0197D 01CA      MOVW	R24,R20
    0197E 9601      ADIW	R24,1
    0197F 01AC      MOVW	R20,R24
    01980 01FC      MOVW	R30,R24
    01981 0FEE      LSL	R30
    01982 1FFF      ROL	R31
    01983 0DEA      ADD	R30,R10
    01984 1DFB      ADC	R31,R11
    01985 8120      LD	R18,Z
    01986 8131      LDD	R19,Z+1
    01987 6320      ORI	R18,0x30
    01988 2F06      MOV	R16,R22
    01989 940E 0644 CALL	_lcd_write_char_con
(0625) 		  lcd_write_str_con(i,": ");
    0198B EE23      LDI	R18,0xE3
    0198C E037      LDI	R19,7
    0198D 2F06      MOV	R16,R22
    0198E 940E 06E6 CALL	_lcd_write_str_con
(0626) 		 lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    01990 01CA      MOVW	R24,R20
    01991 9601      ADIW	R24,1
    01992 01AC      MOVW	R20,R24
    01993 01FC      MOVW	R30,R24
    01994 0FEE      LSL	R30
    01995 1FFF      ROL	R31
    01996 0DEA      ADD	R30,R10
    01997 1DFB      ADC	R31,R11
    01998 8120      LD	R18,Z
    01999 8131      LDD	R19,Z+1
    0199A 6320      ORI	R18,0x30
    0199B 2F06      MOV	R16,R22
    0199C 940E 0644 CALL	_lcd_write_char_con
(0627) 		 lcd_write_char_con(i, 0x30 | *(dataCach+(++beginCur)));
    0199E 01CA      MOVW	R24,R20
    0199F 9601      ADIW	R24,1
    019A0 01AC      MOVW	R20,R24
    019A1 01FC      MOVW	R30,R24
    019A2 0FEE      LSL	R30
    019A3 1FFF      ROL	R31
    019A4 0DEA      ADD	R30,R10
    019A5 1DFB      ADC	R31,R11
    019A6 8120      LD	R18,Z
    019A7 8131      LDD	R19,Z+1
    019A8 6320      ORI	R18,0x30
    019A9 2F06      MOV	R16,R22
    019AA 940E 0644 CALL	_lcd_write_char_con
(0628) 		 
(0629) 		 lcd_write_str(10,i," ");
    019AC EE81      LDI	R24,0xE1
    019AD E097      LDI	R25,7
    019AE 8399      STD	Y+1,R25
    019AF 8388      ST	Y,R24
    019B0 2F26      MOV	R18,R22
    019B1 E00A      LDI	R16,0xA
    019B2 940E 069C CALL	_lcd_write_str
(0630) 		 lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    019B4 01CA      MOVW	R24,R20
    019B5 9601      ADIW	R24,1
    019B6 01AC      MOVW	R20,R24
    019B7 01FC      MOVW	R30,R24
    019B8 0FEE      LSL	R30
    019B9 1FFF      ROL	R31
    019BA 0DEA      ADD	R30,R10
    019BB 1DFB      ADC	R31,R11
    019BC 8120      LD	R18,Z
    019BD 8131      LDD	R19,Z+1
    019BE 6320      ORI	R18,0x30
    019BF 2F06      MOV	R16,R22
    019C0 940E 0644 CALL	_lcd_write_char_con
(0631) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    019C2 01CA      MOVW	R24,R20
    019C3 9601      ADIW	R24,1
    019C4 01AC      MOVW	R20,R24
    019C5 01FC      MOVW	R30,R24
    019C6 0FEE      LSL	R30
    019C7 1FFF      ROL	R31
    019C8 0DEA      ADD	R30,R10
    019C9 1DFB      ADC	R31,R11
    019CA 8120      LD	R18,Z
    019CB 8131      LDD	R19,Z+1
    019CC 6320      ORI	R18,0x30
    019CD 2F06      MOV	R16,R22
    019CE 940E 0644 CALL	_lcd_write_char_con
(0632) 		 lcd_write_char_con(i, 0x30 | *(dataCach+(++beginCur)));
    019D0 01CA      MOVW	R24,R20
    019D1 9601      ADIW	R24,1
    019D2 016C      MOVW	R12,R24
    019D3 01AC      MOVW	R20,R24
    019D4 01FC      MOVW	R30,R24
    019D5 0FEE      LSL	R30
    019D6 1FFF      ROL	R31
    019D7 0DEA      ADD	R30,R10
    019D8 1DFB      ADC	R31,R11
    019D9 8120      LD	R18,Z
    019DA 8131      LDD	R19,Z+1
    019DB 6320      ORI	R18,0x30
    019DC 2F06      MOV	R16,R22
    019DD 940E 0644 CALL	_lcd_write_char_con
    019DF 5F6F      SUBI	R22,0xFF
    019E0 4F7F      SBCI	R23,0xFF
    019E1 E083      LDI	R24,3
    019E2 E090      LDI	R25,0
    019E3 1786      CP	R24,R22
    019E4 0797      CPC	R25,R23
    019E5 F008      BCS	0x19E7
    019E6 CF35      RJMP	0x191C
    019E7 9622      ADIW	R28,2
    019E8 940E 3788 CALL	pop_xgsetF0FC
    019EA 9624      ADIW	R28,4
    019EB 9508      RET
_page4_ac:
  y                    --> R10
  x                    --> R22
  lcd_y                --> R20
  dataCach             --> R12
  oldcur               --> Y,+12
  cur                  --> Y,+10
    019EC 940E 3712 CALL	push_arg4
    019EE 940E 3793 CALL	push_xgsetF0FC
    019F0 84CE      LDD	R12,Y+14
    019F1 84DF      LDD	R13,Y+15
(0633) 	  }
(0634) 	  
(0635)  }
(0636)  //传入cur做ac位置操作,判断是否翻页
(0637)  void page4_ac(uint cur,uint oldcur,uint* dataCach){
(0638)       uint y=cur/11;//逻辑y.从0开始
    019F2 E02B      LDI	R18,0xB
    019F3 E030      LDI	R19,0
    019F4 850A      LDD	R16,Y+10
    019F5 851B      LDD	R17,Y+11
    019F6 940E 373E CALL	div16u
    019F8 0158      MOVW	R10,R16
(0639) 	  uint lcd_y;//显示y
(0640) 	  uint x=cur%11;//x轴
    019F9 E02B      LDI	R18,0xB
    019FA E030      LDI	R19,0
    019FB 850A      LDD	R16,Y+10
    019FC 851B      LDD	R17,Y+11
    019FD 940E 373C CALL	mod16u
    019FF 01B8      MOVW	R22,R16
(0641) 	  switch(y%3){
    01A00 E023      LDI	R18,3
    01A01 E030      LDI	R19,0
    01A02 0185      MOVW	R16,R10
    01A03 940E 373C CALL	mod16u
    01A05 0178      MOVW	R14,R16
    01A06 3000      CPI	R16,0
    01A07 0701      CPC	R16,R17
    01A08 F051      BEQ	0x1A13
    01A09 01C7      MOVW	R24,R14
    01A0A 3001      CPI	R16,1
    01A0B E0E0      LDI	R30,0
    01A0C 071E      CPC	R17,R30
    01A0D F041      BEQ	0x1A16
    01A0E 3002      CPI	R16,2
    01A0F E0E0      LDI	R30,0
    01A10 071E      CPC	R17,R30
    01A11 F039      BEQ	0x1A19
    01A12 C008      RJMP	0x1A1B
(0642) 	   case 0://1行
(0643) 	     lcd_y=1;
    01A13 E041      LDI	R20,1
    01A14 E050      LDI	R21,0
(0644) 	     break;
    01A15 C005      RJMP	0x1A1B
(0645) 	   case 1://2行
(0646) 	     lcd_y=2;
    01A16 E042      LDI	R20,2
    01A17 E050      LDI	R21,0
(0647) 		 break;
    01A18 C002      RJMP	0x1A1B
(0648) 	   case 2://3行
(0649) 	     lcd_y=3;
    01A19 E043      LDI	R20,3
    01A1A E050      LDI	R21,0
(0650) 	     break;
(0651) 	  }
(0652) 	  switch((oldcur/11)/3){
    01A1B E02B      LDI	R18,0xB
    01A1C E030      LDI	R19,0
    01A1D 850C      LDD	R16,Y+12
    01A1E 851D      LDD	R17,Y+13
    01A1F 940E 373E CALL	div16u
    01A21 E023      LDI	R18,3
    01A22 E030      LDI	R19,0
    01A23 940E 373E CALL	div16u
    01A25 0178      MOVW	R14,R16
    01A26 3000      CPI	R16,0
    01A27 0701      CPC	R16,R17
    01A28 F071      BEQ	0x1A37
    01A29 01C7      MOVW	R24,R14
    01A2A 3001      CPI	R16,1
    01A2B E0E0      LDI	R30,0
    01A2C 071E      CPC	R17,R30
    01A2D F0A1      BEQ	0x1A42
    01A2E 3002      CPI	R16,2
    01A2F E0E0      LDI	R30,0
    01A30 071E      CPC	R17,R30
    01A31 F101      BEQ	0x1A52
    01A32 3003      CPI	R16,3
    01A33 E0E0      LDI	R30,0
    01A34 071E      CPC	R17,R30
    01A35 F169      BEQ	0x1A63
    01A36 C035      RJMP	0x1A6C
(0653) 	    case 0:
(0654) 		 if(cur>32){
    01A37 E280      LDI	R24,0x20
    01A38 E090      LDI	R25,0
    01A39 840A      LDD	R0,Y+10
    01A3A 841B      LDD	R1,Y+11
    01A3B 1580      CP	R24,R0
    01A3C 0591      CPC	R25,R1
    01A3D F570      BCC	0x1A6C
(0655) 		   page4_data(y,dataCach);
    01A3E 0196      MOVW	R18,R12
    01A3F 0185      MOVW	R16,R10
    01A40 DE07      RCALL	_page4_data
(0656) 		 }
(0657) 		 break;
    01A41 C02A      RJMP	0x1A6C
(0658) 		case 1:
(0659) 		  if(cur>65 || cur<33){
    01A42 E481      LDI	R24,0x41
    01A43 E090      LDI	R25,0
    01A44 840A      LDD	R0,Y+10
    01A45 841B      LDD	R1,Y+11
    01A46 1580      CP	R24,R0
    01A47 0591      CPC	R25,R1
    01A48 F028      BCS	0x1A4E
    01A49 01C0      MOVW	R24,R0
    01A4A 3281      CPI	R24,0x21
    01A4B E0E0      LDI	R30,0
    01A4C 079E      CPC	R25,R30
    01A4D F4F0      BCC	0x1A6C
(0660) 		   page4_data(y,dataCach);
    01A4E 0196      MOVW	R18,R12
    01A4F 0185      MOVW	R16,R10
    01A50 DDF7      RCALL	_page4_data
(0661) 		 }
(0662) 		 break;
    01A51 C01A      RJMP	0x1A6C
(0663) 		case 2:
(0664) 		if(cur<66 || cur>98){
    01A52 858A      LDD	R24,Y+10
    01A53 859B      LDD	R25,Y+11
    01A54 3482      CPI	R24,0x42
    01A55 E0E0      LDI	R30,0
    01A56 079E      CPC	R25,R30
    01A57 F038      BCS	0x1A5F
    01A58 E682      LDI	R24,0x62
    01A59 E090      LDI	R25,0
    01A5A 840A      LDD	R0,Y+10
    01A5B 841B      LDD	R1,Y+11
    01A5C 1580      CP	R24,R0
    01A5D 0591      CPC	R25,R1
    01A5E F468      BCC	0x1A6C
(0665) 		   page4_data(y,dataCach);
    01A5F 0196      MOVW	R18,R12
    01A60 0185      MOVW	R16,R10
    01A61 DDE6      RCALL	_page4_data
(0666) 		 }
(0667) 		 break;
    01A62 C009      RJMP	0x1A6C
(0668) 		case 3:
(0669) 		if(cur<99){
    01A63 858A      LDD	R24,Y+10
    01A64 859B      LDD	R25,Y+11
    01A65 3683      CPI	R24,0x63
    01A66 E0E0      LDI	R30,0
    01A67 079E      CPC	R25,R30
    01A68 F418      BCC	0x1A6C
(0670) 		   page4_data(y,dataCach);
    01A69 0196      MOVW	R18,R12
    01A6A 0185      MOVW	R16,R10
    01A6B DDDC      RCALL	_page4_data
(0671) 		 }
(0672) 		 break;
(0673) 	  }
(0674) 	  if(lcd_y==1){
    01A6C 3041      CPI	R20,1
    01A6D E0E0      LDI	R30,0
    01A6E 075E      CPC	R21,R30
    01A6F F449      BNE	0x1A79
(0675) 	     cur_set(3);
    01A70 E003      LDI	R16,3
    01A71 E010      LDI	R17,0
    01A72 940E 080D CALL	_cur_set
(0676) 		 cur_set(4);
    01A74 E004      LDI	R16,4
    01A75 E010      LDI	R17,0
    01A76 940E 080D CALL	_cur_set
(0677) 	  }else if(lcd_y==2 || lcd_y==3){
    01A78 C010      RJMP	0x1A89
    01A79 3042      CPI	R20,2
    01A7A E0E0      LDI	R30,0
    01A7B 075E      CPC	R21,R30
    01A7C F021      BEQ	0x1A81
    01A7D 3043      CPI	R20,3
    01A7E E0E0      LDI	R30,0
    01A7F 075E      CPC	R21,R30
    01A80 F441      BNE	0x1A89
(0678) 	     cur_set(0);
    01A81 2700      CLR	R16
    01A82 2711      CLR	R17
    01A83 940E 080D CALL	_cur_set
(0679) 		 cur_set(7);
    01A85 E007      LDI	R16,7
    01A86 E010      LDI	R17,0
    01A87 940E 080D CALL	_cur_set
(0680) 	  }
(0681) 	  if(x==0){
    01A89 3060      CPI	R22,0
    01A8A 0767      CPC	R22,R23
    01A8B F429      BNE	0x1A91
(0682) 	      lcd_write_pos(3,lcd_y);
    01A8C 2F24      MOV	R18,R20
    01A8D E003      LDI	R16,3
    01A8E 940E 0658 CALL	_lcd_write_pos
(0683) 	  }else if(x==2){
    01A90 C031      RJMP	0x1AC2
    01A91 3062      CPI	R22,2
    01A92 E0E0      LDI	R30,0
    01A93 077E      CPC	R23,R30
    01A94 F429      BNE	0x1A9A
(0684) 	       lcd_write_pos(5,lcd_y);
    01A95 2F24      MOV	R18,R20
    01A96 E005      LDI	R16,5
    01A97 940E 0658 CALL	_lcd_write_pos
(0685) 	  }else if(x==4){
    01A99 C028      RJMP	0x1AC2
    01A9A 3064      CPI	R22,4
    01A9B E0E0      LDI	R30,0
    01A9C 077E      CPC	R23,R30
    01A9D F429      BNE	0x1AA3
(0686) 	        lcd_write_pos(7,lcd_y);
    01A9E 2F24      MOV	R18,R20
    01A9F E007      LDI	R16,7
    01AA0 940E 0658 CALL	_lcd_write_pos
(0687) 	  }else if(x==6){
    01AA2 C01F      RJMP	0x1AC2
    01AA3 3066      CPI	R22,6
    01AA4 E0E0      LDI	R30,0
    01AA5 077E      CPC	R23,R30
    01AA6 F429      BNE	0x1AAC
(0688) 	        lcd_write_pos(9,lcd_y);
    01AA7 2F24      MOV	R18,R20
    01AA8 E009      LDI	R16,0x9
    01AA9 940E 0658 CALL	_lcd_write_pos
(0689) 	  }else if(x==8){
    01AAB C016      RJMP	0x1AC2
    01AAC 3068      CPI	R22,0x8
    01AAD E0E0      LDI	R30,0
    01AAE 077E      CPC	R23,R30
    01AAF F451      BNE	0x1ABA
(0690) 	        lcd_write_pos(10,lcd_y);
    01AB0 2F24      MOV	R18,R20
    01AB1 E00A      LDI	R16,0xA
    01AB2 940E 0658 CALL	_lcd_write_pos
(0691) 			lcd_write_str_con(lcd_y," ");
    01AB4 EE21      LDI	R18,0xE1
    01AB5 E037      LDI	R19,7
    01AB6 2F04      MOV	R16,R20
    01AB7 940E 06E6 CALL	_lcd_write_str_con
(0692) 	  }else if(x==9){
    01AB9 C008      RJMP	0x1AC2
    01ABA 3069      CPI	R22,0x9
    01ABB E0E0      LDI	R30,0
    01ABC 077E      CPC	R23,R30
    01ABD F421      BNE	0x1AC2
(0693) 	        lcd_write_pos(11,lcd_y);
    01ABE 2F24      MOV	R18,R20
    01ABF E00B      LDI	R16,0xB
    01AC0 940E 0658 CALL	_lcd_write_pos
(0694) 	  }
(0695) 	  return;
    01AC2 940E 3788 CALL	pop_xgsetF0FC
    01AC4 9624      ADIW	R28,4
    01AC5 9508      RET
_page4:
  numL                 --> R20
  numH                 --> R20
  oldcur               --> R22
  dataCach             --> Y,+2
  cur                  --> R20
  keyV                 --> R10
  i                    --> R10
    01AC6 940E 37CE CALL	push_xgsetF03C
    01AC8 97EF      SBIW	R28,0x3F
    01AC9 97EF      SBIW	R28,0x3F
    01ACA 97EF      SBIW	R28,0x3F
    01ACB 97EF      SBIW	R28,0x3F
    01ACC 972C      SBIW	R28,0xC
(0696)  }
(0697)   void page4(void){
(0698)     //定义一个局部的结构体，从对呀温度中获得数据。暂时未写
(0699)   uint numH=0xA2;
(0700)   uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
(0701)   uint cur=0;
    01ACD 2744      CLR	R20
    01ACE 2755      CLR	R21
(0702)   uint oldcur=0;
    01ACF 2766      CLR	R22
    01AD0 2777      CLR	R23
(0703)   uint dataCach[131]={0};
    01AD1 E28A      LDI	R24,0x2A
    01AD2 E096      LDI	R25,6
    01AD3 01FE      MOVW	R30,R28
    01AD4 9632      ADIW	R30,2
    01AD5 E006      LDI	R16,6
    01AD6 E011      LDI	R17,1
    01AD7 93FA      ST	-Y,R31
    01AD8 93EA      ST	-Y,R30
    01AD9 939A      ST	-Y,R25
    01ADA 938A      ST	-Y,R24
    01ADB 940E 37EF CALL	asgnblk
(0704)   uint i=0;
(0705)    uchar keyV;
(0706)    lcd_write_str(0,0,"T");
    01ADD E28A      LDI	R24,0x2A
    01ADE E098      LDI	R25,0x8
    01ADF 8399      STD	Y+1,R25
    01AE0 8388      ST	Y,R24
    01AE1 2722      CLR	R18
    01AE2 2700      CLR	R16
    01AE3 940E 069C CALL	_lcd_write_str
(0707)    lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    01AE5 9120 0D56 LDS	R18,pageParam
    01AE7 9130 0D57 LDS	R19,pageParam+1
    01AE9 5F2F      SUBI	R18,0xFF
    01AEA 4F3F      SBCI	R19,0xFF
    01AEB 6320      ORI	R18,0x30
    01AEC 2700      CLR	R16
    01AED 940E 0644 CALL	_lcd_write_char_con
(0708)    lcd_write_char_con(0,':');
    01AEF E32A      LDI	R18,0x3A
    01AF0 2700      CLR	R16
    01AF1 940E 0644 CALL	_lcd_write_char_con
(0709)    
(0710)    lcd_write_str(4,0,"升温");
    01AF3 E083      LDI	R24,3
    01AF4 E098      LDI	R25,0x8
    01AF5 8399      STD	Y+1,R25
    01AF6 8388      ST	Y,R24
    01AF7 2722      CLR	R18
    01AF8 E004      LDI	R16,4
    01AF9 940E 069C CALL	_lcd_write_str
(0711)    lcd_write_str(7,0,"恒温");
    01AFB EF8E      LDI	R24,0xFE
    01AFC E097      LDI	R25,7
    01AFD 8399      STD	Y+1,R25
    01AFE 8388      ST	Y,R24
    01AFF 2722      CLR	R18
    01B00 E007      LDI	R16,7
    01B01 940E 069C CALL	_lcd_write_str
(0712)    lcd_write_str(10,0,"温度");
    01B03 ED8C      LDI	R24,0xDC
    01B04 E097      LDI	R25,7
    01B05 8399      STD	Y+1,R25
    01B06 8388      ST	Y,R24
    01B07 2722      CLR	R18
    01B08 E00A      LDI	R16,0xA
    01B09 940E 069C CALL	_lcd_write_str
(0713)    lcd_write_str(0,1,"保存");
    01B0B ED87      LDI	R24,0xD7
    01B0C E097      LDI	R25,7
    01B0D 8399      STD	Y+1,R25
    01B0E 8388      ST	Y,R24
    01B0F E021      LDI	R18,1
    01B10 2700      CLR	R16
    01B11 940E 069C CALL	_lcd_write_str
(0714)    lcd_write_str(0,2,"取消");
    01B13 E388      LDI	R24,0x38
    01B14 E098      LDI	R25,0x8
    01B15 8399      STD	Y+1,R25
    01B16 8388      ST	Y,R24
    01B17 E022      LDI	R18,2
    01B18 2700      CLR	R16
    01B19 940E 069C CALL	_lcd_write_str
(0715)    lcd_write_str(0,3,"重置");
    01B1B E089      LDI	R24,0x9
    01B1C E098      LDI	R25,0x8
    01B1D 8399      STD	Y+1,R25
    01B1E 8388      ST	Y,R24
    01B1F E023      LDI	R18,3
    01B20 2700      CLR	R16
    01B21 940E 069C CALL	_lcd_write_str
(0716)   
(0717)   for(i=0;i<132;i++){
    01B23 24AA      CLR	R10
    01B24 24BB      CLR	R11
    01B25 C020      RJMP	0x1B46
(0718)     dataCach[i]=temps[pageParam[0]].temp_data[i];
    01B26 0115      MOVW	R2,R10
    01B27 0C22      LSL	R2
    01B28 1C33      ROL	R3
    01B29 0121      MOVW	R4,R2
    01B2A 9120 0D56 LDS	R18,pageParam
    01B2C 9130 0D57 LDS	R19,pageParam+1
    01B2E E404      LDI	R16,0x44
    01B2F E011      LDI	R17,1
    01B30 940E 376C CALL	empy16s
    01B32 E188      LDI	R24,0x18
    01B33 E091      LDI	R25,1
    01B34 0118      MOVW	R2,R16
    01B35 0E28      ADD	R2,R24
    01B36 1E39      ADC	R3,R25
    01B37 01F2      MOVW	R30,R4
    01B38 0DE2      ADD	R30,R2
    01B39 1DF3      ADC	R31,R3
    01B3A 8020      LD	R2,Z
    01B3B 8031      LDD	R3,Z+1
    01B3C 01CE      MOVW	R24,R28
    01B3D 9602      ADIW	R24,2
    01B3E 01F2      MOVW	R30,R4
    01B3F 0FE8      ADD	R30,R24
    01B40 1FF9      ADC	R31,R25
    01B41 8231      STD	Z+1,R3
    01B42 8220      ST	Z,R2
    01B43 01C5      MOVW	R24,R10
    01B44 9601      ADIW	R24,1
    01B45 015C      MOVW	R10,R24
    01B46 01C5      MOVW	R24,R10
    01B47 3884      CPI	R24,0x84
    01B48 E0E0      LDI	R30,0
    01B49 079E      CPC	R25,R30
    01B4A F2D8      BCS	0x1B26
(0719)   }
(0720)     page4_data(0,dataCach);//调用函数填充
    01B4B 019E      MOVW	R18,R28
    01B4C 5F2E      SUBI	R18,0xFE
    01B4D 4F3F      SBCI	R19,0xFF
    01B4E 2700      CLR	R16
    01B4F 2711      CLR	R17
    01B50 DCF7      RCALL	_page4_data
(0721)    cur=0;
    01B51 2744      CLR	R20
    01B52 2755      CLR	R21
(0722)    lcd_write_pos(3,1);
    01B53 E021      LDI	R18,1
    01B54 E003      LDI	R16,3
    01B55 940E 0658 CALL	_lcd_write_pos
(0723)    cur_set(3);
    01B57 E003      LDI	R16,3
    01B58 E010      LDI	R17,0
    01B59 940E 080D CALL	_cur_set
    01B5B C22B      RJMP	0x1D87
(0724)    
(0725)    //Set_White(9,2,10);
(0726)     while(1){
(0727)       keyV=KeyScan_once();
    01B5C 940E 0539 CALL	_KeyScan_once
    01B5E 2EA0      MOV	R10,R16
(0728) 	  if(keyV=='e'){
    01B5F 3605      CPI	R16,0x65
    01B60 F509      BNE	0x1B82
(0729) 	        Set_White_off(1,1,2);
    01B61 E082      LDI	R24,2
    01B62 8388      ST	Y,R24
    01B63 E021      LDI	R18,1
    01B64 E001      LDI	R16,1
    01B65 940E 0851 CALL	_Set_White_off
(0730) 			Set_White_off(1,2,2);
    01B67 E082      LDI	R24,2
    01B68 8388      ST	Y,R24
    01B69 E022      LDI	R18,2
    01B6A E001      LDI	R16,1
    01B6B 940E 0851 CALL	_Set_White_off
(0731) 			Set_White_off(1,3,2);
    01B6D E082      LDI	R24,2
    01B6E 8388      ST	Y,R24
    01B6F E023      LDI	R18,3
    01B70 E001      LDI	R16,1
    01B71 940E 0851 CALL	_Set_White_off
(0732) 			cur_set(0);
    01B73 2700      CLR	R16
    01B74 2711      CLR	R17
    01B75 940E 080D CALL	_cur_set
(0733) 			cur_set(4);
    01B77 E004      LDI	R16,4
    01B78 E010      LDI	R17,0
    01B79 940E 080D CALL	_cur_set
(0734) 		    pageNum=3;
    01B7B E083      LDI	R24,3
    01B7C E090      LDI	R25,0
    01B7D 9390 0D61 STS	pageNum+1,R25
    01B7F 9380 0D60 STS	pageNum,R24
(0735) 		    return;
    01B81 C206      RJMP	0x1D88
(0736) 	  }else if(keyV=='u'){
    01B82 2D8A      MOV	R24,R10
    01B83 3785      CPI	R24,0x75
    01B84 F009      BEQ	0x1B86
    01B85 C046      RJMP	0x1BCC
(0737) 	     if(cur==133){
    01B86 3845      CPI	R20,0x85
    01B87 E0E0      LDI	R30,0
    01B88 075E      CPC	R21,R30
    01B89 F479      BNE	0x1B99
(0738) 		    Set_White(1,1,2);
    01B8A E082      LDI	R24,2
    01B8B 8388      ST	Y,R24
    01B8C E021      LDI	R18,1
    01B8D E001      LDI	R16,1
    01B8E 940E 08C1 CALL	_Set_White
(0739) 			Set_White_off(1,2,2);
    01B90 E082      LDI	R24,2
    01B91 8388      ST	Y,R24
    01B92 E022      LDI	R18,2
    01B93 E001      LDI	R16,1
    01B94 940E 0851 CALL	_Set_White_off
(0740) 			cur=132;
    01B96 E844      LDI	R20,0x84
    01B97 E050      LDI	R21,0
(0741) 		 }else if(cur==134){
    01B98 C1EE      RJMP	0x1D87
    01B99 3846      CPI	R20,0x86
    01B9A E0E0      LDI	R30,0
    01B9B 075E      CPC	R21,R30
    01B9C F479      BNE	0x1BAC
(0742) 		    Set_White(1,2,2);
    01B9D E082      LDI	R24,2
    01B9E 8388      ST	Y,R24
    01B9F E022      LDI	R18,2
    01BA0 E001      LDI	R16,1
    01BA1 940E 08C1 CALL	_Set_White
(0743) 			Set_White_off(1,3,2);
    01BA3 E082      LDI	R24,2
    01BA4 8388      ST	Y,R24
    01BA5 E023      LDI	R18,3
    01BA6 E001      LDI	R16,1
    01BA7 940E 0851 CALL	_Set_White_off
(0744) 			cur=133;
    01BA9 E845      LDI	R20,0x85
    01BAA E050      LDI	R21,0
(0745) 		 }else if(cur>10 && cur<=131){
    01BAB C1DB      RJMP	0x1D87
    01BAC E08A      LDI	R24,0xA
    01BAD E090      LDI	R25,0
    01BAE 1784      CP	R24,R20
    01BAF 0795      CPC	R25,R21
    01BB0 F008      BCS	0x1BB2
    01BB1 C1D5      RJMP	0x1D87
    01BB2 E883      LDI	R24,0x83
    01BB3 1784      CP	R24,R20
    01BB4 0795      CPC	R25,R21
    01BB5 F408      BCC	0x1BB7
    01BB6 C1D0      RJMP	0x1D87
(0746) 		   oldcur=cur;
    01BB7 01BA      MOVW	R22,R20
(0747) 	       cur=(cur/11-1)*11;
    01BB8 E02B      LDI	R18,0xB
    01BB9 E030      LDI	R19,0
    01BBA 018A      MOVW	R16,R20
    01BBB 940E 373E CALL	div16u
    01BBD 0198      MOVW	R18,R16
    01BBE 5021      SUBI	R18,1
    01BBF 4030      SBCI	R19,0
    01BC0 E00B      LDI	R16,0xB
    01BC1 E010      LDI	R17,0
    01BC2 940E 376C CALL	empy16s
    01BC4 01A8      MOVW	R20,R16
(0748) 		   page4_ac(cur,oldcur,dataCach);
    01BC5 01CE      MOVW	R24,R28
    01BC6 9602      ADIW	R24,2
    01BC7 8399      STD	Y+1,R25
    01BC8 8388      ST	Y,R24
    01BC9 019B      MOVW	R18,R22
    01BCA DE21      RCALL	_page4_ac
(0749) 		 }
(0750) 	  }else if(keyV=='d'){
    01BCB C1BB      RJMP	0x1D87
    01BCC 2D8A      MOV	R24,R10
    01BCD 3684      CPI	R24,0x64
    01BCE F009      BEQ	0x1BD0
    01BCF C040      RJMP	0x1C10
(0751) 	     if(cur==132){
    01BD0 3844      CPI	R20,0x84
    01BD1 E0E0      LDI	R30,0
    01BD2 075E      CPC	R21,R30
    01BD3 F479      BNE	0x1BE3
(0752) 		    Set_White_off(1,1,2);
    01BD4 E082      LDI	R24,2
    01BD5 8388      ST	Y,R24
    01BD6 E021      LDI	R18,1
    01BD7 E001      LDI	R16,1
    01BD8 940E 0851 CALL	_Set_White_off
(0753) 			Set_White(1,2,2);
    01BDA E082      LDI	R24,2
    01BDB 8388      ST	Y,R24
    01BDC E022      LDI	R18,2
    01BDD E001      LDI	R16,1
    01BDE 940E 08C1 CALL	_Set_White
(0754) 			cur=133;
    01BE0 E845      LDI	R20,0x85
    01BE1 E050      LDI	R21,0
(0755) 		 }else if(cur==133){
    01BE2 C1A4      RJMP	0x1D87
    01BE3 3845      CPI	R20,0x85
    01BE4 E0E0      LDI	R30,0
    01BE5 075E      CPC	R21,R30
    01BE6 F479      BNE	0x1BF6
(0756) 		    Set_White_off(1,2,2);
    01BE7 E082      LDI	R24,2
    01BE8 8388      ST	Y,R24
    01BE9 E022      LDI	R18,2
    01BEA E001      LDI	R16,1
    01BEB 940E 0851 CALL	_Set_White_off
(0757) 			Set_White(1,3,2);
    01BED E082      LDI	R24,2
    01BEE 8388      ST	Y,R24
    01BEF E023      LDI	R18,3
    01BF0 E001      LDI	R16,1
    01BF1 940E 08C1 CALL	_Set_White
(0758) 			cur=134;
    01BF3 E846      LDI	R20,0x86
    01BF4 E050      LDI	R21,0
(0759) 		 }else if(cur<121){
    01BF5 C191      RJMP	0x1D87
    01BF6 3749      CPI	R20,0x79
    01BF7 E0E0      LDI	R30,0
    01BF8 075E      CPC	R21,R30
    01BF9 F008      BCS	0x1BFB
    01BFA C18C      RJMP	0x1D87
(0760) 	      oldcur=cur;
    01BFB 01BA      MOVW	R22,R20
(0761) 	      cur=(cur/11+1)*11;
    01BFC E02B      LDI	R18,0xB
    01BFD E030      LDI	R19,0
    01BFE 018A      MOVW	R16,R20
    01BFF 940E 373E CALL	div16u
    01C01 0198      MOVW	R18,R16
    01C02 5F2F      SUBI	R18,0xFF
    01C03 4F3F      SBCI	R19,0xFF
    01C04 E00B      LDI	R16,0xB
    01C05 E010      LDI	R17,0
    01C06 940E 376C CALL	empy16s
    01C08 01A8      MOVW	R20,R16
(0762) 		  page4_ac(cur,oldcur,dataCach);
    01C09 01CE      MOVW	R24,R28
    01C0A 9602      ADIW	R24,2
    01C0B 8399      STD	Y+1,R25
    01C0C 8388      ST	Y,R24
    01C0D 019B      MOVW	R18,R22
    01C0E DDDD      RCALL	_page4_ac
(0763) 		}
(0764) 		
(0765) 	  }else if(keyV=='l'){
    01C0F C177      RJMP	0x1D87
    01C10 2D8A      MOV	R24,R10
    01C11 368C      CPI	R24,0x6C
    01C12 F009      BEQ	0x1C14
    01C13 C049      RJMP	0x1C5D
(0766) 	   oldcur=cur;
    01C14 01BA      MOVW	R22,R20
(0767) 	  if(cur%11==0){
    01C15 E02B      LDI	R18,0xB
    01C16 E030      LDI	R19,0
    01C17 018A      MOVW	R16,R20
    01C18 940E 373C CALL	mod16u
    01C1A 3000      CPI	R16,0
    01C1B 0701      CPC	R16,R17
    01C1C F489      BNE	0x1C2E
(0768) 	        Set_White(1,1,2);
    01C1D E082      LDI	R24,2
    01C1E 8388      ST	Y,R24
    01C1F E021      LDI	R18,1
    01C20 E001      LDI	R16,1
    01C21 940E 08C1 CALL	_Set_White
(0769) 			cur_set(0);
    01C23 2700      CLR	R16
    01C24 2711      CLR	R17
    01C25 940E 080D CALL	_cur_set
(0770) 			cur_set(4);
    01C27 E004      LDI	R16,4
    01C28 E010      LDI	R17,0
    01C29 940E 080D CALL	_cur_set
(0771) 			cur=132;
    01C2B E844      LDI	R20,0x84
    01C2C E050      LDI	R21,0
(0772) 	   }else if(cur%11==2 || cur%11==4 || cur%11==6 || cur%11==8){
    01C2D C159      RJMP	0x1D87
    01C2E E02B      LDI	R18,0xB
    01C2F E030      LDI	R19,0
    01C30 018A      MOVW	R16,R20
    01C31 940E 373C CALL	mod16u
    01C33 0168      MOVW	R12,R16
    01C34 01C6      MOVW	R24,R12
    01C35 3002      CPI	R16,2
    01C36 E0E0      LDI	R30,0
    01C37 071E      CPC	R17,R30
    01C38 F061      BEQ	0x1C45
    01C39 3004      CPI	R16,4
    01C3A E0E0      LDI	R30,0
    01C3B 071E      CPC	R17,R30
    01C3C F041      BEQ	0x1C45
    01C3D 3006      CPI	R16,6
    01C3E E0E0      LDI	R30,0
    01C3F 071E      CPC	R17,R30
    01C40 F021      BEQ	0x1C45
    01C41 3008      CPI	R16,0x8
    01C42 E0E0      LDI	R30,0
    01C43 071E      CPC	R17,R30
    01C44 F451      BNE	0x1C4F
(0773) 	      cur-=2;
    01C45 5042      SUBI	R20,2
    01C46 4050      SBCI	R21,0
(0774) 		   page4_ac(cur,oldcur,dataCach);
    01C47 01CE      MOVW	R24,R28
    01C48 9602      ADIW	R24,2
    01C49 8399      STD	Y+1,R25
    01C4A 8388      ST	Y,R24
    01C4B 019B      MOVW	R18,R22
    01C4C 018A      MOVW	R16,R20
    01C4D DD9E      RCALL	_page4_ac
(0775) 		}else if(cur>0){
    01C4E C138      RJMP	0x1D87
    01C4F 3040      CPI	R20,0
    01C50 0745      CPC	R20,R21
    01C51 F409      BNE	0x1C53
    01C52 C134      RJMP	0x1D87
(0776) 	      cur--;
    01C53 5041      SUBI	R20,1
    01C54 4050      SBCI	R21,0
(0777) 		   page4_ac(cur,oldcur,dataCach);
    01C55 01CE      MOVW	R24,R28
    01C56 9602      ADIW	R24,2
    01C57 8399      STD	Y+1,R25
    01C58 8388      ST	Y,R24
    01C59 019B      MOVW	R18,R22
    01C5A 018A      MOVW	R16,R20
    01C5B DD90      RCALL	_page4_ac
(0778) 		}
(0779) 	  
(0780) 	  }else if(keyV=='r'){
    01C5C C12A      RJMP	0x1D87
    01C5D 2D8A      MOV	R24,R10
    01C5E 3782      CPI	R24,0x72
    01C5F F541      BNE	0x1C88
(0781) 	  if(cur>131){
    01C60 E883      LDI	R24,0x83
    01C61 E090      LDI	R25,0
    01C62 1784      CP	R24,R20
    01C63 0795      CPC	R25,R21
    01C64 F4A0      BCC	0x1C79
(0782) 	      Set_White_off(1,1,2);
    01C65 E082      LDI	R24,2
    01C66 8388      ST	Y,R24
    01C67 E021      LDI	R18,1
    01C68 E001      LDI	R16,1
    01C69 940E 0851 CALL	_Set_White_off
(0783) 	      Set_White_off(1,2,2);
    01C6B E082      LDI	R24,2
    01C6C 8388      ST	Y,R24
    01C6D E022      LDI	R18,2
    01C6E E001      LDI	R16,1
    01C6F 940E 0851 CALL	_Set_White_off
(0784) 		  Set_White_off(1,3,2);
    01C71 E082      LDI	R24,2
    01C72 8388      ST	Y,R24
    01C73 E023      LDI	R18,3
    01C74 E001      LDI	R16,1
    01C75 940E 0851 CALL	_Set_White_off
(0785) 		  cur=oldcur;
    01C77 01AB      MOVW	R20,R22
(0786) 	  }else  if(cur<131){
    01C78 C007      RJMP	0x1C80
    01C79 3843      CPI	R20,0x83
    01C7A E0E0      LDI	R30,0
    01C7B 075E      CPC	R21,R30
    01C7C F418      BCC	0x1C80
(0787) 		 oldcur=cur;
    01C7D 01BA      MOVW	R22,R20
(0788) 	     cur++;
    01C7E 5F4F      SUBI	R20,0xFF
    01C7F 4F5F      SBCI	R21,0xFF
(0789) 		 }
(0790) 	    page4_ac(cur,oldcur,dataCach);
    01C80 01CE      MOVW	R24,R28
    01C81 9602      ADIW	R24,2
    01C82 8399      STD	Y+1,R25
    01C83 8388      ST	Y,R24
    01C84 019B      MOVW	R18,R22
    01C85 018A      MOVW	R16,R20
    01C86 DD65      RCALL	_page4_ac
(0791) 	  }else if(keyV=='t'){	    
    01C87 C0FF      RJMP	0x1D87
    01C88 2D8A      MOV	R24,R10
    01C89 3784      CPI	R24,0x74
    01C8A F009      BEQ	0x1C8C
    01C8B C098      RJMP	0x1D24
(0792) 	     if(cur==132){
    01C8C 3844      CPI	R20,0x84
    01C8D E0E0      LDI	R30,0
    01C8E 075E      CPC	R21,R30
    01C8F F009      BEQ	0x1C91
    01C90 C03E      RJMP	0x1CCF
(0793) 		   Set_White_off(1,1,2);
    01C91 E082      LDI	R24,2
    01C92 8388      ST	Y,R24
    01C93 E021      LDI	R18,1
    01C94 E001      LDI	R16,1
    01C95 940E 0851 CALL	_Set_White_off
(0794) 			Set_White_off(1,2,2);
    01C97 E082      LDI	R24,2
    01C98 8388      ST	Y,R24
    01C99 E022      LDI	R18,2
    01C9A E001      LDI	R16,1
    01C9B 940E 0851 CALL	_Set_White_off
(0795) 			Set_White_off(1,3,2);
    01C9D E082      LDI	R24,2
    01C9E 8388      ST	Y,R24
    01C9F E023      LDI	R18,3
    01CA0 E001      LDI	R16,1
    01CA1 940E 0851 CALL	_Set_White_off
(0796) 		   cur_set(0);
    01CA3 2700      CLR	R16
    01CA4 2711      CLR	R17
    01CA5 940E 080D CALL	_cur_set
(0797) 			cur_set(4);
    01CA7 E004      LDI	R16,4
    01CA8 E010      LDI	R17,0
    01CA9 940E 080D CALL	_cur_set
(0798) 			lcd_clear();
    01CAB 940E 0753 CALL	_lcd_clear
(0799) 			lcd_write_str(5,2,"保存中. . .");
    01CAD EC8B      LDI	R24,0xCB
    01CAE E097      LDI	R25,7
    01CAF 8399      STD	Y+1,R25
    01CB0 8388      ST	Y,R24
    01CB1 E022      LDI	R18,2
    01CB2 E005      LDI	R16,5
    01CB3 940E 069C CALL	_lcd_write_str
(0800) 		    pageParam[1]=1;//表示是温度数据的，这里处理保存的方法，因为数据在这里。只是跳转过去，参数如果是1表示成功。2表示失败
    01CB5 E081      LDI	R24,1
    01CB6 E090      LDI	R25,0
    01CB7 9390 0D59 STS	pageParam+3,R25
    01CB9 9380 0D58 STS	pageParam+2,R24
(0801) 		    prePageNum=4;
    01CBB E084      LDI	R24,4
    01CBC 9390 0D55 STS	prePageNum+1,R25
    01CBE 9380 0D54 STS	prePageNum,R24
(0802) 		    pageNum=6;
    01CC0 E086      LDI	R24,6
    01CC1 9390 0D61 STS	pageNum+1,R25
    01CC3 9380 0D60 STS	pageNum,R24
(0803) 			set_temp_data(pageParam[0],dataCach);//保存数据
    01CC5 019E      MOVW	R18,R28
    01CC6 5F2E      SUBI	R18,0xFE
    01CC7 4F3F      SBCI	R19,0xFF
    01CC8 9100 0D56 LDS	R16,pageParam
    01CCA 9110 0D57 LDS	R17,pageParam+1
    01CCC 940E 3155 CALL	_set_temp_data
(0804) 		    return;
    01CCE C0B9      RJMP	0x1D88
(0805) 		 }else if(cur==133){
    01CCF 3845      CPI	R20,0x85
    01CD0 E0E0      LDI	R30,0
    01CD1 075E      CPC	R21,R30
    01CD2 F509      BNE	0x1CF4
(0806) 		    Set_White_off(1,1,2);
    01CD3 E082      LDI	R24,2
    01CD4 8388      ST	Y,R24
    01CD5 E021      LDI	R18,1
    01CD6 E001      LDI	R16,1
    01CD7 940E 0851 CALL	_Set_White_off
(0807) 			Set_White_off(1,2,2);
    01CD9 E082      LDI	R24,2
    01CDA 8388      ST	Y,R24
    01CDB E022      LDI	R18,2
    01CDC E001      LDI	R16,1
    01CDD 940E 0851 CALL	_Set_White_off
(0808) 			Set_White_off(1,3,2);
    01CDF E082      LDI	R24,2
    01CE0 8388      ST	Y,R24
    01CE1 E023      LDI	R18,3
    01CE2 E001      LDI	R16,1
    01CE3 940E 0851 CALL	_Set_White_off
(0809) 		    cur_set(0);
    01CE5 2700      CLR	R16
    01CE6 2711      CLR	R17
    01CE7 940E 080D CALL	_cur_set
(0810) 			cur_set(4);
    01CE9 E004      LDI	R16,4
    01CEA E010      LDI	R17,0
    01CEB 940E 080D CALL	_cur_set
(0811) 		    pageNum=3;
    01CED E083      LDI	R24,3
    01CEE E090      LDI	R25,0
    01CEF 9390 0D61 STS	pageNum+1,R25
    01CF1 9380 0D60 STS	pageNum,R24
(0812) 		    return;
    01CF3 C094      RJMP	0x1D88
(0813) 		 }else if(cur==134){
    01CF4 3846      CPI	R20,0x86
    01CF5 E0E0      LDI	R30,0
    01CF6 075E      CPC	R21,R30
    01CF7 F009      BEQ	0x1CF9
    01CF8 C08E      RJMP	0x1D87
(0814) 		    Set_White_off(1,1,2);
    01CF9 E082      LDI	R24,2
    01CFA 8388      ST	Y,R24
    01CFB E021      LDI	R18,1
    01CFC E001      LDI	R16,1
    01CFD 940E 0851 CALL	_Set_White_off
(0815) 			Set_White_off(1,2,2);
    01CFF E082      LDI	R24,2
    01D00 8388      ST	Y,R24
    01D01 E022      LDI	R18,2
    01D02 E001      LDI	R16,1
    01D03 940E 0851 CALL	_Set_White_off
(0816) 			Set_White_off(1,3,2);
    01D05 E082      LDI	R24,2
    01D06 8388      ST	Y,R24
    01D07 E023      LDI	R18,3
    01D08 E001      LDI	R16,1
    01D09 940E 0851 CALL	_Set_White_off
(0817) 		   cur_set(0);
    01D0B 2700      CLR	R16
    01D0C 2711      CLR	R17
    01D0D 940E 080D CALL	_cur_set
(0818) 			cur_set(4);
    01D0F E004      LDI	R16,4
    01D10 E010      LDI	R17,0
    01D11 940E 080D CALL	_cur_set
(0819) 		   //重置。有提示
(0820) 			pageParam[2]=1;//表示重置是温度数据的
    01D13 E081      LDI	R24,1
    01D14 E090      LDI	R25,0
    01D15 9390 0D5B STS	pageParam+5,R25
    01D17 9380 0D5A STS	pageParam+4,R24
(0821) 			prePageNum=4;
    01D19 E084      LDI	R24,4
    01D1A 9390 0D55 STS	prePageNum+1,R25
    01D1C 9380 0D54 STS	prePageNum,R24
(0822) 		    pageNum=7;
    01D1E E087      LDI	R24,7
    01D1F 9390 0D61 STS	pageNum+1,R25
    01D21 9380 0D60 STS	pageNum,R24
(0823) 		    return;
    01D23 C064      RJMP	0x1D88
(0824) 		 }
(0825) 	     
(0826) 	  }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    01D24 2D8A      MOV	R24,R10
    01D25 3380      CPI	R24,0x30
    01D26 F099      BEQ	0x1D3A
    01D27 3381      CPI	R24,0x31
    01D28 F089      BEQ	0x1D3A
    01D29 3382      CPI	R24,0x32
    01D2A F079      BEQ	0x1D3A
    01D2B 3383      CPI	R24,0x33
    01D2C F069      BEQ	0x1D3A
    01D2D 3384      CPI	R24,0x34
    01D2E F059      BEQ	0x1D3A
    01D2F 3385      CPI	R24,0x35
    01D30 F049      BEQ	0x1D3A
    01D31 3386      CPI	R24,0x36
    01D32 F039      BEQ	0x1D3A
    01D33 3387      CPI	R24,0x37
    01D34 F029      BEQ	0x1D3A
    01D35 3388      CPI	R24,0x38
    01D36 F019      BEQ	0x1D3A
    01D37 3389      CPI	R24,0x39
    01D38 F009      BEQ	0x1D3A
    01D39 C04D      RJMP	0x1D87
(0827) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(0828) 			  if(cur <132){//判断还在输入域
    01D3A 3844      CPI	R20,0x84
    01D3B E0E0      LDI	R30,0
    01D3C 075E      CPC	R21,R30
    01D3D F008      BCS	0x1D3F
    01D3E C048      RJMP	0x1D87
(0829) 			   if((cur/11)%3==0){
    01D3F E02B      LDI	R18,0xB
    01D40 E030      LDI	R19,0
    01D41 018A      MOVW	R16,R20
    01D42 940E 373E CALL	div16u
    01D44 E023      LDI	R18,3
    01D45 E030      LDI	R19,0
    01D46 940E 373C CALL	mod16u
    01D48 3000      CPI	R16,0
    01D49 0701      CPC	R16,R17
    01D4A F431      BNE	0x1D51
(0830) 			      lcd_write_char_con(1,0x30 | keyV);
    01D4B 2D2A      MOV	R18,R10
    01D4C 6320      ORI	R18,0x30
    01D4D E001      LDI	R16,1
    01D4E 940E 0644 CALL	_lcd_write_char_con
(0831) 				}else{
    01D50 C005      RJMP	0x1D56
(0832) 				  lcd_write_char_con(2,0x30 | keyV);
    01D51 2D2A      MOV	R18,R10
    01D52 6320      ORI	R18,0x30
    01D53 E002      LDI	R16,2
    01D54 940E 0644 CALL	_lcd_write_char_con
(0833) 				}
(0834) 				dataCach[cur]=keyV-48;
    01D56 01CE      MOVW	R24,R28
    01D57 9602      ADIW	R24,2
    01D58 01FA      MOVW	R30,R20
    01D59 0FEE      LSL	R30
    01D5A 1FFF      ROL	R31
    01D5B 0FE8      ADD	R30,R24
    01D5C 1FF9      ADC	R31,R25
    01D5D 2D8A      MOV	R24,R10
    01D5E 2799      CLR	R25
    01D5F 97C0      SBIW	R24,0x30
    01D60 8391      STD	Z+1,R25
    01D61 8380      ST	Z,R24
(0835) 				oldcur=cur;
    01D62 01BA      MOVW	R22,R20
(0836) 				if(cur<131)
    01D63 3863      CPI	R22,0x83
    01D64 E0E0      LDI	R30,0
    01D65 077E      CPC	R23,R30
    01D66 F450      BCC	0x1D71
(0837) 				{
(0838) 				  cur++;
    01D67 5F4F      SUBI	R20,0xFF
    01D68 4F5F      SBCI	R21,0xFF
(0839) 				  page4_ac(cur,oldcur,dataCach);
    01D69 01CE      MOVW	R24,R28
    01D6A 9602      ADIW	R24,2
    01D6B 8399      STD	Y+1,R25
    01D6C 8388      ST	Y,R24
    01D6D 019B      MOVW	R18,R22
    01D6E 018A      MOVW	R16,R20
    01D6F DC7C      RCALL	_page4_ac
(0840) 				}else if(cur==131){//最后一个131会在上面处理，最后一次进入这里。跳到保存
    01D70 C016      RJMP	0x1D87
    01D71 3843      CPI	R20,0x83
    01D72 E0E0      LDI	R30,0
    01D73 075E      CPC	R21,R30
    01D74 F491      BNE	0x1D87
(0841) 				  Set_White(1,1,2);
    01D75 E082      LDI	R24,2
    01D76 8388      ST	Y,R24
    01D77 E021      LDI	R18,1
    01D78 E001      LDI	R16,1
    01D79 940E 08C1 CALL	_Set_White
(0842) 			       cur_set(0);
    01D7B 2700      CLR	R16
    01D7C 2711      CLR	R17
    01D7D 940E 080D CALL	_cur_set
(0843) 			       cur_set(4);
    01D7F E004      LDI	R16,4
    01D80 E010      LDI	R17,0
    01D81 940E 080D CALL	_cur_set
(0844) 			       cur=132;
    01D83 E844      LDI	R20,0x84
    01D84 E050      LDI	R21,0
(0845) 				   oldcur=99;
    01D85 E663      LDI	R22,0x63
    01D86 E070      LDI	R23,0
    01D87 CDD4      RJMP	0x1B5C
    01D88 96EF      ADIW	R28,0x3F
    01D89 96EF      ADIW	R28,0x3F
    01D8A 96EF      ADIW	R28,0x3F
    01D8B 96EF      ADIW	R28,0x3F
    01D8C 962C      ADIW	R28,0xC
    01D8D 940C 37D7 JMP	pop_xgsetF03C
_page5:
  ddflag               --> R22
  cur                  --> R20
  keyV                 --> R10
    01D8F 940E 37B2 CALL	push_xgsetF00C
    01D91 9722      SBIW	R28,2
(0846) 				}
(0847) 				
(0848) 			  }
(0849) 		}
(0850) 	}
(0851)  }
(0852)  
(0853)  void page5(void){
(0854)   uint cur=0;
    01D92 2744      CLR	R20
    01D93 2755      CLR	R21
(0855)    uchar keyV;
(0856)    uint ddflag;
(0857)    lcd_write_str(4,0,"断电自动恢复");
    01D94 EB8E      LDI	R24,0xBE
    01D95 E097      LDI	R25,7
    01D96 8399      STD	Y+1,R25
    01D97 8388      ST	Y,R24
    01D98 2722      CLR	R18
    01D99 E004      LDI	R16,4
    01D9A 940E 069C CALL	_lcd_write_str
(0858)    lcd_write_str(4,1,"设置时间");
    01D9C EB85      LDI	R24,0xB5
    01D9D E097      LDI	R25,7
    01D9E 8399      STD	Y+1,R25
    01D9F 8388      ST	Y,R24
    01DA0 E021      LDI	R18,1
    01DA1 E004      LDI	R16,4
    01DA2 940E 069C CALL	_lcd_write_str
(0859)    lcd_write_str(4,2,"重置系统");
    01DA4 EA8C      LDI	R24,0xAC
    01DA5 E097      LDI	R25,7
    01DA6 8399      STD	Y+1,R25
    01DA7 8388      ST	Y,R24
    01DA8 E022      LDI	R18,2
    01DA9 E004      LDI	R16,4
    01DAA 940E 069C CALL	_lcd_write_str
(0860)     ddflag=EEPROM_read(0,0);
    01DAC 2722      CLR	R18
    01DAD 2733      CLR	R19
    01DAE 2700      CLR	R16
    01DAF 2711      CLR	R17
    01DB0 940E 0F76 CALL	_EEPROM_read
    01DB2 01B8      MOVW	R22,R16
(0861) 	if(ddflag==0){
    01DB3 3000      CPI	R16,0
    01DB4 0701      CPC	R16,R17
    01DB5 F459      BNE	0x1DC1
(0862)       lcd_write_char(3,0,0xA1);
    01DB6 EA81      LDI	R24,0xA1
    01DB7 8388      ST	Y,R24
    01DB8 2722      CLR	R18
    01DB9 E003      LDI	R16,3
    01DBA 940E 0676 CALL	_lcd_write_char
(0863)       lcd_write_char_con(0,0xC1);
    01DBC EC21      LDI	R18,0xC1
    01DBD 2700      CLR	R16
    01DBE 940E 0644 CALL	_lcd_write_char_con
(0864)    }else {
    01DC0 C00A      RJMP	0x1DCB
(0865)       lcd_write_char(3,0,0xA1);
    01DC1 EA81      LDI	R24,0xA1
    01DC2 8388      ST	Y,R24
    01DC3 2722      CLR	R18
    01DC4 E003      LDI	R16,3
    01DC5 940E 0676 CALL	_lcd_write_char
(0866)       lcd_write_char_con(0,0xCC);
    01DC7 EC2C      LDI	R18,0xCC
    01DC8 2700      CLR	R16
    01DC9 940E 0644 CALL	_lcd_write_char_con
(0867)    }
(0868)    cur=0;
    01DCB 2744      CLR	R20
    01DCC 2755      CLR	R21
(0869)    Set_White(5,0,10);
    01DCD E08A      LDI	R24,0xA
    01DCE 8388      ST	Y,R24
    01DCF 2722      CLR	R18
    01DD0 E005      LDI	R16,5
    01DD1 940E 08C1 CALL	_Set_White
    01DD3 C0DC      RJMP	0x1EB0
(0870)    while(1){
(0871)       keyV=KeyScan_once();
    01DD4 940E 0539 CALL	_KeyScan_once
    01DD6 2EA0      MOV	R10,R16
(0872) 	  if(keyV=='u'){
    01DD7 3705      CPI	R16,0x75
    01DD8 F539      BNE	0x1E00
(0873) 	    switch(cur){
    01DD9 3041      CPI	R20,1
    01DDA E0E0      LDI	R30,0
    01DDB 075E      CPC	R21,R30
    01DDC F029      BEQ	0x1DE2
    01DDD 3042      CPI	R20,2
    01DDE E0E0      LDI	R30,0
    01DDF 075E      CPC	R21,R30
    01DE0 F081      BEQ	0x1DF1
    01DE1 C0CE      RJMP	0x1EB0
(0874) 		  case 1:
(0875) 		   Set_White_off(5,1,8);
    01DE2 E088      LDI	R24,0x8
    01DE3 8388      ST	Y,R24
    01DE4 E021      LDI	R18,1
    01DE5 E005      LDI	R16,5
    01DE6 940E 0851 CALL	_Set_White_off
(0876) 		   Set_White(5,0,10);
    01DE8 E08A      LDI	R24,0xA
    01DE9 8388      ST	Y,R24
    01DEA 2722      CLR	R18
    01DEB E005      LDI	R16,5
    01DEC 940E 08C1 CALL	_Set_White
(0877) 		   cur=0;
    01DEE 2744      CLR	R20
    01DEF 2755      CLR	R21
(0878) 		   break;
    01DF0 C0BF      RJMP	0x1EB0
(0879) 		  case 2: 
(0880) 		   Set_White_off(5,2,8);
    01DF1 E088      LDI	R24,0x8
    01DF2 8388      ST	Y,R24
    01DF3 E022      LDI	R18,2
    01DF4 E005      LDI	R16,5
    01DF5 940E 0851 CALL	_Set_White_off
(0881) 		   Set_White(5,1,8);
    01DF7 E088      LDI	R24,0x8
    01DF8 8388      ST	Y,R24
    01DF9 E021      LDI	R18,1
    01DFA E005      LDI	R16,5
    01DFB 940E 08C1 CALL	_Set_White
(0882) 		   cur=1;
    01DFD E041      LDI	R20,1
    01DFE E050      LDI	R21,0
(0883) 		   break;
(0884) 		}
(0885) 	  }else if(keyV=='d'){
    01DFF C0B0      RJMP	0x1EB0
    01E00 2D8A      MOV	R24,R10
    01E01 3684      CPI	R24,0x64
    01E02 F531      BNE	0x1E29
(0886) 	      switch(cur){
    01E03 3040      CPI	R20,0
    01E04 0745      CPC	R20,R21
    01E05 F029      BEQ	0x1E0B
    01E06 3041      CPI	R20,1
    01E07 E0E0      LDI	R30,0
    01E08 075E      CPC	R21,R30
    01E09 F081      BEQ	0x1E1A
    01E0A C0A5      RJMP	0x1EB0
(0887) 		  case 0:
(0888) 		   Set_White_off(5,0,10);
    01E0B E08A      LDI	R24,0xA
    01E0C 8388      ST	Y,R24
    01E0D 2722      CLR	R18
    01E0E E005      LDI	R16,5
    01E0F 940E 0851 CALL	_Set_White_off
(0889) 		   Set_White(5,1,8);
    01E11 E088      LDI	R24,0x8
    01E12 8388      ST	Y,R24
    01E13 E021      LDI	R18,1
    01E14 E005      LDI	R16,5
    01E15 940E 08C1 CALL	_Set_White
(0890) 		   cur=1;
    01E17 E041      LDI	R20,1
    01E18 E050      LDI	R21,0
(0891) 		   break;
    01E19 C096      RJMP	0x1EB0
(0892) 		  case 1: 
(0893) 		   Set_White_off(5,1,8);
    01E1A E088      LDI	R24,0x8
    01E1B 8388      ST	Y,R24
    01E1C E021      LDI	R18,1
    01E1D E005      LDI	R16,5
    01E1E 940E 0851 CALL	_Set_White_off
(0894) 		   Set_White(5,2,8);
    01E20 E088      LDI	R24,0x8
    01E21 8388      ST	Y,R24
    01E22 E022      LDI	R18,2
    01E23 E005      LDI	R16,5
    01E24 940E 08C1 CALL	_Set_White
(0895) 		   cur=2;
    01E26 E042      LDI	R20,2
    01E27 E050      LDI	R21,0
(0896) 		   break;
(0897) 		}
(0898) 	  }else if(keyV=='e'){
    01E28 C087      RJMP	0x1EB0
    01E29 2D8A      MOV	R24,R10
    01E2A 3685      CPI	R24,0x65
    01E2B F539      BNE	0x1E53
(0899) 	     switch(cur){
    01E2C 3040      CPI	R20,0
    01E2D 0745      CPC	R20,R21
    01E2E F049      BEQ	0x1E38
    01E2F 3041      CPI	R20,1
    01E30 E0E0      LDI	R30,0
    01E31 075E      CPC	R21,R30
    01E32 F061      BEQ	0x1E3F
    01E33 3042      CPI	R20,2
    01E34 E0E0      LDI	R30,0
    01E35 075E      CPC	R21,R30
    01E36 F079      BEQ	0x1E46
    01E37 C014      RJMP	0x1E4C
(0900) 		 case 0: 
(0901) 		   Set_White_off(5,0,10);
    01E38 E08A      LDI	R24,0xA
    01E39 8388      ST	Y,R24
    01E3A 2722      CLR	R18
    01E3B E005      LDI	R16,5
    01E3C 940E 0851 CALL	_Set_White_off
(0902) 		    break;
    01E3E C00D      RJMP	0x1E4C
(0903) 		 case 1:
(0904) 		   Set_White_off(5,1,8);
    01E3F E088      LDI	R24,0x8
    01E40 8388      ST	Y,R24
    01E41 E021      LDI	R18,1
    01E42 E005      LDI	R16,5
    01E43 940E 0851 CALL	_Set_White_off
(0905) 		   break;
    01E45 C006      RJMP	0x1E4C
(0906) 		 case 2:
(0907) 		  Set_White_off(5,2,8);
    01E46 E088      LDI	R24,0x8
    01E47 8388      ST	Y,R24
    01E48 E022      LDI	R18,2
    01E49 E005      LDI	R16,5
    01E4A 940E 0851 CALL	_Set_White_off
(0908) 		  break;
(0909) 	
(0910) 		  default:
(0911) 		   break;
(0912) 		 }
(0913) 	    pageNum=1;
    01E4C E081      LDI	R24,1
    01E4D E090      LDI	R25,0
    01E4E 9390 0D61 STS	pageNum+1,R25
    01E50 9380 0D60 STS	pageNum,R24
(0914) 		return;
    01E52 C05E      RJMP	0x1EB1
(0915) 	  }else if(keyV=='t'){
    01E53 2D8A      MOV	R24,R10
    01E54 3784      CPI	R24,0x74
    01E55 F009      BEQ	0x1E57
    01E56 C059      RJMP	0x1EB0
(0916) 	    switch(cur){
    01E57 3040      CPI	R20,0
    01E58 0745      CPC	R20,R21
    01E59 F049      BEQ	0x1E63
    01E5A 3041      CPI	R20,1
    01E5B E0E0      LDI	R30,0
    01E5C 075E      CPC	R21,R30
    01E5D F171      BEQ	0x1E8C
    01E5E 3042      CPI	R20,2
    01E5F E0E0      LDI	R30,0
    01E60 075E      CPC	R21,R30
    01E61 F1B1      BEQ	0x1E98
    01E62 C04D      RJMP	0x1EB0
(0917) 		  case 0:
(0918) 		     //执行EEPROM操作
(0919) 			 if(ddflag==0){
    01E63 3060      CPI	R22,0
    01E64 0767      CPC	R22,R23
    01E65 F419      BNE	0x1E69
(0920) 			   ddflag=1;
    01E66 E061      LDI	R22,1
    01E67 E070      LDI	R23,0
(0921) 			 }else{
    01E68 C002      RJMP	0x1E6B
(0922) 			   ddflag=0;
    01E69 2766      CLR	R22
    01E6A 2777      CLR	R23
(0923) 			 }
(0924) 			 EEPROM_write(0,0,ddflag);//写入到EEPROM
    01E6B 8379      STD	Y+1,R23
    01E6C 8368      ST	Y,R22
    01E6D 2722      CLR	R18
    01E6E 2733      CLR	R19
    01E6F 2700      CLR	R16
    01E70 2711      CLR	R17
    01E71 940E 0F5F CALL	_EEPROM_write
(0925) 			if(ddflag==0){
    01E73 3060      CPI	R22,0
    01E74 0767      CPC	R22,R23
    01E75 F459      BNE	0x1E81
(0926)                lcd_write_char(3,0,0xA1);
    01E76 EA81      LDI	R24,0xA1
    01E77 8388      ST	Y,R24
    01E78 2722      CLR	R18
    01E79 E003      LDI	R16,3
    01E7A 940E 0676 CALL	_lcd_write_char
(0927)                lcd_write_char_con(0,0xC1);
    01E7C EC21      LDI	R18,0xC1
    01E7D 2700      CLR	R16
    01E7E 940E 0644 CALL	_lcd_write_char_con
(0928)             }else{
    01E80 C02F      RJMP	0x1EB0
(0929)               lcd_write_char(3,0,0xA1);
    01E81 EA81      LDI	R24,0xA1
    01E82 8388      ST	Y,R24
    01E83 2722      CLR	R18
    01E84 E003      LDI	R16,3
    01E85 940E 0676 CALL	_lcd_write_char
(0930)               lcd_write_char_con(0,0xCC);
    01E87 EC2C      LDI	R18,0xCC
    01E88 2700      CLR	R16
    01E89 940E 0644 CALL	_lcd_write_char_con
(0931)             }
(0932) 		    break;
    01E8B C024      RJMP	0x1EB0
(0933) 		  case 1:
(0934) 		   pageNum=8;
    01E8C E088      LDI	R24,0x8
    01E8D E090      LDI	R25,0
    01E8E 9390 0D61 STS	pageNum+1,R25
    01E90 9380 0D60 STS	pageNum,R24
(0935) 		   Set_White_off(5,1,8);
    01E92 8388      ST	Y,R24
    01E93 E021      LDI	R18,1
    01E94 E005      LDI	R16,5
    01E95 940E 0851 CALL	_Set_White_off
(0936) 		   return;
    01E97 C019      RJMP	0x1EB1
(0937) 		  
(0938) 		  case 2://重置系统
(0939) 		    prePageNum=5;
    01E98 E085      LDI	R24,5
    01E99 E090      LDI	R25,0
    01E9A 9390 0D55 STS	prePageNum+1,R25
    01E9C 9380 0D54 STS	prePageNum,R24
(0940) 		    pageNum=7;
    01E9E E087      LDI	R24,7
    01E9F 9390 0D61 STS	pageNum+1,R25
    01EA1 9380 0D60 STS	pageNum,R24
(0941) 			pageParam[2]=0;
    01EA3 2422      CLR	R2
    01EA4 2433      CLR	R3
    01EA5 9230 0D5B STS	pageParam+5,R3
    01EA7 9220 0D5A STS	pageParam+4,R2
(0942) 		    Set_White_off(5,2,8);
    01EA9 E088      LDI	R24,0x8
    01EAA 8388      ST	Y,R24
    01EAB E022      LDI	R18,2
    01EAC E005      LDI	R16,5
    01EAD 940E 0851 CALL	_Set_White_off
(0943) 		   return;
    01EAF C001      RJMP	0x1EB1
    01EB0 CF23      RJMP	0x1DD4
    01EB1 9622      ADIW	R28,2
    01EB2 940C 37B9 JMP	pop_xgsetF00C
_page6:
    01EB4 9722      SBIW	R28,2
(0944) 		}
(0945) 	    
(0946) 	  }
(0947)    }
(0948)    
(0949)  }
(0950)  void page6(void){//复用的方法
(0951)  if(pageParam[1]==0){
    01EB5 9020 0D58 LDS	R2,pageParam+2
    01EB7 9030 0D59 LDS	R3,pageParam+3
    01EB9 2022      TST	R2
    01EBA F459      BNE	0x1EC6
    01EBB 2033      TST	R3
    01EBC F449      BNE	0x1EC6
(0952)      lcd_write_str(4,1,"时间保存成功！");
    01EBD E98D      LDI	R24,0x9D
    01EBE E097      LDI	R25,7
    01EBF 8399      STD	Y+1,R25
    01EC0 8388      ST	Y,R24
    01EC1 E021      LDI	R18,1
    01EC2 E004      LDI	R16,4
    01EC3 940E 069C CALL	_lcd_write_str
(0953)    }else if(pageParam[1]==1){
    01EC5 C021      RJMP	0x1EE7
    01EC6 9180 0D58 LDS	R24,pageParam+2
    01EC8 9190 0D59 LDS	R25,pageParam+3
    01ECA 3081      CPI	R24,1
    01ECB E0E0      LDI	R30,0
    01ECC 079E      CPC	R25,R30
    01ECD F449      BNE	0x1ED7
(0954)      lcd_write_str(4,1,"温度保存成功！");
    01ECE E88E      LDI	R24,0x8E
    01ECF E097      LDI	R25,7
    01ED0 8399      STD	Y+1,R25
    01ED1 8388      ST	Y,R24
    01ED2 E021      LDI	R18,1
    01ED3 E004      LDI	R16,4
    01ED4 940E 069C CALL	_lcd_write_str
(0955)    }else if(pageParam[1]==2){
    01ED6 C010      RJMP	0x1EE7
    01ED7 9180 0D58 LDS	R24,pageParam+2
    01ED9 9190 0D59 LDS	R25,pageParam+3
    01EDB 3082      CPI	R24,2
    01EDC E0E0      LDI	R30,0
    01EDD 079E      CPC	R25,R30
    01EDE F441      BNE	0x1EE7
(0956)      lcd_write_str(4,1,"温度保存失败！");
    01EDF E78F      LDI	R24,0x7F
    01EE0 E097      LDI	R25,7
    01EE1 8399      STD	Y+1,R25
    01EE2 8388      ST	Y,R24
    01EE3 E021      LDI	R18,1
    01EE4 E004      LDI	R16,4
    01EE5 940E 069C CALL	_lcd_write_str
(0957)    }
(0958)    delay_ms(500);
    01EE7 EF04      LDI	R16,0xF4
    01EE8 E011      LDI	R17,1
    01EE9 940E 044B CALL	_delay_ms
(0959)    pageNum=prePageNum;
    01EEB 9020 0D54 LDS	R2,prePageNum
    01EED 9030 0D55 LDS	R3,prePageNum+1
    01EEF 9230 0D61 STS	pageNum+1,R3
    01EF1 9220 0D60 STS	pageNum,R2
    01EF3 9622      ADIW	R28,2
    01EF4 9508      RET
_page7:
  cur                  --> R20
  keyV                 --> R10
    01EF5 940E 37B2 CALL	push_xgsetF00C
    01EF7 9722      SBIW	R28,2
(0960)  }
(0961)  void page7(void){
(0962)    uint cur=1;
    01EF8 E041      LDI	R20,1
    01EF9 E050      LDI	R21,0
(0963)    uchar keyV;
(0964)    lcd_write_str(2,0,"是否重置");
    01EFA E786      LDI	R24,0x76
    01EFB E097      LDI	R25,7
    01EFC 8399      STD	Y+1,R25
    01EFD 8388      ST	Y,R24
    01EFE 2722      CLR	R18
    01EFF E002      LDI	R16,2
    01F00 940E 069C CALL	_lcd_write_str
(0965)    lcd_write_str(2,2,"确认");
    01F02 E781      LDI	R24,0x71
    01F03 E097      LDI	R25,7
    01F04 8399      STD	Y+1,R25
    01F05 8388      ST	Y,R24
    01F06 E022      LDI	R18,2
    01F07 E002      LDI	R16,2
    01F08 940E 069C CALL	_lcd_write_str
(0966)    lcd_write_str(8,2,"取消");
    01F0A E388      LDI	R24,0x38
    01F0B E098      LDI	R25,0x8
    01F0C 8399      STD	Y+1,R25
    01F0D 8388      ST	Y,R24
    01F0E E022      LDI	R18,2
    01F0F E008      LDI	R16,0x8
    01F10 940E 069C CALL	_lcd_write_str
(0967)    Set_White(9,2,10);
    01F12 E08A      LDI	R24,0xA
    01F13 8388      ST	Y,R24
    01F14 E022      LDI	R18,2
    01F15 E009      LDI	R16,0x9
    01F16 940E 08C1 CALL	_Set_White
    01F18 C078      RJMP	0x1F91
(0968)     while(1){
(0969)       keyV=KeyScan_once();
    01F19 940E 0539 CALL	_KeyScan_once
    01F1B 2EA0      MOV	R10,R16
(0970) 	  switch(keyV){
    01F1C 2D6A      MOV	R22,R10
    01F1D 2777      CLR	R23
    01F1E 366C      CPI	R22,0x6C
    01F1F E0E0      LDI	R30,0
    01F20 077E      CPC	R23,R30
    01F21 F0A1      BEQ	0x1F36
    01F22 E68C      LDI	R24,0x6C
    01F23 E090      LDI	R25,0
    01F24 1786      CP	R24,R22
    01F25 0797      CPC	R25,R23
    01F26 F034      BLT	0x1F2D
    01F27 3665      CPI	R22,0x65
    01F28 E0E0      LDI	R30,0
    01F29 077E      CPC	R23,R30
    01F2A F409      BNE	0x1F2C
    01F2B C050      RJMP	0x1F7C
    01F2C C064      RJMP	0x1F91
    01F2D 3762      CPI	R22,0x72
    01F2E E0E0      LDI	R30,0
    01F2F 077E      CPC	R23,R30
    01F30 F0C9      BEQ	0x1F4A
    01F31 3764      CPI	R22,0x74
    01F32 E0E0      LDI	R30,0
    01F33 077E      CPC	R23,R30
    01F34 F141      BEQ	0x1F5D
    01F35 C05B      RJMP	0x1F91
(0971) 	    case 'l':
(0972) 		   if(cur==1){
    01F36 3041      CPI	R20,1
    01F37 E0E0      LDI	R30,0
    01F38 075E      CPC	R21,R30
    01F39 F009      BEQ	0x1F3B
    01F3A C056      RJMP	0x1F91
(0973) 		      Set_White_off(9,2,10);
    01F3B E08A      LDI	R24,0xA
    01F3C 8388      ST	Y,R24
    01F3D E022      LDI	R18,2
    01F3E E009      LDI	R16,0x9
    01F3F 940E 0851 CALL	_Set_White_off
(0974) 		      Set_White(3,2,4);
    01F41 E084      LDI	R24,4
    01F42 8388      ST	Y,R24
    01F43 E022      LDI	R18,2
    01F44 E003      LDI	R16,3
    01F45 940E 08C1 CALL	_Set_White
(0975) 			  cur=0;
    01F47 2744      CLR	R20
    01F48 2755      CLR	R21
(0976) 		   }
(0977) 		   break;
    01F49 C047      RJMP	0x1F91
(0978) 		case 'r':
(0979) 		   if(cur==0){
    01F4A 3040      CPI	R20,0
    01F4B 0745      CPC	R20,R21
    01F4C F009      BEQ	0x1F4E
    01F4D C043      RJMP	0x1F91
(0980) 		      Set_White_off(3,2,4);
    01F4E E084      LDI	R24,4
    01F4F 8388      ST	Y,R24
    01F50 E022      LDI	R18,2
    01F51 E003      LDI	R16,3
    01F52 940E 0851 CALL	_Set_White_off
(0981) 		      Set_White(9,2,10);
    01F54 E08A      LDI	R24,0xA
    01F55 8388      ST	Y,R24
    01F56 E022      LDI	R18,2
    01F57 E009      LDI	R16,0x9
    01F58 940E 08C1 CALL	_Set_White
(0982) 			  cur=1;
    01F5A E041      LDI	R20,1
    01F5B E050      LDI	R21,0
(0983) 		   }
(0984) 		  break;
    01F5C C034      RJMP	0x1F91
(0985) 		case 't':
(0986) 		  //执行相关操作	  
(0987) 		  if(cur==0){
    01F5D 3040      CPI	R20,0
    01F5E 0745      CPC	R20,R21
    01F5F F469      BNE	0x1F6D
(0988) 		     Set_White_off(3,2,4);
    01F60 E084      LDI	R24,4
    01F61 8388      ST	Y,R24
    01F62 E022      LDI	R18,2
    01F63 E003      LDI	R16,3
    01F64 940E 0851 CALL	_Set_White_off
(0989) 		       //进入重置画面。在Page9启动看门狗重置系统、不喂狗。数据重置对呀操作不同
(0990) 		       pageNum=9;
    01F66 E089      LDI	R24,0x9
    01F67 E090      LDI	R25,0
    01F68 9390 0D61 STS	pageNum+1,R25
    01F6A 9380 0D60 STS	pageNum,R24
(0991) 		  }else {
    01F6C C025      RJMP	0x1F92
(0992) 		      Set_White_off(9,2,10);
    01F6D E08A      LDI	R24,0xA
    01F6E 8388      ST	Y,R24
    01F6F E022      LDI	R18,2
    01F70 E009      LDI	R16,0x9
    01F71 940E 0851 CALL	_Set_White_off
(0993) 		       pageNum=prePageNum;
    01F73 9020 0D54 LDS	R2,prePageNum
    01F75 9030 0D55 LDS	R3,prePageNum+1
    01F77 9230 0D61 STS	pageNum+1,R3
    01F79 9220 0D60 STS	pageNum,R2
(0994) 		  }
(0995) 		  return;
    01F7B C016      RJMP	0x1F92
(0996) 		 case 'e':
(0997) 		    Set_White_off(3,2,4);
    01F7C E084      LDI	R24,4
    01F7D 8388      ST	Y,R24
    01F7E E022      LDI	R18,2
    01F7F E003      LDI	R16,3
    01F80 940E 0851 CALL	_Set_White_off
(0998) 		    Set_White_off(9,2,10);
    01F82 E08A      LDI	R24,0xA
    01F83 8388      ST	Y,R24
    01F84 E022      LDI	R18,2
    01F85 E009      LDI	R16,0x9
    01F86 940E 0851 CALL	_Set_White_off
(0999) 		    pageNum=prePageNum;
    01F88 9020 0D54 LDS	R2,prePageNum
    01F8A 9030 0D55 LDS	R3,prePageNum+1
    01F8C 9230 0D61 STS	pageNum+1,R3
    01F8E 9220 0D60 STS	pageNum,R2
(1000) 		    return;
    01F90 C001      RJMP	0x1F92
    01F91 CF87      RJMP	0x1F19
    01F92 9622      ADIW	R28,2
    01F93 940C 37B9 JMP	pop_xgsetF00C
_page8:
  dateAc               --> Y,+38
  time_cacah           --> R22
  keyV                 --> R22
  cur                  --> R20
  date                 --> Y,+8
  i                    --> R22
    01F95 940E 37B2 CALL	push_xgsetF00C
    01F97 97EF      SBIW	R28,0x3F
    01F98 9723      SBIW	R28,3
(1001) 	  }
(1002) 	}
(1003)  }
(1004)  void page8(void){
(1005)    uint cur=0;
    01F99 2744      CLR	R20
    01F9A 2755      CLR	R21
(1006)    uchar keyV;
(1007)    uint date[15];
(1008)    uint i;
(1009)    uint time_cacah;
(1010)     uint dateAc[14]={1,2,3,4,6,7,9,10,2,3,5,6,8,9};
    01F9B E380      LDI	R24,0x30
    01F9C E097      LDI	R25,7
    01F9D 01FE      MOVW	R30,R28
    01F9E 96B6      ADIW	R30,0x26
    01F9F E10C      LDI	R16,0x1C
    01FA0 E010      LDI	R17,0
    01FA1 93FA      ST	-Y,R31
    01FA2 93EA      ST	-Y,R30
    01FA3 939A      ST	-Y,R25
    01FA4 938A      ST	-Y,R24
    01FA5 940E 37EF CALL	asgnblk
(1011)    time_cacah=Read1307(0x06);
    01FA7 E006      LDI	R16,6
    01FA8 940E 3643 CALL	_Read1307
    01FAA 01B8      MOVW	R22,R16
(1012)    date[0]=2;
    01FAB E082      LDI	R24,2
    01FAC E090      LDI	R25,0
    01FAD 8799      STD	Y+9,R25
    01FAE 8788      STD	Y+8,R24
(1013)    date[1]=0;
    01FAF 2422      CLR	R2
    01FB0 2433      CLR	R3
    01FB1 863B      STD	Y+11,R3
    01FB2 862A      STD	Y+10,R2
(1014)    date[2]=time_cacah>>4;
    01FB3 011B      MOVW	R2,R22
    01FB4 9436      LSR	R3
    01FB5 9427      ROR	R2
    01FB6 9436      LSR	R3
    01FB7 9427      ROR	R2
    01FB8 9436      LSR	R3
    01FB9 9427      ROR	R2
    01FBA 9436      LSR	R3
    01FBB 9427      ROR	R2
    01FBC 863D      STD	Y+13,R3
    01FBD 862C      STD	Y+12,R2
(1015)    date[3]=time_cacah&0x0F;
    01FBE 01CB      MOVW	R24,R22
    01FBF 708F      ANDI	R24,0xF
    01FC0 7090      ANDI	R25,0
    01FC1 879F      STD	Y+15,R25
    01FC2 878E      STD	Y+14,R24
(1016)    time_cacah=Read1307(0x05);
    01FC3 E005      LDI	R16,5
    01FC4 940E 3643 CALL	_Read1307
    01FC6 01B8      MOVW	R22,R16
(1017)    date[4]=(time_cacah>>4)&0x01;
    01FC7 01CB      MOVW	R24,R22
    01FC8 9596      LSR	R25
    01FC9 9587      ROR	R24
    01FCA 9596      LSR	R25
    01FCB 9587      ROR	R24
    01FCC 9596      LSR	R25
    01FCD 9587      ROR	R24
    01FCE 9596      LSR	R25
    01FCF 9587      ROR	R24
    01FD0 7081      ANDI	R24,1
    01FD1 7090      ANDI	R25,0
    01FD2 8B99      STD	Y+17,R25
    01FD3 8B88      STD	Y+16,R24
(1018)    date[5]=time_cacah&0x0F;
    01FD4 01CB      MOVW	R24,R22
    01FD5 708F      ANDI	R24,0xF
    01FD6 7090      ANDI	R25,0
    01FD7 8B9B      STD	Y+19,R25
    01FD8 8B8A      STD	Y+18,R24
(1019)     time_cacah=Read1307(0x04);
    01FD9 E004      LDI	R16,4
    01FDA 940E 3643 CALL	_Read1307
    01FDC 0158      MOVW	R10,R16
    01FDD 01B5      MOVW	R22,R10
(1020)    date[6]=0x03&(time_cacah>>4);
    01FDE 01CB      MOVW	R24,R22
    01FDF 9596      LSR	R25
    01FE0 9587      ROR	R24
    01FE1 9596      LSR	R25
    01FE2 9587      ROR	R24
    01FE3 9596      LSR	R25
    01FE4 9587      ROR	R24
    01FE5 9596      LSR	R25
    01FE6 9587      ROR	R24
    01FE7 7083      ANDI	R24,3
    01FE8 7090      ANDI	R25,0
    01FE9 8B9D      STD	Y+21,R25
    01FEA 8B8C      STD	Y+20,R24
(1021)    date[7]=time_cacah&0x0F;
    01FEB 01CB      MOVW	R24,R22
    01FEC 708F      ANDI	R24,0xF
    01FED 7090      ANDI	R25,0
    01FEE 8B9F      STD	Y+23,R25
    01FEF 8B8E      STD	Y+22,R24
(1022)    time_cacah=Read1307(0x02);
    01FF0 E002      LDI	R16,2
    01FF1 940E 3643 CALL	_Read1307
    01FF3 0158      MOVW	R10,R16
    01FF4 01B5      MOVW	R22,R10
(1023)    date[8]=0x03&(time_cacah>>4);
    01FF5 01CB      MOVW	R24,R22
    01FF6 9596      LSR	R25
    01FF7 9587      ROR	R24
    01FF8 9596      LSR	R25
    01FF9 9587      ROR	R24
    01FFA 9596      LSR	R25
    01FFB 9587      ROR	R24
    01FFC 9596      LSR	R25
    01FFD 9587      ROR	R24
    01FFE 7083      ANDI	R24,3
    01FFF 7090      ANDI	R25,0
    02000 8F99      STD	Y+25,R25
    02001 8F88      STD	Y+24,R24
(1024)    date[9]=time_cacah&0x0F;
    02002 01CB      MOVW	R24,R22
    02003 708F      ANDI	R24,0xF
    02004 7090      ANDI	R25,0
    02005 8F9B      STD	Y+27,R25
    02006 8F8A      STD	Y+26,R24
(1025)    time_cacah=Read1307(0x01);
    02007 E001      LDI	R16,1
    02008 940E 3643 CALL	_Read1307
    0200A 0158      MOVW	R10,R16
    0200B 01B5      MOVW	R22,R10
(1026)    date[10]=0x07&(time_cacah>>4);
    0200C 01CB      MOVW	R24,R22
    0200D 9596      LSR	R25
    0200E 9587      ROR	R24
    0200F 9596      LSR	R25
    02010 9587      ROR	R24
    02011 9596      LSR	R25
    02012 9587      ROR	R24
    02013 9596      LSR	R25
    02014 9587      ROR	R24
    02015 7087      ANDI	R24,7
    02016 7090      ANDI	R25,0
    02017 8F9D      STD	Y+29,R25
    02018 8F8C      STD	Y+28,R24
(1027)    date[11]=time_cacah&0x0f;
    02019 01CB      MOVW	R24,R22
    0201A 708F      ANDI	R24,0xF
    0201B 7090      ANDI	R25,0
    0201C 8F9F      STD	Y+31,R25
    0201D 8F8E      STD	Y+30,R24
(1028)    time_cacah=Read1307(0x00);
    0201E 2700      CLR	R16
    0201F 940E 3643 CALL	_Read1307
    02021 0158      MOVW	R10,R16
    02022 01B5      MOVW	R22,R10
(1029)    date[12]=0x07&(time_cacah>>4);
    02023 01CB      MOVW	R24,R22
    02024 9596      LSR	R25
    02025 9587      ROR	R24
    02026 9596      LSR	R25
    02027 9587      ROR	R24
    02028 9596      LSR	R25
    02029 9587      ROR	R24
    0202A 9596      LSR	R25
    0202B 9587      ROR	R24
    0202C 7087      ANDI	R24,7
    0202D 7090      ANDI	R25,0
    0202E A399      STD	Y+33,R25
    0202F A388      STD	Y+32,R24
(1030)    date[13]=time_cacah&0x0F;
    02030 01CB      MOVW	R24,R22
    02031 708F      ANDI	R24,0xF
    02032 7090      ANDI	R25,0
    02033 A39B      STD	Y+35,R25
    02034 A38A      STD	Y+34,R24
(1031)     lcd_write_pos(1,0);
    02035 2722      CLR	R18
    02036 E001      LDI	R16,1
    02037 940E 0658 CALL	_lcd_write_pos
(1032)   for(i=0;i<8;i++){
    02039 2766      CLR	R22
    0203A 2777      CLR	R23
    0203B C020      RJMP	0x205C
(1033)    lcd_write_char_con(0,0x30 | date[i]);
    0203C 01CE      MOVW	R24,R28
    0203D 9608      ADIW	R24,0x8
    0203E 01FB      MOVW	R30,R22
    0203F 0FEE      LSL	R30
    02040 1FFF      ROL	R31
    02041 0FE8      ADD	R30,R24
    02042 1FF9      ADC	R31,R25
    02043 8120      LD	R18,Z
    02044 8131      LDD	R19,Z+1
    02045 6320      ORI	R18,0x30
    02046 2700      CLR	R16
    02047 940E 0644 CALL	_lcd_write_char_con
(1034)     lcd_write_char_con(0,' ');
    02049 E220      LDI	R18,0x20
    0204A 2700      CLR	R16
    0204B 940E 0644 CALL	_lcd_write_char_con
(1035) 	if(i==3 || i==5){
    0204D 3063      CPI	R22,3
    0204E E0E0      LDI	R30,0
    0204F 077E      CPC	R23,R30
    02050 F021      BEQ	0x2055
    02051 3065      CPI	R22,5
    02052 E0E0      LDI	R30,0
    02053 077E      CPC	R23,R30
    02054 F429      BNE	0x205A
(1036) 	  lcd_write_str_con(0,"- ");
    02055 E62E      LDI	R18,0x6E
    02056 E037      LDI	R19,7
    02057 2700      CLR	R16
    02058 940E 06E6 CALL	_lcd_write_str_con
    0205A 5F6F      SUBI	R22,0xFF
    0205B 4F7F      SBCI	R23,0xFF
    0205C 3068      CPI	R22,0x8
    0205D E0E0      LDI	R30,0
    0205E 077E      CPC	R23,R30
    0205F F2E0      BCS	0x203C
(1037) 	}
(1038)   }
(1039)    lcd_write_pos(2,1);
    02060 E021      LDI	R18,1
    02061 E002      LDI	R16,2
    02062 940E 0658 CALL	_lcd_write_pos
(1040)    for(i=8;i<14;i++){
    02064 E068      LDI	R22,0x8
    02065 E070      LDI	R23,0
    02066 C020      RJMP	0x2087
(1041)    lcd_write_char_con(1,0x30 | date[i]);
    02067 01CE      MOVW	R24,R28
    02068 9608      ADIW	R24,0x8
    02069 01FB      MOVW	R30,R22
    0206A 0FEE      LSL	R30
    0206B 1FFF      ROL	R31
    0206C 0FE8      ADD	R30,R24
    0206D 1FF9      ADC	R31,R25
    0206E 8120      LD	R18,Z
    0206F 8131      LDD	R19,Z+1
    02070 6320      ORI	R18,0x30
    02071 E001      LDI	R16,1
    02072 940E 0644 CALL	_lcd_write_char_con
(1042)    lcd_write_char_con(0,' ');
    02074 E220      LDI	R18,0x20
    02075 2700      CLR	R16
    02076 940E 0644 CALL	_lcd_write_char_con
(1043)    if(i==9 || i==11){
    02078 3069      CPI	R22,0x9
    02079 E0E0      LDI	R30,0
    0207A 077E      CPC	R23,R30
    0207B F021      BEQ	0x2080
    0207C 306B      CPI	R22,0xB
    0207D E0E0      LDI	R30,0
    0207E 077E      CPC	R23,R30
    0207F F429      BNE	0x2085
(1044) 	 lcd_write_str_con(0,": ");
    02080 EE23      LDI	R18,0xE3
    02081 E037      LDI	R19,7
    02082 2700      CLR	R16
    02083 940E 06E6 CALL	_lcd_write_str_con
    02085 5F6F      SUBI	R22,0xFF
    02086 4F7F      SBCI	R23,0xFF
    02087 306E      CPI	R22,0xE
    02088 E0E0      LDI	R30,0
    02089 077E      CPC	R23,R30
    0208A F2E0      BCS	0x2067
(1045)    }
(1046)   } 
(1047)    lcd_write_str(3,2,"保存");
    0208B ED87      LDI	R24,0xD7
    0208C E097      LDI	R25,7
    0208D 8399      STD	Y+1,R25
    0208E 8388      ST	Y,R24
    0208F E022      LDI	R18,2
    02090 E003      LDI	R16,3
    02091 940E 069C CALL	_lcd_write_str
(1048)    lcd_write_str(8,2,"取消");
    02093 E388      LDI	R24,0x38
    02094 E098      LDI	R25,0x8
    02095 8399      STD	Y+1,R25
    02096 8388      ST	Y,R24
    02097 E022      LDI	R18,2
    02098 E008      LDI	R16,0x8
    02099 940E 069C CALL	_lcd_write_str
(1049)    //初始化date
(1050)   
(1051)    cur=0;
    0209B 2744      CLR	R20
    0209C 2755      CLR	R21
(1052)    lcd_write_pos(1,0);//初始游标位置
    0209D 2722      CLR	R18
    0209E E001      LDI	R16,1
    0209F 940E 0658 CALL	_lcd_write_pos
(1053)    cur_set(3);//上半屏幕游标设置
    020A1 E003      LDI	R16,3
    020A2 E010      LDI	R17,0
    020A3 940E 080D CALL	_cur_set
    020A5 C284      RJMP	0x232A
(1054)    while(1){
(1055)      pageTime(3);//
    020A6 E003      LDI	R16,3
    020A7 E010      LDI	R17,0
    020A8 940E 0F8C CALL	_pageTime
(1056) 	 keyV=KeyScan_once();
    020AA 940E 0539 CALL	_KeyScan_once
    020AC 2EA0      MOV	R10,R16
    020AD 2D6A      MOV	R22,R10
(1057) 	 if(keyV=='u'){
    020AE 3705      CPI	R16,0x75
    020AF F571      BNE	0x20DE
(1058) 	   if(cur>13){//调到时间第一个
    020B0 E08D      LDI	R24,0xD
    020B1 E090      LDI	R25,0
    020B2 1784      CP	R24,R20
    020B3 0795      CPC	R25,R21
    020B4 F4B8      BCC	0x20CC
(1059) 	        Set_White_off(4,2,5);
    020B5 E085      LDI	R24,5
    020B6 8388      ST	Y,R24
    020B7 E022      LDI	R18,2
    020B8 E004      LDI	R16,4
    020B9 940E 0851 CALL	_Set_White_off
(1060) 			Set_White_off(9,2,10);
    020BB E08A      LDI	R24,0xA
    020BC 8388      ST	Y,R24
    020BD E022      LDI	R18,2
    020BE E009      LDI	R16,0x9
    020BF 940E 0851 CALL	_Set_White_off
(1061) 	        lcd_write_pos(2,1);
    020C1 E021      LDI	R18,1
    020C2 E002      LDI	R16,2
    020C3 940E 0658 CALL	_lcd_write_pos
(1062) 		    cur_set(3);
    020C5 E003      LDI	R16,3
    020C6 E010      LDI	R17,0
    020C7 940E 080D CALL	_cur_set
(1063) 			cur=8; 
    020C9 E048      LDI	R20,0x8
    020CA E050      LDI	R21,0
(1064) 		   }else if(cur>7 && cur <14){//调到日期第一个
    020CB C25E      RJMP	0x232A
    020CC E087      LDI	R24,7
    020CD E090      LDI	R25,0
    020CE 1784      CP	R24,R20
    020CF 0795      CPC	R25,R21
    020D0 F008      BCS	0x20D2
    020D1 C258      RJMP	0x232A
    020D2 304E      CPI	R20,0xE
    020D3 E0E0      LDI	R30,0
    020D4 075E      CPC	R21,R30
    020D5 F008      BCS	0x20D7
    020D6 C253      RJMP	0x232A
(1065) 		    lcd_write_pos(1,0);
    020D7 2722      CLR	R18
    020D8 E001      LDI	R16,1
    020D9 940E 0658 CALL	_lcd_write_pos
(1066) 			cur=0; 
    020DB 2744      CLR	R20
    020DC 2755      CLR	R21
(1067) 		   }
(1068) 	 }else if(keyV=='d'){
    020DD C24C      RJMP	0x232A
    020DE 3664      CPI	R22,0x64
    020DF F519      BNE	0x2103
(1069) 	     if(cur>7 && cur <14){//在时间上，第三行，默认要保存，所以调到保存上
    020E0 E087      LDI	R24,7
    020E1 E090      LDI	R25,0
    020E2 1784      CP	R24,R20
    020E3 0795      CPC	R25,R21
    020E4 F488      BCC	0x20F6
    020E5 304E      CPI	R20,0xE
    020E6 E0E0      LDI	R30,0
    020E7 075E      CPC	R21,R30
    020E8 F468      BCC	0x20F6
(1070) 		      cur_set(0);//关下半屏幕游标
    020E9 2700      CLR	R16
    020EA 2711      CLR	R17
    020EB 940E 080D CALL	_cur_set
(1071) 			  Set_White(4,2,5);
    020ED E085      LDI	R24,5
    020EE 8388      ST	Y,R24
    020EF E022      LDI	R18,2
    020F0 E004      LDI	R16,4
    020F1 940E 08C1 CALL	_Set_White
(1072) 			  cur=14;
    020F3 E04E      LDI	R20,0xE
    020F4 E050      LDI	R21,0
(1073) 		 }else if(cur<=7){ //调到时间第一个
    020F5 C234      RJMP	0x232A
    020F6 E087      LDI	R24,7
    020F7 E090      LDI	R25,0
    020F8 1784      CP	R24,R20
    020F9 0795      CPC	R25,R21
    020FA F408      BCC	0x20FC
    020FB C22E      RJMP	0x232A
(1074) 		    lcd_write_pos(2,1);
    020FC E021      LDI	R18,1
    020FD E002      LDI	R16,2
    020FE 940E 0658 CALL	_lcd_write_pos
(1075) 			cur=8; 
    02100 E048      LDI	R20,0x8
    02101 E050      LDI	R21,0
(1076) 		 }
(1077) 	 }else if(keyV=='l'){
    02102 C227      RJMP	0x232A
    02103 366C      CPI	R22,0x6C
    02104 F009      BEQ	0x2106
    02105 C043      RJMP	0x2149
(1078) 			if(cur<=8 && cur>0){
    02106 E088      LDI	R24,0x8
    02107 E090      LDI	R25,0
    02108 1784      CP	R24,R20
    02109 0795      CPC	R25,R21
    0210A F090      BCS	0x211D
    0210B 3040      CPI	R20,0
    0210C 0745      CPC	R20,R21
    0210D F079      BEQ	0x211D
(1079) 			 cur--;
    0210E 5041      SUBI	R20,1
    0210F 4050      SBCI	R21,0
(1080) 			 lcd_write_pos(dateAc[cur],0);
    02110 2722      CLR	R18
    02111 01CE      MOVW	R24,R28
    02112 9686      ADIW	R24,0x26
    02113 01FA      MOVW	R30,R20
    02114 0FEE      LSL	R30
    02115 1FFF      ROL	R31
    02116 0FE8      ADD	R30,R24
    02117 1FF9      ADC	R31,R25
    02118 8100      LD	R16,Z
    02119 8111      LDD	R17,Z+1
    0211A 940E 0658 CALL	_lcd_write_pos
(1081) 			}else if (cur>8 && cur<14){
    0211C C20D      RJMP	0x232A
    0211D E088      LDI	R24,0x8
    0211E E090      LDI	R25,0
    0211F 1784      CP	R24,R20
    02120 0795      CPC	R25,R21
    02121 F498      BCC	0x2135
    02122 304E      CPI	R20,0xE
    02123 E0E0      LDI	R30,0
    02124 075E      CPC	R21,R30
    02125 F478      BCC	0x2135
(1082) 			 cur--;
    02126 5041      SUBI	R20,1
    02127 4050      SBCI	R21,0
(1083) 			 lcd_write_pos(dateAc[cur],1);
    02128 E021      LDI	R18,1
    02129 01CE      MOVW	R24,R28
    0212A 9686      ADIW	R24,0x26
    0212B 01FA      MOVW	R30,R20
    0212C 0FEE      LSL	R30
    0212D 1FFF      ROL	R31
    0212E 0FE8      ADD	R30,R24
    0212F 1FF9      ADC	R31,R25
    02130 8100      LD	R16,Z
    02131 8111      LDD	R17,Z+1
    02132 940E 0658 CALL	_lcd_write_pos
(1084) 			}else if (cur==15){
    02134 C1F5      RJMP	0x232A
    02135 304F      CPI	R20,0xF
    02136 E0E0      LDI	R30,0
    02137 075E      CPC	R21,R30
    02138 F009      BEQ	0x213A
    02139 C1F0      RJMP	0x232A
(1085) 			    Set_White_off(9,2,10);
    0213A E08A      LDI	R24,0xA
    0213B 8388      ST	Y,R24
    0213C E022      LDI	R18,2
    0213D E009      LDI	R16,0x9
    0213E 940E 0851 CALL	_Set_White_off
(1086) 			    Set_White(4,2,5);
    02140 E085      LDI	R24,5
    02141 8388      ST	Y,R24
    02142 E022      LDI	R18,2
    02143 E004      LDI	R16,4
    02144 940E 08C1 CALL	_Set_White
(1087) 				cur=14;
    02146 E04E      LDI	R20,0xE
    02147 E050      LDI	R21,0
(1088) 			}
(1089) 			
(1090) 		
(1091) 	 }else if(keyV=='r'){
    02148 C1E1      RJMP	0x232A
    02149 3762      CPI	R22,0x72
    0214A F009      BEQ	0x214C
    0214B C03A      RJMP	0x2186
(1092) 	       if(cur<7){
    0214C 3047      CPI	R20,7
    0214D E0E0      LDI	R30,0
    0214E 075E      CPC	R21,R30
    0214F F478      BCC	0x215F
(1093) 			   cur++;
    02150 5F4F      SUBI	R20,0xFF
    02151 4F5F      SBCI	R21,0xFF
(1094) 			   lcd_write_pos(dateAc[cur],0);
    02152 2722      CLR	R18
    02153 01CE      MOVW	R24,R28
    02154 9686      ADIW	R24,0x26
    02155 01FA      MOVW	R30,R20
    02156 0FEE      LSL	R30
    02157 1FFF      ROL	R31
    02158 0FE8      ADD	R30,R24
    02159 1FF9      ADC	R31,R25
    0215A 8100      LD	R16,Z
    0215B 8111      LDD	R17,Z+1
    0215C 940E 0658 CALL	_lcd_write_pos
(1095) 			}else if (cur<13){
    0215E C1CB      RJMP	0x232A
    0215F 304D      CPI	R20,0xD
    02160 E0E0      LDI	R30,0
    02161 075E      CPC	R21,R30
    02162 F478      BCC	0x2172
(1096) 			   cur++;
    02163 5F4F      SUBI	R20,0xFF
    02164 4F5F      SBCI	R21,0xFF
(1097) 			   lcd_write_pos(dateAc[cur],1);
    02165 E021      LDI	R18,1
    02166 01CE      MOVW	R24,R28
    02167 9686      ADIW	R24,0x26
    02168 01FA      MOVW	R30,R20
    02169 0FEE      LSL	R30
    0216A 1FFF      ROL	R31
    0216B 0FE8      ADD	R30,R24
    0216C 1FF9      ADC	R31,R25
    0216D 8100      LD	R16,Z
    0216E 8111      LDD	R17,Z+1
    0216F 940E 0658 CALL	_lcd_write_pos
(1098) 			}else if (cur==14){
    02171 C1B8      RJMP	0x232A
    02172 304E      CPI	R20,0xE
    02173 E0E0      LDI	R30,0
    02174 075E      CPC	R21,R30
    02175 F009      BEQ	0x2177
    02176 C1B3      RJMP	0x232A
(1099) 			    Set_White_off(4,2,5);
    02177 E085      LDI	R24,5
    02178 8388      ST	Y,R24
    02179 E022      LDI	R18,2
    0217A E004      LDI	R16,4
    0217B 940E 0851 CALL	_Set_White_off
(1100) 				Set_White(9,2,10);
    0217D E08A      LDI	R24,0xA
    0217E 8388      ST	Y,R24
    0217F E022      LDI	R18,2
    02180 E009      LDI	R16,0x9
    02181 940E 08C1 CALL	_Set_White
(1101) 				cur=15;
    02183 E04F      LDI	R20,0xF
    02184 E050      LDI	R21,0
(1102) 			}
(1103) 	 }else if(keyV=='e'){
    02185 C1A4      RJMP	0x232A
    02186 3665      CPI	R22,0x65
    02187 F4B9      BNE	0x219F
(1104) 	     cur_set(0);//关上半屏幕游标
    02188 2700      CLR	R16
    02189 2711      CLR	R17
    0218A 940E 080D CALL	_cur_set
(1105) 		  Set_White_off(4,2,5);
    0218C E085      LDI	R24,5
    0218D 8388      ST	Y,R24
    0218E E022      LDI	R18,2
    0218F E004      LDI	R16,4
    02190 940E 0851 CALL	_Set_White_off
(1106) 		  Set_White_off(9,2,10);
    02192 E08A      LDI	R24,0xA
    02193 8388      ST	Y,R24
    02194 E022      LDI	R18,2
    02195 E009      LDI	R16,0x9
    02196 940E 0851 CALL	_Set_White_off
(1107) 		 pageNum=1;
    02198 E081      LDI	R24,1
    02199 E090      LDI	R25,0
    0219A 9390 0D61 STS	pageNum+1,R25
    0219C 9380 0D60 STS	pageNum,R24
(1108) 		 return;
    0219E C18C      RJMP	0x232B
(1109) 	     //退出界面
(1110) 	 }else if(keyV=='t'){
    0219F 3764      CPI	R22,0x74
    021A0 F009      BEQ	0x21A2
    021A1 C085      RJMP	0x2227
(1111) 	      if(cur==14){
    021A2 304E      CPI	R20,0xE
    021A3 E0E0      LDI	R30,0
    021A4 075E      CPC	R21,R30
    021A5 F009      BEQ	0x21A7
    021A6 C064      RJMP	0x220B
(1112) 		      setTime((date[2]*16)+date[3],(date[4]*16)+date[5],(date[6]*16)+date[7],(date[8]*16)+date[9],(date[10]*16)+date[11],(date[12]*16)+date[13]);
    021A7 A128      LDD	R18,Y+32
    021A8 A139      LDD	R19,Y+33
    021A9 E100      LDI	R16,0x10
    021AA E010      LDI	R17,0
    021AB 940E 376C CALL	empy16s
    021AD 0118      MOVW	R2,R16
    021AE A04A      LDD	R4,Y+34
    021AF A05B      LDD	R5,Y+35
    021B0 0C24      ADD	R2,R4
    021B1 1C35      ADC	R3,R5
    021B2 823F      STD	Y+7,R3
    021B3 822E      STD	Y+6,R2
    021B4 8D2C      LDD	R18,Y+28
    021B5 8D3D      LDD	R19,Y+29
    021B6 E100      LDI	R16,0x10
    021B7 E010      LDI	R17,0
    021B8 940E 376C CALL	empy16s
    021BA 0118      MOVW	R2,R16
    021BB 8C4E      LDD	R4,Y+30
    021BC 8C5F      LDD	R5,Y+31
    021BD 0C24      ADD	R2,R4
    021BE 1C35      ADC	R3,R5
    021BF 823D      STD	Y+5,R3
    021C0 822C      STD	Y+4,R2
    021C1 8D28      LDD	R18,Y+24
    021C2 8D39      LDD	R19,Y+25
    021C3 E100      LDI	R16,0x10
    021C4 E010      LDI	R17,0
    021C5 940E 376C CALL	empy16s
    021C7 0118      MOVW	R2,R16
    021C8 8C4A      LDD	R4,Y+26
    021C9 8C5B      LDD	R5,Y+27
    021CA 0C24      ADD	R2,R4
    021CB 1C35      ADC	R3,R5
    021CC 823B      STD	Y+3,R3
    021CD 822A      STD	Y+2,R2
    021CE 892C      LDD	R18,Y+20
    021CF 893D      LDD	R19,Y+21
    021D0 E100      LDI	R16,0x10
    021D1 E010      LDI	R17,0
    021D2 940E 376C CALL	empy16s
    021D4 0118      MOVW	R2,R16
    021D5 884E      LDD	R4,Y+22
    021D6 885F      LDD	R5,Y+23
    021D7 0C24      ADD	R2,R4
    021D8 1C35      ADC	R3,R5
    021D9 8239      STD	Y+1,R3
    021DA 8228      ST	Y,R2
    021DB 8928      LDD	R18,Y+16
    021DC 8939      LDD	R19,Y+17
    021DD E100      LDI	R16,0x10
    021DE E010      LDI	R17,0
    021DF 940E 376C CALL	empy16s
    021E1 0198      MOVW	R18,R16
    021E2 882A      LDD	R2,Y+18
    021E3 883B      LDD	R3,Y+19
    021E4 0D22      ADD	R18,R2
    021E5 1D33      ADC	R19,R3
    021E6 842C      LDD	R2,Y+12
    021E7 843D      LDD	R3,Y+13
    021E8 E100      LDI	R16,0x10
    021E9 E010      LDI	R17,0
    021EA 932F      PUSH	R18
    021EB 933F      PUSH	R19
    021EC 0191      MOVW	R18,R2
    021ED 940E 376C CALL	empy16s
    021EF 0118      MOVW	R2,R16
    021F0 913F      POP	R19
    021F1 912F      POP	R18
    021F2 844E      LDD	R4,Y+14
    021F3 845F      LDD	R5,Y+15
    021F4 0C24      ADD	R2,R4
    021F5 1C35      ADC	R3,R5
    021F6 0181      MOVW	R16,R2
    021F7 940E 3657 CALL	_setTime
(1113) 		        //setTime(1*16+2,1<<4+2+0x00,2*16+2,1<<4+2+0x00,5+0x00,5<<4+1+0x00);
(1114) 				//保存操作
(1115) 				pageParam[1]=0;//标记是时间的保存
    021F9 2422      CLR	R2
    021FA 2433      CLR	R3
    021FB 9230 0D59 STS	pageParam+3,R3
    021FD 9220 0D58 STS	pageParam+2,R2
(1116) 				prePageNum=8;
    021FF E088      LDI	R24,0x8
    02200 E090      LDI	R25,0
    02201 9390 0D55 STS	prePageNum+1,R25
    02203 9380 0D54 STS	prePageNum,R24
(1117) 				pageNum=6;
    02205 E086      LDI	R24,6
    02206 9390 0D61 STS	pageNum+1,R25
    02208 9380 0D60 STS	pageNum,R24
(1118) 				return;
    0220A C120      RJMP	0x232B
(1119) 		 }else if(cur==15){
    0220B 304F      CPI	R20,0xF
    0220C E0E0      LDI	R30,0
    0220D 075E      CPC	R21,R30
    0220E F009      BEQ	0x2210
    0220F C11A      RJMP	0x232A
(1120) 		        //取消操作
(1121) 			 cur_set(0);//关上半屏幕游标
    02210 2700      CLR	R16
    02211 2711      CLR	R17
    02212 940E 080D CALL	_cur_set
(1122) 		  Set_White_off(4,2,5);
    02214 E085      LDI	R24,5
    02215 8388      ST	Y,R24
    02216 E022      LDI	R18,2
    02217 E004      LDI	R16,4
    02218 940E 0851 CALL	_Set_White_off
(1123) 		  Set_White_off(9,2,10);
    0221A E08A      LDI	R24,0xA
    0221B 8388      ST	Y,R24
    0221C E022      LDI	R18,2
    0221D E009      LDI	R16,0x9
    0221E 940E 0851 CALL	_Set_White_off
(1124) 		 pageNum=1;
    02220 E081      LDI	R24,1
    02221 E090      LDI	R25,0
    02222 9390 0D61 STS	pageNum+1,R25
    02224 9380 0D60 STS	pageNum,R24
(1125) 		 return;
    02226 C104      RJMP	0x232B
(1126) 		 }
(1127) 	 }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    02227 3360      CPI	R22,0x30
    02228 F099      BEQ	0x223C
    02229 3361      CPI	R22,0x31
    0222A F089      BEQ	0x223C
    0222B 3362      CPI	R22,0x32
    0222C F079      BEQ	0x223C
    0222D 3363      CPI	R22,0x33
    0222E F069      BEQ	0x223C
    0222F 3364      CPI	R22,0x34
    02230 F059      BEQ	0x223C
    02231 3365      CPI	R22,0x35
    02232 F049      BEQ	0x223C
    02233 3366      CPI	R22,0x36
    02234 F039      BEQ	0x223C
    02235 3367      CPI	R22,0x37
    02236 F029      BEQ	0x223C
    02237 3368      CPI	R22,0x38
    02238 F019      BEQ	0x223C
    02239 3369      CPI	R22,0x39
    0223A F009      BEQ	0x223C
    0223B C0EE      RJMP	0x232A
(1128) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(1129) 			if(cur<14){
    0223C 304E      CPI	R20,0xE
    0223D E0E0      LDI	R30,0
    0223E 075E      CPC	R21,R30
    0223F F008      BCS	0x2241
    02240 C0E9      RJMP	0x232A
(1130) 			 lcd_write_char_con(0,0x30 | keyV);
    02241 2F26      MOV	R18,R22
    02242 6320      ORI	R18,0x30
    02243 2700      CLR	R16
    02244 940E 0644 CALL	_lcd_write_char_con
(1131) 			 lcd_write_char_con(0,' ');
    02246 E220      LDI	R18,0x20
    02247 2700      CLR	R16
    02248 940E 0644 CALL	_lcd_write_char_con
(1132) 			 switch(keyV){
    0224A 2777      CLR	R23
    0224B 3360      CPI	R22,0x30
    0224C E0E0      LDI	R30,0
    0224D 077E      CPC	R23,R30
    0224E F409      BNE	0x2250
    0224F C02E      RJMP	0x227E
    02250 3361      CPI	R22,0x31
    02251 E0E0      LDI	R30,0
    02252 077E      CPC	R23,R30
    02253 F409      BNE	0x2255
    02254 C035      RJMP	0x228A
    02255 3362      CPI	R22,0x32
    02256 E0E0      LDI	R30,0
    02257 077E      CPC	R23,R30
    02258 F409      BNE	0x225A
    02259 C03C      RJMP	0x2296
    0225A 3363      CPI	R22,0x33
    0225B E0E0      LDI	R30,0
    0225C 077E      CPC	R23,R30
    0225D F409      BNE	0x225F
    0225E C043      RJMP	0x22A2
    0225F 3364      CPI	R22,0x34
    02260 E0E0      LDI	R30,0
    02261 077E      CPC	R23,R30
    02262 F409      BNE	0x2264
    02263 C04A      RJMP	0x22AE
    02264 3365      CPI	R22,0x35
    02265 E0E0      LDI	R30,0
    02266 077E      CPC	R23,R30
    02267 F409      BNE	0x2269
    02268 C051      RJMP	0x22BA
    02269 3366      CPI	R22,0x36
    0226A E0E0      LDI	R30,0
    0226B 077E      CPC	R23,R30
    0226C F409      BNE	0x226E
    0226D C058      RJMP	0x22C6
    0226E 3367      CPI	R22,0x37
    0226F E0E0      LDI	R30,0
    02270 077E      CPC	R23,R30
    02271 F409      BNE	0x2273
    02272 C05F      RJMP	0x22D2
    02273 3368      CPI	R22,0x38
    02274 E0E0      LDI	R30,0
    02275 077E      CPC	R23,R30
    02276 F409      BNE	0x2278
    02277 C066      RJMP	0x22DE
    02278 3369      CPI	R22,0x39
    02279 E0E0      LDI	R30,0
    0227A 077E      CPC	R23,R30
    0227B F409      BNE	0x227D
    0227C C06D      RJMP	0x22EA
    0227D C077      RJMP	0x22F5
(1133) 			  case '0':
(1134) 			    date[cur]=0;
    0227E 01CE      MOVW	R24,R28
    0227F 9608      ADIW	R24,0x8
    02280 01FA      MOVW	R30,R20
    02281 0FEE      LSL	R30
    02282 1FFF      ROL	R31
    02283 0FE8      ADD	R30,R24
    02284 1FF9      ADC	R31,R25
    02285 2422      CLR	R2
    02286 2433      CLR	R3
    02287 8231      STD	Z+1,R3
    02288 8220      ST	Z,R2
(1135) 			    break;
    02289 C06B      RJMP	0x22F5
(1136) 			  case '1':
(1137) 			    date[cur]=1;
    0228A 01CE      MOVW	R24,R28
    0228B 9608      ADIW	R24,0x8
    0228C 01FA      MOVW	R30,R20
    0228D 0FEE      LSL	R30
    0228E 1FFF      ROL	R31
    0228F 0FE8      ADD	R30,R24
    02290 1FF9      ADC	R31,R25
    02291 E081      LDI	R24,1
    02292 E090      LDI	R25,0
    02293 8391      STD	Z+1,R25
    02294 8380      ST	Z,R24
(1138) 			    break;
    02295 C05F      RJMP	0x22F5
(1139) 			  case '2':
(1140) 			    date[cur]=2;
    02296 01CE      MOVW	R24,R28
    02297 9608      ADIW	R24,0x8
    02298 01FA      MOVW	R30,R20
    02299 0FEE      LSL	R30
    0229A 1FFF      ROL	R31
    0229B 0FE8      ADD	R30,R24
    0229C 1FF9      ADC	R31,R25
    0229D E082      LDI	R24,2
    0229E E090      LDI	R25,0
    0229F 8391      STD	Z+1,R25
    022A0 8380      ST	Z,R24
(1141) 			    break;
    022A1 C053      RJMP	0x22F5
(1142) 			  case '3':
(1143) 			    date[cur]=3;
    022A2 01CE      MOVW	R24,R28
    022A3 9608      ADIW	R24,0x8
    022A4 01FA      MOVW	R30,R20
    022A5 0FEE      LSL	R30
    022A6 1FFF      ROL	R31
    022A7 0FE8      ADD	R30,R24
    022A8 1FF9      ADC	R31,R25
    022A9 E083      LDI	R24,3
    022AA E090      LDI	R25,0
    022AB 8391      STD	Z+1,R25
    022AC 8380      ST	Z,R24
(1144) 			    break;
    022AD C047      RJMP	0x22F5
(1145) 			  case '4':
(1146) 			    date[cur]=4;
    022AE 01CE      MOVW	R24,R28
    022AF 9608      ADIW	R24,0x8
    022B0 01FA      MOVW	R30,R20
    022B1 0FEE      LSL	R30
    022B2 1FFF      ROL	R31
    022B3 0FE8      ADD	R30,R24
    022B4 1FF9      ADC	R31,R25
    022B5 E084      LDI	R24,4
    022B6 E090      LDI	R25,0
    022B7 8391      STD	Z+1,R25
    022B8 8380      ST	Z,R24
(1147) 			    break;
    022B9 C03B      RJMP	0x22F5
(1148) 			  case '5':
(1149) 			    date[cur]=5;
    022BA 01CE      MOVW	R24,R28
    022BB 9608      ADIW	R24,0x8
    022BC 01FA      MOVW	R30,R20
    022BD 0FEE      LSL	R30
    022BE 1FFF      ROL	R31
    022BF 0FE8      ADD	R30,R24
    022C0 1FF9      ADC	R31,R25
    022C1 E085      LDI	R24,5
    022C2 E090      LDI	R25,0
    022C3 8391      STD	Z+1,R25
    022C4 8380      ST	Z,R24
(1150) 			    break;
    022C5 C02F      RJMP	0x22F5
(1151) 			  case '6':
(1152) 			    date[cur]=6;
    022C6 01CE      MOVW	R24,R28
    022C7 9608      ADIW	R24,0x8
    022C8 01FA      MOVW	R30,R20
    022C9 0FEE      LSL	R30
    022CA 1FFF      ROL	R31
    022CB 0FE8      ADD	R30,R24
    022CC 1FF9      ADC	R31,R25
    022CD E086      LDI	R24,6
    022CE E090      LDI	R25,0
    022CF 8391      STD	Z+1,R25
    022D0 8380      ST	Z,R24
(1153) 			    break;
    022D1 C023      RJMP	0x22F5
(1154) 			  case '7':
(1155) 			    date[cur]=7;
    022D2 01CE      MOVW	R24,R28
    022D3 9608      ADIW	R24,0x8
    022D4 01FA      MOVW	R30,R20
    022D5 0FEE      LSL	R30
    022D6 1FFF      ROL	R31
    022D7 0FE8      ADD	R30,R24
    022D8 1FF9      ADC	R31,R25
    022D9 E087      LDI	R24,7
    022DA E090      LDI	R25,0
    022DB 8391      STD	Z+1,R25
    022DC 8380      ST	Z,R24
(1156) 			    break;
    022DD C017      RJMP	0x22F5
(1157) 		      case '8':
(1158) 			    date[cur]=8;
    022DE 01CE      MOVW	R24,R28
    022DF 9608      ADIW	R24,0x8
    022E0 01FA      MOVW	R30,R20
    022E1 0FEE      LSL	R30
    022E2 1FFF      ROL	R31
    022E3 0FE8      ADD	R30,R24
    022E4 1FF9      ADC	R31,R25
    022E5 E088      LDI	R24,0x8
    022E6 E090      LDI	R25,0
    022E7 8391      STD	Z+1,R25
    022E8 8380      ST	Z,R24
(1159) 			    break;
    022E9 C00B      RJMP	0x22F5
(1160) 			  case '9':
(1161) 			    date[cur]=9;
    022EA 01CE      MOVW	R24,R28
    022EB 9608      ADIW	R24,0x8
    022EC 01FA      MOVW	R30,R20
    022ED 0FEE      LSL	R30
    022EE 1FFF      ROL	R31
    022EF 0FE8      ADD	R30,R24
    022F0 1FF9      ADC	R31,R25
    022F1 E089      LDI	R24,0x9
    022F2 E090      LDI	R25,0
    022F3 8391      STD	Z+1,R25
    022F4 8380      ST	Z,R24
(1162) 			    break;
(1163) 			  
(1164) 			 }
(1165) 			  if(cur==3 || cur==5){
    022F5 3043      CPI	R20,3
    022F6 E0E0      LDI	R30,0
    022F7 075E      CPC	R21,R30
    022F8 F021      BEQ	0x22FD
    022F9 3045      CPI	R20,5
    022FA E0E0      LDI	R30,0
    022FB 075E      CPC	R21,R30
    022FC F431      BNE	0x2303
(1166) 			    lcd_write_str_con(0,"- ");
    022FD E62E      LDI	R18,0x6E
    022FE E037      LDI	R19,7
    022FF 2700      CLR	R16
    02300 940E 06E6 CALL	_lcd_write_str_con
(1167) 			 }else if(cur==9 || cur==11){
    02302 C00D      RJMP	0x2310
    02303 3049      CPI	R20,0x9
    02304 E0E0      LDI	R30,0
    02305 075E      CPC	R21,R30
    02306 F021      BEQ	0x230B
    02307 304B      CPI	R20,0xB
    02308 E0E0      LDI	R30,0
    02309 075E      CPC	R21,R30
    0230A F429      BNE	0x2310
(1168) 			    lcd_write_str_con(0,": ");
    0230B EE23      LDI	R18,0xE3
    0230C E037      LDI	R19,7
    0230D 2700      CLR	R16
    0230E 940E 06E6 CALL	_lcd_write_str_con
(1169) 			 }
(1170) 			 cur++;
    02310 5F4F      SUBI	R20,0xFF
    02311 4F5F      SBCI	R21,0xFF
(1171) 			 if(cur==8){
    02312 3048      CPI	R20,0x8
    02313 E0E0      LDI	R30,0
    02314 075E      CPC	R21,R30
    02315 F431      BNE	0x231C
(1172) 			    lcd_write_pos(dateAc[8],1);
    02316 E021      LDI	R18,1
    02317 A90E      LDD	R16,Y+54
    02318 A91F      LDD	R17,Y+55
    02319 940E 0658 CALL	_lcd_write_pos
(1173) 			 }else if(cur==14){
    0231B C00E      RJMP	0x232A
    0231C 304E      CPI	R20,0xE
    0231D E0E0      LDI	R30,0
    0231E 075E      CPC	R21,R30
    0231F F451      BNE	0x232A
(1174) 			  cur_set(0);//关下半屏幕游标
    02320 2700      CLR	R16
    02321 2711      CLR	R17
    02322 940E 080D CALL	_cur_set
(1175) 			  Set_White(4,2,5);
    02324 E085      LDI	R24,5
    02325 8388      ST	Y,R24
    02326 E022      LDI	R18,2
    02327 E004      LDI	R16,4
    02328 940E 08C1 CALL	_Set_White
    0232A CD7B      RJMP	0x20A6
    0232B 96EF      ADIW	R28,0x3F
    0232C 9623      ADIW	R28,3
    0232D 940C 37B9 JMP	pop_xgsetF00C
_page9:
    0232F 9722      SBIW	R28,2
(1176) 			 }
(1177) 			}
(1178) 	 }
(1179)    }
(1180)  }
(1181) void page9(void){//复用的方法
(1182)   if(pageParam[2]==0){
    02330 9020 0D5A LDS	R2,pageParam+4
    02332 9030 0D5B LDS	R3,pageParam+5
    02334 2022      TST	R2
    02335 F481      BNE	0x2346
    02336 2033      TST	R3
    02337 F471      BNE	0x2346
(1183)      lcd_write_str(4,1,"系统重置中。。。");
    02338 E58D      LDI	R24,0x5D
    02339 E097      LDI	R25,7
    0233A 8399      STD	Y+1,R25
    0233B 8388      ST	Y,R24
    0233C E021      LDI	R18,1
    0233D E004      LDI	R16,4
    0233E 940E 069C CALL	_lcd_write_str
(1184) 	 //是否需要清除数据，考虑中
(1185) 	 WDTCR|=(1<<WDCE)|(1<<WDE); /* 置位 WDTOE 和 WDE(在设置看门狗定时器的预置分频器参数时需要将其写1)*/
    02340 B581      IN	R24,0x21
    02341 6188      ORI	R24,0x18
    02342 BD81      OUT	0x21,R24
(1186)      WDTCR=(1<<WDE)|(1<<WDP2)|(1<<WDP1); /*设定周期为1S*/
    02343 E08E      LDI	R24,0xE
    02344 BD81      OUT	0x21,R24
(1187) 	 while(1){
    02345 CFFF      RJMP	0x2345
(1188) 	 }
(1189)    }else if(pageParam[2]==1){
    02346 9180 0D5A LDS	R24,pageParam+4
    02348 9190 0D5B LDS	R25,pageParam+5
    0234A 3081      CPI	R24,1
    0234B E0E0      LDI	R30,0
    0234C 079E      CPC	R25,R30
    0234D F471      BNE	0x235C
(1190)      lcd_write_str(4,1,"数据重置中。。。");
    0234E E48C      LDI	R24,0x4C
    0234F E097      LDI	R25,7
    02350 8399      STD	Y+1,R25
    02351 8388      ST	Y,R24
    02352 E021      LDI	R18,1
    02353 E004      LDI	R16,4
    02354 940E 069C CALL	_lcd_write_str
(1191) 	 reset_temp_data(pageParam[0]);
    02356 9100 0D56 LDS	R16,pageParam
    02358 9110 0D57 LDS	R17,pageParam+1
    0235A 940E 31BD CALL	_reset_temp_data
(1192)    }
(1193)    delay_ms(50);
    0235C E302      LDI	R16,0x32
    0235D E010      LDI	R17,0
    0235E 940E 044B CALL	_delay_ms
(1194)    pageNum=prePageNum;
    02360 9020 0D54 LDS	R2,prePageNum
    02362 9030 0D55 LDS	R3,prePageNum+1
    02364 9230 0D61 STS	pageNum+1,R3
    02366 9220 0D60 STS	pageNum,R2
    02368 9622      ADIW	R28,2
    02369 9508      RET
(1195)  }
(1196) //分发Pages
(1197) void dispatchPages(void){
(1198)       lcd_clear();//清屏幕
_dispatchPages:
    0236A 940E 0753 CALL	_lcd_clear
(1199)       if(pageNum==1){
    0236C 9180 0D60 LDS	R24,pageNum
    0236E 9190 0D61 LDS	R25,pageNum+1
    02370 3081      CPI	R24,1
    02371 E0E0      LDI	R30,0
    02372 079E      CPC	R25,R30
    02373 F419      BNE	0x2377
(1200) 	    page1();
    02374 940E 0FA8 CALL	_page1
(1201) 	  }else if(pageNum==2){
    02376 C052      RJMP	0x23C9
    02377 9180 0D60 LDS	R24,pageNum
    02379 9190 0D61 LDS	R25,pageNum+1
    0237B 3082      CPI	R24,2
    0237C E0E0      LDI	R30,0
    0237D 079E      CPC	R25,R30
    0237E F419      BNE	0x2382
(1202) 	    page2();
    0237F 940E 138B CALL	_page2
(1203) 	  }else if(pageNum==3){
    02381 C047      RJMP	0x23C9
    02382 9180 0D60 LDS	R24,pageNum
    02384 9190 0D61 LDS	R25,pageNum+1
    02386 3083      CPI	R24,3
    02387 E0E0      LDI	R30,0
    02388 079E      CPC	R25,R30
    02389 F419      BNE	0x238D
(1204) 	    page3();
    0238A 940E 14AF CALL	_page3
(1205) 	  }else if(pageNum==4){
    0238C C03C      RJMP	0x23C9
    0238D 9180 0D60 LDS	R24,pageNum
    0238F 9190 0D61 LDS	R25,pageNum+1
    02391 3084      CPI	R24,4
    02392 E0E0      LDI	R30,0
    02393 079E      CPC	R25,R30
    02394 F419      BNE	0x2398
(1206) 	    page4();
    02395 940E 1AC6 CALL	_page4
(1207) 	  }else if(pageNum==5){
    02397 C031      RJMP	0x23C9
    02398 9180 0D60 LDS	R24,pageNum
    0239A 9190 0D61 LDS	R25,pageNum+1
    0239C 3085      CPI	R24,5
    0239D E0E0      LDI	R30,0
    0239E 079E      CPC	R25,R30
    0239F F411      BNE	0x23A2
(1208) 	    page5();
    023A0 D9EE      RCALL	_page5
(1209) 	  }else if(pageNum==6){
    023A1 C027      RJMP	0x23C9
    023A2 9180 0D60 LDS	R24,pageNum
    023A4 9190 0D61 LDS	R25,pageNum+1
    023A6 3086      CPI	R24,6
    023A7 E0E0      LDI	R30,0
    023A8 079E      CPC	R25,R30
    023A9 F411      BNE	0x23AC
(1210) 	    page6();
    023AA DB09      RCALL	_page6
(1211) 	  }else if(pageNum==7){
    023AB C01D      RJMP	0x23C9
    023AC 9180 0D60 LDS	R24,pageNum
    023AE 9190 0D61 LDS	R25,pageNum+1
    023B0 3087      CPI	R24,7
    023B1 E0E0      LDI	R30,0
    023B2 079E      CPC	R25,R30
    023B3 F411      BNE	0x23B6
(1212) 	    page7();
    023B4 DB40      RCALL	_page7
(1213) 	  }else if(pageNum==8){
    023B5 C013      RJMP	0x23C9
    023B6 9180 0D60 LDS	R24,pageNum
    023B8 9190 0D61 LDS	R25,pageNum+1
    023BA 3088      CPI	R24,0x8
    023BB E0E0      LDI	R30,0
    023BC 079E      CPC	R25,R30
    023BD F411      BNE	0x23C0
(1214) 	    page8();
    023BE DBD6      RCALL	_page8
(1215) 	  }else if(pageNum==9){
    023BF C009      RJMP	0x23C9
    023C0 9180 0D60 LDS	R24,pageNum
    023C2 9190 0D61 LDS	R25,pageNum+1
    023C4 3089      CPI	R24,0x9
    023C5 E0E0      LDI	R30,0
    023C6 079E      CPC	R25,R30
    023C7 F409      BNE	0x23C9
(1216) 	    page9();
    023C8 DF66      RCALL	_page9
(1217) 	  }
    023C9 9508      RET
_int_int2:
  cache                --> R20
    023CA 920A      ST	-Y,R0
    023CB 921A      ST	-Y,R1
    023CC 922A      ST	-Y,R2
    023CD 923A      ST	-Y,R3
    023CE 924A      ST	-Y,R4
    023CF 925A      ST	-Y,R5
    023D0 926A      ST	-Y,R6
    023D1 927A      ST	-Y,R7
    023D2 928A      ST	-Y,R8
    023D3 929A      ST	-Y,R9
    023D4 930A      ST	-Y,R16
    023D5 931A      ST	-Y,R17
    023D6 932A      ST	-Y,R18
    023D7 933A      ST	-Y,R19
    023D8 938A      ST	-Y,R24
    023D9 939A      ST	-Y,R25
    023DA 93AA      ST	-Y,R26
    023DB 93BA      ST	-Y,R27
    023DC 93EA      ST	-Y,R30
    023DD 93FA      ST	-Y,R31
    023DE B60F      IN	R0,0x3F
    023DF 920A      ST	-Y,R0
    023E0 940E 379E CALL	push_xgset300C
    023E2 9722      SBIW	R28,2
FILE: E:\ICCDemo\Temp_Control\temp_control\temp.c
(0001) #include<iom128v.h>
(0002) #include "temp.h"
(0003) #include "main.h"
(0004) #include "eeprom.h"
(0005) #include "lcd.h"
(0006) #include "max6675.h"
(0007) uint second;
(0008) void PID_realize(uint temp_n);
(0009) void set_start_real(uint t);
(0010) 
(0011) //中断1s进入，使用int2。可以使用，但是买的这个DS1307，硬件电路问题不可以使用
(0012) //  进行状态变换和参数调整,
(0013) /*升温：没1C变化温度更改参数，状态计算
(0014) /*恒温：只计算状态
(0015) /*****************************/
(0016) #pragma interrupt_handler int_int2:4
(0017) void int_int2(void){//做温度数据时间增加操作。不能做耗时的操作.中断优先级较高
(0018)   uint cache=0;//保存多次使用的数据，局部变量更快
    023E3 2744      CLR	R20
    023E4 2755      CLR	R21
(0019)   EIMSK &= 0xFB;//关中断2
    023E5 B789      IN	R24,0x39
    023E6 7F8B      ANDI	R24,0xFB
    023E7 BF89      OUT	0x39,R24
(0020)   TIMSK&=0xBF;//关定时器2溢出中断,8位的
    023E8 B787      IN	R24,0x37
    023E9 7B8F      ANDI	R24,0xBF
    023EA BF87      OUT	0x37,R24
(0021)   //10分钟计时
(0022)   second++;
    023EB 9180 0D6B LDS	R24,second
    023ED 9190 0D6C LDS	R25,second+1
    023EF 9601      ADIW	R24,1
    023F0 9390 0D6C STS	second+1,R25
    023F2 9380 0D6B STS	second,R24
(0023)   if(second>25){
    023F4 E189      LDI	R24,0x19
    023F5 E090      LDI	R25,0
    023F6 9020 0D6B LDS	R2,second
    023F8 9030 0D6C LDS	R3,second+1
    023FA 1582      CP	R24,R2
    023FB 0593      CPC	R25,R3
    023FC F008      BCS	0x23FE
    023FD C327      RJMP	0x2725
(0024)      //保存状态。保存flag、status、nowtime就行，下面需加上判断
(0025) 	 second=0;
    023FE 2422      CLR	R2
    023FF 2433      CLR	R3
    02400 9230 0D6C STS	second+1,R3
    02402 9220 0D6B STS	second,R2
(0026) 	  EEPROM_write(1,133,temps[0].flag);
    02404 9020 0116 LDS	R2,temps
    02406 9030 0117 LDS	R3,temps+1
    02408 8239      STD	Y+1,R3
    02409 8228      ST	Y,R2
    0240A E825      LDI	R18,0x85
    0240B E030      LDI	R19,0
    0240C E001      LDI	R16,1
    0240D E010      LDI	R17,0
    0240E 940E 0F5F CALL	_EEPROM_write
(0027) 	  if(temps[0].flag==1 || temps[0].flag==3){
    02410 9020 0116 LDS	R2,temps
    02412 9030 0117 LDS	R3,temps+1
    02414 01C1      MOVW	R24,R2
    02415 3081      CPI	R24,1
    02416 E0E0      LDI	R30,0
    02417 079E      CPC	R25,R30
    02418 F029      BEQ	0x241E
    02419 3083      CPI	R24,3
    0241A E0E0      LDI	R30,0
    0241B 079E      CPC	R25,R30
    0241C F009      BEQ	0x241E
    0241D C0AF      RJMP	0x24CD
(0028) 	    EEPROM_write(1,134,temps[0].status);
    0241E 9020 0220 LDS	R2,temps+266
    02420 9030 0221 LDS	R3,temps+267
    02422 8239      STD	Y+1,R3
    02423 8228      ST	Y,R2
    02424 E826      LDI	R18,0x86
    02425 E030      LDI	R19,0
    02426 E001      LDI	R16,1
    02427 E010      LDI	R17,0
    02428 940E 0F5F CALL	_EEPROM_write
(0029) 	    EEPROM_write(1,135,temps[0].needtime>>8);
    0242A 9020 0222 LDS	R2,temps+268
    0242C 9030 0223 LDS	R3,temps+269
    0242E 2C23      MOV	R2,R3
    0242F 2433      CLR	R3
    02430 8239      STD	Y+1,R3
    02431 8228      ST	Y,R2
    02432 E827      LDI	R18,0x87
    02433 E030      LDI	R19,0
    02434 E001      LDI	R16,1
    02435 E010      LDI	R17,0
    02436 940E 0F5F CALL	_EEPROM_write
(0030) 		EEPROM_write(1,136,temps[0].needtime & 0xFF);
    02438 9180 0222 LDS	R24,temps+268
    0243A 9190 0223 LDS	R25,temps+269
    0243C 7090      ANDI	R25,0
    0243D 8399      STD	Y+1,R25
    0243E 8388      ST	Y,R24
    0243F E828      LDI	R18,0x88
    02440 E030      LDI	R19,0
    02441 E001      LDI	R16,1
    02442 E010      LDI	R17,0
    02443 940E 0F5F CALL	_EEPROM_write
(0031) 		EEPROM_write(1,137,temps[0].nowtime>>8);
    02445 9020 0224 LDS	R2,temps+270
    02447 9030 0225 LDS	R3,temps+271
    02449 2C23      MOV	R2,R3
    0244A 2433      CLR	R3
    0244B 8239      STD	Y+1,R3
    0244C 8228      ST	Y,R2
    0244D E829      LDI	R18,0x89
    0244E E030      LDI	R19,0
    0244F E001      LDI	R16,1
    02450 E010      LDI	R17,0
    02451 940E 0F5F CALL	_EEPROM_write
(0032) 		EEPROM_write(1,138,temps[0].nowtime & 0xFF);
    02453 9180 0224 LDS	R24,temps+270
    02455 9190 0225 LDS	R25,temps+271
    02457 7090      ANDI	R25,0
    02458 8399      STD	Y+1,R25
    02459 8388      ST	Y,R24
    0245A E82A      LDI	R18,0x8A
    0245B E030      LDI	R19,0
    0245C E001      LDI	R16,1
    0245D E010      LDI	R17,0
    0245E 940E 0F5F CALL	_EEPROM_write
(0033) 	    EEPROM_write(1,139,temps[0].pertime>>8);
    02460 9020 0226 LDS	R2,temps+272
    02462 9030 0227 LDS	R3,temps+273
    02464 2C23      MOV	R2,R3
    02465 2433      CLR	R3
    02466 8239      STD	Y+1,R3
    02467 8228      ST	Y,R2
    02468 E82B      LDI	R18,0x8B
    02469 E030      LDI	R19,0
    0246A E001      LDI	R16,1
    0246B E010      LDI	R17,0
    0246C 940E 0F5F CALL	_EEPROM_write
(0034) 		EEPROM_write(1,140,temps[0].pertime & 0xff);
    0246E 9180 0226 LDS	R24,temps+272
    02470 9190 0227 LDS	R25,temps+273
    02472 7090      ANDI	R25,0
    02473 8399      STD	Y+1,R25
    02474 8388      ST	Y,R24
    02475 E82C      LDI	R18,0x8C
    02476 E030      LDI	R19,0
    02477 E001      LDI	R16,1
    02478 E010      LDI	R17,0
    02479 940E 0F5F CALL	_EEPROM_write
(0035) 		
(0036) 	    EEPROM_write(1,141,temps[0].statusflag);
    0247B 9020 022A LDS	R2,temps+276
    0247D 9030 022B LDS	R3,temps+277
    0247F 8239      STD	Y+1,R3
    02480 8228      ST	Y,R2
    02481 E82D      LDI	R18,0x8D
    02482 E030      LDI	R19,0
    02483 E001      LDI	R16,1
    02484 E010      LDI	R17,0
    02485 940E 0F5F CALL	_EEPROM_write
(0037) 	    EEPROM_write(1,142,temps[0].p_settemp>>8 );
    02487 9020 022C LDS	R2,temps+278
    02489 9030 022D LDS	R3,temps+279
    0248B 2C23      MOV	R2,R3
    0248C 2433      CLR	R3
    0248D 8239      STD	Y+1,R3
    0248E 8228      ST	Y,R2
    0248F E82E      LDI	R18,0x8E
    02490 E030      LDI	R19,0
    02491 E001      LDI	R16,1
    02492 E010      LDI	R17,0
    02493 940E 0F5F CALL	_EEPROM_write
(0038) 		EEPROM_write(1,143,temps[0].p_settemp&0xff);
    02495 9180 022C LDS	R24,temps+278
    02497 9190 022D LDS	R25,temps+279
    02499 7090      ANDI	R25,0
    0249A 8399      STD	Y+1,R25
    0249B 8388      ST	Y,R24
    0249C E82F      LDI	R18,0x8F
    0249D E030      LDI	R19,0
    0249E E001      LDI	R16,1
    0249F E010      LDI	R17,0
    024A0 940E 0F5F CALL	_EEPROM_write
(0039) 		EEPROM_write(1,144,((int)temps[0].settemp)>>8);
    024A2 9120 0238 LDS	R18,temps+290
    024A4 9130 0239 LDS	R19,temps+291
    024A6 9100 0236 LDS	R16,temps+288
    024A8 9110 0237 LDS	R17,temps+289
    024AA 940E 38B9 CALL	fpint
    024AC 0118      MOVW	R2,R16
    024AD 2C23      MOV	R2,R3
    024AE 2433      CLR	R3
    024AF FC27      SBRC	R2,7
    024B0 9430      COM	R3
    024B1 8239      STD	Y+1,R3
    024B2 8228      ST	Y,R2
    024B3 E920      LDI	R18,0x90
    024B4 E030      LDI	R19,0
    024B5 E001      LDI	R16,1
    024B6 E010      LDI	R17,0
    024B7 940E 0F5F CALL	_EEPROM_write
(0040) 	    EEPROM_write(1,145,((int)temps[0].settemp)&0xff);
    024B9 9120 0238 LDS	R18,temps+290
    024BB 9130 0239 LDS	R19,temps+291
    024BD 9100 0236 LDS	R16,temps+288
    024BF 9110 0237 LDS	R17,temps+289
    024C1 940E 38B9 CALL	fpint
    024C3 01C8      MOVW	R24,R16
    024C4 7090      ANDI	R25,0
    024C5 8399      STD	Y+1,R25
    024C6 8388      ST	Y,R24
    024C7 E921      LDI	R18,0x91
    024C8 E030      LDI	R19,0
    024C9 E001      LDI	R16,1
    024CA E010      LDI	R17,0
    024CB 940E 0F5F CALL	_EEPROM_write
(0041) 	 }
(0042) 	 EEPROM_write(2,133,temps[1].flag);
    024CD 9020 025A LDS	R2,temps+324
    024CF 9030 025B LDS	R3,temps+325
    024D1 8239      STD	Y+1,R3
    024D2 8228      ST	Y,R2
    024D3 E825      LDI	R18,0x85
    024D4 E030      LDI	R19,0
    024D5 E002      LDI	R16,2
    024D6 E010      LDI	R17,0
    024D7 940E 0F5F CALL	_EEPROM_write
(0043) 	  if(temps[1].flag==1 || temps[1].flag==3){
    024D9 9180 025A LDS	R24,temps+324
    024DB 9190 025B LDS	R25,temps+325
    024DD 3081      CPI	R24,1
    024DE E0E0      LDI	R30,0
    024DF 079E      CPC	R25,R30
    024E0 F029      BEQ	0x24E6
    024E1 3083      CPI	R24,3
    024E2 E0E0      LDI	R30,0
    024E3 079E      CPC	R25,R30
    024E4 F009      BEQ	0x24E6
    024E5 C0AF      RJMP	0x2595
(0044) 	    EEPROM_write(2,134,temps[1].status);
    024E6 9020 0364 LDS	R2,temps+590
    024E8 9030 0365 LDS	R3,temps+591
    024EA 8239      STD	Y+1,R3
    024EB 8228      ST	Y,R2
    024EC E826      LDI	R18,0x86
    024ED E030      LDI	R19,0
    024EE E002      LDI	R16,2
    024EF E010      LDI	R17,0
    024F0 940E 0F5F CALL	_EEPROM_write
(0045) 	    EEPROM_write(2,135,temps[1].needtime>>8);
    024F2 9020 0366 LDS	R2,temps+592
    024F4 9030 0367 LDS	R3,temps+593
    024F6 2C23      MOV	R2,R3
    024F7 2433      CLR	R3
    024F8 8239      STD	Y+1,R3
    024F9 8228      ST	Y,R2
    024FA E827      LDI	R18,0x87
    024FB E030      LDI	R19,0
    024FC E002      LDI	R16,2
    024FD E010      LDI	R17,0
    024FE 940E 0F5F CALL	_EEPROM_write
(0046) 		EEPROM_write(2,136,temps[1].needtime & 0xFF);
    02500 9180 0366 LDS	R24,temps+592
    02502 9190 0367 LDS	R25,temps+593
    02504 7090      ANDI	R25,0
    02505 8399      STD	Y+1,R25
    02506 8388      ST	Y,R24
    02507 E828      LDI	R18,0x88
    02508 E030      LDI	R19,0
    02509 E002      LDI	R16,2
    0250A E010      LDI	R17,0
    0250B 940E 0F5F CALL	_EEPROM_write
(0047) 		EEPROM_write(2,137,temps[1].nowtime>>8);
    0250D 9020 0368 LDS	R2,temps+594
    0250F 9030 0369 LDS	R3,temps+595
    02511 2C23      MOV	R2,R3
    02512 2433      CLR	R3
    02513 8239      STD	Y+1,R3
    02514 8228      ST	Y,R2
    02515 E829      LDI	R18,0x89
    02516 E030      LDI	R19,0
    02517 E002      LDI	R16,2
    02518 E010      LDI	R17,0
    02519 940E 0F5F CALL	_EEPROM_write
(0048) 		EEPROM_write(2,138,temps[1].nowtime & 0xFF);
    0251B 9180 0368 LDS	R24,temps+594
    0251D 9190 0369 LDS	R25,temps+595
    0251F 7090      ANDI	R25,0
    02520 8399      STD	Y+1,R25
    02521 8388      ST	Y,R24
    02522 E82A      LDI	R18,0x8A
    02523 E030      LDI	R19,0
    02524 E002      LDI	R16,2
    02525 E010      LDI	R17,0
    02526 940E 0F5F CALL	_EEPROM_write
(0049) 	    EEPROM_write(2,139,temps[1].pertime>>8);
    02528 9020 036A LDS	R2,temps+596
    0252A 9030 036B LDS	R3,temps+597
    0252C 2C23      MOV	R2,R3
    0252D 2433      CLR	R3
    0252E 8239      STD	Y+1,R3
    0252F 8228      ST	Y,R2
    02530 E82B      LDI	R18,0x8B
    02531 E030      LDI	R19,0
    02532 E002      LDI	R16,2
    02533 E010      LDI	R17,0
    02534 940E 0F5F CALL	_EEPROM_write
(0050) 		EEPROM_write(2,140,temps[1].pertime & 0xff);
    02536 9180 036A LDS	R24,temps+596
    02538 9190 036B LDS	R25,temps+597
    0253A 7090      ANDI	R25,0
    0253B 8399      STD	Y+1,R25
    0253C 8388      ST	Y,R24
    0253D E82C      LDI	R18,0x8C
    0253E E030      LDI	R19,0
    0253F E002      LDI	R16,2
    02540 E010      LDI	R17,0
    02541 940E 0F5F CALL	_EEPROM_write
(0051) 		
(0052) 	    EEPROM_write(2,141,temps[1].statusflag);
    02543 9020 036E LDS	R2,temps+600
    02545 9030 036F LDS	R3,temps+601
    02547 8239      STD	Y+1,R3
    02548 8228      ST	Y,R2
    02549 E82D      LDI	R18,0x8D
    0254A E030      LDI	R19,0
    0254B E002      LDI	R16,2
    0254C E010      LDI	R17,0
    0254D 940E 0F5F CALL	_EEPROM_write
(0053) 	   EEPROM_write(2,142,temps[1].p_settemp>>8 );
    0254F 9020 0370 LDS	R2,temps+602
    02551 9030 0371 LDS	R3,temps+603
    02553 2C23      MOV	R2,R3
    02554 2433      CLR	R3
    02555 8239      STD	Y+1,R3
    02556 8228      ST	Y,R2
    02557 E82E      LDI	R18,0x8E
    02558 E030      LDI	R19,0
    02559 E002      LDI	R16,2
    0255A E010      LDI	R17,0
    0255B 940E 0F5F CALL	_EEPROM_write
(0054) 		EEPROM_write(2,143,temps[1].p_settemp&0xff);
    0255D 9180 0370 LDS	R24,temps+602
    0255F 9190 0371 LDS	R25,temps+603
    02561 7090      ANDI	R25,0
    02562 8399      STD	Y+1,R25
    02563 8388      ST	Y,R24
    02564 E82F      LDI	R18,0x8F
    02565 E030      LDI	R19,0
    02566 E002      LDI	R16,2
    02567 E010      LDI	R17,0
    02568 940E 0F5F CALL	_EEPROM_write
(0055) 		EEPROM_write(2,144,((int)temps[1].settemp)>>8);
    0256A 9120 037C LDS	R18,temps+614
    0256C 9130 037D LDS	R19,temps+615
    0256E 9100 037A LDS	R16,temps+612
    02570 9110 037B LDS	R17,temps+613
    02572 940E 38B9 CALL	fpint
    02574 0118      MOVW	R2,R16
    02575 2C23      MOV	R2,R3
    02576 2433      CLR	R3
    02577 FC27      SBRC	R2,7
    02578 9430      COM	R3
    02579 8239      STD	Y+1,R3
    0257A 8228      ST	Y,R2
    0257B E920      LDI	R18,0x90
    0257C E030      LDI	R19,0
    0257D E002      LDI	R16,2
    0257E E010      LDI	R17,0
    0257F 940E 0F5F CALL	_EEPROM_write
(0056) 	    EEPROM_write(2,145,((int)temps[1].settemp)&0xff);
    02581 9120 037C LDS	R18,temps+614
    02583 9130 037D LDS	R19,temps+615
    02585 9100 037A LDS	R16,temps+612
    02587 9110 037B LDS	R17,temps+613
    02589 940E 38B9 CALL	fpint
    0258B 01C8      MOVW	R24,R16
    0258C 7090      ANDI	R25,0
    0258D 8399      STD	Y+1,R25
    0258E 8388      ST	Y,R24
    0258F E921      LDI	R18,0x91
    02590 E030      LDI	R19,0
    02591 E002      LDI	R16,2
    02592 E010      LDI	R17,0
    02593 940E 0F5F CALL	_EEPROM_write
(0057) 	 }
(0058) 	 EEPROM_write(3,133,temps[2].flag);
    02595 9020 039E LDS	R2,temps+648
    02597 9030 039F LDS	R3,temps+649
    02599 8239      STD	Y+1,R3
    0259A 8228      ST	Y,R2
    0259B E825      LDI	R18,0x85
    0259C E030      LDI	R19,0
    0259D E003      LDI	R16,3
    0259E E010      LDI	R17,0
    0259F 940E 0F5F CALL	_EEPROM_write
(0059) 	  if(temps[2].flag==1 || temps[2].flag==3){
    025A1 9180 039E LDS	R24,temps+648
    025A3 9190 039F LDS	R25,temps+649
    025A5 3081      CPI	R24,1
    025A6 E0E0      LDI	R30,0
    025A7 079E      CPC	R25,R30
    025A8 F029      BEQ	0x25AE
    025A9 3083      CPI	R24,3
    025AA E0E0      LDI	R30,0
    025AB 079E      CPC	R25,R30
    025AC F009      BEQ	0x25AE
    025AD C0AF      RJMP	0x265D
(0060) 	    EEPROM_write(3,134,temps[2].status);
    025AE 9020 04A8 LDS	R2,temps+914
    025B0 9030 04A9 LDS	R3,temps+915
    025B2 8239      STD	Y+1,R3
    025B3 8228      ST	Y,R2
    025B4 E826      LDI	R18,0x86
    025B5 E030      LDI	R19,0
    025B6 E003      LDI	R16,3
    025B7 E010      LDI	R17,0
    025B8 940E 0F5F CALL	_EEPROM_write
(0061) 	    EEPROM_write(3,135,temps[2].needtime>>8);
    025BA 9020 04AA LDS	R2,temps+916
    025BC 9030 04AB LDS	R3,temps+917
    025BE 2C23      MOV	R2,R3
    025BF 2433      CLR	R3
    025C0 8239      STD	Y+1,R3
    025C1 8228      ST	Y,R2
    025C2 E827      LDI	R18,0x87
    025C3 E030      LDI	R19,0
    025C4 E003      LDI	R16,3
    025C5 E010      LDI	R17,0
    025C6 940E 0F5F CALL	_EEPROM_write
(0062) 		EEPROM_write(3,136,temps[2].needtime & 0xFF);
    025C8 9180 04AA LDS	R24,temps+916
    025CA 9190 04AB LDS	R25,temps+917
    025CC 7090      ANDI	R25,0
    025CD 8399      STD	Y+1,R25
    025CE 8388      ST	Y,R24
    025CF E828      LDI	R18,0x88
    025D0 E030      LDI	R19,0
    025D1 E003      LDI	R16,3
    025D2 E010      LDI	R17,0
    025D3 940E 0F5F CALL	_EEPROM_write
(0063) 		EEPROM_write(3,137,temps[2].nowtime>>8);
    025D5 9020 04AC LDS	R2,temps+918
    025D7 9030 04AD LDS	R3,temps+919
    025D9 2C23      MOV	R2,R3
    025DA 2433      CLR	R3
    025DB 8239      STD	Y+1,R3
    025DC 8228      ST	Y,R2
    025DD E829      LDI	R18,0x89
    025DE E030      LDI	R19,0
    025DF E003      LDI	R16,3
    025E0 E010      LDI	R17,0
    025E1 940E 0F5F CALL	_EEPROM_write
(0064) 		EEPROM_write(3,138,temps[2].nowtime & 0xFF);
    025E3 9180 04AC LDS	R24,temps+918
    025E5 9190 04AD LDS	R25,temps+919
    025E7 7090      ANDI	R25,0
    025E8 8399      STD	Y+1,R25
    025E9 8388      ST	Y,R24
    025EA E82A      LDI	R18,0x8A
    025EB E030      LDI	R19,0
    025EC E003      LDI	R16,3
    025ED E010      LDI	R17,0
    025EE 940E 0F5F CALL	_EEPROM_write
(0065) 	    EEPROM_write(3,139,temps[2].pertime>>8);
    025F0 9020 04AE LDS	R2,temps+920
    025F2 9030 04AF LDS	R3,temps+921
    025F4 2C23      MOV	R2,R3
    025F5 2433      CLR	R3
    025F6 8239      STD	Y+1,R3
    025F7 8228      ST	Y,R2
    025F8 E82B      LDI	R18,0x8B
    025F9 E030      LDI	R19,0
    025FA E003      LDI	R16,3
    025FB E010      LDI	R17,0
    025FC 940E 0F5F CALL	_EEPROM_write
(0066) 		EEPROM_write(3,140,temps[2].pertime & 0xff);
    025FE 9180 04AE LDS	R24,temps+920
    02600 9190 04AF LDS	R25,temps+921
    02602 7090      ANDI	R25,0
    02603 8399      STD	Y+1,R25
    02604 8388      ST	Y,R24
    02605 E82C      LDI	R18,0x8C
    02606 E030      LDI	R19,0
    02607 E003      LDI	R16,3
    02608 E010      LDI	R17,0
    02609 940E 0F5F CALL	_EEPROM_write
(0067) 	    EEPROM_write(3,141,temps[2].statusflag);
    0260B 9020 04B2 LDS	R2,temps+924
    0260D 9030 04B3 LDS	R3,temps+925
    0260F 8239      STD	Y+1,R3
    02610 8228      ST	Y,R2
    02611 E82D      LDI	R18,0x8D
    02612 E030      LDI	R19,0
    02613 E003      LDI	R16,3
    02614 E010      LDI	R17,0
    02615 940E 0F5F CALL	_EEPROM_write
(0068) 	    EEPROM_write(3,142,temps[2].p_settemp>>8 );
    02617 9020 04B4 LDS	R2,temps+926
    02619 9030 04B5 LDS	R3,temps+927
    0261B 2C23      MOV	R2,R3
    0261C 2433      CLR	R3
    0261D 8239      STD	Y+1,R3
    0261E 8228      ST	Y,R2
    0261F E82E      LDI	R18,0x8E
    02620 E030      LDI	R19,0
    02621 E003      LDI	R16,3
    02622 E010      LDI	R17,0
    02623 940E 0F5F CALL	_EEPROM_write
(0069) 		EEPROM_write(3,143,temps[2].p_settemp&0xff);
    02625 9180 04B4 LDS	R24,temps+926
    02627 9190 04B5 LDS	R25,temps+927
    02629 7090      ANDI	R25,0
    0262A 8399      STD	Y+1,R25
    0262B 8388      ST	Y,R24
    0262C E82F      LDI	R18,0x8F
    0262D E030      LDI	R19,0
    0262E E003      LDI	R16,3
    0262F E010      LDI	R17,0
    02630 940E 0F5F CALL	_EEPROM_write
(0070) 		EEPROM_write(3,144,((int)temps[2].settemp)>>8);
    02632 9120 04C0 LDS	R18,temps+938
    02634 9130 04C1 LDS	R19,temps+939
    02636 9100 04BE LDS	R16,temps+936
    02638 9110 04BF LDS	R17,temps+937
    0263A 940E 38B9 CALL	fpint
    0263C 0118      MOVW	R2,R16
    0263D 2C23      MOV	R2,R3
    0263E 2433      CLR	R3
    0263F FC27      SBRC	R2,7
    02640 9430      COM	R3
    02641 8239      STD	Y+1,R3
    02642 8228      ST	Y,R2
    02643 E920      LDI	R18,0x90
    02644 E030      LDI	R19,0
    02645 E003      LDI	R16,3
    02646 E010      LDI	R17,0
    02647 940E 0F5F CALL	_EEPROM_write
(0071) 	    EEPROM_write(3,145,((int)temps[2].settemp)&0xff);
    02649 9120 04C0 LDS	R18,temps+938
    0264B 9130 04C1 LDS	R19,temps+939
    0264D 9100 04BE LDS	R16,temps+936
    0264F 9110 04BF LDS	R17,temps+937
    02651 940E 38B9 CALL	fpint
    02653 01C8      MOVW	R24,R16
    02654 7090      ANDI	R25,0
    02655 8399      STD	Y+1,R25
    02656 8388      ST	Y,R24
    02657 E921      LDI	R18,0x91
    02658 E030      LDI	R19,0
    02659 E003      LDI	R16,3
    0265A E010      LDI	R17,0
    0265B 940E 0F5F CALL	_EEPROM_write
(0072) 	 }
(0073) 	 EEPROM_write(4,133,temps[3].flag);
    0265D 9020 04E2 LDS	R2,temps+972
    0265F 9030 04E3 LDS	R3,temps+973
    02661 8239      STD	Y+1,R3
    02662 8228      ST	Y,R2
    02663 E825      LDI	R18,0x85
    02664 E030      LDI	R19,0
    02665 E004      LDI	R16,4
    02666 E010      LDI	R17,0
    02667 940E 0F5F CALL	_EEPROM_write
(0074) 	  if(temps[3].flag==1 || temps[3].flag==3){
    02669 9180 04E2 LDS	R24,temps+972
    0266B 9190 04E3 LDS	R25,temps+973
    0266D 3081      CPI	R24,1
    0266E E0E0      LDI	R30,0
    0266F 079E      CPC	R25,R30
    02670 F029      BEQ	0x2676
    02671 3083      CPI	R24,3
    02672 E0E0      LDI	R30,0
    02673 079E      CPC	R25,R30
    02674 F009      BEQ	0x2676
    02675 C0AF      RJMP	0x2725
(0075) 	    EEPROM_write(4,134,temps[3].status);
    02676 9020 05EC LDS	R2,temps+1238
    02678 9030 05ED LDS	R3,temps+1239
    0267A 8239      STD	Y+1,R3
    0267B 8228      ST	Y,R2
    0267C E826      LDI	R18,0x86
    0267D E030      LDI	R19,0
    0267E E004      LDI	R16,4
    0267F E010      LDI	R17,0
    02680 940E 0F5F CALL	_EEPROM_write
(0076) 	    EEPROM_write(4,135,temps[3].needtime>>8);
    02682 9020 05EE LDS	R2,temps+1240
    02684 9030 05EF LDS	R3,temps+1241
    02686 2C23      MOV	R2,R3
    02687 2433      CLR	R3
    02688 8239      STD	Y+1,R3
    02689 8228      ST	Y,R2
    0268A E827      LDI	R18,0x87
    0268B E030      LDI	R19,0
    0268C E004      LDI	R16,4
    0268D E010      LDI	R17,0
    0268E 940E 0F5F CALL	_EEPROM_write
(0077) 		EEPROM_write(4,136,temps[3].needtime & 0xFF);
    02690 9180 05EE LDS	R24,temps+1240
    02692 9190 05EF LDS	R25,temps+1241
    02694 7090      ANDI	R25,0
    02695 8399      STD	Y+1,R25
    02696 8388      ST	Y,R24
    02697 E828      LDI	R18,0x88
    02698 E030      LDI	R19,0
    02699 E004      LDI	R16,4
    0269A E010      LDI	R17,0
    0269B 940E 0F5F CALL	_EEPROM_write
(0078) 		EEPROM_write(4,137,temps[3].nowtime>>8);
    0269D 9020 05F0 LDS	R2,temps+1242
    0269F 9030 05F1 LDS	R3,temps+1243
    026A1 2C23      MOV	R2,R3
    026A2 2433      CLR	R3
    026A3 8239      STD	Y+1,R3
    026A4 8228      ST	Y,R2
    026A5 E829      LDI	R18,0x89
    026A6 E030      LDI	R19,0
    026A7 E004      LDI	R16,4
    026A8 E010      LDI	R17,0
    026A9 940E 0F5F CALL	_EEPROM_write
(0079) 		EEPROM_write(4,138,temps[3].nowtime & 0xFF);
    026AB 9180 05F0 LDS	R24,temps+1242
    026AD 9190 05F1 LDS	R25,temps+1243
    026AF 7090      ANDI	R25,0
    026B0 8399      STD	Y+1,R25
    026B1 8388      ST	Y,R24
    026B2 E82A      LDI	R18,0x8A
    026B3 E030      LDI	R19,0
    026B4 E004      LDI	R16,4
    026B5 E010      LDI	R17,0
    026B6 940E 0F5F CALL	_EEPROM_write
(0080) 	    EEPROM_write(4,139,temps[3].pertime>>8);
    026B8 9020 05F2 LDS	R2,temps+1244
    026BA 9030 05F3 LDS	R3,temps+1245
    026BC 2C23      MOV	R2,R3
    026BD 2433      CLR	R3
    026BE 8239      STD	Y+1,R3
    026BF 8228      ST	Y,R2
    026C0 E82B      LDI	R18,0x8B
    026C1 E030      LDI	R19,0
    026C2 E004      LDI	R16,4
    026C3 E010      LDI	R17,0
    026C4 940E 0F5F CALL	_EEPROM_write
(0081) 		EEPROM_write(4,140,temps[3].pertime & 0xff);
    026C6 9180 05F2 LDS	R24,temps+1244
    026C8 9190 05F3 LDS	R25,temps+1245
    026CA 7090      ANDI	R25,0
    026CB 8399      STD	Y+1,R25
    026CC 8388      ST	Y,R24
    026CD E82C      LDI	R18,0x8C
    026CE E030      LDI	R19,0
    026CF E004      LDI	R16,4
    026D0 E010      LDI	R17,0
    026D1 940E 0F5F CALL	_EEPROM_write
(0082) 	    EEPROM_write(4,141,temps[3].statusflag);
    026D3 9020 05F6 LDS	R2,temps+1248
    026D5 9030 05F7 LDS	R3,temps+1249
    026D7 8239      STD	Y+1,R3
    026D8 8228      ST	Y,R2
    026D9 E82D      LDI	R18,0x8D
    026DA E030      LDI	R19,0
    026DB E004      LDI	R16,4
    026DC E010      LDI	R17,0
    026DD 940E 0F5F CALL	_EEPROM_write
(0083) 	    EEPROM_write(4,142,temps[3].p_settemp>>8 );
    026DF 9020 05F8 LDS	R2,temps+1250
    026E1 9030 05F9 LDS	R3,temps+1251
    026E3 2C23      MOV	R2,R3
    026E4 2433      CLR	R3
    026E5 8239      STD	Y+1,R3
    026E6 8228      ST	Y,R2
    026E7 E82E      LDI	R18,0x8E
    026E8 E030      LDI	R19,0
    026E9 E004      LDI	R16,4
    026EA E010      LDI	R17,0
    026EB 940E 0F5F CALL	_EEPROM_write
(0084) 		EEPROM_write(4,143,temps[3].p_settemp&0xff);
    026ED 9180 05F8 LDS	R24,temps+1250
    026EF 9190 05F9 LDS	R25,temps+1251
    026F1 7090      ANDI	R25,0
    026F2 8399      STD	Y+1,R25
    026F3 8388      ST	Y,R24
    026F4 E82F      LDI	R18,0x8F
    026F5 E030      LDI	R19,0
    026F6 E004      LDI	R16,4
    026F7 E010      LDI	R17,0
    026F8 940E 0F5F CALL	_EEPROM_write
(0085) 		EEPROM_write(4,144,((int)temps[3].settemp)>>8);
    026FA 9120 0604 LDS	R18,temps+1262
    026FC 9130 0605 LDS	R19,temps+1263
    026FE 9100 0602 LDS	R16,temps+1260
    02700 9110 0603 LDS	R17,temps+1261
    02702 940E 38B9 CALL	fpint
    02704 0118      MOVW	R2,R16
    02705 2C23      MOV	R2,R3
    02706 2433      CLR	R3
    02707 FC27      SBRC	R2,7
    02708 9430      COM	R3
    02709 8239      STD	Y+1,R3
    0270A 8228      ST	Y,R2
    0270B E920      LDI	R18,0x90
    0270C E030      LDI	R19,0
    0270D E004      LDI	R16,4
    0270E E010      LDI	R17,0
    0270F 940E 0F5F CALL	_EEPROM_write
(0086) 	    EEPROM_write(4,145,((int)temps[3].settemp)&0xff);
    02711 9120 0604 LDS	R18,temps+1262
    02713 9130 0605 LDS	R19,temps+1263
    02715 9100 0602 LDS	R16,temps+1260
    02717 9110 0603 LDS	R17,temps+1261
    02719 940E 38B9 CALL	fpint
    0271B 01C8      MOVW	R24,R16
    0271C 7090      ANDI	R25,0
    0271D 8399      STD	Y+1,R25
    0271E 8388      ST	Y,R24
    0271F E921      LDI	R18,0x91
    02720 E030      LDI	R19,0
    02721 E004      LDI	R16,4
    02722 E010      LDI	R17,0
    02723 940E 0F5F CALL	_EEPROM_write
(0087) 	 }
(0088) 	 
(0089)   }
(0090)   //第一个
(0091)   if(temps[0].flag==1){//运行中
    02725 9180 0116 LDS	R24,temps
    02727 9190 0117 LDS	R25,temps+1
    02729 3081      CPI	R24,1
    0272A E0E0      LDI	R30,0
    0272B 079E      CPC	R25,R30
    0272C F009      BEQ	0x272E
    0272D C173      RJMP	0x28A1
(0092)      cache=temps[0].status;//暂存当前状态
    0272E 9140 0220 LDS	R20,temps+266
    02730 9150 0221 LDS	R21,temps+267
(0093)      if(temps[0].statusflag==0){//不是第一次进入当前状态
    02732 9020 022A LDS	R2,temps+276
    02734 9030 022B LDS	R3,temps+277
    02736 2022      TST	R2
    02737 F009      BEQ	0x2739
    02738 C044      RJMP	0x277D
    02739 2033      TST	R3
    0273A F009      BEQ	0x273C
    0273B C041      RJMP	0x277D
(0094) 	     temps[0].nowtime++;//当前阶段运行时间
    0273C 9180 0224 LDS	R24,temps+270
    0273E 9190 0225 LDS	R25,temps+271
    02740 9601      ADIW	R24,1
    02741 9390 0225 STS	temps+271,R25
    02743 9380 0224 STS	temps+270,R24
(0095) 		if(temps[0].nowtime>=temps[0].needtime){//当前阶段运行结束进入下一阶段
    02745 9020 0222 LDS	R2,temps+268
    02747 9030 0223 LDS	R3,temps+269
    02749 1582      CP	R24,R2
    0274A 0593      CPC	R25,R3
    0274B F068      BCS	0x2759
(0096) 		    temps[0].status++;
    0274C 01CA      MOVW	R24,R20
    0274D 9601      ADIW	R24,1
    0274E 9390 0221 STS	temps+267,R25
    02750 9380 0220 STS	temps+266,R24
(0097) 		    temps[0].statusflag=1;
    02752 E081      LDI	R24,1
    02753 E090      LDI	R25,0
    02754 9390 022B STS	temps+277,R25
    02756 9380 022A STS	temps+276,R24
(0098) 			//PORTE=0xFF;
(0099) 		}else{//还在当前阶段
    02758 C148      RJMP	0x28A1
(0100) 		     if(cache & 0x01){//恒温阶段,
    02759 FF40      SBRS	R20,0
    0275A C001      RJMP	0x275C
(0101) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0102) 		      }else{ //升温阶段
    0275B C145      RJMP	0x28A1
(0103) 		            temps[0].pertimecnt++;
    0275C 9180 0228 LDS	R24,temps+274
    0275E 9190 0229 LDS	R25,temps+275
    02760 9601      ADIW	R24,1
    02761 9390 0229 STS	temps+275,R25
    02763 9380 0228 STS	temps+274,R24
(0104) 		            if(temps[0].pertimecnt>temps[0].pertime){
    02765 9020 0226 LDS	R2,temps+272
    02767 9030 0227 LDS	R3,temps+273
    02769 1628      CP	R2,R24
    0276A 0639      CPC	R3,R25
    0276B F008      BCS	0x276D
    0276C C134      RJMP	0x28A1
(0105) 		                    temps[0].p_settemp++;//1C需要时间到达，增加温度。
    0276D 9180 022C LDS	R24,temps+278
    0276F 9190 022D LDS	R25,temps+279
    02771 9601      ADIW	R24,1
    02772 9390 022D STS	temps+279,R25
    02774 9380 022C STS	temps+278,R24
(0106) 			                temps[0].pertimecnt=0;
    02776 2422      CLR	R2
    02777 2433      CLR	R3
    02778 9230 0229 STS	temps+275,R3
    0277A 9220 0228 STS	temps+274,R2
(0107) 		              } 
(0108) 			  }
(0109) 		 }
(0110) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    0277C C124      RJMP	0x28A1
(0111) 	        temps[0].statusflag=0;
    0277D 2422      CLR	R2
    0277E 2433      CLR	R3
    0277F 9230 022B STS	temps+277,R3
    02781 9220 022A STS	temps+276,R2
(0112) 		    temps[0].nowtime=0;
    02783 9230 0225 STS	temps+271,R3
    02785 9220 0224 STS	temps+270,R2
(0113) 	       if(cache & 0x01){//升温阶段
    02787 FF40      SBRS	R20,0
    02788 C0BD      RJMP	0x2846
(0114) 		      cache=((cache-1)>>1)*11;
    02789 019A      MOVW	R18,R20
    0278A 5021      SUBI	R18,1
    0278B 4030      SBCI	R19,0
    0278C 9536      LSR	R19
    0278D 9527      ROR	R18
    0278E E00B      LDI	R16,0xB
    0278F E010      LDI	R17,0
    02790 940E 376C CALL	empy16s
    02792 01A8      MOVW	R20,R16
(0115) 		      temps[0].needtime=(temps[0].temp_data[cache]*10+temps[0].temp_data[cache+1])*3600+(temps[0].temp_data[cache+2]*10+temps[0].temp_data[cache+3])*60;
    02793 E188      LDI	R24,0x18
    02794 E091      LDI	R25,1
    02795 01FA      MOVW	R30,R20
    02796 9632      ADIW	R30,2
    02797 0FEE      LSL	R30
    02798 1FFF      ROL	R31
    02799 0FE8      ADD	R30,R24
    0279A 1FF9      ADC	R31,R25
    0279B 8120      LD	R18,Z
    0279C 8131      LDD	R19,Z+1
    0279D E00A      LDI	R16,0xA
    0279E E010      LDI	R17,0
    0279F 940E 376C CALL	empy16s
    027A1 0198      MOVW	R18,R16
    027A2 E188      LDI	R24,0x18
    027A3 E091      LDI	R25,1
    027A4 01FA      MOVW	R30,R20
    027A5 9633      ADIW	R30,3
    027A6 0FEE      LSL	R30
    027A7 1FFF      ROL	R31
    027A8 0FE8      ADD	R30,R24
    027A9 1FF9      ADC	R31,R25
    027AA 8020      LD	R2,Z
    027AB 8031      LDD	R3,Z+1
    027AC 0D22      ADD	R18,R2
    027AD 1D33      ADC	R19,R3
    027AE E30C      LDI	R16,0x3C
    027AF E010      LDI	R17,0
    027B0 940E 376C CALL	empy16s
    027B2 0118      MOVW	R2,R16
    027B3 E188      LDI	R24,0x18
    027B4 E091      LDI	R25,1
    027B5 01FA      MOVW	R30,R20
    027B6 0FEE      LSL	R30
    027B7 1FFF      ROL	R31
    027B8 0FE8      ADD	R30,R24
    027B9 1FF9      ADC	R31,R25
    027BA 8120      LD	R18,Z
    027BB 8131      LDD	R19,Z+1
    027BC E00A      LDI	R16,0xA
    027BD E010      LDI	R17,0
    027BE 940E 376C CALL	empy16s
    027C0 0198      MOVW	R18,R16
    027C1 E188      LDI	R24,0x18
    027C2 E091      LDI	R25,1
    027C3 01FA      MOVW	R30,R20
    027C4 9631      ADIW	R30,1
    027C5 0FEE      LSL	R30
    027C6 1FFF      ROL	R31
    027C7 0FE8      ADD	R30,R24
    027C8 1FF9      ADC	R31,R25
    027C9 8040      LD	R4,Z
    027CA 8051      LDD	R5,Z+1
    027CB 0D24      ADD	R18,R4
    027CC 1D35      ADC	R19,R5
    027CD E100      LDI	R16,0x10
    027CE E01E      LDI	R17,0xE
    027CF 940E 376C CALL	empy16s
    027D1 0128      MOVW	R4,R16
    027D2 0C42      ADD	R4,R2
    027D3 1C53      ADC	R5,R3
    027D4 9250 0223 STS	temps+269,R5
    027D6 9240 0222 STS	temps+268,R4
(0116) 			  //temps[0].needtime=3;
(0117) 			  if(temps[0].needtime==0){
    027D8 2044      TST	R4
    027D9 F449      BNE	0x27E3
    027DA 2055      TST	R5
    027DB F439      BNE	0x27E3
(0118) 			     //当前阶段时间为0，表示已经结束更改标记
(0119) 				  temps[0].flag=4;
    027DC E084      LDI	R24,4
    027DD E090      LDI	R25,0
    027DE 9390 0117 STS	temps+1,R25
    027E0 9380 0116 STS	temps,R24
(0120) 			  }else{
    027E2 C0BE      RJMP	0x28A1
(0121) 			     temps[0].p_settemp=temps[0].temp_data[cache+8]*100+temps[0].temp_data[cache+9]*10+temps[0].temp_data[cache+10];
    027E3 E188      LDI	R24,0x18
    027E4 E091      LDI	R25,1
    027E5 01FA      MOVW	R30,R20
    027E6 9639      ADIW	R30,0x9
    027E7 0FEE      LSL	R30
    027E8 1FFF      ROL	R31
    027E9 0FE8      ADD	R30,R24
    027EA 1FF9      ADC	R31,R25
    027EB 8120      LD	R18,Z
    027EC 8131      LDD	R19,Z+1
    027ED E00A      LDI	R16,0xA
    027EE E010      LDI	R17,0
    027EF 940E 376C CALL	empy16s
    027F1 0118      MOVW	R2,R16
    027F2 E188      LDI	R24,0x18
    027F3 E091      LDI	R25,1
    027F4 01FA      MOVW	R30,R20
    027F5 9638      ADIW	R30,0x8
    027F6 0FEE      LSL	R30
    027F7 1FFF      ROL	R31
    027F8 0FE8      ADD	R30,R24
    027F9 1FF9      ADC	R31,R25
    027FA 8120      LD	R18,Z
    027FB 8131      LDD	R19,Z+1
    027FC E604      LDI	R16,0x64
    027FD E010      LDI	R17,0
    027FE 940E 376C CALL	empy16s
    02800 0128      MOVW	R4,R16
    02801 0C42      ADD	R4,R2
    02802 1C53      ADC	R5,R3
    02803 E188      LDI	R24,0x18
    02804 E091      LDI	R25,1
    02805 01FA      MOVW	R30,R20
    02806 963A      ADIW	R30,0xA
    02807 0FEE      LSL	R30
    02808 1FFF      ROL	R31
    02809 0FE8      ADD	R30,R24
    0280A 1FF9      ADC	R31,R25
    0280B 8020      LD	R2,Z
    0280C 8031      LDD	R3,Z+1
    0280D 0C42      ADD	R4,R2
    0280E 1C53      ADC	R5,R3
    0280F 9250 022D STS	temps+279,R5
    02811 9240 022C STS	temps+278,R4
(0122) 			     temps[0].pertime=temps[0].needtime/(temps[0].p_settemp-temps[0].actualtemp);
    02813 9100 0222 LDS	R16,temps+268
    02815 9110 0223 LDS	R17,temps+269
    02817 940E 38EB CALL	uint2fp
    02819 0118      MOVW	R2,R16
    0281A 0129      MOVW	R4,R18
    0281B 9100 022C LDS	R16,temps+278
    0281D 9110 022D LDS	R17,temps+279
    0281F 940E 38EB CALL	uint2fp
    02821 E38A      LDI	R24,0x3A
    02822 E092      LDI	R25,2
    02823 939A      ST	-Y,R25
    02824 938A      ST	-Y,R24
    02825 940E 389E CALL	fpsub1x
    02827 0181      MOVW	R16,R2
    02828 0192      MOVW	R18,R4
    02829 940E 3918 CALL	fpdiv2
    0282B 940E 38B9 CALL	fpint
    0282D 9310 0227 STS	temps+273,R17
    0282F 9300 0226 STS	temps+272,R16
(0123) 			     temps[0].pertimecnt=0;
    02831 2422      CLR	R2
    02832 2433      CLR	R3
    02833 9230 0229 STS	temps+275,R3
    02835 9220 0228 STS	temps+274,R2
(0124) 				 temps[0].settemp=temps[0].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02837 9100 022C LDS	R16,temps+278
    02839 9110 022D LDS	R17,temps+279
    0283B 940E 38EB CALL	uint2fp
    0283D 9310 0237 STS	temps+289,R17
    0283F 9300 0236 STS	temps+288,R16
    02841 9330 0239 STS	temps+291,R19
    02843 9320 0238 STS	temps+290,R18
(0125) 			  }
(0126) 		     
(0127) 		    }else{//恒温阶段
    02845 C05B      RJMP	0x28A1
(0128) 			   cache=((cache-1)>>1)*11+4;
    02846 019A      MOVW	R18,R20
    02847 5021      SUBI	R18,1
    02848 4030      SBCI	R19,0
    02849 9536      LSR	R19
    0284A 9527      ROR	R18
    0284B E00B      LDI	R16,0xB
    0284C E010      LDI	R17,0
    0284D 940E 376C CALL	empy16s
    0284F 01A8      MOVW	R20,R16
    02850 5F4C      SUBI	R20,0xFC
    02851 4F5F      SBCI	R21,0xFF
(0129) 		      temps[0].needtime=(temps[0].temp_data[cache]*10+temps[0].temp_data[cache+1])*3600+(temps[0].temp_data[cache+2]*10+temps[0].temp_data[cache+3])*60;
    02852 E188      LDI	R24,0x18
    02853 E091      LDI	R25,1
    02854 01FA      MOVW	R30,R20
    02855 9632      ADIW	R30,2
    02856 0FEE      LSL	R30
    02857 1FFF      ROL	R31
    02858 0FE8      ADD	R30,R24
    02859 1FF9      ADC	R31,R25
    0285A 8120      LD	R18,Z
    0285B 8131      LDD	R19,Z+1
    0285C E00A      LDI	R16,0xA
    0285D E010      LDI	R17,0
    0285E 940E 376C CALL	empy16s
    02860 0198      MOVW	R18,R16
    02861 E188      LDI	R24,0x18
    02862 E091      LDI	R25,1
    02863 01FA      MOVW	R30,R20
    02864 9633      ADIW	R30,3
    02865 0FEE      LSL	R30
    02866 1FFF      ROL	R31
    02867 0FE8      ADD	R30,R24
    02868 1FF9      ADC	R31,R25
    02869 8020      LD	R2,Z
    0286A 8031      LDD	R3,Z+1
    0286B 0D22      ADD	R18,R2
    0286C 1D33      ADC	R19,R3
    0286D E30C      LDI	R16,0x3C
    0286E E010      LDI	R17,0
    0286F 940E 376C CALL	empy16s
    02871 0118      MOVW	R2,R16
    02872 E188      LDI	R24,0x18
    02873 E091      LDI	R25,1
    02874 01FA      MOVW	R30,R20
    02875 0FEE      LSL	R30
    02876 1FFF      ROL	R31
    02877 0FE8      ADD	R30,R24
    02878 1FF9      ADC	R31,R25
    02879 8120      LD	R18,Z
    0287A 8131      LDD	R19,Z+1
    0287B E00A      LDI	R16,0xA
    0287C E010      LDI	R17,0
    0287D 940E 376C CALL	empy16s
    0287F 0198      MOVW	R18,R16
    02880 E188      LDI	R24,0x18
    02881 E091      LDI	R25,1
    02882 01FA      MOVW	R30,R20
    02883 9631      ADIW	R30,1
    02884 0FEE      LSL	R30
    02885 1FFF      ROL	R31
    02886 0FE8      ADD	R30,R24
    02887 1FF9      ADC	R31,R25
    02888 8040      LD	R4,Z
    02889 8051      LDD	R5,Z+1
    0288A 0D24      ADD	R18,R4
    0288B 1D35      ADC	R19,R5
    0288C E100      LDI	R16,0x10
    0288D E01E      LDI	R17,0xE
    0288E 940E 376C CALL	empy16s
    02890 0128      MOVW	R4,R16
    02891 0C42      ADD	R4,R2
    02892 1C53      ADC	R5,R3
    02893 9250 0223 STS	temps+269,R5
    02895 9240 0222 STS	temps+268,R4
(0130) 			  //temps[0].needtime=3;
(0131) 			  if(temps[0].needtime==0){
    02897 2044      TST	R4
    02898 F441      BNE	0x28A1
    02899 2055      TST	R5
    0289A F431      BNE	0x28A1
(0132) 			     //当前阶段时间为0，表示已经结束更改标记
(0133) 				  temps[0].flag=4;
    0289B E084      LDI	R24,4
    0289C E090      LDI	R25,0
    0289D 9390 0117 STS	temps+1,R25
    0289F 9380 0116 STS	temps,R24
(0134) 			  }
(0135) 			 // temps[0].settemp，在上一场升温时候赋值过
(0136) 			}
(0137) 	  }
(0138)   }
(0139)   //第二个
(0140)   if(temps[1].flag==1){//运行中
    028A1 9180 025A LDS	R24,temps+324
    028A3 9190 025B LDS	R25,temps+325
    028A5 3081      CPI	R24,1
    028A6 E0E0      LDI	R30,0
    028A7 079E      CPC	R25,R30
    028A8 F009      BEQ	0x28AA
    028A9 C173      RJMP	0x2A1D
(0141)      cache=temps[1].status;//暂存当前状态
    028AA 9140 0364 LDS	R20,temps+590
    028AC 9150 0365 LDS	R21,temps+591
(0142)      if(temps[1].statusflag==0){//不是第一次进入当前状态
    028AE 9020 036E LDS	R2,temps+600
    028B0 9030 036F LDS	R3,temps+601
    028B2 2022      TST	R2
    028B3 F009      BEQ	0x28B5
    028B4 C044      RJMP	0x28F9
    028B5 2033      TST	R3
    028B6 F009      BEQ	0x28B8
    028B7 C041      RJMP	0x28F9
(0143) 	     temps[1].nowtime++;//当前阶段运行时间
    028B8 9180 0368 LDS	R24,temps+594
    028BA 9190 0369 LDS	R25,temps+595
    028BC 9601      ADIW	R24,1
    028BD 9390 0369 STS	temps+595,R25
    028BF 9380 0368 STS	temps+594,R24
(0144) 		if(temps[1].nowtime>=temps[1].needtime){//当前阶段运行结束进入下一阶段
    028C1 9020 0366 LDS	R2,temps+592
    028C3 9030 0367 LDS	R3,temps+593
    028C5 1582      CP	R24,R2
    028C6 0593      CPC	R25,R3
    028C7 F068      BCS	0x28D5
(0145) 		    temps[1].status++;
    028C8 01CA      MOVW	R24,R20
    028C9 9601      ADIW	R24,1
    028CA 9390 0365 STS	temps+591,R25
    028CC 9380 0364 STS	temps+590,R24
(0146) 		    temps[1].statusflag=1;
    028CE E081      LDI	R24,1
    028CF E090      LDI	R25,0
    028D0 9390 036F STS	temps+601,R25
    028D2 9380 036E STS	temps+600,R24
(0147) 			//PORTE=0xFF;
(0148) 		}else{//还在当前阶段
    028D4 C148      RJMP	0x2A1D
(0149) 		     if(cache & 0x01){//恒温阶段,
    028D5 FF40      SBRS	R20,0
    028D6 C001      RJMP	0x28D8
(0150) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0151) 		      }else{ //升温阶段
    028D7 C145      RJMP	0x2A1D
(0152) 		            temps[1].pertimecnt++;
    028D8 9180 036C LDS	R24,temps+598
    028DA 9190 036D LDS	R25,temps+599
    028DC 9601      ADIW	R24,1
    028DD 9390 036D STS	temps+599,R25
    028DF 9380 036C STS	temps+598,R24
(0153) 		            if(temps[1].pertimecnt>temps[1].pertime){
    028E1 9020 036A LDS	R2,temps+596
    028E3 9030 036B LDS	R3,temps+597
    028E5 1628      CP	R2,R24
    028E6 0639      CPC	R3,R25
    028E7 F008      BCS	0x28E9
    028E8 C134      RJMP	0x2A1D
(0154) 		                    temps[1].p_settemp++;//1C需要时间到达，增加温度。
    028E9 9180 0370 LDS	R24,temps+602
    028EB 9190 0371 LDS	R25,temps+603
    028ED 9601      ADIW	R24,1
    028EE 9390 0371 STS	temps+603,R25
    028F0 9380 0370 STS	temps+602,R24
(0155) 			                temps[1].pertimecnt=0;
    028F2 2422      CLR	R2
    028F3 2433      CLR	R3
    028F4 9230 036D STS	temps+599,R3
    028F6 9220 036C STS	temps+598,R2
(0156) 		              } 
(0157) 			  }
(0158) 		 }
(0159) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    028F8 C124      RJMP	0x2A1D
(0160) 	        temps[1].statusflag=0;
    028F9 2422      CLR	R2
    028FA 2433      CLR	R3
    028FB 9230 036F STS	temps+601,R3
    028FD 9220 036E STS	temps+600,R2
(0161) 		    temps[1].nowtime=0;
    028FF 9230 0369 STS	temps+595,R3
    02901 9220 0368 STS	temps+594,R2
(0162) 	       if(cache & 0x01){//升温阶段
    02903 FF40      SBRS	R20,0
    02904 C0BD      RJMP	0x29C2
(0163) 		      cache=((cache-1)>>1)*11;
    02905 019A      MOVW	R18,R20
    02906 5021      SUBI	R18,1
    02907 4030      SBCI	R19,0
    02908 9536      LSR	R19
    02909 9527      ROR	R18
    0290A E00B      LDI	R16,0xB
    0290B E010      LDI	R17,0
    0290C 940E 376C CALL	empy16s
    0290E 01A8      MOVW	R20,R16
(0164) 		      temps[1].needtime=(temps[1].temp_data[cache]*10+temps[1].temp_data[cache+1])*3600+(temps[1].temp_data[cache+2]*10+temps[1].temp_data[cache+3])*60;
    0290F E58C      LDI	R24,0x5C
    02910 E092      LDI	R25,2
    02911 01FA      MOVW	R30,R20
    02912 9632      ADIW	R30,2
    02913 0FEE      LSL	R30
    02914 1FFF      ROL	R31
    02915 0FE8      ADD	R30,R24
    02916 1FF9      ADC	R31,R25
    02917 8120      LD	R18,Z
    02918 8131      LDD	R19,Z+1
    02919 E00A      LDI	R16,0xA
    0291A E010      LDI	R17,0
    0291B 940E 376C CALL	empy16s
    0291D 0198      MOVW	R18,R16
    0291E E58C      LDI	R24,0x5C
    0291F E092      LDI	R25,2
    02920 01FA      MOVW	R30,R20
    02921 9633      ADIW	R30,3
    02922 0FEE      LSL	R30
    02923 1FFF      ROL	R31
    02924 0FE8      ADD	R30,R24
    02925 1FF9      ADC	R31,R25
    02926 8020      LD	R2,Z
    02927 8031      LDD	R3,Z+1
    02928 0D22      ADD	R18,R2
    02929 1D33      ADC	R19,R3
    0292A E30C      LDI	R16,0x3C
    0292B E010      LDI	R17,0
    0292C 940E 376C CALL	empy16s
    0292E 0118      MOVW	R2,R16
    0292F E58C      LDI	R24,0x5C
    02930 E092      LDI	R25,2
    02931 01FA      MOVW	R30,R20
    02932 0FEE      LSL	R30
    02933 1FFF      ROL	R31
    02934 0FE8      ADD	R30,R24
    02935 1FF9      ADC	R31,R25
    02936 8120      LD	R18,Z
    02937 8131      LDD	R19,Z+1
    02938 E00A      LDI	R16,0xA
    02939 E010      LDI	R17,0
    0293A 940E 376C CALL	empy16s
    0293C 0198      MOVW	R18,R16
    0293D E58C      LDI	R24,0x5C
    0293E E092      LDI	R25,2
    0293F 01FA      MOVW	R30,R20
    02940 9631      ADIW	R30,1
    02941 0FEE      LSL	R30
    02942 1FFF      ROL	R31
    02943 0FE8      ADD	R30,R24
    02944 1FF9      ADC	R31,R25
    02945 8040      LD	R4,Z
    02946 8051      LDD	R5,Z+1
    02947 0D24      ADD	R18,R4
    02948 1D35      ADC	R19,R5
    02949 E100      LDI	R16,0x10
    0294A E01E      LDI	R17,0xE
    0294B 940E 376C CALL	empy16s
    0294D 0128      MOVW	R4,R16
    0294E 0C42      ADD	R4,R2
    0294F 1C53      ADC	R5,R3
    02950 9250 0367 STS	temps+593,R5
    02952 9240 0366 STS	temps+592,R4
(0165) 			  //temps[0].needtime=3;
(0166) 			  if(temps[1].needtime==0){
    02954 2044      TST	R4
    02955 F449      BNE	0x295F
    02956 2055      TST	R5
    02957 F439      BNE	0x295F
(0167) 			     //当前阶段时间为0，表示已经结束更改标记
(0168) 				  temps[1].flag=4;
    02958 E084      LDI	R24,4
    02959 E090      LDI	R25,0
    0295A 9390 025B STS	temps+325,R25
    0295C 9380 025A STS	temps+324,R24
(0169) 			  }else{
    0295E C0BE      RJMP	0x2A1D
(0170) 			     temps[1].p_settemp=temps[1].temp_data[cache+8]*100+temps[1].temp_data[cache+9]*10+temps[1].temp_data[cache+10];
    0295F E58C      LDI	R24,0x5C
    02960 E092      LDI	R25,2
    02961 01FA      MOVW	R30,R20
    02962 9639      ADIW	R30,0x9
    02963 0FEE      LSL	R30
    02964 1FFF      ROL	R31
    02965 0FE8      ADD	R30,R24
    02966 1FF9      ADC	R31,R25
    02967 8120      LD	R18,Z
    02968 8131      LDD	R19,Z+1
    02969 E00A      LDI	R16,0xA
    0296A E010      LDI	R17,0
    0296B 940E 376C CALL	empy16s
    0296D 0118      MOVW	R2,R16
    0296E E58C      LDI	R24,0x5C
    0296F E092      LDI	R25,2
    02970 01FA      MOVW	R30,R20
    02971 9638      ADIW	R30,0x8
    02972 0FEE      LSL	R30
    02973 1FFF      ROL	R31
    02974 0FE8      ADD	R30,R24
    02975 1FF9      ADC	R31,R25
    02976 8120      LD	R18,Z
    02977 8131      LDD	R19,Z+1
    02978 E604      LDI	R16,0x64
    02979 E010      LDI	R17,0
    0297A 940E 376C CALL	empy16s
    0297C 0128      MOVW	R4,R16
    0297D 0C42      ADD	R4,R2
    0297E 1C53      ADC	R5,R3
    0297F E58C      LDI	R24,0x5C
    02980 E092      LDI	R25,2
    02981 01FA      MOVW	R30,R20
    02982 963A      ADIW	R30,0xA
    02983 0FEE      LSL	R30
    02984 1FFF      ROL	R31
    02985 0FE8      ADD	R30,R24
    02986 1FF9      ADC	R31,R25
    02987 8020      LD	R2,Z
    02988 8031      LDD	R3,Z+1
    02989 0C42      ADD	R4,R2
    0298A 1C53      ADC	R5,R3
    0298B 9250 0371 STS	temps+603,R5
    0298D 9240 0370 STS	temps+602,R4
(0171) 			     temps[1].pertime=temps[1].needtime/(temps[1].p_settemp-temps[1].actualtemp);
    0298F 9100 0366 LDS	R16,temps+592
    02991 9110 0367 LDS	R17,temps+593
    02993 940E 38EB CALL	uint2fp
    02995 0118      MOVW	R2,R16
    02996 0129      MOVW	R4,R18
    02997 9100 0370 LDS	R16,temps+602
    02999 9110 0371 LDS	R17,temps+603
    0299B 940E 38EB CALL	uint2fp
    0299D E78E      LDI	R24,0x7E
    0299E E093      LDI	R25,3
    0299F 939A      ST	-Y,R25
    029A0 938A      ST	-Y,R24
    029A1 940E 389E CALL	fpsub1x
    029A3 0181      MOVW	R16,R2
    029A4 0192      MOVW	R18,R4
    029A5 940E 3918 CALL	fpdiv2
    029A7 940E 38B9 CALL	fpint
    029A9 9310 036B STS	temps+597,R17
    029AB 9300 036A STS	temps+596,R16
(0172) 			     temps[1].pertimecnt=0;
    029AD 2422      CLR	R2
    029AE 2433      CLR	R3
    029AF 9230 036D STS	temps+599,R3
    029B1 9220 036C STS	temps+598,R2
(0173) 				 temps[1].settemp=temps[1].p_settemp;//当接近恒温温度时候使用pid需要此温度
    029B3 9100 0370 LDS	R16,temps+602
    029B5 9110 0371 LDS	R17,temps+603
    029B7 940E 38EB CALL	uint2fp
    029B9 9310 037B STS	temps+613,R17
    029BB 9300 037A STS	temps+612,R16
    029BD 9330 037D STS	temps+615,R19
    029BF 9320 037C STS	temps+614,R18
(0174) 			  }
(0175) 		     
(0176) 		    }else{//恒温阶段
    029C1 C05B      RJMP	0x2A1D
(0177) 			   cache=((cache-1)>>1)*11+4;
    029C2 019A      MOVW	R18,R20
    029C3 5021      SUBI	R18,1
    029C4 4030      SBCI	R19,0
    029C5 9536      LSR	R19
    029C6 9527      ROR	R18
    029C7 E00B      LDI	R16,0xB
    029C8 E010      LDI	R17,0
    029C9 940E 376C CALL	empy16s
    029CB 01A8      MOVW	R20,R16
    029CC 5F4C      SUBI	R20,0xFC
    029CD 4F5F      SBCI	R21,0xFF
(0178) 		      temps[1].needtime=(temps[1].temp_data[cache]*10+temps[1].temp_data[cache+1])*3600+(temps[1].temp_data[cache+2]*10+temps[1].temp_data[cache+3])*60;
    029CE E58C      LDI	R24,0x5C
    029CF E092      LDI	R25,2
    029D0 01FA      MOVW	R30,R20
    029D1 9632      ADIW	R30,2
    029D2 0FEE      LSL	R30
    029D3 1FFF      ROL	R31
    029D4 0FE8      ADD	R30,R24
    029D5 1FF9      ADC	R31,R25
    029D6 8120      LD	R18,Z
    029D7 8131      LDD	R19,Z+1
    029D8 E00A      LDI	R16,0xA
    029D9 E010      LDI	R17,0
    029DA 940E 376C CALL	empy16s
    029DC 0198      MOVW	R18,R16
    029DD E58C      LDI	R24,0x5C
    029DE E092      LDI	R25,2
    029DF 01FA      MOVW	R30,R20
    029E0 9633      ADIW	R30,3
    029E1 0FEE      LSL	R30
    029E2 1FFF      ROL	R31
    029E3 0FE8      ADD	R30,R24
    029E4 1FF9      ADC	R31,R25
    029E5 8020      LD	R2,Z
    029E6 8031      LDD	R3,Z+1
    029E7 0D22      ADD	R18,R2
    029E8 1D33      ADC	R19,R3
    029E9 E30C      LDI	R16,0x3C
    029EA E010      LDI	R17,0
    029EB 940E 376C CALL	empy16s
    029ED 0118      MOVW	R2,R16
    029EE E58C      LDI	R24,0x5C
    029EF E092      LDI	R25,2
    029F0 01FA      MOVW	R30,R20
    029F1 0FEE      LSL	R30
    029F2 1FFF      ROL	R31
    029F3 0FE8      ADD	R30,R24
    029F4 1FF9      ADC	R31,R25
    029F5 8120      LD	R18,Z
    029F6 8131      LDD	R19,Z+1
    029F7 E00A      LDI	R16,0xA
    029F8 E010      LDI	R17,0
    029F9 940E 376C CALL	empy16s
    029FB 0198      MOVW	R18,R16
    029FC E58C      LDI	R24,0x5C
    029FD E092      LDI	R25,2
    029FE 01FA      MOVW	R30,R20
    029FF 9631      ADIW	R30,1
    02A00 0FEE      LSL	R30
    02A01 1FFF      ROL	R31
    02A02 0FE8      ADD	R30,R24
    02A03 1FF9      ADC	R31,R25
    02A04 8040      LD	R4,Z
    02A05 8051      LDD	R5,Z+1
    02A06 0D24      ADD	R18,R4
    02A07 1D35      ADC	R19,R5
    02A08 E100      LDI	R16,0x10
    02A09 E01E      LDI	R17,0xE
    02A0A 940E 376C CALL	empy16s
    02A0C 0128      MOVW	R4,R16
    02A0D 0C42      ADD	R4,R2
    02A0E 1C53      ADC	R5,R3
    02A0F 9250 0367 STS	temps+593,R5
    02A11 9240 0366 STS	temps+592,R4
(0179) 			  //temps[1].needtime=3;
(0180) 			  if(temps[1].needtime==0){
    02A13 2044      TST	R4
    02A14 F441      BNE	0x2A1D
    02A15 2055      TST	R5
    02A16 F431      BNE	0x2A1D
(0181) 			     //当前阶段时间为0，表示已经结束更改标记
(0182) 				  temps[1].flag=4;
    02A17 E084      LDI	R24,4
    02A18 E090      LDI	R25,0
    02A19 9390 025B STS	temps+325,R25
    02A1B 9380 025A STS	temps+324,R24
(0183) 			  }
(0184) 			 // temps[1].settemp，在上一场升温时候赋值过
(0185) 			}
(0186) 	  }
(0187)   }
(0188)   //第三个
(0189)   if(temps[2].flag==1){//运行中
    02A1D 9180 039E LDS	R24,temps+648
    02A1F 9190 039F LDS	R25,temps+649
    02A21 3081      CPI	R24,1
    02A22 E0E0      LDI	R30,0
    02A23 079E      CPC	R25,R30
    02A24 F009      BEQ	0x2A26
    02A25 C173      RJMP	0x2B99
(0190)      cache=temps[2].status;//暂存当前状态
    02A26 9140 04A8 LDS	R20,temps+914
    02A28 9150 04A9 LDS	R21,temps+915
(0191)      if(temps[2].statusflag==0){//不是第一次进入当前状态
    02A2A 9020 04B2 LDS	R2,temps+924
    02A2C 9030 04B3 LDS	R3,temps+925
    02A2E 2022      TST	R2
    02A2F F009      BEQ	0x2A31
    02A30 C044      RJMP	0x2A75
    02A31 2033      TST	R3
    02A32 F009      BEQ	0x2A34
    02A33 C041      RJMP	0x2A75
(0192) 	     temps[2].nowtime++;//当前阶段运行时间
    02A34 9180 04AC LDS	R24,temps+918
    02A36 9190 04AD LDS	R25,temps+919
    02A38 9601      ADIW	R24,1
    02A39 9390 04AD STS	temps+919,R25
    02A3B 9380 04AC STS	temps+918,R24
(0193) 		if(temps[2].nowtime>=temps[2].needtime){//当前阶段运行结束进入下一阶段
    02A3D 9020 04AA LDS	R2,temps+916
    02A3F 9030 04AB LDS	R3,temps+917
    02A41 1582      CP	R24,R2
    02A42 0593      CPC	R25,R3
    02A43 F068      BCS	0x2A51
(0194) 		    temps[2].status++;
    02A44 01CA      MOVW	R24,R20
    02A45 9601      ADIW	R24,1
    02A46 9390 04A9 STS	temps+915,R25
    02A48 9380 04A8 STS	temps+914,R24
(0195) 		    temps[2].statusflag=1;
    02A4A E081      LDI	R24,1
    02A4B E090      LDI	R25,0
    02A4C 9390 04B3 STS	temps+925,R25
    02A4E 9380 04B2 STS	temps+924,R24
(0196) 			//PORTE=0xFF;
(0197) 		}else{//还在当前阶段
    02A50 C148      RJMP	0x2B99
(0198) 		     if(cache & 0x01){//恒温阶段,
    02A51 FF40      SBRS	R20,0
    02A52 C001      RJMP	0x2A54
(0199) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0200) 		      }else{ //升温阶段
    02A53 C145      RJMP	0x2B99
(0201) 		            temps[2].pertimecnt++;
    02A54 9180 04B0 LDS	R24,temps+922
    02A56 9190 04B1 LDS	R25,temps+923
    02A58 9601      ADIW	R24,1
    02A59 9390 04B1 STS	temps+923,R25
    02A5B 9380 04B0 STS	temps+922,R24
(0202) 		            if(temps[2].pertimecnt>temps[2].pertime){
    02A5D 9020 04AE LDS	R2,temps+920
    02A5F 9030 04AF LDS	R3,temps+921
    02A61 1628      CP	R2,R24
    02A62 0639      CPC	R3,R25
    02A63 F008      BCS	0x2A65
    02A64 C134      RJMP	0x2B99
(0203) 		                    temps[2].p_settemp++;//1C需要时间到达，增加温度。
    02A65 9180 04B4 LDS	R24,temps+926
    02A67 9190 04B5 LDS	R25,temps+927
    02A69 9601      ADIW	R24,1
    02A6A 9390 04B5 STS	temps+927,R25
    02A6C 9380 04B4 STS	temps+926,R24
(0204) 			                temps[2].pertimecnt=0;
    02A6E 2422      CLR	R2
    02A6F 2433      CLR	R3
    02A70 9230 04B1 STS	temps+923,R3
    02A72 9220 04B0 STS	temps+922,R2
(0205) 		              } 
(0206) 			  }
(0207) 		 }
(0208) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    02A74 C124      RJMP	0x2B99
(0209) 	        temps[2].statusflag=0;
    02A75 2422      CLR	R2
    02A76 2433      CLR	R3
    02A77 9230 04B3 STS	temps+925,R3
    02A79 9220 04B2 STS	temps+924,R2
(0210) 		    temps[2].nowtime=0;
    02A7B 9230 04AD STS	temps+919,R3
    02A7D 9220 04AC STS	temps+918,R2
(0211) 	       if(cache & 0x01){//升温阶段
    02A7F FF40      SBRS	R20,0
    02A80 C0BD      RJMP	0x2B3E
(0212) 		      cache=((cache-1)>>1)*11;
    02A81 019A      MOVW	R18,R20
    02A82 5021      SUBI	R18,1
    02A83 4030      SBCI	R19,0
    02A84 9536      LSR	R19
    02A85 9527      ROR	R18
    02A86 E00B      LDI	R16,0xB
    02A87 E010      LDI	R17,0
    02A88 940E 376C CALL	empy16s
    02A8A 01A8      MOVW	R20,R16
(0213) 		      temps[2].needtime=(temps[2].temp_data[cache]*10+temps[2].temp_data[cache+1])*3600+(temps[2].temp_data[cache+2]*10+temps[2].temp_data[cache+3])*60;
    02A8B EA80      LDI	R24,0xA0
    02A8C E093      LDI	R25,3
    02A8D 01FA      MOVW	R30,R20
    02A8E 9632      ADIW	R30,2
    02A8F 0FEE      LSL	R30
    02A90 1FFF      ROL	R31
    02A91 0FE8      ADD	R30,R24
    02A92 1FF9      ADC	R31,R25
    02A93 8120      LD	R18,Z
    02A94 8131      LDD	R19,Z+1
    02A95 E00A      LDI	R16,0xA
    02A96 E010      LDI	R17,0
    02A97 940E 376C CALL	empy16s
    02A99 0198      MOVW	R18,R16
    02A9A EA80      LDI	R24,0xA0
    02A9B E093      LDI	R25,3
    02A9C 01FA      MOVW	R30,R20
    02A9D 9633      ADIW	R30,3
    02A9E 0FEE      LSL	R30
    02A9F 1FFF      ROL	R31
    02AA0 0FE8      ADD	R30,R24
    02AA1 1FF9      ADC	R31,R25
    02AA2 8020      LD	R2,Z
    02AA3 8031      LDD	R3,Z+1
    02AA4 0D22      ADD	R18,R2
    02AA5 1D33      ADC	R19,R3
    02AA6 E30C      LDI	R16,0x3C
    02AA7 E010      LDI	R17,0
    02AA8 940E 376C CALL	empy16s
    02AAA 0118      MOVW	R2,R16
    02AAB EA80      LDI	R24,0xA0
    02AAC E093      LDI	R25,3
    02AAD 01FA      MOVW	R30,R20
    02AAE 0FEE      LSL	R30
    02AAF 1FFF      ROL	R31
    02AB0 0FE8      ADD	R30,R24
    02AB1 1FF9      ADC	R31,R25
    02AB2 8120      LD	R18,Z
    02AB3 8131      LDD	R19,Z+1
    02AB4 E00A      LDI	R16,0xA
    02AB5 E010      LDI	R17,0
    02AB6 940E 376C CALL	empy16s
    02AB8 0198      MOVW	R18,R16
    02AB9 EA80      LDI	R24,0xA0
    02ABA E093      LDI	R25,3
    02ABB 01FA      MOVW	R30,R20
    02ABC 9631      ADIW	R30,1
    02ABD 0FEE      LSL	R30
    02ABE 1FFF      ROL	R31
    02ABF 0FE8      ADD	R30,R24
    02AC0 1FF9      ADC	R31,R25
    02AC1 8040      LD	R4,Z
    02AC2 8051      LDD	R5,Z+1
    02AC3 0D24      ADD	R18,R4
    02AC4 1D35      ADC	R19,R5
    02AC5 E100      LDI	R16,0x10
    02AC6 E01E      LDI	R17,0xE
    02AC7 940E 376C CALL	empy16s
    02AC9 0128      MOVW	R4,R16
    02ACA 0C42      ADD	R4,R2
    02ACB 1C53      ADC	R5,R3
    02ACC 9250 04AB STS	temps+917,R5
    02ACE 9240 04AA STS	temps+916,R4
(0214) 			  //temps[0].needtime=3;
(0215) 			  if(temps[2].needtime==0){
    02AD0 2044      TST	R4
    02AD1 F449      BNE	0x2ADB
    02AD2 2055      TST	R5
    02AD3 F439      BNE	0x2ADB
(0216) 			     //当前阶段时间为0，表示已经结束更改标记
(0217) 				  temps[2].flag=4;
    02AD4 E084      LDI	R24,4
    02AD5 E090      LDI	R25,0
    02AD6 9390 039F STS	temps+649,R25
    02AD8 9380 039E STS	temps+648,R24
(0218) 			  }else{
    02ADA C0BE      RJMP	0x2B99
(0219) 			     temps[2].p_settemp=temps[2].temp_data[cache+8]*100+temps[2].temp_data[cache+9]*10+temps[2].temp_data[cache+10];
    02ADB EA80      LDI	R24,0xA0
    02ADC E093      LDI	R25,3
    02ADD 01FA      MOVW	R30,R20
    02ADE 9639      ADIW	R30,0x9
    02ADF 0FEE      LSL	R30
    02AE0 1FFF      ROL	R31
    02AE1 0FE8      ADD	R30,R24
    02AE2 1FF9      ADC	R31,R25
    02AE3 8120      LD	R18,Z
    02AE4 8131      LDD	R19,Z+1
    02AE5 E00A      LDI	R16,0xA
    02AE6 E010      LDI	R17,0
    02AE7 940E 376C CALL	empy16s
    02AE9 0118      MOVW	R2,R16
    02AEA EA80      LDI	R24,0xA0
    02AEB E093      LDI	R25,3
    02AEC 01FA      MOVW	R30,R20
    02AED 9638      ADIW	R30,0x8
    02AEE 0FEE      LSL	R30
    02AEF 1FFF      ROL	R31
    02AF0 0FE8      ADD	R30,R24
    02AF1 1FF9      ADC	R31,R25
    02AF2 8120      LD	R18,Z
    02AF3 8131      LDD	R19,Z+1
    02AF4 E604      LDI	R16,0x64
    02AF5 E010      LDI	R17,0
    02AF6 940E 376C CALL	empy16s
    02AF8 0128      MOVW	R4,R16
    02AF9 0C42      ADD	R4,R2
    02AFA 1C53      ADC	R5,R3
    02AFB EA80      LDI	R24,0xA0
    02AFC E093      LDI	R25,3
    02AFD 01FA      MOVW	R30,R20
    02AFE 963A      ADIW	R30,0xA
    02AFF 0FEE      LSL	R30
    02B00 1FFF      ROL	R31
    02B01 0FE8      ADD	R30,R24
    02B02 1FF9      ADC	R31,R25
    02B03 8020      LD	R2,Z
    02B04 8031      LDD	R3,Z+1
    02B05 0C42      ADD	R4,R2
    02B06 1C53      ADC	R5,R3
    02B07 9250 04B5 STS	temps+927,R5
    02B09 9240 04B4 STS	temps+926,R4
(0220) 			     temps[2].pertime=temps[2].needtime/(temps[2].p_settemp-temps[2].actualtemp);
    02B0B 9100 04AA LDS	R16,temps+916
    02B0D 9110 04AB LDS	R17,temps+917
    02B0F 940E 38EB CALL	uint2fp
    02B11 0118      MOVW	R2,R16
    02B12 0129      MOVW	R4,R18
    02B13 9100 04B4 LDS	R16,temps+926
    02B15 9110 04B5 LDS	R17,temps+927
    02B17 940E 38EB CALL	uint2fp
    02B19 EC82      LDI	R24,0xC2
    02B1A E094      LDI	R25,4
    02B1B 939A      ST	-Y,R25
    02B1C 938A      ST	-Y,R24
    02B1D 940E 389E CALL	fpsub1x
    02B1F 0181      MOVW	R16,R2
    02B20 0192      MOVW	R18,R4
    02B21 940E 3918 CALL	fpdiv2
    02B23 940E 38B9 CALL	fpint
    02B25 9310 04AF STS	temps+921,R17
    02B27 9300 04AE STS	temps+920,R16
(0221) 			     temps[2].pertimecnt=0;
    02B29 2422      CLR	R2
    02B2A 2433      CLR	R3
    02B2B 9230 04B1 STS	temps+923,R3
    02B2D 9220 04B0 STS	temps+922,R2
(0222) 				 temps[2].settemp=temps[2].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02B2F 9100 04B4 LDS	R16,temps+926
    02B31 9110 04B5 LDS	R17,temps+927
    02B33 940E 38EB CALL	uint2fp
    02B35 9310 04BF STS	temps+937,R17
    02B37 9300 04BE STS	temps+936,R16
    02B39 9330 04C1 STS	temps+939,R19
    02B3B 9320 04C0 STS	temps+938,R18
(0223) 			  }
(0224) 		     
(0225) 		    }else{//恒温阶段
    02B3D C05B      RJMP	0x2B99
(0226) 			   cache=((cache-1)>>1)*11+4;
    02B3E 019A      MOVW	R18,R20
    02B3F 5021      SUBI	R18,1
    02B40 4030      SBCI	R19,0
    02B41 9536      LSR	R19
    02B42 9527      ROR	R18
    02B43 E00B      LDI	R16,0xB
    02B44 E010      LDI	R17,0
    02B45 940E 376C CALL	empy16s
    02B47 01A8      MOVW	R20,R16
    02B48 5F4C      SUBI	R20,0xFC
    02B49 4F5F      SBCI	R21,0xFF
(0227) 		      temps[2].needtime=(temps[2].temp_data[cache]*10+temps[2].temp_data[cache+1])*3600+(temps[2].temp_data[cache+2]*10+temps[2].temp_data[cache+3])*60;
    02B4A EA80      LDI	R24,0xA0
    02B4B E093      LDI	R25,3
    02B4C 01FA      MOVW	R30,R20
    02B4D 9632      ADIW	R30,2
    02B4E 0FEE      LSL	R30
    02B4F 1FFF      ROL	R31
    02B50 0FE8      ADD	R30,R24
    02B51 1FF9      ADC	R31,R25
    02B52 8120      LD	R18,Z
    02B53 8131      LDD	R19,Z+1
    02B54 E00A      LDI	R16,0xA
    02B55 E010      LDI	R17,0
    02B56 940E 376C CALL	empy16s
    02B58 0198      MOVW	R18,R16
    02B59 EA80      LDI	R24,0xA0
    02B5A E093      LDI	R25,3
    02B5B 01FA      MOVW	R30,R20
    02B5C 9633      ADIW	R30,3
    02B5D 0FEE      LSL	R30
    02B5E 1FFF      ROL	R31
    02B5F 0FE8      ADD	R30,R24
    02B60 1FF9      ADC	R31,R25
    02B61 8020      LD	R2,Z
    02B62 8031      LDD	R3,Z+1
    02B63 0D22      ADD	R18,R2
    02B64 1D33      ADC	R19,R3
    02B65 E30C      LDI	R16,0x3C
    02B66 E010      LDI	R17,0
    02B67 940E 376C CALL	empy16s
    02B69 0118      MOVW	R2,R16
    02B6A EA80      LDI	R24,0xA0
    02B6B E093      LDI	R25,3
    02B6C 01FA      MOVW	R30,R20
    02B6D 0FEE      LSL	R30
    02B6E 1FFF      ROL	R31
    02B6F 0FE8      ADD	R30,R24
    02B70 1FF9      ADC	R31,R25
    02B71 8120      LD	R18,Z
    02B72 8131      LDD	R19,Z+1
    02B73 E00A      LDI	R16,0xA
    02B74 E010      LDI	R17,0
    02B75 940E 376C CALL	empy16s
    02B77 0198      MOVW	R18,R16
    02B78 EA80      LDI	R24,0xA0
    02B79 E093      LDI	R25,3
    02B7A 01FA      MOVW	R30,R20
    02B7B 9631      ADIW	R30,1
    02B7C 0FEE      LSL	R30
    02B7D 1FFF      ROL	R31
    02B7E 0FE8      ADD	R30,R24
    02B7F 1FF9      ADC	R31,R25
    02B80 8040      LD	R4,Z
    02B81 8051      LDD	R5,Z+1
    02B82 0D24      ADD	R18,R4
    02B83 1D35      ADC	R19,R5
    02B84 E100      LDI	R16,0x10
    02B85 E01E      LDI	R17,0xE
    02B86 940E 376C CALL	empy16s
    02B88 0128      MOVW	R4,R16
    02B89 0C42      ADD	R4,R2
    02B8A 1C53      ADC	R5,R3
    02B8B 9250 04AB STS	temps+917,R5
    02B8D 9240 04AA STS	temps+916,R4
(0228) 			  //temps[0].needtime=3;
(0229) 			  if(temps[2].needtime==0){
    02B8F 2044      TST	R4
    02B90 F441      BNE	0x2B99
    02B91 2055      TST	R5
    02B92 F431      BNE	0x2B99
(0230) 			     //当前阶段时间为0，表示已经结束更改标记
(0231) 				  temps[2].flag=4;
    02B93 E084      LDI	R24,4
    02B94 E090      LDI	R25,0
    02B95 9390 039F STS	temps+649,R25
    02B97 9380 039E STS	temps+648,R24
(0232) 			  }
(0233) 			 // temps[0].settemp，在上一场升温时候赋值过
(0234) 			}
(0235) 	  }
(0236)   }
(0237)   //第一个
(0238)   if(temps[3].flag==1){//运行中
    02B99 9180 04E2 LDS	R24,temps+972
    02B9B 9190 04E3 LDS	R25,temps+973
    02B9D 3081      CPI	R24,1
    02B9E E0E0      LDI	R30,0
    02B9F 079E      CPC	R25,R30
    02BA0 F009      BEQ	0x2BA2
    02BA1 C173      RJMP	0x2D15
(0239)      cache=temps[3].status;//暂存当前状态
    02BA2 9140 05EC LDS	R20,temps+1238
    02BA4 9150 05ED LDS	R21,temps+1239
(0240)      if(temps[3].statusflag==0){//不是第一次进入当前状态
    02BA6 9020 05F6 LDS	R2,temps+1248
    02BA8 9030 05F7 LDS	R3,temps+1249
    02BAA 2022      TST	R2
    02BAB F009      BEQ	0x2BAD
    02BAC C044      RJMP	0x2BF1
    02BAD 2033      TST	R3
    02BAE F009      BEQ	0x2BB0
    02BAF C041      RJMP	0x2BF1
(0241) 	     temps[3].nowtime++;//当前阶段运行时间
    02BB0 9180 05F0 LDS	R24,temps+1242
    02BB2 9190 05F1 LDS	R25,temps+1243
    02BB4 9601      ADIW	R24,1
    02BB5 9390 05F1 STS	temps+1243,R25
    02BB7 9380 05F0 STS	temps+1242,R24
(0242) 		if(temps[3].nowtime>=temps[3].needtime){//当前阶段运行结束进入下一阶段
    02BB9 9020 05EE LDS	R2,temps+1240
    02BBB 9030 05EF LDS	R3,temps+1241
    02BBD 1582      CP	R24,R2
    02BBE 0593      CPC	R25,R3
    02BBF F068      BCS	0x2BCD
(0243) 		    temps[3].status++;
    02BC0 01CA      MOVW	R24,R20
    02BC1 9601      ADIW	R24,1
    02BC2 9390 05ED STS	temps+1239,R25
    02BC4 9380 05EC STS	temps+1238,R24
(0244) 		    temps[3].statusflag=1;
    02BC6 E081      LDI	R24,1
    02BC7 E090      LDI	R25,0
    02BC8 9390 05F7 STS	temps+1249,R25
    02BCA 9380 05F6 STS	temps+1248,R24
(0245) 			//PORTE=0xFF;
(0246) 		}else{//还在当前阶段
    02BCC C148      RJMP	0x2D15
(0247) 		     if(cache & 0x01){//恒温阶段,
    02BCD FF40      SBRS	R20,0
    02BCE C001      RJMP	0x2BD0
(0248) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0249) 		      }else{ //升温阶段
    02BCF C145      RJMP	0x2D15
(0250) 		            temps[3].pertimecnt++;
    02BD0 9180 05F4 LDS	R24,temps+1246
    02BD2 9190 05F5 LDS	R25,temps+1247
    02BD4 9601      ADIW	R24,1
    02BD5 9390 05F5 STS	temps+1247,R25
    02BD7 9380 05F4 STS	temps+1246,R24
(0251) 		            if(temps[3].pertimecnt>temps[3].pertime){
    02BD9 9020 05F2 LDS	R2,temps+1244
    02BDB 9030 05F3 LDS	R3,temps+1245
    02BDD 1628      CP	R2,R24
    02BDE 0639      CPC	R3,R25
    02BDF F008      BCS	0x2BE1
    02BE0 C134      RJMP	0x2D15
(0252) 		                    temps[3].p_settemp++;//1C需要时间到达，增加温度。
    02BE1 9180 05F8 LDS	R24,temps+1250
    02BE3 9190 05F9 LDS	R25,temps+1251
    02BE5 9601      ADIW	R24,1
    02BE6 9390 05F9 STS	temps+1251,R25
    02BE8 9380 05F8 STS	temps+1250,R24
(0253) 			                temps[3].pertimecnt=0;
    02BEA 2422      CLR	R2
    02BEB 2433      CLR	R3
    02BEC 9230 05F5 STS	temps+1247,R3
    02BEE 9220 05F4 STS	temps+1246,R2
(0254) 		              } 
(0255) 			  }
(0256) 		 }
(0257) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    02BF0 C124      RJMP	0x2D15
(0258) 	        temps[3].statusflag=0;
    02BF1 2422      CLR	R2
    02BF2 2433      CLR	R3
    02BF3 9230 05F7 STS	temps+1249,R3
    02BF5 9220 05F6 STS	temps+1248,R2
(0259) 		    temps[3].nowtime=0;
    02BF7 9230 05F1 STS	temps+1243,R3
    02BF9 9220 05F0 STS	temps+1242,R2
(0260) 	       if(cache & 0x01){//升温阶段
    02BFB FF40      SBRS	R20,0
    02BFC C0BD      RJMP	0x2CBA
(0261) 		      cache=((cache-1)>>1)*11;
    02BFD 019A      MOVW	R18,R20
    02BFE 5021      SUBI	R18,1
    02BFF 4030      SBCI	R19,0
    02C00 9536      LSR	R19
    02C01 9527      ROR	R18
    02C02 E00B      LDI	R16,0xB
    02C03 E010      LDI	R17,0
    02C04 940E 376C CALL	empy16s
    02C06 01A8      MOVW	R20,R16
(0262) 		      temps[3].needtime=(temps[3].temp_data[cache]*10+temps[3].temp_data[cache+1])*3600+(temps[3].temp_data[cache+2]*10+temps[3].temp_data[cache+3])*60;
    02C07 EE84      LDI	R24,0xE4
    02C08 E094      LDI	R25,4
    02C09 01FA      MOVW	R30,R20
    02C0A 9632      ADIW	R30,2
    02C0B 0FEE      LSL	R30
    02C0C 1FFF      ROL	R31
    02C0D 0FE8      ADD	R30,R24
    02C0E 1FF9      ADC	R31,R25
    02C0F 8120      LD	R18,Z
    02C10 8131      LDD	R19,Z+1
    02C11 E00A      LDI	R16,0xA
    02C12 E010      LDI	R17,0
    02C13 940E 376C CALL	empy16s
    02C15 0198      MOVW	R18,R16
    02C16 EE84      LDI	R24,0xE4
    02C17 E094      LDI	R25,4
    02C18 01FA      MOVW	R30,R20
    02C19 9633      ADIW	R30,3
    02C1A 0FEE      LSL	R30
    02C1B 1FFF      ROL	R31
    02C1C 0FE8      ADD	R30,R24
    02C1D 1FF9      ADC	R31,R25
    02C1E 8020      LD	R2,Z
    02C1F 8031      LDD	R3,Z+1
    02C20 0D22      ADD	R18,R2
    02C21 1D33      ADC	R19,R3
    02C22 E30C      LDI	R16,0x3C
    02C23 E010      LDI	R17,0
    02C24 940E 376C CALL	empy16s
    02C26 0118      MOVW	R2,R16
    02C27 EE84      LDI	R24,0xE4
    02C28 E094      LDI	R25,4
    02C29 01FA      MOVW	R30,R20
    02C2A 0FEE      LSL	R30
    02C2B 1FFF      ROL	R31
    02C2C 0FE8      ADD	R30,R24
    02C2D 1FF9      ADC	R31,R25
    02C2E 8120      LD	R18,Z
    02C2F 8131      LDD	R19,Z+1
    02C30 E00A      LDI	R16,0xA
    02C31 E010      LDI	R17,0
    02C32 940E 376C CALL	empy16s
    02C34 0198      MOVW	R18,R16
    02C35 EE84      LDI	R24,0xE4
    02C36 E094      LDI	R25,4
    02C37 01FA      MOVW	R30,R20
    02C38 9631      ADIW	R30,1
    02C39 0FEE      LSL	R30
    02C3A 1FFF      ROL	R31
    02C3B 0FE8      ADD	R30,R24
    02C3C 1FF9      ADC	R31,R25
    02C3D 8040      LD	R4,Z
    02C3E 8051      LDD	R5,Z+1
    02C3F 0D24      ADD	R18,R4
    02C40 1D35      ADC	R19,R5
    02C41 E100      LDI	R16,0x10
    02C42 E01E      LDI	R17,0xE
    02C43 940E 376C CALL	empy16s
    02C45 0128      MOVW	R4,R16
    02C46 0C42      ADD	R4,R2
    02C47 1C53      ADC	R5,R3
    02C48 9250 05EF STS	temps+1241,R5
    02C4A 9240 05EE STS	temps+1240,R4
(0263) 			  //temps[0].needtime=3;
(0264) 			  if(temps[3].needtime==0){
    02C4C 2044      TST	R4
    02C4D F449      BNE	0x2C57
    02C4E 2055      TST	R5
    02C4F F439      BNE	0x2C57
(0265) 			     //当前阶段时间为0，表示已经结束更改标记
(0266) 				  temps[3].flag=4;
    02C50 E084      LDI	R24,4
    02C51 E090      LDI	R25,0
    02C52 9390 04E3 STS	temps+973,R25
    02C54 9380 04E2 STS	temps+972,R24
(0267) 			  }else{
    02C56 C0BE      RJMP	0x2D15
(0268) 			     temps[3].p_settemp=temps[3].temp_data[cache+8]*100+temps[3].temp_data[cache+9]*10+temps[3].temp_data[cache+10];
    02C57 EE84      LDI	R24,0xE4
    02C58 E094      LDI	R25,4
    02C59 01FA      MOVW	R30,R20
    02C5A 9639      ADIW	R30,0x9
    02C5B 0FEE      LSL	R30
    02C5C 1FFF      ROL	R31
    02C5D 0FE8      ADD	R30,R24
    02C5E 1FF9      ADC	R31,R25
    02C5F 8120      LD	R18,Z
    02C60 8131      LDD	R19,Z+1
    02C61 E00A      LDI	R16,0xA
    02C62 E010      LDI	R17,0
    02C63 940E 376C CALL	empy16s
    02C65 0118      MOVW	R2,R16
    02C66 EE84      LDI	R24,0xE4
    02C67 E094      LDI	R25,4
    02C68 01FA      MOVW	R30,R20
    02C69 9638      ADIW	R30,0x8
    02C6A 0FEE      LSL	R30
    02C6B 1FFF      ROL	R31
    02C6C 0FE8      ADD	R30,R24
    02C6D 1FF9      ADC	R31,R25
    02C6E 8120      LD	R18,Z
    02C6F 8131      LDD	R19,Z+1
    02C70 E604      LDI	R16,0x64
    02C71 E010      LDI	R17,0
    02C72 940E 376C CALL	empy16s
    02C74 0128      MOVW	R4,R16
    02C75 0C42      ADD	R4,R2
    02C76 1C53      ADC	R5,R3
    02C77 EE84      LDI	R24,0xE4
    02C78 E094      LDI	R25,4
    02C79 01FA      MOVW	R30,R20
    02C7A 963A      ADIW	R30,0xA
    02C7B 0FEE      LSL	R30
    02C7C 1FFF      ROL	R31
    02C7D 0FE8      ADD	R30,R24
    02C7E 1FF9      ADC	R31,R25
    02C7F 8020      LD	R2,Z
    02C80 8031      LDD	R3,Z+1
    02C81 0C42      ADD	R4,R2
    02C82 1C53      ADC	R5,R3
    02C83 9250 05F9 STS	temps+1251,R5
    02C85 9240 05F8 STS	temps+1250,R4
(0269) 			     temps[3].pertime=temps[3].needtime/(temps[3].p_settemp-temps[3].actualtemp);
    02C87 9100 05EE LDS	R16,temps+1240
    02C89 9110 05EF LDS	R17,temps+1241
    02C8B 940E 38EB CALL	uint2fp
    02C8D 0118      MOVW	R2,R16
    02C8E 0129      MOVW	R4,R18
    02C8F 9100 05F8 LDS	R16,temps+1250
    02C91 9110 05F9 LDS	R17,temps+1251
    02C93 940E 38EB CALL	uint2fp
    02C95 E086      LDI	R24,6
    02C96 E096      LDI	R25,6
    02C97 939A      ST	-Y,R25
    02C98 938A      ST	-Y,R24
    02C99 940E 389E CALL	fpsub1x
    02C9B 0181      MOVW	R16,R2
    02C9C 0192      MOVW	R18,R4
    02C9D 940E 3918 CALL	fpdiv2
    02C9F 940E 38B9 CALL	fpint
    02CA1 9310 05F3 STS	temps+1245,R17
    02CA3 9300 05F2 STS	temps+1244,R16
(0270) 			     temps[3].pertimecnt=0;
    02CA5 2422      CLR	R2
    02CA6 2433      CLR	R3
    02CA7 9230 05F5 STS	temps+1247,R3
    02CA9 9220 05F4 STS	temps+1246,R2
(0271) 				 temps[3].settemp=temps[3].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02CAB 9100 05F8 LDS	R16,temps+1250
    02CAD 9110 05F9 LDS	R17,temps+1251
    02CAF 940E 38EB CALL	uint2fp
    02CB1 9310 0603 STS	temps+1261,R17
    02CB3 9300 0602 STS	temps+1260,R16
    02CB5 9330 0605 STS	temps+1263,R19
    02CB7 9320 0604 STS	temps+1262,R18
(0272) 			  }
(0273) 		     
(0274) 		    }else{//恒温阶段
    02CB9 C05B      RJMP	0x2D15
(0275) 			   cache=((cache-1)>>1)*11+4;
    02CBA 019A      MOVW	R18,R20
    02CBB 5021      SUBI	R18,1
    02CBC 4030      SBCI	R19,0
    02CBD 9536      LSR	R19
    02CBE 9527      ROR	R18
    02CBF E00B      LDI	R16,0xB
    02CC0 E010      LDI	R17,0
    02CC1 940E 376C CALL	empy16s
    02CC3 01A8      MOVW	R20,R16
    02CC4 5F4C      SUBI	R20,0xFC
    02CC5 4F5F      SBCI	R21,0xFF
(0276) 		      temps[3].needtime=(temps[3].temp_data[cache]*10+temps[3].temp_data[cache+1])*3600+(temps[3].temp_data[cache+2]*10+temps[3].temp_data[cache+3])*60;
    02CC6 EE84      LDI	R24,0xE4
    02CC7 E094      LDI	R25,4
    02CC8 01FA      MOVW	R30,R20
    02CC9 9632      ADIW	R30,2
    02CCA 0FEE      LSL	R30
    02CCB 1FFF      ROL	R31
    02CCC 0FE8      ADD	R30,R24
    02CCD 1FF9      ADC	R31,R25
    02CCE 8120      LD	R18,Z
    02CCF 8131      LDD	R19,Z+1
    02CD0 E00A      LDI	R16,0xA
    02CD1 E010      LDI	R17,0
    02CD2 940E 376C CALL	empy16s
    02CD4 0198      MOVW	R18,R16
    02CD5 EE84      LDI	R24,0xE4
    02CD6 E094      LDI	R25,4
    02CD7 01FA      MOVW	R30,R20
    02CD8 9633      ADIW	R30,3
    02CD9 0FEE      LSL	R30
    02CDA 1FFF      ROL	R31
    02CDB 0FE8      ADD	R30,R24
    02CDC 1FF9      ADC	R31,R25
    02CDD 8020      LD	R2,Z
    02CDE 8031      LDD	R3,Z+1
    02CDF 0D22      ADD	R18,R2
    02CE0 1D33      ADC	R19,R3
    02CE1 E30C      LDI	R16,0x3C
    02CE2 E010      LDI	R17,0
    02CE3 940E 376C CALL	empy16s
    02CE5 0118      MOVW	R2,R16
    02CE6 EE84      LDI	R24,0xE4
    02CE7 E094      LDI	R25,4
    02CE8 01FA      MOVW	R30,R20
    02CE9 0FEE      LSL	R30
    02CEA 1FFF      ROL	R31
    02CEB 0FE8      ADD	R30,R24
    02CEC 1FF9      ADC	R31,R25
    02CED 8120      LD	R18,Z
    02CEE 8131      LDD	R19,Z+1
    02CEF E00A      LDI	R16,0xA
    02CF0 E010      LDI	R17,0
    02CF1 940E 376C CALL	empy16s
    02CF3 0198      MOVW	R18,R16
    02CF4 EE84      LDI	R24,0xE4
    02CF5 E094      LDI	R25,4
    02CF6 01FA      MOVW	R30,R20
    02CF7 9631      ADIW	R30,1
    02CF8 0FEE      LSL	R30
    02CF9 1FFF      ROL	R31
    02CFA 0FE8      ADD	R30,R24
    02CFB 1FF9      ADC	R31,R25
    02CFC 8040      LD	R4,Z
    02CFD 8051      LDD	R5,Z+1
    02CFE 0D24      ADD	R18,R4
    02CFF 1D35      ADC	R19,R5
    02D00 E100      LDI	R16,0x10
    02D01 E01E      LDI	R17,0xE
    02D02 940E 376C CALL	empy16s
    02D04 0128      MOVW	R4,R16
    02D05 0C42      ADD	R4,R2
    02D06 1C53      ADC	R5,R3
    02D07 9250 05EF STS	temps+1241,R5
    02D09 9240 05EE STS	temps+1240,R4
(0277) 			  //temps[0].needtime=3;
(0278) 			  if(temps[3].needtime==0){
    02D0B 2044      TST	R4
    02D0C F441      BNE	0x2D15
    02D0D 2055      TST	R5
    02D0E F431      BNE	0x2D15
(0279) 			     //当前阶段时间为0，表示已经结束更改标记
(0280) 				  temps[3].flag=4;
    02D0F E084      LDI	R24,4
    02D10 E090      LDI	R25,0
    02D11 9390 04E3 STS	temps+973,R25
    02D13 9380 04E2 STS	temps+972,R24
(0281) 			  }
(0282) 			 // temps[0].settemp，在上一场升温时候赋值过
(0283) 			}
(0284) 	  }
(0285)   }
(0286)   TIMSK|=0x40;//开定时器2溢出中断,8位的
    02D15 B787      IN	R24,0x37
    02D16 6480      ORI	R24,0x40
    02D17 BF87      OUT	0x37,R24
(0287)   EIMSK |= 0x04;//开中断2  
    02D18 B789      IN	R24,0x39
    02D19 6084      ORI	R24,4
    02D1A BF89      OUT	0x39,R24
    02D1B 9622      ADIW	R28,2
    02D1C 940E 37A3 CALL	pop_xgset300C
    02D1E 9009      LD	R0,Y+
    02D1F BE0F      OUT	0x3F,R0
    02D20 91F9      LD	R31,Y+
    02D21 91E9      LD	R30,Y+
    02D22 91B9      LD	R27,Y+
    02D23 91A9      LD	R26,Y+
    02D24 9199      LD	R25,Y+
    02D25 9189      LD	R24,Y+
    02D26 9139      LD	R19,Y+
    02D27 9129      LD	R18,Y+
    02D28 9119      LD	R17,Y+
    02D29 9109      LD	R16,Y+
    02D2A 9099      LD	R9,Y+
    02D2B 9089      LD	R8,Y+
    02D2C 9079      LD	R7,Y+
    02D2D 9069      LD	R6,Y+
    02D2E 9059      LD	R5,Y+
    02D2F 9049      LD	R4,Y+
    02D30 9039      LD	R3,Y+
    02D31 9029      LD	R2,Y+
    02D32 9019      LD	R1,Y+
    02D33 9009      LD	R0,Y+
    02D34 9518      RETI
_tempcontrol:
  j                    --> R22
  i                    --> R20
    02D35 940E 37B2 CALL	push_xgsetF00C
    02D37 9722      SBIW	R28,2
(0288) }
(0289)  //执行温度控制数据更新操作，读取温度更新输出参数.会对温度数据故障更新
(0290)  //定时器控制，0.5s进入一次
(0291) void tempcontrol(void){
(0292)    uint i,j;
(0293)       temp_l=0x00;
    02D38 2422      CLR	R2
    02D39 2433      CLR	R3
    02D3A 9230 0115 STS	temp_l+1,R3
    02D3C 9220 0114 STS	temp_l,R2
(0294)       temp_h=0x12;
    02D3E E182      LDI	R24,0x12
    02D3F E090      LDI	R25,0
    02D40 9390 0113 STS	temp_h+1,R25
    02D42 9380 0112 STS	temp_h,R24
(0295)    for(i=0;i<4;i++){
    02D44 2744      CLR	R20
    02D45 2755      CLR	R21
    02D46 C15A      RJMP	0x2EA1
(0296)          //readTemp(i);//读取温度，一次验证有效性
(0297) 	 if(temp_l&0x04){//当前故障，下面就不用再运行啦
    02D47 9020 0114 LDS	R2,temp_l
    02D49 9030 0115 LDS	R3,temp_l+1
    02D4B FE22      SBRS	R2,2
    02D4C C00F      RJMP	0x2D5C
(0298) 		     temps[i].flag=2;
    02D4D E404      LDI	R16,0x44
    02D4E E011      LDI	R17,1
    02D4F 019A      MOVW	R18,R20
    02D50 940E 376C CALL	empy16s
    02D52 E186      LDI	R24,0x16
    02D53 E091      LDI	R25,1
    02D54 01F8      MOVW	R30,R16
    02D55 0FE8      ADD	R30,R24
    02D56 1FF9      ADC	R31,R25
    02D57 E082      LDI	R24,2
    02D58 E090      LDI	R25,0
    02D59 8391      STD	Z+1,R25
    02D5A 8380      ST	Z,R24
(0299) 	 }else{
    02D5B C143      RJMP	0x2E9F
(0300) 	      //temps[i].actualtemp=0x55<<2;
(0301) 		  temps[i].actualtemp=(temp_h&0x3F)<<4|(temp_l&0xF0)>>4;
    02D5C E404      LDI	R16,0x44
    02D5D E011      LDI	R17,1
    02D5E 019A      MOVW	R18,R20
    02D5F 940E 376C CALL	empy16s
    02D61 E38A      LDI	R24,0x3A
    02D62 E092      LDI	R25,2
    02D63 01F8      MOVW	R30,R16
    02D64 0FE8      ADD	R30,R24
    02D65 1FF9      ADC	R31,R25
    02D66 9180 0114 LDS	R24,temp_l
    02D68 9190 0115 LDS	R25,temp_l+1
    02D6A 7F80      ANDI	R24,0xF0
    02D6B 7090      ANDI	R25,0
    02D6C 9596      LSR	R25
    02D6D 9587      ROR	R24
    02D6E 9596      LSR	R25
    02D6F 9587      ROR	R24
    02D70 9596      LSR	R25
    02D71 9587      ROR	R24
    02D72 9596      LSR	R25
    02D73 9587      ROR	R24
    02D74 9100 0112 LDS	R16,temp_h
    02D76 9110 0113 LDS	R17,temp_h+1
    02D78 730F      ANDI	R16,0x3F
    02D79 7010      ANDI	R17,0
    02D7A 0F00      LSL	R16
    02D7B 1F11      ROL	R17
    02D7C 0F00      LSL	R16
    02D7D 1F11      ROL	R17
    02D7E 0F00      LSL	R16
    02D7F 1F11      ROL	R17
    02D80 0F00      LSL	R16
    02D81 1F11      ROL	R17
    02D82 2B08      OR	R16,R24
    02D83 2B19      OR	R17,R25
    02D84 940E 38EB CALL	uint2fp
    02D86 8300      ST	Z,R16
    02D87 8311      STD	Z+1,R17
    02D88 8322      STD	Z+2,R18
    02D89 8333      STD	Z+3,R19
(0302)          if(temps[i].flag==1)//运行中的
    02D8A E404      LDI	R16,0x44
    02D8B E011      LDI	R17,1
    02D8C 019A      MOVW	R18,R20
    02D8D 940E 376C CALL	empy16s
    02D8F E186      LDI	R24,0x16
    02D90 E091      LDI	R25,1
    02D91 01F8      MOVW	R30,R16
    02D92 0FE8      ADD	R30,R24
    02D93 1FF9      ADC	R31,R25
    02D94 8180      LD	R24,Z
    02D95 8191      LDD	R25,Z+1
    02D96 3081      CPI	R24,1
    02D97 E0E0      LDI	R30,0
    02D98 079E      CPC	R25,R30
    02D99 F009      BEQ	0x2D9B
    02D9A C0A0      RJMP	0x2E3B
(0303) 	      {   
(0304) 		      for(j=0;j<9;j++){
    02D9B 2766      CLR	R22
    02D9C 2777      CLR	R23
    02D9D C03F      RJMP	0x2DDD
(0305) 			    //readTemp(i);//读取温度，需要读取10次左右
(0306) 			    temps[i].actualtemp+=(temp_h&0x3F)<<4|(temp_l&0xF0)>>4;
    02D9E E404      LDI	R16,0x44
    02D9F E011      LDI	R17,1
    02DA0 019A      MOVW	R18,R20
    02DA1 940E 376C CALL	empy16s
    02DA3 0118      MOVW	R2,R16
    02DA4 E38A      LDI	R24,0x3A
    02DA5 E092      LDI	R25,2
    02DA6 0E28      ADD	R2,R24
    02DA7 1E39      ADC	R3,R25
    02DA8 0131      MOVW	R6,R2
    02DA9 01F1      MOVW	R30,R2
    02DAA 8020      LD	R2,Z
    02DAB 8031      LDD	R3,Z+1
    02DAC 8042      LDD	R4,Z+2
    02DAD 8053      LDD	R5,Z+3
    02DAE 9180 0114 LDS	R24,temp_l
    02DB0 9190 0115 LDS	R25,temp_l+1
    02DB2 7F80      ANDI	R24,0xF0
    02DB3 7090      ANDI	R25,0
    02DB4 9596      LSR	R25
    02DB5 9587      ROR	R24
    02DB6 9596      LSR	R25
    02DB7 9587      ROR	R24
    02DB8 9596      LSR	R25
    02DB9 9587      ROR	R24
    02DBA 9596      LSR	R25
    02DBB 9587      ROR	R24
    02DBC 9100 0112 LDS	R16,temp_h
    02DBE 9110 0113 LDS	R17,temp_h+1
    02DC0 730F      ANDI	R16,0x3F
    02DC1 7010      ANDI	R17,0
    02DC2 0F00      LSL	R16
    02DC3 1F11      ROL	R17
    02DC4 0F00      LSL	R16
    02DC5 1F11      ROL	R17
    02DC6 0F00      LSL	R16
    02DC7 1F11      ROL	R17
    02DC8 0F00      LSL	R16
    02DC9 1F11      ROL	R17
    02DCA 2B08      OR	R16,R24
    02DCB 2B19      OR	R17,R25
    02DCC 940E 38EB CALL	uint2fp
    02DCE 933A      ST	-Y,R19
    02DCF 932A      ST	-Y,R18
    02DD0 931A      ST	-Y,R17
    02DD1 930A      ST	-Y,R16
    02DD2 0181      MOVW	R16,R2
    02DD3 0192      MOVW	R18,R4
    02DD4 940E 387E CALL	fpadd2
    02DD6 01F3      MOVW	R30,R6
    02DD7 8300      ST	Z,R16
    02DD8 8311      STD	Z+1,R17
    02DD9 8322      STD	Z+2,R18
    02DDA 8333      STD	Z+3,R19
    02DDB 5F6F      SUBI	R22,0xFF
    02DDC 4F7F      SBCI	R23,0xFF
    02DDD 3069      CPI	R22,0x9
    02DDE E0E0      LDI	R30,0
    02DDF 077E      CPC	R23,R30
    02DE0 F408      BCC	0x2DE2
    02DE1 CFBC      RJMP	0x2D9E
(0307) 			  }
(0308) 			    temps[i].actualtemp/=10;
    02DE2 E404      LDI	R16,0x44
    02DE3 E011      LDI	R17,1
    02DE4 019A      MOVW	R18,R20
    02DE5 940E 376C CALL	empy16s
    02DE7 0118      MOVW	R2,R16
    02DE8 E38A      LDI	R24,0x3A
    02DE9 E092      LDI	R25,2
    02DEA 0E28      ADD	R2,R24
    02DEB 1E39      ADC	R3,R25
    02DEC 0131      MOVW	R6,R2
    02DED 01F1      MOVW	R30,R2
    02DEE 8020      LD	R2,Z
    02DEF 8031      LDD	R3,Z+1
    02DF0 8042      LDD	R4,Z+2
    02DF1 8053      LDD	R5,Z+3
    02DF2 E908      LDI	R16,0x98
    02DF3 E010      LDI	R17,0
    02DF4 940E 3758 CALL	elpm32
    02DF6 933A      ST	-Y,R19
    02DF7 932A      ST	-Y,R18
    02DF8 931A      ST	-Y,R17
    02DF9 930A      ST	-Y,R16
    02DFA 0181      MOVW	R16,R2
    02DFB 0192      MOVW	R18,R4
    02DFC 940E 3918 CALL	fpdiv2
    02DFE 01F3      MOVW	R30,R6
    02DFF 8300      ST	Z,R16
    02E00 8311      STD	Z+1,R17
    02E01 8322      STD	Z+2,R18
    02E02 8333      STD	Z+3,R19
(0309) 		        if(temps[i].status & 0x01){//恒温阶段，使用pid算法。temps[i].status & 0x01如果是1代表是奇数，0代表是偶数
    02E03 E404      LDI	R16,0x44
    02E04 E011      LDI	R17,1
    02E05 019A      MOVW	R18,R20
    02E06 940E 376C CALL	empy16s
    02E08 E280      LDI	R24,0x20
    02E09 E092      LDI	R25,2
    02E0A 01F8      MOVW	R30,R16
    02E0B 0FE8      ADD	R30,R24
    02E0C 1FF9      ADC	R31,R25
    02E0D 8020      LD	R2,Z
    02E0E 8031      LDD	R3,Z+1
    02E0F FE20      SBRS	R2,0
    02E10 C001      RJMP	0x2E12
(0310) 				   //PID_realize(i);//启用pid算法
(0311)                 }else if(temps[i].settemp-temps[i].actualtemp<10){
    02E11 C08D      RJMP	0x2E9F
    02E12 E404      LDI	R16,0x44
    02E13 E011      LDI	R17,1
    02E14 019A      MOVW	R18,R20
    02E15 940E 376C CALL	empy16s
    02E17 0158      MOVW	R10,R16
    02E18 E386      LDI	R24,0x36
    02E19 E092      LDI	R25,2
    02E1A 01F5      MOVW	R30,R10
    02E1B 0FE8      ADD	R30,R24
    02E1C 1FF9      ADC	R31,R25
    02E1D 8100      LD	R16,Z
    02E1E 8111      LDD	R17,Z+1
    02E1F 8122      LDD	R18,Z+2
    02E20 8133      LDD	R19,Z+3
    02E21 E38A      LDI	R24,0x3A
    02E22 E092      LDI	R25,2
    02E23 0115      MOVW	R2,R10
    02E24 0E28      ADD	R2,R24
    02E25 1E39      ADC	R3,R25
    02E26 923A      ST	-Y,R3
    02E27 922A      ST	-Y,R2
    02E28 940E 3889 CALL	fpsub1
    02E2A 0118      MOVW	R2,R16
    02E2B 0129      MOVW	R4,R18
    02E2C E908      LDI	R16,0x98
    02E2D E010      LDI	R17,0
    02E2E 940E 3758 CALL	elpm32
    02E30 933A      ST	-Y,R19
    02E31 932A      ST	-Y,R18
    02E32 931A      ST	-Y,R17
    02E33 930A      ST	-Y,R16
    02E34 0181      MOVW	R16,R2
    02E35 0192      MOVW	R18,R4
    02E36 940E 3ABB CALL	fpcmp2
    02E38 F00C      BLT	0x2E3A
    02E39 C065      RJMP	0x2E9F
(0312) 		           //升温或阶段，如果温度接近某个温度则开始使用PID算法。这个值要重新考虑
(0313) 				   //PID_realize(i);//启用pid算法
(0314) 		         }else {//升温使用pi算法
(0315) 		            //PI_realize(i);//启用pi算法
(0316) 		         }
(0317) 	      }else if(temps[i].flag==5){//初始化参数
    02E3A C064      RJMP	0x2E9F
    02E3B E404      LDI	R16,0x44
    02E3C E011      LDI	R17,1
    02E3D 019A      MOVW	R18,R20
    02E3E 940E 376C CALL	empy16s
    02E40 E186      LDI	R24,0x16
    02E41 E091      LDI	R25,1
    02E42 01F8      MOVW	R30,R16
    02E43 0FE8      ADD	R30,R24
    02E44 1FF9      ADC	R31,R25
    02E45 8180      LD	R24,Z
    02E46 8191      LDD	R25,Z+1
    02E47 3085      CPI	R24,5
    02E48 E0E0      LDI	R30,0
    02E49 079E      CPC	R25,R30
    02E4A F009      BEQ	0x2E4C
    02E4B C035      RJMP	0x2E81
(0318) 	             temps[i].flag=1;
    02E4C E404      LDI	R16,0x44
    02E4D E011      LDI	R17,1
    02E4E 019A      MOVW	R18,R20
    02E4F 940E 376C CALL	empy16s
    02E51 E186      LDI	R24,0x16
    02E52 E091      LDI	R25,1
    02E53 01F8      MOVW	R30,R16
    02E54 0FE8      ADD	R30,R24
    02E55 1FF9      ADC	R31,R25
    02E56 E081      LDI	R24,1
    02E57 E090      LDI	R25,0
    02E58 8391      STD	Z+1,R25
    02E59 8380      ST	Z,R24
(0319) 				 temps[i].status=1;
    02E5A E404      LDI	R16,0x44
    02E5B E011      LDI	R17,1
    02E5C 019A      MOVW	R18,R20
    02E5D 940E 376C CALL	empy16s
    02E5F E280      LDI	R24,0x20
    02E60 E092      LDI	R25,2
    02E61 01F8      MOVW	R30,R16
    02E62 0FE8      ADD	R30,R24
    02E63 1FF9      ADC	R31,R25
    02E64 E081      LDI	R24,1
    02E65 E090      LDI	R25,0
    02E66 8391      STD	Z+1,R25
    02E67 8380      ST	Z,R24
(0320) 				 temps[i].statusflag=1;
    02E68 E404      LDI	R16,0x44
    02E69 E011      LDI	R17,1
    02E6A 019A      MOVW	R18,R20
    02E6B 940E 376C CALL	empy16s
    02E6D E28A      LDI	R24,0x2A
    02E6E E092      LDI	R25,2
    02E6F 01F8      MOVW	R30,R16
    02E70 0FE8      ADD	R30,R24
    02E71 1FF9      ADC	R31,R25
    02E72 E081      LDI	R24,1
    02E73 E090      LDI	R25,0
    02E74 8391      STD	Z+1,R25
    02E75 8380      ST	Z,R24
(0321) 				  EEPROM_write(i+1,133,5);//先写状态为5，预防在刚开始还未记录状态时候发生断电。
    02E76 E085      LDI	R24,5
    02E77 8399      STD	Y+1,R25
    02E78 8388      ST	Y,R24
    02E79 E825      LDI	R18,0x85
    02E7A E030      LDI	R19,0
    02E7B 018A      MOVW	R16,R20
    02E7C 5F0F      SUBI	R16,0xFF
    02E7D 4F1F      SBCI	R17,0xFF
    02E7E 940E 0F5F CALL	_EEPROM_write
(0322) 	      }else if(temps[i].flag==2){//故障的,设置标志位位未初始化，但是状态和温度数据可能存在、所以可以直接恢复
    02E80 C01E      RJMP	0x2E9F
    02E81 E404      LDI	R16,0x44
    02E82 E011      LDI	R17,1
    02E83 019A      MOVW	R18,R20
    02E84 940E 376C CALL	empy16s
    02E86 E186      LDI	R24,0x16
    02E87 E091      LDI	R25,1
    02E88 01F8      MOVW	R30,R16
    02E89 0FE8      ADD	R30,R24
    02E8A 1FF9      ADC	R31,R25
    02E8B 8180      LD	R24,Z
    02E8C 8191      LDD	R25,Z+1
    02E8D 3082      CPI	R24,2
    02E8E E0E0      LDI	R30,0
    02E8F 079E      CPC	R25,R30
    02E90 F471      BNE	0x2E9F
(0323) 		       temps[i].flag=0;
    02E91 E404      LDI	R16,0x44
    02E92 E011      LDI	R17,1
    02E93 019A      MOVW	R18,R20
    02E94 940E 376C CALL	empy16s
    02E96 E186      LDI	R24,0x16
    02E97 E091      LDI	R25,1
    02E98 01F8      MOVW	R30,R16
    02E99 0FE8      ADD	R30,R24
    02E9A 1FF9      ADC	R31,R25
    02E9B 2422      CLR	R2
    02E9C 2433      CLR	R3
    02E9D 8231      STD	Z+1,R3
    02E9E 8220      ST	Z,R2
    02E9F 5F4F      SUBI	R20,0xFF
    02EA0 4F5F      SBCI	R21,0xFF
    02EA1 3044      CPI	R20,4
    02EA2 E0E0      LDI	R30,0
    02EA3 075E      CPC	R21,R30
    02EA4 F408      BCC	0x2EA6
    02EA5 CEA1      RJMP	0x2D47
    02EA6 9622      ADIW	R28,2
    02EA7 940C 37B9 JMP	pop_xgsetF00C
_tempdata_init:
  j                    --> R22
  i                    --> R20
    02EA9 940E 37A8 CALL	push_xgsetF000
(0324) 	      }
(0325) 	  }
(0326)    }
(0327) }
(0328) 
(0329) //开机初始化空间。全部置0,不初始化数据，等用户或EEPROM数据回填
(0330) void tempdata_init(void){
(0331)  uint i,j;
(0332)  for(i=0;i<4;i++){
    02EAB 2744      CLR	R20
    02EAC 2755      CLR	R21
    02EAD C168      RJMP	0x3016
(0333)     temps[i].flag=0;
    02EAE E404      LDI	R16,0x44
    02EAF E011      LDI	R17,1
    02EB0 019A      MOVW	R18,R20
    02EB1 940E 376C CALL	empy16s
    02EB3 E186      LDI	R24,0x16
    02EB4 E091      LDI	R25,1
    02EB5 01F8      MOVW	R30,R16
    02EB6 0FE8      ADD	R30,R24
    02EB7 1FF9      ADC	R31,R25
    02EB8 2422      CLR	R2
    02EB9 2433      CLR	R3
    02EBA 8231      STD	Z+1,R3
    02EBB 8220      ST	Z,R2
(0334) 	for(j=0;j<132;j++){
    02EBC 2766      CLR	R22
    02EBD 2777      CLR	R23
    02EBE C015      RJMP	0x2ED4
(0335) 	 temps[i].temp_data[j]=0;
    02EBF E404      LDI	R16,0x44
    02EC0 E011      LDI	R17,1
    02EC1 019A      MOVW	R18,R20
    02EC2 940E 376C CALL	empy16s
    02EC4 0118      MOVW	R2,R16
    02EC5 E188      LDI	R24,0x18
    02EC6 E091      LDI	R25,1
    02EC7 0E28      ADD	R2,R24
    02EC8 1E39      ADC	R3,R25
    02EC9 01FB      MOVW	R30,R22
    02ECA 0FEE      LSL	R30
    02ECB 1FFF      ROL	R31
    02ECC 0DE2      ADD	R30,R2
    02ECD 1DF3      ADC	R31,R3
    02ECE 2422      CLR	R2
    02ECF 2433      CLR	R3
    02ED0 8231      STD	Z+1,R3
    02ED1 8220      ST	Z,R2
    02ED2 5F6F      SUBI	R22,0xFF
    02ED3 4F7F      SBCI	R23,0xFF
    02ED4 3864      CPI	R22,0x84
    02ED5 E0E0      LDI	R30,0
    02ED6 077E      CPC	R23,R30
    02ED7 F338      BCS	0x2EBF
(0336) 	}
(0337) 	temps[i].status=0;
    02ED8 E404      LDI	R16,0x44
    02ED9 E011      LDI	R17,1
    02EDA 019A      MOVW	R18,R20
    02EDB 940E 376C CALL	empy16s
    02EDD E280      LDI	R24,0x20
    02EDE E092      LDI	R25,2
    02EDF 01F8      MOVW	R30,R16
    02EE0 0FE8      ADD	R30,R24
    02EE1 1FF9      ADC	R31,R25
    02EE2 2422      CLR	R2
    02EE3 2433      CLR	R3
    02EE4 8231      STD	Z+1,R3
    02EE5 8220      ST	Z,R2
(0338) 	temps[i].needtime=0;
    02EE6 E404      LDI	R16,0x44
    02EE7 E011      LDI	R17,1
    02EE8 019A      MOVW	R18,R20
    02EE9 940E 376C CALL	empy16s
    02EEB E282      LDI	R24,0x22
    02EEC E092      LDI	R25,2
    02EED 01F8      MOVW	R30,R16
    02EEE 0FE8      ADD	R30,R24
    02EEF 1FF9      ADC	R31,R25
    02EF0 2422      CLR	R2
    02EF1 2433      CLR	R3
    02EF2 8231      STD	Z+1,R3
    02EF3 8220      ST	Z,R2
(0339) 	temps[i].nowtime=0;
    02EF4 E404      LDI	R16,0x44
    02EF5 E011      LDI	R17,1
    02EF6 019A      MOVW	R18,R20
    02EF7 940E 376C CALL	empy16s
    02EF9 E284      LDI	R24,0x24
    02EFA E092      LDI	R25,2
    02EFB 01F8      MOVW	R30,R16
    02EFC 0FE8      ADD	R30,R24
    02EFD 1FF9      ADC	R31,R25
    02EFE 2422      CLR	R2
    02EFF 2433      CLR	R3
    02F00 8231      STD	Z+1,R3
    02F01 8220      ST	Z,R2
(0340) 	temps[i].pertime=0;//每1C需要时间，计时
    02F02 E404      LDI	R16,0x44
    02F03 E011      LDI	R17,1
    02F04 019A      MOVW	R18,R20
    02F05 940E 376C CALL	empy16s
    02F07 E286      LDI	R24,0x26
    02F08 E092      LDI	R25,2
    02F09 01F8      MOVW	R30,R16
    02F0A 0FE8      ADD	R30,R24
    02F0B 1FF9      ADC	R31,R25
    02F0C 2422      CLR	R2
    02F0D 2433      CLR	R3
    02F0E 8231      STD	Z+1,R3
    02F0F 8220      ST	Z,R2
(0341) 	temps[i].pertimecnt=0;//每1C需要时间，计时器
    02F10 E404      LDI	R16,0x44
    02F11 E011      LDI	R17,1
    02F12 019A      MOVW	R18,R20
    02F13 940E 376C CALL	empy16s
    02F15 E288      LDI	R24,0x28
    02F16 E092      LDI	R25,2
    02F17 01F8      MOVW	R30,R16
    02F18 0FE8      ADD	R30,R24
    02F19 1FF9      ADC	R31,R25
    02F1A 2422      CLR	R2
    02F1B 2433      CLR	R3
    02F1C 8231      STD	Z+1,R3
    02F1D 8220      ST	Z,R2
(0342) 	temps[i].statusflag=1;//是否第一次进入当前状态,1、第一次；0、不是第一次
    02F1E E404      LDI	R16,0x44
    02F1F E011      LDI	R17,1
    02F20 019A      MOVW	R18,R20
    02F21 940E 376C CALL	empy16s
    02F23 E28A      LDI	R24,0x2A
    02F24 E092      LDI	R25,2
    02F25 01F8      MOVW	R30,R16
    02F26 0FE8      ADD	R30,R24
    02F27 1FF9      ADC	R31,R25
    02F28 E081      LDI	R24,1
    02F29 E090      LDI	R25,0
    02F2A 8391      STD	Z+1,R25
    02F2B 8380      ST	Z,R24
(0343) 		//控制相关
(0344) 	temps[i].p_settemp=0;//升温时候的小阶段需要温度
    02F2C E404      LDI	R16,0x44
    02F2D E011      LDI	R17,1
    02F2E 019A      MOVW	R18,R20
    02F2F 940E 376C CALL	empy16s
    02F31 E28C      LDI	R24,0x2C
    02F32 E092      LDI	R25,2
    02F33 01F8      MOVW	R30,R16
    02F34 0FE8      ADD	R30,R24
    02F35 1FF9      ADC	R31,R25
    02F36 2422      CLR	R2
    02F37 2433      CLR	R3
    02F38 8231      STD	Z+1,R3
    02F39 8220      ST	Z,R2
(0345) 	temps[i].p_err_next=0;//升温阶段控制使用
    02F3A E404      LDI	R16,0x44
    02F3B E011      LDI	R17,1
    02F3C 019A      MOVW	R18,R20
    02F3D 940E 376C CALL	empy16s
    02F3F E28E      LDI	R24,0x2E
    02F40 E092      LDI	R25,2
    02F41 01F8      MOVW	R30,R16
    02F42 0FE8      ADD	R30,R24
    02F43 1FF9      ADC	R31,R25
    02F44 2422      CLR	R2
    02F45 2433      CLR	R3
    02F46 8231      STD	Z+1,R3
    02F47 8220      ST	Z,R2
(0346) 	temps[i].p_Kp=0;//升温阶段控制使用
    02F48 E404      LDI	R16,0x44
    02F49 E011      LDI	R17,1
    02F4A 019A      MOVW	R18,R20
    02F4B 940E 376C CALL	empy16s
    02F4D E380      LDI	R24,0x30
    02F4E E092      LDI	R25,2
    02F4F 01F8      MOVW	R30,R16
    02F50 0FE8      ADD	R30,R24
    02F51 1FF9      ADC	R31,R25
    02F52 2422      CLR	R2
    02F53 2433      CLR	R3
    02F54 8231      STD	Z+1,R3
    02F55 8220      ST	Z,R2
(0347) 	temps[i].p_Ki=0;//升温阶段控制使用
    02F56 E404      LDI	R16,0x44
    02F57 E011      LDI	R17,1
    02F58 019A      MOVW	R18,R20
    02F59 940E 376C CALL	empy16s
    02F5B E382      LDI	R24,0x32
    02F5C E092      LDI	R25,2
    02F5D 01F8      MOVW	R30,R16
    02F5E 0FE8      ADD	R30,R24
    02F5F 1FF9      ADC	R31,R25
    02F60 2422      CLR	R2
    02F61 2433      CLR	R3
    02F62 8231      STD	Z+1,R3
    02F63 8220      ST	Z,R2
(0348)     temps[i].p_err_last=0;
    02F64 E404      LDI	R16,0x44
    02F65 E011      LDI	R17,1
    02F66 019A      MOVW	R18,R20
    02F67 940E 376C CALL	empy16s
    02F69 E384      LDI	R24,0x34
    02F6A E092      LDI	R25,2
    02F6B 01F8      MOVW	R30,R16
    02F6C 0FE8      ADD	R30,R24
    02F6D 1FF9      ADC	R31,R25
    02F6E 2422      CLR	R2
    02F6F 2433      CLR	R3
    02F70 8231      STD	Z+1,R3
    02F71 8220      ST	Z,R2
(0349) 	temps[i].settemp=0;
    02F72 E404      LDI	R16,0x44
    02F73 E011      LDI	R17,1
    02F74 019A      MOVW	R18,R20
    02F75 940E 376C CALL	empy16s
    02F77 E386      LDI	R24,0x36
    02F78 E092      LDI	R25,2
    02F79 01F8      MOVW	R30,R16
    02F7A 0FE8      ADD	R30,R24
    02F7B 1FF9      ADC	R31,R25
    02F7C E904      LDI	R16,0x94
    02F7D E010      LDI	R17,0
    02F7E 940E 3758 CALL	elpm32
    02F80 8300      ST	Z,R16
    02F81 8311      STD	Z+1,R17
    02F82 8322      STD	Z+2,R18
    02F83 8333      STD	Z+3,R19
(0350) 	temps[i].actualtemp=0;
    02F84 E404      LDI	R16,0x44
    02F85 E011      LDI	R17,1
    02F86 019A      MOVW	R18,R20
    02F87 940E 376C CALL	empy16s
    02F89 E38A      LDI	R24,0x3A
    02F8A E092      LDI	R25,2
    02F8B 01F8      MOVW	R30,R16
    02F8C 0FE8      ADD	R30,R24
    02F8D 1FF9      ADC	R31,R25
    02F8E E904      LDI	R16,0x94
    02F8F E010      LDI	R17,0
    02F90 940E 3758 CALL	elpm32
    02F92 8300      ST	Z,R16
    02F93 8311      STD	Z+1,R17
    02F94 8322      STD	Z+2,R18
    02F95 8333      STD	Z+3,R19
(0351) 	temps[i].err=0;
    02F96 E404      LDI	R16,0x44
    02F97 E011      LDI	R17,1
    02F98 019A      MOVW	R18,R20
    02F99 940E 376C CALL	empy16s
    02F9B E38E      LDI	R24,0x3E
    02F9C E092      LDI	R25,2
    02F9D 01F8      MOVW	R30,R16
    02F9E 0FE8      ADD	R30,R24
    02F9F 1FF9      ADC	R31,R25
    02FA0 E904      LDI	R16,0x94
    02FA1 E010      LDI	R17,0
    02FA2 940E 3758 CALL	elpm32
    02FA4 8300      ST	Z,R16
    02FA5 8311      STD	Z+1,R17
    02FA6 8322      STD	Z+2,R18
    02FA7 8333      STD	Z+3,R19
(0352) 	 temps[i].err_last=0;
    02FA8 E404      LDI	R16,0x44
    02FA9 E011      LDI	R17,1
    02FAA 019A      MOVW	R18,R20
    02FAB 940E 376C CALL	empy16s
    02FAD E482      LDI	R24,0x42
    02FAE E092      LDI	R25,2
    02FAF 01F8      MOVW	R30,R16
    02FB0 0FE8      ADD	R30,R24
    02FB1 1FF9      ADC	R31,R25
    02FB2 E904      LDI	R16,0x94
    02FB3 E010      LDI	R17,0
    02FB4 940E 3758 CALL	elpm32
    02FB6 8300      ST	Z,R16
    02FB7 8311      STD	Z+1,R17
    02FB8 8322      STD	Z+2,R18
    02FB9 8333      STD	Z+3,R19
(0353) 	 temps[i].err_next=0;
    02FBA E404      LDI	R16,0x44
    02FBB E011      LDI	R17,1
    02FBC 019A      MOVW	R18,R20
    02FBD 940E 376C CALL	empy16s
    02FBF E486      LDI	R24,0x46
    02FC0 E092      LDI	R25,2
    02FC1 01F8      MOVW	R30,R16
    02FC2 0FE8      ADD	R30,R24
    02FC3 1FF9      ADC	R31,R25
    02FC4 E904      LDI	R16,0x94
    02FC5 E010      LDI	R17,0
    02FC6 940E 3758 CALL	elpm32
    02FC8 8300      ST	Z,R16
    02FC9 8311      STD	Z+1,R17
    02FCA 8322      STD	Z+2,R18
    02FCB 8333      STD	Z+3,R19
(0354) 	 temps[i].Kp=0.0;
    02FCC E404      LDI	R16,0x44
    02FCD E011      LDI	R17,1
    02FCE 019A      MOVW	R18,R20
    02FCF 940E 376C CALL	empy16s
    02FD1 E48A      LDI	R24,0x4A
    02FD2 E092      LDI	R25,2
    02FD3 01F8      MOVW	R30,R16
    02FD4 0FE8      ADD	R30,R24
    02FD5 1FF9      ADC	R31,R25
    02FD6 E904      LDI	R16,0x94
    02FD7 E010      LDI	R17,0
    02FD8 940E 3758 CALL	elpm32
    02FDA 8300      ST	Z,R16
    02FDB 8311      STD	Z+1,R17
    02FDC 8322      STD	Z+2,R18
    02FDD 8333      STD	Z+3,R19
(0355) 	 temps[i].Ki=0.0;
    02FDE E404      LDI	R16,0x44
    02FDF E011      LDI	R17,1
    02FE0 019A      MOVW	R18,R20
    02FE1 940E 376C CALL	empy16s
    02FE3 E48E      LDI	R24,0x4E
    02FE4 E092      LDI	R25,2
    02FE5 01F8      MOVW	R30,R16
    02FE6 0FE8      ADD	R30,R24
    02FE7 1FF9      ADC	R31,R25
    02FE8 E904      LDI	R16,0x94
    02FE9 E010      LDI	R17,0
    02FEA 940E 3758 CALL	elpm32
    02FEC 8300      ST	Z,R16
    02FED 8311      STD	Z+1,R17
    02FEE 8322      STD	Z+2,R18
    02FEF 8333      STD	Z+3,R19
(0356) 	 temps[i].Kd=0.0;
    02FF0 E404      LDI	R16,0x44
    02FF1 E011      LDI	R17,1
    02FF2 019A      MOVW	R18,R20
    02FF3 940E 376C CALL	empy16s
    02FF5 E582      LDI	R24,0x52
    02FF6 E092      LDI	R25,2
    02FF7 01F8      MOVW	R30,R16
    02FF8 0FE8      ADD	R30,R24
    02FF9 1FF9      ADC	R31,R25
    02FFA E904      LDI	R16,0x94
    02FFB E010      LDI	R17,0
    02FFC 940E 3758 CALL	elpm32
    02FFE 8300      ST	Z,R16
    02FFF 8311      STD	Z+1,R17
    03000 8322      STD	Z+2,R18
    03001 8333      STD	Z+3,R19
(0357) 	 temps[i].incrementtemp=25.0;
    03002 E404      LDI	R16,0x44
    03003 E011      LDI	R17,1
    03004 019A      MOVW	R18,R20
    03005 940E 376C CALL	empy16s
    03007 E586      LDI	R24,0x56
    03008 E092      LDI	R25,2
    03009 01F8      MOVW	R30,R16
    0300A 0FE8      ADD	R30,R24
    0300B 1FF9      ADC	R31,R25
    0300C E900      LDI	R16,0x90
    0300D E010      LDI	R17,0
    0300E 940E 3758 CALL	elpm32
    03010 8300      ST	Z,R16
    03011 8311      STD	Z+1,R17
    03012 8322      STD	Z+2,R18
    03013 8333      STD	Z+3,R19
    03014 5F4F      SUBI	R20,0xFF
    03015 4F5F      SBCI	R21,0xFF
    03016 3044      CPI	R20,4
    03017 E0E0      LDI	R30,0
    03018 075E      CPC	R21,R30
    03019 F408      BCC	0x301B
    0301A CE93      RJMP	0x2EAE
    0301B 940C 37AD JMP	pop_xgsetF000
_data_recover:
  dataC                --> R22
  i                    --> R20
  j                    --> R22
    0301D 940E 37CE CALL	push_xgsetF03C
(0358)  } 
(0359) }
(0360) void data_recover(void){
(0361)  uint i,j;
(0362)  uint dataC;
(0363)  for(i=0;i<4;i++){
    0301F 2744      CLR	R20
    03020 2755      CLR	R21
    03021 C12C      RJMP	0x314E
(0364)    dataC=EEPROM_read(i+1,0);//读取标记位
    03022 2722      CLR	R18
    03023 2733      CLR	R19
    03024 018A      MOVW	R16,R20
    03025 5F0F      SUBI	R16,0xFF
    03026 4F1F      SBCI	R17,0xFF
    03027 940E 0F76 CALL	_EEPROM_read
    03029 01B8      MOVW	R22,R16
(0365)    if(dataC==1){
    0302A 3001      CPI	R16,1
    0302B E0E0      LDI	R30,0
    0302C 071E      CPC	R17,R30
    0302D F009      BEQ	0x302F
    0302E C11D      RJMP	0x314C
(0366)       temps[i].flag=EEPROM_read(i+1,133);
    0302F E825      LDI	R18,0x85
    03030 E030      LDI	R19,0
    03031 018A      MOVW	R16,R20
    03032 5F0F      SUBI	R16,0xFF
    03033 4F1F      SBCI	R17,0xFF
    03034 940E 0F76 CALL	_EEPROM_read
    03036 0118      MOVW	R2,R16
    03037 E404      LDI	R16,0x44
    03038 E011      LDI	R17,1
    03039 019A      MOVW	R18,R20
    0303A 940E 376C CALL	empy16s
    0303C E186      LDI	R24,0x16
    0303D E091      LDI	R25,1
    0303E 01F8      MOVW	R30,R16
    0303F 0FE8      ADD	R30,R24
    03040 1FF9      ADC	R31,R25
    03041 8231      STD	Z+1,R3
    03042 8220      ST	Z,R2
(0367) 	  if(temps[i].flag==1 || temps[i].flag==3){
    03043 E404      LDI	R16,0x44
    03044 E011      LDI	R17,1
    03045 019A      MOVW	R18,R20
    03046 940E 376C CALL	empy16s
    03048 E186      LDI	R24,0x16
    03049 E091      LDI	R25,1
    0304A 01F8      MOVW	R30,R16
    0304B 0FE8      ADD	R30,R24
    0304C 1FF9      ADC	R31,R25
    0304D 8160      LD	R22,Z
    0304E 8171      LDD	R23,Z+1
    0304F 3061      CPI	R22,1
    03050 E0E0      LDI	R30,0
    03051 077E      CPC	R23,R30
    03052 F029      BEQ	0x3058
    03053 3063      CPI	R22,3
    03054 E0E0      LDI	R30,0
    03055 077E      CPC	R23,R30
    03056 F009      BEQ	0x3058
    03057 C0D1      RJMP	0x3129
(0368) 	    temps[i].status=EEPROM_read(i+1,134);
    03058 E826      LDI	R18,0x86
    03059 E030      LDI	R19,0
    0305A 018A      MOVW	R16,R20
    0305B 5F0F      SUBI	R16,0xFF
    0305C 4F1F      SBCI	R17,0xFF
    0305D 940E 0F76 CALL	_EEPROM_read
    0305F 0158      MOVW	R10,R16
    03060 E404      LDI	R16,0x44
    03061 E011      LDI	R17,1
    03062 019A      MOVW	R18,R20
    03063 940E 376C CALL	empy16s
    03065 E280      LDI	R24,0x20
    03066 E092      LDI	R25,2
    03067 01F8      MOVW	R30,R16
    03068 0FE8      ADD	R30,R24
    03069 1FF9      ADC	R31,R25
    0306A 82B1      STD	Z+1,R11
    0306B 82A0      ST	Z,R10
(0369) 	    temps[i].needtime =EEPROM_read(i+1,135)<<8 | EEPROM_read(i+1,136);
    0306C E827      LDI	R18,0x87
    0306D E030      LDI	R19,0
    0306E 018A      MOVW	R16,R20
    0306F 5F0F      SUBI	R16,0xFF
    03070 4F1F      SBCI	R17,0xFF
    03071 940E 0F76 CALL	_EEPROM_read
    03073 0168      MOVW	R12,R16
    03074 E828      LDI	R18,0x88
    03075 E030      LDI	R19,0
    03076 018A      MOVW	R16,R20
    03077 5F0F      SUBI	R16,0xFF
    03078 4F1F      SBCI	R17,0xFF
    03079 940E 0F76 CALL	_EEPROM_read
    0307B 0158      MOVW	R10,R16
    0307C E404      LDI	R16,0x44
    0307D E011      LDI	R17,1
    0307E 019A      MOVW	R18,R20
    0307F 940E 376C CALL	empy16s
    03081 E282      LDI	R24,0x22
    03082 E092      LDI	R25,2
    03083 01F8      MOVW	R30,R16
    03084 0FE8      ADD	R30,R24
    03085 1FF9      ADC	R31,R25
    03086 0116      MOVW	R2,R12
    03087 2C32      MOV	R3,R2
    03088 2422      CLR	R2
    03089 282A      OR	R2,R10
    0308A 283B      OR	R3,R11
    0308B 8231      STD	Z+1,R3
    0308C 8220      ST	Z,R2
(0370) 		temps[i].nowtime=EEPROM_read(i+1,137)<<8  | EEPROM_read(i+1,138);
    0308D E829      LDI	R18,0x89
    0308E E030      LDI	R19,0
    0308F 018A      MOVW	R16,R20
    03090 5F0F      SUBI	R16,0xFF
    03091 4F1F      SBCI	R17,0xFF
    03092 940E 0F76 CALL	_EEPROM_read
    03094 0168      MOVW	R12,R16
    03095 E82A      LDI	R18,0x8A
    03096 E030      LDI	R19,0
    03097 018A      MOVW	R16,R20
    03098 5F0F      SUBI	R16,0xFF
    03099 4F1F      SBCI	R17,0xFF
    0309A 940E 0F76 CALL	_EEPROM_read
    0309C 0158      MOVW	R10,R16
    0309D E404      LDI	R16,0x44
    0309E E011      LDI	R17,1
    0309F 019A      MOVW	R18,R20
    030A0 940E 376C CALL	empy16s
    030A2 E284      LDI	R24,0x24
    030A3 E092      LDI	R25,2
    030A4 01F8      MOVW	R30,R16
    030A5 0FE8      ADD	R30,R24
    030A6 1FF9      ADC	R31,R25
    030A7 0116      MOVW	R2,R12
    030A8 2C32      MOV	R3,R2
    030A9 2422      CLR	R2
    030AA 282A      OR	R2,R10
    030AB 283B      OR	R3,R11
    030AC 8231      STD	Z+1,R3
    030AD 8220      ST	Z,R2
(0371) 	    temps[i].pertime=EEPROM_read(i+1,139)<<8 | EEPROM_read(i+1,140);
    030AE E82B      LDI	R18,0x8B
    030AF E030      LDI	R19,0
    030B0 018A      MOVW	R16,R20
    030B1 5F0F      SUBI	R16,0xFF
    030B2 4F1F      SBCI	R17,0xFF
    030B3 940E 0F76 CALL	_EEPROM_read
    030B5 0168      MOVW	R12,R16
    030B6 E82C      LDI	R18,0x8C
    030B7 E030      LDI	R19,0
    030B8 018A      MOVW	R16,R20
    030B9 5F0F      SUBI	R16,0xFF
    030BA 4F1F      SBCI	R17,0xFF
    030BB 940E 0F76 CALL	_EEPROM_read
    030BD 0158      MOVW	R10,R16
    030BE E404      LDI	R16,0x44
    030BF E011      LDI	R17,1
    030C0 019A      MOVW	R18,R20
    030C1 940E 376C CALL	empy16s
    030C3 E286      LDI	R24,0x26
    030C4 E092      LDI	R25,2
    030C5 01F8      MOVW	R30,R16
    030C6 0FE8      ADD	R30,R24
    030C7 1FF9      ADC	R31,R25
    030C8 0116      MOVW	R2,R12
    030C9 2C32      MOV	R3,R2
    030CA 2422      CLR	R2
    030CB 282A      OR	R2,R10
    030CC 283B      OR	R3,R11
    030CD 8231      STD	Z+1,R3
    030CE 8220      ST	Z,R2
(0372) 	    temps[i].statusflag=EEPROM_read(i+1,141);
    030CF E82D      LDI	R18,0x8D
    030D0 E030      LDI	R19,0
    030D1 018A      MOVW	R16,R20
    030D2 5F0F      SUBI	R16,0xFF
    030D3 4F1F      SBCI	R17,0xFF
    030D4 940E 0F76 CALL	_EEPROM_read
    030D6 0158      MOVW	R10,R16
    030D7 E404      LDI	R16,0x44
    030D8 E011      LDI	R17,1
    030D9 019A      MOVW	R18,R20
    030DA 940E 376C CALL	empy16s
    030DC E28A      LDI	R24,0x2A
    030DD E092      LDI	R25,2
    030DE 01F8      MOVW	R30,R16
    030DF 0FE8      ADD	R30,R24
    030E0 1FF9      ADC	R31,R25
    030E1 82B1      STD	Z+1,R11
    030E2 82A0      ST	Z,R10
(0373) 	    temps[i].p_settemp=EEPROM_read(i+1,142)<<8  | EEPROM_read(i+1,143);
    030E3 E82E      LDI	R18,0x8E
    030E4 E030      LDI	R19,0
    030E5 018A      MOVW	R16,R20
    030E6 5F0F      SUBI	R16,0xFF
    030E7 4F1F      SBCI	R17,0xFF
    030E8 940E 0F76 CALL	_EEPROM_read
    030EA 0168      MOVW	R12,R16
    030EB E82F      LDI	R18,0x8F
    030EC E030      LDI	R19,0
    030ED 018A      MOVW	R16,R20
    030EE 5F0F      SUBI	R16,0xFF
    030EF 4F1F      SBCI	R17,0xFF
    030F0 940E 0F76 CALL	_EEPROM_read
    030F2 0158      MOVW	R10,R16
    030F3 E404      LDI	R16,0x44
    030F4 E011      LDI	R17,1
    030F5 019A      MOVW	R18,R20
    030F6 940E 376C CALL	empy16s
    030F8 E28C      LDI	R24,0x2C
    030F9 E092      LDI	R25,2
    030FA 01F8      MOVW	R30,R16
    030FB 0FE8      ADD	R30,R24
    030FC 1FF9      ADC	R31,R25
    030FD 0116      MOVW	R2,R12
    030FE 2C32      MOV	R3,R2
    030FF 2422      CLR	R2
    03100 282A      OR	R2,R10
    03101 283B      OR	R3,R11
    03102 8231      STD	Z+1,R3
    03103 8220      ST	Z,R2
(0374) 	    temps[i].settemp=EEPROM_read(i+1,144)<<8 | EEPROM_read(i+1,145);
    03104 E920      LDI	R18,0x90
    03105 E030      LDI	R19,0
    03106 018A      MOVW	R16,R20
    03107 5F0F      SUBI	R16,0xFF
    03108 4F1F      SBCI	R17,0xFF
    03109 940E 0F76 CALL	_EEPROM_read
    0310B 0168      MOVW	R12,R16
    0310C E921      LDI	R18,0x91
    0310D E030      LDI	R19,0
    0310E 018A      MOVW	R16,R20
    0310F 5F0F      SUBI	R16,0xFF
    03110 4F1F      SBCI	R17,0xFF
    03111 940E 0F76 CALL	_EEPROM_read
    03113 0158      MOVW	R10,R16
    03114 E404      LDI	R16,0x44
    03115 E011      LDI	R17,1
    03116 019A      MOVW	R18,R20
    03117 940E 376C CALL	empy16s
    03119 E386      LDI	R24,0x36
    0311A E092      LDI	R25,2
    0311B 01F8      MOVW	R30,R16
    0311C 0FE8      ADD	R30,R24
    0311D 1FF9      ADC	R31,R25
    0311E 0186      MOVW	R16,R12
    0311F 2F10      MOV	R17,R16
    03120 2700      CLR	R16
    03121 290A      OR	R16,R10
    03122 291B      OR	R17,R11
    03123 940E 38EB CALL	uint2fp
    03125 8300      ST	Z,R16
    03126 8311      STD	Z+1,R17
    03127 8322      STD	Z+2,R18
    03128 8333      STD	Z+3,R19
(0375) 	  }
(0376) 	  for(j=0;j<132;j++){
    03129 2766      CLR	R22
    0312A 2777      CLR	R23
    0312B C01C      RJMP	0x3148
(0377) 	    temps[i].temp_data[j]=EEPROM_read(i+1,j+1);
    0312C 019B      MOVW	R18,R22
    0312D 5F2F      SUBI	R18,0xFF
    0312E 4F3F      SBCI	R19,0xFF
    0312F 018A      MOVW	R16,R20
    03130 5F0F      SUBI	R16,0xFF
    03131 4F1F      SBCI	R17,0xFF
    03132 940E 0F76 CALL	_EEPROM_read
    03134 0158      MOVW	R10,R16
    03135 E404      LDI	R16,0x44
    03136 E011      LDI	R17,1
    03137 019A      MOVW	R18,R20
    03138 940E 376C CALL	empy16s
    0313A 0118      MOVW	R2,R16
    0313B E188      LDI	R24,0x18
    0313C E091      LDI	R25,1
    0313D 0E28      ADD	R2,R24
    0313E 1E39      ADC	R3,R25
    0313F 01FB      MOVW	R30,R22
    03140 0FEE      LSL	R30
    03141 1FFF      ROL	R31
    03142 0DE2      ADD	R30,R2
    03143 1DF3      ADC	R31,R3
    03144 82B1      STD	Z+1,R11
    03145 82A0      ST	Z,R10
    03146 5F6F      SUBI	R22,0xFF
    03147 4F7F      SBCI	R23,0xFF
    03148 3864      CPI	R22,0x84
    03149 E0E0      LDI	R30,0
    0314A 077E      CPC	R23,R30
    0314B F300      BCS	0x312C
    0314C 5F4F      SUBI	R20,0xFF
    0314D 4F5F      SBCI	R21,0xFF
    0314E 3044      CPI	R20,4
    0314F E0E0      LDI	R30,0
    03150 075E      CPC	R21,R30
    03151 F408      BCC	0x3153
    03152 CECF      RJMP	0x3022
    03153 940C 37D7 JMP	pop_xgsetF03C
_set_temp_data:
  j                    --> R20
  dataCach             --> R10
  t                    --> R22
    03155 940E 37B2 CALL	push_xgsetF00C
    03157 0159      MOVW	R10,R18
    03158 01B8      MOVW	R22,R16
    03159 9722      SBIW	R28,2
(0378) 	   }
(0379) 	}
(0380)  } 
(0381) }
(0382) 
(0383) //设置指定的数据,保存相关标志位
(0384) void set_temp_data(uint t,uint* dataCach){
(0385)     uint j;
(0386) 	temps[t].flag=6;
    0315A E404      LDI	R16,0x44
    0315B E011      LDI	R17,1
    0315C 019B      MOVW	R18,R22
    0315D 940E 376C CALL	empy16s
    0315F E186      LDI	R24,0x16
    03160 E091      LDI	R25,1
    03161 01F8      MOVW	R30,R16
    03162 0FE8      ADD	R30,R24
    03163 1FF9      ADC	R31,R25
    03164 E086      LDI	R24,6
    03165 E090      LDI	R25,0
    03166 8391      STD	Z+1,R25
    03167 8380      ST	Z,R24
(0387) 	EEPROM_write(t+1,0,0x01);
    03168 E081      LDI	R24,1
    03169 8399      STD	Y+1,R25
    0316A 8388      ST	Y,R24
    0316B 2722      CLR	R18
    0316C 2733      CLR	R19
    0316D 018B      MOVW	R16,R22
    0316E 5F0F      SUBI	R16,0xFF
    0316F 4F1F      SBCI	R17,0xFF
    03170 940E 0F5F CALL	_EEPROM_write
(0388) 	EEPROM_write(t+1,133,6);
    03172 E086      LDI	R24,6
    03173 E090      LDI	R25,0
    03174 8399      STD	Y+1,R25
    03175 8388      ST	Y,R24
    03176 E825      LDI	R18,0x85
    03177 E030      LDI	R19,0
    03178 018B      MOVW	R16,R22
    03179 5F0F      SUBI	R16,0xFF
    0317A 4F1F      SBCI	R17,0xFF
    0317B 940E 0F5F CALL	_EEPROM_write
(0389)     for(j=0;j<132;j++){
    0317D 2744      CLR	R20
    0317E 2755      CLR	R21
    0317F C035      RJMP	0x31B5
(0390) 	   temps[t].temp_data[j]=*(dataCach+j);
    03180 011A      MOVW	R2,R20
    03181 0C22      LSL	R2
    03182 1C33      ROL	R3
    03183 0121      MOVW	R4,R2
    03184 E404      LDI	R16,0x44
    03185 E011      LDI	R17,1
    03186 019B      MOVW	R18,R22
    03187 940E 376C CALL	empy16s
    03189 0118      MOVW	R2,R16
    0318A E188      LDI	R24,0x18
    0318B E091      LDI	R25,1
    0318C 0E28      ADD	R2,R24
    0318D 1E39      ADC	R3,R25
    0318E 01F2      MOVW	R30,R4
    0318F 0DE2      ADD	R30,R2
    03190 1DF3      ADC	R31,R3
    03191 01D2      MOVW	R26,R4
    03192 0DAA      ADD	R26,R10
    03193 1DBB      ADC	R27,R11
    03194 902D      LD	R2,X+
    03195 903C      LD	R3,X
    03196 8231      STD	Z+1,R3
    03197 8220      ST	Z,R2
(0391) 	   EEPROM_write(t+1,j+1,temps[t].temp_data[j]);//这里要保存的
    03198 E404      LDI	R16,0x44
    03199 E011      LDI	R17,1
    0319A 019B      MOVW	R18,R22
    0319B 940E 376C CALL	empy16s
    0319D 0118      MOVW	R2,R16
    0319E E188      LDI	R24,0x18
    0319F E091      LDI	R25,1
    031A0 0E28      ADD	R2,R24
    031A1 1E39      ADC	R3,R25
    031A2 01FA      MOVW	R30,R20
    031A3 0FEE      LSL	R30
    031A4 1FFF      ROL	R31
    031A5 0DE2      ADD	R30,R2
    031A6 1DF3      ADC	R31,R3
    031A7 8020      LD	R2,Z
    031A8 8031      LDD	R3,Z+1
    031A9 8239      STD	Y+1,R3
    031AA 8228      ST	Y,R2
    031AB 019A      MOVW	R18,R20
    031AC 5F2F      SUBI	R18,0xFF
    031AD 4F3F      SBCI	R19,0xFF
    031AE 018B      MOVW	R16,R22
    031AF 5F0F      SUBI	R16,0xFF
    031B0 4F1F      SBCI	R17,0xFF
    031B1 940E 0F5F CALL	_EEPROM_write
    031B3 5F4F      SUBI	R20,0xFF
    031B4 4F5F      SBCI	R21,0xFF
    031B5 3844      CPI	R20,0x84
    031B6 E0E0      LDI	R30,0
    031B7 075E      CPC	R21,R30
    031B8 F408      BCC	0x31BA
    031B9 CFC6      RJMP	0x3180
    031BA 9622      ADIW	R28,2
    031BB 940C 37B9 JMP	pop_xgsetF00C
_reset_temp_data:
  j                    --> R22
  t                    --> R20
    031BD 940E 37A8 CALL	push_xgsetF000
    031BF 01A8      MOVW	R20,R16
    031C0 9722      SBIW	R28,2
(0392) 	}
(0393) }
(0394) 
(0395) //重置指定的数据,保存相关标志位
(0396) void reset_temp_data(uint t){
(0397)     uint j;
(0398) 	temps[t].flag=0;
    031C1 E404      LDI	R16,0x44
    031C2 E011      LDI	R17,1
    031C3 019A      MOVW	R18,R20
    031C4 940E 376C CALL	empy16s
    031C6 E186      LDI	R24,0x16
    031C7 E091      LDI	R25,1
    031C8 01F8      MOVW	R30,R16
    031C9 0FE8      ADD	R30,R24
    031CA 1FF9      ADC	R31,R25
    031CB 2422      CLR	R2
    031CC 2433      CLR	R3
    031CD 8231      STD	Z+1,R3
    031CE 8220      ST	Z,R2
(0399) 	temps[t].status=0;
    031CF E404      LDI	R16,0x44
    031D0 E011      LDI	R17,1
    031D1 019A      MOVW	R18,R20
    031D2 940E 376C CALL	empy16s
    031D4 E280      LDI	R24,0x20
    031D5 E092      LDI	R25,2
    031D6 01F8      MOVW	R30,R16
    031D7 0FE8      ADD	R30,R24
    031D8 1FF9      ADC	R31,R25
    031D9 2422      CLR	R2
    031DA 2433      CLR	R3
    031DB 8231      STD	Z+1,R3
    031DC 8220      ST	Z,R2
(0400) 	temps[t].statusflag=1;//是否第一次进入当前状态,1、第一次；0、不是第一次
    031DD E404      LDI	R16,0x44
    031DE E011      LDI	R17,1
    031DF 019A      MOVW	R18,R20
    031E0 940E 376C CALL	empy16s
    031E2 E28A      LDI	R24,0x2A
    031E3 E092      LDI	R25,2
    031E4 01F8      MOVW	R30,R16
    031E5 0FE8      ADD	R30,R24
    031E6 1FF9      ADC	R31,R25
    031E7 E081      LDI	R24,1
    031E8 E090      LDI	R25,0
    031E9 8391      STD	Z+1,R25
    031EA 8380      ST	Z,R24
(0401) 		//控制相关
(0402) 	temps[t].p_settemp=0;//升温时候的小阶段需要温度
    031EB E404      LDI	R16,0x44
    031EC E011      LDI	R17,1
    031ED 019A      MOVW	R18,R20
    031EE 940E 376C CALL	empy16s
    031F0 E28C      LDI	R24,0x2C
    031F1 E092      LDI	R25,2
    031F2 01F8      MOVW	R30,R16
    031F3 0FE8      ADD	R30,R24
    031F4 1FF9      ADC	R31,R25
    031F5 2422      CLR	R2
    031F6 2433      CLR	R3
    031F7 8231      STD	Z+1,R3
    031F8 8220      ST	Z,R2
(0403) 	temps[t].p_err_next=0;//升温阶段控制使用
    031F9 E404      LDI	R16,0x44
    031FA E011      LDI	R17,1
    031FB 019A      MOVW	R18,R20
    031FC 940E 376C CALL	empy16s
    031FE E28E      LDI	R24,0x2E
    031FF E092      LDI	R25,2
    03200 01F8      MOVW	R30,R16
    03201 0FE8      ADD	R30,R24
    03202 1FF9      ADC	R31,R25
    03203 2422      CLR	R2
    03204 2433      CLR	R3
    03205 8231      STD	Z+1,R3
    03206 8220      ST	Z,R2
(0404)     temps[t].p_err_last=0;
    03207 E404      LDI	R16,0x44
    03208 E011      LDI	R17,1
    03209 019A      MOVW	R18,R20
    0320A 940E 376C CALL	empy16s
    0320C E384      LDI	R24,0x34
    0320D E092      LDI	R25,2
    0320E 01F8      MOVW	R30,R16
    0320F 0FE8      ADD	R30,R24
    03210 1FF9      ADC	R31,R25
    03211 2422      CLR	R2
    03212 2433      CLR	R3
    03213 8231      STD	Z+1,R3
    03214 8220      ST	Z,R2
(0405) 	 temps[t].err_last=0;
    03215 E404      LDI	R16,0x44
    03216 E011      LDI	R17,1
    03217 019A      MOVW	R18,R20
    03218 940E 376C CALL	empy16s
    0321A E482      LDI	R24,0x42
    0321B E092      LDI	R25,2
    0321C 01F8      MOVW	R30,R16
    0321D 0FE8      ADD	R30,R24
    0321E 1FF9      ADC	R31,R25
    0321F E904      LDI	R16,0x94
    03220 E010      LDI	R17,0
    03221 940E 3758 CALL	elpm32
    03223 8300      ST	Z,R16
    03224 8311      STD	Z+1,R17
    03225 8322      STD	Z+2,R18
    03226 8333      STD	Z+3,R19
(0406) 	 temps[t].err_next=0;
    03227 E404      LDI	R16,0x44
    03228 E011      LDI	R17,1
    03229 019A      MOVW	R18,R20
    0322A 940E 376C CALL	empy16s
    0322C E486      LDI	R24,0x46
    0322D E092      LDI	R25,2
    0322E 01F8      MOVW	R30,R16
    0322F 0FE8      ADD	R30,R24
    03230 1FF9      ADC	R31,R25
    03231 E904      LDI	R16,0x94
    03232 E010      LDI	R17,0
    03233 940E 3758 CALL	elpm32
    03235 8300      ST	Z,R16
    03236 8311      STD	Z+1,R17
    03237 8322      STD	Z+2,R18
    03238 8333      STD	Z+3,R19
(0407) 	
(0408) 	EEPROM_write(t+1,0,0x00);
    03239 2422      CLR	R2
    0323A 2433      CLR	R3
    0323B 8239      STD	Y+1,R3
    0323C 8228      ST	Y,R2
    0323D 2722      CLR	R18
    0323E 2733      CLR	R19
    0323F 018A      MOVW	R16,R20
    03240 5F0F      SUBI	R16,0xFF
    03241 4F1F      SBCI	R17,0xFF
    03242 940E 0F5F CALL	_EEPROM_write
(0409) 	EEPROM_write(t+1,133,0x00);
    03244 2422      CLR	R2
    03245 2433      CLR	R3
    03246 8239      STD	Y+1,R3
    03247 8228      ST	Y,R2
    03248 E825      LDI	R18,0x85
    03249 E030      LDI	R19,0
    0324A 018A      MOVW	R16,R20
    0324B 5F0F      SUBI	R16,0xFF
    0324C 4F1F      SBCI	R17,0xFF
    0324D 940E 0F5F CALL	_EEPROM_write
(0410)     for(j=0;j<132;j++){
    0324F 2766      CLR	R22
    03250 2777      CLR	R23
    03251 C01F      RJMP	0x3271
(0411) 	   temps[t].temp_data[j]=0;
    03252 E404      LDI	R16,0x44
    03253 E011      LDI	R17,1
    03254 019A      MOVW	R18,R20
    03255 940E 376C CALL	empy16s
    03257 0118      MOVW	R2,R16
    03258 E188      LDI	R24,0x18
    03259 E091      LDI	R25,1
    0325A 0E28      ADD	R2,R24
    0325B 1E39      ADC	R3,R25
    0325C 01FB      MOVW	R30,R22
    0325D 0FEE      LSL	R30
    0325E 1FFF      ROL	R31
    0325F 0DE2      ADD	R30,R2
    03260 1DF3      ADC	R31,R3
    03261 2422      CLR	R2
    03262 2433      CLR	R3
    03263 8231      STD	Z+1,R3
    03264 8220      ST	Z,R2
(0412) 	   EEPROM_write(t+1,j+1,0);//这里要保存的
    03265 8239      STD	Y+1,R3
    03266 8228      ST	Y,R2
    03267 019B      MOVW	R18,R22
    03268 5F2F      SUBI	R18,0xFF
    03269 4F3F      SBCI	R19,0xFF
    0326A 018A      MOVW	R16,R20
    0326B 5F0F      SUBI	R16,0xFF
    0326C 4F1F      SBCI	R17,0xFF
    0326D 940E 0F5F CALL	_EEPROM_write
    0326F 5F6F      SUBI	R22,0xFF
    03270 4F7F      SBCI	R23,0xFF
    03271 3864      CPI	R22,0x84
    03272 E0E0      LDI	R30,0
    03273 077E      CPC	R23,R30
    03274 F2E8      BCS	0x3252
(0413) 	}
(0414) 	 EEPROM_write(t+1,134,0);
    03275 2422      CLR	R2
    03276 2433      CLR	R3
    03277 8239      STD	Y+1,R3
    03278 8228      ST	Y,R2
    03279 E826      LDI	R18,0x86
    0327A E030      LDI	R19,0
    0327B 018A      MOVW	R16,R20
    0327C 5F0F      SUBI	R16,0xFF
    0327D 4F1F      SBCI	R17,0xFF
    0327E 940E 0F5F CALL	_EEPROM_write
(0415) 	 EEPROM_write(t+1,135,0);
    03280 2422      CLR	R2
    03281 2433      CLR	R3
    03282 8239      STD	Y+1,R3
    03283 8228      ST	Y,R2
    03284 E827      LDI	R18,0x87
    03285 E030      LDI	R19,0
    03286 018A      MOVW	R16,R20
    03287 5F0F      SUBI	R16,0xFF
    03288 4F1F      SBCI	R17,0xFF
    03289 940E 0F5F CALL	_EEPROM_write
(0416) 	 EEPROM_write(t+1,136,0);
    0328B 2422      CLR	R2
    0328C 2433      CLR	R3
    0328D 8239      STD	Y+1,R3
    0328E 8228      ST	Y,R2
    0328F E828      LDI	R18,0x88
    03290 E030      LDI	R19,0
    03291 018A      MOVW	R16,R20
    03292 5F0F      SUBI	R16,0xFF
    03293 4F1F      SBCI	R17,0xFF
    03294 940E 0F5F CALL	_EEPROM_write
(0417) 	 EEPROM_write(t+1,137,0);
    03296 2422      CLR	R2
    03297 2433      CLR	R3
    03298 8239      STD	Y+1,R3
    03299 8228      ST	Y,R2
    0329A E829      LDI	R18,0x89
    0329B E030      LDI	R19,0
    0329C 018A      MOVW	R16,R20
    0329D 5F0F      SUBI	R16,0xFF
    0329E 4F1F      SBCI	R17,0xFF
    0329F 940E 0F5F CALL	_EEPROM_write
(0418) 	 EEPROM_write(t+1,138,0);
    032A1 2422      CLR	R2
    032A2 2433      CLR	R3
    032A3 8239      STD	Y+1,R3
    032A4 8228      ST	Y,R2
    032A5 E82A      LDI	R18,0x8A
    032A6 E030      LDI	R19,0
    032A7 018A      MOVW	R16,R20
    032A8 5F0F      SUBI	R16,0xFF
    032A9 4F1F      SBCI	R17,0xFF
    032AA 940E 0F5F CALL	_EEPROM_write
(0419) 	 EEPROM_write(t+1,139,0);
    032AC 2422      CLR	R2
    032AD 2433      CLR	R3
    032AE 8239      STD	Y+1,R3
    032AF 8228      ST	Y,R2
    032B0 E82B      LDI	R18,0x8B
    032B1 E030      LDI	R19,0
    032B2 018A      MOVW	R16,R20
    032B3 5F0F      SUBI	R16,0xFF
    032B4 4F1F      SBCI	R17,0xFF
    032B5 940E 0F5F CALL	_EEPROM_write
(0420) 	 EEPROM_write(t+1,140,0);
    032B7 2422      CLR	R2
    032B8 2433      CLR	R3
    032B9 8239      STD	Y+1,R3
    032BA 8228      ST	Y,R2
    032BB E82C      LDI	R18,0x8C
    032BC E030      LDI	R19,0
    032BD 018A      MOVW	R16,R20
    032BE 5F0F      SUBI	R16,0xFF
    032BF 4F1F      SBCI	R17,0xFF
    032C0 940E 0F5F CALL	_EEPROM_write
(0421) 	 EEPROM_write(t+1,141,0);
    032C2 2422      CLR	R2
    032C3 2433      CLR	R3
    032C4 8239      STD	Y+1,R3
    032C5 8228      ST	Y,R2
    032C6 E82D      LDI	R18,0x8D
    032C7 E030      LDI	R19,0
    032C8 018A      MOVW	R16,R20
    032C9 5F0F      SUBI	R16,0xFF
    032CA 4F1F      SBCI	R17,0xFF
    032CB 940E 0F5F CALL	_EEPROM_write
(0422) 	 EEPROM_write(t+1,142,0);
    032CD 2422      CLR	R2
    032CE 2433      CLR	R3
    032CF 8239      STD	Y+1,R3
    032D0 8228      ST	Y,R2
    032D1 E82E      LDI	R18,0x8E
    032D2 E030      LDI	R19,0
    032D3 018A      MOVW	R16,R20
    032D4 5F0F      SUBI	R16,0xFF
    032D5 4F1F      SBCI	R17,0xFF
    032D6 940E 0F5F CALL	_EEPROM_write
(0423) 	 EEPROM_write(t+1,143,0);
    032D8 2422      CLR	R2
    032D9 2433      CLR	R3
    032DA 8239      STD	Y+1,R3
    032DB 8228      ST	Y,R2
    032DC E82F      LDI	R18,0x8F
    032DD E030      LDI	R19,0
    032DE 018A      MOVW	R16,R20
    032DF 5F0F      SUBI	R16,0xFF
    032E0 4F1F      SBCI	R17,0xFF
    032E1 940E 0F5F CALL	_EEPROM_write
(0424) 	 EEPROM_write(t+1,144,0);
    032E3 2422      CLR	R2
    032E4 2433      CLR	R3
    032E5 8239      STD	Y+1,R3
    032E6 8228      ST	Y,R2
    032E7 E920      LDI	R18,0x90
    032E8 E030      LDI	R19,0
    032E9 018A      MOVW	R16,R20
    032EA 5F0F      SUBI	R16,0xFF
    032EB 4F1F      SBCI	R17,0xFF
    032EC 940E 0F5F CALL	_EEPROM_write
(0425) 	 EEPROM_write(t+1,145,0);
    032EE 2422      CLR	R2
    032EF 2433      CLR	R3
    032F0 8239      STD	Y+1,R3
    032F1 8228      ST	Y,R2
    032F2 E921      LDI	R18,0x91
    032F3 E030      LDI	R19,0
    032F4 018A      MOVW	R16,R20
    032F5 5F0F      SUBI	R16,0xFF
    032F6 4F1F      SBCI	R17,0xFF
    032F7 940E 0F5F CALL	_EEPROM_write
    032F9 9622      ADIW	R28,2
    032FA 940C 37AD JMP	pop_xgsetF000
_set_all_start:
  j                    --> R20
    032FC 934A      ST	-Y,R20
    032FD 935A      ST	-Y,R21
(0426) }
(0427) //温度全部开始工作。状态为停止和刚重置数据的可以开始
(0428) void set_all_start(void){
(0429)     uint j;
(0430) 	
(0431)     for(j=0;j<4;j++){
    032FE 2744      CLR	R20
    032FF 2755      CLR	R21
    03300 C03F      RJMP	0x3340
(0432) 	    if(temps[j].flag==3){
    03301 E404      LDI	R16,0x44
    03302 E011      LDI	R17,1
    03303 019A      MOVW	R18,R20
    03304 940E 376C CALL	empy16s
    03306 E186      LDI	R24,0x16
    03307 E091      LDI	R25,1
    03308 01F8      MOVW	R30,R16
    03309 0FE8      ADD	R30,R24
    0330A 1FF9      ADC	R31,R25
    0330B 8180      LD	R24,Z
    0330C 8191      LDD	R25,Z+1
    0330D 3083      CPI	R24,3
    0330E E0E0      LDI	R30,0
    0330F 079E      CPC	R25,R30
    03310 F479      BNE	0x3320
(0433) 	           temps[j].flag=1;
    03311 E404      LDI	R16,0x44
    03312 E011      LDI	R17,1
    03313 019A      MOVW	R18,R20
    03314 940E 376C CALL	empy16s
    03316 E186      LDI	R24,0x16
    03317 E091      LDI	R25,1
    03318 01F8      MOVW	R30,R16
    03319 0FE8      ADD	R30,R24
    0331A 1FF9      ADC	R31,R25
    0331B E081      LDI	R24,1
    0331C E090      LDI	R25,0
    0331D 8391      STD	Z+1,R25
    0331E 8380      ST	Z,R24
(0434) 	      }else if(temps[j].flag==6){
    0331F C01E      RJMP	0x333E
    03320 E404      LDI	R16,0x44
    03321 E011      LDI	R17,1
    03322 019A      MOVW	R18,R20
    03323 940E 376C CALL	empy16s
    03325 E186      LDI	R24,0x16
    03326 E091      LDI	R25,1
    03327 01F8      MOVW	R30,R16
    03328 0FE8      ADD	R30,R24
    03329 1FF9      ADC	R31,R25
    0332A 8180      LD	R24,Z
    0332B 8191      LDD	R25,Z+1
    0332C 3086      CPI	R24,6
    0332D E0E0      LDI	R30,0
    0332E 079E      CPC	R25,R30
    0332F F471      BNE	0x333E
(0435) 	             temps[j].flag=5;
    03330 E404      LDI	R16,0x44
    03331 E011      LDI	R17,1
    03332 019A      MOVW	R18,R20
    03333 940E 376C CALL	empy16s
    03335 E186      LDI	R24,0x16
    03336 E091      LDI	R25,1
    03337 01F8      MOVW	R30,R16
    03338 0FE8      ADD	R30,R24
    03339 1FF9      ADC	R31,R25
    0333A E085      LDI	R24,5
    0333B E090      LDI	R25,0
    0333C 8391      STD	Z+1,R25
    0333D 8380      ST	Z,R24
    0333E 5F4F      SUBI	R20,0xFF
    0333F 4F5F      SBCI	R21,0xFF
    03340 3044      CPI	R20,4
    03341 E0E0      LDI	R30,0
    03342 075E      CPC	R21,R30
    03343 F408      BCC	0x3345
    03344 CFBC      RJMP	0x3301
    03345 9159      LD	R21,Y+
    03346 9149      LD	R20,Y+
    03347 9508      RET
_set_all_stop:
  j                    --> R20
    03348 934A      ST	-Y,R20
    03349 935A      ST	-Y,R21
(0436) 
(0437) 	      }
(0438) 	}
(0439) }
(0440) //温度全部暂停.要运行的才会暂停。。关闭输出
(0441) void set_all_stop(void){
(0442)     uint j;
(0443) 	
(0444)     for(j=0;j<4;j++){
    0334A 2744      CLR	R20
    0334B 2755      CLR	R21
    0334C C025      RJMP	0x3372
(0445) 	  if(temps[j].flag==1 || temps[j].flag==5){
    0334D E404      LDI	R16,0x44
    0334E E011      LDI	R17,1
    0334F 019A      MOVW	R18,R20
    03350 940E 376C CALL	empy16s
    03352 E186      LDI	R24,0x16
    03353 E091      LDI	R25,1
    03354 01F8      MOVW	R30,R16
    03355 0FE8      ADD	R30,R24
    03356 1FF9      ADC	R31,R25
    03357 8020      LD	R2,Z
    03358 8031      LDD	R3,Z+1
    03359 01C1      MOVW	R24,R2
    0335A 3081      CPI	R24,1
    0335B E0E0      LDI	R30,0
    0335C 079E      CPC	R25,R30
    0335D F021      BEQ	0x3362
    0335E 3085      CPI	R24,5
    0335F E0E0      LDI	R30,0
    03360 079E      CPC	R25,R30
    03361 F471      BNE	0x3370
(0446) 	     temps[j].flag=3;
    03362 E404      LDI	R16,0x44
    03363 E011      LDI	R17,1
    03364 019A      MOVW	R18,R20
    03365 940E 376C CALL	empy16s
    03367 E186      LDI	R24,0x16
    03368 E091      LDI	R25,1
    03369 01F8      MOVW	R30,R16
    0336A 0FE8      ADD	R30,R24
    0336B 1FF9      ADC	R31,R25
    0336C E083      LDI	R24,3
    0336D E090      LDI	R25,0
    0336E 8391      STD	Z+1,R25
    0336F 8380      ST	Z,R24
    03370 5F4F      SUBI	R20,0xFF
    03371 4F5F      SBCI	R21,0xFF
    03372 3044      CPI	R20,4
    03373 E0E0      LDI	R30,0
    03374 075E      CPC	R21,R30
    03375 F2B8      BCS	0x334D
    03376 9159      LD	R21,Y+
    03377 9149      LD	R20,Y+
    03378 9508      RET
_set_start:
  t                    --> R10
    03379 92AA      ST	-Y,R10
    0337A 92BA      ST	-Y,R11
    0337B 0158      MOVW	R10,R16
(0447) 		//  EEPROM_write(j+1,133,3);
(0448) 	   }
(0449) 	}
(0450) }
(0451) //指定温度开始,预备
(0452) void set_start(uint t){
(0453)   if(temps[t].flag==3){
    0337C E404      LDI	R16,0x44
    0337D E011      LDI	R17,1
    0337E 0195      MOVW	R18,R10
    0337F 940E 376C CALL	empy16s
    03381 E186      LDI	R24,0x16
    03382 E091      LDI	R25,1
    03383 01F8      MOVW	R30,R16
    03384 0FE8      ADD	R30,R24
    03385 1FF9      ADC	R31,R25
    03386 8180      LD	R24,Z
    03387 8191      LDD	R25,Z+1
    03388 3083      CPI	R24,3
    03389 E0E0      LDI	R30,0
    0338A 079E      CPC	R25,R30
    0338B F479      BNE	0x339B
(0454) 	     temps[t].flag=1;
    0338C E404      LDI	R16,0x44
    0338D E011      LDI	R17,1
    0338E 0195      MOVW	R18,R10
    0338F 940E 376C CALL	empy16s
    03391 E186      LDI	R24,0x16
    03392 E091      LDI	R25,1
    03393 01F8      MOVW	R30,R16
    03394 0FE8      ADD	R30,R24
    03395 1FF9      ADC	R31,R25
    03396 E081      LDI	R24,1
    03397 E090      LDI	R25,0
    03398 8391      STD	Z+1,R25
    03399 8380      ST	Z,R24
(0455) 		///  EEPROM_write(t+1,133,5);
(0456) 	}else if(temps[t].flag==6){
    0339A C03D      RJMP	0x33D8
    0339B E404      LDI	R16,0x44
    0339C E011      LDI	R17,1
    0339D 0195      MOVW	R18,R10
    0339E 940E 376C CALL	empy16s
    033A0 E186      LDI	R24,0x16
    033A1 E091      LDI	R25,1
    033A2 01F8      MOVW	R30,R16
    033A3 0FE8      ADD	R30,R24
    033A4 1FF9      ADC	R31,R25
    033A5 8180      LD	R24,Z
    033A6 8191      LDD	R25,Z+1
    033A7 3086      CPI	R24,6
    033A8 E0E0      LDI	R30,0
    033A9 079E      CPC	R25,R30
    033AA F479      BNE	0x33BA
(0457) 	     temps[t].flag=5;
    033AB E404      LDI	R16,0x44
    033AC E011      LDI	R17,1
    033AD 0195      MOVW	R18,R10
    033AE 940E 376C CALL	empy16s
    033B0 E186      LDI	R24,0x16
    033B1 E091      LDI	R25,1
    033B2 01F8      MOVW	R30,R16
    033B3 0FE8      ADD	R30,R24
    033B4 1FF9      ADC	R31,R25
    033B5 E085      LDI	R24,5
    033B6 E090      LDI	R25,0
    033B7 8391      STD	Z+1,R25
    033B8 8380      ST	Z,R24
(0458) 		///  EEPROM_write(t+1,133,5);
(0459) 	}else if(temps[t].flag==4){
    033B9 C01E      RJMP	0x33D8
    033BA E404      LDI	R16,0x44
    033BB E011      LDI	R17,1
    033BC 0195      MOVW	R18,R10
    033BD 940E 376C CALL	empy16s
    033BF E186      LDI	R24,0x16
    033C0 E091      LDI	R25,1
    033C1 01F8      MOVW	R30,R16
    033C2 0FE8      ADD	R30,R24
    033C3 1FF9      ADC	R31,R25
    033C4 8180      LD	R24,Z
    033C5 8191      LDD	R25,Z+1
    033C6 3084      CPI	R24,4
    033C7 E0E0      LDI	R30,0
    033C8 079E      CPC	R25,R30
    033C9 F471      BNE	0x33D8
(0460) 	     temps[t].flag=5;
    033CA E404      LDI	R16,0x44
    033CB E011      LDI	R17,1
    033CC 0195      MOVW	R18,R10
    033CD 940E 376C CALL	empy16s
    033CF E186      LDI	R24,0x16
    033D0 E091      LDI	R25,1
    033D1 01F8      MOVW	R30,R16
    033D2 0FE8      ADD	R30,R24
    033D3 1FF9      ADC	R31,R25
    033D4 E085      LDI	R24,5
    033D5 E090      LDI	R25,0
    033D6 8391      STD	Z+1,R25
    033D7 8380      ST	Z,R24
(0461) 		///  EEPROM_write(t+1,133,5);
(0462) 	}
    033D8 90B9      LD	R11,Y+
    033D9 90A9      LD	R10,Y+
    033DA 9508      RET
_set_stop:
  t                    --> R10
    033DB 92AA      ST	-Y,R10
    033DC 92BA      ST	-Y,R11
    033DD 0158      MOVW	R10,R16
(0463) }
(0464) 
(0465) //指定温度暂停。关闭输出
(0466) void set_stop(uint t){
(0467)  if(temps[t].flag==1 || temps[t].flag==5){
    033DE E404      LDI	R16,0x44
    033DF E011      LDI	R17,1
    033E0 0195      MOVW	R18,R10
    033E1 940E 376C CALL	empy16s
    033E3 E186      LDI	R24,0x16
    033E4 E091      LDI	R25,1
    033E5 01F8      MOVW	R30,R16
    033E6 0FE8      ADD	R30,R24
    033E7 1FF9      ADC	R31,R25
    033E8 8020      LD	R2,Z
    033E9 8031      LDD	R3,Z+1
    033EA 01C1      MOVW	R24,R2
    033EB 3081      CPI	R24,1
    033EC E0E0      LDI	R30,0
    033ED 079E      CPC	R25,R30
    033EE F021      BEQ	0x33F3
    033EF 3085      CPI	R24,5
    033F0 E0E0      LDI	R30,0
    033F1 079E      CPC	R25,R30
    033F2 F471      BNE	0x3401
(0468) 	     temps[t].flag=3;
    033F3 E404      LDI	R16,0x44
    033F4 E011      LDI	R17,1
    033F5 0195      MOVW	R18,R10
    033F6 940E 376C CALL	empy16s
    033F8 E186      LDI	R24,0x16
    033F9 E091      LDI	R25,1
    033FA 01F8      MOVW	R30,R16
    033FB 0FE8      ADD	R30,R24
    033FC 1FF9      ADC	R31,R25
    033FD E083      LDI	R24,3
    033FE E090      LDI	R25,0
    033FF 8391      STD	Z+1,R25
    03400 8380      ST	Z,R24
(0469) 		// EEPROM_write(t+1,133,3);
(0470) 	   }
    03401 90B9      LD	R11,Y+
    03402 90A9      LD	R10,Y+
    03403 9508      RET
_PID_realize:
  temp_n               --> R10
    03404 940E 37CE CALL	push_xgsetF03C
    03406 0158      MOVW	R10,R16
(0471) }
(0472) /***********************************************************************
(0473) * 函数功能：	PID计算
(0474) * 参      数：	读入的温度
(0475) * 返 回  值：	无	改变incrementtemp的值，输出函数获得这个值然后输出
(0476) * 备	   注：	
(0477) **1
(0478) **********************************************************************/
(0479) void PID_realize(uint temp_n)
(0480) {
(0481)    temps[temp_n].err=temps[temp_n].settemp-temps[temp_n].actualtemp;//这两个都在结构体中
    03407 E404      LDI	R16,0x44
    03408 E011      LDI	R17,1
    03409 0195      MOVW	R18,R10
    0340A 940E 376C CALL	empy16s
    0340C 0128      MOVW	R4,R16
    0340D E386      LDI	R24,0x36
    0340E E092      LDI	R25,2
    0340F 01F2      MOVW	R30,R4
    03410 0FE8      ADD	R30,R24
    03411 1FF9      ADC	R31,R25
    03412 8100      LD	R16,Z
    03413 8111      LDD	R17,Z+1
    03414 8122      LDD	R18,Z+2
    03415 8133      LDD	R19,Z+3
    03416 E38A      LDI	R24,0x3A
    03417 E092      LDI	R25,2
    03418 0112      MOVW	R2,R4
    03419 0E28      ADD	R2,R24
    0341A 1E39      ADC	R3,R25
    0341B 923A      ST	-Y,R3
    0341C 922A      ST	-Y,R2
    0341D 940E 3889 CALL	fpsub1
    0341F E38E      LDI	R24,0x3E
    03420 E092      LDI	R25,2
    03421 01F2      MOVW	R30,R4
    03422 0FE8      ADD	R30,R24
    03423 1FF9      ADC	R31,R25
    03424 8300      ST	Z,R16
    03425 8311      STD	Z+1,R17
    03426 8322      STD	Z+2,R18
    03427 8333      STD	Z+3,R19
(0482)    temps[temp_n].incrementtemp=temps[temp_n].Kp*(temps[temp_n].err-temps[temp_n].err_next)+temps[temp_n].Ki*temps[temp_n].err+temps[temp_n].Kd*(temps[temp_n].err-2*temps[temp_n].err_next+temps[temp_n].err_last);
    03428 E404      LDI	R16,0x44
    03429 E011      LDI	R17,1
    0342A 0195      MOVW	R18,R10
    0342B 940E 376C CALL	empy16s
    0342D 01D8      MOVW	R26,R16
    0342E E48A      LDI	R24,0x4A
    0342F E092      LDI	R25,2
    03430 01FD      MOVW	R30,R26
    03431 0FE8      ADD	R30,R24
    03432 1FF9      ADC	R31,R25
    03433 8020      LD	R2,Z
    03434 8031      LDD	R3,Z+1
    03435 8042      LDD	R4,Z+2
    03436 8053      LDD	R5,Z+3
    03437 E38E      LDI	R24,0x3E
    03438 E092      LDI	R25,2
    03439 01FD      MOVW	R30,R26
    0343A 0FE8      ADD	R30,R24
    0343B 1FF9      ADC	R31,R25
    0343C 8100      LD	R16,Z
    0343D 8111      LDD	R17,Z+1
    0343E 8122      LDD	R18,Z+2
    0343F 8133      LDD	R19,Z+3
    03440 E486      LDI	R24,0x46
    03441 E092      LDI	R25,2
    03442 013D      MOVW	R6,R26
    03443 0E68      ADD	R6,R24
    03444 1E79      ADC	R7,R25
    03445 927A      ST	-Y,R7
    03446 926A      ST	-Y,R6
    03447 940E 389E CALL	fpsub1x
    03449 0181      MOVW	R16,R2
    0344A 0192      MOVW	R18,R4
    0344B 940E 3A88 CALL	fpmule2
    0344D 0118      MOVW	R2,R16
    0344E 0129      MOVW	R4,R18
    0344F E48E      LDI	R24,0x4E
    03450 E092      LDI	R25,2
    03451 01FD      MOVW	R30,R26
    03452 0FE8      ADD	R30,R24
    03453 1FF9      ADC	R31,R25
    03454 8100      LD	R16,Z
    03455 8111      LDD	R17,Z+1
    03456 8122      LDD	R18,Z+2
    03457 8133      LDD	R19,Z+3
    03458 E38E      LDI	R24,0x3E
    03459 E092      LDI	R25,2
    0345A 013D      MOVW	R6,R26
    0345B 0E68      ADD	R6,R24
    0345C 1E79      ADC	R7,R25
    0345D 927A      ST	-Y,R7
    0345E 926A      ST	-Y,R6
    0345F 940E 3A93 CALL	fpmule1x
    03461 0181      MOVW	R16,R2
    03462 0192      MOVW	R18,R4
    03463 940E 387E CALL	fpadd2
    03465 0118      MOVW	R2,R16
    03466 0129      MOVW	R4,R18
    03467 E582      LDI	R24,0x52
    03468 E092      LDI	R25,2
    03469 01FD      MOVW	R30,R26
    0346A 0FE8      ADD	R30,R24
    0346B 1FF9      ADC	R31,R25
    0346C 8060      LD	R6,Z
    0346D 8071      LDD	R7,Z+1
    0346E 8082      LDD	R8,Z+2
    0346F 8093      LDD	R9,Z+3
    03470 E38E      LDI	R24,0x3E
    03471 E092      LDI	R25,2
    03472 01FD      MOVW	R30,R26
    03473 0FE8      ADD	R30,R24
    03474 1FF9      ADC	R31,R25
    03475 8140      LD	R20,Z
    03476 8151      LDD	R21,Z+1
    03477 8162      LDD	R22,Z+2
    03478 8173      LDD	R23,Z+3
    03479 E80C      LDI	R16,0x8C
    0347A E010      LDI	R17,0
    0347B 940E 3758 CALL	elpm32
    0347D E486      LDI	R24,0x46
    0347E E092      LDI	R25,2
    0347F 01FD      MOVW	R30,R26
    03480 0FE8      ADD	R30,R24
    03481 1FF9      ADC	R31,R25
    03482 93FA      ST	-Y,R31
    03483 93EA      ST	-Y,R30
    03484 940E 3A93 CALL	fpmule1x
    03486 018A      MOVW	R16,R20
    03487 019B      MOVW	R18,R22
    03488 940E 3893 CALL	fpsub2
    0348A E482      LDI	R24,0x42
    0348B E092      LDI	R25,2
    0348C 01FD      MOVW	R30,R26
    0348D 0FE8      ADD	R30,R24
    0348E 1FF9      ADC	R31,R25
    0348F 93FA      ST	-Y,R31
    03490 93EA      ST	-Y,R30
    03491 940E 3871 CALL	fpadd1x
    03493 0183      MOVW	R16,R6
    03494 0194      MOVW	R18,R8
    03495 940E 3AA0 CALL	fpmule2x
    03497 0181      MOVW	R16,R2
    03498 0192      MOVW	R18,R4
    03499 940E 387E CALL	fpadd2
    0349B E586      LDI	R24,0x56
    0349C E092      LDI	R25,2
    0349D 01FD      MOVW	R30,R26
    0349E 0FE8      ADD	R30,R24
    0349F 1FF9      ADC	R31,R25
    034A0 8300      ST	Z,R16
    034A1 8311      STD	Z+1,R17
    034A2 8322      STD	Z+2,R18
    034A3 8333      STD	Z+3,R19
(0483)    temps[temp_n].err_last=temps[temp_n].err_next;
    034A4 E404      LDI	R16,0x44
    034A5 E011      LDI	R17,1
    034A6 0195      MOVW	R18,R10
    034A7 940E 376C CALL	empy16s
    034A9 0168      MOVW	R12,R16
    034AA E486      LDI	R24,0x46
    034AB E092      LDI	R25,2
    034AC 01F6      MOVW	R30,R12
    034AD 0FE8      ADD	R30,R24
    034AE 1FF9      ADC	R31,R25
    034AF 8020      LD	R2,Z
    034B0 8031      LDD	R3,Z+1
    034B1 8042      LDD	R4,Z+2
    034B2 8053      LDD	R5,Z+3
    034B3 E482      LDI	R24,0x42
    034B4 E092      LDI	R25,2
    034B5 01F6      MOVW	R30,R12
    034B6 0FE8      ADD	R30,R24
    034B7 1FF9      ADC	R31,R25
    034B8 8220      ST	Z,R2
    034B9 8231      STD	Z+1,R3
    034BA 8242      STD	Z+2,R4
    034BB 8253      STD	Z+3,R5
(0484)    temps[temp_n].err_next=temps[temp_n].err;
    034BC E404      LDI	R16,0x44
    034BD E011      LDI	R17,1
    034BE 0195      MOVW	R18,R10
    034BF 940E 376C CALL	empy16s
    034C1 0168      MOVW	R12,R16
    034C2 E38E      LDI	R24,0x3E
    034C3 E092      LDI	R25,2
    034C4 01F6      MOVW	R30,R12
    034C5 0FE8      ADD	R30,R24
    034C6 1FF9      ADC	R31,R25
    034C7 8020      LD	R2,Z
    034C8 8031      LDD	R3,Z+1
    034C9 8042      LDD	R4,Z+2
    034CA 8053      LDD	R5,Z+3
    034CB E486      LDI	R24,0x46
    034CC E092      LDI	R25,2
    034CD 01F6      MOVW	R30,R12
    034CE 0FE8      ADD	R30,R24
    034CF 1FF9      ADC	R31,R25
    034D0 8220      ST	Z,R2
    034D1 8231      STD	Z+1,R3
    034D2 8242      STD	Z+2,R4
    034D3 8253      STD	Z+3,R5
(0485)    temps[temp_n].incrementtemp=temps[temp_n].incrementtemp/2;
    034D4 E404      LDI	R16,0x44
    034D5 E011      LDI	R17,1
    034D6 0195      MOVW	R18,R10
    034D7 940E 376C CALL	empy16s
    034D9 0158      MOVW	R10,R16
    034DA E586      LDI	R24,0x56
    034DB E092      LDI	R25,2
    034DC 01F5      MOVW	R30,R10
    034DD 0FE8      ADD	R30,R24
    034DE 1FF9      ADC	R31,R25
    034DF 8020      LD	R2,Z
    034E0 8031      LDD	R3,Z+1
    034E1 8042      LDD	R4,Z+2
    034E2 8053      LDD	R5,Z+3
    034E3 E80C      LDI	R16,0x8C
    034E4 E010      LDI	R17,0
    034E5 940E 3758 CALL	elpm32
    034E7 933A      ST	-Y,R19
    034E8 932A      ST	-Y,R18
    034E9 931A      ST	-Y,R17
    034EA 930A      ST	-Y,R16
    034EB 0181      MOVW	R16,R2
    034EC 0192      MOVW	R18,R4
    034ED 940E 3918 CALL	fpdiv2
    034EF E586      LDI	R24,0x56
    034F0 E092      LDI	R25,2
    034F1 01F5      MOVW	R30,R10
    034F2 0FE8      ADD	R30,R24
    034F3 1FF9      ADC	R31,R25
    034F4 8300      ST	Z,R16
    034F5 8311      STD	Z+1,R17
    034F6 8322      STD	Z+2,R18
    034F7 8333      STD	Z+3,R19
    034F8 940C 37D7 JMP	pop_xgsetF03C
_PI_realize:
  temp_n               --> R10
    034FA 940E 3799 CALL	push_xgset003C
    034FC 0158      MOVW	R10,R16
(0486) }
(0487) void PI_realize(uint temp_n)
(0488) {
(0489)    temps[temp_n].err=temps[temp_n].p_settemp-temps[temp_n].actualtemp;//这两个都在结构体中
    034FD E404      LDI	R16,0x44
    034FE E011      LDI	R17,1
    034FF 0195      MOVW	R18,R10
    03500 940E 376C CALL	empy16s
    03502 0128      MOVW	R4,R16
    03503 E28C      LDI	R24,0x2C
    03504 E092      LDI	R25,2
    03505 01F2      MOVW	R30,R4
    03506 0FE8      ADD	R30,R24
    03507 1FF9      ADC	R31,R25
    03508 8100      LD	R16,Z
    03509 8111      LDD	R17,Z+1
    0350A 940E 38EB CALL	uint2fp
    0350C E38A      LDI	R24,0x3A
    0350D E092      LDI	R25,2
    0350E 0112      MOVW	R2,R4
    0350F 0E28      ADD	R2,R24
    03510 1E39      ADC	R3,R25
    03511 923A      ST	-Y,R3
    03512 922A      ST	-Y,R2
    03513 940E 3889 CALL	fpsub1
    03515 E38E      LDI	R24,0x3E
    03516 E092      LDI	R25,2
    03517 01F2      MOVW	R30,R4
    03518 0FE8      ADD	R30,R24
    03519 1FF9      ADC	R31,R25
    0351A 8300      ST	Z,R16
    0351B 8311      STD	Z+1,R17
    0351C 8322      STD	Z+2,R18
    0351D 8333      STD	Z+3,R19
(0490)    temps[temp_n].incrementtemp=temps[temp_n].p_Kp*(temps[temp_n].err-temps[temp_n].p_err_next)+temps[temp_n].p_Ki*temps[temp_n].err;
    0351E E404      LDI	R16,0x44
    0351F E011      LDI	R17,1
    03520 0195      MOVW	R18,R10
    03521 940E 376C CALL	empy16s
    03523 01D8      MOVW	R26,R16
    03524 E380      LDI	R24,0x30
    03525 E092      LDI	R25,2
    03526 01FD      MOVW	R30,R26
    03527 0FE8      ADD	R30,R24
    03528 1FF9      ADC	R31,R25
    03529 8100      LD	R16,Z
    0352A 8111      LDD	R17,Z+1
    0352B 940E 38EB CALL	uint2fp
    0352D 0118      MOVW	R2,R16
    0352E 0129      MOVW	R4,R18
    0352F E38E      LDI	R24,0x3E
    03530 E092      LDI	R25,2
    03531 01FD      MOVW	R30,R26
    03532 0FE8      ADD	R30,R24
    03533 1FF9      ADC	R31,R25
    03534 8060      LD	R6,Z
    03535 8071      LDD	R7,Z+1
    03536 8082      LDD	R8,Z+2
    03537 8093      LDD	R9,Z+3
    03538 E28E      LDI	R24,0x2E
    03539 E092      LDI	R25,2
    0353A 01FD      MOVW	R30,R26
    0353B 0FE8      ADD	R30,R24
    0353C 1FF9      ADC	R31,R25
    0353D 8100      LD	R16,Z
    0353E 8111      LDD	R17,Z+1
    0353F 940E 38EB CALL	uint2fp
    03541 933A      ST	-Y,R19
    03542 932A      ST	-Y,R18
    03543 931A      ST	-Y,R17
    03544 930A      ST	-Y,R16
    03545 0183      MOVW	R16,R6
    03546 0194      MOVW	R18,R8
    03547 940E 38AB CALL	fpsub2x
    03549 0181      MOVW	R16,R2
    0354A 0192      MOVW	R18,R4
    0354B 940E 3A88 CALL	fpmule2
    0354D 0118      MOVW	R2,R16
    0354E 0129      MOVW	R4,R18
    0354F E382      LDI	R24,0x32
    03550 E092      LDI	R25,2
    03551 01FD      MOVW	R30,R26
    03552 0FE8      ADD	R30,R24
    03553 1FF9      ADC	R31,R25
    03554 8100      LD	R16,Z
    03555 8111      LDD	R17,Z+1
    03556 940E 38EB CALL	uint2fp
    03558 E38E      LDI	R24,0x3E
    03559 E092      LDI	R25,2
    0355A 013D      MOVW	R6,R26
    0355B 0E68      ADD	R6,R24
    0355C 1E79      ADC	R7,R25
    0355D 927A      ST	-Y,R7
    0355E 926A      ST	-Y,R6
    0355F 940E 3A93 CALL	fpmule1x
    03561 0181      MOVW	R16,R2
    03562 0192      MOVW	R18,R4
    03563 940E 387E CALL	fpadd2
    03565 E586      LDI	R24,0x56
    03566 E092      LDI	R25,2
    03567 01FD      MOVW	R30,R26
    03568 0FE8      ADD	R30,R24
    03569 1FF9      ADC	R31,R25
    0356A 8300      ST	Z,R16
    0356B 8311      STD	Z+1,R17
    0356C 8322      STD	Z+2,R18
    0356D 8333      STD	Z+3,R19
(0491)    temps[temp_n].p_err_last=temps[temp_n].p_err_next;
    0356E E404      LDI	R16,0x44
    0356F E011      LDI	R17,1
    03570 0195      MOVW	R18,R10
    03571 940E 376C CALL	empy16s
    03573 0168      MOVW	R12,R16
    03574 E28E      LDI	R24,0x2E
    03575 E092      LDI	R25,2
    03576 01F6      MOVW	R30,R12
    03577 0FE8      ADD	R30,R24
    03578 1FF9      ADC	R31,R25
    03579 8020      LD	R2,Z
    0357A 8031      LDD	R3,Z+1
    0357B E384      LDI	R24,0x34
    0357C E092      LDI	R25,2
    0357D 01F6      MOVW	R30,R12
    0357E 0FE8      ADD	R30,R24
    0357F 1FF9      ADC	R31,R25
    03580 8231      STD	Z+1,R3
    03581 8220      ST	Z,R2
(0492)    temps[temp_n].p_err_next=temps[temp_n].err;
    03582 E404      LDI	R16,0x44
    03583 E011      LDI	R17,1
    03584 0195      MOVW	R18,R10
    03585 940E 376C CALL	empy16s
    03587 0168      MOVW	R12,R16
    03588 E38E      LDI	R24,0x3E
    03589 E092      LDI	R25,2
    0358A 01F6      MOVW	R30,R12
    0358B 0FE8      ADD	R30,R24
    0358C 1FF9      ADC	R31,R25
    0358D 8100      LD	R16,Z
    0358E 8111      LDD	R17,Z+1
    0358F 8122      LDD	R18,Z+2
    03590 8133      LDD	R19,Z+3
    03591 940E 38B9 CALL	fpint
    03593 E28E      LDI	R24,0x2E
    03594 E092      LDI	R25,2
    03595 01F6      MOVW	R30,R12
    03596 0FE8      ADD	R30,R24
    03597 1FF9      ADC	R31,R25
    03598 8311      STD	Z+1,R17
    03599 8300      ST	Z,R16
(0493)    temps[temp_n].incrementtemp=temps[temp_n].incrementtemp/2;
    0359A E404      LDI	R16,0x44
    0359B E011      LDI	R17,1
    0359C 0195      MOVW	R18,R10
    0359D 940E 376C CALL	empy16s
    0359F 0158      MOVW	R10,R16
    035A0 E586      LDI	R24,0x56
    035A1 E092      LDI	R25,2
    035A2 01F5      MOVW	R30,R10
    035A3 0FE8      ADD	R30,R24
    035A4 1FF9      ADC	R31,R25
    035A5 8020      LD	R2,Z
    035A6 8031      LDD	R3,Z+1
    035A7 8042      LDD	R4,Z+2
    035A8 8053      LDD	R5,Z+3
    035A9 E80C      LDI	R16,0x8C
    035AA E010      LDI	R17,0
    035AB 940E 3758 CALL	elpm32
    035AD 933A      ST	-Y,R19
    035AE 932A      ST	-Y,R18
    035AF 931A      ST	-Y,R17
    035B0 930A      ST	-Y,R16
    035B1 0181      MOVW	R16,R2
    035B2 0192      MOVW	R18,R4
    035B3 940E 3918 CALL	fpdiv2
    035B5 E586      LDI	R24,0x56
    035B6 E092      LDI	R25,2
    035B7 01F5      MOVW	R30,R10
    035B8 0FE8      ADD	R30,R24
    035B9 1FF9      ADC	R31,R25
    035BA 8300      ST	Z,R16
    035BB 8311      STD	Z+1,R17
    035BC 8322      STD	Z+2,R18
    035BD 8333      STD	Z+3,R19
    035BE 940C 377C JMP	pop_xgset003C
FILE: E:\ICCDemo\Temp_Control\temp_control\time1307.c
(0001) #include<iom128v.h>
(0002) #include "time1307.h"
(0003) #include "delay.h"
(0004) #include "lcd.h"
(0005) #include "main.h"
(0006) //寄存器宏定义
(0007) #define SECOND 0x00
(0008) #define MINUTE 0x01 
(0009) #define HOUR 0x02
(0010) #define DAY 0x04
(0011) #define MONTH 0x05 
(0012) #define WEEK 0x03
(0013) #define YEAE 0x06
(0014) #define CIBTPOL 0x07 
(0015) #define  WRITEDS1307    0xD0
(0016) #define     READDS1307    0xD1
(0017) 
(0018) 
(0019) #define  SCL_H  PORTD|=1<<PD0 //
(0020) #define  SCL_L  PORTD&=~(1<<PD0) //
(0021) #define  SDA_H   PORTD|=1<<PD1 //
(0022) #define  SDA_L  PORTD&=~(1<<PD1)  //
(0023) /* unsigned char set_rtc_code[7];
(0024) unsigned char rtc_address[7]={0x00,0x01,0x02,0x03,0x04,0x05,0x06};
(0025) unsigned char read_rtc_code[7];
(0026) unsigned char wr_j1j3_code[7];
(0027) unsigned char jk[7]={0,0,0,2,0,0,9};//设置时钟初始值*/
(0028) 
(0029) unsigned  char BP;
(0030) 
(0031) 
(0032) void I2C_start(void){//启动IIC总线
(0033)    SDA_H;
_I2C_start:
    035C0 9A91      SBI	0x12,1
(0034)    SCL_H;
    035C1 9A90      SBI	0x12,0
(0035)    delay_us(8);
    035C2 E008      LDI	R16,0x8
    035C3 E010      LDI	R17,0
    035C4 940E 0441 CALL	_delay_us
(0036)    SDA_L;
    035C6 9891      CBI	0x12,1
(0037)    delay_us(8);
    035C7 E008      LDI	R16,0x8
    035C8 E010      LDI	R17,0
    035C9 940E 0441 CALL	_delay_us
(0038)    SCL_L;
    035CB 9890      CBI	0x12,0
    035CC 9508      RET
(0039)    
(0040) }
(0041) void I2C_stop(void){//启动IIC总线
(0042)    SDA_L;
_I2C_stop:
    035CD 9891      CBI	0x12,1
(0043)    SCL_H;
    035CE 9A90      SBI	0x12,0
(0044)    delay_us(8);
    035CF E008      LDI	R16,0x8
    035D0 E010      LDI	R17,0
    035D1 940E 0441 CALL	_delay_us
(0045)    SDA_H;
    035D3 9A91      SBI	0x12,1
(0046)    delay_us(8);
    035D4 E008      LDI	R16,0x8
    035D5 E010      LDI	R17,0
    035D6 940E 0441 CALL	_delay_us
(0047)    SCL_L;
    035D8 9890      CBI	0x12,0
    035D9 9508      RET
(0048)    
(0049) }
(0050) void I2C_send_ack(void){//应答ack
(0051)   SDA_L;
_I2C_send_ack:
    035DA 9891      CBI	0x12,1
(0052)   SCL_H;
    035DB 9A90      SBI	0x12,0
(0053)   delay_us(8);
    035DC E008      LDI	R16,0x8
    035DD E010      LDI	R17,0
    035DE 940E 0441 CALL	_delay_us
(0054)   SCL_L;
    035E0 9890      CBI	0x12,0
    035E1 9508      RET
(0055) } 
(0056) void I2C_send_noack(void){
(0057)   SDA_H;
_I2C_send_noack:
    035E2 9A91      SBI	0x12,1
(0058)   SCL_H;
    035E3 9A90      SBI	0x12,0
(0059)    delay_us(8);
    035E4 E008      LDI	R16,0x8
    035E5 E010      LDI	R17,0
    035E6 940E 0441 CALL	_delay_us
(0060)    SCL_L;
    035E8 9890      CBI	0x12,0
    035E9 9508      RET
_I2C_write_byte:
  i                    --> R20
  IIC_data             --> R10
    035EA 92AA      ST	-Y,R10
    035EB 934A      ST	-Y,R20
    035EC 2EA0      MOV	R10,R16
(0061) }
(0062) void I2C_write_byte(unsigned char IIC_data){
(0063)    unsigned char i;
(0064)   // BP=0;
(0065)    for(i=0;i<8;i++){//循环输出数据
    035ED 2744      CLR	R20
    035EE C016      RJMP	0x3605
(0066)       SCL_L;
    035EF 9890      CBI	0x12,0
(0067) 	   if(((IIC_data<<i)&0x80)){
    035F0 2D0A      MOV	R16,R10
    035F1 2F14      MOV	R17,R20
    035F2 940E 37E9 CALL	lsl8
    035F4 2F80      MOV	R24,R16
    035F5 7880      ANDI	R24,0x80
    035F6 F011      BEQ	0x35F9
(0068) 	      SDA_H;
    035F7 9A91      SBI	0x12,1
(0069) 	   }else{
    035F8 C001      RJMP	0x35FA
(0070) 	   	  SDA_L;
    035F9 9891      CBI	0x12,1
(0071) 	   }
(0072) 	   delay_us(4);
    035FA E004      LDI	R16,4
    035FB E010      LDI	R17,0
    035FC 940E 0441 CALL	_delay_us
(0073) 	   SCL_H;
    035FE 9A90      SBI	0x12,0
(0074) 	   delay_us(4);
    035FF E004      LDI	R16,4
    03600 E010      LDI	R17,0
    03601 940E 0441 CALL	_delay_us
(0075) 	   SCL_L;
    03603 9890      CBI	0x12,0
    03604 9543      INC	R20
    03605 3048      CPI	R20,0x8
    03606 F340      BCS	0x35EF
(0076)    }
(0077)    //读取ACK
(0078)    delay_us(4);
    03607 E004      LDI	R16,4
    03608 E010      LDI	R17,0
    03609 940E 0441 CALL	_delay_us
(0079)    DDRD &=~(0x02);//发送完，等待输入信号
    0360B 9889      CBI	0x11,1
(0080)    delay_us(4);
    0360C E004      LDI	R16,4
    0360D E010      LDI	R17,0
    0360E 940E 0441 CALL	_delay_us
(0081)    if((PIND&(1<<PD1))){
    03610 9B81      SBIS	0x10,1
    03611 C000      RJMP	0x3612
(0082)     //正常
(0083)    }//读取，如果发送的是noack，
(0084)    SCL_H;
    03612 9A90      SBI	0x12,0
(0085)    delay_us(4);
    03613 E004      LDI	R16,4
    03614 E010      LDI	R17,0
    03615 940E 0441 CALL	_delay_us
(0086)    SCL_L;
    03617 9890      CBI	0x12,0
(0087)    DDRD |=0x02;
    03618 9A89      SBI	0x11,1
    03619 9149      LD	R20,Y+
    0361A 90A9      LD	R10,Y+
    0361B 9508      RET
_I2C_read_byte:
  i                    --> R20
  dat                  --> R10
    0361C 92AA      ST	-Y,R10
    0361D 934A      ST	-Y,R20
(0088) }
(0089) unsigned char I2C_read_byte(void){
(0090)   unsigned char i,dat;
(0091)   DDRD &=~(0x02);
    0361E 9889      CBI	0x11,1
(0092)   dat=0;
    0361F 24AA      CLR	R10
(0093)   for (i=0;i<8;i++)
    03620 2744      CLR	R20
    03621 C00B      RJMP	0x362D
(0094)     {
(0095)       dat=dat<<1;
    03622 0CAA      LSL	R10
(0096)       SCL_H;
    03623 9A90      SBI	0x12,0
(0097)       delay_us(4);
    03624 E004      LDI	R16,4
    03625 E010      LDI	R17,0
    03626 940E 0441 CALL	_delay_us
(0098)      if((PIND&(1<<PD1)))
    03628 9B81      SBIS	0x10,1
    03629 C001      RJMP	0x362B
(0099)      {
(0100)        dat++;
    0362A 94A3      INC	R10
(0101) 	  // PORTE=~PORTE;
(0102)      }
(0103)        SCL_L;  
    0362B 9890      CBI	0x12,0
    0362C 9543      INC	R20
    0362D 3048      CPI	R20,0x8
    0362E F398      BCS	0x3622
(0104)     }  
(0105)   DDRD |=0x02;
    0362F 9A89      SBI	0x11,1
(0106)   return dat;
    03630 2D0A      MOV	R16,R10
    03631 9149      LD	R20,Y+
    03632 90A9      LD	R10,Y+
    03633 9508      RET
_Write1307:
  dat                  --> R10
  add                  --> R12
    03634 92AA      ST	-Y,R10
    03635 92CA      ST	-Y,R12
    03636 2EA2      MOV	R10,R18
    03637 2EC0      MOV	R12,R16
(0107) }
(0108) /***********************************************************************/
(0109) /******************************** DS1307 写数据  ****************/
(0110) void Write1307(unsigned char add,unsigned char dat)
(0111) {
(0112)   I2C_start();
    03638 DF87      RCALL	_I2C_start
(0113)   I2C_write_byte(WRITEDS1307);
    03639 ED00      LDI	R16,0xD0
    0363A DFAF      RCALL	_I2C_write_byte
(0114)   I2C_write_byte(add);
    0363B 2D0C      MOV	R16,R12
    0363C DFAD      RCALL	_I2C_write_byte
(0115)   I2C_write_byte(dat);
    0363D 2D0A      MOV	R16,R10
    0363E DFAB      RCALL	_I2C_write_byte
(0116)   I2C_stop();
    0363F DF8D      RCALL	_I2C_stop
    03640 90C9      LD	R12,Y+
    03641 90A9      LD	R10,Y+
    03642 9508      RET
_Read1307:
  dat                  --> R10
  add                  --> R10
    03643 92AA      ST	-Y,R10
    03644 92BA      ST	-Y,R11
    03645 2EA0      MOV	R10,R16
(0117) }
(0118) /***********************************************************************/
(0119) unsigned int Read1307(unsigned char add)
(0120) {
(0121)   
(0122)   unsigned int dat;
(0123)   I2C_start();
    03646 DF79      RCALL	_I2C_start
(0124)   I2C_write_byte(WRITEDS1307);
    03647 ED00      LDI	R16,0xD0
    03648 DFA1      RCALL	_I2C_write_byte
(0125)   I2C_write_byte(add);
    03649 2D0A      MOV	R16,R10
    0364A DF9F      RCALL	_I2C_write_byte
(0126)   I2C_start();
    0364B DF74      RCALL	_I2C_start
(0127)   I2C_write_byte(READDS1307);
    0364C ED01      LDI	R16,0xD1
    0364D DF9C      RCALL	_I2C_write_byte
(0128)   dat=I2C_read_byte(); 
    0364E DFCD      RCALL	_I2C_read_byte
    0364F 2EA0      MOV	R10,R16
    03650 24BB      CLR	R11
(0129)   I2C_send_noack();
    03651 DF90      RCALL	_I2C_send_noack
(0130)   I2C_stop();      
    03652 DF7A      RCALL	_I2C_stop
(0131)   return (dat);
    03653 0185      MOVW	R16,R10
    03654 90B9      LD	R11,Y+
    03655 90A9      LD	R10,Y+
    03656 9508      RET
_setTime:
  second               --> R10
  minute               --> R22
  hour                 --> R20
  day                  --> R14
  month                --> R12
  year                 --> Y,+10
    03657 940E 3712 CALL	push_arg4
    03659 940E 3793 CALL	push_xgsetF0FC
    0365B 0169      MOVW	R12,R18
    0365C 84EE      LDD	R14,Y+14
    0365D 84FF      LDD	R15,Y+15
    0365E 8948      LDD	R20,Y+16
    0365F 8959      LDD	R21,Y+17
    03660 896A      LDD	R22,Y+18
    03661 897B      LDD	R23,Y+19
    03662 88AC      LDD	R10,Y+20
    03663 88BD      LDD	R11,Y+21
(0132)  }
(0133) //年、月、日、星期、时、分、秒。星期没有写入
(0134) void setTime(uint year,uint month,uint day,uint hour,uint minute,uint second){
(0135)    Write1307(0x00,second);//
    03664 2D2A      MOV	R18,R10
    03665 2700      CLR	R16
    03666 DFCD      RCALL	_Write1307
(0136)    Write1307(0x01,minute);//
    03667 2F26      MOV	R18,R22
    03668 E001      LDI	R16,1
    03669 DFCA      RCALL	_Write1307
(0137)    Write1307(0x02,hour);//
    0366A 2F24      MOV	R18,R20
    0366B E002      LDI	R16,2
    0366C DFC7      RCALL	_Write1307
(0138)    //Write1307(0x03,0X01);//
(0139)    Write1307(0x04,day);//
    0366D 2D2E      MOV	R18,R14
    0366E E004      LDI	R16,4
    0366F DFC4      RCALL	_Write1307
(0140)    Write1307(0x05,month);//
    03670 2D2C      MOV	R18,R12
    03671 E005      LDI	R16,5
    03672 DFC1      RCALL	_Write1307
(0141)    Write1307(0x06,year);
    03673 852A      LDD	R18,Y+10
    03674 853B      LDD	R19,Y+11
    03675 E006      LDI	R16,6
    03676 DFBD      RCALL	_Write1307
    03677 940E 3788 CALL	pop_xgsetF0FC
    03679 9624      ADIW	R28,4
    0367A 9508      RET
(0142) }
(0143) void Initial_time(void){//初始化输出、方波、中断
(0144)    DDRD|=0x07;
_Initial_time:
    0367B B381      IN	R24,0x11
    0367C 6087      ORI	R24,7
    0367D BB81      OUT	0x11,R24
(0145)    PORTD=0x00;
    0367E 2422      CLR	R2
    0367F BA22      OUT	0x12,R2
(0146)   /* Write1307(0x00,0X00);//
(0147)    Write1307(0x01,0X00);//
(0148)    Write1307(0x02,0X12);//
(0149)    Write1307(0x03,0X01);//
(0150)    Write1307(0x04,0X21);//
(0151)    Write1307(0x05,0X05);//
(0152)    Write1307(0x06,0X15);//*/
(0153)     Write1307(0x07,0x10);
    03680 E120      LDI	R18,0x10
    03681 E007      LDI	R16,7
    03682 DFB1      RCALL	_Write1307
(0154)    
(0155)    EIMSK |= 0x04;//开中断2
    03683 B789      IN	R24,0x39
    03684 6084      ORI	R24,4
    03685 BF89      OUT	0x39,R24
(0156)    EICRA |=0x30;
    03686 9180 006A LDS	R24,0x6A
    03688 6380      ORI	R24,0x30
    03689 9380 006A STS	0x6A,R24
    0368B 9508      RET
_showTime_page:
  time_cacah           --> R20
  y                    --> R10
    0368C 940E 37C0 CALL	push_xgset303C
    0368E 0158      MOVW	R10,R16
(0157)    
(0158) }
(0159) //显示时间，年月日时分秒，用于page调用。没有改变AC，会接着写
(0160) void showTime_page(uint y){
(0161)    //PORTE=~Read1302(0x81);
(0162)    uchar time_cacah;
(0163)  //年
(0164)     time_cacah=Read1307(0x06);
    0368F E006      LDI	R16,6
    03690 DFB2      RCALL	_Read1307
    03691 2F40      MOV	R20,R16
(0165)     lcd_write_str_con(y, "20");
    03692 E92D      LDI	R18,0x9D
    03693 E038      LDI	R19,0x8
    03694 2D0A      MOV	R16,R10
    03695 940E 06E6 CALL	_lcd_write_str_con
(0166)     lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x0F));
    03697 2F24      MOV	R18,R20
    03698 9522      SWAP	R18
    03699 702F      ANDI	R18,0xF
    0369A 702F      ANDI	R18,0xF
    0369B 6320      ORI	R18,0x30
    0369C 2D0A      MOV	R16,R10
    0369D 940E 0644 CALL	_lcd_write_char_con
(0167)     lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    0369F 2F24      MOV	R18,R20
    036A0 702F      ANDI	R18,0xF
    036A1 6320      ORI	R18,0x30
    036A2 2D0A      MOV	R16,R10
    036A3 940E 0644 CALL	_lcd_write_char_con
(0168) 	lcd_write_char_con(y,'-');
    036A5 E22D      LDI	R18,0x2D
    036A6 2D0A      MOV	R16,R10
    036A7 940E 0644 CALL	_lcd_write_char_con
(0169) 	 //月
(0170) 	 time_cacah=Read1307(0x05);
    036A9 E005      LDI	R16,5
    036AA DF98      RCALL	_Read1307
    036AB 2F40      MOV	R20,R16
(0171) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x01));
    036AC 2F24      MOV	R18,R20
    036AD 9522      SWAP	R18
    036AE 702F      ANDI	R18,0xF
    036AF 7021      ANDI	R18,1
    036B0 6320      ORI	R18,0x30
    036B1 2D0A      MOV	R16,R10
    036B2 940E 0644 CALL	_lcd_write_char_con
(0172)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    036B4 2F24      MOV	R18,R20
    036B5 702F      ANDI	R18,0xF
    036B6 6320      ORI	R18,0x30
    036B7 2D0A      MOV	R16,R10
    036B8 940E 0644 CALL	_lcd_write_char_con
(0173) 	 lcd_write_char_con(y,'-');
    036BA E22D      LDI	R18,0x2D
    036BB 2D0A      MOV	R16,R10
    036BC 940E 0644 CALL	_lcd_write_char_con
(0174) 	 //日
(0175) 	 time_cacah=Read1307(0x04);
    036BE E004      LDI	R16,4
    036BF DF83      RCALL	_Read1307
    036C0 0168      MOVW	R12,R16
    036C1 2D4C      MOV	R20,R12
(0176) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    036C2 2F24      MOV	R18,R20
    036C3 9522      SWAP	R18
    036C4 702F      ANDI	R18,0xF
    036C5 7023      ANDI	R18,3
    036C6 6320      ORI	R18,0x30
    036C7 2D0A      MOV	R16,R10
    036C8 940E 0644 CALL	_lcd_write_char_con
(0177)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    036CA 2F24      MOV	R18,R20
    036CB 702F      ANDI	R18,0xF
    036CC 6320      ORI	R18,0x30
    036CD 2D0A      MOV	R16,R10
    036CE 940E 0644 CALL	_lcd_write_char_con
(0178) 	 lcd_write_char_con(y,' ');
    036D0 E220      LDI	R18,0x20
    036D1 2D0A      MOV	R16,R10
    036D2 940E 0644 CALL	_lcd_write_char_con
(0179) 	//时
(0180) 	time_cacah=Read1307(0x02);
    036D4 E002      LDI	R16,2
    036D5 DF6D      RCALL	_Read1307
    036D6 0168      MOVW	R12,R16
    036D7 2D4C      MOV	R20,R12
(0181) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    036D8 2F24      MOV	R18,R20
    036D9 9522      SWAP	R18
    036DA 702F      ANDI	R18,0xF
    036DB 7023      ANDI	R18,3
    036DC 6320      ORI	R18,0x30
    036DD 2D0A      MOV	R16,R10
    036DE 940E 0644 CALL	_lcd_write_char_con
(0182) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    036E0 2F24      MOV	R18,R20
    036E1 702F      ANDI	R18,0xF
    036E2 6320      ORI	R18,0x30
    036E3 2D0A      MOV	R16,R10
    036E4 940E 0644 CALL	_lcd_write_char_con
(0183) 	 lcd_write_char_con(y,':');
    036E6 E32A      LDI	R18,0x3A
    036E7 2D0A      MOV	R16,R10
    036E8 940E 0644 CALL	_lcd_write_char_con
(0184) 	//分
(0185) 	time_cacah=Read1307(0x01);
    036EA E001      LDI	R16,1
    036EB DF57      RCALL	_Read1307
    036EC 0168      MOVW	R12,R16
    036ED 2D4C      MOV	R20,R12
(0186) 	 lcd_write_char_con(y, 0x30|time_cacah>>4);
    036EE 2F24      MOV	R18,R20
    036EF 9522      SWAP	R18
    036F0 702F      ANDI	R18,0xF
    036F1 6320      ORI	R18,0x30
    036F2 2D0A      MOV	R16,R10
    036F3 940E 0644 CALL	_lcd_write_char_con
(0187) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F));
    036F5 2F24      MOV	R18,R20
    036F6 702F      ANDI	R18,0xF
    036F7 6320      ORI	R18,0x30
    036F8 2D0A      MOV	R16,R10
    036F9 940E 0644 CALL	_lcd_write_char_con
(0188) 	 lcd_write_char_con(y,':');
    036FB E32A      LDI	R18,0x3A
    036FC 2D0A      MOV	R16,R10
    036FD 940E 0644 CALL	_lcd_write_char_con
(0189) 	//秒
(0190) 	time_cacah=Read1307(0x00);
    036FF 2700      CLR	R16
    03700 DF42      RCALL	_Read1307
    03701 0168      MOVW	R12,R16
    03702 2D4C      MOV	R20,R12
(0191) 	 lcd_write_char_con(y, 0x30|(time_cacah>>4));
    03703 2F24      MOV	R18,R20
    03704 9522      SWAP	R18
    03705 702F      ANDI	R18,0xF
    03706 6320      ORI	R18,0x30
    03707 2D0A      MOV	R16,R10
    03708 940E 0644 CALL	_lcd_write_char_con
(0192) 	 lcd_write_char_con(y,0x30|(time_cacah &0x0F));
FILE: <library>
    0370A 2F24      MOV	R18,R20
    0370B 702F      ANDI	R18,0xF
    0370C 6320      ORI	R18,0x30
    0370D 2D0A      MOV	R16,R10
    0370E 940E 0644 CALL	_lcd_write_char_con
    03710 940C 37C7 JMP	pop_xgset303C
push_arg4:
    03712 933A      ST	-Y,R19
    03713 932A      ST	-Y,R18
push_arg2:
    03714 931A      ST	-Y,R17
    03715 930A      ST	-Y,R16
    03716 9508      RET
asr16:
    03717 2322      TST	R18
    03718 F021      BEQ	0x371D
    03719 9515      ASR	R17
    0371A 9507      ROR	R16
    0371B 952A      DEC	R18
    0371C CFFA      RJMP	asr16
    0371D 9508      RET
mod16s:
    0371E 9468      BSET	6
    0371F 92DA      ST	-Y,R13
    03720 2ED1      MOV	R13,R17
    03721 C004      RJMP	0x3726
div16s:
    03722 94E8      BCLR	6
    03723 92DA      ST	-Y,R13
    03724 2ED1      MOV	R13,R17
    03725 26D3      EOR	R13,R19
    03726 FF17      SBRS	R17,7
    03727 C004      RJMP	0x372C
    03728 9510      COM	R17
    03729 9500      COM	R16
    0372A 5F0F      SUBI	R16,0xFF
    0372B 4F1F      SBCI	R17,0xFF
    0372C FF37      SBRS	R19,7
    0372D C004      RJMP	0x3732
    0372E 9530      COM	R19
    0372F 9520      COM	R18
    03730 5F2F      SUBI	R18,0xFF
    03731 4F3F      SBCI	R19,0xFF
    03732 940E 373F CALL	xdiv16u
    03734 FED7      SBRS	R13,7
    03735 C004      RJMP	0x373A
    03736 9510      COM	R17
    03737 9500      COM	R16
    03738 5F0F      SUBI	R16,0xFF
    03739 4F1F      SBCI	R17,0xFF
    0373A 90D9      LD	R13,Y+
    0373B 9508      RET
mod16u:
    0373C 9468      BSET	6
    0373D C001      RJMP	xdiv16u
div16u:
    0373E 94E8      BCLR	6
xdiv16u:
    0373F 92EA      ST	-Y,R14
    03740 92FA      ST	-Y,R15
    03741 938A      ST	-Y,R24
    03742 24EE      CLR	R14
    03743 24FF      CLR	R15
    03744 E180      LDI	R24,0x10
    03745 0F00      LSL	R16
    03746 1F11      ROL	R17
    03747 1CEE      ROL	R14
    03748 1CFF      ROL	R15
    03749 16E2      CP	R14,R18
    0374A 06F3      CPC	R15,R19
    0374B F018      BCS	0x374F
    0374C 1AE2      SUB	R14,R18
    0374D 0AF3      SBC	R15,R19
    0374E 9503      INC	R16
    0374F 958A      DEC	R24
    03750 F7A1      BNE	0x3745
    03751 F416      BRTC	0x3754
    03752 2D0E      MOV	R16,R14
    03753 2D1F      MOV	R17,R15
    03754 9189      LD	R24,Y+
    03755 90F9      LD	R15,Y+
    03756 90E9      LD	R14,Y+
    03757 9508      RET
elpm32:
    03758 93EA      ST	-Y,R30
    03759 93FA      ST	-Y,R31
    0375A 920A      ST	-Y,R0
    0375B 2FE0      MOV	R30,R16
    0375C 2FF1      MOV	R31,R17
    0375D 95D8      ELPM
    0375E 2D00      MOV	R16,R0
    0375F 9631      ADIW	R30,1
    03760 95D8      ELPM
    03761 2D10      MOV	R17,R0
    03762 9631      ADIW	R30,1
    03763 95D8      ELPM
    03764 2D20      MOV	R18,R0
    03765 9631      ADIW	R30,1
    03766 95D8      ELPM
    03767 2D30      MOV	R19,R0
    03768 9009      LD	R0,Y+
    03769 91F9      LD	R31,Y+
    0376A 91E9      LD	R30,Y+
    0376B 9508      RET
empy16s:
    0376C 920A      ST	-Y,R0
    0376D 921A      ST	-Y,R1
    0376E 938A      ST	-Y,R24
    0376F 939A      ST	-Y,R25
    03770 9F02      MUL	R16,R18
    03771 01C0      MOVW	R24,R0
    03772 9F12      MUL	R17,R18
    03773 0D90      ADD	R25,R0
    03774 9F03      MUL	R16,R19
    03775 0D90      ADD	R25,R0
    03776 018C      MOVW	R16,R24
    03777 9199      LD	R25,Y+
    03778 9189      LD	R24,Y+
    03779 9019      LD	R1,Y+
    0377A 9009      LD	R0,Y+
    0377B 9508      RET
pop_xgset003C:
    0377C 90A9      LD	R10,Y+
    0377D 90B9      LD	R11,Y+
    0377E 90C9      LD	R12,Y+
    0377F 90D9      LD	R13,Y+
    03780 9508      RET
pop_xgset00FC:
    03781 90A9      LD	R10,Y+
    03782 90B9      LD	R11,Y+
    03783 90C9      LD	R12,Y+
    03784 90D9      LD	R13,Y+
    03785 90E9      LD	R14,Y+
    03786 90F9      LD	R15,Y+
    03787 9508      RET
pop_xgsetF0FC:
    03788 90A9      LD	R10,Y+
    03789 90B9      LD	R11,Y+
    0378A 90C9      LD	R12,Y+
    0378B 90D9      LD	R13,Y+
    0378C 90E9      LD	R14,Y+
    0378D 90F9      LD	R15,Y+
    0378E 9149      LD	R20,Y+
    0378F 9159      LD	R21,Y+
    03790 9169      LD	R22,Y+
    03791 9179      LD	R23,Y+
    03792 9508      RET
push_xgsetF0FC:
    03793 937A      ST	-Y,R23
    03794 936A      ST	-Y,R22
push_xgset30FC:
    03795 935A      ST	-Y,R21
    03796 934A      ST	-Y,R20
push_xgset00FC:
    03797 92FA      ST	-Y,R15
    03798 92EA      ST	-Y,R14
push_xgset003C:
    03799 92DA      ST	-Y,R13
    0379A 92CA      ST	-Y,R12
    0379B 92BA      ST	-Y,R11
    0379C 92AA      ST	-Y,R10
    0379D 9508      RET
push_xgset300C:
    0379E 935A      ST	-Y,R21
    0379F 934A      ST	-Y,R20
    037A0 92BA      ST	-Y,R11
    037A1 92AA      ST	-Y,R10
    037A2 9508      RET
pop_xgset300C:
    037A3 90A9      LD	R10,Y+
    037A4 90B9      LD	R11,Y+
    037A5 9149      LD	R20,Y+
    037A6 9159      LD	R21,Y+
    037A7 9508      RET
push_xgsetF000:
    037A8 937A      ST	-Y,R23
    037A9 936A      ST	-Y,R22
    037AA 935A      ST	-Y,R21
    037AB 934A      ST	-Y,R20
    037AC 9508      RET
pop_xgsetF000:
    037AD 9149      LD	R20,Y+
    037AE 9159      LD	R21,Y+
    037AF 9169      LD	R22,Y+
    037B0 9179      LD	R23,Y+
    037B1 9508      RET
push_xgsetF00C:
    037B2 937A      ST	-Y,R23
    037B3 936A      ST	-Y,R22
    037B4 935A      ST	-Y,R21
    037B5 934A      ST	-Y,R20
    037B6 92BA      ST	-Y,R11
    037B7 92AA      ST	-Y,R10
    037B8 9508      RET
pop_xgsetF00C:
    037B9 90A9      LD	R10,Y+
    037BA 90B9      LD	R11,Y+
    037BB 9149      LD	R20,Y+
    037BC 9159      LD	R21,Y+
    037BD 9169      LD	R22,Y+
    037BE 9179      LD	R23,Y+
    037BF 9508      RET
push_xgset303C:
    037C0 935A      ST	-Y,R21
    037C1 934A      ST	-Y,R20
    037C2 92DA      ST	-Y,R13
    037C3 92CA      ST	-Y,R12
    037C4 92BA      ST	-Y,R11
    037C5 92AA      ST	-Y,R10
    037C6 9508      RET
pop_xgset303C:
    037C7 90A9      LD	R10,Y+
    037C8 90B9      LD	R11,Y+
    037C9 90C9      LD	R12,Y+
    037CA 90D9      LD	R13,Y+
    037CB 9149      LD	R20,Y+
    037CC 9159      LD	R21,Y+
    037CD 9508      RET
push_xgsetF03C:
    037CE 937A      ST	-Y,R23
    037CF 936A      ST	-Y,R22
    037D0 935A      ST	-Y,R21
    037D1 934A      ST	-Y,R20
    037D2 92DA      ST	-Y,R13
    037D3 92CA      ST	-Y,R12
    037D4 92BA      ST	-Y,R11
    037D5 92AA      ST	-Y,R10
    037D6 9508      RET
pop_xgsetF03C:
    037D7 90A9      LD	R10,Y+
    037D8 90B9      LD	R11,Y+
    037D9 90C9      LD	R12,Y+
    037DA 90D9      LD	R13,Y+
    037DB 9149      LD	R20,Y+
    037DC 9159      LD	R21,Y+
    037DD 9169      LD	R22,Y+
    037DE 9179      LD	R23,Y+
    037DF 9508      RET
neg32:
    037E0 9500      COM	R16
    037E1 9510      COM	R17
    037E2 9520      COM	R18
    037E3 9530      COM	R19
    037E4 5F0F      SUBI	R16,0xFF
    037E5 4F1F      SBCI	R17,0xFF
    037E6 4F2F      SBCI	R18,0xFF
    037E7 4F3F      SBCI	R19,0xFF
    037E8 9508      RET
lsl8:
    037E9 2311      TST	R17
    037EA F019      BEQ	0x37EE
    037EB 0F00      LSL	R16
    037EC 951A      DEC	R17
    037ED CFFB      RJMP	lsl8
    037EE 9508      RET
asgnblk:
    037EF 93AA      ST	-Y,R26
    037F0 93BA      ST	-Y,R27
    037F1 93EA      ST	-Y,R30
    037F2 93FA      ST	-Y,R31
    037F3 920A      ST	-Y,R0
    037F4 81AF      LDD	R26,Y+7
    037F5 85B8      LDD	R27,Y+8
    037F6 81ED      LDD	R30,Y+5
    037F7 81FE      LDD	R31,Y+6
    037F8 3000      CPI	R16,0
    037F9 0701      CPC	R16,R17
    037FA F029      BEQ	0x3800
    037FB 9001      LD	R0,Z+
    037FC 920D      ST	X+,R0
    037FD 5001      SUBI	R16,1
    037FE 4010      SBCI	R17,0
    037FF CFF8      RJMP	0x37F8
    03800 9009      LD	R0,Y+
    03801 91F9      LD	R31,Y+
    03802 91E9      LD	R30,Y+
    03803 91B9      LD	R27,Y+
    03804 91A9      LD	R26,Y+
    03805 9624      ADIW	R28,4
    03806 9508      RET
fpsub:
    03807 9468      BSET	6
    03808 C001      RJMP	fpadd_alt
fpadd:
    03809 94E8      BCLR	6
fpadd_alt:
    0380A 940E 3A17 CALL	saveFPRegs
    0380C 940E 39A9 CALL	unpacks
    0380E F409      BNE	0x3810
    0380F C048      RJMP	0x3858
    03810 2CE6      MOV	R14,R6
    03811 2CD5      MOV	R13,R5
    03812 2CC4      MOV	R12,R4
    03813 2EB3      MOV	R11,R19
    03814 2EA2      MOV	R10,R18
    03815 2E91      MOV	R9,R17
    03816 2E80      MOV	R8,R16
    03817 8100      LD	R16,Z
    03818 8111      LDD	R17,Z+1
    03819 8122      LDD	R18,Z+2
    0381A 8133      LDD	R19,Z+3
    0381B 940E 39A9 CALL	unpacks
    0381D F409      BNE	0x381F
    0381E C044      RJMP	0x3863
    0381F 2D84      MOV	R24,R4
    03820 2D95      MOV	R25,R5
    03821 198C      SUB	R24,R12
    03822 099D      SBC	R25,R13
    03823 F0B9      BEQ	0x383B
    03824 F472      BPL	0x3833
    03825 9590      COM	R25
    03826 9580      COM	R24
    03827 9601      ADIW	R24,1
    03828 2C4C      MOV	R4,R12
    03829 2C5D      MOV	R5,R13
    0382A 3188      CPI	R24,0x18
    0382B F5B8      BCC	0x3863
    0382C 9535      ASR	R19
    0382D 9527      ROR	R18
    0382E 9517      ROR	R17
    0382F 9507      ROR	R16
    03830 9701      SBIW	R24,1
    03831 F7D1      BNE	0x382C
    03832 C008      RJMP	0x383B
    03833 3188      CPI	R24,0x18
    03834 F518      BCC	0x3858
    03835 94B5      ASR	R11
    03836 94A7      ROR	R10
    03837 9497      ROR	R9
    03838 9487      ROR	R8
    03839 9701      SBIW	R24,1
    0383A F7D1      BNE	0x3835
    0383B 2466      CLR	R6
    0383C F02E      BRTS	0x3842
    0383D 0D08      ADD	R16,R8
    0383E 1D19      ADC	R17,R9
    0383F 1D2A      ADC	R18,R10
    03840 1D3B      ADC	R19,R11
    03841 C009      RJMP	0x384B
    03842 1A80      SUB	R8,R16
    03843 0A91      SBC	R9,R17
    03844 0AA2      SBC	R10,R18
    03845 0AB3      SBC	R11,R19
    03846 2D08      MOV	R16,R8
    03847 2D19      MOV	R17,R9
    03848 2D2A      MOV	R18,R10
    03849 2D3B      MOV	R19,R11
    0384A 2333      TST	R19
    0384B F422      BPL	0x3850
    0384C 940E 37E0 CALL	neg32
    0384E E880      LDI	R24,0x80
    0384F 2E68      MOV	R6,R24
    03850 940E 39D2 CALL	normalize_and_pack
    03852 C002      RJMP	0x3855
    03853 940E 3A07 CALL	pack
    03855 940E 3A26 CALL	restoreFPRegs
    03857 9508      RET
    03858 8100      LD	R16,Z
    03859 8111      LDD	R17,Z+1
    0385A 8122      LDD	R18,Z+2
    0385B 8133      LDD	R19,Z+3
    0385C F7C6      BRTC	0x3855
    0385D 940E 39B1 CALL	tstR16_R19
    0385F F3A9      BEQ	0x3855
    03860 E880      LDI	R24,0x80
    03861 2738      EOR	R19,R24
    03862 CFF2      RJMP	0x3855
    03863 2D08      MOV	R16,R8
    03864 2D19      MOV	R17,R9
    03865 2D2A      MOV	R18,R10
    03866 2D3B      MOV	R19,R11
    03867 2C4C      MOV	R4,R12
    03868 2C5D      MOV	R5,R13
    03869 2C6E      MOV	R6,R14
    0386A 2333      TST	R19
    0386B F73A      BPL	0x3853
    0386C 940E 37E0 CALL	neg32
    0386E E880      LDI	R24,0x80
    0386F 2E68      MOV	R6,R24
    03870 CFE2      RJMP	0x3853
fpadd1x:
    03871 93FA      ST	-Y,R31
    03872 93EA      ST	-Y,R30
    03873 81EA      LDD	R30,Y+2
    03874 81FB      LDD	R31,Y+3
    03875 940E 3809 CALL	fpadd
    03877 91E9      LD	R30,Y+
    03878 91F9      LD	R31,Y+
    03879 8339      STD	Y+1,R19
    0387A 8328      ST	Y,R18
    0387B 931A      ST	-Y,R17
    0387C 930A      ST	-Y,R16
    0387D 9508      RET
fpadd2:
    0387E 93FA      ST	-Y,R31
    0387F 93EA      ST	-Y,R30
    03880 2FEC      MOV	R30,R28
    03881 2FFD      MOV	R31,R29
    03882 9632      ADIW	R30,2
    03883 940E 3809 CALL	fpadd
    03885 91E9      LD	R30,Y+
    03886 91F9      LD	R31,Y+
    03887 9624      ADIW	R28,4
    03888 9508      RET
fpsub1:
    03889 93FA      ST	-Y,R31
    0388A 93EA      ST	-Y,R30
    0388B 81EA      LDD	R30,Y+2
    0388C 81FB      LDD	R31,Y+3
    0388D 940E 3807 CALL	fpsub
    0388F 91E9      LD	R30,Y+
    03890 91F9      LD	R31,Y+
    03891 9622      ADIW	R28,2
    03892 9508      RET
fpsub2:
    03893 93FA      ST	-Y,R31
    03894 93EA      ST	-Y,R30
    03895 2FEC      MOV	R30,R28
    03896 2FFD      MOV	R31,R29
    03897 9632      ADIW	R30,2
    03898 940E 3807 CALL	fpsub
    0389A 91E9      LD	R30,Y+
    0389B 91F9      LD	R31,Y+
    0389C 9624      ADIW	R28,4
    0389D 9508      RET
fpsub1x:
    0389E 93FA      ST	-Y,R31
    0389F 93EA      ST	-Y,R30
    038A0 81EA      LDD	R30,Y+2
    038A1 81FB      LDD	R31,Y+3
    038A2 940E 3807 CALL	fpsub
    038A4 91E9      LD	R30,Y+
    038A5 91F9      LD	R31,Y+
    038A6 8339      STD	Y+1,R19
    038A7 8328      ST	Y,R18
    038A8 931A      ST	-Y,R17
    038A9 930A      ST	-Y,R16
    038AA 9508      RET
fpsub2x:
    038AB 93FA      ST	-Y,R31
    038AC 93EA      ST	-Y,R30
    038AD 2FEC      MOV	R30,R28
    038AE 2FFD      MOV	R31,R29
    038AF 9632      ADIW	R30,2
    038B0 940E 3807 CALL	fpsub
    038B2 91E9      LD	R30,Y+
    038B3 91F9      LD	R31,Y+
    038B4 833B      STD	Y+3,R19
    038B5 832A      STD	Y+2,R18
    038B6 8319      STD	Y+1,R17
    038B7 8308      ST	Y,R16
    038B8 9508      RET
fpint:
    038B9 924A      ST	-Y,R4
    038BA 925A      ST	-Y,R5
    038BB 926A      ST	-Y,R6
    038BC 938A      ST	-Y,R24
    038BD 940E 39B9 CALL	unpacku
    038BF F111      BEQ	0x38E2
    038C0 2055      TST	R5
    038C1 F0E2      BMI	0x38DE
    038C2 E18F      LDI	R24,0x1F
    038C3 1648      CP	R4,R24
    038C4 F4C0      BCC	0x38DD
    038C5 E187      LDI	R24,0x17
    038C6 1648      CP	R4,R24
    038C7 F0D1      BEQ	0x38E2
    038C8 F458      BCC	0x38D4
    038C9 9441      NEG	R4
    038CA EE89      LDI	R24,0xE9
    038CB 1A48      SUB	R4,R24
    038CC C005      RJMP	0x38D2
    038CD 9535      ASR	R19
    038CE 9527      ROR	R18
    038CF 9517      ROR	R17
    038D0 9507      ROR	R16
    038D1 944A      DEC	R4
    038D2 F7D1      BNE	0x38CD
    038D3 C00E      RJMP	0x38E2
    038D4 E187      LDI	R24,0x17
    038D5 1A48      SUB	R4,R24
    038D6 0F00      LSL	R16
    038D7 1F11      ROL	R17
    038D8 1F22      ROL	R18
    038D9 1F33      ROL	R19
    038DA 944A      DEC	R4
    038DB F7D1      BNE	0x38D6
    038DC C005      RJMP	0x38E2
    038DD E73F      LDI	R19,0x7F
    038DE 2F23      MOV	R18,R19
    038DF 2F13      MOV	R17,R19
    038E0 2F03      MOV	R16,R19
    038E1 C004      RJMP	0x38E6
    038E2 2066      TST	R6
    038E3 F011      BEQ	0x38E6
    038E4 940E 37E0 CALL	neg32
    038E6 9189      LD	R24,Y+
    038E7 9069      LD	R6,Y+
    038E8 9059      LD	R5,Y+
    038E9 9049      LD	R4,Y+
    038EA 9508      RET
uint2fp:
    038EB 9468      BSET	6
    038EC C001      RJMP	0x38EE
int2fp:
    038ED 94E8      BCLR	6
    038EE 2722      CLR	R18
    038EF 2733      CLR	R19
    038F0 F046      BRTS	0x38F9
    038F1 FD17      SBRC	R17,7
    038F2 9520      COM	R18
    038F3 FD17      SBRC	R17,7
    038F4 9530      COM	R19
    038F5 C003      RJMP	0x38F9
ulong2fp:
    038F6 9468      BSET	6
    038F7 C001      RJMP	0x38F9
long2fp:
    038F8 94E8      BCLR	6
    038F9 924A      ST	-Y,R4
    038FA 925A      ST	-Y,R5
    038FB 926A      ST	-Y,R6
    038FC 938A      ST	-Y,R24
    038FD E187      LDI	R24,0x17
    038FE 2E48      MOV	R4,R24
    038FF 2455      CLR	R5
    03900 2466      CLR	R6
    03901 F036      BRTS	0x3908
    03902 2333      TST	R19
    03903 F422      BPL	0x3908
    03904 940E 37E0 CALL	neg32
    03906 E880      LDI	R24,0x80
    03907 2E68      MOV	R6,R24
    03908 940E 39D2 CALL	normalize_and_pack
    0390A 9189      LD	R24,Y+
    0390B 9069      LD	R6,Y+
    0390C 9059      LD	R5,Y+
    0390D 9049      LD	R4,Y+
    0390E 9508      RET
fpdiv1:
    0390F 93FA      ST	-Y,R31
    03910 93EA      ST	-Y,R30
    03911 81EA      LDD	R30,Y+2
    03912 81FB      LDD	R31,Y+3
    03913 D027      RCALL	0x393B
    03914 91E9      LD	R30,Y+
    03915 91F9      LD	R31,Y+
    03916 9622      ADIW	R28,2
    03917 9508      RET
fpdiv2:
    03918 93FA      ST	-Y,R31
    03919 93EA      ST	-Y,R30
    0391A 2FEC      MOV	R30,R28
    0391B 2FFD      MOV	R31,R29
    0391C 9632      ADIW	R30,2
    0391D D01D      RCALL	0x393B
    0391E 91E9      LD	R30,Y+
    0391F 91F9      LD	R31,Y+
    03920 9624      ADIW	R28,4
    03921 9508      RET
fpdiv1x:
    03922 93FA      ST	-Y,R31
    03923 93EA      ST	-Y,R30
    03924 81EA      LDD	R30,Y+2
    03925 81FB      LDD	R31,Y+3
    03926 D014      RCALL	0x393B
    03927 91E9      LD	R30,Y+
    03928 91F9      LD	R31,Y+
    03929 8339      STD	Y+1,R19
    0392A 8328      ST	Y,R18
    0392B 931A      ST	-Y,R17
    0392C 930A      ST	-Y,R16
    0392D 9508      RET
fpdiv2x:
    0392E 93FA      ST	-Y,R31
    0392F 93EA      ST	-Y,R30
    03930 2FEC      MOV	R30,R28
    03931 2FFD      MOV	R31,R29
    03932 9632      ADIW	R30,2
    03933 D007      RCALL	0x393B
    03934 91E9      LD	R30,Y+
    03935 91F9      LD	R31,Y+
    03936 833B      STD	Y+3,R19
    03937 832A      STD	Y+2,R18
    03938 8319      STD	Y+1,R17
    03939 8308      ST	Y,R16
    0393A 9508      RET
    0393B 920A      ST	-Y,R0
    0393C 921A      ST	-Y,R1
    0393D 922A      ST	-Y,R2
    0393E 923A      ST	-Y,R3
    0393F 940E 3A17 CALL	saveFPRegs
    03941 933A      ST	-Y,R19
    03942 932A      ST	-Y,R18
    03943 931A      ST	-Y,R17
    03944 930A      ST	-Y,R16
    03945 8100      LD	R16,Z
    03946 8111      LDD	R17,Z+1
    03947 8122      LDD	R18,Z+2
    03948 8133      LDD	R19,Z+3
    03949 940E 39B9 CALL	unpacku
    0394B F409      BNE	0x394D
    0394C C057      RJMP	0x39A4
    0394D 2CE6      MOV	R14,R6
    0394E 2CD5      MOV	R13,R5
    0394F 2CC4      MOV	R12,R4
    03950 2EB3      MOV	R11,R19
    03951 2EA2      MOV	R10,R18
    03952 2E91      MOV	R9,R17
    03953 2E80      MOV	R8,R16
    03954 9109      LD	R16,Y+
    03955 9119      LD	R17,Y+
    03956 9129      LD	R18,Y+
    03957 9139      LD	R19,Y+
    03958 940E 39B9 CALL	unpacku
    0395A F1A1      BEQ	0x398F
    0395B 246E      EOR	R6,R14
    0395C 184C      SUB	R4,R12
    0395D 085D      SBC	R5,R13
    0395E E880      LDI	R24,0x80
    0395F 1648      CP	R4,R24
    03960 0653      CPC	R5,R19
    03961 F00C      BLT	0x3963
    03962 C033      RJMP	0x3996
    03963 E881      LDI	R24,0x81
    03964 1648      CP	R4,R24
    03965 EF8F      LDI	R24,0xFF
    03966 0658      CPC	R5,R24
    03967 F40C      BGE	0x3969
    03968 C036      RJMP	0x399F
    03969 E280      LDI	R24,0x20
    0396A 2433      CLR	R3
    0396B 2E23      MOV	R2,R19
    0396C 2E12      MOV	R1,R18
    0396D 2E01      MOV	R0,R17
    0396E 2F30      MOV	R19,R16
    0396F 2722      CLR	R18
    03970 2711      CLR	R17
    03971 2700      CLR	R16
    03972 9426      LSR	R2
    03973 9417      ROR	R1
    03974 9407      ROR	R0
    03975 9537      ROR	R19
    03976 9527      ROR	R18
    03977 0F00      LSL	R16
    03978 1F11      ROL	R17
    03979 1F22      ROL	R18
    0397A 1F33      ROL	R19
    0397B 1C00      ROL	R0
    0397C 1C11      ROL	R1
    0397D 1C22      ROL	R2
    0397E 1C33      ROL	R3
    0397F F028      BCS	0x3985
    03980 1808      SUB	R0,R8
    03981 0819      SBC	R1,R9
    03982 082A      SBC	R2,R10
    03983 083B      SBC	R3,R11
    03984 C004      RJMP	0x3989
    03985 0C08      ADD	R0,R8
    03986 1C19      ADC	R1,R9
    03987 1C2A      ADC	R2,R10
    03988 1C3B      ADC	R3,R11
    03989 F00A      BMI	0x398B
    0398A 6001      ORI	R16,1
    0398B 958A      DEC	R24
    0398C F751      BNE	0x3977
    0398D 940E 39D2 CALL	normalize_and_pack
    0398F 940E 3A26 CALL	restoreFPRegs
    03991 9039      LD	R3,Y+
    03992 9029      LD	R2,Y+
    03993 9019      LD	R1,Y+
    03994 9009      LD	R0,Y+
    03995 9508      RET
    03996 EF0F      LDI	R16,0xFF
    03997 2F10      MOV	R17,R16
    03998 E72F      LDI	R18,0x7F
    03999 E73F      LDI	R19,0x7F
    0399A 2066      TST	R6
    0399B F399      BEQ	0x398F
    0399C 940E 37E0 CALL	neg32
    0399E CFF0      RJMP	0x398F
    0399F 2700      CLR	R16
    039A0 2F10      MOV	R17,R16
    039A1 2F20      MOV	R18,R16
    039A2 2F30      MOV	R19,R16
    039A3 CFEB      RJMP	0x398F
    039A4 9109      LD	R16,Y+
    039A5 9119      LD	R17,Y+
    039A6 9129      LD	R18,Y+
    039A7 9139      LD	R19,Y+
    039A8 CFED      RJMP	0x3996
unpacks:
    039A9 D00F      RCALL	unpacku
    039AA F029      BEQ	0x39B0
    039AB 2066      TST	R6
    039AC F011      BEQ	0x39AF
    039AD 940E 37E0 CALL	neg32
    039AF 9498      BCLR	1
    039B0 9508      RET
tstR16_R19:
    039B1 2300      TST	R16
    039B2 F429      BNE	0x39B8
    039B3 2311      TST	R17
    039B4 F419      BNE	0x39B8
    039B5 2322      TST	R18
    039B6 F409      BNE	0x39B8
    039B7 2333      TST	R19
    039B8 9508      RET
unpacku:
    039B9 DFF7      RCALL	tstR16_R19
    039BA F099      BEQ	0x39CE
    039BB 938A      ST	-Y,R24
    039BC 2E63      MOV	R6,R19
    039BD E880      LDI	R24,0x80
    039BE 2268      AND	R6,R24
    039BF 0F22      LSL	R18
    039C0 1F33      ROL	R19
    039C1 2E43      MOV	R4,R19
    039C2 E78F      LDI	R24,0x7F
    039C3 1A48      SUB	R4,R24
    039C4 2455      CLR	R5
    039C5 2788      CLR	R24
    039C6 0A58      SBC	R5,R24
    039C7 9526      LSR	R18
    039C8 E830      LDI	R19,0x80
    039C9 2B23      OR	R18,R19
    039CA 2733      CLR	R19
    039CB 9189      LD	R24,Y+
    039CC 9498      BCLR	1
    039CD 9508      RET
    039CE 2444      CLR	R4
    039CF 2455      CLR	R5
    039D0 2466      CLR	R6
    039D1 9508      RET
normalize_and_pack:
    039D2 DFDE      RCALL	tstR16_R19
    039D3 F409      BNE	0x39D5
    039D4 9508      RET
    039D5 93AA      ST	-Y,R26
    039D6 93BA      ST	-Y,R27
    039D7 01D2      MOVW	R26,R4
    039D8 939A      ST	-Y,R25
    039D9 938A      ST	-Y,R24
    039DA E78E      LDI	R24,0x7E
    039DB E090      LDI	R25,0
    039DC 2333      TST	R19
    039DD F049      BEQ	0x39E7
    039DE 9536      LSR	R19
    039DF 9527      ROR	R18
    039E0 9517      ROR	R17
    039E1 9507      ROR	R16
    039E2 17A8      CP	R26,R24
    039E3 07B9      CPC	R27,R25
    039E4 F4CC      BGE	0x39FE
    039E5 9611      ADIW	R26,1
    039E6 CFF5      RJMP	0x39DC
    039E7 9580      COM	R24
    039E8 9590      COM	R25
    039E9 9601      ADIW	R24,1
    039EA 2322      TST	R18
    039EB F0BA      BMI	0x3A03
    039EC 0F00      LSL	R16
    039ED 1F11      ROL	R17
    039EE 1F22      ROL	R18
    039EF 17A8      CP	R26,R24
    039F0 07B9      CPC	R27,R25
    039F1 F014      BLT	0x39F4
    039F2 9711      SBIW	R26,1
    039F3 CFF6      RJMP	0x39EA
    039F4 2700      CLR	R16
    039F5 2711      CLR	R17
    039F6 2722      CLR	R18
    039F7 2733      CLR	R19
    039F8 9189      LD	R24,Y+
    039F9 9199      LD	R25,Y+
    039FA 012D      MOVW	R4,R26
    039FB 91B9      LD	R27,Y+
    039FC 91A9      LD	R26,Y+
    039FD 9508      RET
    039FE 2733      CLR	R19
    039FF EF0F      LDI	R16,0xFF
    03A00 2F10      MOV	R17,R16
    03A01 E72F      LDI	R18,0x7F
    03A02 2F32      MOV	R19,R18
    03A03 9189      LD	R24,Y+
    03A04 9199      LD	R25,Y+
    03A05 012D      MOVW	R4,R26
    03A06 C002      RJMP	0x3A09
pack:
    03A07 93AA      ST	-Y,R26
    03A08 93BA      ST	-Y,R27
    03A09 DFA7      RCALL	tstR16_R19
    03A0A F049      BEQ	0x3A14
    03A0B 01D2      MOVW	R26,R4
    03A0C 58A1      SUBI	R26,0x81
    03A0D 4FBF      SBCI	R27,0xFF
    03A0E 012D      MOVW	R4,R26
    03A0F 2D34      MOV	R19,R4
    03A10 0F22      LSL	R18
    03A11 9536      LSR	R19
    03A12 9527      ROR	R18
    03A13 2936      OR	R19,R6
    03A14 91B9      LD	R27,Y+
    03A15 91A9      LD	R26,Y+
    03A16 9508      RET
saveFPRegs:
    03A17 924A      ST	-Y,R4
    03A18 925A      ST	-Y,R5
    03A19 926A      ST	-Y,R6
    03A1A 927A      ST	-Y,R7
    03A1B 928A      ST	-Y,R8
    03A1C 929A      ST	-Y,R9
    03A1D 92AA      ST	-Y,R10
    03A1E 92BA      ST	-Y,R11
    03A1F 92CA      ST	-Y,R12
    03A20 92DA      ST	-Y,R13
    03A21 92EA      ST	-Y,R14
    03A22 92FA      ST	-Y,R15
    03A23 938A      ST	-Y,R24
    03A24 939A      ST	-Y,R25
    03A25 9508      RET
restoreFPRegs:
    03A26 9199      LD	R25,Y+
    03A27 9189      LD	R24,Y+
    03A28 90F9      LD	R15,Y+
    03A29 90E9      LD	R14,Y+
    03A2A 90D9      LD	R13,Y+
    03A2B 90C9      LD	R12,Y+
    03A2C 90B9      LD	R11,Y+
    03A2D 90A9      LD	R10,Y+
    03A2E 9099      LD	R9,Y+
    03A2F 9089      LD	R8,Y+
    03A30 9079      LD	R7,Y+
    03A31 9069      LD	R6,Y+
    03A32 9059      LD	R5,Y+
    03A33 9049      LD	R4,Y+
    03A34 9508      RET
fpmule:
    03A35 940E 3A17 CALL	saveFPRegs
    03A37 93AA      ST	-Y,R26
    03A38 93BA      ST	-Y,R27
    03A39 940E 39B9 CALL	unpacku
    03A3B F1E1      BEQ	0x3A78
    03A3C 2CE6      MOV	R14,R6
    03A3D 2CD5      MOV	R13,R5
    03A3E 2CC4      MOV	R12,R4
    03A3F 2EB3      MOV	R11,R19
    03A40 2EA2      MOV	R10,R18
    03A41 2E91      MOV	R9,R17
    03A42 2E80      MOV	R8,R16
    03A43 8100      LD	R16,Z
    03A44 8111      LDD	R17,Z+1
    03A45 8122      LDD	R18,Z+2
    03A46 8133      LDD	R19,Z+3
    03A47 940E 39B9 CALL	unpacku
    03A49 F171      BEQ	0x3A78
    03A4A 246E      EOR	R6,R14
    03A4B 0C4C      ADD	R4,R12
    03A4C 1C5D      ADC	R5,R13
    03A4D E880      LDI	R24,0x80
    03A4E 1648      CP	R4,R24
    03A4F 0653      CPC	R5,R19
    03A50 F564      BGE	0x3A7D
    03A51 E881      LDI	R24,0x81
    03A52 1648      CP	R4,R24
    03A53 EF8F      LDI	R24,0xFF
    03A54 0658      CPC	R5,R24
    03A55 F16C      BLT	0x3A83
    03A56 9EA2      MUL	R10,R18
    03A57 2DB1      MOV	R27,R1
    03A58 2DA0      MOV	R26,R0
    03A59 9E91      MUL	R9,R17
    03A5A 2D91      MOV	R25,R1
    03A5B 2D80      MOV	R24,R0
    03A5C 9EA0      MUL	R10,R16
    03A5D 0D80      ADD	R24,R0
    03A5E 1D91      ADC	R25,R1
    03A5F 1FA3      ADC	R26,R19
    03A60 1FB3      ADC	R27,R19
    03A61 9E82      MUL	R8,R18
    03A62 0D80      ADD	R24,R0
    03A63 1D91      ADC	R25,R1
    03A64 1FA3      ADC	R26,R19
    03A65 1FB3      ADC	R27,R19
    03A66 9E92      MUL	R9,R18
    03A67 0D90      ADD	R25,R0
    03A68 1DA1      ADC	R26,R1
    03A69 1FB3      ADC	R27,R19
    03A6A 9EA1      MUL	R10,R17
    03A6B 0D90      ADD	R25,R0
    03A6C 1DA1      ADC	R26,R1
    03A6D 1FB3      ADC	R27,R19
    03A6E 2F2B      MOV	R18,R27
    03A6F 2F1A      MOV	R17,R26
    03A70 2F09      MOV	R16,R25
    03A71 0F88      LSL	R24
    03A72 1F00      ROL	R16
    03A73 1F11      ROL	R17
    03A74 1F22      ROL	R18
    03A75 1F33      ROL	R19
    03A76 940E 39D2 CALL	normalize_and_pack
    03A78 91B9      LD	R27,Y+
    03A79 91A9      LD	R26,Y+
    03A7A 940E 3A26 CALL	restoreFPRegs
    03A7C 9508      RET
    03A7D EF0F      LDI	R16,0xFF
    03A7E 2F10      MOV	R17,R16
    03A7F E72F      LDI	R18,0x7F
    03A80 E78F      LDI	R24,0x7F
    03A81 2E48      MOV	R4,R24
    03A82 CFF5      RJMP	0x3A78
    03A83 2700      CLR	R16
    03A84 2F10      MOV	R17,R16
    03A85 2F20      MOV	R18,R16
    03A86 2F30      MOV	R19,R16
    03A87 CFF0      RJMP	0x3A78
fpmule2:
    03A88 93FA      ST	-Y,R31
    03A89 93EA      ST	-Y,R30
    03A8A 2FEC      MOV	R30,R28
    03A8B 2FFD      MOV	R31,R29
    03A8C 9632      ADIW	R30,2
    03A8D 940E 3A35 CALL	fpmule
    03A8F 91E9      LD	R30,Y+
    03A90 91F9      LD	R31,Y+
    03A91 9624      ADIW	R28,4
    03A92 9508      RET
fpmule1x:
    03A93 93FA      ST	-Y,R31
    03A94 93EA      ST	-Y,R30
    03A95 81EA      LDD	R30,Y+2
    03A96 81FB      LDD	R31,Y+3
    03A97 940E 3A35 CALL	fpmule
    03A99 91E9      LD	R30,Y+
    03A9A 91F9      LD	R31,Y+
    03A9B 8339      STD	Y+1,R19
    03A9C 8328      ST	Y,R18
    03A9D 931A      ST	-Y,R17
    03A9E 930A      ST	-Y,R16
    03A9F 9508      RET
fpmule2x:
    03AA0 93FA      ST	-Y,R31
    03AA1 93EA      ST	-Y,R30
    03AA2 2FEC      MOV	R30,R28
    03AA3 2FFD      MOV	R31,R29
    03AA4 9632      ADIW	R30,2
    03AA5 940E 3A35 CALL	fpmule
    03AA7 91E9      LD	R30,Y+
    03AA8 91F9      LD	R31,Y+
    03AA9 833B      STD	Y+3,R19
    03AAA 832A      STD	Y+2,R18
    03AAB 8319      STD	Y+1,R17
    03AAC 8308      ST	Y,R16
    03AAD 9508      RET
fpcmp:
    03AAE 940E 3807 CALL	fpsub
    03AB0 2333      TST	R19
    03AB1 F03A      BMI	0x3AB9
    03AB2 940E 39B1 CALL	tstR16_R19
    03AB4 F011      BEQ	0x3AB7
    03AB5 E001      LDI	R16,1
    03AB6 9508      RET
    03AB7 2700      CLR	R16
    03AB8 9508      RET
    03AB9 EF0F      LDI	R16,0xFF
    03ABA 9508      RET
fpcmp2:
    03ABB 93FA      ST	-Y,R31
    03ABC 93EA      ST	-Y,R30
    03ABD 2FEC      MOV	R30,R28
    03ABE 2FFD      MOV	R31,R29
    03ABF 9632      ADIW	R30,2
    03AC0 940E 3AAE CALL	fpcmp
    03AC2 91E9      LD	R30,Y+
    03AC3 91F9      LD	R31,Y+
    03AC4 9624      ADIW	R28,4
    03AC5 2300      TST	R16
    03AC6 9508      RET
