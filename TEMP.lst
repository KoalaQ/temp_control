Interrupt Vectors
    00000 940C 0392 JMP	__start|__text_start
    00014 940C 0A30 JMP	_int_timer2
    0001C 940C 09DF JMP	_int_timer1
    00020 940C 0991 JMP	_int_timer0
    0003A 940C 0A7E JMP	_int_timer3

Program Code (text area)
__start|__text_start:
    00392 EFCF      LDI	R28,0xFF
    00393 E1D0      LDI	R29,0x10
    00394 BFCD      OUT	0x3D,R28
    00395 BFDE      OUT	0x3E,R29
    00396 51CE      SUBI	R28,0x1E
    00397 40D0      SBCI	R29,0
    00398 EA0A      LDI	R16,0xAA
    00399 8308      ST	Y,R16
    0039A 2400      CLR	R0
    0039B E9E7      LDI	R30,0x97
    0039C E0F7      LDI	R31,7
    0039D E01C      LDI	R17,0xC
    0039E 36E3      CPI	R30,0x63
    0039F 07F1      CPC	R31,R17
    003A0 F011      BEQ	0x03A3
    003A1 9201      ST	Z+,R0
    003A2 CFFB      RJMP	0x039E
    003A3 8300      ST	Z,R16
    003A4 E8EC      LDI	R30,0x8C
    003A5 E0F0      LDI	R31,0
    003A6 E0A0      LDI	R26,0
    003A7 E0B1      LDI	R27,1
    003A8 E017      LDI	R17,7
    003A9 E000      LDI	R16,0
    003AA BF0B      OUT	0x3B,R16
    003AB 32E3      CPI	R30,0x23
    003AC 07F1      CPC	R31,R17
    003AD F021      BEQ	0x03B2
    003AE 95C8      LPM
    003AF 9631      ADIW	R30,1
    003B0 920D      ST	X+,R0
    003B1 CFF9      RJMP	0x03AB
    003B2 940E 0928 CALL	_main
_exit:
    003B4 CFFF      RJMP	_exit
FILE: E:\ICCDemo\Temp_Control\temp_control\delay.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) 
(0004) 
(0005) void delay_us(uint n)//延时us
(0006) {
(0007)   n=2*n;
_delay_us:
  n                    --> R16
    003B5 0F00      LSL	R16
    003B6 1F11      ROL	R17
(0008)   do{ n--;
    003B7 5001      SUBI	R16,1
    003B8 4010      SBCI	R17,0
(0009)   }while(n>1);
    003B9 E081      LDI	R24,1
    003BA E090      LDI	R25,0
    003BB 1780      CP	R24,R16
    003BC 0791      CPC	R25,R17
    003BD F3C8      BCS	0x03B7
    003BE 9508      RET
_delay_ms:
  j                    --> R20
    003BF 934A      ST	-Y,R20
    003C0 935A      ST	-Y,R21
    003C1 01A8      MOVW	R20,R16
(0010) }
(0011) void delay_ms(uint j)//延时ms
(0012) {
(0013)    do{j--;
    003C2 5041      SUBI	R20,1
    003C3 4050      SBCI	R21,0
(0014)      delay_us(1141);
    003C4 E705      LDI	R16,0x75
    003C5 E014      LDI	R17,4
    003C6 DFEE      RCALL	_delay_us
(0015)    }while(j>1);
    003C7 E081      LDI	R24,1
    003C8 E090      LDI	R25,0
    003C9 1784      CP	R24,R20
    003CA 0795      CPC	R25,R21
    003CB F3B0      BCS	0x03C2
    003CC 9159      LD	R21,Y+
    003CD 9149      LD	R20,Y+
    003CE 9508      RET
_delay_s:
  i                    --> R20
    003CF 934A      ST	-Y,R20
    003D0 935A      ST	-Y,R21
    003D1 01A8      MOVW	R20,R16
(0016) }
(0017) void delay_s(uint i)
(0018) {
(0019)    do{
(0020)    i--;
    003D2 5041      SUBI	R20,1
    003D3 4050      SBCI	R21,0
(0021)    delay_ms(1000);
    003D4 EE08      LDI	R16,0xE8
    003D5 E013      LDI	R17,3
    003D6 DFE8      RCALL	_delay_ms
(0022)    }while(i>1);
    003D7 E081      LDI	R24,1
    003D8 E090      LDI	R25,0
    003D9 1784      CP	R24,R20
    003DA 0795      CPC	R25,R21
    003DB F3B0      BCS	0x03D2
    003DC 9159      LD	R21,Y+
    003DD 9149      LD	R20,Y+
    003DE 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\key.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) #include "lcd.h"
(0004) uchar key_value='n';
(0005) void KeyInit(void){
_KeyInit:
    003DF 9508      RET
_KeyScan:
    003E0 934A      ST	-Y,R20
    003E1 935A      ST	-Y,R21
(0006) }
(0007) uchar KeyScan(void){
(0008)   //初始化端口
(0009)    DDRC=0xE0;
    003E2 EE80      LDI	R24,0xE0
    003E3 BB84      OUT	0x14,R24
(0010)    DDRG|=0x10;
    003E4 9180 0064 LDS	R24,0x64
    003E6 6180      ORI	R24,0x10
    003E7 9380 0064 STS	0x64,R24
(0011)    
(0012)    //第一次扫描
(0013)    PORTC=0xDF;
    003E9 ED8F      LDI	R24,0xDF
    003EA BB85      OUT	0x15,R24
(0014)    PORTG|=0x10;
    003EB 9180 0065 LDS	R24,0x65
    003ED 6180      ORI	R24,0x10
    003EE 9380 0065 STS	0x65,R24
(0015)    delay_us(1);
    003F0 E001      LDI	R16,1
    003F1 E010      LDI	R17,0
    003F2 940E 03B5 CALL	_delay_us
(0016)    switch(PINC)
    003F4 B343      IN	R20,0x13
    003F5 2755      CLR	R21
    003F6 3C4F      CPI	R20,0xCF
    003F7 E0E0      LDI	R30,0
    003F8 075E      CPC	R21,R30
    003F9 F0E9      BEQ	0x0417
    003FA 3C4F      CPI	R20,0xCF
    003FB E0E0      LDI	R30,0
    003FC 075E      CPC	R21,R30
    003FD F0DC      BLT	0x0419
    003FE 3D47      CPI	R20,0xD7
    003FF E0E0      LDI	R30,0
    00400 075E      CPC	R21,R30
    00401 F099      BEQ	0x0415
    00402 3D4B      CPI	R20,0xDB
    00403 E0E0      LDI	R30,0
    00404 075E      CPC	R21,R30
    00405 F069      BEQ	0x0413
    00406 3D4D      CPI	R20,0xDD
    00407 E0E0      LDI	R30,0
    00408 075E      CPC	R21,R30
    00409 F039      BEQ	0x0411
    0040A 3D4E      CPI	R20,0xDE
    0040B E0E0      LDI	R30,0
    0040C 075E      CPC	R21,R30
    0040D F009      BEQ	0x040F
    0040E C00A      RJMP	0x0419
(0017)    {
(0018)    		case 0xDE:return  'e';//'esc';
    0040F E605      LDI	R16,0x65
    00410 C099      RJMP	0x04AA
(0019) 		case 0xdd:return  'a';//'alm';
    00411 E601      LDI	R16,0x61
    00412 C097      RJMP	0x04AA
(0020) 		case 0xdb:return  'd';//'down';  
    00413 E604      LDI	R16,0x64
    00414 C095      RJMP	0x04AA
(0021) 		case 0xd7:return  'u';//'up';
    00415 E705      LDI	R16,0x75
    00416 C093      RJMP	0x04AA
(0022) 		case 0xcf:return  'l';//'left';
    00417 E60C      LDI	R16,0x6C
    00418 C091      RJMP	0x04AA
(0023) 		default:break;	   
(0024)    } 
(0025)     //第二次扫描
(0026)    PORTC=0xBF;
    00419 EB8F      LDI	R24,0xBF
    0041A BB85      OUT	0x15,R24
(0027)    PORTG|=0x10;
    0041B 9180 0065 LDS	R24,0x65
    0041D 6180      ORI	R24,0x10
    0041E 9380 0065 STS	0x65,R24
(0028)    delay_us(1);
    00420 E001      LDI	R16,1
    00421 E010      LDI	R17,0
    00422 940E 03B5 CALL	_delay_us
(0029)    switch(PINC)
    00424 B343      IN	R20,0x13
    00425 2755      CLR	R21
    00426 3A4F      CPI	R20,0xAF
    00427 E0E0      LDI	R30,0
    00428 075E      CPC	R21,R30
    00429 F0E9      BEQ	0x0447
    0042A 3A4F      CPI	R20,0xAF
    0042B E0E0      LDI	R30,0
    0042C 075E      CPC	R21,R30
    0042D F0DC      BLT	0x0449
    0042E 3B47      CPI	R20,0xB7
    0042F E0E0      LDI	R30,0
    00430 075E      CPC	R21,R30
    00431 F099      BEQ	0x0445
    00432 3B4B      CPI	R20,0xBB
    00433 E0E0      LDI	R30,0
    00434 075E      CPC	R21,R30
    00435 F069      BEQ	0x0443
    00436 3B4D      CPI	R20,0xBD
    00437 E0E0      LDI	R30,0
    00438 075E      CPC	R21,R30
    00439 F039      BEQ	0x0441
    0043A 3B4E      CPI	R20,0xBE
    0043B E0E0      LDI	R30,0
    0043C 075E      CPC	R21,R30
    0043D F009      BEQ	0x043F
    0043E C00A      RJMP	0x0449
(0030)    {
(0031)    		case 0xbE:return 's';//'set';
    0043F E703      LDI	R16,0x73
    00440 C069      RJMP	0x04AA
(0032) 		case 0xbd:return 'r';//'right';
    00441 E702      LDI	R16,0x72
    00442 C067      RJMP	0x04AA
(0033) 		case 0xbb:return 't';//'ent';  
    00443 E704      LDI	R16,0x74
    00444 C065      RJMP	0x04AA
(0034) 		case 0xb7:return 'c';//'clr';
    00445 E603      LDI	R16,0x63
    00446 C063      RJMP	0x04AA
(0035) 		case 0xaf:return '+';//'+/-';
    00447 E20B      LDI	R16,0x2B
    00448 C061      RJMP	0x04AA
(0036) 		default:break;	   
(0037)    } 
(0038)     //第三次扫描
(0039)    PORTC=0x7F;
    00449 E78F      LDI	R24,0x7F
    0044A BB85      OUT	0x15,R24
(0040)    PORTG|=0x10;
    0044B 9180 0065 LDS	R24,0x65
    0044D 6180      ORI	R24,0x10
    0044E 9380 0065 STS	0x65,R24
(0041)    delay_us(1);
    00450 E001      LDI	R16,1
    00451 E010      LDI	R17,0
    00452 940E 03B5 CALL	_delay_us
(0042)    switch(PINC)
    00454 B343      IN	R20,0x13
    00455 2755      CLR	R21
    00456 364F      CPI	R20,0x6F
    00457 E0E0      LDI	R30,0
    00458 075E      CPC	R21,R30
    00459 F0E9      BEQ	0x0477
    0045A 364F      CPI	R20,0x6F
    0045B E0E0      LDI	R30,0
    0045C 075E      CPC	R21,R30
    0045D F0DC      BLT	0x0479
    0045E 3747      CPI	R20,0x77
    0045F E0E0      LDI	R30,0
    00460 075E      CPC	R21,R30
    00461 F099      BEQ	0x0475
    00462 374B      CPI	R20,0x7B
    00463 E0E0      LDI	R30,0
    00464 075E      CPC	R21,R30
    00465 F069      BEQ	0x0473
    00466 374D      CPI	R20,0x7D
    00467 E0E0      LDI	R30,0
    00468 075E      CPC	R21,R30
    00469 F039      BEQ	0x0471
    0046A 374E      CPI	R20,0x7E
    0046B E0E0      LDI	R30,0
    0046C 075E      CPC	R21,R30
    0046D F009      BEQ	0x046F
    0046E C00A      RJMP	0x0479
(0043)    {
(0044)    		case 0x7E:return '0';
    0046F E300      LDI	R16,0x30
    00470 C039      RJMP	0x04AA
(0045) 		case 0x7d:return '3';
    00471 E303      LDI	R16,0x33
    00472 C037      RJMP	0x04AA
(0046) 		case 0x7b:return '2';  
    00473 E302      LDI	R16,0x32
    00474 C035      RJMP	0x04AA
(0047) 		case 0x77:return '1';
    00475 E301      LDI	R16,0x31
    00476 C033      RJMP	0x04AA
(0048) 		case 0x6f:return '6';
    00477 E306      LDI	R16,0x36
    00478 C031      RJMP	0x04AA
(0049) 		default:break;	   
(0050)    } 
(0051)       //第四次扫描
(0052)    PORTC=0xFF;
    00479 EF8F      LDI	R24,0xFF
    0047A BB85      OUT	0x15,R24
(0053)    PORTG&=0x0F;
    0047B 9180 0065 LDS	R24,0x65
    0047D 708F      ANDI	R24,0xF
    0047E 9380 0065 STS	0x65,R24
(0054)    delay_us(1);
    00480 E001      LDI	R16,1
    00481 E010      LDI	R17,0
    00482 940E 03B5 CALL	_delay_us
(0055)    switch(PINC)
    00484 B343      IN	R20,0x13
    00485 2755      CLR	R21
    00486 3E4F      CPI	R20,0xEF
    00487 E0E0      LDI	R30,0
    00488 075E      CPC	R21,R30
    00489 F0E9      BEQ	0x04A7
    0048A 3E4F      CPI	R20,0xEF
    0048B E0E0      LDI	R30,0
    0048C 075E      CPC	R21,R30
    0048D F0DC      BLT	0x04A9
    0048E 3F47      CPI	R20,0xF7
    0048F E0E0      LDI	R30,0
    00490 075E      CPC	R21,R30
    00491 F099      BEQ	0x04A5
    00492 3F4B      CPI	R20,0xFB
    00493 E0E0      LDI	R30,0
    00494 075E      CPC	R21,R30
    00495 F069      BEQ	0x04A3
    00496 3F4D      CPI	R20,0xFD
    00497 E0E0      LDI	R30,0
    00498 075E      CPC	R21,R30
    00499 F039      BEQ	0x04A1
    0049A 3F4E      CPI	R20,0xFE
    0049B E0E0      LDI	R30,0
    0049C 075E      CPC	R21,R30
    0049D F009      BEQ	0x049F
    0049E C00A      RJMP	0x04A9
(0056)    {
(0057)    		case 0xFE:return '7';
    0049F E307      LDI	R16,0x37
    004A0 C009      RJMP	0x04AA
(0058) 		case 0xFd:return '8';
    004A1 E308      LDI	R16,0x38
    004A2 C007      RJMP	0x04AA
(0059) 		case 0xFb:return '9';  
    004A3 E309      LDI	R16,0x39
    004A4 C005      RJMP	0x04AA
(0060) 		case 0xF7:return '4';
    004A5 E304      LDI	R16,0x34
    004A6 C003      RJMP	0x04AA
(0061) 		case 0xEf:return '5';
    004A7 E305      LDI	R16,0x35
    004A8 C001      RJMP	0x04AA
(0062) 		default:break;	   
(0063)    }
(0064)  return 'n';
    004A9 E60E      LDI	R16,0x6E
    004AA 9159      LD	R21,Y+
    004AB 9149      LD	R20,Y+
    004AC 9508      RET
_KeyScan_once:
  keyValue2            --> R10
  keyValue             --> R20
    004AD 92AA      ST	-Y,R10
    004AE 934A      ST	-Y,R20
(0065)    
(0066) }
(0067) //********************************
(0068) //		加上延时抖动的读取，一次读取一个
(0069) //********************************
(0070) uchar KeyScan_once(void){
(0071) 	  uchar keyValue,keyValue2;
(0072) 	  keyValue=KeyScan();
    004AF DF30      RCALL	_KeyScan
    004B0 2F40      MOV	R20,R16
(0073) 	  delay_ms(2);
    004B1 E002      LDI	R16,2
    004B2 E010      LDI	R17,0
    004B3 940E 03BF CALL	_delay_ms
(0074) 	  keyValue2=KeyScan();
    004B5 DF2A      RCALL	_KeyScan
    004B6 2EA0      MOV	R10,R16
(0075) 	 if(keyValue==keyValue2 && keyValue!='n'){//两次扫描，消除抖动
    004B7 1740      CP	R20,R16
    004B8 F461      BNE	0x04C5
    004B9 364E      CPI	R20,0x6E
    004BA F051      BEQ	0x04C5
(0076) 	 	if(key_value==keyValue){//如果还是上一次保存的值则代表一直按着，返回‘n’
    004BB 9020 0100 LDS	R2,key_value
    004BD 1624      CP	R2,R20
    004BE F411      BNE	0x04C1
(0077) 		    return 'n';  
    004BF E60E      LDI	R16,0x6E
    004C0 C008      RJMP	0x04C9
(0078) 	    }else{                  //松开后第一次按下，返回该键的值
(0079) 		 key_value=keyValue;
    004C1 9340 0100 STS	key_value,R20
(0080) 		  return keyValue;
    004C3 2F04      MOV	R16,R20
    004C4 C004      RJMP	0x04C9
(0081) 		}
(0082) 	 }else{                     //因为读取键盘的值会多次刷新，所以在松开按键时key_value重置
(0083) 	   key_value='n';
    004C5 E68E      LDI	R24,0x6E
    004C6 9380 0100 STS	key_value,R24
(0084) 	   return 'n';
    004C8 E60E      LDI	R16,0x6E
    004C9 9149      LD	R20,Y+
    004CA 90A9      LD	R10,Y+
    004CB 9508      RET
_lcd_bz_1:
  result               --> R20
    004CC 934A      ST	-Y,R20
    004CD 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\lcd.c
(0001) #include<iom128v.h>
(0002) #include "lcd.h"
(0003) #include "delay.h" 
(0004) #define rs_l PORTG&=~(1<<PG1)
(0005) #define rs_h PORTG|=1<<PG1
(0006) #define rw_l PORTG&=~(1<<PG0)
(0007) #define rw_h PORTG|=1<<PG0
(0008) #define ep1_l PORTG&=~(1<<PG3)
(0009) #define ep1_h PORTG|=1<<PG3
(0010) #define ep2_l PORTF&=~(1<<PF0)
(0011) #define ep2_h PORTF|=1<<PF0
(0012) //***********************************
(0013) //上半屏幕
(0014) //**********************************
(0015) /*
(0016)  读忙程序。命令后，读入BF
(0017) */
(0018) uint lcd_bz_1(void){
(0019) 	uint result;
(0020) 	DDRA=0x00;
    004CE 2422      CLR	R2
    004CF BA2A      OUT	0x1A,R2
(0021) 	rs_l;
    004D0 9180 0065 LDS	R24,0x65
    004D2 7F8D      ANDI	R24,0xFD
    004D3 9380 0065 STS	0x65,R24
(0022) 	rw_h;
    004D5 9180 0065 LDS	R24,0x65
    004D7 6081      ORI	R24,1
    004D8 9380 0065 STS	0x65,R24
(0023) 	ep1_h;
    004DA 9180 0065 LDS	R24,0x65
    004DC 6088      ORI	R24,0x8
    004DD 9380 0065 STS	0x65,R24
(0024) 	delay_us(1);
    004DF E001      LDI	R16,1
    004E0 E010      LDI	R17,0
    004E1 940E 03B5 CALL	_delay_us
(0025) 	result=PINA&(1<<PINA7);
    004E3 B349      IN	R20,0x19
    004E4 2755      CLR	R21
    004E5 7840      ANDI	R20,0x80
    004E6 7050      ANDI	R21,0
(0026) 	DDRA=0xFF;
    004E7 EF8F      LDI	R24,0xFF
    004E8 BB8A      OUT	0x1A,R24
(0027) 	ep1_l;
    004E9 9180 0065 LDS	R24,0x65
    004EB 7F87      ANDI	R24,0xF7
    004EC 9380 0065 STS	0x65,R24
(0028) 	return result;
    004EE 018A      MOVW	R16,R20
    004EF 9159      LD	R21,Y+
    004F0 9149      LD	R20,Y+
    004F1 9508      RET
_lcd_wcmd_1:
  cmd                  --> R10
    004F2 92AA      ST	-Y,R10
    004F3 2EA0      MOV	R10,R16
(0029) }
(0030) void lcd_wcmd_1(uchar cmd){
(0031) 	 while(lcd_bz_1());
    004F4 DFD7      RCALL	_lcd_bz_1
    004F5 3000      CPI	R16,0
    004F6 0701      CPC	R16,R17
    004F7 F7E1      BNE	0x04F4
(0032) 	 rs_l;
    004F8 9180 0065 LDS	R24,0x65
    004FA 7F8D      ANDI	R24,0xFD
    004FB 9380 0065 STS	0x65,R24
(0033) 	 rw_l;
    004FD 9180 0065 LDS	R24,0x65
    004FF 7F8E      ANDI	R24,0xFE
    00500 9380 0065 STS	0x65,R24
(0034) 	 ep1_l;
    00502 9180 0065 LDS	R24,0x65
    00504 7F87      ANDI	R24,0xF7
    00505 9380 0065 STS	0x65,R24
(0035) 	 PORTA=cmd;
    00507 BAAB      OUT	0x1B,R10
(0036) 	 ep1_h;
    00508 9180 0065 LDS	R24,0x65
    0050A 6088      ORI	R24,0x8
    0050B 9380 0065 STS	0x65,R24
(0037) 	 delay_us(1);
    0050D E001      LDI	R16,1
    0050E E010      LDI	R17,0
    0050F 940E 03B5 CALL	_delay_us
(0038) 	 ep1_l;
    00511 9180 0065 LDS	R24,0x65
    00513 7F87      ANDI	R24,0xF7
    00514 9380 0065 STS	0x65,R24
(0039) 	 return;
    00516 90A9      LD	R10,Y+
    00517 9508      RET
_lcd_wdat_1:
  dat                  --> R10
    00518 92AA      ST	-Y,R10
    00519 2EA0      MOV	R10,R16
(0040) }
(0041) /*
(0042) 写输出数据,char
(0043) */
(0044) void lcd_wdat_1(uchar dat){
(0045) 	 while(lcd_bz_1());
    0051A DFB1      RCALL	_lcd_bz_1
    0051B 3000      CPI	R16,0
    0051C 0701      CPC	R16,R17
    0051D F7E1      BNE	0x051A
(0046) 	 rs_h;
    0051E 9180 0065 LDS	R24,0x65
    00520 6082      ORI	R24,2
    00521 9380 0065 STS	0x65,R24
(0047) 	 rw_l;
    00523 9180 0065 LDS	R24,0x65
    00525 7F8E      ANDI	R24,0xFE
    00526 9380 0065 STS	0x65,R24
(0048) 	 ep1_l;
    00528 9180 0065 LDS	R24,0x65
    0052A 7F87      ANDI	R24,0xF7
    0052B 9380 0065 STS	0x65,R24
(0049) 	 PORTA=dat;
    0052D BAAB      OUT	0x1B,R10
(0050) 	 ep1_h;
    0052E 9180 0065 LDS	R24,0x65
    00530 6088      ORI	R24,0x8
    00531 9380 0065 STS	0x65,R24
(0051) 	 delay_us(1);
    00533 E001      LDI	R16,1
    00534 E010      LDI	R17,0
    00535 940E 03B5 CALL	_delay_us
(0052) 	 ep1_l;
    00537 9180 0065 LDS	R24,0x65
    00539 7F87      ANDI	R24,0xF7
    0053A 9380 0065 STS	0x65,R24
    0053C 90A9      LD	R10,Y+
    0053D 9508      RET
(0053) }
(0054) 
(0055) /*清显示*/
(0056) void lcd_clear_1(void) 
(0057) {
(0058) 	lcd_wcmd_1(0x01);
_lcd_clear_1:
    0053E E001      LDI	R16,1
    0053F DFB2      RCALL	_lcd_wcmd_1
(0059) 	delay_ms(1);
    00540 E001      LDI	R16,1
    00541 E010      LDI	R17,0
    00542 940C 03BF JMP	_delay_ms
_lcd_bz_2:
  result               --> R20
    00544 934A      ST	-Y,R20
    00545 935A      ST	-Y,R21
(0060) }
(0061) //***********************************
(0062) //    下半屏幕
(0063) //***********************************
(0064) uint lcd_bz_2(void){
(0065) 	uint result;
(0066) 	DDRA=0x00;
    00546 2422      CLR	R2
    00547 BA2A      OUT	0x1A,R2
(0067) 	rs_l;
    00548 9180 0065 LDS	R24,0x65
    0054A 7F8D      ANDI	R24,0xFD
    0054B 9380 0065 STS	0x65,R24
(0068) 	rw_h;
    0054D 9180 0065 LDS	R24,0x65
    0054F 6081      ORI	R24,1
    00550 9380 0065 STS	0x65,R24
(0069) 	ep2_h;
    00552 9180 0062 LDS	R24,0x62
    00554 6081      ORI	R24,1
    00555 9380 0062 STS	0x62,R24
(0070) 	delay_us(1);
    00557 E001      LDI	R16,1
    00558 E010      LDI	R17,0
    00559 940E 03B5 CALL	_delay_us
(0071) 	result=PINA&(1<<PINA7);
    0055B B349      IN	R20,0x19
    0055C 2755      CLR	R21
    0055D 7840      ANDI	R20,0x80
    0055E 7050      ANDI	R21,0
(0072) 	DDRA=0xFF;
    0055F EF8F      LDI	R24,0xFF
    00560 BB8A      OUT	0x1A,R24
(0073) 	ep2_l;
    00561 9180 0062 LDS	R24,0x62
    00563 7F8E      ANDI	R24,0xFE
    00564 9380 0062 STS	0x62,R24
(0074) 	return result;
    00566 018A      MOVW	R16,R20
    00567 9159      LD	R21,Y+
    00568 9149      LD	R20,Y+
    00569 9508      RET
_lcd_wcmd_2:
  cmd                  --> R10
    0056A 92AA      ST	-Y,R10
    0056B 2EA0      MOV	R10,R16
(0075) }
(0076) void lcd_wcmd_2(uchar cmd){
(0077) 	 while(lcd_bz_2());
    0056C DFD7      RCALL	_lcd_bz_2
    0056D 3000      CPI	R16,0
    0056E 0701      CPC	R16,R17
    0056F F7E1      BNE	0x056C
(0078) 	 rs_l;
    00570 9180 0065 LDS	R24,0x65
    00572 7F8D      ANDI	R24,0xFD
    00573 9380 0065 STS	0x65,R24
(0079) 	 rw_l;
    00575 9180 0065 LDS	R24,0x65
    00577 7F8E      ANDI	R24,0xFE
    00578 9380 0065 STS	0x65,R24
(0080) 	 ep2_l;
    0057A 9180 0062 LDS	R24,0x62
    0057C 7F8E      ANDI	R24,0xFE
    0057D 9380 0062 STS	0x62,R24
(0081) 	 PORTA=cmd;
    0057F BAAB      OUT	0x1B,R10
(0082) 	 ep2_h;
    00580 9180 0062 LDS	R24,0x62
    00582 6081      ORI	R24,1
    00583 9380 0062 STS	0x62,R24
(0083) 	delay_us(1);
    00585 E001      LDI	R16,1
    00586 E010      LDI	R17,0
    00587 940E 03B5 CALL	_delay_us
(0084) 	 ep2_l;
    00589 9180 0062 LDS	R24,0x62
    0058B 7F8E      ANDI	R24,0xFE
    0058C 9380 0062 STS	0x62,R24
    0058E 90A9      LD	R10,Y+
    0058F 9508      RET
_lcd_wdat_2:
  dat                  --> R10
    00590 92AA      ST	-Y,R10
    00591 2EA0      MOV	R10,R16
(0085) }
(0086) //  写输出数据,char
(0087) void lcd_wdat_2(uchar dat){
(0088) 	 while(lcd_bz_2());
    00592 DFB1      RCALL	_lcd_bz_2
    00593 3000      CPI	R16,0
    00594 0701      CPC	R16,R17
    00595 F7E1      BNE	0x0592
(0089) 	 rs_h;
    00596 9180 0065 LDS	R24,0x65
    00598 6082      ORI	R24,2
    00599 9380 0065 STS	0x65,R24
(0090) 	 rw_l;
    0059B 9180 0065 LDS	R24,0x65
    0059D 7F8E      ANDI	R24,0xFE
    0059E 9380 0065 STS	0x65,R24
(0091) 	 ep2_l;
    005A0 9180 0062 LDS	R24,0x62
    005A2 7F8E      ANDI	R24,0xFE
    005A3 9380 0062 STS	0x62,R24
(0092) 	 PORTA=dat;
    005A5 BAAB      OUT	0x1B,R10
(0093) 	 ep2_h;
    005A6 9180 0062 LDS	R24,0x62
    005A8 6081      ORI	R24,1
    005A9 9380 0062 STS	0x62,R24
(0094) 	delay_us(1);
    005AB E001      LDI	R16,1
    005AC E010      LDI	R17,0
    005AD 940E 03B5 CALL	_delay_us
(0095) 	 ep2_l;
    005AF 9180 0062 LDS	R24,0x62
    005B1 7F8E      ANDI	R24,0xFE
    005B2 9380 0062 STS	0x62,R24
    005B4 90A9      LD	R10,Y+
    005B5 9508      RET
(0096) }
(0097) /*清显示*/
(0098) void lcd_clear_2(void) 
(0099) {
(0100) 	lcd_wcmd_2(0x01);
_lcd_clear_2:
    005B6 E001      LDI	R16,1
    005B7 CFB2      RJMP	_lcd_wcmd_2
_lcd_write_char_con:
  data                 --> R10
  y                    --> R20
    005B8 92AA      ST	-Y,R10
    005B9 934A      ST	-Y,R20
    005BA 2EA2      MOV	R10,R18
    005BB 2F40      MOV	R20,R16
(0101) }
(0102) 
(0103) //*************************************************
(0104) //					写字符
(0105) //***************************************************
(0106) /*
(0107)   附带y。调用 lcd_wdat（）方法。传入时转换为char。直接连续写入使用
(0108) */
(0109) void lcd_write_char_con(unsigned char y,unsigned char data) 
(0110) {
(0111) 	
(0112)     if (y == 0 || y==1) 
    005BC 2344      TST	R20
    005BD F011      BEQ	0x05C0
    005BE 3041      CPI	R20,1
    005BF F419      BNE	0x05C3
(0113)     {
(0114)     	
(0115) 		 lcd_wdat_1( data);
    005C0 2D0A      MOV	R16,R10
    005C1 DF56      RCALL	_lcd_wdat_1
(0116)     }else  if(y==2 || y==3 )
    005C2 C006      RJMP	0x05C9
    005C3 3042      CPI	R20,2
    005C4 F011      BEQ	0x05C7
    005C5 3043      CPI	R20,3
    005C6 F411      BNE	0x05C9
(0117)     {
(0118)     	
(0119) 		 lcd_wdat_2( data);
    005C7 2D0A      MOV	R16,R10
    005C8 DFC7      RCALL	_lcd_wdat_2
(0120)     }
(0121)    return; 
    005C9 9149      LD	R20,Y+
    005CA 90A9      LD	R10,Y+
    005CB 9508      RET
_lcd_write_pos:
  y                    --> R22
  x                    --> R20
    005CC 934A      ST	-Y,R20
    005CD 936A      ST	-Y,R22
    005CE 2F62      MOV	R22,R18
    005CF 2F40      MOV	R20,R16
(0122) }
(0123) /*
(0124)   附带x,y。写光标位置
(0125) */
(0126) void lcd_write_pos(unsigned char x,unsigned char y) 
(0127) {
(0128) 	
(0129)     if (y == 0) 
    005D0 2366      TST	R22
    005D1 F421      BNE	0x05D6
(0130)     {
(0131)     	lcd_wcmd_1(0x80 + x);
    005D2 2F04      MOV	R16,R20
    005D3 5800      SUBI	R16,0x80
    005D4 DF1D      RCALL	_lcd_wcmd_1
(0132)     }
    005D5 C011      RJMP	0x05E7
(0133)     else  if(y==1)
    005D6 3061      CPI	R22,1
    005D7 F421      BNE	0x05DC
(0134)     {
(0135)     	lcd_wcmd_1(0x90 + x);
    005D8 2F04      MOV	R16,R20
    005D9 5700      SUBI	R16,0x70
    005DA DF17      RCALL	_lcd_wcmd_1
(0136)     }else  if(y==2)
    005DB C00B      RJMP	0x05E7
    005DC 3062      CPI	R22,2
    005DD F421      BNE	0x05E2
(0137)     {
(0138)     	lcd_wcmd_2(0x80 + x);
    005DE 2F04      MOV	R16,R20
    005DF 5800      SUBI	R16,0x80
    005E0 DF89      RCALL	_lcd_wcmd_2
(0139)     }else  if(y==3)
    005E1 C005      RJMP	0x05E7
    005E2 3063      CPI	R22,3
    005E3 F419      BNE	0x05E7
(0140)     {
(0141)     	lcd_wcmd_2(0x90 + x);
    005E4 2F04      MOV	R16,R20
    005E5 5700      SUBI	R16,0x70
    005E6 DF83      RCALL	_lcd_wcmd_2
(0142)     }
(0143)    return; 
    005E7 9169      LD	R22,Y+
    005E8 9149      LD	R20,Y+
    005E9 9508      RET
_lcd_write_char:
  data                 --> R10
  y                    --> R22
  x                    --> R20
    005EA 940E 21F0 CALL	push_xgsetF00C
    005EC 2F62      MOV	R22,R18
    005ED 2F40      MOV	R20,R16
    005EE 80AE      LDD	R10,Y+6
(0144) }
(0145) /*
(0146)   附带x,y。调用 lcd_wdat（）方法。传入时转换为char
(0147) */
(0148) void lcd_write_char(unsigned char x,unsigned char y,unsigned char data) 
(0149) {
(0150) 	
(0151)     if (y == 0) 
    005EF 2366      TST	R22
    005F0 F431      BNE	0x05F7
(0152)     {
(0153)     	lcd_wcmd_1(0x80 + x);
    005F1 2F04      MOV	R16,R20
    005F2 5800      SUBI	R16,0x80
    005F3 DEFE      RCALL	_lcd_wcmd_1
(0154) 		 lcd_wdat_1( data);
    005F4 2D0A      MOV	R16,R10
    005F5 DF22      RCALL	_lcd_wdat_1
(0155)     }
    005F6 C017      RJMP	0x060E
(0156)     else  if(y==1)
    005F7 3061      CPI	R22,1
    005F8 F431      BNE	0x05FF
(0157)     {
(0158)     	lcd_wcmd_1(0x90 + x);
    005F9 2F04      MOV	R16,R20
    005FA 5700      SUBI	R16,0x70
    005FB DEF6      RCALL	_lcd_wcmd_1
(0159) 		 lcd_wdat_1( data);
    005FC 2D0A      MOV	R16,R10
    005FD DF1A      RCALL	_lcd_wdat_1
(0160)     }else  if(y==2)
    005FE C00F      RJMP	0x060E
    005FF 3062      CPI	R22,2
    00600 F431      BNE	0x0607
(0161)     {
(0162)     	lcd_wcmd_2(0x80 + x);
    00601 2F04      MOV	R16,R20
    00602 5800      SUBI	R16,0x80
    00603 DF66      RCALL	_lcd_wcmd_2
(0163) 		 lcd_wdat_2( data);
    00604 2D0A      MOV	R16,R10
    00605 DF8A      RCALL	_lcd_wdat_2
(0164)     }else  if(y==3)
    00606 C007      RJMP	0x060E
    00607 3063      CPI	R22,3
    00608 F429      BNE	0x060E
(0165)     {
(0166)     	lcd_wcmd_2(0x90 + x);
    00609 2F04      MOV	R16,R20
    0060A 5700      SUBI	R16,0x70
    0060B DF5E      RCALL	_lcd_wcmd_2
(0167) 		 lcd_wdat_2( data);
    0060C 2D0A      MOV	R16,R10
    0060D DF82      RCALL	_lcd_wdat_2
(0168)     }
(0169)    return; 
    0060E 940C 21F7 JMP	pop_xgsetF00C
_lcd_write_str:
  s                    --> R20
  y                    --> R10
  x                    --> R22
    00610 940E 21F0 CALL	push_xgsetF00C
    00612 2EA2      MOV	R10,R18
    00613 2F60      MOV	R22,R16
    00614 814E      LDD	R20,Y+6
    00615 815F      LDD	R21,Y+7
(0170) }
(0171) /*
(0172)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0173) */
(0174) void lcd_write_str(unsigned char x,unsigned char y,unsigned char *s) 
(0175) {
(0176) 	
(0177)     if (y == 0) 
    00616 20AA      TST	R10
    00617 F471      BNE	0x0626
(0178)     {
(0179)     	lcd_wcmd_1(0x80 + x);
    00618 2F06      MOV	R16,R22
    00619 5800      SUBI	R16,0x80
    0061A DED7      RCALL	_lcd_wcmd_1
    0061B C005      RJMP	0x0621
(0180) 		 while (*s) 
(0181)        {
(0182)     	lcd_wdat_1( *s);
    0061C 01FA      MOVW	R30,R20
    0061D 8100      LD	R16,Z
    0061E DEF9      RCALL	_lcd_wdat_1
(0183)     	s ++;
    0061F 5F4F      SUBI	R20,0xFF
    00620 4F5F      SBCI	R21,0xFF
    00621 01FA      MOVW	R30,R20
    00622 8020      LD	R2,Z
    00623 2022      TST	R2
    00624 F7B9      BNE	0x061C
(0184)         }
(0185)     }
    00625 C032      RJMP	0x0658
(0186)     else  if(y==1)
    00626 2D8A      MOV	R24,R10
    00627 3081      CPI	R24,1
    00628 F471      BNE	0x0637
(0187)     {
(0188)     	lcd_wcmd_1(0x90 + x);
    00629 2F06      MOV	R16,R22
    0062A 5700      SUBI	R16,0x70
    0062B DEC6      RCALL	_lcd_wcmd_1
    0062C C005      RJMP	0x0632
(0189) 		 while (*s) 
(0190)         {
(0191)     	lcd_wdat_1( *s);
    0062D 01FA      MOVW	R30,R20
    0062E 8100      LD	R16,Z
    0062F DEE8      RCALL	_lcd_wdat_1
(0192)     	s ++;
    00630 5F4F      SUBI	R20,0xFF
    00631 4F5F      SBCI	R21,0xFF
    00632 01FA      MOVW	R30,R20
    00633 8020      LD	R2,Z
    00634 2022      TST	R2
    00635 F7B9      BNE	0x062D
(0193)        }
(0194)     }else  if(y==2)
    00636 C021      RJMP	0x0658
    00637 2D8A      MOV	R24,R10
    00638 3082      CPI	R24,2
    00639 F471      BNE	0x0648
(0195)     {
(0196)     	lcd_wcmd_2(0x80 + x);
    0063A 2F06      MOV	R16,R22
    0063B 5800      SUBI	R16,0x80
    0063C DF2D      RCALL	_lcd_wcmd_2
    0063D C005      RJMP	0x0643
(0197) 		  while (*s) 
(0198)        {
(0199)     	lcd_wdat_2( *s);
    0063E 01FA      MOVW	R30,R20
    0063F 8100      LD	R16,Z
    00640 DF4F      RCALL	_lcd_wdat_2
(0200)     	s ++;
    00641 5F4F      SUBI	R20,0xFF
    00642 4F5F      SBCI	R21,0xFF
    00643 01FA      MOVW	R30,R20
    00644 8020      LD	R2,Z
    00645 2022      TST	R2
    00646 F7B9      BNE	0x063E
(0201)        }
(0202)     }else  if(y==3)
    00647 C010      RJMP	0x0658
    00648 2D8A      MOV	R24,R10
    00649 3083      CPI	R24,3
    0064A F469      BNE	0x0658
(0203)     {
(0204)     	lcd_wcmd_2(0x90 + x);
    0064B 2F06      MOV	R16,R22
    0064C 5700      SUBI	R16,0x70
    0064D DF1C      RCALL	_lcd_wcmd_2
    0064E C005      RJMP	0x0654
(0205) 		  while (*s) 
(0206)        {
(0207)     	lcd_wdat_2( *s);
    0064F 01FA      MOVW	R30,R20
    00650 8100      LD	R16,Z
    00651 DF3E      RCALL	_lcd_wdat_2
(0208)     	s ++;
    00652 5F4F      SUBI	R20,0xFF
    00653 4F5F      SBCI	R21,0xFF
    00654 01FA      MOVW	R30,R20
    00655 8020      LD	R2,Z
    00656 2022      TST	R2
    00657 F7B9      BNE	0x064F
(0209)        }
(0210)     }
    00658 940C 21F7 JMP	pop_xgsetF00C
_lcd_write_str_con:
  s                    --> R20
  y                    --> R22
    0065A 940E 21E6 CALL	push_xgsetF000
    0065C 01A9      MOVW	R20,R18
    0065D 2F60      MOV	R22,R16
(0211)    
(0212) }
(0213) /*
(0214)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0215) */
(0216) void lcd_write_str_con(unsigned char y,unsigned char *s) 
(0217) {
(0218) 	
(0219)     if (y == 0 || y==1) 
    0065E 2366      TST	R22
    0065F F011      BEQ	0x0662
    00660 3061      CPI	R22,1
    00661 F459      BNE	0x066D
(0220)     {
    00662 C005      RJMP	0x0668
(0221)     	
(0222) 		 while (*s) 
(0223)        {
(0224)     	lcd_wdat_1( *s);
    00663 01FA      MOVW	R30,R20
    00664 8100      LD	R16,Z
    00665 DEB2      RCALL	_lcd_wdat_1
(0225)     	s ++;
    00666 5F4F      SUBI	R20,0xFF
    00667 4F5F      SBCI	R21,0xFF
    00668 01FA      MOVW	R30,R20
    00669 8020      LD	R2,Z
    0066A 2022      TST	R2
    0066B F7B9      BNE	0x0663
(0226)         }
(0227)     }
    0066C C00E      RJMP	0x067B
(0228)     else  if(y==2 || y==3)
    0066D 3062      CPI	R22,2
    0066E F011      BEQ	0x0671
    0066F 3063      CPI	R22,3
    00670 F451      BNE	0x067B
(0229)     {
    00671 C005      RJMP	0x0677
(0230)     	
(0231) 		  while (*s) 
(0232)        {
(0233)     	lcd_wdat_2( *s);
    00672 01FA      MOVW	R30,R20
    00673 8100      LD	R16,Z
    00674 DF1B      RCALL	_lcd_wdat_2
(0234)     	s ++;
    00675 5F4F      SUBI	R20,0xFF
    00676 4F5F      SBCI	R21,0xFF
    00677 01FA      MOVW	R30,R20
    00678 8020      LD	R2,Z
    00679 2022      TST	R2
    0067A F7B9      BNE	0x0672
(0235)        }
(0236)     }
    0067B 940C 21EB JMP	pop_xgsetF000
_read_ac_1:
  result               --> R20
    0067D 934A      ST	-Y,R20
    0067E 935A      ST	-Y,R21
(0237)    
(0238) }
(0239) //****************************
(0240) //  读出数据,.不知道有没有用，先放在这
(0241) //****************************
(0242) /**
(0243)  读程序。命令后，读AC地址
(0244) */
(0245) uchar read_ac_1(void){
(0246) 	uint result;
(0247) 	DDRA=0x00;
    0067F 2422      CLR	R2
    00680 BA2A      OUT	0x1A,R2
(0248) 	rs_l;
    00681 9180 0065 LDS	R24,0x65
    00683 7F8D      ANDI	R24,0xFD
    00684 9380 0065 STS	0x65,R24
(0249) 	rw_h;
    00686 9180 0065 LDS	R24,0x65
    00688 6081      ORI	R24,1
    00689 9380 0065 STS	0x65,R24
(0250) 	ep1_h;
    0068B 9180 0065 LDS	R24,0x65
    0068D 6088      ORI	R24,0x8
    0068E 9380 0065 STS	0x65,R24
(0251) 	delay_ms(1);
    00690 E001      LDI	R16,1
    00691 E010      LDI	R17,0
    00692 940E 03BF CALL	_delay_ms
(0252) 	result=PINA&(~(1<<PINA7));
    00694 B349      IN	R20,0x19
    00695 2755      CLR	R21
    00696 774F      ANDI	R20,0x7F
(0253) 	DDRA=0xFF;
    00697 EF8F      LDI	R24,0xFF
    00698 BB8A      OUT	0x1A,R24
(0254) 	ep1_l;
    00699 9180 0065 LDS	R24,0x65
    0069B 7F87      ANDI	R24,0xF7
    0069C 9380 0065 STS	0x65,R24
(0255) 	return result;
    0069E 2F04      MOV	R16,R20
    0069F 9159      LD	R21,Y+
    006A0 9149      LD	R20,Y+
    006A1 9508      RET
_read_ac_2:
  result               --> R20
    006A2 934A      ST	-Y,R20
    006A3 935A      ST	-Y,R21
(0256) }
(0257) uchar read_ac_2(void){
(0258) 	uint result;
(0259) 	DDRA=0x00;
    006A4 2422      CLR	R2
    006A5 BA2A      OUT	0x1A,R2
(0260) 	rs_l;
    006A6 9180 0065 LDS	R24,0x65
    006A8 7F8D      ANDI	R24,0xFD
    006A9 9380 0065 STS	0x65,R24
(0261) 	rw_h;
    006AB 9180 0065 LDS	R24,0x65
    006AD 6081      ORI	R24,1
    006AE 9380 0065 STS	0x65,R24
(0262) 	ep2_h;
    006B0 9180 0062 LDS	R24,0x62
    006B2 6081      ORI	R24,1
    006B3 9380 0062 STS	0x62,R24
(0263) 	delay_ms(1);
    006B5 E001      LDI	R16,1
    006B6 E010      LDI	R17,0
    006B7 940E 03BF CALL	_delay_ms
(0264) 	result=PINA&(~(1<<PINA7));
    006B9 B349      IN	R20,0x19
    006BA 2755      CLR	R21
    006BB 774F      ANDI	R20,0x7F
(0265) 	DDRA=0xFF;
    006BC EF8F      LDI	R24,0xFF
    006BD BB8A      OUT	0x1A,R24
(0266) 	ep2_l;
    006BE 9180 0062 LDS	R24,0x62
    006C0 7F8E      ANDI	R24,0xFE
    006C1 9380 0062 STS	0x62,R24
(0267) 	return result;
    006C3 2F04      MOV	R16,R20
    006C4 9159      LD	R21,Y+
    006C5 9149      LD	R20,Y+
    006C6 9508      RET
(0268) }
(0269) 
(0270) void lcd_clear(void){
(0271)    lcd_clear_1();
_lcd_clear:
    006C7 DE76      RCALL	_lcd_clear_1
(0272)     lcd_clear_2();
    006C8 CEED      RJMP	_lcd_clear_2
_date_cmd_1:
  result               --> R10
    006C9 92AA      ST	-Y,R10
    006CA 92BA      ST	-Y,R11
(0273) }
(0274) /*
(0275)  读数据程序。命令后，读入。使用read_data函数会是设定的值，再吃调用本函数会使ac
(0276)  移动一次，8读取位的数据
(0277) */
(0278) uchar date_cmd_1(void){
(0279) 	uint result;
(0280) 	DDRA=0x00;
    006CB 2422      CLR	R2
    006CC BA2A      OUT	0x1A,R2
(0281) 	rs_h;
    006CD 9180 0065 LDS	R24,0x65
    006CF 6082      ORI	R24,2
    006D0 9380 0065 STS	0x65,R24
(0282) 	rw_h;
    006D2 9180 0065 LDS	R24,0x65
    006D4 6081      ORI	R24,1
    006D5 9380 0065 STS	0x65,R24
(0283) 	ep1_h;
    006D7 9180 0065 LDS	R24,0x65
    006D9 6088      ORI	R24,0x8
    006DA 9380 0065 STS	0x65,R24
(0284) 	delay_ms(1);
    006DC E001      LDI	R16,1
    006DD E010      LDI	R17,0
    006DE 940E 03BF CALL	_delay_ms
(0285) 	result=PINA;
    006E0 B2A9      IN	R10,0x19
    006E1 24BB      CLR	R11
(0286) 	DDRA=0xFF;
    006E2 EF8F      LDI	R24,0xFF
    006E3 BB8A      OUT	0x1A,R24
(0287) 	ep1_l;
    006E4 9180 0065 LDS	R24,0x65
    006E6 7F87      ANDI	R24,0xF7
    006E7 9380 0065 STS	0x65,R24
(0288) 	return result;
    006E9 2D0A      MOV	R16,R10
    006EA 90B9      LD	R11,Y+
    006EB 90A9      LD	R10,Y+
    006EC 9508      RET
_date_cmd_2:
  result               --> R10
    006ED 92AA      ST	-Y,R10
    006EE 92BA      ST	-Y,R11
(0289) }
(0290) uchar date_cmd_2(void){
(0291) 	uint result;
(0292) 	DDRA=0x00;
    006EF 2422      CLR	R2
    006F0 BA2A      OUT	0x1A,R2
(0293) 	rs_h;
    006F1 9180 0065 LDS	R24,0x65
    006F3 6082      ORI	R24,2
    006F4 9380 0065 STS	0x65,R24
(0294) 	rw_h;
    006F6 9180 0065 LDS	R24,0x65
    006F8 6081      ORI	R24,1
    006F9 9380 0065 STS	0x65,R24
(0295) 	ep2_h;
    006FB 9180 0062 LDS	R24,0x62
    006FD 6081      ORI	R24,1
    006FE 9380 0062 STS	0x62,R24
(0296) 	delay_ms(1);
    00700 E001      LDI	R16,1
    00701 E010      LDI	R17,0
    00702 940E 03BF CALL	_delay_ms
(0297) 	result=PINA;
    00704 B2A9      IN	R10,0x19
    00705 24BB      CLR	R11
(0298) 	DDRA=0xFF;
    00706 EF8F      LDI	R24,0xFF
    00707 BB8A      OUT	0x1A,R24
(0299) 	ep2_l;
    00708 9180 0062 LDS	R24,0x62
    0070A 7F8E      ANDI	R24,0xFE
    0070B 9380 0062 STS	0x62,R24
(0300) 	return result;
    0070D 2D0A      MOV	R16,R10
    0070E 90B9      LD	R11,Y+
    0070F 90A9      LD	R10,Y+
    00710 9508      RET
_read_data_xy:
  y                    --> R22
  x                    --> R20
    00711 940E 21F0 CALL	push_xgsetF00C
    00713 2F62      MOV	R22,R18
    00714 2F40      MOV	R20,R16
(0301) }
(0302) //**************************
(0303) //读取函数，注意会ac位置
(0304) //**************************
(0305) uchar read_data_xy(unsigned char x,unsigned char y){
(0306) 	if (y == 0) {
    00715 2366      TST	R22
    00716 F449      BNE	0x0720
(0307)     	lcd_wcmd_1(0x80 + x);
    00717 2F04      MOV	R16,R20
    00718 5800      SUBI	R16,0x80
    00719 DDD8      RCALL	_lcd_wcmd_1
(0308) 		delay_us(10);
    0071A E00A      LDI	R16,0xA
    0071B E010      LDI	R17,0
    0071C 940E 03B5 CALL	_delay_us
(0309) 		return date_cmd_1();
    0071E DFAA      RCALL	_date_cmd_1
    0071F C024      RJMP	0x0744
(0310) 		
(0311)     }else  if(y==1){
    00720 3061      CPI	R22,1
    00721 F449      BNE	0x072B
(0312)     	lcd_wcmd_1(0x90 + x);
    00722 2F04      MOV	R16,R20
    00723 5700      SUBI	R16,0x70
    00724 DDCD      RCALL	_lcd_wcmd_1
(0313) 		delay_us(10);
    00725 E00A      LDI	R16,0xA
    00726 E010      LDI	R17,0
    00727 940E 03B5 CALL	_delay_us
(0314) 		return date_cmd_1();
    00729 DF9F      RCALL	_date_cmd_1
    0072A C019      RJMP	0x0744
(0315)     }else  if(y==2){
    0072B 3062      CPI	R22,2
    0072C F451      BNE	0x0737
(0316)     	lcd_wcmd_2(0x80 + x);
    0072D 2F04      MOV	R16,R20
    0072E 5800      SUBI	R16,0x80
    0072F DE3A      RCALL	_lcd_wcmd_2
(0317) 		delay_us(10);
    00730 E00A      LDI	R16,0xA
    00731 E010      LDI	R17,0
    00732 940E 03B5 CALL	_delay_us
(0318) 		return date_cmd_2();
    00734 DFB8      RCALL	_date_cmd_2
    00735 2EA0      MOV	R10,R16
    00736 C00D      RJMP	0x0744
(0319)     }else  if(y==3){
    00737 3063      CPI	R22,3
    00738 F451      BNE	0x0743
(0320)     	lcd_wcmd_2(0x90 + x);
    00739 2F04      MOV	R16,R20
    0073A 5700      SUBI	R16,0x70
    0073B DE2E      RCALL	_lcd_wcmd_2
(0321) 		delay_us(10);
    0073C E00A      LDI	R16,0xA
    0073D E010      LDI	R17,0
    0073E 940E 03B5 CALL	_delay_us
(0322) 		return date_cmd_2();
    00740 DFAC      RCALL	_date_cmd_2
    00741 2EA0      MOV	R10,R16
    00742 C001      RJMP	0x0744
(0323)     }
(0324) 	
(0325) 	return 0x00;
    00743 2700      CLR	R16
    00744 940C 21F7 JMP	pop_xgsetF00C
_read_data_1:
  addr                 --> R10
    00746 92AA      ST	-Y,R10
    00747 2EA0      MOV	R10,R16
(0326) }
(0327) uchar read_data_1(unsigned char addr){
(0328) 	
(0329)     	lcd_wcmd_1(addr);
    00748 2D0A      MOV	R16,R10
    00749 DDA8      RCALL	_lcd_wcmd_1
(0330)     	return date_cmd_1();
    0074A DF7E      RCALL	_date_cmd_1
    0074B 90A9      LD	R10,Y+
    0074C 9508      RET
_read_data_2:
  addr                 --> R10
    0074D 92AA      ST	-Y,R10
    0074E 2EA0      MOV	R10,R16
(0331) }
(0332) uchar read_data_2(unsigned char addr){
(0333)     	lcd_wcmd_1(addr);
    0074F 2D0A      MOV	R16,R10
    00750 DDA1      RCALL	_lcd_wcmd_1
(0334) 		return date_cmd_2();
    00751 DF9B      RCALL	_date_cmd_2
    00752 90A9      LD	R10,Y+
    00753 9508      RET
(0335) }
(0336) 
(0337) 
(0338) /*初始化功能*/
(0339) void lcd_init(void){
(0340) 	 //初始化端口功能
(0341) 	 DDRA |=0xFF;
_lcd_init:
    00754 B38A      IN	R24,0x1A
    00755 6F8F      ORI	R24,0xFF
    00756 BB8A      OUT	0x1A,R24
(0342) 	 PORTA=0xFF;
    00757 EF8F      LDI	R24,0xFF
    00758 BB8B      OUT	0x1B,R24
(0343) 	 DDRG |=0x0F;
    00759 9180 0064 LDS	R24,0x64
    0075B 608F      ORI	R24,0xF
    0075C 9380 0064 STS	0x64,R24
(0344) 	 PORTG|=0x0F;
    0075E 9180 0065 LDS	R24,0x65
    00760 608F      ORI	R24,0xF
    00761 9380 0065 STS	0x65,R24
(0345) 	 DDRF|=0x01;
    00763 9180 0061 LDS	R24,0x61
    00765 6081      ORI	R24,1
    00766 9380 0061 STS	0x61,R24
(0346) 	 PORTF|=0x01;
    00768 9180 0062 LDS	R24,0x62
    0076A 6081      ORI	R24,1
    0076B 9380 0062 STS	0x62,R24
(0347) 	 //lcd_wcmd(0x38);//初始化功能,8位，基本指令
(0348) 	 lcd_wcmd_1(0x30);//初始化功能,8位，基本指令
    0076D E300      LDI	R16,0x30
    0076E DD83      RCALL	_lcd_wcmd_1
(0349) 	  lcd_wcmd_1(0x08);//关显示
    0076F E008      LDI	R16,0x8
    00770 DD81      RCALL	_lcd_wcmd_1
(0350) 	  lcd_wcmd_1(0x01);//清显示
    00771 E001      LDI	R16,1
    00772 DD7F      RCALL	_lcd_wcmd_1
(0351) 	  lcd_wcmd_1(0x06);//输入模式，右移
    00773 E006      LDI	R16,6
    00774 DD7D      RCALL	_lcd_wcmd_1
(0352) 	  lcd_wcmd_1(0x0c);//初始化光标,开显示
    00775 E00C      LDI	R16,0xC
    00776 DD7B      RCALL	_lcd_wcmd_1
(0353) 	
(0354) 	  lcd_wcmd_2(0x30);//初始化功能,8位，基本指令
    00777 E300      LDI	R16,0x30
    00778 DDF1      RCALL	_lcd_wcmd_2
(0355) 	 lcd_wcmd_2(0x08);//关显示
    00779 E008      LDI	R16,0x8
    0077A DDEF      RCALL	_lcd_wcmd_2
(0356) 	 lcd_wcmd_2(0x01);//清显示
    0077B E001      LDI	R16,1
    0077C DDED      RCALL	_lcd_wcmd_2
(0357) 	 lcd_wcmd_2(0x06);//输入模式，右移
    0077D E006      LDI	R16,6
    0077E DDEB      RCALL	_lcd_wcmd_2
(0358) 	 lcd_wcmd_2(0x0c);//初始化光标,开显示
    0077F E00C      LDI	R16,0xC
    00780 CDE9      RJMP	_lcd_wcmd_2
_cur_set:
  type                 --> R20
    00781 934A      ST	-Y,R20
    00782 935A      ST	-Y,R21
    00783 01A8      MOVW	R20,R16
(0359) }
(0360) //************
(0361) // 光标显示操作,默认初始化都是关闭。上半屏 0:关闭,1：开游标,2：游标反白,3：开游标、反白
(0362) // 下半屏  4:关闭,5：开游标,6：游标反白,7：开游标、反白
(0363) //************
(0364) void cur_set(uint type){
(0365) 	 if(type==0){
    00784 3040      CPI	R20,0
    00785 0745      CPC	R20,R21
    00786 F419      BNE	0x078A
(0366) 	 	lcd_wcmd_1(0x0c);	 
    00787 E00C      LDI	R16,0xC
    00788 DD69      RCALL	_lcd_wcmd_1
(0367) 	 }else if(type==1){
    00789 C030      RJMP	0x07BA
    0078A 3041      CPI	R20,1
    0078B E0E0      LDI	R30,0
    0078C 075E      CPC	R21,R30
    0078D F419      BNE	0x0791
(0368) 	     lcd_wcmd_1(0x0e);
    0078E E00E      LDI	R16,0xE
    0078F DD62      RCALL	_lcd_wcmd_1
(0369) 	 }else if(type==2){
    00790 C029      RJMP	0x07BA
    00791 3042      CPI	R20,2
    00792 E0E0      LDI	R30,0
    00793 075E      CPC	R21,R30
    00794 F419      BNE	0x0798
(0370) 	    lcd_wcmd_1(0x0d);
    00795 E00D      LDI	R16,0xD
    00796 DD5B      RCALL	_lcd_wcmd_1
(0371) 	 }else if(type==3){
    00797 C022      RJMP	0x07BA
    00798 3043      CPI	R20,3
    00799 E0E0      LDI	R30,0
    0079A 075E      CPC	R21,R30
    0079B F419      BNE	0x079F
(0372) 	    lcd_wcmd_1(0x0f);
    0079C E00F      LDI	R16,0xF
    0079D DD54      RCALL	_lcd_wcmd_1
(0373) 	 }else if(type==4){
    0079E C01B      RJMP	0x07BA
    0079F 3044      CPI	R20,4
    007A0 E0E0      LDI	R30,0
    007A1 075E      CPC	R21,R30
    007A2 F419      BNE	0x07A6
(0374) 	    lcd_wcmd_2(0x0c);
    007A3 E00C      LDI	R16,0xC
    007A4 DDC5      RCALL	_lcd_wcmd_2
(0375) 	 }else if(type==5){
    007A5 C014      RJMP	0x07BA
    007A6 3045      CPI	R20,5
    007A7 E0E0      LDI	R30,0
    007A8 075E      CPC	R21,R30
    007A9 F419      BNE	0x07AD
(0376) 	    lcd_wcmd_2(0x0e);
    007AA E00E      LDI	R16,0xE
    007AB DDBE      RCALL	_lcd_wcmd_2
(0377) 	 }else if(type==6){
    007AC C00D      RJMP	0x07BA
    007AD 3046      CPI	R20,6
    007AE E0E0      LDI	R30,0
    007AF 075E      CPC	R21,R30
    007B0 F419      BNE	0x07B4
(0378) 	    lcd_wcmd_2(0x0d);
    007B1 E00D      LDI	R16,0xD
    007B2 DDB7      RCALL	_lcd_wcmd_2
(0379) 	 }else if(type==7){
    007B3 C006      RJMP	0x07BA
    007B4 3047      CPI	R20,7
    007B5 E0E0      LDI	R30,0
    007B6 075E      CPC	R21,R30
    007B7 F411      BNE	0x07BA
(0380) 	    lcd_wcmd_2(0x0f);
    007B8 E00F      LDI	R16,0xF
    007B9 DDB0      RCALL	_lcd_wcmd_2
(0381) 	 }
    007BA 9159      LD	R21,Y+
    007BB 9149      LD	R20,Y+
    007BC 9508      RET
(0382) }
(0383) //***************************************************
(0384) //   反白相关
(0385) //***************************************************
(0386) /********************************************************************  
(0387)     函 数 名：Set_Draw(  
(0388)     入口参数：无  
(0389)     出口参数：无  
(0390)     修改日期：  
(0391)     函数作用：  
(0392)     说    明：  
(0393)     ********************************************************************/   
(0394)     void Set_Draw(void)   
(0395)     {   
(0396)         //W_1byte(0,0,0x01);            //清屏    
(0397)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0398)         lcd_wcmd_1(0x36); 
_Set_Draw:
    007BD E306      LDI	R16,0x36
    007BE DD33      RCALL	_lcd_wcmd_1
(0399) 		lcd_wcmd_2(0x36);   
    007BF E306      LDI	R16,0x36
    007C0 CDA9      RJMP	_lcd_wcmd_2
(0400)     }
(0401) 	void Set_UNDraw(void)   
(0402)     {   
(0403)         //W_1byte(0,0,0x01);            //清屏   
(0404)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0405)         lcd_wcmd_1(0x30); 
_Set_UNDraw:
    007C1 E300      LDI	R16,0x30
    007C2 DD2F      RCALL	_lcd_wcmd_1
(0406) 		lcd_wcmd_2(0x30);   
    007C3 E300      LDI	R16,0x30
    007C4 CDA5      RJMP	_lcd_wcmd_2
_Set_White_off:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    007C5 940E 2189 CALL	push_arg4
    007C7 940E 21D1 CALL	push_xgsetF0FC
    007C9 2F62      MOV	R22,R18
    007CA 9721      SBIW	R28,1
    007CB 84AF      LDD	R10,Y+15
(0407)     }
(0408) /**************************************************  
(0409)     uchar x,起始位置
(0410) 	uchar y,对应y
(0411) 	uchar end_x, 反白结束位置
(0412) 	uchar clear 0：反白，1：不反白
(0413)  **************************************************/   
(0414)     void Set_White_off(uchar x,uchar y,uchar end_x)   
(0415)     {   
(0416)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0417)         white_end_x = (end_x-x+1);   
    007CC 2D8A      MOV	R24,R10
    007CD 840B      LDD	R0,Y+11
    007CE 1980      SUB	R24,R0
    007CF 5F8F      SUBI	R24,0xFF
    007D0 2EC8      MOV	R12,R24
(0418)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    007D1 0CCC      LSL	R12
(0419) 		Set_Draw(); //开画图
    007D2 DFEA      RCALL	_Set_Draw
(0420)         if(y==0)   
    007D3 2366      TST	R22
    007D4 F449      BNE	0x07DE
(0421)         {   
(0422)             white_x = (0x80+x-1);   
    007D5 858B      LDD	R24,Y+11
    007D6 5880      SUBI	R24,0x80
    007D7 5081      SUBI	R24,1
    007D8 8388      ST	Y,R24
(0423)             white_y = 0x80;   
    007D9 E840      LDI	R20,0x80
(0424)             clr_x = 0x80;   
    007DA E880      LDI	R24,0x80
    007DB 2EA8      MOV	R10,R24
(0425)             clr_y = 0x80;   
    007DC 2EE8      MOV	R14,R24
(0426)         }   
    007DD C022      RJMP	0x0800
(0427)         else if(y==1)   
    007DE 3061      CPI	R22,1
    007DF F451      BNE	0x07EA
(0428)         {   
(0429)             white_x = (0x80+x-1);   
    007E0 858B      LDD	R24,Y+11
    007E1 5880      SUBI	R24,0x80
    007E2 5081      SUBI	R24,1
    007E3 8388      ST	Y,R24
(0430)             white_y = 0x90;   
    007E4 E940      LDI	R20,0x90
(0431)             clr_x = 0x80;   
    007E5 E880      LDI	R24,0x80
    007E6 2EA8      MOV	R10,R24
(0432)             clr_y = 0x90;   
    007E7 E980      LDI	R24,0x90
    007E8 2EE8      MOV	R14,R24
(0433)         }   
    007E9 C016      RJMP	0x0800
(0434)         else if(y==2)   
    007EA 3062      CPI	R22,2
    007EB F449      BNE	0x07F5
(0435)         {   
(0436)             white_x = (0x80+x-1);   
    007EC 858B      LDD	R24,Y+11
    007ED 5880      SUBI	R24,0x80
    007EE 5081      SUBI	R24,1
    007EF 8388      ST	Y,R24
(0437)             white_y = 0x80;   
    007F0 E840      LDI	R20,0x80
(0438)             clr_x = 0x80;   
    007F1 E880      LDI	R24,0x80
    007F2 2EA8      MOV	R10,R24
(0439)             clr_y = 0x80;   
    007F3 2EE8      MOV	R14,R24
(0440)         }   
    007F4 C00B      RJMP	0x0800
(0441)         else if(y==3)   
    007F5 3063      CPI	R22,3
    007F6 F449      BNE	0x0800
(0442)         {   
(0443)             white_x = (0x80+x-1);   
    007F7 858B      LDD	R24,Y+11
    007F8 5880      SUBI	R24,0x80
    007F9 5081      SUBI	R24,1
    007FA 8388      ST	Y,R24
(0444)             white_y = 0x90;   
    007FB E940      LDI	R20,0x90
(0445)             clr_x = 0x80;   
    007FC E880      LDI	R24,0x80
    007FD 2EA8      MOV	R10,R24
(0446)             clr_y = 0x90;   
    007FE E980      LDI	R24,0x90
    007FF 2EE8      MOV	R14,R24
(0447)         }   
(0448) 		if(y==0 || y==1){    
    00800 2366      TST	R22
    00801 F011      BEQ	0x0804
    00802 3061      CPI	R22,1
    00803 F4A1      BNE	0x0818
(0449)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00804 24AA      CLR	R10
    00805 C00E      RJMP	0x0814
(0450)           {   
(0451)              lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    00806 2E24      MOV	R2,R20
    00807 5F4F      SUBI	R20,0xFF
    00808 2D02      MOV	R16,R2
    00809 DCE8      RCALL	_lcd_wcmd_1
(0452)              lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    0080A 8108      LD	R16,Y
    0080B DCE6      RCALL	_lcd_wcmd_1
(0453)              for(j=0;j<white_end_x;j++)   //   
    0080C 24EE      CLR	R14
    0080D C003      RJMP	0x0811
(0454)              {     
(0455)                lcd_wdat_1(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    0080E 2700      CLR	R16
    0080F DD08      RCALL	_lcd_wdat_1
    00810 94E3      INC	R14
    00811 14EC      CP	R14,R12
    00812 F3D8      BCS	0x080E
    00813 94A3      INC	R10
    00814 2D8A      MOV	R24,R10
    00815 3180      CPI	R24,0x10
    00816 F378      BCS	0x0806
(0456)              }   
(0457)           }
(0458) 		}else if(y==2 || y==3){
    00817 C017      RJMP	0x082F
    00818 3062      CPI	R22,2
    00819 F011      BEQ	0x081C
    0081A 3063      CPI	R22,3
    0081B F499      BNE	0x082F
(0459) 		    for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    0081C 24AA      CLR	R10
    0081D C00E      RJMP	0x082C
(0460)           {   
(0461)              lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    0081E 2E24      MOV	R2,R20
    0081F 5F4F      SUBI	R20,0xFF
    00820 2D02      MOV	R16,R2
    00821 DD48      RCALL	_lcd_wcmd_2
(0462)              lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    00822 8108      LD	R16,Y
    00823 DD46      RCALL	_lcd_wcmd_2
(0463)              for(j=0;j<white_end_x;j++)   //   
    00824 24EE      CLR	R14
    00825 C003      RJMP	0x0829
(0464)              {     
(0465)                lcd_wdat_2(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    00826 2700      CLR	R16
    00827 DD68      RCALL	_lcd_wdat_2
    00828 94E3      INC	R14
    00829 14EC      CP	R14,R12
    0082A F3D8      BCS	0x0826
    0082B 94A3      INC	R10
    0082C 2D8A      MOV	R24,R10
    0082D 3180      CPI	R24,0x10
    0082E F378      BCS	0x081E
(0466)              }   
(0467)           }
(0468) 		}
(0469) 		  Set_UNDraw();//关画图  
    0082F DF91      RCALL	_Set_UNDraw
    00830 9621      ADIW	R28,1
    00831 940E 21C6 CALL	pop_xgsetF0FC
    00833 9624      ADIW	R28,4
    00834 9508      RET
_Set_White:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    00835 940E 2189 CALL	push_arg4
    00837 940E 21D1 CALL	push_xgsetF0FC
    00839 2F62      MOV	R22,R18
    0083A 9721      SBIW	R28,1
    0083B 84AF      LDD	R10,Y+15
(0470)     } 
(0471) 	void Set_White(uchar x,uchar y,uchar end_x)   
(0472)     {   
(0473)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0474)         white_end_x = (end_x-x+1);   
    0083C 2D8A      MOV	R24,R10
    0083D 840B      LDD	R0,Y+11
    0083E 1980      SUB	R24,R0
    0083F 5F8F      SUBI	R24,0xFF
    00840 2EC8      MOV	R12,R24
(0475)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    00841 0CCC      LSL	R12
(0476) 		Set_Draw(); //开画图
    00842 DF7A      RCALL	_Set_Draw
(0477)         if(y==0)   
    00843 2366      TST	R22
    00844 F449      BNE	0x084E
(0478)         {   
(0479)             white_x = (0x80+x-1);   
    00845 858B      LDD	R24,Y+11
    00846 5880      SUBI	R24,0x80
    00847 5081      SUBI	R24,1
    00848 8388      ST	Y,R24
(0480)             white_y = 0x80;   
    00849 E840      LDI	R20,0x80
(0481)             clr_x = 0x80;   
    0084A E880      LDI	R24,0x80
    0084B 2EA8      MOV	R10,R24
(0482)             clr_y = 0x80;   
    0084C 2EE8      MOV	R14,R24
(0483)         }   
    0084D C022      RJMP	0x0870
(0484)         else if(y==1)   
    0084E 3061      CPI	R22,1
    0084F F451      BNE	0x085A
(0485)         {   
(0486)             white_x = (0x80+x-1);   
    00850 858B      LDD	R24,Y+11
    00851 5880      SUBI	R24,0x80
    00852 5081      SUBI	R24,1
    00853 8388      ST	Y,R24
(0487)             white_y = 0x90;   
    00854 E940      LDI	R20,0x90
(0488)             clr_x = 0x80;   
    00855 E880      LDI	R24,0x80
    00856 2EA8      MOV	R10,R24
(0489)             clr_y = 0x90;   
    00857 E980      LDI	R24,0x90
    00858 2EE8      MOV	R14,R24
(0490)         }   
    00859 C016      RJMP	0x0870
(0491)         else if(y==2)   
    0085A 3062      CPI	R22,2
    0085B F449      BNE	0x0865
(0492)         {   
(0493)             white_x = (0x80+x-1);   
    0085C 858B      LDD	R24,Y+11
    0085D 5880      SUBI	R24,0x80
    0085E 5081      SUBI	R24,1
    0085F 8388      ST	Y,R24
(0494)             white_y = 0x80;   
    00860 E840      LDI	R20,0x80
(0495)             clr_x = 0x80;   
    00861 E880      LDI	R24,0x80
    00862 2EA8      MOV	R10,R24
(0496)             clr_y = 0x80;   
    00863 2EE8      MOV	R14,R24
(0497)         }   
    00864 C00B      RJMP	0x0870
(0498)         else if(y==3)   
    00865 3063      CPI	R22,3
    00866 F449      BNE	0x0870
(0499)         {   
(0500)             white_x = (0x80+x-1);   
    00867 858B      LDD	R24,Y+11
    00868 5880      SUBI	R24,0x80
    00869 5081      SUBI	R24,1
    0086A 8388      ST	Y,R24
(0501)             white_y = 0x90;   
    0086B E940      LDI	R20,0x90
(0502)             clr_x = 0x80;   
    0086C E880      LDI	R24,0x80
    0086D 2EA8      MOV	R10,R24
(0503)             clr_y = 0x90;   
    0086E E980      LDI	R24,0x90
    0086F 2EE8      MOV	R14,R24
(0504)         } 
(0505) 		if(y==0 || y==1){          
    00870 2366      TST	R22
    00871 F011      BEQ	0x0874
    00872 3061      CPI	R22,1
    00873 F4A1      BNE	0x0888
(0506)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00874 24AA      CLR	R10
    00875 C00E      RJMP	0x0884
(0507)           {   
(0508)               lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    00876 2E24      MOV	R2,R20
    00877 5F4F      SUBI	R20,0xFF
    00878 2D02      MOV	R16,R2
    00879 DC78      RCALL	_lcd_wcmd_1
(0509)               lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    0087A 8108      LD	R16,Y
    0087B DC76      RCALL	_lcd_wcmd_1
(0510)               for(j=0;j<white_end_x;j++)   //   
    0087C 24EE      CLR	R14
    0087D C003      RJMP	0x0881
(0511)               {    
(0512)                     lcd_wdat_1(0xff); //反白这一行的8个点，液晶地址自动加1     
    0087E EF0F      LDI	R16,0xFF
    0087F DC98      RCALL	_lcd_wdat_1
    00880 94E3      INC	R14
    00881 14EC      CP	R14,R12
    00882 F3D8      BCS	0x087E
    00883 94A3      INC	R10
    00884 2D8A      MOV	R24,R10
    00885 3180      CPI	R24,0x10
    00886 F378      BCS	0x0876
(0513)               }   
(0514)           }
(0515) 		}else if(y==2 || y==3){
    00887 C017      RJMP	0x089F
    00888 3062      CPI	R22,2
    00889 F011      BEQ	0x088C
    0088A 3063      CPI	R22,3
    0088B F499      BNE	0x089F
(0516) 		   for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    0088C 24AA      CLR	R10
    0088D C00E      RJMP	0x089C
(0517)             {   
(0518)               lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    0088E 2E24      MOV	R2,R20
    0088F 5F4F      SUBI	R20,0xFF
    00890 2D02      MOV	R16,R2
    00891 DCD8      RCALL	_lcd_wcmd_2
(0519)               lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    00892 8108      LD	R16,Y
    00893 DCD6      RCALL	_lcd_wcmd_2
(0520)               for(j=0;j<white_end_x;j++)   //   
    00894 24EE      CLR	R14
    00895 C003      RJMP	0x0899
(0521)               {    
(0522)                     lcd_wdat_2(0xff); //反白这一行的8个点，液晶地址自动加1     
    00896 EF0F      LDI	R16,0xFF
    00897 DCF8      RCALL	_lcd_wdat_2
    00898 94E3      INC	R14
    00899 14EC      CP	R14,R12
    0089A F3D8      BCS	0x0896
    0089B 94A3      INC	R10
    0089C 2D8A      MOV	R24,R10
    0089D 3180      CPI	R24,0x10
    0089E F378      BCS	0x088E
(0523)               }   
(0524)             }
(0525) 		}
(0526) 		  Set_UNDraw();//关画图  
    0089F DF21      RCALL	_Set_UNDraw
    008A0 9621      ADIW	R28,1
    008A1 940E 21C6 CALL	pop_xgsetF0FC
    008A3 9624      ADIW	R28,4
    008A4 9508      RET
_Draw_Pic:
  temp_y               --> R20
  temp_x               --> R22
  i                    --> R10
  j                    --> R14
  Draw                 --> Y,+12
  y                    --> Y,+10
  x                    --> R12
    008A5 933A      ST	-Y,R19
    008A6 932A      ST	-Y,R18
    008A7 940E 21D1 CALL	push_xgsetF0FC
    008A9 2EC0      MOV	R12,R16
(0527)     } 
(0528) 	/********************************************************************  
(0529)     函 数 名：Draw_Pic  128*64  
(0530)     入口参数：x,y,*Draw  
(0531)     出口参数：无  
(0532)     建立日期：2007年8月26日  
(0533)     修改日期：  
(0534)     函数作用：  
(0535)     说    明：  
(0536)     ********************************************************************/   
(0537)     /*************************************************/   
(0538)        
(0539)     void Draw_Pic(uchar x, uchar y, const uchar *Draw)   
(0540)     {   
(0541)         uchar i, j, temp_x, temp_y;     //   
(0542) 		lcd_wcmd_1(0x34);
    008AA E304      LDI	R16,0x34
    008AB DC46      RCALL	_lcd_wcmd_1
(0543) 		lcd_wcmd_2(0x34);
    008AC E304      LDI	R16,0x34
    008AD DCBC      RCALL	_lcd_wcmd_2
(0544)         temp_x = x;                     //   
    008AE 2D6C      MOV	R22,R12
(0545)         temp_y = y;                     //   
    008AF 854A      LDD	R20,Y+10
(0546)         temp_x |= 0x80;                 //   
    008B0 6860      ORI	R22,0x80
(0547)         temp_y |= 0x80;                 //   
    008B1 6840      ORI	R20,0x80
(0548)         for(i=0;i<32;i++ )               //上半屏32行   
    008B2 24AA      CLR	R10
    008B3 C013      RJMP	0x08C7
(0549)         {   
(0550)             lcd_wcmd_1(temp_y++);      //设置绘图区的Y地址坐标0   
    008B4 2E24      MOV	R2,R20
    008B5 5F4F      SUBI	R20,0xFF
    008B6 2D02      MOV	R16,R2
    008B7 DC3A      RCALL	_lcd_wcmd_1
(0551)             lcd_wcmd_1(temp_x);        //设置绘图区的X地址坐标0   
    008B8 2F06      MOV	R16,R22
    008B9 DC38      RCALL	_lcd_wcmd_1
(0552)             for(j=0;j<24;j++)            //   
    008BA 24EE      CLR	R14
    008BB C007      RJMP	0x08C3
(0553)             {   
(0554)                  lcd_wdat_1(*Draw++);  //   
    008BC 85EC      LDD	R30,Y+12
    008BD 85FD      LDD	R31,Y+13
    008BE 9101      LD	R16,Z+
    008BF 87FD      STD	Y+13,R31
    008C0 87EC      STD	Y+12,R30
    008C1 DC56      RCALL	_lcd_wdat_1
    008C2 94E3      INC	R14
    008C3 2D8E      MOV	R24,R14
    008C4 3188      CPI	R24,0x18
    008C5 F3B0      BCS	0x08BC
    008C6 94A3      INC	R10
    008C7 2D8A      MOV	R24,R10
    008C8 3280      CPI	R24,0x20
    008C9 F350      BCS	0x08B4
(0555)             }   
(0556)         }   
(0557)            
(0558)         temp_x = x;                     //   
    008CA 2D6C      MOV	R22,R12
(0559)         temp_y = y;                     //   
    008CB 854A      LDD	R20,Y+10
(0560)         temp_x |= 0x80;                 //   
    008CC 6860      ORI	R22,0x80
(0561)         temp_y |= 0x80;                   //   
    008CD 6840      ORI	R20,0x80
(0562)         j = 0;                          //   
    008CE 24EE      CLR	R14
(0563)         for(;i<64;i++ )   
    008CF C013      RJMP	0x08E3
(0564)         {   
(0565)             lcd_wcmd_2(temp_y++);      //设置绘图区的Y地址坐标   
    008D0 2E24      MOV	R2,R20
    008D1 5F4F      SUBI	R20,0xFF
    008D2 2D02      MOV	R16,R2
    008D3 DC96      RCALL	_lcd_wcmd_2
(0566)             lcd_wcmd_2(temp_x);        //设置绘图区的X地址坐标   
    008D4 2F06      MOV	R16,R22
    008D5 DC94      RCALL	_lcd_wcmd_2
(0567)             for(j=0;j<24;j++)   
    008D6 24EE      CLR	R14
    008D7 C007      RJMP	0x08DF
(0568)             {   
(0569)                  lcd_wdat_2(*Draw++);  //   
    008D8 85EC      LDD	R30,Y+12
    008D9 85FD      LDD	R31,Y+13
    008DA 9101      LD	R16,Z+
    008DB 87FD      STD	Y+13,R31
    008DC 87EC      STD	Y+12,R30
    008DD DCB2      RCALL	_lcd_wdat_2
    008DE 94E3      INC	R14
    008DF 2D8E      MOV	R24,R14
    008E0 3188      CPI	R24,0x18
    008E1 F3B0      BCS	0x08D8
    008E2 94A3      INC	R10
    008E3 2D8A      MOV	R24,R10
    008E4 3480      CPI	R24,0x40
    008E5 F350      BCS	0x08D0
(0570)             }   
(0571)         }   
(0572)        lcd_wcmd_1(0x36);
    008E6 E306      LDI	R16,0x36
    008E7 DC0A      RCALL	_lcd_wcmd_1
(0573) 	   lcd_wcmd_2(0x36);
    008E8 E306      LDI	R16,0x36
    008E9 DC80      RCALL	_lcd_wcmd_2
(0574) 	   delay_us(1);
    008EA E001      LDI	R16,1
    008EB E010      LDI	R17,0
    008EC 940E 03B5 CALL	_delay_us
(0575) 	   lcd_wcmd_1(0x30);
    008EE E300      LDI	R16,0x30
    008EF DC02      RCALL	_lcd_wcmd_1
(0576) 	   lcd_wcmd_2(0x30);
    008F0 E300      LDI	R16,0x30
    008F1 DC78      RCALL	_lcd_wcmd_2
    008F2 940E 21C6 CALL	pop_xgsetF0FC
    008F4 9622      ADIW	R28,2
    008F5 9508      RET
_lcd_Desk:
    008F6 9722      SBIW	R28,2
(0577) 	        
(0578)     }  
(0579)     /*************************************************/  
(0580) //***********************************************************************
(0581) //      液晶显示界面初始化
(0582) //***********************************************************************
(0583) void lcd_Desk(void)
(0584) { 
(0585)   //uint i=0;   
(0586)  // lcd_clear();
(0587)   //lcd_write_str(0,0,"ADC0:");
(0588)   lcd_write_str(0,3,"反白测试第一次");
    008F7 E081      LDI	R24,1
    008F8 E091      LDI	R25,1
    008F9 8399      STD	Y+1,R25
    008FA 8388      ST	Y,R24
    008FB E023      LDI	R18,3
    008FC 2700      CLR	R16
    008FD DD12      RCALL	_lcd_write_str
(0589)   lcd_write_str(0,0,"反白测试第一次");
    008FE E081      LDI	R24,1
    008FF E091      LDI	R25,1
    00900 8399      STD	Y+1,R25
    00901 8388      ST	Y,R24
    00902 2722      CLR	R18
    00903 2700      CLR	R16
    00904 DD0B      RCALL	_lcd_write_str
(0590)   //delay_ms(100);
(0591)      
(0592)     Set_White(1,1,7); 
    00905 E087      LDI	R24,7
    00906 8388      ST	Y,R24
    00907 E021      LDI	R18,1
    00908 E001      LDI	R16,1
    00909 DF2B      RCALL	_Set_White
(0593) 	   
(0594) 	 
(0595)     delay_ms(3000); 
    0090A EB08      LDI	R16,0xB8
    0090B E01B      LDI	R17,0xB
    0090C 940E 03BF CALL	_delay_ms
(0596)      Set_White_off(1,1,7);
    0090E E087      LDI	R24,7
    0090F 8388      ST	Y,R24
    00910 E021      LDI	R18,1
    00911 E001      LDI	R16,1
    00912 DEB2      RCALL	_Set_White_off
(0597) 	Set_White(2,1,2); 
    00913 E082      LDI	R24,2
    00914 8388      ST	Y,R24
    00915 E021      LDI	R18,1
    00916 E002      LDI	R16,2
    00917 DF1D      RCALL	_Set_White
(0598) 	 delay_ms(300); 
    00918 E20C      LDI	R16,0x2C
    00919 E011      LDI	R17,1
    0091A 940E 03BF CALL	_delay_ms
(0599) 	 Set_White_off(2,2,7);
    0091C E087      LDI	R24,7
    0091D 8388      ST	Y,R24
    0091E E022      LDI	R18,2
    0091F E002      LDI	R16,2
    00920 DEA4      RCALL	_Set_White_off
(0600) 	 Set_White(3,1,5);   
    00921 E085      LDI	R24,5
    00922 8388      ST	Y,R24
    00923 E021      LDI	R18,1
    00924 E003      LDI	R16,3
    00925 DF0F      RCALL	_Set_White
    00926 9622      ADIW	R28,2
    00927 9508      RET
_main:
  data                 --> Y,+2
  i                    --> Y,+2
    00928 9721      SBIW	R28,1
FILE: E:\ICCDemo\Temp_Control\temp_control\main.c
(0001) 
(0002) #include<iom128v.h>
(0003) #include "main.h"
(0004) #include "lcd.h"
(0005) #include "time1307.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "timertask.h"
(0009) #include "eeprom.h"
(0010) #include "pages.h"
(0011) #include "temp.h"
(0012) //const unsigned char nihao[1536]={};
(0013) 
(0014) //下面两个要删掉，现在为编译暂时不删
(0015)  unsigned int temp_h=0;
(0016)  unsigned int temp_l=0;
(0017)  //uart需要参数
(0018)  unsigned char send_buf[600];
(0019)  unsigned char receive_buf[600];
(0020)  unsigned int send_len;
(0021)  unsigned int receive_len;
(0022)  //界面需要参数
(0023)  unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0024)  unsigned int pageParam[5];//传递参数。界面间参数暂存
(0025)  unsigned int prePageNum; //上一界面。应该在跳转前设置这个参数。但是用到这个参数的就Page3、4、8.所以可以直接在该界面用到在设置。不用理会规则
(0026)  //**************
(0027) struct temp temps[4]={{0},{0},{0},{0}};
(0028) 
(0029) 
(0030) //*************************************************************************
(0031) //			主程序
(0032) //*************************************************************************
(0033) void main(void)
(0034) { 
(0035) uint i;
(0036)   uchar data;
(0037)   DDRE=0xFF;
    00929 EF8F      LDI	R24,0xFF
    0092A B982      OUT	0x02,R24
(0038)   PORTE=~0xaa;
    0092B E585      LDI	R24,0x55
    0092C B983      OUT	0x03,R24
(0039)   SREG|=0x80;//开中断
    0092D 9478      BSET	7
(0040)   lcd_init();
    0092E 940E 0754 CALL	_lcd_init
(0041)   lcd_clear();
    00930 940E 06C7 CALL	_lcd_clear
(0042)    //画欢迎界面
(0043)   //Draw_Pic( 0, 0, nihao);
(0044)    //delay_ms(1000);
(0045)      pageNum=2;
    00932 E082      LDI	R24,2
    00933 E090      LDI	R25,0
    00934 9390 0C58 STS	pageNum+1,R25
    00936 9380 0C57 STS	pageNum,R24
(0046)      Set_White_off(1,0,12);
    00938 E08C      LDI	R24,0xC
    00939 8388      ST	Y,R24
    0093A 2722      CLR	R18
    0093B E001      LDI	R16,1
    0093C 940E 07C5 CALL	_Set_White_off
(0047) 	 Set_White_off(1,1,12);
    0093E E08C      LDI	R24,0xC
    0093F 8388      ST	Y,R24
    00940 E021      LDI	R18,1
    00941 E001      LDI	R16,1
    00942 940E 07C5 CALL	_Set_White_off
(0048) 	 Set_White_off(1,2,12);
    00944 E08C      LDI	R24,0xC
    00945 8388      ST	Y,R24
    00946 E022      LDI	R18,2
    00947 E001      LDI	R16,1
    00948 940E 07C5 CALL	_Set_White_off
(0049) 	 Set_White_off(1,3,12);
    0094A E08C      LDI	R24,0xC
    0094B 8388      ST	Y,R24
    0094C E023      LDI	R18,3
    0094D E001      LDI	R16,1
    0094E 940E 07C5 CALL	_Set_White_off
(0050) 	 
(0051) 	  tempdata_init();//数据初始化，清空
    00950 940E 1E33 CALL	_tempdata_init
(0052)         Initial_time(); //初始化时间的
    00952 940E 20FD CALL	_Initial_time
    00954 C002      RJMP	0x0957
(0053) 	 while(1){
(0054)      dispatchPages();
    00955 940E 1DD4 CALL	_dispatchPages
    00957 CFFD      RJMP	0x0955
    00958 9621      ADIW	R28,1
    00959 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\timertask.c
(0001) #include<iom128v.h>
(0002) #include "timertask.h"
(0003) #include "time.h"
(0004) #include "lcd.h"
(0005) #include "delay.h"
(0006) unsigned char time_h_1, time_l_1,time_h_3, time_l_3,time_0, time_2,i;
(0007) //************************************************
(0008) //16位定时器，定时器1
(0009) //*************************************************
(0010) /*
(0011)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0012)   自行计算时间传入。传入高低八位
(0013) */
(0014) void Timerinit_1(uchar time_h,uchar time_l){
(0015)     time_h_1=time_h;
_Timerinit_1:
  time_l               --> R18
  time_h               --> R16
    0095A 9300 0C5F STS	time_h_1,R16
(0016) 	time_l_1=time_l;
    0095C 9320 0C5E STS	time_l_1,R18
(0017) 	 TCCR1B=0x00;
    0095E 2422      CLR	R2
    0095F BC2E      OUT	0x2E,R2
(0018) 	//写入初值
(0019)     TCNT1H=time_h;
    00960 BD0D      OUT	0x2D,R16
(0020)     TCNT1L=time_l;
    00961 BD2C      OUT	0x2C,R18
(0021) 	//普通计数，1024分频
(0022)     TCCR1A=0x00;
    00962 BC2F      OUT	0x2F,R2
(0023)     TCCR1B=0x05;
    00963 E085      LDI	R24,5
    00964 BD8E      OUT	0x2E,R24
(0024) 	 TIMSK|=0x04;//开定时器1溢出中断,16位的
    00965 B787      IN	R24,0x37
    00966 6084      ORI	R24,4
    00967 BF87      OUT	0x37,R24
    00968 9508      RET
(0025) }
(0026) //************************************************
(0027) //16位定时器，定时器3
(0028) //*************************************************
(0029) /*
(0030)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0031)   自行计算时间传入。传入高低八位
(0032) */
(0033) void Timerinit_3(uchar time_h,uchar time_l){
(0034)  	time_h_3=time_h;
_Timerinit_3:
  time_l               --> R18
  time_h               --> R16
    00969 9300 0C5D STS	time_h_3,R16
(0035) 	time_l_3=time_l;
    0096B 9320 0C5C STS	time_l_3,R18
(0036) 	//写入初值
(0037) 	 TCCR3B=0x00;
    0096D 2422      CLR	R2
    0096E 9220 008A STS	0x8A,R2
(0038)     TCNT3H=time_h;
    00970 9300 0089 STS	0x89,R16
(0039)     TCNT3L=time_l;
    00972 9320 0088 STS	0x88,R18
(0040) 	//普通计数，1024分频
(0041)     TCCR3A=0x00;
    00974 9220 008B STS	0x8B,R2
(0042)     TCCR3B=0x05;
    00976 E085      LDI	R24,5
    00977 9380 008A STS	0x8A,R24
(0043) 	ETIMSK |=0x04;//开外部中断1
    00979 9180 007D LDS	R24,0x7D
    0097B 6084      ORI	R24,4
    0097C 9380 007D STS	0x7D,R24
    0097E 9508      RET
(0044) }
(0045) //************************************************
(0046) //8位定时器，定时器0
(0047) //*************************************************
(0048) 
(0049) /*
(0050)   计数器0，8位的。普通计时，1024分频。
(0051)   自行计算时间传入。
(0052) */
(0053) void Timerinit_0(uchar time){
(0054)     time_0=time;
_Timerinit_0:
  time                 --> R16
    0097F 9300 0C5B STS	time_0,R16
(0055) 	//写入初值
(0056)     TCNT0=time;
    00981 BF02      OUT	0x32,R16
(0057) 	TIMSK|=0x01;//开定时器0溢出中断,8位的
    00982 B787      IN	R24,0x37
    00983 6081      ORI	R24,1
    00984 BF87      OUT	0x37,R24
(0058) 	 TCCR0=0x07;//普通计数，1024分频
    00985 E087      LDI	R24,7
    00986 BF83      OUT	0x33,R24
    00987 9508      RET
(0059) }
(0060) //************************************************
(0061) //8位定时器，定时器2
(0062) //*************************************************
(0063) /*
(0064)   计数器0，8位的。普通计时，1024分频。
(0065)   自行计算时间传入。
(0066) */
(0067) void Timerinit_2(uchar time){
(0068)     time_2=time;
_Timerinit_2:
  time                 --> R16
    00988 9300 0C5A STS	time_2,R16
(0069) 	//写入初值
(0070)     TCNT2=time;
    0098A BD04      OUT	0x24,R16
(0071) 	TIMSK|=0x40;//开定时器0溢出中断,8位的
    0098B B787      IN	R24,0x37
    0098C 6480      ORI	R24,0x40
    0098D BF87      OUT	0x37,R24
(0072) 	//普通计数，1024分频
(0073)     TCCR2=0x05;
    0098E E085      LDI	R24,5
    0098F BD85      OUT	0x25,R24
    00990 9508      RET
_int_timer0:
    00991 920A      ST	-Y,R0
    00992 921A      ST	-Y,R1
    00993 922A      ST	-Y,R2
    00994 923A      ST	-Y,R3
    00995 924A      ST	-Y,R4
    00996 925A      ST	-Y,R5
    00997 926A      ST	-Y,R6
    00998 927A      ST	-Y,R7
    00999 928A      ST	-Y,R8
    0099A 929A      ST	-Y,R9
    0099B 930A      ST	-Y,R16
    0099C 931A      ST	-Y,R17
    0099D 932A      ST	-Y,R18
    0099E 933A      ST	-Y,R19
    0099F 938A      ST	-Y,R24
    009A0 939A      ST	-Y,R25
    009A1 93AA      ST	-Y,R26
    009A2 93BA      ST	-Y,R27
    009A3 93EA      ST	-Y,R30
    009A4 93FA      ST	-Y,R31
    009A5 B60F      IN	R0,0x3F
    009A6 920A      ST	-Y,R0
    009A7 9721      SBIW	R28,1
(0074) }
(0075) #pragma interrupt_handler int_timer0:17
(0076) void int_timer0(void){ 
(0077) 		TCCR0=0x00;
    009A8 2422      CLR	R2
    009A9 BE23      OUT	0x33,R2
(0078) 		//adc_init_once();
(0079) 		for(i=0;i<5;i++){
    009AA 9220 0C59 STS	i,R2
    009AC C011      RJMP	0x09BE
(0080)   		 lcd_write_char(0x01,3,0x30+i);	
    009AD 9180 0C59 LDS	R24,i
    009AF 5D80      SUBI	R24,0xD0
    009B0 8388      ST	Y,R24
    009B1 E023      LDI	R18,3
    009B2 E001      LDI	R16,1
    009B3 940E 05EA CALL	_lcd_write_char
(0081) 		 delay_ms(100);		
    009B5 E604      LDI	R16,0x64
    009B6 E010      LDI	R17,0
    009B7 940E 03BF CALL	_delay_ms
    009B9 9180 0C59 LDS	R24,i
    009BB 5F8F      SUBI	R24,0xFF
    009BC 9380 0C59 STS	i,R24
    009BE 9180 0C59 LDS	R24,i
    009C0 3085      CPI	R24,5
    009C1 F358      BCS	0x09AD
(0082)         }
(0083) 		TCNT0=time_0;
    009C2 9020 0C5B LDS	R2,time_0
    009C4 BE22      OUT	0x32,R2
(0084) 		TCCR0=0x07;
    009C5 E087      LDI	R24,7
    009C6 BF83      OUT	0x33,R24
(0085) 		return;
    009C7 9621      ADIW	R28,1
    009C8 9009      LD	R0,Y+
    009C9 BE0F      OUT	0x3F,R0
    009CA 91F9      LD	R31,Y+
    009CB 91E9      LD	R30,Y+
    009CC 91B9      LD	R27,Y+
    009CD 91A9      LD	R26,Y+
    009CE 9199      LD	R25,Y+
    009CF 9189      LD	R24,Y+
    009D0 9139      LD	R19,Y+
    009D1 9129      LD	R18,Y+
    009D2 9119      LD	R17,Y+
    009D3 9109      LD	R16,Y+
    009D4 9099      LD	R9,Y+
    009D5 9089      LD	R8,Y+
    009D6 9079      LD	R7,Y+
    009D7 9069      LD	R6,Y+
    009D8 9059      LD	R5,Y+
    009D9 9049      LD	R4,Y+
    009DA 9039      LD	R3,Y+
    009DB 9029      LD	R2,Y+
    009DC 9019      LD	R1,Y+
    009DD 9009      LD	R0,Y+
    009DE 9518      RETI
_int_timer1:
    009DF 920A      ST	-Y,R0
    009E0 921A      ST	-Y,R1
    009E1 922A      ST	-Y,R2
    009E2 923A      ST	-Y,R3
    009E3 924A      ST	-Y,R4
    009E4 925A      ST	-Y,R5
    009E5 926A      ST	-Y,R6
    009E6 927A      ST	-Y,R7
    009E7 928A      ST	-Y,R8
    009E8 929A      ST	-Y,R9
    009E9 930A      ST	-Y,R16
    009EA 931A      ST	-Y,R17
    009EB 932A      ST	-Y,R18
    009EC 933A      ST	-Y,R19
    009ED 938A      ST	-Y,R24
    009EE 939A      ST	-Y,R25
    009EF 93AA      ST	-Y,R26
    009F0 93BA      ST	-Y,R27
    009F1 93EA      ST	-Y,R30
    009F2 93FA      ST	-Y,R31
    009F3 B60F      IN	R0,0x3F
    009F4 920A      ST	-Y,R0
    009F5 9721      SBIW	R28,1
(0086) }
(0087) //溢出中断。
(0088) #pragma interrupt_handler int_timer1:15
(0089) void int_timer1(void){
(0090) 		 TCCR1B=0x00;
    009F6 2422      CLR	R2
    009F7 BC2E      OUT	0x2E,R2
(0091) 		//adc_init_once();
(0092) 		for(i=0;i<5;i++){
    009F8 9220 0C59 STS	i,R2
    009FA C011      RJMP	0x0A0C
(0093)   		 lcd_write_char(0x03,3,0x30+i);	
    009FB 9180 0C59 LDS	R24,i
    009FD 5D80      SUBI	R24,0xD0
    009FE 8388      ST	Y,R24
    009FF E023      LDI	R18,3
    00A00 E003      LDI	R16,3
    00A01 940E 05EA CALL	_lcd_write_char
(0094) 		 delay_ms(100);		
    00A03 E604      LDI	R16,0x64
    00A04 E010      LDI	R17,0
    00A05 940E 03BF CALL	_delay_ms
    00A07 9180 0C59 LDS	R24,i
    00A09 5F8F      SUBI	R24,0xFF
    00A0A 9380 0C59 STS	i,R24
    00A0C 9180 0C59 LDS	R24,i
    00A0E 3085      CPI	R24,5
    00A0F F358      BCS	0x09FB
(0095)         }
(0096) 		TCNT1H=time_h_1;
    00A10 9020 0C5F LDS	R2,time_h_1
    00A12 BC2D      OUT	0x2D,R2
(0097)          TCNT1L=time_l_1;
    00A13 9020 0C5E LDS	R2,time_l_1
    00A15 BC2C      OUT	0x2C,R2
(0098) 		 TCCR1B=0x05;
    00A16 E085      LDI	R24,5
    00A17 BD8E      OUT	0x2E,R24
(0099) 		return;
    00A18 9621      ADIW	R28,1
    00A19 9009      LD	R0,Y+
    00A1A BE0F      OUT	0x3F,R0
    00A1B 91F9      LD	R31,Y+
    00A1C 91E9      LD	R30,Y+
    00A1D 91B9      LD	R27,Y+
    00A1E 91A9      LD	R26,Y+
    00A1F 9199      LD	R25,Y+
    00A20 9189      LD	R24,Y+
    00A21 9139      LD	R19,Y+
    00A22 9129      LD	R18,Y+
    00A23 9119      LD	R17,Y+
    00A24 9109      LD	R16,Y+
    00A25 9099      LD	R9,Y+
    00A26 9089      LD	R8,Y+
    00A27 9079      LD	R7,Y+
    00A28 9069      LD	R6,Y+
    00A29 9059      LD	R5,Y+
    00A2A 9049      LD	R4,Y+
    00A2B 9039      LD	R3,Y+
    00A2C 9029      LD	R2,Y+
    00A2D 9019      LD	R1,Y+
    00A2E 9009      LD	R0,Y+
    00A2F 9518      RETI
_int_timer2:
    00A30 920A      ST	-Y,R0
    00A31 921A      ST	-Y,R1
    00A32 922A      ST	-Y,R2
    00A33 923A      ST	-Y,R3
    00A34 924A      ST	-Y,R4
    00A35 925A      ST	-Y,R5
    00A36 926A      ST	-Y,R6
    00A37 927A      ST	-Y,R7
    00A38 928A      ST	-Y,R8
    00A39 929A      ST	-Y,R9
    00A3A 930A      ST	-Y,R16
    00A3B 931A      ST	-Y,R17
    00A3C 932A      ST	-Y,R18
    00A3D 933A      ST	-Y,R19
    00A3E 938A      ST	-Y,R24
    00A3F 939A      ST	-Y,R25
    00A40 93AA      ST	-Y,R26
    00A41 93BA      ST	-Y,R27
    00A42 93EA      ST	-Y,R30
    00A43 93FA      ST	-Y,R31
    00A44 B60F      IN	R0,0x3F
    00A45 920A      ST	-Y,R0
    00A46 9721      SBIW	R28,1
(0100) }
(0101) #pragma interrupt_handler int_timer2:11
(0102) void int_timer2(void){
(0103)       //PORTE=~PORTE;
(0104) 		TCCR2=0x00;
    00A47 2422      CLR	R2
    00A48 BC25      OUT	0x25,R2
(0105) 		for(i=0;i<5;i++){
    00A49 9220 0C59 STS	i,R2
    00A4B C011      RJMP	0x0A5D
(0106)   		 lcd_write_char(0x00,3,0x30+i);	
    00A4C 9180 0C59 LDS	R24,i
    00A4E 5D80      SUBI	R24,0xD0
    00A4F 8388      ST	Y,R24
    00A50 E023      LDI	R18,3
    00A51 2700      CLR	R16
    00A52 940E 05EA CALL	_lcd_write_char
(0107) 		 delay_ms(100);		
    00A54 E604      LDI	R16,0x64
    00A55 E010      LDI	R17,0
    00A56 940E 03BF CALL	_delay_ms
    00A58 9180 0C59 LDS	R24,i
    00A5A 5F8F      SUBI	R24,0xFF
    00A5B 9380 0C59 STS	i,R24
    00A5D 9180 0C59 LDS	R24,i
    00A5F 3085      CPI	R24,5
    00A60 F358      BCS	0x0A4C
(0108)         }
(0109) 		TCNT2=time_2;
    00A61 9020 0C5A LDS	R2,time_2
    00A63 BC24      OUT	0x24,R2
(0110) 		TCCR2=0x05;
    00A64 E085      LDI	R24,5
    00A65 BD85      OUT	0x25,R24
(0111) 		return;
    00A66 9621      ADIW	R28,1
    00A67 9009      LD	R0,Y+
    00A68 BE0F      OUT	0x3F,R0
    00A69 91F9      LD	R31,Y+
    00A6A 91E9      LD	R30,Y+
    00A6B 91B9      LD	R27,Y+
    00A6C 91A9      LD	R26,Y+
    00A6D 9199      LD	R25,Y+
    00A6E 9189      LD	R24,Y+
    00A6F 9139      LD	R19,Y+
    00A70 9129      LD	R18,Y+
    00A71 9119      LD	R17,Y+
    00A72 9109      LD	R16,Y+
    00A73 9099      LD	R9,Y+
    00A74 9089      LD	R8,Y+
    00A75 9079      LD	R7,Y+
    00A76 9069      LD	R6,Y+
    00A77 9059      LD	R5,Y+
    00A78 9049      LD	R4,Y+
    00A79 9039      LD	R3,Y+
    00A7A 9029      LD	R2,Y+
    00A7B 9019      LD	R1,Y+
    00A7C 9009      LD	R0,Y+
    00A7D 9518      RETI
_int_timer3:
    00A7E 920A      ST	-Y,R0
    00A7F 921A      ST	-Y,R1
    00A80 922A      ST	-Y,R2
    00A81 923A      ST	-Y,R3
    00A82 924A      ST	-Y,R4
    00A83 925A      ST	-Y,R5
    00A84 926A      ST	-Y,R6
    00A85 927A      ST	-Y,R7
    00A86 928A      ST	-Y,R8
    00A87 929A      ST	-Y,R9
    00A88 930A      ST	-Y,R16
    00A89 931A      ST	-Y,R17
    00A8A 932A      ST	-Y,R18
    00A8B 933A      ST	-Y,R19
    00A8C 938A      ST	-Y,R24
    00A8D 939A      ST	-Y,R25
    00A8E 93AA      ST	-Y,R26
    00A8F 93BA      ST	-Y,R27
    00A90 93EA      ST	-Y,R30
    00A91 93FA      ST	-Y,R31
    00A92 B60F      IN	R0,0x3F
    00A93 920A      ST	-Y,R0
    00A94 9721      SBIW	R28,1
(0112) }
(0113) //16位定时器，定时器3溢出中断。
(0114) #pragma interrupt_handler int_timer3:30
(0115) void int_timer3(void){
(0116)     TCCR1B=0x00;
    00A95 2422      CLR	R2
    00A96 BC2E      OUT	0x2E,R2
(0117)      for(i=0;i<5;i++){
    00A97 9220 0C59 STS	i,R2
    00A99 C011      RJMP	0x0AAB
(0118)   		 lcd_write_char(0x02,3,0x30+i);	
    00A9A 9180 0C59 LDS	R24,i
    00A9C 5D80      SUBI	R24,0xD0
    00A9D 8388      ST	Y,R24
    00A9E E023      LDI	R18,3
    00A9F E002      LDI	R16,2
    00AA0 940E 05EA CALL	_lcd_write_char
(0119) 		 delay_ms(100);		
    00AA2 E604      LDI	R16,0x64
    00AA3 E010      LDI	R17,0
    00AA4 940E 03BF CALL	_delay_ms
    00AA6 9180 0C59 LDS	R24,i
    00AA8 5F8F      SUBI	R24,0xFF
    00AA9 9380 0C59 STS	i,R24
    00AAB 9180 0C59 LDS	R24,i
    00AAD 3085      CPI	R24,5
    00AAE F358      BCS	0x0A9A
(0120)         }
(0121) 	TCNT3H=time_h_3;
    00AAF 9020 0C5D LDS	R2,time_h_3
    00AB1 9220 0089 STS	0x89,R2
(0122)     TCNT3L=time_l_3;
    00AB3 9020 0C5C LDS	R2,time_l_3
    00AB5 9220 0088 STS	0x88,R2
(0123) 	 TCCR1B=0x05;
    00AB7 E085      LDI	R24,5
    00AB8 BD8E      OUT	0x2E,R24
    00AB9 9621      ADIW	R28,1
    00ABA 9009      LD	R0,Y+
    00ABB BE0F      OUT	0x3F,R0
    00ABC 91F9      LD	R31,Y+
    00ABD 91E9      LD	R30,Y+
    00ABE 91B9      LD	R27,Y+
    00ABF 91A9      LD	R26,Y+
    00AC0 9199      LD	R25,Y+
    00AC1 9189      LD	R24,Y+
    00AC2 9139      LD	R19,Y+
    00AC3 9129      LD	R18,Y+
    00AC4 9119      LD	R17,Y+
    00AC5 9109      LD	R16,Y+
    00AC6 9099      LD	R9,Y+
    00AC7 9089      LD	R8,Y+
    00AC8 9079      LD	R7,Y+
    00AC9 9069      LD	R6,Y+
    00ACA 9059      LD	R5,Y+
    00ACB 9049      LD	R4,Y+
    00ACC 9039      LD	R3,Y+
    00ACD 9029      LD	R2,Y+
    00ACE 9019      LD	R1,Y+
    00ACF 9009      LD	R0,Y+
    00AD0 9518      RETI
_readTemp_1:
  i                    --> R20
    00AD1 934A      ST	-Y,R20
    00AD2 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\max6675.c
(0001) #include<iom128v.h>
(0002) #include "max6675.h"
(0003) #include "main.h"
(0004) #include "delay.h"
(0005) #define sck_h_1 PORTE|=(1<<PE3) 
(0006) #define sck_l_1 PORTE&=~(1<<PE3) 
(0007) #define cs_h_1 PORTE|=1<<PE4 
(0008) #define cs_l_1 PORTE&=~(1<<PE4) 
(0009) 
(0010) #define sck_h_2 PORTE|=(1<<PE6) 
(0011) #define sck_l_2 PORTE&=~(1<<PE6) 
(0012) #define cs_h_2 PORTE|=1<<PE7 
(0013) #define cs_l_2 PORTE&=~(1<<PE7) 
(0014) 
(0015) #define sck_h_3 PORTF|=(1<<PF0) 
(0016) #define sck_l_3 PORTF&=~(1<<PF0) 
(0017) #define cs_h_3 PORTF|=1<<PF2 
(0018) #define cs_l_3 PORTF&=~(1<<PF2) 
(0019) 
(0020) #define sck_h_4 PORTF|=(1<<PF4) 
(0021) #define sck_l_4 PORTF&=~(1<<PF4) 
(0022) #define cs_h_4 PORTF|=1<<PF5 
(0023) #define cs_l_4 PORTF&=~(1<<PF5) 
(0024) /*
(0025) 仿真中没有读出数据，也没有实物
(0026) 
(0027) */
(0028) void readTemp_1(void){
(0029) 	   uint i;
(0030) 	   DDRE&=0xFB;
    00AD3 B182      IN	R24,0x02
    00AD4 7F8B      ANDI	R24,0xFB
    00AD5 B982      OUT	0x02,R24
(0031) 	   sck_l_1;
    00AD6 981B      CBI	0x03,3
(0032) 	   cs_l_1;
    00AD7 981C      CBI	0x03,4
(0033) 	   delay_us(1);
    00AD8 E001      LDI	R16,1
    00AD9 E010      LDI	R17,0
    00ADA 940E 03B5 CALL	_delay_us
(0034) 	   for(i=0;i<8;i++){
    00ADC 2744      CLR	R20
    00ADD 2755      CLR	R21
    00ADE C020      RJMP	0x0AFF
(0035) 			sck_h_1;
    00ADF 9A1B      SBI	0x03,3
(0036) 			delay_us(10);
    00AE0 E00A      LDI	R16,0xA
    00AE1 E010      LDI	R17,0
    00AE2 940E 03B5 CALL	_delay_us
(0037) 	    	temp_h=temp_h|(PINE&0x04);
    00AE4 B181      IN	R24,0x01
    00AE5 2799      CLR	R25
    00AE6 7084      ANDI	R24,4
    00AE7 7090      ANDI	R25,0
    00AE8 9020 0110 LDS	R2,temp_h
    00AEA 9030 0111 LDS	R3,temp_h+1
    00AEC 2A28      OR	R2,R24
    00AED 2A39      OR	R3,R25
    00AEE 9230 0111 STS	temp_h+1,R3
    00AF0 9220 0110 STS	temp_h,R2
(0038) 			temp_h<<=1;
    00AF2 0C22      LSL	R2
    00AF3 1C33      ROL	R3
    00AF4 9230 0111 STS	temp_h+1,R3
    00AF6 9220 0110 STS	temp_h,R2
(0039) 			sck_l_1;
    00AF8 981B      CBI	0x03,3
(0040) 			delay_us(1);
    00AF9 E001      LDI	R16,1
    00AFA E010      LDI	R17,0
    00AFB 940E 03B5 CALL	_delay_us
    00AFD 5F4F      SUBI	R20,0xFF
    00AFE 4F5F      SBCI	R21,0xFF
    00AFF 3048      CPI	R20,0x8
    00B00 E0E0      LDI	R30,0
    00B01 075E      CPC	R21,R30
    00B02 F2E0      BCS	0x0ADF
(0041) 			
(0042) 	   }
(0043) 	   for(i=0;i<8;i++){
    00B03 2744      CLR	R20
    00B04 2755      CLR	R21
    00B05 C022      RJMP	0x0B28
(0044) 			sck_h_1;
    00B06 9A1B      SBI	0x03,3
(0045) 			delay_us(10);
    00B07 E00A      LDI	R16,0xA
    00B08 E010      LDI	R17,0
    00B09 940E 03B5 CALL	_delay_us
(0046) 	    	temp_l=temp_l|(PINE&0x04);
    00B0B B181      IN	R24,0x01
    00B0C 2799      CLR	R25
    00B0D 7084      ANDI	R24,4
    00B0E 7090      ANDI	R25,0
    00B0F 9020 0112 LDS	R2,temp_l
    00B11 9030 0113 LDS	R3,temp_l+1
    00B13 2A28      OR	R2,R24
    00B14 2A39      OR	R3,R25
    00B15 9230 0113 STS	temp_l+1,R3
    00B17 9220 0112 STS	temp_l,R2
(0047) 			temp_l<<=temp_l;
    00B19 0191      MOVW	R18,R2
    00B1A 0181      MOVW	R16,R2
    00B1B 940E 221E CALL	lsl16
    00B1D 9310 0113 STS	temp_l+1,R17
    00B1F 9300 0112 STS	temp_l,R16
(0048) 			sck_l_1;
    00B21 981B      CBI	0x03,3
(0049) 			delay_us(1);
    00B22 E001      LDI	R16,1
    00B23 E010      LDI	R17,0
    00B24 940E 03B5 CALL	_delay_us
    00B26 5F4F      SUBI	R20,0xFF
    00B27 4F5F      SBCI	R21,0xFF
    00B28 3048      CPI	R20,0x8
    00B29 E0E0      LDI	R30,0
    00B2A 075E      CPC	R21,R30
    00B2B F2D0      BCS	0x0B06
(0050) 	   }
(0051) 	   delay_us(1);
    00B2C E001      LDI	R16,1
    00B2D E010      LDI	R17,0
    00B2E 940E 03B5 CALL	_delay_us
(0052) 	  // temp_l=0x55;
(0053) 	   return ;
    00B30 9159      LD	R21,Y+
    00B31 9149      LD	R20,Y+
    00B32 9508      RET
_readTemp_2:
  i                    --> R20
    00B33 934A      ST	-Y,R20
    00B34 935A      ST	-Y,R21
(0054) }
(0055) void readTemp_2(void){
(0056) 	   uint i;
(0057) 	   DDRE&=0xDF;
    00B35 B182      IN	R24,0x02
    00B36 7D8F      ANDI	R24,0xDF
    00B37 B982      OUT	0x02,R24
(0058) 	   sck_l_2;
    00B38 981E      CBI	0x03,6
(0059) 	   cs_l_2;
    00B39 981F      CBI	0x03,7
(0060) 	   delay_us(1);
    00B3A E001      LDI	R16,1
    00B3B E010      LDI	R17,0
    00B3C 940E 03B5 CALL	_delay_us
(0061) 	   for(i=0;i<8;i++){
    00B3E 2744      CLR	R20
    00B3F 2755      CLR	R21
    00B40 C020      RJMP	0x0B61
(0062) 			sck_h_2;
    00B41 9A1E      SBI	0x03,6
(0063) 			delay_us(10);
    00B42 E00A      LDI	R16,0xA
    00B43 E010      LDI	R17,0
    00B44 940E 03B5 CALL	_delay_us
(0064) 	    	temp_h=temp_h|(PINE&0x20);
    00B46 B181      IN	R24,0x01
    00B47 2799      CLR	R25
    00B48 7280      ANDI	R24,0x20
    00B49 7090      ANDI	R25,0
    00B4A 9020 0110 LDS	R2,temp_h
    00B4C 9030 0111 LDS	R3,temp_h+1
    00B4E 2A28      OR	R2,R24
    00B4F 2A39      OR	R3,R25
    00B50 9230 0111 STS	temp_h+1,R3
    00B52 9220 0110 STS	temp_h,R2
(0065) 			temp_h<<=1;
    00B54 0C22      LSL	R2
    00B55 1C33      ROL	R3
    00B56 9230 0111 STS	temp_h+1,R3
    00B58 9220 0110 STS	temp_h,R2
(0066) 			sck_l_2;
    00B5A 981E      CBI	0x03,6
(0067) 			delay_us(1);
    00B5B E001      LDI	R16,1
    00B5C E010      LDI	R17,0
    00B5D 940E 03B5 CALL	_delay_us
    00B5F 5F4F      SUBI	R20,0xFF
    00B60 4F5F      SBCI	R21,0xFF
    00B61 3048      CPI	R20,0x8
    00B62 E0E0      LDI	R30,0
    00B63 075E      CPC	R21,R30
    00B64 F2E0      BCS	0x0B41
(0068) 			
(0069) 	   }
(0070) 	   for(i=0;i<8;i++){
    00B65 2744      CLR	R20
    00B66 2755      CLR	R21
    00B67 C022      RJMP	0x0B8A
(0071) 			sck_h_2;
    00B68 9A1E      SBI	0x03,6
(0072) 			delay_us(10);
    00B69 E00A      LDI	R16,0xA
    00B6A E010      LDI	R17,0
    00B6B 940E 03B5 CALL	_delay_us
(0073) 	    	temp_l=temp_l|(PINE&0x20);
    00B6D B181      IN	R24,0x01
    00B6E 2799      CLR	R25
    00B6F 7280      ANDI	R24,0x20
    00B70 7090      ANDI	R25,0
    00B71 9020 0112 LDS	R2,temp_l
    00B73 9030 0113 LDS	R3,temp_l+1
    00B75 2A28      OR	R2,R24
    00B76 2A39      OR	R3,R25
    00B77 9230 0113 STS	temp_l+1,R3
    00B79 9220 0112 STS	temp_l,R2
(0074) 			temp_l<<=temp_l;
    00B7B 0191      MOVW	R18,R2
    00B7C 0181      MOVW	R16,R2
    00B7D 940E 221E CALL	lsl16
    00B7F 9310 0113 STS	temp_l+1,R17
    00B81 9300 0112 STS	temp_l,R16
(0075) 			sck_l_2;
    00B83 981E      CBI	0x03,6
(0076) 			delay_us(1);
    00B84 E001      LDI	R16,1
    00B85 E010      LDI	R17,0
    00B86 940E 03B5 CALL	_delay_us
    00B88 5F4F      SUBI	R20,0xFF
    00B89 4F5F      SBCI	R21,0xFF
    00B8A 3048      CPI	R20,0x8
    00B8B E0E0      LDI	R30,0
    00B8C 075E      CPC	R21,R30
    00B8D F2D0      BCS	0x0B68
(0077) 	   }
(0078) 	   delay_us(1);
    00B8E E001      LDI	R16,1
    00B8F E010      LDI	R17,0
    00B90 940E 03B5 CALL	_delay_us
(0079) 	  // temp_l=0x55;
(0080) 	   return ;
    00B92 9159      LD	R21,Y+
    00B93 9149      LD	R20,Y+
    00B94 9508      RET
_readTemp_3:
  i                    --> R20
    00B95 934A      ST	-Y,R20
    00B96 935A      ST	-Y,R21
(0081) }
(0082) void readTemp_3(void){
(0083) 	   uint i;
(0084) 	   DDRF&=0xFE;
    00B97 9180 0061 LDS	R24,0x61
    00B99 7F8E      ANDI	R24,0xFE
    00B9A 9380 0061 STS	0x61,R24
(0085) 	   sck_l_3;
    00B9C 9180 0062 LDS	R24,0x62
    00B9E 7F8E      ANDI	R24,0xFE
    00B9F 9380 0062 STS	0x62,R24
(0086) 	   cs_l_3;
    00BA1 9180 0062 LDS	R24,0x62
    00BA3 7F8B      ANDI	R24,0xFB
    00BA4 9380 0062 STS	0x62,R24
(0087) 	   delay_us(1);
    00BA6 E001      LDI	R16,1
    00BA7 E010      LDI	R17,0
    00BA8 940E 03B5 CALL	_delay_us
(0088) 	   for(i=0;i<8;i++){
    00BAA 2744      CLR	R20
    00BAB 2755      CLR	R21
    00BAC C028      RJMP	0x0BD5
(0089) 			sck_h_3;
    00BAD 9180 0062 LDS	R24,0x62
    00BAF 6081      ORI	R24,1
    00BB0 9380 0062 STS	0x62,R24
(0090) 			delay_us(10);
    00BB2 E00A      LDI	R16,0xA
    00BB3 E010      LDI	R17,0
    00BB4 940E 03B5 CALL	_delay_us
(0091) 	    	temp_h=temp_h|(PINF&0x01);
    00BB6 B180      IN	R24,0x00
    00BB7 2799      CLR	R25
    00BB8 7081      ANDI	R24,1
    00BB9 7090      ANDI	R25,0
    00BBA 9020 0110 LDS	R2,temp_h
    00BBC 9030 0111 LDS	R3,temp_h+1
    00BBE 2A28      OR	R2,R24
    00BBF 2A39      OR	R3,R25
    00BC0 9230 0111 STS	temp_h+1,R3
    00BC2 9220 0110 STS	temp_h,R2
(0092) 			temp_h<<=1;
    00BC4 0C22      LSL	R2
    00BC5 1C33      ROL	R3
    00BC6 9230 0111 STS	temp_h+1,R3
    00BC8 9220 0110 STS	temp_h,R2
(0093) 			sck_l_3;
    00BCA 9180 0062 LDS	R24,0x62
    00BCC 7F8E      ANDI	R24,0xFE
    00BCD 9380 0062 STS	0x62,R24
(0094) 			delay_us(1);
    00BCF E001      LDI	R16,1
    00BD0 E010      LDI	R17,0
    00BD1 940E 03B5 CALL	_delay_us
    00BD3 5F4F      SUBI	R20,0xFF
    00BD4 4F5F      SBCI	R21,0xFF
    00BD5 3048      CPI	R20,0x8
    00BD6 E0E0      LDI	R30,0
    00BD7 075E      CPC	R21,R30
    00BD8 F2A0      BCS	0x0BAD
(0095) 			
(0096) 	   }
(0097) 	   for(i=0;i<8;i++){
    00BD9 2744      CLR	R20
    00BDA 2755      CLR	R21
    00BDB C02A      RJMP	0x0C06
(0098) 			sck_h_3;
    00BDC 9180 0062 LDS	R24,0x62
    00BDE 6081      ORI	R24,1
    00BDF 9380 0062 STS	0x62,R24
(0099) 			delay_us(10);
    00BE1 E00A      LDI	R16,0xA
    00BE2 E010      LDI	R17,0
    00BE3 940E 03B5 CALL	_delay_us
(0100) 	    	temp_l=temp_l|(PINF&0x01);
    00BE5 B180      IN	R24,0x00
    00BE6 2799      CLR	R25
    00BE7 7081      ANDI	R24,1
    00BE8 7090      ANDI	R25,0
    00BE9 9020 0112 LDS	R2,temp_l
    00BEB 9030 0113 LDS	R3,temp_l+1
    00BED 2A28      OR	R2,R24
    00BEE 2A39      OR	R3,R25
    00BEF 9230 0113 STS	temp_l+1,R3
    00BF1 9220 0112 STS	temp_l,R2
(0101) 			temp_l<<=temp_l;
    00BF3 0191      MOVW	R18,R2
    00BF4 0181      MOVW	R16,R2
    00BF5 940E 221E CALL	lsl16
    00BF7 9310 0113 STS	temp_l+1,R17
    00BF9 9300 0112 STS	temp_l,R16
(0102) 			sck_l_3;
    00BFB 9180 0062 LDS	R24,0x62
    00BFD 7F8E      ANDI	R24,0xFE
    00BFE 9380 0062 STS	0x62,R24
(0103) 			delay_us(1);
    00C00 E001      LDI	R16,1
    00C01 E010      LDI	R17,0
    00C02 940E 03B5 CALL	_delay_us
    00C04 5F4F      SUBI	R20,0xFF
    00C05 4F5F      SBCI	R21,0xFF
    00C06 3048      CPI	R20,0x8
    00C07 E0E0      LDI	R30,0
    00C08 075E      CPC	R21,R30
    00C09 F290      BCS	0x0BDC
(0104) 	   }
(0105) 	   delay_us(1);
    00C0A E001      LDI	R16,1
    00C0B E010      LDI	R17,0
    00C0C 940E 03B5 CALL	_delay_us
(0106) 	  // temp_l=0x55;
(0107) 	   return ;
    00C0E 9159      LD	R21,Y+
    00C0F 9149      LD	R20,Y+
    00C10 9508      RET
_readTemp_4:
  i                    --> R20
    00C11 934A      ST	-Y,R20
    00C12 935A      ST	-Y,R21
(0108) }
(0109) void readTemp_4(void){
(0110) 	   uint i;
(0111) 	   DDRF&=0xF7;
    00C13 9180 0061 LDS	R24,0x61
    00C15 7F87      ANDI	R24,0xF7
    00C16 9380 0061 STS	0x61,R24
(0112) 	   sck_l_4;
    00C18 9180 0062 LDS	R24,0x62
    00C1A 7E8F      ANDI	R24,0xEF
    00C1B 9380 0062 STS	0x62,R24
(0113) 	   cs_l_4;
    00C1D 9180 0062 LDS	R24,0x62
    00C1F 7D8F      ANDI	R24,0xDF
    00C20 9380 0062 STS	0x62,R24
(0114) 	   delay_us(1);
    00C22 E001      LDI	R16,1
    00C23 E010      LDI	R17,0
    00C24 940E 03B5 CALL	_delay_us
(0115) 	   for(i=0;i<8;i++){
    00C26 2744      CLR	R20
    00C27 2755      CLR	R21
    00C28 C028      RJMP	0x0C51
(0116) 			sck_h_4;
    00C29 9180 0062 LDS	R24,0x62
    00C2B 6180      ORI	R24,0x10
    00C2C 9380 0062 STS	0x62,R24
(0117) 			delay_us(10);
    00C2E E00A      LDI	R16,0xA
    00C2F E010      LDI	R17,0
    00C30 940E 03B5 CALL	_delay_us
(0118) 	    	temp_h=temp_h|(PINF&0x80);
    00C32 B180      IN	R24,0x00
    00C33 2799      CLR	R25
    00C34 7880      ANDI	R24,0x80
    00C35 7090      ANDI	R25,0
    00C36 9020 0110 LDS	R2,temp_h
    00C38 9030 0111 LDS	R3,temp_h+1
    00C3A 2A28      OR	R2,R24
    00C3B 2A39      OR	R3,R25
    00C3C 9230 0111 STS	temp_h+1,R3
    00C3E 9220 0110 STS	temp_h,R2
(0119) 			temp_h<<=1;
    00C40 0C22      LSL	R2
    00C41 1C33      ROL	R3
    00C42 9230 0111 STS	temp_h+1,R3
    00C44 9220 0110 STS	temp_h,R2
(0120) 			sck_l_4;
    00C46 9180 0062 LDS	R24,0x62
    00C48 7E8F      ANDI	R24,0xEF
    00C49 9380 0062 STS	0x62,R24
(0121) 			delay_us(1);
    00C4B E001      LDI	R16,1
    00C4C E010      LDI	R17,0
    00C4D 940E 03B5 CALL	_delay_us
    00C4F 5F4F      SUBI	R20,0xFF
    00C50 4F5F      SBCI	R21,0xFF
    00C51 3048      CPI	R20,0x8
    00C52 E0E0      LDI	R30,0
    00C53 075E      CPC	R21,R30
    00C54 F2A0      BCS	0x0C29
(0122) 			
(0123) 	   }
(0124) 	   for(i=0;i<8;i++){
    00C55 2744      CLR	R20
    00C56 2755      CLR	R21
    00C57 C02A      RJMP	0x0C82
(0125) 			sck_h_4;
    00C58 9180 0062 LDS	R24,0x62
    00C5A 6180      ORI	R24,0x10
    00C5B 9380 0062 STS	0x62,R24
(0126) 			delay_us(10);
    00C5D E00A      LDI	R16,0xA
    00C5E E010      LDI	R17,0
    00C5F 940E 03B5 CALL	_delay_us
(0127) 	    	temp_l=temp_l|(PINF&0x80);
    00C61 B180      IN	R24,0x00
    00C62 2799      CLR	R25
    00C63 7880      ANDI	R24,0x80
    00C64 7090      ANDI	R25,0
    00C65 9020 0112 LDS	R2,temp_l
    00C67 9030 0113 LDS	R3,temp_l+1
    00C69 2A28      OR	R2,R24
    00C6A 2A39      OR	R3,R25
    00C6B 9230 0113 STS	temp_l+1,R3
    00C6D 9220 0112 STS	temp_l,R2
(0128) 			temp_l<<=temp_l;
    00C6F 0191      MOVW	R18,R2
    00C70 0181      MOVW	R16,R2
    00C71 940E 221E CALL	lsl16
    00C73 9310 0113 STS	temp_l+1,R17
    00C75 9300 0112 STS	temp_l,R16
(0129) 			sck_l_4;
    00C77 9180 0062 LDS	R24,0x62
    00C79 7E8F      ANDI	R24,0xEF
    00C7A 9380 0062 STS	0x62,R24
(0130) 			delay_us(1);
    00C7C E001      LDI	R16,1
    00C7D E010      LDI	R17,0
    00C7E 940E 03B5 CALL	_delay_us
    00C80 5F4F      SUBI	R20,0xFF
    00C81 4F5F      SBCI	R21,0xFF
    00C82 3048      CPI	R20,0x8
    00C83 E0E0      LDI	R30,0
    00C84 075E      CPC	R21,R30
    00C85 F290      BCS	0x0C58
(0131) 	   }
(0132) 	   delay_us(1);
    00C86 E001      LDI	R16,1
    00C87 E010      LDI	R17,0
    00C88 940E 03B5 CALL	_delay_us
(0133) 	  // temp_l=0x55;
(0134) 	   return ;
    00C8A 9159      LD	R21,Y+
    00C8B 9149      LD	R20,Y+
    00C8C 9508      RET
(0135) }
(0136) uchar readOC(void){
(0137) 	  DDRD&=0x07;
_readOC:
    00C8D B381      IN	R24,0x11
    00C8E 7087      ANDI	R24,7
    00C8F BB81      OUT	0x11,R24
(0138) 	  return PIND&(0xF8);
    00C90 B300      IN	R16,0x10
    00C91 7F08      ANDI	R16,0xF8
    00C92 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\out.c
(0001) #include<iom128v.h>
(0002) #include "out.h"
(0003) 
(0004) void out_all(uchar out){
(0005)   DDRC=0xFF;
_out_all:
  out                  --> R16
    00C93 EF8F      LDI	R24,0xFF
    00C94 BB84      OUT	0x14,R24
(0006)   PORTC=out;
    00C95 BB05      OUT	0x15,R16
    00C96 9508      RET
_out_port:
  port                 --> R10
  out                  --> R20
    00C97 940E 21DC CALL	push_xgset300C
    00C99 0159      MOVW	R10,R18
    00C9A 01A8      MOVW	R20,R16
(0007) }
(0008) //0、1的传入。port由0~7
(0009) void out_port(uint out,uint port){
(0010)   DDRC=0xFF;
    00C9B EF8F      LDI	R24,0xFF
    00C9C BB84      OUT	0x14,R24
(0011)   if(out==0){
    00C9D 3040      CPI	R20,0
    00C9E 0745      CPC	R20,R21
    00C9F F471      BNE	0x0CAE
(0012)    PORTC&=~(1<<port);
    00CA0 E001      LDI	R16,1
    00CA1 E010      LDI	R17,0
    00CA2 0195      MOVW	R18,R10
    00CA3 940E 221E CALL	lsl16
    00CA5 0118      MOVW	R2,R16
    00CA6 9420      COM	R2
    00CA7 9430      COM	R3
    00CA8 B245      IN	R4,0x15
    00CA9 2455      CLR	R5
    00CAA 2042      AND	R4,R2
    00CAB 2053      AND	R5,R3
    00CAC BA45      OUT	0x15,R4
(0013)   }else if(out==1){
    00CAD C00E      RJMP	0x0CBC
    00CAE 3041      CPI	R20,1
    00CAF E0E0      LDI	R30,0
    00CB0 075E      CPC	R21,R30
    00CB1 F451      BNE	0x0CBC
(0014)    PORTC|=(1<<port);
    00CB2 E001      LDI	R16,1
    00CB3 E010      LDI	R17,0
    00CB4 0195      MOVW	R18,R10
    00CB5 940E 221E CALL	lsl16
    00CB7 B225      IN	R2,0x15
    00CB8 2433      CLR	R3
    00CB9 2A20      OR	R2,R16
    00CBA 2A31      OR	R3,R17
    00CBB BA25      OUT	0x15,R2
(0015)   }
    00CBC 940C 21E1 JMP	pop_xgset300C
_read_port:
  port                 --> R10
    00CBE 92AA      ST	-Y,R10
    00CBF 92BA      ST	-Y,R11
    00CC0 0158      MOVW	R10,R16
(0016) }
(0017) uint read_port(uint port){
(0018)   return PINC&(1<<port);
    00CC1 E001      LDI	R16,1
    00CC2 E010      LDI	R17,0
    00CC3 0195      MOVW	R18,R10
    00CC4 940E 221E CALL	lsl16
    00CC6 B223      IN	R2,0x13
    00CC7 2433      CLR	R3
    00CC8 2220      AND	R2,R16
    00CC9 2231      AND	R3,R17
    00CCA 0181      MOVW	R16,R2
    00CCB 90B9      LD	R11,Y+
    00CCC 90A9      LD	R10,Y+
    00CCD 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\uart.c
(0001) #include <iom128v.h>
(0002) #include "uart.h"
(0003) 
(0004) //常量定义
(0005) #define BAUDRATE1       115200	//波特率
(0006) //#define BAUDRATE2       9600	//波特率
(0007) #define F_CPU		7372800//晶振频率
(0008) 
(0009) //变量定义
(0010) extern unsigned char send_buf[600];
(0011) extern unsigned char receive_buf[600];
(0012) extern unsigned int send_len;
(0013) extern unsigned int receive_len;
(0014) 
(0015) unsigned char uart_timeout_flag1;
(0016) unsigned char uart_timeout_flag2;
(0017) 
(0018) //串口1对应程序
(0019) ///////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0020) //USART 初始化
(0021) void init_USART1(void)
(0022) {
(0023)     //USART 115200 8, n,1  PC上位机软件(超级终端等)也要设成同样的设置才能通讯
(0024)     UCSR0C = (1<<USBS0)|(3<<UCSZ00);
_init_USART1:
    00CCE E08E      LDI	R24,0xE
    00CCF 9380 0095 STS	0x95,R24
(0025)     
(0026)   //异步，8位数据，无奇偶校验，一个停止位，无倍速   
(0027)     //U2X=0时的公式计算
(0028)     UBRR0L= (F_CPU/BAUDRATE1/16-1)%256;
    00CD1 E083      LDI	R24,3
    00CD2 B989      OUT	0x09,R24
(0029)     UBRR0H= (F_CPU/BAUDRATE1/16-1)/256;
    00CD3 2422      CLR	R2
    00CD4 9220 0090 STS	0x90,R2
(0030) 
(0031)     UCSR0A = 0x00;
    00CD6 B82B      OUT	0x0B,R2
(0032) 
(0033)     //使能接收中断，使能接收，使能发送
(0034)     UCSR0B = (1<<RXEN0)|(1<<TXEN0);
    00CD7 E188      LDI	R24,0x18
    00CD8 B98A      OUT	0x0A,R24
    00CD9 9508      RET
(0035)     
(0036) }
(0037) 
(0038) //向串口1写数
(0039) void put_c1(unsigned char c)
(0040) {
(0041) 	while( !(UCSR0A & (1<<UDRE0)) );
_put_c1:
  c                    --> R16
    00CDA 9B5D      SBIS	0x0B,5
    00CDB CFFE      RJMP	_put_c1
(0042) 	UDR0=c;	
    00CDC B90C      OUT	0x0C,R16
    00CDD 9508      RET
(0043) }
(0044) 
(0045) //从串口1读数
(0046) unsigned char USART_Receive1( void )
(0047) {
(0048)    unsigned int j=0;
_USART_Receive1:
  j                    --> R16
    00CDE 2700      CLR	R16
    00CDF 2711      CLR	R17
(0049)    uart_timeout_flag1=0; 
    00CE0 2422      CLR	R2
    00CE1 9220 0C61 STS	uart_timeout_flag1,R2
    00CE3 C00B      RJMP	0x0CEF
(0050)   //等待接受标志
(0051)   while ( !(UCSR0A & (1<<RXC0)) ){
(0052)     if(j==32000) //判断超时，并设置标志
    00CE4 3000      CPI	R16,0
    00CE5 E7ED      LDI	R30,0x7D
    00CE6 071E      CPC	R17,R30
    00CE7 F429      BNE	0x0CED
(0053)     { uart_timeout_flag1=1;   
    00CE8 E081      LDI	R24,1
    00CE9 9380 0C61 STS	uart_timeout_flag1,R24
(0054)     return FAILURE;}
    00CEB E001      LDI	R16,1
    00CEC C005      RJMP	0x0CF2
(0055) 	else 
(0056) 		j++;
    00CED 5F0F      SUBI	R16,0xFF
    00CEE 4F1F      SBCI	R17,0xFF
    00CEF 9B5F      SBIS	0x0B,7
    00CF0 CFF3      RJMP	0x0CE4
(0057)     ;}
(0058)   //读接收数据  
(0059)   return UDR0;
    00CF1 B10C      IN	R16,0x0C
    00CF2 9508      RET
_receiveStrfromCom:
  k                    --> R20
    00CF3 92AA      ST	-Y,R10
    00CF4 934A      ST	-Y,R20
(0060) }
(0061) 
(0062) //从串口接收数据串
(0063) unsigned char receiveStrfromCom(void)
(0064) {
    00CF5 C03E      RJMP	0x0D34
(0065)   unsigned char k;
(0066) 
(0067)   while(1)
(0068)   {
(0069)     ///以下为从串口接收数据的过程
(0070)     send_buf[0]=USART_Receive1();
    00CF6 DFE7      RCALL	_USART_Receive1
    00CF7 9300 09F3 STS	send_buf,R16
(0071)     //若接收的不是命令头则继续等待
(0072)     if(send_buf[0]!=0x02)continue;
    00CF9 3002      CPI	R16,2
    00CFA F009      BEQ	0x0CFC
    00CFB C038      RJMP	0x0D34
(0073)       
(0074)     for(k=1;k<5;k++)
    00CFC E041      LDI	R20,1
    00CFD C00F      RJMP	0x0D0D
(0075)     {
(0076)         send_buf[k]=USART_Receive1(); 
    00CFE DFDF      RCALL	_USART_Receive1
    00CFF EF83      LDI	R24,0xF3
    00D00 E099      LDI	R25,0x9
    00D01 2FE4      MOV	R30,R20
    00D02 27FF      CLR	R31
    00D03 0FE8      ADD	R30,R24
    00D04 1FF9      ADC	R31,R25
    00D05 8300      ST	Z,R16
(0077)         if(uart_timeout_flag1==1)
    00D06 9180 0C61 LDS	R24,uart_timeout_flag1
    00D08 3081      CPI	R24,1
    00D09 F411      BNE	0x0D0C
(0078)         {  
(0079) //          ComSendResponse(send_buf[3],EXE_TIME_OUT,1);
(0080)           return FAILURE;
    00D0A E001      LDI	R16,1
    00D0B C029      RJMP	0x0D35
    00D0C 9543      INC	R20
    00D0D 3045      CPI	R20,5
    00D0E F378      BCS	0x0CFE
(0081)         }  
(0082)     }
(0083)     
(0084)     send_len=send_buf[4];
    00D0F 9020 09F7 LDS	R2,send_buf+4
    00D11 2433      CLR	R3
    00D12 9230 079A STS	send_len+1,R3
    00D14 9220 0799 STS	send_len,R2
(0085)     
(0086)     for(k=5;k<send_len+6;k++)
    00D16 E045      LDI	R20,5
    00D17 C010      RJMP	0x0D28
(0087)     {
(0088)         send_buf[k]=USART_Receive1(); 
    00D18 DFC5      RCALL	_USART_Receive1
    00D19 2EA0      MOV	R10,R16
    00D1A EF83      LDI	R24,0xF3
    00D1B E099      LDI	R25,0x9
    00D1C 2FE4      MOV	R30,R20
    00D1D 27FF      CLR	R31
    00D1E 0FE8      ADD	R30,R24
    00D1F 1FF9      ADC	R31,R25
    00D20 82A0      ST	Z,R10
(0089)         if(uart_timeout_flag1==1)
    00D21 9180 0C61 LDS	R24,uart_timeout_flag1
    00D23 3081      CPI	R24,1
    00D24 F411      BNE	0x0D27
(0090)         {  
(0091) //           ComSendResponse(send_buf[3],EXE_TIME_OUT,1);
(0092)            return FAILURE; 
    00D25 E001      LDI	R16,1
    00D26 C00E      RJMP	0x0D35
    00D27 9543      INC	R20
    00D28 9180 0799 LDS	R24,send_len
    00D2A 9190 079A LDS	R25,send_len+1
    00D2C 9606      ADIW	R24,6
    00D2D 2E24      MOV	R2,R20
    00D2E 2433      CLR	R3
    00D2F 1628      CP	R2,R24
    00D30 0639      CPC	R3,R25
    00D31 F330      BCS	0x0D18
(0093)         }  
(0094)     }  
(0095)     return SUCCESS;
    00D32 2700      CLR	R16
    00D33 C001      RJMP	0x0D35
    00D34 CFC1      RJMP	0x0CF6
    00D35 9149      LD	R20,Y+
    00D36 90A9      LD	R10,Y+
    00D37 9508      RET
_outStrtoCom:
  i                    --> R10
  length               --> R12
  pData                --> R14
    00D38 940E 21D5 CALL	push_xgset00FC
    00D3A 0169      MOVW	R12,R18
    00D3B 0178      MOVW	R14,R16
(0096) 
(0097)   }  
(0098)   return FAILURE;
(0099) } 
(0100) 
(0101) //向串口输出数据串
(0102) void outStrtoCom(unsigned char *pData,unsigned int length)
(0103) {
(0104) 	unsigned char i;
(0105) 	for(i=0;i<length;i++)
    00D3C 24AA      CLR	R10
    00D3D C007      RJMP	0x0D45
(0106) 		put_c1(pData[i]);
    00D3E 2DEA      MOV	R30,R10
    00D3F 27FF      CLR	R31
    00D40 0DEE      ADD	R30,R14
    00D41 1DFF      ADC	R31,R15
    00D42 8100      LD	R16,Z
    00D43 DF96      RCALL	_put_c1
    00D44 94A3      INC	R10
    00D45 2C2A      MOV	R2,R10
    00D46 2433      CLR	R3
    00D47 142C      CP	R2,R12
    00D48 043D      CPC	R3,R13
    00D49 F3A0      BCS	0x0D3E
    00D4A 940C 21BF JMP	pop_xgset00FC
_MAC_CalCrc16:
  i                    --> R10
  j                    --> R22
  value_CRC            --> R20
  ucLen                --> R12
  pCrc16               --> R18
  pInput               --> R16
    00D4C 940E 220C CALL	push_xgsetF03C
    00D4E 84C8      LDD	R12,Y+8
(0107) }
(0108) /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0109) 
(0110) /*-----------------------------------------------
(0111) 函数名： 　MAC_CalCrc16
(0112) 功  能：  以字节为单位计算len个数的CRC16校验和，首字节
(0113) 		  为pInput[0].
(0114) 参  数：  pInput			为需要计算CRC的数据的指针
(0115)           pCrc16			为指向存储CRC值的数组
(0116)           ucLen				为需要计算CRC的数据长度
(0117) 返回值：　无　
(0118) 作  者：　lz
(0119) 日  期：  2008-06-18
(0120) ------------------------------------------------*/
(0121) void MAC_CalCrc16(unsigned char  *pInput, unsigned char * pCrc16, unsigned char ucLen)   
(0122) {   
(0123)     unsigned int value_CRC=0xffff;
    00D4F EF4F      LDI	R20,0xFF
    00D50 EF5F      LDI	R21,0xFF
(0124)     unsigned char i;
(0125)     unsigned char j;
(0126) 
(0127) 	for( i=0; i<ucLen; i++ )
    00D51 24AA      CLR	R10
    00D52 C01B      RJMP	0x0D6E
(0128) 	{	
(0129) 		value_CRC = value_CRC ^((unsigned int)pInput[i]);
    00D53 2DEA      MOV	R30,R10
    00D54 27FF      CLR	R31
    00D55 0FE0      ADD	R30,R16
    00D56 1FF1      ADC	R31,R17
    00D57 8020      LD	R2,Z
    00D58 2433      CLR	R3
    00D59 2542      EOR	R20,R2
    00D5A 2553      EOR	R21,R3
(0130) 		for (j = 0; j < 8; j++)
    00D5B 2766      CLR	R22
    00D5C C00E      RJMP	0x0D6B
(0131) 		{
(0132) 			if (value_CRC & 0x0001)
    00D5D FF40      SBRS	R20,0
    00D5E C009      RJMP	0x0D68
(0133) 			{
(0134) 				value_CRC = (value_CRC >> 1) ^ 0x8408;
    00D5F E088      LDI	R24,0x8
    00D60 E894      LDI	R25,0x84
    00D61 011A      MOVW	R2,R20
    00D62 9436      LSR	R3
    00D63 9427      ROR	R2
    00D64 2628      EOR	R2,R24
    00D65 2639      EOR	R3,R25
    00D66 01A1      MOVW	R20,R2
(0135) 			}
    00D67 C002      RJMP	0x0D6A
(0136) 			else
(0137) 			{
(0138) 				value_CRC = (value_CRC >> 1);
    00D68 9556      LSR	R21
    00D69 9547      ROR	R20
    00D6A 9563      INC	R22
    00D6B 3068      CPI	R22,0x8
    00D6C F380      BCS	0x0D5D
    00D6D 94A3      INC	R10
    00D6E 14AC      CP	R10,R12
    00D6F F318      BCS	0x0D53
(0139) 			}
(0140) 		}
(0141) 	}
(0142) 	
(0143)   	pCrc16[0] = (unsigned char)(value_CRC>>8);
    00D70 011A      MOVW	R2,R20
    00D71 2C23      MOV	R2,R3
    00D72 2433      CLR	R3
    00D73 01F9      MOVW	R30,R18
    00D74 8220      ST	Z,R2
(0144) 	pCrc16[1] = (unsigned char)(value_CRC);
    00D75 8341      STD	Z+1,R20
(0145) 	
(0146) 	return;
    00D76 940C 2215 JMP	pop_xgsetF03C
_MAC_CheckCrc16:
  CrcChk               --> Y,+1
  ucLen                --> R20
  pInput               --> R10
    00D78 940E 21DC CALL	push_xgset300C
    00D7A 2F42      MOV	R20,R18
    00D7B 0158      MOVW	R10,R16
    00D7C 9723      SBIW	R28,3
(0147) }
(0148) 
(0149) 
(0150) /*-----------------------------------------------
(0151) 函数名：	MAC_CheckCrc16
(0152) 功  能：  校验一帧长度为ucLen的数据，pInput[ucLen]
(0153)           pInput[ucLen+1]是这帧数据的校验字节。
(0154) 参  数：  pInput      校验帧的首地址
(0155)           ucLen 　　　需校验的数据帧的长度 
(0156) 返回值：　0表示校验通过，1表示校验失败　
(0157) 作  者：　lz
(0158) 日  期：  2008-06-18
(0159) ------------------------------------------------*/
(0160) unsigned char MAC_CheckCrc16(unsigned char * pInput, unsigned char ucLen)
(0161) {
(0162) 	unsigned char CrcChk[2];
(0163) 
(0164) 	MAC_CalCrc16(pInput,CrcChk,ucLen-2);
    00D7D 2F84      MOV	R24,R20
    00D7E 5082      SUBI	R24,2
    00D7F 8388      ST	Y,R24
    00D80 019E      MOVW	R18,R28
    00D81 5F2F      SUBI	R18,0xFF
    00D82 4F3F      SBCI	R19,0xFF
    00D83 0185      MOVW	R16,R10
    00D84 DFC7      RCALL	_MAC_CalCrc16
(0165) 
(0166) 	if (CrcChk[0]!=pInput[ucLen-2] || CrcChk[1]!=pInput[ucLen-1])
    00D85 2FE4      MOV	R30,R20
    00D86 27FF      CLR	R31
    00D87 9732      SBIW	R30,2
    00D88 0DEA      ADD	R30,R10
    00D89 1DFB      ADC	R31,R11
    00D8A 8020      LD	R2,Z
    00D8B 8039      LDD	R3,Y+1
    00D8C 1432      CP	R3,R2
    00D8D F449      BNE	0x0D97
    00D8E 2FE4      MOV	R30,R20
    00D8F 27FF      CLR	R31
    00D90 9731      SBIW	R30,1
    00D91 0DEA      ADD	R30,R10
    00D92 1DFB      ADC	R31,R11
    00D93 8020      LD	R2,Z
    00D94 803A      LDD	R3,Y+2
    00D95 1432      CP	R3,R2
    00D96 F011      BEQ	0x0D99
(0167) 	{
(0168) 		return FAILURE; // crc16 fail!
    00D97 E001      LDI	R16,1
    00D98 C001      RJMP	0x0D9A
(0169) 	}
(0170) 	
(0171) 	return SUCCESS; // crc16 ok!
    00D99 2700      CLR	R16
    00D9A 9623      ADIW	R28,3
    00D9B 940C 21E1 JMP	pop_xgset300C
_ComSendResponse:
  crc_buf              --> Y,+1
  LenData              --> R20
  statusdata           --> R12
  CmdData              --> R10
    00D9D 940E 21FE CALL	push_xgset303C
    00D9F 2EC2      MOV	R12,R18
    00DA0 2EA0      MOV	R10,R16
    00DA1 9723      SBIW	R28,3
    00DA2 8549      LDD	R20,Y+9
(0172) }
(0173) /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
(0174) //发送命令响应结果
(0175) void ComSendResponse(unsigned char CmdData,unsigned char statusdata,unsigned char LenData)
(0176) {
(0177)     unsigned char crc_buf[2];
(0178)     
(0179)     receive_buf[5]= statusdata;
    00DA3 92C0 07A0 STS	receive_buf+5,R12
(0180) 
(0181)     receive_buf[4]=LenData;
    00DA5 9340 079F STS	receive_buf+4,R20
(0182) 
(0183)     receive_buf[3]=CmdData;
    00DA7 92A0 079E STS	receive_buf+3,R10
(0184)     
(0185)     receive_buf[1]=0x00;receive_buf[2]=0x01;
    00DA9 2422      CLR	R2
    00DAA 9220 079C STS	receive_buf+1,R2
    00DAC E081      LDI	R24,1
    00DAD 9380 079D STS	receive_buf+2,R24
(0186) 
(0187)     receive_buf[0]=0x02;
    00DAF E082      LDI	R24,2
    00DB0 9380 079B STS	receive_buf,R24
(0188)     
(0189)     MAC_CalCrc16(receive_buf, crc_buf,LenData+5); 
    00DB2 2F84      MOV	R24,R20
    00DB3 5F8B      SUBI	R24,0xFB
    00DB4 8388      ST	Y,R24
    00DB5 019E      MOVW	R18,R28
    00DB6 5F2F      SUBI	R18,0xFF
    00DB7 4F3F      SBCI	R19,0xFF
    00DB8 E90B      LDI	R16,0x9B
    00DB9 E017      LDI	R17,7
    00DBA DF91      RCALL	_MAC_CalCrc16
(0190)     
(0191)     receive_buf[LenData+5]=crc_buf[0];
    00DBB EA80      LDI	R24,0xA0
    00DBC E097      LDI	R25,7
    00DBD 2FE4      MOV	R30,R20
    00DBE 27FF      CLR	R31
    00DBF 0FE8      ADD	R30,R24
    00DC0 1FF9      ADC	R31,R25
    00DC1 8029      LDD	R2,Y+1
    00DC2 8220      ST	Z,R2
(0192)     
(0193)     receive_buf[LenData+6]=crc_buf[1];//数据包尾 
    00DC3 EA81      LDI	R24,0xA1
    00DC4 E097      LDI	R25,7
    00DC5 2FE4      MOV	R30,R20
    00DC6 27FF      CLR	R31
    00DC7 0FE8      ADD	R30,R24
    00DC8 1FF9      ADC	R31,R25
    00DC9 802A      LDD	R2,Y+2
    00DCA 8220      ST	Z,R2
(0194)     
(0195)     init_USART1(); 
    00DCB DF02      RCALL	_init_USART1
(0196)     outStrtoCom(receive_buf,LenData+7); 
    00DCC 2F24      MOV	R18,R20
    00DCD 2733      CLR	R19
    00DCE 5F29      SUBI	R18,0xF9
    00DCF 4F3F      SBCI	R19,0xFF
    00DD0 E90B      LDI	R16,0x9B
    00DD1 E017      LDI	R17,7
    00DD2 DF65      RCALL	_outStrtoCom
(0197)    
(0198)     return;
    00DD3 9623      ADIW	R28,3
    00DD4 940C 2205 JMP	pop_xgset303C
_EEPROM_write:
  data                 --> R10
  addr_l               --> R14
  addr_h               --> R12
    00DD6 940E 21D5 CALL	push_xgset00FC
    00DD8 0179      MOVW	R14,R18
    00DD9 0168      MOVW	R12,R16
    00DDA 80AE      LDD	R10,Y+6
    00DDB 80BF      LDD	R11,Y+7
FILE: E:\ICCDemo\Temp_Control\temp_control\eeprom.c
(0001) #include<iom128v.h>
(0002) #include "eeprom.h"
(0003) #include "delay.h"
(0004) 
(0005) //使用全非中断方式读写。温控数据在保存时候一次性写入。状态数据执行时写入，写入量小不会影响速度
(0006) void EEPROM_write(uint addr_h,uint addr_l,uint data){
(0007)    SREG&=0x7F;//关中断
    00DDC B78F      IN	R24,0x3F
    00DDD 778F      ANDI	R24,0x7F
    00DDE BF8F      OUT	0x3F,R24
(0008)     while(EECR & (1<<EEWE)){
    00DDF 99E1      SBIC	0x1C,1
    00DE0 CFFE      RJMP	0x0DDF
(0009) 	 			 
(0010) 	 } 
(0011) 	  EEARL=addr_l;
    00DE1 BAEE      OUT	0x1E,R14
(0012) 	 EEARH=addr_h;
    00DE2 BACF      OUT	0x1F,R12
(0013) 	 EEDR=data;
    00DE3 BAAD      OUT	0x1D,R10
(0014) 	 EECR|=(1<<EEMWE);
    00DE4 9AE2      SBI	0x1C,2
(0015) 	 EECR|=(1<<EEWE);
    00DE5 9AE1      SBI	0x1C,1
(0016) 	  delay_us(1);
    00DE6 E001      LDI	R16,1
    00DE7 E010      LDI	R17,0
    00DE8 940E 03B5 CALL	_delay_us
(0017) 	 SREG|=0x80;//开中断
    00DEA 9478      BSET	7
(0018) 	 return;
    00DEB 940C 21BF JMP	pop_xgset00FC
_EEPROM_read:
  data                 --> R10
  addr_l               --> R12
  addr_h               --> R10
    00DED 940E 21D7 CALL	push_xgset003C
    00DEF 0169      MOVW	R12,R18
    00DF0 0158      MOVW	R10,R16
(0019) }
(0020) uint EEPROM_read(uint addr_h,uint addr_l){
(0021)    uint data;
(0022)    SREG&=0x7F;//关中断
    00DF1 B78F      IN	R24,0x3F
    00DF2 778F      ANDI	R24,0x7F
    00DF3 BF8F      OUT	0x3F,R24
(0023)     while(EECR & (1<<EEWE)){ 			 
    00DF4 99E1      SBIC	0x1C,1
    00DF5 CFFE      RJMP	0x0DF4
(0024) 	 }
(0025) 	EEARL=addr_l;
    00DF6 BACE      OUT	0x1E,R12
(0026) 	 EEARH=addr_h;
    00DF7 BAAF      OUT	0x1F,R10
(0027) 	 
(0028) 	 EECR|=(1<<EERE);
    00DF8 9AE0      SBI	0x1C,0
(0029) 	 delay_us(1);
    00DF9 E001      LDI	R16,1
    00DFA E010      LDI	R17,0
    00DFB 940E 03B5 CALL	_delay_us
(0030) 	 data=EEDR;
    00DFD B2AD      IN	R10,0x1D
    00DFE 24BB      CLR	R11
(0031) 	 SREG|=0x80;//开中断
    00DFF 9478      BSET	7
(0032) 	 return data;
    00E00 0185      MOVW	R16,R10
    00E01 940C 21BA JMP	pop_xgset003C
_pageTime:
  y                    --> R10
    00E03 92AA      ST	-Y,R10
    00E04 92BA      ST	-Y,R11
    00E05 0158      MOVW	R10,R16
    00E06 9722      SBIW	R28,2
FILE: E:\ICCDemo\Temp_Control\temp_control\pages.c
(0001) #include<iom128v.h>
(0002) #include "main.h"
(0003) #include "lcd.h"
(0004) #include "time1307.h"
(0005) #include "timertask.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "temp.h"
(0009) #include "eeprom.h"
(0010) //************************
(0011) // 所有界面信息在这里,用到全局变量， 
(0012) // unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0013) // unsigned int pageParam[5];//传递参数。界面间参数暂存
(0014) // unsigned int prePageNum;
(0015) //************************
(0016) 
(0017) //用于显第一行日期信息，其中Page1、Page3 、Page8使用，
(0018) //由定时器触发该函数，进入这三个界面是启动定时器，退出时关闭
(0019) void pageTime(uint y){
(0020)                 //关定时器
(0021)    lcd_write_str(0,y,"时间:");
    00E07 E88E      LDI	R24,0x8E
    00E08 E097      LDI	R25,7
    00E09 8399      STD	Y+1,R25
    00E0A 8388      ST	Y,R24
    00E0B 2D2A      MOV	R18,R10
    00E0C 2700      CLR	R16
    00E0D 940E 0610 CALL	_lcd_write_str
(0022)    showTime_page(y);
    00E0F 0185      MOVW	R16,R10
    00E10 940E 2103 CALL	_showTime_page
    00E12 9622      ADIW	R28,2
    00E13 90B9      LD	R11,Y+
    00E14 90A9      LD	R10,Y+
    00E15 9508      RET
_pageTime2:
  y                    --> R10
    00E16 92AA      ST	-Y,R10
    00E17 92BA      ST	-Y,R11
    00E18 0158      MOVW	R10,R16
(0023)                  //开定时器 
(0024) }
(0025) void pageTime2(uint y){
(0026)                 //关定时器
(0027)    //lcd_write_str(0,y,"时间:");
(0028)    showTime_page(y);
    00E19 0185      MOVW	R16,R10
    00E1A 940E 2103 CALL	_showTime_page
    00E1C 90B9      LD	R11,Y+
    00E1D 90A9      LD	R10,Y+
    00E1E 9508      RET
_page1:
  cur                  --> R20
  keyV                 --> R10
  y                    --> R22
  i                    --> R10
    00E1F 940E 220C CALL	push_xgsetF03C
    00E21 9722      SBIW	R28,2
(0029)                  //开定时器 
(0030) }
(0031) //page1,首页的界面
(0032) void page1(void){
(0033)    uint cur=0;
(0034)    uchar keyV;
(0035)    uint i;//用于循环
(0036)    uint y;//确定是那个半屏幕
(0037)    prePageNum=1;//首页不会再有上一界面，这里设置。虽然违反规则
    00E22 E081      LDI	R24,1
    00E23 E090      LDI	R25,0
    00E24 9390 0C4C STS	prePageNum+1,R25
    00E26 9380 0C4B STS	prePageNum,R24
(0038)    //初始化起始选择
(0039)     lcd_write_str(1,1," T1:");
    00E28 E889      LDI	R24,0x89
    00E29 E097      LDI	R25,7
    00E2A 8399      STD	Y+1,R25
    00E2B 8388      ST	Y,R24
    00E2C E021      LDI	R18,1
    00E2D E001      LDI	R16,1
    00E2E 940E 0610 CALL	_lcd_write_str
(0040)     lcd_write_str(6,1," T2:");
    00E30 E884      LDI	R24,0x84
    00E31 E097      LDI	R25,7
    00E32 8399      STD	Y+1,R25
    00E33 8388      ST	Y,R24
    00E34 E021      LDI	R18,1
    00E35 E006      LDI	R16,6
    00E36 940E 0610 CALL	_lcd_write_str
(0041)     lcd_write_str(1,2," T3:");
    00E38 E78F      LDI	R24,0x7F
    00E39 E097      LDI	R25,7
    00E3A 8399      STD	Y+1,R25
    00E3B 8388      ST	Y,R24
    00E3C E022      LDI	R18,2
    00E3D E001      LDI	R16,1
    00E3E 940E 0610 CALL	_lcd_write_str
(0042)     lcd_write_str(6,2," T4:");
    00E40 E78A      LDI	R24,0x7A
    00E41 E097      LDI	R25,7
    00E42 8399      STD	Y+1,R25
    00E43 8388      ST	Y,R24
    00E44 E022      LDI	R18,2
    00E45 E006      LDI	R16,6
    00E46 940E 0610 CALL	_lcd_write_str
(0043) 
(0044) 	
(0045) 	lcd_write_str(1,3,"开始    ");
    00E48 E781      LDI	R24,0x71
    00E49 E097      LDI	R25,7
    00E4A 8399      STD	Y+1,R25
    00E4B 8388      ST	Y,R24
    00E4C E023      LDI	R18,3
    00E4D E001      LDI	R16,1
    00E4E 940E 0610 CALL	_lcd_write_str
(0046)     lcd_write_str_con(3,"停止    ");
    00E50 E628      LDI	R18,0x68
    00E51 E037      LDI	R19,7
    00E52 E003      LDI	R16,3
    00E53 940E 065A CALL	_lcd_write_str_con
(0047) 	lcd_write_str_con(3,"设置");
    00E55 E623      LDI	R18,0x63
    00E56 E037      LDI	R19,7
    00E57 E003      LDI	R16,3
    00E58 940E 065A CALL	_lcd_write_str_con
(0048) 	lcd_write_str(1,3,"开始    ");
    00E5A E781      LDI	R24,0x71
    00E5B E097      LDI	R25,7
    00E5C 8399      STD	Y+1,R25
    00E5D 8388      ST	Y,R24
    00E5E E023      LDI	R18,3
    00E5F E001      LDI	R16,1
    00E60 940E 0610 CALL	_lcd_write_str
(0049)     lcd_write_str_con(3,"停止    ");
    00E62 E628      LDI	R18,0x68
    00E63 E037      LDI	R19,7
    00E64 E003      LDI	R16,3
    00E65 940E 065A CALL	_lcd_write_str_con
(0050) 	lcd_write_str_con(3,"设置"); 
    00E67 E623      LDI	R18,0x63
    00E68 E037      LDI	R19,7
    00E69 E003      LDI	R16,3
    00E6A 940E 065A CALL	_lcd_write_str_con
(0051) 	cur=0;
    00E6C 2744      CLR	R20
    00E6D 2755      CLR	R21
(0052) 	Set_White(2,1,3);
    00E6E E083      LDI	R24,3
    00E6F 8388      ST	Y,R24
    00E70 E021      LDI	R18,1
    00E71 E002      LDI	R16,2
    00E72 940E 0835 CALL	_Set_White
    00E74 C320      RJMP	0x1195
(0053) 	while(1){
(0054) 	 pageTime(0);
    00E75 2700      CLR	R16
    00E76 2711      CLR	R17
    00E77 DF8B      RCALL	_pageTime
(0055) 	for(i=0;i<4;i++){
    00E78 24AA      CLR	R10
    00E79 24BB      CLR	R11
    00E7A C08C      RJMP	0x0F07
(0056) 	  if(i==0){
    00E7B 20AA      TST	R10
    00E7C F449      BNE	0x0E86
    00E7D 20BB      TST	R11
    00E7E F439      BNE	0x0E86
(0057) 	    y=1;
    00E7F E061      LDI	R22,1
    00E80 E070      LDI	R23,0
(0058) 	    lcd_write_pos(3,1);
    00E81 E021      LDI	R18,1
    00E82 E003      LDI	R16,3
    00E83 940E 05CC CALL	_lcd_write_pos
(0059) 	  }else if(i==1){
    00E85 C023      RJMP	0x0EA9
    00E86 01C5      MOVW	R24,R10
    00E87 3081      CPI	R24,1
    00E88 E0E0      LDI	R30,0
    00E89 079E      CPC	R25,R30
    00E8A F439      BNE	0x0E92
(0060) 	    y=1;
    00E8B E061      LDI	R22,1
    00E8C E070      LDI	R23,0
(0061) 	    lcd_write_pos(8,1);
    00E8D E021      LDI	R18,1
    00E8E E008      LDI	R16,0x8
    00E8F 940E 05CC CALL	_lcd_write_pos
(0062) 	  }else if(i==2){
    00E91 C017      RJMP	0x0EA9
    00E92 01C5      MOVW	R24,R10
    00E93 3082      CPI	R24,2
    00E94 E0E0      LDI	R30,0
    00E95 079E      CPC	R25,R30
    00E96 F439      BNE	0x0E9E
(0063) 	    y=2;
    00E97 E062      LDI	R22,2
    00E98 E070      LDI	R23,0
(0064) 	    lcd_write_pos(3,2);
    00E99 E022      LDI	R18,2
    00E9A E003      LDI	R16,3
    00E9B 940E 05CC CALL	_lcd_write_pos
(0065) 	  }else if(i==3){
    00E9D C00B      RJMP	0x0EA9
    00E9E 01C5      MOVW	R24,R10
    00E9F 3083      CPI	R24,3
    00EA0 E0E0      LDI	R30,0
    00EA1 079E      CPC	R25,R30
    00EA2 F431      BNE	0x0EA9
(0066) 	    y=2;
    00EA3 E062      LDI	R22,2
    00EA4 E070      LDI	R23,0
(0067) 	    lcd_write_pos(8,2);
    00EA5 E022      LDI	R18,2
    00EA6 E008      LDI	R16,0x8
    00EA7 940E 05CC CALL	_lcd_write_pos
(0068) 	  }
(0069) 	   switch(temps[i].flag){
    00EA9 E00A      LDI	R16,0xA
    00EAA E011      LDI	R17,1
    00EAB 0195      MOVW	R18,R10
    00EAC 940E 21AA CALL	empy16s
    00EAE E184      LDI	R24,0x14
    00EAF E091      LDI	R25,1
    00EB0 01F8      MOVW	R30,R16
    00EB1 0FE8      ADD	R30,R24
    00EB2 1FF9      ADC	R31,R25
    00EB3 80C0      LD	R12,Z
    00EB4 80D1      LDD	R13,Z+1
    00EB5 20CC      TST	R12
    00EB6 F411      BNE	0x0EB9
    00EB7 20DD      TST	R13
    00EB8 F0D1      BEQ	0x0ED3
    00EB9 01C6      MOVW	R24,R12
    00EBA 3081      CPI	R24,1
    00EBB E0E0      LDI	R30,0
    00EBC 079E      CPC	R25,R30
    00EBD F0D9      BEQ	0x0ED9
    00EBE 3082      CPI	R24,2
    00EBF E0E0      LDI	R30,0
    00EC0 079E      CPC	R25,R30
    00EC1 F129      BEQ	0x0EE7
    00EC2 3083      CPI	R24,3
    00EC3 E0E0      LDI	R30,0
    00EC4 079E      CPC	R25,R30
    00EC5 F139      BEQ	0x0EED
    00EC6 3084      CPI	R24,4
    00EC7 E0E0      LDI	R30,0
    00EC8 079E      CPC	R25,R30
    00EC9 F149      BEQ	0x0EF3
    00ECA 3085      CPI	R24,5
    00ECB E0E0      LDI	R30,0
    00ECC 079E      CPC	R25,R30
    00ECD F159      BEQ	0x0EF9
    00ECE 3086      CPI	R24,6
    00ECF E0E0      LDI	R30,0
    00ED0 079E      CPC	R25,R30
    00ED1 F169      BEQ	0x0EFF
    00ED2 C031      RJMP	0x0F04
(0070) 	     case 0:
(0071) 		   lcd_write_str_con(y,"停止");
    00ED3 E52E      LDI	R18,0x5E
    00ED4 E037      LDI	R19,7
    00ED5 2F06      MOV	R16,R22
    00ED6 940E 065A CALL	_lcd_write_str_con
(0072) 		   break;
    00ED8 C02B      RJMP	0x0F04
(0073) 		 case 1:
(0074) 		   lcd_write_str_con(y,"150");
    00ED9 E52A      LDI	R18,0x5A
    00EDA E037      LDI	R19,7
    00EDB 2F06      MOV	R16,R22
    00EDC 940E 065A CALL	_lcd_write_str_con
(0075) 		   lcd_write_char_con(y,0xA1);
    00EDE EA21      LDI	R18,0xA1
    00EDF 2F06      MOV	R16,R22
    00EE0 940E 05B8 CALL	_lcd_write_char_con
(0076)           lcd_write_char_con(y,0xE6);
    00EE2 EE26      LDI	R18,0xE6
    00EE3 2F06      MOV	R16,R22
    00EE4 940E 05B8 CALL	_lcd_write_char_con
(0077) 		   break;
    00EE6 C01D      RJMP	0x0F04
(0078) 		 case 2:
(0079) 		   lcd_write_str_con(y,"故障");
    00EE7 E525      LDI	R18,0x55
    00EE8 E037      LDI	R19,7
    00EE9 2F06      MOV	R16,R22
    00EEA 940E 065A CALL	_lcd_write_str_con
(0080) 		   break;
    00EEC C017      RJMP	0x0F04
(0081) 		 case 3:
(0082) 		   lcd_write_str_con(y,"暂停");
    00EED E520      LDI	R18,0x50
    00EEE E037      LDI	R19,7
    00EEF 2F06      MOV	R16,R22
    00EF0 940E 065A CALL	_lcd_write_str_con
(0083) 		   break;
    00EF2 C011      RJMP	0x0F04
(0084) 		 case 4:
(0085) 		   lcd_write_str_con(y,"结束");
    00EF3 E42B      LDI	R18,0x4B
    00EF4 E037      LDI	R19,7
    00EF5 2F06      MOV	R16,R22
    00EF6 940E 065A CALL	_lcd_write_str_con
(0086) 		   break;
    00EF8 C00B      RJMP	0x0F04
(0087) 		 case 5:
(0088) 		   lcd_write_str_con(y,"等待");
    00EF9 E426      LDI	R18,0x46
    00EFA E037      LDI	R19,7
    00EFB 2F06      MOV	R16,R22
    00EFC 940E 065A CALL	_lcd_write_str_con
(0089) 		   break;
    00EFE C005      RJMP	0x0F04
(0090) 		 case 6:
(0091) 		   lcd_write_str_con(y,"暂停");
    00EFF E520      LDI	R18,0x50
    00F00 E037      LDI	R19,7
    00F01 2F06      MOV	R16,R22
    00F02 940E 065A CALL	_lcd_write_str_con
    00F04 01C5      MOVW	R24,R10
    00F05 9601      ADIW	R24,1
    00F06 015C      MOVW	R10,R24
    00F07 01C5      MOVW	R24,R10
    00F08 3084      CPI	R24,4
    00F09 E0E0      LDI	R30,0
    00F0A 079E      CPC	R25,R30
    00F0B F408      BCC	0x0F0D
    00F0C CF6E      RJMP	0x0E7B
(0092) 		   break;
(0093) 		   break;
(0094) 		 default:
(0095) 		   break;
(0096) 	   }
(0097) 	}
(0098) 	 keyV=KeyScan_once();
    00F0D 940E 04AD CALL	_KeyScan_once
    00F0F 2EA0      MOV	R10,R16
(0099) 	 if(keyV=='a'){
    00F10 3601      CPI	R16,0x61
    00F11 F009      BEQ	0x0F13
    00F12 C048      RJMP	0x0F5B
(0100) 	      //pageNum=8;//跳转到设置时间的界面
(0101) 		   pageNum=8;
    00F13 E088      LDI	R24,0x8
    00F14 E090      LDI	R25,0
    00F15 9390 0C58 STS	pageNum+1,R25
    00F17 9380 0C57 STS	pageNum,R24
(0102) 	   switch(cur){
    00F19 3040      CPI	R20,0
    00F1A 0745      CPC	R20,R21
    00F1B F0A9      BEQ	0x0F31
    00F1C 3041      CPI	R20,1
    00F1D E0E0      LDI	R30,0
    00F1E 075E      CPC	R21,R30
    00F1F F0C1      BEQ	0x0F38
    00F20 3042      CPI	R20,2
    00F21 E0E0      LDI	R30,0
    00F22 075E      CPC	R21,R30
    00F23 F0D9      BEQ	0x0F3F
    00F24 3043      CPI	R20,3
    00F25 E0E0      LDI	R30,0
    00F26 075E      CPC	R21,R30
    00F27 F0F1      BEQ	0x0F46
    00F28 3045      CPI	R20,5
    00F29 E0E0      LDI	R30,0
    00F2A 075E      CPC	R21,R30
    00F2B F109      BEQ	0x0F4D
    00F2C 3046      CPI	R20,6
    00F2D E0E0      LDI	R30,0
    00F2E 075E      CPC	R21,R30
    00F2F F121      BEQ	0x0F54
    00F30 C265      RJMP	0x1196
(0103) 		 case 0: 
(0104) 		    Set_White_off(2,1,3);
    00F31 E083      LDI	R24,3
    00F32 8388      ST	Y,R24
    00F33 E021      LDI	R18,1
    00F34 E002      LDI	R16,2
    00F35 940E 07C5 CALL	_Set_White_off
(0105) 		    break;
    00F37 C25E      RJMP	0x1196
(0106) 		 case 1:
(0107) 		   Set_White_off(7,1,8);
    00F38 E088      LDI	R24,0x8
    00F39 8388      ST	Y,R24
    00F3A E021      LDI	R18,1
    00F3B E007      LDI	R16,7
    00F3C 940E 07C5 CALL	_Set_White_off
(0108) 		   break;
    00F3E C257      RJMP	0x1196
(0109) 		 case 2:
(0110) 		  Set_White_off(2,2,3);
    00F3F E083      LDI	R24,3
    00F40 8388      ST	Y,R24
    00F41 E022      LDI	R18,2
    00F42 E002      LDI	R16,2
    00F43 940E 07C5 CALL	_Set_White_off
(0111) 		  break;
    00F45 C250      RJMP	0x1196
(0112) 		 case 3:
(0113) 		   Set_White_off(7,2,8);
    00F46 E088      LDI	R24,0x8
    00F47 8388      ST	Y,R24
    00F48 E022      LDI	R18,2
    00F49 E007      LDI	R16,7
    00F4A 940E 07C5 CALL	_Set_White_off
(0114) 		    break;
    00F4C C249      RJMP	0x1196
(0115) 		case 5:
(0116) 		    Set_White_off(6,3,7);
    00F4D E087      LDI	R24,7
    00F4E 8388      ST	Y,R24
    00F4F E023      LDI	R18,3
    00F50 E006      LDI	R16,6
    00F51 940E 07C5 CALL	_Set_White_off
(0117) 		    break;
    00F53 C242      RJMP	0x1196
(0118) 		 case 6:
(0119) 		   Set_White_off(10,3,11);
    00F54 E08B      LDI	R24,0xB
    00F55 8388      ST	Y,R24
    00F56 E023      LDI	R18,3
    00F57 E00A      LDI	R16,0xA
    00F58 940E 07C5 CALL	_Set_White_off
(0120) 		    break;
(0121) 		  default:
(0122) 		   break;
(0123) 		 }
(0124) 	   return ;
    00F5A C23B      RJMP	0x1196
(0125) 	}else if(keyV=='d'){
    00F5B 2D8A      MOV	R24,R10
    00F5C 3684      CPI	R24,0x64
    00F5D F009      BEQ	0x0F5F
    00F5E C04C      RJMP	0x0FAB
(0126) 	     switch(cur){
    00F5F 3040      CPI	R20,0
    00F60 0745      CPC	R20,R21
    00F61 F069      BEQ	0x0F6F
    00F62 3041      CPI	R20,1
    00F63 E0E0      LDI	R30,0
    00F64 075E      CPC	R21,R30
    00F65 F0C1      BEQ	0x0F7E
    00F66 3042      CPI	R20,2
    00F67 E0E0      LDI	R30,0
    00F68 075E      CPC	R21,R30
    00F69 F119      BEQ	0x0F8D
    00F6A 3043      CPI	R20,3
    00F6B E0E0      LDI	R30,0
    00F6C 075E      CPC	R21,R30
    00F6D F171      BEQ	0x0F9C
    00F6E C226      RJMP	0x1195
(0127) 		  case 0:
(0128) 		   Set_White_off(2,1,3);
    00F6F E083      LDI	R24,3
    00F70 8388      ST	Y,R24
    00F71 E021      LDI	R18,1
    00F72 E002      LDI	R16,2
    00F73 940E 07C5 CALL	_Set_White_off
(0129) 		   Set_White(2,2,3);
    00F75 E083      LDI	R24,3
    00F76 8388      ST	Y,R24
    00F77 E022      LDI	R18,2
    00F78 E002      LDI	R16,2
    00F79 940E 0835 CALL	_Set_White
(0130) 		   cur=2;
    00F7B E042      LDI	R20,2
    00F7C E050      LDI	R21,0
(0131) 		   break;
    00F7D C217      RJMP	0x1195
(0132) 		  case 1:
(0133) 		   Set_White_off(7,1,8);
    00F7E E088      LDI	R24,0x8
    00F7F 8388      ST	Y,R24
    00F80 E021      LDI	R18,1
    00F81 E007      LDI	R16,7
    00F82 940E 07C5 CALL	_Set_White_off
(0134) 		   Set_White(7,2,8);
    00F84 E088      LDI	R24,0x8
    00F85 8388      ST	Y,R24
    00F86 E022      LDI	R18,2
    00F87 E007      LDI	R16,7
    00F88 940E 0835 CALL	_Set_White
(0135) 		   cur=3;
    00F8A E043      LDI	R20,3
    00F8B E050      LDI	R21,0
(0136) 		   break;
    00F8C C208      RJMP	0x1195
(0137) 		  case 2:
(0138) 		   Set_White_off(2,2,3);
    00F8D E083      LDI	R24,3
    00F8E 8388      ST	Y,R24
    00F8F E022      LDI	R18,2
    00F90 E002      LDI	R16,2
    00F91 940E 07C5 CALL	_Set_White_off
(0139) 		   Set_White(2,3,3);
    00F93 E083      LDI	R24,3
    00F94 8388      ST	Y,R24
    00F95 E023      LDI	R18,3
    00F96 E002      LDI	R16,2
    00F97 940E 0835 CALL	_Set_White
(0140) 		   cur=4;
    00F99 E044      LDI	R20,4
    00F9A E050      LDI	R21,0
(0141) 		   break;
    00F9B C1F9      RJMP	0x1195
(0142) 		  case 3:
(0143) 		   Set_White_off(7,2,8);
    00F9C E088      LDI	R24,0x8
    00F9D 8388      ST	Y,R24
    00F9E E022      LDI	R18,2
    00F9F E007      LDI	R16,7
    00FA0 940E 07C5 CALL	_Set_White_off
(0144) 		   Set_White(6,3,7);
    00FA2 E087      LDI	R24,7
    00FA3 8388      ST	Y,R24
    00FA4 E023      LDI	R18,3
    00FA5 E006      LDI	R16,6
    00FA6 940E 0835 CALL	_Set_White
(0145) 		   cur=5;
    00FA8 E045      LDI	R20,5
    00FA9 E050      LDI	R21,0
(0146) 		   break;
(0147) 		  default:
(0148) 		   break;
(0149) 		 }
(0150) 	}else if(keyV=='u'){switch(cur){
    00FAA C1EA      RJMP	0x1195
    00FAB 2D8A      MOV	R24,R10
    00FAC 3785      CPI	R24,0x75
    00FAD F009      BEQ	0x0FAF
    00FAE C061      RJMP	0x1010
    00FAF 3042      CPI	R20,2
    00FB0 E0E0      LDI	R30,0
    00FB1 075E      CPC	R21,R30
    00FB2 F091      BEQ	0x0FC5
    00FB3 3043      CPI	R20,3
    00FB4 E0E0      LDI	R30,0
    00FB5 075E      CPC	R21,R30
    00FB6 F0E9      BEQ	0x0FD4
    00FB7 3044      CPI	R20,4
    00FB8 E0E0      LDI	R30,0
    00FB9 075E      CPC	R21,R30
    00FBA F141      BEQ	0x0FE3
    00FBB 3045      CPI	R20,5
    00FBC E0E0      LDI	R30,0
    00FBD 075E      CPC	R21,R30
    00FBE F199      BEQ	0x0FF2
    00FBF 3046      CPI	R20,6
    00FC0 E0E0      LDI	R30,0
    00FC1 075E      CPC	R21,R30
    00FC2 F409      BNE	0x0FC4
    00FC3 C03D      RJMP	0x1001
    00FC4 C1D0      RJMP	0x1195
(0151) 		  case 2:
(0152) 		   Set_White_off(2,2,3);
    00FC5 E083      LDI	R24,3
    00FC6 8388      ST	Y,R24
    00FC7 E022      LDI	R18,2
    00FC8 E002      LDI	R16,2
    00FC9 940E 07C5 CALL	_Set_White_off
(0153) 		   Set_White(2,1,3);
    00FCB E083      LDI	R24,3
    00FCC 8388      ST	Y,R24
    00FCD E021      LDI	R18,1
    00FCE E002      LDI	R16,2
    00FCF 940E 0835 CALL	_Set_White
(0154) 		   cur=0;
    00FD1 2744      CLR	R20
    00FD2 2755      CLR	R21
(0155) 		   break;
    00FD3 C1C1      RJMP	0x1195
(0156) 		  case 3:
(0157) 		   Set_White_off(7,2,8);
    00FD4 E088      LDI	R24,0x8
    00FD5 8388      ST	Y,R24
    00FD6 E022      LDI	R18,2
    00FD7 E007      LDI	R16,7
    00FD8 940E 07C5 CALL	_Set_White_off
(0158) 		   Set_White(7,1,8);
    00FDA E088      LDI	R24,0x8
    00FDB 8388      ST	Y,R24
    00FDC E021      LDI	R18,1
    00FDD E007      LDI	R16,7
    00FDE 940E 0835 CALL	_Set_White
(0159) 		   cur=1;
    00FE0 E041      LDI	R20,1
    00FE1 E050      LDI	R21,0
(0160) 		   break;
    00FE2 C1B2      RJMP	0x1195
(0161) 		  case 4:
(0162) 		   Set_White_off(2,3,5);
    00FE3 E085      LDI	R24,5
    00FE4 8388      ST	Y,R24
    00FE5 E023      LDI	R18,3
    00FE6 E002      LDI	R16,2
    00FE7 940E 07C5 CALL	_Set_White_off
(0163) 		   Set_White(2,2,3);
    00FE9 E083      LDI	R24,3
    00FEA 8388      ST	Y,R24
    00FEB E022      LDI	R18,2
    00FEC E002      LDI	R16,2
    00FED 940E 0835 CALL	_Set_White
(0164) 		   cur=2;
    00FEF E042      LDI	R20,2
    00FF0 E050      LDI	R21,0
(0165) 		   break;
    00FF1 C1A3      RJMP	0x1195
(0166) 		  case 5:
(0167) 		   Set_White_off(6,3,7);
    00FF2 E087      LDI	R24,7
    00FF3 8388      ST	Y,R24
    00FF4 E023      LDI	R18,3
    00FF5 E006      LDI	R16,6
    00FF6 940E 07C5 CALL	_Set_White_off
(0168) 		   Set_White(7,2,8);
    00FF8 E088      LDI	R24,0x8
    00FF9 8388      ST	Y,R24
    00FFA E022      LDI	R18,2
    00FFB E007      LDI	R16,7
    00FFC 940E 0835 CALL	_Set_White
(0169) 		   cur=3;
    00FFE E043      LDI	R20,3
    00FFF E050      LDI	R21,0
(0170) 		   break;
    01000 C194      RJMP	0x1195
(0171) 		  case 6:
(0172) 		   Set_White_off(10,3,11);
    01001 E08B      LDI	R24,0xB
    01002 8388      ST	Y,R24
    01003 E023      LDI	R18,3
    01004 E00A      LDI	R16,0xA
    01005 940E 07C5 CALL	_Set_White_off
(0173) 		   Set_White(7,2,8);
    01007 E088      LDI	R24,0x8
    01008 8388      ST	Y,R24
    01009 E022      LDI	R18,2
    0100A E007      LDI	R16,7
    0100B 940E 0835 CALL	_Set_White
(0174) 		   cur=3;
    0100D E043      LDI	R20,3
    0100E E050      LDI	R21,0
(0175) 		   break;
(0176) 		  default:
(0177) 		   break;
(0178) 		 }
(0179) 	}else if(keyV=='l'){switch(cur){
    0100F C185      RJMP	0x1195
    01010 2D8A      MOV	R24,R10
    01011 368C      CPI	R24,0x6C
    01012 F009      BEQ	0x1014
    01013 C04D      RJMP	0x1061
    01014 3041      CPI	R20,1
    01015 E0E0      LDI	R30,0
    01016 075E      CPC	R21,R30
    01017 F069      BEQ	0x1025
    01018 3043      CPI	R20,3
    01019 E0E0      LDI	R30,0
    0101A 075E      CPC	R21,R30
    0101B F0C1      BEQ	0x1034
    0101C 3045      CPI	R20,5
    0101D E0E0      LDI	R30,0
    0101E 075E      CPC	R21,R30
    0101F F119      BEQ	0x1043
    01020 3046      CPI	R20,6
    01021 E0E0      LDI	R30,0
    01022 075E      CPC	R21,R30
    01023 F171      BEQ	0x1052
    01024 C170      RJMP	0x1195
(0180) 		  case 1:
(0181) 		   Set_White_off(7,1,8);
    01025 E088      LDI	R24,0x8
    01026 8388      ST	Y,R24
    01027 E021      LDI	R18,1
    01028 E007      LDI	R16,7
    01029 940E 07C5 CALL	_Set_White_off
(0182) 		   Set_White(2,1,3);
    0102B E083      LDI	R24,3
    0102C 8388      ST	Y,R24
    0102D E021      LDI	R18,1
    0102E E002      LDI	R16,2
    0102F 940E 0835 CALL	_Set_White
(0183) 		   cur=0;
    01031 2744      CLR	R20
    01032 2755      CLR	R21
(0184) 		   break;
    01033 C161      RJMP	0x1195
(0185) 		  case 3:
(0186) 		   Set_White_off(7,2,8);
    01034 E088      LDI	R24,0x8
    01035 8388      ST	Y,R24
    01036 E022      LDI	R18,2
    01037 E007      LDI	R16,7
    01038 940E 07C5 CALL	_Set_White_off
(0187) 		   Set_White(2,2,3);
    0103A E083      LDI	R24,3
    0103B 8388      ST	Y,R24
    0103C E022      LDI	R18,2
    0103D E002      LDI	R16,2
    0103E 940E 0835 CALL	_Set_White
(0188) 		   cur=2;
    01040 E042      LDI	R20,2
    01041 E050      LDI	R21,0
(0189) 		   break;
    01042 C152      RJMP	0x1195
(0190) 		  case 5:
(0191) 		   Set_White_off(6,3,7);
    01043 E087      LDI	R24,7
    01044 8388      ST	Y,R24
    01045 E023      LDI	R18,3
    01046 E006      LDI	R16,6
    01047 940E 07C5 CALL	_Set_White_off
(0192) 		   Set_White(2,3,3);
    01049 E083      LDI	R24,3
    0104A 8388      ST	Y,R24
    0104B E023      LDI	R18,3
    0104C E002      LDI	R16,2
    0104D 940E 0835 CALL	_Set_White
(0193) 		   cur=4;
    0104F E044      LDI	R20,4
    01050 E050      LDI	R21,0
(0194) 		   break;
    01051 C143      RJMP	0x1195
(0195) 		  case 6:
(0196) 		   Set_White_off(10,3,11);
    01052 E08B      LDI	R24,0xB
    01053 8388      ST	Y,R24
    01054 E023      LDI	R18,3
    01055 E00A      LDI	R16,0xA
    01056 940E 07C5 CALL	_Set_White_off
(0197) 		   Set_White(6,3,7);
    01058 E087      LDI	R24,7
    01059 8388      ST	Y,R24
    0105A E023      LDI	R18,3
    0105B E006      LDI	R16,6
    0105C 940E 0835 CALL	_Set_White
(0198) 		   cur=5;
    0105E E045      LDI	R20,5
    0105F E050      LDI	R21,0
(0199) 		   break;
(0200) 		  default:
(0201) 		   break;
(0202) 		 }
(0203) 	}else if(keyV=='r'){
    01060 C134      RJMP	0x1195
    01061 2D8A      MOV	R24,R10
    01062 3782      CPI	R24,0x72
    01063 F009      BEQ	0x1065
    01064 C04C      RJMP	0x10B1
(0204) 	switch(cur){
    01065 3040      CPI	R20,0
    01066 0745      CPC	R20,R21
    01067 F069      BEQ	0x1075
    01068 3042      CPI	R20,2
    01069 E0E0      LDI	R30,0
    0106A 075E      CPC	R21,R30
    0106B F0C1      BEQ	0x1084
    0106C 3044      CPI	R20,4
    0106D E0E0      LDI	R30,0
    0106E 075E      CPC	R21,R30
    0106F F119      BEQ	0x1093
    01070 3045      CPI	R20,5
    01071 E0E0      LDI	R30,0
    01072 075E      CPC	R21,R30
    01073 F171      BEQ	0x10A2
    01074 C120      RJMP	0x1195
(0205) 		  case 0:
(0206) 		   Set_White_off(2,1,3);
    01075 E083      LDI	R24,3
    01076 8388      ST	Y,R24
    01077 E021      LDI	R18,1
    01078 E002      LDI	R16,2
    01079 940E 07C5 CALL	_Set_White_off
(0207) 		   Set_White(7,1,8);
    0107B E088      LDI	R24,0x8
    0107C 8388      ST	Y,R24
    0107D E021      LDI	R18,1
    0107E E007      LDI	R16,7
    0107F 940E 0835 CALL	_Set_White
(0208) 		   cur=1;
    01081 E041      LDI	R20,1
    01082 E050      LDI	R21,0
(0209) 		   break;
    01083 C111      RJMP	0x1195
(0210) 		  case 2:
(0211) 		   Set_White_off(2,2,3);
    01084 E083      LDI	R24,3
    01085 8388      ST	Y,R24
    01086 E022      LDI	R18,2
    01087 E002      LDI	R16,2
    01088 940E 07C5 CALL	_Set_White_off
(0212) 		   Set_White(7,2,8);
    0108A E088      LDI	R24,0x8
    0108B 8388      ST	Y,R24
    0108C E022      LDI	R18,2
    0108D E007      LDI	R16,7
    0108E 940E 0835 CALL	_Set_White
(0213) 		   cur=3;
    01090 E043      LDI	R20,3
    01091 E050      LDI	R21,0
(0214) 		   break;
    01092 C102      RJMP	0x1195
(0215) 		  case 4:
(0216) 		   Set_White_off(2,3,3);
    01093 E083      LDI	R24,3
    01094 8388      ST	Y,R24
    01095 E023      LDI	R18,3
    01096 E002      LDI	R16,2
    01097 940E 07C5 CALL	_Set_White_off
(0217) 		   Set_White(6,3,7);
    01099 E087      LDI	R24,7
    0109A 8388      ST	Y,R24
    0109B E023      LDI	R18,3
    0109C E006      LDI	R16,6
    0109D 940E 0835 CALL	_Set_White
(0218) 		   cur=5;
    0109F E045      LDI	R20,5
    010A0 E050      LDI	R21,0
(0219) 		   break;
    010A1 C0F3      RJMP	0x1195
(0220) 		  case 5:
(0221) 		   Set_White_off(6,3,7);
    010A2 E087      LDI	R24,7
    010A3 8388      ST	Y,R24
    010A4 E023      LDI	R18,3
    010A5 E006      LDI	R16,6
    010A6 940E 07C5 CALL	_Set_White_off
(0222) 		   Set_White(10,3,11);
    010A8 E08B      LDI	R24,0xB
    010A9 8388      ST	Y,R24
    010AA E023      LDI	R18,3
    010AB E00A      LDI	R16,0xA
    010AC 940E 0835 CALL	_Set_White
(0223) 		   cur=6;
    010AE E046      LDI	R20,6
    010AF E050      LDI	R21,0
(0224) 		   break;
(0225) 		  default:
(0226) 		   break;
(0227) 		 }
(0228) 	}else if(keyV=='s'){
    010B0 C0E4      RJMP	0x1195
    010B1 2D8A      MOV	R24,R10
    010B2 3783      CPI	R24,0x73
    010B3 F009      BEQ	0x10B5
    010B4 C048      RJMP	0x10FD
(0229) 	   pageNum=5;
    010B5 E085      LDI	R24,5
    010B6 E090      LDI	R25,0
    010B7 9390 0C58 STS	pageNum+1,R25
    010B9 9380 0C57 STS	pageNum,R24
(0230) 	   switch(cur){
    010BB 3040      CPI	R20,0
    010BC 0745      CPC	R20,R21
    010BD F0A9      BEQ	0x10D3
    010BE 3041      CPI	R20,1
    010BF E0E0      LDI	R30,0
    010C0 075E      CPC	R21,R30
    010C1 F0C1      BEQ	0x10DA
    010C2 3042      CPI	R20,2
    010C3 E0E0      LDI	R30,0
    010C4 075E      CPC	R21,R30
    010C5 F0D9      BEQ	0x10E1
    010C6 3043      CPI	R20,3
    010C7 E0E0      LDI	R30,0
    010C8 075E      CPC	R21,R30
    010C9 F0F1      BEQ	0x10E8
    010CA 3045      CPI	R20,5
    010CB E0E0      LDI	R30,0
    010CC 075E      CPC	R21,R30
    010CD F109      BEQ	0x10EF
    010CE 3046      CPI	R20,6
    010CF E0E0      LDI	R30,0
    010D0 075E      CPC	R21,R30
    010D1 F121      BEQ	0x10F6
    010D2 C0C3      RJMP	0x1196
(0231) 		 case 0: 
(0232) 		    Set_White_off(2,1,3);
    010D3 E083      LDI	R24,3
    010D4 8388      ST	Y,R24
    010D5 E021      LDI	R18,1
    010D6 E002      LDI	R16,2
    010D7 940E 07C5 CALL	_Set_White_off
(0233) 		    break;
    010D9 C0BC      RJMP	0x1196
(0234) 		 case 1:
(0235) 		   Set_White_off(7,1,8);
    010DA E088      LDI	R24,0x8
    010DB 8388      ST	Y,R24
    010DC E021      LDI	R18,1
    010DD E007      LDI	R16,7
    010DE 940E 07C5 CALL	_Set_White_off
(0236) 		   break;
    010E0 C0B5      RJMP	0x1196
(0237) 		 case 2:
(0238) 		  Set_White_off(2,2,3);
    010E1 E083      LDI	R24,3
    010E2 8388      ST	Y,R24
    010E3 E022      LDI	R18,2
    010E4 E002      LDI	R16,2
    010E5 940E 07C5 CALL	_Set_White_off
(0239) 		  break;
    010E7 C0AE      RJMP	0x1196
(0240) 		 case 3:
(0241) 		   Set_White_off(7,2,8);
    010E8 E088      LDI	R24,0x8
    010E9 8388      ST	Y,R24
    010EA E022      LDI	R18,2
    010EB E007      LDI	R16,7
    010EC 940E 07C5 CALL	_Set_White_off
(0242) 		    break;
    010EE C0A7      RJMP	0x1196
(0243) 		case 5:
(0244) 		    Set_White_off(6,3,7);
    010EF E087      LDI	R24,7
    010F0 8388      ST	Y,R24
    010F1 E023      LDI	R18,3
    010F2 E006      LDI	R16,6
    010F3 940E 07C5 CALL	_Set_White_off
(0245) 		    break;
    010F5 C0A0      RJMP	0x1196
(0246) 		 case 6:
(0247) 		   Set_White_off(10,3,11);
    010F6 E08B      LDI	R24,0xB
    010F7 8388      ST	Y,R24
    010F8 E023      LDI	R18,3
    010F9 E00A      LDI	R16,0xA
    010FA 940E 07C5 CALL	_Set_White_off
(0248) 		    break;
(0249) 		  default:
(0250) 		   break;
(0251) 		 }
(0252) 	   return ;
    010FC C099      RJMP	0x1196
(0253) 	}else if(keyV=='t'){
    010FD 2D8A      MOV	R24,R10
    010FE 3784      CPI	R24,0x74
    010FF F009      BEQ	0x1101
    01100 C094      RJMP	0x1195
(0254) 	   switch(cur){
    01101 3040      CPI	R20,0
    01102 0745      CPC	R20,R21
    01103 F0F1      BEQ	0x1122
    01104 3041      CPI	R20,1
    01105 E0E0      LDI	R30,0
    01106 075E      CPC	R21,R30
    01107 F191      BEQ	0x113A
    01108 3042      CPI	R20,2
    01109 E0E0      LDI	R30,0
    0110A 075E      CPC	R21,R30
    0110B F409      BNE	0x110D
    0110C C043      RJMP	0x1150
    0110D 3043      CPI	R20,3
    0110E E0E0      LDI	R30,0
    0110F 075E      CPC	R21,R30
    01110 F409      BNE	0x1112
    01111 C055      RJMP	0x1167
    01112 3044      CPI	R20,4
    01113 E0E0      LDI	R30,0
    01114 075E      CPC	R21,R30
    01115 F409      BNE	0x1117
    01116 C066      RJMP	0x117D
    01117 3045      CPI	R20,5
    01118 E0E0      LDI	R30,0
    01119 075E      CPC	R21,R30
    0111A F409      BNE	0x111C
    0111B C064      RJMP	0x1180
    0111C 3046      CPI	R20,6
    0111D E0E0      LDI	R30,0
    0111E 075E      CPC	R21,R30
    0111F F409      BNE	0x1121
    01120 C062      RJMP	0x1183
    01121 C073      RJMP	0x1195
(0255) 		 case 0: 
(0256) 		    Set_White_off(2,1,3);
    01122 E083      LDI	R24,3
    01123 8388      ST	Y,R24
    01124 E021      LDI	R18,1
    01125 E002      LDI	R16,2
    01126 940E 07C5 CALL	_Set_White_off
(0257) 		    prePageNum=1;
    01128 E081      LDI	R24,1
    01129 E090      LDI	R25,0
    0112A 9390 0C4C STS	prePageNum+1,R25
    0112C 9380 0C4B STS	prePageNum,R24
(0258) 		    pageParam[0]=0;//传递使用第一个，对应不同的温度
    0112E 2422      CLR	R2
    0112F 2433      CLR	R3
    01130 9230 0C4E STS	pageParam+1,R3
    01132 9220 0C4D STS	pageParam,R2
(0259) 		    pageNum=3;
    01134 E083      LDI	R24,3
    01135 9390 0C58 STS	pageNum+1,R25
    01137 9380 0C57 STS	pageNum,R24
(0260) 		    return;
    01139 C05C      RJMP	0x1196
(0261) 		 case 1:
(0262) 		   Set_White_off(7,1,8);
    0113A E088      LDI	R24,0x8
    0113B 8388      ST	Y,R24
    0113C E021      LDI	R18,1
    0113D E007      LDI	R16,7
    0113E 940E 07C5 CALL	_Set_White_off
(0263) 		    prePageNum=1;
    01140 E081      LDI	R24,1
    01141 E090      LDI	R25,0
    01142 9390 0C4C STS	prePageNum+1,R25
    01144 9380 0C4B STS	prePageNum,R24
(0264) 		   pageParam[0]=1;//传递使用第一个，对应不同的温度
    01146 9390 0C4E STS	pageParam+1,R25
    01148 9380 0C4D STS	pageParam,R24
(0265) 		    pageNum=3;
    0114A E083      LDI	R24,3
    0114B 9390 0C58 STS	pageNum+1,R25
    0114D 9380 0C57 STS	pageNum,R24
(0266) 		    return;
    0114F C046      RJMP	0x1196
(0267) 		 case 2:
(0268) 		  Set_White_off(2,2,3);
    01150 E083      LDI	R24,3
    01151 8388      ST	Y,R24
    01152 E022      LDI	R18,2
    01153 E002      LDI	R16,2
    01154 940E 07C5 CALL	_Set_White_off
(0269) 		    prePageNum=1;
    01156 E081      LDI	R24,1
    01157 E090      LDI	R25,0
    01158 9390 0C4C STS	prePageNum+1,R25
    0115A 9380 0C4B STS	prePageNum,R24
(0270) 		    pageParam[0]=2;//传递使用第一个，对应不同的温度
    0115C E082      LDI	R24,2
    0115D 9390 0C4E STS	pageParam+1,R25
    0115F 9380 0C4D STS	pageParam,R24
(0271) 		   pageNum=3;
    01161 E083      LDI	R24,3
    01162 9390 0C58 STS	pageNum+1,R25
    01164 9380 0C57 STS	pageNum,R24
(0272) 		   return;
    01166 C02F      RJMP	0x1196
(0273) 		 case 3:
(0274) 		   Set_White_off(7,2,8);
    01167 E088      LDI	R24,0x8
    01168 8388      ST	Y,R24
    01169 E022      LDI	R18,2
    0116A E007      LDI	R16,7
    0116B 940E 07C5 CALL	_Set_White_off
(0275) 		     prePageNum=1;
    0116D E081      LDI	R24,1
    0116E E090      LDI	R25,0
    0116F 9390 0C4C STS	prePageNum+1,R25
    01171 9380 0C4B STS	prePageNum,R24
(0276) 		    pageParam[0]=3;//传递使用第一个，对应不同的温度
    01173 E083      LDI	R24,3
    01174 9390 0C4E STS	pageParam+1,R25
    01176 9380 0C4D STS	pageParam,R24
(0277) 		    pageNum=3;
    01178 9390 0C58 STS	pageNum+1,R25
    0117A 9380 0C57 STS	pageNum,R24
(0278) 		    return;
    0117C C019      RJMP	0x1196
(0279) 		 case 4:
(0280) 		    //调用函数全部开始，参数正确的
(0281) 			set_all_start();
    0117D 940E 1F73 CALL	_set_all_start
(0282) 		   break;
    0117F C015      RJMP	0x1195
(0283) 		 case 5:
(0284) 		    //全部停止
(0285) 			set_all_stop();
    01180 940E 1FAF CALL	_set_all_stop
(0286) 		   break;
    01182 C012      RJMP	0x1195
(0287) 		 case 6://设置
(0288) 		   Set_White_off(10,3,11);
    01183 E08B      LDI	R24,0xB
    01184 8388      ST	Y,R24
    01185 E023      LDI	R18,3
    01186 E00A      LDI	R16,0xA
    01187 940E 07C5 CALL	_Set_White_off
(0289) 		   prePageNum=1;
    01189 E081      LDI	R24,1
    0118A E090      LDI	R25,0
    0118B 9390 0C4C STS	prePageNum+1,R25
    0118D 9380 0C4B STS	prePageNum,R24
(0290) 		   pageNum=5;
    0118F E085      LDI	R24,5
    01190 9390 0C58 STS	pageNum+1,R25
    01192 9380 0C57 STS	pageNum,R24
(0291) 		    return;
    01194 C001      RJMP	0x1196
    01195 CCDF      RJMP	0x0E75
    01196 9622      ADIW	R28,2
    01197 940C 2215 JMP	pop_xgsetF03C
_page2:
  ft2                  --> R10
  ft1                  --> R12
  ft0                  --> R14
  ft3                  --> R22
  cur                  --> R20
  keyV                 --> R10
    01199 940E 21D1 CALL	push_xgsetF0FC
    0119B 9722      SBIW	R28,2
(0292) 		  default:
(0293) 		   break;
(0294) 		 }
(0295) 	
(0296) 	}
(0297)   }
(0298)    return;
(0299) }
(0300)  void page2(void){
(0301)    uint cur=0;
    0119C 2744      CLR	R20
    0119D 2755      CLR	R21
(0302)    uchar keyV;
(0303)    uint ft0,ft1,ft2,ft3;
(0304)    ft0=EEPROM_read(1,0);
    0119E 2722      CLR	R18
    0119F 2733      CLR	R19
    011A0 E001      LDI	R16,1
    011A1 E010      LDI	R17,0
    011A2 940E 0DED CALL	_EEPROM_read
    011A4 0178      MOVW	R14,R16
(0305)    ft1=EEPROM_read(2,0);
    011A5 2722      CLR	R18
    011A6 2733      CLR	R19
    011A7 E002      LDI	R16,2
    011A8 E010      LDI	R17,0
    011A9 940E 0DED CALL	_EEPROM_read
    011AB 0168      MOVW	R12,R16
(0306)    ft2=EEPROM_read(3,0);
    011AC 2722      CLR	R18
    011AD 2733      CLR	R19
    011AE E003      LDI	R16,3
    011AF E010      LDI	R17,0
    011B0 940E 0DED CALL	_EEPROM_read
    011B2 0158      MOVW	R10,R16
(0307)    ft3=EEPROM_read(4,0);
    011B3 2722      CLR	R18
    011B4 2733      CLR	R19
    011B5 E004      LDI	R16,4
    011B6 E010      LDI	R17,0
    011B7 940E 0DED CALL	_EEPROM_read
    011B9 01B8      MOVW	R22,R16
(0308)  if(!(ft0==0 && ft1==0 && ft2==0 && ft3==0)){//判断是否有数据，任何一个有数据就询问是否恢复
    011BA 20EE      TST	R14
    011BB F471      BNE	0x11CA
    011BC 20FF      TST	R15
    011BD F461      BNE	0x11CA
    011BE 20CC      TST	R12
    011BF F451      BNE	0x11CA
    011C0 20DD      TST	R13
    011C1 F441      BNE	0x11CA
    011C2 20AA      TST	R10
    011C3 F431      BNE	0x11CA
    011C4 20BB      TST	R11
    011C5 F421      BNE	0x11CA
    011C6 3000      CPI	R16,0
    011C7 0701      CPC	R16,R17
    011C8 F409      BNE	0x11CA
    011C9 C09A      RJMP	0x1264
(0309)    //初始画面，会有读取EEPROM的判断默认操作，本次只是画界面
(0310)    lcd_write_str(2,0,"是否恢复上次工作");
    011CA E385      LDI	R24,0x35
    011CB E097      LDI	R25,7
    011CC 8399      STD	Y+1,R25
    011CD 8388      ST	Y,R24
    011CE 2722      CLR	R18
    011CF E002      LDI	R16,2
    011D0 940E 0610 CALL	_lcd_write_str
(0311)    lcd_write_str(2,2,"恢复");
    011D2 E380      LDI	R24,0x30
    011D3 E097      LDI	R25,7
    011D4 8399      STD	Y+1,R25
    011D5 8388      ST	Y,R24
    011D6 E022      LDI	R18,2
    011D7 E002      LDI	R16,2
    011D8 940E 0610 CALL	_lcd_write_str
(0312)    lcd_write_str(8,2,"取消");
    011DA E28B      LDI	R24,0x2B
    011DB E097      LDI	R25,7
    011DC 8399      STD	Y+1,R25
    011DD 8388      ST	Y,R24
    011DE E022      LDI	R18,2
    011DF E008      LDI	R16,0x8
    011E0 940E 0610 CALL	_lcd_write_str
(0313)    ft3=EEPROM_read(0,0);//复用读取首选项
    011E2 2722      CLR	R18
    011E3 2733      CLR	R19
    011E4 2700      CLR	R16
    011E5 2711      CLR	R17
    011E6 940E 0DED CALL	_EEPROM_read
    011E8 0158      MOVW	R10,R16
    011E9 01B5      MOVW	R22,R10
(0314)    if(ft3==1){//默认恢复
    011EA 3001      CPI	R16,1
    011EB E0E0      LDI	R30,0
    011EC 071E      CPC	R17,R30
    011ED F449      BNE	0x11F7
(0315)      cur=0;
    011EE 2744      CLR	R20
    011EF 2755      CLR	R21
(0316)      Set_White(3,2,4);
    011F0 E084      LDI	R24,4
    011F1 8388      ST	Y,R24
    011F2 E022      LDI	R18,2
    011F3 E003      LDI	R16,3
    011F4 940E 0835 CALL	_Set_White
(0317)    }else{
    011F6 C06C      RJMP	0x1263
(0318)      cur=1;
    011F7 E041      LDI	R20,1
    011F8 E050      LDI	R21,0
(0319)      Set_White(9,2,10);
    011F9 E08A      LDI	R24,0xA
    011FA 8388      ST	Y,R24
    011FB E022      LDI	R18,2
    011FC E009      LDI	R16,0x9
    011FD 940E 0835 CALL	_Set_White
(0320)    }
    011FF C063      RJMP	0x1263
(0321)   //使用定时器，定时一段时间更改标记，while中读取这个标记确定是否结束while
(0322)     while(1){
(0323)       keyV=KeyScan_once();
    01200 940E 04AD CALL	_KeyScan_once
    01202 2EA0      MOV	R10,R16
(0324) 	  switch(keyV){
    01203 2D6A      MOV	R22,R10
    01204 2777      CLR	R23
    01205 366C      CPI	R22,0x6C
    01206 E0E0      LDI	R30,0
    01207 077E      CPC	R23,R30
    01208 F071      BEQ	0x1217
    01209 366C      CPI	R22,0x6C
    0120A E0E0      LDI	R30,0
    0120B 077E      CPC	R23,R30
    0120C F40C      BGE	0x120E
    0120D C055      RJMP	0x1263
    0120E 3762      CPI	R22,0x72
    0120F E0E0      LDI	R30,0
    01210 077E      CPC	R23,R30
    01211 F0C9      BEQ	0x122B
    01212 3764      CPI	R22,0x74
    01213 E0E0      LDI	R30,0
    01214 077E      CPC	R23,R30
    01215 F139      BEQ	0x123D
    01216 C04C      RJMP	0x1263
(0325) 	    case 'l':
(0326) 		   if(cur==1){
    01217 3041      CPI	R20,1
    01218 E0E0      LDI	R30,0
    01219 075E      CPC	R21,R30
    0121A F009      BEQ	0x121C
    0121B C047      RJMP	0x1263
(0327) 		      Set_White_off(9,2,10);
    0121C E08A      LDI	R24,0xA
    0121D 8388      ST	Y,R24
    0121E E022      LDI	R18,2
    0121F E009      LDI	R16,0x9
    01220 940E 07C5 CALL	_Set_White_off
(0328) 		      Set_White(3,2,4);
    01222 E084      LDI	R24,4
    01223 8388      ST	Y,R24
    01224 E022      LDI	R18,2
    01225 E003      LDI	R16,3
    01226 940E 0835 CALL	_Set_White
(0329) 			  cur=0;
    01228 2744      CLR	R20
    01229 2755      CLR	R21
(0330) 		   }
(0331) 		   break;
    0122A C038      RJMP	0x1263
(0332) 		case 'r':
(0333) 		   if(cur==0){
    0122B 3040      CPI	R20,0
    0122C 0745      CPC	R20,R21
    0122D F5A9      BNE	0x1263
(0334) 		      Set_White_off(3,2,4);
    0122E E084      LDI	R24,4
    0122F 8388      ST	Y,R24
    01230 E022      LDI	R18,2
    01231 E003      LDI	R16,3
    01232 940E 07C5 CALL	_Set_White_off
(0335) 		      Set_White(9,2,10);
    01234 E08A      LDI	R24,0xA
    01235 8388      ST	Y,R24
    01236 E022      LDI	R18,2
    01237 E009      LDI	R16,0x9
    01238 940E 0835 CALL	_Set_White
(0336) 			  cur=1;
    0123A E041      LDI	R20,1
    0123B E050      LDI	R21,0
(0337) 		   }
(0338) 		  break;
    0123C C026      RJMP	0x1263
(0339) 		case 't':
(0340) 		  //执行相关操作
(0341) 		   Set_White_off(9,2,10);
    0123D E08A      LDI	R24,0xA
    0123E 8388      ST	Y,R24
    0123F E022      LDI	R18,2
    01240 E009      LDI	R16,0x9
    01241 940E 07C5 CALL	_Set_White_off
(0342) 		    Set_White_off(3,2,4);
    01243 E084      LDI	R24,4
    01244 8388      ST	Y,R24
    01245 E022      LDI	R18,2
    01246 E003      LDI	R16,3
    01247 940E 07C5 CALL	_Set_White_off
(0343) 			if(cur==0){
    01249 3040      CPI	R20,0
    0124A 0745      CPC	R20,R21
    0124B F481      BNE	0x125C
(0344) 			  lcd_clear();
    0124C 940E 06C7 CALL	_lcd_clear
(0345) 			  lcd_write_str(5,2,"恢复中. . .");
    0124E E18F      LDI	R24,0x1F
    0124F E097      LDI	R25,7
    01250 8399      STD	Y+1,R25
    01251 8388      ST	Y,R24
    01252 E022      LDI	R18,2
    01253 E005      LDI	R16,5
    01254 940E 0610 CALL	_lcd_write_str
(0346) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    01256 940E 1E6A CALL	_data_recover
(0347) 			  delay_ms(200);
    01258 EC08      LDI	R16,0xC8
    01259 E010      LDI	R17,0
    0125A 940E 03BF CALL	_delay_ms
(0348) 			}
(0349) 		  pageNum=1;
    0125C E081      LDI	R24,1
    0125D E090      LDI	R25,0
    0125E 9390 0C58 STS	pageNum+1,R25
    01260 9380 0C57 STS	pageNum,R24
(0350) 		  return;
    01262 C007      RJMP	0x126A
    01263 CF9C      RJMP	0x1200
(0351) 	  }
(0352) 	}
(0353)   }else{
(0354)      pageNum=1;
    01264 E081      LDI	R24,1
    01265 E090      LDI	R25,0
    01266 9390 0C58 STS	pageNum+1,R25
    01268 9380 0C57 STS	pageNum,R24
(0355)      return;
    0126A 9622      ADIW	R28,2
    0126B 940C 21C6 JMP	pop_xgsetF0FC
_page3:
  cur                  --> R20
  keyV                 --> R22
    0126D 940E 21E6 CALL	push_xgsetF000
    0126F 9722      SBIW	R28,2
(0356)   }
(0357)  }
(0358)  void page3(void){
(0359)   uint cur=0;
    01270 2744      CLR	R20
    01271 2755      CLR	R21
(0360)    uchar keyV;
(0361)    lcd_write_str(0,0,"T");
    01272 E18D      LDI	R24,0x1D
    01273 E097      LDI	R25,7
    01274 8399      STD	Y+1,R25
    01275 8388      ST	Y,R24
    01276 2722      CLR	R18
    01277 2700      CLR	R16
    01278 940E 0610 CALL	_lcd_write_str
(0362)     lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    0127A 9120 0C4D LDS	R18,pageParam
    0127C 9130 0C4E LDS	R19,pageParam+1
    0127E 5F2F      SUBI	R18,0xFF
    0127F 4F3F      SBCI	R19,0xFF
    01280 6320      ORI	R18,0x30
    01281 2700      CLR	R16
    01282 940E 05B8 CALL	_lcd_write_char_con
(0363) 	lcd_write_char_con(0,':');
    01284 E32A      LDI	R18,0x3A
    01285 2700      CLR	R16
    01286 940E 05B8 CALL	_lcd_write_char_con
(0364)    lcd_write_str(1,1,"温度:");
    01288 E187      LDI	R24,0x17
    01289 E097      LDI	R25,7
    0128A 8399      STD	Y+1,R25
    0128B 8388      ST	Y,R24
    0128C E021      LDI	R18,1
    0128D E001      LDI	R16,1
    0128E 940E 0610 CALL	_lcd_write_str
(0365)    lcd_write_str(1,2,"状态:");
    01290 E181      LDI	R24,0x11
    01291 E097      LDI	R25,7
    01292 8399      STD	Y+1,R25
    01293 8388      ST	Y,R24
    01294 E022      LDI	R18,2
    01295 E001      LDI	R16,1
    01296 940E 0610 CALL	_lcd_write_str
(0366)    lcd_write_str(0,3,"编辑");
    01298 E08C      LDI	R24,0xC
    01299 E097      LDI	R25,7
    0129A 8399      STD	Y+1,R25
    0129B 8388      ST	Y,R24
    0129C E023      LDI	R18,3
    0129D 2700      CLR	R16
    0129E 940E 0610 CALL	_lcd_write_str
(0367)    lcd_write_str(3,3,"运行");
    012A0 E087      LDI	R24,7
    012A1 E097      LDI	R25,7
    012A2 8399      STD	Y+1,R25
    012A3 8388      ST	Y,R24
    012A4 E023      LDI	R18,3
    012A5 E003      LDI	R16,3
    012A6 940E 0610 CALL	_lcd_write_str
(0368)    lcd_write_str(7,3,"暂停");
    012A8 E580      LDI	R24,0x50
    012A9 E097      LDI	R25,7
    012AA 8399      STD	Y+1,R25
    012AB 8388      ST	Y,R24
    012AC E023      LDI	R18,3
    012AD E007      LDI	R16,7
    012AE 940E 0610 CALL	_lcd_write_str
(0369)    lcd_write_str(10,3,"重置");
    012B0 E082      LDI	R24,2
    012B1 E097      LDI	R25,7
    012B2 8399      STD	Y+1,R25
    012B3 8388      ST	Y,R24
    012B4 E023      LDI	R18,3
    012B5 E00A      LDI	R16,0xA
    012B6 940E 0610 CALL	_lcd_write_str
(0370)    Set_White(1,3,2);
    012B8 E082      LDI	R24,2
    012B9 8388      ST	Y,R24
    012BA E023      LDI	R18,3
    012BB E001      LDI	R16,1
    012BC 940E 0835 CALL	_Set_White
    012BE C16C      RJMP	0x142B
(0371)    //Set_White(9,2,10);
(0372)     while(1){
(0373) 	lcd_write_pos(2,0);
    012BF 2722      CLR	R18
    012C0 E002      LDI	R16,2
    012C1 940E 05CC CALL	_lcd_write_pos
(0374) 	pageTime2(0);
    012C3 2700      CLR	R16
    012C4 2711      CLR	R17
    012C5 DB50      RCALL	_pageTime2
(0375) 	//数据需要读入
(0376) 	lcd_write_pos(4,2);
    012C6 E022      LDI	R18,2
    012C7 E004      LDI	R16,4
    012C8 940E 05CC CALL	_lcd_write_pos
(0377) 	switch(temps[pageParam[0]].flag){
    012CA 9120 0C4D LDS	R18,pageParam
    012CC 9130 0C4E LDS	R19,pageParam+1
    012CE E00A      LDI	R16,0xA
    012CF E011      LDI	R17,1
    012D0 940E 21AA CALL	empy16s
    012D2 E184      LDI	R24,0x14
    012D3 E091      LDI	R25,1
    012D4 01F8      MOVW	R30,R16
    012D5 0FE8      ADD	R30,R24
    012D6 1FF9      ADC	R31,R25
    012D7 8160      LD	R22,Z
    012D8 8171      LDD	R23,Z+1
    012D9 3060      CPI	R22,0
    012DA 0767      CPC	R22,R23
    012DB F0C9      BEQ	0x12F5
    012DC 3061      CPI	R22,1
    012DD E0E0      LDI	R30,0
    012DE 077E      CPC	R23,R30
    012DF F0D9      BEQ	0x12FB
    012E0 3062      CPI	R22,2
    012E1 E0E0      LDI	R30,0
    012E2 077E      CPC	R23,R30
    012E3 F149      BEQ	0x130D
    012E4 3063      CPI	R22,3
    012E5 E0E0      LDI	R30,0
    012E6 077E      CPC	R23,R30
    012E7 F159      BEQ	0x1313
    012E8 3064      CPI	R22,4
    012E9 E0E0      LDI	R30,0
    012EA 077E      CPC	R23,R30
    012EB F169      BEQ	0x1319
    012EC 3065      CPI	R22,5
    012ED E0E0      LDI	R30,0
    012EE 077E      CPC	R23,R30
    012EF F179      BEQ	0x131F
    012F0 3066      CPI	R22,6
    012F1 E0E0      LDI	R30,0
    012F2 077E      CPC	R23,R30
    012F3 F189      BEQ	0x1325
    012F4 C035      RJMP	0x132A
(0378) 	     case 0: 
(0379) 		   lcd_write_str_con(2,"停止");
    012F5 E52E      LDI	R18,0x5E
    012F6 E037      LDI	R19,7
    012F7 E002      LDI	R16,2
    012F8 940E 065A CALL	_lcd_write_str_con
(0380) 		   break;
    012FA C02F      RJMP	0x132A
(0381) 		 case 1:
(0382) 		   //写温度
(0383) 		   lcd_write_pos(4,1);
    012FB E021      LDI	R18,1
    012FC E004      LDI	R16,4
    012FD 940E 05CC CALL	_lcd_write_pos
(0384) 		   lcd_write_str_con(1,"150");
    012FF E52A      LDI	R18,0x5A
    01300 E037      LDI	R19,7
    01301 E001      LDI	R16,1
    01302 940E 065A CALL	_lcd_write_str_con
(0385) 		   lcd_write_char_con(1,0xA1);
    01304 EA21      LDI	R18,0xA1
    01305 E001      LDI	R16,1
    01306 940E 05B8 CALL	_lcd_write_char_con
(0386)            lcd_write_char_con(1,0xE6);
    01308 EE26      LDI	R18,0xE6
    01309 E001      LDI	R16,1
    0130A 940E 05B8 CALL	_lcd_write_char_con
(0387) 		   //写状态
(0388) 		   break;
    0130C C01D      RJMP	0x132A
(0389) 		 case 2:
(0390) 		   lcd_write_str_con(2,"故障");
    0130D E525      LDI	R18,0x55
    0130E E037      LDI	R19,7
    0130F E002      LDI	R16,2
    01310 940E 065A CALL	_lcd_write_str_con
(0391) 		   break;
    01312 C017      RJMP	0x132A
(0392) 		 case 3:
(0393) 		   lcd_write_str_con(2,"暂停");
    01313 E520      LDI	R18,0x50
    01314 E037      LDI	R19,7
    01315 E002      LDI	R16,2
    01316 940E 065A CALL	_lcd_write_str_con
(0394) 		   break;
    01318 C011      RJMP	0x132A
(0395) 		 case 4:
(0396) 		   lcd_write_str_con(2,"结束");
    01319 E42B      LDI	R18,0x4B
    0131A E037      LDI	R19,7
    0131B E002      LDI	R16,2
    0131C 940E 065A CALL	_lcd_write_str_con
(0397) 		   break;
    0131E C00B      RJMP	0x132A
(0398) 		 case 5:
(0399) 		   lcd_write_str_con(2,"等待");
    0131F E426      LDI	R18,0x46
    01320 E037      LDI	R19,7
    01321 E002      LDI	R16,2
    01322 940E 065A CALL	_lcd_write_str_con
(0400) 		   break;
    01324 C005      RJMP	0x132A
(0401) 		 case 6:
(0402) 		   lcd_write_str_con(2,"暂停");
    01325 E520      LDI	R18,0x50
    01326 E037      LDI	R19,7
    01327 E002      LDI	R16,2
    01328 940E 065A CALL	_lcd_write_str_con
(0403) 		   break;
(0404) 		   break;
(0405) 		 default:
(0406) 		   break;
(0407) 	   }
(0408) 	
(0409)       keyV=KeyScan_once();  
    0132A 940E 04AD CALL	_KeyScan_once
    0132C 2F60      MOV	R22,R16
(0410) 	  if(keyV=='e'){
    0132D 3605      CPI	R16,0x65
    0132E F4F9      BNE	0x134E
(0411) 	      Set_White_off(1,3,2);
    0132F E082      LDI	R24,2
    01330 8388      ST	Y,R24
    01331 E023      LDI	R18,3
    01332 E001      LDI	R16,1
    01333 940E 07C5 CALL	_Set_White_off
(0412) 		  Set_White_off(4,3,5);
    01335 E085      LDI	R24,5
    01336 8388      ST	Y,R24
    01337 E023      LDI	R18,3
    01338 E004      LDI	R16,4
    01339 940E 07C5 CALL	_Set_White_off
(0413) 		  Set_White_off(8,3,9);
    0133B E089      LDI	R24,0x9
    0133C 8388      ST	Y,R24
    0133D E023      LDI	R18,3
    0133E E008      LDI	R16,0x8
    0133F 940E 07C5 CALL	_Set_White_off
(0414) 		  Set_White_off(11,3,12);
    01341 E08C      LDI	R24,0xC
    01342 8388      ST	Y,R24
    01343 E023      LDI	R18,3
    01344 E00B      LDI	R16,0xB
    01345 940E 07C5 CALL	_Set_White_off
(0415) 		  pageNum=1;
    01347 E081      LDI	R24,1
    01348 E090      LDI	R25,0
    01349 9390 0C58 STS	pageNum+1,R25
    0134B 9380 0C57 STS	pageNum,R24
(0416) 		  return;
    0134D C0DE      RJMP	0x142C
(0417) 	  }else if(keyV=='l'){
    0134E 366C      CPI	R22,0x6C
    0134F F5D1      BNE	0x138A
(0418) 	     switch(cur){
    01350 3041      CPI	R20,1
    01351 E0E0      LDI	R30,0
    01352 075E      CPC	R21,R30
    01353 F049      BEQ	0x135D
    01354 3042      CPI	R20,2
    01355 E0E0      LDI	R30,0
    01356 075E      CPC	R21,R30
    01357 F0A1      BEQ	0x136C
    01358 3043      CPI	R20,3
    01359 E0E0      LDI	R30,0
    0135A 075E      CPC	R21,R30
    0135B F0F9      BEQ	0x137B
    0135C C0CE      RJMP	0x142B
(0419) 		   case 1:
(0420) 		     Set_White_off(4,3,5);
    0135D E085      LDI	R24,5
    0135E 8388      ST	Y,R24
    0135F E023      LDI	R18,3
    01360 E004      LDI	R16,4
    01361 940E 07C5 CALL	_Set_White_off
(0421) 		     Set_White(1,3,2);
    01363 E082      LDI	R24,2
    01364 8388      ST	Y,R24
    01365 E023      LDI	R18,3
    01366 E001      LDI	R16,1
    01367 940E 0835 CALL	_Set_White
(0422) 			 cur=0;
    01369 2744      CLR	R20
    0136A 2755      CLR	R21
(0423) 		     break;
    0136B C0BF      RJMP	0x142B
(0424) 		   case 2:
(0425) 		     Set_White_off(8,3,9);
    0136C E089      LDI	R24,0x9
    0136D 8388      ST	Y,R24
    0136E E023      LDI	R18,3
    0136F E008      LDI	R16,0x8
    01370 940E 07C5 CALL	_Set_White_off
(0426) 		     Set_White(4,3,5);
    01372 E085      LDI	R24,5
    01373 8388      ST	Y,R24
    01374 E023      LDI	R18,3
    01375 E004      LDI	R16,4
    01376 940E 0835 CALL	_Set_White
(0427) 		     cur=1;
    01378 E041      LDI	R20,1
    01379 E050      LDI	R21,0
(0428) 		     break;
    0137A C0B0      RJMP	0x142B
(0429) 		   case 3:
(0430) 		     Set_White_off(11,3,12);
    0137B E08C      LDI	R24,0xC
    0137C 8388      ST	Y,R24
    0137D E023      LDI	R18,3
    0137E E00B      LDI	R16,0xB
    0137F 940E 07C5 CALL	_Set_White_off
(0431) 		     Set_White(8,3,9);
    01381 E089      LDI	R24,0x9
    01382 8388      ST	Y,R24
    01383 E023      LDI	R18,3
    01384 E008      LDI	R16,0x8
    01385 940E 0835 CALL	_Set_White
(0432) 		     cur=2;
    01387 E042      LDI	R20,2
    01388 E050      LDI	R21,0
(0433) 		     break;
(0434) 		 }
(0435) 	  }else if(keyV=='r'){
    01389 C0A1      RJMP	0x142B
    0138A 3762      CPI	R22,0x72
    0138B F5C9      BNE	0x13C5
(0436) 	       switch(cur){
    0138C 3040      CPI	R20,0
    0138D 0745      CPC	R20,R21
    0138E F049      BEQ	0x1398
    0138F 3041      CPI	R20,1
    01390 E0E0      LDI	R30,0
    01391 075E      CPC	R21,R30
    01392 F0A1      BEQ	0x13A7
    01393 3042      CPI	R20,2
    01394 E0E0      LDI	R30,0
    01395 075E      CPC	R21,R30
    01396 F0F9      BEQ	0x13B6
    01397 C093      RJMP	0x142B
(0437) 		   case 0:
(0438) 		     Set_White(4,3,5);
    01398 E085      LDI	R24,5
    01399 8388      ST	Y,R24
    0139A E023      LDI	R18,3
    0139B E004      LDI	R16,4
    0139C 940E 0835 CALL	_Set_White
(0439) 		     Set_White_off(1,3,2);
    0139E E082      LDI	R24,2
    0139F 8388      ST	Y,R24
    013A0 E023      LDI	R18,3
    013A1 E001      LDI	R16,1
    013A2 940E 07C5 CALL	_Set_White_off
(0440) 			 cur=1;
    013A4 E041      LDI	R20,1
    013A5 E050      LDI	R21,0
(0441) 		     break;
    013A6 C084      RJMP	0x142B
(0442) 		   case 1:
(0443) 		     Set_White(8,3,9);
    013A7 E089      LDI	R24,0x9
    013A8 8388      ST	Y,R24
    013A9 E023      LDI	R18,3
    013AA E008      LDI	R16,0x8
    013AB 940E 0835 CALL	_Set_White
(0444) 		     Set_White_off(4,3,5);
    013AD E085      LDI	R24,5
    013AE 8388      ST	Y,R24
    013AF E023      LDI	R18,3
    013B0 E004      LDI	R16,4
    013B1 940E 07C5 CALL	_Set_White_off
(0445) 		     cur=2;
    013B3 E042      LDI	R20,2
    013B4 E050      LDI	R21,0
(0446) 		     break;
    013B5 C075      RJMP	0x142B
(0447) 		   case 2:
(0448) 		     Set_White(11,3,12);
    013B6 E08C      LDI	R24,0xC
    013B7 8388      ST	Y,R24
    013B8 E023      LDI	R18,3
    013B9 E00B      LDI	R16,0xB
    013BA 940E 0835 CALL	_Set_White
(0449) 		     Set_White_off(8,3,9);
    013BC E089      LDI	R24,0x9
    013BD 8388      ST	Y,R24
    013BE E023      LDI	R18,3
    013BF E008      LDI	R16,0x8
    013C0 940E 07C5 CALL	_Set_White_off
(0450) 		     cur=3;
    013C2 E043      LDI	R20,3
    013C3 E050      LDI	R21,0
(0451) 		     break;
(0452) 		 }
(0453) 	  }else if(keyV=='t'){
    013C4 C066      RJMP	0x142B
    013C5 3764      CPI	R22,0x74
    013C6 F009      BEQ	0x13C8
    013C7 C042      RJMP	0x140A
(0454) 	       switch(cur){
    013C8 3040      CPI	R20,0
    013C9 0745      CPC	R20,R21
    013CA F069      BEQ	0x13D8
    013CB 3041      CPI	R20,1
    013CC E0E0      LDI	R30,0
    013CD 075E      CPC	R21,R30
    013CE F0B1      BEQ	0x13E5
    013CF 3042      CPI	R20,2
    013D0 E0E0      LDI	R30,0
    013D1 075E      CPC	R21,R30
    013D2 F0C9      BEQ	0x13EC
    013D3 3043      CPI	R20,3
    013D4 E0E0      LDI	R30,0
    013D5 075E      CPC	R21,R30
    013D6 F0E1      BEQ	0x13F3
    013D7 C053      RJMP	0x142B
(0455) 		   case 0:
(0456) 		     Set_White_off(1,3,2);
    013D8 E082      LDI	R24,2
    013D9 8388      ST	Y,R24
    013DA E023      LDI	R18,3
    013DB E001      LDI	R16,1
    013DC 940E 07C5 CALL	_Set_White_off
(0457) 			 pageNum=4;
    013DE E084      LDI	R24,4
    013DF E090      LDI	R25,0
    013E0 9390 0C58 STS	pageNum+1,R25
    013E2 9380 0C57 STS	pageNum,R24
(0458) 		     return;
    013E4 C047      RJMP	0x142C
(0459) 		   case 1:
(0460) 		     //运行操作
(0461) 			 set_start(pageParam[0]);
    013E5 9100 0C4D LDS	R16,pageParam
    013E7 9110 0C4E LDS	R17,pageParam+1
    013E9 940E 1FEB CALL	_set_start
(0462) 		     break;
    013EB C03F      RJMP	0x142B
(0463) 		   case 2:
(0464) 		     //暂停操作
(0465) 			 set_stop(pageParam[0]);
    013EC 9100 0C4D LDS	R16,pageParam
    013EE 9110 0C4E LDS	R17,pageParam+1
    013F0 940E 201F CALL	_set_stop
(0466) 		     break;
    013F2 C038      RJMP	0x142B
(0467) 		  case 3:
(0468) 		     //重置操作
(0469) 			 Set_White_off(11,3,12);
    013F3 E08C      LDI	R24,0xC
    013F4 8388      ST	Y,R24
    013F5 E023      LDI	R18,3
    013F6 E00B      LDI	R16,0xB
    013F7 940E 07C5 CALL	_Set_White_off
(0470) 			 pageParam[2]=1;//表示重置是温度数据的
    013F9 E081      LDI	R24,1
    013FA E090      LDI	R25,0
    013FB 9390 0C52 STS	pageParam+5,R25
    013FD 9380 0C51 STS	pageParam+4,R24
(0471) 			 prePageNum=3;
    013FF E083      LDI	R24,3
    01400 9390 0C4C STS	prePageNum+1,R25
    01402 9380 0C4B STS	prePageNum,R24
(0472) 		     pageNum=7;
    01404 E087      LDI	R24,7
    01405 9390 0C58 STS	pageNum+1,R25
    01407 9380 0C57 STS	pageNum,R24
(0473) 		     return;
    01409 C022      RJMP	0x142C
(0474) 		 }
(0475) 	  }else if(keyV=='s'){
    0140A 3763      CPI	R22,0x73
    0140B F4F9      BNE	0x142B
(0476) 	       Set_White_off(1,3,2);
    0140C E082      LDI	R24,2
    0140D 8388      ST	Y,R24
    0140E E023      LDI	R18,3
    0140F E001      LDI	R16,1
    01410 940E 07C5 CALL	_Set_White_off
(0477) 		   Set_White_off(4,3,5);
    01412 E085      LDI	R24,5
    01413 8388      ST	Y,R24
    01414 E023      LDI	R18,3
    01415 E004      LDI	R16,4
    01416 940E 07C5 CALL	_Set_White_off
(0478) 		   Set_White_off(8,3,9);
    01418 E089      LDI	R24,0x9
    01419 8388      ST	Y,R24
    0141A E023      LDI	R18,3
    0141B E008      LDI	R16,0x8
    0141C 940E 07C5 CALL	_Set_White_off
(0479) 		   Set_White_off(11,3,12);
    0141E E08C      LDI	R24,0xC
    0141F 8388      ST	Y,R24
    01420 E023      LDI	R18,3
    01421 E00B      LDI	R16,0xB
    01422 940E 07C5 CALL	_Set_White_off
(0480) 			pageNum=4;
    01424 E084      LDI	R24,4
    01425 E090      LDI	R25,0
    01426 9390 0C58 STS	pageNum+1,R25
    01428 9380 0C57 STS	pageNum,R24
(0481) 		     return;
    0142A C001      RJMP	0x142C
    0142B CE93      RJMP	0x12BF
    0142C 9622      ADIW	R28,2
    0142D 940C 21EB JMP	pop_xgsetF000
_page4_data:
  numL                 --> R14
  numH                 --> R12
  beginCur             --> R20
  i                    --> R22
  dataCach             --> R10
  y                    --> Y,+12
    0142F 940E 2189 CALL	push_arg4
    01431 940E 21D1 CALL	push_xgsetF0FC
    01433 0159      MOVW	R10,R18
    01434 9722      SBIW	R28,2
(0482) 	  }
(0483) 	}
(0484)  }
(0485)  //等下调用page_ac()函数改变ac写数据
(0486)  void page4_data(uint y,uint* dataCach){
(0487)       uint numH=0xA2;
    01435 EA82      LDI	R24,0xA2
    01436 E090      LDI	R25,0
    01437 016C      MOVW	R12,R24
(0488)       uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
    01438 EC84      LDI	R24,0xC4
    01439 017C      MOVW	R14,R24
(0489) 	  uint i=0;
    0143A 2766      CLR	R22
    0143B 2777      CLR	R23
(0490) 	  uint beginCur=0;
    0143C 2744      CLR	R20
    0143D 2755      CLR	R21
(0491)     //这个判断需要些到读取值函数中去
(0492) 	 if(y<3){
    0143E 858C      LDD	R24,Y+12
    0143F 859D      LDD	R25,Y+13
    01440 3083      CPI	R24,3
    01441 E0E0      LDI	R30,0
    01442 079E      CPC	R25,R30
    01443 F530      BCC	0x146A
(0493) 	   lcd_write_char(2,1,numH);
    01444 82C8      ST	Y,R12
    01445 E021      LDI	R18,1
    01446 E002      LDI	R16,2
    01447 940E 05EA CALL	_lcd_write_char
(0494)        lcd_write_char_con(1,numL+1);
    01449 0197      MOVW	R18,R14
    0144A 5F2F      SUBI	R18,0xFF
    0144B 4F3F      SBCI	R19,0xFF
    0144C E001      LDI	R16,1
    0144D 940E 05B8 CALL	_lcd_write_char_con
(0495) 	   lcd_write_char(2,2,numH);
    0144F 82C8      ST	Y,R12
    01450 E022      LDI	R18,2
    01451 E002      LDI	R16,2
    01452 940E 05EA CALL	_lcd_write_char
(0496)        lcd_write_char_con(2,numL+2);
    01454 0197      MOVW	R18,R14
    01455 5F2E      SUBI	R18,0xFE
    01456 4F3F      SBCI	R19,0xFF
    01457 E002      LDI	R16,2
    01458 940E 05B8 CALL	_lcd_write_char_con
(0497)        lcd_write_char(2,3,numH);
    0145A 82C8      ST	Y,R12
    0145B E023      LDI	R18,3
    0145C E002      LDI	R16,2
    0145D 940E 05EA CALL	_lcd_write_char
(0498)        lcd_write_char_con(3,numL+3);
    0145F 0197      MOVW	R18,R14
    01460 5F2D      SUBI	R18,0xFD
    01461 4F3F      SBCI	R19,0xFF
    01462 E003      LDI	R16,3
    01463 940E 05B8 CALL	_lcd_write_char_con
(0499) 	   y=0;
    01465 2400      CLR	R0
    01466 2411      CLR	R1
    01467 861D      STD	Y+13,R1
    01468 860C      STD	Y+12,R0
(0500) 	  }else if(y>=3 && y<6){
    01469 C08F      RJMP	0x14F9
    0146A 858C      LDD	R24,Y+12
    0146B 859D      LDD	R25,Y+13
    0146C 3083      CPI	R24,3
    0146D E0E0      LDI	R30,0
    0146E 079E      CPC	R25,R30
    0146F F150      BCS	0x149A
    01470 3086      CPI	R24,6
    01471 E0E0      LDI	R30,0
    01472 079E      CPC	R25,R30
    01473 F530      BCC	0x149A
(0501) 	   lcd_write_char(2,1,numH);
    01474 82C8      ST	Y,R12
    01475 E021      LDI	R18,1
    01476 E002      LDI	R16,2
    01477 940E 05EA CALL	_lcd_write_char
(0502)        lcd_write_char_con(1,numL+4);
    01479 0197      MOVW	R18,R14
    0147A 5F2C      SUBI	R18,0xFC
    0147B 4F3F      SBCI	R19,0xFF
    0147C E001      LDI	R16,1
    0147D 940E 05B8 CALL	_lcd_write_char_con
(0503) 	   lcd_write_char(2,2,numH);
    0147F 82C8      ST	Y,R12
    01480 E022      LDI	R18,2
    01481 E002      LDI	R16,2
    01482 940E 05EA CALL	_lcd_write_char
(0504)        lcd_write_char_con(2,numL+5);
    01484 0197      MOVW	R18,R14
    01485 5F2B      SUBI	R18,0xFB
    01486 4F3F      SBCI	R19,0xFF
    01487 E002      LDI	R16,2
    01488 940E 05B8 CALL	_lcd_write_char_con
(0505)        lcd_write_char(2,3,numH);
    0148A 82C8      ST	Y,R12
    0148B E023      LDI	R18,3
    0148C E002      LDI	R16,2
    0148D 940E 05EA CALL	_lcd_write_char
(0506)        lcd_write_char_con(3,numL+6);
    0148F 0197      MOVW	R18,R14
    01490 5F2A      SUBI	R18,0xFA
    01491 4F3F      SBCI	R19,0xFF
    01492 E003      LDI	R16,3
    01493 940E 05B8 CALL	_lcd_write_char_con
(0507) 	   y=1;
    01495 E081      LDI	R24,1
    01496 E090      LDI	R25,0
    01497 879D      STD	Y+13,R25
    01498 878C      STD	Y+12,R24
(0508) 	  }else if(y>=6 && y<9){
    01499 C05F      RJMP	0x14F9
    0149A 858C      LDD	R24,Y+12
    0149B 859D      LDD	R25,Y+13
    0149C 3086      CPI	R24,6
    0149D E0E0      LDI	R30,0
    0149E 079E      CPC	R25,R30
    0149F F150      BCS	0x14CA
    014A0 3089      CPI	R24,0x9
    014A1 E0E0      LDI	R30,0
    014A2 079E      CPC	R25,R30
    014A3 F530      BCC	0x14CA
(0509) 	   lcd_write_char(2,1,numH);
    014A4 82C8      ST	Y,R12
    014A5 E021      LDI	R18,1
    014A6 E002      LDI	R16,2
    014A7 940E 05EA CALL	_lcd_write_char
(0510)        lcd_write_char_con(1,numL+7);
    014A9 0197      MOVW	R18,R14
    014AA 5F29      SUBI	R18,0xF9
    014AB 4F3F      SBCI	R19,0xFF
    014AC E001      LDI	R16,1
    014AD 940E 05B8 CALL	_lcd_write_char_con
(0511) 	   lcd_write_char(2,2,numH);
    014AF 82C8      ST	Y,R12
    014B0 E022      LDI	R18,2
    014B1 E002      LDI	R16,2
    014B2 940E 05EA CALL	_lcd_write_char
(0512)        lcd_write_char_con(2,numL+8);
    014B4 0197      MOVW	R18,R14
    014B5 5F28      SUBI	R18,0xF8
    014B6 4F3F      SBCI	R19,0xFF
    014B7 E002      LDI	R16,2
    014B8 940E 05B8 CALL	_lcd_write_char_con
(0513)        lcd_write_char(2,3,numH);
    014BA 82C8      ST	Y,R12
    014BB E023      LDI	R18,3
    014BC E002      LDI	R16,2
    014BD 940E 05EA CALL	_lcd_write_char
(0514)        lcd_write_char_con(3,numL+9);
    014BF 0197      MOVW	R18,R14
    014C0 5F27      SUBI	R18,0xF7
    014C1 4F3F      SBCI	R19,0xFF
    014C2 E003      LDI	R16,3
    014C3 940E 05B8 CALL	_lcd_write_char_con
(0515) 	   y=2;
    014C5 E082      LDI	R24,2
    014C6 E090      LDI	R25,0
    014C7 879D      STD	Y+13,R25
    014C8 878C      STD	Y+12,R24
(0516) 	  }else if(y>=9 && y<12){
    014C9 C02F      RJMP	0x14F9
    014CA 858C      LDD	R24,Y+12
    014CB 859D      LDD	R25,Y+13
    014CC 3089      CPI	R24,0x9
    014CD E0E0      LDI	R30,0
    014CE 079E      CPC	R25,R30
    014CF F148      BCS	0x14F9
    014D0 308C      CPI	R24,0xC
    014D1 E0E0      LDI	R30,0
    014D2 079E      CPC	R25,R30
    014D3 F528      BCC	0x14F9
(0517) 	   lcd_write_char(2,1,numH);
    014D4 82C8      ST	Y,R12
    014D5 E021      LDI	R18,1
    014D6 E002      LDI	R16,2
    014D7 940E 05EA CALL	_lcd_write_char
(0518)        lcd_write_char_con(1,numL+10);
    014D9 0197      MOVW	R18,R14
    014DA 5F26      SUBI	R18,0xF6
    014DB 4F3F      SBCI	R19,0xFF
    014DC E001      LDI	R16,1
    014DD 940E 05B8 CALL	_lcd_write_char_con
(0519) 	   lcd_write_char(2,2,numH);
    014DF 82C8      ST	Y,R12
    014E0 E022      LDI	R18,2
    014E1 E002      LDI	R16,2
    014E2 940E 05EA CALL	_lcd_write_char
(0520)        lcd_write_char_con(2,numL+11);
    014E4 0197      MOVW	R18,R14
    014E5 5F25      SUBI	R18,0xF5
    014E6 4F3F      SBCI	R19,0xFF
    014E7 E002      LDI	R16,2
    014E8 940E 05B8 CALL	_lcd_write_char_con
(0521)        lcd_write_char(2,3,numH);
    014EA 82C8      ST	Y,R12
    014EB E023      LDI	R18,3
    014EC E002      LDI	R16,2
    014ED 940E 05EA CALL	_lcd_write_char
(0522)        lcd_write_char_con(3,numL+12);
    014EF 0197      MOVW	R18,R14
    014F0 5F24      SUBI	R18,0xF4
    014F1 4F3F      SBCI	R19,0xFF
    014F2 E003      LDI	R16,3
    014F3 940E 05B8 CALL	_lcd_write_char_con
(0523) 	   y=3;
    014F5 E083      LDI	R24,3
    014F6 E090      LDI	R25,0
    014F7 879D      STD	Y+13,R25
    014F8 878C      STD	Y+12,R24
(0524) 	  }
(0525) 	  //还要做数据读取操作
(0526) 	  beginCur=y*33;//获得首个数据
    014F9 E201      LDI	R16,0x21
    014FA E010      LDI	R17,0
    014FB 852C      LDD	R18,Y+12
    014FC 853D      LDD	R19,Y+13
    014FD 940E 21AA CALL	empy16s
    014FF 01A8      MOVW	R20,R16
(0527) 	  for(i=1;i<=3;i++){
    01500 E061      LDI	R22,1
    01501 E070      LDI	R23,0
    01502 C0C5      RJMP	0x15C8
(0528) 	    if(i==1){//第一次进入需要判断，首位写不许用++
    01503 3061      CPI	R22,1
    01504 E0E0      LDI	R30,0
    01505 077E      CPC	R23,R30
    01506 F471      BNE	0x1515
(0529) 		 lcd_write_char(3,i,0x30 | *(dataCach+beginCur));
    01507 01FA      MOVW	R30,R20
    01508 0FEE      LSL	R30
    01509 1FFF      ROL	R31
    0150A 0DEA      ADD	R30,R10
    0150B 1DFB      ADC	R31,R11
    0150C 8180      LD	R24,Z
    0150D 8191      LDD	R25,Z+1
    0150E 6380      ORI	R24,0x30
    0150F 8388      ST	Y,R24
    01510 2F26      MOV	R18,R22
    01511 E003      LDI	R16,3
    01512 940E 05EA CALL	_lcd_write_char
(0530) 		}else{
    01514 C010      RJMP	0x1525
(0531) 		 lcd_write_char(3,i,0x30 | *(dataCach+(++beginCur)));
    01515 01CA      MOVW	R24,R20
    01516 9601      ADIW	R24,1
    01517 01AC      MOVW	R20,R24
    01518 01FC      MOVW	R30,R24
    01519 0FEE      LSL	R30
    0151A 1FFF      ROL	R31
    0151B 0DEA      ADD	R30,R10
    0151C 1DFB      ADC	R31,R11
    0151D 8180      LD	R24,Z
    0151E 8191      LDD	R25,Z+1
    0151F 6380      ORI	R24,0x30
    01520 8388      ST	Y,R24
    01521 2F26      MOV	R18,R22
    01522 E003      LDI	R16,3
    01523 940E 05EA CALL	_lcd_write_char
(0532) 		}
(0533)         lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01525 01CA      MOVW	R24,R20
    01526 9601      ADIW	R24,1
    01527 01AC      MOVW	R20,R24
    01528 01FC      MOVW	R30,R24
    01529 0FEE      LSL	R30
    0152A 1FFF      ROL	R31
    0152B 0DEA      ADD	R30,R10
    0152C 1DFB      ADC	R31,R11
    0152D 8120      LD	R18,Z
    0152E 8131      LDD	R19,Z+1
    0152F 6320      ORI	R18,0x30
    01530 2F06      MOV	R16,R22
    01531 940E 05B8 CALL	_lcd_write_char_con
(0534) 		 lcd_write_str_con(i,": ");
    01533 EF2F      LDI	R18,0xFF
    01534 E036      LDI	R19,6
    01535 2F06      MOV	R16,R22
    01536 940E 065A CALL	_lcd_write_str_con
(0535) 	     lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01538 01CA      MOVW	R24,R20
    01539 9601      ADIW	R24,1
    0153A 01AC      MOVW	R20,R24
    0153B 01FC      MOVW	R30,R24
    0153C 0FEE      LSL	R30
    0153D 1FFF      ROL	R31
    0153E 0DEA      ADD	R30,R10
    0153F 1DFB      ADC	R31,R11
    01540 8120      LD	R18,Z
    01541 8131      LDD	R19,Z+1
    01542 6320      ORI	R18,0x30
    01543 2F06      MOV	R16,R22
    01544 940E 05B8 CALL	_lcd_write_char_con
(0536) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01546 01CA      MOVW	R24,R20
    01547 9601      ADIW	R24,1
    01548 01AC      MOVW	R20,R24
    01549 01FC      MOVW	R30,R24
    0154A 0FEE      LSL	R30
    0154B 1FFF      ROL	R31
    0154C 0DEA      ADD	R30,R10
    0154D 1DFB      ADC	R31,R11
    0154E 8120      LD	R18,Z
    0154F 8131      LDD	R19,Z+1
    01550 6320      ORI	R18,0x30
    01551 2F06      MOV	R16,R22
    01552 940E 05B8 CALL	_lcd_write_char_con
(0537) 		 
(0538) 		 lcd_write_char(7,i,0x30 | *(dataCach+(++beginCur)));
    01554 01CA      MOVW	R24,R20
    01555 9601      ADIW	R24,1
    01556 01AC      MOVW	R20,R24
    01557 01FC      MOVW	R30,R24
    01558 0FEE      LSL	R30
    01559 1FFF      ROL	R31
    0155A 0DEA      ADD	R30,R10
    0155B 1DFB      ADC	R31,R11
    0155C 8180      LD	R24,Z
    0155D 8191      LDD	R25,Z+1
    0155E 6380      ORI	R24,0x30
    0155F 8388      ST	Y,R24
    01560 2F26      MOV	R18,R22
    01561 E007      LDI	R16,7
    01562 940E 05EA CALL	_lcd_write_char
(0539) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01564 01CA      MOVW	R24,R20
    01565 9601      ADIW	R24,1
    01566 01AC      MOVW	R20,R24
    01567 01FC      MOVW	R30,R24
    01568 0FEE      LSL	R30
    01569 1FFF      ROL	R31
    0156A 0DEA      ADD	R30,R10
    0156B 1DFB      ADC	R31,R11
    0156C 8120      LD	R18,Z
    0156D 8131      LDD	R19,Z+1
    0156E 6320      ORI	R18,0x30
    0156F 2F06      MOV	R16,R22
    01570 940E 05B8 CALL	_lcd_write_char_con
(0540) 		  lcd_write_str_con(i,": ");
    01572 EF2F      LDI	R18,0xFF
    01573 E036      LDI	R19,6
    01574 2F06      MOV	R16,R22
    01575 940E 065A CALL	_lcd_write_str_con
(0541) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01577 01CA      MOVW	R24,R20
    01578 9601      ADIW	R24,1
    01579 01AC      MOVW	R20,R24
    0157A 01FC      MOVW	R30,R24
    0157B 0FEE      LSL	R30
    0157C 1FFF      ROL	R31
    0157D 0DEA      ADD	R30,R10
    0157E 1DFB      ADC	R31,R11
    0157F 8120      LD	R18,Z
    01580 8131      LDD	R19,Z+1
    01581 6320      ORI	R18,0x30
    01582 2F06      MOV	R16,R22
    01583 940E 05B8 CALL	_lcd_write_char_con
(0542) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01585 01CA      MOVW	R24,R20
    01586 9601      ADIW	R24,1
    01587 01AC      MOVW	R20,R24
    01588 01FC      MOVW	R30,R24
    01589 0FEE      LSL	R30
    0158A 1FFF      ROL	R31
    0158B 0DEA      ADD	R30,R10
    0158C 1DFB      ADC	R31,R11
    0158D 8120      LD	R18,Z
    0158E 8131      LDD	R19,Z+1
    0158F 6320      ORI	R18,0x30
    01590 2F06      MOV	R16,R22
    01591 940E 05B8 CALL	_lcd_write_char_con
(0543) 		 
(0544) 		 lcd_write_str(10,i," ");
    01593 EF8D      LDI	R24,0xFD
    01594 E096      LDI	R25,6
    01595 8399      STD	Y+1,R25
    01596 8388      ST	Y,R24
    01597 2F26      MOV	R18,R22
    01598 E00A      LDI	R16,0xA
    01599 940E 0610 CALL	_lcd_write_str
(0545) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    0159B 01CA      MOVW	R24,R20
    0159C 9601      ADIW	R24,1
    0159D 01AC      MOVW	R20,R24
    0159E 01FC      MOVW	R30,R24
    0159F 0FEE      LSL	R30
    015A0 1FFF      ROL	R31
    015A1 0DEA      ADD	R30,R10
    015A2 1DFB      ADC	R31,R11
    015A3 8120      LD	R18,Z
    015A4 8131      LDD	R19,Z+1
    015A5 6320      ORI	R18,0x30
    015A6 2F06      MOV	R16,R22
    015A7 940E 05B8 CALL	_lcd_write_char_con
(0546) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    015A9 01CA      MOVW	R24,R20
    015AA 9601      ADIW	R24,1
    015AB 01AC      MOVW	R20,R24
    015AC 01FC      MOVW	R30,R24
    015AD 0FEE      LSL	R30
    015AE 1FFF      ROL	R31
    015AF 0DEA      ADD	R30,R10
    015B0 1DFB      ADC	R31,R11
    015B1 8120      LD	R18,Z
    015B2 8131      LDD	R19,Z+1
    015B3 6320      ORI	R18,0x30
    015B4 2F06      MOV	R16,R22
    015B5 940E 05B8 CALL	_lcd_write_char_con
(0547) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    015B7 01CA      MOVW	R24,R20
    015B8 9601      ADIW	R24,1
    015B9 016C      MOVW	R12,R24
    015BA 01AC      MOVW	R20,R24
    015BB 01FC      MOVW	R30,R24
    015BC 0FEE      LSL	R30
    015BD 1FFF      ROL	R31
    015BE 0DEA      ADD	R30,R10
    015BF 1DFB      ADC	R31,R11
    015C0 8120      LD	R18,Z
    015C1 8131      LDD	R19,Z+1
    015C2 6320      ORI	R18,0x30
    015C3 2F06      MOV	R16,R22
    015C4 940E 05B8 CALL	_lcd_write_char_con
    015C6 5F6F      SUBI	R22,0xFF
    015C7 4F7F      SBCI	R23,0xFF
    015C8 E083      LDI	R24,3
    015C9 E090      LDI	R25,0
    015CA 1786      CP	R24,R22
    015CB 0797      CPC	R25,R23
    015CC F008      BCS	0x15CE
    015CD CF35      RJMP	0x1503
    015CE 9622      ADIW	R28,2
    015CF 940E 21C6 CALL	pop_xgsetF0FC
    015D1 9624      ADIW	R28,4
    015D2 9508      RET
_page4_ac:
  y                    --> R10
  x                    --> R22
  lcd_y                --> R20
  dataCach             --> R12
  oldcur               --> Y,+12
  cur                  --> Y,+10
    015D3 940E 2189 CALL	push_arg4
    015D5 940E 21D1 CALL	push_xgsetF0FC
    015D7 84CE      LDD	R12,Y+14
    015D8 84DF      LDD	R13,Y+15
(0548) 	  }
(0549) 	  
(0550)  }
(0551)  //传入cur做ac位置操作,判断是否翻页
(0552)  void page4_ac(uint cur,uint oldcur,uint* dataCach){
(0553)       uint y=cur/11;//逻辑y.从0开始
    015D9 E02B      LDI	R18,0xB
    015DA E030      LDI	R19,0
    015DB 850A      LDD	R16,Y+10
    015DC 851B      LDD	R17,Y+11
    015DD 940E 2190 CALL	div16u
    015DF 0158      MOVW	R10,R16
(0554) 	  uint lcd_y;//显示y
(0555) 	  uint x=cur%11;//x轴
    015E0 E02B      LDI	R18,0xB
    015E1 E030      LDI	R19,0
    015E2 850A      LDD	R16,Y+10
    015E3 851B      LDD	R17,Y+11
    015E4 940E 218E CALL	mod16u
    015E6 01B8      MOVW	R22,R16
(0556) 	  switch(y%3){
    015E7 E023      LDI	R18,3
    015E8 E030      LDI	R19,0
    015E9 0185      MOVW	R16,R10
    015EA 940E 218E CALL	mod16u
    015EC 0178      MOVW	R14,R16
    015ED 3000      CPI	R16,0
    015EE 0701      CPC	R16,R17
    015EF F051      BEQ	0x15FA
    015F0 01C7      MOVW	R24,R14
    015F1 3001      CPI	R16,1
    015F2 E0E0      LDI	R30,0
    015F3 071E      CPC	R17,R30
    015F4 F041      BEQ	0x15FD
    015F5 3002      CPI	R16,2
    015F6 E0E0      LDI	R30,0
    015F7 071E      CPC	R17,R30
    015F8 F039      BEQ	0x1600
    015F9 C008      RJMP	0x1602
(0557) 	   case 0://1行
(0558) 	     lcd_y=1;
    015FA E041      LDI	R20,1
    015FB E050      LDI	R21,0
(0559) 	     break;
    015FC C005      RJMP	0x1602
(0560) 	   case 1://2行
(0561) 	     lcd_y=2;
    015FD E042      LDI	R20,2
    015FE E050      LDI	R21,0
(0562) 		 break;
    015FF C002      RJMP	0x1602
(0563) 	   case 2://3行
(0564) 	     lcd_y=3;
    01600 E043      LDI	R20,3
    01601 E050      LDI	R21,0
(0565) 	     break;
(0566) 	  }
(0567) 	  switch((oldcur/11)/3){
    01602 E02B      LDI	R18,0xB
    01603 E030      LDI	R19,0
    01604 850C      LDD	R16,Y+12
    01605 851D      LDD	R17,Y+13
    01606 940E 2190 CALL	div16u
    01608 E023      LDI	R18,3
    01609 E030      LDI	R19,0
    0160A 940E 2190 CALL	div16u
    0160C 0178      MOVW	R14,R16
    0160D 3000      CPI	R16,0
    0160E 0701      CPC	R16,R17
    0160F F071      BEQ	0x161E
    01610 01C7      MOVW	R24,R14
    01611 3001      CPI	R16,1
    01612 E0E0      LDI	R30,0
    01613 071E      CPC	R17,R30
    01614 F0A1      BEQ	0x1629
    01615 3002      CPI	R16,2
    01616 E0E0      LDI	R30,0
    01617 071E      CPC	R17,R30
    01618 F101      BEQ	0x1639
    01619 3003      CPI	R16,3
    0161A E0E0      LDI	R30,0
    0161B 071E      CPC	R17,R30
    0161C F169      BEQ	0x164A
    0161D C035      RJMP	0x1653
(0568) 	    case 0:
(0569) 		 if(cur>32){
    0161E E280      LDI	R24,0x20
    0161F E090      LDI	R25,0
    01620 840A      LDD	R0,Y+10
    01621 841B      LDD	R1,Y+11
    01622 1580      CP	R24,R0
    01623 0591      CPC	R25,R1
    01624 F570      BCC	0x1653
(0570) 		   page4_data(y,dataCach);
    01625 0196      MOVW	R18,R12
    01626 0185      MOVW	R16,R10
    01627 DE07      RCALL	_page4_data
(0571) 		 }
(0572) 		 break;
    01628 C02A      RJMP	0x1653
(0573) 		case 1:
(0574) 		  if(cur>65 || cur<33){
    01629 E481      LDI	R24,0x41
    0162A E090      LDI	R25,0
    0162B 840A      LDD	R0,Y+10
    0162C 841B      LDD	R1,Y+11
    0162D 1580      CP	R24,R0
    0162E 0591      CPC	R25,R1
    0162F F028      BCS	0x1635
    01630 01C0      MOVW	R24,R0
    01631 3281      CPI	R24,0x21
    01632 E0E0      LDI	R30,0
    01633 079E      CPC	R25,R30
    01634 F4F0      BCC	0x1653
(0575) 		   page4_data(y,dataCach);
    01635 0196      MOVW	R18,R12
    01636 0185      MOVW	R16,R10
    01637 DDF7      RCALL	_page4_data
(0576) 		 }
(0577) 		 break;
    01638 C01A      RJMP	0x1653
(0578) 		case 2:
(0579) 		if(cur<66 || cur>98){
    01639 858A      LDD	R24,Y+10
    0163A 859B      LDD	R25,Y+11
    0163B 3482      CPI	R24,0x42
    0163C E0E0      LDI	R30,0
    0163D 079E      CPC	R25,R30
    0163E F038      BCS	0x1646
    0163F E682      LDI	R24,0x62
    01640 E090      LDI	R25,0
    01641 840A      LDD	R0,Y+10
    01642 841B      LDD	R1,Y+11
    01643 1580      CP	R24,R0
    01644 0591      CPC	R25,R1
    01645 F468      BCC	0x1653
(0580) 		   page4_data(y,dataCach);
    01646 0196      MOVW	R18,R12
    01647 0185      MOVW	R16,R10
    01648 DDE6      RCALL	_page4_data
(0581) 		 }
(0582) 		 break;
    01649 C009      RJMP	0x1653
(0583) 		case 3:
(0584) 		if(cur<99){
    0164A 858A      LDD	R24,Y+10
    0164B 859B      LDD	R25,Y+11
    0164C 3683      CPI	R24,0x63
    0164D E0E0      LDI	R30,0
    0164E 079E      CPC	R25,R30
    0164F F418      BCC	0x1653
(0585) 		   page4_data(y,dataCach);
    01650 0196      MOVW	R18,R12
    01651 0185      MOVW	R16,R10
    01652 DDDC      RCALL	_page4_data
(0586) 		 }
(0587) 		 break;
(0588) 	  }
(0589) 	  if(lcd_y==1){
    01653 3041      CPI	R20,1
    01654 E0E0      LDI	R30,0
    01655 075E      CPC	R21,R30
    01656 F449      BNE	0x1660
(0590) 	     cur_set(3);
    01657 E003      LDI	R16,3
    01658 E010      LDI	R17,0
    01659 940E 0781 CALL	_cur_set
(0591) 		 cur_set(4);
    0165B E004      LDI	R16,4
    0165C E010      LDI	R17,0
    0165D 940E 0781 CALL	_cur_set
(0592) 	  }else if(lcd_y==2 || lcd_y==3){
    0165F C010      RJMP	0x1670
    01660 3042      CPI	R20,2
    01661 E0E0      LDI	R30,0
    01662 075E      CPC	R21,R30
    01663 F021      BEQ	0x1668
    01664 3043      CPI	R20,3
    01665 E0E0      LDI	R30,0
    01666 075E      CPC	R21,R30
    01667 F441      BNE	0x1670
(0593) 	     cur_set(0);
    01668 2700      CLR	R16
    01669 2711      CLR	R17
    0166A 940E 0781 CALL	_cur_set
(0594) 		 cur_set(7);
    0166C E007      LDI	R16,7
    0166D E010      LDI	R17,0
    0166E 940E 0781 CALL	_cur_set
(0595) 	  }
(0596) 	  if(x==0){
    01670 3060      CPI	R22,0
    01671 0767      CPC	R22,R23
    01672 F429      BNE	0x1678
(0597) 	      lcd_write_pos(3,lcd_y);
    01673 2F24      MOV	R18,R20
    01674 E003      LDI	R16,3
    01675 940E 05CC CALL	_lcd_write_pos
(0598) 	  }else if(x==2){
    01677 C031      RJMP	0x16A9
    01678 3062      CPI	R22,2
    01679 E0E0      LDI	R30,0
    0167A 077E      CPC	R23,R30
    0167B F429      BNE	0x1681
(0599) 	       lcd_write_pos(5,lcd_y);
    0167C 2F24      MOV	R18,R20
    0167D E005      LDI	R16,5
    0167E 940E 05CC CALL	_lcd_write_pos
(0600) 	  }else if(x==4){
    01680 C028      RJMP	0x16A9
    01681 3064      CPI	R22,4
    01682 E0E0      LDI	R30,0
    01683 077E      CPC	R23,R30
    01684 F429      BNE	0x168A
(0601) 	        lcd_write_pos(7,lcd_y);
    01685 2F24      MOV	R18,R20
    01686 E007      LDI	R16,7
    01687 940E 05CC CALL	_lcd_write_pos
(0602) 	  }else if(x==6){
    01689 C01F      RJMP	0x16A9
    0168A 3066      CPI	R22,6
    0168B E0E0      LDI	R30,0
    0168C 077E      CPC	R23,R30
    0168D F429      BNE	0x1693
(0603) 	        lcd_write_pos(9,lcd_y);
    0168E 2F24      MOV	R18,R20
    0168F E009      LDI	R16,0x9
    01690 940E 05CC CALL	_lcd_write_pos
(0604) 	  }else if(x==8){
    01692 C016      RJMP	0x16A9
    01693 3068      CPI	R22,0x8
    01694 E0E0      LDI	R30,0
    01695 077E      CPC	R23,R30
    01696 F451      BNE	0x16A1
(0605) 	        lcd_write_pos(10,lcd_y);
    01697 2F24      MOV	R18,R20
    01698 E00A      LDI	R16,0xA
    01699 940E 05CC CALL	_lcd_write_pos
(0606) 			lcd_write_str_con(lcd_y," ");
    0169B EF2D      LDI	R18,0xFD
    0169C E036      LDI	R19,6
    0169D 2F04      MOV	R16,R20
    0169E 940E 065A CALL	_lcd_write_str_con
(0607) 	  }else if(x==9){
    016A0 C008      RJMP	0x16A9
    016A1 3069      CPI	R22,0x9
    016A2 E0E0      LDI	R30,0
    016A3 077E      CPC	R23,R30
    016A4 F421      BNE	0x16A9
(0608) 	        lcd_write_pos(11,lcd_y);
    016A5 2F24      MOV	R18,R20
    016A6 E00B      LDI	R16,0xB
    016A7 940E 05CC CALL	_lcd_write_pos
(0609) 	  }
(0610) 	  return;
    016A9 940E 21C6 CALL	pop_xgsetF0FC
    016AB 9624      ADIW	R28,4
    016AC 9508      RET
_page4:
  numL                 --> R20
  numH                 --> R20
  oldcur               --> R22
  dataCach             --> Y,+2
  cur                  --> R20
  keyV                 --> R10
  i                    --> R10
    016AD 940E 220C CALL	push_xgsetF03C
    016AF 97EF      SBIW	R28,0x3F
    016B0 97EF      SBIW	R28,0x3F
    016B1 97EF      SBIW	R28,0x3F
    016B2 97EF      SBIW	R28,0x3F
    016B3 972C      SBIW	R28,0xC
(0611)  }
(0612)   void page4(void){
(0613)     //定义一个局部的结构体，从对呀温度中获得数据。暂时未写
(0614)   uint numH=0xA2;
(0615)   uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
(0616)   uint cur=0;
    016B4 2744      CLR	R20
    016B5 2755      CLR	R21
(0617)   uint oldcur=0;
    016B6 2766      CLR	R22
    016B7 2777      CLR	R23
(0618)   uint dataCach[131]={0};
    016B8 E38C      LDI	R24,0x3C
    016B9 E095      LDI	R25,5
    016BA 01FE      MOVW	R30,R28
    016BB 9632      ADIW	R30,2
    016BC E006      LDI	R16,6
    016BD E011      LDI	R17,1
    016BE 93FA      ST	-Y,R31
    016BF 93EA      ST	-Y,R30
    016C0 939A      ST	-Y,R25
    016C1 938A      ST	-Y,R24
    016C2 940E 222B CALL	asgnblk
(0619)   uint i=0;
(0620)    uchar keyV;
(0621)    lcd_write_str(0,0,"T");
    016C4 E18D      LDI	R24,0x1D
    016C5 E097      LDI	R25,7
    016C6 8399      STD	Y+1,R25
    016C7 8388      ST	Y,R24
    016C8 2722      CLR	R18
    016C9 2700      CLR	R16
    016CA 940E 0610 CALL	_lcd_write_str
(0622)    lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    016CC 9120 0C4D LDS	R18,pageParam
    016CE 9130 0C4E LDS	R19,pageParam+1
    016D0 5F2F      SUBI	R18,0xFF
    016D1 4F3F      SBCI	R19,0xFF
    016D2 6320      ORI	R18,0x30
    016D3 2700      CLR	R16
    016D4 940E 05B8 CALL	_lcd_write_char_con
(0623)    lcd_write_char_con(0,':');
    016D6 E32A      LDI	R18,0x3A
    016D7 2700      CLR	R16
    016D8 940E 05B8 CALL	_lcd_write_char_con
(0624)    
(0625)    lcd_write_str(4,0,"升温");
    016DA EF88      LDI	R24,0xF8
    016DB E096      LDI	R25,6
    016DC 8399      STD	Y+1,R25
    016DD 8388      ST	Y,R24
    016DE 2722      CLR	R18
    016DF E004      LDI	R16,4
    016E0 940E 0610 CALL	_lcd_write_str
(0626)    lcd_write_str(7,0,"恒温");
    016E2 EF83      LDI	R24,0xF3
    016E3 E096      LDI	R25,6
    016E4 8399      STD	Y+1,R25
    016E5 8388      ST	Y,R24
    016E6 2722      CLR	R18
    016E7 E007      LDI	R16,7
    016E8 940E 0610 CALL	_lcd_write_str
(0627)    lcd_write_str(10,0,"温度");
    016EA EE8E      LDI	R24,0xEE
    016EB E096      LDI	R25,6
    016EC 8399      STD	Y+1,R25
    016ED 8388      ST	Y,R24
    016EE 2722      CLR	R18
    016EF E00A      LDI	R16,0xA
    016F0 940E 0610 CALL	_lcd_write_str
(0628)    lcd_write_str(0,1,"保存");
    016F2 EE89      LDI	R24,0xE9
    016F3 E096      LDI	R25,6
    016F4 8399      STD	Y+1,R25
    016F5 8388      ST	Y,R24
    016F6 E021      LDI	R18,1
    016F7 2700      CLR	R16
    016F8 940E 0610 CALL	_lcd_write_str
(0629)    lcd_write_str(0,2,"取消");
    016FA E28B      LDI	R24,0x2B
    016FB E097      LDI	R25,7
    016FC 8399      STD	Y+1,R25
    016FD 8388      ST	Y,R24
    016FE E022      LDI	R18,2
    016FF 2700      CLR	R16
    01700 940E 0610 CALL	_lcd_write_str
(0630)    lcd_write_str(0,3,"重置");
    01702 E082      LDI	R24,2
    01703 E097      LDI	R25,7
    01704 8399      STD	Y+1,R25
    01705 8388      ST	Y,R24
    01706 E023      LDI	R18,3
    01707 2700      CLR	R16
    01708 940E 0610 CALL	_lcd_write_str
(0631)   
(0632)   for(i=0;i<132;i++){
    0170A 24AA      CLR	R10
    0170B 24BB      CLR	R11
    0170C C020      RJMP	0x172D
(0633)     dataCach[i]=temps[pageParam[0]].temp_data[i];
    0170D 0115      MOVW	R2,R10
    0170E 0C22      LSL	R2
    0170F 1C33      ROL	R3
    01710 0121      MOVW	R4,R2
    01711 9120 0C4D LDS	R18,pageParam
    01713 9130 0C4E LDS	R19,pageParam+1
    01715 E00A      LDI	R16,0xA
    01716 E011      LDI	R17,1
    01717 940E 21AA CALL	empy16s
    01719 E186      LDI	R24,0x16
    0171A E091      LDI	R25,1
    0171B 0118      MOVW	R2,R16
    0171C 0E28      ADD	R2,R24
    0171D 1E39      ADC	R3,R25
    0171E 01F2      MOVW	R30,R4
    0171F 0DE2      ADD	R30,R2
    01720 1DF3      ADC	R31,R3
    01721 8020      LD	R2,Z
    01722 8031      LDD	R3,Z+1
    01723 01CE      MOVW	R24,R28
    01724 9602      ADIW	R24,2
    01725 01F2      MOVW	R30,R4
    01726 0FE8      ADD	R30,R24
    01727 1FF9      ADC	R31,R25
    01728 8231      STD	Z+1,R3
    01729 8220      ST	Z,R2
    0172A 01C5      MOVW	R24,R10
    0172B 9601      ADIW	R24,1
    0172C 015C      MOVW	R10,R24
    0172D 01C5      MOVW	R24,R10
    0172E 3884      CPI	R24,0x84
    0172F E0E0      LDI	R30,0
    01730 079E      CPC	R25,R30
    01731 F2D8      BCS	0x170D
(0634)   }
(0635)     page4_data(0,dataCach);//调用函数填充
    01732 019E      MOVW	R18,R28
    01733 5F2E      SUBI	R18,0xFE
    01734 4F3F      SBCI	R19,0xFF
    01735 2700      CLR	R16
    01736 2711      CLR	R17
    01737 DCF7      RCALL	_page4_data
(0636)    cur=0;
    01738 2744      CLR	R20
    01739 2755      CLR	R21
(0637)    lcd_write_pos(3,1);
    0173A E021      LDI	R18,1
    0173B E003      LDI	R16,3
    0173C 940E 05CC CALL	_lcd_write_pos
(0638)    cur_set(3);
    0173E E003      LDI	R16,3
    0173F E010      LDI	R17,0
    01740 940E 0781 CALL	_cur_set
    01742 C22A      RJMP	0x196D
(0639)    
(0640)    //Set_White(9,2,10);
(0641)     while(1){
(0642)       keyV=KeyScan_once();
    01743 940E 04AD CALL	_KeyScan_once
    01745 2EA0      MOV	R10,R16
(0643) 	  if(keyV=='e'){
    01746 3605      CPI	R16,0x65
    01747 F509      BNE	0x1769
(0644) 	        Set_White_off(1,1,2);
    01748 E082      LDI	R24,2
    01749 8388      ST	Y,R24
    0174A E021      LDI	R18,1
    0174B E001      LDI	R16,1
    0174C 940E 07C5 CALL	_Set_White_off
(0645) 			Set_White_off(1,2,2);
    0174E E082      LDI	R24,2
    0174F 8388      ST	Y,R24
    01750 E022      LDI	R18,2
    01751 E001      LDI	R16,1
    01752 940E 07C5 CALL	_Set_White_off
(0646) 			Set_White_off(1,3,2);
    01754 E082      LDI	R24,2
    01755 8388      ST	Y,R24
    01756 E023      LDI	R18,3
    01757 E001      LDI	R16,1
    01758 940E 07C5 CALL	_Set_White_off
(0647) 			cur_set(0);
    0175A 2700      CLR	R16
    0175B 2711      CLR	R17
    0175C 940E 0781 CALL	_cur_set
(0648) 			cur_set(4);
    0175E E004      LDI	R16,4
    0175F E010      LDI	R17,0
    01760 940E 0781 CALL	_cur_set
(0649) 		    pageNum=3;
    01762 E083      LDI	R24,3
    01763 E090      LDI	R25,0
    01764 9390 0C58 STS	pageNum+1,R25
    01766 9380 0C57 STS	pageNum,R24
(0650) 		    return;
    01768 C205      RJMP	0x196E
(0651) 	  }else if(keyV=='u'){
    01769 2D8A      MOV	R24,R10
    0176A 3785      CPI	R24,0x75
    0176B F009      BEQ	0x176D
    0176C C046      RJMP	0x17B3
(0652) 	     if(cur==133){
    0176D 3845      CPI	R20,0x85
    0176E E0E0      LDI	R30,0
    0176F 075E      CPC	R21,R30
    01770 F479      BNE	0x1780
(0653) 		    Set_White(1,1,2);
    01771 E082      LDI	R24,2
    01772 8388      ST	Y,R24
    01773 E021      LDI	R18,1
    01774 E001      LDI	R16,1
    01775 940E 0835 CALL	_Set_White
(0654) 			Set_White_off(1,2,2);
    01777 E082      LDI	R24,2
    01778 8388      ST	Y,R24
    01779 E022      LDI	R18,2
    0177A E001      LDI	R16,1
    0177B 940E 07C5 CALL	_Set_White_off
(0655) 			cur=132;
    0177D E844      LDI	R20,0x84
    0177E E050      LDI	R21,0
(0656) 		 }else if(cur==134){
    0177F C1ED      RJMP	0x196D
    01780 3846      CPI	R20,0x86
    01781 E0E0      LDI	R30,0
    01782 075E      CPC	R21,R30
    01783 F479      BNE	0x1793
(0657) 		    Set_White(1,2,2);
    01784 E082      LDI	R24,2
    01785 8388      ST	Y,R24
    01786 E022      LDI	R18,2
    01787 E001      LDI	R16,1
    01788 940E 0835 CALL	_Set_White
(0658) 			Set_White_off(1,3,2);
    0178A E082      LDI	R24,2
    0178B 8388      ST	Y,R24
    0178C E023      LDI	R18,3
    0178D E001      LDI	R16,1
    0178E 940E 07C5 CALL	_Set_White_off
(0659) 			cur=133;
    01790 E845      LDI	R20,0x85
    01791 E050      LDI	R21,0
(0660) 		 }else if(cur>10 && cur<=131){
    01792 C1DA      RJMP	0x196D
    01793 E08A      LDI	R24,0xA
    01794 E090      LDI	R25,0
    01795 1784      CP	R24,R20
    01796 0795      CPC	R25,R21
    01797 F008      BCS	0x1799
    01798 C1D4      RJMP	0x196D
    01799 E883      LDI	R24,0x83
    0179A 1784      CP	R24,R20
    0179B 0795      CPC	R25,R21
    0179C F408      BCC	0x179E
    0179D C1CF      RJMP	0x196D
(0661) 		   oldcur=cur;
    0179E 01BA      MOVW	R22,R20
(0662) 	       cur=(cur/11-1)*11;
    0179F E02B      LDI	R18,0xB
    017A0 E030      LDI	R19,0
    017A1 018A      MOVW	R16,R20
    017A2 940E 2190 CALL	div16u
    017A4 0198      MOVW	R18,R16
    017A5 5021      SUBI	R18,1
    017A6 4030      SBCI	R19,0
    017A7 E00B      LDI	R16,0xB
    017A8 E010      LDI	R17,0
    017A9 940E 21AA CALL	empy16s
    017AB 01A8      MOVW	R20,R16
(0663) 		   page4_ac(cur,oldcur,dataCach);
    017AC 01CE      MOVW	R24,R28
    017AD 9602      ADIW	R24,2
    017AE 8399      STD	Y+1,R25
    017AF 8388      ST	Y,R24
    017B0 019B      MOVW	R18,R22
    017B1 DE21      RCALL	_page4_ac
(0664) 		 }
(0665) 	  }else if(keyV=='d'){
    017B2 C1BA      RJMP	0x196D
    017B3 2D8A      MOV	R24,R10
    017B4 3684      CPI	R24,0x64
    017B5 F009      BEQ	0x17B7
    017B6 C040      RJMP	0x17F7
(0666) 	     if(cur==132){
    017B7 3844      CPI	R20,0x84
    017B8 E0E0      LDI	R30,0
    017B9 075E      CPC	R21,R30
    017BA F479      BNE	0x17CA
(0667) 		    Set_White_off(1,1,2);
    017BB E082      LDI	R24,2
    017BC 8388      ST	Y,R24
    017BD E021      LDI	R18,1
    017BE E001      LDI	R16,1
    017BF 940E 07C5 CALL	_Set_White_off
(0668) 			Set_White(1,2,2);
    017C1 E082      LDI	R24,2
    017C2 8388      ST	Y,R24
    017C3 E022      LDI	R18,2
    017C4 E001      LDI	R16,1
    017C5 940E 0835 CALL	_Set_White
(0669) 			cur=133;
    017C7 E845      LDI	R20,0x85
    017C8 E050      LDI	R21,0
(0670) 		 }else if(cur==133){
    017C9 C1A3      RJMP	0x196D
    017CA 3845      CPI	R20,0x85
    017CB E0E0      LDI	R30,0
    017CC 075E      CPC	R21,R30
    017CD F479      BNE	0x17DD
(0671) 		    Set_White_off(1,2,2);
    017CE E082      LDI	R24,2
    017CF 8388      ST	Y,R24
    017D0 E022      LDI	R18,2
    017D1 E001      LDI	R16,1
    017D2 940E 07C5 CALL	_Set_White_off
(0672) 			Set_White(1,3,2);
    017D4 E082      LDI	R24,2
    017D5 8388      ST	Y,R24
    017D6 E023      LDI	R18,3
    017D7 E001      LDI	R16,1
    017D8 940E 0835 CALL	_Set_White
(0673) 			cur=134;
    017DA E846      LDI	R20,0x86
    017DB E050      LDI	R21,0
(0674) 		 }else if(cur<121){
    017DC C190      RJMP	0x196D
    017DD 3749      CPI	R20,0x79
    017DE E0E0      LDI	R30,0
    017DF 075E      CPC	R21,R30
    017E0 F008      BCS	0x17E2
    017E1 C18B      RJMP	0x196D
(0675) 	      oldcur=cur;
    017E2 01BA      MOVW	R22,R20
(0676) 	      cur=(cur/11+1)*11;
    017E3 E02B      LDI	R18,0xB
    017E4 E030      LDI	R19,0
    017E5 018A      MOVW	R16,R20
    017E6 940E 2190 CALL	div16u
    017E8 0198      MOVW	R18,R16
    017E9 5F2F      SUBI	R18,0xFF
    017EA 4F3F      SBCI	R19,0xFF
    017EB E00B      LDI	R16,0xB
    017EC E010      LDI	R17,0
    017ED 940E 21AA CALL	empy16s
    017EF 01A8      MOVW	R20,R16
(0677) 		  page4_ac(cur,oldcur,dataCach);
    017F0 01CE      MOVW	R24,R28
    017F1 9602      ADIW	R24,2
    017F2 8399      STD	Y+1,R25
    017F3 8388      ST	Y,R24
    017F4 019B      MOVW	R18,R22
    017F5 DDDD      RCALL	_page4_ac
(0678) 		}
(0679) 		
(0680) 	  }else if(keyV=='l'){
    017F6 C176      RJMP	0x196D
    017F7 2D8A      MOV	R24,R10
    017F8 368C      CPI	R24,0x6C
    017F9 F009      BEQ	0x17FB
    017FA C049      RJMP	0x1844
(0681) 	   oldcur=cur;
    017FB 01BA      MOVW	R22,R20
(0682) 	  if(cur%11==0){
    017FC E02B      LDI	R18,0xB
    017FD E030      LDI	R19,0
    017FE 018A      MOVW	R16,R20
    017FF 940E 218E CALL	mod16u
    01801 3000      CPI	R16,0
    01802 0701      CPC	R16,R17
    01803 F489      BNE	0x1815
(0683) 	        Set_White(1,1,2);
    01804 E082      LDI	R24,2
    01805 8388      ST	Y,R24
    01806 E021      LDI	R18,1
    01807 E001      LDI	R16,1
    01808 940E 0835 CALL	_Set_White
(0684) 			cur_set(0);
    0180A 2700      CLR	R16
    0180B 2711      CLR	R17
    0180C 940E 0781 CALL	_cur_set
(0685) 			cur_set(4);
    0180E E004      LDI	R16,4
    0180F E010      LDI	R17,0
    01810 940E 0781 CALL	_cur_set
(0686) 			cur=132;
    01812 E844      LDI	R20,0x84
    01813 E050      LDI	R21,0
(0687) 	   }else if(cur%11==2 || cur%11==4 || cur%11==6 || cur%11==8){
    01814 C158      RJMP	0x196D
    01815 E02B      LDI	R18,0xB
    01816 E030      LDI	R19,0
    01817 018A      MOVW	R16,R20
    01818 940E 218E CALL	mod16u
    0181A 0168      MOVW	R12,R16
    0181B 01C6      MOVW	R24,R12
    0181C 3002      CPI	R16,2
    0181D E0E0      LDI	R30,0
    0181E 071E      CPC	R17,R30
    0181F F061      BEQ	0x182C
    01820 3004      CPI	R16,4
    01821 E0E0      LDI	R30,0
    01822 071E      CPC	R17,R30
    01823 F041      BEQ	0x182C
    01824 3006      CPI	R16,6
    01825 E0E0      LDI	R30,0
    01826 071E      CPC	R17,R30
    01827 F021      BEQ	0x182C
    01828 3008      CPI	R16,0x8
    01829 E0E0      LDI	R30,0
    0182A 071E      CPC	R17,R30
    0182B F451      BNE	0x1836
(0688) 	      cur-=2;
    0182C 5042      SUBI	R20,2
    0182D 4050      SBCI	R21,0
(0689) 		   page4_ac(cur,oldcur,dataCach);
    0182E 01CE      MOVW	R24,R28
    0182F 9602      ADIW	R24,2
    01830 8399      STD	Y+1,R25
    01831 8388      ST	Y,R24
    01832 019B      MOVW	R18,R22
    01833 018A      MOVW	R16,R20
    01834 DD9E      RCALL	_page4_ac
(0690) 		}else if(cur>0){
    01835 C137      RJMP	0x196D
    01836 3040      CPI	R20,0
    01837 0745      CPC	R20,R21
    01838 F409      BNE	0x183A
    01839 C133      RJMP	0x196D
(0691) 	      cur--;
    0183A 5041      SUBI	R20,1
    0183B 4050      SBCI	R21,0
(0692) 		   page4_ac(cur,oldcur,dataCach);
    0183C 01CE      MOVW	R24,R28
    0183D 9602      ADIW	R24,2
    0183E 8399      STD	Y+1,R25
    0183F 8388      ST	Y,R24
    01840 019B      MOVW	R18,R22
    01841 018A      MOVW	R16,R20
    01842 DD90      RCALL	_page4_ac
(0693) 		}
(0694) 	  
(0695) 	  }else if(keyV=='r'){
    01843 C129      RJMP	0x196D
    01844 2D8A      MOV	R24,R10
    01845 3782      CPI	R24,0x72
    01846 F541      BNE	0x186F
(0696) 	  if(cur>131){
    01847 E883      LDI	R24,0x83
    01848 E090      LDI	R25,0
    01849 1784      CP	R24,R20
    0184A 0795      CPC	R25,R21
    0184B F4A0      BCC	0x1860
(0697) 	      Set_White_off(1,1,2);
    0184C E082      LDI	R24,2
    0184D 8388      ST	Y,R24
    0184E E021      LDI	R18,1
    0184F E001      LDI	R16,1
    01850 940E 07C5 CALL	_Set_White_off
(0698) 	      Set_White_off(1,2,2);
    01852 E082      LDI	R24,2
    01853 8388      ST	Y,R24
    01854 E022      LDI	R18,2
    01855 E001      LDI	R16,1
    01856 940E 07C5 CALL	_Set_White_off
(0699) 		  Set_White_off(1,3,2);
    01858 E082      LDI	R24,2
    01859 8388      ST	Y,R24
    0185A E023      LDI	R18,3
    0185B E001      LDI	R16,1
    0185C 940E 07C5 CALL	_Set_White_off
(0700) 		  cur=oldcur;
    0185E 01AB      MOVW	R20,R22
(0701) 	  }else  if(cur<131){
    0185F C007      RJMP	0x1867
    01860 3843      CPI	R20,0x83
    01861 E0E0      LDI	R30,0
    01862 075E      CPC	R21,R30
    01863 F418      BCC	0x1867
(0702) 		 oldcur=cur;
    01864 01BA      MOVW	R22,R20
(0703) 	     cur++;
    01865 5F4F      SUBI	R20,0xFF
    01866 4F5F      SBCI	R21,0xFF
(0704) 		 }
(0705) 	    page4_ac(cur,oldcur,dataCach);
    01867 01CE      MOVW	R24,R28
    01868 9602      ADIW	R24,2
    01869 8399      STD	Y+1,R25
    0186A 8388      ST	Y,R24
    0186B 019B      MOVW	R18,R22
    0186C 018A      MOVW	R16,R20
    0186D DD65      RCALL	_page4_ac
(0706) 	  }else if(keyV=='t'){	    
    0186E C0FE      RJMP	0x196D
    0186F 2D8A      MOV	R24,R10
    01870 3784      CPI	R24,0x74
    01871 F009      BEQ	0x1873
    01872 C098      RJMP	0x190B
(0707) 	     if(cur==132){
    01873 3844      CPI	R20,0x84
    01874 E0E0      LDI	R30,0
    01875 075E      CPC	R21,R30
    01876 F009      BEQ	0x1878
    01877 C03E      RJMP	0x18B6
(0708) 		   Set_White_off(1,1,2);
    01878 E082      LDI	R24,2
    01879 8388      ST	Y,R24
    0187A E021      LDI	R18,1
    0187B E001      LDI	R16,1
    0187C 940E 07C5 CALL	_Set_White_off
(0709) 			Set_White_off(1,2,2);
    0187E E082      LDI	R24,2
    0187F 8388      ST	Y,R24
    01880 E022      LDI	R18,2
    01881 E001      LDI	R16,1
    01882 940E 07C5 CALL	_Set_White_off
(0710) 			Set_White_off(1,3,2);
    01884 E082      LDI	R24,2
    01885 8388      ST	Y,R24
    01886 E023      LDI	R18,3
    01887 E001      LDI	R16,1
    01888 940E 07C5 CALL	_Set_White_off
(0711) 		   cur_set(0);
    0188A 2700      CLR	R16
    0188B 2711      CLR	R17
    0188C 940E 0781 CALL	_cur_set
(0712) 			cur_set(4);
    0188E E004      LDI	R16,4
    0188F E010      LDI	R17,0
    01890 940E 0781 CALL	_cur_set
(0713) 			lcd_clear();
    01892 940E 06C7 CALL	_lcd_clear
(0714) 			lcd_write_str(5,2,"保存中. . .");
    01894 ED8D      LDI	R24,0xDD
    01895 E096      LDI	R25,6
    01896 8399      STD	Y+1,R25
    01897 8388      ST	Y,R24
    01898 E022      LDI	R18,2
    01899 E005      LDI	R16,5
    0189A 940E 0610 CALL	_lcd_write_str
(0715) 		    pageParam[1]=1;//表示是温度数据的，这里处理保存的方法，因为数据在这里。只是跳转过去，参数如果是1表示成功。2表示失败
    0189C E081      LDI	R24,1
    0189D E090      LDI	R25,0
    0189E 9390 0C50 STS	pageParam+3,R25
    018A0 9380 0C4F STS	pageParam+2,R24
(0716) 		    prePageNum=4;
    018A2 E084      LDI	R24,4
    018A3 9390 0C4C STS	prePageNum+1,R25
    018A5 9380 0C4B STS	prePageNum,R24
(0717) 		    pageNum=6;
    018A7 E086      LDI	R24,6
    018A8 9390 0C58 STS	pageNum+1,R25
    018AA 9380 0C57 STS	pageNum,R24
(0718) 			set_temp_data(pageParam[0],dataCach);//保存数据
    018AC 019E      MOVW	R18,R28
    018AD 5F2E      SUBI	R18,0xFE
    018AE 4F3F      SBCI	R19,0xFF
    018AF 9100 0C4D LDS	R16,pageParam
    018B1 9110 0C4E LDS	R17,pageParam+1
    018B3 940E 1EBC CALL	_set_temp_data
(0719) 		    return;
    018B5 C0B8      RJMP	0x196E
(0720) 		 }else if(cur==133){
    018B6 3845      CPI	R20,0x85
    018B7 E0E0      LDI	R30,0
    018B8 075E      CPC	R21,R30
    018B9 F509      BNE	0x18DB
(0721) 		    Set_White_off(1,1,2);
    018BA E082      LDI	R24,2
    018BB 8388      ST	Y,R24
    018BC E021      LDI	R18,1
    018BD E001      LDI	R16,1
    018BE 940E 07C5 CALL	_Set_White_off
(0722) 			Set_White_off(1,2,2);
    018C0 E082      LDI	R24,2
    018C1 8388      ST	Y,R24
    018C2 E022      LDI	R18,2
    018C3 E001      LDI	R16,1
    018C4 940E 07C5 CALL	_Set_White_off
(0723) 			Set_White_off(1,3,2);
    018C6 E082      LDI	R24,2
    018C7 8388      ST	Y,R24
    018C8 E023      LDI	R18,3
    018C9 E001      LDI	R16,1
    018CA 940E 07C5 CALL	_Set_White_off
(0724) 		    cur_set(0);
    018CC 2700      CLR	R16
    018CD 2711      CLR	R17
    018CE 940E 0781 CALL	_cur_set
(0725) 			cur_set(4);
    018D0 E004      LDI	R16,4
    018D1 E010      LDI	R17,0
    018D2 940E 0781 CALL	_cur_set
(0726) 		    pageNum=3;
    018D4 E083      LDI	R24,3
    018D5 E090      LDI	R25,0
    018D6 9390 0C58 STS	pageNum+1,R25
    018D8 9380 0C57 STS	pageNum,R24
(0727) 		    return;
    018DA C093      RJMP	0x196E
(0728) 		 }else if(cur==134){
    018DB 3846      CPI	R20,0x86
    018DC E0E0      LDI	R30,0
    018DD 075E      CPC	R21,R30
    018DE F009      BEQ	0x18E0
    018DF C08D      RJMP	0x196D
(0729) 		    Set_White_off(1,1,2);
    018E0 E082      LDI	R24,2
    018E1 8388      ST	Y,R24
    018E2 E021      LDI	R18,1
    018E3 E001      LDI	R16,1
    018E4 940E 07C5 CALL	_Set_White_off
(0730) 			Set_White_off(1,2,2);
    018E6 E082      LDI	R24,2
    018E7 8388      ST	Y,R24
    018E8 E022      LDI	R18,2
    018E9 E001      LDI	R16,1
    018EA 940E 07C5 CALL	_Set_White_off
(0731) 			Set_White_off(1,3,2);
    018EC E082      LDI	R24,2
    018ED 8388      ST	Y,R24
    018EE E023      LDI	R18,3
    018EF E001      LDI	R16,1
    018F0 940E 07C5 CALL	_Set_White_off
(0732) 		   cur_set(0);
    018F2 2700      CLR	R16
    018F3 2711      CLR	R17
    018F4 940E 0781 CALL	_cur_set
(0733) 			cur_set(4);
    018F6 E004      LDI	R16,4
    018F7 E010      LDI	R17,0
    018F8 940E 0781 CALL	_cur_set
(0734) 		   //重置。有提示
(0735) 			pageParam[2]=1;//表示重置是温度数据的
    018FA E081      LDI	R24,1
    018FB E090      LDI	R25,0
    018FC 9390 0C52 STS	pageParam+5,R25
    018FE 9380 0C51 STS	pageParam+4,R24
(0736) 			prePageNum=4;
    01900 E084      LDI	R24,4
    01901 9390 0C4C STS	prePageNum+1,R25
    01903 9380 0C4B STS	prePageNum,R24
(0737) 		    pageNum=7;
    01905 E087      LDI	R24,7
    01906 9390 0C58 STS	pageNum+1,R25
    01908 9380 0C57 STS	pageNum,R24
(0738) 		    return;
    0190A C063      RJMP	0x196E
(0739) 		 }
(0740) 	     
(0741) 	  }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    0190B 2D8A      MOV	R24,R10
    0190C 3380      CPI	R24,0x30
    0190D F099      BEQ	0x1921
    0190E 3381      CPI	R24,0x31
    0190F F089      BEQ	0x1921
    01910 3382      CPI	R24,0x32
    01911 F079      BEQ	0x1921
    01912 3383      CPI	R24,0x33
    01913 F069      BEQ	0x1921
    01914 3384      CPI	R24,0x34
    01915 F059      BEQ	0x1921
    01916 3385      CPI	R24,0x35
    01917 F049      BEQ	0x1921
    01918 3386      CPI	R24,0x36
    01919 F039      BEQ	0x1921
    0191A 3387      CPI	R24,0x37
    0191B F029      BEQ	0x1921
    0191C 3388      CPI	R24,0x38
    0191D F019      BEQ	0x1921
    0191E 3389      CPI	R24,0x39
    0191F F009      BEQ	0x1921
    01920 C04C      RJMP	0x196D
(0742) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(0743) 			  if(cur <132){//判断还在输入域
    01921 3844      CPI	R20,0x84
    01922 E0E0      LDI	R30,0
    01923 075E      CPC	R21,R30
    01924 F008      BCS	0x1926
    01925 C047      RJMP	0x196D
(0744) 			   if((cur/11)%3==0){
    01926 E02B      LDI	R18,0xB
    01927 E030      LDI	R19,0
    01928 018A      MOVW	R16,R20
    01929 940E 2190 CALL	div16u
    0192B E023      LDI	R18,3
    0192C E030      LDI	R19,0
    0192D 940E 218E CALL	mod16u
    0192F 3000      CPI	R16,0
    01930 0701      CPC	R16,R17
    01931 F431      BNE	0x1938
(0745) 			      lcd_write_char_con(1,0x30 | keyV);
    01932 2D2A      MOV	R18,R10
    01933 6320      ORI	R18,0x30
    01934 E001      LDI	R16,1
    01935 940E 05B8 CALL	_lcd_write_char_con
(0746) 				}else{
    01937 C005      RJMP	0x193D
(0747) 				  lcd_write_char_con(2,0x30 | keyV);
    01938 2D2A      MOV	R18,R10
    01939 6320      ORI	R18,0x30
    0193A E002      LDI	R16,2
    0193B 940E 05B8 CALL	_lcd_write_char_con
(0748) 				}
(0749) 				dataCach[cur]=keyV;
    0193D 01CE      MOVW	R24,R28
    0193E 9602      ADIW	R24,2
    0193F 01FA      MOVW	R30,R20
    01940 0FEE      LSL	R30
    01941 1FFF      ROL	R31
    01942 0FE8      ADD	R30,R24
    01943 1FF9      ADC	R31,R25
    01944 2C2A      MOV	R2,R10
    01945 2433      CLR	R3
    01946 8231      STD	Z+1,R3
    01947 8220      ST	Z,R2
(0750) 				oldcur=cur;
    01948 01BA      MOVW	R22,R20
(0751) 				if(cur<131)
    01949 3863      CPI	R22,0x83
    0194A E0E0      LDI	R30,0
    0194B 077E      CPC	R23,R30
    0194C F450      BCC	0x1957
(0752) 				{
(0753) 				  cur++;
    0194D 5F4F      SUBI	R20,0xFF
    0194E 4F5F      SBCI	R21,0xFF
(0754) 				  page4_ac(cur,oldcur,dataCach);
    0194F 01CE      MOVW	R24,R28
    01950 9602      ADIW	R24,2
    01951 8399      STD	Y+1,R25
    01952 8388      ST	Y,R24
    01953 019B      MOVW	R18,R22
    01954 018A      MOVW	R16,R20
    01955 DC7D      RCALL	_page4_ac
(0755) 				}else if(cur==131){//最后一个131会在上面处理，最后一次进入这里。跳到保存
    01956 C016      RJMP	0x196D
    01957 3843      CPI	R20,0x83
    01958 E0E0      LDI	R30,0
    01959 075E      CPC	R21,R30
    0195A F491      BNE	0x196D
(0756) 				  Set_White(1,1,2);
    0195B E082      LDI	R24,2
    0195C 8388      ST	Y,R24
    0195D E021      LDI	R18,1
    0195E E001      LDI	R16,1
    0195F 940E 0835 CALL	_Set_White
(0757) 			       cur_set(0);
    01961 2700      CLR	R16
    01962 2711      CLR	R17
    01963 940E 0781 CALL	_cur_set
(0758) 			       cur_set(4);
    01965 E004      LDI	R16,4
    01966 E010      LDI	R17,0
    01967 940E 0781 CALL	_cur_set
(0759) 			       cur=132;
    01969 E844      LDI	R20,0x84
    0196A E050      LDI	R21,0
(0760) 				   oldcur=99;
    0196B E663      LDI	R22,0x63
    0196C E070      LDI	R23,0
    0196D CDD5      RJMP	0x1743
    0196E 96EF      ADIW	R28,0x3F
    0196F 96EF      ADIW	R28,0x3F
    01970 96EF      ADIW	R28,0x3F
    01971 96EF      ADIW	R28,0x3F
    01972 962C      ADIW	R28,0xC
    01973 940C 2215 JMP	pop_xgsetF03C
_page5:
  ddflag               --> R22
  cur                  --> R20
  keyV                 --> R10
    01975 940E 21F0 CALL	push_xgsetF00C
    01977 9722      SBIW	R28,2
(0761) 				}
(0762) 				
(0763) 			  }
(0764) 		}
(0765) 	}
(0766)  }
(0767)  
(0768)  void page5(void){
(0769)   uint cur=0;
    01978 2744      CLR	R20
    01979 2755      CLR	R21
(0770)    uchar keyV;
(0771)    uint ddflag;
(0772)    lcd_write_str(4,0,"断电自动恢复");
    0197A ED80      LDI	R24,0xD0
    0197B E096      LDI	R25,6
    0197C 8399      STD	Y+1,R25
    0197D 8388      ST	Y,R24
    0197E 2722      CLR	R18
    0197F E004      LDI	R16,4
    01980 940E 0610 CALL	_lcd_write_str
(0773)    lcd_write_str(4,1,"设置时间");
    01982 EC87      LDI	R24,0xC7
    01983 E096      LDI	R25,6
    01984 8399      STD	Y+1,R25
    01985 8388      ST	Y,R24
    01986 E021      LDI	R18,1
    01987 E004      LDI	R16,4
    01988 940E 0610 CALL	_lcd_write_str
(0774)    lcd_write_str(4,2,"重置系统");
    0198A EB8E      LDI	R24,0xBE
    0198B E096      LDI	R25,6
    0198C 8399      STD	Y+1,R25
    0198D 8388      ST	Y,R24
    0198E E022      LDI	R18,2
    0198F E004      LDI	R16,4
    01990 940E 0610 CALL	_lcd_write_str
(0775)     ddflag=EEPROM_read(0,0);
    01992 2722      CLR	R18
    01993 2733      CLR	R19
    01994 2700      CLR	R16
    01995 2711      CLR	R17
    01996 940E 0DED CALL	_EEPROM_read
    01998 01B8      MOVW	R22,R16
(0776) 	if(ddflag==0){
    01999 3000      CPI	R16,0
    0199A 0701      CPC	R16,R17
    0199B F459      BNE	0x19A7
(0777)       lcd_write_char(3,0,0xA1);
    0199C EA81      LDI	R24,0xA1
    0199D 8388      ST	Y,R24
    0199E 2722      CLR	R18
    0199F E003      LDI	R16,3
    019A0 940E 05EA CALL	_lcd_write_char
(0778)       lcd_write_char_con(0,0xC1);
    019A2 EC21      LDI	R18,0xC1
    019A3 2700      CLR	R16
    019A4 940E 05B8 CALL	_lcd_write_char_con
(0779)    }else {
    019A6 C00A      RJMP	0x19B1
(0780)       lcd_write_char(3,0,0xA1);
    019A7 EA81      LDI	R24,0xA1
    019A8 8388      ST	Y,R24
    019A9 2722      CLR	R18
    019AA E003      LDI	R16,3
    019AB 940E 05EA CALL	_lcd_write_char
(0781)       lcd_write_char_con(0,0xCC);
    019AD EC2C      LDI	R18,0xCC
    019AE 2700      CLR	R16
    019AF 940E 05B8 CALL	_lcd_write_char_con
(0782)    }
(0783)    cur=0;
    019B1 2744      CLR	R20
    019B2 2755      CLR	R21
(0784)    Set_White(5,0,10);
    019B3 E08A      LDI	R24,0xA
    019B4 8388      ST	Y,R24
    019B5 2722      CLR	R18
    019B6 E005      LDI	R16,5
    019B7 940E 0835 CALL	_Set_White
    019B9 C0DC      RJMP	0x1A96
(0785)    while(1){
(0786)       keyV=KeyScan_once();
    019BA 940E 04AD CALL	_KeyScan_once
    019BC 2EA0      MOV	R10,R16
(0787) 	  if(keyV=='u'){
    019BD 3705      CPI	R16,0x75
    019BE F539      BNE	0x19E6
(0788) 	    switch(cur){
    019BF 3041      CPI	R20,1
    019C0 E0E0      LDI	R30,0
    019C1 075E      CPC	R21,R30
    019C2 F029      BEQ	0x19C8
    019C3 3042      CPI	R20,2
    019C4 E0E0      LDI	R30,0
    019C5 075E      CPC	R21,R30
    019C6 F081      BEQ	0x19D7
    019C7 C0CE      RJMP	0x1A96
(0789) 		  case 1:
(0790) 		   Set_White_off(5,1,8);
    019C8 E088      LDI	R24,0x8
    019C9 8388      ST	Y,R24
    019CA E021      LDI	R18,1
    019CB E005      LDI	R16,5
    019CC 940E 07C5 CALL	_Set_White_off
(0791) 		   Set_White(5,0,10);
    019CE E08A      LDI	R24,0xA
    019CF 8388      ST	Y,R24
    019D0 2722      CLR	R18
    019D1 E005      LDI	R16,5
    019D2 940E 0835 CALL	_Set_White
(0792) 		   cur=0;
    019D4 2744      CLR	R20
    019D5 2755      CLR	R21
(0793) 		   break;
    019D6 C0BF      RJMP	0x1A96
(0794) 		  case 2: 
(0795) 		   Set_White_off(5,2,8);
    019D7 E088      LDI	R24,0x8
    019D8 8388      ST	Y,R24
    019D9 E022      LDI	R18,2
    019DA E005      LDI	R16,5
    019DB 940E 07C5 CALL	_Set_White_off
(0796) 		   Set_White(5,1,8);
    019DD E088      LDI	R24,0x8
    019DE 8388      ST	Y,R24
    019DF E021      LDI	R18,1
    019E0 E005      LDI	R16,5
    019E1 940E 0835 CALL	_Set_White
(0797) 		   cur=1;
    019E3 E041      LDI	R20,1
    019E4 E050      LDI	R21,0
(0798) 		   break;
(0799) 		}
(0800) 	  }else if(keyV=='d'){
    019E5 C0B0      RJMP	0x1A96
    019E6 2D8A      MOV	R24,R10
    019E7 3684      CPI	R24,0x64
    019E8 F531      BNE	0x1A0F
(0801) 	      switch(cur){
    019E9 3040      CPI	R20,0
    019EA 0745      CPC	R20,R21
    019EB F029      BEQ	0x19F1
    019EC 3041      CPI	R20,1
    019ED E0E0      LDI	R30,0
    019EE 075E      CPC	R21,R30
    019EF F081      BEQ	0x1A00
    019F0 C0A5      RJMP	0x1A96
(0802) 		  case 0:
(0803) 		   Set_White_off(5,0,10);
    019F1 E08A      LDI	R24,0xA
    019F2 8388      ST	Y,R24
    019F3 2722      CLR	R18
    019F4 E005      LDI	R16,5
    019F5 940E 07C5 CALL	_Set_White_off
(0804) 		   Set_White(5,1,8);
    019F7 E088      LDI	R24,0x8
    019F8 8388      ST	Y,R24
    019F9 E021      LDI	R18,1
    019FA E005      LDI	R16,5
    019FB 940E 0835 CALL	_Set_White
(0805) 		   cur=1;
    019FD E041      LDI	R20,1
    019FE E050      LDI	R21,0
(0806) 		   break;
    019FF C096      RJMP	0x1A96
(0807) 		  case 1: 
(0808) 		   Set_White_off(5,1,8);
    01A00 E088      LDI	R24,0x8
    01A01 8388      ST	Y,R24
    01A02 E021      LDI	R18,1
    01A03 E005      LDI	R16,5
    01A04 940E 07C5 CALL	_Set_White_off
(0809) 		   Set_White(5,2,8);
    01A06 E088      LDI	R24,0x8
    01A07 8388      ST	Y,R24
    01A08 E022      LDI	R18,2
    01A09 E005      LDI	R16,5
    01A0A 940E 0835 CALL	_Set_White
(0810) 		   cur=2;
    01A0C E042      LDI	R20,2
    01A0D E050      LDI	R21,0
(0811) 		   break;
(0812) 		}
(0813) 	  }else if(keyV=='e'){
    01A0E C087      RJMP	0x1A96
    01A0F 2D8A      MOV	R24,R10
    01A10 3685      CPI	R24,0x65
    01A11 F539      BNE	0x1A39
(0814) 	     switch(cur){
    01A12 3040      CPI	R20,0
    01A13 0745      CPC	R20,R21
    01A14 F049      BEQ	0x1A1E
    01A15 3041      CPI	R20,1
    01A16 E0E0      LDI	R30,0
    01A17 075E      CPC	R21,R30
    01A18 F061      BEQ	0x1A25
    01A19 3042      CPI	R20,2
    01A1A E0E0      LDI	R30,0
    01A1B 075E      CPC	R21,R30
    01A1C F079      BEQ	0x1A2C
    01A1D C014      RJMP	0x1A32
(0815) 		 case 0: 
(0816) 		   Set_White_off(5,0,10);
    01A1E E08A      LDI	R24,0xA
    01A1F 8388      ST	Y,R24
    01A20 2722      CLR	R18
    01A21 E005      LDI	R16,5
    01A22 940E 07C5 CALL	_Set_White_off
(0817) 		    break;
    01A24 C00D      RJMP	0x1A32
(0818) 		 case 1:
(0819) 		   Set_White_off(5,1,8);
    01A25 E088      LDI	R24,0x8
    01A26 8388      ST	Y,R24
    01A27 E021      LDI	R18,1
    01A28 E005      LDI	R16,5
    01A29 940E 07C5 CALL	_Set_White_off
(0820) 		   break;
    01A2B C006      RJMP	0x1A32
(0821) 		 case 2:
(0822) 		  Set_White_off(5,2,8);
    01A2C E088      LDI	R24,0x8
    01A2D 8388      ST	Y,R24
    01A2E E022      LDI	R18,2
    01A2F E005      LDI	R16,5
    01A30 940E 07C5 CALL	_Set_White_off
(0823) 		  break;
(0824) 	
(0825) 		  default:
(0826) 		   break;
(0827) 		 }
(0828) 	    pageNum=1;
    01A32 E081      LDI	R24,1
    01A33 E090      LDI	R25,0
    01A34 9390 0C58 STS	pageNum+1,R25
    01A36 9380 0C57 STS	pageNum,R24
(0829) 		return;
    01A38 C05E      RJMP	0x1A97
(0830) 	  }else if(keyV=='t'){
    01A39 2D8A      MOV	R24,R10
    01A3A 3784      CPI	R24,0x74
    01A3B F009      BEQ	0x1A3D
    01A3C C059      RJMP	0x1A96
(0831) 	    switch(cur){
    01A3D 3040      CPI	R20,0
    01A3E 0745      CPC	R20,R21
    01A3F F049      BEQ	0x1A49
    01A40 3041      CPI	R20,1
    01A41 E0E0      LDI	R30,0
    01A42 075E      CPC	R21,R30
    01A43 F171      BEQ	0x1A72
    01A44 3042      CPI	R20,2
    01A45 E0E0      LDI	R30,0
    01A46 075E      CPC	R21,R30
    01A47 F1B1      BEQ	0x1A7E
    01A48 C04D      RJMP	0x1A96
(0832) 		  case 0:
(0833) 		     //执行EEPROM操作
(0834) 			 if(ddflag==0){
    01A49 3060      CPI	R22,0
    01A4A 0767      CPC	R22,R23
    01A4B F419      BNE	0x1A4F
(0835) 			   ddflag=1;
    01A4C E061      LDI	R22,1
    01A4D E070      LDI	R23,0
(0836) 			 }else{
    01A4E C002      RJMP	0x1A51
(0837) 			   ddflag=0;
    01A4F 2766      CLR	R22
    01A50 2777      CLR	R23
(0838) 			 }
(0839) 			 EEPROM_write(0,0,ddflag);//写入到EEPROM
    01A51 8379      STD	Y+1,R23
    01A52 8368      ST	Y,R22
    01A53 2722      CLR	R18
    01A54 2733      CLR	R19
    01A55 2700      CLR	R16
    01A56 2711      CLR	R17
    01A57 940E 0DD6 CALL	_EEPROM_write
(0840) 			if(ddflag==0){
    01A59 3060      CPI	R22,0
    01A5A 0767      CPC	R22,R23
    01A5B F459      BNE	0x1A67
(0841)                lcd_write_char(3,0,0xA1);
    01A5C EA81      LDI	R24,0xA1
    01A5D 8388      ST	Y,R24
    01A5E 2722      CLR	R18
    01A5F E003      LDI	R16,3
    01A60 940E 05EA CALL	_lcd_write_char
(0842)                lcd_write_char_con(0,0xC1);
    01A62 EC21      LDI	R18,0xC1
    01A63 2700      CLR	R16
    01A64 940E 05B8 CALL	_lcd_write_char_con
(0843)             }else{
    01A66 C02F      RJMP	0x1A96
(0844)               lcd_write_char(3,0,0xA1);
    01A67 EA81      LDI	R24,0xA1
    01A68 8388      ST	Y,R24
    01A69 2722      CLR	R18
    01A6A E003      LDI	R16,3
    01A6B 940E 05EA CALL	_lcd_write_char
(0845)               lcd_write_char_con(0,0xCC);
    01A6D EC2C      LDI	R18,0xCC
    01A6E 2700      CLR	R16
    01A6F 940E 05B8 CALL	_lcd_write_char_con
(0846)             }
(0847) 		    break;
    01A71 C024      RJMP	0x1A96
(0848) 		  case 1:
(0849) 		   pageNum=8;
    01A72 E088      LDI	R24,0x8
    01A73 E090      LDI	R25,0
    01A74 9390 0C58 STS	pageNum+1,R25
    01A76 9380 0C57 STS	pageNum,R24
(0850) 		   Set_White_off(5,1,8);
    01A78 8388      ST	Y,R24
    01A79 E021      LDI	R18,1
    01A7A E005      LDI	R16,5
    01A7B 940E 07C5 CALL	_Set_White_off
(0851) 		   return;
    01A7D C019      RJMP	0x1A97
(0852) 		  
(0853) 		  case 2://重置系统
(0854) 		    prePageNum=5;
    01A7E E085      LDI	R24,5
    01A7F E090      LDI	R25,0
    01A80 9390 0C4C STS	prePageNum+1,R25
    01A82 9380 0C4B STS	prePageNum,R24
(0855) 		    pageNum=7;
    01A84 E087      LDI	R24,7
    01A85 9390 0C58 STS	pageNum+1,R25
    01A87 9380 0C57 STS	pageNum,R24
(0856) 			pageParam[2]=0;
    01A89 2422      CLR	R2
    01A8A 2433      CLR	R3
    01A8B 9230 0C52 STS	pageParam+5,R3
    01A8D 9220 0C51 STS	pageParam+4,R2
(0857) 		    Set_White_off(5,2,8);
    01A8F E088      LDI	R24,0x8
    01A90 8388      ST	Y,R24
    01A91 E022      LDI	R18,2
    01A92 E005      LDI	R16,5
    01A93 940E 07C5 CALL	_Set_White_off
(0858) 		   return;
    01A95 C001      RJMP	0x1A97
    01A96 CF23      RJMP	0x19BA
    01A97 9622      ADIW	R28,2
    01A98 940C 21F7 JMP	pop_xgsetF00C
_page6:
    01A9A 9722      SBIW	R28,2
(0859) 		}
(0860) 	    
(0861) 	  }
(0862)    }
(0863)    
(0864)  }
(0865)  void page6(void){//复用的方法
(0866)  if(pageParam[1]==0){
    01A9B 9020 0C4F LDS	R2,pageParam+2
    01A9D 9030 0C50 LDS	R3,pageParam+3
    01A9F 2022      TST	R2
    01AA0 F459      BNE	0x1AAC
    01AA1 2033      TST	R3
    01AA2 F449      BNE	0x1AAC
(0867)      lcd_write_str(4,1,"时间保存成功！");
    01AA3 EA8F      LDI	R24,0xAF
    01AA4 E096      LDI	R25,6
    01AA5 8399      STD	Y+1,R25
    01AA6 8388      ST	Y,R24
    01AA7 E021      LDI	R18,1
    01AA8 E004      LDI	R16,4
    01AA9 940E 0610 CALL	_lcd_write_str
(0868)    }else if(pageParam[1]==1){
    01AAB C021      RJMP	0x1ACD
    01AAC 9180 0C4F LDS	R24,pageParam+2
    01AAE 9190 0C50 LDS	R25,pageParam+3
    01AB0 3081      CPI	R24,1
    01AB1 E0E0      LDI	R30,0
    01AB2 079E      CPC	R25,R30
    01AB3 F449      BNE	0x1ABD
(0869)      lcd_write_str(4,1,"温度保存成功！");
    01AB4 EA80      LDI	R24,0xA0
    01AB5 E096      LDI	R25,6
    01AB6 8399      STD	Y+1,R25
    01AB7 8388      ST	Y,R24
    01AB8 E021      LDI	R18,1
    01AB9 E004      LDI	R16,4
    01ABA 940E 0610 CALL	_lcd_write_str
(0870)    }else if(pageParam[1]==2){
    01ABC C010      RJMP	0x1ACD
    01ABD 9180 0C4F LDS	R24,pageParam+2
    01ABF 9190 0C50 LDS	R25,pageParam+3
    01AC1 3082      CPI	R24,2
    01AC2 E0E0      LDI	R30,0
    01AC3 079E      CPC	R25,R30
    01AC4 F441      BNE	0x1ACD
(0871)      lcd_write_str(4,1,"温度保存失败！");
    01AC5 E981      LDI	R24,0x91
    01AC6 E096      LDI	R25,6
    01AC7 8399      STD	Y+1,R25
    01AC8 8388      ST	Y,R24
    01AC9 E021      LDI	R18,1
    01ACA E004      LDI	R16,4
    01ACB 940E 0610 CALL	_lcd_write_str
(0872)    }
(0873)    delay_ms(500);
    01ACD EF04      LDI	R16,0xF4
    01ACE E011      LDI	R17,1
    01ACF 940E 03BF CALL	_delay_ms
(0874)    pageNum=prePageNum;
    01AD1 9020 0C4B LDS	R2,prePageNum
    01AD3 9030 0C4C LDS	R3,prePageNum+1
    01AD5 9230 0C58 STS	pageNum+1,R3
    01AD7 9220 0C57 STS	pageNum,R2
    01AD9 9622      ADIW	R28,2
    01ADA 9508      RET
_page7:
  cur                  --> R20
  keyV                 --> R10
    01ADB 940E 21F0 CALL	push_xgsetF00C
    01ADD 9722      SBIW	R28,2
(0875)  }
(0876)  void page7(void){
(0877)    uint cur=1;
    01ADE E041      LDI	R20,1
    01ADF E050      LDI	R21,0
(0878)    uchar keyV;
(0879)    lcd_write_str(2,0,"是否重置");
    01AE0 E888      LDI	R24,0x88
    01AE1 E096      LDI	R25,6
    01AE2 8399      STD	Y+1,R25
    01AE3 8388      ST	Y,R24
    01AE4 2722      CLR	R18
    01AE5 E002      LDI	R16,2
    01AE6 940E 0610 CALL	_lcd_write_str
(0880)    lcd_write_str(2,2,"确认");
    01AE8 E883      LDI	R24,0x83
    01AE9 E096      LDI	R25,6
    01AEA 8399      STD	Y+1,R25
    01AEB 8388      ST	Y,R24
    01AEC E022      LDI	R18,2
    01AED E002      LDI	R16,2
    01AEE 940E 0610 CALL	_lcd_write_str
(0881)    lcd_write_str(8,2,"取消");
    01AF0 E28B      LDI	R24,0x2B
    01AF1 E097      LDI	R25,7
    01AF2 8399      STD	Y+1,R25
    01AF3 8388      ST	Y,R24
    01AF4 E022      LDI	R18,2
    01AF5 E008      LDI	R16,0x8
    01AF6 940E 0610 CALL	_lcd_write_str
(0882)    Set_White(9,2,10);
    01AF8 E08A      LDI	R24,0xA
    01AF9 8388      ST	Y,R24
    01AFA E022      LDI	R18,2
    01AFB E009      LDI	R16,0x9
    01AFC 940E 0835 CALL	_Set_White
    01AFE C078      RJMP	0x1B77
(0883)     while(1){
(0884)       keyV=KeyScan_once();
    01AFF 940E 04AD CALL	_KeyScan_once
    01B01 2EA0      MOV	R10,R16
(0885) 	  switch(keyV){
    01B02 2D6A      MOV	R22,R10
    01B03 2777      CLR	R23
    01B04 366C      CPI	R22,0x6C
    01B05 E0E0      LDI	R30,0
    01B06 077E      CPC	R23,R30
    01B07 F0A1      BEQ	0x1B1C
    01B08 E68C      LDI	R24,0x6C
    01B09 E090      LDI	R25,0
    01B0A 1786      CP	R24,R22
    01B0B 0797      CPC	R25,R23
    01B0C F034      BLT	0x1B13
    01B0D 3665      CPI	R22,0x65
    01B0E E0E0      LDI	R30,0
    01B0F 077E      CPC	R23,R30
    01B10 F409      BNE	0x1B12
    01B11 C050      RJMP	0x1B62
    01B12 C064      RJMP	0x1B77
    01B13 3762      CPI	R22,0x72
    01B14 E0E0      LDI	R30,0
    01B15 077E      CPC	R23,R30
    01B16 F0C9      BEQ	0x1B30
    01B17 3764      CPI	R22,0x74
    01B18 E0E0      LDI	R30,0
    01B19 077E      CPC	R23,R30
    01B1A F141      BEQ	0x1B43
    01B1B C05B      RJMP	0x1B77
(0886) 	    case 'l':
(0887) 		   if(cur==1){
    01B1C 3041      CPI	R20,1
    01B1D E0E0      LDI	R30,0
    01B1E 075E      CPC	R21,R30
    01B1F F009      BEQ	0x1B21
    01B20 C056      RJMP	0x1B77
(0888) 		      Set_White_off(9,2,10);
    01B21 E08A      LDI	R24,0xA
    01B22 8388      ST	Y,R24
    01B23 E022      LDI	R18,2
    01B24 E009      LDI	R16,0x9
    01B25 940E 07C5 CALL	_Set_White_off
(0889) 		      Set_White(3,2,4);
    01B27 E084      LDI	R24,4
    01B28 8388      ST	Y,R24
    01B29 E022      LDI	R18,2
    01B2A E003      LDI	R16,3
    01B2B 940E 0835 CALL	_Set_White
(0890) 			  cur=0;
    01B2D 2744      CLR	R20
    01B2E 2755      CLR	R21
(0891) 		   }
(0892) 		   break;
    01B2F C047      RJMP	0x1B77
(0893) 		case 'r':
(0894) 		   if(cur==0){
    01B30 3040      CPI	R20,0
    01B31 0745      CPC	R20,R21
    01B32 F009      BEQ	0x1B34
    01B33 C043      RJMP	0x1B77
(0895) 		      Set_White_off(3,2,4);
    01B34 E084      LDI	R24,4
    01B35 8388      ST	Y,R24
    01B36 E022      LDI	R18,2
    01B37 E003      LDI	R16,3
    01B38 940E 07C5 CALL	_Set_White_off
(0896) 		      Set_White(9,2,10);
    01B3A E08A      LDI	R24,0xA
    01B3B 8388      ST	Y,R24
    01B3C E022      LDI	R18,2
    01B3D E009      LDI	R16,0x9
    01B3E 940E 0835 CALL	_Set_White
(0897) 			  cur=1;
    01B40 E041      LDI	R20,1
    01B41 E050      LDI	R21,0
(0898) 		   }
(0899) 		  break;
    01B42 C034      RJMP	0x1B77
(0900) 		case 't':
(0901) 		  //执行相关操作	  
(0902) 		  if(cur==0){
    01B43 3040      CPI	R20,0
    01B44 0745      CPC	R20,R21
    01B45 F469      BNE	0x1B53
(0903) 		     Set_White_off(3,2,4);
    01B46 E084      LDI	R24,4
    01B47 8388      ST	Y,R24
    01B48 E022      LDI	R18,2
    01B49 E003      LDI	R16,3
    01B4A 940E 07C5 CALL	_Set_White_off
(0904) 		       //进入重置画面。在Page9启动看门狗重置系统、不喂狗。数据重置对呀操作不同
(0905) 		       pageNum=9;
    01B4C E089      LDI	R24,0x9
    01B4D E090      LDI	R25,0
    01B4E 9390 0C58 STS	pageNum+1,R25
    01B50 9380 0C57 STS	pageNum,R24
(0906) 		  }else {
    01B52 C025      RJMP	0x1B78
(0907) 		      Set_White_off(9,2,10);
    01B53 E08A      LDI	R24,0xA
    01B54 8388      ST	Y,R24
    01B55 E022      LDI	R18,2
    01B56 E009      LDI	R16,0x9
    01B57 940E 07C5 CALL	_Set_White_off
(0908) 		       pageNum=prePageNum;
    01B59 9020 0C4B LDS	R2,prePageNum
    01B5B 9030 0C4C LDS	R3,prePageNum+1
    01B5D 9230 0C58 STS	pageNum+1,R3
    01B5F 9220 0C57 STS	pageNum,R2
(0909) 		  }
(0910) 		  return;
    01B61 C016      RJMP	0x1B78
(0911) 		 case 'e':
(0912) 		    Set_White_off(3,2,4);
    01B62 E084      LDI	R24,4
    01B63 8388      ST	Y,R24
    01B64 E022      LDI	R18,2
    01B65 E003      LDI	R16,3
    01B66 940E 07C5 CALL	_Set_White_off
(0913) 		    Set_White_off(9,2,10);
    01B68 E08A      LDI	R24,0xA
    01B69 8388      ST	Y,R24
    01B6A E022      LDI	R18,2
    01B6B E009      LDI	R16,0x9
    01B6C 940E 07C5 CALL	_Set_White_off
(0914) 		    pageNum=prePageNum;
    01B6E 9020 0C4B LDS	R2,prePageNum
    01B70 9030 0C4C LDS	R3,prePageNum+1
    01B72 9230 0C58 STS	pageNum+1,R3
    01B74 9220 0C57 STS	pageNum,R2
(0915) 		    return;
    01B76 C001      RJMP	0x1B78
    01B77 CF87      RJMP	0x1AFF
    01B78 9622      ADIW	R28,2
    01B79 940C 21F7 JMP	pop_xgsetF00C
_page8:
  dateAc               --> Y,+17
  keyV                 --> R22
  cur                  --> R20
  date                 --> Y,+2
  i                    --> R22
    01B7B 940E 21E6 CALL	push_xgsetF000
    01B7D 97AD      SBIW	R28,0x2D
(0916) 	  }
(0917) 	}
(0918)  }
(0919)  //由于使用DS1307，暂时不做读取和保存时间的。等实时时钟模块买来
(0920)  void page8(void){
(0921)    uint cur=0;
    01B7E 2744      CLR	R20
    01B7F 2755      CLR	R21
(0922)    uchar keyV;
(0923)    uchar date[15];
(0924)    uint i;
(0925)     uint dateAc[14]={1,2,3,4,6,7,9,10,2,3,5,6,8,9};
    01B80 E482      LDI	R24,0x42
    01B81 E096      LDI	R25,6
    01B82 01FE      MOVW	R30,R28
    01B83 9671      ADIW	R30,0x11
    01B84 E10C      LDI	R16,0x1C
    01B85 E010      LDI	R17,0
    01B86 93FA      ST	-Y,R31
    01B87 93EA      ST	-Y,R30
    01B88 939A      ST	-Y,R25
    01B89 938A      ST	-Y,R24
    01B8A 940E 222B CALL	asgnblk
(0926) 	
(0927)    date[0]=2;
    01B8C E082      LDI	R24,2
    01B8D 838A      STD	Y+2,R24
(0928)    date[1]=0;
    01B8E 2422      CLR	R2
    01B8F 822B      STD	Y+3,R2
(0929)    date[2]=1;
    01B90 E081      LDI	R24,1
    01B91 838C      STD	Y+4,R24
(0930)    date[3]=5;
    01B92 E085      LDI	R24,5
    01B93 838D      STD	Y+5,R24
(0931)    date[4]=1;
    01B94 E081      LDI	R24,1
    01B95 838E      STD	Y+6,R24
(0932)    date[5]=2;
    01B96 E082      LDI	R24,2
    01B97 838F      STD	Y+7,R24
(0933)    date[6]=2;
    01B98 8788      STD	Y+8,R24
(0934)    date[7]=5;
    01B99 E085      LDI	R24,5
    01B9A 8789      STD	Y+9,R24
(0935)    date[8]=1;
    01B9B E081      LDI	R24,1
    01B9C 878A      STD	Y+10,R24
(0936)    date[9]=2;
    01B9D E082      LDI	R24,2
    01B9E 878B      STD	Y+11,R24
(0937)    date[10]=3;
    01B9F E083      LDI	R24,3
    01BA0 878C      STD	Y+12,R24
(0938)    date[11]=0;
    01BA1 862D      STD	Y+13,R2
(0939)    date[12]=5;
    01BA2 E085      LDI	R24,5
    01BA3 878E      STD	Y+14,R24
(0940)    date[13]=0;
    01BA4 862F      STD	Y+15,R2
(0941)     lcd_write_pos(1,0);
    01BA5 2722      CLR	R18
    01BA6 E001      LDI	R16,1
    01BA7 940E 05CC CALL	_lcd_write_pos
(0942)   for(i=0;i<8;i++){
    01BA9 2766      CLR	R22
    01BAA 2777      CLR	R23
    01BAB C01D      RJMP	0x1BC9
(0943)    lcd_write_char_con(0,0x30 | date[i]);
    01BAC 01CE      MOVW	R24,R28
    01BAD 9602      ADIW	R24,2
    01BAE 01FB      MOVW	R30,R22
    01BAF 0FE8      ADD	R30,R24
    01BB0 1FF9      ADC	R31,R25
    01BB1 8120      LD	R18,Z
    01BB2 6320      ORI	R18,0x30
    01BB3 2700      CLR	R16
    01BB4 940E 05B8 CALL	_lcd_write_char_con
(0944)     lcd_write_char_con(0,' ');
    01BB6 E220      LDI	R18,0x20
    01BB7 2700      CLR	R16
    01BB8 940E 05B8 CALL	_lcd_write_char_con
(0945) 	if(i==3 || i==5){
    01BBA 3063      CPI	R22,3
    01BBB E0E0      LDI	R30,0
    01BBC 077E      CPC	R23,R30
    01BBD F021      BEQ	0x1BC2
    01BBE 3065      CPI	R22,5
    01BBF E0E0      LDI	R30,0
    01BC0 077E      CPC	R23,R30
    01BC1 F429      BNE	0x1BC7
(0946) 	  lcd_write_str_con(0,"- ");
    01BC2 E820      LDI	R18,0x80
    01BC3 E036      LDI	R19,6
    01BC4 2700      CLR	R16
    01BC5 940E 065A CALL	_lcd_write_str_con
    01BC7 5F6F      SUBI	R22,0xFF
    01BC8 4F7F      SBCI	R23,0xFF
    01BC9 3068      CPI	R22,0x8
    01BCA E0E0      LDI	R30,0
    01BCB 077E      CPC	R23,R30
    01BCC F2F8      BCS	0x1BAC
(0947) 	}
(0948)   }
(0949)    lcd_write_pos(2,1);
    01BCD E021      LDI	R18,1
    01BCE E002      LDI	R16,2
    01BCF 940E 05CC CALL	_lcd_write_pos
(0950)    for(i=8;i<14;i++){
    01BD1 E068      LDI	R22,0x8
    01BD2 E070      LDI	R23,0
    01BD3 C01D      RJMP	0x1BF1
(0951)    lcd_write_char_con(1,0x30 | date[i]);
    01BD4 01CE      MOVW	R24,R28
    01BD5 9602      ADIW	R24,2
    01BD6 01FB      MOVW	R30,R22
    01BD7 0FE8      ADD	R30,R24
    01BD8 1FF9      ADC	R31,R25
    01BD9 8120      LD	R18,Z
    01BDA 6320      ORI	R18,0x30
    01BDB E001      LDI	R16,1
    01BDC 940E 05B8 CALL	_lcd_write_char_con
(0952)    lcd_write_char_con(0,' ');
    01BDE E220      LDI	R18,0x20
    01BDF 2700      CLR	R16
    01BE0 940E 05B8 CALL	_lcd_write_char_con
(0953)    if(i==9 || i==11){
    01BE2 3069      CPI	R22,0x9
    01BE3 E0E0      LDI	R30,0
    01BE4 077E      CPC	R23,R30
    01BE5 F021      BEQ	0x1BEA
    01BE6 306B      CPI	R22,0xB
    01BE7 E0E0      LDI	R30,0
    01BE8 077E      CPC	R23,R30
    01BE9 F429      BNE	0x1BEF
(0954) 	 lcd_write_str_con(0,": ");
    01BEA EF2F      LDI	R18,0xFF
    01BEB E036      LDI	R19,6
    01BEC 2700      CLR	R16
    01BED 940E 065A CALL	_lcd_write_str_con
    01BEF 5F6F      SUBI	R22,0xFF
    01BF0 4F7F      SBCI	R23,0xFF
    01BF1 306E      CPI	R22,0xE
    01BF2 E0E0      LDI	R30,0
    01BF3 077E      CPC	R23,R30
    01BF4 F2F8      BCS	0x1BD4
(0955)    }
(0956)   } 
(0957)    lcd_write_str(3,2,"保存");
    01BF5 EE89      LDI	R24,0xE9
    01BF6 E096      LDI	R25,6
    01BF7 8399      STD	Y+1,R25
    01BF8 8388      ST	Y,R24
    01BF9 E022      LDI	R18,2
    01BFA E003      LDI	R16,3
    01BFB 940E 0610 CALL	_lcd_write_str
(0958)    lcd_write_str(8,2,"取消");
    01BFD E28B      LDI	R24,0x2B
    01BFE E097      LDI	R25,7
    01BFF 8399      STD	Y+1,R25
    01C00 8388      ST	Y,R24
    01C01 E022      LDI	R18,2
    01C02 E008      LDI	R16,0x8
    01C03 940E 0610 CALL	_lcd_write_str
(0959)    //初始化date
(0960)   
(0961)    cur=0;
    01C05 2744      CLR	R20
    01C06 2755      CLR	R21
(0962)    lcd_write_pos(1,0);//初始游标位置
    01C07 2722      CLR	R18
    01C08 E001      LDI	R16,1
    01C09 940E 05CC CALL	_lcd_write_pos
(0963)    cur_set(3);//上半屏幕游标设置
    01C0B E003      LDI	R16,3
    01C0C E010      LDI	R17,0
    01C0D 940E 0781 CALL	_cur_set
    01C0F C18A      RJMP	0x1D9A
(0964)    while(1){
(0965)      pageTime(3);//
    01C10 E003      LDI	R16,3
    01C11 E010      LDI	R17,0
    01C12 940E 0E03 CALL	_pageTime
(0966) 	 keyV=KeyScan_once();
    01C14 940E 04AD CALL	_KeyScan_once
    01C16 2F60      MOV	R22,R16
(0967) 	 if(keyV=='u'){
    01C17 3705      CPI	R16,0x75
    01C18 F571      BNE	0x1C47
(0968) 	   if(cur>13){//调到时间第一个
    01C19 E08D      LDI	R24,0xD
    01C1A E090      LDI	R25,0
    01C1B 1784      CP	R24,R20
    01C1C 0795      CPC	R25,R21
    01C1D F4B8      BCC	0x1C35
(0969) 	        Set_White_off(4,2,5);
    01C1E E085      LDI	R24,5
    01C1F 8388      ST	Y,R24
    01C20 E022      LDI	R18,2
    01C21 E004      LDI	R16,4
    01C22 940E 07C5 CALL	_Set_White_off
(0970) 			Set_White_off(9,2,10);
    01C24 E08A      LDI	R24,0xA
    01C25 8388      ST	Y,R24
    01C26 E022      LDI	R18,2
    01C27 E009      LDI	R16,0x9
    01C28 940E 07C5 CALL	_Set_White_off
(0971) 	        lcd_write_pos(2,1);
    01C2A E021      LDI	R18,1
    01C2B E002      LDI	R16,2
    01C2C 940E 05CC CALL	_lcd_write_pos
(0972) 		    cur_set(3);
    01C2E E003      LDI	R16,3
    01C2F E010      LDI	R17,0
    01C30 940E 0781 CALL	_cur_set
(0973) 			cur=8; 
    01C32 E048      LDI	R20,0x8
    01C33 E050      LDI	R21,0
(0974) 		   }else if(cur>7 && cur <14){//调到日期第一个
    01C34 C165      RJMP	0x1D9A
    01C35 E087      LDI	R24,7
    01C36 E090      LDI	R25,0
    01C37 1784      CP	R24,R20
    01C38 0795      CPC	R25,R21
    01C39 F008      BCS	0x1C3B
    01C3A C15F      RJMP	0x1D9A
    01C3B 304E      CPI	R20,0xE
    01C3C E0E0      LDI	R30,0
    01C3D 075E      CPC	R21,R30
    01C3E F008      BCS	0x1C40
    01C3F C15A      RJMP	0x1D9A
(0975) 		    lcd_write_pos(1,0);
    01C40 2722      CLR	R18
    01C41 E001      LDI	R16,1
    01C42 940E 05CC CALL	_lcd_write_pos
(0976) 			cur=0; 
    01C44 2744      CLR	R20
    01C45 2755      CLR	R21
(0977) 		   }
(0978) 	 }else if(keyV=='d'){
    01C46 C153      RJMP	0x1D9A
    01C47 3664      CPI	R22,0x64
    01C48 F519      BNE	0x1C6C
(0979) 	     if(cur>7 && cur <14){//在时间上，第三行，默认要保存，所以调到保存上
    01C49 E087      LDI	R24,7
    01C4A E090      LDI	R25,0
    01C4B 1784      CP	R24,R20
    01C4C 0795      CPC	R25,R21
    01C4D F488      BCC	0x1C5F
    01C4E 304E      CPI	R20,0xE
    01C4F E0E0      LDI	R30,0
    01C50 075E      CPC	R21,R30
    01C51 F468      BCC	0x1C5F
(0980) 		      cur_set(0);//关下半屏幕游标
    01C52 2700      CLR	R16
    01C53 2711      CLR	R17
    01C54 940E 0781 CALL	_cur_set
(0981) 			  Set_White(4,2,5);
    01C56 E085      LDI	R24,5
    01C57 8388      ST	Y,R24
    01C58 E022      LDI	R18,2
    01C59 E004      LDI	R16,4
    01C5A 940E 0835 CALL	_Set_White
(0982) 			  cur=14;
    01C5C E04E      LDI	R20,0xE
    01C5D E050      LDI	R21,0
(0983) 		 }else if(cur<=7){ //调到时间第一个
    01C5E C13B      RJMP	0x1D9A
    01C5F E087      LDI	R24,7
    01C60 E090      LDI	R25,0
    01C61 1784      CP	R24,R20
    01C62 0795      CPC	R25,R21
    01C63 F408      BCC	0x1C65
    01C64 C135      RJMP	0x1D9A
(0984) 		    lcd_write_pos(2,1);
    01C65 E021      LDI	R18,1
    01C66 E002      LDI	R16,2
    01C67 940E 05CC CALL	_lcd_write_pos
(0985) 			cur=8; 
    01C69 E048      LDI	R20,0x8
    01C6A E050      LDI	R21,0
(0986) 		 }
(0987) 	 }else if(keyV=='l'){
    01C6B C12E      RJMP	0x1D9A
    01C6C 366C      CPI	R22,0x6C
    01C6D F009      BEQ	0x1C6F
    01C6E C043      RJMP	0x1CB2
(0988) 			if(cur<=8 && cur>0){
    01C6F E088      LDI	R24,0x8
    01C70 E090      LDI	R25,0
    01C71 1784      CP	R24,R20
    01C72 0795      CPC	R25,R21
    01C73 F090      BCS	0x1C86
    01C74 3040      CPI	R20,0
    01C75 0745      CPC	R20,R21
    01C76 F079      BEQ	0x1C86
(0989) 			 cur--;
    01C77 5041      SUBI	R20,1
    01C78 4050      SBCI	R21,0
(0990) 			 lcd_write_pos(dateAc[cur],0);
    01C79 2722      CLR	R18
    01C7A 01CE      MOVW	R24,R28
    01C7B 9641      ADIW	R24,0x11
    01C7C 01FA      MOVW	R30,R20
    01C7D 0FEE      LSL	R30
    01C7E 1FFF      ROL	R31
    01C7F 0FE8      ADD	R30,R24
    01C80 1FF9      ADC	R31,R25
    01C81 8100      LD	R16,Z
    01C82 8111      LDD	R17,Z+1
    01C83 940E 05CC CALL	_lcd_write_pos
(0991) 			}else if (cur>8 && cur<14){
    01C85 C114      RJMP	0x1D9A
    01C86 E088      LDI	R24,0x8
    01C87 E090      LDI	R25,0
    01C88 1784      CP	R24,R20
    01C89 0795      CPC	R25,R21
    01C8A F498      BCC	0x1C9E
    01C8B 304E      CPI	R20,0xE
    01C8C E0E0      LDI	R30,0
    01C8D 075E      CPC	R21,R30
    01C8E F478      BCC	0x1C9E
(0992) 			 cur--;
    01C8F 5041      SUBI	R20,1
    01C90 4050      SBCI	R21,0
(0993) 			 lcd_write_pos(dateAc[cur],1);
    01C91 E021      LDI	R18,1
    01C92 01CE      MOVW	R24,R28
    01C93 9641      ADIW	R24,0x11
    01C94 01FA      MOVW	R30,R20
    01C95 0FEE      LSL	R30
    01C96 1FFF      ROL	R31
    01C97 0FE8      ADD	R30,R24
    01C98 1FF9      ADC	R31,R25
    01C99 8100      LD	R16,Z
    01C9A 8111      LDD	R17,Z+1
    01C9B 940E 05CC CALL	_lcd_write_pos
(0994) 			}else if (cur==15){
    01C9D C0FC      RJMP	0x1D9A
    01C9E 304F      CPI	R20,0xF
    01C9F E0E0      LDI	R30,0
    01CA0 075E      CPC	R21,R30
    01CA1 F009      BEQ	0x1CA3
    01CA2 C0F7      RJMP	0x1D9A
(0995) 			    Set_White_off(9,2,10);
    01CA3 E08A      LDI	R24,0xA
    01CA4 8388      ST	Y,R24
    01CA5 E022      LDI	R18,2
    01CA6 E009      LDI	R16,0x9
    01CA7 940E 07C5 CALL	_Set_White_off
(0996) 			    Set_White(4,2,5);
    01CA9 E085      LDI	R24,5
    01CAA 8388      ST	Y,R24
    01CAB E022      LDI	R18,2
    01CAC E004      LDI	R16,4
    01CAD 940E 0835 CALL	_Set_White
(0997) 				cur=14;
    01CAF E04E      LDI	R20,0xE
    01CB0 E050      LDI	R21,0
(0998) 			}
(0999) 			
(1000) 		
(1001) 	 }else if(keyV=='r'){
    01CB1 C0E8      RJMP	0x1D9A
    01CB2 3762      CPI	R22,0x72
    01CB3 F009      BEQ	0x1CB5
    01CB4 C03A      RJMP	0x1CEF
(1002) 	       if(cur<7){
    01CB5 3047      CPI	R20,7
    01CB6 E0E0      LDI	R30,0
    01CB7 075E      CPC	R21,R30
    01CB8 F478      BCC	0x1CC8
(1003) 			   cur++;
    01CB9 5F4F      SUBI	R20,0xFF
    01CBA 4F5F      SBCI	R21,0xFF
(1004) 			   lcd_write_pos(dateAc[cur],0);
    01CBB 2722      CLR	R18
    01CBC 01CE      MOVW	R24,R28
    01CBD 9641      ADIW	R24,0x11
    01CBE 01FA      MOVW	R30,R20
    01CBF 0FEE      LSL	R30
    01CC0 1FFF      ROL	R31
    01CC1 0FE8      ADD	R30,R24
    01CC2 1FF9      ADC	R31,R25
    01CC3 8100      LD	R16,Z
    01CC4 8111      LDD	R17,Z+1
    01CC5 940E 05CC CALL	_lcd_write_pos
(1005) 			}else if (cur<13){
    01CC7 C0D2      RJMP	0x1D9A
    01CC8 304D      CPI	R20,0xD
    01CC9 E0E0      LDI	R30,0
    01CCA 075E      CPC	R21,R30
    01CCB F478      BCC	0x1CDB
(1006) 			   cur++;
    01CCC 5F4F      SUBI	R20,0xFF
    01CCD 4F5F      SBCI	R21,0xFF
(1007) 			   lcd_write_pos(dateAc[cur],1);
    01CCE E021      LDI	R18,1
    01CCF 01CE      MOVW	R24,R28
    01CD0 9641      ADIW	R24,0x11
    01CD1 01FA      MOVW	R30,R20
    01CD2 0FEE      LSL	R30
    01CD3 1FFF      ROL	R31
    01CD4 0FE8      ADD	R30,R24
    01CD5 1FF9      ADC	R31,R25
    01CD6 8100      LD	R16,Z
    01CD7 8111      LDD	R17,Z+1
    01CD8 940E 05CC CALL	_lcd_write_pos
(1008) 			}else if (cur==14){
    01CDA C0BF      RJMP	0x1D9A
    01CDB 304E      CPI	R20,0xE
    01CDC E0E0      LDI	R30,0
    01CDD 075E      CPC	R21,R30
    01CDE F009      BEQ	0x1CE0
    01CDF C0BA      RJMP	0x1D9A
(1009) 			    Set_White_off(4,2,5);
    01CE0 E085      LDI	R24,5
    01CE1 8388      ST	Y,R24
    01CE2 E022      LDI	R18,2
    01CE3 E004      LDI	R16,4
    01CE4 940E 07C5 CALL	_Set_White_off
(1010) 				Set_White(9,2,10);
    01CE6 E08A      LDI	R24,0xA
    01CE7 8388      ST	Y,R24
    01CE8 E022      LDI	R18,2
    01CE9 E009      LDI	R16,0x9
    01CEA 940E 0835 CALL	_Set_White
(1011) 				cur=15;
    01CEC E04F      LDI	R20,0xF
    01CED E050      LDI	R21,0
(1012) 			}
(1013) 	 }else if(keyV=='e'){
    01CEE C0AB      RJMP	0x1D9A
    01CEF 3665      CPI	R22,0x65
    01CF0 F4B9      BNE	0x1D08
(1014) 	     cur_set(0);//关上半屏幕游标
    01CF1 2700      CLR	R16
    01CF2 2711      CLR	R17
    01CF3 940E 0781 CALL	_cur_set
(1015) 		  Set_White_off(4,2,5);
    01CF5 E085      LDI	R24,5
    01CF6 8388      ST	Y,R24
    01CF7 E022      LDI	R18,2
    01CF8 E004      LDI	R16,4
    01CF9 940E 07C5 CALL	_Set_White_off
(1016) 		  Set_White_off(9,2,10);
    01CFB E08A      LDI	R24,0xA
    01CFC 8388      ST	Y,R24
    01CFD E022      LDI	R18,2
    01CFE E009      LDI	R16,0x9
    01CFF 940E 07C5 CALL	_Set_White_off
(1017) 		 pageNum=1;
    01D01 E081      LDI	R24,1
    01D02 E090      LDI	R25,0
    01D03 9390 0C58 STS	pageNum+1,R25
    01D05 9380 0C57 STS	pageNum,R24
(1018) 		 return;
    01D07 C093      RJMP	0x1D9B
(1019) 	     //退出界面
(1020) 	 }else if(keyV=='t'){
    01D08 3764      CPI	R22,0x74
    01D09 F591      BNE	0x1D3C
(1021) 	      if(cur==14){
    01D0A 304E      CPI	R20,0xE
    01D0B E0E0      LDI	R30,0
    01D0C 075E      CPC	R21,R30
    01D0D F491      BNE	0x1D20
(1022) 		        //保存操作
(1023) 				pageParam[1]=0;//标记是时间的保存
    01D0E 2422      CLR	R2
    01D0F 2433      CLR	R3
    01D10 9230 0C50 STS	pageParam+3,R3
    01D12 9220 0C4F STS	pageParam+2,R2
(1024) 				prePageNum=8;
    01D14 E088      LDI	R24,0x8
    01D15 E090      LDI	R25,0
    01D16 9390 0C4C STS	prePageNum+1,R25
    01D18 9380 0C4B STS	prePageNum,R24
(1025) 				pageNum=6;
    01D1A E086      LDI	R24,6
    01D1B 9390 0C58 STS	pageNum+1,R25
    01D1D 9380 0C57 STS	pageNum,R24
(1026) 				return;
    01D1F C07B      RJMP	0x1D9B
(1027) 		 }else if(cur==15){
    01D20 304F      CPI	R20,0xF
    01D21 E0E0      LDI	R30,0
    01D22 075E      CPC	R21,R30
    01D23 F009      BEQ	0x1D25
    01D24 C075      RJMP	0x1D9A
(1028) 		        //取消操作
(1029) 			 cur_set(0);//关上半屏幕游标
    01D25 2700      CLR	R16
    01D26 2711      CLR	R17
    01D27 940E 0781 CALL	_cur_set
(1030) 		  Set_White_off(4,2,5);
    01D29 E085      LDI	R24,5
    01D2A 8388      ST	Y,R24
    01D2B E022      LDI	R18,2
    01D2C E004      LDI	R16,4
    01D2D 940E 07C5 CALL	_Set_White_off
(1031) 		  Set_White_off(9,2,10);
    01D2F E08A      LDI	R24,0xA
    01D30 8388      ST	Y,R24
    01D31 E022      LDI	R18,2
    01D32 E009      LDI	R16,0x9
    01D33 940E 07C5 CALL	_Set_White_off
(1032) 		 pageNum=1;
    01D35 E081      LDI	R24,1
    01D36 E090      LDI	R25,0
    01D37 9390 0C58 STS	pageNum+1,R25
    01D39 9380 0C57 STS	pageNum,R24
(1033) 		 return;
    01D3B C05F      RJMP	0x1D9B
(1034) 		 }
(1035) 	 }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    01D3C 3360      CPI	R22,0x30
    01D3D F099      BEQ	0x1D51
    01D3E 3361      CPI	R22,0x31
    01D3F F089      BEQ	0x1D51
    01D40 3362      CPI	R22,0x32
    01D41 F079      BEQ	0x1D51
    01D42 3363      CPI	R22,0x33
    01D43 F069      BEQ	0x1D51
    01D44 3364      CPI	R22,0x34
    01D45 F059      BEQ	0x1D51
    01D46 3365      CPI	R22,0x35
    01D47 F049      BEQ	0x1D51
    01D48 3366      CPI	R22,0x36
    01D49 F039      BEQ	0x1D51
    01D4A 3367      CPI	R22,0x37
    01D4B F029      BEQ	0x1D51
    01D4C 3368      CPI	R22,0x38
    01D4D F019      BEQ	0x1D51
    01D4E 3369      CPI	R22,0x39
    01D4F F009      BEQ	0x1D51
    01D50 C049      RJMP	0x1D9A
(1036) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(1037) 			if(cur<14){
    01D51 304E      CPI	R20,0xE
    01D52 E0E0      LDI	R30,0
    01D53 075E      CPC	R21,R30
    01D54 F008      BCS	0x1D56
    01D55 C044      RJMP	0x1D9A
(1038) 			 lcd_write_char_con(0,0x30 | keyV);
    01D56 2F26      MOV	R18,R22
    01D57 6320      ORI	R18,0x30
    01D58 2700      CLR	R16
    01D59 940E 05B8 CALL	_lcd_write_char_con
(1039) 			 lcd_write_char_con(0,' ');
    01D5B E220      LDI	R18,0x20
    01D5C 2700      CLR	R16
    01D5D 940E 05B8 CALL	_lcd_write_char_con
(1040) 			 date[cur]=keyV;
    01D5F 01CE      MOVW	R24,R28
    01D60 9602      ADIW	R24,2
    01D61 01FA      MOVW	R30,R20
    01D62 0FE8      ADD	R30,R24
    01D63 1FF9      ADC	R31,R25
    01D64 8360      ST	Z,R22
(1041) 			  if(cur==3 || cur==5){
    01D65 3043      CPI	R20,3
    01D66 E0E0      LDI	R30,0
    01D67 075E      CPC	R21,R30
    01D68 F021      BEQ	0x1D6D
    01D69 3045      CPI	R20,5
    01D6A E0E0      LDI	R30,0
    01D6B 075E      CPC	R21,R30
    01D6C F431      BNE	0x1D73
(1042) 			    lcd_write_str_con(0,"- ");
    01D6D E820      LDI	R18,0x80
    01D6E E036      LDI	R19,6
    01D6F 2700      CLR	R16
    01D70 940E 065A CALL	_lcd_write_str_con
(1043) 			 }else if(cur==9 || cur==11){
    01D72 C00D      RJMP	0x1D80
    01D73 3049      CPI	R20,0x9
    01D74 E0E0      LDI	R30,0
    01D75 075E      CPC	R21,R30
    01D76 F021      BEQ	0x1D7B
    01D77 304B      CPI	R20,0xB
    01D78 E0E0      LDI	R30,0
    01D79 075E      CPC	R21,R30
    01D7A F429      BNE	0x1D80
(1044) 			    lcd_write_str_con(0,": ");
    01D7B EF2F      LDI	R18,0xFF
    01D7C E036      LDI	R19,6
    01D7D 2700      CLR	R16
    01D7E 940E 065A CALL	_lcd_write_str_con
(1045) 			 }
(1046) 			 cur++;
    01D80 5F4F      SUBI	R20,0xFF
    01D81 4F5F      SBCI	R21,0xFF
(1047) 			 if(cur==8){
    01D82 3048      CPI	R20,0x8
    01D83 E0E0      LDI	R30,0
    01D84 075E      CPC	R21,R30
    01D85 F431      BNE	0x1D8C
(1048) 			    lcd_write_pos(dateAc[8],1);
    01D86 E021      LDI	R18,1
    01D87 A109      LDD	R16,Y+33
    01D88 A11A      LDD	R17,Y+34
    01D89 940E 05CC CALL	_lcd_write_pos
(1049) 			 }else if(cur==14){
    01D8B C00E      RJMP	0x1D9A
    01D8C 304E      CPI	R20,0xE
    01D8D E0E0      LDI	R30,0
    01D8E 075E      CPC	R21,R30
    01D8F F451      BNE	0x1D9A
(1050) 			  cur_set(0);//关下半屏幕游标
    01D90 2700      CLR	R16
    01D91 2711      CLR	R17
    01D92 940E 0781 CALL	_cur_set
(1051) 			  Set_White(4,2,5);
    01D94 E085      LDI	R24,5
    01D95 8388      ST	Y,R24
    01D96 E022      LDI	R18,2
    01D97 E004      LDI	R16,4
    01D98 940E 0835 CALL	_Set_White
    01D9A CE75      RJMP	0x1C10
    01D9B 96AD      ADIW	R28,0x2D
    01D9C 940C 21EB JMP	pop_xgsetF000
_page9:
    01D9E 9722      SBIW	R28,2
(1052) 			 }
(1053) 			}
(1054) 	 }
(1055)    }
(1056)  }
(1057) void page9(void){//复用的方法
(1058)   if(pageParam[2]==0){
    01D9F 9020 0C51 LDS	R2,pageParam+4
    01DA1 9030 0C52 LDS	R3,pageParam+5
    01DA3 2022      TST	R2
    01DA4 F459      BNE	0x1DB0
    01DA5 2033      TST	R3
    01DA6 F449      BNE	0x1DB0
(1059)      lcd_write_str(4,1,"系统重置中。。。");
    01DA7 E68F      LDI	R24,0x6F
    01DA8 E096      LDI	R25,6
    01DA9 8399      STD	Y+1,R25
    01DAA 8388      ST	Y,R24
    01DAB E021      LDI	R18,1
    01DAC E004      LDI	R16,4
    01DAD 940E 0610 CALL	_lcd_write_str
(1060)    }else if(pageParam[2]==1){
    01DAF C016      RJMP	0x1DC6
    01DB0 9180 0C51 LDS	R24,pageParam+4
    01DB2 9190 0C52 LDS	R25,pageParam+5
    01DB4 3081      CPI	R24,1
    01DB5 E0E0      LDI	R30,0
    01DB6 079E      CPC	R25,R30
    01DB7 F471      BNE	0x1DC6
(1061)      lcd_write_str(4,1,"数据重置中。。。");
    01DB8 E58E      LDI	R24,0x5E
    01DB9 E096      LDI	R25,6
    01DBA 8399      STD	Y+1,R25
    01DBB 8388      ST	Y,R24
    01DBC E021      LDI	R18,1
    01DBD E004      LDI	R16,4
    01DBE 940E 0610 CALL	_lcd_write_str
(1062) 	 reset_temp_data(pageParam[0]);
    01DC0 9100 0C4D LDS	R16,pageParam
    01DC2 9110 0C4E LDS	R17,pageParam+1
    01DC4 940E 1F24 CALL	_reset_temp_data
(1063)    }
(1064)    delay_ms(500);
    01DC6 EF04      LDI	R16,0xF4
    01DC7 E011      LDI	R17,1
    01DC8 940E 03BF CALL	_delay_ms
(1065)    pageNum=prePageNum;
    01DCA 9020 0C4B LDS	R2,prePageNum
    01DCC 9030 0C4C LDS	R3,prePageNum+1
    01DCE 9230 0C58 STS	pageNum+1,R3
    01DD0 9220 0C57 STS	pageNum,R2
    01DD2 9622      ADIW	R28,2
    01DD3 9508      RET
(1066)  }
(1067) //分发Pages
(1068) void dispatchPages(void){
(1069)       lcd_clear();//清屏幕
_dispatchPages:
    01DD4 940E 06C7 CALL	_lcd_clear
(1070)       if(pageNum==1){
    01DD6 9180 0C57 LDS	R24,pageNum
    01DD8 9190 0C58 LDS	R25,pageNum+1
    01DDA 3081      CPI	R24,1
    01DDB E0E0      LDI	R30,0
    01DDC 079E      CPC	R25,R30
    01DDD F419      BNE	0x1DE1
(1071) 	    page1();
    01DDE 940E 0E1F CALL	_page1
(1072) 	  }else if(pageNum==2){
    01DE0 C051      RJMP	0x1E32
    01DE1 9180 0C57 LDS	R24,pageNum
    01DE3 9190 0C58 LDS	R25,pageNum+1
    01DE5 3082      CPI	R24,2
    01DE6 E0E0      LDI	R30,0
    01DE7 079E      CPC	R25,R30
    01DE8 F419      BNE	0x1DEC
(1073) 	    page2();
    01DE9 940E 1199 CALL	_page2
(1074) 	  }else if(pageNum==3){
    01DEB C046      RJMP	0x1E32
    01DEC 9180 0C57 LDS	R24,pageNum
    01DEE 9190 0C58 LDS	R25,pageNum+1
    01DF0 3083      CPI	R24,3
    01DF1 E0E0      LDI	R30,0
    01DF2 079E      CPC	R25,R30
    01DF3 F419      BNE	0x1DF7
(1075) 	    page3();
    01DF4 940E 126D CALL	_page3
(1076) 	  }else if(pageNum==4){
    01DF6 C03B      RJMP	0x1E32
    01DF7 9180 0C57 LDS	R24,pageNum
    01DF9 9190 0C58 LDS	R25,pageNum+1
    01DFB 3084      CPI	R24,4
    01DFC E0E0      LDI	R30,0
    01DFD 079E      CPC	R25,R30
    01DFE F411      BNE	0x1E01
(1077) 	    page4();
    01DFF D8AD      RCALL	_page4
(1078) 	  }else if(pageNum==5){
    01E00 C031      RJMP	0x1E32
    01E01 9180 0C57 LDS	R24,pageNum
    01E03 9190 0C58 LDS	R25,pageNum+1
    01E05 3085      CPI	R24,5
    01E06 E0E0      LDI	R30,0
    01E07 079E      CPC	R25,R30
    01E08 F411      BNE	0x1E0B
(1079) 	    page5();
    01E09 DB6B      RCALL	_page5
(1080) 	  }else if(pageNum==6){
    01E0A C027      RJMP	0x1E32
    01E0B 9180 0C57 LDS	R24,pageNum
    01E0D 9190 0C58 LDS	R25,pageNum+1
    01E0F 3086      CPI	R24,6
    01E10 E0E0      LDI	R30,0
    01E11 079E      CPC	R25,R30
    01E12 F411      BNE	0x1E15
(1081) 	    page6();
    01E13 DC86      RCALL	_page6
(1082) 	  }else if(pageNum==7){
    01E14 C01D      RJMP	0x1E32
    01E15 9180 0C57 LDS	R24,pageNum
    01E17 9190 0C58 LDS	R25,pageNum+1
    01E19 3087      CPI	R24,7
    01E1A E0E0      LDI	R30,0
    01E1B 079E      CPC	R25,R30
    01E1C F411      BNE	0x1E1F
(1083) 	    page7();
    01E1D DCBD      RCALL	_page7
(1084) 	  }else if(pageNum==8){
    01E1E C013      RJMP	0x1E32
    01E1F 9180 0C57 LDS	R24,pageNum
    01E21 9190 0C58 LDS	R25,pageNum+1
    01E23 3088      CPI	R24,0x8
    01E24 E0E0      LDI	R30,0
    01E25 079E      CPC	R25,R30
    01E26 F411      BNE	0x1E29
(1085) 	    page8();
    01E27 DD53      RCALL	_page8
(1086) 	  }else if(pageNum==9){
    01E28 C009      RJMP	0x1E32
    01E29 9180 0C57 LDS	R24,pageNum
    01E2B 9190 0C58 LDS	R25,pageNum+1
    01E2D 3089      CPI	R24,0x9
    01E2E E0E0      LDI	R30,0
    01E2F 079E      CPC	R25,R30
    01E30 F409      BNE	0x1E32
(1087) 	    page9();
    01E31 DF6C      RCALL	_page9
(1088) 	  }
    01E32 9508      RET
_tempdata_init:
  i                    --> R20
  j                    --> R22
    01E33 940E 21E6 CALL	push_xgsetF000
FILE: E:\ICCDemo\Temp_Control\temp_control\temp.c
(0001) #include<iom128v.h>
(0002) #include "temp.h"
(0003) #include "main.h"
(0004) #include "eeprom.h"
(0005) //开机初始化空间。全部置0,不初始化数据，等用户或EEPROM数据回填
(0006) void tempdata_init(void){
(0007)  uint i,j;
(0008)  for(i=0;i<4;i++){
    01E35 2744      CLR	R20
    01E36 2755      CLR	R21
    01E37 C02C      RJMP	0x1E64
(0009)     temps[i].flag=0;
    01E38 E00A      LDI	R16,0xA
    01E39 E011      LDI	R17,1
    01E3A 019A      MOVW	R18,R20
    01E3B 940E 21AA CALL	empy16s
    01E3D E184      LDI	R24,0x14
    01E3E E091      LDI	R25,1
    01E3F 01F8      MOVW	R30,R16
    01E40 0FE8      ADD	R30,R24
    01E41 1FF9      ADC	R31,R25
    01E42 2422      CLR	R2
    01E43 2433      CLR	R3
    01E44 8231      STD	Z+1,R3
    01E45 8220      ST	Z,R2
(0010) 	for(j=0;j<132;j++){
    01E46 2766      CLR	R22
    01E47 2777      CLR	R23
    01E48 C015      RJMP	0x1E5E
(0011) 	 temps[i].temp_data[j]=0;
    01E49 E00A      LDI	R16,0xA
    01E4A E011      LDI	R17,1
    01E4B 019A      MOVW	R18,R20
    01E4C 940E 21AA CALL	empy16s
    01E4E 0118      MOVW	R2,R16
    01E4F E186      LDI	R24,0x16
    01E50 E091      LDI	R25,1
    01E51 0E28      ADD	R2,R24
    01E52 1E39      ADC	R3,R25
    01E53 01FB      MOVW	R30,R22
    01E54 0FEE      LSL	R30
    01E55 1FFF      ROL	R31
    01E56 0DE2      ADD	R30,R2
    01E57 1DF3      ADC	R31,R3
    01E58 2422      CLR	R2
    01E59 2433      CLR	R3
    01E5A 8231      STD	Z+1,R3
    01E5B 8220      ST	Z,R2
    01E5C 5F6F      SUBI	R22,0xFF
    01E5D 4F7F      SBCI	R23,0xFF
    01E5E 3864      CPI	R22,0x84
    01E5F E0E0      LDI	R30,0
    01E60 077E      CPC	R23,R30
    01E61 F338      BCS	0x1E49
    01E62 5F4F      SUBI	R20,0xFF
    01E63 4F5F      SBCI	R21,0xFF
    01E64 3044      CPI	R20,4
    01E65 E0E0      LDI	R30,0
    01E66 075E      CPC	R21,R30
    01E67 F280      BCS	0x1E38
    01E68 940C 21EB JMP	pop_xgsetF000
_data_recover:
  dataC                --> R22
  i                    --> R20
  j                    --> R22
    01E6A 940E 21F0 CALL	push_xgsetF00C
(0012) 	}
(0013)  } 
(0014) }
(0015) void data_recover(void){
(0016)  uint i,j;
(0017)  uint dataC;
(0018)  for(i=0;i<4;i++){
    01E6C 2744      CLR	R20
    01E6D 2755      CLR	R21
    01E6E C046      RJMP	0x1EB5
(0019)    dataC=EEPROM_read(i+1,0);//读取标记位
    01E6F 2722      CLR	R18
    01E70 2733      CLR	R19
    01E71 018A      MOVW	R16,R20
    01E72 5F0F      SUBI	R16,0xFF
    01E73 4F1F      SBCI	R17,0xFF
    01E74 940E 0DED CALL	_EEPROM_read
    01E76 01B8      MOVW	R22,R16
(0020)    if(dataC==1){
    01E77 3001      CPI	R16,1
    01E78 E0E0      LDI	R30,0
    01E79 071E      CPC	R17,R30
    01E7A F009      BEQ	0x1E7C
    01E7B C037      RJMP	0x1EB3
(0021)       temps[i].flag=EEPROM_read(i+1,133);
    01E7C E825      LDI	R18,0x85
    01E7D E030      LDI	R19,0
    01E7E 018A      MOVW	R16,R20
    01E7F 5F0F      SUBI	R16,0xFF
    01E80 4F1F      SBCI	R17,0xFF
    01E81 940E 0DED CALL	_EEPROM_read
    01E83 0118      MOVW	R2,R16
    01E84 E00A      LDI	R16,0xA
    01E85 E011      LDI	R17,1
    01E86 019A      MOVW	R18,R20
    01E87 940E 21AA CALL	empy16s
    01E89 E184      LDI	R24,0x14
    01E8A E091      LDI	R25,1
    01E8B 01F8      MOVW	R30,R16
    01E8C 0FE8      ADD	R30,R24
    01E8D 1FF9      ADC	R31,R25
    01E8E 8231      STD	Z+1,R3
    01E8F 8220      ST	Z,R2
(0022) 	  for(j=0;j<132;j++){
    01E90 2766      CLR	R22
    01E91 2777      CLR	R23
    01E92 C01C      RJMP	0x1EAF
(0023) 	    temps[i].temp_data[j]=EEPROM_read(i+1,j+1);
    01E93 019B      MOVW	R18,R22
    01E94 5F2F      SUBI	R18,0xFF
    01E95 4F3F      SBCI	R19,0xFF
    01E96 018A      MOVW	R16,R20
    01E97 5F0F      SUBI	R16,0xFF
    01E98 4F1F      SBCI	R17,0xFF
    01E99 940E 0DED CALL	_EEPROM_read
    01E9B 0158      MOVW	R10,R16
    01E9C E00A      LDI	R16,0xA
    01E9D E011      LDI	R17,1
    01E9E 019A      MOVW	R18,R20
    01E9F 940E 21AA CALL	empy16s
    01EA1 0118      MOVW	R2,R16
    01EA2 E186      LDI	R24,0x16
    01EA3 E091      LDI	R25,1
    01EA4 0E28      ADD	R2,R24
    01EA5 1E39      ADC	R3,R25
    01EA6 01FB      MOVW	R30,R22
    01EA7 0FEE      LSL	R30
    01EA8 1FFF      ROL	R31
    01EA9 0DE2      ADD	R30,R2
    01EAA 1DF3      ADC	R31,R3
    01EAB 82B1      STD	Z+1,R11
    01EAC 82A0      ST	Z,R10
    01EAD 5F6F      SUBI	R22,0xFF
    01EAE 4F7F      SBCI	R23,0xFF
    01EAF 3864      CPI	R22,0x84
    01EB0 E0E0      LDI	R30,0
    01EB1 077E      CPC	R23,R30
    01EB2 F300      BCS	0x1E93
    01EB3 5F4F      SUBI	R20,0xFF
    01EB4 4F5F      SBCI	R21,0xFF
    01EB5 3044      CPI	R20,4
    01EB6 E0E0      LDI	R30,0
    01EB7 075E      CPC	R21,R30
    01EB8 F408      BCC	0x1EBA
    01EB9 CFB5      RJMP	0x1E6F
    01EBA 940C 21F7 JMP	pop_xgsetF00C
_set_temp_data:
  j                    --> R20
  dataCach             --> R10
  t                    --> R22
    01EBC 940E 21F0 CALL	push_xgsetF00C
    01EBE 0159      MOVW	R10,R18
    01EBF 01B8      MOVW	R22,R16
    01EC0 9722      SBIW	R28,2
(0024) 	   }
(0025) 	}
(0026)  } 
(0027) }
(0028) //设置指定的数据,保存相关标志位
(0029) void set_temp_data(uint t,uint* dataCach){
(0030)     uint j;
(0031) 	temps[t].flag=6;
    01EC1 E00A      LDI	R16,0xA
    01EC2 E011      LDI	R17,1
    01EC3 019B      MOVW	R18,R22
    01EC4 940E 21AA CALL	empy16s
    01EC6 E184      LDI	R24,0x14
    01EC7 E091      LDI	R25,1
    01EC8 01F8      MOVW	R30,R16
    01EC9 0FE8      ADD	R30,R24
    01ECA 1FF9      ADC	R31,R25
    01ECB E086      LDI	R24,6
    01ECC E090      LDI	R25,0
    01ECD 8391      STD	Z+1,R25
    01ECE 8380      ST	Z,R24
(0032) 	EEPROM_write(t+1,0,0x01);
    01ECF E081      LDI	R24,1
    01ED0 8399      STD	Y+1,R25
    01ED1 8388      ST	Y,R24
    01ED2 2722      CLR	R18
    01ED3 2733      CLR	R19
    01ED4 018B      MOVW	R16,R22
    01ED5 5F0F      SUBI	R16,0xFF
    01ED6 4F1F      SBCI	R17,0xFF
    01ED7 940E 0DD6 CALL	_EEPROM_write
(0033) 	EEPROM_write(t+1,133,6);
    01ED9 E086      LDI	R24,6
    01EDA E090      LDI	R25,0
    01EDB 8399      STD	Y+1,R25
    01EDC 8388      ST	Y,R24
    01EDD E825      LDI	R18,0x85
    01EDE E030      LDI	R19,0
    01EDF 018B      MOVW	R16,R22
    01EE0 5F0F      SUBI	R16,0xFF
    01EE1 4F1F      SBCI	R17,0xFF
    01EE2 940E 0DD6 CALL	_EEPROM_write
(0034)     for(j=0;j<132;j++){
    01EE4 2744      CLR	R20
    01EE5 2755      CLR	R21
    01EE6 C035      RJMP	0x1F1C
(0035) 	   temps[t].temp_data[j]=*(dataCach+j);
    01EE7 011A      MOVW	R2,R20
    01EE8 0C22      LSL	R2
    01EE9 1C33      ROL	R3
    01EEA 0121      MOVW	R4,R2
    01EEB E00A      LDI	R16,0xA
    01EEC E011      LDI	R17,1
    01EED 019B      MOVW	R18,R22
    01EEE 940E 21AA CALL	empy16s
    01EF0 0118      MOVW	R2,R16
    01EF1 E186      LDI	R24,0x16
    01EF2 E091      LDI	R25,1
    01EF3 0E28      ADD	R2,R24
    01EF4 1E39      ADC	R3,R25
    01EF5 01F2      MOVW	R30,R4
    01EF6 0DE2      ADD	R30,R2
    01EF7 1DF3      ADC	R31,R3
    01EF8 01D2      MOVW	R26,R4
    01EF9 0DAA      ADD	R26,R10
    01EFA 1DBB      ADC	R27,R11
    01EFB 902D      LD	R2,X+
    01EFC 903C      LD	R3,X
    01EFD 8231      STD	Z+1,R3
    01EFE 8220      ST	Z,R2
(0036) 	   EEPROM_write(t+1,j+1,temps[t].temp_data[j]);
    01EFF E00A      LDI	R16,0xA
    01F00 E011      LDI	R17,1
    01F01 019B      MOVW	R18,R22
    01F02 940E 21AA CALL	empy16s
    01F04 0118      MOVW	R2,R16
    01F05 E186      LDI	R24,0x16
    01F06 E091      LDI	R25,1
    01F07 0E28      ADD	R2,R24
    01F08 1E39      ADC	R3,R25
    01F09 01FA      MOVW	R30,R20
    01F0A 0FEE      LSL	R30
    01F0B 1FFF      ROL	R31
    01F0C 0DE2      ADD	R30,R2
    01F0D 1DF3      ADC	R31,R3
    01F0E 8020      LD	R2,Z
    01F0F 8031      LDD	R3,Z+1
    01F10 8239      STD	Y+1,R3
    01F11 8228      ST	Y,R2
    01F12 019A      MOVW	R18,R20
    01F13 5F2F      SUBI	R18,0xFF
    01F14 4F3F      SBCI	R19,0xFF
    01F15 018B      MOVW	R16,R22
    01F16 5F0F      SUBI	R16,0xFF
    01F17 4F1F      SBCI	R17,0xFF
    01F18 940E 0DD6 CALL	_EEPROM_write
    01F1A 5F4F      SUBI	R20,0xFF
    01F1B 4F5F      SBCI	R21,0xFF
    01F1C 3844      CPI	R20,0x84
    01F1D E0E0      LDI	R30,0
    01F1E 075E      CPC	R21,R30
    01F1F F408      BCC	0x1F21
    01F20 CFC6      RJMP	0x1EE7
    01F21 9622      ADIW	R28,2
    01F22 940C 21F7 JMP	pop_xgsetF00C
_reset_temp_data:
  j                    --> R20
  t                    --> R22
    01F24 940E 21E6 CALL	push_xgsetF000
    01F26 01B8      MOVW	R22,R16
    01F27 9722      SBIW	R28,2
(0037) 	}
(0038) }
(0039) 
(0040) //重置指定的数据,保存相关标志位
(0041) void reset_temp_data(uint t){
(0042)     uint j;
(0043) 	temps[t].flag=0;
    01F28 E00A      LDI	R16,0xA
    01F29 E011      LDI	R17,1
    01F2A 019B      MOVW	R18,R22
    01F2B 940E 21AA CALL	empy16s
    01F2D E184      LDI	R24,0x14
    01F2E E091      LDI	R25,1
    01F2F 01F8      MOVW	R30,R16
    01F30 0FE8      ADD	R30,R24
    01F31 1FF9      ADC	R31,R25
    01F32 2422      CLR	R2
    01F33 2433      CLR	R3
    01F34 8231      STD	Z+1,R3
    01F35 8220      ST	Z,R2
(0044) 	EEPROM_write(t+1,0,0x00);
    01F36 8239      STD	Y+1,R3
    01F37 8228      ST	Y,R2
    01F38 2722      CLR	R18
    01F39 2733      CLR	R19
    01F3A 018B      MOVW	R16,R22
    01F3B 5F0F      SUBI	R16,0xFF
    01F3C 4F1F      SBCI	R17,0xFF
    01F3D 940E 0DD6 CALL	_EEPROM_write
(0045) 	EEPROM_write(t+1,133,0x00);
    01F3F 2422      CLR	R2
    01F40 2433      CLR	R3
    01F41 8239      STD	Y+1,R3
    01F42 8228      ST	Y,R2
    01F43 E825      LDI	R18,0x85
    01F44 E030      LDI	R19,0
    01F45 018B      MOVW	R16,R22
    01F46 5F0F      SUBI	R16,0xFF
    01F47 4F1F      SBCI	R17,0xFF
    01F48 940E 0DD6 CALL	_EEPROM_write
(0046)     for(j=0;j<132;j++){
    01F4A 2744      CLR	R20
    01F4B 2755      CLR	R21
    01F4C C01F      RJMP	0x1F6C
(0047) 	   temps[t].temp_data[j]=0;
    01F4D E00A      LDI	R16,0xA
    01F4E E011      LDI	R17,1
    01F4F 019B      MOVW	R18,R22
    01F50 940E 21AA CALL	empy16s
    01F52 0118      MOVW	R2,R16
    01F53 E186      LDI	R24,0x16
    01F54 E091      LDI	R25,1
    01F55 0E28      ADD	R2,R24
    01F56 1E39      ADC	R3,R25
    01F57 01FA      MOVW	R30,R20
    01F58 0FEE      LSL	R30
    01F59 1FFF      ROL	R31
    01F5A 0DE2      ADD	R30,R2
    01F5B 1DF3      ADC	R31,R3
    01F5C 2422      CLR	R2
    01F5D 2433      CLR	R3
    01F5E 8231      STD	Z+1,R3
    01F5F 8220      ST	Z,R2
(0048) 	   EEPROM_write(t+1,j+1,0);
    01F60 8239      STD	Y+1,R3
    01F61 8228      ST	Y,R2
    01F62 019A      MOVW	R18,R20
    01F63 5F2F      SUBI	R18,0xFF
    01F64 4F3F      SBCI	R19,0xFF
    01F65 018B      MOVW	R16,R22
    01F66 5F0F      SUBI	R16,0xFF
    01F67 4F1F      SBCI	R17,0xFF
    01F68 940E 0DD6 CALL	_EEPROM_write
    01F6A 5F4F      SUBI	R20,0xFF
    01F6B 4F5F      SBCI	R21,0xFF
    01F6C 3844      CPI	R20,0x84
    01F6D E0E0      LDI	R30,0
    01F6E 075E      CPC	R21,R30
    01F6F F2E8      BCS	0x1F4D
    01F70 9622      ADIW	R28,2
    01F71 940C 21EB JMP	pop_xgsetF000
_set_all_start:
  j                    --> R20
    01F73 934A      ST	-Y,R20
    01F74 935A      ST	-Y,R21
    01F75 9722      SBIW	R28,2
(0049) 	}
(0050) }
(0051) //温度全部开始工作。状态为停止和刚重置数据的可以开始
(0052) void set_all_start(void){
(0053)     uint j;
(0054) 	
(0055)     for(j=0;j<4;j++){
    01F76 2744      CLR	R20
    01F77 2755      CLR	R21
    01F78 C02E      RJMP	0x1FA7
(0056) 	   if(temps[j].flag==3 || temps[j].flag==6){
    01F79 E00A      LDI	R16,0xA
    01F7A E011      LDI	R17,1
    01F7B 019A      MOVW	R18,R20
    01F7C 940E 21AA CALL	empy16s
    01F7E E184      LDI	R24,0x14
    01F7F E091      LDI	R25,1
    01F80 01F8      MOVW	R30,R16
    01F81 0FE8      ADD	R30,R24
    01F82 1FF9      ADC	R31,R25
    01F83 8020      LD	R2,Z
    01F84 8031      LDD	R3,Z+1
    01F85 01C1      MOVW	R24,R2
    01F86 3083      CPI	R24,3
    01F87 E0E0      LDI	R30,0
    01F88 079E      CPC	R25,R30
    01F89 F021      BEQ	0x1F8E
    01F8A 3086      CPI	R24,6
    01F8B E0E0      LDI	R30,0
    01F8C 079E      CPC	R25,R30
    01F8D F4B9      BNE	0x1FA5
(0057) 	     temps[j].flag=5;
    01F8E E00A      LDI	R16,0xA
    01F8F E011      LDI	R17,1
    01F90 019A      MOVW	R18,R20
    01F91 940E 21AA CALL	empy16s
    01F93 E184      LDI	R24,0x14
    01F94 E091      LDI	R25,1
    01F95 01F8      MOVW	R30,R16
    01F96 0FE8      ADD	R30,R24
    01F97 1FF9      ADC	R31,R25
    01F98 E085      LDI	R24,5
    01F99 E090      LDI	R25,0
    01F9A 8391      STD	Z+1,R25
    01F9B 8380      ST	Z,R24
(0058) 		 EEPROM_write(j+1,133,5);
    01F9C 8399      STD	Y+1,R25
    01F9D 8388      ST	Y,R24
    01F9E E825      LDI	R18,0x85
    01F9F E030      LDI	R19,0
    01FA0 018A      MOVW	R16,R20
    01FA1 5F0F      SUBI	R16,0xFF
    01FA2 4F1F      SBCI	R17,0xFF
    01FA3 940E 0DD6 CALL	_EEPROM_write
    01FA5 5F4F      SUBI	R20,0xFF
    01FA6 4F5F      SBCI	R21,0xFF
    01FA7 3044      CPI	R20,4
    01FA8 E0E0      LDI	R30,0
    01FA9 075E      CPC	R21,R30
    01FAA F270      BCS	0x1F79
    01FAB 9622      ADIW	R28,2
    01FAC 9159      LD	R21,Y+
    01FAD 9149      LD	R20,Y+
    01FAE 9508      RET
_set_all_stop:
  j                    --> R20
    01FAF 934A      ST	-Y,R20
    01FB0 935A      ST	-Y,R21
    01FB1 9722      SBIW	R28,2
(0059) 	   }
(0060) 	}
(0061) }
(0062) //温度全部暂停.要运行的才会暂停
(0063) void set_all_stop(void){
(0064)     uint j;
(0065) 	
(0066)     for(j=0;j<4;j++){
    01FB2 2744      CLR	R20
    01FB3 2755      CLR	R21
    01FB4 C02E      RJMP	0x1FE3
(0067) 	  if(temps[j].flag==1 || temps[j].flag==5){
    01FB5 E00A      LDI	R16,0xA
    01FB6 E011      LDI	R17,1
    01FB7 019A      MOVW	R18,R20
    01FB8 940E 21AA CALL	empy16s
    01FBA E184      LDI	R24,0x14
    01FBB E091      LDI	R25,1
    01FBC 01F8      MOVW	R30,R16
    01FBD 0FE8      ADD	R30,R24
    01FBE 1FF9      ADC	R31,R25
    01FBF 8020      LD	R2,Z
    01FC0 8031      LDD	R3,Z+1
    01FC1 01C1      MOVW	R24,R2
    01FC2 3081      CPI	R24,1
    01FC3 E0E0      LDI	R30,0
    01FC4 079E      CPC	R25,R30
    01FC5 F021      BEQ	0x1FCA
    01FC6 3085      CPI	R24,5
    01FC7 E0E0      LDI	R30,0
    01FC8 079E      CPC	R25,R30
    01FC9 F4B9      BNE	0x1FE1
(0068) 	     temps[j].flag=3;
    01FCA E00A      LDI	R16,0xA
    01FCB E011      LDI	R17,1
    01FCC 019A      MOVW	R18,R20
    01FCD 940E 21AA CALL	empy16s
    01FCF E184      LDI	R24,0x14
    01FD0 E091      LDI	R25,1
    01FD1 01F8      MOVW	R30,R16
    01FD2 0FE8      ADD	R30,R24
    01FD3 1FF9      ADC	R31,R25
    01FD4 E083      LDI	R24,3
    01FD5 E090      LDI	R25,0
    01FD6 8391      STD	Z+1,R25
    01FD7 8380      ST	Z,R24
(0069) 		  EEPROM_write(j+1,133,3);
    01FD8 8399      STD	Y+1,R25
    01FD9 8388      ST	Y,R24
    01FDA E825      LDI	R18,0x85
    01FDB E030      LDI	R19,0
    01FDC 018A      MOVW	R16,R20
    01FDD 5F0F      SUBI	R16,0xFF
    01FDE 4F1F      SBCI	R17,0xFF
    01FDF 940E 0DD6 CALL	_EEPROM_write
    01FE1 5F4F      SUBI	R20,0xFF
    01FE2 4F5F      SBCI	R21,0xFF
    01FE3 3044      CPI	R20,4
    01FE4 E0E0      LDI	R30,0
    01FE5 075E      CPC	R21,R30
    01FE6 F270      BCS	0x1FB5
    01FE7 9622      ADIW	R28,2
    01FE8 9159      LD	R21,Y+
    01FE9 9149      LD	R20,Y+
    01FEA 9508      RET
_set_start:
  t                    --> R20
    01FEB 934A      ST	-Y,R20
    01FEC 935A      ST	-Y,R21
    01FED 01A8      MOVW	R20,R16
    01FEE 9722      SBIW	R28,2
(0070) 	   }
(0071) 	}
(0072) }
(0073) //指定温度开始
(0074) void set_start(uint t){
(0075)  if(temps[t].flag==3 || temps[t].flag==6){
    01FEF E00A      LDI	R16,0xA
    01FF0 E011      LDI	R17,1
    01FF1 019A      MOVW	R18,R20
    01FF2 940E 21AA CALL	empy16s
    01FF4 E184      LDI	R24,0x14
    01FF5 E091      LDI	R25,1
    01FF6 01F8      MOVW	R30,R16
    01FF7 0FE8      ADD	R30,R24
    01FF8 1FF9      ADC	R31,R25
    01FF9 8020      LD	R2,Z
    01FFA 8031      LDD	R3,Z+1
    01FFB 01C1      MOVW	R24,R2
    01FFC 3083      CPI	R24,3
    01FFD E0E0      LDI	R30,0
    01FFE 079E      CPC	R25,R30
    01FFF F021      BEQ	0x2004
    02000 3086      CPI	R24,6
    02001 E0E0      LDI	R30,0
    02002 079E      CPC	R25,R30
    02003 F4B9      BNE	0x201B
(0076) 	     temps[t].flag=5;
    02004 E00A      LDI	R16,0xA
    02005 E011      LDI	R17,1
    02006 019A      MOVW	R18,R20
    02007 940E 21AA CALL	empy16s
    02009 E184      LDI	R24,0x14
    0200A E091      LDI	R25,1
    0200B 01F8      MOVW	R30,R16
    0200C 0FE8      ADD	R30,R24
    0200D 1FF9      ADC	R31,R25
    0200E E085      LDI	R24,5
    0200F E090      LDI	R25,0
    02010 8391      STD	Z+1,R25
    02011 8380      ST	Z,R24
(0077) 		  EEPROM_write(t+1,133,5);
    02012 8399      STD	Y+1,R25
    02013 8388      ST	Y,R24
    02014 E825      LDI	R18,0x85
    02015 E030      LDI	R19,0
    02016 018A      MOVW	R16,R20
    02017 5F0F      SUBI	R16,0xFF
    02018 4F1F      SBCI	R17,0xFF
    02019 940E 0DD6 CALL	_EEPROM_write
(0078) 	}
    0201B 9622      ADIW	R28,2
    0201C 9159      LD	R21,Y+
    0201D 9149      LD	R20,Y+
    0201E 9508      RET
_set_stop:
  t                    --> R20
    0201F 934A      ST	-Y,R20
    02020 935A      ST	-Y,R21
    02021 01A8      MOVW	R20,R16
    02022 9722      SBIW	R28,2
(0079) }
(0080) //指定温度暂停
(0081) void set_stop(uint t){
(0082)  if(temps[t].flag==1 || temps[t].flag==5){
    02023 E00A      LDI	R16,0xA
    02024 E011      LDI	R17,1
    02025 019A      MOVW	R18,R20
    02026 940E 21AA CALL	empy16s
    02028 E184      LDI	R24,0x14
    02029 E091      LDI	R25,1
    0202A 01F8      MOVW	R30,R16
    0202B 0FE8      ADD	R30,R24
    0202C 1FF9      ADC	R31,R25
    0202D 8020      LD	R2,Z
    0202E 8031      LDD	R3,Z+1
    0202F 01C1      MOVW	R24,R2
    02030 3081      CPI	R24,1
    02031 E0E0      LDI	R30,0
    02032 079E      CPC	R25,R30
    02033 F021      BEQ	0x2038
    02034 3085      CPI	R24,5
    02035 E0E0      LDI	R30,0
    02036 079E      CPC	R25,R30
    02037 F4B9      BNE	0x204F
(0083) 	     temps[t].flag=3;
    02038 E00A      LDI	R16,0xA
    02039 E011      LDI	R17,1
    0203A 019A      MOVW	R18,R20
    0203B 940E 21AA CALL	empy16s
    0203D E184      LDI	R24,0x14
    0203E E091      LDI	R25,1
    0203F 01F8      MOVW	R30,R16
    02040 0FE8      ADD	R30,R24
    02041 1FF9      ADC	R31,R25
    02042 E083      LDI	R24,3
    02043 E090      LDI	R25,0
    02044 8391      STD	Z+1,R25
    02045 8380      ST	Z,R24
(0084) 		 EEPROM_write(t+1,133,3);
    02046 8399      STD	Y+1,R25
    02047 8388      ST	Y,R24
    02048 E825      LDI	R18,0x85
    02049 E030      LDI	R19,0
    0204A 018A      MOVW	R16,R20
    0204B 5F0F      SUBI	R16,0xFF
    0204C 4F1F      SBCI	R17,0xFF
    0204D 940E 0DD6 CALL	_EEPROM_write
(0085) 	   }
    0204F 9622      ADIW	R28,2
    02050 9159      LD	R21,Y+
    02051 9149      LD	R20,Y+
    02052 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\time1307.c
(0001) #include<iom128v.h>
(0002) #include "time1307.h"
(0003) #include "delay.h"
(0004) #include "lcd.h"
(0005) #include "main.h"
(0006) //寄存器宏定义
(0007) #define SECOND 0x00
(0008) #define MINUTE 0x01 
(0009) #define HOUR 0x02
(0010) #define DAY 0x04
(0011) #define MONTH 0x05 
(0012) #define WEEK 0x03
(0013) #define YEAE 0x06
(0014) #define CIBTPOL 0x07 
(0015) #define  WRITEDS1307    0xD0
(0016) #define     READDS1307    0xD1
(0017) 
(0018) 
(0019) #define  SCL_H  PORTD|=1<<PD0 //
(0020) #define  SCL_L  PORTD&=~(1<<PD0) //
(0021) #define  SDA_H   PORTD|=1<<PD1 //
(0022) #define  SDA_L  PORTD&=~(1<<PD1)  //
(0023) /* unsigned char set_rtc_code[7];
(0024) unsigned char rtc_address[7]={0x00,0x01,0x02,0x03,0x04,0x05,0x06};
(0025) unsigned char read_rtc_code[7];
(0026) unsigned char wr_j1j3_code[7];
(0027) unsigned char jk[7]={0,0,0,2,0,0,9};//设置时钟初始值*/
(0028) 
(0029) unsigned  char BP;
(0030) 
(0031) 
(0032) void I2C_start(void){//启动IIC总线
(0033)    SDA_H;
_I2C_start:
    02053 9A91      SBI	0x12,1
(0034)    SCL_H;
    02054 9A90      SBI	0x12,0
(0035)    delay_us(8);
    02055 E008      LDI	R16,0x8
    02056 E010      LDI	R17,0
    02057 940E 03B5 CALL	_delay_us
(0036)    SDA_L;
    02059 9891      CBI	0x12,1
(0037)    delay_us(8);
    0205A E008      LDI	R16,0x8
    0205B E010      LDI	R17,0
    0205C 940E 03B5 CALL	_delay_us
(0038)    SCL_L;
    0205E 9890      CBI	0x12,0
    0205F 9508      RET
(0039)    
(0040) }
(0041) void I2C_stop(void){//启动IIC总线
(0042)    SDA_L;
_I2C_stop:
    02060 9891      CBI	0x12,1
(0043)    SCL_H;
    02061 9A90      SBI	0x12,0
(0044)    delay_us(8);
    02062 E008      LDI	R16,0x8
    02063 E010      LDI	R17,0
    02064 940E 03B5 CALL	_delay_us
(0045)    SDA_H;
    02066 9A91      SBI	0x12,1
(0046)    delay_us(8);
    02067 E008      LDI	R16,0x8
    02068 E010      LDI	R17,0
    02069 940E 03B5 CALL	_delay_us
(0047)    SCL_L;
    0206B 9890      CBI	0x12,0
    0206C 9508      RET
(0048)    
(0049) }
(0050) void I2C_send_ack(void){//应答ack
(0051)   SDA_L;
_I2C_send_ack:
    0206D 9891      CBI	0x12,1
(0052)   SCL_H;
    0206E 9A90      SBI	0x12,0
(0053)   delay_us(8);
    0206F E008      LDI	R16,0x8
    02070 E010      LDI	R17,0
    02071 940E 03B5 CALL	_delay_us
(0054)   SCL_L;
    02073 9890      CBI	0x12,0
    02074 9508      RET
(0055) } 
(0056) void I2C_send_noack(void){
(0057)   SDA_H;
_I2C_send_noack:
    02075 9A91      SBI	0x12,1
(0058)   SCL_H;
    02076 9A90      SBI	0x12,0
(0059)    delay_us(8);
    02077 E008      LDI	R16,0x8
    02078 E010      LDI	R17,0
    02079 940E 03B5 CALL	_delay_us
(0060)    SCL_L;
    0207B 9890      CBI	0x12,0
    0207C 9508      RET
_I2C_write_byte:
  i                    --> R20
  IIC_data             --> R10
    0207D 92AA      ST	-Y,R10
    0207E 934A      ST	-Y,R20
    0207F 2EA0      MOV	R10,R16
(0061) }
(0062) void I2C_write_byte(unsigned char IIC_data){
(0063)    unsigned char i;
(0064)   // BP=0;
(0065)    for(i=0;i<8;i++){//循环输出数据
    02080 2744      CLR	R20
    02081 C016      RJMP	0x2098
(0066)       SCL_L;
    02082 9890      CBI	0x12,0
(0067) 	   if(((IIC_data<<i)&0x80)){
    02083 2D0A      MOV	R16,R10
    02084 2F14      MOV	R17,R20
    02085 940E 2225 CALL	lsl8
    02087 2F80      MOV	R24,R16
    02088 7880      ANDI	R24,0x80
    02089 F011      BEQ	0x208C
(0068) 	      SDA_H;
    0208A 9A91      SBI	0x12,1
(0069) 	   }else{
    0208B C001      RJMP	0x208D
(0070) 	   	  SDA_L;
    0208C 9891      CBI	0x12,1
(0071) 	   }
(0072) 	   delay_us(4);
    0208D E004      LDI	R16,4
    0208E E010      LDI	R17,0
    0208F 940E 03B5 CALL	_delay_us
(0073) 	   SCL_H;
    02091 9A90      SBI	0x12,0
(0074) 	   delay_us(4);
    02092 E004      LDI	R16,4
    02093 E010      LDI	R17,0
    02094 940E 03B5 CALL	_delay_us
(0075) 	   SCL_L;
    02096 9890      CBI	0x12,0
    02097 9543      INC	R20
    02098 3048      CPI	R20,0x8
    02099 F340      BCS	0x2082
(0076)    }
(0077)    //读取ACK
(0078)    delay_us(4);
    0209A E004      LDI	R16,4
    0209B E010      LDI	R17,0
    0209C 940E 03B5 CALL	_delay_us
(0079)    DDRD &=~(0x02);//发送完，等待输入信号
    0209E 9889      CBI	0x11,1
(0080)    delay_us(4);
    0209F E004      LDI	R16,4
    020A0 E010      LDI	R17,0
    020A1 940E 03B5 CALL	_delay_us
(0081)    if((PIND&(1<<PD1))){
    020A3 9B81      SBIS	0x10,1
    020A4 C000      RJMP	0x20A5
(0082)     //正常
(0083)    }//读取，如果发送的是noack，
(0084)    SCL_H;
    020A5 9A90      SBI	0x12,0
(0085)    delay_us(4);
    020A6 E004      LDI	R16,4
    020A7 E010      LDI	R17,0
    020A8 940E 03B5 CALL	_delay_us
(0086)    SCL_L;
    020AA 9890      CBI	0x12,0
(0087)    DDRD |=0x02;
    020AB 9A89      SBI	0x11,1
    020AC 9149      LD	R20,Y+
    020AD 90A9      LD	R10,Y+
    020AE 9508      RET
_I2C_read_byte:
  i                    --> R20
  dat                  --> R10
    020AF 92AA      ST	-Y,R10
    020B0 934A      ST	-Y,R20
(0088) }
(0089) unsigned char I2C_read_byte(void){
(0090)   unsigned char i,dat;
(0091)   DDRD &=~(0x02);
    020B1 9889      CBI	0x11,1
(0092)   dat=0;
    020B2 24AA      CLR	R10
(0093)   for (i=0;i<8;i++)
    020B3 2744      CLR	R20
    020B4 C00B      RJMP	0x20C0
(0094)     {
(0095)       dat=dat<<1;
    020B5 0CAA      LSL	R10
(0096)       SCL_H;
    020B6 9A90      SBI	0x12,0
(0097)       delay_us(4);
    020B7 E004      LDI	R16,4
    020B8 E010      LDI	R17,0
    020B9 940E 03B5 CALL	_delay_us
(0098)      if((PIND&(1<<PD1)))
    020BB 9B81      SBIS	0x10,1
    020BC C001      RJMP	0x20BE
(0099)      {
(0100)        dat++;
    020BD 94A3      INC	R10
(0101) 	  // PORTE=~PORTE;
(0102)      }
(0103)        SCL_L;  
    020BE 9890      CBI	0x12,0
    020BF 9543      INC	R20
    020C0 3048      CPI	R20,0x8
    020C1 F398      BCS	0x20B5
(0104)     }  
(0105)   DDRD |=0x02;
    020C2 9A89      SBI	0x11,1
(0106)   return dat;
    020C3 2D0A      MOV	R16,R10
    020C4 9149      LD	R20,Y+
    020C5 90A9      LD	R10,Y+
    020C6 9508      RET
_Write1307:
  dat                  --> R10
  add                  --> R12
    020C7 92AA      ST	-Y,R10
    020C8 92CA      ST	-Y,R12
    020C9 2EA2      MOV	R10,R18
    020CA 2EC0      MOV	R12,R16
(0107) }
(0108) /***********************************************************************/
(0109) /******************************** DS1307 写数据  ****************/
(0110) void Write1307(unsigned char add,unsigned char dat)
(0111) {
(0112)   I2C_start();
    020CB DF87      RCALL	_I2C_start
(0113)   I2C_write_byte(WRITEDS1307);
    020CC ED00      LDI	R16,0xD0
    020CD DFAF      RCALL	_I2C_write_byte
(0114)   I2C_write_byte(add);
    020CE 2D0C      MOV	R16,R12
    020CF DFAD      RCALL	_I2C_write_byte
(0115)   I2C_write_byte(dat);
    020D0 2D0A      MOV	R16,R10
    020D1 DFAB      RCALL	_I2C_write_byte
(0116)   I2C_stop();
    020D2 DF8D      RCALL	_I2C_stop
    020D3 90C9      LD	R12,Y+
    020D4 90A9      LD	R10,Y+
    020D5 9508      RET
_Read1307:
  dat                  --> R10
  add                  --> R10
    020D6 92AA      ST	-Y,R10
    020D7 2EA0      MOV	R10,R16
(0117) }
(0118) /***********************************************************************/
(0119) unsigned char Read1307(unsigned char add)
(0120) {
(0121)   
(0122)   unsigned char dat;
(0123)   I2C_start();
    020D8 DF7A      RCALL	_I2C_start
(0124)   I2C_write_byte(WRITEDS1307);
    020D9 ED00      LDI	R16,0xD0
    020DA DFA2      RCALL	_I2C_write_byte
(0125)   I2C_write_byte(add);
    020DB 2D0A      MOV	R16,R10
    020DC DFA0      RCALL	_I2C_write_byte
(0126)   I2C_start();
    020DD DF75      RCALL	_I2C_start
(0127)   I2C_write_byte(READDS1307);
    020DE ED01      LDI	R16,0xD1
    020DF DF9D      RCALL	_I2C_write_byte
(0128)   dat=I2C_read_byte(); 
    020E0 DFCE      RCALL	_I2C_read_byte
    020E1 2EA0      MOV	R10,R16
(0129)   I2C_send_noack();
    020E2 DF92      RCALL	_I2C_send_noack
(0130)   I2C_stop();      
    020E3 DF7C      RCALL	_I2C_stop
(0131)   return (dat);
    020E4 2D0A      MOV	R16,R10
    020E5 90A9      LD	R10,Y+
    020E6 9508      RET
(0132)  }
(0133) uint getYear(void){
(0134)  return 1;
_getYear:
    020E7 E001      LDI	R16,1
    020E8 E010      LDI	R17,0
    020E9 9508      RET
(0135) }
(0136) uint getMonth(void){
(0137)   return 1;
_getMonth:
    020EA E001      LDI	R16,1
    020EB E010      LDI	R17,0
    020EC 9508      RET
(0138) }
(0139) uint getDay(void){
(0140)  return 1;
_getDay:
    020ED E001      LDI	R16,1
    020EE E010      LDI	R17,0
    020EF 9508      RET
(0141) }
(0142) uint getWeek(void){
(0143)  return 1;
_getWeek:
    020F0 E001      LDI	R16,1
    020F1 E010      LDI	R17,0
    020F2 9508      RET
(0144) }
(0145) uint getHour(void){
(0146)  return 1;
_getHour:
    020F3 E001      LDI	R16,1
    020F4 E010      LDI	R17,0
    020F5 9508      RET
(0147) }
(0148) uint getMinute(void){
(0149)  return 1;
_getMinute:
    020F6 E001      LDI	R16,1
    020F7 E010      LDI	R17,0
    020F8 9508      RET
(0150) }
(0151) uint getSecond(void){
(0152)  return 1;
_getSecond:
    020F9 E001      LDI	R16,1
    020FA E010      LDI	R17,0
    020FB 9508      RET
(0153) }
(0154) void setTime(uint year,uint month,uint day,uint week,uint hour,uint minute,uint second){
_setTime:
  second               --> Y,+12
  minute               --> Y,+10
  hour                 --> Y,+8
  week                 --> Y,+6
  day                  --> Y,+4
  month                --> Y,+2
  year                 --> Y,+0
    020FC 9508      RET
(0155) 
(0156) }
(0157) void Initial_time(void){
(0158)    DDRD|=0x07;
_Initial_time:
    020FD B381      IN	R24,0x11
    020FE 6087      ORI	R24,7
    020FF BB81      OUT	0x11,R24
(0159)    PORTD=0x00;
    02100 2422      CLR	R2
    02101 BA22      OUT	0x12,R2
    02102 9508      RET
_showTime_page:
  time_cacah           --> R20
  y                    --> R10
    02103 940E 21FE CALL	push_xgset303C
    02105 0158      MOVW	R10,R16
(0160)   /* Write1307(0x00,0X00);//
(0161)    Write1307(0x01,0X00);//
(0162)    Write1307(0x02,0X12);//
(0163)    Write1307(0x03,0X01);//
(0164)    Write1307(0x04,0X21);//
(0165)    Write1307(0x05,0X05);//
(0166)    Write1307(0x06,0X15);//
(0167)     Write1307(0x07,0x10);
(0168)    
(0169)    EIMSK |= 0x04;//开中断2
(0170)    EICRA |=0x30;*/
(0171)    
(0172) }
(0173) //显示时间，年月日时分秒，用于page调用。没有改变AC，会接着写
(0174) void showTime_page(uint y){
(0175)    //PORTE=~Read1302(0x81);
(0176)    uchar time_cacah;
(0177)  //年
(0178)     time_cacah=Read1307(0x06);
    02106 E006      LDI	R16,6
    02107 DFCE      RCALL	_Read1307
    02108 2F40      MOV	R20,R16
(0179)     lcd_write_str_con(y, "20");
    02109 E924      LDI	R18,0x94
    0210A E037      LDI	R19,7
    0210B 2D0A      MOV	R16,R10
    0210C 940E 065A CALL	_lcd_write_str_con
(0180)     lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x0F));
    0210E 2F24      MOV	R18,R20
    0210F 9522      SWAP	R18
    02110 702F      ANDI	R18,0xF
    02111 702F      ANDI	R18,0xF
    02112 6320      ORI	R18,0x30
    02113 2D0A      MOV	R16,R10
    02114 940E 05B8 CALL	_lcd_write_char_con
(0181)     lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    02116 2F24      MOV	R18,R20
    02117 702F      ANDI	R18,0xF
    02118 6320      ORI	R18,0x30
    02119 2D0A      MOV	R16,R10
    0211A 940E 05B8 CALL	_lcd_write_char_con
(0182) 	lcd_write_char_con(y,'-');
    0211C E22D      LDI	R18,0x2D
    0211D 2D0A      MOV	R16,R10
    0211E 940E 05B8 CALL	_lcd_write_char_con
(0183) 	 //月
(0184) 	 time_cacah=Read1307(0x05);
    02120 E005      LDI	R16,5
    02121 DFB4      RCALL	_Read1307
    02122 2F40      MOV	R20,R16
(0185) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x01));
    02123 2F24      MOV	R18,R20
    02124 9522      SWAP	R18
    02125 702F      ANDI	R18,0xF
    02126 7021      ANDI	R18,1
    02127 6320      ORI	R18,0x30
    02128 2D0A      MOV	R16,R10
    02129 940E 05B8 CALL	_lcd_write_char_con
(0186)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    0212B 2F24      MOV	R18,R20
    0212C 702F      ANDI	R18,0xF
    0212D 6320      ORI	R18,0x30
    0212E 2D0A      MOV	R16,R10
    0212F 940E 05B8 CALL	_lcd_write_char_con
(0187) 	 lcd_write_char_con(y,'-');
    02131 E22D      LDI	R18,0x2D
    02132 2D0A      MOV	R16,R10
    02133 940E 05B8 CALL	_lcd_write_char_con
(0188) 	 //日
(0189) 	 time_cacah=Read1307(0x04);
    02135 E004      LDI	R16,4
    02136 DF9F      RCALL	_Read1307
    02137 2EC0      MOV	R12,R16
    02138 2D4C      MOV	R20,R12
(0190) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    02139 2F24      MOV	R18,R20
    0213A 9522      SWAP	R18
    0213B 702F      ANDI	R18,0xF
    0213C 7023      ANDI	R18,3
    0213D 6320      ORI	R18,0x30
    0213E 2D0A      MOV	R16,R10
    0213F 940E 05B8 CALL	_lcd_write_char_con
(0191)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    02141 2F24      MOV	R18,R20
    02142 702F      ANDI	R18,0xF
    02143 6320      ORI	R18,0x30
    02144 2D0A      MOV	R16,R10
    02145 940E 05B8 CALL	_lcd_write_char_con
(0192) 	 lcd_write_char_con(y,' ');
    02147 E220      LDI	R18,0x20
    02148 2D0A      MOV	R16,R10
    02149 940E 05B8 CALL	_lcd_write_char_con
(0193) 	//时
(0194) 	time_cacah=Read1307(0x02);
    0214B E002      LDI	R16,2
    0214C DF89      RCALL	_Read1307
    0214D 2EC0      MOV	R12,R16
    0214E 2D4C      MOV	R20,R12
(0195) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    0214F 2F24      MOV	R18,R20
    02150 9522      SWAP	R18
    02151 702F      ANDI	R18,0xF
    02152 7023      ANDI	R18,3
    02153 6320      ORI	R18,0x30
    02154 2D0A      MOV	R16,R10
    02155 940E 05B8 CALL	_lcd_write_char_con
(0196) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    02157 2F24      MOV	R18,R20
    02158 702F      ANDI	R18,0xF
    02159 6320      ORI	R18,0x30
    0215A 2D0A      MOV	R16,R10
    0215B 940E 05B8 CALL	_lcd_write_char_con
(0197) 	 lcd_write_char_con(y,':');
    0215D E32A      LDI	R18,0x3A
    0215E 2D0A      MOV	R16,R10
    0215F 940E 05B8 CALL	_lcd_write_char_con
(0198) 	//分
(0199) 	time_cacah=Read1307(0x01);
    02161 E001      LDI	R16,1
    02162 DF73      RCALL	_Read1307
    02163 2EC0      MOV	R12,R16
    02164 2D4C      MOV	R20,R12
(0200) 	 lcd_write_char_con(y, 0x30|time_cacah>>4);
    02165 2F24      MOV	R18,R20
    02166 9522      SWAP	R18
    02167 702F      ANDI	R18,0xF
    02168 6320      ORI	R18,0x30
    02169 2D0A      MOV	R16,R10
    0216A 940E 05B8 CALL	_lcd_write_char_con
(0201) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F));
    0216C 2F24      MOV	R18,R20
    0216D 702F      ANDI	R18,0xF
    0216E 6320      ORI	R18,0x30
    0216F 2D0A      MOV	R16,R10
    02170 940E 05B8 CALL	_lcd_write_char_con
(0202) 	 lcd_write_char_con(y,':');
    02172 E32A      LDI	R18,0x3A
    02173 2D0A      MOV	R16,R10
    02174 940E 05B8 CALL	_lcd_write_char_con
(0203) 	//秒
(0204) 	time_cacah=Read1307(0x00);
    02176 2700      CLR	R16
    02177 DF5E      RCALL	_Read1307
    02178 2EC0      MOV	R12,R16
    02179 2D4C      MOV	R20,R12
(0205) 	 lcd_write_char_con(y, 0x30|(time_cacah>>4));
    0217A 2F24      MOV	R18,R20
    0217B 9522      SWAP	R18
    0217C 702F      ANDI	R18,0xF
    0217D 6320      ORI	R18,0x30
    0217E 2D0A      MOV	R16,R10
    0217F 940E 05B8 CALL	_lcd_write_char_con
(0206) 	 lcd_write_char_con(y,0x30|(time_cacah &0x0F));
FILE: <library>
    02181 2F24      MOV	R18,R20
    02182 702F      ANDI	R18,0xF
    02183 6320      ORI	R18,0x30
    02184 2D0A      MOV	R16,R10
    02185 940E 05B8 CALL	_lcd_write_char_con
    02187 940C 2205 JMP	pop_xgset303C
push_arg4:
    02189 933A      ST	-Y,R19
    0218A 932A      ST	-Y,R18
push_arg2:
    0218B 931A      ST	-Y,R17
    0218C 930A      ST	-Y,R16
    0218D 9508      RET
mod16u:
    0218E 9468      BSET	6
    0218F C001      RJMP	xdiv16u
div16u:
    02190 94E8      BCLR	6
xdiv16u:
    02191 92EA      ST	-Y,R14
    02192 92FA      ST	-Y,R15
    02193 938A      ST	-Y,R24
    02194 24EE      CLR	R14
    02195 24FF      CLR	R15
    02196 E180      LDI	R24,0x10
    02197 0F00      LSL	R16
    02198 1F11      ROL	R17
    02199 1CEE      ROL	R14
    0219A 1CFF      ROL	R15
    0219B 16E2      CP	R14,R18
    0219C 06F3      CPC	R15,R19
    0219D F018      BCS	0x21A1
    0219E 1AE2      SUB	R14,R18
    0219F 0AF3      SBC	R15,R19
    021A0 9503      INC	R16
    021A1 958A      DEC	R24
    021A2 F7A1      BNE	0x2197
    021A3 F416      BRTC	0x21A6
    021A4 2D0E      MOV	R16,R14
    021A5 2D1F      MOV	R17,R15
    021A6 9189      LD	R24,Y+
    021A7 90F9      LD	R15,Y+
    021A8 90E9      LD	R14,Y+
    021A9 9508      RET
empy16s:
    021AA 920A      ST	-Y,R0
    021AB 921A      ST	-Y,R1
    021AC 938A      ST	-Y,R24
    021AD 939A      ST	-Y,R25
    021AE 9F02      MUL	R16,R18
    021AF 01C0      MOVW	R24,R0
    021B0 9F12      MUL	R17,R18
    021B1 0D90      ADD	R25,R0
    021B2 9F03      MUL	R16,R19
    021B3 0D90      ADD	R25,R0
    021B4 018C      MOVW	R16,R24
    021B5 9199      LD	R25,Y+
    021B6 9189      LD	R24,Y+
    021B7 9019      LD	R1,Y+
    021B8 9009      LD	R0,Y+
    021B9 9508      RET
pop_xgset003C:
    021BA 90A9      LD	R10,Y+
    021BB 90B9      LD	R11,Y+
    021BC 90C9      LD	R12,Y+
    021BD 90D9      LD	R13,Y+
    021BE 9508      RET
pop_xgset00FC:
    021BF 90A9      LD	R10,Y+
    021C0 90B9      LD	R11,Y+
    021C1 90C9      LD	R12,Y+
    021C2 90D9      LD	R13,Y+
    021C3 90E9      LD	R14,Y+
    021C4 90F9      LD	R15,Y+
    021C5 9508      RET
pop_xgsetF0FC:
    021C6 90A9      LD	R10,Y+
    021C7 90B9      LD	R11,Y+
    021C8 90C9      LD	R12,Y+
    021C9 90D9      LD	R13,Y+
    021CA 90E9      LD	R14,Y+
    021CB 90F9      LD	R15,Y+
    021CC 9149      LD	R20,Y+
    021CD 9159      LD	R21,Y+
    021CE 9169      LD	R22,Y+
    021CF 9179      LD	R23,Y+
    021D0 9508      RET
push_xgsetF0FC:
    021D1 937A      ST	-Y,R23
    021D2 936A      ST	-Y,R22
push_xgset30FC:
    021D3 935A      ST	-Y,R21
    021D4 934A      ST	-Y,R20
push_xgset00FC:
    021D5 92FA      ST	-Y,R15
    021D6 92EA      ST	-Y,R14
push_xgset003C:
    021D7 92DA      ST	-Y,R13
    021D8 92CA      ST	-Y,R12
    021D9 92BA      ST	-Y,R11
    021DA 92AA      ST	-Y,R10
    021DB 9508      RET
push_xgset300C:
    021DC 935A      ST	-Y,R21
    021DD 934A      ST	-Y,R20
    021DE 92BA      ST	-Y,R11
    021DF 92AA      ST	-Y,R10
    021E0 9508      RET
pop_xgset300C:
    021E1 90A9      LD	R10,Y+
    021E2 90B9      LD	R11,Y+
    021E3 9149      LD	R20,Y+
    021E4 9159      LD	R21,Y+
    021E5 9508      RET
push_xgsetF000:
    021E6 937A      ST	-Y,R23
    021E7 936A      ST	-Y,R22
    021E8 935A      ST	-Y,R21
    021E9 934A      ST	-Y,R20
    021EA 9508      RET
pop_xgsetF000:
    021EB 9149      LD	R20,Y+
    021EC 9159      LD	R21,Y+
    021ED 9169      LD	R22,Y+
    021EE 9179      LD	R23,Y+
    021EF 9508      RET
push_xgsetF00C:
    021F0 937A      ST	-Y,R23
    021F1 936A      ST	-Y,R22
    021F2 935A      ST	-Y,R21
    021F3 934A      ST	-Y,R20
    021F4 92BA      ST	-Y,R11
    021F5 92AA      ST	-Y,R10
    021F6 9508      RET
pop_xgsetF00C:
    021F7 90A9      LD	R10,Y+
    021F8 90B9      LD	R11,Y+
    021F9 9149      LD	R20,Y+
    021FA 9159      LD	R21,Y+
    021FB 9169      LD	R22,Y+
    021FC 9179      LD	R23,Y+
    021FD 9508      RET
push_xgset303C:
    021FE 935A      ST	-Y,R21
    021FF 934A      ST	-Y,R20
    02200 92DA      ST	-Y,R13
    02201 92CA      ST	-Y,R12
    02202 92BA      ST	-Y,R11
    02203 92AA      ST	-Y,R10
    02204 9508      RET
pop_xgset303C:
    02205 90A9      LD	R10,Y+
    02206 90B9      LD	R11,Y+
    02207 90C9      LD	R12,Y+
    02208 90D9      LD	R13,Y+
    02209 9149      LD	R20,Y+
    0220A 9159      LD	R21,Y+
    0220B 9508      RET
push_xgsetF03C:
    0220C 937A      ST	-Y,R23
    0220D 936A      ST	-Y,R22
    0220E 935A      ST	-Y,R21
    0220F 934A      ST	-Y,R20
    02210 92DA      ST	-Y,R13
    02211 92CA      ST	-Y,R12
    02212 92BA      ST	-Y,R11
    02213 92AA      ST	-Y,R10
    02214 9508      RET
pop_xgsetF03C:
    02215 90A9      LD	R10,Y+
    02216 90B9      LD	R11,Y+
    02217 90C9      LD	R12,Y+
    02218 90D9      LD	R13,Y+
    02219 9149      LD	R20,Y+
    0221A 9159      LD	R21,Y+
    0221B 9169      LD	R22,Y+
    0221C 9179      LD	R23,Y+
    0221D 9508      RET
lsl16:
    0221E 2322      TST	R18
    0221F F021      BEQ	0x2224
    02220 0F00      LSL	R16
    02221 1F11      ROL	R17
    02222 952A      DEC	R18
    02223 CFFA      RJMP	lsl16
    02224 9508      RET
lsl8:
    02225 2311      TST	R17
    02226 F019      BEQ	0x222A
    02227 0F00      LSL	R16
    02228 951A      DEC	R17
    02229 CFFB      RJMP	lsl8
    0222A 9508      RET
asgnblk:
    0222B 93AA      ST	-Y,R26
    0222C 93BA      ST	-Y,R27
    0222D 93EA      ST	-Y,R30
    0222E 93FA      ST	-Y,R31
    0222F 920A      ST	-Y,R0
    02230 81AF      LDD	R26,Y+7
    02231 85B8      LDD	R27,Y+8
    02232 81ED      LDD	R30,Y+5
    02233 81FE      LDD	R31,Y+6
    02234 3000      CPI	R16,0
    02235 0701      CPC	R16,R17
    02236 F029      BEQ	0x223C
    02237 9001      LD	R0,Z+
    02238 920D      ST	X+,R0
    02239 5001      SUBI	R16,1
    0223A 4010      SBCI	R17,0
    0223B CFF8      RJMP	0x2234
    0223C 9009      LD	R0,Y+
    0223D 91F9      LD	R31,Y+
    0223E 91E9      LD	R30,Y+
    0223F 91B9      LD	R27,Y+
    02240 91A9      LD	R26,Y+
    02241 9624      ADIW	R28,4
    02242 9508      RET
