Interrupt Vectors
    00000 940C 04B7 JMP	__start|__text_start
    00006 940C 2589 JMP	_int_int2
    00014 940C 0BB4 JMP	_int_timer2
    0001C 940C 0B7B JMP	_int_timer1
    00020 940C 0B00 JMP	_int_timer0
    00024 940C 109D JMP	_int_ruart0
    00026 940C 10A5 JMP	_int_suart0
    0003A 940C 0C01 JMP	_int_timer3

Program Code (text area)
__start|__text_start:
    004B7 EFCF      LDI	R28,0xFF
    004B8 E1D0      LDI	R29,0x10
    004B9 BFCD      OUT	0x3D,R28
    004BA BFDE      OUT	0x3E,R29
    004BB 51CE      SUBI	R28,0x1E
    004BC 40D0      SBCI	R29,0
    004BD EA0A      LDI	R16,0xAA
    004BE 8308      ST	Y,R16
    004BF 2400      CLR	R0
    004C0 EDE2      LDI	R30,0xD2
    004C1 E0F9      LDI	R31,0x9
    004C2 E01E      LDI	R17,0xE
    004C3 39EE      CPI	R30,0x9E
    004C4 07F1      CPC	R31,R17
    004C5 F011      BEQ	0x04C8
    004C6 9201      ST	Z+,R0
    004C7 CFFB      RJMP	0x04C3
    004C8 8300      ST	Z,R16
    004C9 E9EC      LDI	R30,0x9C
    004CA E0F0      LDI	R31,0
    004CB E0A0      LDI	R26,0
    004CC E0B1      LDI	R27,1
    004CD E019      LDI	R17,0x9
    004CE E000      LDI	R16,0
    004CF BF0B      OUT	0x3B,R16
    004D0 36EE      CPI	R30,0x6E
    004D1 07F1      CPC	R31,R17
    004D2 F021      BEQ	0x04D7
    004D3 95C8      LPM
    004D4 9631      ADIW	R30,1
    004D5 920D      ST	X+,R0
    004D6 CFF9      RJMP	0x04D0
    004D7 940E 0A4C CALL	_main
_exit:
    004D9 CFFF      RJMP	_exit
FILE: E:\ICCDemo\Temp_Control\temp_control\delay.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) 
(0004) 
(0005) void delay_us(uint n)//延时us
(0006) {
(0007)   n=2*n;
_delay_us:
  n                    --> R16
    004DA 0F00      LSL	R16
    004DB 1F11      ROL	R17
(0008)   do{ n--;
    004DC 5001      SUBI	R16,1
    004DD 4010      SBCI	R17,0
(0009)   }while(n>1);
    004DE E081      LDI	R24,1
    004DF E090      LDI	R25,0
    004E0 1780      CP	R24,R16
    004E1 0791      CPC	R25,R17
    004E2 F3C8      BCS	0x04DC
    004E3 9508      RET
_delay_ms:
  j                    --> R20
    004E4 934A      ST	-Y,R20
    004E5 935A      ST	-Y,R21
    004E6 01A8      MOVW	R20,R16
(0010) }
(0011) void delay_ms(uint j)//延时ms
(0012) {
(0013)    do{j--;
    004E7 5041      SUBI	R20,1
    004E8 4050      SBCI	R21,0
(0014)      delay_us(1141);
    004E9 E705      LDI	R16,0x75
    004EA E014      LDI	R17,4
    004EB DFEE      RCALL	_delay_us
(0015)    }while(j>1);
    004EC E081      LDI	R24,1
    004ED E090      LDI	R25,0
    004EE 1784      CP	R24,R20
    004EF 0795      CPC	R25,R21
    004F0 F3B0      BCS	0x04E7
    004F1 9159      LD	R21,Y+
    004F2 9149      LD	R20,Y+
    004F3 9508      RET
_delay_s:
  i                    --> R20
    004F4 934A      ST	-Y,R20
    004F5 935A      ST	-Y,R21
    004F6 01A8      MOVW	R20,R16
(0016) }
(0017) void delay_s(uint i)
(0018) {
(0019)    do{
(0020)    i--;
    004F7 5041      SUBI	R20,1
    004F8 4050      SBCI	R21,0
(0021)    delay_ms(1000);
    004F9 EE08      LDI	R16,0xE8
    004FA E013      LDI	R17,3
    004FB DFE8      RCALL	_delay_ms
(0022)    }while(i>1);
    004FC E081      LDI	R24,1
    004FD E090      LDI	R25,0
    004FE 1784      CP	R24,R20
    004FF 0795      CPC	R25,R21
    00500 F3B0      BCS	0x04F7
    00501 9159      LD	R21,Y+
    00502 9149      LD	R20,Y+
    00503 9508      RET
_KeyScan:
    00504 934A      ST	-Y,R20
    00505 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\key.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) #include "lcd.h"
(0004) uchar key_value='n';
(0005) 
(0006) uchar KeyScan(void){
(0007)   //初始化端口
(0008)    DDRC=0xE0;
    00506 EE80      LDI	R24,0xE0
    00507 BB84      OUT	0x14,R24
(0009)    DDRG|=0x10;
    00508 9180 0064 LDS	R24,0x64
    0050A 6180      ORI	R24,0x10
    0050B 9380 0064 STS	0x64,R24
(0010)    
(0011)    //第一次扫描
(0012)    PORTC=0xDF;
    0050D ED8F      LDI	R24,0xDF
    0050E BB85      OUT	0x15,R24
(0013)    PORTG|=0x10;
    0050F 9180 0065 LDS	R24,0x65
    00511 6180      ORI	R24,0x10
    00512 9380 0065 STS	0x65,R24
(0014)    delay_us(1);
    00514 E001      LDI	R16,1
    00515 E010      LDI	R17,0
    00516 940E 04DA CALL	_delay_us
(0015)    switch(PINC)
    00518 B343      IN	R20,0x13
    00519 2755      CLR	R21
    0051A 3C4F      CPI	R20,0xCF
    0051B E0E0      LDI	R30,0
    0051C 075E      CPC	R21,R30
    0051D F0E9      BEQ	0x053B
    0051E 3C4F      CPI	R20,0xCF
    0051F E0E0      LDI	R30,0
    00520 075E      CPC	R21,R30
    00521 F0DC      BLT	0x053D
    00522 3D47      CPI	R20,0xD7
    00523 E0E0      LDI	R30,0
    00524 075E      CPC	R21,R30
    00525 F099      BEQ	0x0539
    00526 3D4B      CPI	R20,0xDB
    00527 E0E0      LDI	R30,0
    00528 075E      CPC	R21,R30
    00529 F069      BEQ	0x0537
    0052A 3D4D      CPI	R20,0xDD
    0052B E0E0      LDI	R30,0
    0052C 075E      CPC	R21,R30
    0052D F039      BEQ	0x0535
    0052E 3D4E      CPI	R20,0xDE
    0052F E0E0      LDI	R30,0
    00530 075E      CPC	R21,R30
    00531 F009      BEQ	0x0533
    00532 C00A      RJMP	0x053D
(0016)    {
(0017)    		case 0xDE:return  'e';//'esc';
    00533 E605      LDI	R16,0x65
    00534 C099      RJMP	0x05CE
(0018) 		case 0xdd:return  'a';//'alm';
    00535 E601      LDI	R16,0x61
    00536 C097      RJMP	0x05CE
(0019) 		case 0xdb:return  'd';//'down';  
    00537 E604      LDI	R16,0x64
    00538 C095      RJMP	0x05CE
(0020) 		case 0xd7:return  'u';//'up';
    00539 E705      LDI	R16,0x75
    0053A C093      RJMP	0x05CE
(0021) 		case 0xcf:return  'l';//'left';
    0053B E60C      LDI	R16,0x6C
    0053C C091      RJMP	0x05CE
(0022) 		default:break;	   
(0023)    } 
(0024)     //第二次扫描
(0025)    PORTC=0xBF;
    0053D EB8F      LDI	R24,0xBF
    0053E BB85      OUT	0x15,R24
(0026)    PORTG|=0x10;
    0053F 9180 0065 LDS	R24,0x65
    00541 6180      ORI	R24,0x10
    00542 9380 0065 STS	0x65,R24
(0027)    delay_us(1);
    00544 E001      LDI	R16,1
    00545 E010      LDI	R17,0
    00546 940E 04DA CALL	_delay_us
(0028)    switch(PINC)
    00548 B343      IN	R20,0x13
    00549 2755      CLR	R21
    0054A 3A4F      CPI	R20,0xAF
    0054B E0E0      LDI	R30,0
    0054C 075E      CPC	R21,R30
    0054D F0E9      BEQ	0x056B
    0054E 3A4F      CPI	R20,0xAF
    0054F E0E0      LDI	R30,0
    00550 075E      CPC	R21,R30
    00551 F0DC      BLT	0x056D
    00552 3B47      CPI	R20,0xB7
    00553 E0E0      LDI	R30,0
    00554 075E      CPC	R21,R30
    00555 F099      BEQ	0x0569
    00556 3B4B      CPI	R20,0xBB
    00557 E0E0      LDI	R30,0
    00558 075E      CPC	R21,R30
    00559 F069      BEQ	0x0567
    0055A 3B4D      CPI	R20,0xBD
    0055B E0E0      LDI	R30,0
    0055C 075E      CPC	R21,R30
    0055D F039      BEQ	0x0565
    0055E 3B4E      CPI	R20,0xBE
    0055F E0E0      LDI	R30,0
    00560 075E      CPC	R21,R30
    00561 F009      BEQ	0x0563
    00562 C00A      RJMP	0x056D
(0029)    {
(0030)    		case 0xbE:return 's';//'set';
    00563 E703      LDI	R16,0x73
    00564 C069      RJMP	0x05CE
(0031) 		case 0xbd:return 'r';//'right';
    00565 E702      LDI	R16,0x72
    00566 C067      RJMP	0x05CE
(0032) 		case 0xbb:return 't';//'ent';  
    00567 E704      LDI	R16,0x74
    00568 C065      RJMP	0x05CE
(0033) 		case 0xb7:return 'c';//'clr';
    00569 E603      LDI	R16,0x63
    0056A C063      RJMP	0x05CE
(0034) 		case 0xaf:return '+';//'+/-';
    0056B E20B      LDI	R16,0x2B
    0056C C061      RJMP	0x05CE
(0035) 		default:break;	   
(0036)    } 
(0037)     //第三次扫描
(0038)    PORTC=0x7F;
    0056D E78F      LDI	R24,0x7F
    0056E BB85      OUT	0x15,R24
(0039)    PORTG|=0x10;
    0056F 9180 0065 LDS	R24,0x65
    00571 6180      ORI	R24,0x10
    00572 9380 0065 STS	0x65,R24
(0040)    delay_us(1);
    00574 E001      LDI	R16,1
    00575 E010      LDI	R17,0
    00576 940E 04DA CALL	_delay_us
(0041)    switch(PINC)
    00578 B343      IN	R20,0x13
    00579 2755      CLR	R21
    0057A 364F      CPI	R20,0x6F
    0057B E0E0      LDI	R30,0
    0057C 075E      CPC	R21,R30
    0057D F0E9      BEQ	0x059B
    0057E 364F      CPI	R20,0x6F
    0057F E0E0      LDI	R30,0
    00580 075E      CPC	R21,R30
    00581 F0DC      BLT	0x059D
    00582 3747      CPI	R20,0x77
    00583 E0E0      LDI	R30,0
    00584 075E      CPC	R21,R30
    00585 F099      BEQ	0x0599
    00586 374B      CPI	R20,0x7B
    00587 E0E0      LDI	R30,0
    00588 075E      CPC	R21,R30
    00589 F069      BEQ	0x0597
    0058A 374D      CPI	R20,0x7D
    0058B E0E0      LDI	R30,0
    0058C 075E      CPC	R21,R30
    0058D F039      BEQ	0x0595
    0058E 374E      CPI	R20,0x7E
    0058F E0E0      LDI	R30,0
    00590 075E      CPC	R21,R30
    00591 F009      BEQ	0x0593
    00592 C00A      RJMP	0x059D
(0042)    {
(0043)    		case 0x7E:return '0';
    00593 E300      LDI	R16,0x30
    00594 C039      RJMP	0x05CE
(0044) 		case 0x7d:return '3';
    00595 E303      LDI	R16,0x33
    00596 C037      RJMP	0x05CE
(0045) 		case 0x7b:return '2';  
    00597 E302      LDI	R16,0x32
    00598 C035      RJMP	0x05CE
(0046) 		case 0x77:return '1';
    00599 E301      LDI	R16,0x31
    0059A C033      RJMP	0x05CE
(0047) 		case 0x6f:return '6';
    0059B E306      LDI	R16,0x36
    0059C C031      RJMP	0x05CE
(0048) 		default:break;	   
(0049)    } 
(0050)       //第四次扫描
(0051)    PORTC=0xFF;
    0059D EF8F      LDI	R24,0xFF
    0059E BB85      OUT	0x15,R24
(0052)    PORTG&=0x0F;
    0059F 9180 0065 LDS	R24,0x65
    005A1 708F      ANDI	R24,0xF
    005A2 9380 0065 STS	0x65,R24
(0053)    delay_us(1);
    005A4 E001      LDI	R16,1
    005A5 E010      LDI	R17,0
    005A6 940E 04DA CALL	_delay_us
(0054)    switch(PINC)
    005A8 B343      IN	R20,0x13
    005A9 2755      CLR	R21
    005AA 3E4F      CPI	R20,0xEF
    005AB E0E0      LDI	R30,0
    005AC 075E      CPC	R21,R30
    005AD F0E9      BEQ	0x05CB
    005AE 3E4F      CPI	R20,0xEF
    005AF E0E0      LDI	R30,0
    005B0 075E      CPC	R21,R30
    005B1 F0DC      BLT	0x05CD
    005B2 3F47      CPI	R20,0xF7
    005B3 E0E0      LDI	R30,0
    005B4 075E      CPC	R21,R30
    005B5 F099      BEQ	0x05C9
    005B6 3F4B      CPI	R20,0xFB
    005B7 E0E0      LDI	R30,0
    005B8 075E      CPC	R21,R30
    005B9 F069      BEQ	0x05C7
    005BA 3F4D      CPI	R20,0xFD
    005BB E0E0      LDI	R30,0
    005BC 075E      CPC	R21,R30
    005BD F039      BEQ	0x05C5
    005BE 3F4E      CPI	R20,0xFE
    005BF E0E0      LDI	R30,0
    005C0 075E      CPC	R21,R30
    005C1 F009      BEQ	0x05C3
    005C2 C00A      RJMP	0x05CD
(0055)    {
(0056)    		case 0xFE:return '7';
    005C3 E307      LDI	R16,0x37
    005C4 C009      RJMP	0x05CE
(0057) 		case 0xFd:return '8';
    005C5 E308      LDI	R16,0x38
    005C6 C007      RJMP	0x05CE
(0058) 		case 0xFb:return '9';  
    005C7 E309      LDI	R16,0x39
    005C8 C005      RJMP	0x05CE
(0059) 		case 0xF7:return '4';
    005C9 E304      LDI	R16,0x34
    005CA C003      RJMP	0x05CE
(0060) 		case 0xEf:return '5';
    005CB E305      LDI	R16,0x35
    005CC C001      RJMP	0x05CE
(0061) 		default:break;	   
(0062)    }
(0063)  return 'n';
    005CD E60E      LDI	R16,0x6E
    005CE 9159      LD	R21,Y+
    005CF 9149      LD	R20,Y+
    005D0 9508      RET
_KeyScan_once:
  keyValue2            --> R10
  keyValue             --> R20
    005D1 92AA      ST	-Y,R10
    005D2 934A      ST	-Y,R20
(0064)    
(0065) }
(0066) //********************************
(0067) //		加上延时抖动的读取，一次读取一个
(0068) //********************************
(0069) uchar KeyScan_once(void){
(0070) 	  uchar keyValue,keyValue2;
(0071) 	  keyValue=KeyScan();
    005D3 DF30      RCALL	_KeyScan
    005D4 2F40      MOV	R20,R16
(0072) 	  delay_ms(2);
    005D5 E002      LDI	R16,2
    005D6 E010      LDI	R17,0
    005D7 940E 04E4 CALL	_delay_ms
(0073) 	  keyValue2=KeyScan();
    005D9 DF2A      RCALL	_KeyScan
    005DA 2EA0      MOV	R10,R16
(0074) 	 if(keyValue==keyValue2 && keyValue!='n'){//两次扫描，消除抖动
    005DB 1740      CP	R20,R16
    005DC F461      BNE	0x05E9
    005DD 364E      CPI	R20,0x6E
    005DE F051      BEQ	0x05E9
(0075) 	 	if(key_value==keyValue){//如果还是上一次保存的值则代表一直按着，返回‘n’
    005DF 9020 0100 LDS	R2,key_value
    005E1 1624      CP	R2,R20
    005E2 F411      BNE	0x05E5
(0076) 		    return 'n';  
    005E3 E60E      LDI	R16,0x6E
    005E4 C008      RJMP	0x05ED
(0077) 	    }else{                  //松开后第一次按下，返回该键的值
(0078) 		 key_value=keyValue;
    005E5 9340 0100 STS	key_value,R20
(0079) 		  return keyValue;
    005E7 2F04      MOV	R16,R20
    005E8 C004      RJMP	0x05ED
(0080) 		}
(0081) 	 }else{                     //因为读取键盘的值会多次刷新，所以在松开按键时key_value重置
(0082) 	   key_value='n';
    005E9 E68E      LDI	R24,0x6E
    005EA 9380 0100 STS	key_value,R24
(0083) 	   return 'n';
    005EC E60E      LDI	R16,0x6E
    005ED 9149      LD	R20,Y+
    005EE 90A9      LD	R10,Y+
    005EF 9508      RET
_lcd_bz_1:
  result               --> R20
    005F0 934A      ST	-Y,R20
    005F1 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\lcd.c
(0001) #include<iom128v.h>
(0002) #include "lcd.h"
(0003) #include "delay.h" 
(0004) #define rs_l PORTG&=~(1<<PG1)
(0005) #define rs_h PORTG|=1<<PG1
(0006) #define rw_l PORTG&=~(1<<PG0)
(0007) #define rw_h PORTG|=1<<PG0
(0008) #define ep1_l PORTG&=~(1<<PG3)
(0009) #define ep1_h PORTG|=1<<PG3
(0010) #define ep2_l PORTF&=~(1<<PF0)
(0011) #define ep2_h PORTF|=1<<PF0
(0012) //***********************************
(0013) //上半屏幕
(0014) //**********************************
(0015) /*
(0016)  读忙程序。命令后，读入BF
(0017) */
(0018) uint lcd_bz_1(void){
(0019) 	uint result;
(0020) 	DDRA=0x00;
    005F2 2422      CLR	R2
    005F3 BA2A      OUT	0x1A,R2
(0021) 	rs_l;
    005F4 9180 0065 LDS	R24,0x65
    005F6 7F8D      ANDI	R24,0xFD
    005F7 9380 0065 STS	0x65,R24
(0022) 	rw_h;
    005F9 9180 0065 LDS	R24,0x65
    005FB 6081      ORI	R24,1
    005FC 9380 0065 STS	0x65,R24
(0023) 	ep1_h;
    005FE 9180 0065 LDS	R24,0x65
    00600 6088      ORI	R24,0x8
    00601 9380 0065 STS	0x65,R24
(0024) 	delay_us(1);
    00603 E001      LDI	R16,1
    00604 E010      LDI	R17,0
    00605 940E 04DA CALL	_delay_us
(0025) 	result=PINA&(1<<PINA7);
    00607 B349      IN	R20,0x19
    00608 2755      CLR	R21
    00609 7840      ANDI	R20,0x80
    0060A 7050      ANDI	R21,0
(0026) 	DDRA=0xFF;
    0060B EF8F      LDI	R24,0xFF
    0060C BB8A      OUT	0x1A,R24
(0027) 	ep1_l;
    0060D 9180 0065 LDS	R24,0x65
    0060F 7F87      ANDI	R24,0xF7
    00610 9380 0065 STS	0x65,R24
(0028) 	return result;
    00612 018A      MOVW	R16,R20
    00613 9159      LD	R21,Y+
    00614 9149      LD	R20,Y+
    00615 9508      RET
_lcd_wcmd_1:
  cmd                  --> R10
    00616 92AA      ST	-Y,R10
    00617 2EA0      MOV	R10,R16
(0029) }
(0030) //***********************************
(0031) //上半屏幕写命令
(0032) //**********************************
(0033) void lcd_wcmd_1(uchar cmd){
(0034) 	 while(lcd_bz_1());
    00618 DFD7      RCALL	_lcd_bz_1
    00619 3000      CPI	R16,0
    0061A 0701      CPC	R16,R17
    0061B F7E1      BNE	0x0618
(0035) 	 rs_l;
    0061C 9180 0065 LDS	R24,0x65
    0061E 7F8D      ANDI	R24,0xFD
    0061F 9380 0065 STS	0x65,R24
(0036) 	 rw_l;
    00621 9180 0065 LDS	R24,0x65
    00623 7F8E      ANDI	R24,0xFE
    00624 9380 0065 STS	0x65,R24
(0037) 	 ep1_l;
    00626 9180 0065 LDS	R24,0x65
    00628 7F87      ANDI	R24,0xF7
    00629 9380 0065 STS	0x65,R24
(0038) 	 PORTA=cmd;
    0062B BAAB      OUT	0x1B,R10
(0039) 	 ep1_h;
    0062C 9180 0065 LDS	R24,0x65
    0062E 6088      ORI	R24,0x8
    0062F 9380 0065 STS	0x65,R24
(0040) 	 delay_us(1);
    00631 E001      LDI	R16,1
    00632 E010      LDI	R17,0
    00633 940E 04DA CALL	_delay_us
(0041) 	 ep1_l;
    00635 9180 0065 LDS	R24,0x65
    00637 7F87      ANDI	R24,0xF7
    00638 9380 0065 STS	0x65,R24
(0042) 	 return;
    0063A 90A9      LD	R10,Y+
    0063B 9508      RET
_lcd_wdat_1:
  dat                  --> R10
    0063C 92AA      ST	-Y,R10
    0063D 2EA0      MOV	R10,R16
(0043) }
(0044) /*
(0045) 写输出数据,char
(0046) */
(0047) void lcd_wdat_1(uchar dat){
(0048) 	 while(lcd_bz_1());
    0063E DFB1      RCALL	_lcd_bz_1
    0063F 3000      CPI	R16,0
    00640 0701      CPC	R16,R17
    00641 F7E1      BNE	0x063E
(0049) 	 rs_h;
    00642 9180 0065 LDS	R24,0x65
    00644 6082      ORI	R24,2
    00645 9380 0065 STS	0x65,R24
(0050) 	 rw_l;
    00647 9180 0065 LDS	R24,0x65
    00649 7F8E      ANDI	R24,0xFE
    0064A 9380 0065 STS	0x65,R24
(0051) 	 ep1_l;
    0064C 9180 0065 LDS	R24,0x65
    0064E 7F87      ANDI	R24,0xF7
    0064F 9380 0065 STS	0x65,R24
(0052) 	 PORTA=dat;
    00651 BAAB      OUT	0x1B,R10
(0053) 	 ep1_h;
    00652 9180 0065 LDS	R24,0x65
    00654 6088      ORI	R24,0x8
    00655 9380 0065 STS	0x65,R24
(0054) 	 delay_us(1);
    00657 E001      LDI	R16,1
    00658 E010      LDI	R17,0
    00659 940E 04DA CALL	_delay_us
(0055) 	 ep1_l;
    0065B 9180 0065 LDS	R24,0x65
    0065D 7F87      ANDI	R24,0xF7
    0065E 9380 0065 STS	0x65,R24
    00660 90A9      LD	R10,Y+
    00661 9508      RET
(0056) }
(0057) 
(0058) /*清显示*/
(0059) void lcd_clear_1(void) 
(0060) {
(0061) 	lcd_wcmd_1(0x01);
_lcd_clear_1:
    00662 E001      LDI	R16,1
    00663 DFB2      RCALL	_lcd_wcmd_1
(0062) 	delay_ms(1);
    00664 E001      LDI	R16,1
    00665 E010      LDI	R17,0
    00666 940C 04E4 JMP	_delay_ms
_lcd_bz_2:
  result               --> R20
    00668 934A      ST	-Y,R20
    00669 935A      ST	-Y,R21
(0063) }
(0064) //***********************************
(0065) //    下半屏幕
(0066) //***********************************
(0067) uint lcd_bz_2(void){
(0068) 	uint result;
(0069) 	DDRA=0x00;
    0066A 2422      CLR	R2
    0066B BA2A      OUT	0x1A,R2
(0070) 	rs_l;
    0066C 9180 0065 LDS	R24,0x65
    0066E 7F8D      ANDI	R24,0xFD
    0066F 9380 0065 STS	0x65,R24
(0071) 	rw_h;
    00671 9180 0065 LDS	R24,0x65
    00673 6081      ORI	R24,1
    00674 9380 0065 STS	0x65,R24
(0072) 	ep2_h;
    00676 9180 0062 LDS	R24,0x62
    00678 6081      ORI	R24,1
    00679 9380 0062 STS	0x62,R24
(0073) 	delay_us(1);
    0067B E001      LDI	R16,1
    0067C E010      LDI	R17,0
    0067D 940E 04DA CALL	_delay_us
(0074) 	result=PINA&(1<<PINA7);
    0067F B349      IN	R20,0x19
    00680 2755      CLR	R21
    00681 7840      ANDI	R20,0x80
    00682 7050      ANDI	R21,0
(0075) 	DDRA=0xFF;
    00683 EF8F      LDI	R24,0xFF
    00684 BB8A      OUT	0x1A,R24
(0076) 	ep2_l;
    00685 9180 0062 LDS	R24,0x62
    00687 7F8E      ANDI	R24,0xFE
    00688 9380 0062 STS	0x62,R24
(0077) 	return result;
    0068A 018A      MOVW	R16,R20
    0068B 9159      LD	R21,Y+
    0068C 9149      LD	R20,Y+
    0068D 9508      RET
_lcd_wcmd_2:
  cmd                  --> R10
    0068E 92AA      ST	-Y,R10
    0068F 2EA0      MOV	R10,R16
(0078) }
(0079) void lcd_wcmd_2(uchar cmd){
(0080) 	 while(lcd_bz_2());
    00690 DFD7      RCALL	_lcd_bz_2
    00691 3000      CPI	R16,0
    00692 0701      CPC	R16,R17
    00693 F7E1      BNE	0x0690
(0081) 	 rs_l;
    00694 9180 0065 LDS	R24,0x65
    00696 7F8D      ANDI	R24,0xFD
    00697 9380 0065 STS	0x65,R24
(0082) 	 rw_l;
    00699 9180 0065 LDS	R24,0x65
    0069B 7F8E      ANDI	R24,0xFE
    0069C 9380 0065 STS	0x65,R24
(0083) 	 ep2_l;
    0069E 9180 0062 LDS	R24,0x62
    006A0 7F8E      ANDI	R24,0xFE
    006A1 9380 0062 STS	0x62,R24
(0084) 	 PORTA=cmd;
    006A3 BAAB      OUT	0x1B,R10
(0085) 	 ep2_h;
    006A4 9180 0062 LDS	R24,0x62
    006A6 6081      ORI	R24,1
    006A7 9380 0062 STS	0x62,R24
(0086) 	delay_us(1);
    006A9 E001      LDI	R16,1
    006AA E010      LDI	R17,0
    006AB 940E 04DA CALL	_delay_us
(0087) 	 ep2_l;
    006AD 9180 0062 LDS	R24,0x62
    006AF 7F8E      ANDI	R24,0xFE
    006B0 9380 0062 STS	0x62,R24
    006B2 90A9      LD	R10,Y+
    006B3 9508      RET
_lcd_wdat_2:
  dat                  --> R10
    006B4 92AA      ST	-Y,R10
    006B5 2EA0      MOV	R10,R16
(0088) }
(0089) //  写输出数据,char
(0090) void lcd_wdat_2(uchar dat){
(0091) 	 while(lcd_bz_2());
    006B6 DFB1      RCALL	_lcd_bz_2
    006B7 3000      CPI	R16,0
    006B8 0701      CPC	R16,R17
    006B9 F7E1      BNE	0x06B6
(0092) 	 rs_h;
    006BA 9180 0065 LDS	R24,0x65
    006BC 6082      ORI	R24,2
    006BD 9380 0065 STS	0x65,R24
(0093) 	 rw_l;
    006BF 9180 0065 LDS	R24,0x65
    006C1 7F8E      ANDI	R24,0xFE
    006C2 9380 0065 STS	0x65,R24
(0094) 	 ep2_l;
    006C4 9180 0062 LDS	R24,0x62
    006C6 7F8E      ANDI	R24,0xFE
    006C7 9380 0062 STS	0x62,R24
(0095) 	 PORTA=dat;
    006C9 BAAB      OUT	0x1B,R10
(0096) 	 ep2_h;
    006CA 9180 0062 LDS	R24,0x62
    006CC 6081      ORI	R24,1
    006CD 9380 0062 STS	0x62,R24
(0097) 	delay_us(1);
    006CF E001      LDI	R16,1
    006D0 E010      LDI	R17,0
    006D1 940E 04DA CALL	_delay_us
(0098) 	 ep2_l;
    006D3 9180 0062 LDS	R24,0x62
    006D5 7F8E      ANDI	R24,0xFE
    006D6 9380 0062 STS	0x62,R24
    006D8 90A9      LD	R10,Y+
    006D9 9508      RET
(0099) }
(0100) /*清显示*/
(0101) void lcd_clear_2(void) 
(0102) {
(0103) 	lcd_wcmd_2(0x01);
_lcd_clear_2:
    006DA E001      LDI	R16,1
    006DB CFB2      RJMP	_lcd_wcmd_2
_lcd_write_char_con:
  data                 --> R10
  y                    --> R20
    006DC 92AA      ST	-Y,R10
    006DD 934A      ST	-Y,R20
    006DE 2EA2      MOV	R10,R18
    006DF 2F40      MOV	R20,R16
(0104) }
(0105) 
(0106) //*************************************************
(0107) //					写字符
(0108) //***************************************************
(0109) /*
(0110)   附带y。调用 lcd_wdat（）方法。传入时转换为char。直接连续写入使用
(0111) */
(0112) void lcd_write_char_con(unsigned char y,unsigned char data) 
(0113) {
(0114) 	
(0115)     if (y == 0 || y==1) 
    006E0 2344      TST	R20
    006E1 F011      BEQ	0x06E4
    006E2 3041      CPI	R20,1
    006E3 F419      BNE	0x06E7
(0116)     {
(0117)     	
(0118) 		 lcd_wdat_1( data);
    006E4 2D0A      MOV	R16,R10
    006E5 DF56      RCALL	_lcd_wdat_1
(0119)     }else  if(y==2 || y==3 )
    006E6 C006      RJMP	0x06ED
    006E7 3042      CPI	R20,2
    006E8 F011      BEQ	0x06EB
    006E9 3043      CPI	R20,3
    006EA F411      BNE	0x06ED
(0120)     {
(0121)     	
(0122) 		 lcd_wdat_2( data);
    006EB 2D0A      MOV	R16,R10
    006EC DFC7      RCALL	_lcd_wdat_2
(0123)     }
(0124)    return; 
    006ED 9149      LD	R20,Y+
    006EE 90A9      LD	R10,Y+
    006EF 9508      RET
_lcd_write_pos:
  y                    --> R22
  x                    --> R20
    006F0 934A      ST	-Y,R20
    006F1 936A      ST	-Y,R22
    006F2 2F62      MOV	R22,R18
    006F3 2F40      MOV	R20,R16
(0125) }
(0126) /*
(0127)   附带x,y。写光标位置
(0128) */
(0129) void lcd_write_pos(unsigned char x,unsigned char y) 
(0130) {
(0131) 	
(0132)     if (y == 0) 
    006F4 2366      TST	R22
    006F5 F421      BNE	0x06FA
(0133)     {
(0134)     	lcd_wcmd_1(0x80 + x);
    006F6 2F04      MOV	R16,R20
    006F7 5800      SUBI	R16,0x80
    006F8 DF1D      RCALL	_lcd_wcmd_1
(0135)     }
    006F9 C011      RJMP	0x070B
(0136)     else  if(y==1)
    006FA 3061      CPI	R22,1
    006FB F421      BNE	0x0700
(0137)     {
(0138)     	lcd_wcmd_1(0x90 + x);
    006FC 2F04      MOV	R16,R20
    006FD 5700      SUBI	R16,0x70
    006FE DF17      RCALL	_lcd_wcmd_1
(0139)     }else  if(y==2)
    006FF C00B      RJMP	0x070B
    00700 3062      CPI	R22,2
    00701 F421      BNE	0x0706
(0140)     {
(0141)     	lcd_wcmd_2(0x80 + x);
    00702 2F04      MOV	R16,R20
    00703 5800      SUBI	R16,0x80
    00704 DF89      RCALL	_lcd_wcmd_2
(0142)     }else  if(y==3)
    00705 C005      RJMP	0x070B
    00706 3063      CPI	R22,3
    00707 F419      BNE	0x070B
(0143)     {
(0144)     	lcd_wcmd_2(0x90 + x);
    00708 2F04      MOV	R16,R20
    00709 5700      SUBI	R16,0x70
    0070A DF83      RCALL	_lcd_wcmd_2
(0145)     }
(0146)    return; 
    0070B 9169      LD	R22,Y+
    0070C 9149      LD	R20,Y+
    0070D 9508      RET
_lcd_write_char:
  data                 --> R10
  y                    --> R22
  x                    --> R20
    0070E 940E 3A2D CALL	push_xgsetF00C
    00710 2F62      MOV	R22,R18
    00711 2F40      MOV	R20,R16
    00712 80AE      LDD	R10,Y+6
(0147) }
(0148) /*
(0149)   附带x,y。调用 lcd_wdat（）方法。传入时转换为char
(0150) */
(0151) void lcd_write_char(unsigned char x,unsigned char y,unsigned char data) 
(0152) {
(0153) 	
(0154)     if (y == 0) 
    00713 2366      TST	R22
    00714 F431      BNE	0x071B
(0155)     {
(0156)     	lcd_wcmd_1(0x80 + x);
    00715 2F04      MOV	R16,R20
    00716 5800      SUBI	R16,0x80
    00717 DEFE      RCALL	_lcd_wcmd_1
(0157) 		 lcd_wdat_1( data);
    00718 2D0A      MOV	R16,R10
    00719 DF22      RCALL	_lcd_wdat_1
(0158)     }
    0071A C017      RJMP	0x0732
(0159)     else  if(y==1)
    0071B 3061      CPI	R22,1
    0071C F431      BNE	0x0723
(0160)     {
(0161)     	lcd_wcmd_1(0x90 + x);
    0071D 2F04      MOV	R16,R20
    0071E 5700      SUBI	R16,0x70
    0071F DEF6      RCALL	_lcd_wcmd_1
(0162) 		 lcd_wdat_1( data);
    00720 2D0A      MOV	R16,R10
    00721 DF1A      RCALL	_lcd_wdat_1
(0163)     }else  if(y==2)
    00722 C00F      RJMP	0x0732
    00723 3062      CPI	R22,2
    00724 F431      BNE	0x072B
(0164)     {
(0165)     	lcd_wcmd_2(0x80 + x);
    00725 2F04      MOV	R16,R20
    00726 5800      SUBI	R16,0x80
    00727 DF66      RCALL	_lcd_wcmd_2
(0166) 		 lcd_wdat_2( data);
    00728 2D0A      MOV	R16,R10
    00729 DF8A      RCALL	_lcd_wdat_2
(0167)     }else  if(y==3)
    0072A C007      RJMP	0x0732
    0072B 3063      CPI	R22,3
    0072C F429      BNE	0x0732
(0168)     {
(0169)     	lcd_wcmd_2(0x90 + x);
    0072D 2F04      MOV	R16,R20
    0072E 5700      SUBI	R16,0x70
    0072F DF5E      RCALL	_lcd_wcmd_2
(0170) 		 lcd_wdat_2( data);
    00730 2D0A      MOV	R16,R10
    00731 DF82      RCALL	_lcd_wdat_2
(0171)     }
(0172)    return; 
    00732 940C 3A34 JMP	pop_xgsetF00C
_lcd_write_str:
  s                    --> R20
  y                    --> R10
  x                    --> R22
    00734 940E 3A2D CALL	push_xgsetF00C
    00736 2EA2      MOV	R10,R18
    00737 2F60      MOV	R22,R16
    00738 814E      LDD	R20,Y+6
    00739 815F      LDD	R21,Y+7
(0173) }
(0174) /*
(0175)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0176) */
(0177) void lcd_write_str(unsigned char x,unsigned char y,unsigned char *s) 
(0178) {
(0179) 	
(0180)     if (y == 0) 
    0073A 20AA      TST	R10
    0073B F471      BNE	0x074A
(0181)     {
(0182)     	lcd_wcmd_1(0x80 + x);
    0073C 2F06      MOV	R16,R22
    0073D 5800      SUBI	R16,0x80
    0073E DED7      RCALL	_lcd_wcmd_1
    0073F C005      RJMP	0x0745
(0183) 		 while (*s) 
(0184)        {
(0185)     	lcd_wdat_1( *s);
    00740 01FA      MOVW	R30,R20
    00741 8100      LD	R16,Z
    00742 DEF9      RCALL	_lcd_wdat_1
(0186)     	s ++;
    00743 5F4F      SUBI	R20,0xFF
    00744 4F5F      SBCI	R21,0xFF
    00745 01FA      MOVW	R30,R20
    00746 8020      LD	R2,Z
    00747 2022      TST	R2
    00748 F7B9      BNE	0x0740
(0187)         }
(0188)     }
    00749 C032      RJMP	0x077C
(0189)     else  if(y==1)
    0074A 2D8A      MOV	R24,R10
    0074B 3081      CPI	R24,1
    0074C F471      BNE	0x075B
(0190)     {
(0191)     	lcd_wcmd_1(0x90 + x);
    0074D 2F06      MOV	R16,R22
    0074E 5700      SUBI	R16,0x70
    0074F DEC6      RCALL	_lcd_wcmd_1
    00750 C005      RJMP	0x0756
(0192) 		 while (*s) 
(0193)         {
(0194)     	lcd_wdat_1( *s);
    00751 01FA      MOVW	R30,R20
    00752 8100      LD	R16,Z
    00753 DEE8      RCALL	_lcd_wdat_1
(0195)     	s ++;
    00754 5F4F      SUBI	R20,0xFF
    00755 4F5F      SBCI	R21,0xFF
    00756 01FA      MOVW	R30,R20
    00757 8020      LD	R2,Z
    00758 2022      TST	R2
    00759 F7B9      BNE	0x0751
(0196)        }
(0197)     }else  if(y==2)
    0075A C021      RJMP	0x077C
    0075B 2D8A      MOV	R24,R10
    0075C 3082      CPI	R24,2
    0075D F471      BNE	0x076C
(0198)     {
(0199)     	lcd_wcmd_2(0x80 + x);
    0075E 2F06      MOV	R16,R22
    0075F 5800      SUBI	R16,0x80
    00760 DF2D      RCALL	_lcd_wcmd_2
    00761 C005      RJMP	0x0767
(0200) 		  while (*s) 
(0201)        {
(0202)     	lcd_wdat_2( *s);
    00762 01FA      MOVW	R30,R20
    00763 8100      LD	R16,Z
    00764 DF4F      RCALL	_lcd_wdat_2
(0203)     	s ++;
    00765 5F4F      SUBI	R20,0xFF
    00766 4F5F      SBCI	R21,0xFF
    00767 01FA      MOVW	R30,R20
    00768 8020      LD	R2,Z
    00769 2022      TST	R2
    0076A F7B9      BNE	0x0762
(0204)        }
(0205)     }else  if(y==3)
    0076B C010      RJMP	0x077C
    0076C 2D8A      MOV	R24,R10
    0076D 3083      CPI	R24,3
    0076E F469      BNE	0x077C
(0206)     {
(0207)     	lcd_wcmd_2(0x90 + x);
    0076F 2F06      MOV	R16,R22
    00770 5700      SUBI	R16,0x70
    00771 DF1C      RCALL	_lcd_wcmd_2
    00772 C005      RJMP	0x0778
(0208) 		  while (*s) 
(0209)        {
(0210)     	lcd_wdat_2( *s);
    00773 01FA      MOVW	R30,R20
    00774 8100      LD	R16,Z
    00775 DF3E      RCALL	_lcd_wdat_2
(0211)     	s ++;
    00776 5F4F      SUBI	R20,0xFF
    00777 4F5F      SBCI	R21,0xFF
    00778 01FA      MOVW	R30,R20
    00779 8020      LD	R2,Z
    0077A 2022      TST	R2
    0077B F7B9      BNE	0x0773
(0212)        }
(0213)     }
    0077C 940C 3A34 JMP	pop_xgsetF00C
_lcd_write_str_con:
  s                    --> R20
  y                    --> R22
    0077E 940E 3A23 CALL	push_xgsetF000
    00780 01A9      MOVW	R20,R18
    00781 2F60      MOV	R22,R16
(0214)    
(0215) }
(0216) /*
(0217)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0218) */
(0219) void lcd_write_str_con(unsigned char y,unsigned char *s) 
(0220) {
(0221) 	
(0222)     if (y == 0 || y==1) 
    00782 2366      TST	R22
    00783 F011      BEQ	0x0786
    00784 3061      CPI	R22,1
    00785 F459      BNE	0x0791
(0223)     {
    00786 C005      RJMP	0x078C
(0224)     	
(0225) 		 while (*s) 
(0226)        {
(0227)     	lcd_wdat_1( *s);
    00787 01FA      MOVW	R30,R20
    00788 8100      LD	R16,Z
    00789 DEB2      RCALL	_lcd_wdat_1
(0228)     	s ++;
    0078A 5F4F      SUBI	R20,0xFF
    0078B 4F5F      SBCI	R21,0xFF
    0078C 01FA      MOVW	R30,R20
    0078D 8020      LD	R2,Z
    0078E 2022      TST	R2
    0078F F7B9      BNE	0x0787
(0229)         }
(0230)     }
    00790 C00E      RJMP	0x079F
(0231)     else  if(y==2 || y==3)
    00791 3062      CPI	R22,2
    00792 F011      BEQ	0x0795
    00793 3063      CPI	R22,3
    00794 F451      BNE	0x079F
(0232)     {
    00795 C005      RJMP	0x079B
(0233)     	
(0234) 		  while (*s) 
(0235)        {
(0236)     	lcd_wdat_2( *s);
    00796 01FA      MOVW	R30,R20
    00797 8100      LD	R16,Z
    00798 DF1B      RCALL	_lcd_wdat_2
(0237)     	s ++;
    00799 5F4F      SUBI	R20,0xFF
    0079A 4F5F      SBCI	R21,0xFF
    0079B 01FA      MOVW	R30,R20
    0079C 8020      LD	R2,Z
    0079D 2022      TST	R2
    0079E F7B9      BNE	0x0796
(0238)        }
(0239)     }
    0079F 940C 3A28 JMP	pop_xgsetF000
_read_ac_1:
  result               --> R20
    007A1 934A      ST	-Y,R20
    007A2 935A      ST	-Y,R21
(0240)    
(0241) }
(0242) //****************************
(0243) //  读出数据,.不知道有没有用，先放在这
(0244) //****************************
(0245) /**
(0246)  读程序。命令后，读AC地址
(0247) */
(0248) uchar read_ac_1(void){
(0249) 	uint result;
(0250) 	DDRA=0x00;
    007A3 2422      CLR	R2
    007A4 BA2A      OUT	0x1A,R2
(0251) 	rs_l;
    007A5 9180 0065 LDS	R24,0x65
    007A7 7F8D      ANDI	R24,0xFD
    007A8 9380 0065 STS	0x65,R24
(0252) 	rw_h;
    007AA 9180 0065 LDS	R24,0x65
    007AC 6081      ORI	R24,1
    007AD 9380 0065 STS	0x65,R24
(0253) 	ep1_h;
    007AF 9180 0065 LDS	R24,0x65
    007B1 6088      ORI	R24,0x8
    007B2 9380 0065 STS	0x65,R24
(0254) 	delay_ms(1);
    007B4 E001      LDI	R16,1
    007B5 E010      LDI	R17,0
    007B6 940E 04E4 CALL	_delay_ms
(0255) 	result=PINA&(~(1<<PINA7));
    007B8 B349      IN	R20,0x19
    007B9 2755      CLR	R21
    007BA 774F      ANDI	R20,0x7F
(0256) 	DDRA=0xFF;
    007BB EF8F      LDI	R24,0xFF
    007BC BB8A      OUT	0x1A,R24
(0257) 	ep1_l;
    007BD 9180 0065 LDS	R24,0x65
    007BF 7F87      ANDI	R24,0xF7
    007C0 9380 0065 STS	0x65,R24
(0258) 	return result;
    007C2 2F04      MOV	R16,R20
    007C3 9159      LD	R21,Y+
    007C4 9149      LD	R20,Y+
    007C5 9508      RET
_read_ac_2:
  result               --> R20
    007C6 934A      ST	-Y,R20
    007C7 935A      ST	-Y,R21
(0259) }
(0260) uchar read_ac_2(void){
(0261) 	uint result;
(0262) 	DDRA=0x00;
    007C8 2422      CLR	R2
    007C9 BA2A      OUT	0x1A,R2
(0263) 	rs_l;
    007CA 9180 0065 LDS	R24,0x65
    007CC 7F8D      ANDI	R24,0xFD
    007CD 9380 0065 STS	0x65,R24
(0264) 	rw_h;
    007CF 9180 0065 LDS	R24,0x65
    007D1 6081      ORI	R24,1
    007D2 9380 0065 STS	0x65,R24
(0265) 	ep2_h;
    007D4 9180 0062 LDS	R24,0x62
    007D6 6081      ORI	R24,1
    007D7 9380 0062 STS	0x62,R24
(0266) 	delay_ms(1);
    007D9 E001      LDI	R16,1
    007DA E010      LDI	R17,0
    007DB 940E 04E4 CALL	_delay_ms
(0267) 	result=PINA&(~(1<<PINA7));
    007DD B349      IN	R20,0x19
    007DE 2755      CLR	R21
    007DF 774F      ANDI	R20,0x7F
(0268) 	DDRA=0xFF;
    007E0 EF8F      LDI	R24,0xFF
    007E1 BB8A      OUT	0x1A,R24
(0269) 	ep2_l;
    007E2 9180 0062 LDS	R24,0x62
    007E4 7F8E      ANDI	R24,0xFE
    007E5 9380 0062 STS	0x62,R24
(0270) 	return result;
    007E7 2F04      MOV	R16,R20
    007E8 9159      LD	R21,Y+
    007E9 9149      LD	R20,Y+
    007EA 9508      RET
(0271) }
(0272) //***********************************
(0273) //清除屏幕内容
(0274) //**********************************
(0275) void lcd_clear(void){
(0276)    lcd_clear_1();
_lcd_clear:
    007EB DE76      RCALL	_lcd_clear_1
(0277)     lcd_clear_2();
    007EC CEED      RJMP	_lcd_clear_2
_date_cmd_1:
  result               --> R10
    007ED 92AA      ST	-Y,R10
    007EE 92BA      ST	-Y,R11
(0278) }
(0279) /*
(0280)  读数据程序。命令后，读入。使用read_data函数会是设定的值，再吃调用本函数会使ac
(0281)  移动一次，8读取位的数据
(0282) */
(0283) uchar date_cmd_1(void){
(0284) 	uint result;
(0285) 	DDRA=0x00;
    007EF 2422      CLR	R2
    007F0 BA2A      OUT	0x1A,R2
(0286) 	rs_h;
    007F1 9180 0065 LDS	R24,0x65
    007F3 6082      ORI	R24,2
    007F4 9380 0065 STS	0x65,R24
(0287) 	rw_h;
    007F6 9180 0065 LDS	R24,0x65
    007F8 6081      ORI	R24,1
    007F9 9380 0065 STS	0x65,R24
(0288) 	ep1_h;
    007FB 9180 0065 LDS	R24,0x65
    007FD 6088      ORI	R24,0x8
    007FE 9380 0065 STS	0x65,R24
(0289) 	delay_ms(1);
    00800 E001      LDI	R16,1
    00801 E010      LDI	R17,0
    00802 940E 04E4 CALL	_delay_ms
(0290) 	result=PINA;
    00804 B2A9      IN	R10,0x19
    00805 24BB      CLR	R11
(0291) 	DDRA=0xFF;
    00806 EF8F      LDI	R24,0xFF
    00807 BB8A      OUT	0x1A,R24
(0292) 	ep1_l;
    00808 9180 0065 LDS	R24,0x65
    0080A 7F87      ANDI	R24,0xF7
    0080B 9380 0065 STS	0x65,R24
(0293) 	return result;
    0080D 2D0A      MOV	R16,R10
    0080E 90B9      LD	R11,Y+
    0080F 90A9      LD	R10,Y+
    00810 9508      RET
_date_cmd_2:
  result               --> R10
    00811 92AA      ST	-Y,R10
    00812 92BA      ST	-Y,R11
(0294) }
(0295) uchar date_cmd_2(void){
(0296) 	uint result;
(0297) 	DDRA=0x00;
    00813 2422      CLR	R2
    00814 BA2A      OUT	0x1A,R2
(0298) 	rs_h;
    00815 9180 0065 LDS	R24,0x65
    00817 6082      ORI	R24,2
    00818 9380 0065 STS	0x65,R24
(0299) 	rw_h;
    0081A 9180 0065 LDS	R24,0x65
    0081C 6081      ORI	R24,1
    0081D 9380 0065 STS	0x65,R24
(0300) 	ep2_h;
    0081F 9180 0062 LDS	R24,0x62
    00821 6081      ORI	R24,1
    00822 9380 0062 STS	0x62,R24
(0301) 	delay_ms(1);
    00824 E001      LDI	R16,1
    00825 E010      LDI	R17,0
    00826 940E 04E4 CALL	_delay_ms
(0302) 	result=PINA;
    00828 B2A9      IN	R10,0x19
    00829 24BB      CLR	R11
(0303) 	DDRA=0xFF;
    0082A EF8F      LDI	R24,0xFF
    0082B BB8A      OUT	0x1A,R24
(0304) 	ep2_l;
    0082C 9180 0062 LDS	R24,0x62
    0082E 7F8E      ANDI	R24,0xFE
    0082F 9380 0062 STS	0x62,R24
(0305) 	return result;
    00831 2D0A      MOV	R16,R10
    00832 90B9      LD	R11,Y+
    00833 90A9      LD	R10,Y+
    00834 9508      RET
_read_data_xy:
  y                    --> R22
  x                    --> R20
    00835 940E 3A2D CALL	push_xgsetF00C
    00837 2F62      MOV	R22,R18
    00838 2F40      MOV	R20,R16
(0306) }
(0307) //**************************
(0308) //读取函数，注意会ac位置
(0309) //**************************
(0310) uchar read_data_xy(unsigned char x,unsigned char y){
(0311) 	if (y == 0) {
    00839 2366      TST	R22
    0083A F449      BNE	0x0844
(0312)     	lcd_wcmd_1(0x80 + x);
    0083B 2F04      MOV	R16,R20
    0083C 5800      SUBI	R16,0x80
    0083D DDD8      RCALL	_lcd_wcmd_1
(0313) 		delay_us(10);
    0083E E00A      LDI	R16,0xA
    0083F E010      LDI	R17,0
    00840 940E 04DA CALL	_delay_us
(0314) 		return date_cmd_1();
    00842 DFAA      RCALL	_date_cmd_1
    00843 C024      RJMP	0x0868
(0315) 		
(0316)     }else  if(y==1){
    00844 3061      CPI	R22,1
    00845 F449      BNE	0x084F
(0317)     	lcd_wcmd_1(0x90 + x);
    00846 2F04      MOV	R16,R20
    00847 5700      SUBI	R16,0x70
    00848 DDCD      RCALL	_lcd_wcmd_1
(0318) 		delay_us(10);
    00849 E00A      LDI	R16,0xA
    0084A E010      LDI	R17,0
    0084B 940E 04DA CALL	_delay_us
(0319) 		return date_cmd_1();
    0084D DF9F      RCALL	_date_cmd_1
    0084E C019      RJMP	0x0868
(0320)     }else  if(y==2){
    0084F 3062      CPI	R22,2
    00850 F451      BNE	0x085B
(0321)     	lcd_wcmd_2(0x80 + x);
    00851 2F04      MOV	R16,R20
    00852 5800      SUBI	R16,0x80
    00853 DE3A      RCALL	_lcd_wcmd_2
(0322) 		delay_us(10);
    00854 E00A      LDI	R16,0xA
    00855 E010      LDI	R17,0
    00856 940E 04DA CALL	_delay_us
(0323) 		return date_cmd_2();
    00858 DFB8      RCALL	_date_cmd_2
    00859 2EA0      MOV	R10,R16
    0085A C00D      RJMP	0x0868
(0324)     }else  if(y==3){
    0085B 3063      CPI	R22,3
    0085C F451      BNE	0x0867
(0325)     	lcd_wcmd_2(0x90 + x);
    0085D 2F04      MOV	R16,R20
    0085E 5700      SUBI	R16,0x70
    0085F DE2E      RCALL	_lcd_wcmd_2
(0326) 		delay_us(10);
    00860 E00A      LDI	R16,0xA
    00861 E010      LDI	R17,0
    00862 940E 04DA CALL	_delay_us
(0327) 		return date_cmd_2();
    00864 DFAC      RCALL	_date_cmd_2
    00865 2EA0      MOV	R10,R16
    00866 C001      RJMP	0x0868
(0328)     }
(0329) 	
(0330) 	return 0x00;
    00867 2700      CLR	R16
    00868 940C 3A34 JMP	pop_xgsetF00C
_read_data_1:
  addr                 --> R10
    0086A 92AA      ST	-Y,R10
    0086B 2EA0      MOV	R10,R16
(0331) }
(0332) uchar read_data_1(unsigned char addr){
(0333) 	
(0334)     	lcd_wcmd_1(addr);
    0086C 2D0A      MOV	R16,R10
    0086D DDA8      RCALL	_lcd_wcmd_1
(0335)     	return date_cmd_1();
    0086E DF7E      RCALL	_date_cmd_1
    0086F 90A9      LD	R10,Y+
    00870 9508      RET
_read_data_2:
  addr                 --> R10
    00871 92AA      ST	-Y,R10
    00872 2EA0      MOV	R10,R16
(0336) }
(0337) uchar read_data_2(unsigned char addr){
(0338)     	lcd_wcmd_1(addr);
    00873 2D0A      MOV	R16,R10
    00874 DDA1      RCALL	_lcd_wcmd_1
(0339) 		return date_cmd_2();
    00875 DF9B      RCALL	_date_cmd_2
    00876 90A9      LD	R10,Y+
    00877 9508      RET
(0340) }
(0341) 
(0342) 
(0343) /*初始化功能*/
(0344) void lcd_init(void){
(0345) 	 //初始化端口功能
(0346) 	 DDRA |=0xFF;
_lcd_init:
    00878 B38A      IN	R24,0x1A
    00879 6F8F      ORI	R24,0xFF
    0087A BB8A      OUT	0x1A,R24
(0347) 	 PORTA=0xFF;
    0087B EF8F      LDI	R24,0xFF
    0087C BB8B      OUT	0x1B,R24
(0348) 	 DDRG |=0x0F;
    0087D 9180 0064 LDS	R24,0x64
    0087F 608F      ORI	R24,0xF
    00880 9380 0064 STS	0x64,R24
(0349) 	 PORTG|=0x0F;
    00882 9180 0065 LDS	R24,0x65
    00884 608F      ORI	R24,0xF
    00885 9380 0065 STS	0x65,R24
(0350) 	 DDRF|=0x01;
    00887 9180 0061 LDS	R24,0x61
    00889 6081      ORI	R24,1
    0088A 9380 0061 STS	0x61,R24
(0351) 	 PORTF|=0x01;
    0088C 9180 0062 LDS	R24,0x62
    0088E 6081      ORI	R24,1
    0088F 9380 0062 STS	0x62,R24
(0352) 	 //lcd_wcmd(0x38);//初始化功能,8位，基本指令
(0353) 	 lcd_wcmd_1(0x30);//初始化功能,8位，基本指令
    00891 E300      LDI	R16,0x30
    00892 DD83      RCALL	_lcd_wcmd_1
(0354) 	  lcd_wcmd_1(0x08);//关显示
    00893 E008      LDI	R16,0x8
    00894 DD81      RCALL	_lcd_wcmd_1
(0355) 	  lcd_wcmd_1(0x01);//清显示
    00895 E001      LDI	R16,1
    00896 DD7F      RCALL	_lcd_wcmd_1
(0356) 	  lcd_wcmd_1(0x06);//输入模式，右移
    00897 E006      LDI	R16,6
    00898 DD7D      RCALL	_lcd_wcmd_1
(0357) 	  lcd_wcmd_1(0x0c);//初始化光标,开显示
    00899 E00C      LDI	R16,0xC
    0089A DD7B      RCALL	_lcd_wcmd_1
(0358) 	
(0359) 	  lcd_wcmd_2(0x30);//初始化功能,8位，基本指令
    0089B E300      LDI	R16,0x30
    0089C DDF1      RCALL	_lcd_wcmd_2
(0360) 	 lcd_wcmd_2(0x08);//关显示
    0089D E008      LDI	R16,0x8
    0089E DDEF      RCALL	_lcd_wcmd_2
(0361) 	 lcd_wcmd_2(0x01);//清显示
    0089F E001      LDI	R16,1
    008A0 DDED      RCALL	_lcd_wcmd_2
(0362) 	 lcd_wcmd_2(0x06);//输入模式，右移
    008A1 E006      LDI	R16,6
    008A2 DDEB      RCALL	_lcd_wcmd_2
(0363) 	 lcd_wcmd_2(0x0c);//初始化光标,开显示
    008A3 E00C      LDI	R16,0xC
    008A4 CDE9      RJMP	_lcd_wcmd_2
_cur_set:
  type                 --> R20
    008A5 934A      ST	-Y,R20
    008A6 935A      ST	-Y,R21
    008A7 01A8      MOVW	R20,R16
(0364) }
(0365) //************
(0366) // 光标显示操作,默认初始化都是关闭。上半屏 0:关闭,1：开游标,2：游标反白,3：开游标、反白
(0367) // 下半屏  4:关闭,5：开游标,6：游标反白,7：开游标、反白
(0368) //************
(0369) void cur_set(uint type){
(0370) 	 if(type==0){
    008A8 3040      CPI	R20,0
    008A9 0745      CPC	R20,R21
    008AA F419      BNE	0x08AE
(0371) 	 	lcd_wcmd_1(0x0c);	 
    008AB E00C      LDI	R16,0xC
    008AC DD69      RCALL	_lcd_wcmd_1
(0372) 	 }else if(type==1){
    008AD C030      RJMP	0x08DE
    008AE 3041      CPI	R20,1
    008AF E0E0      LDI	R30,0
    008B0 075E      CPC	R21,R30
    008B1 F419      BNE	0x08B5
(0373) 	     lcd_wcmd_1(0x0e);
    008B2 E00E      LDI	R16,0xE
    008B3 DD62      RCALL	_lcd_wcmd_1
(0374) 	 }else if(type==2){
    008B4 C029      RJMP	0x08DE
    008B5 3042      CPI	R20,2
    008B6 E0E0      LDI	R30,0
    008B7 075E      CPC	R21,R30
    008B8 F419      BNE	0x08BC
(0375) 	    lcd_wcmd_1(0x0d);
    008B9 E00D      LDI	R16,0xD
    008BA DD5B      RCALL	_lcd_wcmd_1
(0376) 	 }else if(type==3){
    008BB C022      RJMP	0x08DE
    008BC 3043      CPI	R20,3
    008BD E0E0      LDI	R30,0
    008BE 075E      CPC	R21,R30
    008BF F419      BNE	0x08C3
(0377) 	    lcd_wcmd_1(0x0f);
    008C0 E00F      LDI	R16,0xF
    008C1 DD54      RCALL	_lcd_wcmd_1
(0378) 	 }else if(type==4){
    008C2 C01B      RJMP	0x08DE
    008C3 3044      CPI	R20,4
    008C4 E0E0      LDI	R30,0
    008C5 075E      CPC	R21,R30
    008C6 F419      BNE	0x08CA
(0379) 	    lcd_wcmd_2(0x0c);
    008C7 E00C      LDI	R16,0xC
    008C8 DDC5      RCALL	_lcd_wcmd_2
(0380) 	 }else if(type==5){
    008C9 C014      RJMP	0x08DE
    008CA 3045      CPI	R20,5
    008CB E0E0      LDI	R30,0
    008CC 075E      CPC	R21,R30
    008CD F419      BNE	0x08D1
(0381) 	    lcd_wcmd_2(0x0e);
    008CE E00E      LDI	R16,0xE
    008CF DDBE      RCALL	_lcd_wcmd_2
(0382) 	 }else if(type==6){
    008D0 C00D      RJMP	0x08DE
    008D1 3046      CPI	R20,6
    008D2 E0E0      LDI	R30,0
    008D3 075E      CPC	R21,R30
    008D4 F419      BNE	0x08D8
(0383) 	    lcd_wcmd_2(0x0d);
    008D5 E00D      LDI	R16,0xD
    008D6 DDB7      RCALL	_lcd_wcmd_2
(0384) 	 }else if(type==7){
    008D7 C006      RJMP	0x08DE
    008D8 3047      CPI	R20,7
    008D9 E0E0      LDI	R30,0
    008DA 075E      CPC	R21,R30
    008DB F411      BNE	0x08DE
(0385) 	    lcd_wcmd_2(0x0f);
    008DC E00F      LDI	R16,0xF
    008DD DDB0      RCALL	_lcd_wcmd_2
(0386) 	 }
    008DE 9159      LD	R21,Y+
    008DF 9149      LD	R20,Y+
    008E0 9508      RET
(0387) }
(0388) //***************************************************
(0389) //   反白相关
(0390) //***************************************************
(0391) /********************************************************************  
(0392)     函 数 名：Set_Draw(  
(0393)     入口参数：无  
(0394)     出口参数：无  
(0395)     修改日期：  
(0396)     函数作用：  
(0397)     说    明：  
(0398)     ********************************************************************/   
(0399)     void Set_Draw(void)   
(0400)     {   
(0401)         //W_1byte(0,0,0x01);            //清屏    
(0402)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0403)         lcd_wcmd_1(0x36); 
_Set_Draw:
    008E1 E306      LDI	R16,0x36
    008E2 DD33      RCALL	_lcd_wcmd_1
(0404) 		lcd_wcmd_2(0x36);   
    008E3 E306      LDI	R16,0x36
    008E4 CDA9      RJMP	_lcd_wcmd_2
(0405)     }
(0406) 	void Set_UNDraw(void)   
(0407)     {   
(0408)         //W_1byte(0,0,0x01);            //清屏   
(0409)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0410)         lcd_wcmd_1(0x30); 
_Set_UNDraw:
    008E5 E300      LDI	R16,0x30
    008E6 DD2F      RCALL	_lcd_wcmd_1
(0411) 		lcd_wcmd_2(0x30);   
    008E7 E300      LDI	R16,0x30
    008E8 CDA5      RJMP	_lcd_wcmd_2
_Set_White_off:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    008E9 940E 398D CALL	push_arg4
    008EB 940E 3A0E CALL	push_xgsetF0FC
    008ED 2F62      MOV	R22,R18
    008EE 9721      SBIW	R28,1
    008EF 84AF      LDD	R10,Y+15
(0412)     }
(0413) /**************************************************  
(0414)     uchar x,起始位置
(0415) 	uchar y,对应y
(0416) 	uchar end_x, 反白结束位置
(0417) 	uchar clear 0：反白，1：不反白
(0418)  **************************************************/   
(0419)     void Set_White_off(uchar x,uchar y,uchar end_x)   
(0420)     {   
(0421)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0422)         white_end_x = (end_x-x+1);   
    008F0 2D8A      MOV	R24,R10
    008F1 840B      LDD	R0,Y+11
    008F2 1980      SUB	R24,R0
    008F3 5F8F      SUBI	R24,0xFF
    008F4 2EC8      MOV	R12,R24
(0423)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    008F5 0CCC      LSL	R12
(0424) 		Set_Draw(); //开画图
    008F6 DFEA      RCALL	_Set_Draw
(0425)         if(y==0)   
    008F7 2366      TST	R22
    008F8 F449      BNE	0x0902
(0426)         {   
(0427)             white_x = (0x80+x-1);   
    008F9 858B      LDD	R24,Y+11
    008FA 5880      SUBI	R24,0x80
    008FB 5081      SUBI	R24,1
    008FC 8388      ST	Y,R24
(0428)             white_y = 0x80;   
    008FD E840      LDI	R20,0x80
(0429)             clr_x = 0x80;   
    008FE E880      LDI	R24,0x80
    008FF 2EA8      MOV	R10,R24
(0430)             clr_y = 0x80;   
    00900 2EE8      MOV	R14,R24
(0431)         }   
    00901 C022      RJMP	0x0924
(0432)         else if(y==1)   
    00902 3061      CPI	R22,1
    00903 F451      BNE	0x090E
(0433)         {   
(0434)             white_x = (0x80+x-1);   
    00904 858B      LDD	R24,Y+11
    00905 5880      SUBI	R24,0x80
    00906 5081      SUBI	R24,1
    00907 8388      ST	Y,R24
(0435)             white_y = 0x90;   
    00908 E940      LDI	R20,0x90
(0436)             clr_x = 0x80;   
    00909 E880      LDI	R24,0x80
    0090A 2EA8      MOV	R10,R24
(0437)             clr_y = 0x90;   
    0090B E980      LDI	R24,0x90
    0090C 2EE8      MOV	R14,R24
(0438)         }   
    0090D C016      RJMP	0x0924
(0439)         else if(y==2)   
    0090E 3062      CPI	R22,2
    0090F F449      BNE	0x0919
(0440)         {   
(0441)             white_x = (0x80+x-1);   
    00910 858B      LDD	R24,Y+11
    00911 5880      SUBI	R24,0x80
    00912 5081      SUBI	R24,1
    00913 8388      ST	Y,R24
(0442)             white_y = 0x80;   
    00914 E840      LDI	R20,0x80
(0443)             clr_x = 0x80;   
    00915 E880      LDI	R24,0x80
    00916 2EA8      MOV	R10,R24
(0444)             clr_y = 0x80;   
    00917 2EE8      MOV	R14,R24
(0445)         }   
    00918 C00B      RJMP	0x0924
(0446)         else if(y==3)   
    00919 3063      CPI	R22,3
    0091A F449      BNE	0x0924
(0447)         {   
(0448)             white_x = (0x80+x-1);   
    0091B 858B      LDD	R24,Y+11
    0091C 5880      SUBI	R24,0x80
    0091D 5081      SUBI	R24,1
    0091E 8388      ST	Y,R24
(0449)             white_y = 0x90;   
    0091F E940      LDI	R20,0x90
(0450)             clr_x = 0x80;   
    00920 E880      LDI	R24,0x80
    00921 2EA8      MOV	R10,R24
(0451)             clr_y = 0x90;   
    00922 E980      LDI	R24,0x90
    00923 2EE8      MOV	R14,R24
(0452)         }   
(0453) 		if(y==0 || y==1){    
    00924 2366      TST	R22
    00925 F011      BEQ	0x0928
    00926 3061      CPI	R22,1
    00927 F4A1      BNE	0x093C
(0454)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00928 24AA      CLR	R10
    00929 C00E      RJMP	0x0938
(0455)           {   
(0456)              lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    0092A 2E24      MOV	R2,R20
    0092B 5F4F      SUBI	R20,0xFF
    0092C 2D02      MOV	R16,R2
    0092D DCE8      RCALL	_lcd_wcmd_1
(0457)              lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    0092E 8108      LD	R16,Y
    0092F DCE6      RCALL	_lcd_wcmd_1
(0458)              for(j=0;j<white_end_x;j++)   //   
    00930 24EE      CLR	R14
    00931 C003      RJMP	0x0935
(0459)              {     
(0460)                lcd_wdat_1(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    00932 2700      CLR	R16
    00933 DD08      RCALL	_lcd_wdat_1
    00934 94E3      INC	R14
    00935 14EC      CP	R14,R12
    00936 F3D8      BCS	0x0932
    00937 94A3      INC	R10
    00938 2D8A      MOV	R24,R10
    00939 3180      CPI	R24,0x10
    0093A F378      BCS	0x092A
(0461)              }   
(0462)           }
(0463) 		}else if(y==2 || y==3){
    0093B C017      RJMP	0x0953
    0093C 3062      CPI	R22,2
    0093D F011      BEQ	0x0940
    0093E 3063      CPI	R22,3
    0093F F499      BNE	0x0953
(0464) 		    for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00940 24AA      CLR	R10
    00941 C00E      RJMP	0x0950
(0465)           {   
(0466)              lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    00942 2E24      MOV	R2,R20
    00943 5F4F      SUBI	R20,0xFF
    00944 2D02      MOV	R16,R2
    00945 DD48      RCALL	_lcd_wcmd_2
(0467)              lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    00946 8108      LD	R16,Y
    00947 DD46      RCALL	_lcd_wcmd_2
(0468)              for(j=0;j<white_end_x;j++)   //   
    00948 24EE      CLR	R14
    00949 C003      RJMP	0x094D
(0469)              {     
(0470)                lcd_wdat_2(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    0094A 2700      CLR	R16
    0094B DD68      RCALL	_lcd_wdat_2
    0094C 94E3      INC	R14
    0094D 14EC      CP	R14,R12
    0094E F3D8      BCS	0x094A
    0094F 94A3      INC	R10
    00950 2D8A      MOV	R24,R10
    00951 3180      CPI	R24,0x10
    00952 F378      BCS	0x0942
(0471)              }   
(0472)           }
(0473) 		}
(0474) 		  Set_UNDraw();//关画图  
    00953 DF91      RCALL	_Set_UNDraw
    00954 9621      ADIW	R28,1
    00955 940E 3A03 CALL	pop_xgsetF0FC
    00957 9624      ADIW	R28,4
    00958 9508      RET
_Set_White:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    00959 940E 398D CALL	push_arg4
    0095B 940E 3A0E CALL	push_xgsetF0FC
    0095D 2F62      MOV	R22,R18
    0095E 9721      SBIW	R28,1
    0095F 84AF      LDD	R10,Y+15
(0475)     } 
(0476) 	void Set_White(uchar x,uchar y,uchar end_x)   
(0477)     {   
(0478)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0479)         white_end_x = (end_x-x+1);   
    00960 2D8A      MOV	R24,R10
    00961 840B      LDD	R0,Y+11
    00962 1980      SUB	R24,R0
    00963 5F8F      SUBI	R24,0xFF
    00964 2EC8      MOV	R12,R24
(0480)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    00965 0CCC      LSL	R12
(0481) 		Set_Draw(); //开画图
    00966 DF7A      RCALL	_Set_Draw
(0482)         if(y==0)   
    00967 2366      TST	R22
    00968 F449      BNE	0x0972
(0483)         {   
(0484)             white_x = (0x80+x-1);   
    00969 858B      LDD	R24,Y+11
    0096A 5880      SUBI	R24,0x80
    0096B 5081      SUBI	R24,1
    0096C 8388      ST	Y,R24
(0485)             white_y = 0x80;   
    0096D E840      LDI	R20,0x80
(0486)             clr_x = 0x80;   
    0096E E880      LDI	R24,0x80
    0096F 2EA8      MOV	R10,R24
(0487)             clr_y = 0x80;   
    00970 2EE8      MOV	R14,R24
(0488)         }   
    00971 C022      RJMP	0x0994
(0489)         else if(y==1)   
    00972 3061      CPI	R22,1
    00973 F451      BNE	0x097E
(0490)         {   
(0491)             white_x = (0x80+x-1);   
    00974 858B      LDD	R24,Y+11
    00975 5880      SUBI	R24,0x80
    00976 5081      SUBI	R24,1
    00977 8388      ST	Y,R24
(0492)             white_y = 0x90;   
    00978 E940      LDI	R20,0x90
(0493)             clr_x = 0x80;   
    00979 E880      LDI	R24,0x80
    0097A 2EA8      MOV	R10,R24
(0494)             clr_y = 0x90;   
    0097B E980      LDI	R24,0x90
    0097C 2EE8      MOV	R14,R24
(0495)         }   
    0097D C016      RJMP	0x0994
(0496)         else if(y==2)   
    0097E 3062      CPI	R22,2
    0097F F449      BNE	0x0989
(0497)         {   
(0498)             white_x = (0x80+x-1);   
    00980 858B      LDD	R24,Y+11
    00981 5880      SUBI	R24,0x80
    00982 5081      SUBI	R24,1
    00983 8388      ST	Y,R24
(0499)             white_y = 0x80;   
    00984 E840      LDI	R20,0x80
(0500)             clr_x = 0x80;   
    00985 E880      LDI	R24,0x80
    00986 2EA8      MOV	R10,R24
(0501)             clr_y = 0x80;   
    00987 2EE8      MOV	R14,R24
(0502)         }   
    00988 C00B      RJMP	0x0994
(0503)         else if(y==3)   
    00989 3063      CPI	R22,3
    0098A F449      BNE	0x0994
(0504)         {   
(0505)             white_x = (0x80+x-1);   
    0098B 858B      LDD	R24,Y+11
    0098C 5880      SUBI	R24,0x80
    0098D 5081      SUBI	R24,1
    0098E 8388      ST	Y,R24
(0506)             white_y = 0x90;   
    0098F E940      LDI	R20,0x90
(0507)             clr_x = 0x80;   
    00990 E880      LDI	R24,0x80
    00991 2EA8      MOV	R10,R24
(0508)             clr_y = 0x90;   
    00992 E980      LDI	R24,0x90
    00993 2EE8      MOV	R14,R24
(0509)         } 
(0510) 		if(y==0 || y==1){          
    00994 2366      TST	R22
    00995 F011      BEQ	0x0998
    00996 3061      CPI	R22,1
    00997 F4A1      BNE	0x09AC
(0511)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00998 24AA      CLR	R10
    00999 C00E      RJMP	0x09A8
(0512)           {   
(0513)               lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    0099A 2E24      MOV	R2,R20
    0099B 5F4F      SUBI	R20,0xFF
    0099C 2D02      MOV	R16,R2
    0099D DC78      RCALL	_lcd_wcmd_1
(0514)               lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    0099E 8108      LD	R16,Y
    0099F DC76      RCALL	_lcd_wcmd_1
(0515)               for(j=0;j<white_end_x;j++)   //   
    009A0 24EE      CLR	R14
    009A1 C003      RJMP	0x09A5
(0516)               {    
(0517)                     lcd_wdat_1(0xff); //反白这一行的8个点，液晶地址自动加1     
    009A2 EF0F      LDI	R16,0xFF
    009A3 DC98      RCALL	_lcd_wdat_1
    009A4 94E3      INC	R14
    009A5 14EC      CP	R14,R12
    009A6 F3D8      BCS	0x09A2
    009A7 94A3      INC	R10
    009A8 2D8A      MOV	R24,R10
    009A9 3180      CPI	R24,0x10
    009AA F378      BCS	0x099A
(0518)               }   
(0519)           }
(0520) 		}else if(y==2 || y==3){
    009AB C017      RJMP	0x09C3
    009AC 3062      CPI	R22,2
    009AD F011      BEQ	0x09B0
    009AE 3063      CPI	R22,3
    009AF F499      BNE	0x09C3
(0521) 		   for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    009B0 24AA      CLR	R10
    009B1 C00E      RJMP	0x09C0
(0522)             {   
(0523)               lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    009B2 2E24      MOV	R2,R20
    009B3 5F4F      SUBI	R20,0xFF
    009B4 2D02      MOV	R16,R2
    009B5 DCD8      RCALL	_lcd_wcmd_2
(0524)               lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    009B6 8108      LD	R16,Y
    009B7 DCD6      RCALL	_lcd_wcmd_2
(0525)               for(j=0;j<white_end_x;j++)   //   
    009B8 24EE      CLR	R14
    009B9 C003      RJMP	0x09BD
(0526)               {    
(0527)                     lcd_wdat_2(0xff); //反白这一行的8个点，液晶地址自动加1     
    009BA EF0F      LDI	R16,0xFF
    009BB DCF8      RCALL	_lcd_wdat_2
    009BC 94E3      INC	R14
    009BD 14EC      CP	R14,R12
    009BE F3D8      BCS	0x09BA
    009BF 94A3      INC	R10
    009C0 2D8A      MOV	R24,R10
    009C1 3180      CPI	R24,0x10
    009C2 F378      BCS	0x09B2
(0528)               }   
(0529)             }
(0530) 		}
(0531) 		  Set_UNDraw();//关画图  
    009C3 DF21      RCALL	_Set_UNDraw
    009C4 9621      ADIW	R28,1
    009C5 940E 3A03 CALL	pop_xgsetF0FC
    009C7 9624      ADIW	R28,4
    009C8 9508      RET
_Draw_Pic:
  temp_y               --> R20
  temp_x               --> R22
  i                    --> R10
  j                    --> R14
  Draw                 --> Y,+12
  y                    --> Y,+10
  x                    --> R12
    009C9 933A      ST	-Y,R19
    009CA 932A      ST	-Y,R18
    009CB 940E 3A0E CALL	push_xgsetF0FC
    009CD 2EC0      MOV	R12,R16
(0532)     } 
(0533) 	/********************************************************************  
(0534)     函 数 名：Draw_Pic  128*64  
(0535)     入口参数：x,y,*Draw  
(0536)     出口参数：无  
(0537)     建立日期：2007年8月26日  
(0538)     修改日期：  
(0539)     函数作用：  
(0540)     说    明：  
(0541)     ********************************************************************/   
(0542)     /*************************************************/   
(0543)        
(0544)     void Draw_Pic(uchar x, uchar y, const uchar *Draw)   
(0545)     {   
(0546)         uchar i, j, temp_x, temp_y;     //   
(0547) 		lcd_wcmd_1(0x34);
    009CE E304      LDI	R16,0x34
    009CF DC46      RCALL	_lcd_wcmd_1
(0548) 		lcd_wcmd_2(0x34);
    009D0 E304      LDI	R16,0x34
    009D1 DCBC      RCALL	_lcd_wcmd_2
(0549)         temp_x = x;                     //   
    009D2 2D6C      MOV	R22,R12
(0550)         temp_y = y;                     //   
    009D3 854A      LDD	R20,Y+10
(0551)         temp_x |= 0x80;                 //   
    009D4 6860      ORI	R22,0x80
(0552)         temp_y |= 0x80;                 //   
    009D5 6840      ORI	R20,0x80
(0553)         for(i=0;i<32;i++ )               //上半屏32行   
    009D6 24AA      CLR	R10
    009D7 C013      RJMP	0x09EB
(0554)         {   
(0555)             lcd_wcmd_1(temp_y++);      //设置绘图区的Y地址坐标0   
    009D8 2E24      MOV	R2,R20
    009D9 5F4F      SUBI	R20,0xFF
    009DA 2D02      MOV	R16,R2
    009DB DC3A      RCALL	_lcd_wcmd_1
(0556)             lcd_wcmd_1(temp_x);        //设置绘图区的X地址坐标0   
    009DC 2F06      MOV	R16,R22
    009DD DC38      RCALL	_lcd_wcmd_1
(0557)             for(j=0;j<24;j++)            //   
    009DE 24EE      CLR	R14
    009DF C007      RJMP	0x09E7
(0558)             {   
(0559)                  lcd_wdat_1(*Draw++);  //   
    009E0 85EC      LDD	R30,Y+12
    009E1 85FD      LDD	R31,Y+13
    009E2 9101      LD	R16,Z+
    009E3 87FD      STD	Y+13,R31
    009E4 87EC      STD	Y+12,R30
    009E5 DC56      RCALL	_lcd_wdat_1
    009E6 94E3      INC	R14
    009E7 2D8E      MOV	R24,R14
    009E8 3188      CPI	R24,0x18
    009E9 F3B0      BCS	0x09E0
    009EA 94A3      INC	R10
    009EB 2D8A      MOV	R24,R10
    009EC 3280      CPI	R24,0x20
    009ED F350      BCS	0x09D8
(0560)             }   
(0561)         }   
(0562)            
(0563)         temp_x = x;                     //   
    009EE 2D6C      MOV	R22,R12
(0564)         temp_y = y;                     //   
    009EF 854A      LDD	R20,Y+10
(0565)         temp_x |= 0x80;                 //   
    009F0 6860      ORI	R22,0x80
(0566)         temp_y |= 0x80;                   //   
    009F1 6840      ORI	R20,0x80
(0567)         j = 0;                          //   
    009F2 24EE      CLR	R14
(0568)         for(;i<64;i++ )   
    009F3 C013      RJMP	0x0A07
(0569)         {   
(0570)             lcd_wcmd_2(temp_y++);      //设置绘图区的Y地址坐标   
    009F4 2E24      MOV	R2,R20
    009F5 5F4F      SUBI	R20,0xFF
    009F6 2D02      MOV	R16,R2
    009F7 DC96      RCALL	_lcd_wcmd_2
(0571)             lcd_wcmd_2(temp_x);        //设置绘图区的X地址坐标   
    009F8 2F06      MOV	R16,R22
    009F9 DC94      RCALL	_lcd_wcmd_2
(0572)             for(j=0;j<24;j++)   
    009FA 24EE      CLR	R14
    009FB C007      RJMP	0x0A03
(0573)             {   
(0574)                  lcd_wdat_2(*Draw++);  //   
    009FC 85EC      LDD	R30,Y+12
    009FD 85FD      LDD	R31,Y+13
    009FE 9101      LD	R16,Z+
    009FF 87FD      STD	Y+13,R31
    00A00 87EC      STD	Y+12,R30
    00A01 DCB2      RCALL	_lcd_wdat_2
    00A02 94E3      INC	R14
    00A03 2D8E      MOV	R24,R14
    00A04 3188      CPI	R24,0x18
    00A05 F3B0      BCS	0x09FC
    00A06 94A3      INC	R10
    00A07 2D8A      MOV	R24,R10
    00A08 3480      CPI	R24,0x40
    00A09 F350      BCS	0x09F4
(0575)             }   
(0576)         }   
(0577)        lcd_wcmd_1(0x36);
    00A0A E306      LDI	R16,0x36
    00A0B DC0A      RCALL	_lcd_wcmd_1
(0578) 	   lcd_wcmd_2(0x36);
    00A0C E306      LDI	R16,0x36
    00A0D DC80      RCALL	_lcd_wcmd_2
(0579) 	   delay_us(1);
    00A0E E001      LDI	R16,1
    00A0F E010      LDI	R17,0
    00A10 940E 04DA CALL	_delay_us
(0580) 	   lcd_wcmd_1(0x30);
    00A12 E300      LDI	R16,0x30
    00A13 DC02      RCALL	_lcd_wcmd_1
(0581) 	   lcd_wcmd_2(0x30);
    00A14 E300      LDI	R16,0x30
    00A15 DC78      RCALL	_lcd_wcmd_2
    00A16 940E 3A03 CALL	pop_xgsetF0FC
    00A18 9622      ADIW	R28,2
    00A19 9508      RET
_lcd_Desk:
    00A1A 9722      SBIW	R28,2
(0582) 	        
(0583)     }  
(0584)     /*************************************************/  
(0585) //***********************************************************************
(0586) //      液晶显示界面初始化
(0587) //***********************************************************************
(0588) void lcd_Desk(void)
(0589) { 
(0590)   //uint i=0;   
(0591)  // lcd_clear();
(0592)   //lcd_write_str(0,0,"ADC0:");
(0593)   lcd_write_str(0,3,"反白测试第一次");
    00A1B E081      LDI	R24,1
    00A1C E091      LDI	R25,1
    00A1D 8399      STD	Y+1,R25
    00A1E 8388      ST	Y,R24
    00A1F E023      LDI	R18,3
    00A20 2700      CLR	R16
    00A21 DD12      RCALL	_lcd_write_str
(0594)   lcd_write_str(0,0,"反白测试第一次");
    00A22 E081      LDI	R24,1
    00A23 E091      LDI	R25,1
    00A24 8399      STD	Y+1,R25
    00A25 8388      ST	Y,R24
    00A26 2722      CLR	R18
    00A27 2700      CLR	R16
    00A28 DD0B      RCALL	_lcd_write_str
(0595)   //delay_ms(100);
(0596)      
(0597)     Set_White(1,1,7); 
    00A29 E087      LDI	R24,7
    00A2A 8388      ST	Y,R24
    00A2B E021      LDI	R18,1
    00A2C E001      LDI	R16,1
    00A2D DF2B      RCALL	_Set_White
(0598) 	   
(0599) 	 
(0600)     delay_ms(3000); 
    00A2E EB08      LDI	R16,0xB8
    00A2F E01B      LDI	R17,0xB
    00A30 940E 04E4 CALL	_delay_ms
(0601)      Set_White_off(1,1,7);
    00A32 E087      LDI	R24,7
    00A33 8388      ST	Y,R24
    00A34 E021      LDI	R18,1
    00A35 E001      LDI	R16,1
    00A36 DEB2      RCALL	_Set_White_off
(0602) 	Set_White(2,1,2); 
    00A37 E082      LDI	R24,2
    00A38 8388      ST	Y,R24
    00A39 E021      LDI	R18,1
    00A3A E002      LDI	R16,2
    00A3B DF1D      RCALL	_Set_White
(0603) 	 delay_ms(300); 
    00A3C E20C      LDI	R16,0x2C
    00A3D E011      LDI	R17,1
    00A3E 940E 04E4 CALL	_delay_ms
(0604) 	 Set_White_off(2,2,7);
    00A40 E087      LDI	R24,7
    00A41 8388      ST	Y,R24
    00A42 E022      LDI	R18,2
    00A43 E002      LDI	R16,2
    00A44 DEA4      RCALL	_Set_White_off
(0605) 	 Set_White(3,1,5);   
    00A45 E085      LDI	R24,5
    00A46 8388      ST	Y,R24
    00A47 E021      LDI	R18,1
    00A48 E003      LDI	R16,3
    00A49 DF0F      RCALL	_Set_White
    00A4A 9622      ADIW	R28,2
    00A4B 9508      RET
_main:
    00A4C 9721      SBIW	R28,1
FILE: E:\ICCDemo\Temp_Control\temp_control\main.c
(0001) 
(0002) #include<iom128v.h>
(0003) #include "main.h"
(0004) #include "lcd.h"
(0005) #include "time1307.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "timertask.h"
(0009) #include "eeprom.h"
(0010) #include "pages.h"
(0011) #include "temp.h"
(0012) #include "uart.h"
(0013) //串口发送数据需要
(0014) unsigned int send_data_cache[150]={0x30};
(0015) unsigned int send_data_length=0;//数据长度
(0016) unsigned int send_data_cur=0;//当前发送到游标
(0017) //定时器0复用参数。t0_fla0=0，开机等待；t0_fla0=1，温度计时
(0018) unsigned int t0_flag =0;
(0019) //const unsigned char nihao[1536]={};
(0020) //确认恢复的等待标记，初始为1000，如果为0代表到时.在使用其当作温度计数的时候需要值为32
(0021) unsigned int waitflag=1000;
(0022) //下面两个继续使用。暂时保存数据使用
(0023)  unsigned int temp_h=0;
(0024)  unsigned int temp_l=0;
(0025)  //uart需要参数
(0026)  unsigned char send_6buf[600];
(0027)  unsigned char receive_buf[600];
(0028)  unsigned int send_len;
(0029)  unsigned int receive_len;
(0030)  //界面需要参数
(0031)  unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0032)  unsigned int pageParam[5];//传递参数。界面间参数暂存
(0033)  unsigned int prePageNum; //上一界面。应该在跳转前设置这个参数。但是用到这个参数的就Page3、4、8.所以可以直接在该界面用到在设置。不用理会规则
(0034)  //**************
(0035) struct temp temps[4]={{0},{0},{0},{0}};
(0036) 
(0037) 
(0038) //*************************************************************************
(0039) //			主程序
(0040) //*************************************************************************
(0041) void main(void)
(0042) { 
(0043)   send_data_cache[0]=0x30;
    00A4D E380      LDI	R24,0x30
    00A4E E090      LDI	R25,0
    00A4F 9390 0111 STS	send_data_cache+1,R25
    00A51 9380 0110 STS	send_data_cache,R24
(0044)   send_data_cache[1]=0x31;
    00A53 E381      LDI	R24,0x31
    00A54 9390 0113 STS	send_data_cache+3,R25
    00A56 9380 0112 STS	send_data_cache+2,R24
(0045)   send_data_cache[2]=0x32;
    00A58 E382      LDI	R24,0x32
    00A59 9390 0115 STS	send_data_cache+5,R25
    00A5B 9380 0114 STS	send_data_cache+4,R24
(0046)   send_data_cache[3]=0x33;
    00A5D E383      LDI	R24,0x33
    00A5E 9390 0117 STS	send_data_cache+7,R25
    00A60 9380 0116 STS	send_data_cache+6,R24
(0047)   send_data_cache[4]=0x34;
    00A62 E384      LDI	R24,0x34
    00A63 9390 0119 STS	send_data_cache+9,R25
    00A65 9380 0118 STS	send_data_cache+8,R24
(0048)   send_data_cache[5]=0x35;
    00A67 E385      LDI	R24,0x35
    00A68 9390 011B STS	send_data_cache+11,R25
    00A6A 9380 011A STS	send_data_cache+10,R24
(0049)   send_data_cache[6]=0x36;
    00A6C E386      LDI	R24,0x36
    00A6D 9390 011D STS	send_data_cache+13,R25
    00A6F 9380 011C STS	send_data_cache+12,R24
(0050)   send_data_cache[7]=0x37;
    00A71 E387      LDI	R24,0x37
    00A72 9390 011F STS	send_data_cache+15,R25
    00A74 9380 011E STS	send_data_cache+14,R24
(0051)   send_data_cache[8]=0x38;
    00A76 E388      LDI	R24,0x38
    00A77 9390 0121 STS	send_data_cache+17,R25
    00A79 9380 0120 STS	send_data_cache+16,R24
(0052)   send_data_cache[9]=0x39;
    00A7B E389      LDI	R24,0x39
    00A7C 9390 0123 STS	send_data_cache+19,R25
    00A7E 9380 0122 STS	send_data_cache+18,R24
(0053)   DDRE=0xFF;
    00A80 EF8F      LDI	R24,0xFF
    00A81 B982      OUT	0x02,R24
(0054)   PORTE=~0xaa;
    00A82 E585      LDI	R24,0x55
    00A83 B983      OUT	0x03,R24
(0055)   SREG|=0x80;//开中断
    00A84 9478      BSET	7
(0056)   lcd_init();
    00A85 940E 0878 CALL	_lcd_init
(0057)   lcd_clear();
    00A87 940E 07EB CALL	_lcd_clear
(0058)    //画欢迎界面
(0059)   //Draw_Pic( 0, 0, nihao);
(0060)    //delay_ms(1000);
(0061)      pageNum=2;
    00A89 E082      LDI	R24,2
    00A8A E090      LDI	R25,0
    00A8B 9390 0E93 STS	pageNum+1,R25
    00A8D 9380 0E92 STS	pageNum,R24
(0062)      Set_White_off(1,0,12);
    00A8F E08C      LDI	R24,0xC
    00A90 8388      ST	Y,R24
    00A91 2722      CLR	R18
    00A92 E001      LDI	R16,1
    00A93 940E 08E9 CALL	_Set_White_off
(0063) 	 Set_White_off(1,1,12);
    00A95 E08C      LDI	R24,0xC
    00A96 8388      ST	Y,R24
    00A97 E021      LDI	R18,1
    00A98 E001      LDI	R16,1
    00A99 940E 08E9 CALL	_Set_White_off
(0064) 	 Set_White_off(1,2,12);
    00A9B E08C      LDI	R24,0xC
    00A9C 8388      ST	Y,R24
    00A9D E022      LDI	R18,2
    00A9E E001      LDI	R16,1
    00A9F 940E 08E9 CALL	_Set_White_off
(0065) 	 Set_White_off(1,3,12);
    00AA1 E08C      LDI	R24,0xC
    00AA2 8388      ST	Y,R24
    00AA3 E023      LDI	R18,3
    00AA4 E001      LDI	R16,1
    00AA5 940E 08E9 CALL	_Set_White_off
(0066) 	 //测试使用
(0067) 	   temp_l=0x50;
    00AA7 E580      LDI	R24,0x50
    00AA8 E090      LDI	R25,0
    00AA9 9390 0247 STS	temp_l+1,R25
    00AAB 9380 0246 STS	temp_l,R24
(0068)       temp_h=0x12;
    00AAD E182      LDI	R24,0x12
    00AAE 9390 0245 STS	temp_h+1,R25
    00AB0 9380 0244 STS	temp_h,R24
(0069) 	  tempdata_init();//数据初始化，清空
    00AB2 940E 3068 CALL	_tempdata_init
(0070)       Initial_time(); //初始化时间的
    00AB4 940E 38F6 CALL	_Initial_time
(0071) 	  Timerinit_3(0xc0,0x00);//使用16位的定时器3。发送串口数据，刚开始为初始化的时候可能数据都为空
    00AB6 2722      CLR	R18
    00AB7 EC00      LDI	R16,0xC0
    00AB8 940E 0AD8 CALL	_Timerinit_3
(0072) 	  Timerinit_1(0xFe,0xb8);//使用16位的定时器1来输出
    00ABA EB28      LDI	R18,0xB8
    00ABB EF0E      LDI	R16,0xFE
    00ABC 940E 0AC9 CALL	_Timerinit_1
(0073) 	  Timerinit_2(0x00);//1s计时模块
    00ABE 2700      CLR	R16
    00ABF 940E 0AF7 CALL	_Timerinit_2
(0074) 	  uart0_init( );//初始化串口
    00AC1 940E 1087 CALL	_uart0_init
    00AC3 C002      RJMP	0x0AC6
(0075) 	 while(1){
(0076)      dispatchPages();
    00AC4 940E 2529 CALL	_dispatchPages
    00AC6 CFFD      RJMP	0x0AC4
    00AC7 9621      ADIW	R28,1
    00AC8 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\timertask.c
(0001) #include<iom128v.h>
(0002) #include "timertask.h"
(0003) #include "time.h"
(0004) #include "main.h"
(0005) #include "lcd.h"
(0006) #include "delay.h"
(0007) #include "main.h"
(0008) #include "temp.h"
(0009) #include "out.h"
(0010) unsigned int secondflag=64;//8位定时器全计时64次为1s
(0011) unsigned char time_h_1, time_l_1,time_h_3, time_l_3,time_0, time_2,i;
(0012) //************************************************
(0013) //16位定时器，定时器1
(0014) //*************************************************
(0015) /*
(0016)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0017)   自行计算时间传入。传入高低八位
(0018) */
(0019) void Timerinit_1(uchar time_h,uchar time_l){
(0020)     time_h_1=time_h;
_Timerinit_1:
  time_l               --> R18
  time_h               --> R16
    00AC9 9300 0E9A STS	time_h_1,R16
(0021) 	time_l_1=time_l;
    00ACB 9320 0E99 STS	time_l_1,R18
(0022) 	 TCCR1B=0x00;
    00ACD 2422      CLR	R2
    00ACE BC2E      OUT	0x2E,R2
(0023) 	//写入初值
(0024)     TCNT1H=time_h;
    00ACF BD0D      OUT	0x2D,R16
(0025)     TCNT1L=time_l;
    00AD0 BD2C      OUT	0x2C,R18
(0026) 	//普通计数，1024分频
(0027)     TCCR1A=0x00;
    00AD1 BC2F      OUT	0x2F,R2
(0028)     TCCR1B=0x05;
    00AD2 E085      LDI	R24,5
    00AD3 BD8E      OUT	0x2E,R24
(0029) 	 TIMSK|=0x04;//开定时器1溢出中断,16位的
    00AD4 B787      IN	R24,0x37
    00AD5 6084      ORI	R24,4
    00AD6 BF87      OUT	0x37,R24
    00AD7 9508      RET
(0030) }
(0031) //************************************************
(0032) //16位定时器，定时器3
(0033) //*************************************************
(0034) /*
(0035)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0036)   自行计算时间传入。传入高低八位
(0037) */
(0038) void Timerinit_3(uchar time_h,uchar time_l){
(0039)  	time_h_3=time_h;
_Timerinit_3:
  time_l               --> R18
  time_h               --> R16
    00AD8 9300 0E98 STS	time_h_3,R16
(0040) 	time_l_3=time_l;
    00ADA 9320 0E97 STS	time_l_3,R18
(0041) 	//写入初值
(0042) 	 TCCR3B=0x00;
    00ADC 2422      CLR	R2
    00ADD 9220 008A STS	0x8A,R2
(0043)     TCNT3H=time_h;
    00ADF 9300 0089 STS	0x89,R16
(0044)     TCNT3L=time_l;
    00AE1 9320 0088 STS	0x88,R18
(0045) 	//普通计数，1024分频
(0046)     TCCR3A=0x00;
    00AE3 9220 008B STS	0x8B,R2
(0047)     TCCR3B=0x05;
    00AE5 E085      LDI	R24,5
    00AE6 9380 008A STS	0x8A,R24
(0048) 	ETIMSK |=0x04;//开外部中断
    00AE8 9180 007D LDS	R24,0x7D
    00AEA 6084      ORI	R24,4
    00AEB 9380 007D STS	0x7D,R24
    00AED 9508      RET
(0049) }
(0050) //************************************************
(0051) //8位定时器，定时器0
(0052) //*************************************************
(0053) 
(0054) /*
(0055)   计数器0，8位的。普通计时，1024分频。
(0056)   自行计算时间传入。
(0057) */
(0058) void Timerinit_0(uchar time){
(0059)     time_0=time;
_Timerinit_0:
  time                 --> R16
    00AEE 9300 0E96 STS	time_0,R16
(0060) 	//写入初值
(0061)     TCNT0=time;
    00AF0 BF02      OUT	0x32,R16
(0062) 	TIMSK|=0x01;//开定时器0溢出中断,8位的
    00AF1 B787      IN	R24,0x37
    00AF2 6081      ORI	R24,1
    00AF3 BF87      OUT	0x37,R24
(0063) 	 TCCR0=0x07;//普通计数，1024分频
    00AF4 E087      LDI	R24,7
    00AF5 BF83      OUT	0x33,R24
    00AF6 9508      RET
(0064) 	 
(0065) }
(0066) //************************************************
(0067) //8位定时器，定时器2
(0068) //*************************************************
(0069) /*
(0070)   计数器0，8位的。普通计时，1024分频。
(0071)   自行计算时间传入。
(0072) */
(0073) void Timerinit_2(uchar time){
(0074)     time_2=time;
_Timerinit_2:
  time                 --> R16
    00AF7 9300 0E95 STS	time_2,R16
(0075) 	//写入初值
(0076)     TCNT2=time;
    00AF9 BD04      OUT	0x24,R16
(0077) 	TIMSK|=0x40;//开定时器2溢出中断,8位的
    00AFA B787      IN	R24,0x37
    00AFB 6480      ORI	R24,0x40
    00AFC BF87      OUT	0x37,R24
(0078) 	//普通计数，1024分频
(0079)     TCCR2=0x05;
    00AFD E085      LDI	R24,5
    00AFE BD85      OUT	0x25,R24
    00AFF 9508      RET
_int_timer0:
    00B00 920A      ST	-Y,R0
    00B01 921A      ST	-Y,R1
    00B02 922A      ST	-Y,R2
    00B03 923A      ST	-Y,R3
    00B04 924A      ST	-Y,R4
    00B05 925A      ST	-Y,R5
    00B06 926A      ST	-Y,R6
    00B07 927A      ST	-Y,R7
    00B08 928A      ST	-Y,R8
    00B09 929A      ST	-Y,R9
    00B0A 930A      ST	-Y,R16
    00B0B 931A      ST	-Y,R17
    00B0C 932A      ST	-Y,R18
    00B0D 933A      ST	-Y,R19
    00B0E 938A      ST	-Y,R24
    00B0F 939A      ST	-Y,R25
    00B10 93AA      ST	-Y,R26
    00B11 93BA      ST	-Y,R27
    00B12 93EA      ST	-Y,R30
    00B13 93FA      ST	-Y,R31
    00B14 B60F      IN	R0,0x3F
    00B15 920A      ST	-Y,R0
    00B16 9721      SBIW	R28,1
(0080) }
(0081) #pragma interrupt_handler int_timer0:17
(0082) void int_timer0(void){ 
(0083) 		TCCR0=0x00;
    00B17 2422      CLR	R2
    00B18 BE23      OUT	0x33,R2
(0084)   if(t0_flag==0){
    00B19 9020 0240 LDS	R2,t0_flag
    00B1B 9030 0241 LDS	R3,t0_flag+1
    00B1D 2022      TST	R2
    00B1E F559      BNE	0x0B4A
    00B1F 2033      TST	R3
    00B20 F549      BNE	0x0B4A
(0085) 		waitflag--;
    00B21 9180 0242 LDS	R24,waitflag
    00B23 9190 0243 LDS	R25,waitflag+1
    00B25 9701      SBIW	R24,1
    00B26 9390 0243 STS	waitflag+1,R25
    00B28 9380 0242 STS	waitflag,R24
(0086) 	    lcd_write_char(10,0,0x30+(waitflag/100));
    00B2A E624      LDI	R18,0x64
    00B2B E030      LDI	R19,0
    00B2C 018C      MOVW	R16,R24
    00B2D 940E 39B9 CALL	div16u
    00B2F 01C8      MOVW	R24,R16
    00B30 96C0      ADIW	R24,0x30
    00B31 8388      ST	Y,R24
    00B32 2722      CLR	R18
    00B33 E00A      LDI	R16,0xA
    00B34 940E 070E CALL	_lcd_write_char
(0087) 	    lcd_write_char(11,0,'s');	
    00B36 E783      LDI	R24,0x73
    00B37 8388      ST	Y,R24
    00B38 2722      CLR	R18
    00B39 E00B      LDI	R16,0xB
    00B3A 940E 070E CALL	_lcd_write_char
(0088) 	    if(waitflag>1){
    00B3C E081      LDI	R24,1
    00B3D E090      LDI	R25,0
    00B3E 9020 0242 LDS	R2,waitflag
    00B40 9030 0243 LDS	R3,waitflag+1
    00B42 1582      CP	R24,R2
    00B43 0593      CPC	R25,R3
    00B44 F4F0      BCC	0x0B63
(0089) 	      TCNT0=0x00;
    00B45 2422      CLR	R2
    00B46 BE22      OUT	0x32,R2
(0090) 	      TCCR0=0x07;
    00B47 E087      LDI	R24,7
    00B48 BF83      OUT	0x33,R24
(0091) 	    }
(0092) 	}else{
    00B49 C019      RJMP	0x0B63
(0093) 	  waitflag--;
    00B4A 9180 0242 LDS	R24,waitflag
    00B4C 9190 0243 LDS	R25,waitflag+1
    00B4E 9701      SBIW	R24,1
    00B4F 9390 0243 STS	waitflag+1,R25
    00B51 9380 0242 STS	waitflag,R24
(0094) 	    if(waitflag==1){
    00B53 3081      CPI	R24,1
    00B54 E0E0      LDI	R30,0
    00B55 079E      CPC	R25,R30
    00B56 F441      BNE	0x0B5F
(0095) 		  waitflag=32;
    00B57 E280      LDI	R24,0x20
    00B58 E090      LDI	R25,0
    00B59 9390 0243 STS	waitflag+1,R25
    00B5B 9380 0242 STS	waitflag,R24
(0096) 	      tempcontrol();//执行温度调节
    00B5D 940E 2EF4 CALL	_tempcontrol
(0097) 	    }
(0098) 	   TCNT0=0x00;
    00B5F 2422      CLR	R2
    00B60 BE22      OUT	0x32,R2
(0099) 	   TCCR0=0x07;
    00B61 E087      LDI	R24,7
    00B62 BF83      OUT	0x33,R24
(0100) 	}
(0101) 		return;
    00B63 9621      ADIW	R28,1
    00B64 9009      LD	R0,Y+
    00B65 BE0F      OUT	0x3F,R0
    00B66 91F9      LD	R31,Y+
    00B67 91E9      LD	R30,Y+
    00B68 91B9      LD	R27,Y+
    00B69 91A9      LD	R26,Y+
    00B6A 9199      LD	R25,Y+
    00B6B 9189      LD	R24,Y+
    00B6C 9139      LD	R19,Y+
    00B6D 9129      LD	R18,Y+
    00B6E 9119      LD	R17,Y+
    00B6F 9109      LD	R16,Y+
    00B70 9099      LD	R9,Y+
    00B71 9089      LD	R8,Y+
    00B72 9079      LD	R7,Y+
    00B73 9069      LD	R6,Y+
    00B74 9059      LD	R5,Y+
    00B75 9049      LD	R4,Y+
    00B76 9039      LD	R3,Y+
    00B77 9029      LD	R2,Y+
    00B78 9019      LD	R1,Y+
    00B79 9009      LD	R0,Y+
    00B7A 9518      RETI
_int_timer1:
    00B7B 920A      ST	-Y,R0
    00B7C 921A      ST	-Y,R1
    00B7D 922A      ST	-Y,R2
    00B7E 923A      ST	-Y,R3
    00B7F 924A      ST	-Y,R4
    00B80 925A      ST	-Y,R5
    00B81 926A      ST	-Y,R6
    00B82 927A      ST	-Y,R7
    00B83 928A      ST	-Y,R8
    00B84 929A      ST	-Y,R9
    00B85 930A      ST	-Y,R16
    00B86 931A      ST	-Y,R17
    00B87 932A      ST	-Y,R18
    00B88 933A      ST	-Y,R19
    00B89 938A      ST	-Y,R24
    00B8A 939A      ST	-Y,R25
    00B8B 93AA      ST	-Y,R26
    00B8C 93BA      ST	-Y,R27
    00B8D 93EA      ST	-Y,R30
    00B8E 93FA      ST	-Y,R31
    00B8F B60F      IN	R0,0x3F
    00B90 920A      ST	-Y,R0
(0102) }
(0103) //溢出中断。
(0104) #pragma interrupt_handler int_timer1:15
(0105) void int_timer1(void){
(0106) 		 TCCR1B=0x00;
    00B91 2422      CLR	R2
    00B92 BC2E      OUT	0x2E,R2
(0107) 		 out_port();
    00B93 940E 0FCB CALL	_out_port
(0108) 		TCNT1H=time_h_1;
    00B95 9020 0E9A LDS	R2,time_h_1
    00B97 BC2D      OUT	0x2D,R2
(0109)          TCNT1L=time_l_1;
    00B98 9020 0E99 LDS	R2,time_l_1
    00B9A BC2C      OUT	0x2C,R2
(0110) 		 TCCR1B=0x05;
    00B9B E085      LDI	R24,5
    00B9C BD8E      OUT	0x2E,R24
(0111) 		return;
    00B9D 9009      LD	R0,Y+
    00B9E BE0F      OUT	0x3F,R0
    00B9F 91F9      LD	R31,Y+
    00BA0 91E9      LD	R30,Y+
    00BA1 91B9      LD	R27,Y+
    00BA2 91A9      LD	R26,Y+
    00BA3 9199      LD	R25,Y+
    00BA4 9189      LD	R24,Y+
    00BA5 9139      LD	R19,Y+
    00BA6 9129      LD	R18,Y+
    00BA7 9119      LD	R17,Y+
    00BA8 9109      LD	R16,Y+
    00BA9 9099      LD	R9,Y+
    00BAA 9089      LD	R8,Y+
    00BAB 9079      LD	R7,Y+
    00BAC 9069      LD	R6,Y+
    00BAD 9059      LD	R5,Y+
    00BAE 9049      LD	R4,Y+
    00BAF 9039      LD	R3,Y+
    00BB0 9029      LD	R2,Y+
    00BB1 9019      LD	R1,Y+
    00BB2 9009      LD	R0,Y+
    00BB3 9518      RETI
_int_timer2:
    00BB4 920A      ST	-Y,R0
    00BB5 921A      ST	-Y,R1
    00BB6 922A      ST	-Y,R2
    00BB7 923A      ST	-Y,R3
    00BB8 924A      ST	-Y,R4
    00BB9 925A      ST	-Y,R5
    00BBA 926A      ST	-Y,R6
    00BBB 927A      ST	-Y,R7
    00BBC 928A      ST	-Y,R8
    00BBD 929A      ST	-Y,R9
    00BBE 930A      ST	-Y,R16
    00BBF 931A      ST	-Y,R17
    00BC0 932A      ST	-Y,R18
    00BC1 933A      ST	-Y,R19
    00BC2 938A      ST	-Y,R24
    00BC3 939A      ST	-Y,R25
    00BC4 93AA      ST	-Y,R26
    00BC5 93BA      ST	-Y,R27
    00BC6 93EA      ST	-Y,R30
    00BC7 93FA      ST	-Y,R31
    00BC8 B60F      IN	R0,0x3F
    00BC9 920A      ST	-Y,R0
(0112) }
(0113) #pragma interrupt_handler int_timer2:11
(0114) void int_timer2(void){
(0115)       //PORTE=~PORTE;
(0116) 		TCCR2=0x00;
    00BCA 2422      CLR	R2
    00BCB BC25      OUT	0x25,R2
(0117) 		if(secondflag==0){
    00BCC 9020 0758 LDS	R2,secondflag
    00BCE 9030 0759 LDS	R3,secondflag+1
    00BD0 2022      TST	R2
    00BD1 F451      BNE	0x0BDC
    00BD2 2033      TST	R3
    00BD3 F441      BNE	0x0BDC
(0118) 		  secondflag=64;
    00BD4 E480      LDI	R24,0x40
    00BD5 E090      LDI	R25,0
    00BD6 9390 0759 STS	secondflag+1,R25
    00BD8 9380 0758 STS	secondflag,R24
(0119) 		  int_int2();
    00BDA 940E 2589 CALL	_int_int2
(0120) 		}
(0121) 		secondflag--;
    00BDC 9180 0758 LDS	R24,secondflag
    00BDE 9190 0759 LDS	R25,secondflag+1
    00BE0 9701      SBIW	R24,1
    00BE1 9390 0759 STS	secondflag+1,R25
    00BE3 9380 0758 STS	secondflag,R24
(0122) 		TCNT2=time_2;
    00BE5 9020 0E95 LDS	R2,time_2
    00BE7 BC24      OUT	0x24,R2
(0123) 		TCCR2=0x05;
    00BE8 E085      LDI	R24,5
    00BE9 BD85      OUT	0x25,R24
(0124) 		return;
    00BEA 9009      LD	R0,Y+
    00BEB BE0F      OUT	0x3F,R0
    00BEC 91F9      LD	R31,Y+
    00BED 91E9      LD	R30,Y+
    00BEE 91B9      LD	R27,Y+
    00BEF 91A9      LD	R26,Y+
    00BF0 9199      LD	R25,Y+
    00BF1 9189      LD	R24,Y+
    00BF2 9139      LD	R19,Y+
    00BF3 9129      LD	R18,Y+
    00BF4 9119      LD	R17,Y+
    00BF5 9109      LD	R16,Y+
    00BF6 9099      LD	R9,Y+
    00BF7 9089      LD	R8,Y+
    00BF8 9079      LD	R7,Y+
    00BF9 9069      LD	R6,Y+
    00BFA 9059      LD	R5,Y+
    00BFB 9049      LD	R4,Y+
    00BFC 9039      LD	R3,Y+
    00BFD 9029      LD	R2,Y+
    00BFE 9019      LD	R1,Y+
    00BFF 9009      LD	R0,Y+
    00C00 9518      RETI
_int_timer3:
    00C01 920A      ST	-Y,R0
    00C02 921A      ST	-Y,R1
    00C03 922A      ST	-Y,R2
    00C04 923A      ST	-Y,R3
    00C05 928A      ST	-Y,R8
    00C06 929A      ST	-Y,R9
    00C07 930A      ST	-Y,R16
    00C08 931A      ST	-Y,R17
    00C09 932A      ST	-Y,R18
    00C0A 933A      ST	-Y,R19
    00C0B 938A      ST	-Y,R24
    00C0C 939A      ST	-Y,R25
    00C0D 93AA      ST	-Y,R26
    00C0E 93BA      ST	-Y,R27
    00C0F B60F      IN	R0,0x3F
    00C10 920A      ST	-Y,R0
    00C11 92AA      ST	-Y,R10
    00C12 92BA      ST	-Y,R11
(0125) }
(0126) //16位定时器，定时器3溢出中断。
(0127) #pragma interrupt_handler int_timer3:30
(0128) void int_timer3(void){
(0129)      TCCR3B=0x00;
    00C13 2422      CLR	R2
    00C14 9220 008A STS	0x8A,R2
(0130) 	 
(0131)      send_data_cache[0]=0x65;//e
    00C16 E685      LDI	R24,0x65
    00C17 E090      LDI	R25,0
    00C18 9390 0111 STS	send_data_cache+1,R25
    00C1A 9380 0110 STS	send_data_cache,R24
(0132) 	 send_data_cache[1]=temps[0].flag;//标志位
    00C1C 9020 0248 LDS	R2,temps
    00C1E 9030 0249 LDS	R3,temps+1
    00C20 9230 0113 STS	send_data_cache+3,R3
    00C22 9220 0112 STS	send_data_cache+2,R2
(0133) 	 send_data_cache[2]=temps[0].status;//状态
    00C24 9020 0352 LDS	R2,temps+266
    00C26 9030 0353 LDS	R3,temps+267
    00C28 9230 0115 STS	send_data_cache+5,R3
    00C2A 9220 0114 STS	send_data_cache+4,R2
(0134) 	 send_data_cache[3]=((int)temps[0].actualtemp)>>8;//温度
    00C2C 9120 036E LDS	R18,temps+294
    00C2E 9130 036F LDS	R19,temps+295
    00C30 9100 036C LDS	R16,temps+292
    00C32 9110 036D LDS	R17,temps+293
    00C34 940E 3B34 CALL	fpint
    00C36 0118      MOVW	R2,R16
    00C37 2C23      MOV	R2,R3
    00C38 2433      CLR	R3
    00C39 FC27      SBRC	R2,7
    00C3A 9430      COM	R3
    00C3B 9230 0117 STS	send_data_cache+7,R3
    00C3D 9220 0116 STS	send_data_cache+6,R2
(0135) 	 send_data_cache[4]=((int)temps[0].actualtemp)&0xFF;
    00C3F 9120 036E LDS	R18,temps+294
    00C41 9130 036F LDS	R19,temps+295
    00C43 9100 036C LDS	R16,temps+292
    00C45 9110 036D LDS	R17,temps+293
    00C47 940E 3B34 CALL	fpint
    00C49 01C8      MOVW	R24,R16
    00C4A 7090      ANDI	R25,0
    00C4B 9390 0119 STS	send_data_cache+9,R25
    00C4D 9380 0118 STS	send_data_cache+8,R24
(0136) 	 send_data_cache[5]=temps[0].nowtime>>8;
    00C4F 9020 0356 LDS	R2,temps+270
    00C51 9030 0357 LDS	R3,temps+271
    00C53 2C23      MOV	R2,R3
    00C54 2433      CLR	R3
    00C55 9230 011B STS	send_data_cache+11,R3
    00C57 9220 011A STS	send_data_cache+10,R2
(0137) 	 send_data_cache[6]=temps[0].nowtime&0xFF;
    00C59 9180 0356 LDS	R24,temps+270
    00C5B 9190 0357 LDS	R25,temps+271
    00C5D 7090      ANDI	R25,0
    00C5E 9390 011D STS	send_data_cache+13,R25
    00C60 9380 011C STS	send_data_cache+12,R24
(0138) 	 send_data_cache[7]=0x65;//e
    00C62 E685      LDI	R24,0x65
    00C63 E090      LDI	R25,0
    00C64 9390 011F STS	send_data_cache+15,R25
    00C66 9380 011E STS	send_data_cache+14,R24
(0139) 	 
(0140) 	 send_data_cache[8]=0x66;//f
    00C68 E686      LDI	R24,0x66
    00C69 9390 0121 STS	send_data_cache+17,R25
    00C6B 9380 0120 STS	send_data_cache+16,R24
(0141) 	 send_data_cache[9]=temps[1].flag;//标志位
    00C6D 9020 038C LDS	R2,temps+324
    00C6F 9030 038D LDS	R3,temps+325
    00C71 9230 0123 STS	send_data_cache+19,R3
    00C73 9220 0122 STS	send_data_cache+18,R2
(0142) 	 send_data_cache[10]=temps[1].status ;//状态
    00C75 9020 0496 LDS	R2,temps+590
    00C77 9030 0497 LDS	R3,temps+591
    00C79 9230 0125 STS	send_data_cache+21,R3
    00C7B 9220 0124 STS	send_data_cache+20,R2
(0143) 	 send_data_cache[11]=((int)temps[1].actualtemp)>>8;//温度
    00C7D 9120 04B2 LDS	R18,temps+618
    00C7F 9130 04B3 LDS	R19,temps+619
    00C81 9100 04B0 LDS	R16,temps+616
    00C83 9110 04B1 LDS	R17,temps+617
    00C85 940E 3B34 CALL	fpint
    00C87 0118      MOVW	R2,R16
    00C88 2C23      MOV	R2,R3
    00C89 2433      CLR	R3
    00C8A FC27      SBRC	R2,7
    00C8B 9430      COM	R3
    00C8C 9230 0127 STS	send_data_cache+23,R3
    00C8E 9220 0126 STS	send_data_cache+22,R2
(0144) 	 send_data_cache[12]=((int)temps[1].actualtemp)&0xFF;
    00C90 9120 04B2 LDS	R18,temps+618
    00C92 9130 04B3 LDS	R19,temps+619
    00C94 9100 04B0 LDS	R16,temps+616
    00C96 9110 04B1 LDS	R17,temps+617
    00C98 940E 3B34 CALL	fpint
    00C9A 01C8      MOVW	R24,R16
    00C9B 7090      ANDI	R25,0
    00C9C 9390 0129 STS	send_data_cache+25,R25
    00C9E 9380 0128 STS	send_data_cache+24,R24
(0145) 	 send_data_cache[13]=temps[1].nowtime>>8;
    00CA0 9020 049A LDS	R2,temps+594
    00CA2 9030 049B LDS	R3,temps+595
    00CA4 2C23      MOV	R2,R3
    00CA5 2433      CLR	R3
    00CA6 9230 012B STS	send_data_cache+27,R3
    00CA8 9220 012A STS	send_data_cache+26,R2
(0146) 	 send_data_cache[14]=temps[1].nowtime&0xFF;
    00CAA 9180 049A LDS	R24,temps+594
    00CAC 9190 049B LDS	R25,temps+595
    00CAE 7090      ANDI	R25,0
    00CAF 9390 012D STS	send_data_cache+29,R25
    00CB1 9380 012C STS	send_data_cache+28,R24
(0147) 	 send_data_cache[15]=0x66;//f
    00CB3 E686      LDI	R24,0x66
    00CB4 E090      LDI	R25,0
    00CB5 9390 012F STS	send_data_cache+31,R25
    00CB7 9380 012E STS	send_data_cache+30,R24
(0148) 	 
(0149) 	 send_data_cache[16]=0x67;//g
    00CB9 E687      LDI	R24,0x67
    00CBA 9390 0131 STS	send_data_cache+33,R25
    00CBC 9380 0130 STS	send_data_cache+32,R24
(0150) 	 send_data_cache[17]=temps[2].flag;//标志位
    00CBE 9020 04D0 LDS	R2,temps+648
    00CC0 9030 04D1 LDS	R3,temps+649
    00CC2 9230 0133 STS	send_data_cache+35,R3
    00CC4 9220 0132 STS	send_data_cache+34,R2
(0151) 	 send_data_cache[18]=temps[2].status;//状态
    00CC6 9020 05DA LDS	R2,temps+914
    00CC8 9030 05DB LDS	R3,temps+915
    00CCA 9230 0135 STS	send_data_cache+37,R3
    00CCC 9220 0134 STS	send_data_cache+36,R2
(0152) 	 send_data_cache[19]=((int)temps[2].actualtemp)>>8;//温度
    00CCE 9120 05F6 LDS	R18,temps+942
    00CD0 9130 05F7 LDS	R19,temps+943
    00CD2 9100 05F4 LDS	R16,temps+940
    00CD4 9110 05F5 LDS	R17,temps+941
    00CD6 940E 3B34 CALL	fpint
    00CD8 0118      MOVW	R2,R16
    00CD9 2C23      MOV	R2,R3
    00CDA 2433      CLR	R3
    00CDB FC27      SBRC	R2,7
    00CDC 9430      COM	R3
    00CDD 9230 0137 STS	send_data_cache+39,R3
    00CDF 9220 0136 STS	send_data_cache+38,R2
(0153) 	 send_data_cache[20]=((int)temps[2].actualtemp)&0xFF;
    00CE1 9120 05F6 LDS	R18,temps+942
    00CE3 9130 05F7 LDS	R19,temps+943
    00CE5 9100 05F4 LDS	R16,temps+940
    00CE7 9110 05F5 LDS	R17,temps+941
    00CE9 940E 3B34 CALL	fpint
    00CEB 01C8      MOVW	R24,R16
    00CEC 7090      ANDI	R25,0
    00CED 9390 0139 STS	send_data_cache+41,R25
    00CEF 9380 0138 STS	send_data_cache+40,R24
(0154) 	 send_data_cache[21]=temps[2].nowtime>>8;
    00CF1 9020 05DE LDS	R2,temps+918
    00CF3 9030 05DF LDS	R3,temps+919
    00CF5 2C23      MOV	R2,R3
    00CF6 2433      CLR	R3
    00CF7 9230 013B STS	send_data_cache+43,R3
    00CF9 9220 013A STS	send_data_cache+42,R2
(0155) 	 send_data_cache[22]=temps[2].nowtime&0xFF;
    00CFB 9180 05DE LDS	R24,temps+918
    00CFD 9190 05DF LDS	R25,temps+919
    00CFF 7090      ANDI	R25,0
    00D00 9390 013D STS	send_data_cache+45,R25
    00D02 9380 013C STS	send_data_cache+44,R24
(0156) 	 send_data_cache[23]=0x67;//g
    00D04 E687      LDI	R24,0x67
    00D05 E090      LDI	R25,0
    00D06 9390 013F STS	send_data_cache+47,R25
    00D08 9380 013E STS	send_data_cache+46,R24
(0157) 	 
(0158) 	 send_data_cache[24]=0x68;//h
    00D0A E688      LDI	R24,0x68
    00D0B 9390 0141 STS	send_data_cache+49,R25
    00D0D 9380 0140 STS	send_data_cache+48,R24
(0159) 	 send_data_cache[25]=temps[3].flag ;//标志位
    00D0F 9020 0614 LDS	R2,temps+972
    00D11 9030 0615 LDS	R3,temps+973
    00D13 9230 0143 STS	send_data_cache+51,R3
    00D15 9220 0142 STS	send_data_cache+50,R2
(0160) 	 send_data_cache[26]=temps[3].status ;//状态
    00D17 9020 071E LDS	R2,temps+1238
    00D19 9030 071F LDS	R3,temps+1239
    00D1B 9230 0145 STS	send_data_cache+53,R3
    00D1D 9220 0144 STS	send_data_cache+52,R2
(0161) 	 send_data_cache[27]=((int)temps[3].actualtemp)>>8;//温度
    00D1F 9120 073A LDS	R18,temps+1266
    00D21 9130 073B LDS	R19,temps+1267
    00D23 9100 0738 LDS	R16,temps+1264
    00D25 9110 0739 LDS	R17,temps+1265
    00D27 940E 3B34 CALL	fpint
    00D29 0118      MOVW	R2,R16
    00D2A 2C23      MOV	R2,R3
    00D2B 2433      CLR	R3
    00D2C FC27      SBRC	R2,7
    00D2D 9430      COM	R3
    00D2E 9230 0147 STS	send_data_cache+55,R3
    00D30 9220 0146 STS	send_data_cache+54,R2
(0162) 	 send_data_cache[28]=((int)temps[3].actualtemp)&0xFF;
    00D32 9120 073A LDS	R18,temps+1266
    00D34 9130 073B LDS	R19,temps+1267
    00D36 9100 0738 LDS	R16,temps+1264
    00D38 9110 0739 LDS	R17,temps+1265
    00D3A 940E 3B34 CALL	fpint
    00D3C 01C8      MOVW	R24,R16
    00D3D 7090      ANDI	R25,0
    00D3E 9390 0149 STS	send_data_cache+57,R25
    00D40 9380 0148 STS	send_data_cache+56,R24
(0163) 	 send_data_cache[29]=temps[3].nowtime>>8;
    00D42 9020 0722 LDS	R2,temps+1242
    00D44 9030 0723 LDS	R3,temps+1243
    00D46 2C23      MOV	R2,R3
    00D47 2433      CLR	R3
    00D48 9230 014B STS	send_data_cache+59,R3
    00D4A 9220 014A STS	send_data_cache+58,R2
(0164) 	 send_data_cache[30]=temps[3].nowtime&0xFF;
    00D4C 9180 0722 LDS	R24,temps+1242
    00D4E 9190 0723 LDS	R25,temps+1243
    00D50 7090      ANDI	R25,0
    00D51 9390 014D STS	send_data_cache+61,R25
    00D53 9380 014C STS	send_data_cache+60,R24
(0165) 	 send_data_cache[31]=0x68;//h
    00D55 E688      LDI	R24,0x68
    00D56 E090      LDI	R25,0
    00D57 9390 014F STS	send_data_cache+63,R25
    00D59 9380 014E STS	send_data_cache+62,R24
(0166) 	 
(0167) 	 
(0168) 	 send_data_length=32;
    00D5B E280      LDI	R24,0x20
    00D5C 9390 023D STS	send_data_length+1,R25
    00D5E 9380 023C STS	send_data_length,R24
(0169) 	 UCSR0B |=(1<<UDRIE0); //发送使能。测试使用
    00D60 9A55      SBI	0x0A,5
(0170) 	  TCNT3H=time_h_3;
    00D61 9020 0E98 LDS	R2,time_h_3
    00D63 9220 0089 STS	0x89,R2
(0171)       TCNT3L=time_l_3;
    00D65 9020 0E97 LDS	R2,time_l_3
    00D67 9220 0088 STS	0x88,R2
(0172)       TCCR3B=0x05;
    00D69 E085      LDI	R24,5
    00D6A 9380 008A STS	0x8A,R24
(0173) 	  return;                                
    00D6C 90B9      LD	R11,Y+
    00D6D 90A9      LD	R10,Y+
    00D6E 9009      LD	R0,Y+
    00D6F BE0F      OUT	0x3F,R0
    00D70 91B9      LD	R27,Y+
    00D71 91A9      LD	R26,Y+
    00D72 9199      LD	R25,Y+
    00D73 9189      LD	R24,Y+
    00D74 9139      LD	R19,Y+
    00D75 9129      LD	R18,Y+
    00D76 9119      LD	R17,Y+
    00D77 9109      LD	R16,Y+
    00D78 9099      LD	R9,Y+
    00D79 9089      LD	R8,Y+
    00D7A 9039      LD	R3,Y+
    00D7B 9029      LD	R2,Y+
    00D7C 9019      LD	R1,Y+
    00D7D 9009      LD	R0,Y+
    00D7E 9518      RETI
_readTemp_1:
  i                    --> R20
    00D7F 934A      ST	-Y,R20
    00D80 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\max6675.c
(0001) #include<iom128v.h>
(0002) #include "max6675.h"
(0003) #include "main.h"
(0004) #include "delay.h"
(0005) #define sck_h_1 PORTE|=(1<<PE3) 
(0006) #define sck_l_1 PORTE&=~(1<<PE3) 
(0007) #define cs_h_1 PORTE|=1<<PE4 
(0008) #define cs_l_1 PORTE&=~(1<<PE4) 
(0009) 
(0010) #define sck_h_2 PORTE|=(1<<PE6) 
(0011) #define sck_l_2 PORTE&=~(1<<PE6) 
(0012) #define cs_h_2 PORTE|=1<<PE7 
(0013) #define cs_l_2 PORTE&=~(1<<PE7) 
(0014) 
(0015) #define sck_h_3 PORTF|=(1<<PF1) 
(0016) #define sck_l_3 PORTF&=~(1<<PF1) 
(0017) #define cs_h_3 PORTF|=1<<PF2 
(0018) #define cs_l_3 PORTF&=~(1<<PF2) 
(0019) 
(0020) #define sck_h_4 PORTF|=(1<<PF4) 
(0021) #define sck_l_4 PORTF&=~(1<<PF4) 
(0022) #define cs_h_4 PORTF|=1<<PF5 
(0023) #define cs_l_4 PORTF&=~(1<<PF5) 
(0024) void readTemp_1(void){
(0025) 	   uint i;
(0026) 	   sck_h_1;
    00D81 9A1B      SBI	0x03,3
(0027) 	   cs_h_1;
    00D82 9A1C      SBI	0x03,4
(0028) 	   delay_us(1);
    00D83 E001      LDI	R16,1
    00D84 E010      LDI	R17,0
    00D85 940E 04DA CALL	_delay_us
(0029) 	   cs_l_1;
    00D87 981C      CBI	0x03,4
(0030) 	   delay_us(1);
    00D88 E001      LDI	R16,1
    00D89 E010      LDI	R17,0
    00D8A 940E 04DA CALL	_delay_us
(0031) 	   sck_l_1;
    00D8C 981B      CBI	0x03,3
(0032) 	   delay_us(1);
    00D8D E001      LDI	R16,1
    00D8E E010      LDI	R17,0
    00D8F 940E 04DA CALL	_delay_us
(0033) 	   sck_h_1;
    00D91 9A1B      SBI	0x03,3
(0034) 	  for(i=0;i<8;i++){
    00D92 2744      CLR	R20
    00D93 2755      CLR	R21
    00D94 C024      RJMP	0x0DB9
(0035) 			sck_l_1;
    00D95 981B      CBI	0x03,3
(0036) 			delay_us(1);
    00D96 E001      LDI	R16,1
    00D97 E010      LDI	R17,0
    00D98 940E 04DA CALL	_delay_us
(0037) 			temp_h=temp_h<<1;
    00D9A 9020 0244 LDS	R2,temp_h
    00D9C 9030 0245 LDS	R3,temp_h+1
    00D9E 0C22      LSL	R2
    00D9F 1C33      ROL	R3
    00DA0 9230 0245 STS	temp_h+1,R3
    00DA2 9220 0244 STS	temp_h,R2
(0038) 	    	temp_h=temp_h|((PINE&0x04)>>2);
    00DA4 B181      IN	R24,0x01
    00DA5 2799      CLR	R25
    00DA6 7084      ANDI	R24,4
    00DA7 7090      ANDI	R25,0
    00DA8 9595      ASR	R25
    00DA9 9587      ROR	R24
    00DAA 9595      ASR	R25
    00DAB 9587      ROR	R24
    00DAC 2A28      OR	R2,R24
    00DAD 2A39      OR	R3,R25
    00DAE 9230 0245 STS	temp_h+1,R3
    00DB0 9220 0244 STS	temp_h,R2
(0039) 			sck_h_1;
    00DB2 9A1B      SBI	0x03,3
(0040) 			delay_us(1);
    00DB3 E001      LDI	R16,1
    00DB4 E010      LDI	R17,0
    00DB5 940E 04DA CALL	_delay_us
    00DB7 5F4F      SUBI	R20,0xFF
    00DB8 4F5F      SBCI	R21,0xFF
    00DB9 3048      CPI	R20,0x8
    00DBA E0E0      LDI	R30,0
    00DBB 075E      CPC	R21,R30
    00DBC F2C0      BCS	0x0D95
(0041) 			
(0042) 	   }
(0043) 	   for(i=0;i<8;i++){
    00DBD 2744      CLR	R20
    00DBE 2755      CLR	R21
    00DBF C024      RJMP	0x0DE4
(0044) 			sck_l_1;
    00DC0 981B      CBI	0x03,3
(0045) 			delay_us(1);
    00DC1 E001      LDI	R16,1
    00DC2 E010      LDI	R17,0
    00DC3 940E 04DA CALL	_delay_us
(0046) 			temp_l<<=1;
    00DC5 9020 0246 LDS	R2,temp_l
    00DC7 9030 0247 LDS	R3,temp_l+1
    00DC9 0C22      LSL	R2
    00DCA 1C33      ROL	R3
    00DCB 9230 0247 STS	temp_l+1,R3
    00DCD 9220 0246 STS	temp_l,R2
(0047) 	    	temp_l=temp_l|((PINE&0x04)>>2);
    00DCF B181      IN	R24,0x01
    00DD0 2799      CLR	R25
    00DD1 7084      ANDI	R24,4
    00DD2 7090      ANDI	R25,0
    00DD3 9595      ASR	R25
    00DD4 9587      ROR	R24
    00DD5 9595      ASR	R25
    00DD6 9587      ROR	R24
    00DD7 2A28      OR	R2,R24
    00DD8 2A39      OR	R3,R25
    00DD9 9230 0247 STS	temp_l+1,R3
    00DDB 9220 0246 STS	temp_l,R2
(0048) 			sck_h_1;
    00DDD 9A1B      SBI	0x03,3
(0049) 			delay_us(1);
    00DDE E001      LDI	R16,1
    00DDF E010      LDI	R17,0
    00DE0 940E 04DA CALL	_delay_us
    00DE2 5F4F      SUBI	R20,0xFF
    00DE3 4F5F      SBCI	R21,0xFF
    00DE4 3048      CPI	R20,0x8
    00DE5 E0E0      LDI	R30,0
    00DE6 075E      CPC	R21,R30
    00DE7 F2C0      BCS	0x0DC0
(0050) 	   }
(0051) 	    cs_h_1;
    00DE8 9A1C      SBI	0x03,4
(0052) 	   delay_us(10);
    00DE9 E00A      LDI	R16,0xA
    00DEA E010      LDI	R17,0
    00DEB 940E 04DA CALL	_delay_us
(0053) 	  // temp_l=0x55;
(0054) 	   return ;
    00DED 9159      LD	R21,Y+
    00DEE 9149      LD	R20,Y+
    00DEF 9508      RET
_readTemp_2:
  i                    --> R20
    00DF0 934A      ST	-Y,R20
    00DF1 935A      ST	-Y,R21
(0055) }
(0056) void readTemp_2(void){
(0057) 	   uint i;
(0058) 	   sck_h_2;
    00DF2 9A1E      SBI	0x03,6
(0059) 	   cs_h_2;
    00DF3 9A1F      SBI	0x03,7
(0060) 	   delay_us(1);
    00DF4 E001      LDI	R16,1
    00DF5 E010      LDI	R17,0
    00DF6 940E 04DA CALL	_delay_us
(0061) 	   cs_l_2;
    00DF8 981F      CBI	0x03,7
(0062) 	   delay_us(1);
    00DF9 E001      LDI	R16,1
    00DFA E010      LDI	R17,0
    00DFB 940E 04DA CALL	_delay_us
(0063) 	   sck_l_2;
    00DFD 981E      CBI	0x03,6
(0064) 	   delay_us(1);
    00DFE E001      LDI	R16,1
    00DFF E010      LDI	R17,0
    00E00 940E 04DA CALL	_delay_us
(0065) 	   sck_h_2;
    00E02 9A1E      SBI	0x03,6
(0066) 	  for(i=0;i<8;i++){
    00E03 2744      CLR	R20
    00E04 2755      CLR	R21
    00E05 C028      RJMP	0x0E2E
(0067) 			sck_l_2;
    00E06 981E      CBI	0x03,6
(0068) 			delay_us(1);
    00E07 E001      LDI	R16,1
    00E08 E010      LDI	R17,0
    00E09 940E 04DA CALL	_delay_us
(0069) 			temp_h=temp_h<<1;
    00E0B 9020 0244 LDS	R2,temp_h
    00E0D 9030 0245 LDS	R3,temp_h+1
    00E0F 0C22      LSL	R2
    00E10 1C33      ROL	R3
    00E11 9230 0245 STS	temp_h+1,R3
    00E13 9220 0244 STS	temp_h,R2
(0070) 	    	temp_h=temp_h|((PINE&0x20)>>5);
    00E15 E025      LDI	R18,5
    00E16 E030      LDI	R19,0
    00E17 B101      IN	R16,0x01
    00E18 2711      CLR	R17
    00E19 7200      ANDI	R16,0x20
    00E1A 7010      ANDI	R17,0
    00E1B 940E 3992 CALL	asr16
    00E1D 9020 0244 LDS	R2,temp_h
    00E1F 9030 0245 LDS	R3,temp_h+1
    00E21 2A20      OR	R2,R16
    00E22 2A31      OR	R3,R17
    00E23 9230 0245 STS	temp_h+1,R3
    00E25 9220 0244 STS	temp_h,R2
(0071) 			sck_h_2;
    00E27 9A1E      SBI	0x03,6
(0072) 			delay_us(1);
    00E28 E001      LDI	R16,1
    00E29 E010      LDI	R17,0
    00E2A 940E 04DA CALL	_delay_us
    00E2C 5F4F      SUBI	R20,0xFF
    00E2D 4F5F      SBCI	R21,0xFF
    00E2E 3048      CPI	R20,0x8
    00E2F E0E0      LDI	R30,0
    00E30 075E      CPC	R21,R30
    00E31 F2A0      BCS	0x0E06
(0073) 			
(0074) 	   }
(0075) 	   for(i=0;i<8;i++){
    00E32 2744      CLR	R20
    00E33 2755      CLR	R21
    00E34 C028      RJMP	0x0E5D
(0076) 			sck_l_2;
    00E35 981E      CBI	0x03,6
(0077) 			delay_us(1);
    00E36 E001      LDI	R16,1
    00E37 E010      LDI	R17,0
    00E38 940E 04DA CALL	_delay_us
(0078) 			temp_l<<=1;
    00E3A 9020 0246 LDS	R2,temp_l
    00E3C 9030 0247 LDS	R3,temp_l+1
    00E3E 0C22      LSL	R2
    00E3F 1C33      ROL	R3
    00E40 9230 0247 STS	temp_l+1,R3
    00E42 9220 0246 STS	temp_l,R2
(0079) 	    	temp_l=temp_l|((PINE&0x20)>>5);
    00E44 E025      LDI	R18,5
    00E45 E030      LDI	R19,0
    00E46 B101      IN	R16,0x01
    00E47 2711      CLR	R17
    00E48 7200      ANDI	R16,0x20
    00E49 7010      ANDI	R17,0
    00E4A 940E 3992 CALL	asr16
    00E4C 9020 0246 LDS	R2,temp_l
    00E4E 9030 0247 LDS	R3,temp_l+1
    00E50 2A20      OR	R2,R16
    00E51 2A31      OR	R3,R17
    00E52 9230 0247 STS	temp_l+1,R3
    00E54 9220 0246 STS	temp_l,R2
(0080) 			sck_h_2;
    00E56 9A1E      SBI	0x03,6
(0081) 			delay_us(1);
    00E57 E001      LDI	R16,1
    00E58 E010      LDI	R17,0
    00E59 940E 04DA CALL	_delay_us
    00E5B 5F4F      SUBI	R20,0xFF
    00E5C 4F5F      SBCI	R21,0xFF
    00E5D 3048      CPI	R20,0x8
    00E5E E0E0      LDI	R30,0
    00E5F 075E      CPC	R21,R30
    00E60 F2A0      BCS	0x0E35
(0082) 	   }
(0083) 	    cs_h_2;
    00E61 9A1F      SBI	0x03,7
(0084) 	   delay_us(10);
    00E62 E00A      LDI	R16,0xA
    00E63 E010      LDI	R17,0
    00E64 940E 04DA CALL	_delay_us
(0085) 	  // temp_l=0x55;
(0086) 	   return ;
    00E66 9159      LD	R21,Y+
    00E67 9149      LD	R20,Y+
    00E68 9508      RET
_readTemp_3:
  i                    --> R20
    00E69 934A      ST	-Y,R20
    00E6A 935A      ST	-Y,R21
(0087) }
(0088) void readTemp_3(void){
(0089) 	   uint i;
(0090) 	   sck_h_3;
    00E6B 9180 0062 LDS	R24,0x62
    00E6D 6082      ORI	R24,2
    00E6E 9380 0062 STS	0x62,R24
(0091) 	   cs_h_3;
    00E70 9180 0062 LDS	R24,0x62
    00E72 6084      ORI	R24,4
    00E73 9380 0062 STS	0x62,R24
(0092) 	   delay_us(1);
    00E75 E001      LDI	R16,1
    00E76 E010      LDI	R17,0
    00E77 940E 04DA CALL	_delay_us
(0093) 	   cs_l_3;
    00E79 9180 0062 LDS	R24,0x62
    00E7B 7F8B      ANDI	R24,0xFB
    00E7C 9380 0062 STS	0x62,R24
(0094) 	   delay_us(1);
    00E7E E001      LDI	R16,1
    00E7F E010      LDI	R17,0
    00E80 940E 04DA CALL	_delay_us
(0095) 	   sck_l_3;
    00E82 9180 0062 LDS	R24,0x62
    00E84 7F8D      ANDI	R24,0xFD
    00E85 9380 0062 STS	0x62,R24
(0096) 	   delay_us(1);
    00E87 E001      LDI	R16,1
    00E88 E010      LDI	R17,0
    00E89 940E 04DA CALL	_delay_us
(0097) 	   sck_h_3;
    00E8B 9180 0062 LDS	R24,0x62
    00E8D 6082      ORI	R24,2
    00E8E 9380 0062 STS	0x62,R24
(0098) 	  for(i=0;i<8;i++){
    00E90 2744      CLR	R20
    00E91 2755      CLR	R21
    00E92 C028      RJMP	0x0EBB
(0099) 			sck_l_3;
    00E93 9180 0062 LDS	R24,0x62
    00E95 7F8D      ANDI	R24,0xFD
    00E96 9380 0062 STS	0x62,R24
(0100) 			delay_us(1);
    00E98 E001      LDI	R16,1
    00E99 E010      LDI	R17,0
    00E9A 940E 04DA CALL	_delay_us
(0101) 			temp_h=temp_h<<1;
    00E9C 9020 0244 LDS	R2,temp_h
    00E9E 9030 0245 LDS	R3,temp_h+1
    00EA0 0C22      LSL	R2
    00EA1 1C33      ROL	R3
    00EA2 9230 0245 STS	temp_h+1,R3
    00EA4 9220 0244 STS	temp_h,R2
(0102) 	    	temp_h=temp_h|(PINF&0x01);
    00EA6 B180      IN	R24,0x00
    00EA7 2799      CLR	R25
    00EA8 7081      ANDI	R24,1
    00EA9 7090      ANDI	R25,0
    00EAA 2A28      OR	R2,R24
    00EAB 2A39      OR	R3,R25
    00EAC 9230 0245 STS	temp_h+1,R3
    00EAE 9220 0244 STS	temp_h,R2
(0103) 			sck_h_3;
    00EB0 9180 0062 LDS	R24,0x62
    00EB2 6082      ORI	R24,2
    00EB3 9380 0062 STS	0x62,R24
(0104) 			delay_us(1);
    00EB5 E001      LDI	R16,1
    00EB6 E010      LDI	R17,0
    00EB7 940E 04DA CALL	_delay_us
    00EB9 5F4F      SUBI	R20,0xFF
    00EBA 4F5F      SBCI	R21,0xFF
    00EBB 3048      CPI	R20,0x8
    00EBC E0E0      LDI	R30,0
    00EBD 075E      CPC	R21,R30
    00EBE F2A0      BCS	0x0E93
(0105) 			
(0106) 	   }
(0107) 	   for(i=0;i<8;i++){
    00EBF 2744      CLR	R20
    00EC0 2755      CLR	R21
    00EC1 C028      RJMP	0x0EEA
(0108) 			sck_l_3;
    00EC2 9180 0062 LDS	R24,0x62
    00EC4 7F8D      ANDI	R24,0xFD
    00EC5 9380 0062 STS	0x62,R24
(0109) 			delay_us(1);
    00EC7 E001      LDI	R16,1
    00EC8 E010      LDI	R17,0
    00EC9 940E 04DA CALL	_delay_us
(0110) 			temp_l<<=1;
    00ECB 9020 0246 LDS	R2,temp_l
    00ECD 9030 0247 LDS	R3,temp_l+1
    00ECF 0C22      LSL	R2
    00ED0 1C33      ROL	R3
    00ED1 9230 0247 STS	temp_l+1,R3
    00ED3 9220 0246 STS	temp_l,R2
(0111) 	    	temp_l=temp_l|(PINF&0x01);
    00ED5 B180      IN	R24,0x00
    00ED6 2799      CLR	R25
    00ED7 7081      ANDI	R24,1
    00ED8 7090      ANDI	R25,0
    00ED9 2A28      OR	R2,R24
    00EDA 2A39      OR	R3,R25
    00EDB 9230 0247 STS	temp_l+1,R3
    00EDD 9220 0246 STS	temp_l,R2
(0112) 			sck_h_3;
    00EDF 9180 0062 LDS	R24,0x62
    00EE1 6082      ORI	R24,2
    00EE2 9380 0062 STS	0x62,R24
(0113) 			delay_us(1);
    00EE4 E001      LDI	R16,1
    00EE5 E010      LDI	R17,0
    00EE6 940E 04DA CALL	_delay_us
    00EE8 5F4F      SUBI	R20,0xFF
    00EE9 4F5F      SBCI	R21,0xFF
    00EEA 3048      CPI	R20,0x8
    00EEB E0E0      LDI	R30,0
    00EEC 075E      CPC	R21,R30
    00EED F2A0      BCS	0x0EC2
(0114) 	   }
(0115) 	    cs_h_3;
    00EEE 9180 0062 LDS	R24,0x62
    00EF0 6084      ORI	R24,4
    00EF1 9380 0062 STS	0x62,R24
(0116) 	   delay_us(10);
    00EF3 E00A      LDI	R16,0xA
    00EF4 E010      LDI	R17,0
    00EF5 940E 04DA CALL	_delay_us
(0117) 	  // temp_l=0x55;
(0118) 	   return ;
    00EF7 9159      LD	R21,Y+
    00EF8 9149      LD	R20,Y+
    00EF9 9508      RET
_readTemp_4:
  i                    --> R20
    00EFA 934A      ST	-Y,R20
    00EFB 935A      ST	-Y,R21
(0119) }
(0120) void readTemp_4(void){
(0121) 	  uint i;
(0122) 	   sck_h_4;
    00EFC 9180 0062 LDS	R24,0x62
    00EFE 6180      ORI	R24,0x10
    00EFF 9380 0062 STS	0x62,R24
(0123) 	   cs_h_4;
    00F01 9180 0062 LDS	R24,0x62
    00F03 6280      ORI	R24,0x20
    00F04 9380 0062 STS	0x62,R24
(0124) 	   delay_us(1);
    00F06 E001      LDI	R16,1
    00F07 E010      LDI	R17,0
    00F08 940E 04DA CALL	_delay_us
(0125) 	   cs_l_4;
    00F0A 9180 0062 LDS	R24,0x62
    00F0C 7D8F      ANDI	R24,0xDF
    00F0D 9380 0062 STS	0x62,R24
(0126) 	   delay_us(1);
    00F0F E001      LDI	R16,1
    00F10 E010      LDI	R17,0
    00F11 940E 04DA CALL	_delay_us
(0127) 	   sck_l_4;
    00F13 9180 0062 LDS	R24,0x62
    00F15 7E8F      ANDI	R24,0xEF
    00F16 9380 0062 STS	0x62,R24
(0128) 	   delay_us(1);
    00F18 E001      LDI	R16,1
    00F19 E010      LDI	R17,0
    00F1A 940E 04DA CALL	_delay_us
(0129) 	   sck_h_4;
    00F1C 9180 0062 LDS	R24,0x62
    00F1E 6180      ORI	R24,0x10
    00F1F 9380 0062 STS	0x62,R24
(0130) 	  for(i=0;i<8;i++){
    00F21 2744      CLR	R20
    00F22 2755      CLR	R21
    00F23 C033      RJMP	0x0F57
(0131) 			sck_l_4;
    00F24 9180 0062 LDS	R24,0x62
    00F26 7E8F      ANDI	R24,0xEF
    00F27 9380 0062 STS	0x62,R24
(0132) 			delay_us(1);
    00F29 E001      LDI	R16,1
    00F2A E010      LDI	R17,0
    00F2B 940E 04DA CALL	_delay_us
(0133) 			temp_h=temp_h<<1;
    00F2D 9020 0244 LDS	R2,temp_h
    00F2F 9030 0245 LDS	R3,temp_h+1
    00F31 0C22      LSL	R2
    00F32 1C33      ROL	R3
    00F33 9230 0245 STS	temp_h+1,R3
    00F35 9220 0244 STS	temp_h,R2
(0134) 	    	temp_h=temp_h|((PINE&0x08)>>3);
    00F37 B181      IN	R24,0x01
    00F38 2799      CLR	R25
    00F39 7088      ANDI	R24,0x8
    00F3A 7090      ANDI	R25,0
    00F3B 011C      MOVW	R2,R24
    00F3C 9435      ASR	R3
    00F3D 9427      ROR	R2
    00F3E 9435      ASR	R3
    00F3F 9427      ROR	R2
    00F40 9435      ASR	R3
    00F41 9427      ROR	R2
    00F42 9040 0244 LDS	R4,temp_h
    00F44 9050 0245 LDS	R5,temp_h+1
    00F46 2842      OR	R4,R2
    00F47 2853      OR	R5,R3
    00F48 9250 0245 STS	temp_h+1,R5
    00F4A 9240 0244 STS	temp_h,R4
(0135) 			sck_h_4;
    00F4C 9180 0062 LDS	R24,0x62
    00F4E 6180      ORI	R24,0x10
    00F4F 9380 0062 STS	0x62,R24
(0136) 			delay_us(1);
    00F51 E001      LDI	R16,1
    00F52 E010      LDI	R17,0
    00F53 940E 04DA CALL	_delay_us
    00F55 5F4F      SUBI	R20,0xFF
    00F56 4F5F      SBCI	R21,0xFF
    00F57 3048      CPI	R20,0x8
    00F58 E0E0      LDI	R30,0
    00F59 075E      CPC	R21,R30
    00F5A F248      BCS	0x0F24
(0137) 			
(0138) 	   }
(0139) 	   for(i=0;i<8;i++){
    00F5B 2744      CLR	R20
    00F5C 2755      CLR	R21
    00F5D C033      RJMP	0x0F91
(0140) 			sck_l_4;
    00F5E 9180 0062 LDS	R24,0x62
    00F60 7E8F      ANDI	R24,0xEF
    00F61 9380 0062 STS	0x62,R24
(0141) 			delay_us(1);
    00F63 E001      LDI	R16,1
    00F64 E010      LDI	R17,0
    00F65 940E 04DA CALL	_delay_us
(0142) 			temp_l<<=1;
    00F67 9020 0246 LDS	R2,temp_l
    00F69 9030 0247 LDS	R3,temp_l+1
    00F6B 0C22      LSL	R2
    00F6C 1C33      ROL	R3
    00F6D 9230 0247 STS	temp_l+1,R3
    00F6F 9220 0246 STS	temp_l,R2
(0143) 	    	temp_l=temp_l|((PINE&0x08)>>3);
    00F71 B181      IN	R24,0x01
    00F72 2799      CLR	R25
    00F73 7088      ANDI	R24,0x8
    00F74 7090      ANDI	R25,0
    00F75 011C      MOVW	R2,R24
    00F76 9435      ASR	R3
    00F77 9427      ROR	R2
    00F78 9435      ASR	R3
    00F79 9427      ROR	R2
    00F7A 9435      ASR	R3
    00F7B 9427      ROR	R2
    00F7C 9040 0246 LDS	R4,temp_l
    00F7E 9050 0247 LDS	R5,temp_l+1
    00F80 2842      OR	R4,R2
    00F81 2853      OR	R5,R3
    00F82 9250 0247 STS	temp_l+1,R5
    00F84 9240 0246 STS	temp_l,R4
(0144) 			sck_h_4;
    00F86 9180 0062 LDS	R24,0x62
    00F88 6180      ORI	R24,0x10
    00F89 9380 0062 STS	0x62,R24
(0145) 			delay_us(1);
    00F8B E001      LDI	R16,1
    00F8C E010      LDI	R17,0
    00F8D 940E 04DA CALL	_delay_us
    00F8F 5F4F      SUBI	R20,0xFF
    00F90 4F5F      SBCI	R21,0xFF
    00F91 3048      CPI	R20,0x8
    00F92 E0E0      LDI	R30,0
    00F93 075E      CPC	R21,R30
    00F94 F248      BCS	0x0F5E
(0146) 	   }
(0147) 	    cs_h_4;
    00F95 9180 0062 LDS	R24,0x62
    00F97 6280      ORI	R24,0x20
    00F98 9380 0062 STS	0x62,R24
(0148) 	   delay_us(10);
    00F9A E00A      LDI	R16,0xA
    00F9B E010      LDI	R17,0
    00F9C 940E 04DA CALL	_delay_us
(0149) 	  // temp_l=0x55;
(0150) 	   return ;
    00F9E 9159      LD	R21,Y+
    00F9F 9149      LD	R20,Y+
    00FA0 9508      RET
_readTemp:
  n                    --> R20
    00FA1 934A      ST	-Y,R20
    00FA2 935A      ST	-Y,R21
    00FA3 01A8      MOVW	R20,R16
(0151) }
(0152) //传入的int：0、1、2、3对应温度的读取
(0153) void readTemp(uint n){
(0154)   DDRE=0xDA;
    00FA4 ED8A      LDI	R24,0xDA
    00FA5 B982      OUT	0x02,R24
(0155)   DDRF=0xF6;
    00FA6 EF86      LDI	R24,0xF6
    00FA7 9380 0061 STS	0x61,R24
(0156)   PORTE |=0xFC;
    00FA9 B183      IN	R24,0x03
    00FAA 6F8C      ORI	R24,0xFC
    00FAB B983      OUT	0x03,R24
(0157)   PORTF |= 0xFF;
    00FAC 9180 0062 LDS	R24,0x62
    00FAE 6F8F      ORI	R24,0xFF
    00FAF 9380 0062 STS	0x62,R24
(0158)    switch(n){
    00FB1 3040      CPI	R20,0
    00FB2 0745      CPC	R20,R21
    00FB3 F069      BEQ	0x0FC1
    00FB4 3041      CPI	R20,1
    00FB5 E0E0      LDI	R30,0
    00FB6 075E      CPC	R21,R30
    00FB7 F059      BEQ	0x0FC3
    00FB8 3042      CPI	R20,2
    00FB9 E0E0      LDI	R30,0
    00FBA 075E      CPC	R21,R30
    00FBB F049      BEQ	0x0FC5
    00FBC 3043      CPI	R20,3
    00FBD E0E0      LDI	R30,0
    00FBE 075E      CPC	R21,R30
    00FBF F039      BEQ	0x0FC7
    00FC0 C007      RJMP	0x0FC8
(0159)     case 0:
(0160) 	  readTemp_1();
    00FC1 DDBD      RCALL	_readTemp_1
(0161) 	  break;
    00FC2 C005      RJMP	0x0FC8
(0162) 	case 1:
(0163) 	  readTemp_2();
    00FC3 DE2C      RCALL	_readTemp_2
(0164) 	  break;
    00FC4 C003      RJMP	0x0FC8
(0165) 	case 2:
(0166) 	  readTemp_3();
    00FC5 DEA3      RCALL	_readTemp_3
(0167) 	  break;
    00FC6 C001      RJMP	0x0FC8
(0168) 	case 3:
(0169) 	  readTemp_4();
    00FC7 DF32      RCALL	_readTemp_4
(0170) 	  break;
    00FC8 9159      LD	R21,Y+
    00FC9 9149      LD	R20,Y+
    00FCA 9508      RET
_out_port:
    00FCB 92AA      ST	-Y,R10
    00FCC 92BA      ST	-Y,R11
FILE: E:\ICCDemo\Temp_Control\temp_control\out.c
(0001) #include<iom128v.h>
(0002) #include "out.h"
(0003) #include "lcd.h"
(0004) #include "main.h"
(0005) //*********************
(0006) // 1秒钟50周期，控制功率是50周期输出量
(0007) //*********************
(0008) uint hz=1;//1~50表示周期
(0009) 
(0010) //0、1的传入。port由0~7
(0011) void out_port(void){
(0012)    if(hz==51){
    00FCD 9180 075A LDS	R24,hz
    00FCF 9190 075B LDS	R25,hz+1
    00FD1 3383      CPI	R24,0x33
    00FD2 E0E0      LDI	R30,0
    00FD3 079E      CPC	R25,R30
    00FD4 F431      BNE	0x0FDB
(0013)      hz=1;
    00FD5 E081      LDI	R24,1
    00FD6 E090      LDI	R25,0
    00FD7 9390 075B STS	hz+1,R25
    00FD9 9380 075A STS	hz,R24
(0014)    }
(0015)    if(temps[0].flag==1){
    00FDB 9180 0248 LDS	R24,temps
    00FDD 9190 0249 LDS	R25,temps+1
    00FDF 3081      CPI	R24,1
    00FE0 E0E0      LDI	R30,0
    00FE1 079E      CPC	R25,R30
    00FE2 F4E9      BNE	0x1000
(0016) 	  if(temps[0].incrementtemp>=hz){
    00FE3 9040 038A LDS	R4,temps+322
    00FE5 9050 038B LDS	R5,temps+323
    00FE7 9020 0388 LDS	R2,temps+320
    00FE9 9030 0389 LDS	R3,temps+321
    00FEB 9100 075A LDS	R16,hz
    00FED 9110 075B LDS	R17,hz+1
    00FEF 940E 3B66 CALL	uint2fp
    00FF1 933A      ST	-Y,R19
    00FF2 932A      ST	-Y,R18
    00FF3 931A      ST	-Y,R17
    00FF4 930A      ST	-Y,R16
    00FF5 0181      MOVW	R16,R2
    00FF6 0192      MOVW	R18,R4
    00FF7 940E 3D36 CALL	fpcmp2
    00FF9 F014      BLT	0x0FFC
(0017) 	    PORTE |=0x01;
    00FFA 9A18      SBI	0x03,0
(0018) 	  }else {
    00FFB C007      RJMP	0x1003
(0019) 	    PORTE &=0xFE;
    00FFC B183      IN	R24,0x03
    00FFD 7F8E      ANDI	R24,0xFE
    00FFE B983      OUT	0x03,R24
(0020) 	  }
(0021)    }else{
    00FFF C003      RJMP	0x1003
(0022)       PORTE &=0xFE;
    01000 B183      IN	R24,0x03
    01001 7F8E      ANDI	R24,0xFE
    01002 B983      OUT	0x03,R24
(0023)    }
(0024)     if(temps[1].flag==1){
    01003 9180 038C LDS	R24,temps+324
    01005 9190 038D LDS	R25,temps+325
    01007 3081      CPI	R24,1
    01008 E0E0      LDI	R30,0
    01009 079E      CPC	R25,R30
    0100A F4E9      BNE	0x1028
(0025) 	  if(temps[0].incrementtemp>=hz){
    0100B 9040 038A LDS	R4,temps+322
    0100D 9050 038B LDS	R5,temps+323
    0100F 9020 0388 LDS	R2,temps+320
    01011 9030 0389 LDS	R3,temps+321
    01013 9100 075A LDS	R16,hz
    01015 9110 075B LDS	R17,hz+1
    01017 940E 3B66 CALL	uint2fp
    01019 933A      ST	-Y,R19
    0101A 932A      ST	-Y,R18
    0101B 931A      ST	-Y,R17
    0101C 930A      ST	-Y,R16
    0101D 0181      MOVW	R16,R2
    0101E 0192      MOVW	R18,R4
    0101F 940E 3D36 CALL	fpcmp2
    01021 F014      BLT	0x1024
(0026) 	      PORTE |=0x02;
    01022 9A19      SBI	0x03,1
(0027) 	    }else {
    01023 C007      RJMP	0x102B
(0028) 	      PORTE &=0xFD;
    01024 B183      IN	R24,0x03
    01025 7F8D      ANDI	R24,0xFD
    01026 B983      OUT	0x03,R24
(0029) 	    }
(0030)    }else{
    01027 C003      RJMP	0x102B
(0031)       PORTE &=0xFD;
    01028 B183      IN	R24,0x03
    01029 7F8D      ANDI	R24,0xFD
    0102A B983      OUT	0x03,R24
(0032)    }
(0033)     if(temps[2].flag==1){
    0102B 9180 04D0 LDS	R24,temps+648
    0102D 9190 04D1 LDS	R25,temps+649
    0102F 3081      CPI	R24,1
    01030 E0E0      LDI	R30,0
    01031 079E      CPC	R25,R30
    01032 F4E9      BNE	0x1050
(0034) 	  if(temps[0].incrementtemp>=hz){
    01033 9040 038A LDS	R4,temps+322
    01035 9050 038B LDS	R5,temps+323
    01037 9020 0388 LDS	R2,temps+320
    01039 9030 0389 LDS	R3,temps+321
    0103B 9100 075A LDS	R16,hz
    0103D 9110 075B LDS	R17,hz+1
    0103F 940E 3B66 CALL	uint2fp
    01041 933A      ST	-Y,R19
    01042 932A      ST	-Y,R18
    01043 931A      ST	-Y,R17
    01044 930A      ST	-Y,R16
    01045 0181      MOVW	R16,R2
    01046 0192      MOVW	R18,R4
    01047 940E 3D36 CALL	fpcmp2
    01049 F014      BLT	0x104C
(0035) 	      PORTE |=0x04;
    0104A 9A1A      SBI	0x03,2
(0036) 	    }else {
    0104B C007      RJMP	0x1053
(0037) 	      PORTE &=0xFB;
    0104C B183      IN	R24,0x03
    0104D 7F8B      ANDI	R24,0xFB
    0104E B983      OUT	0x03,R24
(0038) 	    }
(0039)    }else{
    0104F C003      RJMP	0x1053
(0040)       PORTE &=0xFB;
    01050 B183      IN	R24,0x03
    01051 7F8B      ANDI	R24,0xFB
    01052 B983      OUT	0x03,R24
(0041)    }
(0042)     if(temps[3].flag==1){
    01053 9180 0614 LDS	R24,temps+972
    01055 9190 0615 LDS	R25,temps+973
    01057 3081      CPI	R24,1
    01058 E0E0      LDI	R30,0
    01059 079E      CPC	R25,R30
    0105A F4E9      BNE	0x1078
(0043) 	  if(temps[0].incrementtemp>=hz){
    0105B 9040 038A LDS	R4,temps+322
    0105D 9050 038B LDS	R5,temps+323
    0105F 9020 0388 LDS	R2,temps+320
    01061 9030 0389 LDS	R3,temps+321
    01063 9100 075A LDS	R16,hz
    01065 9110 075B LDS	R17,hz+1
    01067 940E 3B66 CALL	uint2fp
    01069 933A      ST	-Y,R19
    0106A 932A      ST	-Y,R18
    0106B 931A      ST	-Y,R17
    0106C 930A      ST	-Y,R16
    0106D 0181      MOVW	R16,R2
    0106E 0192      MOVW	R18,R4
    0106F 940E 3D36 CALL	fpcmp2
    01071 F014      BLT	0x1074
(0044) 	      PORTE |=0x08;
    01072 9A1B      SBI	0x03,3
(0045) 	    }else {
    01073 C007      RJMP	0x107B
(0046) 	      PORTE &=0xF7;
    01074 B183      IN	R24,0x03
    01075 7F87      ANDI	R24,0xF7
    01076 B983      OUT	0x03,R24
(0047) 	    }
(0048)    }else{
    01077 C003      RJMP	0x107B
(0049)      PORTE &=0xF7;
    01078 B183      IN	R24,0x03
    01079 7F87      ANDI	R24,0xF7
    0107A B983      OUT	0x03,R24
(0050)    }
(0051)     hz++;
    0107B 9180 075A LDS	R24,hz
    0107D 9190 075B LDS	R25,hz+1
    0107F 9601      ADIW	R24,1
    01080 9390 075B STS	hz+1,R25
    01082 9380 075A STS	hz,R24
    01084 90B9      LD	R11,Y+
    01085 90A9      LD	R10,Y+
    01086 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\uart.c
(0001) #include <iom128v.h>
(0002) #include "uart.h"
(0003) #include "main.h"
(0004) #define fosc  800000  //晶振8MHZ
(0005) #define baud 9600  //波特率
(0006) 
(0007) 
(0008) void uart0_init(void)
(0009) {
(0010) UCSR0B = 0x00; //关闭UART00
_uart0_init:
    01087 2422      CLR	R2
    01088 B82A      OUT	0x0A,R2
(0011) UCSR0A = 0x00; //不使用倍速发送（异步）
    01089 B82B      OUT	0x0B,R2
(0012) UCSR0C =(1<<UCSZ01)|(1<<UCSZ00); //数据位为8位
    0108A E086      LDI	R24,6
    0108B 9380 0095 STS	0x95,R24
(0013) //UBRR0L=(fosc/16/(baud+1))%6; //异步正常情况下的计算公式
(0014) //UBRR0H=(fosc/16/(baud+1))/256;
(0015) UBRR0L=103; //异步正常情况下的计算公式.9600
    0108D E687      LDI	R24,0x67
    0108E B989      OUT	0x09,R24
(0016) UBRR0H=0x00;
    0108F 9220 0090 STS	0x90,R2
(0017) UCSR0B |=(1<<RXEN0)|(1<<TXEN0)|(1<<RXCIE0); //接收使能和发送使能.接收终端打开
    01091 B18A      IN	R24,0x0A
    01092 6988      ORI	R24,0x98
    01093 B98A      OUT	0x0A,R24
    01094 9508      RET
(0018) 
(0019) }
(0020) 
(0021) void putchar0(unsigned char c)
(0022) {
(0023) while (!(UCSR0A&(1<<UDRE0)));//表明发送器已经准备就绪
_putchar0:
  c                    --> R16
    01095 9B5D      SBIS	0x0B,5
    01096 CFFE      RJMP	_putchar0
(0024) UDR0=c; //将要发送的数据装入UDR0寄存器
    01097 B90C      OUT	0x0C,R16
    01098 9508      RET
(0025) }
(0026) 
(0027) 
(0028) unsigned char getchar0(void)
(0029) {
(0030)   while(!(UCSR0A& (1<<RXC0)));//表明已经接收完毕
_getchar0:
    01099 9B5F      SBIS	0x0B,7
    0109A CFFE      RJMP	_getchar0
(0031)   return UDR0;
    0109B B10C      IN	R16,0x0C
    0109C 9508      RET
_int_ruart0:
  data                 --> R16
    0109D 930A      ST	-Y,R16
    0109E B70F      IN	R16,0x3F
    0109F 930A      ST	-Y,R16
(0032) }
(0033) //读取中断
(0034) #pragma interrupt_handler int_ruart0:19
(0035) void int_ruart0(void){
(0036)    uchar data;
(0037)    data=UDR0;
    010A0 B10C      IN	R16,0x0C
    010A1 9109      LD	R16,Y+
    010A2 BF0F      OUT	0x3F,R16
    010A3 9109      LD	R16,Y+
    010A4 9518      RETI
_int_suart0:
    010A5 921A      ST	-Y,R1
    010A6 922A      ST	-Y,R2
    010A7 923A      ST	-Y,R3
    010A8 924A      ST	-Y,R4
    010A9 925A      ST	-Y,R5
    010AA 938A      ST	-Y,R24
    010AB 939A      ST	-Y,R25
    010AC 93EA      ST	-Y,R30
    010AD 93FA      ST	-Y,R31
    010AE B61F      IN	R1,0x3F
    010AF 921A      ST	-Y,R1
(0038)    
(0039) }
(0040) //发送中断
(0041) #pragma interrupt_handler int_suart0:20
(0042) void int_suart0(void){
(0043)    UCSR0B &=~(1<<UDRIE0); //关中断
    010B0 9855      CBI	0x0A,5
(0044)    PORTE=~PORTE;
    010B1 B023      IN	R2,0x03
    010B2 9420      COM	R2
    010B3 B823      OUT	0x03,R2
(0045)    if(send_data_cur<send_data_length){//还有数据存在，继续发送
    010B4 9020 023C LDS	R2,send_data_length
    010B6 9030 023D LDS	R3,send_data_length+1
    010B8 9040 023E LDS	R4,send_data_cur
    010BA 9050 023F LDS	R5,send_data_cur+1
    010BC 1442      CP	R4,R2
    010BD 0453      CPC	R5,R3
    010BE F490      BCC	0x10D1
(0046)       UDR0=send_data_cache[send_data_cur];
    010BF E180      LDI	R24,0x10
    010C0 E091      LDI	R25,1
    010C1 01F2      MOVW	R30,R4
    010C2 0FEE      LSL	R30
    010C3 1FFF      ROL	R31
    010C4 0FE8      ADD	R30,R24
    010C5 1FF9      ADC	R31,R25
    010C6 8020      LD	R2,Z
    010C7 8031      LDD	R3,Z+1
    010C8 B82C      OUT	0x0C,R2
(0047) 	  send_data_cur++;
    010C9 01C2      MOVW	R24,R4
    010CA 9601      ADIW	R24,1
    010CB 9390 023F STS	send_data_cur+1,R25
    010CD 9380 023E STS	send_data_cur,R24
(0048) 	  UCSR0B |=(1<<UDRIE0); //开中断
    010CF 9A55      SBI	0x0A,5
(0049)    }else{//没有数据啦，清空游标。关中断
    010D0 C00A      RJMP	0x10DB
(0050)     send_data_length=0;
    010D1 2422      CLR	R2
    010D2 2433      CLR	R3
    010D3 9230 023D STS	send_data_length+1,R3
    010D5 9220 023C STS	send_data_length,R2
(0051)     send_data_cur=0;
    010D7 9230 023F STS	send_data_cur+1,R3
    010D9 9220 023E STS	send_data_cur,R2
(0052)    } 
    010DB 9019      LD	R1,Y+
    010DC BE1F      OUT	0x3F,R1
    010DD 91F9      LD	R31,Y+
    010DE 91E9      LD	R30,Y+
    010DF 9199      LD	R25,Y+
    010E0 9189      LD	R24,Y+
    010E1 9059      LD	R5,Y+
    010E2 9049      LD	R4,Y+
    010E3 9039      LD	R3,Y+
    010E4 9029      LD	R2,Y+
    010E5 9019      LD	R1,Y+
    010E6 9518      RETI
_puts0:
  s                    --> R20
    010E7 934A      ST	-Y,R20
    010E8 935A      ST	-Y,R21
    010E9 01A8      MOVW	R20,R16
(0053)   
(0054) }
(0055) 
(0056) void puts0(char *s)
(0057) {
    010EA C005      RJMP	0x10F0
(0058)   while (*s)
(0059)   {
(0060)     putchar0(*s);
    010EB 01FA      MOVW	R30,R20
    010EC 8100      LD	R16,Z
    010ED DFA7      RCALL	_putchar0
(0061)     s++;
    010EE 5F4F      SUBI	R20,0xFF
    010EF 4F5F      SBCI	R21,0xFF
    010F0 01FA      MOVW	R30,R20
    010F1 8020      LD	R2,Z
    010F2 2022      TST	R2
    010F3 F7B9      BNE	0x10EB
(0062)   }
(0063)   putchar0(0x0a);//回车换行
    010F4 E00A      LDI	R16,0xA
    010F5 DF9F      RCALL	_putchar0
    010F6 9159      LD	R21,Y+
    010F7 9149      LD	R20,Y+
    010F8 9508      RET
_EEPROM_write:
  data                 --> R10
  addr_l               --> R14
  addr_h               --> R12
    010F9 940E 3A12 CALL	push_xgset00FC
    010FB 0179      MOVW	R14,R18
    010FC 0168      MOVW	R12,R16
    010FD 80AE      LDD	R10,Y+6
    010FE 80BF      LDD	R11,Y+7
FILE: E:\ICCDemo\Temp_Control\temp_control\eeprom.c
(0001) #include<iom128v.h>
(0002) #include "eeprom.h"
(0003) #include "delay.h"
(0004) 
(0005) //使用全非中断方式读写。温控数据在保存时候一次性写入。状态数据执行时写入，写入量小不会影响速度
(0006) void EEPROM_write(uint addr_h,uint addr_l,uint data){
(0007)    SREG&=0x7F;//关中断
    010FF B78F      IN	R24,0x3F
    01100 778F      ANDI	R24,0x7F
    01101 BF8F      OUT	0x3F,R24
(0008)     while(EECR & (1<<EEWE)){
    01102 99E1      SBIC	0x1C,1
    01103 CFFE      RJMP	0x1102
(0009) 	 			 
(0010) 	 } 
(0011) 	  EEARL=addr_l;
    01104 BAEE      OUT	0x1E,R14
(0012) 	 EEARH=addr_h;
    01105 BACF      OUT	0x1F,R12
(0013) 	 EEDR=data;
    01106 BAAD      OUT	0x1D,R10
(0014) 	 EECR|=(1<<EEMWE);
    01107 9AE2      SBI	0x1C,2
(0015) 	 EECR|=(1<<EEWE);
    01108 9AE1      SBI	0x1C,1
(0016) 	  delay_us(1);
    01109 E001      LDI	R16,1
    0110A E010      LDI	R17,0
    0110B 940E 04DA CALL	_delay_us
(0017) 	 SREG|=0x80;//开中断
    0110D 9478      BSET	7
(0018) 	 return;
    0110E 940C 39FC JMP	pop_xgset00FC
_EEPROM_read:
  data                 --> R10
  addr_l               --> R12
  addr_h               --> R10
    01110 940E 3A14 CALL	push_xgset003C
    01112 0169      MOVW	R12,R18
    01113 0158      MOVW	R10,R16
(0019) }
(0020) uint EEPROM_read(uint addr_h,uint addr_l){
(0021)    uint data;
(0022)    SREG&=0x7F;//关中断
    01114 B78F      IN	R24,0x3F
    01115 778F      ANDI	R24,0x7F
    01116 BF8F      OUT	0x3F,R24
(0023)     while(EECR & (1<<EEWE)){ 			 
    01117 99E1      SBIC	0x1C,1
    01118 CFFE      RJMP	0x1117
(0024) 	 }
(0025) 	EEARL=addr_l;
    01119 BACE      OUT	0x1E,R12
(0026) 	 EEARH=addr_h;
    0111A BAAF      OUT	0x1F,R10
(0027) 	 
(0028) 	 EECR|=(1<<EERE);
    0111B 9AE0      SBI	0x1C,0
(0029) 	 delay_us(1);
    0111C E001      LDI	R16,1
    0111D E010      LDI	R17,0
    0111E 940E 04DA CALL	_delay_us
(0030) 	 data=EEDR;
    01120 B2AD      IN	R10,0x1D
    01121 24BB      CLR	R11
(0031) 	 SREG|=0x80;//开中断
    01122 9478      BSET	7
(0032) 	 return data;
    01123 0185      MOVW	R16,R10
    01124 940C 39F7 JMP	pop_xgset003C
_pageTime:
  y                    --> R10
    01126 92AA      ST	-Y,R10
    01127 92BA      ST	-Y,R11
    01128 0158      MOVW	R10,R16
    01129 9722      SBIW	R28,2
FILE: E:\ICCDemo\Temp_Control\temp_control\pages.c
(0001) #include<iom128v.h>
(0002) #include "main.h"
(0003) #include "lcd.h"
(0004) #include "time1307.h"
(0005) #include "timertask.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "temp.h"
(0009) #include "eeprom.h"
(0010) //下面这个头文件里包含WDR();喂狗的方法
(0011) //#include <AVRdef.h>
(0012) 
(0013) //************************
(0014) // 所有界面信息在这里,用到全局变量， 
(0015) // unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0016) // unsigned int pageParam[5];//传递参数。界面间参数暂存
(0017) // unsigned int prePageNum;
(0018) //************************
(0019) 
(0020) //用于显第一行日期信息，其中Page1、Page3 、Page8使用，
(0021) //由定时器触发该函数，进入这三个界面是启动定时器，退出时关闭
(0022) void pageTime(uint y){
(0023)                 //关定时器
(0024)    lcd_write_str(0,y,"时间:");
    0112A EC89      LDI	R24,0xC9
    0112B E099      LDI	R25,0x9
    0112C 8399      STD	Y+1,R25
    0112D 8388      ST	Y,R24
    0112E 2D2A      MOV	R18,R10
    0112F 2700      CLR	R16
    01130 940E 0734 CALL	_lcd_write_str
(0025)    showTime_page(y);
    01132 0185      MOVW	R16,R10
    01133 940E 3907 CALL	_showTime_page
    01135 9622      ADIW	R28,2
    01136 90B9      LD	R11,Y+
    01137 90A9      LD	R10,Y+
    01138 9508      RET
_pageTime2:
  y                    --> R10
    01139 92AA      ST	-Y,R10
    0113A 92BA      ST	-Y,R11
    0113B 0158      MOVW	R10,R16
(0026)                  //开定时器 
(0027) }
(0028) void pageTime2(uint y){
(0029)                 //关定时器
(0030)    //lcd_write_str(0,y,"时间:");
(0031)    showTime_page(y);
    0113C 0185      MOVW	R16,R10
    0113D 940E 3907 CALL	_showTime_page
    0113F 90B9      LD	R11,Y+
    01140 90A9      LD	R10,Y+
    01141 9508      RET
_page1:
  cur                  --> R20
  keyV                 --> R10
  y                    --> R22
  i                    --> R10
    01142 940E 3A49 CALL	push_xgsetF03C
    01144 9722      SBIW	R28,2
(0032)                  //开定时器 
(0033) }
(0034) //page1,首页的界面
(0035) void page1(void){
(0036)    uint cur=0;
(0037)    uchar keyV;
(0038)    uint i;//用于循环
(0039)    uint y;//确定是那个半屏幕
(0040)    prePageNum=1;//首页不会再有上一界面，这里设置。虽然违反规则
    01145 E081      LDI	R24,1
    01146 E090      LDI	R25,0
    01147 9390 0E87 STS	prePageNum+1,R25
    01149 9380 0E86 STS	prePageNum,R24
(0041)    //初始化起始选择
(0042)     lcd_write_str(1,1," T1:");
    0114B EC84      LDI	R24,0xC4
    0114C E099      LDI	R25,0x9
    0114D 8399      STD	Y+1,R25
    0114E 8388      ST	Y,R24
    0114F E021      LDI	R18,1
    01150 E001      LDI	R16,1
    01151 940E 0734 CALL	_lcd_write_str
(0043)     lcd_write_str(6,1," T2:");
    01153 EB8F      LDI	R24,0xBF
    01154 E099      LDI	R25,0x9
    01155 8399      STD	Y+1,R25
    01156 8388      ST	Y,R24
    01157 E021      LDI	R18,1
    01158 E006      LDI	R16,6
    01159 940E 0734 CALL	_lcd_write_str
(0044)     lcd_write_str(1,2," T3:");
    0115B EB8A      LDI	R24,0xBA
    0115C E099      LDI	R25,0x9
    0115D 8399      STD	Y+1,R25
    0115E 8388      ST	Y,R24
    0115F E022      LDI	R18,2
    01160 E001      LDI	R16,1
    01161 940E 0734 CALL	_lcd_write_str
(0045)     lcd_write_str(6,2," T4:");
    01163 EB85      LDI	R24,0xB5
    01164 E099      LDI	R25,0x9
    01165 8399      STD	Y+1,R25
    01166 8388      ST	Y,R24
    01167 E022      LDI	R18,2
    01168 E006      LDI	R16,6
    01169 940E 0734 CALL	_lcd_write_str
(0046) 
(0047) 	
(0048) 	lcd_write_str(1,3,"开始    ");
    0116B EA8C      LDI	R24,0xAC
    0116C E099      LDI	R25,0x9
    0116D 8399      STD	Y+1,R25
    0116E 8388      ST	Y,R24
    0116F E023      LDI	R18,3
    01170 E001      LDI	R16,1
    01171 940E 0734 CALL	_lcd_write_str
(0049)     lcd_write_str_con(3,"停止    ");
    01173 EA23      LDI	R18,0xA3
    01174 E039      LDI	R19,0x9
    01175 E003      LDI	R16,3
    01176 940E 077E CALL	_lcd_write_str_con
(0050) 	lcd_write_str_con(3,"设置");
    01178 E92E      LDI	R18,0x9E
    01179 E039      LDI	R19,0x9
    0117A E003      LDI	R16,3
    0117B 940E 077E CALL	_lcd_write_str_con
(0051) 	lcd_write_str(1,3,"开始    ");
    0117D EA8C      LDI	R24,0xAC
    0117E E099      LDI	R25,0x9
    0117F 8399      STD	Y+1,R25
    01180 8388      ST	Y,R24
    01181 E023      LDI	R18,3
    01182 E001      LDI	R16,1
    01183 940E 0734 CALL	_lcd_write_str
(0052)     lcd_write_str_con(3,"停止    ");
    01185 EA23      LDI	R18,0xA3
    01186 E039      LDI	R19,0x9
    01187 E003      LDI	R16,3
    01188 940E 077E CALL	_lcd_write_str_con
(0053) 	lcd_write_str_con(3,"设置"); 
    0118A E92E      LDI	R18,0x9E
    0118B E039      LDI	R19,0x9
    0118C E003      LDI	R16,3
    0118D 940E 077E CALL	_lcd_write_str_con
(0054) 	cur=0;
    0118F 2744      CLR	R20
    01190 2755      CLR	R21
(0055) 	Set_White(2,1,3);
    01191 E083      LDI	R24,3
    01192 8388      ST	Y,R24
    01193 E021      LDI	R18,1
    01194 E002      LDI	R16,2
    01195 940E 0959 CALL	_Set_White
    01197 C389      RJMP	0x1521
(0056) 	while(1){
(0057) 	 pageTime(0);
    01198 2700      CLR	R16
    01199 2711      CLR	R17
    0119A DF8B      RCALL	_pageTime
(0058) 	for(i=0;i<4;i++){
    0119B 24AA      CLR	R10
    0119C 24BB      CLR	R11
    0119D C0DF      RJMP	0x127D
(0059) 	  if(i==0){
    0119E 20AA      TST	R10
    0119F F449      BNE	0x11A9
    011A0 20BB      TST	R11
    011A1 F439      BNE	0x11A9
(0060) 	    y=1;
    011A2 E061      LDI	R22,1
    011A3 E070      LDI	R23,0
(0061) 	    lcd_write_pos(3,1);
    011A4 E021      LDI	R18,1
    011A5 E003      LDI	R16,3
    011A6 940E 06F0 CALL	_lcd_write_pos
(0062) 	  }else if(i==1){
    011A8 C023      RJMP	0x11CC
    011A9 01C5      MOVW	R24,R10
    011AA 3081      CPI	R24,1
    011AB E0E0      LDI	R30,0
    011AC 079E      CPC	R25,R30
    011AD F439      BNE	0x11B5
(0063) 	    y=1;
    011AE E061      LDI	R22,1
    011AF E070      LDI	R23,0
(0064) 	    lcd_write_pos(8,1);
    011B0 E021      LDI	R18,1
    011B1 E008      LDI	R16,0x8
    011B2 940E 06F0 CALL	_lcd_write_pos
(0065) 	  }else if(i==2){
    011B4 C017      RJMP	0x11CC
    011B5 01C5      MOVW	R24,R10
    011B6 3082      CPI	R24,2
    011B7 E0E0      LDI	R30,0
    011B8 079E      CPC	R25,R30
    011B9 F439      BNE	0x11C1
(0066) 	    y=2;
    011BA E062      LDI	R22,2
    011BB E070      LDI	R23,0
(0067) 	    lcd_write_pos(3,2);
    011BC E022      LDI	R18,2
    011BD E003      LDI	R16,3
    011BE 940E 06F0 CALL	_lcd_write_pos
(0068) 	  }else if(i==3){
    011C0 C00B      RJMP	0x11CC
    011C1 01C5      MOVW	R24,R10
    011C2 3083      CPI	R24,3
    011C3 E0E0      LDI	R30,0
    011C4 079E      CPC	R25,R30
    011C5 F431      BNE	0x11CC
(0069) 	    y=2;
    011C6 E062      LDI	R22,2
    011C7 E070      LDI	R23,0
(0070) 	    lcd_write_pos(8,2);
    011C8 E022      LDI	R18,2
    011C9 E008      LDI	R16,0x8
    011CA 940E 06F0 CALL	_lcd_write_pos
(0071) 	  }
(0072) 	   switch(temps[i].flag){
    011CC E404      LDI	R16,0x44
    011CD E011      LDI	R17,1
    011CE 0195      MOVW	R18,R10
    011CF 940E 39E7 CALL	empy16s
    011D1 E488      LDI	R24,0x48
    011D2 E092      LDI	R25,2
    011D3 01F8      MOVW	R30,R16
    011D4 0FE8      ADD	R30,R24
    011D5 1FF9      ADC	R31,R25
    011D6 80C0      LD	R12,Z
    011D7 80D1      LDD	R13,Z+1
    011D8 20CC      TST	R12
    011D9 F411      BNE	0x11DC
    011DA 20DD      TST	R13
    011DB F0F9      BEQ	0x11FB
    011DC 01C6      MOVW	R24,R12
    011DD 3081      CPI	R24,1
    011DE E0E0      LDI	R30,0
    011DF 079E      CPC	R25,R30
    011E0 F101      BEQ	0x1201
    011E1 3082      CPI	R24,2
    011E2 E0E0      LDI	R30,0
    011E3 079E      CPC	R25,R30
    011E4 F409      BNE	0x11E6
    011E5 C077      RJMP	0x125D
    011E6 3083      CPI	R24,3
    011E7 E0E0      LDI	R30,0
    011E8 079E      CPC	R25,R30
    011E9 F409      BNE	0x11EB
    011EA C078      RJMP	0x1263
    011EB 3084      CPI	R24,4
    011EC E0E0      LDI	R30,0
    011ED 079E      CPC	R25,R30
    011EE F409      BNE	0x11F0
    011EF C079      RJMP	0x1269
    011F0 3085      CPI	R24,5
    011F1 E0E0      LDI	R30,0
    011F2 079E      CPC	R25,R30
    011F3 F409      BNE	0x11F5
    011F4 C07A      RJMP	0x126F
    011F5 3086      CPI	R24,6
    011F6 E0E0      LDI	R30,0
    011F7 079E      CPC	R25,R30
    011F8 F409      BNE	0x11FA
    011F9 C07B      RJMP	0x1275
    011FA C07F      RJMP	0x127A
(0073) 	     case 0:
(0074) 		   lcd_write_str_con(y,"停止");
    011FB E929      LDI	R18,0x99
    011FC E039      LDI	R19,0x9
    011FD 2F06      MOV	R16,R22
    011FE 940E 077E CALL	_lcd_write_str_con
(0075) 		   break;
    01200 C079      RJMP	0x127A
(0076) 		 case 1:
(0077) 		   lcd_write_char_con(y,0x30 | (int)temps[i].actualtemp/100);
    01201 E404      LDI	R16,0x44
    01202 E011      LDI	R17,1
    01203 0195      MOVW	R18,R10
    01204 940E 39E7 CALL	empy16s
    01206 E68C      LDI	R24,0x6C
    01207 E093      LDI	R25,3
    01208 01F8      MOVW	R30,R16
    01209 0FE8      ADD	R30,R24
    0120A 1FF9      ADC	R31,R25
    0120B 8100      LD	R16,Z
    0120C 8111      LDD	R17,Z+1
    0120D 8122      LDD	R18,Z+2
    0120E 8133      LDD	R19,Z+3
    0120F 940E 3B34 CALL	fpint
    01211 E624      LDI	R18,0x64
    01212 E030      LDI	R19,0
    01213 940E 399D CALL	div16s
    01215 0198      MOVW	R18,R16
    01216 6320      ORI	R18,0x30
    01217 2F06      MOV	R16,R22
    01218 940E 06DC CALL	_lcd_write_char_con
(0078) 		   lcd_write_char_con(y,0x30 | ((int)temps[i].actualtemp/10)%10);
    0121A E404      LDI	R16,0x44
    0121B E011      LDI	R17,1
    0121C 0195      MOVW	R18,R10
    0121D 940E 39E7 CALL	empy16s
    0121F E68C      LDI	R24,0x6C
    01220 E093      LDI	R25,3
    01221 01F8      MOVW	R30,R16
    01222 0FE8      ADD	R30,R24
    01223 1FF9      ADC	R31,R25
    01224 8100      LD	R16,Z
    01225 8111      LDD	R17,Z+1
    01226 8122      LDD	R18,Z+2
    01227 8133      LDD	R19,Z+3
    01228 940E 3B34 CALL	fpint
    0122A E02A      LDI	R18,0xA
    0122B E030      LDI	R19,0
    0122C 940E 399D CALL	div16s
    0122E E02A      LDI	R18,0xA
    0122F E030      LDI	R19,0
    01230 940E 3999 CALL	mod16s
    01232 0198      MOVW	R18,R16
    01233 6320      ORI	R18,0x30
    01234 2F06      MOV	R16,R22
    01235 940E 06DC CALL	_lcd_write_char_con
(0079) 		   lcd_write_char_con(y,0x30 | (int)temps[i].actualtemp%10);
    01237 E404      LDI	R16,0x44
    01238 E011      LDI	R17,1
    01239 0195      MOVW	R18,R10
    0123A 940E 39E7 CALL	empy16s
    0123C E68C      LDI	R24,0x6C
    0123D E093      LDI	R25,3
    0123E 01F8      MOVW	R30,R16
    0123F 0FE8      ADD	R30,R24
    01240 1FF9      ADC	R31,R25
    01241 8100      LD	R16,Z
    01242 8111      LDD	R17,Z+1
    01243 8122      LDD	R18,Z+2
    01244 8133      LDD	R19,Z+3
    01245 940E 3B34 CALL	fpint
    01247 E02A      LDI	R18,0xA
    01248 E030      LDI	R19,0
    01249 940E 3999 CALL	mod16s
    0124B 0198      MOVW	R18,R16
    0124C 6320      ORI	R18,0x30
    0124D 2F06      MOV	R16,R22
    0124E 940E 06DC CALL	_lcd_write_char_con
(0080) 		   lcd_write_char_con(y,' ');
    01250 E220      LDI	R18,0x20
    01251 2F06      MOV	R16,R22
    01252 940E 06DC CALL	_lcd_write_char_con
(0081) 		   lcd_write_char_con(y,0xA1);
    01254 EA21      LDI	R18,0xA1
    01255 2F06      MOV	R16,R22
    01256 940E 06DC CALL	_lcd_write_char_con
(0082)           lcd_write_char_con(y,0xE6);
    01258 EE26      LDI	R18,0xE6
    01259 2F06      MOV	R16,R22
    0125A 940E 06DC CALL	_lcd_write_char_con
(0083) 		   break;
    0125C C01D      RJMP	0x127A
(0084) 		 case 2:
(0085) 		   lcd_write_str_con(y,"故障");
    0125D E924      LDI	R18,0x94
    0125E E039      LDI	R19,0x9
    0125F 2F06      MOV	R16,R22
    01260 940E 077E CALL	_lcd_write_str_con
(0086) 		   break;
    01262 C017      RJMP	0x127A
(0087) 		 case 3:
(0088) 		   lcd_write_str_con(y,"暂停");
    01263 E82F      LDI	R18,0x8F
    01264 E039      LDI	R19,0x9
    01265 2F06      MOV	R16,R22
    01266 940E 077E CALL	_lcd_write_str_con
(0089) 		   break;
    01268 C011      RJMP	0x127A
(0090) 		 case 4:
(0091) 		   lcd_write_str_con(y,"结束");
    01269 E82A      LDI	R18,0x8A
    0126A E039      LDI	R19,0x9
    0126B 2F06      MOV	R16,R22
    0126C 940E 077E CALL	_lcd_write_str_con
(0092) 		   break;
    0126E C00B      RJMP	0x127A
(0093) 		 case 5:
(0094) 		   lcd_write_str_con(y,"等待");
    0126F E825      LDI	R18,0x85
    01270 E039      LDI	R19,0x9
    01271 2F06      MOV	R16,R22
    01272 940E 077E CALL	_lcd_write_str_con
(0095) 		   break;
    01274 C005      RJMP	0x127A
(0096) 		 case 6:
(0097) 		   lcd_write_str_con(y,"暂停");
    01275 E82F      LDI	R18,0x8F
    01276 E039      LDI	R19,0x9
    01277 2F06      MOV	R16,R22
    01278 940E 077E CALL	_lcd_write_str_con
    0127A 01C5      MOVW	R24,R10
    0127B 9601      ADIW	R24,1
    0127C 015C      MOVW	R10,R24
    0127D 01C5      MOVW	R24,R10
    0127E 3084      CPI	R24,4
    0127F E0E0      LDI	R30,0
    01280 079E      CPC	R25,R30
    01281 F408      BCC	0x1283
    01282 CF1B      RJMP	0x119E
(0098) 		   break;
(0099) 		   break;
(0100) 		 default:
(0101) 		   break;
(0102) 	   }
(0103) 	}
(0104) 	 keyV=KeyScan_once();
    01283 940E 05D1 CALL	_KeyScan_once
    01285 2EA0      MOV	R10,R16
(0105) 	 if(keyV=='a'){
    01286 3601      CPI	R16,0x61
    01287 F009      BEQ	0x1289
    01288 C053      RJMP	0x12DC
(0106) 	      //pageNum=8;//跳转到设置时间的界面
(0107) 		   pageNum=8;
    01289 E088      LDI	R24,0x8
    0128A E090      LDI	R25,0
    0128B 9390 0E93 STS	pageNum+1,R25
    0128D 9380 0E92 STS	pageNum,R24
(0108) 	   switch(cur){
    0128F 3040      CPI	R20,0
    01290 0745      CPC	R20,R21
    01291 F0C9      BEQ	0x12AB
    01292 3041      CPI	R20,1
    01293 E0E0      LDI	R30,0
    01294 075E      CPC	R21,R30
    01295 F0E1      BEQ	0x12B2
    01296 3042      CPI	R20,2
    01297 E0E0      LDI	R30,0
    01298 075E      CPC	R21,R30
    01299 F0F9      BEQ	0x12B9
    0129A 3043      CPI	R20,3
    0129B E0E0      LDI	R30,0
    0129C 075E      CPC	R21,R30
    0129D F111      BEQ	0x12C0
    0129E 3044      CPI	R20,4
    0129F E0E0      LDI	R30,0
    012A0 075E      CPC	R21,R30
    012A1 F129      BEQ	0x12C7
    012A2 3045      CPI	R20,5
    012A3 E0E0      LDI	R30,0
    012A4 075E      CPC	R21,R30
    012A5 F141      BEQ	0x12CE
    012A6 3046      CPI	R20,6
    012A7 E0E0      LDI	R30,0
    012A8 075E      CPC	R21,R30
    012A9 F159      BEQ	0x12D5
    012AA C277      RJMP	0x1522
(0109) 		 case 0: 
(0110) 		    Set_White_off(2,1,3);
    012AB E083      LDI	R24,3
    012AC 8388      ST	Y,R24
    012AD E021      LDI	R18,1
    012AE E002      LDI	R16,2
    012AF 940E 08E9 CALL	_Set_White_off
(0111) 		    break;
    012B1 C270      RJMP	0x1522
(0112) 		 case 1:
(0113) 		   Set_White_off(7,1,8);
    012B2 E088      LDI	R24,0x8
    012B3 8388      ST	Y,R24
    012B4 E021      LDI	R18,1
    012B5 E007      LDI	R16,7
    012B6 940E 08E9 CALL	_Set_White_off
(0114) 		   break;
    012B8 C269      RJMP	0x1522
(0115) 		 case 2:
(0116) 		  Set_White_off(2,2,3);
    012B9 E083      LDI	R24,3
    012BA 8388      ST	Y,R24
    012BB E022      LDI	R18,2
    012BC E002      LDI	R16,2
    012BD 940E 08E9 CALL	_Set_White_off
(0117) 		  break;
    012BF C262      RJMP	0x1522
(0118) 		 case 3:
(0119) 		   Set_White_off(7,2,8);
    012C0 E088      LDI	R24,0x8
    012C1 8388      ST	Y,R24
    012C2 E022      LDI	R18,2
    012C3 E007      LDI	R16,7
    012C4 940E 08E9 CALL	_Set_White_off
(0120) 		    break;
    012C6 C25B      RJMP	0x1522
(0121) 		case 4:
(0122) 		    Set_White_off(2,3,3);
    012C7 E083      LDI	R24,3
    012C8 8388      ST	Y,R24
    012C9 E023      LDI	R18,3
    012CA E002      LDI	R16,2
    012CB 940E 08E9 CALL	_Set_White_off
(0123) 		    break;
    012CD C254      RJMP	0x1522
(0124) 		case 5:
(0125) 		    Set_White_off(6,3,7);
    012CE E087      LDI	R24,7
    012CF 8388      ST	Y,R24
    012D0 E023      LDI	R18,3
    012D1 E006      LDI	R16,6
    012D2 940E 08E9 CALL	_Set_White_off
(0126) 		    break;
    012D4 C24D      RJMP	0x1522
(0127) 		 case 6:
(0128) 		   Set_White_off(10,3,11);
    012D5 E08B      LDI	R24,0xB
    012D6 8388      ST	Y,R24
    012D7 E023      LDI	R18,3
    012D8 E00A      LDI	R16,0xA
    012D9 940E 08E9 CALL	_Set_White_off
(0129) 		    break;
(0130) 		  default:
(0131) 		   break;
(0132) 		 }
(0133) 	   return ;
    012DB C246      RJMP	0x1522
(0134) 	}else if(keyV=='d'){
    012DC 2D8A      MOV	R24,R10
    012DD 3684      CPI	R24,0x64
    012DE F009      BEQ	0x12E0
    012DF C04C      RJMP	0x132C
(0135) 	     switch(cur){
    012E0 3040      CPI	R20,0
    012E1 0745      CPC	R20,R21
    012E2 F069      BEQ	0x12F0
    012E3 3041      CPI	R20,1
    012E4 E0E0      LDI	R30,0
    012E5 075E      CPC	R21,R30
    012E6 F0C1      BEQ	0x12FF
    012E7 3042      CPI	R20,2
    012E8 E0E0      LDI	R30,0
    012E9 075E      CPC	R21,R30
    012EA F119      BEQ	0x130E
    012EB 3043      CPI	R20,3
    012EC E0E0      LDI	R30,0
    012ED 075E      CPC	R21,R30
    012EE F171      BEQ	0x131D
    012EF C231      RJMP	0x1521
(0136) 		  case 0:
(0137) 		   Set_White_off(2,1,3);
    012F0 E083      LDI	R24,3
    012F1 8388      ST	Y,R24
    012F2 E021      LDI	R18,1
    012F3 E002      LDI	R16,2
    012F4 940E 08E9 CALL	_Set_White_off
(0138) 		   Set_White(2,2,3);
    012F6 E083      LDI	R24,3
    012F7 8388      ST	Y,R24
    012F8 E022      LDI	R18,2
    012F9 E002      LDI	R16,2
    012FA 940E 0959 CALL	_Set_White
(0139) 		   cur=2;
    012FC E042      LDI	R20,2
    012FD E050      LDI	R21,0
(0140) 		   break;
    012FE C222      RJMP	0x1521
(0141) 		  case 1:
(0142) 		   Set_White_off(7,1,8);
    012FF E088      LDI	R24,0x8
    01300 8388      ST	Y,R24
    01301 E021      LDI	R18,1
    01302 E007      LDI	R16,7
    01303 940E 08E9 CALL	_Set_White_off
(0143) 		   Set_White(7,2,8);
    01305 E088      LDI	R24,0x8
    01306 8388      ST	Y,R24
    01307 E022      LDI	R18,2
    01308 E007      LDI	R16,7
    01309 940E 0959 CALL	_Set_White
(0144) 		   cur=3;
    0130B E043      LDI	R20,3
    0130C E050      LDI	R21,0
(0145) 		   break;
    0130D C213      RJMP	0x1521
(0146) 		  case 2:
(0147) 		   Set_White_off(2,2,3);
    0130E E083      LDI	R24,3
    0130F 8388      ST	Y,R24
    01310 E022      LDI	R18,2
    01311 E002      LDI	R16,2
    01312 940E 08E9 CALL	_Set_White_off
(0148) 		   Set_White(2,3,3);
    01314 E083      LDI	R24,3
    01315 8388      ST	Y,R24
    01316 E023      LDI	R18,3
    01317 E002      LDI	R16,2
    01318 940E 0959 CALL	_Set_White
(0149) 		   cur=4;
    0131A E044      LDI	R20,4
    0131B E050      LDI	R21,0
(0150) 		   break;
    0131C C204      RJMP	0x1521
(0151) 		  case 3:
(0152) 		   Set_White_off(7,2,8);
    0131D E088      LDI	R24,0x8
    0131E 8388      ST	Y,R24
    0131F E022      LDI	R18,2
    01320 E007      LDI	R16,7
    01321 940E 08E9 CALL	_Set_White_off
(0153) 		   Set_White(6,3,7);
    01323 E087      LDI	R24,7
    01324 8388      ST	Y,R24
    01325 E023      LDI	R18,3
    01326 E006      LDI	R16,6
    01327 940E 0959 CALL	_Set_White
(0154) 		   cur=5;
    01329 E045      LDI	R20,5
    0132A E050      LDI	R21,0
(0155) 		   break;
(0156) 		  default:
(0157) 		   break;
(0158) 		 }
(0159) 	}else if(keyV=='u'){switch(cur){
    0132B C1F5      RJMP	0x1521
    0132C 2D8A      MOV	R24,R10
    0132D 3785      CPI	R24,0x75
    0132E F009      BEQ	0x1330
    0132F C061      RJMP	0x1391
    01330 3042      CPI	R20,2
    01331 E0E0      LDI	R30,0
    01332 075E      CPC	R21,R30
    01333 F091      BEQ	0x1346
    01334 3043      CPI	R20,3
    01335 E0E0      LDI	R30,0
    01336 075E      CPC	R21,R30
    01337 F0E9      BEQ	0x1355
    01338 3044      CPI	R20,4
    01339 E0E0      LDI	R30,0
    0133A 075E      CPC	R21,R30
    0133B F141      BEQ	0x1364
    0133C 3045      CPI	R20,5
    0133D E0E0      LDI	R30,0
    0133E 075E      CPC	R21,R30
    0133F F199      BEQ	0x1373
    01340 3046      CPI	R20,6
    01341 E0E0      LDI	R30,0
    01342 075E      CPC	R21,R30
    01343 F409      BNE	0x1345
    01344 C03D      RJMP	0x1382
    01345 C1DB      RJMP	0x1521
(0160) 		  case 2:
(0161) 		   Set_White_off(2,2,3);
    01346 E083      LDI	R24,3
    01347 8388      ST	Y,R24
    01348 E022      LDI	R18,2
    01349 E002      LDI	R16,2
    0134A 940E 08E9 CALL	_Set_White_off
(0162) 		   Set_White(2,1,3);
    0134C E083      LDI	R24,3
    0134D 8388      ST	Y,R24
    0134E E021      LDI	R18,1
    0134F E002      LDI	R16,2
    01350 940E 0959 CALL	_Set_White
(0163) 		   cur=0;
    01352 2744      CLR	R20
    01353 2755      CLR	R21
(0164) 		   break;
    01354 C1CC      RJMP	0x1521
(0165) 		  case 3:
(0166) 		   Set_White_off(7,2,8);
    01355 E088      LDI	R24,0x8
    01356 8388      ST	Y,R24
    01357 E022      LDI	R18,2
    01358 E007      LDI	R16,7
    01359 940E 08E9 CALL	_Set_White_off
(0167) 		   Set_White(7,1,8);
    0135B E088      LDI	R24,0x8
    0135C 8388      ST	Y,R24
    0135D E021      LDI	R18,1
    0135E E007      LDI	R16,7
    0135F 940E 0959 CALL	_Set_White
(0168) 		   cur=1;
    01361 E041      LDI	R20,1
    01362 E050      LDI	R21,0
(0169) 		   break;
    01363 C1BD      RJMP	0x1521
(0170) 		  case 4:
(0171) 		   Set_White_off(2,3,5);
    01364 E085      LDI	R24,5
    01365 8388      ST	Y,R24
    01366 E023      LDI	R18,3
    01367 E002      LDI	R16,2
    01368 940E 08E9 CALL	_Set_White_off
(0172) 		   Set_White(2,2,3);
    0136A E083      LDI	R24,3
    0136B 8388      ST	Y,R24
    0136C E022      LDI	R18,2
    0136D E002      LDI	R16,2
    0136E 940E 0959 CALL	_Set_White
(0173) 		   cur=2;
    01370 E042      LDI	R20,2
    01371 E050      LDI	R21,0
(0174) 		   break;
    01372 C1AE      RJMP	0x1521
(0175) 		  case 5:
(0176) 		   Set_White_off(6,3,7);
    01373 E087      LDI	R24,7
    01374 8388      ST	Y,R24
    01375 E023      LDI	R18,3
    01376 E006      LDI	R16,6
    01377 940E 08E9 CALL	_Set_White_off
(0177) 		   Set_White(7,2,8);
    01379 E088      LDI	R24,0x8
    0137A 8388      ST	Y,R24
    0137B E022      LDI	R18,2
    0137C E007      LDI	R16,7
    0137D 940E 0959 CALL	_Set_White
(0178) 		   cur=3;
    0137F E043      LDI	R20,3
    01380 E050      LDI	R21,0
(0179) 		   break;
    01381 C19F      RJMP	0x1521
(0180) 		  case 6:
(0181) 		   Set_White_off(10,3,11);
    01382 E08B      LDI	R24,0xB
    01383 8388      ST	Y,R24
    01384 E023      LDI	R18,3
    01385 E00A      LDI	R16,0xA
    01386 940E 08E9 CALL	_Set_White_off
(0182) 		   Set_White(7,2,8);
    01388 E088      LDI	R24,0x8
    01389 8388      ST	Y,R24
    0138A E022      LDI	R18,2
    0138B E007      LDI	R16,7
    0138C 940E 0959 CALL	_Set_White
(0183) 		   cur=3;
    0138E E043      LDI	R20,3
    0138F E050      LDI	R21,0
(0184) 		   break;
(0185) 		  default:
(0186) 		   break;
(0187) 		 }
(0188) 	}else if(keyV=='l'){switch(cur){
    01390 C190      RJMP	0x1521
    01391 2D8A      MOV	R24,R10
    01392 368C      CPI	R24,0x6C
    01393 F009      BEQ	0x1395
    01394 C04D      RJMP	0x13E2
    01395 3041      CPI	R20,1
    01396 E0E0      LDI	R30,0
    01397 075E      CPC	R21,R30
    01398 F069      BEQ	0x13A6
    01399 3043      CPI	R20,3
    0139A E0E0      LDI	R30,0
    0139B 075E      CPC	R21,R30
    0139C F0C1      BEQ	0x13B5
    0139D 3045      CPI	R20,5
    0139E E0E0      LDI	R30,0
    0139F 075E      CPC	R21,R30
    013A0 F119      BEQ	0x13C4
    013A1 3046      CPI	R20,6
    013A2 E0E0      LDI	R30,0
    013A3 075E      CPC	R21,R30
    013A4 F171      BEQ	0x13D3
    013A5 C17B      RJMP	0x1521
(0189) 		  case 1:
(0190) 		   Set_White_off(7,1,8);
    013A6 E088      LDI	R24,0x8
    013A7 8388      ST	Y,R24
    013A8 E021      LDI	R18,1
    013A9 E007      LDI	R16,7
    013AA 940E 08E9 CALL	_Set_White_off
(0191) 		   Set_White(2,1,3);
    013AC E083      LDI	R24,3
    013AD 8388      ST	Y,R24
    013AE E021      LDI	R18,1
    013AF E002      LDI	R16,2
    013B0 940E 0959 CALL	_Set_White
(0192) 		   cur=0;
    013B2 2744      CLR	R20
    013B3 2755      CLR	R21
(0193) 		   break;
    013B4 C16C      RJMP	0x1521
(0194) 		  case 3:
(0195) 		   Set_White_off(7,2,8);
    013B5 E088      LDI	R24,0x8
    013B6 8388      ST	Y,R24
    013B7 E022      LDI	R18,2
    013B8 E007      LDI	R16,7
    013B9 940E 08E9 CALL	_Set_White_off
(0196) 		   Set_White(2,2,3);
    013BB E083      LDI	R24,3
    013BC 8388      ST	Y,R24
    013BD E022      LDI	R18,2
    013BE E002      LDI	R16,2
    013BF 940E 0959 CALL	_Set_White
(0197) 		   cur=2;
    013C1 E042      LDI	R20,2
    013C2 E050      LDI	R21,0
(0198) 		   break;
    013C3 C15D      RJMP	0x1521
(0199) 		  case 5:
(0200) 		   Set_White_off(6,3,7);
    013C4 E087      LDI	R24,7
    013C5 8388      ST	Y,R24
    013C6 E023      LDI	R18,3
    013C7 E006      LDI	R16,6
    013C8 940E 08E9 CALL	_Set_White_off
(0201) 		   Set_White(2,3,3);
    013CA E083      LDI	R24,3
    013CB 8388      ST	Y,R24
    013CC E023      LDI	R18,3
    013CD E002      LDI	R16,2
    013CE 940E 0959 CALL	_Set_White
(0202) 		   cur=4;
    013D0 E044      LDI	R20,4
    013D1 E050      LDI	R21,0
(0203) 		   break;
    013D2 C14E      RJMP	0x1521
(0204) 		  case 6:
(0205) 		   Set_White_off(10,3,11);
    013D3 E08B      LDI	R24,0xB
    013D4 8388      ST	Y,R24
    013D5 E023      LDI	R18,3
    013D6 E00A      LDI	R16,0xA
    013D7 940E 08E9 CALL	_Set_White_off
(0206) 		   Set_White(6,3,7);
    013D9 E087      LDI	R24,7
    013DA 8388      ST	Y,R24
    013DB E023      LDI	R18,3
    013DC E006      LDI	R16,6
    013DD 940E 0959 CALL	_Set_White
(0207) 		   cur=5;
    013DF E045      LDI	R20,5
    013E0 E050      LDI	R21,0
(0208) 		   break;
(0209) 		  default:
(0210) 		   break;
(0211) 		 }
(0212) 	}else if(keyV=='r'){
    013E1 C13F      RJMP	0x1521
    013E2 2D8A      MOV	R24,R10
    013E3 3782      CPI	R24,0x72
    013E4 F009      BEQ	0x13E6
    013E5 C04C      RJMP	0x1432
(0213) 	switch(cur){
    013E6 3040      CPI	R20,0
    013E7 0745      CPC	R20,R21
    013E8 F069      BEQ	0x13F6
    013E9 3042      CPI	R20,2
    013EA E0E0      LDI	R30,0
    013EB 075E      CPC	R21,R30
    013EC F0C1      BEQ	0x1405
    013ED 3044      CPI	R20,4
    013EE E0E0      LDI	R30,0
    013EF 075E      CPC	R21,R30
    013F0 F119      BEQ	0x1414
    013F1 3045      CPI	R20,5
    013F2 E0E0      LDI	R30,0
    013F3 075E      CPC	R21,R30
    013F4 F171      BEQ	0x1423
    013F5 C12B      RJMP	0x1521
(0214) 		  case 0:
(0215) 		   Set_White_off(2,1,3);
    013F6 E083      LDI	R24,3
    013F7 8388      ST	Y,R24
    013F8 E021      LDI	R18,1
    013F9 E002      LDI	R16,2
    013FA 940E 08E9 CALL	_Set_White_off
(0216) 		   Set_White(7,1,8);
    013FC E088      LDI	R24,0x8
    013FD 8388      ST	Y,R24
    013FE E021      LDI	R18,1
    013FF E007      LDI	R16,7
    01400 940E 0959 CALL	_Set_White
(0217) 		   cur=1;
    01402 E041      LDI	R20,1
    01403 E050      LDI	R21,0
(0218) 		   break;
    01404 C11C      RJMP	0x1521
(0219) 		  case 2:
(0220) 		   Set_White_off(2,2,3);
    01405 E083      LDI	R24,3
    01406 8388      ST	Y,R24
    01407 E022      LDI	R18,2
    01408 E002      LDI	R16,2
    01409 940E 08E9 CALL	_Set_White_off
(0221) 		   Set_White(7,2,8);
    0140B E088      LDI	R24,0x8
    0140C 8388      ST	Y,R24
    0140D E022      LDI	R18,2
    0140E E007      LDI	R16,7
    0140F 940E 0959 CALL	_Set_White
(0222) 		   cur=3;
    01411 E043      LDI	R20,3
    01412 E050      LDI	R21,0
(0223) 		   break;
    01413 C10D      RJMP	0x1521
(0224) 		  case 4:
(0225) 		   Set_White_off(2,3,3);
    01414 E083      LDI	R24,3
    01415 8388      ST	Y,R24
    01416 E023      LDI	R18,3
    01417 E002      LDI	R16,2
    01418 940E 08E9 CALL	_Set_White_off
(0226) 		   Set_White(6,3,7);
    0141A E087      LDI	R24,7
    0141B 8388      ST	Y,R24
    0141C E023      LDI	R18,3
    0141D E006      LDI	R16,6
    0141E 940E 0959 CALL	_Set_White
(0227) 		   cur=5;
    01420 E045      LDI	R20,5
    01421 E050      LDI	R21,0
(0228) 		   break;
    01422 C0FE      RJMP	0x1521
(0229) 		  case 5:
(0230) 		   Set_White_off(6,3,7);
    01423 E087      LDI	R24,7
    01424 8388      ST	Y,R24
    01425 E023      LDI	R18,3
    01426 E006      LDI	R16,6
    01427 940E 08E9 CALL	_Set_White_off
(0231) 		   Set_White(10,3,11);
    01429 E08B      LDI	R24,0xB
    0142A 8388      ST	Y,R24
    0142B E023      LDI	R18,3
    0142C E00A      LDI	R16,0xA
    0142D 940E 0959 CALL	_Set_White
(0232) 		   cur=6;
    0142F E046      LDI	R20,6
    01430 E050      LDI	R21,0
(0233) 		   break;
(0234) 		  default:
(0235) 		   break;
(0236) 		 }
(0237) 	}else if(keyV=='s'){
    01431 C0EF      RJMP	0x1521
    01432 2D8A      MOV	R24,R10
    01433 3783      CPI	R24,0x73
    01434 F009      BEQ	0x1436
    01435 C053      RJMP	0x1489
(0238) 	   pageNum=5;
    01436 E085      LDI	R24,5
    01437 E090      LDI	R25,0
    01438 9390 0E93 STS	pageNum+1,R25
    0143A 9380 0E92 STS	pageNum,R24
(0239) 	   switch(cur){
    0143C 3040      CPI	R20,0
    0143D 0745      CPC	R20,R21
    0143E F0C9      BEQ	0x1458
    0143F 3041      CPI	R20,1
    01440 E0E0      LDI	R30,0
    01441 075E      CPC	R21,R30
    01442 F0E1      BEQ	0x145F
    01443 3042      CPI	R20,2
    01444 E0E0      LDI	R30,0
    01445 075E      CPC	R21,R30
    01446 F0F9      BEQ	0x1466
    01447 3043      CPI	R20,3
    01448 E0E0      LDI	R30,0
    01449 075E      CPC	R21,R30
    0144A F111      BEQ	0x146D
    0144B 3044      CPI	R20,4
    0144C E0E0      LDI	R30,0
    0144D 075E      CPC	R21,R30
    0144E F129      BEQ	0x1474
    0144F 3045      CPI	R20,5
    01450 E0E0      LDI	R30,0
    01451 075E      CPC	R21,R30
    01452 F141      BEQ	0x147B
    01453 3046      CPI	R20,6
    01454 E0E0      LDI	R30,0
    01455 075E      CPC	R21,R30
    01456 F159      BEQ	0x1482
    01457 C0CA      RJMP	0x1522
(0240) 		 case 0: 
(0241) 		    Set_White_off(2,1,3);
    01458 E083      LDI	R24,3
    01459 8388      ST	Y,R24
    0145A E021      LDI	R18,1
    0145B E002      LDI	R16,2
    0145C 940E 08E9 CALL	_Set_White_off
(0242) 		    break;
    0145E C0C3      RJMP	0x1522
(0243) 		 case 1:
(0244) 		   Set_White_off(7,1,8);
    0145F E088      LDI	R24,0x8
    01460 8388      ST	Y,R24
    01461 E021      LDI	R18,1
    01462 E007      LDI	R16,7
    01463 940E 08E9 CALL	_Set_White_off
(0245) 		   break;
    01465 C0BC      RJMP	0x1522
(0246) 		 case 2:
(0247) 		  Set_White_off(2,2,3);
    01466 E083      LDI	R24,3
    01467 8388      ST	Y,R24
    01468 E022      LDI	R18,2
    01469 E002      LDI	R16,2
    0146A 940E 08E9 CALL	_Set_White_off
(0248) 		  break;
    0146C C0B5      RJMP	0x1522
(0249) 		 case 3:
(0250) 		   Set_White_off(7,2,8);
    0146D E088      LDI	R24,0x8
    0146E 8388      ST	Y,R24
    0146F E022      LDI	R18,2
    01470 E007      LDI	R16,7
    01471 940E 08E9 CALL	_Set_White_off
(0251) 		    break;
    01473 C0AE      RJMP	0x1522
(0252) 		 case 4:
(0253) 		    Set_White_off(2,3,3);
    01474 E083      LDI	R24,3
    01475 8388      ST	Y,R24
    01476 E023      LDI	R18,3
    01477 E002      LDI	R16,2
    01478 940E 08E9 CALL	_Set_White_off
(0254) 		    break;
    0147A C0A7      RJMP	0x1522
(0255) 		case 5:
(0256) 		    Set_White_off(6,3,7);
    0147B E087      LDI	R24,7
    0147C 8388      ST	Y,R24
    0147D E023      LDI	R18,3
    0147E E006      LDI	R16,6
    0147F 940E 08E9 CALL	_Set_White_off
(0257) 		    break;
    01481 C0A0      RJMP	0x1522
(0258) 		 case 6:
(0259) 		   Set_White_off(10,3,11);
    01482 E08B      LDI	R24,0xB
    01483 8388      ST	Y,R24
    01484 E023      LDI	R18,3
    01485 E00A      LDI	R16,0xA
    01486 940E 08E9 CALL	_Set_White_off
(0260) 		    break;
(0261) 		  default:
(0262) 		   break;
(0263) 		 }
(0264) 	   return ;
    01488 C099      RJMP	0x1522
(0265) 	}else if(keyV=='t'){
    01489 2D8A      MOV	R24,R10
    0148A 3784      CPI	R24,0x74
    0148B F009      BEQ	0x148D
    0148C C094      RJMP	0x1521
(0266) 	   switch(cur){
    0148D 3040      CPI	R20,0
    0148E 0745      CPC	R20,R21
    0148F F0F1      BEQ	0x14AE
    01490 3041      CPI	R20,1
    01491 E0E0      LDI	R30,0
    01492 075E      CPC	R21,R30
    01493 F191      BEQ	0x14C6
    01494 3042      CPI	R20,2
    01495 E0E0      LDI	R30,0
    01496 075E      CPC	R21,R30
    01497 F409      BNE	0x1499
    01498 C043      RJMP	0x14DC
    01499 3043      CPI	R20,3
    0149A E0E0      LDI	R30,0
    0149B 075E      CPC	R21,R30
    0149C F409      BNE	0x149E
    0149D C055      RJMP	0x14F3
    0149E 3044      CPI	R20,4
    0149F E0E0      LDI	R30,0
    014A0 075E      CPC	R21,R30
    014A1 F409      BNE	0x14A3
    014A2 C066      RJMP	0x1509
    014A3 3045      CPI	R20,5
    014A4 E0E0      LDI	R30,0
    014A5 075E      CPC	R21,R30
    014A6 F409      BNE	0x14A8
    014A7 C064      RJMP	0x150C
    014A8 3046      CPI	R20,6
    014A9 E0E0      LDI	R30,0
    014AA 075E      CPC	R21,R30
    014AB F409      BNE	0x14AD
    014AC C062      RJMP	0x150F
    014AD C073      RJMP	0x1521
(0267) 		 case 0: 
(0268) 		    Set_White_off(2,1,3);
    014AE E083      LDI	R24,3
    014AF 8388      ST	Y,R24
    014B0 E021      LDI	R18,1
    014B1 E002      LDI	R16,2
    014B2 940E 08E9 CALL	_Set_White_off
(0269) 		    prePageNum=1;
    014B4 E081      LDI	R24,1
    014B5 E090      LDI	R25,0
    014B6 9390 0E87 STS	prePageNum+1,R25
    014B8 9380 0E86 STS	prePageNum,R24
(0270) 		    pageParam[0]=0;//传递使用第一个，对应不同的温度
    014BA 2422      CLR	R2
    014BB 2433      CLR	R3
    014BC 9230 0E89 STS	pageParam+1,R3
    014BE 9220 0E88 STS	pageParam,R2
(0271) 		    pageNum=3;
    014C0 E083      LDI	R24,3
    014C1 9390 0E93 STS	pageNum+1,R25
    014C3 9380 0E92 STS	pageNum,R24
(0272) 		    return;
    014C5 C05C      RJMP	0x1522
(0273) 		 case 1:
(0274) 		   Set_White_off(7,1,8);
    014C6 E088      LDI	R24,0x8
    014C7 8388      ST	Y,R24
    014C8 E021      LDI	R18,1
    014C9 E007      LDI	R16,7
    014CA 940E 08E9 CALL	_Set_White_off
(0275) 		    prePageNum=1;
    014CC E081      LDI	R24,1
    014CD E090      LDI	R25,0
    014CE 9390 0E87 STS	prePageNum+1,R25
    014D0 9380 0E86 STS	prePageNum,R24
(0276) 		   pageParam[0]=1;//传递使用第一个，对应不同的温度
    014D2 9390 0E89 STS	pageParam+1,R25
    014D4 9380 0E88 STS	pageParam,R24
(0277) 		    pageNum=3;
    014D6 E083      LDI	R24,3
    014D7 9390 0E93 STS	pageNum+1,R25
    014D9 9380 0E92 STS	pageNum,R24
(0278) 		    return;
    014DB C046      RJMP	0x1522
(0279) 		 case 2:
(0280) 		  Set_White_off(2,2,3);
    014DC E083      LDI	R24,3
    014DD 8388      ST	Y,R24
    014DE E022      LDI	R18,2
    014DF E002      LDI	R16,2
    014E0 940E 08E9 CALL	_Set_White_off
(0281) 		    prePageNum=1;
    014E2 E081      LDI	R24,1
    014E3 E090      LDI	R25,0
    014E4 9390 0E87 STS	prePageNum+1,R25
    014E6 9380 0E86 STS	prePageNum,R24
(0282) 		    pageParam[0]=2;//传递使用第一个，对应不同的温度
    014E8 E082      LDI	R24,2
    014E9 9390 0E89 STS	pageParam+1,R25
    014EB 9380 0E88 STS	pageParam,R24
(0283) 		   pageNum=3;
    014ED E083      LDI	R24,3
    014EE 9390 0E93 STS	pageNum+1,R25
    014F0 9380 0E92 STS	pageNum,R24
(0284) 		   return;
    014F2 C02F      RJMP	0x1522
(0285) 		 case 3:
(0286) 		   Set_White_off(7,2,8);
    014F3 E088      LDI	R24,0x8
    014F4 8388      ST	Y,R24
    014F5 E022      LDI	R18,2
    014F6 E007      LDI	R16,7
    014F7 940E 08E9 CALL	_Set_White_off
(0287) 		     prePageNum=1;
    014F9 E081      LDI	R24,1
    014FA E090      LDI	R25,0
    014FB 9390 0E87 STS	prePageNum+1,R25
    014FD 9380 0E86 STS	prePageNum,R24
(0288) 		    pageParam[0]=3;//传递使用第一个，对应不同的温度
    014FF E083      LDI	R24,3
    01500 9390 0E89 STS	pageParam+1,R25
    01502 9380 0E88 STS	pageParam,R24
(0289) 		    pageNum=3;
    01504 9390 0E93 STS	pageNum+1,R25
    01506 9380 0E92 STS	pageNum,R24
(0290) 		    return;
    01508 C019      RJMP	0x1522
(0291) 		 case 4:
(0292) 		    //调用函数全部开始，参数正确的
(0293) 			set_all_start();
    01509 940E 3577 CALL	_set_all_start
(0294) 		   break;
    0150B C015      RJMP	0x1521
(0295) 		 case 5:
(0296) 		    //全部停止
(0297) 			set_all_stop();
    0150C 940E 35C3 CALL	_set_all_stop
(0298) 		   break;
    0150E C012      RJMP	0x1521
(0299) 		 case 6://设置
(0300) 		   Set_White_off(10,3,11);
    0150F E08B      LDI	R24,0xB
    01510 8388      ST	Y,R24
    01511 E023      LDI	R18,3
    01512 E00A      LDI	R16,0xA
    01513 940E 08E9 CALL	_Set_White_off
(0301) 		   prePageNum=1;
    01515 E081      LDI	R24,1
    01516 E090      LDI	R25,0
    01517 9390 0E87 STS	prePageNum+1,R25
    01519 9380 0E86 STS	prePageNum,R24
(0302) 		   pageNum=5;
    0151B E085      LDI	R24,5
    0151C 9390 0E93 STS	pageNum+1,R25
    0151E 9380 0E92 STS	pageNum,R24
(0303) 		    return;
    01520 C001      RJMP	0x1522
    01521 CC76      RJMP	0x1198
    01522 9622      ADIW	R28,2
    01523 940C 3A52 JMP	pop_xgsetF03C
_page2:
  ft2                  --> R10
  ft1                  --> R12
  ft0                  --> R14
  ft3                  --> R22
  cur                  --> R20
  keyV                 --> R10
    01525 940E 3A0E CALL	push_xgsetF0FC
    01527 9722      SBIW	R28,2
(0304) 		  default:
(0305) 		   break;
(0306) 		 }
(0307) 	
(0308) 	}
(0309)   }
(0310)    return;
(0311) }
(0312)  void page2(void){
(0313)    uint cur=0;
    01528 2744      CLR	R20
    01529 2755      CLR	R21
(0314)    uchar keyV;
(0315)    uint ft0,ft1,ft2,ft3;
(0316)    ft0=EEPROM_read(1,0);
    0152A 2722      CLR	R18
    0152B 2733      CLR	R19
    0152C E001      LDI	R16,1
    0152D E010      LDI	R17,0
    0152E 940E 1110 CALL	_EEPROM_read
    01530 0178      MOVW	R14,R16
(0317)    ft1=EEPROM_read(2,0);
    01531 2722      CLR	R18
    01532 2733      CLR	R19
    01533 E002      LDI	R16,2
    01534 E010      LDI	R17,0
    01535 940E 1110 CALL	_EEPROM_read
    01537 0168      MOVW	R12,R16
(0318)    ft2=EEPROM_read(3,0);
    01538 2722      CLR	R18
    01539 2733      CLR	R19
    0153A E003      LDI	R16,3
    0153B E010      LDI	R17,0
    0153C 940E 1110 CALL	_EEPROM_read
    0153E 0158      MOVW	R10,R16
(0319)    ft3=EEPROM_read(4,0);
    0153F 2722      CLR	R18
    01540 2733      CLR	R19
    01541 E004      LDI	R16,4
    01542 E010      LDI	R17,0
    01543 940E 1110 CALL	_EEPROM_read
    01545 01B8      MOVW	R22,R16
(0320)  if(!(ft0==0 && ft1==0 && ft2==0 && ft3==0)){//判断是否有数据，任何一个有数据就询问是否恢复
    01546 20EE      TST	R14
    01547 F471      BNE	0x1556
    01548 20FF      TST	R15
    01549 F461      BNE	0x1556
    0154A 20CC      TST	R12
    0154B F451      BNE	0x1556
    0154C 20DD      TST	R13
    0154D F441      BNE	0x1556
    0154E 20AA      TST	R10
    0154F F431      BNE	0x1556
    01550 20BB      TST	R11
    01551 F421      BNE	0x1556
    01552 3000      CPI	R16,0
    01553 0701      CPC	R16,R17
    01554 F409      BNE	0x1556
    01555 C103      RJMP	0x1659
(0321)    //初始画面，会有读取EEPROM的判断默认操作，本次只是画界面
(0322)    lcd_write_str(2,0,"是否恢复上次工作");
    01556 E784      LDI	R24,0x74
    01557 E099      LDI	R25,0x9
    01558 8399      STD	Y+1,R25
    01559 8388      ST	Y,R24
    0155A 2722      CLR	R18
    0155B E002      LDI	R16,2
    0155C 940E 0734 CALL	_lcd_write_str
(0323)    lcd_write_str(2,2,"恢复");
    0155E E68F      LDI	R24,0x6F
    0155F E099      LDI	R25,0x9
    01560 8399      STD	Y+1,R25
    01561 8388      ST	Y,R24
    01562 E022      LDI	R18,2
    01563 E002      LDI	R16,2
    01564 940E 0734 CALL	_lcd_write_str
(0324)    lcd_write_str(8,2,"取消");
    01566 E68A      LDI	R24,0x6A
    01567 E099      LDI	R25,0x9
    01568 8399      STD	Y+1,R25
    01569 8388      ST	Y,R24
    0156A E022      LDI	R18,2
    0156B E008      LDI	R16,0x8
    0156C 940E 0734 CALL	_lcd_write_str
(0325)    ft3=EEPROM_read(0,0);//复用读取首选项
    0156E 2722      CLR	R18
    0156F 2733      CLR	R19
    01570 2700      CLR	R16
    01571 2711      CLR	R17
    01572 940E 1110 CALL	_EEPROM_read
    01574 0158      MOVW	R10,R16
    01575 01B5      MOVW	R22,R10
(0326)    if(ft3==1){//默认恢复
    01576 3001      CPI	R16,1
    01577 E0E0      LDI	R30,0
    01578 071E      CPC	R17,R30
    01579 F449      BNE	0x1583
(0327)      cur=0;
    0157A 2744      CLR	R20
    0157B 2755      CLR	R21
(0328)      Set_White(3,2,4);
    0157C E084      LDI	R24,4
    0157D 8388      ST	Y,R24
    0157E E022      LDI	R18,2
    0157F E003      LDI	R16,3
    01580 940E 0959 CALL	_Set_White
(0329)    }else{
    01582 C008      RJMP	0x158B
(0330)      cur=1;
    01583 E041      LDI	R20,1
    01584 E050      LDI	R21,0
(0331)      Set_White(9,2,10);
    01585 E08A      LDI	R24,0xA
    01586 8388      ST	Y,R24
    01587 E022      LDI	R18,2
    01588 E009      LDI	R16,0x9
    01589 940E 0959 CALL	_Set_White
(0332)    }
(0333)    Timerinit_0(0x00); //使用定时器，定时一段时间更改标记，while中读取这个标记确定是否结束while
    0158B 2700      CLR	R16
    0158C 940E 0AEE CALL	_Timerinit_0
    0158E C0C9      RJMP	0x1658
(0334)     while(1){
(0335) 	if(waitflag==1){
    0158F 9180 0242 LDS	R24,waitflag
    01591 9190 0243 LDS	R25,waitflag+1
    01593 3081      CPI	R24,1
    01594 E0E0      LDI	R30,0
    01595 079E      CPC	R25,R30
    01596 F591      BNE	0x15C9
(0336) 	  //执行相关操作
(0337) 		   Set_White_off(9,2,10);
    01597 E08A      LDI	R24,0xA
    01598 8388      ST	Y,R24
    01599 E022      LDI	R18,2
    0159A E009      LDI	R16,0x9
    0159B 940E 08E9 CALL	_Set_White_off
(0338) 		    Set_White_off(3,2,4);
    0159D E084      LDI	R24,4
    0159E 8388      ST	Y,R24
    0159F E022      LDI	R18,2
    015A0 E003      LDI	R16,3
    015A1 940E 08E9 CALL	_Set_White_off
(0339) 			if(cur==0){
    015A3 3040      CPI	R20,0
    015A4 0745      CPC	R20,R21
    015A5 F481      BNE	0x15B6
(0340) 			  lcd_clear();
    015A6 940E 07EB CALL	_lcd_clear
(0341) 			  lcd_write_str(5,2,"恢复中. . .");
    015A8 E58E      LDI	R24,0x5E
    015A9 E099      LDI	R25,0x9
    015AA 8399      STD	Y+1,R25
    015AB 8388      ST	Y,R24
    015AC E022      LDI	R18,2
    015AD E005      LDI	R16,5
    015AE 940E 0734 CALL	_lcd_write_str
(0342) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    015B0 940E 31DC CALL	_data_recover
(0343) 			  delay_ms(200);
    015B2 EC08      LDI	R16,0xC8
    015B3 E010      LDI	R17,0
    015B4 940E 04E4 CALL	_delay_ms
(0344) 			}
(0345) 		  pageNum=1;
    015B6 E081      LDI	R24,1
    015B7 E090      LDI	R25,0
    015B8 9390 0E93 STS	pageNum+1,R25
    015BA 9380 0E92 STS	pageNum,R24
(0346) 		  t0_flag=1;
    015BC 9390 0241 STS	t0_flag+1,R25
    015BE 9380 0240 STS	t0_flag,R24
(0347) 		  waitflag=32;
    015C0 E280      LDI	R24,0x20
    015C1 9390 0243 STS	waitflag+1,R25
    015C3 9380 0242 STS	waitflag,R24
(0348) 		  Timerinit_0(0x00);//计时器功能改变，用作读取温度使用.32次计数完成0.5s
    015C5 2700      CLR	R16
    015C6 940E 0AEE CALL	_Timerinit_0
(0349) 		  return;
    015C8 C0A2      RJMP	0x166B
(0350) 	  }
(0351)       keyV=KeyScan_once();
    015C9 940E 05D1 CALL	_KeyScan_once
    015CB 2EA0      MOV	R10,R16
(0352) 	  switch(keyV){
    015CC 2D6A      MOV	R22,R10
    015CD 2777      CLR	R23
    015CE 366C      CPI	R22,0x6C
    015CF E0E0      LDI	R30,0
    015D0 077E      CPC	R23,R30
    015D1 F079      BEQ	0x15E1
    015D2 366C      CPI	R22,0x6C
    015D3 E0E0      LDI	R30,0
    015D4 077E      CPC	R23,R30
    015D5 F40C      BGE	0x15D7
    015D6 C081      RJMP	0x1658
    015D7 3762      CPI	R22,0x72
    015D8 E0E0      LDI	R30,0
    015D9 077E      CPC	R23,R30
    015DA F141      BEQ	0x1603
    015DB 3764      CPI	R22,0x74
    015DC E0E0      LDI	R30,0
    015DD 077E      CPC	R23,R30
    015DE F409      BNE	0x15E0
    015DF C044      RJMP	0x1624
    015E0 C077      RJMP	0x1658
(0353) 	    case 'l':
(0354) 		   TCCR0=0x00;//定时器停止
    015E1 2422      CLR	R2
    015E2 BE23      OUT	0x33,R2
(0355) 		   lcd_write_char(10,0,' ');
    015E3 E280      LDI	R24,0x20
    015E4 8388      ST	Y,R24
    015E5 2722      CLR	R18
    015E6 E00A      LDI	R16,0xA
    015E7 940E 070E CALL	_lcd_write_char
(0356) 	       lcd_write_char(11,0,' ');	
    015E9 E280      LDI	R24,0x20
    015EA 8388      ST	Y,R24
    015EB 2722      CLR	R18
    015EC E00B      LDI	R16,0xB
    015ED 940E 070E CALL	_lcd_write_char
(0357) 		   if(cur==1){
    015EF 3041      CPI	R20,1
    015F0 E0E0      LDI	R30,0
    015F1 075E      CPC	R21,R30
    015F2 F009      BEQ	0x15F4
    015F3 C064      RJMP	0x1658
(0358) 		      Set_White_off(9,2,10);
    015F4 E08A      LDI	R24,0xA
    015F5 8388      ST	Y,R24
    015F6 E022      LDI	R18,2
    015F7 E009      LDI	R16,0x9
    015F8 940E 08E9 CALL	_Set_White_off
(0359) 		      Set_White(3,2,4);
    015FA E084      LDI	R24,4
    015FB 8388      ST	Y,R24
    015FC E022      LDI	R18,2
    015FD E003      LDI	R16,3
    015FE 940E 0959 CALL	_Set_White
(0360) 			  cur=0;
    01600 2744      CLR	R20
    01601 2755      CLR	R21
(0361) 		   }
(0362) 		   break;
    01602 C055      RJMP	0x1658
(0363) 		case 'r':
(0364) 		   TCCR0=0x00;//定时器停止
    01603 2422      CLR	R2
    01604 BE23      OUT	0x33,R2
(0365) 		   lcd_write_char(10,0,' ');
    01605 E280      LDI	R24,0x20
    01606 8388      ST	Y,R24
    01607 2722      CLR	R18
    01608 E00A      LDI	R16,0xA
    01609 940E 070E CALL	_lcd_write_char
(0366) 	       lcd_write_char(11,0,' ');	
    0160B E280      LDI	R24,0x20
    0160C 8388      ST	Y,R24
    0160D 2722      CLR	R18
    0160E E00B      LDI	R16,0xB
    0160F 940E 070E CALL	_lcd_write_char
(0367) 		   if(cur==0){
    01611 3040      CPI	R20,0
    01612 0745      CPC	R20,R21
    01613 F009      BEQ	0x1615
    01614 C043      RJMP	0x1658
(0368) 		      Set_White_off(3,2,4);
    01615 E084      LDI	R24,4
    01616 8388      ST	Y,R24
    01617 E022      LDI	R18,2
    01618 E003      LDI	R16,3
    01619 940E 08E9 CALL	_Set_White_off
(0369) 		      Set_White(9,2,10);
    0161B E08A      LDI	R24,0xA
    0161C 8388      ST	Y,R24
    0161D E022      LDI	R18,2
    0161E E009      LDI	R16,0x9
    0161F 940E 0959 CALL	_Set_White
(0370) 			  cur=1;
    01621 E041      LDI	R20,1
    01622 E050      LDI	R21,0
(0371) 		   }
(0372) 		   
(0373) 		  break;
    01623 C034      RJMP	0x1658
(0374) 		case 't':
(0375) 		  //执行相关操作
(0376) 		   TCCR0=0x00;//定时器停止
    01624 2422      CLR	R2
    01625 BE23      OUT	0x33,R2
(0377) 		   Set_White_off(9,2,10);
    01626 E08A      LDI	R24,0xA
    01627 8388      ST	Y,R24
    01628 E022      LDI	R18,2
    01629 E009      LDI	R16,0x9
    0162A 940E 08E9 CALL	_Set_White_off
(0378) 		    Set_White_off(3,2,4);
    0162C E084      LDI	R24,4
    0162D 8388      ST	Y,R24
    0162E E022      LDI	R18,2
    0162F E003      LDI	R16,3
    01630 940E 08E9 CALL	_Set_White_off
(0379) 			if(cur==0){
    01632 3040      CPI	R20,0
    01633 0745      CPC	R20,R21
    01634 F481      BNE	0x1645
(0380) 			  lcd_clear();
    01635 940E 07EB CALL	_lcd_clear
(0381) 			  lcd_write_str(5,2,"恢复中. . .");
    01637 E58E      LDI	R24,0x5E
    01638 E099      LDI	R25,0x9
    01639 8399      STD	Y+1,R25
    0163A 8388      ST	Y,R24
    0163B E022      LDI	R18,2
    0163C E005      LDI	R16,5
    0163D 940E 0734 CALL	_lcd_write_str
(0382) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    0163F 940E 31DC CALL	_data_recover
(0383) 			  delay_ms(200);
    01641 EC08      LDI	R16,0xC8
    01642 E010      LDI	R17,0
    01643 940E 04E4 CALL	_delay_ms
(0384) 			}
(0385) 		  pageNum=1;
    01645 E081      LDI	R24,1
    01646 E090      LDI	R25,0
    01647 9390 0E93 STS	pageNum+1,R25
    01649 9380 0E92 STS	pageNum,R24
(0386) 		  t0_flag=1;
    0164B 9390 0241 STS	t0_flag+1,R25
    0164D 9380 0240 STS	t0_flag,R24
(0387) 		  waitflag=32;
    0164F E280      LDI	R24,0x20
    01650 9390 0243 STS	waitflag+1,R25
    01652 9380 0242 STS	waitflag,R24
(0388) 		  Timerinit_0(0x00);//计时器功能改变，用作读取温度使用.32次计数完成0.5s
    01654 2700      CLR	R16
    01655 940E 0AEE CALL	_Timerinit_0
(0389) 		  return;
    01657 C013      RJMP	0x166B
    01658 CF36      RJMP	0x158F
(0390) 	  }
(0391) 	}
(0392)   }else{
(0393)      pageNum=1;
    01659 E081      LDI	R24,1
    0165A E090      LDI	R25,0
    0165B 9390 0E93 STS	pageNum+1,R25
    0165D 9380 0E92 STS	pageNum,R24
(0394) 	 t0_flag=1;
    0165F 9390 0241 STS	t0_flag+1,R25
    01661 9380 0240 STS	t0_flag,R24
(0395) 	 waitflag=32;
    01663 E280      LDI	R24,0x20
    01664 9390 0243 STS	waitflag+1,R25
    01666 9380 0242 STS	waitflag,R24
(0396) 	 Timerinit_0(0x00);//计时器功能改变，用作读取温度使用.32次计数完成0.5s
    01668 2700      CLR	R16
    01669 940E 0AEE CALL	_Timerinit_0
(0397)      return;
    0166B 9622      ADIW	R28,2
    0166C 940C 3A03 JMP	pop_xgsetF0FC
_page3:
  cur                  --> R20
  timecache            --> R22
  keyV                 --> R22
    0166E 940E 3A23 CALL	push_xgsetF000
    01670 9722      SBIW	R28,2
(0398)   }
(0399)  }
(0400)  void page3(void){
(0401)   uint cur=0;
    01671 2744      CLR	R20
    01672 2755      CLR	R21
(0402)    uchar keyV;
(0403)    uint timecache;
(0404)    lcd_write_str(0,0,"T");
    01673 E58C      LDI	R24,0x5C
    01674 E099      LDI	R25,0x9
    01675 8399      STD	Y+1,R25
    01676 8388      ST	Y,R24
    01677 2722      CLR	R18
    01678 2700      CLR	R16
    01679 940E 0734 CALL	_lcd_write_str
(0405)     lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    0167B 9120 0E88 LDS	R18,pageParam
    0167D 9130 0E89 LDS	R19,pageParam+1
    0167F 5F2F      SUBI	R18,0xFF
    01680 4F3F      SBCI	R19,0xFF
    01681 6320      ORI	R18,0x30
    01682 2700      CLR	R16
    01683 940E 06DC CALL	_lcd_write_char_con
(0406) 	lcd_write_char_con(0,':');
    01685 E32A      LDI	R18,0x3A
    01686 2700      CLR	R16
    01687 940E 06DC CALL	_lcd_write_char_con
(0407)    lcd_write_str(1,1,"温度:");
    01689 E586      LDI	R24,0x56
    0168A E099      LDI	R25,0x9
    0168B 8399      STD	Y+1,R25
    0168C 8388      ST	Y,R24
    0168D E021      LDI	R18,1
    0168E E001      LDI	R16,1
    0168F 940E 0734 CALL	_lcd_write_str
(0408)    lcd_write_str(7,1,"目标:");
    01691 E580      LDI	R24,0x50
    01692 E099      LDI	R25,0x9
    01693 8399      STD	Y+1,R25
    01694 8388      ST	Y,R24
    01695 E021      LDI	R18,1
    01696 E007      LDI	R16,7
    01697 940E 0734 CALL	_lcd_write_str
(0409)    lcd_write_str(1,2,"状态:");
    01699 E48A      LDI	R24,0x4A
    0169A E099      LDI	R25,0x9
    0169B 8399      STD	Y+1,R25
    0169C 8388      ST	Y,R24
    0169D E022      LDI	R18,2
    0169E E001      LDI	R16,1
    0169F 940E 0734 CALL	_lcd_write_str
(0410)    lcd_write_str(0,3,"编辑");
    016A1 E485      LDI	R24,0x45
    016A2 E099      LDI	R25,0x9
    016A3 8399      STD	Y+1,R25
    016A4 8388      ST	Y,R24
    016A5 E023      LDI	R18,3
    016A6 2700      CLR	R16
    016A7 940E 0734 CALL	_lcd_write_str
(0411)    lcd_write_str(3,3,"运行");
    016A9 E480      LDI	R24,0x40
    016AA E099      LDI	R25,0x9
    016AB 8399      STD	Y+1,R25
    016AC 8388      ST	Y,R24
    016AD E023      LDI	R18,3
    016AE E003      LDI	R16,3
    016AF 940E 0734 CALL	_lcd_write_str
(0412)    lcd_write_str(7,3,"暂停");
    016B1 E88F      LDI	R24,0x8F
    016B2 E099      LDI	R25,0x9
    016B3 8399      STD	Y+1,R25
    016B4 8388      ST	Y,R24
    016B5 E023      LDI	R18,3
    016B6 E007      LDI	R16,7
    016B7 940E 0734 CALL	_lcd_write_str
(0413)    lcd_write_str(10,3,"重置");
    016B9 E38B      LDI	R24,0x3B
    016BA E099      LDI	R25,0x9
    016BB 8399      STD	Y+1,R25
    016BC 8388      ST	Y,R24
    016BD E023      LDI	R18,3
    016BE E00A      LDI	R16,0xA
    016BF 940E 0734 CALL	_lcd_write_str
(0414)    Set_White(1,3,2);
    016C1 E082      LDI	R24,2
    016C2 8388      ST	Y,R24
    016C3 E023      LDI	R18,3
    016C4 E001      LDI	R16,1
    016C5 940E 0959 CALL	_Set_White
    016C7 C33B      RJMP	0x1A03
(0415)    //Set_White(9,2,10);
(0416)     while(1){
(0417) 	lcd_write_pos(2,0);
    016C8 2722      CLR	R18
    016C9 E002      LDI	R16,2
    016CA 940E 06F0 CALL	_lcd_write_pos
(0418) 	pageTime2(0);
    016CC 2700      CLR	R16
    016CD 2711      CLR	R17
    016CE DA6A      RCALL	_pageTime2
(0419) 	//写温度
(0420) 	if(temps[pageParam[0]].flag!=2){
    016CF 9120 0E88 LDS	R18,pageParam
    016D1 9130 0E89 LDS	R19,pageParam+1
    016D3 E404      LDI	R16,0x44
    016D4 E011      LDI	R17,1
    016D5 940E 39E7 CALL	empy16s
    016D7 E488      LDI	R24,0x48
    016D8 E092      LDI	R25,2
    016D9 01F8      MOVW	R30,R16
    016DA 0FE8      ADD	R30,R24
    016DB 1FF9      ADC	R31,R25
    016DC 8180      LD	R24,Z
    016DD 8191      LDD	R25,Z+1
    016DE 3082      CPI	R24,2
    016DF E0E0      LDI	R30,0
    016E0 079E      CPC	R25,R30
    016E1 F409      BNE	0x16E3
    016E2 C068      RJMP	0x174B
(0421) 	  lcd_write_pos(4,1);
    016E3 E021      LDI	R18,1
    016E4 E004      LDI	R16,4
    016E5 940E 06F0 CALL	_lcd_write_pos
(0422) 	  lcd_write_char_con(1,0x30 | ((int)temps[pageParam[0]].actualtemp)/100);
    016E7 9120 0E88 LDS	R18,pageParam
    016E9 9130 0E89 LDS	R19,pageParam+1
    016EB E404      LDI	R16,0x44
    016EC E011      LDI	R17,1
    016ED 940E 39E7 CALL	empy16s
    016EF E68C      LDI	R24,0x6C
    016F0 E093      LDI	R25,3
    016F1 01F8      MOVW	R30,R16
    016F2 0FE8      ADD	R30,R24
    016F3 1FF9      ADC	R31,R25
    016F4 8100      LD	R16,Z
    016F5 8111      LDD	R17,Z+1
    016F6 8122      LDD	R18,Z+2
    016F7 8133      LDD	R19,Z+3
    016F8 940E 3B34 CALL	fpint
    016FA E624      LDI	R18,0x64
    016FB E030      LDI	R19,0
    016FC 940E 399D CALL	div16s
    016FE 0198      MOVW	R18,R16
    016FF 6320      ORI	R18,0x30
    01700 E001      LDI	R16,1
    01701 940E 06DC CALL	_lcd_write_char_con
(0423) 	  lcd_write_char_con(1,0x30 | (((int)temps[pageParam[0]].actualtemp)/10)%10);
    01703 9120 0E88 LDS	R18,pageParam
    01705 9130 0E89 LDS	R19,pageParam+1
    01707 E404      LDI	R16,0x44
    01708 E011      LDI	R17,1
    01709 940E 39E7 CALL	empy16s
    0170B E68C      LDI	R24,0x6C
    0170C E093      LDI	R25,3
    0170D 01F8      MOVW	R30,R16
    0170E 0FE8      ADD	R30,R24
    0170F 1FF9      ADC	R31,R25
    01710 8100      LD	R16,Z
    01711 8111      LDD	R17,Z+1
    01712 8122      LDD	R18,Z+2
    01713 8133      LDD	R19,Z+3
    01714 940E 3B34 CALL	fpint
    01716 E02A      LDI	R18,0xA
    01717 E030      LDI	R19,0
    01718 940E 399D CALL	div16s
    0171A E02A      LDI	R18,0xA
    0171B E030      LDI	R19,0
    0171C 940E 3999 CALL	mod16s
    0171E 0198      MOVW	R18,R16
    0171F 6320      ORI	R18,0x30
    01720 E001      LDI	R16,1
    01721 940E 06DC CALL	_lcd_write_char_con
(0424) 	  lcd_write_char_con(1,0x30 | ((int)temps[pageParam[0]].actualtemp)%10);
    01723 9120 0E88 LDS	R18,pageParam
    01725 9130 0E89 LDS	R19,pageParam+1
    01727 E404      LDI	R16,0x44
    01728 E011      LDI	R17,1
    01729 940E 39E7 CALL	empy16s
    0172B E68C      LDI	R24,0x6C
    0172C E093      LDI	R25,3
    0172D 01F8      MOVW	R30,R16
    0172E 0FE8      ADD	R30,R24
    0172F 1FF9      ADC	R31,R25
    01730 8100      LD	R16,Z
    01731 8111      LDD	R17,Z+1
    01732 8122      LDD	R18,Z+2
    01733 8133      LDD	R19,Z+3
    01734 940E 3B34 CALL	fpint
    01736 E02A      LDI	R18,0xA
    01737 E030      LDI	R19,0
    01738 940E 3999 CALL	mod16s
    0173A 0198      MOVW	R18,R16
    0173B 6320      ORI	R18,0x30
    0173C E001      LDI	R16,1
    0173D 940E 06DC CALL	_lcd_write_char_con
(0425) 	  lcd_write_char_con(1,' ');
    0173F E220      LDI	R18,0x20
    01740 E001      LDI	R16,1
    01741 940E 06DC CALL	_lcd_write_char_con
(0426) 	  lcd_write_char_con(1,0xA1);
    01743 EA21      LDI	R18,0xA1
    01744 E001      LDI	R16,1
    01745 940E 06DC CALL	_lcd_write_char_con
(0427)       lcd_write_char_con(1,0xE6);
    01747 EE26      LDI	R18,0xE6
    01748 E001      LDI	R16,1
    01749 940E 06DC CALL	_lcd_write_char_con
(0428) 	}
(0429) 	//数据需要读入
(0430) 	lcd_write_pos(4,2);
    0174B E022      LDI	R18,2
    0174C E004      LDI	R16,4
    0174D 940E 06F0 CALL	_lcd_write_pos
(0431) 	switch(temps[pageParam[0]].flag){
    0174F 9120 0E88 LDS	R18,pageParam
    01751 9130 0E89 LDS	R19,pageParam+1
    01753 E404      LDI	R16,0x44
    01754 E011      LDI	R17,1
    01755 940E 39E7 CALL	empy16s
    01757 E488      LDI	R24,0x48
    01758 E092      LDI	R25,2
    01759 01F8      MOVW	R30,R16
    0175A 0FE8      ADD	R30,R24
    0175B 1FF9      ADC	R31,R25
    0175C 8160      LD	R22,Z
    0175D 8171      LDD	R23,Z+1
    0175E 3060      CPI	R22,0
    0175F 0767      CPC	R22,R23
    01760 F0F1      BEQ	0x177F
    01761 3061      CPI	R22,1
    01762 E0E0      LDI	R30,0
    01763 077E      CPC	R23,R30
    01764 F101      BEQ	0x1785
    01765 3062      CPI	R22,2
    01766 E0E0      LDI	R30,0
    01767 077E      CPC	R23,R30
    01768 F409      BNE	0x176A
    01769 C160      RJMP	0x18CA
    0176A 3063      CPI	R22,3
    0176B E0E0      LDI	R30,0
    0176C 077E      CPC	R23,R30
    0176D F409      BNE	0x176F
    0176E C161      RJMP	0x18D0
    0176F 3064      CPI	R22,4
    01770 E0E0      LDI	R30,0
    01771 077E      CPC	R23,R30
    01772 F409      BNE	0x1774
    01773 C162      RJMP	0x18D6
    01774 3065      CPI	R22,5
    01775 E0E0      LDI	R30,0
    01776 077E      CPC	R23,R30
    01777 F409      BNE	0x1779
    01778 C176      RJMP	0x18EF
    01779 3066      CPI	R22,6
    0177A E0E0      LDI	R30,0
    0177B 077E      CPC	R23,R30
    0177C F409      BNE	0x177E
    0177D C177      RJMP	0x18F5
    0177E C17B      RJMP	0x18FA
(0432) 	     case 0: 
(0433) 		   lcd_write_str_con(2,"停止");
    0177F E929      LDI	R18,0x99
    01780 E039      LDI	R19,0x9
    01781 E002      LDI	R16,2
    01782 940E 077E CALL	_lcd_write_str_con
(0434) 		   break;
    01784 C175      RJMP	0x18FA
(0435) 		 case 1:
(0436) 		   //写状态
(0437) 		   lcd_write_str(9,1,"");
    01785 E38A      LDI	R24,0x3A
    01786 E099      LDI	R25,0x9
    01787 8399      STD	Y+1,R25
    01788 8388      ST	Y,R24
    01789 E021      LDI	R18,1
    0178A E009      LDI	R16,0x9
    0178B 940E 0734 CALL	_lcd_write_str
(0438) 		   lcd_write_char_con(1,0xA1);
    0178D EA21      LDI	R18,0xA1
    0178E E001      LDI	R16,1
    0178F 940E 06DC CALL	_lcd_write_char_con
(0439)            lcd_write_char_con(1,0xE6);
    01791 EE26      LDI	R18,0xE6
    01792 E001      LDI	R16,1
    01793 940E 06DC CALL	_lcd_write_char_con
(0440) 		   timecache=temps[pageParam[0]].status;
    01795 9120 0E88 LDS	R18,pageParam
    01797 9130 0E89 LDS	R19,pageParam+1
    01799 E404      LDI	R16,0x44
    0179A E011      LDI	R17,1
    0179B 940E 39E7 CALL	empy16s
    0179D E582      LDI	R24,0x52
    0179E E093      LDI	R25,3
    0179F 01F8      MOVW	R30,R16
    017A0 0FE8      ADD	R30,R24
    017A1 1FF9      ADC	R31,R25
    017A2 8160      LD	R22,Z
    017A3 8171      LDD	R23,Z+1
(0441) 		   if(timecache>18){
    017A4 E182      LDI	R24,0x12
    017A5 E090      LDI	R25,0
    017A6 1786      CP	R24,R22
    017A7 0797      CPC	R25,R23
    017A8 F508      BCC	0x17CA
(0442) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1)/10);
    017A9 E02A      LDI	R18,0xA
    017AA E030      LDI	R19,0
    017AB 018B      MOVW	R16,R22
    017AC 5001      SUBI	R16,1
    017AD 4010      SBCI	R17,0
    017AE 9516      LSR	R17
    017AF 9507      ROR	R16
    017B0 5F0F      SUBI	R16,0xFF
    017B1 4F1F      SBCI	R17,0xFF
    017B2 940E 39B9 CALL	div16u
    017B4 0198      MOVW	R18,R16
    017B5 6320      ORI	R18,0x30
    017B6 E002      LDI	R16,2
    017B7 940E 06DC CALL	_lcd_write_char_con
(0443) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1)%10);
    017B9 E02A      LDI	R18,0xA
    017BA E030      LDI	R19,0
    017BB 018B      MOVW	R16,R22
    017BC 5001      SUBI	R16,1
    017BD 4010      SBCI	R17,0
    017BE 9516      LSR	R17
    017BF 9507      ROR	R16
    017C0 5F0F      SUBI	R16,0xFF
    017C1 4F1F      SBCI	R17,0xFF
    017C2 940E 39B7 CALL	mod16u
    017C4 0198      MOVW	R18,R16
    017C5 6320      ORI	R18,0x30
    017C6 E002      LDI	R16,2
    017C7 940E 06DC CALL	_lcd_write_char_con
(0444) 		      }else{
    017C9 C00F      RJMP	0x17D9
(0445) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1));
    017CA 019B      MOVW	R18,R22
    017CB 5021      SUBI	R18,1
    017CC 4030      SBCI	R19,0
    017CD 9536      LSR	R19
    017CE 9527      ROR	R18
    017CF 5F2F      SUBI	R18,0xFF
    017D0 4F3F      SBCI	R19,0xFF
    017D1 6320      ORI	R18,0x30
    017D2 E002      LDI	R16,2
    017D3 940E 06DC CALL	_lcd_write_char_con
(0446) 				  lcd_write_char_con(2,' ');
    017D5 E220      LDI	R18,0x20
    017D6 E002      LDI	R16,2
    017D7 940E 06DC CALL	_lcd_write_char_con
(0447) 		    }
(0448) 			 lcd_write_char_con(2,':');
    017D9 E32A      LDI	R18,0x3A
    017DA E002      LDI	R16,2
    017DB 940E 06DC CALL	_lcd_write_char_con
(0449) 			 lcd_write_char_con(2,' ');
    017DD E220      LDI	R18,0x20
    017DE E002      LDI	R16,2
    017DF 940E 06DC CALL	_lcd_write_char_con
(0450) 		   if(timecache & 0x01){
    017E1 FF60      SBRS	R22,0
    017E2 C015      RJMP	0x17F8
(0451) 		       lcd_write_str_con(2,"升温");
    017E3 E325      LDI	R18,0x35
    017E4 E039      LDI	R19,0x9
    017E5 E002      LDI	R16,2
    017E6 940E 077E CALL	_lcd_write_str_con
(0452)                 timecache=temps[pageParam[0]].p_settemp;
    017E8 9120 0E88 LDS	R18,pageParam
    017EA 9130 0E89 LDS	R19,pageParam+1
    017EC E404      LDI	R16,0x44
    017ED E011      LDI	R17,1
    017EE 940E 39E7 CALL	empy16s
    017F0 E58E      LDI	R24,0x5E
    017F1 E093      LDI	R25,3
    017F2 01F8      MOVW	R30,R16
    017F3 0FE8      ADD	R30,R24
    017F4 1FF9      ADC	R31,R25
    017F5 8160      LD	R22,Z
    017F6 8171      LDD	R23,Z+1
(0453) 		   }else{
    017F7 C019      RJMP	0x1811
(0454) 		       lcd_write_str_con(2,"恒温");
    017F8 E320      LDI	R18,0x30
    017F9 E039      LDI	R19,0x9
    017FA E002      LDI	R16,2
    017FB 940E 077E CALL	_lcd_write_str_con
(0455)                timecache=temps[pageParam[0]].settemp;
    017FD 9120 0E88 LDS	R18,pageParam
    017FF 9130 0E89 LDS	R19,pageParam+1
    01801 E404      LDI	R16,0x44
    01802 E011      LDI	R17,1
    01803 940E 39E7 CALL	empy16s
    01805 E688      LDI	R24,0x68
    01806 E093      LDI	R25,3
    01807 01F8      MOVW	R30,R16
    01808 0FE8      ADD	R30,R24
    01809 1FF9      ADC	R31,R25
    0180A 8100      LD	R16,Z
    0180B 8111      LDD	R17,Z+1
    0180C 8122      LDD	R18,Z+2
    0180D 8133      LDD	R19,Z+3
    0180E 940E 3B34 CALL	fpint
    01810 01B8      MOVW	R22,R16
(0456) 		   }
(0457) 		   lcd_write_char(9,1,0x30 | timecache/100);
    01811 E624      LDI	R18,0x64
    01812 E030      LDI	R19,0
    01813 018B      MOVW	R16,R22
    01814 940E 39B9 CALL	div16u
    01816 01C8      MOVW	R24,R16
    01817 6380      ORI	R24,0x30
    01818 8388      ST	Y,R24
    01819 E021      LDI	R18,1
    0181A E009      LDI	R16,0x9
    0181B 940E 070E CALL	_lcd_write_char
(0458) 		   lcd_write_char_con(1,0x30 | (timecache/10)%10);
    0181D E02A      LDI	R18,0xA
    0181E E030      LDI	R19,0
    0181F 018B      MOVW	R16,R22
    01820 940E 39B9 CALL	div16u
    01822 E02A      LDI	R18,0xA
    01823 E030      LDI	R19,0
    01824 940E 39B7 CALL	mod16u
    01826 0198      MOVW	R18,R16
    01827 6320      ORI	R18,0x30
    01828 E001      LDI	R16,1
    01829 940E 06DC CALL	_lcd_write_char_con
(0459) 		   lcd_write_char_con(1,0x30 | timecache%10);
    0182B E02A      LDI	R18,0xA
    0182C E030      LDI	R19,0
    0182D 018B      MOVW	R16,R22
    0182E 940E 39B7 CALL	mod16u
    01830 0198      MOVW	R18,R16
    01831 6320      ORI	R18,0x30
    01832 E001      LDI	R16,1
    01833 940E 06DC CALL	_lcd_write_char_con
(0460) 		   lcd_write_char_con(1,' ');
    01835 E220      LDI	R18,0x20
    01836 E001      LDI	R16,1
    01837 940E 06DC CALL	_lcd_write_char_con
(0461) 		   lcd_write_char_con(1,0xA1);
    01839 EA21      LDI	R18,0xA1
    0183A E001      LDI	R16,1
    0183B 940E 06DC CALL	_lcd_write_char_con
(0462)            lcd_write_char_con(1,0xE6);
    0183D EE26      LDI	R18,0xE6
    0183E E001      LDI	R16,1
    0183F 940E 06DC CALL	_lcd_write_char_con
(0463) 		   lcd_write_pos(8,2);
    01841 E022      LDI	R18,2
    01842 E008      LDI	R16,0x8
    01843 940E 06F0 CALL	_lcd_write_pos
(0464) 		   timecache=temps[pageParam[0]].nowtime;
    01845 9120 0E88 LDS	R18,pageParam
    01847 9130 0E89 LDS	R19,pageParam+1
    01849 E404      LDI	R16,0x44
    0184A E011      LDI	R17,1
    0184B 940E 39E7 CALL	empy16s
    0184D E586      LDI	R24,0x56
    0184E E093      LDI	R25,3
    0184F 01F8      MOVW	R30,R16
    01850 0FE8      ADD	R30,R24
    01851 1FF9      ADC	R31,R25
    01852 8160      LD	R22,Z
    01853 8171      LDD	R23,Z+1
(0465) 		   timecache/=3600;
    01854 E120      LDI	R18,0x10
    01855 E03E      LDI	R19,0xE
    01856 018B      MOVW	R16,R22
    01857 940E 39B9 CALL	div16u
    01859 01B8      MOVW	R22,R16
(0466) 		    lcd_write_char_con(2,0x30 | timecache/10);
    0185A E02A      LDI	R18,0xA
    0185B E030      LDI	R19,0
    0185C 940E 39B9 CALL	div16u
    0185E 0198      MOVW	R18,R16
    0185F 6320      ORI	R18,0x30
    01860 E002      LDI	R16,2
    01861 940E 06DC CALL	_lcd_write_char_con
(0467) 			lcd_write_char_con(2,0x30 | timecache%10);
    01863 E02A      LDI	R18,0xA
    01864 E030      LDI	R19,0
    01865 018B      MOVW	R16,R22
    01866 940E 39B7 CALL	mod16u
    01868 0198      MOVW	R18,R16
    01869 6320      ORI	R18,0x30
    0186A E002      LDI	R16,2
    0186B 940E 06DC CALL	_lcd_write_char_con
(0468) 			lcd_write_char_con(2,':');
    0186D E32A      LDI	R18,0x3A
    0186E E002      LDI	R16,2
    0186F 940E 06DC CALL	_lcd_write_char_con
(0469) 			timecache=temps[pageParam[0]].nowtime;
    01871 9120 0E88 LDS	R18,pageParam
    01873 9130 0E89 LDS	R19,pageParam+1
    01875 E404      LDI	R16,0x44
    01876 E011      LDI	R17,1
    01877 940E 39E7 CALL	empy16s
    01879 E586      LDI	R24,0x56
    0187A E093      LDI	R25,3
    0187B 01F8      MOVW	R30,R16
    0187C 0FE8      ADD	R30,R24
    0187D 1FF9      ADC	R31,R25
    0187E 8160      LD	R22,Z
    0187F 8171      LDD	R23,Z+1
(0470) 		    timecache/=60;
    01880 E32C      LDI	R18,0x3C
    01881 E030      LDI	R19,0
    01882 018B      MOVW	R16,R22
    01883 940E 39B9 CALL	div16u
(0471) 			timecache%=60;
    01885 E32C      LDI	R18,0x3C
    01886 E030      LDI	R19,0
    01887 940E 39B7 CALL	mod16u
    01889 01B8      MOVW	R22,R16
(0472) 			lcd_write_char_con(2,0x30 | timecache/10);
    0188A E02A      LDI	R18,0xA
    0188B E030      LDI	R19,0
    0188C 940E 39B9 CALL	div16u
    0188E 0198      MOVW	R18,R16
    0188F 6320      ORI	R18,0x30
    01890 E002      LDI	R16,2
    01891 940E 06DC CALL	_lcd_write_char_con
(0473) 			lcd_write_char_con(2,0x30 | timecache%10);
    01893 E02A      LDI	R18,0xA
    01894 E030      LDI	R19,0
    01895 018B      MOVW	R16,R22
    01896 940E 39B7 CALL	mod16u
    01898 0198      MOVW	R18,R16
    01899 6320      ORI	R18,0x30
    0189A E002      LDI	R16,2
    0189B 940E 06DC CALL	_lcd_write_char_con
(0474) 		    lcd_write_char_con(2,':');
    0189D E32A      LDI	R18,0x3A
    0189E E002      LDI	R16,2
    0189F 940E 06DC CALL	_lcd_write_char_con
(0475) 			timecache=temps[pageParam[0]].nowtime;
    018A1 9120 0E88 LDS	R18,pageParam
    018A3 9130 0E89 LDS	R19,pageParam+1
    018A5 E404      LDI	R16,0x44
    018A6 E011      LDI	R17,1
    018A7 940E 39E7 CALL	empy16s
    018A9 E586      LDI	R24,0x56
    018AA E093      LDI	R25,3
    018AB 01F8      MOVW	R30,R16
    018AC 0FE8      ADD	R30,R24
    018AD 1FF9      ADC	R31,R25
    018AE 8160      LD	R22,Z
    018AF 8171      LDD	R23,Z+1
(0476) 		    timecache%=60;
    018B0 E32C      LDI	R18,0x3C
    018B1 E030      LDI	R19,0
    018B2 018B      MOVW	R16,R22
    018B3 940E 39B7 CALL	mod16u
    018B5 01B8      MOVW	R22,R16
(0477) 			lcd_write_char_con(2,0x30 |  timecache/10);
    018B6 E02A      LDI	R18,0xA
    018B7 E030      LDI	R19,0
    018B8 940E 39B9 CALL	div16u
    018BA 0198      MOVW	R18,R16
    018BB 6320      ORI	R18,0x30
    018BC E002      LDI	R16,2
    018BD 940E 06DC CALL	_lcd_write_char_con
(0478) 			lcd_write_char_con(2,0x30 |  timecache%10);
    018BF E02A      LDI	R18,0xA
    018C0 E030      LDI	R19,0
    018C1 018B      MOVW	R16,R22
    018C2 940E 39B7 CALL	mod16u
    018C4 0198      MOVW	R18,R16
    018C5 6320      ORI	R18,0x30
    018C6 E002      LDI	R16,2
    018C7 940E 06DC CALL	_lcd_write_char_con
(0479) 		   break;
    018C9 C030      RJMP	0x18FA
(0480) 		 case 2:
(0481) 		   lcd_write_str_con(2,"故障");
    018CA E924      LDI	R18,0x94
    018CB E039      LDI	R19,0x9
    018CC E002      LDI	R16,2
    018CD 940E 077E CALL	_lcd_write_str_con
(0482) 		   break;
    018CF C02A      RJMP	0x18FA
(0483) 		 case 3:
(0484) 		   lcd_write_str_con(2,"暂停");
    018D0 E82F      LDI	R18,0x8F
    018D1 E039      LDI	R19,0x9
    018D2 E002      LDI	R16,2
    018D3 940E 077E CALL	_lcd_write_str_con
(0485) 		   break;
    018D5 C024      RJMP	0x18FA
(0486) 		 case 4:
(0487) 		   lcd_write_str(9,1,"      ");
    018D6 E289      LDI	R24,0x29
    018D7 E099      LDI	R25,0x9
    018D8 8399      STD	Y+1,R25
    018D9 8388      ST	Y,R24
    018DA E021      LDI	R18,1
    018DB E009      LDI	R16,0x9
    018DC 940E 0734 CALL	_lcd_write_str
(0488) 		   lcd_write_str(4,2,"                ");
    018DE E188      LDI	R24,0x18
    018DF E099      LDI	R25,0x9
    018E0 8399      STD	Y+1,R25
    018E1 8388      ST	Y,R24
    018E2 E022      LDI	R18,2
    018E3 E004      LDI	R16,4
    018E4 940E 0734 CALL	_lcd_write_str
(0489) 		   lcd_write_str(4,2,"结束");
    018E6 E88A      LDI	R24,0x8A
    018E7 E099      LDI	R25,0x9
    018E8 8399      STD	Y+1,R25
    018E9 8388      ST	Y,R24
    018EA E022      LDI	R18,2
    018EB E004      LDI	R16,4
    018EC 940E 0734 CALL	_lcd_write_str
(0490) 		   break;
    018EE C00B      RJMP	0x18FA
(0491) 		 case 5:
(0492) 		   lcd_write_str_con(2,"等待");
    018EF E825      LDI	R18,0x85
    018F0 E039      LDI	R19,0x9
    018F1 E002      LDI	R16,2
    018F2 940E 077E CALL	_lcd_write_str_con
(0493) 		   break;
    018F4 C005      RJMP	0x18FA
(0494) 		 case 6:
(0495) 		   lcd_write_str_con(2,"暂停");
    018F5 E82F      LDI	R18,0x8F
    018F6 E039      LDI	R19,0x9
    018F7 E002      LDI	R16,2
    018F8 940E 077E CALL	_lcd_write_str_con
(0496) 		   break;
(0497) 		   break;
(0498) 		 default:
(0499) 		   break;
(0500) 	   }
(0501) 	
(0502)       keyV=KeyScan_once();  
    018FA 940E 05D1 CALL	_KeyScan_once
    018FC 2F60      MOV	R22,R16
(0503) 	  if(keyV=='e'){
    018FD 3605      CPI	R16,0x65
    018FE F4F9      BNE	0x191E
(0504) 	      Set_White_off(1,3,2);
    018FF E082      LDI	R24,2
    01900 8388      ST	Y,R24
    01901 E023      LDI	R18,3
    01902 E001      LDI	R16,1
    01903 940E 08E9 CALL	_Set_White_off
(0505) 		  Set_White_off(4,3,5);
    01905 E085      LDI	R24,5
    01906 8388      ST	Y,R24
    01907 E023      LDI	R18,3
    01908 E004      LDI	R16,4
    01909 940E 08E9 CALL	_Set_White_off
(0506) 		  Set_White_off(8,3,9);
    0190B E089      LDI	R24,0x9
    0190C 8388      ST	Y,R24
    0190D E023      LDI	R18,3
    0190E E008      LDI	R16,0x8
    0190F 940E 08E9 CALL	_Set_White_off
(0507) 		  Set_White_off(11,3,12);
    01911 E08C      LDI	R24,0xC
    01912 8388      ST	Y,R24
    01913 E023      LDI	R18,3
    01914 E00B      LDI	R16,0xB
    01915 940E 08E9 CALL	_Set_White_off
(0508) 		  pageNum=1;
    01917 E081      LDI	R24,1
    01918 E090      LDI	R25,0
    01919 9390 0E93 STS	pageNum+1,R25
    0191B 9380 0E92 STS	pageNum,R24
(0509) 		  return;
    0191D C0E6      RJMP	0x1A04
(0510) 	  }else if(keyV=='l'){
    0191E 366C      CPI	R22,0x6C
    0191F F5D1      BNE	0x195A
(0511) 	     switch(cur){
    01920 3041      CPI	R20,1
    01921 E0E0      LDI	R30,0
    01922 075E      CPC	R21,R30
    01923 F049      BEQ	0x192D
    01924 3042      CPI	R20,2
    01925 E0E0      LDI	R30,0
    01926 075E      CPC	R21,R30
    01927 F0A1      BEQ	0x193C
    01928 3043      CPI	R20,3
    01929 E0E0      LDI	R30,0
    0192A 075E      CPC	R21,R30
    0192B F0F9      BEQ	0x194B
    0192C C0D6      RJMP	0x1A03
(0512) 		   case 1:
(0513) 		     Set_White_off(4,3,5);
    0192D E085      LDI	R24,5
    0192E 8388      ST	Y,R24
    0192F E023      LDI	R18,3
    01930 E004      LDI	R16,4
    01931 940E 08E9 CALL	_Set_White_off
(0514) 		     Set_White(1,3,2);
    01933 E082      LDI	R24,2
    01934 8388      ST	Y,R24
    01935 E023      LDI	R18,3
    01936 E001      LDI	R16,1
    01937 940E 0959 CALL	_Set_White
(0515) 			 cur=0;
    01939 2744      CLR	R20
    0193A 2755      CLR	R21
(0516) 		     break;
    0193B C0C7      RJMP	0x1A03
(0517) 		   case 2:
(0518) 		     Set_White_off(8,3,9);
    0193C E089      LDI	R24,0x9
    0193D 8388      ST	Y,R24
    0193E E023      LDI	R18,3
    0193F E008      LDI	R16,0x8
    01940 940E 08E9 CALL	_Set_White_off
(0519) 		     Set_White(4,3,5);
    01942 E085      LDI	R24,5
    01943 8388      ST	Y,R24
    01944 E023      LDI	R18,3
    01945 E004      LDI	R16,4
    01946 940E 0959 CALL	_Set_White
(0520) 		     cur=1;
    01948 E041      LDI	R20,1
    01949 E050      LDI	R21,0
(0521) 		     break;
    0194A C0B8      RJMP	0x1A03
(0522) 		   case 3:
(0523) 		     Set_White_off(11,3,12);
    0194B E08C      LDI	R24,0xC
    0194C 8388      ST	Y,R24
    0194D E023      LDI	R18,3
    0194E E00B      LDI	R16,0xB
    0194F 940E 08E9 CALL	_Set_White_off
(0524) 		     Set_White(8,3,9);
    01951 E089      LDI	R24,0x9
    01952 8388      ST	Y,R24
    01953 E023      LDI	R18,3
    01954 E008      LDI	R16,0x8
    01955 940E 0959 CALL	_Set_White
(0525) 		     cur=2;
    01957 E042      LDI	R20,2
    01958 E050      LDI	R21,0
(0526) 		     break;
(0527) 		 }
(0528) 	  }else if(keyV=='r'){
    01959 C0A9      RJMP	0x1A03
    0195A 3762      CPI	R22,0x72
    0195B F5C9      BNE	0x1995
(0529) 	       switch(cur){
    0195C 3040      CPI	R20,0
    0195D 0745      CPC	R20,R21
    0195E F049      BEQ	0x1968
    0195F 3041      CPI	R20,1
    01960 E0E0      LDI	R30,0
    01961 075E      CPC	R21,R30
    01962 F0A1      BEQ	0x1977
    01963 3042      CPI	R20,2
    01964 E0E0      LDI	R30,0
    01965 075E      CPC	R21,R30
    01966 F0F9      BEQ	0x1986
    01967 C09B      RJMP	0x1A03
(0530) 		   case 0:
(0531) 		     Set_White(4,3,5);
    01968 E085      LDI	R24,5
    01969 8388      ST	Y,R24
    0196A E023      LDI	R18,3
    0196B E004      LDI	R16,4
    0196C 940E 0959 CALL	_Set_White
(0532) 		     Set_White_off(1,3,2);
    0196E E082      LDI	R24,2
    0196F 8388      ST	Y,R24
    01970 E023      LDI	R18,3
    01971 E001      LDI	R16,1
    01972 940E 08E9 CALL	_Set_White_off
(0533) 			 cur=1;
    01974 E041      LDI	R20,1
    01975 E050      LDI	R21,0
(0534) 		     break;
    01976 C08C      RJMP	0x1A03
(0535) 		   case 1:
(0536) 		     Set_White(8,3,9);
    01977 E089      LDI	R24,0x9
    01978 8388      ST	Y,R24
    01979 E023      LDI	R18,3
    0197A E008      LDI	R16,0x8
    0197B 940E 0959 CALL	_Set_White
(0537) 		     Set_White_off(4,3,5);
    0197D E085      LDI	R24,5
    0197E 8388      ST	Y,R24
    0197F E023      LDI	R18,3
    01980 E004      LDI	R16,4
    01981 940E 08E9 CALL	_Set_White_off
(0538) 		     cur=2;
    01983 E042      LDI	R20,2
    01984 E050      LDI	R21,0
(0539) 		     break;
    01985 C07D      RJMP	0x1A03
(0540) 		   case 2:
(0541) 		     Set_White(11,3,12);
    01986 E08C      LDI	R24,0xC
    01987 8388      ST	Y,R24
    01988 E023      LDI	R18,3
    01989 E00B      LDI	R16,0xB
    0198A 940E 0959 CALL	_Set_White
(0542) 		     Set_White_off(8,3,9);
    0198C E089      LDI	R24,0x9
    0198D 8388      ST	Y,R24
    0198E E023      LDI	R18,3
    0198F E008      LDI	R16,0x8
    01990 940E 08E9 CALL	_Set_White_off
(0543) 		     cur=3;
    01992 E043      LDI	R20,3
    01993 E050      LDI	R21,0
(0544) 		     break;
(0545) 		 }
(0546) 	  }else if(keyV=='t'){
    01994 C06E      RJMP	0x1A03
    01995 3764      CPI	R22,0x74
    01996 F009      BEQ	0x1998
    01997 C04A      RJMP	0x19E2
(0547) 	       switch(cur){
    01998 3040      CPI	R20,0
    01999 0745      CPC	R20,R21
    0199A F069      BEQ	0x19A8
    0199B 3041      CPI	R20,1
    0199C E0E0      LDI	R30,0
    0199D 075E      CPC	R21,R30
    0199E F0B1      BEQ	0x19B5
    0199F 3042      CPI	R20,2
    019A0 E0E0      LDI	R30,0
    019A1 075E      CPC	R21,R30
    019A2 F0C9      BEQ	0x19BC
    019A3 3043      CPI	R20,3
    019A4 E0E0      LDI	R30,0
    019A5 075E      CPC	R21,R30
    019A6 F121      BEQ	0x19CB
    019A7 C05B      RJMP	0x1A03
(0548) 		   case 0:
(0549) 		     Set_White_off(1,3,2);
    019A8 E082      LDI	R24,2
    019A9 8388      ST	Y,R24
    019AA E023      LDI	R18,3
    019AB E001      LDI	R16,1
    019AC 940E 08E9 CALL	_Set_White_off
(0550) 			 pageNum=4;
    019AE E084      LDI	R24,4
    019AF E090      LDI	R25,0
    019B0 9390 0E93 STS	pageNum+1,R25
    019B2 9380 0E92 STS	pageNum,R24
(0551) 		     return;
    019B4 C04F      RJMP	0x1A04
(0552) 		   case 1:
(0553) 		     //运行操作
(0554) 			 set_start(pageParam[0]);
    019B5 9100 0E88 LDS	R16,pageParam
    019B7 9110 0E89 LDS	R17,pageParam+1
    019B9 940E 35F4 CALL	_set_start
(0555) 		     break;
    019BB C047      RJMP	0x1A03
(0556) 		   case 2:
(0557) 		     //暂停操作
(0558) 			  lcd_write_str(4,2,"                ");
    019BC E188      LDI	R24,0x18
    019BD E099      LDI	R25,0x9
    019BE 8399      STD	Y+1,R25
    019BF 8388      ST	Y,R24
    019C0 E022      LDI	R18,2
    019C1 E004      LDI	R16,4
    019C2 940E 0734 CALL	_lcd_write_str
(0559) 			 set_stop(pageParam[0]);
    019C4 9100 0E88 LDS	R16,pageParam
    019C6 9110 0E89 LDS	R17,pageParam+1
    019C8 940E 3656 CALL	_set_stop
(0560) 		     break;
    019CA C038      RJMP	0x1A03
(0561) 		  case 3:
(0562) 		     //重置操作
(0563) 			 Set_White_off(11,3,12);
    019CB E08C      LDI	R24,0xC
    019CC 8388      ST	Y,R24
    019CD E023      LDI	R18,3
    019CE E00B      LDI	R16,0xB
    019CF 940E 08E9 CALL	_Set_White_off
(0564) 			 pageParam[2]=1;//表示重置是温度数据的
    019D1 E081      LDI	R24,1
    019D2 E090      LDI	R25,0
    019D3 9390 0E8D STS	pageParam+5,R25
    019D5 9380 0E8C STS	pageParam+4,R24
(0565) 			 prePageNum=3;
    019D7 E083      LDI	R24,3
    019D8 9390 0E87 STS	prePageNum+1,R25
    019DA 9380 0E86 STS	prePageNum,R24
(0566) 		     pageNum=7;
    019DC E087      LDI	R24,7
    019DD 9390 0E93 STS	pageNum+1,R25
    019DF 9380 0E92 STS	pageNum,R24
(0567) 		     return;
    019E1 C022      RJMP	0x1A04
(0568) 		 }
(0569) 	  }else if(keyV=='s'){
    019E2 3763      CPI	R22,0x73
    019E3 F4F9      BNE	0x1A03
(0570) 	       Set_White_off(1,3,2);
    019E4 E082      LDI	R24,2
    019E5 8388      ST	Y,R24
    019E6 E023      LDI	R18,3
    019E7 E001      LDI	R16,1
    019E8 940E 08E9 CALL	_Set_White_off
(0571) 		   Set_White_off(4,3,5);
    019EA E085      LDI	R24,5
    019EB 8388      ST	Y,R24
    019EC E023      LDI	R18,3
    019ED E004      LDI	R16,4
    019EE 940E 08E9 CALL	_Set_White_off
(0572) 		   Set_White_off(8,3,9);
    019F0 E089      LDI	R24,0x9
    019F1 8388      ST	Y,R24
    019F2 E023      LDI	R18,3
    019F3 E008      LDI	R16,0x8
    019F4 940E 08E9 CALL	_Set_White_off
(0573) 		   Set_White_off(11,3,12);
    019F6 E08C      LDI	R24,0xC
    019F7 8388      ST	Y,R24
    019F8 E023      LDI	R18,3
    019F9 E00B      LDI	R16,0xB
    019FA 940E 08E9 CALL	_Set_White_off
(0574) 			pageNum=4;
    019FC E084      LDI	R24,4
    019FD E090      LDI	R25,0
    019FE 9390 0E93 STS	pageNum+1,R25
    01A00 9380 0E92 STS	pageNum,R24
(0575) 		     return;
    01A02 C001      RJMP	0x1A04
    01A03 CCC4      RJMP	0x16C8
    01A04 9622      ADIW	R28,2
    01A05 940C 3A28 JMP	pop_xgsetF000
_page4_data:
  numL                 --> R14
  numH                 --> R12
  beginCur             --> R20
  i                    --> R22
  dataCach             --> R10
  y                    --> Y,+12
    01A07 940E 398D CALL	push_arg4
    01A09 940E 3A0E CALL	push_xgsetF0FC
    01A0B 0159      MOVW	R10,R18
    01A0C 9722      SBIW	R28,2
(0576) 	  }
(0577) 	}
(0578)  }
(0579)  //等下调用page_ac()函数改变ac写数据
(0580)  void page4_data(uint y,uint* dataCach){
(0581)       uint numH=0xA2;
    01A0D EA82      LDI	R24,0xA2
    01A0E E090      LDI	R25,0
    01A0F 016C      MOVW	R12,R24
(0582)       uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
    01A10 EC84      LDI	R24,0xC4
    01A11 017C      MOVW	R14,R24
(0583) 	  uint i=0;
    01A12 2766      CLR	R22
    01A13 2777      CLR	R23
(0584) 	  uint beginCur=0;
    01A14 2744      CLR	R20
    01A15 2755      CLR	R21
(0585)     //这个判断需要些到读取值函数中去
(0586) 	 if(y<3){
    01A16 858C      LDD	R24,Y+12
    01A17 859D      LDD	R25,Y+13
    01A18 3083      CPI	R24,3
    01A19 E0E0      LDI	R30,0
    01A1A 079E      CPC	R25,R30
    01A1B F530      BCC	0x1A42
(0587) 	   lcd_write_char(2,1,numH);
    01A1C 82C8      ST	Y,R12
    01A1D E021      LDI	R18,1
    01A1E E002      LDI	R16,2
    01A1F 940E 070E CALL	_lcd_write_char
(0588)        lcd_write_char_con(1,numL+1);
    01A21 0197      MOVW	R18,R14
    01A22 5F2F      SUBI	R18,0xFF
    01A23 4F3F      SBCI	R19,0xFF
    01A24 E001      LDI	R16,1
    01A25 940E 06DC CALL	_lcd_write_char_con
(0589) 	   lcd_write_char(2,2,numH);
    01A27 82C8      ST	Y,R12
    01A28 E022      LDI	R18,2
    01A29 E002      LDI	R16,2
    01A2A 940E 070E CALL	_lcd_write_char
(0590)        lcd_write_char_con(2,numL+2);
    01A2C 0197      MOVW	R18,R14
    01A2D 5F2E      SUBI	R18,0xFE
    01A2E 4F3F      SBCI	R19,0xFF
    01A2F E002      LDI	R16,2
    01A30 940E 06DC CALL	_lcd_write_char_con
(0591)        lcd_write_char(2,3,numH);
    01A32 82C8      ST	Y,R12
    01A33 E023      LDI	R18,3
    01A34 E002      LDI	R16,2
    01A35 940E 070E CALL	_lcd_write_char
(0592)        lcd_write_char_con(3,numL+3);
    01A37 0197      MOVW	R18,R14
    01A38 5F2D      SUBI	R18,0xFD
    01A39 4F3F      SBCI	R19,0xFF
    01A3A E003      LDI	R16,3
    01A3B 940E 06DC CALL	_lcd_write_char_con
(0593) 	   y=0;
    01A3D 2400      CLR	R0
    01A3E 2411      CLR	R1
    01A3F 861D      STD	Y+13,R1
    01A40 860C      STD	Y+12,R0
(0594) 	  }else if(y>=3 && y<6){
    01A41 C08F      RJMP	0x1AD1
    01A42 858C      LDD	R24,Y+12
    01A43 859D      LDD	R25,Y+13
    01A44 3083      CPI	R24,3
    01A45 E0E0      LDI	R30,0
    01A46 079E      CPC	R25,R30
    01A47 F150      BCS	0x1A72
    01A48 3086      CPI	R24,6
    01A49 E0E0      LDI	R30,0
    01A4A 079E      CPC	R25,R30
    01A4B F530      BCC	0x1A72
(0595) 	   lcd_write_char(2,1,numH);
    01A4C 82C8      ST	Y,R12
    01A4D E021      LDI	R18,1
    01A4E E002      LDI	R16,2
    01A4F 940E 070E CALL	_lcd_write_char
(0596)        lcd_write_char_con(1,numL+4);
    01A51 0197      MOVW	R18,R14
    01A52 5F2C      SUBI	R18,0xFC
    01A53 4F3F      SBCI	R19,0xFF
    01A54 E001      LDI	R16,1
    01A55 940E 06DC CALL	_lcd_write_char_con
(0597) 	   lcd_write_char(2,2,numH);
    01A57 82C8      ST	Y,R12
    01A58 E022      LDI	R18,2
    01A59 E002      LDI	R16,2
    01A5A 940E 070E CALL	_lcd_write_char
(0598)        lcd_write_char_con(2,numL+5);
    01A5C 0197      MOVW	R18,R14
    01A5D 5F2B      SUBI	R18,0xFB
    01A5E 4F3F      SBCI	R19,0xFF
    01A5F E002      LDI	R16,2
    01A60 940E 06DC CALL	_lcd_write_char_con
(0599)        lcd_write_char(2,3,numH);
    01A62 82C8      ST	Y,R12
    01A63 E023      LDI	R18,3
    01A64 E002      LDI	R16,2
    01A65 940E 070E CALL	_lcd_write_char
(0600)        lcd_write_char_con(3,numL+6);
    01A67 0197      MOVW	R18,R14
    01A68 5F2A      SUBI	R18,0xFA
    01A69 4F3F      SBCI	R19,0xFF
    01A6A E003      LDI	R16,3
    01A6B 940E 06DC CALL	_lcd_write_char_con
(0601) 	   y=1;
    01A6D E081      LDI	R24,1
    01A6E E090      LDI	R25,0
    01A6F 879D      STD	Y+13,R25
    01A70 878C      STD	Y+12,R24
(0602) 	  }else if(y>=6 && y<9){
    01A71 C05F      RJMP	0x1AD1
    01A72 858C      LDD	R24,Y+12
    01A73 859D      LDD	R25,Y+13
    01A74 3086      CPI	R24,6
    01A75 E0E0      LDI	R30,0
    01A76 079E      CPC	R25,R30
    01A77 F150      BCS	0x1AA2
    01A78 3089      CPI	R24,0x9
    01A79 E0E0      LDI	R30,0
    01A7A 079E      CPC	R25,R30
    01A7B F530      BCC	0x1AA2
(0603) 	   lcd_write_char(2,1,numH);
    01A7C 82C8      ST	Y,R12
    01A7D E021      LDI	R18,1
    01A7E E002      LDI	R16,2
    01A7F 940E 070E CALL	_lcd_write_char
(0604)        lcd_write_char_con(1,numL+7);
    01A81 0197      MOVW	R18,R14
    01A82 5F29      SUBI	R18,0xF9
    01A83 4F3F      SBCI	R19,0xFF
    01A84 E001      LDI	R16,1
    01A85 940E 06DC CALL	_lcd_write_char_con
(0605) 	   lcd_write_char(2,2,numH);
    01A87 82C8      ST	Y,R12
    01A88 E022      LDI	R18,2
    01A89 E002      LDI	R16,2
    01A8A 940E 070E CALL	_lcd_write_char
(0606)        lcd_write_char_con(2,numL+8);
    01A8C 0197      MOVW	R18,R14
    01A8D 5F28      SUBI	R18,0xF8
    01A8E 4F3F      SBCI	R19,0xFF
    01A8F E002      LDI	R16,2
    01A90 940E 06DC CALL	_lcd_write_char_con
(0607)        lcd_write_char(2,3,numH);
    01A92 82C8      ST	Y,R12
    01A93 E023      LDI	R18,3
    01A94 E002      LDI	R16,2
    01A95 940E 070E CALL	_lcd_write_char
(0608)        lcd_write_char_con(3,numL+9);
    01A97 0197      MOVW	R18,R14
    01A98 5F27      SUBI	R18,0xF7
    01A99 4F3F      SBCI	R19,0xFF
    01A9A E003      LDI	R16,3
    01A9B 940E 06DC CALL	_lcd_write_char_con
(0609) 	   y=2;
    01A9D E082      LDI	R24,2
    01A9E E090      LDI	R25,0
    01A9F 879D      STD	Y+13,R25
    01AA0 878C      STD	Y+12,R24
(0610) 	  }else if(y>=9 && y<12){
    01AA1 C02F      RJMP	0x1AD1
    01AA2 858C      LDD	R24,Y+12
    01AA3 859D      LDD	R25,Y+13
    01AA4 3089      CPI	R24,0x9
    01AA5 E0E0      LDI	R30,0
    01AA6 079E      CPC	R25,R30
    01AA7 F148      BCS	0x1AD1
    01AA8 308C      CPI	R24,0xC
    01AA9 E0E0      LDI	R30,0
    01AAA 079E      CPC	R25,R30
    01AAB F528      BCC	0x1AD1
(0611) 	   lcd_write_char(2,1,numH);
    01AAC 82C8      ST	Y,R12
    01AAD E021      LDI	R18,1
    01AAE E002      LDI	R16,2
    01AAF 940E 070E CALL	_lcd_write_char
(0612)        lcd_write_char_con(1,numL+10);
    01AB1 0197      MOVW	R18,R14
    01AB2 5F26      SUBI	R18,0xF6
    01AB3 4F3F      SBCI	R19,0xFF
    01AB4 E001      LDI	R16,1
    01AB5 940E 06DC CALL	_lcd_write_char_con
(0613) 	   lcd_write_char(2,2,numH);
    01AB7 82C8      ST	Y,R12
    01AB8 E022      LDI	R18,2
    01AB9 E002      LDI	R16,2
    01ABA 940E 070E CALL	_lcd_write_char
(0614)        lcd_write_char_con(2,numL+11);
    01ABC 0197      MOVW	R18,R14
    01ABD 5F25      SUBI	R18,0xF5
    01ABE 4F3F      SBCI	R19,0xFF
    01ABF E002      LDI	R16,2
    01AC0 940E 06DC CALL	_lcd_write_char_con
(0615)        lcd_write_char(2,3,numH);
    01AC2 82C8      ST	Y,R12
    01AC3 E023      LDI	R18,3
    01AC4 E002      LDI	R16,2
    01AC5 940E 070E CALL	_lcd_write_char
(0616)        lcd_write_char_con(3,numL+12);
    01AC7 0197      MOVW	R18,R14
    01AC8 5F24      SUBI	R18,0xF4
    01AC9 4F3F      SBCI	R19,0xFF
    01ACA E003      LDI	R16,3
    01ACB 940E 06DC CALL	_lcd_write_char_con
(0617) 	   y=3;
    01ACD E083      LDI	R24,3
    01ACE E090      LDI	R25,0
    01ACF 879D      STD	Y+13,R25
    01AD0 878C      STD	Y+12,R24
(0618) 	  }
(0619) 	  //还要做数据读取操作
(0620) 	  beginCur=y*33;//获得首个数据
    01AD1 E201      LDI	R16,0x21
    01AD2 E010      LDI	R17,0
    01AD3 852C      LDD	R18,Y+12
    01AD4 853D      LDD	R19,Y+13
    01AD5 940E 39E7 CALL	empy16s
    01AD7 01A8      MOVW	R20,R16
(0621) 	  for(i=1;i<=3;i++){
    01AD8 E061      LDI	R22,1
    01AD9 E070      LDI	R23,0
    01ADA C0C5      RJMP	0x1BA0
(0622) 	    if(i==1){//第一次进入需要判断，首位写不许用++
    01ADB 3061      CPI	R22,1
    01ADC E0E0      LDI	R30,0
    01ADD 077E      CPC	R23,R30
    01ADE F471      BNE	0x1AED
(0623) 		 lcd_write_char(3,i,0x30 | *(dataCach+beginCur));
    01ADF 01FA      MOVW	R30,R20
    01AE0 0FEE      LSL	R30
    01AE1 1FFF      ROL	R31
    01AE2 0DEA      ADD	R30,R10
    01AE3 1DFB      ADC	R31,R11
    01AE4 8180      LD	R24,Z
    01AE5 8191      LDD	R25,Z+1
    01AE6 6380      ORI	R24,0x30
    01AE7 8388      ST	Y,R24
    01AE8 2F26      MOV	R18,R22
    01AE9 E003      LDI	R16,3
    01AEA 940E 070E CALL	_lcd_write_char
(0624) 		}else{
    01AEC C010      RJMP	0x1AFD
(0625) 		 lcd_write_char(3,i,0x30 | *(dataCach+(++beginCur)));
    01AED 01CA      MOVW	R24,R20
    01AEE 9601      ADIW	R24,1
    01AEF 01AC      MOVW	R20,R24
    01AF0 01FC      MOVW	R30,R24
    01AF1 0FEE      LSL	R30
    01AF2 1FFF      ROL	R31
    01AF3 0DEA      ADD	R30,R10
    01AF4 1DFB      ADC	R31,R11
    01AF5 8180      LD	R24,Z
    01AF6 8191      LDD	R25,Z+1
    01AF7 6380      ORI	R24,0x30
    01AF8 8388      ST	Y,R24
    01AF9 2F26      MOV	R18,R22
    01AFA E003      LDI	R16,3
    01AFB 940E 070E CALL	_lcd_write_char
(0626) 		}
(0627)         lcd_write_char_con(i, 0x30 | *(dataCach+(++beginCur)));
    01AFD 01CA      MOVW	R24,R20
    01AFE 9601      ADIW	R24,1
    01AFF 01AC      MOVW	R20,R24
    01B00 01FC      MOVW	R30,R24
    01B01 0FEE      LSL	R30
    01B02 1FFF      ROL	R31
    01B03 0DEA      ADD	R30,R10
    01B04 1DFB      ADC	R31,R11
    01B05 8120      LD	R18,Z
    01B06 8131      LDD	R19,Z+1
    01B07 6320      ORI	R18,0x30
    01B08 2F06      MOV	R16,R22
    01B09 940E 06DC CALL	_lcd_write_char_con
(0628) 		 lcd_write_str_con(i,": ");
    01B0B E125      LDI	R18,0x15
    01B0C E039      LDI	R19,0x9
    01B0D 2F06      MOV	R16,R22
    01B0E 940E 077E CALL	_lcd_write_str_con
(0629) 	     lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    01B10 01CA      MOVW	R24,R20
    01B11 9601      ADIW	R24,1
    01B12 01AC      MOVW	R20,R24
    01B13 01FC      MOVW	R30,R24
    01B14 0FEE      LSL	R30
    01B15 1FFF      ROL	R31
    01B16 0DEA      ADD	R30,R10
    01B17 1DFB      ADC	R31,R11
    01B18 8120      LD	R18,Z
    01B19 8131      LDD	R19,Z+1
    01B1A 6320      ORI	R18,0x30
    01B1B 2F06      MOV	R16,R22
    01B1C 940E 06DC CALL	_lcd_write_char_con
(0630) 		 lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    01B1E 01CA      MOVW	R24,R20
    01B1F 9601      ADIW	R24,1
    01B20 01AC      MOVW	R20,R24
    01B21 01FC      MOVW	R30,R24
    01B22 0FEE      LSL	R30
    01B23 1FFF      ROL	R31
    01B24 0DEA      ADD	R30,R10
    01B25 1DFB      ADC	R31,R11
    01B26 8120      LD	R18,Z
    01B27 8131      LDD	R19,Z+1
    01B28 6320      ORI	R18,0x30
    01B29 2F06      MOV	R16,R22
    01B2A 940E 06DC CALL	_lcd_write_char_con
(0631) 		 
(0632) 		 lcd_write_char(7,i, 0x30 | *(dataCach+(++beginCur)));
    01B2C 01CA      MOVW	R24,R20
    01B2D 9601      ADIW	R24,1
    01B2E 01AC      MOVW	R20,R24
    01B2F 01FC      MOVW	R30,R24
    01B30 0FEE      LSL	R30
    01B31 1FFF      ROL	R31
    01B32 0DEA      ADD	R30,R10
    01B33 1DFB      ADC	R31,R11
    01B34 8180      LD	R24,Z
    01B35 8191      LDD	R25,Z+1
    01B36 6380      ORI	R24,0x30
    01B37 8388      ST	Y,R24
    01B38 2F26      MOV	R18,R22
    01B39 E007      LDI	R16,7
    01B3A 940E 070E CALL	_lcd_write_char
(0633) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01B3C 01CA      MOVW	R24,R20
    01B3D 9601      ADIW	R24,1
    01B3E 01AC      MOVW	R20,R24
    01B3F 01FC      MOVW	R30,R24
    01B40 0FEE      LSL	R30
    01B41 1FFF      ROL	R31
    01B42 0DEA      ADD	R30,R10
    01B43 1DFB      ADC	R31,R11
    01B44 8120      LD	R18,Z
    01B45 8131      LDD	R19,Z+1
    01B46 6320      ORI	R18,0x30
    01B47 2F06      MOV	R16,R22
    01B48 940E 06DC CALL	_lcd_write_char_con
(0634) 		  lcd_write_str_con(i,": ");
    01B4A E125      LDI	R18,0x15
    01B4B E039      LDI	R19,0x9
    01B4C 2F06      MOV	R16,R22
    01B4D 940E 077E CALL	_lcd_write_str_con
(0635) 		 lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    01B4F 01CA      MOVW	R24,R20
    01B50 9601      ADIW	R24,1
    01B51 01AC      MOVW	R20,R24
    01B52 01FC      MOVW	R30,R24
    01B53 0FEE      LSL	R30
    01B54 1FFF      ROL	R31
    01B55 0DEA      ADD	R30,R10
    01B56 1DFB      ADC	R31,R11
    01B57 8120      LD	R18,Z
    01B58 8131      LDD	R19,Z+1
    01B59 6320      ORI	R18,0x30
    01B5A 2F06      MOV	R16,R22
    01B5B 940E 06DC CALL	_lcd_write_char_con
(0636) 		 lcd_write_char_con(i, 0x30 | *(dataCach+(++beginCur)));
    01B5D 01CA      MOVW	R24,R20
    01B5E 9601      ADIW	R24,1
    01B5F 01AC      MOVW	R20,R24
    01B60 01FC      MOVW	R30,R24
    01B61 0FEE      LSL	R30
    01B62 1FFF      ROL	R31
    01B63 0DEA      ADD	R30,R10
    01B64 1DFB      ADC	R31,R11
    01B65 8120      LD	R18,Z
    01B66 8131      LDD	R19,Z+1
    01B67 6320      ORI	R18,0x30
    01B68 2F06      MOV	R16,R22
    01B69 940E 06DC CALL	_lcd_write_char_con
(0637) 		 
(0638) 		 lcd_write_str(10,i," ");
    01B6B E183      LDI	R24,0x13
    01B6C E099      LDI	R25,0x9
    01B6D 8399      STD	Y+1,R25
    01B6E 8388      ST	Y,R24
    01B6F 2F26      MOV	R18,R22
    01B70 E00A      LDI	R16,0xA
    01B71 940E 0734 CALL	_lcd_write_str
(0639) 		 lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    01B73 01CA      MOVW	R24,R20
    01B74 9601      ADIW	R24,1
    01B75 01AC      MOVW	R20,R24
    01B76 01FC      MOVW	R30,R24
    01B77 0FEE      LSL	R30
    01B78 1FFF      ROL	R31
    01B79 0DEA      ADD	R30,R10
    01B7A 1DFB      ADC	R31,R11
    01B7B 8120      LD	R18,Z
    01B7C 8131      LDD	R19,Z+1
    01B7D 6320      ORI	R18,0x30
    01B7E 2F06      MOV	R16,R22
    01B7F 940E 06DC CALL	_lcd_write_char_con
(0640) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01B81 01CA      MOVW	R24,R20
    01B82 9601      ADIW	R24,1
    01B83 01AC      MOVW	R20,R24
    01B84 01FC      MOVW	R30,R24
    01B85 0FEE      LSL	R30
    01B86 1FFF      ROL	R31
    01B87 0DEA      ADD	R30,R10
    01B88 1DFB      ADC	R31,R11
    01B89 8120      LD	R18,Z
    01B8A 8131      LDD	R19,Z+1
    01B8B 6320      ORI	R18,0x30
    01B8C 2F06      MOV	R16,R22
    01B8D 940E 06DC CALL	_lcd_write_char_con
(0641) 		 lcd_write_char_con(i, 0x30 | *(dataCach+(++beginCur)));
    01B8F 01CA      MOVW	R24,R20
    01B90 9601      ADIW	R24,1
    01B91 016C      MOVW	R12,R24
    01B92 01AC      MOVW	R20,R24
    01B93 01FC      MOVW	R30,R24
    01B94 0FEE      LSL	R30
    01B95 1FFF      ROL	R31
    01B96 0DEA      ADD	R30,R10
    01B97 1DFB      ADC	R31,R11
    01B98 8120      LD	R18,Z
    01B99 8131      LDD	R19,Z+1
    01B9A 6320      ORI	R18,0x30
    01B9B 2F06      MOV	R16,R22
    01B9C 940E 06DC CALL	_lcd_write_char_con
    01B9E 5F6F      SUBI	R22,0xFF
    01B9F 4F7F      SBCI	R23,0xFF
    01BA0 E083      LDI	R24,3
    01BA1 E090      LDI	R25,0
    01BA2 1786      CP	R24,R22
    01BA3 0797      CPC	R25,R23
    01BA4 F008      BCS	0x1BA6
    01BA5 CF35      RJMP	0x1ADB
    01BA6 9622      ADIW	R28,2
    01BA7 940E 3A03 CALL	pop_xgsetF0FC
    01BA9 9624      ADIW	R28,4
    01BAA 9508      RET
_page4_ac:
  y                    --> R10
  x                    --> R22
  lcd_y                --> R20
  dataCach             --> R12
  oldcur               --> Y,+12
  cur                  --> Y,+10
    01BAB 940E 398D CALL	push_arg4
    01BAD 940E 3A0E CALL	push_xgsetF0FC
    01BAF 84CE      LDD	R12,Y+14
    01BB0 84DF      LDD	R13,Y+15
(0642) 	  }
(0643) 	  
(0644)  }
(0645)  //传入cur做ac位置操作,判断是否翻页
(0646)  void page4_ac(uint cur,uint oldcur,uint* dataCach){
(0647)       uint y=cur/11;//逻辑y.从0开始
    01BB1 E02B      LDI	R18,0xB
    01BB2 E030      LDI	R19,0
    01BB3 850A      LDD	R16,Y+10
    01BB4 851B      LDD	R17,Y+11
    01BB5 940E 39B9 CALL	div16u
    01BB7 0158      MOVW	R10,R16
(0648) 	  uint lcd_y;//显示y
(0649) 	  uint x=cur%11;//x轴
    01BB8 E02B      LDI	R18,0xB
    01BB9 E030      LDI	R19,0
    01BBA 850A      LDD	R16,Y+10
    01BBB 851B      LDD	R17,Y+11
    01BBC 940E 39B7 CALL	mod16u
    01BBE 01B8      MOVW	R22,R16
(0650) 	  switch(y%3){
    01BBF E023      LDI	R18,3
    01BC0 E030      LDI	R19,0
    01BC1 0185      MOVW	R16,R10
    01BC2 940E 39B7 CALL	mod16u
    01BC4 0178      MOVW	R14,R16
    01BC5 3000      CPI	R16,0
    01BC6 0701      CPC	R16,R17
    01BC7 F051      BEQ	0x1BD2
    01BC8 01C7      MOVW	R24,R14
    01BC9 3001      CPI	R16,1
    01BCA E0E0      LDI	R30,0
    01BCB 071E      CPC	R17,R30
    01BCC F041      BEQ	0x1BD5
    01BCD 3002      CPI	R16,2
    01BCE E0E0      LDI	R30,0
    01BCF 071E      CPC	R17,R30
    01BD0 F039      BEQ	0x1BD8
    01BD1 C008      RJMP	0x1BDA
(0651) 	   case 0://1行
(0652) 	     lcd_y=1;
    01BD2 E041      LDI	R20,1
    01BD3 E050      LDI	R21,0
(0653) 	     break;
    01BD4 C005      RJMP	0x1BDA
(0654) 	   case 1://2行
(0655) 	     lcd_y=2;
    01BD5 E042      LDI	R20,2
    01BD6 E050      LDI	R21,0
(0656) 		 break;
    01BD7 C002      RJMP	0x1BDA
(0657) 	   case 2://3行
(0658) 	     lcd_y=3;
    01BD8 E043      LDI	R20,3
    01BD9 E050      LDI	R21,0
(0659) 	     break;
(0660) 	  }
(0661) 	  switch((oldcur/11)/3){
    01BDA E02B      LDI	R18,0xB
    01BDB E030      LDI	R19,0
    01BDC 850C      LDD	R16,Y+12
    01BDD 851D      LDD	R17,Y+13
    01BDE 940E 39B9 CALL	div16u
    01BE0 E023      LDI	R18,3
    01BE1 E030      LDI	R19,0
    01BE2 940E 39B9 CALL	div16u
    01BE4 0178      MOVW	R14,R16
    01BE5 3000      CPI	R16,0
    01BE6 0701      CPC	R16,R17
    01BE7 F071      BEQ	0x1BF6
    01BE8 01C7      MOVW	R24,R14
    01BE9 3001      CPI	R16,1
    01BEA E0E0      LDI	R30,0
    01BEB 071E      CPC	R17,R30
    01BEC F0A1      BEQ	0x1C01
    01BED 3002      CPI	R16,2
    01BEE E0E0      LDI	R30,0
    01BEF 071E      CPC	R17,R30
    01BF0 F101      BEQ	0x1C11
    01BF1 3003      CPI	R16,3
    01BF2 E0E0      LDI	R30,0
    01BF3 071E      CPC	R17,R30
    01BF4 F169      BEQ	0x1C22
    01BF5 C035      RJMP	0x1C2B
(0662) 	    case 0:
(0663) 		 if(cur>32){
    01BF6 E280      LDI	R24,0x20
    01BF7 E090      LDI	R25,0
    01BF8 840A      LDD	R0,Y+10
    01BF9 841B      LDD	R1,Y+11
    01BFA 1580      CP	R24,R0
    01BFB 0591      CPC	R25,R1
    01BFC F570      BCC	0x1C2B
(0664) 		   page4_data(y,dataCach);
    01BFD 0196      MOVW	R18,R12
    01BFE 0185      MOVW	R16,R10
    01BFF DE07      RCALL	_page4_data
(0665) 		 }
(0666) 		 break;
    01C00 C02A      RJMP	0x1C2B
(0667) 		case 1:
(0668) 		  if(cur>65 || cur<33){
    01C01 E481      LDI	R24,0x41
    01C02 E090      LDI	R25,0
    01C03 840A      LDD	R0,Y+10
    01C04 841B      LDD	R1,Y+11
    01C05 1580      CP	R24,R0
    01C06 0591      CPC	R25,R1
    01C07 F028      BCS	0x1C0D
    01C08 01C0      MOVW	R24,R0
    01C09 3281      CPI	R24,0x21
    01C0A E0E0      LDI	R30,0
    01C0B 079E      CPC	R25,R30
    01C0C F4F0      BCC	0x1C2B
(0669) 		   page4_data(y,dataCach);
    01C0D 0196      MOVW	R18,R12
    01C0E 0185      MOVW	R16,R10
    01C0F DDF7      RCALL	_page4_data
(0670) 		 }
(0671) 		 break;
    01C10 C01A      RJMP	0x1C2B
(0672) 		case 2:
(0673) 		if(cur<66 || cur>98){
    01C11 858A      LDD	R24,Y+10
    01C12 859B      LDD	R25,Y+11
    01C13 3482      CPI	R24,0x42
    01C14 E0E0      LDI	R30,0
    01C15 079E      CPC	R25,R30
    01C16 F038      BCS	0x1C1E
    01C17 E682      LDI	R24,0x62
    01C18 E090      LDI	R25,0
    01C19 840A      LDD	R0,Y+10
    01C1A 841B      LDD	R1,Y+11
    01C1B 1580      CP	R24,R0
    01C1C 0591      CPC	R25,R1
    01C1D F468      BCC	0x1C2B
(0674) 		   page4_data(y,dataCach);
    01C1E 0196      MOVW	R18,R12
    01C1F 0185      MOVW	R16,R10
    01C20 DDE6      RCALL	_page4_data
(0675) 		 }
(0676) 		 break;
    01C21 C009      RJMP	0x1C2B
(0677) 		case 3:
(0678) 		if(cur<99){
    01C22 858A      LDD	R24,Y+10
    01C23 859B      LDD	R25,Y+11
    01C24 3683      CPI	R24,0x63
    01C25 E0E0      LDI	R30,0
    01C26 079E      CPC	R25,R30
    01C27 F418      BCC	0x1C2B
(0679) 		   page4_data(y,dataCach);
    01C28 0196      MOVW	R18,R12
    01C29 0185      MOVW	R16,R10
    01C2A DDDC      RCALL	_page4_data
(0680) 		 }
(0681) 		 break;
(0682) 	  }
(0683) 	  if(lcd_y==1){
    01C2B 3041      CPI	R20,1
    01C2C E0E0      LDI	R30,0
    01C2D 075E      CPC	R21,R30
    01C2E F449      BNE	0x1C38
(0684) 	     cur_set(3);
    01C2F E003      LDI	R16,3
    01C30 E010      LDI	R17,0
    01C31 940E 08A5 CALL	_cur_set
(0685) 		 cur_set(4);
    01C33 E004      LDI	R16,4
    01C34 E010      LDI	R17,0
    01C35 940E 08A5 CALL	_cur_set
(0686) 	  }else if(lcd_y==2 || lcd_y==3){
    01C37 C010      RJMP	0x1C48
    01C38 3042      CPI	R20,2
    01C39 E0E0      LDI	R30,0
    01C3A 075E      CPC	R21,R30
    01C3B F021      BEQ	0x1C40
    01C3C 3043      CPI	R20,3
    01C3D E0E0      LDI	R30,0
    01C3E 075E      CPC	R21,R30
    01C3F F441      BNE	0x1C48
(0687) 	     cur_set(0);
    01C40 2700      CLR	R16
    01C41 2711      CLR	R17
    01C42 940E 08A5 CALL	_cur_set
(0688) 		 cur_set(7);
    01C44 E007      LDI	R16,7
    01C45 E010      LDI	R17,0
    01C46 940E 08A5 CALL	_cur_set
(0689) 	  }
(0690) 	  if(x==0){
    01C48 3060      CPI	R22,0
    01C49 0767      CPC	R22,R23
    01C4A F429      BNE	0x1C50
(0691) 	      lcd_write_pos(3,lcd_y);
    01C4B 2F24      MOV	R18,R20
    01C4C E003      LDI	R16,3
    01C4D 940E 06F0 CALL	_lcd_write_pos
(0692) 	  }else if(x==2){
    01C4F C031      RJMP	0x1C81
    01C50 3062      CPI	R22,2
    01C51 E0E0      LDI	R30,0
    01C52 077E      CPC	R23,R30
    01C53 F429      BNE	0x1C59
(0693) 	       lcd_write_pos(5,lcd_y);
    01C54 2F24      MOV	R18,R20
    01C55 E005      LDI	R16,5
    01C56 940E 06F0 CALL	_lcd_write_pos
(0694) 	  }else if(x==4){
    01C58 C028      RJMP	0x1C81
    01C59 3064      CPI	R22,4
    01C5A E0E0      LDI	R30,0
    01C5B 077E      CPC	R23,R30
    01C5C F429      BNE	0x1C62
(0695) 	        lcd_write_pos(7,lcd_y);
    01C5D 2F24      MOV	R18,R20
    01C5E E007      LDI	R16,7
    01C5F 940E 06F0 CALL	_lcd_write_pos
(0696) 	  }else if(x==6){
    01C61 C01F      RJMP	0x1C81
    01C62 3066      CPI	R22,6
    01C63 E0E0      LDI	R30,0
    01C64 077E      CPC	R23,R30
    01C65 F429      BNE	0x1C6B
(0697) 	        lcd_write_pos(9,lcd_y);
    01C66 2F24      MOV	R18,R20
    01C67 E009      LDI	R16,0x9
    01C68 940E 06F0 CALL	_lcd_write_pos
(0698) 	  }else if(x==8){
    01C6A C016      RJMP	0x1C81
    01C6B 3068      CPI	R22,0x8
    01C6C E0E0      LDI	R30,0
    01C6D 077E      CPC	R23,R30
    01C6E F451      BNE	0x1C79
(0699) 	        lcd_write_pos(10,lcd_y);
    01C6F 2F24      MOV	R18,R20
    01C70 E00A      LDI	R16,0xA
    01C71 940E 06F0 CALL	_lcd_write_pos
(0700) 			lcd_write_str_con(lcd_y," ");
    01C73 E123      LDI	R18,0x13
    01C74 E039      LDI	R19,0x9
    01C75 2F04      MOV	R16,R20
    01C76 940E 077E CALL	_lcd_write_str_con
(0701) 	  }else if(x==9){
    01C78 C008      RJMP	0x1C81
    01C79 3069      CPI	R22,0x9
    01C7A E0E0      LDI	R30,0
    01C7B 077E      CPC	R23,R30
    01C7C F421      BNE	0x1C81
(0702) 	        lcd_write_pos(11,lcd_y);
    01C7D 2F24      MOV	R18,R20
    01C7E E00B      LDI	R16,0xB
    01C7F 940E 06F0 CALL	_lcd_write_pos
(0703) 	  }
(0704) 	  return;
    01C81 940E 3A03 CALL	pop_xgsetF0FC
    01C83 9624      ADIW	R28,4
    01C84 9508      RET
_page4:
  numL                 --> R20
  numH                 --> R20
  oldcur               --> R22
  dataCach             --> Y,+2
  cur                  --> R20
  keyV                 --> R10
  i                    --> R10
    01C85 940E 3A49 CALL	push_xgsetF03C
    01C87 97EF      SBIW	R28,0x3F
    01C88 97EF      SBIW	R28,0x3F
    01C89 97EF      SBIW	R28,0x3F
    01C8A 97EF      SBIW	R28,0x3F
    01C8B 972C      SBIW	R28,0xC
(0705)  }
(0706)   void page4(void){
(0707)     //定义一个局部的结构体，从对呀温度中获得数据。暂时未写
(0708)   uint numH=0xA2;
(0709)   uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
(0710)   uint cur=0;
    01C8C 2744      CLR	R20
    01C8D 2755      CLR	R21
(0711)   uint oldcur=0;
    01C8E 2766      CLR	R22
    01C8F 2777      CLR	R23
(0712)   uint dataCach[131]={0};
    01C90 E58C      LDI	R24,0x5C
    01C91 E097      LDI	R25,7
    01C92 01FE      MOVW	R30,R28
    01C93 9632      ADIW	R30,2
    01C94 E006      LDI	R16,6
    01C95 E011      LDI	R17,1
    01C96 93FA      ST	-Y,R31
    01C97 93EA      ST	-Y,R30
    01C98 939A      ST	-Y,R25
    01C99 938A      ST	-Y,R24
    01C9A 940E 3A6A CALL	asgnblk
(0713)   uint i=0;
(0714)    uchar keyV;
(0715)    lcd_write_str(0,0,"T");
    01C9C E58C      LDI	R24,0x5C
    01C9D E099      LDI	R25,0x9
    01C9E 8399      STD	Y+1,R25
    01C9F 8388      ST	Y,R24
    01CA0 2722      CLR	R18
    01CA1 2700      CLR	R16
    01CA2 940E 0734 CALL	_lcd_write_str
(0716)    lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    01CA4 9120 0E88 LDS	R18,pageParam
    01CA6 9130 0E89 LDS	R19,pageParam+1
    01CA8 5F2F      SUBI	R18,0xFF
    01CA9 4F3F      SBCI	R19,0xFF
    01CAA 6320      ORI	R18,0x30
    01CAB 2700      CLR	R16
    01CAC 940E 06DC CALL	_lcd_write_char_con
(0717)    lcd_write_char_con(0,':');
    01CAE E32A      LDI	R18,0x3A
    01CAF 2700      CLR	R16
    01CB0 940E 06DC CALL	_lcd_write_char_con
(0718)    
(0719)    lcd_write_str(4,0,"升温");
    01CB2 E385      LDI	R24,0x35
    01CB3 E099      LDI	R25,0x9
    01CB4 8399      STD	Y+1,R25
    01CB5 8388      ST	Y,R24
    01CB6 2722      CLR	R18
    01CB7 E004      LDI	R16,4
    01CB8 940E 0734 CALL	_lcd_write_str
(0720)    lcd_write_str(7,0,"恒温");
    01CBA E380      LDI	R24,0x30
    01CBB E099      LDI	R25,0x9
    01CBC 8399      STD	Y+1,R25
    01CBD 8388      ST	Y,R24
    01CBE 2722      CLR	R18
    01CBF E007      LDI	R16,7
    01CC0 940E 0734 CALL	_lcd_write_str
(0721)    lcd_write_str(10,0,"温度");
    01CC2 E08E      LDI	R24,0xE
    01CC3 E099      LDI	R25,0x9
    01CC4 8399      STD	Y+1,R25
    01CC5 8388      ST	Y,R24
    01CC6 2722      CLR	R18
    01CC7 E00A      LDI	R16,0xA
    01CC8 940E 0734 CALL	_lcd_write_str
(0722)    lcd_write_str(0,1,"保存");
    01CCA E089      LDI	R24,0x9
    01CCB E099      LDI	R25,0x9
    01CCC 8399      STD	Y+1,R25
    01CCD 8388      ST	Y,R24
    01CCE E021      LDI	R18,1
    01CCF 2700      CLR	R16
    01CD0 940E 0734 CALL	_lcd_write_str
(0723)    lcd_write_str(0,2,"取消");
    01CD2 E68A      LDI	R24,0x6A
    01CD3 E099      LDI	R25,0x9
    01CD4 8399      STD	Y+1,R25
    01CD5 8388      ST	Y,R24
    01CD6 E022      LDI	R18,2
    01CD7 2700      CLR	R16
    01CD8 940E 0734 CALL	_lcd_write_str
(0724)    lcd_write_str(0,3,"重置");
    01CDA E38B      LDI	R24,0x3B
    01CDB E099      LDI	R25,0x9
    01CDC 8399      STD	Y+1,R25
    01CDD 8388      ST	Y,R24
    01CDE E023      LDI	R18,3
    01CDF 2700      CLR	R16
    01CE0 940E 0734 CALL	_lcd_write_str
(0725)   
(0726)   for(i=0;i<132;i++){
    01CE2 24AA      CLR	R10
    01CE3 24BB      CLR	R11
    01CE4 C020      RJMP	0x1D05
(0727)     dataCach[i]=temps[pageParam[0]].temp_data[i];
    01CE5 0115      MOVW	R2,R10
    01CE6 0C22      LSL	R2
    01CE7 1C33      ROL	R3
    01CE8 0121      MOVW	R4,R2
    01CE9 9120 0E88 LDS	R18,pageParam
    01CEB 9130 0E89 LDS	R19,pageParam+1
    01CED E404      LDI	R16,0x44
    01CEE E011      LDI	R17,1
    01CEF 940E 39E7 CALL	empy16s
    01CF1 E48A      LDI	R24,0x4A
    01CF2 E092      LDI	R25,2
    01CF3 0118      MOVW	R2,R16
    01CF4 0E28      ADD	R2,R24
    01CF5 1E39      ADC	R3,R25
    01CF6 01F2      MOVW	R30,R4
    01CF7 0DE2      ADD	R30,R2
    01CF8 1DF3      ADC	R31,R3
    01CF9 8020      LD	R2,Z
    01CFA 8031      LDD	R3,Z+1
    01CFB 01CE      MOVW	R24,R28
    01CFC 9602      ADIW	R24,2
    01CFD 01F2      MOVW	R30,R4
    01CFE 0FE8      ADD	R30,R24
    01CFF 1FF9      ADC	R31,R25
    01D00 8231      STD	Z+1,R3
    01D01 8220      ST	Z,R2
    01D02 01C5      MOVW	R24,R10
    01D03 9601      ADIW	R24,1
    01D04 015C      MOVW	R10,R24
    01D05 01C5      MOVW	R24,R10
    01D06 3884      CPI	R24,0x84
    01D07 E0E0      LDI	R30,0
    01D08 079E      CPC	R25,R30
    01D09 F2D8      BCS	0x1CE5
(0728)   }
(0729)     page4_data(0,dataCach);//调用函数填充
    01D0A 019E      MOVW	R18,R28
    01D0B 5F2E      SUBI	R18,0xFE
    01D0C 4F3F      SBCI	R19,0xFF
    01D0D 2700      CLR	R16
    01D0E 2711      CLR	R17
    01D0F DCF7      RCALL	_page4_data
(0730)    cur=0;
    01D10 2744      CLR	R20
    01D11 2755      CLR	R21
(0731)    lcd_write_pos(3,1);
    01D12 E021      LDI	R18,1
    01D13 E003      LDI	R16,3
    01D14 940E 06F0 CALL	_lcd_write_pos
(0732)    cur_set(3);
    01D16 E003      LDI	R16,3
    01D17 E010      LDI	R17,0
    01D18 940E 08A5 CALL	_cur_set
    01D1A C22B      RJMP	0x1F46
(0733)    
(0734)    //Set_White(9,2,10);
(0735)     while(1){
(0736)       keyV=KeyScan_once();
    01D1B 940E 05D1 CALL	_KeyScan_once
    01D1D 2EA0      MOV	R10,R16
(0737) 	  if(keyV=='e'){
    01D1E 3605      CPI	R16,0x65
    01D1F F509      BNE	0x1D41
(0738) 	        Set_White_off(1,1,2);
    01D20 E082      LDI	R24,2
    01D21 8388      ST	Y,R24
    01D22 E021      LDI	R18,1
    01D23 E001      LDI	R16,1
    01D24 940E 08E9 CALL	_Set_White_off
(0739) 			Set_White_off(1,2,2);
    01D26 E082      LDI	R24,2
    01D27 8388      ST	Y,R24
    01D28 E022      LDI	R18,2
    01D29 E001      LDI	R16,1
    01D2A 940E 08E9 CALL	_Set_White_off
(0740) 			Set_White_off(1,3,2);
    01D2C E082      LDI	R24,2
    01D2D 8388      ST	Y,R24
    01D2E E023      LDI	R18,3
    01D2F E001      LDI	R16,1
    01D30 940E 08E9 CALL	_Set_White_off
(0741) 			cur_set(0);
    01D32 2700      CLR	R16
    01D33 2711      CLR	R17
    01D34 940E 08A5 CALL	_cur_set
(0742) 			cur_set(4);
    01D36 E004      LDI	R16,4
    01D37 E010      LDI	R17,0
    01D38 940E 08A5 CALL	_cur_set
(0743) 		    pageNum=3;
    01D3A E083      LDI	R24,3
    01D3B E090      LDI	R25,0
    01D3C 9390 0E93 STS	pageNum+1,R25
    01D3E 9380 0E92 STS	pageNum,R24
(0744) 		    return;
    01D40 C206      RJMP	0x1F47
(0745) 	  }else if(keyV=='u'){
    01D41 2D8A      MOV	R24,R10
    01D42 3785      CPI	R24,0x75
    01D43 F009      BEQ	0x1D45
    01D44 C046      RJMP	0x1D8B
(0746) 	     if(cur==133){
    01D45 3845      CPI	R20,0x85
    01D46 E0E0      LDI	R30,0
    01D47 075E      CPC	R21,R30
    01D48 F479      BNE	0x1D58
(0747) 		    Set_White(1,1,2);
    01D49 E082      LDI	R24,2
    01D4A 8388      ST	Y,R24
    01D4B E021      LDI	R18,1
    01D4C E001      LDI	R16,1
    01D4D 940E 0959 CALL	_Set_White
(0748) 			Set_White_off(1,2,2);
    01D4F E082      LDI	R24,2
    01D50 8388      ST	Y,R24
    01D51 E022      LDI	R18,2
    01D52 E001      LDI	R16,1
    01D53 940E 08E9 CALL	_Set_White_off
(0749) 			cur=132;
    01D55 E844      LDI	R20,0x84
    01D56 E050      LDI	R21,0
(0750) 		 }else if(cur==134){
    01D57 C1EE      RJMP	0x1F46
    01D58 3846      CPI	R20,0x86
    01D59 E0E0      LDI	R30,0
    01D5A 075E      CPC	R21,R30
    01D5B F479      BNE	0x1D6B
(0751) 		    Set_White(1,2,2);
    01D5C E082      LDI	R24,2
    01D5D 8388      ST	Y,R24
    01D5E E022      LDI	R18,2
    01D5F E001      LDI	R16,1
    01D60 940E 0959 CALL	_Set_White
(0752) 			Set_White_off(1,3,2);
    01D62 E082      LDI	R24,2
    01D63 8388      ST	Y,R24
    01D64 E023      LDI	R18,3
    01D65 E001      LDI	R16,1
    01D66 940E 08E9 CALL	_Set_White_off
(0753) 			cur=133;
    01D68 E845      LDI	R20,0x85
    01D69 E050      LDI	R21,0
(0754) 		 }else if(cur>10 && cur<=131){
    01D6A C1DB      RJMP	0x1F46
    01D6B E08A      LDI	R24,0xA
    01D6C E090      LDI	R25,0
    01D6D 1784      CP	R24,R20
    01D6E 0795      CPC	R25,R21
    01D6F F008      BCS	0x1D71
    01D70 C1D5      RJMP	0x1F46
    01D71 E883      LDI	R24,0x83
    01D72 1784      CP	R24,R20
    01D73 0795      CPC	R25,R21
    01D74 F408      BCC	0x1D76
    01D75 C1D0      RJMP	0x1F46
(0755) 		   oldcur=cur;
    01D76 01BA      MOVW	R22,R20
(0756) 	       cur=(cur/11-1)*11;
    01D77 E02B      LDI	R18,0xB
    01D78 E030      LDI	R19,0
    01D79 018A      MOVW	R16,R20
    01D7A 940E 39B9 CALL	div16u
    01D7C 0198      MOVW	R18,R16
    01D7D 5021      SUBI	R18,1
    01D7E 4030      SBCI	R19,0
    01D7F E00B      LDI	R16,0xB
    01D80 E010      LDI	R17,0
    01D81 940E 39E7 CALL	empy16s
    01D83 01A8      MOVW	R20,R16
(0757) 		   page4_ac(cur,oldcur,dataCach);
    01D84 01CE      MOVW	R24,R28
    01D85 9602      ADIW	R24,2
    01D86 8399      STD	Y+1,R25
    01D87 8388      ST	Y,R24
    01D88 019B      MOVW	R18,R22
    01D89 DE21      RCALL	_page4_ac
(0758) 		 }
(0759) 	  }else if(keyV=='d'){
    01D8A C1BB      RJMP	0x1F46
    01D8B 2D8A      MOV	R24,R10
    01D8C 3684      CPI	R24,0x64
    01D8D F009      BEQ	0x1D8F
    01D8E C040      RJMP	0x1DCF
(0760) 	     if(cur==132){
    01D8F 3844      CPI	R20,0x84
    01D90 E0E0      LDI	R30,0
    01D91 075E      CPC	R21,R30
    01D92 F479      BNE	0x1DA2
(0761) 		    Set_White_off(1,1,2);
    01D93 E082      LDI	R24,2
    01D94 8388      ST	Y,R24
    01D95 E021      LDI	R18,1
    01D96 E001      LDI	R16,1
    01D97 940E 08E9 CALL	_Set_White_off
(0762) 			Set_White(1,2,2);
    01D99 E082      LDI	R24,2
    01D9A 8388      ST	Y,R24
    01D9B E022      LDI	R18,2
    01D9C E001      LDI	R16,1
    01D9D 940E 0959 CALL	_Set_White
(0763) 			cur=133;
    01D9F E845      LDI	R20,0x85
    01DA0 E050      LDI	R21,0
(0764) 		 }else if(cur==133){
    01DA1 C1A4      RJMP	0x1F46
    01DA2 3845      CPI	R20,0x85
    01DA3 E0E0      LDI	R30,0
    01DA4 075E      CPC	R21,R30
    01DA5 F479      BNE	0x1DB5
(0765) 		    Set_White_off(1,2,2);
    01DA6 E082      LDI	R24,2
    01DA7 8388      ST	Y,R24
    01DA8 E022      LDI	R18,2
    01DA9 E001      LDI	R16,1
    01DAA 940E 08E9 CALL	_Set_White_off
(0766) 			Set_White(1,3,2);
    01DAC E082      LDI	R24,2
    01DAD 8388      ST	Y,R24
    01DAE E023      LDI	R18,3
    01DAF E001      LDI	R16,1
    01DB0 940E 0959 CALL	_Set_White
(0767) 			cur=134;
    01DB2 E846      LDI	R20,0x86
    01DB3 E050      LDI	R21,0
(0768) 		 }else if(cur<121){
    01DB4 C191      RJMP	0x1F46
    01DB5 3749      CPI	R20,0x79
    01DB6 E0E0      LDI	R30,0
    01DB7 075E      CPC	R21,R30
    01DB8 F008      BCS	0x1DBA
    01DB9 C18C      RJMP	0x1F46
(0769) 	      oldcur=cur;
    01DBA 01BA      MOVW	R22,R20
(0770) 	      cur=(cur/11+1)*11;
    01DBB E02B      LDI	R18,0xB
    01DBC E030      LDI	R19,0
    01DBD 018A      MOVW	R16,R20
    01DBE 940E 39B9 CALL	div16u
    01DC0 0198      MOVW	R18,R16
    01DC1 5F2F      SUBI	R18,0xFF
    01DC2 4F3F      SBCI	R19,0xFF
    01DC3 E00B      LDI	R16,0xB
    01DC4 E010      LDI	R17,0
    01DC5 940E 39E7 CALL	empy16s
    01DC7 01A8      MOVW	R20,R16
(0771) 		  page4_ac(cur,oldcur,dataCach);
    01DC8 01CE      MOVW	R24,R28
    01DC9 9602      ADIW	R24,2
    01DCA 8399      STD	Y+1,R25
    01DCB 8388      ST	Y,R24
    01DCC 019B      MOVW	R18,R22
    01DCD DDDD      RCALL	_page4_ac
(0772) 		}
(0773) 		
(0774) 	  }else if(keyV=='l'){
    01DCE C177      RJMP	0x1F46
    01DCF 2D8A      MOV	R24,R10
    01DD0 368C      CPI	R24,0x6C
    01DD1 F009      BEQ	0x1DD3
    01DD2 C049      RJMP	0x1E1C
(0775) 	   oldcur=cur;
    01DD3 01BA      MOVW	R22,R20
(0776) 	  if(cur%11==0){
    01DD4 E02B      LDI	R18,0xB
    01DD5 E030      LDI	R19,0
    01DD6 018A      MOVW	R16,R20
    01DD7 940E 39B7 CALL	mod16u
    01DD9 3000      CPI	R16,0
    01DDA 0701      CPC	R16,R17
    01DDB F489      BNE	0x1DED
(0777) 	        Set_White(1,1,2);
    01DDC E082      LDI	R24,2
    01DDD 8388      ST	Y,R24
    01DDE E021      LDI	R18,1
    01DDF E001      LDI	R16,1
    01DE0 940E 0959 CALL	_Set_White
(0778) 			cur_set(0);
    01DE2 2700      CLR	R16
    01DE3 2711      CLR	R17
    01DE4 940E 08A5 CALL	_cur_set
(0779) 			cur_set(4);
    01DE6 E004      LDI	R16,4
    01DE7 E010      LDI	R17,0
    01DE8 940E 08A5 CALL	_cur_set
(0780) 			cur=132;
    01DEA E844      LDI	R20,0x84
    01DEB E050      LDI	R21,0
(0781) 	   }else if(cur%11==2 || cur%11==4 || cur%11==6 || cur%11==8){
    01DEC C159      RJMP	0x1F46
    01DED E02B      LDI	R18,0xB
    01DEE E030      LDI	R19,0
    01DEF 018A      MOVW	R16,R20
    01DF0 940E 39B7 CALL	mod16u
    01DF2 0168      MOVW	R12,R16
    01DF3 01C6      MOVW	R24,R12
    01DF4 3002      CPI	R16,2
    01DF5 E0E0      LDI	R30,0
    01DF6 071E      CPC	R17,R30
    01DF7 F061      BEQ	0x1E04
    01DF8 3004      CPI	R16,4
    01DF9 E0E0      LDI	R30,0
    01DFA 071E      CPC	R17,R30
    01DFB F041      BEQ	0x1E04
    01DFC 3006      CPI	R16,6
    01DFD E0E0      LDI	R30,0
    01DFE 071E      CPC	R17,R30
    01DFF F021      BEQ	0x1E04
    01E00 3008      CPI	R16,0x8
    01E01 E0E0      LDI	R30,0
    01E02 071E      CPC	R17,R30
    01E03 F451      BNE	0x1E0E
(0782) 	      cur-=2;
    01E04 5042      SUBI	R20,2
    01E05 4050      SBCI	R21,0
(0783) 		   page4_ac(cur,oldcur,dataCach);
    01E06 01CE      MOVW	R24,R28
    01E07 9602      ADIW	R24,2
    01E08 8399      STD	Y+1,R25
    01E09 8388      ST	Y,R24
    01E0A 019B      MOVW	R18,R22
    01E0B 018A      MOVW	R16,R20
    01E0C DD9E      RCALL	_page4_ac
(0784) 		}else if(cur>0){
    01E0D C138      RJMP	0x1F46
    01E0E 3040      CPI	R20,0
    01E0F 0745      CPC	R20,R21
    01E10 F409      BNE	0x1E12
    01E11 C134      RJMP	0x1F46
(0785) 	      cur--;
    01E12 5041      SUBI	R20,1
    01E13 4050      SBCI	R21,0
(0786) 		   page4_ac(cur,oldcur,dataCach);
    01E14 01CE      MOVW	R24,R28
    01E15 9602      ADIW	R24,2
    01E16 8399      STD	Y+1,R25
    01E17 8388      ST	Y,R24
    01E18 019B      MOVW	R18,R22
    01E19 018A      MOVW	R16,R20
    01E1A DD90      RCALL	_page4_ac
(0787) 		}
(0788) 	  
(0789) 	  }else if(keyV=='r'){
    01E1B C12A      RJMP	0x1F46
    01E1C 2D8A      MOV	R24,R10
    01E1D 3782      CPI	R24,0x72
    01E1E F541      BNE	0x1E47
(0790) 	  if(cur>131){
    01E1F E883      LDI	R24,0x83
    01E20 E090      LDI	R25,0
    01E21 1784      CP	R24,R20
    01E22 0795      CPC	R25,R21
    01E23 F4A0      BCC	0x1E38
(0791) 	      Set_White_off(1,1,2);
    01E24 E082      LDI	R24,2
    01E25 8388      ST	Y,R24
    01E26 E021      LDI	R18,1
    01E27 E001      LDI	R16,1
    01E28 940E 08E9 CALL	_Set_White_off
(0792) 	      Set_White_off(1,2,2);
    01E2A E082      LDI	R24,2
    01E2B 8388      ST	Y,R24
    01E2C E022      LDI	R18,2
    01E2D E001      LDI	R16,1
    01E2E 940E 08E9 CALL	_Set_White_off
(0793) 		  Set_White_off(1,3,2);
    01E30 E082      LDI	R24,2
    01E31 8388      ST	Y,R24
    01E32 E023      LDI	R18,3
    01E33 E001      LDI	R16,1
    01E34 940E 08E9 CALL	_Set_White_off
(0794) 		  cur=oldcur;
    01E36 01AB      MOVW	R20,R22
(0795) 	  }else  if(cur<131){
    01E37 C007      RJMP	0x1E3F
    01E38 3843      CPI	R20,0x83
    01E39 E0E0      LDI	R30,0
    01E3A 075E      CPC	R21,R30
    01E3B F418      BCC	0x1E3F
(0796) 		 oldcur=cur;
    01E3C 01BA      MOVW	R22,R20
(0797) 	     cur++;
    01E3D 5F4F      SUBI	R20,0xFF
    01E3E 4F5F      SBCI	R21,0xFF
(0798) 		 }
(0799) 	    page4_ac(cur,oldcur,dataCach);
    01E3F 01CE      MOVW	R24,R28
    01E40 9602      ADIW	R24,2
    01E41 8399      STD	Y+1,R25
    01E42 8388      ST	Y,R24
    01E43 019B      MOVW	R18,R22
    01E44 018A      MOVW	R16,R20
    01E45 DD65      RCALL	_page4_ac
(0800) 	  }else if(keyV=='t'){	    
    01E46 C0FF      RJMP	0x1F46
    01E47 2D8A      MOV	R24,R10
    01E48 3784      CPI	R24,0x74
    01E49 F009      BEQ	0x1E4B
    01E4A C098      RJMP	0x1EE3
(0801) 	     if(cur==132){
    01E4B 3844      CPI	R20,0x84
    01E4C E0E0      LDI	R30,0
    01E4D 075E      CPC	R21,R30
    01E4E F009      BEQ	0x1E50
    01E4F C03E      RJMP	0x1E8E
(0802) 		   Set_White_off(1,1,2);
    01E50 E082      LDI	R24,2
    01E51 8388      ST	Y,R24
    01E52 E021      LDI	R18,1
    01E53 E001      LDI	R16,1
    01E54 940E 08E9 CALL	_Set_White_off
(0803) 			Set_White_off(1,2,2);
    01E56 E082      LDI	R24,2
    01E57 8388      ST	Y,R24
    01E58 E022      LDI	R18,2
    01E59 E001      LDI	R16,1
    01E5A 940E 08E9 CALL	_Set_White_off
(0804) 			Set_White_off(1,3,2);
    01E5C E082      LDI	R24,2
    01E5D 8388      ST	Y,R24
    01E5E E023      LDI	R18,3
    01E5F E001      LDI	R16,1
    01E60 940E 08E9 CALL	_Set_White_off
(0805) 		   cur_set(0);
    01E62 2700      CLR	R16
    01E63 2711      CLR	R17
    01E64 940E 08A5 CALL	_cur_set
(0806) 			cur_set(4);
    01E66 E004      LDI	R16,4
    01E67 E010      LDI	R17,0
    01E68 940E 08A5 CALL	_cur_set
(0807) 			lcd_clear();
    01E6A 940E 07EB CALL	_lcd_clear
(0808) 			lcd_write_str(5,2,"保存中. . .");
    01E6C EF8D      LDI	R24,0xFD
    01E6D E098      LDI	R25,0x8
    01E6E 8399      STD	Y+1,R25
    01E6F 8388      ST	Y,R24
    01E70 E022      LDI	R18,2
    01E71 E005      LDI	R16,5
    01E72 940E 0734 CALL	_lcd_write_str
(0809) 		    pageParam[1]=1;//表示是温度数据的，这里处理保存的方法，因为数据在这里。只是跳转过去，参数如果是1表示成功。2表示失败
    01E74 E081      LDI	R24,1
    01E75 E090      LDI	R25,0
    01E76 9390 0E8B STS	pageParam+3,R25
    01E78 9380 0E8A STS	pageParam+2,R24
(0810) 		    prePageNum=4;
    01E7A E084      LDI	R24,4
    01E7B 9390 0E87 STS	prePageNum+1,R25
    01E7D 9380 0E86 STS	prePageNum,R24
(0811) 		    pageNum=6;
    01E7F E086      LDI	R24,6
    01E80 9390 0E93 STS	pageNum+1,R25
    01E82 9380 0E92 STS	pageNum,R24
(0812) 			set_temp_data(pageParam[0],dataCach);//保存数据
    01E84 019E      MOVW	R18,R28
    01E85 5F2E      SUBI	R18,0xFE
    01E86 4F3F      SBCI	R19,0xFF
    01E87 9100 0E88 LDS	R16,pageParam
    01E89 9110 0E89 LDS	R17,pageParam+1
    01E8B 940E 3314 CALL	_set_temp_data
(0813) 		    return;
    01E8D C0B9      RJMP	0x1F47
(0814) 		 }else if(cur==133){
    01E8E 3845      CPI	R20,0x85
    01E8F E0E0      LDI	R30,0
    01E90 075E      CPC	R21,R30
    01E91 F509      BNE	0x1EB3
(0815) 		    Set_White_off(1,1,2);
    01E92 E082      LDI	R24,2
    01E93 8388      ST	Y,R24
    01E94 E021      LDI	R18,1
    01E95 E001      LDI	R16,1
    01E96 940E 08E9 CALL	_Set_White_off
(0816) 			Set_White_off(1,2,2);
    01E98 E082      LDI	R24,2
    01E99 8388      ST	Y,R24
    01E9A E022      LDI	R18,2
    01E9B E001      LDI	R16,1
    01E9C 940E 08E9 CALL	_Set_White_off
(0817) 			Set_White_off(1,3,2);
    01E9E E082      LDI	R24,2
    01E9F 8388      ST	Y,R24
    01EA0 E023      LDI	R18,3
    01EA1 E001      LDI	R16,1
    01EA2 940E 08E9 CALL	_Set_White_off
(0818) 		    cur_set(0);
    01EA4 2700      CLR	R16
    01EA5 2711      CLR	R17
    01EA6 940E 08A5 CALL	_cur_set
(0819) 			cur_set(4);
    01EA8 E004      LDI	R16,4
    01EA9 E010      LDI	R17,0
    01EAA 940E 08A5 CALL	_cur_set
(0820) 		    pageNum=3;
    01EAC E083      LDI	R24,3
    01EAD E090      LDI	R25,0
    01EAE 9390 0E93 STS	pageNum+1,R25
    01EB0 9380 0E92 STS	pageNum,R24
(0821) 		    return;
    01EB2 C094      RJMP	0x1F47
(0822) 		 }else if(cur==134){
    01EB3 3846      CPI	R20,0x86
    01EB4 E0E0      LDI	R30,0
    01EB5 075E      CPC	R21,R30
    01EB6 F009      BEQ	0x1EB8
    01EB7 C08E      RJMP	0x1F46
(0823) 		    Set_White_off(1,1,2);
    01EB8 E082      LDI	R24,2
    01EB9 8388      ST	Y,R24
    01EBA E021      LDI	R18,1
    01EBB E001      LDI	R16,1
    01EBC 940E 08E9 CALL	_Set_White_off
(0824) 			Set_White_off(1,2,2);
    01EBE E082      LDI	R24,2
    01EBF 8388      ST	Y,R24
    01EC0 E022      LDI	R18,2
    01EC1 E001      LDI	R16,1
    01EC2 940E 08E9 CALL	_Set_White_off
(0825) 			Set_White_off(1,3,2);
    01EC4 E082      LDI	R24,2
    01EC5 8388      ST	Y,R24
    01EC6 E023      LDI	R18,3
    01EC7 E001      LDI	R16,1
    01EC8 940E 08E9 CALL	_Set_White_off
(0826) 		   cur_set(0);
    01ECA 2700      CLR	R16
    01ECB 2711      CLR	R17
    01ECC 940E 08A5 CALL	_cur_set
(0827) 			cur_set(4);
    01ECE E004      LDI	R16,4
    01ECF E010      LDI	R17,0
    01ED0 940E 08A5 CALL	_cur_set
(0828) 		   //重置。有提示
(0829) 			pageParam[2]=1;//表示重置是温度数据的
    01ED2 E081      LDI	R24,1
    01ED3 E090      LDI	R25,0
    01ED4 9390 0E8D STS	pageParam+5,R25
    01ED6 9380 0E8C STS	pageParam+4,R24
(0830) 			prePageNum=4;
    01ED8 E084      LDI	R24,4
    01ED9 9390 0E87 STS	prePageNum+1,R25
    01EDB 9380 0E86 STS	prePageNum,R24
(0831) 		    pageNum=7;
    01EDD E087      LDI	R24,7
    01EDE 9390 0E93 STS	pageNum+1,R25
    01EE0 9380 0E92 STS	pageNum,R24
(0832) 		    return;
    01EE2 C064      RJMP	0x1F47
(0833) 		 }
(0834) 	     
(0835) 	  }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    01EE3 2D8A      MOV	R24,R10
    01EE4 3380      CPI	R24,0x30
    01EE5 F099      BEQ	0x1EF9
    01EE6 3381      CPI	R24,0x31
    01EE7 F089      BEQ	0x1EF9
    01EE8 3382      CPI	R24,0x32
    01EE9 F079      BEQ	0x1EF9
    01EEA 3383      CPI	R24,0x33
    01EEB F069      BEQ	0x1EF9
    01EEC 3384      CPI	R24,0x34
    01EED F059      BEQ	0x1EF9
    01EEE 3385      CPI	R24,0x35
    01EEF F049      BEQ	0x1EF9
    01EF0 3386      CPI	R24,0x36
    01EF1 F039      BEQ	0x1EF9
    01EF2 3387      CPI	R24,0x37
    01EF3 F029      BEQ	0x1EF9
    01EF4 3388      CPI	R24,0x38
    01EF5 F019      BEQ	0x1EF9
    01EF6 3389      CPI	R24,0x39
    01EF7 F009      BEQ	0x1EF9
    01EF8 C04D      RJMP	0x1F46
(0836) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(0837) 			  if(cur <132){//判断还在输入域
    01EF9 3844      CPI	R20,0x84
    01EFA E0E0      LDI	R30,0
    01EFB 075E      CPC	R21,R30
    01EFC F008      BCS	0x1EFE
    01EFD C048      RJMP	0x1F46
(0838) 			   if((cur/11)%3==0){
    01EFE E02B      LDI	R18,0xB
    01EFF E030      LDI	R19,0
    01F00 018A      MOVW	R16,R20
    01F01 940E 39B9 CALL	div16u
    01F03 E023      LDI	R18,3
    01F04 E030      LDI	R19,0
    01F05 940E 39B7 CALL	mod16u
    01F07 3000      CPI	R16,0
    01F08 0701      CPC	R16,R17
    01F09 F431      BNE	0x1F10
(0839) 			      lcd_write_char_con(1,0x30 | keyV);
    01F0A 2D2A      MOV	R18,R10
    01F0B 6320      ORI	R18,0x30
    01F0C E001      LDI	R16,1
    01F0D 940E 06DC CALL	_lcd_write_char_con
(0840) 				}else{
    01F0F C005      RJMP	0x1F15
(0841) 				  lcd_write_char_con(2,0x30 | keyV);
    01F10 2D2A      MOV	R18,R10
    01F11 6320      ORI	R18,0x30
    01F12 E002      LDI	R16,2
    01F13 940E 06DC CALL	_lcd_write_char_con
(0842) 				}
(0843) 				dataCach[cur]=keyV-48;
    01F15 01CE      MOVW	R24,R28
    01F16 9602      ADIW	R24,2
    01F17 01FA      MOVW	R30,R20
    01F18 0FEE      LSL	R30
    01F19 1FFF      ROL	R31
    01F1A 0FE8      ADD	R30,R24
    01F1B 1FF9      ADC	R31,R25
    01F1C 2D8A      MOV	R24,R10
    01F1D 2799      CLR	R25
    01F1E 97C0      SBIW	R24,0x30
    01F1F 8391      STD	Z+1,R25
    01F20 8380      ST	Z,R24
(0844) 				oldcur=cur;
    01F21 01BA      MOVW	R22,R20
(0845) 				if(cur<131)
    01F22 3863      CPI	R22,0x83
    01F23 E0E0      LDI	R30,0
    01F24 077E      CPC	R23,R30
    01F25 F450      BCC	0x1F30
(0846) 				{
(0847) 				  cur++;
    01F26 5F4F      SUBI	R20,0xFF
    01F27 4F5F      SBCI	R21,0xFF
(0848) 				  page4_ac(cur,oldcur,dataCach);
    01F28 01CE      MOVW	R24,R28
    01F29 9602      ADIW	R24,2
    01F2A 8399      STD	Y+1,R25
    01F2B 8388      ST	Y,R24
    01F2C 019B      MOVW	R18,R22
    01F2D 018A      MOVW	R16,R20
    01F2E DC7C      RCALL	_page4_ac
(0849) 				}else if(cur==131){//最后一个131会在上面处理，最后一次进入这里。跳到保存
    01F2F C016      RJMP	0x1F46
    01F30 3843      CPI	R20,0x83
    01F31 E0E0      LDI	R30,0
    01F32 075E      CPC	R21,R30
    01F33 F491      BNE	0x1F46
(0850) 				  Set_White(1,1,2);
    01F34 E082      LDI	R24,2
    01F35 8388      ST	Y,R24
    01F36 E021      LDI	R18,1
    01F37 E001      LDI	R16,1
    01F38 940E 0959 CALL	_Set_White
(0851) 			       cur_set(0);
    01F3A 2700      CLR	R16
    01F3B 2711      CLR	R17
    01F3C 940E 08A5 CALL	_cur_set
(0852) 			       cur_set(4);
    01F3E E004      LDI	R16,4
    01F3F E010      LDI	R17,0
    01F40 940E 08A5 CALL	_cur_set
(0853) 			       cur=132;
    01F42 E844      LDI	R20,0x84
    01F43 E050      LDI	R21,0
(0854) 				   oldcur=99;
    01F44 E663      LDI	R22,0x63
    01F45 E070      LDI	R23,0
    01F46 CDD4      RJMP	0x1D1B
    01F47 96EF      ADIW	R28,0x3F
    01F48 96EF      ADIW	R28,0x3F
    01F49 96EF      ADIW	R28,0x3F
    01F4A 96EF      ADIW	R28,0x3F
    01F4B 962C      ADIW	R28,0xC
    01F4C 940C 3A52 JMP	pop_xgsetF03C
_page5:
  ddflag               --> R22
  cur                  --> R20
  keyV                 --> R10
    01F4E 940E 3A2D CALL	push_xgsetF00C
    01F50 9722      SBIW	R28,2
(0855) 				}
(0856) 				
(0857) 			  }
(0858) 		}
(0859) 	}
(0860)  }
(0861)  
(0862)  void page5(void){
(0863)   uint cur=0;
    01F51 2744      CLR	R20
    01F52 2755      CLR	R21
(0864)    uchar keyV;
(0865)    uint ddflag;
(0866)    lcd_write_str(4,0,"断电自动恢复");
    01F53 EF80      LDI	R24,0xF0
    01F54 E098      LDI	R25,0x8
    01F55 8399      STD	Y+1,R25
    01F56 8388      ST	Y,R24
    01F57 2722      CLR	R18
    01F58 E004      LDI	R16,4
    01F59 940E 0734 CALL	_lcd_write_str
(0867)    lcd_write_str(4,1,"设置时间");
    01F5B EE87      LDI	R24,0xE7
    01F5C E098      LDI	R25,0x8
    01F5D 8399      STD	Y+1,R25
    01F5E 8388      ST	Y,R24
    01F5F E021      LDI	R18,1
    01F60 E004      LDI	R16,4
    01F61 940E 0734 CALL	_lcd_write_str
(0868)    lcd_write_str(4,2,"重置系统");
    01F63 ED8E      LDI	R24,0xDE
    01F64 E098      LDI	R25,0x8
    01F65 8399      STD	Y+1,R25
    01F66 8388      ST	Y,R24
    01F67 E022      LDI	R18,2
    01F68 E004      LDI	R16,4
    01F69 940E 0734 CALL	_lcd_write_str
(0869)     ddflag=EEPROM_read(0,0);
    01F6B 2722      CLR	R18
    01F6C 2733      CLR	R19
    01F6D 2700      CLR	R16
    01F6E 2711      CLR	R17
    01F6F 940E 1110 CALL	_EEPROM_read
    01F71 01B8      MOVW	R22,R16
(0870) 	if(ddflag==0){
    01F72 3000      CPI	R16,0
    01F73 0701      CPC	R16,R17
    01F74 F459      BNE	0x1F80
(0871)       lcd_write_char(3,0,0xA1);
    01F75 EA81      LDI	R24,0xA1
    01F76 8388      ST	Y,R24
    01F77 2722      CLR	R18
    01F78 E003      LDI	R16,3
    01F79 940E 070E CALL	_lcd_write_char
(0872)       lcd_write_char_con(0,0xC1);
    01F7B EC21      LDI	R18,0xC1
    01F7C 2700      CLR	R16
    01F7D 940E 06DC CALL	_lcd_write_char_con
(0873)    }else {
    01F7F C00A      RJMP	0x1F8A
(0874)       lcd_write_char(3,0,0xA1);
    01F80 EA81      LDI	R24,0xA1
    01F81 8388      ST	Y,R24
    01F82 2722      CLR	R18
    01F83 E003      LDI	R16,3
    01F84 940E 070E CALL	_lcd_write_char
(0875)       lcd_write_char_con(0,0xCC);
    01F86 EC2C      LDI	R18,0xCC
    01F87 2700      CLR	R16
    01F88 940E 06DC CALL	_lcd_write_char_con
(0876)    }
(0877)    cur=0;
    01F8A 2744      CLR	R20
    01F8B 2755      CLR	R21
(0878)    Set_White(5,0,10);
    01F8C E08A      LDI	R24,0xA
    01F8D 8388      ST	Y,R24
    01F8E 2722      CLR	R18
    01F8F E005      LDI	R16,5
    01F90 940E 0959 CALL	_Set_White
    01F92 C0DC      RJMP	0x206F
(0879)    while(1){
(0880)       keyV=KeyScan_once();
    01F93 940E 05D1 CALL	_KeyScan_once
    01F95 2EA0      MOV	R10,R16
(0881) 	  if(keyV=='u'){
    01F96 3705      CPI	R16,0x75
    01F97 F539      BNE	0x1FBF
(0882) 	    switch(cur){
    01F98 3041      CPI	R20,1
    01F99 E0E0      LDI	R30,0
    01F9A 075E      CPC	R21,R30
    01F9B F029      BEQ	0x1FA1
    01F9C 3042      CPI	R20,2
    01F9D E0E0      LDI	R30,0
    01F9E 075E      CPC	R21,R30
    01F9F F081      BEQ	0x1FB0
    01FA0 C0CE      RJMP	0x206F
(0883) 		  case 1:
(0884) 		   Set_White_off(5,1,8);
    01FA1 E088      LDI	R24,0x8
    01FA2 8388      ST	Y,R24
    01FA3 E021      LDI	R18,1
    01FA4 E005      LDI	R16,5
    01FA5 940E 08E9 CALL	_Set_White_off
(0885) 		   Set_White(5,0,10);
    01FA7 E08A      LDI	R24,0xA
    01FA8 8388      ST	Y,R24
    01FA9 2722      CLR	R18
    01FAA E005      LDI	R16,5
    01FAB 940E 0959 CALL	_Set_White
(0886) 		   cur=0;
    01FAD 2744      CLR	R20
    01FAE 2755      CLR	R21
(0887) 		   break;
    01FAF C0BF      RJMP	0x206F
(0888) 		  case 2: 
(0889) 		   Set_White_off(5,2,8);
    01FB0 E088      LDI	R24,0x8
    01FB1 8388      ST	Y,R24
    01FB2 E022      LDI	R18,2
    01FB3 E005      LDI	R16,5
    01FB4 940E 08E9 CALL	_Set_White_off
(0890) 		   Set_White(5,1,8);
    01FB6 E088      LDI	R24,0x8
    01FB7 8388      ST	Y,R24
    01FB8 E021      LDI	R18,1
    01FB9 E005      LDI	R16,5
    01FBA 940E 0959 CALL	_Set_White
(0891) 		   cur=1;
    01FBC E041      LDI	R20,1
    01FBD E050      LDI	R21,0
(0892) 		   break;
(0893) 		}
(0894) 	  }else if(keyV=='d'){
    01FBE C0B0      RJMP	0x206F
    01FBF 2D8A      MOV	R24,R10
    01FC0 3684      CPI	R24,0x64
    01FC1 F531      BNE	0x1FE8
(0895) 	      switch(cur){
    01FC2 3040      CPI	R20,0
    01FC3 0745      CPC	R20,R21
    01FC4 F029      BEQ	0x1FCA
    01FC5 3041      CPI	R20,1
    01FC6 E0E0      LDI	R30,0
    01FC7 075E      CPC	R21,R30
    01FC8 F081      BEQ	0x1FD9
    01FC9 C0A5      RJMP	0x206F
(0896) 		  case 0:
(0897) 		   Set_White_off(5,0,10);
    01FCA E08A      LDI	R24,0xA
    01FCB 8388      ST	Y,R24
    01FCC 2722      CLR	R18
    01FCD E005      LDI	R16,5
    01FCE 940E 08E9 CALL	_Set_White_off
(0898) 		   Set_White(5,1,8);
    01FD0 E088      LDI	R24,0x8
    01FD1 8388      ST	Y,R24
    01FD2 E021      LDI	R18,1
    01FD3 E005      LDI	R16,5
    01FD4 940E 0959 CALL	_Set_White
(0899) 		   cur=1;
    01FD6 E041      LDI	R20,1
    01FD7 E050      LDI	R21,0
(0900) 		   break;
    01FD8 C096      RJMP	0x206F
(0901) 		  case 1: 
(0902) 		   Set_White_off(5,1,8);
    01FD9 E088      LDI	R24,0x8
    01FDA 8388      ST	Y,R24
    01FDB E021      LDI	R18,1
    01FDC E005      LDI	R16,5
    01FDD 940E 08E9 CALL	_Set_White_off
(0903) 		   Set_White(5,2,8);
    01FDF E088      LDI	R24,0x8
    01FE0 8388      ST	Y,R24
    01FE1 E022      LDI	R18,2
    01FE2 E005      LDI	R16,5
    01FE3 940E 0959 CALL	_Set_White
(0904) 		   cur=2;
    01FE5 E042      LDI	R20,2
    01FE6 E050      LDI	R21,0
(0905) 		   break;
(0906) 		}
(0907) 	  }else if(keyV=='e'){
    01FE7 C087      RJMP	0x206F
    01FE8 2D8A      MOV	R24,R10
    01FE9 3685      CPI	R24,0x65
    01FEA F539      BNE	0x2012
(0908) 	     switch(cur){
    01FEB 3040      CPI	R20,0
    01FEC 0745      CPC	R20,R21
    01FED F049      BEQ	0x1FF7
    01FEE 3041      CPI	R20,1
    01FEF E0E0      LDI	R30,0
    01FF0 075E      CPC	R21,R30
    01FF1 F061      BEQ	0x1FFE
    01FF2 3042      CPI	R20,2
    01FF3 E0E0      LDI	R30,0
    01FF4 075E      CPC	R21,R30
    01FF5 F079      BEQ	0x2005
    01FF6 C014      RJMP	0x200B
(0909) 		 case 0: 
(0910) 		   Set_White_off(5,0,10);
    01FF7 E08A      LDI	R24,0xA
    01FF8 8388      ST	Y,R24
    01FF9 2722      CLR	R18
    01FFA E005      LDI	R16,5
    01FFB 940E 08E9 CALL	_Set_White_off
(0911) 		    break;
    01FFD C00D      RJMP	0x200B
(0912) 		 case 1:
(0913) 		   Set_White_off(5,1,8);
    01FFE E088      LDI	R24,0x8
    01FFF 8388      ST	Y,R24
    02000 E021      LDI	R18,1
    02001 E005      LDI	R16,5
    02002 940E 08E9 CALL	_Set_White_off
(0914) 		   break;
    02004 C006      RJMP	0x200B
(0915) 		 case 2:
(0916) 		  Set_White_off(5,2,8);
    02005 E088      LDI	R24,0x8
    02006 8388      ST	Y,R24
    02007 E022      LDI	R18,2
    02008 E005      LDI	R16,5
    02009 940E 08E9 CALL	_Set_White_off
(0917) 		  break;
(0918) 	
(0919) 		  default:
(0920) 		   break;
(0921) 		 }
(0922) 	    pageNum=1;
    0200B E081      LDI	R24,1
    0200C E090      LDI	R25,0
    0200D 9390 0E93 STS	pageNum+1,R25
    0200F 9380 0E92 STS	pageNum,R24
(0923) 		return;
    02011 C05E      RJMP	0x2070
(0924) 	  }else if(keyV=='t'){
    02012 2D8A      MOV	R24,R10
    02013 3784      CPI	R24,0x74
    02014 F009      BEQ	0x2016
    02015 C059      RJMP	0x206F
(0925) 	    switch(cur){
    02016 3040      CPI	R20,0
    02017 0745      CPC	R20,R21
    02018 F049      BEQ	0x2022
    02019 3041      CPI	R20,1
    0201A E0E0      LDI	R30,0
    0201B 075E      CPC	R21,R30
    0201C F171      BEQ	0x204B
    0201D 3042      CPI	R20,2
    0201E E0E0      LDI	R30,0
    0201F 075E      CPC	R21,R30
    02020 F1B1      BEQ	0x2057
    02021 C04D      RJMP	0x206F
(0926) 		  case 0:
(0927) 		     //执行EEPROM操作
(0928) 			 if(ddflag==0){
    02022 3060      CPI	R22,0
    02023 0767      CPC	R22,R23
    02024 F419      BNE	0x2028
(0929) 			   ddflag=1;
    02025 E061      LDI	R22,1
    02026 E070      LDI	R23,0
(0930) 			 }else{
    02027 C002      RJMP	0x202A
(0931) 			   ddflag=0;
    02028 2766      CLR	R22
    02029 2777      CLR	R23
(0932) 			 }
(0933) 			 EEPROM_write(0,0,ddflag);//写入到EEPROM
    0202A 8379      STD	Y+1,R23
    0202B 8368      ST	Y,R22
    0202C 2722      CLR	R18
    0202D 2733      CLR	R19
    0202E 2700      CLR	R16
    0202F 2711      CLR	R17
    02030 940E 10F9 CALL	_EEPROM_write
(0934) 			if(ddflag==0){
    02032 3060      CPI	R22,0
    02033 0767      CPC	R22,R23
    02034 F459      BNE	0x2040
(0935)                lcd_write_char(3,0,0xA1);
    02035 EA81      LDI	R24,0xA1
    02036 8388      ST	Y,R24
    02037 2722      CLR	R18
    02038 E003      LDI	R16,3
    02039 940E 070E CALL	_lcd_write_char
(0936)                lcd_write_char_con(0,0xC1);
    0203B EC21      LDI	R18,0xC1
    0203C 2700      CLR	R16
    0203D 940E 06DC CALL	_lcd_write_char_con
(0937)             }else{
    0203F C02F      RJMP	0x206F
(0938)               lcd_write_char(3,0,0xA1);
    02040 EA81      LDI	R24,0xA1
    02041 8388      ST	Y,R24
    02042 2722      CLR	R18
    02043 E003      LDI	R16,3
    02044 940E 070E CALL	_lcd_write_char
(0939)               lcd_write_char_con(0,0xCC);
    02046 EC2C      LDI	R18,0xCC
    02047 2700      CLR	R16
    02048 940E 06DC CALL	_lcd_write_char_con
(0940)             }
(0941) 		    break;
    0204A C024      RJMP	0x206F
(0942) 		  case 1:
(0943) 		   pageNum=8;
    0204B E088      LDI	R24,0x8
    0204C E090      LDI	R25,0
    0204D 9390 0E93 STS	pageNum+1,R25
    0204F 9380 0E92 STS	pageNum,R24
(0944) 		   Set_White_off(5,1,8);
    02051 8388      ST	Y,R24
    02052 E021      LDI	R18,1
    02053 E005      LDI	R16,5
    02054 940E 08E9 CALL	_Set_White_off
(0945) 		   return;
    02056 C019      RJMP	0x2070
(0946) 		  
(0947) 		  case 2://重置系统
(0948) 		    prePageNum=5;
    02057 E085      LDI	R24,5
    02058 E090      LDI	R25,0
    02059 9390 0E87 STS	prePageNum+1,R25
    0205B 9380 0E86 STS	prePageNum,R24
(0949) 		    pageNum=7;
    0205D E087      LDI	R24,7
    0205E 9390 0E93 STS	pageNum+1,R25
    02060 9380 0E92 STS	pageNum,R24
(0950) 			pageParam[2]=0;
    02062 2422      CLR	R2
    02063 2433      CLR	R3
    02064 9230 0E8D STS	pageParam+5,R3
    02066 9220 0E8C STS	pageParam+4,R2
(0951) 		    Set_White_off(5,2,8);
    02068 E088      LDI	R24,0x8
    02069 8388      ST	Y,R24
    0206A E022      LDI	R18,2
    0206B E005      LDI	R16,5
    0206C 940E 08E9 CALL	_Set_White_off
(0952) 		   return;
    0206E C001      RJMP	0x2070
    0206F CF23      RJMP	0x1F93
    02070 9622      ADIW	R28,2
    02071 940C 3A34 JMP	pop_xgsetF00C
_page6:
    02073 9722      SBIW	R28,2
(0953) 		}
(0954) 	    
(0955) 	  }
(0956)    }
(0957)    
(0958)  }
(0959)  void page6(void){//复用的方法
(0960)  if(pageParam[1]==0){
    02074 9020 0E8A LDS	R2,pageParam+2
    02076 9030 0E8B LDS	R3,pageParam+3
    02078 2022      TST	R2
    02079 F459      BNE	0x2085
    0207A 2033      TST	R3
    0207B F449      BNE	0x2085
(0961)      lcd_write_str(4,1,"时间保存成功！");
    0207C EC8F      LDI	R24,0xCF
    0207D E098      LDI	R25,0x8
    0207E 8399      STD	Y+1,R25
    0207F 8388      ST	Y,R24
    02080 E021      LDI	R18,1
    02081 E004      LDI	R16,4
    02082 940E 0734 CALL	_lcd_write_str
(0962)    }else if(pageParam[1]==1){
    02084 C021      RJMP	0x20A6
    02085 9180 0E8A LDS	R24,pageParam+2
    02087 9190 0E8B LDS	R25,pageParam+3
    02089 3081      CPI	R24,1
    0208A E0E0      LDI	R30,0
    0208B 079E      CPC	R25,R30
    0208C F449      BNE	0x2096
(0963)      lcd_write_str(4,1,"温度保存成功！");
    0208D EC80      LDI	R24,0xC0
    0208E E098      LDI	R25,0x8
    0208F 8399      STD	Y+1,R25
    02090 8388      ST	Y,R24
    02091 E021      LDI	R18,1
    02092 E004      LDI	R16,4
    02093 940E 0734 CALL	_lcd_write_str
(0964)    }else if(pageParam[1]==2){
    02095 C010      RJMP	0x20A6
    02096 9180 0E8A LDS	R24,pageParam+2
    02098 9190 0E8B LDS	R25,pageParam+3
    0209A 3082      CPI	R24,2
    0209B E0E0      LDI	R30,0
    0209C 079E      CPC	R25,R30
    0209D F441      BNE	0x20A6
(0965)      lcd_write_str(4,1,"温度保存失败！");
    0209E EB81      LDI	R24,0xB1
    0209F E098      LDI	R25,0x8
    020A0 8399      STD	Y+1,R25
    020A1 8388      ST	Y,R24
    020A2 E021      LDI	R18,1
    020A3 E004      LDI	R16,4
    020A4 940E 0734 CALL	_lcd_write_str
(0966)    }
(0967)    delay_ms(100);
    020A6 E604      LDI	R16,0x64
    020A7 E010      LDI	R17,0
    020A8 940E 04E4 CALL	_delay_ms
(0968)    pageNum=prePageNum;
    020AA 9020 0E86 LDS	R2,prePageNum
    020AC 9030 0E87 LDS	R3,prePageNum+1
    020AE 9230 0E93 STS	pageNum+1,R3
    020B0 9220 0E92 STS	pageNum,R2
    020B2 9622      ADIW	R28,2
    020B3 9508      RET
_page7:
  cur                  --> R20
  keyV                 --> R10
    020B4 940E 3A2D CALL	push_xgsetF00C
    020B6 9722      SBIW	R28,2
(0969)  }
(0970)  void page7(void){
(0971)    uint cur=1;
    020B7 E041      LDI	R20,1
    020B8 E050      LDI	R21,0
(0972)    uchar keyV;
(0973)    lcd_write_str(2,0,"是否重置");
    020B9 EA88      LDI	R24,0xA8
    020BA E098      LDI	R25,0x8
    020BB 8399      STD	Y+1,R25
    020BC 8388      ST	Y,R24
    020BD 2722      CLR	R18
    020BE E002      LDI	R16,2
    020BF 940E 0734 CALL	_lcd_write_str
(0974)    lcd_write_str(2,2,"确认");
    020C1 EA83      LDI	R24,0xA3
    020C2 E098      LDI	R25,0x8
    020C3 8399      STD	Y+1,R25
    020C4 8388      ST	Y,R24
    020C5 E022      LDI	R18,2
    020C6 E002      LDI	R16,2
    020C7 940E 0734 CALL	_lcd_write_str
(0975)    lcd_write_str(8,2,"取消");
    020C9 E68A      LDI	R24,0x6A
    020CA E099      LDI	R25,0x9
    020CB 8399      STD	Y+1,R25
    020CC 8388      ST	Y,R24
    020CD E022      LDI	R18,2
    020CE E008      LDI	R16,0x8
    020CF 940E 0734 CALL	_lcd_write_str
(0976)    Set_White(9,2,10);
    020D1 E08A      LDI	R24,0xA
    020D2 8388      ST	Y,R24
    020D3 E022      LDI	R18,2
    020D4 E009      LDI	R16,0x9
    020D5 940E 0959 CALL	_Set_White
    020D7 C078      RJMP	0x2150
(0977)     while(1){
(0978)       keyV=KeyScan_once();
    020D8 940E 05D1 CALL	_KeyScan_once
    020DA 2EA0      MOV	R10,R16
(0979) 	  switch(keyV){
    020DB 2D6A      MOV	R22,R10
    020DC 2777      CLR	R23
    020DD 366C      CPI	R22,0x6C
    020DE E0E0      LDI	R30,0
    020DF 077E      CPC	R23,R30
    020E0 F0A1      BEQ	0x20F5
    020E1 E68C      LDI	R24,0x6C
    020E2 E090      LDI	R25,0
    020E3 1786      CP	R24,R22
    020E4 0797      CPC	R25,R23
    020E5 F034      BLT	0x20EC
    020E6 3665      CPI	R22,0x65
    020E7 E0E0      LDI	R30,0
    020E8 077E      CPC	R23,R30
    020E9 F409      BNE	0x20EB
    020EA C050      RJMP	0x213B
    020EB C064      RJMP	0x2150
    020EC 3762      CPI	R22,0x72
    020ED E0E0      LDI	R30,0
    020EE 077E      CPC	R23,R30
    020EF F0C9      BEQ	0x2109
    020F0 3764      CPI	R22,0x74
    020F1 E0E0      LDI	R30,0
    020F2 077E      CPC	R23,R30
    020F3 F141      BEQ	0x211C
    020F4 C05B      RJMP	0x2150
(0980) 	    case 'l':
(0981) 		   if(cur==1){
    020F5 3041      CPI	R20,1
    020F6 E0E0      LDI	R30,0
    020F7 075E      CPC	R21,R30
    020F8 F009      BEQ	0x20FA
    020F9 C056      RJMP	0x2150
(0982) 		      Set_White_off(9,2,10);
    020FA E08A      LDI	R24,0xA
    020FB 8388      ST	Y,R24
    020FC E022      LDI	R18,2
    020FD E009      LDI	R16,0x9
    020FE 940E 08E9 CALL	_Set_White_off
(0983) 		      Set_White(3,2,4);
    02100 E084      LDI	R24,4
    02101 8388      ST	Y,R24
    02102 E022      LDI	R18,2
    02103 E003      LDI	R16,3
    02104 940E 0959 CALL	_Set_White
(0984) 			  cur=0;
    02106 2744      CLR	R20
    02107 2755      CLR	R21
(0985) 		   }
(0986) 		   break;
    02108 C047      RJMP	0x2150
(0987) 		case 'r':
(0988) 		   if(cur==0){
    02109 3040      CPI	R20,0
    0210A 0745      CPC	R20,R21
    0210B F009      BEQ	0x210D
    0210C C043      RJMP	0x2150
(0989) 		      Set_White_off(3,2,4);
    0210D E084      LDI	R24,4
    0210E 8388      ST	Y,R24
    0210F E022      LDI	R18,2
    02110 E003      LDI	R16,3
    02111 940E 08E9 CALL	_Set_White_off
(0990) 		      Set_White(9,2,10);
    02113 E08A      LDI	R24,0xA
    02114 8388      ST	Y,R24
    02115 E022      LDI	R18,2
    02116 E009      LDI	R16,0x9
    02117 940E 0959 CALL	_Set_White
(0991) 			  cur=1;
    02119 E041      LDI	R20,1
    0211A E050      LDI	R21,0
(0992) 		   }
(0993) 		  break;
    0211B C034      RJMP	0x2150
(0994) 		case 't':
(0995) 		  //执行相关操作	  
(0996) 		  if(cur==0){
    0211C 3040      CPI	R20,0
    0211D 0745      CPC	R20,R21
    0211E F469      BNE	0x212C
(0997) 		     Set_White_off(3,2,4);
    0211F E084      LDI	R24,4
    02120 8388      ST	Y,R24
    02121 E022      LDI	R18,2
    02122 E003      LDI	R16,3
    02123 940E 08E9 CALL	_Set_White_off
(0998) 		       //进入重置画面。在Page9启动看门狗重置系统、不喂狗。数据重置对呀操作不同
(0999) 		       pageNum=9;
    02125 E089      LDI	R24,0x9
    02126 E090      LDI	R25,0
    02127 9390 0E93 STS	pageNum+1,R25
    02129 9380 0E92 STS	pageNum,R24
(1000) 		  }else {
    0212B C025      RJMP	0x2151
(1001) 		      Set_White_off(9,2,10);
    0212C E08A      LDI	R24,0xA
    0212D 8388      ST	Y,R24
    0212E E022      LDI	R18,2
    0212F E009      LDI	R16,0x9
    02130 940E 08E9 CALL	_Set_White_off
(1002) 		       pageNum=prePageNum;
    02132 9020 0E86 LDS	R2,prePageNum
    02134 9030 0E87 LDS	R3,prePageNum+1
    02136 9230 0E93 STS	pageNum+1,R3
    02138 9220 0E92 STS	pageNum,R2
(1003) 		  }
(1004) 		  return;
    0213A C016      RJMP	0x2151
(1005) 		 case 'e':
(1006) 		    Set_White_off(3,2,4);
    0213B E084      LDI	R24,4
    0213C 8388      ST	Y,R24
    0213D E022      LDI	R18,2
    0213E E003      LDI	R16,3
    0213F 940E 08E9 CALL	_Set_White_off
(1007) 		    Set_White_off(9,2,10);
    02141 E08A      LDI	R24,0xA
    02142 8388      ST	Y,R24
    02143 E022      LDI	R18,2
    02144 E009      LDI	R16,0x9
    02145 940E 08E9 CALL	_Set_White_off
(1008) 		    pageNum=prePageNum;
    02147 9020 0E86 LDS	R2,prePageNum
    02149 9030 0E87 LDS	R3,prePageNum+1
    0214B 9230 0E93 STS	pageNum+1,R3
    0214D 9220 0E92 STS	pageNum,R2
(1009) 		    return;
    0214F C001      RJMP	0x2151
    02150 CF87      RJMP	0x20D8
    02151 9622      ADIW	R28,2
    02152 940C 3A34 JMP	pop_xgsetF00C
_page8:
  dateAc               --> Y,+38
  time_cacah           --> R22
  keyV                 --> R22
  cur                  --> R20
  date                 --> Y,+8
  i                    --> R22
    02154 940E 3A2D CALL	push_xgsetF00C
    02156 97EF      SBIW	R28,0x3F
    02157 9723      SBIW	R28,3
(1010) 	  }
(1011) 	}
(1012)  }
(1013)  void page8(void){
(1014)    uint cur=0;
    02158 2744      CLR	R20
    02159 2755      CLR	R21
(1015)    uchar keyV;
(1016)    uint date[15];
(1017)    uint i;
(1018)    uint time_cacah;
(1019)     uint dateAc[14]={1,2,3,4,6,7,9,10,2,3,5,6,8,9};
    0215A E682      LDI	R24,0x62
    0215B E098      LDI	R25,0x8
    0215C 01FE      MOVW	R30,R28
    0215D 96B6      ADIW	R30,0x26
    0215E E10C      LDI	R16,0x1C
    0215F E010      LDI	R17,0
    02160 93FA      ST	-Y,R31
    02161 93EA      ST	-Y,R30
    02162 939A      ST	-Y,R25
    02163 938A      ST	-Y,R24
    02164 940E 3A6A CALL	asgnblk
(1020)    time_cacah=Read1307(0x06);
    02166 E006      LDI	R16,6
    02167 940E 38BE CALL	_Read1307
    02169 01B8      MOVW	R22,R16
(1021)    date[0]=2;
    0216A E082      LDI	R24,2
    0216B E090      LDI	R25,0
    0216C 8799      STD	Y+9,R25
    0216D 8788      STD	Y+8,R24
(1022)    date[1]=0;
    0216E 2422      CLR	R2
    0216F 2433      CLR	R3
    02170 863B      STD	Y+11,R3
    02171 862A      STD	Y+10,R2
(1023)    date[2]=time_cacah>>4;
    02172 011B      MOVW	R2,R22
    02173 9436      LSR	R3
    02174 9427      ROR	R2
    02175 9436      LSR	R3
    02176 9427      ROR	R2
    02177 9436      LSR	R3
    02178 9427      ROR	R2
    02179 9436      LSR	R3
    0217A 9427      ROR	R2
    0217B 863D      STD	Y+13,R3
    0217C 862C      STD	Y+12,R2
(1024)    date[3]=time_cacah&0x0F;
    0217D 01CB      MOVW	R24,R22
    0217E 708F      ANDI	R24,0xF
    0217F 7090      ANDI	R25,0
    02180 879F      STD	Y+15,R25
    02181 878E      STD	Y+14,R24
(1025)    time_cacah=Read1307(0x05);
    02182 E005      LDI	R16,5
    02183 940E 38BE CALL	_Read1307
    02185 01B8      MOVW	R22,R16
(1026)    date[4]=(time_cacah>>4)&0x01;
    02186 01CB      MOVW	R24,R22
    02187 9596      LSR	R25
    02188 9587      ROR	R24
    02189 9596      LSR	R25
    0218A 9587      ROR	R24
    0218B 9596      LSR	R25
    0218C 9587      ROR	R24
    0218D 9596      LSR	R25
    0218E 9587      ROR	R24
    0218F 7081      ANDI	R24,1
    02190 7090      ANDI	R25,0
    02191 8B99      STD	Y+17,R25
    02192 8B88      STD	Y+16,R24
(1027)    date[5]=time_cacah&0x0F;
    02193 01CB      MOVW	R24,R22
    02194 708F      ANDI	R24,0xF
    02195 7090      ANDI	R25,0
    02196 8B9B      STD	Y+19,R25
    02197 8B8A      STD	Y+18,R24
(1028)     time_cacah=Read1307(0x04);
    02198 E004      LDI	R16,4
    02199 940E 38BE CALL	_Read1307
    0219B 0158      MOVW	R10,R16
    0219C 01B5      MOVW	R22,R10
(1029)    date[6]=0x03&(time_cacah>>4);
    0219D 01CB      MOVW	R24,R22
    0219E 9596      LSR	R25
    0219F 9587      ROR	R24
    021A0 9596      LSR	R25
    021A1 9587      ROR	R24
    021A2 9596      LSR	R25
    021A3 9587      ROR	R24
    021A4 9596      LSR	R25
    021A5 9587      ROR	R24
    021A6 7083      ANDI	R24,3
    021A7 7090      ANDI	R25,0
    021A8 8B9D      STD	Y+21,R25
    021A9 8B8C      STD	Y+20,R24
(1030)    date[7]=time_cacah&0x0F;
    021AA 01CB      MOVW	R24,R22
    021AB 708F      ANDI	R24,0xF
    021AC 7090      ANDI	R25,0
    021AD 8B9F      STD	Y+23,R25
    021AE 8B8E      STD	Y+22,R24
(1031)    time_cacah=Read1307(0x02);
    021AF E002      LDI	R16,2
    021B0 940E 38BE CALL	_Read1307
    021B2 0158      MOVW	R10,R16
    021B3 01B5      MOVW	R22,R10
(1032)    date[8]=0x03&(time_cacah>>4);
    021B4 01CB      MOVW	R24,R22
    021B5 9596      LSR	R25
    021B6 9587      ROR	R24
    021B7 9596      LSR	R25
    021B8 9587      ROR	R24
    021B9 9596      LSR	R25
    021BA 9587      ROR	R24
    021BB 9596      LSR	R25
    021BC 9587      ROR	R24
    021BD 7083      ANDI	R24,3
    021BE 7090      ANDI	R25,0
    021BF 8F99      STD	Y+25,R25
    021C0 8F88      STD	Y+24,R24
(1033)    date[9]=time_cacah&0x0F;
    021C1 01CB      MOVW	R24,R22
    021C2 708F      ANDI	R24,0xF
    021C3 7090      ANDI	R25,0
    021C4 8F9B      STD	Y+27,R25
    021C5 8F8A      STD	Y+26,R24
(1034)    time_cacah=Read1307(0x01);
    021C6 E001      LDI	R16,1
    021C7 940E 38BE CALL	_Read1307
    021C9 0158      MOVW	R10,R16
    021CA 01B5      MOVW	R22,R10
(1035)    date[10]=0x07&(time_cacah>>4);
    021CB 01CB      MOVW	R24,R22
    021CC 9596      LSR	R25
    021CD 9587      ROR	R24
    021CE 9596      LSR	R25
    021CF 9587      ROR	R24
    021D0 9596      LSR	R25
    021D1 9587      ROR	R24
    021D2 9596      LSR	R25
    021D3 9587      ROR	R24
    021D4 7087      ANDI	R24,7
    021D5 7090      ANDI	R25,0
    021D6 8F9D      STD	Y+29,R25
    021D7 8F8C      STD	Y+28,R24
(1036)    date[11]=time_cacah&0x0f;
    021D8 01CB      MOVW	R24,R22
    021D9 708F      ANDI	R24,0xF
    021DA 7090      ANDI	R25,0
    021DB 8F9F      STD	Y+31,R25
    021DC 8F8E      STD	Y+30,R24
(1037)    time_cacah=Read1307(0x00);
    021DD 2700      CLR	R16
    021DE 940E 38BE CALL	_Read1307
    021E0 0158      MOVW	R10,R16
    021E1 01B5      MOVW	R22,R10
(1038)    date[12]=0x07&(time_cacah>>4);
    021E2 01CB      MOVW	R24,R22
    021E3 9596      LSR	R25
    021E4 9587      ROR	R24
    021E5 9596      LSR	R25
    021E6 9587      ROR	R24
    021E7 9596      LSR	R25
    021E8 9587      ROR	R24
    021E9 9596      LSR	R25
    021EA 9587      ROR	R24
    021EB 7087      ANDI	R24,7
    021EC 7090      ANDI	R25,0
    021ED A399      STD	Y+33,R25
    021EE A388      STD	Y+32,R24
(1039)    date[13]=time_cacah&0x0F;
    021EF 01CB      MOVW	R24,R22
    021F0 708F      ANDI	R24,0xF
    021F1 7090      ANDI	R25,0
    021F2 A39B      STD	Y+35,R25
    021F3 A38A      STD	Y+34,R24
(1040)     lcd_write_pos(1,0);
    021F4 2722      CLR	R18
    021F5 E001      LDI	R16,1
    021F6 940E 06F0 CALL	_lcd_write_pos
(1041)   for(i=0;i<8;i++){
    021F8 2766      CLR	R22
    021F9 2777      CLR	R23
    021FA C020      RJMP	0x221B
(1042)    lcd_write_char_con(0,0x30 | date[i]);
    021FB 01CE      MOVW	R24,R28
    021FC 9608      ADIW	R24,0x8
    021FD 01FB      MOVW	R30,R22
    021FE 0FEE      LSL	R30
    021FF 1FFF      ROL	R31
    02200 0FE8      ADD	R30,R24
    02201 1FF9      ADC	R31,R25
    02202 8120      LD	R18,Z
    02203 8131      LDD	R19,Z+1
    02204 6320      ORI	R18,0x30
    02205 2700      CLR	R16
    02206 940E 06DC CALL	_lcd_write_char_con
(1043)     lcd_write_char_con(0,' ');
    02208 E220      LDI	R18,0x20
    02209 2700      CLR	R16
    0220A 940E 06DC CALL	_lcd_write_char_con
(1044) 	if(i==3 || i==5){
    0220C 3063      CPI	R22,3
    0220D E0E0      LDI	R30,0
    0220E 077E      CPC	R23,R30
    0220F F021      BEQ	0x2214
    02210 3065      CPI	R22,5
    02211 E0E0      LDI	R30,0
    02212 077E      CPC	R23,R30
    02213 F429      BNE	0x2219
(1045) 	  lcd_write_str_con(0,"- ");
    02214 EA20      LDI	R18,0xA0
    02215 E038      LDI	R19,0x8
    02216 2700      CLR	R16
    02217 940E 077E CALL	_lcd_write_str_con
    02219 5F6F      SUBI	R22,0xFF
    0221A 4F7F      SBCI	R23,0xFF
    0221B 3068      CPI	R22,0x8
    0221C E0E0      LDI	R30,0
    0221D 077E      CPC	R23,R30
    0221E F2E0      BCS	0x21FB
(1046) 	}
(1047)   }
(1048)    lcd_write_pos(2,1);
    0221F E021      LDI	R18,1
    02220 E002      LDI	R16,2
    02221 940E 06F0 CALL	_lcd_write_pos
(1049)    for(i=8;i<14;i++){
    02223 E068      LDI	R22,0x8
    02224 E070      LDI	R23,0
    02225 C020      RJMP	0x2246
(1050)    lcd_write_char_con(1,0x30 | date[i]);
    02226 01CE      MOVW	R24,R28
    02227 9608      ADIW	R24,0x8
    02228 01FB      MOVW	R30,R22
    02229 0FEE      LSL	R30
    0222A 1FFF      ROL	R31
    0222B 0FE8      ADD	R30,R24
    0222C 1FF9      ADC	R31,R25
    0222D 8120      LD	R18,Z
    0222E 8131      LDD	R19,Z+1
    0222F 6320      ORI	R18,0x30
    02230 E001      LDI	R16,1
    02231 940E 06DC CALL	_lcd_write_char_con
(1051)    lcd_write_char_con(0,' ');
    02233 E220      LDI	R18,0x20
    02234 2700      CLR	R16
    02235 940E 06DC CALL	_lcd_write_char_con
(1052)    if(i==9 || i==11){
    02237 3069      CPI	R22,0x9
    02238 E0E0      LDI	R30,0
    02239 077E      CPC	R23,R30
    0223A F021      BEQ	0x223F
    0223B 306B      CPI	R22,0xB
    0223C E0E0      LDI	R30,0
    0223D 077E      CPC	R23,R30
    0223E F429      BNE	0x2244
(1053) 	 lcd_write_str_con(0,": ");
    0223F E125      LDI	R18,0x15
    02240 E039      LDI	R19,0x9
    02241 2700      CLR	R16
    02242 940E 077E CALL	_lcd_write_str_con
    02244 5F6F      SUBI	R22,0xFF
    02245 4F7F      SBCI	R23,0xFF
    02246 306E      CPI	R22,0xE
    02247 E0E0      LDI	R30,0
    02248 077E      CPC	R23,R30
    02249 F2E0      BCS	0x2226
(1054)    }
(1055)   } 
(1056)    lcd_write_str(3,2,"保存");
    0224A E089      LDI	R24,0x9
    0224B E099      LDI	R25,0x9
    0224C 8399      STD	Y+1,R25
    0224D 8388      ST	Y,R24
    0224E E022      LDI	R18,2
    0224F E003      LDI	R16,3
    02250 940E 0734 CALL	_lcd_write_str
(1057)    lcd_write_str(8,2,"取消");
    02252 E68A      LDI	R24,0x6A
    02253 E099      LDI	R25,0x9
    02254 8399      STD	Y+1,R25
    02255 8388      ST	Y,R24
    02256 E022      LDI	R18,2
    02257 E008      LDI	R16,0x8
    02258 940E 0734 CALL	_lcd_write_str
(1058)    //初始化date
(1059)   
(1060)    cur=0;
    0225A 2744      CLR	R20
    0225B 2755      CLR	R21
(1061)    lcd_write_pos(1,0);//初始游标位置
    0225C 2722      CLR	R18
    0225D E001      LDI	R16,1
    0225E 940E 06F0 CALL	_lcd_write_pos
(1062)    cur_set(3);//上半屏幕游标设置
    02260 E003      LDI	R16,3
    02261 E010      LDI	R17,0
    02262 940E 08A5 CALL	_cur_set
    02264 C284      RJMP	0x24E9
(1063)    while(1){
(1064)      pageTime(3);//
    02265 E003      LDI	R16,3
    02266 E010      LDI	R17,0
    02267 940E 1126 CALL	_pageTime
(1065) 	 keyV=KeyScan_once();
    02269 940E 05D1 CALL	_KeyScan_once
    0226B 2EA0      MOV	R10,R16
    0226C 2D6A      MOV	R22,R10
(1066) 	 if(keyV=='u'){
    0226D 3705      CPI	R16,0x75
    0226E F571      BNE	0x229D
(1067) 	   if(cur>13){//调到时间第一个
    0226F E08D      LDI	R24,0xD
    02270 E090      LDI	R25,0
    02271 1784      CP	R24,R20
    02272 0795      CPC	R25,R21
    02273 F4B8      BCC	0x228B
(1068) 	        Set_White_off(4,2,5);
    02274 E085      LDI	R24,5
    02275 8388      ST	Y,R24
    02276 E022      LDI	R18,2
    02277 E004      LDI	R16,4
    02278 940E 08E9 CALL	_Set_White_off
(1069) 			Set_White_off(9,2,10);
    0227A E08A      LDI	R24,0xA
    0227B 8388      ST	Y,R24
    0227C E022      LDI	R18,2
    0227D E009      LDI	R16,0x9
    0227E 940E 08E9 CALL	_Set_White_off
(1070) 	        lcd_write_pos(2,1);
    02280 E021      LDI	R18,1
    02281 E002      LDI	R16,2
    02282 940E 06F0 CALL	_lcd_write_pos
(1071) 		    cur_set(3);
    02284 E003      LDI	R16,3
    02285 E010      LDI	R17,0
    02286 940E 08A5 CALL	_cur_set
(1072) 			cur=8; 
    02288 E048      LDI	R20,0x8
    02289 E050      LDI	R21,0
(1073) 		   }else if(cur>7 && cur <14){//调到日期第一个
    0228A C25E      RJMP	0x24E9
    0228B E087      LDI	R24,7
    0228C E090      LDI	R25,0
    0228D 1784      CP	R24,R20
    0228E 0795      CPC	R25,R21
    0228F F008      BCS	0x2291
    02290 C258      RJMP	0x24E9
    02291 304E      CPI	R20,0xE
    02292 E0E0      LDI	R30,0
    02293 075E      CPC	R21,R30
    02294 F008      BCS	0x2296
    02295 C253      RJMP	0x24E9
(1074) 		    lcd_write_pos(1,0);
    02296 2722      CLR	R18
    02297 E001      LDI	R16,1
    02298 940E 06F0 CALL	_lcd_write_pos
(1075) 			cur=0; 
    0229A 2744      CLR	R20
    0229B 2755      CLR	R21
(1076) 		   }
(1077) 	 }else if(keyV=='d'){
    0229C C24C      RJMP	0x24E9
    0229D 3664      CPI	R22,0x64
    0229E F519      BNE	0x22C2
(1078) 	     if(cur>7 && cur <14){//在时间上，第三行，默认要保存，所以调到保存上
    0229F E087      LDI	R24,7
    022A0 E090      LDI	R25,0
    022A1 1784      CP	R24,R20
    022A2 0795      CPC	R25,R21
    022A3 F488      BCC	0x22B5
    022A4 304E      CPI	R20,0xE
    022A5 E0E0      LDI	R30,0
    022A6 075E      CPC	R21,R30
    022A7 F468      BCC	0x22B5
(1079) 		      cur_set(0);//关下半屏幕游标
    022A8 2700      CLR	R16
    022A9 2711      CLR	R17
    022AA 940E 08A5 CALL	_cur_set
(1080) 			  Set_White(4,2,5);
    022AC E085      LDI	R24,5
    022AD 8388      ST	Y,R24
    022AE E022      LDI	R18,2
    022AF E004      LDI	R16,4
    022B0 940E 0959 CALL	_Set_White
(1081) 			  cur=14;
    022B2 E04E      LDI	R20,0xE
    022B3 E050      LDI	R21,0
(1082) 		 }else if(cur<=7){ //调到时间第一个
    022B4 C234      RJMP	0x24E9
    022B5 E087      LDI	R24,7
    022B6 E090      LDI	R25,0
    022B7 1784      CP	R24,R20
    022B8 0795      CPC	R25,R21
    022B9 F408      BCC	0x22BB
    022BA C22E      RJMP	0x24E9
(1083) 		    lcd_write_pos(2,1);
    022BB E021      LDI	R18,1
    022BC E002      LDI	R16,2
    022BD 940E 06F0 CALL	_lcd_write_pos
(1084) 			cur=8; 
    022BF E048      LDI	R20,0x8
    022C0 E050      LDI	R21,0
(1085) 		 }
(1086) 	 }else if(keyV=='l'){
    022C1 C227      RJMP	0x24E9
    022C2 366C      CPI	R22,0x6C
    022C3 F009      BEQ	0x22C5
    022C4 C043      RJMP	0x2308
(1087) 			if(cur<=8 && cur>0){
    022C5 E088      LDI	R24,0x8
    022C6 E090      LDI	R25,0
    022C7 1784      CP	R24,R20
    022C8 0795      CPC	R25,R21
    022C9 F090      BCS	0x22DC
    022CA 3040      CPI	R20,0
    022CB 0745      CPC	R20,R21
    022CC F079      BEQ	0x22DC
(1088) 			 cur--;
    022CD 5041      SUBI	R20,1
    022CE 4050      SBCI	R21,0
(1089) 			 lcd_write_pos(dateAc[cur],0);
    022CF 2722      CLR	R18
    022D0 01CE      MOVW	R24,R28
    022D1 9686      ADIW	R24,0x26
    022D2 01FA      MOVW	R30,R20
    022D3 0FEE      LSL	R30
    022D4 1FFF      ROL	R31
    022D5 0FE8      ADD	R30,R24
    022D6 1FF9      ADC	R31,R25
    022D7 8100      LD	R16,Z
    022D8 8111      LDD	R17,Z+1
    022D9 940E 06F0 CALL	_lcd_write_pos
(1090) 			}else if (cur>8 && cur<14){
    022DB C20D      RJMP	0x24E9
    022DC E088      LDI	R24,0x8
    022DD E090      LDI	R25,0
    022DE 1784      CP	R24,R20
    022DF 0795      CPC	R25,R21
    022E0 F498      BCC	0x22F4
    022E1 304E      CPI	R20,0xE
    022E2 E0E0      LDI	R30,0
    022E3 075E      CPC	R21,R30
    022E4 F478      BCC	0x22F4
(1091) 			 cur--;
    022E5 5041      SUBI	R20,1
    022E6 4050      SBCI	R21,0
(1092) 			 lcd_write_pos(dateAc[cur],1);
    022E7 E021      LDI	R18,1
    022E8 01CE      MOVW	R24,R28
    022E9 9686      ADIW	R24,0x26
    022EA 01FA      MOVW	R30,R20
    022EB 0FEE      LSL	R30
    022EC 1FFF      ROL	R31
    022ED 0FE8      ADD	R30,R24
    022EE 1FF9      ADC	R31,R25
    022EF 8100      LD	R16,Z
    022F0 8111      LDD	R17,Z+1
    022F1 940E 06F0 CALL	_lcd_write_pos
(1093) 			}else if (cur==15){
    022F3 C1F5      RJMP	0x24E9
    022F4 304F      CPI	R20,0xF
    022F5 E0E0      LDI	R30,0
    022F6 075E      CPC	R21,R30
    022F7 F009      BEQ	0x22F9
    022F8 C1F0      RJMP	0x24E9
(1094) 			    Set_White_off(9,2,10);
    022F9 E08A      LDI	R24,0xA
    022FA 8388      ST	Y,R24
    022FB E022      LDI	R18,2
    022FC E009      LDI	R16,0x9
    022FD 940E 08E9 CALL	_Set_White_off
(1095) 			    Set_White(4,2,5);
    022FF E085      LDI	R24,5
    02300 8388      ST	Y,R24
    02301 E022      LDI	R18,2
    02302 E004      LDI	R16,4
    02303 940E 0959 CALL	_Set_White
(1096) 				cur=14;
    02305 E04E      LDI	R20,0xE
    02306 E050      LDI	R21,0
(1097) 			}
(1098) 			
(1099) 		
(1100) 	 }else if(keyV=='r'){
    02307 C1E1      RJMP	0x24E9
    02308 3762      CPI	R22,0x72
    02309 F009      BEQ	0x230B
    0230A C03A      RJMP	0x2345
(1101) 	       if(cur<7){
    0230B 3047      CPI	R20,7
    0230C E0E0      LDI	R30,0
    0230D 075E      CPC	R21,R30
    0230E F478      BCC	0x231E
(1102) 			   cur++;
    0230F 5F4F      SUBI	R20,0xFF
    02310 4F5F      SBCI	R21,0xFF
(1103) 			   lcd_write_pos(dateAc[cur],0);
    02311 2722      CLR	R18
    02312 01CE      MOVW	R24,R28
    02313 9686      ADIW	R24,0x26
    02314 01FA      MOVW	R30,R20
    02315 0FEE      LSL	R30
    02316 1FFF      ROL	R31
    02317 0FE8      ADD	R30,R24
    02318 1FF9      ADC	R31,R25
    02319 8100      LD	R16,Z
    0231A 8111      LDD	R17,Z+1
    0231B 940E 06F0 CALL	_lcd_write_pos
(1104) 			}else if (cur<13){
    0231D C1CB      RJMP	0x24E9
    0231E 304D      CPI	R20,0xD
    0231F E0E0      LDI	R30,0
    02320 075E      CPC	R21,R30
    02321 F478      BCC	0x2331
(1105) 			   cur++;
    02322 5F4F      SUBI	R20,0xFF
    02323 4F5F      SBCI	R21,0xFF
(1106) 			   lcd_write_pos(dateAc[cur],1);
    02324 E021      LDI	R18,1
    02325 01CE      MOVW	R24,R28
    02326 9686      ADIW	R24,0x26
    02327 01FA      MOVW	R30,R20
    02328 0FEE      LSL	R30
    02329 1FFF      ROL	R31
    0232A 0FE8      ADD	R30,R24
    0232B 1FF9      ADC	R31,R25
    0232C 8100      LD	R16,Z
    0232D 8111      LDD	R17,Z+1
    0232E 940E 06F0 CALL	_lcd_write_pos
(1107) 			}else if (cur==14){
    02330 C1B8      RJMP	0x24E9
    02331 304E      CPI	R20,0xE
    02332 E0E0      LDI	R30,0
    02333 075E      CPC	R21,R30
    02334 F009      BEQ	0x2336
    02335 C1B3      RJMP	0x24E9
(1108) 			    Set_White_off(4,2,5);
    02336 E085      LDI	R24,5
    02337 8388      ST	Y,R24
    02338 E022      LDI	R18,2
    02339 E004      LDI	R16,4
    0233A 940E 08E9 CALL	_Set_White_off
(1109) 				Set_White(9,2,10);
    0233C E08A      LDI	R24,0xA
    0233D 8388      ST	Y,R24
    0233E E022      LDI	R18,2
    0233F E009      LDI	R16,0x9
    02340 940E 0959 CALL	_Set_White
(1110) 				cur=15;
    02342 E04F      LDI	R20,0xF
    02343 E050      LDI	R21,0
(1111) 			}
(1112) 	 }else if(keyV=='e'){
    02344 C1A4      RJMP	0x24E9
    02345 3665      CPI	R22,0x65
    02346 F4B9      BNE	0x235E
(1113) 	     cur_set(0);//关上半屏幕游标
    02347 2700      CLR	R16
    02348 2711      CLR	R17
    02349 940E 08A5 CALL	_cur_set
(1114) 		  Set_White_off(4,2,5);
    0234B E085      LDI	R24,5
    0234C 8388      ST	Y,R24
    0234D E022      LDI	R18,2
    0234E E004      LDI	R16,4
    0234F 940E 08E9 CALL	_Set_White_off
(1115) 		  Set_White_off(9,2,10);
    02351 E08A      LDI	R24,0xA
    02352 8388      ST	Y,R24
    02353 E022      LDI	R18,2
    02354 E009      LDI	R16,0x9
    02355 940E 08E9 CALL	_Set_White_off
(1116) 		 pageNum=1;
    02357 E081      LDI	R24,1
    02358 E090      LDI	R25,0
    02359 9390 0E93 STS	pageNum+1,R25
    0235B 9380 0E92 STS	pageNum,R24
(1117) 		 return;
    0235D C18C      RJMP	0x24EA
(1118) 	     //退出界面
(1119) 	 }else if(keyV=='t'){
    0235E 3764      CPI	R22,0x74
    0235F F009      BEQ	0x2361
    02360 C085      RJMP	0x23E6
(1120) 	      if(cur==14){
    02361 304E      CPI	R20,0xE
    02362 E0E0      LDI	R30,0
    02363 075E      CPC	R21,R30
    02364 F009      BEQ	0x2366
    02365 C064      RJMP	0x23CA
(1121) 		      setTime((date[2]*16)+date[3],(date[4]*16)+date[5],(date[6]*16)+date[7],(date[8]*16)+date[9],(date[10]*16)+date[11],(date[12]*16)+date[13]);
    02366 A128      LDD	R18,Y+32
    02367 A139      LDD	R19,Y+33
    02368 E100      LDI	R16,0x10
    02369 E010      LDI	R17,0
    0236A 940E 39E7 CALL	empy16s
    0236C 0118      MOVW	R2,R16
    0236D A04A      LDD	R4,Y+34
    0236E A05B      LDD	R5,Y+35
    0236F 0C24      ADD	R2,R4
    02370 1C35      ADC	R3,R5
    02371 823F      STD	Y+7,R3
    02372 822E      STD	Y+6,R2
    02373 8D2C      LDD	R18,Y+28
    02374 8D3D      LDD	R19,Y+29
    02375 E100      LDI	R16,0x10
    02376 E010      LDI	R17,0
    02377 940E 39E7 CALL	empy16s
    02379 0118      MOVW	R2,R16
    0237A 8C4E      LDD	R4,Y+30
    0237B 8C5F      LDD	R5,Y+31
    0237C 0C24      ADD	R2,R4
    0237D 1C35      ADC	R3,R5
    0237E 823D      STD	Y+5,R3
    0237F 822C      STD	Y+4,R2
    02380 8D28      LDD	R18,Y+24
    02381 8D39      LDD	R19,Y+25
    02382 E100      LDI	R16,0x10
    02383 E010      LDI	R17,0
    02384 940E 39E7 CALL	empy16s
    02386 0118      MOVW	R2,R16
    02387 8C4A      LDD	R4,Y+26
    02388 8C5B      LDD	R5,Y+27
    02389 0C24      ADD	R2,R4
    0238A 1C35      ADC	R3,R5
    0238B 823B      STD	Y+3,R3
    0238C 822A      STD	Y+2,R2
    0238D 892C      LDD	R18,Y+20
    0238E 893D      LDD	R19,Y+21
    0238F E100      LDI	R16,0x10
    02390 E010      LDI	R17,0
    02391 940E 39E7 CALL	empy16s
    02393 0118      MOVW	R2,R16
    02394 884E      LDD	R4,Y+22
    02395 885F      LDD	R5,Y+23
    02396 0C24      ADD	R2,R4
    02397 1C35      ADC	R3,R5
    02398 8239      STD	Y+1,R3
    02399 8228      ST	Y,R2
    0239A 8928      LDD	R18,Y+16
    0239B 8939      LDD	R19,Y+17
    0239C E100      LDI	R16,0x10
    0239D E010      LDI	R17,0
    0239E 940E 39E7 CALL	empy16s
    023A0 0198      MOVW	R18,R16
    023A1 882A      LDD	R2,Y+18
    023A2 883B      LDD	R3,Y+19
    023A3 0D22      ADD	R18,R2
    023A4 1D33      ADC	R19,R3
    023A5 842C      LDD	R2,Y+12
    023A6 843D      LDD	R3,Y+13
    023A7 E100      LDI	R16,0x10
    023A8 E010      LDI	R17,0
    023A9 932F      PUSH	R18
    023AA 933F      PUSH	R19
    023AB 0191      MOVW	R18,R2
    023AC 940E 39E7 CALL	empy16s
    023AE 0118      MOVW	R2,R16
    023AF 913F      POP	R19
    023B0 912F      POP	R18
    023B1 844E      LDD	R4,Y+14
    023B2 845F      LDD	R5,Y+15
    023B3 0C24      ADD	R2,R4
    023B4 1C35      ADC	R3,R5
    023B5 0181      MOVW	R16,R2
    023B6 940E 38D2 CALL	_setTime
(1122) 		        //setTime(1*16+2,1<<4+2+0x00,2*16+2,1<<4+2+0x00,5+0x00,5<<4+1+0x00);
(1123) 				//保存操作
(1124) 				pageParam[1]=0;//标记是时间的保存
    023B8 2422      CLR	R2
    023B9 2433      CLR	R3
    023BA 9230 0E8B STS	pageParam+3,R3
    023BC 9220 0E8A STS	pageParam+2,R2
(1125) 				prePageNum=8;
    023BE E088      LDI	R24,0x8
    023BF E090      LDI	R25,0
    023C0 9390 0E87 STS	prePageNum+1,R25
    023C2 9380 0E86 STS	prePageNum,R24
(1126) 				pageNum=6;
    023C4 E086      LDI	R24,6
    023C5 9390 0E93 STS	pageNum+1,R25
    023C7 9380 0E92 STS	pageNum,R24
(1127) 				return;
    023C9 C120      RJMP	0x24EA
(1128) 		 }else if(cur==15){
    023CA 304F      CPI	R20,0xF
    023CB E0E0      LDI	R30,0
    023CC 075E      CPC	R21,R30
    023CD F009      BEQ	0x23CF
    023CE C11A      RJMP	0x24E9
(1129) 		        //取消操作
(1130) 			 cur_set(0);//关上半屏幕游标
    023CF 2700      CLR	R16
    023D0 2711      CLR	R17
    023D1 940E 08A5 CALL	_cur_set
(1131) 		  Set_White_off(4,2,5);
    023D3 E085      LDI	R24,5
    023D4 8388      ST	Y,R24
    023D5 E022      LDI	R18,2
    023D6 E004      LDI	R16,4
    023D7 940E 08E9 CALL	_Set_White_off
(1132) 		  Set_White_off(9,2,10);
    023D9 E08A      LDI	R24,0xA
    023DA 8388      ST	Y,R24
    023DB E022      LDI	R18,2
    023DC E009      LDI	R16,0x9
    023DD 940E 08E9 CALL	_Set_White_off
(1133) 		 pageNum=1;
    023DF E081      LDI	R24,1
    023E0 E090      LDI	R25,0
    023E1 9390 0E93 STS	pageNum+1,R25
    023E3 9380 0E92 STS	pageNum,R24
(1134) 		 return;
    023E5 C104      RJMP	0x24EA
(1135) 		 }
(1136) 	 }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    023E6 3360      CPI	R22,0x30
    023E7 F099      BEQ	0x23FB
    023E8 3361      CPI	R22,0x31
    023E9 F089      BEQ	0x23FB
    023EA 3362      CPI	R22,0x32
    023EB F079      BEQ	0x23FB
    023EC 3363      CPI	R22,0x33
    023ED F069      BEQ	0x23FB
    023EE 3364      CPI	R22,0x34
    023EF F059      BEQ	0x23FB
    023F0 3365      CPI	R22,0x35
    023F1 F049      BEQ	0x23FB
    023F2 3366      CPI	R22,0x36
    023F3 F039      BEQ	0x23FB
    023F4 3367      CPI	R22,0x37
    023F5 F029      BEQ	0x23FB
    023F6 3368      CPI	R22,0x38
    023F7 F019      BEQ	0x23FB
    023F8 3369      CPI	R22,0x39
    023F9 F009      BEQ	0x23FB
    023FA C0EE      RJMP	0x24E9
(1137) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(1138) 			if(cur<14){
    023FB 304E      CPI	R20,0xE
    023FC E0E0      LDI	R30,0
    023FD 075E      CPC	R21,R30
    023FE F008      BCS	0x2400
    023FF C0E9      RJMP	0x24E9
(1139) 			 lcd_write_char_con(0,0x30 | keyV);
    02400 2F26      MOV	R18,R22
    02401 6320      ORI	R18,0x30
    02402 2700      CLR	R16
    02403 940E 06DC CALL	_lcd_write_char_con
(1140) 			 lcd_write_char_con(0,' ');
    02405 E220      LDI	R18,0x20
    02406 2700      CLR	R16
    02407 940E 06DC CALL	_lcd_write_char_con
(1141) 			 switch(keyV){
    02409 2777      CLR	R23
    0240A 3360      CPI	R22,0x30
    0240B E0E0      LDI	R30,0
    0240C 077E      CPC	R23,R30
    0240D F409      BNE	0x240F
    0240E C02E      RJMP	0x243D
    0240F 3361      CPI	R22,0x31
    02410 E0E0      LDI	R30,0
    02411 077E      CPC	R23,R30
    02412 F409      BNE	0x2414
    02413 C035      RJMP	0x2449
    02414 3362      CPI	R22,0x32
    02415 E0E0      LDI	R30,0
    02416 077E      CPC	R23,R30
    02417 F409      BNE	0x2419
    02418 C03C      RJMP	0x2455
    02419 3363      CPI	R22,0x33
    0241A E0E0      LDI	R30,0
    0241B 077E      CPC	R23,R30
    0241C F409      BNE	0x241E
    0241D C043      RJMP	0x2461
    0241E 3364      CPI	R22,0x34
    0241F E0E0      LDI	R30,0
    02420 077E      CPC	R23,R30
    02421 F409      BNE	0x2423
    02422 C04A      RJMP	0x246D
    02423 3365      CPI	R22,0x35
    02424 E0E0      LDI	R30,0
    02425 077E      CPC	R23,R30
    02426 F409      BNE	0x2428
    02427 C051      RJMP	0x2479
    02428 3366      CPI	R22,0x36
    02429 E0E0      LDI	R30,0
    0242A 077E      CPC	R23,R30
    0242B F409      BNE	0x242D
    0242C C058      RJMP	0x2485
    0242D 3367      CPI	R22,0x37
    0242E E0E0      LDI	R30,0
    0242F 077E      CPC	R23,R30
    02430 F409      BNE	0x2432
    02431 C05F      RJMP	0x2491
    02432 3368      CPI	R22,0x38
    02433 E0E0      LDI	R30,0
    02434 077E      CPC	R23,R30
    02435 F409      BNE	0x2437
    02436 C066      RJMP	0x249D
    02437 3369      CPI	R22,0x39
    02438 E0E0      LDI	R30,0
    02439 077E      CPC	R23,R30
    0243A F409      BNE	0x243C
    0243B C06D      RJMP	0x24A9
    0243C C077      RJMP	0x24B4
(1142) 			  case '0':
(1143) 			    date[cur]=0;
    0243D 01CE      MOVW	R24,R28
    0243E 9608      ADIW	R24,0x8
    0243F 01FA      MOVW	R30,R20
    02440 0FEE      LSL	R30
    02441 1FFF      ROL	R31
    02442 0FE8      ADD	R30,R24
    02443 1FF9      ADC	R31,R25
    02444 2422      CLR	R2
    02445 2433      CLR	R3
    02446 8231      STD	Z+1,R3
    02447 8220      ST	Z,R2
(1144) 			    break;
    02448 C06B      RJMP	0x24B4
(1145) 			  case '1':
(1146) 			    date[cur]=1;
    02449 01CE      MOVW	R24,R28
    0244A 9608      ADIW	R24,0x8
    0244B 01FA      MOVW	R30,R20
    0244C 0FEE      LSL	R30
    0244D 1FFF      ROL	R31
    0244E 0FE8      ADD	R30,R24
    0244F 1FF9      ADC	R31,R25
    02450 E081      LDI	R24,1
    02451 E090      LDI	R25,0
    02452 8391      STD	Z+1,R25
    02453 8380      ST	Z,R24
(1147) 			    break;
    02454 C05F      RJMP	0x24B4
(1148) 			  case '2':
(1149) 			    date[cur]=2;
    02455 01CE      MOVW	R24,R28
    02456 9608      ADIW	R24,0x8
    02457 01FA      MOVW	R30,R20
    02458 0FEE      LSL	R30
    02459 1FFF      ROL	R31
    0245A 0FE8      ADD	R30,R24
    0245B 1FF9      ADC	R31,R25
    0245C E082      LDI	R24,2
    0245D E090      LDI	R25,0
    0245E 8391      STD	Z+1,R25
    0245F 8380      ST	Z,R24
(1150) 			    break;
    02460 C053      RJMP	0x24B4
(1151) 			  case '3':
(1152) 			    date[cur]=3;
    02461 01CE      MOVW	R24,R28
    02462 9608      ADIW	R24,0x8
    02463 01FA      MOVW	R30,R20
    02464 0FEE      LSL	R30
    02465 1FFF      ROL	R31
    02466 0FE8      ADD	R30,R24
    02467 1FF9      ADC	R31,R25
    02468 E083      LDI	R24,3
    02469 E090      LDI	R25,0
    0246A 8391      STD	Z+1,R25
    0246B 8380      ST	Z,R24
(1153) 			    break;
    0246C C047      RJMP	0x24B4
(1154) 			  case '4':
(1155) 			    date[cur]=4;
    0246D 01CE      MOVW	R24,R28
    0246E 9608      ADIW	R24,0x8
    0246F 01FA      MOVW	R30,R20
    02470 0FEE      LSL	R30
    02471 1FFF      ROL	R31
    02472 0FE8      ADD	R30,R24
    02473 1FF9      ADC	R31,R25
    02474 E084      LDI	R24,4
    02475 E090      LDI	R25,0
    02476 8391      STD	Z+1,R25
    02477 8380      ST	Z,R24
(1156) 			    break;
    02478 C03B      RJMP	0x24B4
(1157) 			  case '5':
(1158) 			    date[cur]=5;
    02479 01CE      MOVW	R24,R28
    0247A 9608      ADIW	R24,0x8
    0247B 01FA      MOVW	R30,R20
    0247C 0FEE      LSL	R30
    0247D 1FFF      ROL	R31
    0247E 0FE8      ADD	R30,R24
    0247F 1FF9      ADC	R31,R25
    02480 E085      LDI	R24,5
    02481 E090      LDI	R25,0
    02482 8391      STD	Z+1,R25
    02483 8380      ST	Z,R24
(1159) 			    break;
    02484 C02F      RJMP	0x24B4
(1160) 			  case '6':
(1161) 			    date[cur]=6;
    02485 01CE      MOVW	R24,R28
    02486 9608      ADIW	R24,0x8
    02487 01FA      MOVW	R30,R20
    02488 0FEE      LSL	R30
    02489 1FFF      ROL	R31
    0248A 0FE8      ADD	R30,R24
    0248B 1FF9      ADC	R31,R25
    0248C E086      LDI	R24,6
    0248D E090      LDI	R25,0
    0248E 8391      STD	Z+1,R25
    0248F 8380      ST	Z,R24
(1162) 			    break;
    02490 C023      RJMP	0x24B4
(1163) 			  case '7':
(1164) 			    date[cur]=7;
    02491 01CE      MOVW	R24,R28
    02492 9608      ADIW	R24,0x8
    02493 01FA      MOVW	R30,R20
    02494 0FEE      LSL	R30
    02495 1FFF      ROL	R31
    02496 0FE8      ADD	R30,R24
    02497 1FF9      ADC	R31,R25
    02498 E087      LDI	R24,7
    02499 E090      LDI	R25,0
    0249A 8391      STD	Z+1,R25
    0249B 8380      ST	Z,R24
(1165) 			    break;
    0249C C017      RJMP	0x24B4
(1166) 		      case '8':
(1167) 			    date[cur]=8;
    0249D 01CE      MOVW	R24,R28
    0249E 9608      ADIW	R24,0x8
    0249F 01FA      MOVW	R30,R20
    024A0 0FEE      LSL	R30
    024A1 1FFF      ROL	R31
    024A2 0FE8      ADD	R30,R24
    024A3 1FF9      ADC	R31,R25
    024A4 E088      LDI	R24,0x8
    024A5 E090      LDI	R25,0
    024A6 8391      STD	Z+1,R25
    024A7 8380      ST	Z,R24
(1168) 			    break;
    024A8 C00B      RJMP	0x24B4
(1169) 			  case '9':
(1170) 			    date[cur]=9;
    024A9 01CE      MOVW	R24,R28
    024AA 9608      ADIW	R24,0x8
    024AB 01FA      MOVW	R30,R20
    024AC 0FEE      LSL	R30
    024AD 1FFF      ROL	R31
    024AE 0FE8      ADD	R30,R24
    024AF 1FF9      ADC	R31,R25
    024B0 E089      LDI	R24,0x9
    024B1 E090      LDI	R25,0
    024B2 8391      STD	Z+1,R25
    024B3 8380      ST	Z,R24
(1171) 			    break;
(1172) 			  
(1173) 			 }
(1174) 			  if(cur==3 || cur==5){
    024B4 3043      CPI	R20,3
    024B5 E0E0      LDI	R30,0
    024B6 075E      CPC	R21,R30
    024B7 F021      BEQ	0x24BC
    024B8 3045      CPI	R20,5
    024B9 E0E0      LDI	R30,0
    024BA 075E      CPC	R21,R30
    024BB F431      BNE	0x24C2
(1175) 			    lcd_write_str_con(0,"- ");
    024BC EA20      LDI	R18,0xA0
    024BD E038      LDI	R19,0x8
    024BE 2700      CLR	R16
    024BF 940E 077E CALL	_lcd_write_str_con
(1176) 			 }else if(cur==9 || cur==11){
    024C1 C00D      RJMP	0x24CF
    024C2 3049      CPI	R20,0x9
    024C3 E0E0      LDI	R30,0
    024C4 075E      CPC	R21,R30
    024C5 F021      BEQ	0x24CA
    024C6 304B      CPI	R20,0xB
    024C7 E0E0      LDI	R30,0
    024C8 075E      CPC	R21,R30
    024C9 F429      BNE	0x24CF
(1177) 			    lcd_write_str_con(0,": ");
    024CA E125      LDI	R18,0x15
    024CB E039      LDI	R19,0x9
    024CC 2700      CLR	R16
    024CD 940E 077E CALL	_lcd_write_str_con
(1178) 			 }
(1179) 			 cur++;
    024CF 5F4F      SUBI	R20,0xFF
    024D0 4F5F      SBCI	R21,0xFF
(1180) 			 if(cur==8){
    024D1 3048      CPI	R20,0x8
    024D2 E0E0      LDI	R30,0
    024D3 075E      CPC	R21,R30
    024D4 F431      BNE	0x24DB
(1181) 			    lcd_write_pos(dateAc[8],1);
    024D5 E021      LDI	R18,1
    024D6 A90E      LDD	R16,Y+54
    024D7 A91F      LDD	R17,Y+55
    024D8 940E 06F0 CALL	_lcd_write_pos
(1182) 			 }else if(cur==14){
    024DA C00E      RJMP	0x24E9
    024DB 304E      CPI	R20,0xE
    024DC E0E0      LDI	R30,0
    024DD 075E      CPC	R21,R30
    024DE F451      BNE	0x24E9
(1183) 			  cur_set(0);//关下半屏幕游标
    024DF 2700      CLR	R16
    024E0 2711      CLR	R17
    024E1 940E 08A5 CALL	_cur_set
(1184) 			  Set_White(4,2,5);
    024E3 E085      LDI	R24,5
    024E4 8388      ST	Y,R24
    024E5 E022      LDI	R18,2
    024E6 E004      LDI	R16,4
    024E7 940E 0959 CALL	_Set_White
    024E9 CD7B      RJMP	0x2265
    024EA 96EF      ADIW	R28,0x3F
    024EB 9623      ADIW	R28,3
    024EC 940C 3A34 JMP	pop_xgsetF00C
_page9:
    024EE 9722      SBIW	R28,2
(1185) 			 }
(1186) 			}
(1187) 	 }
(1188)    }
(1189)  }
(1190) void page9(void){//复用的方法
(1191)   if(pageParam[2]==0){
    024EF 9020 0E8C LDS	R2,pageParam+4
    024F1 9030 0E8D LDS	R3,pageParam+5
    024F3 2022      TST	R2
    024F4 F481      BNE	0x2505
    024F5 2033      TST	R3
    024F6 F471      BNE	0x2505
(1192)      lcd_write_str(4,1,"系统重置中。。。");
    024F7 E88F      LDI	R24,0x8F
    024F8 E098      LDI	R25,0x8
    024F9 8399      STD	Y+1,R25
    024FA 8388      ST	Y,R24
    024FB E021      LDI	R18,1
    024FC E004      LDI	R16,4
    024FD 940E 0734 CALL	_lcd_write_str
(1193) 	 //是否需要清除数据，考虑中
(1194) 	 WDTCR|=(1<<WDCE)|(1<<WDE); /* 置位 WDTOE 和 WDE(在设置看门狗定时器的预置分频器参数时需要将其写1)*/
    024FF B581      IN	R24,0x21
    02500 6188      ORI	R24,0x18
    02501 BD81      OUT	0x21,R24
(1195)      WDTCR=(1<<WDE)|(1<<WDP2)|(1<<WDP1); /*设定周期为1S*/
    02502 E08E      LDI	R24,0xE
    02503 BD81      OUT	0x21,R24
(1196) 	 while(1){
    02504 CFFF      RJMP	0x2504
(1197) 	 }
(1198)    }else if(pageParam[2]==1){
    02505 9180 0E8C LDS	R24,pageParam+4
    02507 9190 0E8D LDS	R25,pageParam+5
    02509 3081      CPI	R24,1
    0250A E0E0      LDI	R30,0
    0250B 079E      CPC	R25,R30
    0250C F471      BNE	0x251B
(1199)      lcd_write_str(4,1,"数据重置中。。。");
    0250D E78E      LDI	R24,0x7E
    0250E E098      LDI	R25,0x8
    0250F 8399      STD	Y+1,R25
    02510 8388      ST	Y,R24
    02511 E021      LDI	R18,1
    02512 E004      LDI	R16,4
    02513 940E 0734 CALL	_lcd_write_str
(1200) 	 reset_temp_data(pageParam[0]);
    02515 9100 0E88 LDS	R16,pageParam
    02517 9110 0E89 LDS	R17,pageParam+1
    02519 940E 3438 CALL	_reset_temp_data
(1201)    }
(1202)    delay_ms(50);
    0251B E302      LDI	R16,0x32
    0251C E010      LDI	R17,0
    0251D 940E 04E4 CALL	_delay_ms
(1203)    pageNum=prePageNum;
    0251F 9020 0E86 LDS	R2,prePageNum
    02521 9030 0E87 LDS	R3,prePageNum+1
    02523 9230 0E93 STS	pageNum+1,R3
    02525 9220 0E92 STS	pageNum,R2
    02527 9622      ADIW	R28,2
    02528 9508      RET
(1204)  }
(1205) //分发Pages
(1206) void dispatchPages(void){
(1207)       lcd_clear();//清屏幕
_dispatchPages:
    02529 940E 07EB CALL	_lcd_clear
(1208)       if(pageNum==1){
    0252B 9180 0E92 LDS	R24,pageNum
    0252D 9190 0E93 LDS	R25,pageNum+1
    0252F 3081      CPI	R24,1
    02530 E0E0      LDI	R30,0
    02531 079E      CPC	R25,R30
    02532 F419      BNE	0x2536
(1209) 	    page1();
    02533 940E 1142 CALL	_page1
(1210) 	  }else if(pageNum==2){
    02535 C052      RJMP	0x2588
    02536 9180 0E92 LDS	R24,pageNum
    02538 9190 0E93 LDS	R25,pageNum+1
    0253A 3082      CPI	R24,2
    0253B E0E0      LDI	R30,0
    0253C 079E      CPC	R25,R30
    0253D F419      BNE	0x2541
(1211) 	    page2();
    0253E 940E 1525 CALL	_page2
(1212) 	  }else if(pageNum==3){
    02540 C047      RJMP	0x2588
    02541 9180 0E92 LDS	R24,pageNum
    02543 9190 0E93 LDS	R25,pageNum+1
    02545 3083      CPI	R24,3
    02546 E0E0      LDI	R30,0
    02547 079E      CPC	R25,R30
    02548 F419      BNE	0x254C
(1213) 	    page3();
    02549 940E 166E CALL	_page3
(1214) 	  }else if(pageNum==4){
    0254B C03C      RJMP	0x2588
    0254C 9180 0E92 LDS	R24,pageNum
    0254E 9190 0E93 LDS	R25,pageNum+1
    02550 3084      CPI	R24,4
    02551 E0E0      LDI	R30,0
    02552 079E      CPC	R25,R30
    02553 F419      BNE	0x2557
(1215) 	    page4();
    02554 940E 1C85 CALL	_page4
(1216) 	  }else if(pageNum==5){
    02556 C031      RJMP	0x2588
    02557 9180 0E92 LDS	R24,pageNum
    02559 9190 0E93 LDS	R25,pageNum+1
    0255B 3085      CPI	R24,5
    0255C E0E0      LDI	R30,0
    0255D 079E      CPC	R25,R30
    0255E F411      BNE	0x2561
(1217) 	    page5();
    0255F D9EE      RCALL	_page5
(1218) 	  }else if(pageNum==6){
    02560 C027      RJMP	0x2588
    02561 9180 0E92 LDS	R24,pageNum
    02563 9190 0E93 LDS	R25,pageNum+1
    02565 3086      CPI	R24,6
    02566 E0E0      LDI	R30,0
    02567 079E      CPC	R25,R30
    02568 F411      BNE	0x256B
(1219) 	    page6();
    02569 DB09      RCALL	_page6
(1220) 	  }else if(pageNum==7){
    0256A C01D      RJMP	0x2588
    0256B 9180 0E92 LDS	R24,pageNum
    0256D 9190 0E93 LDS	R25,pageNum+1
    0256F 3087      CPI	R24,7
    02570 E0E0      LDI	R30,0
    02571 079E      CPC	R25,R30
    02572 F411      BNE	0x2575
(1221) 	    page7();
    02573 DB40      RCALL	_page7
(1222) 	  }else if(pageNum==8){
    02574 C013      RJMP	0x2588
    02575 9180 0E92 LDS	R24,pageNum
    02577 9190 0E93 LDS	R25,pageNum+1
    02579 3088      CPI	R24,0x8
    0257A E0E0      LDI	R30,0
    0257B 079E      CPC	R25,R30
    0257C F411      BNE	0x257F
(1223) 	    page8();
    0257D DBD6      RCALL	_page8
(1224) 	  }else if(pageNum==9){
    0257E C009      RJMP	0x2588
    0257F 9180 0E92 LDS	R24,pageNum
    02581 9190 0E93 LDS	R25,pageNum+1
    02583 3089      CPI	R24,0x9
    02584 E0E0      LDI	R30,0
    02585 079E      CPC	R25,R30
    02586 F409      BNE	0x2588
(1225) 	    page9();
    02587 DF66      RCALL	_page9
(1226) 	  }
    02588 9508      RET
_int_int2:
  cache                --> R20
    02589 920A      ST	-Y,R0
    0258A 921A      ST	-Y,R1
    0258B 922A      ST	-Y,R2
    0258C 923A      ST	-Y,R3
    0258D 924A      ST	-Y,R4
    0258E 925A      ST	-Y,R5
    0258F 926A      ST	-Y,R6
    02590 927A      ST	-Y,R7
    02591 928A      ST	-Y,R8
    02592 929A      ST	-Y,R9
    02593 930A      ST	-Y,R16
    02594 931A      ST	-Y,R17
    02595 932A      ST	-Y,R18
    02596 933A      ST	-Y,R19
    02597 938A      ST	-Y,R24
    02598 939A      ST	-Y,R25
    02599 93AA      ST	-Y,R26
    0259A 93BA      ST	-Y,R27
    0259B 93EA      ST	-Y,R30
    0259C 93FA      ST	-Y,R31
    0259D B60F      IN	R0,0x3F
    0259E 920A      ST	-Y,R0
    0259F 940E 3A19 CALL	push_xgset300C
    025A1 9722      SBIW	R28,2
FILE: E:\ICCDemo\Temp_Control\temp_control\temp.c
(0001) #include<iom128v.h>
(0002) #include "temp.h"
(0003) #include "main.h"
(0004) #include "eeprom.h"
(0005) #include "lcd.h"
(0006) #include "max6675.h"
(0007) #include "delay.h"
(0008) uint second;
(0009) void PID_realize(uint temp_n);
(0010) void set_start_real(uint t);
(0011) 
(0012) //中断1s进入，使用int2。可以使用，但是买的这个DS1307，硬件电路问题不可以使用
(0013) //  进行状态变换和参数调整,
(0014) /*升温：没1C变化温度更改参数，状态计算
(0015) /*恒温：只计算状态
(0016) /*****************************/
(0017) #pragma interrupt_handler int_int2:4
(0018) void int_int2(void){//做温度数据时间增加操作。不能做耗时的操作.中断优先级较高
(0019)   uint cache=0;//保存多次使用的数据，局部变量更快
    025A2 2744      CLR	R20
    025A3 2755      CLR	R21
(0020)   EIMSK &= 0xFB;//关中断2
    025A4 B789      IN	R24,0x39
    025A5 7F8B      ANDI	R24,0xFB
    025A6 BF89      OUT	0x39,R24
(0021)   TIMSK&=0xBF;//关定时器2溢出中断,8位的
    025A7 B787      IN	R24,0x37
    025A8 7B8F      ANDI	R24,0xBF
    025A9 BF87      OUT	0x37,R24
(0022)   //10分钟计时
(0023)   second++;
    025AA 9180 0E9B LDS	R24,second
    025AC 9190 0E9C LDS	R25,second+1
    025AE 9601      ADIW	R24,1
    025AF 9390 0E9C STS	second+1,R25
    025B1 9380 0E9B STS	second,R24
(0024)   if(second>600){
    025B3 E588      LDI	R24,0x58
    025B4 E092      LDI	R25,2
    025B5 9020 0E9B LDS	R2,second
    025B7 9030 0E9C LDS	R3,second+1
    025B9 1582      CP	R24,R2
    025BA 0593      CPC	R25,R3
    025BB F008      BCS	0x25BD
    025BC C327      RJMP	0x28E4
(0025)      //保存状态。保存flag、status、nowtime就行，下面需加上判断
(0026) 	 second=0;
    025BD 2422      CLR	R2
    025BE 2433      CLR	R3
    025BF 9230 0E9C STS	second+1,R3
    025C1 9220 0E9B STS	second,R2
(0027) 	  EEPROM_write(1,133,temps[0].flag);
    025C3 9020 0248 LDS	R2,temps
    025C5 9030 0249 LDS	R3,temps+1
    025C7 8239      STD	Y+1,R3
    025C8 8228      ST	Y,R2
    025C9 E825      LDI	R18,0x85
    025CA E030      LDI	R19,0
    025CB E001      LDI	R16,1
    025CC E010      LDI	R17,0
    025CD 940E 10F9 CALL	_EEPROM_write
(0028) 	  if(temps[0].flag==1 || temps[0].flag==3){
    025CF 9020 0248 LDS	R2,temps
    025D1 9030 0249 LDS	R3,temps+1
    025D3 01C1      MOVW	R24,R2
    025D4 3081      CPI	R24,1
    025D5 E0E0      LDI	R30,0
    025D6 079E      CPC	R25,R30
    025D7 F029      BEQ	0x25DD
    025D8 3083      CPI	R24,3
    025D9 E0E0      LDI	R30,0
    025DA 079E      CPC	R25,R30
    025DB F009      BEQ	0x25DD
    025DC C0AF      RJMP	0x268C
(0029) 	    EEPROM_write(1,134,temps[0].status);
    025DD 9020 0352 LDS	R2,temps+266
    025DF 9030 0353 LDS	R3,temps+267
    025E1 8239      STD	Y+1,R3
    025E2 8228      ST	Y,R2
    025E3 E826      LDI	R18,0x86
    025E4 E030      LDI	R19,0
    025E5 E001      LDI	R16,1
    025E6 E010      LDI	R17,0
    025E7 940E 10F9 CALL	_EEPROM_write
(0030) 	    EEPROM_write(1,135,temps[0].needtime>>8);
    025E9 9020 0354 LDS	R2,temps+268
    025EB 9030 0355 LDS	R3,temps+269
    025ED 2C23      MOV	R2,R3
    025EE 2433      CLR	R3
    025EF 8239      STD	Y+1,R3
    025F0 8228      ST	Y,R2
    025F1 E827      LDI	R18,0x87
    025F2 E030      LDI	R19,0
    025F3 E001      LDI	R16,1
    025F4 E010      LDI	R17,0
    025F5 940E 10F9 CALL	_EEPROM_write
(0031) 		EEPROM_write(1,136,temps[0].needtime & 0xFF);
    025F7 9180 0354 LDS	R24,temps+268
    025F9 9190 0355 LDS	R25,temps+269
    025FB 7090      ANDI	R25,0
    025FC 8399      STD	Y+1,R25
    025FD 8388      ST	Y,R24
    025FE E828      LDI	R18,0x88
    025FF E030      LDI	R19,0
    02600 E001      LDI	R16,1
    02601 E010      LDI	R17,0
    02602 940E 10F9 CALL	_EEPROM_write
(0032) 		EEPROM_write(1,137,temps[0].nowtime>>8);
    02604 9020 0356 LDS	R2,temps+270
    02606 9030 0357 LDS	R3,temps+271
    02608 2C23      MOV	R2,R3
    02609 2433      CLR	R3
    0260A 8239      STD	Y+1,R3
    0260B 8228      ST	Y,R2
    0260C E829      LDI	R18,0x89
    0260D E030      LDI	R19,0
    0260E E001      LDI	R16,1
    0260F E010      LDI	R17,0
    02610 940E 10F9 CALL	_EEPROM_write
(0033) 		EEPROM_write(1,138,temps[0].nowtime & 0xFF);
    02612 9180 0356 LDS	R24,temps+270
    02614 9190 0357 LDS	R25,temps+271
    02616 7090      ANDI	R25,0
    02617 8399      STD	Y+1,R25
    02618 8388      ST	Y,R24
    02619 E82A      LDI	R18,0x8A
    0261A E030      LDI	R19,0
    0261B E001      LDI	R16,1
    0261C E010      LDI	R17,0
    0261D 940E 10F9 CALL	_EEPROM_write
(0034) 	    EEPROM_write(1,139,temps[0].pertime>>8);
    0261F 9020 0358 LDS	R2,temps+272
    02621 9030 0359 LDS	R3,temps+273
    02623 2C23      MOV	R2,R3
    02624 2433      CLR	R3
    02625 8239      STD	Y+1,R3
    02626 8228      ST	Y,R2
    02627 E82B      LDI	R18,0x8B
    02628 E030      LDI	R19,0
    02629 E001      LDI	R16,1
    0262A E010      LDI	R17,0
    0262B 940E 10F9 CALL	_EEPROM_write
(0035) 		EEPROM_write(1,140,temps[0].pertime & 0xff);
    0262D 9180 0358 LDS	R24,temps+272
    0262F 9190 0359 LDS	R25,temps+273
    02631 7090      ANDI	R25,0
    02632 8399      STD	Y+1,R25
    02633 8388      ST	Y,R24
    02634 E82C      LDI	R18,0x8C
    02635 E030      LDI	R19,0
    02636 E001      LDI	R16,1
    02637 E010      LDI	R17,0
    02638 940E 10F9 CALL	_EEPROM_write
(0036) 		
(0037) 	    EEPROM_write(1,141,temps[0].statusflag);
    0263A 9020 035C LDS	R2,temps+276
    0263C 9030 035D LDS	R3,temps+277
    0263E 8239      STD	Y+1,R3
    0263F 8228      ST	Y,R2
    02640 E82D      LDI	R18,0x8D
    02641 E030      LDI	R19,0
    02642 E001      LDI	R16,1
    02643 E010      LDI	R17,0
    02644 940E 10F9 CALL	_EEPROM_write
(0038) 	    EEPROM_write(1,142,temps[0].p_settemp>>8 );
    02646 9020 035E LDS	R2,temps+278
    02648 9030 035F LDS	R3,temps+279
    0264A 2C23      MOV	R2,R3
    0264B 2433      CLR	R3
    0264C 8239      STD	Y+1,R3
    0264D 8228      ST	Y,R2
    0264E E82E      LDI	R18,0x8E
    0264F E030      LDI	R19,0
    02650 E001      LDI	R16,1
    02651 E010      LDI	R17,0
    02652 940E 10F9 CALL	_EEPROM_write
(0039) 		EEPROM_write(1,143,temps[0].p_settemp&0xff);
    02654 9180 035E LDS	R24,temps+278
    02656 9190 035F LDS	R25,temps+279
    02658 7090      ANDI	R25,0
    02659 8399      STD	Y+1,R25
    0265A 8388      ST	Y,R24
    0265B E82F      LDI	R18,0x8F
    0265C E030      LDI	R19,0
    0265D E001      LDI	R16,1
    0265E E010      LDI	R17,0
    0265F 940E 10F9 CALL	_EEPROM_write
(0040) 		EEPROM_write(1,144,((int)temps[0].settemp)>>8);
    02661 9120 036A LDS	R18,temps+290
    02663 9130 036B LDS	R19,temps+291
    02665 9100 0368 LDS	R16,temps+288
    02667 9110 0369 LDS	R17,temps+289
    02669 940E 3B34 CALL	fpint
    0266B 0118      MOVW	R2,R16
    0266C 2C23      MOV	R2,R3
    0266D 2433      CLR	R3
    0266E FC27      SBRC	R2,7
    0266F 9430      COM	R3
    02670 8239      STD	Y+1,R3
    02671 8228      ST	Y,R2
    02672 E920      LDI	R18,0x90
    02673 E030      LDI	R19,0
    02674 E001      LDI	R16,1
    02675 E010      LDI	R17,0
    02676 940E 10F9 CALL	_EEPROM_write
(0041) 	    EEPROM_write(1,145,((int)temps[0].settemp)&0xff);
    02678 9120 036A LDS	R18,temps+290
    0267A 9130 036B LDS	R19,temps+291
    0267C 9100 0368 LDS	R16,temps+288
    0267E 9110 0369 LDS	R17,temps+289
    02680 940E 3B34 CALL	fpint
    02682 01C8      MOVW	R24,R16
    02683 7090      ANDI	R25,0
    02684 8399      STD	Y+1,R25
    02685 8388      ST	Y,R24
    02686 E921      LDI	R18,0x91
    02687 E030      LDI	R19,0
    02688 E001      LDI	R16,1
    02689 E010      LDI	R17,0
    0268A 940E 10F9 CALL	_EEPROM_write
(0042) 	 }
(0043) 	 EEPROM_write(2,133,temps[1].flag);
    0268C 9020 038C LDS	R2,temps+324
    0268E 9030 038D LDS	R3,temps+325
    02690 8239      STD	Y+1,R3
    02691 8228      ST	Y,R2
    02692 E825      LDI	R18,0x85
    02693 E030      LDI	R19,0
    02694 E002      LDI	R16,2
    02695 E010      LDI	R17,0
    02696 940E 10F9 CALL	_EEPROM_write
(0044) 	  if(temps[1].flag==1 || temps[1].flag==3){
    02698 9180 038C LDS	R24,temps+324
    0269A 9190 038D LDS	R25,temps+325
    0269C 3081      CPI	R24,1
    0269D E0E0      LDI	R30,0
    0269E 079E      CPC	R25,R30
    0269F F029      BEQ	0x26A5
    026A0 3083      CPI	R24,3
    026A1 E0E0      LDI	R30,0
    026A2 079E      CPC	R25,R30
    026A3 F009      BEQ	0x26A5
    026A4 C0AF      RJMP	0x2754
(0045) 	    EEPROM_write(2,134,temps[1].status);
    026A5 9020 0496 LDS	R2,temps+590
    026A7 9030 0497 LDS	R3,temps+591
    026A9 8239      STD	Y+1,R3
    026AA 8228      ST	Y,R2
    026AB E826      LDI	R18,0x86
    026AC E030      LDI	R19,0
    026AD E002      LDI	R16,2
    026AE E010      LDI	R17,0
    026AF 940E 10F9 CALL	_EEPROM_write
(0046) 	    EEPROM_write(2,135,temps[1].needtime>>8);
    026B1 9020 0498 LDS	R2,temps+592
    026B3 9030 0499 LDS	R3,temps+593
    026B5 2C23      MOV	R2,R3
    026B6 2433      CLR	R3
    026B7 8239      STD	Y+1,R3
    026B8 8228      ST	Y,R2
    026B9 E827      LDI	R18,0x87
    026BA E030      LDI	R19,0
    026BB E002      LDI	R16,2
    026BC E010      LDI	R17,0
    026BD 940E 10F9 CALL	_EEPROM_write
(0047) 		EEPROM_write(2,136,temps[1].needtime & 0xFF);
    026BF 9180 0498 LDS	R24,temps+592
    026C1 9190 0499 LDS	R25,temps+593
    026C3 7090      ANDI	R25,0
    026C4 8399      STD	Y+1,R25
    026C5 8388      ST	Y,R24
    026C6 E828      LDI	R18,0x88
    026C7 E030      LDI	R19,0
    026C8 E002      LDI	R16,2
    026C9 E010      LDI	R17,0
    026CA 940E 10F9 CALL	_EEPROM_write
(0048) 		EEPROM_write(2,137,temps[1].nowtime>>8);
    026CC 9020 049A LDS	R2,temps+594
    026CE 9030 049B LDS	R3,temps+595
    026D0 2C23      MOV	R2,R3
    026D1 2433      CLR	R3
    026D2 8239      STD	Y+1,R3
    026D3 8228      ST	Y,R2
    026D4 E829      LDI	R18,0x89
    026D5 E030      LDI	R19,0
    026D6 E002      LDI	R16,2
    026D7 E010      LDI	R17,0
    026D8 940E 10F9 CALL	_EEPROM_write
(0049) 		EEPROM_write(2,138,temps[1].nowtime & 0xFF);
    026DA 9180 049A LDS	R24,temps+594
    026DC 9190 049B LDS	R25,temps+595
    026DE 7090      ANDI	R25,0
    026DF 8399      STD	Y+1,R25
    026E0 8388      ST	Y,R24
    026E1 E82A      LDI	R18,0x8A
    026E2 E030      LDI	R19,0
    026E3 E002      LDI	R16,2
    026E4 E010      LDI	R17,0
    026E5 940E 10F9 CALL	_EEPROM_write
(0050) 	    EEPROM_write(2,139,temps[1].pertime>>8);
    026E7 9020 049C LDS	R2,temps+596
    026E9 9030 049D LDS	R3,temps+597
    026EB 2C23      MOV	R2,R3
    026EC 2433      CLR	R3
    026ED 8239      STD	Y+1,R3
    026EE 8228      ST	Y,R2
    026EF E82B      LDI	R18,0x8B
    026F0 E030      LDI	R19,0
    026F1 E002      LDI	R16,2
    026F2 E010      LDI	R17,0
    026F3 940E 10F9 CALL	_EEPROM_write
(0051) 		EEPROM_write(2,140,temps[1].pertime & 0xff);
    026F5 9180 049C LDS	R24,temps+596
    026F7 9190 049D LDS	R25,temps+597
    026F9 7090      ANDI	R25,0
    026FA 8399      STD	Y+1,R25
    026FB 8388      ST	Y,R24
    026FC E82C      LDI	R18,0x8C
    026FD E030      LDI	R19,0
    026FE E002      LDI	R16,2
    026FF E010      LDI	R17,0
    02700 940E 10F9 CALL	_EEPROM_write
(0052) 		
(0053) 	    EEPROM_write(2,141,temps[1].statusflag);
    02702 9020 04A0 LDS	R2,temps+600
    02704 9030 04A1 LDS	R3,temps+601
    02706 8239      STD	Y+1,R3
    02707 8228      ST	Y,R2
    02708 E82D      LDI	R18,0x8D
    02709 E030      LDI	R19,0
    0270A E002      LDI	R16,2
    0270B E010      LDI	R17,0
    0270C 940E 10F9 CALL	_EEPROM_write
(0054) 	   EEPROM_write(2,142,temps[1].p_settemp>>8 );
    0270E 9020 04A2 LDS	R2,temps+602
    02710 9030 04A3 LDS	R3,temps+603
    02712 2C23      MOV	R2,R3
    02713 2433      CLR	R3
    02714 8239      STD	Y+1,R3
    02715 8228      ST	Y,R2
    02716 E82E      LDI	R18,0x8E
    02717 E030      LDI	R19,0
    02718 E002      LDI	R16,2
    02719 E010      LDI	R17,0
    0271A 940E 10F9 CALL	_EEPROM_write
(0055) 		EEPROM_write(2,143,temps[1].p_settemp&0xff);
    0271C 9180 04A2 LDS	R24,temps+602
    0271E 9190 04A3 LDS	R25,temps+603
    02720 7090      ANDI	R25,0
    02721 8399      STD	Y+1,R25
    02722 8388      ST	Y,R24
    02723 E82F      LDI	R18,0x8F
    02724 E030      LDI	R19,0
    02725 E002      LDI	R16,2
    02726 E010      LDI	R17,0
    02727 940E 10F9 CALL	_EEPROM_write
(0056) 		EEPROM_write(2,144,((int)temps[1].settemp)>>8);
    02729 9120 04AE LDS	R18,temps+614
    0272B 9130 04AF LDS	R19,temps+615
    0272D 9100 04AC LDS	R16,temps+612
    0272F 9110 04AD LDS	R17,temps+613
    02731 940E 3B34 CALL	fpint
    02733 0118      MOVW	R2,R16
    02734 2C23      MOV	R2,R3
    02735 2433      CLR	R3
    02736 FC27      SBRC	R2,7
    02737 9430      COM	R3
    02738 8239      STD	Y+1,R3
    02739 8228      ST	Y,R2
    0273A E920      LDI	R18,0x90
    0273B E030      LDI	R19,0
    0273C E002      LDI	R16,2
    0273D E010      LDI	R17,0
    0273E 940E 10F9 CALL	_EEPROM_write
(0057) 	    EEPROM_write(2,145,((int)temps[1].settemp)&0xff);
    02740 9120 04AE LDS	R18,temps+614
    02742 9130 04AF LDS	R19,temps+615
    02744 9100 04AC LDS	R16,temps+612
    02746 9110 04AD LDS	R17,temps+613
    02748 940E 3B34 CALL	fpint
    0274A 01C8      MOVW	R24,R16
    0274B 7090      ANDI	R25,0
    0274C 8399      STD	Y+1,R25
    0274D 8388      ST	Y,R24
    0274E E921      LDI	R18,0x91
    0274F E030      LDI	R19,0
    02750 E002      LDI	R16,2
    02751 E010      LDI	R17,0
    02752 940E 10F9 CALL	_EEPROM_write
(0058) 	 }
(0059) 	 EEPROM_write(3,133,temps[2].flag);
    02754 9020 04D0 LDS	R2,temps+648
    02756 9030 04D1 LDS	R3,temps+649
    02758 8239      STD	Y+1,R3
    02759 8228      ST	Y,R2
    0275A E825      LDI	R18,0x85
    0275B E030      LDI	R19,0
    0275C E003      LDI	R16,3
    0275D E010      LDI	R17,0
    0275E 940E 10F9 CALL	_EEPROM_write
(0060) 	  if(temps[2].flag==1 || temps[2].flag==3){
    02760 9180 04D0 LDS	R24,temps+648
    02762 9190 04D1 LDS	R25,temps+649
    02764 3081      CPI	R24,1
    02765 E0E0      LDI	R30,0
    02766 079E      CPC	R25,R30
    02767 F029      BEQ	0x276D
    02768 3083      CPI	R24,3
    02769 E0E0      LDI	R30,0
    0276A 079E      CPC	R25,R30
    0276B F009      BEQ	0x276D
    0276C C0AF      RJMP	0x281C
(0061) 	    EEPROM_write(3,134,temps[2].status);
    0276D 9020 05DA LDS	R2,temps+914
    0276F 9030 05DB LDS	R3,temps+915
    02771 8239      STD	Y+1,R3
    02772 8228      ST	Y,R2
    02773 E826      LDI	R18,0x86
    02774 E030      LDI	R19,0
    02775 E003      LDI	R16,3
    02776 E010      LDI	R17,0
    02777 940E 10F9 CALL	_EEPROM_write
(0062) 	    EEPROM_write(3,135,temps[2].needtime>>8);
    02779 9020 05DC LDS	R2,temps+916
    0277B 9030 05DD LDS	R3,temps+917
    0277D 2C23      MOV	R2,R3
    0277E 2433      CLR	R3
    0277F 8239      STD	Y+1,R3
    02780 8228      ST	Y,R2
    02781 E827      LDI	R18,0x87
    02782 E030      LDI	R19,0
    02783 E003      LDI	R16,3
    02784 E010      LDI	R17,0
    02785 940E 10F9 CALL	_EEPROM_write
(0063) 		EEPROM_write(3,136,temps[2].needtime & 0xFF);
    02787 9180 05DC LDS	R24,temps+916
    02789 9190 05DD LDS	R25,temps+917
    0278B 7090      ANDI	R25,0
    0278C 8399      STD	Y+1,R25
    0278D 8388      ST	Y,R24
    0278E E828      LDI	R18,0x88
    0278F E030      LDI	R19,0
    02790 E003      LDI	R16,3
    02791 E010      LDI	R17,0
    02792 940E 10F9 CALL	_EEPROM_write
(0064) 		EEPROM_write(3,137,temps[2].nowtime>>8);
    02794 9020 05DE LDS	R2,temps+918
    02796 9030 05DF LDS	R3,temps+919
    02798 2C23      MOV	R2,R3
    02799 2433      CLR	R3
    0279A 8239      STD	Y+1,R3
    0279B 8228      ST	Y,R2
    0279C E829      LDI	R18,0x89
    0279D E030      LDI	R19,0
    0279E E003      LDI	R16,3
    0279F E010      LDI	R17,0
    027A0 940E 10F9 CALL	_EEPROM_write
(0065) 		EEPROM_write(3,138,temps[2].nowtime & 0xFF);
    027A2 9180 05DE LDS	R24,temps+918
    027A4 9190 05DF LDS	R25,temps+919
    027A6 7090      ANDI	R25,0
    027A7 8399      STD	Y+1,R25
    027A8 8388      ST	Y,R24
    027A9 E82A      LDI	R18,0x8A
    027AA E030      LDI	R19,0
    027AB E003      LDI	R16,3
    027AC E010      LDI	R17,0
    027AD 940E 10F9 CALL	_EEPROM_write
(0066) 	    EEPROM_write(3,139,temps[2].pertime>>8);
    027AF 9020 05E0 LDS	R2,temps+920
    027B1 9030 05E1 LDS	R3,temps+921
    027B3 2C23      MOV	R2,R3
    027B4 2433      CLR	R3
    027B5 8239      STD	Y+1,R3
    027B6 8228      ST	Y,R2
    027B7 E82B      LDI	R18,0x8B
    027B8 E030      LDI	R19,0
    027B9 E003      LDI	R16,3
    027BA E010      LDI	R17,0
    027BB 940E 10F9 CALL	_EEPROM_write
(0067) 		EEPROM_write(3,140,temps[2].pertime & 0xff);
    027BD 9180 05E0 LDS	R24,temps+920
    027BF 9190 05E1 LDS	R25,temps+921
    027C1 7090      ANDI	R25,0
    027C2 8399      STD	Y+1,R25
    027C3 8388      ST	Y,R24
    027C4 E82C      LDI	R18,0x8C
    027C5 E030      LDI	R19,0
    027C6 E003      LDI	R16,3
    027C7 E010      LDI	R17,0
    027C8 940E 10F9 CALL	_EEPROM_write
(0068) 	    EEPROM_write(3,141,temps[2].statusflag);
    027CA 9020 05E4 LDS	R2,temps+924
    027CC 9030 05E5 LDS	R3,temps+925
    027CE 8239      STD	Y+1,R3
    027CF 8228      ST	Y,R2
    027D0 E82D      LDI	R18,0x8D
    027D1 E030      LDI	R19,0
    027D2 E003      LDI	R16,3
    027D3 E010      LDI	R17,0
    027D4 940E 10F9 CALL	_EEPROM_write
(0069) 	    EEPROM_write(3,142,temps[2].p_settemp>>8 );
    027D6 9020 05E6 LDS	R2,temps+926
    027D8 9030 05E7 LDS	R3,temps+927
    027DA 2C23      MOV	R2,R3
    027DB 2433      CLR	R3
    027DC 8239      STD	Y+1,R3
    027DD 8228      ST	Y,R2
    027DE E82E      LDI	R18,0x8E
    027DF E030      LDI	R19,0
    027E0 E003      LDI	R16,3
    027E1 E010      LDI	R17,0
    027E2 940E 10F9 CALL	_EEPROM_write
(0070) 		EEPROM_write(3,143,temps[2].p_settemp&0xff);
    027E4 9180 05E6 LDS	R24,temps+926
    027E6 9190 05E7 LDS	R25,temps+927
    027E8 7090      ANDI	R25,0
    027E9 8399      STD	Y+1,R25
    027EA 8388      ST	Y,R24
    027EB E82F      LDI	R18,0x8F
    027EC E030      LDI	R19,0
    027ED E003      LDI	R16,3
    027EE E010      LDI	R17,0
    027EF 940E 10F9 CALL	_EEPROM_write
(0071) 		EEPROM_write(3,144,((int)temps[2].settemp)>>8);
    027F1 9120 05F2 LDS	R18,temps+938
    027F3 9130 05F3 LDS	R19,temps+939
    027F5 9100 05F0 LDS	R16,temps+936
    027F7 9110 05F1 LDS	R17,temps+937
    027F9 940E 3B34 CALL	fpint
    027FB 0118      MOVW	R2,R16
    027FC 2C23      MOV	R2,R3
    027FD 2433      CLR	R3
    027FE FC27      SBRC	R2,7
    027FF 9430      COM	R3
    02800 8239      STD	Y+1,R3
    02801 8228      ST	Y,R2
    02802 E920      LDI	R18,0x90
    02803 E030      LDI	R19,0
    02804 E003      LDI	R16,3
    02805 E010      LDI	R17,0
    02806 940E 10F9 CALL	_EEPROM_write
(0072) 	    EEPROM_write(3,145,((int)temps[2].settemp)&0xff);
    02808 9120 05F2 LDS	R18,temps+938
    0280A 9130 05F3 LDS	R19,temps+939
    0280C 9100 05F0 LDS	R16,temps+936
    0280E 9110 05F1 LDS	R17,temps+937
    02810 940E 3B34 CALL	fpint
    02812 01C8      MOVW	R24,R16
    02813 7090      ANDI	R25,0
    02814 8399      STD	Y+1,R25
    02815 8388      ST	Y,R24
    02816 E921      LDI	R18,0x91
    02817 E030      LDI	R19,0
    02818 E003      LDI	R16,3
    02819 E010      LDI	R17,0
    0281A 940E 10F9 CALL	_EEPROM_write
(0073) 	 }
(0074) 	 EEPROM_write(4,133,temps[3].flag);
    0281C 9020 0614 LDS	R2,temps+972
    0281E 9030 0615 LDS	R3,temps+973
    02820 8239      STD	Y+1,R3
    02821 8228      ST	Y,R2
    02822 E825      LDI	R18,0x85
    02823 E030      LDI	R19,0
    02824 E004      LDI	R16,4
    02825 E010      LDI	R17,0
    02826 940E 10F9 CALL	_EEPROM_write
(0075) 	  if(temps[3].flag==1 || temps[3].flag==3){
    02828 9180 0614 LDS	R24,temps+972
    0282A 9190 0615 LDS	R25,temps+973
    0282C 3081      CPI	R24,1
    0282D E0E0      LDI	R30,0
    0282E 079E      CPC	R25,R30
    0282F F029      BEQ	0x2835
    02830 3083      CPI	R24,3
    02831 E0E0      LDI	R30,0
    02832 079E      CPC	R25,R30
    02833 F009      BEQ	0x2835
    02834 C0AF      RJMP	0x28E4
(0076) 	    EEPROM_write(4,134,temps[3].status);
    02835 9020 071E LDS	R2,temps+1238
    02837 9030 071F LDS	R3,temps+1239
    02839 8239      STD	Y+1,R3
    0283A 8228      ST	Y,R2
    0283B E826      LDI	R18,0x86
    0283C E030      LDI	R19,0
    0283D E004      LDI	R16,4
    0283E E010      LDI	R17,0
    0283F 940E 10F9 CALL	_EEPROM_write
(0077) 	    EEPROM_write(4,135,temps[3].needtime>>8);
    02841 9020 0720 LDS	R2,temps+1240
    02843 9030 0721 LDS	R3,temps+1241
    02845 2C23      MOV	R2,R3
    02846 2433      CLR	R3
    02847 8239      STD	Y+1,R3
    02848 8228      ST	Y,R2
    02849 E827      LDI	R18,0x87
    0284A E030      LDI	R19,0
    0284B E004      LDI	R16,4
    0284C E010      LDI	R17,0
    0284D 940E 10F9 CALL	_EEPROM_write
(0078) 		EEPROM_write(4,136,temps[3].needtime & 0xFF);
    0284F 9180 0720 LDS	R24,temps+1240
    02851 9190 0721 LDS	R25,temps+1241
    02853 7090      ANDI	R25,0
    02854 8399      STD	Y+1,R25
    02855 8388      ST	Y,R24
    02856 E828      LDI	R18,0x88
    02857 E030      LDI	R19,0
    02858 E004      LDI	R16,4
    02859 E010      LDI	R17,0
    0285A 940E 10F9 CALL	_EEPROM_write
(0079) 		EEPROM_write(4,137,temps[3].nowtime>>8);
    0285C 9020 0722 LDS	R2,temps+1242
    0285E 9030 0723 LDS	R3,temps+1243
    02860 2C23      MOV	R2,R3
    02861 2433      CLR	R3
    02862 8239      STD	Y+1,R3
    02863 8228      ST	Y,R2
    02864 E829      LDI	R18,0x89
    02865 E030      LDI	R19,0
    02866 E004      LDI	R16,4
    02867 E010      LDI	R17,0
    02868 940E 10F9 CALL	_EEPROM_write
(0080) 		EEPROM_write(4,138,temps[3].nowtime & 0xFF);
    0286A 9180 0722 LDS	R24,temps+1242
    0286C 9190 0723 LDS	R25,temps+1243
    0286E 7090      ANDI	R25,0
    0286F 8399      STD	Y+1,R25
    02870 8388      ST	Y,R24
    02871 E82A      LDI	R18,0x8A
    02872 E030      LDI	R19,0
    02873 E004      LDI	R16,4
    02874 E010      LDI	R17,0
    02875 940E 10F9 CALL	_EEPROM_write
(0081) 	    EEPROM_write(4,139,temps[3].pertime>>8);
    02877 9020 0724 LDS	R2,temps+1244
    02879 9030 0725 LDS	R3,temps+1245
    0287B 2C23      MOV	R2,R3
    0287C 2433      CLR	R3
    0287D 8239      STD	Y+1,R3
    0287E 8228      ST	Y,R2
    0287F E82B      LDI	R18,0x8B
    02880 E030      LDI	R19,0
    02881 E004      LDI	R16,4
    02882 E010      LDI	R17,0
    02883 940E 10F9 CALL	_EEPROM_write
(0082) 		EEPROM_write(4,140,temps[3].pertime & 0xff);
    02885 9180 0724 LDS	R24,temps+1244
    02887 9190 0725 LDS	R25,temps+1245
    02889 7090      ANDI	R25,0
    0288A 8399      STD	Y+1,R25
    0288B 8388      ST	Y,R24
    0288C E82C      LDI	R18,0x8C
    0288D E030      LDI	R19,0
    0288E E004      LDI	R16,4
    0288F E010      LDI	R17,0
    02890 940E 10F9 CALL	_EEPROM_write
(0083) 	    EEPROM_write(4,141,temps[3].statusflag);
    02892 9020 0728 LDS	R2,temps+1248
    02894 9030 0729 LDS	R3,temps+1249
    02896 8239      STD	Y+1,R3
    02897 8228      ST	Y,R2
    02898 E82D      LDI	R18,0x8D
    02899 E030      LDI	R19,0
    0289A E004      LDI	R16,4
    0289B E010      LDI	R17,0
    0289C 940E 10F9 CALL	_EEPROM_write
(0084) 	    EEPROM_write(4,142,temps[3].p_settemp>>8 );
    0289E 9020 072A LDS	R2,temps+1250
    028A0 9030 072B LDS	R3,temps+1251
    028A2 2C23      MOV	R2,R3
    028A3 2433      CLR	R3
    028A4 8239      STD	Y+1,R3
    028A5 8228      ST	Y,R2
    028A6 E82E      LDI	R18,0x8E
    028A7 E030      LDI	R19,0
    028A8 E004      LDI	R16,4
    028A9 E010      LDI	R17,0
    028AA 940E 10F9 CALL	_EEPROM_write
(0085) 		EEPROM_write(4,143,temps[3].p_settemp&0xff);
    028AC 9180 072A LDS	R24,temps+1250
    028AE 9190 072B LDS	R25,temps+1251
    028B0 7090      ANDI	R25,0
    028B1 8399      STD	Y+1,R25
    028B2 8388      ST	Y,R24
    028B3 E82F      LDI	R18,0x8F
    028B4 E030      LDI	R19,0
    028B5 E004      LDI	R16,4
    028B6 E010      LDI	R17,0
    028B7 940E 10F9 CALL	_EEPROM_write
(0086) 		EEPROM_write(4,144,((int)temps[3].settemp)>>8);
    028B9 9120 0736 LDS	R18,temps+1262
    028BB 9130 0737 LDS	R19,temps+1263
    028BD 9100 0734 LDS	R16,temps+1260
    028BF 9110 0735 LDS	R17,temps+1261
    028C1 940E 3B34 CALL	fpint
    028C3 0118      MOVW	R2,R16
    028C4 2C23      MOV	R2,R3
    028C5 2433      CLR	R3
    028C6 FC27      SBRC	R2,7
    028C7 9430      COM	R3
    028C8 8239      STD	Y+1,R3
    028C9 8228      ST	Y,R2
    028CA E920      LDI	R18,0x90
    028CB E030      LDI	R19,0
    028CC E004      LDI	R16,4
    028CD E010      LDI	R17,0
    028CE 940E 10F9 CALL	_EEPROM_write
(0087) 	    EEPROM_write(4,145,((int)temps[3].settemp)&0xff);
    028D0 9120 0736 LDS	R18,temps+1262
    028D2 9130 0737 LDS	R19,temps+1263
    028D4 9100 0734 LDS	R16,temps+1260
    028D6 9110 0735 LDS	R17,temps+1261
    028D8 940E 3B34 CALL	fpint
    028DA 01C8      MOVW	R24,R16
    028DB 7090      ANDI	R25,0
    028DC 8399      STD	Y+1,R25
    028DD 8388      ST	Y,R24
    028DE E921      LDI	R18,0x91
    028DF E030      LDI	R19,0
    028E0 E004      LDI	R16,4
    028E1 E010      LDI	R17,0
    028E2 940E 10F9 CALL	_EEPROM_write
(0088) 	 }
(0089) 	 
(0090)   }
(0091)   //第一个
(0092)   if(temps[0].flag==1){//运行中
    028E4 9180 0248 LDS	R24,temps
    028E6 9190 0249 LDS	R25,temps+1
    028E8 3081      CPI	R24,1
    028E9 E0E0      LDI	R30,0
    028EA 079E      CPC	R25,R30
    028EB F009      BEQ	0x28ED
    028EC C173      RJMP	0x2A60
(0093)      cache=temps[0].status;//暂存当前状态
    028ED 9140 0352 LDS	R20,temps+266
    028EF 9150 0353 LDS	R21,temps+267
(0094)      if(temps[0].statusflag==0){//不是第一次进入当前状态
    028F1 9020 035C LDS	R2,temps+276
    028F3 9030 035D LDS	R3,temps+277
    028F5 2022      TST	R2
    028F6 F009      BEQ	0x28F8
    028F7 C044      RJMP	0x293C
    028F8 2033      TST	R3
    028F9 F009      BEQ	0x28FB
    028FA C041      RJMP	0x293C
(0095) 	     temps[0].nowtime++;//当前阶段运行时间
    028FB 9180 0356 LDS	R24,temps+270
    028FD 9190 0357 LDS	R25,temps+271
    028FF 9601      ADIW	R24,1
    02900 9390 0357 STS	temps+271,R25
    02902 9380 0356 STS	temps+270,R24
(0096) 		if(temps[0].nowtime>=temps[0].needtime){//当前阶段运行结束进入下一阶段
    02904 9020 0354 LDS	R2,temps+268
    02906 9030 0355 LDS	R3,temps+269
    02908 1582      CP	R24,R2
    02909 0593      CPC	R25,R3
    0290A F068      BCS	0x2918
(0097) 		    temps[0].status++;
    0290B 01CA      MOVW	R24,R20
    0290C 9601      ADIW	R24,1
    0290D 9390 0353 STS	temps+267,R25
    0290F 9380 0352 STS	temps+266,R24
(0098) 		    temps[0].statusflag=1;
    02911 E081      LDI	R24,1
    02912 E090      LDI	R25,0
    02913 9390 035D STS	temps+277,R25
    02915 9380 035C STS	temps+276,R24
(0099) 			//PORTE=0xFF;
(0100) 		}else{//还在当前阶段
    02917 C148      RJMP	0x2A60
(0101) 		     if(cache & 0x01){//恒温阶段,
    02918 FF40      SBRS	R20,0
    02919 C001      RJMP	0x291B
(0102) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0103) 		      }else{ //升温阶段
    0291A C145      RJMP	0x2A60
(0104) 		            temps[0].pertimecnt++;
    0291B 9180 035A LDS	R24,temps+274
    0291D 9190 035B LDS	R25,temps+275
    0291F 9601      ADIW	R24,1
    02920 9390 035B STS	temps+275,R25
    02922 9380 035A STS	temps+274,R24
(0105) 		            if(temps[0].pertimecnt>temps[0].pertime){
    02924 9020 0358 LDS	R2,temps+272
    02926 9030 0359 LDS	R3,temps+273
    02928 1628      CP	R2,R24
    02929 0639      CPC	R3,R25
    0292A F008      BCS	0x292C
    0292B C134      RJMP	0x2A60
(0106) 		                    temps[0].p_settemp++;//1C需要时间到达，增加温度。
    0292C 9180 035E LDS	R24,temps+278
    0292E 9190 035F LDS	R25,temps+279
    02930 9601      ADIW	R24,1
    02931 9390 035F STS	temps+279,R25
    02933 9380 035E STS	temps+278,R24
(0107) 			                temps[0].pertimecnt=0;
    02935 2422      CLR	R2
    02936 2433      CLR	R3
    02937 9230 035B STS	temps+275,R3
    02939 9220 035A STS	temps+274,R2
(0108) 		              } 
(0109) 			  }
(0110) 		 }
(0111) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    0293B C124      RJMP	0x2A60
(0112) 	        temps[0].statusflag=0;
    0293C 2422      CLR	R2
    0293D 2433      CLR	R3
    0293E 9230 035D STS	temps+277,R3
    02940 9220 035C STS	temps+276,R2
(0113) 		    temps[0].nowtime=0;
    02942 9230 0357 STS	temps+271,R3
    02944 9220 0356 STS	temps+270,R2
(0114) 	       if(cache & 0x01){//升温阶段
    02946 FF40      SBRS	R20,0
    02947 C0BD      RJMP	0x2A05
(0115) 		      cache=((cache-1)>>1)*11;
    02948 019A      MOVW	R18,R20
    02949 5021      SUBI	R18,1
    0294A 4030      SBCI	R19,0
    0294B 9536      LSR	R19
    0294C 9527      ROR	R18
    0294D E00B      LDI	R16,0xB
    0294E E010      LDI	R17,0
    0294F 940E 39E7 CALL	empy16s
    02951 01A8      MOVW	R20,R16
(0116) 		      temps[0].needtime=(temps[0].temp_data[cache]*10+temps[0].temp_data[cache+1])*3600+(temps[0].temp_data[cache+2]*10+temps[0].temp_data[cache+3])*60;
    02952 E48A      LDI	R24,0x4A
    02953 E092      LDI	R25,2
    02954 01FA      MOVW	R30,R20
    02955 9632      ADIW	R30,2
    02956 0FEE      LSL	R30
    02957 1FFF      ROL	R31
    02958 0FE8      ADD	R30,R24
    02959 1FF9      ADC	R31,R25
    0295A 8120      LD	R18,Z
    0295B 8131      LDD	R19,Z+1
    0295C E00A      LDI	R16,0xA
    0295D E010      LDI	R17,0
    0295E 940E 39E7 CALL	empy16s
    02960 0198      MOVW	R18,R16
    02961 E48A      LDI	R24,0x4A
    02962 E092      LDI	R25,2
    02963 01FA      MOVW	R30,R20
    02964 9633      ADIW	R30,3
    02965 0FEE      LSL	R30
    02966 1FFF      ROL	R31
    02967 0FE8      ADD	R30,R24
    02968 1FF9      ADC	R31,R25
    02969 8020      LD	R2,Z
    0296A 8031      LDD	R3,Z+1
    0296B 0D22      ADD	R18,R2
    0296C 1D33      ADC	R19,R3
    0296D E30C      LDI	R16,0x3C
    0296E E010      LDI	R17,0
    0296F 940E 39E7 CALL	empy16s
    02971 0118      MOVW	R2,R16
    02972 E48A      LDI	R24,0x4A
    02973 E092      LDI	R25,2
    02974 01FA      MOVW	R30,R20
    02975 0FEE      LSL	R30
    02976 1FFF      ROL	R31
    02977 0FE8      ADD	R30,R24
    02978 1FF9      ADC	R31,R25
    02979 8120      LD	R18,Z
    0297A 8131      LDD	R19,Z+1
    0297B E00A      LDI	R16,0xA
    0297C E010      LDI	R17,0
    0297D 940E 39E7 CALL	empy16s
    0297F 0198      MOVW	R18,R16
    02980 E48A      LDI	R24,0x4A
    02981 E092      LDI	R25,2
    02982 01FA      MOVW	R30,R20
    02983 9631      ADIW	R30,1
    02984 0FEE      LSL	R30
    02985 1FFF      ROL	R31
    02986 0FE8      ADD	R30,R24
    02987 1FF9      ADC	R31,R25
    02988 8040      LD	R4,Z
    02989 8051      LDD	R5,Z+1
    0298A 0D24      ADD	R18,R4
    0298B 1D35      ADC	R19,R5
    0298C E100      LDI	R16,0x10
    0298D E01E      LDI	R17,0xE
    0298E 940E 39E7 CALL	empy16s
    02990 0128      MOVW	R4,R16
    02991 0C42      ADD	R4,R2
    02992 1C53      ADC	R5,R3
    02993 9250 0355 STS	temps+269,R5
    02995 9240 0354 STS	temps+268,R4
(0117) 			  //temps[0].needtime=3;
(0118) 			  if(temps[0].needtime==0){
    02997 2044      TST	R4
    02998 F449      BNE	0x29A2
    02999 2055      TST	R5
    0299A F439      BNE	0x29A2
(0119) 			     //当前阶段时间为0，表示已经结束更改标记
(0120) 				  temps[0].flag=4;
    0299B E084      LDI	R24,4
    0299C E090      LDI	R25,0
    0299D 9390 0249 STS	temps+1,R25
    0299F 9380 0248 STS	temps,R24
(0121) 			  }else{
    029A1 C0BE      RJMP	0x2A60
(0122) 			     temps[0].p_settemp=temps[0].temp_data[cache+8]*100+temps[0].temp_data[cache+9]*10+temps[0].temp_data[cache+10];
    029A2 E48A      LDI	R24,0x4A
    029A3 E092      LDI	R25,2
    029A4 01FA      MOVW	R30,R20
    029A5 9639      ADIW	R30,0x9
    029A6 0FEE      LSL	R30
    029A7 1FFF      ROL	R31
    029A8 0FE8      ADD	R30,R24
    029A9 1FF9      ADC	R31,R25
    029AA 8120      LD	R18,Z
    029AB 8131      LDD	R19,Z+1
    029AC E00A      LDI	R16,0xA
    029AD E010      LDI	R17,0
    029AE 940E 39E7 CALL	empy16s
    029B0 0118      MOVW	R2,R16
    029B1 E48A      LDI	R24,0x4A
    029B2 E092      LDI	R25,2
    029B3 01FA      MOVW	R30,R20
    029B4 9638      ADIW	R30,0x8
    029B5 0FEE      LSL	R30
    029B6 1FFF      ROL	R31
    029B7 0FE8      ADD	R30,R24
    029B8 1FF9      ADC	R31,R25
    029B9 8120      LD	R18,Z
    029BA 8131      LDD	R19,Z+1
    029BB E604      LDI	R16,0x64
    029BC E010      LDI	R17,0
    029BD 940E 39E7 CALL	empy16s
    029BF 0128      MOVW	R4,R16
    029C0 0C42      ADD	R4,R2
    029C1 1C53      ADC	R5,R3
    029C2 E48A      LDI	R24,0x4A
    029C3 E092      LDI	R25,2
    029C4 01FA      MOVW	R30,R20
    029C5 963A      ADIW	R30,0xA
    029C6 0FEE      LSL	R30
    029C7 1FFF      ROL	R31
    029C8 0FE8      ADD	R30,R24
    029C9 1FF9      ADC	R31,R25
    029CA 8020      LD	R2,Z
    029CB 8031      LDD	R3,Z+1
    029CC 0C42      ADD	R4,R2
    029CD 1C53      ADC	R5,R3
    029CE 9250 035F STS	temps+279,R5
    029D0 9240 035E STS	temps+278,R4
(0123) 			     temps[0].pertime=temps[0].needtime/(temps[0].p_settemp-temps[0].actualtemp);
    029D2 9100 0354 LDS	R16,temps+268
    029D4 9110 0355 LDS	R17,temps+269
    029D6 940E 3B66 CALL	uint2fp
    029D8 0118      MOVW	R2,R16
    029D9 0129      MOVW	R4,R18
    029DA 9100 035E LDS	R16,temps+278
    029DC 9110 035F LDS	R17,temps+279
    029DE 940E 3B66 CALL	uint2fp
    029E0 E68C      LDI	R24,0x6C
    029E1 E093      LDI	R25,3
    029E2 939A      ST	-Y,R25
    029E3 938A      ST	-Y,R24
    029E4 940E 3B19 CALL	fpsub1x
    029E6 0181      MOVW	R16,R2
    029E7 0192      MOVW	R18,R4
    029E8 940E 3B93 CALL	fpdiv2
    029EA 940E 3B34 CALL	fpint
    029EC 9310 0359 STS	temps+273,R17
    029EE 9300 0358 STS	temps+272,R16
(0124) 			     temps[0].pertimecnt=0;
    029F0 2422      CLR	R2
    029F1 2433      CLR	R3
    029F2 9230 035B STS	temps+275,R3
    029F4 9220 035A STS	temps+274,R2
(0125) 				 temps[0].settemp=temps[0].p_settemp;//当接近恒温温度时候使用pid需要此温度
    029F6 9100 035E LDS	R16,temps+278
    029F8 9110 035F LDS	R17,temps+279
    029FA 940E 3B66 CALL	uint2fp
    029FC 9310 0369 STS	temps+289,R17
    029FE 9300 0368 STS	temps+288,R16
    02A00 9330 036B STS	temps+291,R19
    02A02 9320 036A STS	temps+290,R18
(0126) 			  }
(0127) 		     
(0128) 		    }else{//恒温阶段
    02A04 C05B      RJMP	0x2A60
(0129) 			   cache=((cache-1)>>1)*11+4;
    02A05 019A      MOVW	R18,R20
    02A06 5021      SUBI	R18,1
    02A07 4030      SBCI	R19,0
    02A08 9536      LSR	R19
    02A09 9527      ROR	R18
    02A0A E00B      LDI	R16,0xB
    02A0B E010      LDI	R17,0
    02A0C 940E 39E7 CALL	empy16s
    02A0E 01A8      MOVW	R20,R16
    02A0F 5F4C      SUBI	R20,0xFC
    02A10 4F5F      SBCI	R21,0xFF
(0130) 		      temps[0].needtime=(temps[0].temp_data[cache]*10+temps[0].temp_data[cache+1])*3600+(temps[0].temp_data[cache+2]*10+temps[0].temp_data[cache+3])*60;
    02A11 E48A      LDI	R24,0x4A
    02A12 E092      LDI	R25,2
    02A13 01FA      MOVW	R30,R20
    02A14 9632      ADIW	R30,2
    02A15 0FEE      LSL	R30
    02A16 1FFF      ROL	R31
    02A17 0FE8      ADD	R30,R24
    02A18 1FF9      ADC	R31,R25
    02A19 8120      LD	R18,Z
    02A1A 8131      LDD	R19,Z+1
    02A1B E00A      LDI	R16,0xA
    02A1C E010      LDI	R17,0
    02A1D 940E 39E7 CALL	empy16s
    02A1F 0198      MOVW	R18,R16
    02A20 E48A      LDI	R24,0x4A
    02A21 E092      LDI	R25,2
    02A22 01FA      MOVW	R30,R20
    02A23 9633      ADIW	R30,3
    02A24 0FEE      LSL	R30
    02A25 1FFF      ROL	R31
    02A26 0FE8      ADD	R30,R24
    02A27 1FF9      ADC	R31,R25
    02A28 8020      LD	R2,Z
    02A29 8031      LDD	R3,Z+1
    02A2A 0D22      ADD	R18,R2
    02A2B 1D33      ADC	R19,R3
    02A2C E30C      LDI	R16,0x3C
    02A2D E010      LDI	R17,0
    02A2E 940E 39E7 CALL	empy16s
    02A30 0118      MOVW	R2,R16
    02A31 E48A      LDI	R24,0x4A
    02A32 E092      LDI	R25,2
    02A33 01FA      MOVW	R30,R20
    02A34 0FEE      LSL	R30
    02A35 1FFF      ROL	R31
    02A36 0FE8      ADD	R30,R24
    02A37 1FF9      ADC	R31,R25
    02A38 8120      LD	R18,Z
    02A39 8131      LDD	R19,Z+1
    02A3A E00A      LDI	R16,0xA
    02A3B E010      LDI	R17,0
    02A3C 940E 39E7 CALL	empy16s
    02A3E 0198      MOVW	R18,R16
    02A3F E48A      LDI	R24,0x4A
    02A40 E092      LDI	R25,2
    02A41 01FA      MOVW	R30,R20
    02A42 9631      ADIW	R30,1
    02A43 0FEE      LSL	R30
    02A44 1FFF      ROL	R31
    02A45 0FE8      ADD	R30,R24
    02A46 1FF9      ADC	R31,R25
    02A47 8040      LD	R4,Z
    02A48 8051      LDD	R5,Z+1
    02A49 0D24      ADD	R18,R4
    02A4A 1D35      ADC	R19,R5
    02A4B E100      LDI	R16,0x10
    02A4C E01E      LDI	R17,0xE
    02A4D 940E 39E7 CALL	empy16s
    02A4F 0128      MOVW	R4,R16
    02A50 0C42      ADD	R4,R2
    02A51 1C53      ADC	R5,R3
    02A52 9250 0355 STS	temps+269,R5
    02A54 9240 0354 STS	temps+268,R4
(0131) 			  //temps[0].needtime=3;
(0132) 			  if(temps[0].needtime==0){
    02A56 2044      TST	R4
    02A57 F441      BNE	0x2A60
    02A58 2055      TST	R5
    02A59 F431      BNE	0x2A60
(0133) 			     //当前阶段时间为0，表示已经结束更改标记
(0134) 				  temps[0].flag=4;
    02A5A E084      LDI	R24,4
    02A5B E090      LDI	R25,0
    02A5C 9390 0249 STS	temps+1,R25
    02A5E 9380 0248 STS	temps,R24
(0135) 			  }
(0136) 			 // temps[0].settemp，在上一场升温时候赋值过
(0137) 			}
(0138) 	  }
(0139)   }
(0140)   //第二个
(0141)   if(temps[1].flag==1){//运行中
    02A60 9180 038C LDS	R24,temps+324
    02A62 9190 038D LDS	R25,temps+325
    02A64 3081      CPI	R24,1
    02A65 E0E0      LDI	R30,0
    02A66 079E      CPC	R25,R30
    02A67 F009      BEQ	0x2A69
    02A68 C173      RJMP	0x2BDC
(0142)      cache=temps[1].status;//暂存当前状态
    02A69 9140 0496 LDS	R20,temps+590
    02A6B 9150 0497 LDS	R21,temps+591
(0143)      if(temps[1].statusflag==0){//不是第一次进入当前状态
    02A6D 9020 04A0 LDS	R2,temps+600
    02A6F 9030 04A1 LDS	R3,temps+601
    02A71 2022      TST	R2
    02A72 F009      BEQ	0x2A74
    02A73 C044      RJMP	0x2AB8
    02A74 2033      TST	R3
    02A75 F009      BEQ	0x2A77
    02A76 C041      RJMP	0x2AB8
(0144) 	     temps[1].nowtime++;//当前阶段运行时间
    02A77 9180 049A LDS	R24,temps+594
    02A79 9190 049B LDS	R25,temps+595
    02A7B 9601      ADIW	R24,1
    02A7C 9390 049B STS	temps+595,R25
    02A7E 9380 049A STS	temps+594,R24
(0145) 		if(temps[1].nowtime>=temps[1].needtime){//当前阶段运行结束进入下一阶段
    02A80 9020 0498 LDS	R2,temps+592
    02A82 9030 0499 LDS	R3,temps+593
    02A84 1582      CP	R24,R2
    02A85 0593      CPC	R25,R3
    02A86 F068      BCS	0x2A94
(0146) 		    temps[1].status++;
    02A87 01CA      MOVW	R24,R20
    02A88 9601      ADIW	R24,1
    02A89 9390 0497 STS	temps+591,R25
    02A8B 9380 0496 STS	temps+590,R24
(0147) 		    temps[1].statusflag=1;
    02A8D E081      LDI	R24,1
    02A8E E090      LDI	R25,0
    02A8F 9390 04A1 STS	temps+601,R25
    02A91 9380 04A0 STS	temps+600,R24
(0148) 			//PORTE=0xFF;
(0149) 		}else{//还在当前阶段
    02A93 C148      RJMP	0x2BDC
(0150) 		     if(cache & 0x01){//恒温阶段,
    02A94 FF40      SBRS	R20,0
    02A95 C001      RJMP	0x2A97
(0151) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0152) 		      }else{ //升温阶段
    02A96 C145      RJMP	0x2BDC
(0153) 		            temps[1].pertimecnt++;
    02A97 9180 049E LDS	R24,temps+598
    02A99 9190 049F LDS	R25,temps+599
    02A9B 9601      ADIW	R24,1
    02A9C 9390 049F STS	temps+599,R25
    02A9E 9380 049E STS	temps+598,R24
(0154) 		            if(temps[1].pertimecnt>temps[1].pertime){
    02AA0 9020 049C LDS	R2,temps+596
    02AA2 9030 049D LDS	R3,temps+597
    02AA4 1628      CP	R2,R24
    02AA5 0639      CPC	R3,R25
    02AA6 F008      BCS	0x2AA8
    02AA7 C134      RJMP	0x2BDC
(0155) 		                    temps[1].p_settemp++;//1C需要时间到达，增加温度。
    02AA8 9180 04A2 LDS	R24,temps+602
    02AAA 9190 04A3 LDS	R25,temps+603
    02AAC 9601      ADIW	R24,1
    02AAD 9390 04A3 STS	temps+603,R25
    02AAF 9380 04A2 STS	temps+602,R24
(0156) 			                temps[1].pertimecnt=0;
    02AB1 2422      CLR	R2
    02AB2 2433      CLR	R3
    02AB3 9230 049F STS	temps+599,R3
    02AB5 9220 049E STS	temps+598,R2
(0157) 		              } 
(0158) 			  }
(0159) 		 }
(0160) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    02AB7 C124      RJMP	0x2BDC
(0161) 	        temps[1].statusflag=0;
    02AB8 2422      CLR	R2
    02AB9 2433      CLR	R3
    02ABA 9230 04A1 STS	temps+601,R3
    02ABC 9220 04A0 STS	temps+600,R2
(0162) 		    temps[1].nowtime=0;
    02ABE 9230 049B STS	temps+595,R3
    02AC0 9220 049A STS	temps+594,R2
(0163) 	       if(cache & 0x01){//升温阶段
    02AC2 FF40      SBRS	R20,0
    02AC3 C0BD      RJMP	0x2B81
(0164) 		      cache=((cache-1)>>1)*11;
    02AC4 019A      MOVW	R18,R20
    02AC5 5021      SUBI	R18,1
    02AC6 4030      SBCI	R19,0
    02AC7 9536      LSR	R19
    02AC8 9527      ROR	R18
    02AC9 E00B      LDI	R16,0xB
    02ACA E010      LDI	R17,0
    02ACB 940E 39E7 CALL	empy16s
    02ACD 01A8      MOVW	R20,R16
(0165) 		      temps[1].needtime=(temps[1].temp_data[cache]*10+temps[1].temp_data[cache+1])*3600+(temps[1].temp_data[cache+2]*10+temps[1].temp_data[cache+3])*60;
    02ACE E88E      LDI	R24,0x8E
    02ACF E093      LDI	R25,3
    02AD0 01FA      MOVW	R30,R20
    02AD1 9632      ADIW	R30,2
    02AD2 0FEE      LSL	R30
    02AD3 1FFF      ROL	R31
    02AD4 0FE8      ADD	R30,R24
    02AD5 1FF9      ADC	R31,R25
    02AD6 8120      LD	R18,Z
    02AD7 8131      LDD	R19,Z+1
    02AD8 E00A      LDI	R16,0xA
    02AD9 E010      LDI	R17,0
    02ADA 940E 39E7 CALL	empy16s
    02ADC 0198      MOVW	R18,R16
    02ADD E88E      LDI	R24,0x8E
    02ADE E093      LDI	R25,3
    02ADF 01FA      MOVW	R30,R20
    02AE0 9633      ADIW	R30,3
    02AE1 0FEE      LSL	R30
    02AE2 1FFF      ROL	R31
    02AE3 0FE8      ADD	R30,R24
    02AE4 1FF9      ADC	R31,R25
    02AE5 8020      LD	R2,Z
    02AE6 8031      LDD	R3,Z+1
    02AE7 0D22      ADD	R18,R2
    02AE8 1D33      ADC	R19,R3
    02AE9 E30C      LDI	R16,0x3C
    02AEA E010      LDI	R17,0
    02AEB 940E 39E7 CALL	empy16s
    02AED 0118      MOVW	R2,R16
    02AEE E88E      LDI	R24,0x8E
    02AEF E093      LDI	R25,3
    02AF0 01FA      MOVW	R30,R20
    02AF1 0FEE      LSL	R30
    02AF2 1FFF      ROL	R31
    02AF3 0FE8      ADD	R30,R24
    02AF4 1FF9      ADC	R31,R25
    02AF5 8120      LD	R18,Z
    02AF6 8131      LDD	R19,Z+1
    02AF7 E00A      LDI	R16,0xA
    02AF8 E010      LDI	R17,0
    02AF9 940E 39E7 CALL	empy16s
    02AFB 0198      MOVW	R18,R16
    02AFC E88E      LDI	R24,0x8E
    02AFD E093      LDI	R25,3
    02AFE 01FA      MOVW	R30,R20
    02AFF 9631      ADIW	R30,1
    02B00 0FEE      LSL	R30
    02B01 1FFF      ROL	R31
    02B02 0FE8      ADD	R30,R24
    02B03 1FF9      ADC	R31,R25
    02B04 8040      LD	R4,Z
    02B05 8051      LDD	R5,Z+1
    02B06 0D24      ADD	R18,R4
    02B07 1D35      ADC	R19,R5
    02B08 E100      LDI	R16,0x10
    02B09 E01E      LDI	R17,0xE
    02B0A 940E 39E7 CALL	empy16s
    02B0C 0128      MOVW	R4,R16
    02B0D 0C42      ADD	R4,R2
    02B0E 1C53      ADC	R5,R3
    02B0F 9250 0499 STS	temps+593,R5
    02B11 9240 0498 STS	temps+592,R4
(0166) 			  //temps[0].needtime=3;
(0167) 			  if(temps[1].needtime==0){
    02B13 2044      TST	R4
    02B14 F449      BNE	0x2B1E
    02B15 2055      TST	R5
    02B16 F439      BNE	0x2B1E
(0168) 			     //当前阶段时间为0，表示已经结束更改标记
(0169) 				  temps[1].flag=4;
    02B17 E084      LDI	R24,4
    02B18 E090      LDI	R25,0
    02B19 9390 038D STS	temps+325,R25
    02B1B 9380 038C STS	temps+324,R24
(0170) 			  }else{
    02B1D C0BE      RJMP	0x2BDC
(0171) 			     temps[1].p_settemp=temps[1].temp_data[cache+8]*100+temps[1].temp_data[cache+9]*10+temps[1].temp_data[cache+10];
    02B1E E88E      LDI	R24,0x8E
    02B1F E093      LDI	R25,3
    02B20 01FA      MOVW	R30,R20
    02B21 9639      ADIW	R30,0x9
    02B22 0FEE      LSL	R30
    02B23 1FFF      ROL	R31
    02B24 0FE8      ADD	R30,R24
    02B25 1FF9      ADC	R31,R25
    02B26 8120      LD	R18,Z
    02B27 8131      LDD	R19,Z+1
    02B28 E00A      LDI	R16,0xA
    02B29 E010      LDI	R17,0
    02B2A 940E 39E7 CALL	empy16s
    02B2C 0118      MOVW	R2,R16
    02B2D E88E      LDI	R24,0x8E
    02B2E E093      LDI	R25,3
    02B2F 01FA      MOVW	R30,R20
    02B30 9638      ADIW	R30,0x8
    02B31 0FEE      LSL	R30
    02B32 1FFF      ROL	R31
    02B33 0FE8      ADD	R30,R24
    02B34 1FF9      ADC	R31,R25
    02B35 8120      LD	R18,Z
    02B36 8131      LDD	R19,Z+1
    02B37 E604      LDI	R16,0x64
    02B38 E010      LDI	R17,0
    02B39 940E 39E7 CALL	empy16s
    02B3B 0128      MOVW	R4,R16
    02B3C 0C42      ADD	R4,R2
    02B3D 1C53      ADC	R5,R3
    02B3E E88E      LDI	R24,0x8E
    02B3F E093      LDI	R25,3
    02B40 01FA      MOVW	R30,R20
    02B41 963A      ADIW	R30,0xA
    02B42 0FEE      LSL	R30
    02B43 1FFF      ROL	R31
    02B44 0FE8      ADD	R30,R24
    02B45 1FF9      ADC	R31,R25
    02B46 8020      LD	R2,Z
    02B47 8031      LDD	R3,Z+1
    02B48 0C42      ADD	R4,R2
    02B49 1C53      ADC	R5,R3
    02B4A 9250 04A3 STS	temps+603,R5
    02B4C 9240 04A2 STS	temps+602,R4
(0172) 			     temps[1].pertime=temps[1].needtime/(temps[1].p_settemp-temps[1].actualtemp);
    02B4E 9100 0498 LDS	R16,temps+592
    02B50 9110 0499 LDS	R17,temps+593
    02B52 940E 3B66 CALL	uint2fp
    02B54 0118      MOVW	R2,R16
    02B55 0129      MOVW	R4,R18
    02B56 9100 04A2 LDS	R16,temps+602
    02B58 9110 04A3 LDS	R17,temps+603
    02B5A 940E 3B66 CALL	uint2fp
    02B5C EB80      LDI	R24,0xB0
    02B5D E094      LDI	R25,4
    02B5E 939A      ST	-Y,R25
    02B5F 938A      ST	-Y,R24
    02B60 940E 3B19 CALL	fpsub1x
    02B62 0181      MOVW	R16,R2
    02B63 0192      MOVW	R18,R4
    02B64 940E 3B93 CALL	fpdiv2
    02B66 940E 3B34 CALL	fpint
    02B68 9310 049D STS	temps+597,R17
    02B6A 9300 049C STS	temps+596,R16
(0173) 			     temps[1].pertimecnt=0;
    02B6C 2422      CLR	R2
    02B6D 2433      CLR	R3
    02B6E 9230 049F STS	temps+599,R3
    02B70 9220 049E STS	temps+598,R2
(0174) 				 temps[1].settemp=temps[1].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02B72 9100 04A2 LDS	R16,temps+602
    02B74 9110 04A3 LDS	R17,temps+603
    02B76 940E 3B66 CALL	uint2fp
    02B78 9310 04AD STS	temps+613,R17
    02B7A 9300 04AC STS	temps+612,R16
    02B7C 9330 04AF STS	temps+615,R19
    02B7E 9320 04AE STS	temps+614,R18
(0175) 			  }
(0176) 		     
(0177) 		    }else{//恒温阶段
    02B80 C05B      RJMP	0x2BDC
(0178) 			   cache=((cache-1)>>1)*11+4;
    02B81 019A      MOVW	R18,R20
    02B82 5021      SUBI	R18,1
    02B83 4030      SBCI	R19,0
    02B84 9536      LSR	R19
    02B85 9527      ROR	R18
    02B86 E00B      LDI	R16,0xB
    02B87 E010      LDI	R17,0
    02B88 940E 39E7 CALL	empy16s
    02B8A 01A8      MOVW	R20,R16
    02B8B 5F4C      SUBI	R20,0xFC
    02B8C 4F5F      SBCI	R21,0xFF
(0179) 		      temps[1].needtime=(temps[1].temp_data[cache]*10+temps[1].temp_data[cache+1])*3600+(temps[1].temp_data[cache+2]*10+temps[1].temp_data[cache+3])*60;
    02B8D E88E      LDI	R24,0x8E
    02B8E E093      LDI	R25,3
    02B8F 01FA      MOVW	R30,R20
    02B90 9632      ADIW	R30,2
    02B91 0FEE      LSL	R30
    02B92 1FFF      ROL	R31
    02B93 0FE8      ADD	R30,R24
    02B94 1FF9      ADC	R31,R25
    02B95 8120      LD	R18,Z
    02B96 8131      LDD	R19,Z+1
    02B97 E00A      LDI	R16,0xA
    02B98 E010      LDI	R17,0
    02B99 940E 39E7 CALL	empy16s
    02B9B 0198      MOVW	R18,R16
    02B9C E88E      LDI	R24,0x8E
    02B9D E093      LDI	R25,3
    02B9E 01FA      MOVW	R30,R20
    02B9F 9633      ADIW	R30,3
    02BA0 0FEE      LSL	R30
    02BA1 1FFF      ROL	R31
    02BA2 0FE8      ADD	R30,R24
    02BA3 1FF9      ADC	R31,R25
    02BA4 8020      LD	R2,Z
    02BA5 8031      LDD	R3,Z+1
    02BA6 0D22      ADD	R18,R2
    02BA7 1D33      ADC	R19,R3
    02BA8 E30C      LDI	R16,0x3C
    02BA9 E010      LDI	R17,0
    02BAA 940E 39E7 CALL	empy16s
    02BAC 0118      MOVW	R2,R16
    02BAD E88E      LDI	R24,0x8E
    02BAE E093      LDI	R25,3
    02BAF 01FA      MOVW	R30,R20
    02BB0 0FEE      LSL	R30
    02BB1 1FFF      ROL	R31
    02BB2 0FE8      ADD	R30,R24
    02BB3 1FF9      ADC	R31,R25
    02BB4 8120      LD	R18,Z
    02BB5 8131      LDD	R19,Z+1
    02BB6 E00A      LDI	R16,0xA
    02BB7 E010      LDI	R17,0
    02BB8 940E 39E7 CALL	empy16s
    02BBA 0198      MOVW	R18,R16
    02BBB E88E      LDI	R24,0x8E
    02BBC E093      LDI	R25,3
    02BBD 01FA      MOVW	R30,R20
    02BBE 9631      ADIW	R30,1
    02BBF 0FEE      LSL	R30
    02BC0 1FFF      ROL	R31
    02BC1 0FE8      ADD	R30,R24
    02BC2 1FF9      ADC	R31,R25
    02BC3 8040      LD	R4,Z
    02BC4 8051      LDD	R5,Z+1
    02BC5 0D24      ADD	R18,R4
    02BC6 1D35      ADC	R19,R5
    02BC7 E100      LDI	R16,0x10
    02BC8 E01E      LDI	R17,0xE
    02BC9 940E 39E7 CALL	empy16s
    02BCB 0128      MOVW	R4,R16
    02BCC 0C42      ADD	R4,R2
    02BCD 1C53      ADC	R5,R3
    02BCE 9250 0499 STS	temps+593,R5
    02BD0 9240 0498 STS	temps+592,R4
(0180) 			  //temps[1].needtime=3;
(0181) 			  if(temps[1].needtime==0){
    02BD2 2044      TST	R4
    02BD3 F441      BNE	0x2BDC
    02BD4 2055      TST	R5
    02BD5 F431      BNE	0x2BDC
(0182) 			     //当前阶段时间为0，表示已经结束更改标记
(0183) 				  temps[1].flag=4;
    02BD6 E084      LDI	R24,4
    02BD7 E090      LDI	R25,0
    02BD8 9390 038D STS	temps+325,R25
    02BDA 9380 038C STS	temps+324,R24
(0184) 			  }
(0185) 			 // temps[1].settemp，在上一场升温时候赋值过
(0186) 			}
(0187) 	  }
(0188)   }
(0189)   //第三个
(0190)   if(temps[2].flag==1){//运行中
    02BDC 9180 04D0 LDS	R24,temps+648
    02BDE 9190 04D1 LDS	R25,temps+649
    02BE0 3081      CPI	R24,1
    02BE1 E0E0      LDI	R30,0
    02BE2 079E      CPC	R25,R30
    02BE3 F009      BEQ	0x2BE5
    02BE4 C173      RJMP	0x2D58
(0191)      cache=temps[2].status;//暂存当前状态
    02BE5 9140 05DA LDS	R20,temps+914
    02BE7 9150 05DB LDS	R21,temps+915
(0192)      if(temps[2].statusflag==0){//不是第一次进入当前状态
    02BE9 9020 05E4 LDS	R2,temps+924
    02BEB 9030 05E5 LDS	R3,temps+925
    02BED 2022      TST	R2
    02BEE F009      BEQ	0x2BF0
    02BEF C044      RJMP	0x2C34
    02BF0 2033      TST	R3
    02BF1 F009      BEQ	0x2BF3
    02BF2 C041      RJMP	0x2C34
(0193) 	     temps[2].nowtime++;//当前阶段运行时间
    02BF3 9180 05DE LDS	R24,temps+918
    02BF5 9190 05DF LDS	R25,temps+919
    02BF7 9601      ADIW	R24,1
    02BF8 9390 05DF STS	temps+919,R25
    02BFA 9380 05DE STS	temps+918,R24
(0194) 		if(temps[2].nowtime>=temps[2].needtime){//当前阶段运行结束进入下一阶段
    02BFC 9020 05DC LDS	R2,temps+916
    02BFE 9030 05DD LDS	R3,temps+917
    02C00 1582      CP	R24,R2
    02C01 0593      CPC	R25,R3
    02C02 F068      BCS	0x2C10
(0195) 		    temps[2].status++;
    02C03 01CA      MOVW	R24,R20
    02C04 9601      ADIW	R24,1
    02C05 9390 05DB STS	temps+915,R25
    02C07 9380 05DA STS	temps+914,R24
(0196) 		    temps[2].statusflag=1;
    02C09 E081      LDI	R24,1
    02C0A E090      LDI	R25,0
    02C0B 9390 05E5 STS	temps+925,R25
    02C0D 9380 05E4 STS	temps+924,R24
(0197) 			//PORTE=0xFF;
(0198) 		}else{//还在当前阶段
    02C0F C148      RJMP	0x2D58
(0199) 		     if(cache & 0x01){//恒温阶段,
    02C10 FF40      SBRS	R20,0
    02C11 C001      RJMP	0x2C13
(0200) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0201) 		      }else{ //升温阶段
    02C12 C145      RJMP	0x2D58
(0202) 		            temps[2].pertimecnt++;
    02C13 9180 05E2 LDS	R24,temps+922
    02C15 9190 05E3 LDS	R25,temps+923
    02C17 9601      ADIW	R24,1
    02C18 9390 05E3 STS	temps+923,R25
    02C1A 9380 05E2 STS	temps+922,R24
(0203) 		            if(temps[2].pertimecnt>temps[2].pertime){
    02C1C 9020 05E0 LDS	R2,temps+920
    02C1E 9030 05E1 LDS	R3,temps+921
    02C20 1628      CP	R2,R24
    02C21 0639      CPC	R3,R25
    02C22 F008      BCS	0x2C24
    02C23 C134      RJMP	0x2D58
(0204) 		                    temps[2].p_settemp++;//1C需要时间到达，增加温度。
    02C24 9180 05E6 LDS	R24,temps+926
    02C26 9190 05E7 LDS	R25,temps+927
    02C28 9601      ADIW	R24,1
    02C29 9390 05E7 STS	temps+927,R25
    02C2B 9380 05E6 STS	temps+926,R24
(0205) 			                temps[2].pertimecnt=0;
    02C2D 2422      CLR	R2
    02C2E 2433      CLR	R3
    02C2F 9230 05E3 STS	temps+923,R3
    02C31 9220 05E2 STS	temps+922,R2
(0206) 		              } 
(0207) 			  }
(0208) 		 }
(0209) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    02C33 C124      RJMP	0x2D58
(0210) 	        temps[2].statusflag=0;
    02C34 2422      CLR	R2
    02C35 2433      CLR	R3
    02C36 9230 05E5 STS	temps+925,R3
    02C38 9220 05E4 STS	temps+924,R2
(0211) 		    temps[2].nowtime=0;
    02C3A 9230 05DF STS	temps+919,R3
    02C3C 9220 05DE STS	temps+918,R2
(0212) 	       if(cache & 0x01){//升温阶段
    02C3E FF40      SBRS	R20,0
    02C3F C0BD      RJMP	0x2CFD
(0213) 		      cache=((cache-1)>>1)*11;
    02C40 019A      MOVW	R18,R20
    02C41 5021      SUBI	R18,1
    02C42 4030      SBCI	R19,0
    02C43 9536      LSR	R19
    02C44 9527      ROR	R18
    02C45 E00B      LDI	R16,0xB
    02C46 E010      LDI	R17,0
    02C47 940E 39E7 CALL	empy16s
    02C49 01A8      MOVW	R20,R16
(0214) 		      temps[2].needtime=(temps[2].temp_data[cache]*10+temps[2].temp_data[cache+1])*3600+(temps[2].temp_data[cache+2]*10+temps[2].temp_data[cache+3])*60;
    02C4A ED82      LDI	R24,0xD2
    02C4B E094      LDI	R25,4
    02C4C 01FA      MOVW	R30,R20
    02C4D 9632      ADIW	R30,2
    02C4E 0FEE      LSL	R30
    02C4F 1FFF      ROL	R31
    02C50 0FE8      ADD	R30,R24
    02C51 1FF9      ADC	R31,R25
    02C52 8120      LD	R18,Z
    02C53 8131      LDD	R19,Z+1
    02C54 E00A      LDI	R16,0xA
    02C55 E010      LDI	R17,0
    02C56 940E 39E7 CALL	empy16s
    02C58 0198      MOVW	R18,R16
    02C59 ED82      LDI	R24,0xD2
    02C5A E094      LDI	R25,4
    02C5B 01FA      MOVW	R30,R20
    02C5C 9633      ADIW	R30,3
    02C5D 0FEE      LSL	R30
    02C5E 1FFF      ROL	R31
    02C5F 0FE8      ADD	R30,R24
    02C60 1FF9      ADC	R31,R25
    02C61 8020      LD	R2,Z
    02C62 8031      LDD	R3,Z+1
    02C63 0D22      ADD	R18,R2
    02C64 1D33      ADC	R19,R3
    02C65 E30C      LDI	R16,0x3C
    02C66 E010      LDI	R17,0
    02C67 940E 39E7 CALL	empy16s
    02C69 0118      MOVW	R2,R16
    02C6A ED82      LDI	R24,0xD2
    02C6B E094      LDI	R25,4
    02C6C 01FA      MOVW	R30,R20
    02C6D 0FEE      LSL	R30
    02C6E 1FFF      ROL	R31
    02C6F 0FE8      ADD	R30,R24
    02C70 1FF9      ADC	R31,R25
    02C71 8120      LD	R18,Z
    02C72 8131      LDD	R19,Z+1
    02C73 E00A      LDI	R16,0xA
    02C74 E010      LDI	R17,0
    02C75 940E 39E7 CALL	empy16s
    02C77 0198      MOVW	R18,R16
    02C78 ED82      LDI	R24,0xD2
    02C79 E094      LDI	R25,4
    02C7A 01FA      MOVW	R30,R20
    02C7B 9631      ADIW	R30,1
    02C7C 0FEE      LSL	R30
    02C7D 1FFF      ROL	R31
    02C7E 0FE8      ADD	R30,R24
    02C7F 1FF9      ADC	R31,R25
    02C80 8040      LD	R4,Z
    02C81 8051      LDD	R5,Z+1
    02C82 0D24      ADD	R18,R4
    02C83 1D35      ADC	R19,R5
    02C84 E100      LDI	R16,0x10
    02C85 E01E      LDI	R17,0xE
    02C86 940E 39E7 CALL	empy16s
    02C88 0128      MOVW	R4,R16
    02C89 0C42      ADD	R4,R2
    02C8A 1C53      ADC	R5,R3
    02C8B 9250 05DD STS	temps+917,R5
    02C8D 9240 05DC STS	temps+916,R4
(0215) 			  //temps[0].needtime=3;
(0216) 			  if(temps[2].needtime==0){
    02C8F 2044      TST	R4
    02C90 F449      BNE	0x2C9A
    02C91 2055      TST	R5
    02C92 F439      BNE	0x2C9A
(0217) 			     //当前阶段时间为0，表示已经结束更改标记
(0218) 				  temps[2].flag=4;
    02C93 E084      LDI	R24,4
    02C94 E090      LDI	R25,0
    02C95 9390 04D1 STS	temps+649,R25
    02C97 9380 04D0 STS	temps+648,R24
(0219) 			  }else{
    02C99 C0BE      RJMP	0x2D58
(0220) 			     temps[2].p_settemp=temps[2].temp_data[cache+8]*100+temps[2].temp_data[cache+9]*10+temps[2].temp_data[cache+10];
    02C9A ED82      LDI	R24,0xD2
    02C9B E094      LDI	R25,4
    02C9C 01FA      MOVW	R30,R20
    02C9D 9639      ADIW	R30,0x9
    02C9E 0FEE      LSL	R30
    02C9F 1FFF      ROL	R31
    02CA0 0FE8      ADD	R30,R24
    02CA1 1FF9      ADC	R31,R25
    02CA2 8120      LD	R18,Z
    02CA3 8131      LDD	R19,Z+1
    02CA4 E00A      LDI	R16,0xA
    02CA5 E010      LDI	R17,0
    02CA6 940E 39E7 CALL	empy16s
    02CA8 0118      MOVW	R2,R16
    02CA9 ED82      LDI	R24,0xD2
    02CAA E094      LDI	R25,4
    02CAB 01FA      MOVW	R30,R20
    02CAC 9638      ADIW	R30,0x8
    02CAD 0FEE      LSL	R30
    02CAE 1FFF      ROL	R31
    02CAF 0FE8      ADD	R30,R24
    02CB0 1FF9      ADC	R31,R25
    02CB1 8120      LD	R18,Z
    02CB2 8131      LDD	R19,Z+1
    02CB3 E604      LDI	R16,0x64
    02CB4 E010      LDI	R17,0
    02CB5 940E 39E7 CALL	empy16s
    02CB7 0128      MOVW	R4,R16
    02CB8 0C42      ADD	R4,R2
    02CB9 1C53      ADC	R5,R3
    02CBA ED82      LDI	R24,0xD2
    02CBB E094      LDI	R25,4
    02CBC 01FA      MOVW	R30,R20
    02CBD 963A      ADIW	R30,0xA
    02CBE 0FEE      LSL	R30
    02CBF 1FFF      ROL	R31
    02CC0 0FE8      ADD	R30,R24
    02CC1 1FF9      ADC	R31,R25
    02CC2 8020      LD	R2,Z
    02CC3 8031      LDD	R3,Z+1
    02CC4 0C42      ADD	R4,R2
    02CC5 1C53      ADC	R5,R3
    02CC6 9250 05E7 STS	temps+927,R5
    02CC8 9240 05E6 STS	temps+926,R4
(0221) 			     temps[2].pertime=temps[2].needtime/(temps[2].p_settemp-temps[2].actualtemp);
    02CCA 9100 05DC LDS	R16,temps+916
    02CCC 9110 05DD LDS	R17,temps+917
    02CCE 940E 3B66 CALL	uint2fp
    02CD0 0118      MOVW	R2,R16
    02CD1 0129      MOVW	R4,R18
    02CD2 9100 05E6 LDS	R16,temps+926
    02CD4 9110 05E7 LDS	R17,temps+927
    02CD6 940E 3B66 CALL	uint2fp
    02CD8 EF84      LDI	R24,0xF4
    02CD9 E095      LDI	R25,5
    02CDA 939A      ST	-Y,R25
    02CDB 938A      ST	-Y,R24
    02CDC 940E 3B19 CALL	fpsub1x
    02CDE 0181      MOVW	R16,R2
    02CDF 0192      MOVW	R18,R4
    02CE0 940E 3B93 CALL	fpdiv2
    02CE2 940E 3B34 CALL	fpint
    02CE4 9310 05E1 STS	temps+921,R17
    02CE6 9300 05E0 STS	temps+920,R16
(0222) 			     temps[2].pertimecnt=0;
    02CE8 2422      CLR	R2
    02CE9 2433      CLR	R3
    02CEA 9230 05E3 STS	temps+923,R3
    02CEC 9220 05E2 STS	temps+922,R2
(0223) 				 temps[2].settemp=temps[2].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02CEE 9100 05E6 LDS	R16,temps+926
    02CF0 9110 05E7 LDS	R17,temps+927
    02CF2 940E 3B66 CALL	uint2fp
    02CF4 9310 05F1 STS	temps+937,R17
    02CF6 9300 05F0 STS	temps+936,R16
    02CF8 9330 05F3 STS	temps+939,R19
    02CFA 9320 05F2 STS	temps+938,R18
(0224) 			  }
(0225) 		     
(0226) 		    }else{//恒温阶段
    02CFC C05B      RJMP	0x2D58
(0227) 			   cache=((cache-1)>>1)*11+4;
    02CFD 019A      MOVW	R18,R20
    02CFE 5021      SUBI	R18,1
    02CFF 4030      SBCI	R19,0
    02D00 9536      LSR	R19
    02D01 9527      ROR	R18
    02D02 E00B      LDI	R16,0xB
    02D03 E010      LDI	R17,0
    02D04 940E 39E7 CALL	empy16s
    02D06 01A8      MOVW	R20,R16
    02D07 5F4C      SUBI	R20,0xFC
    02D08 4F5F      SBCI	R21,0xFF
(0228) 		      temps[2].needtime=(temps[2].temp_data[cache]*10+temps[2].temp_data[cache+1])*3600+(temps[2].temp_data[cache+2]*10+temps[2].temp_data[cache+3])*60;
    02D09 ED82      LDI	R24,0xD2
    02D0A E094      LDI	R25,4
    02D0B 01FA      MOVW	R30,R20
    02D0C 9632      ADIW	R30,2
    02D0D 0FEE      LSL	R30
    02D0E 1FFF      ROL	R31
    02D0F 0FE8      ADD	R30,R24
    02D10 1FF9      ADC	R31,R25
    02D11 8120      LD	R18,Z
    02D12 8131      LDD	R19,Z+1
    02D13 E00A      LDI	R16,0xA
    02D14 E010      LDI	R17,0
    02D15 940E 39E7 CALL	empy16s
    02D17 0198      MOVW	R18,R16
    02D18 ED82      LDI	R24,0xD2
    02D19 E094      LDI	R25,4
    02D1A 01FA      MOVW	R30,R20
    02D1B 9633      ADIW	R30,3
    02D1C 0FEE      LSL	R30
    02D1D 1FFF      ROL	R31
    02D1E 0FE8      ADD	R30,R24
    02D1F 1FF9      ADC	R31,R25
    02D20 8020      LD	R2,Z
    02D21 8031      LDD	R3,Z+1
    02D22 0D22      ADD	R18,R2
    02D23 1D33      ADC	R19,R3
    02D24 E30C      LDI	R16,0x3C
    02D25 E010      LDI	R17,0
    02D26 940E 39E7 CALL	empy16s
    02D28 0118      MOVW	R2,R16
    02D29 ED82      LDI	R24,0xD2
    02D2A E094      LDI	R25,4
    02D2B 01FA      MOVW	R30,R20
    02D2C 0FEE      LSL	R30
    02D2D 1FFF      ROL	R31
    02D2E 0FE8      ADD	R30,R24
    02D2F 1FF9      ADC	R31,R25
    02D30 8120      LD	R18,Z
    02D31 8131      LDD	R19,Z+1
    02D32 E00A      LDI	R16,0xA
    02D33 E010      LDI	R17,0
    02D34 940E 39E7 CALL	empy16s
    02D36 0198      MOVW	R18,R16
    02D37 ED82      LDI	R24,0xD2
    02D38 E094      LDI	R25,4
    02D39 01FA      MOVW	R30,R20
    02D3A 9631      ADIW	R30,1
    02D3B 0FEE      LSL	R30
    02D3C 1FFF      ROL	R31
    02D3D 0FE8      ADD	R30,R24
    02D3E 1FF9      ADC	R31,R25
    02D3F 8040      LD	R4,Z
    02D40 8051      LDD	R5,Z+1
    02D41 0D24      ADD	R18,R4
    02D42 1D35      ADC	R19,R5
    02D43 E100      LDI	R16,0x10
    02D44 E01E      LDI	R17,0xE
    02D45 940E 39E7 CALL	empy16s
    02D47 0128      MOVW	R4,R16
    02D48 0C42      ADD	R4,R2
    02D49 1C53      ADC	R5,R3
    02D4A 9250 05DD STS	temps+917,R5
    02D4C 9240 05DC STS	temps+916,R4
(0229) 			  //temps[0].needtime=3;
(0230) 			  if(temps[2].needtime==0){
    02D4E 2044      TST	R4
    02D4F F441      BNE	0x2D58
    02D50 2055      TST	R5
    02D51 F431      BNE	0x2D58
(0231) 			     //当前阶段时间为0，表示已经结束更改标记
(0232) 				  temps[2].flag=4;
    02D52 E084      LDI	R24,4
    02D53 E090      LDI	R25,0
    02D54 9390 04D1 STS	temps+649,R25
    02D56 9380 04D0 STS	temps+648,R24
(0233) 			  }
(0234) 			 // temps[0].settemp，在上一场升温时候赋值过
(0235) 			}
(0236) 	  }
(0237)   }
(0238)   //第一个
(0239)   if(temps[3].flag==1){//运行中
    02D58 9180 0614 LDS	R24,temps+972
    02D5A 9190 0615 LDS	R25,temps+973
    02D5C 3081      CPI	R24,1
    02D5D E0E0      LDI	R30,0
    02D5E 079E      CPC	R25,R30
    02D5F F009      BEQ	0x2D61
    02D60 C173      RJMP	0x2ED4
(0240)      cache=temps[3].status;//暂存当前状态
    02D61 9140 071E LDS	R20,temps+1238
    02D63 9150 071F LDS	R21,temps+1239
(0241)      if(temps[3].statusflag==0){//不是第一次进入当前状态
    02D65 9020 0728 LDS	R2,temps+1248
    02D67 9030 0729 LDS	R3,temps+1249
    02D69 2022      TST	R2
    02D6A F009      BEQ	0x2D6C
    02D6B C044      RJMP	0x2DB0
    02D6C 2033      TST	R3
    02D6D F009      BEQ	0x2D6F
    02D6E C041      RJMP	0x2DB0
(0242) 	     temps[3].nowtime++;//当前阶段运行时间
    02D6F 9180 0722 LDS	R24,temps+1242
    02D71 9190 0723 LDS	R25,temps+1243
    02D73 9601      ADIW	R24,1
    02D74 9390 0723 STS	temps+1243,R25
    02D76 9380 0722 STS	temps+1242,R24
(0243) 		if(temps[3].nowtime>=temps[3].needtime){//当前阶段运行结束进入下一阶段
    02D78 9020 0720 LDS	R2,temps+1240
    02D7A 9030 0721 LDS	R3,temps+1241
    02D7C 1582      CP	R24,R2
    02D7D 0593      CPC	R25,R3
    02D7E F068      BCS	0x2D8C
(0244) 		    temps[3].status++;
    02D7F 01CA      MOVW	R24,R20
    02D80 9601      ADIW	R24,1
    02D81 9390 071F STS	temps+1239,R25
    02D83 9380 071E STS	temps+1238,R24
(0245) 		    temps[3].statusflag=1;
    02D85 E081      LDI	R24,1
    02D86 E090      LDI	R25,0
    02D87 9390 0729 STS	temps+1249,R25
    02D89 9380 0728 STS	temps+1248,R24
(0246) 			//PORTE=0xFF;
(0247) 		}else{//还在当前阶段
    02D8B C148      RJMP	0x2ED4
(0248) 		     if(cache & 0x01){//恒温阶段,
    02D8C FF40      SBRS	R20,0
    02D8D C001      RJMP	0x2D8F
(0249) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0250) 		      }else{ //升温阶段
    02D8E C145      RJMP	0x2ED4
(0251) 		            temps[3].pertimecnt++;
    02D8F 9180 0726 LDS	R24,temps+1246
    02D91 9190 0727 LDS	R25,temps+1247
    02D93 9601      ADIW	R24,1
    02D94 9390 0727 STS	temps+1247,R25
    02D96 9380 0726 STS	temps+1246,R24
(0252) 		            if(temps[3].pertimecnt>temps[3].pertime){
    02D98 9020 0724 LDS	R2,temps+1244
    02D9A 9030 0725 LDS	R3,temps+1245
    02D9C 1628      CP	R2,R24
    02D9D 0639      CPC	R3,R25
    02D9E F008      BCS	0x2DA0
    02D9F C134      RJMP	0x2ED4
(0253) 		                    temps[3].p_settemp++;//1C需要时间到达，增加温度。
    02DA0 9180 072A LDS	R24,temps+1250
    02DA2 9190 072B LDS	R25,temps+1251
    02DA4 9601      ADIW	R24,1
    02DA5 9390 072B STS	temps+1251,R25
    02DA7 9380 072A STS	temps+1250,R24
(0254) 			                temps[3].pertimecnt=0;
    02DA9 2422      CLR	R2
    02DAA 2433      CLR	R3
    02DAB 9230 0727 STS	temps+1247,R3
    02DAD 9220 0726 STS	temps+1246,R2
(0255) 		              } 
(0256) 			  }
(0257) 		 }
(0258) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    02DAF C124      RJMP	0x2ED4
(0259) 	        temps[3].statusflag=0;
    02DB0 2422      CLR	R2
    02DB1 2433      CLR	R3
    02DB2 9230 0729 STS	temps+1249,R3
    02DB4 9220 0728 STS	temps+1248,R2
(0260) 		    temps[3].nowtime=0;
    02DB6 9230 0723 STS	temps+1243,R3
    02DB8 9220 0722 STS	temps+1242,R2
(0261) 	       if(cache & 0x01){//升温阶段
    02DBA FF40      SBRS	R20,0
    02DBB C0BD      RJMP	0x2E79
(0262) 		      cache=((cache-1)>>1)*11;
    02DBC 019A      MOVW	R18,R20
    02DBD 5021      SUBI	R18,1
    02DBE 4030      SBCI	R19,0
    02DBF 9536      LSR	R19
    02DC0 9527      ROR	R18
    02DC1 E00B      LDI	R16,0xB
    02DC2 E010      LDI	R17,0
    02DC3 940E 39E7 CALL	empy16s
    02DC5 01A8      MOVW	R20,R16
(0263) 		      temps[3].needtime=(temps[3].temp_data[cache]*10+temps[3].temp_data[cache+1])*3600+(temps[3].temp_data[cache+2]*10+temps[3].temp_data[cache+3])*60;
    02DC6 E186      LDI	R24,0x16
    02DC7 E096      LDI	R25,6
    02DC8 01FA      MOVW	R30,R20
    02DC9 9632      ADIW	R30,2
    02DCA 0FEE      LSL	R30
    02DCB 1FFF      ROL	R31
    02DCC 0FE8      ADD	R30,R24
    02DCD 1FF9      ADC	R31,R25
    02DCE 8120      LD	R18,Z
    02DCF 8131      LDD	R19,Z+1
    02DD0 E00A      LDI	R16,0xA
    02DD1 E010      LDI	R17,0
    02DD2 940E 39E7 CALL	empy16s
    02DD4 0198      MOVW	R18,R16
    02DD5 E186      LDI	R24,0x16
    02DD6 E096      LDI	R25,6
    02DD7 01FA      MOVW	R30,R20
    02DD8 9633      ADIW	R30,3
    02DD9 0FEE      LSL	R30
    02DDA 1FFF      ROL	R31
    02DDB 0FE8      ADD	R30,R24
    02DDC 1FF9      ADC	R31,R25
    02DDD 8020      LD	R2,Z
    02DDE 8031      LDD	R3,Z+1
    02DDF 0D22      ADD	R18,R2
    02DE0 1D33      ADC	R19,R3
    02DE1 E30C      LDI	R16,0x3C
    02DE2 E010      LDI	R17,0
    02DE3 940E 39E7 CALL	empy16s
    02DE5 0118      MOVW	R2,R16
    02DE6 E186      LDI	R24,0x16
    02DE7 E096      LDI	R25,6
    02DE8 01FA      MOVW	R30,R20
    02DE9 0FEE      LSL	R30
    02DEA 1FFF      ROL	R31
    02DEB 0FE8      ADD	R30,R24
    02DEC 1FF9      ADC	R31,R25
    02DED 8120      LD	R18,Z
    02DEE 8131      LDD	R19,Z+1
    02DEF E00A      LDI	R16,0xA
    02DF0 E010      LDI	R17,0
    02DF1 940E 39E7 CALL	empy16s
    02DF3 0198      MOVW	R18,R16
    02DF4 E186      LDI	R24,0x16
    02DF5 E096      LDI	R25,6
    02DF6 01FA      MOVW	R30,R20
    02DF7 9631      ADIW	R30,1
    02DF8 0FEE      LSL	R30
    02DF9 1FFF      ROL	R31
    02DFA 0FE8      ADD	R30,R24
    02DFB 1FF9      ADC	R31,R25
    02DFC 8040      LD	R4,Z
    02DFD 8051      LDD	R5,Z+1
    02DFE 0D24      ADD	R18,R4
    02DFF 1D35      ADC	R19,R5
    02E00 E100      LDI	R16,0x10
    02E01 E01E      LDI	R17,0xE
    02E02 940E 39E7 CALL	empy16s
    02E04 0128      MOVW	R4,R16
    02E05 0C42      ADD	R4,R2
    02E06 1C53      ADC	R5,R3
    02E07 9250 0721 STS	temps+1241,R5
    02E09 9240 0720 STS	temps+1240,R4
(0264) 			  //temps[0].needtime=3;
(0265) 			  if(temps[3].needtime==0){
    02E0B 2044      TST	R4
    02E0C F449      BNE	0x2E16
    02E0D 2055      TST	R5
    02E0E F439      BNE	0x2E16
(0266) 			     //当前阶段时间为0，表示已经结束更改标记
(0267) 				  temps[3].flag=4;
    02E0F E084      LDI	R24,4
    02E10 E090      LDI	R25,0
    02E11 9390 0615 STS	temps+973,R25
    02E13 9380 0614 STS	temps+972,R24
(0268) 			  }else{
    02E15 C0BE      RJMP	0x2ED4
(0269) 			     temps[3].p_settemp=temps[3].temp_data[cache+8]*100+temps[3].temp_data[cache+9]*10+temps[3].temp_data[cache+10];
    02E16 E186      LDI	R24,0x16
    02E17 E096      LDI	R25,6
    02E18 01FA      MOVW	R30,R20
    02E19 9639      ADIW	R30,0x9
    02E1A 0FEE      LSL	R30
    02E1B 1FFF      ROL	R31
    02E1C 0FE8      ADD	R30,R24
    02E1D 1FF9      ADC	R31,R25
    02E1E 8120      LD	R18,Z
    02E1F 8131      LDD	R19,Z+1
    02E20 E00A      LDI	R16,0xA
    02E21 E010      LDI	R17,0
    02E22 940E 39E7 CALL	empy16s
    02E24 0118      MOVW	R2,R16
    02E25 E186      LDI	R24,0x16
    02E26 E096      LDI	R25,6
    02E27 01FA      MOVW	R30,R20
    02E28 9638      ADIW	R30,0x8
    02E29 0FEE      LSL	R30
    02E2A 1FFF      ROL	R31
    02E2B 0FE8      ADD	R30,R24
    02E2C 1FF9      ADC	R31,R25
    02E2D 8120      LD	R18,Z
    02E2E 8131      LDD	R19,Z+1
    02E2F E604      LDI	R16,0x64
    02E30 E010      LDI	R17,0
    02E31 940E 39E7 CALL	empy16s
    02E33 0128      MOVW	R4,R16
    02E34 0C42      ADD	R4,R2
    02E35 1C53      ADC	R5,R3
    02E36 E186      LDI	R24,0x16
    02E37 E096      LDI	R25,6
    02E38 01FA      MOVW	R30,R20
    02E39 963A      ADIW	R30,0xA
    02E3A 0FEE      LSL	R30
    02E3B 1FFF      ROL	R31
    02E3C 0FE8      ADD	R30,R24
    02E3D 1FF9      ADC	R31,R25
    02E3E 8020      LD	R2,Z
    02E3F 8031      LDD	R3,Z+1
    02E40 0C42      ADD	R4,R2
    02E41 1C53      ADC	R5,R3
    02E42 9250 072B STS	temps+1251,R5
    02E44 9240 072A STS	temps+1250,R4
(0270) 			     temps[3].pertime=temps[3].needtime/(temps[3].p_settemp-temps[3].actualtemp);
    02E46 9100 0720 LDS	R16,temps+1240
    02E48 9110 0721 LDS	R17,temps+1241
    02E4A 940E 3B66 CALL	uint2fp
    02E4C 0118      MOVW	R2,R16
    02E4D 0129      MOVW	R4,R18
    02E4E 9100 072A LDS	R16,temps+1250
    02E50 9110 072B LDS	R17,temps+1251
    02E52 940E 3B66 CALL	uint2fp
    02E54 E388      LDI	R24,0x38
    02E55 E097      LDI	R25,7
    02E56 939A      ST	-Y,R25
    02E57 938A      ST	-Y,R24
    02E58 940E 3B19 CALL	fpsub1x
    02E5A 0181      MOVW	R16,R2
    02E5B 0192      MOVW	R18,R4
    02E5C 940E 3B93 CALL	fpdiv2
    02E5E 940E 3B34 CALL	fpint
    02E60 9310 0725 STS	temps+1245,R17
    02E62 9300 0724 STS	temps+1244,R16
(0271) 			     temps[3].pertimecnt=0;
    02E64 2422      CLR	R2
    02E65 2433      CLR	R3
    02E66 9230 0727 STS	temps+1247,R3
    02E68 9220 0726 STS	temps+1246,R2
(0272) 				 temps[3].settemp=temps[3].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02E6A 9100 072A LDS	R16,temps+1250
    02E6C 9110 072B LDS	R17,temps+1251
    02E6E 940E 3B66 CALL	uint2fp
    02E70 9310 0735 STS	temps+1261,R17
    02E72 9300 0734 STS	temps+1260,R16
    02E74 9330 0737 STS	temps+1263,R19
    02E76 9320 0736 STS	temps+1262,R18
(0273) 			  }
(0274) 		     
(0275) 		    }else{//恒温阶段
    02E78 C05B      RJMP	0x2ED4
(0276) 			   cache=((cache-1)>>1)*11+4;
    02E79 019A      MOVW	R18,R20
    02E7A 5021      SUBI	R18,1
    02E7B 4030      SBCI	R19,0
    02E7C 9536      LSR	R19
    02E7D 9527      ROR	R18
    02E7E E00B      LDI	R16,0xB
    02E7F E010      LDI	R17,0
    02E80 940E 39E7 CALL	empy16s
    02E82 01A8      MOVW	R20,R16
    02E83 5F4C      SUBI	R20,0xFC
    02E84 4F5F      SBCI	R21,0xFF
(0277) 		      temps[3].needtime=(temps[3].temp_data[cache]*10+temps[3].temp_data[cache+1])*3600+(temps[3].temp_data[cache+2]*10+temps[3].temp_data[cache+3])*60;
    02E85 E186      LDI	R24,0x16
    02E86 E096      LDI	R25,6
    02E87 01FA      MOVW	R30,R20
    02E88 9632      ADIW	R30,2
    02E89 0FEE      LSL	R30
    02E8A 1FFF      ROL	R31
    02E8B 0FE8      ADD	R30,R24
    02E8C 1FF9      ADC	R31,R25
    02E8D 8120      LD	R18,Z
    02E8E 8131      LDD	R19,Z+1
    02E8F E00A      LDI	R16,0xA
    02E90 E010      LDI	R17,0
    02E91 940E 39E7 CALL	empy16s
    02E93 0198      MOVW	R18,R16
    02E94 E186      LDI	R24,0x16
    02E95 E096      LDI	R25,6
    02E96 01FA      MOVW	R30,R20
    02E97 9633      ADIW	R30,3
    02E98 0FEE      LSL	R30
    02E99 1FFF      ROL	R31
    02E9A 0FE8      ADD	R30,R24
    02E9B 1FF9      ADC	R31,R25
    02E9C 8020      LD	R2,Z
    02E9D 8031      LDD	R3,Z+1
    02E9E 0D22      ADD	R18,R2
    02E9F 1D33      ADC	R19,R3
    02EA0 E30C      LDI	R16,0x3C
    02EA1 E010      LDI	R17,0
    02EA2 940E 39E7 CALL	empy16s
    02EA4 0118      MOVW	R2,R16
    02EA5 E186      LDI	R24,0x16
    02EA6 E096      LDI	R25,6
    02EA7 01FA      MOVW	R30,R20
    02EA8 0FEE      LSL	R30
    02EA9 1FFF      ROL	R31
    02EAA 0FE8      ADD	R30,R24
    02EAB 1FF9      ADC	R31,R25
    02EAC 8120      LD	R18,Z
    02EAD 8131      LDD	R19,Z+1
    02EAE E00A      LDI	R16,0xA
    02EAF E010      LDI	R17,0
    02EB0 940E 39E7 CALL	empy16s
    02EB2 0198      MOVW	R18,R16
    02EB3 E186      LDI	R24,0x16
    02EB4 E096      LDI	R25,6
    02EB5 01FA      MOVW	R30,R20
    02EB6 9631      ADIW	R30,1
    02EB7 0FEE      LSL	R30
    02EB8 1FFF      ROL	R31
    02EB9 0FE8      ADD	R30,R24
    02EBA 1FF9      ADC	R31,R25
    02EBB 8040      LD	R4,Z
    02EBC 8051      LDD	R5,Z+1
    02EBD 0D24      ADD	R18,R4
    02EBE 1D35      ADC	R19,R5
    02EBF E100      LDI	R16,0x10
    02EC0 E01E      LDI	R17,0xE
    02EC1 940E 39E7 CALL	empy16s
    02EC3 0128      MOVW	R4,R16
    02EC4 0C42      ADD	R4,R2
    02EC5 1C53      ADC	R5,R3
    02EC6 9250 0721 STS	temps+1241,R5
    02EC8 9240 0720 STS	temps+1240,R4
(0278) 			  //temps[0].needtime=3;
(0279) 			  if(temps[3].needtime==0){
    02ECA 2044      TST	R4
    02ECB F441      BNE	0x2ED4
    02ECC 2055      TST	R5
    02ECD F431      BNE	0x2ED4
(0280) 			     //当前阶段时间为0，表示已经结束更改标记
(0281) 				  temps[3].flag=4;
    02ECE E084      LDI	R24,4
    02ECF E090      LDI	R25,0
    02ED0 9390 0615 STS	temps+973,R25
    02ED2 9380 0614 STS	temps+972,R24
(0282) 			  }
(0283) 			 // temps[0].settemp，在上一场升温时候赋值过
(0284) 			}
(0285) 	  }
(0286)   }
(0287)   TIMSK|=0x40;//开定时器2溢出中断,8位的
    02ED4 B787      IN	R24,0x37
    02ED5 6480      ORI	R24,0x40
    02ED6 BF87      OUT	0x37,R24
(0288)   EIMSK |= 0x04;//开中断2  
    02ED7 B789      IN	R24,0x39
    02ED8 6084      ORI	R24,4
    02ED9 BF89      OUT	0x39,R24
    02EDA 9622      ADIW	R28,2
    02EDB 940E 3A1E CALL	pop_xgset300C
    02EDD 9009      LD	R0,Y+
    02EDE BE0F      OUT	0x3F,R0
    02EDF 91F9      LD	R31,Y+
    02EE0 91E9      LD	R30,Y+
    02EE1 91B9      LD	R27,Y+
    02EE2 91A9      LD	R26,Y+
    02EE3 9199      LD	R25,Y+
    02EE4 9189      LD	R24,Y+
    02EE5 9139      LD	R19,Y+
    02EE6 9129      LD	R18,Y+
    02EE7 9119      LD	R17,Y+
    02EE8 9109      LD	R16,Y+
    02EE9 9099      LD	R9,Y+
    02EEA 9089      LD	R8,Y+
    02EEB 9079      LD	R7,Y+
    02EEC 9069      LD	R6,Y+
    02EED 9059      LD	R5,Y+
    02EEE 9049      LD	R4,Y+
    02EEF 9039      LD	R3,Y+
    02EF0 9029      LD	R2,Y+
    02EF1 9019      LD	R1,Y+
    02EF2 9009      LD	R0,Y+
    02EF3 9518      RETI
_tempcontrol:
  j                    --> R22
  i                    --> R20
    02EF4 940E 3A2D CALL	push_xgsetF00C
    02EF6 9722      SBIW	R28,2
(0289) }
(0290)  //执行温度控制数据更新操作，读取温度更新输出参数.会对温度数据故障更新
(0291)  //定时器控制，0.5s进入一次
(0292)  //在这里发送串口数据，上位机读取。和读取温度同步
(0293) void tempcontrol(void){
(0294)    uint i,j;
(0295)       temp_l=0x00;
    02EF7 2422      CLR	R2
    02EF8 2433      CLR	R3
    02EF9 9230 0247 STS	temp_l+1,R3
    02EFB 9220 0246 STS	temp_l,R2
(0296)       temp_h=0x12;
    02EFD E182      LDI	R24,0x12
    02EFE E090      LDI	R25,0
    02EFF 9390 0245 STS	temp_h+1,R25
    02F01 9380 0244 STS	temp_h,R24
(0297)    for(i=0;i<4;i++){
    02F03 2744      CLR	R20
    02F04 2755      CLR	R21
    02F05 C15A      RJMP	0x3060
(0298)          //readTemp(i);//读取温度，一次验证有效性
(0299) 	 if(temp_l&0x04){//当前故障，下面就不用再运行啦
    02F06 9020 0246 LDS	R2,temp_l
    02F08 9030 0247 LDS	R3,temp_l+1
    02F0A FE22      SBRS	R2,2
    02F0B C00F      RJMP	0x2F1B
(0300) 		     temps[i].flag=2;
    02F0C E404      LDI	R16,0x44
    02F0D E011      LDI	R17,1
    02F0E 019A      MOVW	R18,R20
    02F0F 940E 39E7 CALL	empy16s
    02F11 E488      LDI	R24,0x48
    02F12 E092      LDI	R25,2
    02F13 01F8      MOVW	R30,R16
    02F14 0FE8      ADD	R30,R24
    02F15 1FF9      ADC	R31,R25
    02F16 E082      LDI	R24,2
    02F17 E090      LDI	R25,0
    02F18 8391      STD	Z+1,R25
    02F19 8380      ST	Z,R24
(0301) 	 }else{
    02F1A C143      RJMP	0x305E
(0302) 	      //temps[i].actualtemp=0x55<<2;
(0303) 		  temps[i].actualtemp=(temp_h&0x3F)<<4|(temp_l&0xF0)>>4;
    02F1B E404      LDI	R16,0x44
    02F1C E011      LDI	R17,1
    02F1D 019A      MOVW	R18,R20
    02F1E 940E 39E7 CALL	empy16s
    02F20 E68C      LDI	R24,0x6C
    02F21 E093      LDI	R25,3
    02F22 01F8      MOVW	R30,R16
    02F23 0FE8      ADD	R30,R24
    02F24 1FF9      ADC	R31,R25
    02F25 9180 0246 LDS	R24,temp_l
    02F27 9190 0247 LDS	R25,temp_l+1
    02F29 7F80      ANDI	R24,0xF0
    02F2A 7090      ANDI	R25,0
    02F2B 9596      LSR	R25
    02F2C 9587      ROR	R24
    02F2D 9596      LSR	R25
    02F2E 9587      ROR	R24
    02F2F 9596      LSR	R25
    02F30 9587      ROR	R24
    02F31 9596      LSR	R25
    02F32 9587      ROR	R24
    02F33 9100 0244 LDS	R16,temp_h
    02F35 9110 0245 LDS	R17,temp_h+1
    02F37 730F      ANDI	R16,0x3F
    02F38 7010      ANDI	R17,0
    02F39 0F00      LSL	R16
    02F3A 1F11      ROL	R17
    02F3B 0F00      LSL	R16
    02F3C 1F11      ROL	R17
    02F3D 0F00      LSL	R16
    02F3E 1F11      ROL	R17
    02F3F 0F00      LSL	R16
    02F40 1F11      ROL	R17
    02F41 2B08      OR	R16,R24
    02F42 2B19      OR	R17,R25
    02F43 940E 3B66 CALL	uint2fp
    02F45 8300      ST	Z,R16
    02F46 8311      STD	Z+1,R17
    02F47 8322      STD	Z+2,R18
    02F48 8333      STD	Z+3,R19
(0304)          if(temps[i].flag==1)//运行中的
    02F49 E404      LDI	R16,0x44
    02F4A E011      LDI	R17,1
    02F4B 019A      MOVW	R18,R20
    02F4C 940E 39E7 CALL	empy16s
    02F4E E488      LDI	R24,0x48
    02F4F E092      LDI	R25,2
    02F50 01F8      MOVW	R30,R16
    02F51 0FE8      ADD	R30,R24
    02F52 1FF9      ADC	R31,R25
    02F53 8180      LD	R24,Z
    02F54 8191      LDD	R25,Z+1
    02F55 3081      CPI	R24,1
    02F56 E0E0      LDI	R30,0
    02F57 079E      CPC	R25,R30
    02F58 F009      BEQ	0x2F5A
    02F59 C0A0      RJMP	0x2FFA
(0305) 	      {   
(0306) 		      for(j=0;j<9;j++){
    02F5A 2766      CLR	R22
    02F5B 2777      CLR	R23
    02F5C C03F      RJMP	0x2F9C
(0307) 			    //readTemp(i);//读取温度，需要读取10次左右
(0308) 			    temps[i].actualtemp+=(temp_h&0x3F)<<4|(temp_l&0xF0)>>4;
    02F5D E404      LDI	R16,0x44
    02F5E E011      LDI	R17,1
    02F5F 019A      MOVW	R18,R20
    02F60 940E 39E7 CALL	empy16s
    02F62 0118      MOVW	R2,R16
    02F63 E68C      LDI	R24,0x6C
    02F64 E093      LDI	R25,3
    02F65 0E28      ADD	R2,R24
    02F66 1E39      ADC	R3,R25
    02F67 0131      MOVW	R6,R2
    02F68 01F1      MOVW	R30,R2
    02F69 8020      LD	R2,Z
    02F6A 8031      LDD	R3,Z+1
    02F6B 8042      LDD	R4,Z+2
    02F6C 8053      LDD	R5,Z+3
    02F6D 9180 0246 LDS	R24,temp_l
    02F6F 9190 0247 LDS	R25,temp_l+1
    02F71 7F80      ANDI	R24,0xF0
    02F72 7090      ANDI	R25,0
    02F73 9596      LSR	R25
    02F74 9587      ROR	R24
    02F75 9596      LSR	R25
    02F76 9587      ROR	R24
    02F77 9596      LSR	R25
    02F78 9587      ROR	R24
    02F79 9596      LSR	R25
    02F7A 9587      ROR	R24
    02F7B 9100 0244 LDS	R16,temp_h
    02F7D 9110 0245 LDS	R17,temp_h+1
    02F7F 730F      ANDI	R16,0x3F
    02F80 7010      ANDI	R17,0
    02F81 0F00      LSL	R16
    02F82 1F11      ROL	R17
    02F83 0F00      LSL	R16
    02F84 1F11      ROL	R17
    02F85 0F00      LSL	R16
    02F86 1F11      ROL	R17
    02F87 0F00      LSL	R16
    02F88 1F11      ROL	R17
    02F89 2B08      OR	R16,R24
    02F8A 2B19      OR	R17,R25
    02F8B 940E 3B66 CALL	uint2fp
    02F8D 933A      ST	-Y,R19
    02F8E 932A      ST	-Y,R18
    02F8F 931A      ST	-Y,R17
    02F90 930A      ST	-Y,R16
    02F91 0181      MOVW	R16,R2
    02F92 0192      MOVW	R18,R4
    02F93 940E 3AF9 CALL	fpadd2
    02F95 01F3      MOVW	R30,R6
    02F96 8300      ST	Z,R16
    02F97 8311      STD	Z+1,R17
    02F98 8322      STD	Z+2,R18
    02F99 8333      STD	Z+3,R19
    02F9A 5F6F      SUBI	R22,0xFF
    02F9B 4F7F      SBCI	R23,0xFF
    02F9C 3069      CPI	R22,0x9
    02F9D E0E0      LDI	R30,0
    02F9E 077E      CPC	R23,R30
    02F9F F408      BCC	0x2FA1
    02FA0 CFBC      RJMP	0x2F5D
(0309) 			  }
(0310) 			    temps[i].actualtemp/=10;
    02FA1 E404      LDI	R16,0x44
    02FA2 E011      LDI	R17,1
    02FA3 019A      MOVW	R18,R20
    02FA4 940E 39E7 CALL	empy16s
    02FA6 0118      MOVW	R2,R16
    02FA7 E68C      LDI	R24,0x6C
    02FA8 E093      LDI	R25,3
    02FA9 0E28      ADD	R2,R24
    02FAA 1E39      ADC	R3,R25
    02FAB 0131      MOVW	R6,R2
    02FAC 01F1      MOVW	R30,R2
    02FAD 8020      LD	R2,Z
    02FAE 8031      LDD	R3,Z+1
    02FAF 8042      LDD	R4,Z+2
    02FB0 8053      LDD	R5,Z+3
    02FB1 E908      LDI	R16,0x98
    02FB2 E010      LDI	R17,0
    02FB3 940E 39D3 CALL	elpm32
    02FB5 933A      ST	-Y,R19
    02FB6 932A      ST	-Y,R18
    02FB7 931A      ST	-Y,R17
    02FB8 930A      ST	-Y,R16
    02FB9 0181      MOVW	R16,R2
    02FBA 0192      MOVW	R18,R4
    02FBB 940E 3B93 CALL	fpdiv2
    02FBD 01F3      MOVW	R30,R6
    02FBE 8300      ST	Z,R16
    02FBF 8311      STD	Z+1,R17
    02FC0 8322      STD	Z+2,R18
    02FC1 8333      STD	Z+3,R19
(0311) 		        if(temps[i].status & 0x01){//恒温阶段，使用pid算法。temps[i].status & 0x01如果是1代表是奇数，0代表是偶数
    02FC2 E404      LDI	R16,0x44
    02FC3 E011      LDI	R17,1
    02FC4 019A      MOVW	R18,R20
    02FC5 940E 39E7 CALL	empy16s
    02FC7 E582      LDI	R24,0x52
    02FC8 E093      LDI	R25,3
    02FC9 01F8      MOVW	R30,R16
    02FCA 0FE8      ADD	R30,R24
    02FCB 1FF9      ADC	R31,R25
    02FCC 8020      LD	R2,Z
    02FCD 8031      LDD	R3,Z+1
    02FCE FE20      SBRS	R2,0
    02FCF C001      RJMP	0x2FD1
(0312) 				   //PID_realize(i);//启用pid算法
(0313)                 }else if(temps[i].settemp-temps[i].actualtemp<10){
    02FD0 C08D      RJMP	0x305E
    02FD1 E404      LDI	R16,0x44
    02FD2 E011      LDI	R17,1
    02FD3 019A      MOVW	R18,R20
    02FD4 940E 39E7 CALL	empy16s
    02FD6 0158      MOVW	R10,R16
    02FD7 E688      LDI	R24,0x68
    02FD8 E093      LDI	R25,3
    02FD9 01F5      MOVW	R30,R10
    02FDA 0FE8      ADD	R30,R24
    02FDB 1FF9      ADC	R31,R25
    02FDC 8100      LD	R16,Z
    02FDD 8111      LDD	R17,Z+1
    02FDE 8122      LDD	R18,Z+2
    02FDF 8133      LDD	R19,Z+3
    02FE0 E68C      LDI	R24,0x6C
    02FE1 E093      LDI	R25,3
    02FE2 0115      MOVW	R2,R10
    02FE3 0E28      ADD	R2,R24
    02FE4 1E39      ADC	R3,R25
    02FE5 923A      ST	-Y,R3
    02FE6 922A      ST	-Y,R2
    02FE7 940E 3B04 CALL	fpsub1
    02FE9 0118      MOVW	R2,R16
    02FEA 0129      MOVW	R4,R18
    02FEB E908      LDI	R16,0x98
    02FEC E010      LDI	R17,0
    02FED 940E 39D3 CALL	elpm32
    02FEF 933A      ST	-Y,R19
    02FF0 932A      ST	-Y,R18
    02FF1 931A      ST	-Y,R17
    02FF2 930A      ST	-Y,R16
    02FF3 0181      MOVW	R16,R2
    02FF4 0192      MOVW	R18,R4
    02FF5 940E 3D36 CALL	fpcmp2
    02FF7 F00C      BLT	0x2FF9
    02FF8 C065      RJMP	0x305E
(0314) 		           //升温或阶段，如果温度接近某个温度则开始使用PID算法。这个值要重新考虑
(0315) 				   //PID_realize(i);//启用pid算法
(0316) 		         }else {//升温使用pi算法
(0317) 		            //PI_realize(i);//启用pi算法
(0318) 		         }
(0319) 	      }else if(temps[i].flag==5){//初始化参数
    02FF9 C064      RJMP	0x305E
    02FFA E404      LDI	R16,0x44
    02FFB E011      LDI	R17,1
    02FFC 019A      MOVW	R18,R20
    02FFD 940E 39E7 CALL	empy16s
    02FFF E488      LDI	R24,0x48
    03000 E092      LDI	R25,2
    03001 01F8      MOVW	R30,R16
    03002 0FE8      ADD	R30,R24
    03003 1FF9      ADC	R31,R25
    03004 8180      LD	R24,Z
    03005 8191      LDD	R25,Z+1
    03006 3085      CPI	R24,5
    03007 E0E0      LDI	R30,0
    03008 079E      CPC	R25,R30
    03009 F009      BEQ	0x300B
    0300A C035      RJMP	0x3040
(0320) 	             temps[i].flag=1;
    0300B E404      LDI	R16,0x44
    0300C E011      LDI	R17,1
    0300D 019A      MOVW	R18,R20
    0300E 940E 39E7 CALL	empy16s
    03010 E488      LDI	R24,0x48
    03011 E092      LDI	R25,2
    03012 01F8      MOVW	R30,R16
    03013 0FE8      ADD	R30,R24
    03014 1FF9      ADC	R31,R25
    03015 E081      LDI	R24,1
    03016 E090      LDI	R25,0
    03017 8391      STD	Z+1,R25
    03018 8380      ST	Z,R24
(0321) 				 temps[i].status=1;
    03019 E404      LDI	R16,0x44
    0301A E011      LDI	R17,1
    0301B 019A      MOVW	R18,R20
    0301C 940E 39E7 CALL	empy16s
    0301E E582      LDI	R24,0x52
    0301F E093      LDI	R25,3
    03020 01F8      MOVW	R30,R16
    03021 0FE8      ADD	R30,R24
    03022 1FF9      ADC	R31,R25
    03023 E081      LDI	R24,1
    03024 E090      LDI	R25,0
    03025 8391      STD	Z+1,R25
    03026 8380      ST	Z,R24
(0322) 				 temps[i].statusflag=1;
    03027 E404      LDI	R16,0x44
    03028 E011      LDI	R17,1
    03029 019A      MOVW	R18,R20
    0302A 940E 39E7 CALL	empy16s
    0302C E58C      LDI	R24,0x5C
    0302D E093      LDI	R25,3
    0302E 01F8      MOVW	R30,R16
    0302F 0FE8      ADD	R30,R24
    03030 1FF9      ADC	R31,R25
    03031 E081      LDI	R24,1
    03032 E090      LDI	R25,0
    03033 8391      STD	Z+1,R25
    03034 8380      ST	Z,R24
(0323) 				  EEPROM_write(i+1,133,5);//先写状态为5，预防在刚开始还未记录状态时候发生断电。
    03035 E085      LDI	R24,5
    03036 8399      STD	Y+1,R25
    03037 8388      ST	Y,R24
    03038 E825      LDI	R18,0x85
    03039 E030      LDI	R19,0
    0303A 018A      MOVW	R16,R20
    0303B 5F0F      SUBI	R16,0xFF
    0303C 4F1F      SBCI	R17,0xFF
    0303D 940E 10F9 CALL	_EEPROM_write
(0324) 	      }else if(temps[i].flag==2){//故障的,设置标志位位未初始化，但是状态和温度数据可能存在、所以可以直接恢复
    0303F C01E      RJMP	0x305E
    03040 E404      LDI	R16,0x44
    03041 E011      LDI	R17,1
    03042 019A      MOVW	R18,R20
    03043 940E 39E7 CALL	empy16s
    03045 E488      LDI	R24,0x48
    03046 E092      LDI	R25,2
    03047 01F8      MOVW	R30,R16
    03048 0FE8      ADD	R30,R24
    03049 1FF9      ADC	R31,R25
    0304A 8180      LD	R24,Z
    0304B 8191      LDD	R25,Z+1
    0304C 3082      CPI	R24,2
    0304D E0E0      LDI	R30,0
    0304E 079E      CPC	R25,R30
    0304F F471      BNE	0x305E
(0325) 		       temps[i].flag=0;
    03050 E404      LDI	R16,0x44
    03051 E011      LDI	R17,1
    03052 019A      MOVW	R18,R20
    03053 940E 39E7 CALL	empy16s
    03055 E488      LDI	R24,0x48
    03056 E092      LDI	R25,2
    03057 01F8      MOVW	R30,R16
    03058 0FE8      ADD	R30,R24
    03059 1FF9      ADC	R31,R25
    0305A 2422      CLR	R2
    0305B 2433      CLR	R3
    0305C 8231      STD	Z+1,R3
    0305D 8220      ST	Z,R2
    0305E 5F4F      SUBI	R20,0xFF
    0305F 4F5F      SBCI	R21,0xFF
    03060 3044      CPI	R20,4
    03061 E0E0      LDI	R30,0
    03062 075E      CPC	R21,R30
    03063 F408      BCC	0x3065
    03064 CEA1      RJMP	0x2F06
    03065 9622      ADIW	R28,2
    03066 940C 3A34 JMP	pop_xgsetF00C
_tempdata_init:
  j                    --> R22
  i                    --> R20
    03068 940E 3A23 CALL	push_xgsetF000
(0326) 	      }
(0327) 	  }
(0328)    }
(0329) }
(0330) 
(0331) //开机初始化空间。全部置0,不初始化数据，等用户或EEPROM数据回填
(0332) void tempdata_init(void){
(0333)  uint i,j;
(0334)  for(i=0;i<4;i++){
    0306A 2744      CLR	R20
    0306B 2755      CLR	R21
    0306C C168      RJMP	0x31D5
(0335)     temps[i].flag=0;
    0306D E404      LDI	R16,0x44
    0306E E011      LDI	R17,1
    0306F 019A      MOVW	R18,R20
    03070 940E 39E7 CALL	empy16s
    03072 E488      LDI	R24,0x48
    03073 E092      LDI	R25,2
    03074 01F8      MOVW	R30,R16
    03075 0FE8      ADD	R30,R24
    03076 1FF9      ADC	R31,R25
    03077 2422      CLR	R2
    03078 2433      CLR	R3
    03079 8231      STD	Z+1,R3
    0307A 8220      ST	Z,R2
(0336) 	for(j=0;j<132;j++){
    0307B 2766      CLR	R22
    0307C 2777      CLR	R23
    0307D C015      RJMP	0x3093
(0337) 	 temps[i].temp_data[j]=0;
    0307E E404      LDI	R16,0x44
    0307F E011      LDI	R17,1
    03080 019A      MOVW	R18,R20
    03081 940E 39E7 CALL	empy16s
    03083 0118      MOVW	R2,R16
    03084 E48A      LDI	R24,0x4A
    03085 E092      LDI	R25,2
    03086 0E28      ADD	R2,R24
    03087 1E39      ADC	R3,R25
    03088 01FB      MOVW	R30,R22
    03089 0FEE      LSL	R30
    0308A 1FFF      ROL	R31
    0308B 0DE2      ADD	R30,R2
    0308C 1DF3      ADC	R31,R3
    0308D 2422      CLR	R2
    0308E 2433      CLR	R3
    0308F 8231      STD	Z+1,R3
    03090 8220      ST	Z,R2
    03091 5F6F      SUBI	R22,0xFF
    03092 4F7F      SBCI	R23,0xFF
    03093 3864      CPI	R22,0x84
    03094 E0E0      LDI	R30,0
    03095 077E      CPC	R23,R30
    03096 F338      BCS	0x307E
(0338) 	}
(0339) 	temps[i].status=0;
    03097 E404      LDI	R16,0x44
    03098 E011      LDI	R17,1
    03099 019A      MOVW	R18,R20
    0309A 940E 39E7 CALL	empy16s
    0309C E582      LDI	R24,0x52
    0309D E093      LDI	R25,3
    0309E 01F8      MOVW	R30,R16
    0309F 0FE8      ADD	R30,R24
    030A0 1FF9      ADC	R31,R25
    030A1 2422      CLR	R2
    030A2 2433      CLR	R3
    030A3 8231      STD	Z+1,R3
    030A4 8220      ST	Z,R2
(0340) 	temps[i].needtime=0;
    030A5 E404      LDI	R16,0x44
    030A6 E011      LDI	R17,1
    030A7 019A      MOVW	R18,R20
    030A8 940E 39E7 CALL	empy16s
    030AA E584      LDI	R24,0x54
    030AB E093      LDI	R25,3
    030AC 01F8      MOVW	R30,R16
    030AD 0FE8      ADD	R30,R24
    030AE 1FF9      ADC	R31,R25
    030AF 2422      CLR	R2
    030B0 2433      CLR	R3
    030B1 8231      STD	Z+1,R3
    030B2 8220      ST	Z,R2
(0341) 	temps[i].nowtime=0;
    030B3 E404      LDI	R16,0x44
    030B4 E011      LDI	R17,1
    030B5 019A      MOVW	R18,R20
    030B6 940E 39E7 CALL	empy16s
    030B8 E586      LDI	R24,0x56
    030B9 E093      LDI	R25,3
    030BA 01F8      MOVW	R30,R16
    030BB 0FE8      ADD	R30,R24
    030BC 1FF9      ADC	R31,R25
    030BD 2422      CLR	R2
    030BE 2433      CLR	R3
    030BF 8231      STD	Z+1,R3
    030C0 8220      ST	Z,R2
(0342) 	temps[i].pertime=0;//每1C需要时间，计时
    030C1 E404      LDI	R16,0x44
    030C2 E011      LDI	R17,1
    030C3 019A      MOVW	R18,R20
    030C4 940E 39E7 CALL	empy16s
    030C6 E588      LDI	R24,0x58
    030C7 E093      LDI	R25,3
    030C8 01F8      MOVW	R30,R16
    030C9 0FE8      ADD	R30,R24
    030CA 1FF9      ADC	R31,R25
    030CB 2422      CLR	R2
    030CC 2433      CLR	R3
    030CD 8231      STD	Z+1,R3
    030CE 8220      ST	Z,R2
(0343) 	temps[i].pertimecnt=0;//每1C需要时间，计时器
    030CF E404      LDI	R16,0x44
    030D0 E011      LDI	R17,1
    030D1 019A      MOVW	R18,R20
    030D2 940E 39E7 CALL	empy16s
    030D4 E58A      LDI	R24,0x5A
    030D5 E093      LDI	R25,3
    030D6 01F8      MOVW	R30,R16
    030D7 0FE8      ADD	R30,R24
    030D8 1FF9      ADC	R31,R25
    030D9 2422      CLR	R2
    030DA 2433      CLR	R3
    030DB 8231      STD	Z+1,R3
    030DC 8220      ST	Z,R2
(0344) 	temps[i].statusflag=1;//是否第一次进入当前状态,1、第一次；0、不是第一次
    030DD E404      LDI	R16,0x44
    030DE E011      LDI	R17,1
    030DF 019A      MOVW	R18,R20
    030E0 940E 39E7 CALL	empy16s
    030E2 E58C      LDI	R24,0x5C
    030E3 E093      LDI	R25,3
    030E4 01F8      MOVW	R30,R16
    030E5 0FE8      ADD	R30,R24
    030E6 1FF9      ADC	R31,R25
    030E7 E081      LDI	R24,1
    030E8 E090      LDI	R25,0
    030E9 8391      STD	Z+1,R25
    030EA 8380      ST	Z,R24
(0345) 		//控制相关
(0346) 	temps[i].p_settemp=0;//升温时候的小阶段需要温度
    030EB E404      LDI	R16,0x44
    030EC E011      LDI	R17,1
    030ED 019A      MOVW	R18,R20
    030EE 940E 39E7 CALL	empy16s
    030F0 E58E      LDI	R24,0x5E
    030F1 E093      LDI	R25,3
    030F2 01F8      MOVW	R30,R16
    030F3 0FE8      ADD	R30,R24
    030F4 1FF9      ADC	R31,R25
    030F5 2422      CLR	R2
    030F6 2433      CLR	R3
    030F7 8231      STD	Z+1,R3
    030F8 8220      ST	Z,R2
(0347) 	temps[i].p_err_next=0;//升温阶段控制使用
    030F9 E404      LDI	R16,0x44
    030FA E011      LDI	R17,1
    030FB 019A      MOVW	R18,R20
    030FC 940E 39E7 CALL	empy16s
    030FE E680      LDI	R24,0x60
    030FF E093      LDI	R25,3
    03100 01F8      MOVW	R30,R16
    03101 0FE8      ADD	R30,R24
    03102 1FF9      ADC	R31,R25
    03103 2422      CLR	R2
    03104 2433      CLR	R3
    03105 8231      STD	Z+1,R3
    03106 8220      ST	Z,R2
(0348) 	temps[i].p_Kp=0;//升温阶段控制使用
    03107 E404      LDI	R16,0x44
    03108 E011      LDI	R17,1
    03109 019A      MOVW	R18,R20
    0310A 940E 39E7 CALL	empy16s
    0310C E682      LDI	R24,0x62
    0310D E093      LDI	R25,3
    0310E 01F8      MOVW	R30,R16
    0310F 0FE8      ADD	R30,R24
    03110 1FF9      ADC	R31,R25
    03111 2422      CLR	R2
    03112 2433      CLR	R3
    03113 8231      STD	Z+1,R3
    03114 8220      ST	Z,R2
(0349) 	temps[i].p_Ki=0;//升温阶段控制使用
    03115 E404      LDI	R16,0x44
    03116 E011      LDI	R17,1
    03117 019A      MOVW	R18,R20
    03118 940E 39E7 CALL	empy16s
    0311A E684      LDI	R24,0x64
    0311B E093      LDI	R25,3
    0311C 01F8      MOVW	R30,R16
    0311D 0FE8      ADD	R30,R24
    0311E 1FF9      ADC	R31,R25
    0311F 2422      CLR	R2
    03120 2433      CLR	R3
    03121 8231      STD	Z+1,R3
    03122 8220      ST	Z,R2
(0350)     temps[i].p_err_last=0;
    03123 E404      LDI	R16,0x44
    03124 E011      LDI	R17,1
    03125 019A      MOVW	R18,R20
    03126 940E 39E7 CALL	empy16s
    03128 E686      LDI	R24,0x66
    03129 E093      LDI	R25,3
    0312A 01F8      MOVW	R30,R16
    0312B 0FE8      ADD	R30,R24
    0312C 1FF9      ADC	R31,R25
    0312D 2422      CLR	R2
    0312E 2433      CLR	R3
    0312F 8231      STD	Z+1,R3
    03130 8220      ST	Z,R2
(0351) 	temps[i].settemp=0;
    03131 E404      LDI	R16,0x44
    03132 E011      LDI	R17,1
    03133 019A      MOVW	R18,R20
    03134 940E 39E7 CALL	empy16s
    03136 E688      LDI	R24,0x68
    03137 E093      LDI	R25,3
    03138 01F8      MOVW	R30,R16
    03139 0FE8      ADD	R30,R24
    0313A 1FF9      ADC	R31,R25
    0313B E904      LDI	R16,0x94
    0313C E010      LDI	R17,0
    0313D 940E 39D3 CALL	elpm32
    0313F 8300      ST	Z,R16
    03140 8311      STD	Z+1,R17
    03141 8322      STD	Z+2,R18
    03142 8333      STD	Z+3,R19
(0352) 	temps[i].actualtemp=0.0;
    03143 E404      LDI	R16,0x44
    03144 E011      LDI	R17,1
    03145 019A      MOVW	R18,R20
    03146 940E 39E7 CALL	empy16s
    03148 E68C      LDI	R24,0x6C
    03149 E093      LDI	R25,3
    0314A 01F8      MOVW	R30,R16
    0314B 0FE8      ADD	R30,R24
    0314C 1FF9      ADC	R31,R25
    0314D E904      LDI	R16,0x94
    0314E E010      LDI	R17,0
    0314F 940E 39D3 CALL	elpm32
    03151 8300      ST	Z,R16
    03152 8311      STD	Z+1,R17
    03153 8322      STD	Z+2,R18
    03154 8333      STD	Z+3,R19
(0353) 	temps[i].err=0;
    03155 E404      LDI	R16,0x44
    03156 E011      LDI	R17,1
    03157 019A      MOVW	R18,R20
    03158 940E 39E7 CALL	empy16s
    0315A E780      LDI	R24,0x70
    0315B E093      LDI	R25,3
    0315C 01F8      MOVW	R30,R16
    0315D 0FE8      ADD	R30,R24
    0315E 1FF9      ADC	R31,R25
    0315F E904      LDI	R16,0x94
    03160 E010      LDI	R17,0
    03161 940E 39D3 CALL	elpm32
    03163 8300      ST	Z,R16
    03164 8311      STD	Z+1,R17
    03165 8322      STD	Z+2,R18
    03166 8333      STD	Z+3,R19
(0354) 	 temps[i].err_last=0;
    03167 E404      LDI	R16,0x44
    03168 E011      LDI	R17,1
    03169 019A      MOVW	R18,R20
    0316A 940E 39E7 CALL	empy16s
    0316C E784      LDI	R24,0x74
    0316D E093      LDI	R25,3
    0316E 01F8      MOVW	R30,R16
    0316F 0FE8      ADD	R30,R24
    03170 1FF9      ADC	R31,R25
    03171 E904      LDI	R16,0x94
    03172 E010      LDI	R17,0
    03173 940E 39D3 CALL	elpm32
    03175 8300      ST	Z,R16
    03176 8311      STD	Z+1,R17
    03177 8322      STD	Z+2,R18
    03178 8333      STD	Z+3,R19
(0355) 	 temps[i].err_next=0;
    03179 E404      LDI	R16,0x44
    0317A E011      LDI	R17,1
    0317B 019A      MOVW	R18,R20
    0317C 940E 39E7 CALL	empy16s
    0317E E788      LDI	R24,0x78
    0317F E093      LDI	R25,3
    03180 01F8      MOVW	R30,R16
    03181 0FE8      ADD	R30,R24
    03182 1FF9      ADC	R31,R25
    03183 E904      LDI	R16,0x94
    03184 E010      LDI	R17,0
    03185 940E 39D3 CALL	elpm32
    03187 8300      ST	Z,R16
    03188 8311      STD	Z+1,R17
    03189 8322      STD	Z+2,R18
    0318A 8333      STD	Z+3,R19
(0356) 	 temps[i].Kp=0.0;
    0318B E404      LDI	R16,0x44
    0318C E011      LDI	R17,1
    0318D 019A      MOVW	R18,R20
    0318E 940E 39E7 CALL	empy16s
    03190 E78C      LDI	R24,0x7C
    03191 E093      LDI	R25,3
    03192 01F8      MOVW	R30,R16
    03193 0FE8      ADD	R30,R24
    03194 1FF9      ADC	R31,R25
    03195 E904      LDI	R16,0x94
    03196 E010      LDI	R17,0
    03197 940E 39D3 CALL	elpm32
    03199 8300      ST	Z,R16
    0319A 8311      STD	Z+1,R17
    0319B 8322      STD	Z+2,R18
    0319C 8333      STD	Z+3,R19
(0357) 	 temps[i].Ki=0.0;
    0319D E404      LDI	R16,0x44
    0319E E011      LDI	R17,1
    0319F 019A      MOVW	R18,R20
    031A0 940E 39E7 CALL	empy16s
    031A2 E880      LDI	R24,0x80
    031A3 E093      LDI	R25,3
    031A4 01F8      MOVW	R30,R16
    031A5 0FE8      ADD	R30,R24
    031A6 1FF9      ADC	R31,R25
    031A7 E904      LDI	R16,0x94
    031A8 E010      LDI	R17,0
    031A9 940E 39D3 CALL	elpm32
    031AB 8300      ST	Z,R16
    031AC 8311      STD	Z+1,R17
    031AD 8322      STD	Z+2,R18
    031AE 8333      STD	Z+3,R19
(0358) 	 temps[i].Kd=0.0;
    031AF E404      LDI	R16,0x44
    031B0 E011      LDI	R17,1
    031B1 019A      MOVW	R18,R20
    031B2 940E 39E7 CALL	empy16s
    031B4 E884      LDI	R24,0x84
    031B5 E093      LDI	R25,3
    031B6 01F8      MOVW	R30,R16
    031B7 0FE8      ADD	R30,R24
    031B8 1FF9      ADC	R31,R25
    031B9 E904      LDI	R16,0x94
    031BA E010      LDI	R17,0
    031BB 940E 39D3 CALL	elpm32
    031BD 8300      ST	Z,R16
    031BE 8311      STD	Z+1,R17
    031BF 8322      STD	Z+2,R18
    031C0 8333      STD	Z+3,R19
(0359) 	 temps[i].incrementtemp=25.0;
    031C1 E404      LDI	R16,0x44
    031C2 E011      LDI	R17,1
    031C3 019A      MOVW	R18,R20
    031C4 940E 39E7 CALL	empy16s
    031C6 E888      LDI	R24,0x88
    031C7 E093      LDI	R25,3
    031C8 01F8      MOVW	R30,R16
    031C9 0FE8      ADD	R30,R24
    031CA 1FF9      ADC	R31,R25
    031CB E900      LDI	R16,0x90
    031CC E010      LDI	R17,0
    031CD 940E 39D3 CALL	elpm32
    031CF 8300      ST	Z,R16
    031D0 8311      STD	Z+1,R17
    031D1 8322      STD	Z+2,R18
    031D2 8333      STD	Z+3,R19
    031D3 5F4F      SUBI	R20,0xFF
    031D4 4F5F      SBCI	R21,0xFF
    031D5 3044      CPI	R20,4
    031D6 E0E0      LDI	R30,0
    031D7 075E      CPC	R21,R30
    031D8 F408      BCC	0x31DA
    031D9 CE93      RJMP	0x306D
    031DA 940C 3A28 JMP	pop_xgsetF000
_data_recover:
  dataC                --> R22
  i                    --> R20
  j                    --> R22
    031DC 940E 3A49 CALL	push_xgsetF03C
(0360)  } 
(0361) }
(0362) void data_recover(void){
(0363)  uint i,j;
(0364)  uint dataC;
(0365)  for(i=0;i<4;i++){
    031DE 2744      CLR	R20
    031DF 2755      CLR	R21
    031E0 C12C      RJMP	0x330D
(0366)    dataC=EEPROM_read(i+1,0);//读取标记位
    031E1 2722      CLR	R18
    031E2 2733      CLR	R19
    031E3 018A      MOVW	R16,R20
    031E4 5F0F      SUBI	R16,0xFF
    031E5 4F1F      SBCI	R17,0xFF
    031E6 940E 1110 CALL	_EEPROM_read
    031E8 01B8      MOVW	R22,R16
(0367)    if(dataC==1){
    031E9 3001      CPI	R16,1
    031EA E0E0      LDI	R30,0
    031EB 071E      CPC	R17,R30
    031EC F009      BEQ	0x31EE
    031ED C11D      RJMP	0x330B
(0368)       temps[i].flag=EEPROM_read(i+1,133);
    031EE E825      LDI	R18,0x85
    031EF E030      LDI	R19,0
    031F0 018A      MOVW	R16,R20
    031F1 5F0F      SUBI	R16,0xFF
    031F2 4F1F      SBCI	R17,0xFF
    031F3 940E 1110 CALL	_EEPROM_read
    031F5 0118      MOVW	R2,R16
    031F6 E404      LDI	R16,0x44
    031F7 E011      LDI	R17,1
    031F8 019A      MOVW	R18,R20
    031F9 940E 39E7 CALL	empy16s
    031FB E488      LDI	R24,0x48
    031FC E092      LDI	R25,2
    031FD 01F8      MOVW	R30,R16
    031FE 0FE8      ADD	R30,R24
    031FF 1FF9      ADC	R31,R25
    03200 8231      STD	Z+1,R3
    03201 8220      ST	Z,R2
(0369) 	  if(temps[i].flag==1 || temps[i].flag==3){
    03202 E404      LDI	R16,0x44
    03203 E011      LDI	R17,1
    03204 019A      MOVW	R18,R20
    03205 940E 39E7 CALL	empy16s
    03207 E488      LDI	R24,0x48
    03208 E092      LDI	R25,2
    03209 01F8      MOVW	R30,R16
    0320A 0FE8      ADD	R30,R24
    0320B 1FF9      ADC	R31,R25
    0320C 8160      LD	R22,Z
    0320D 8171      LDD	R23,Z+1
    0320E 3061      CPI	R22,1
    0320F E0E0      LDI	R30,0
    03210 077E      CPC	R23,R30
    03211 F029      BEQ	0x3217
    03212 3063      CPI	R22,3
    03213 E0E0      LDI	R30,0
    03214 077E      CPC	R23,R30
    03215 F009      BEQ	0x3217
    03216 C0D1      RJMP	0x32E8
(0370) 	    temps[i].status=EEPROM_read(i+1,134);
    03217 E826      LDI	R18,0x86
    03218 E030      LDI	R19,0
    03219 018A      MOVW	R16,R20
    0321A 5F0F      SUBI	R16,0xFF
    0321B 4F1F      SBCI	R17,0xFF
    0321C 940E 1110 CALL	_EEPROM_read
    0321E 0158      MOVW	R10,R16
    0321F E404      LDI	R16,0x44
    03220 E011      LDI	R17,1
    03221 019A      MOVW	R18,R20
    03222 940E 39E7 CALL	empy16s
    03224 E582      LDI	R24,0x52
    03225 E093      LDI	R25,3
    03226 01F8      MOVW	R30,R16
    03227 0FE8      ADD	R30,R24
    03228 1FF9      ADC	R31,R25
    03229 82B1      STD	Z+1,R11
    0322A 82A0      ST	Z,R10
(0371) 	    temps[i].needtime =EEPROM_read(i+1,135)<<8 | EEPROM_read(i+1,136);
    0322B E827      LDI	R18,0x87
    0322C E030      LDI	R19,0
    0322D 018A      MOVW	R16,R20
    0322E 5F0F      SUBI	R16,0xFF
    0322F 4F1F      SBCI	R17,0xFF
    03230 940E 1110 CALL	_EEPROM_read
    03232 0168      MOVW	R12,R16
    03233 E828      LDI	R18,0x88
    03234 E030      LDI	R19,0
    03235 018A      MOVW	R16,R20
    03236 5F0F      SUBI	R16,0xFF
    03237 4F1F      SBCI	R17,0xFF
    03238 940E 1110 CALL	_EEPROM_read
    0323A 0158      MOVW	R10,R16
    0323B E404      LDI	R16,0x44
    0323C E011      LDI	R17,1
    0323D 019A      MOVW	R18,R20
    0323E 940E 39E7 CALL	empy16s
    03240 E584      LDI	R24,0x54
    03241 E093      LDI	R25,3
    03242 01F8      MOVW	R30,R16
    03243 0FE8      ADD	R30,R24
    03244 1FF9      ADC	R31,R25
    03245 0116      MOVW	R2,R12
    03246 2C32      MOV	R3,R2
    03247 2422      CLR	R2
    03248 282A      OR	R2,R10
    03249 283B      OR	R3,R11
    0324A 8231      STD	Z+1,R3
    0324B 8220      ST	Z,R2
(0372) 		temps[i].nowtime=EEPROM_read(i+1,137)<<8  | EEPROM_read(i+1,138);
    0324C E829      LDI	R18,0x89
    0324D E030      LDI	R19,0
    0324E 018A      MOVW	R16,R20
    0324F 5F0F      SUBI	R16,0xFF
    03250 4F1F      SBCI	R17,0xFF
    03251 940E 1110 CALL	_EEPROM_read
    03253 0168      MOVW	R12,R16
    03254 E82A      LDI	R18,0x8A
    03255 E030      LDI	R19,0
    03256 018A      MOVW	R16,R20
    03257 5F0F      SUBI	R16,0xFF
    03258 4F1F      SBCI	R17,0xFF
    03259 940E 1110 CALL	_EEPROM_read
    0325B 0158      MOVW	R10,R16
    0325C E404      LDI	R16,0x44
    0325D E011      LDI	R17,1
    0325E 019A      MOVW	R18,R20
    0325F 940E 39E7 CALL	empy16s
    03261 E586      LDI	R24,0x56
    03262 E093      LDI	R25,3
    03263 01F8      MOVW	R30,R16
    03264 0FE8      ADD	R30,R24
    03265 1FF9      ADC	R31,R25
    03266 0116      MOVW	R2,R12
    03267 2C32      MOV	R3,R2
    03268 2422      CLR	R2
    03269 282A      OR	R2,R10
    0326A 283B      OR	R3,R11
    0326B 8231      STD	Z+1,R3
    0326C 8220      ST	Z,R2
(0373) 	    temps[i].pertime=EEPROM_read(i+1,139)<<8 | EEPROM_read(i+1,140);
    0326D E82B      LDI	R18,0x8B
    0326E E030      LDI	R19,0
    0326F 018A      MOVW	R16,R20
    03270 5F0F      SUBI	R16,0xFF
    03271 4F1F      SBCI	R17,0xFF
    03272 940E 1110 CALL	_EEPROM_read
    03274 0168      MOVW	R12,R16
    03275 E82C      LDI	R18,0x8C
    03276 E030      LDI	R19,0
    03277 018A      MOVW	R16,R20
    03278 5F0F      SUBI	R16,0xFF
    03279 4F1F      SBCI	R17,0xFF
    0327A 940E 1110 CALL	_EEPROM_read
    0327C 0158      MOVW	R10,R16
    0327D E404      LDI	R16,0x44
    0327E E011      LDI	R17,1
    0327F 019A      MOVW	R18,R20
    03280 940E 39E7 CALL	empy16s
    03282 E588      LDI	R24,0x58
    03283 E093      LDI	R25,3
    03284 01F8      MOVW	R30,R16
    03285 0FE8      ADD	R30,R24
    03286 1FF9      ADC	R31,R25
    03287 0116      MOVW	R2,R12
    03288 2C32      MOV	R3,R2
    03289 2422      CLR	R2
    0328A 282A      OR	R2,R10
    0328B 283B      OR	R3,R11
    0328C 8231      STD	Z+1,R3
    0328D 8220      ST	Z,R2
(0374) 	    temps[i].statusflag=EEPROM_read(i+1,141);
    0328E E82D      LDI	R18,0x8D
    0328F E030      LDI	R19,0
    03290 018A      MOVW	R16,R20
    03291 5F0F      SUBI	R16,0xFF
    03292 4F1F      SBCI	R17,0xFF
    03293 940E 1110 CALL	_EEPROM_read
    03295 0158      MOVW	R10,R16
    03296 E404      LDI	R16,0x44
    03297 E011      LDI	R17,1
    03298 019A      MOVW	R18,R20
    03299 940E 39E7 CALL	empy16s
    0329B E58C      LDI	R24,0x5C
    0329C E093      LDI	R25,3
    0329D 01F8      MOVW	R30,R16
    0329E 0FE8      ADD	R30,R24
    0329F 1FF9      ADC	R31,R25
    032A0 82B1      STD	Z+1,R11
    032A1 82A0      ST	Z,R10
(0375) 	    temps[i].p_settemp=EEPROM_read(i+1,142)<<8  | EEPROM_read(i+1,143);
    032A2 E82E      LDI	R18,0x8E
    032A3 E030      LDI	R19,0
    032A4 018A      MOVW	R16,R20
    032A5 5F0F      SUBI	R16,0xFF
    032A6 4F1F      SBCI	R17,0xFF
    032A7 940E 1110 CALL	_EEPROM_read
    032A9 0168      MOVW	R12,R16
    032AA E82F      LDI	R18,0x8F
    032AB E030      LDI	R19,0
    032AC 018A      MOVW	R16,R20
    032AD 5F0F      SUBI	R16,0xFF
    032AE 4F1F      SBCI	R17,0xFF
    032AF 940E 1110 CALL	_EEPROM_read
    032B1 0158      MOVW	R10,R16
    032B2 E404      LDI	R16,0x44
    032B3 E011      LDI	R17,1
    032B4 019A      MOVW	R18,R20
    032B5 940E 39E7 CALL	empy16s
    032B7 E58E      LDI	R24,0x5E
    032B8 E093      LDI	R25,3
    032B9 01F8      MOVW	R30,R16
    032BA 0FE8      ADD	R30,R24
    032BB 1FF9      ADC	R31,R25
    032BC 0116      MOVW	R2,R12
    032BD 2C32      MOV	R3,R2
    032BE 2422      CLR	R2
    032BF 282A      OR	R2,R10
    032C0 283B      OR	R3,R11
    032C1 8231      STD	Z+1,R3
    032C2 8220      ST	Z,R2
(0376) 	    temps[i].settemp=EEPROM_read(i+1,144)<<8 | EEPROM_read(i+1,145);
    032C3 E920      LDI	R18,0x90
    032C4 E030      LDI	R19,0
    032C5 018A      MOVW	R16,R20
    032C6 5F0F      SUBI	R16,0xFF
    032C7 4F1F      SBCI	R17,0xFF
    032C8 940E 1110 CALL	_EEPROM_read
    032CA 0168      MOVW	R12,R16
    032CB E921      LDI	R18,0x91
    032CC E030      LDI	R19,0
    032CD 018A      MOVW	R16,R20
    032CE 5F0F      SUBI	R16,0xFF
    032CF 4F1F      SBCI	R17,0xFF
    032D0 940E 1110 CALL	_EEPROM_read
    032D2 0158      MOVW	R10,R16
    032D3 E404      LDI	R16,0x44
    032D4 E011      LDI	R17,1
    032D5 019A      MOVW	R18,R20
    032D6 940E 39E7 CALL	empy16s
    032D8 E688      LDI	R24,0x68
    032D9 E093      LDI	R25,3
    032DA 01F8      MOVW	R30,R16
    032DB 0FE8      ADD	R30,R24
    032DC 1FF9      ADC	R31,R25
    032DD 0186      MOVW	R16,R12
    032DE 2F10      MOV	R17,R16
    032DF 2700      CLR	R16
    032E0 290A      OR	R16,R10
    032E1 291B      OR	R17,R11
    032E2 940E 3B66 CALL	uint2fp
    032E4 8300      ST	Z,R16
    032E5 8311      STD	Z+1,R17
    032E6 8322      STD	Z+2,R18
    032E7 8333      STD	Z+3,R19
(0377) 	  }
(0378) 	  for(j=0;j<132;j++){
    032E8 2766      CLR	R22
    032E9 2777      CLR	R23
    032EA C01C      RJMP	0x3307
(0379) 	    temps[i].temp_data[j]=EEPROM_read(i+1,j+1);
    032EB 019B      MOVW	R18,R22
    032EC 5F2F      SUBI	R18,0xFF
    032ED 4F3F      SBCI	R19,0xFF
    032EE 018A      MOVW	R16,R20
    032EF 5F0F      SUBI	R16,0xFF
    032F0 4F1F      SBCI	R17,0xFF
    032F1 940E 1110 CALL	_EEPROM_read
    032F3 0158      MOVW	R10,R16
    032F4 E404      LDI	R16,0x44
    032F5 E011      LDI	R17,1
    032F6 019A      MOVW	R18,R20
    032F7 940E 39E7 CALL	empy16s
    032F9 0118      MOVW	R2,R16
    032FA E48A      LDI	R24,0x4A
    032FB E092      LDI	R25,2
    032FC 0E28      ADD	R2,R24
    032FD 1E39      ADC	R3,R25
    032FE 01FB      MOVW	R30,R22
    032FF 0FEE      LSL	R30
    03300 1FFF      ROL	R31
    03301 0DE2      ADD	R30,R2
    03302 1DF3      ADC	R31,R3
    03303 82B1      STD	Z+1,R11
    03304 82A0      ST	Z,R10
    03305 5F6F      SUBI	R22,0xFF
    03306 4F7F      SBCI	R23,0xFF
    03307 3864      CPI	R22,0x84
    03308 E0E0      LDI	R30,0
    03309 077E      CPC	R23,R30
    0330A F300      BCS	0x32EB
    0330B 5F4F      SUBI	R20,0xFF
    0330C 4F5F      SBCI	R21,0xFF
    0330D 3044      CPI	R20,4
    0330E E0E0      LDI	R30,0
    0330F 075E      CPC	R21,R30
    03310 F408      BCC	0x3312
    03311 CECF      RJMP	0x31E1
    03312 940C 3A52 JMP	pop_xgsetF03C
_set_temp_data:
  head                 --> R20
  j                    --> R10
  dataCach             --> R12
  t                    --> R22
    03314 940E 3A49 CALL	push_xgsetF03C
    03316 0169      MOVW	R12,R18
    03317 01B8      MOVW	R22,R16
    03318 9722      SBIW	R28,2
(0380) 	   }
(0381) 	}
(0382)  } 
(0383) }
(0384) 
(0385) //设置指定的数据,保存相关标志位。会将设置的我温度参数发送到串口
(0386) void set_temp_data(uint t,uint* dataCach){
(0387)     uint j;
(0388) 	uint  head;
(0389) 	TCCR3B=0x00;//关闭计时器
    03319 2422      CLR	R2
    0331A 9220 008A STS	0x8A,R2
(0390) 	UCSR0B &=~(1<<UDRIE0);//关中断
    0331C 9855      CBI	0x0A,5
(0391) 	send_data_length=134;
    0331D E886      LDI	R24,0x86
    0331E E090      LDI	R25,0
    0331F 9390 023D STS	send_data_length+1,R25
    03321 9380 023C STS	send_data_length,R24
(0392) 	send_data_cur=0;
    03323 2433      CLR	R3
    03324 9230 023F STS	send_data_cur+1,R3
    03326 9220 023E STS	send_data_cur,R2
(0393) 	if(t==0){
    03328 3060      CPI	R22,0
    03329 0767      CPC	R22,R23
    0332A F419      BNE	0x332E
(0394) 	  head=0x61;//a
    0332B E641      LDI	R20,0x61
    0332C E050      LDI	R21,0
(0395) 	}else if(t==1){
    0332D C014      RJMP	0x3342
    0332E 3061      CPI	R22,1
    0332F E0E0      LDI	R30,0
    03330 077E      CPC	R23,R30
    03331 F419      BNE	0x3335
(0396) 	  head=0x62;//b
    03332 E642      LDI	R20,0x62
    03333 E050      LDI	R21,0
(0397) 	}else if(t==2){
    03334 C00D      RJMP	0x3342
    03335 3062      CPI	R22,2
    03336 E0E0      LDI	R30,0
    03337 077E      CPC	R23,R30
    03338 F419      BNE	0x333C
(0398) 	  head=0x63;//c
    03339 E643      LDI	R20,0x63
    0333A E050      LDI	R21,0
(0399) 	}else if(t==3){
    0333B C006      RJMP	0x3342
    0333C 3063      CPI	R22,3
    0333D E0E0      LDI	R30,0
    0333E 077E      CPC	R23,R30
    0333F F411      BNE	0x3342
(0400) 	  head=0x64;//d 
    03340 E644      LDI	R20,0x64
    03341 E050      LDI	R21,0
(0401) 	}
(0402) 	send_data_cache[0]=head;
    03342 9350 0111 STS	send_data_cache+1,R21
    03344 9340 0110 STS	send_data_cache,R20
(0403) 	temps[t].flag=6;
    03346 E404      LDI	R16,0x44
    03347 E011      LDI	R17,1
    03348 019B      MOVW	R18,R22
    03349 940E 39E7 CALL	empy16s
    0334B E488      LDI	R24,0x48
    0334C E092      LDI	R25,2
    0334D 01F8      MOVW	R30,R16
    0334E 0FE8      ADD	R30,R24
    0334F 1FF9      ADC	R31,R25
    03350 E086      LDI	R24,6
    03351 E090      LDI	R25,0
    03352 8391      STD	Z+1,R25
    03353 8380      ST	Z,R24
(0404) 	EEPROM_write(t+1,0,0x01);
    03354 E081      LDI	R24,1
    03355 8399      STD	Y+1,R25
    03356 8388      ST	Y,R24
    03357 2722      CLR	R18
    03358 2733      CLR	R19
    03359 018B      MOVW	R16,R22
    0335A 5F0F      SUBI	R16,0xFF
    0335B 4F1F      SBCI	R17,0xFF
    0335C 940E 10F9 CALL	_EEPROM_write
(0405) 	EEPROM_write(t+1,133,6);
    0335E E086      LDI	R24,6
    0335F E090      LDI	R25,0
    03360 8399      STD	Y+1,R25
    03361 8388      ST	Y,R24
    03362 E825      LDI	R18,0x85
    03363 E030      LDI	R19,0
    03364 018B      MOVW	R16,R22
    03365 5F0F      SUBI	R16,0xFF
    03366 4F1F      SBCI	R17,0xFF
    03367 940E 10F9 CALL	_EEPROM_write
(0406)     for(j=0;j<132;j++){
    03369 24AA      CLR	R10
    0336A 24BB      CLR	R11
    0336B C051      RJMP	0x33BD
(0407) 	   temps[t].temp_data[j]=*(dataCach+j);
    0336C 0115      MOVW	R2,R10
    0336D 0C22      LSL	R2
    0336E 1C33      ROL	R3
    0336F 0121      MOVW	R4,R2
    03370 E404      LDI	R16,0x44
    03371 E011      LDI	R17,1
    03372 019B      MOVW	R18,R22
    03373 940E 39E7 CALL	empy16s
    03375 0118      MOVW	R2,R16
    03376 E48A      LDI	R24,0x4A
    03377 E092      LDI	R25,2
    03378 0E28      ADD	R2,R24
    03379 1E39      ADC	R3,R25
    0337A 01F2      MOVW	R30,R4
    0337B 0DE2      ADD	R30,R2
    0337C 1DF3      ADC	R31,R3
    0337D 01D2      MOVW	R26,R4
    0337E 0DAC      ADD	R26,R12
    0337F 1DBD      ADC	R27,R13
    03380 902D      LD	R2,X+
    03381 903C      LD	R3,X
    03382 8231      STD	Z+1,R3
    03383 8220      ST	Z,R2
(0408) 	   send_data_cache[j+1]=temps[t].temp_data[j];
    03384 E404      LDI	R16,0x44
    03385 E011      LDI	R17,1
    03386 019B      MOVW	R18,R22
    03387 940E 39E7 CALL	empy16s
    03389 0118      MOVW	R2,R16
    0338A E48A      LDI	R24,0x4A
    0338B E092      LDI	R25,2
    0338C 0E28      ADD	R2,R24
    0338D 1E39      ADC	R3,R25
    0338E 01F5      MOVW	R30,R10
    0338F 0FEE      LSL	R30
    03390 1FFF      ROL	R31
    03391 0DE2      ADD	R30,R2
    03392 1DF3      ADC	R31,R3
    03393 8020      LD	R2,Z
    03394 8031      LDD	R3,Z+1
    03395 E180      LDI	R24,0x10
    03396 E091      LDI	R25,1
    03397 01F5      MOVW	R30,R10
    03398 9631      ADIW	R30,1
    03399 0FEE      LSL	R30
    0339A 1FFF      ROL	R31
    0339B 0FE8      ADD	R30,R24
    0339C 1FF9      ADC	R31,R25
    0339D 8231      STD	Z+1,R3
    0339E 8220      ST	Z,R2
(0409) 	   EEPROM_write(t+1,j+1,temps[t].temp_data[j]);//这里要保存的
    0339F E404      LDI	R16,0x44
    033A0 E011      LDI	R17,1
    033A1 019B      MOVW	R18,R22
    033A2 940E 39E7 CALL	empy16s
    033A4 0118      MOVW	R2,R16
    033A5 E48A      LDI	R24,0x4A
    033A6 E092      LDI	R25,2
    033A7 0E28      ADD	R2,R24
    033A8 1E39      ADC	R3,R25
    033A9 01F5      MOVW	R30,R10
    033AA 0FEE      LSL	R30
    033AB 1FFF      ROL	R31
    033AC 0DE2      ADD	R30,R2
    033AD 1DF3      ADC	R31,R3
    033AE 8020      LD	R2,Z
    033AF 8031      LDD	R3,Z+1
    033B0 8239      STD	Y+1,R3
    033B1 8228      ST	Y,R2
    033B2 0195      MOVW	R18,R10
    033B3 5F2F      SUBI	R18,0xFF
    033B4 4F3F      SBCI	R19,0xFF
    033B5 018B      MOVW	R16,R22
    033B6 5F0F      SUBI	R16,0xFF
    033B7 4F1F      SBCI	R17,0xFF
    033B8 940E 10F9 CALL	_EEPROM_write
    033BA 01C5      MOVW	R24,R10
    033BB 9601      ADIW	R24,1
    033BC 015C      MOVW	R10,R24
    033BD 01C5      MOVW	R24,R10
    033BE 3884      CPI	R24,0x84
    033BF E0E0      LDI	R30,0
    033C0 079E      CPC	R25,R30
    033C1 F408      BCC	0x33C3
    033C2 CFA9      RJMP	0x336C
(0410) 	}
(0411) 	send_data_cache[133]=head;
    033C3 9350 021B STS	send_data_cache+267,R21
    033C5 9340 021A STS	send_data_cache+266,R20
(0412) 	UCSR0B |=(1<<UDRIE0); //发送使中断能。
    033C7 9A55      SBI	0x0A,5
(0413) 	delay_us(10);
    033C8 E00A      LDI	R16,0xA
    033C9 E010      LDI	R17,0
    033CA 940E 04DA CALL	_delay_us
(0414) 	TCCR3B=0x05;//打开计时器
    033CC E085      LDI	R24,5
    033CD 9380 008A STS	0x8A,R24
(0415) 	return;
    033CF 9622      ADIW	R28,2
    033D0 940C 3A52 JMP	pop_xgsetF03C
_send_temp_data:
  head                 --> R20
  j                    --> R22
  t                    --> R10
    033D2 940E 3A2D CALL	push_xgsetF00C
    033D4 0158      MOVW	R10,R16
(0416) }
(0417) //发送指定温度参数到串口。由上位机请求发送
(0418) void send_temp_data(uint t){
(0419)     uint j;
(0420) 	uint  head;
(0421) 	TCCR3B=0x00;//关闭计时器
    033D5 2422      CLR	R2
    033D6 9220 008A STS	0x8A,R2
(0422) 	UCSR0B &=~(1<<UDRIE0);//关中断
    033D8 9855      CBI	0x0A,5
(0423) 	send_data_length=134;
    033D9 E886      LDI	R24,0x86
    033DA E090      LDI	R25,0
    033DB 9390 023D STS	send_data_length+1,R25
    033DD 9380 023C STS	send_data_length,R24
(0424) 	send_data_cur=0;
    033DF 2433      CLR	R3
    033E0 9230 023F STS	send_data_cur+1,R3
    033E2 9220 023E STS	send_data_cur,R2
(0425) 	if(t==0){
    033E4 20AA      TST	R10
    033E5 F429      BNE	0x33EB
    033E6 20BB      TST	R11
    033E7 F419      BNE	0x33EB
(0426) 	  head=0x61;//a
    033E8 E641      LDI	R20,0x61
    033E9 E050      LDI	R21,0
(0427) 	}else if(t==1){
    033EA C017      RJMP	0x3402
    033EB 01C5      MOVW	R24,R10
    033EC 3081      CPI	R24,1
    033ED E0E0      LDI	R30,0
    033EE 079E      CPC	R25,R30
    033EF F419      BNE	0x33F3
(0428) 	  head=0x62;//b
    033F0 E642      LDI	R20,0x62
    033F1 E050      LDI	R21,0
(0429) 	}else if(t==2){
    033F2 C00F      RJMP	0x3402
    033F3 01C5      MOVW	R24,R10
    033F4 3082      CPI	R24,2
    033F5 E0E0      LDI	R30,0
    033F6 079E      CPC	R25,R30
    033F7 F419      BNE	0x33FB
(0430) 	  head=0x63;//c
    033F8 E643      LDI	R20,0x63
    033F9 E050      LDI	R21,0
(0431) 	}else if(t==3){
    033FA C007      RJMP	0x3402
    033FB 01C5      MOVW	R24,R10
    033FC 3083      CPI	R24,3
    033FD E0E0      LDI	R30,0
    033FE 079E      CPC	R25,R30
    033FF F411      BNE	0x3402
(0432) 	  head=0x64;//d 
    03400 E644      LDI	R20,0x64
    03401 E050      LDI	R21,0
(0433) 	}
(0434) 	send_data_cache[0]=head;
    03402 9350 0111 STS	send_data_cache+1,R21
    03404 9340 0110 STS	send_data_cache,R20
(0435)     for(j=0;j<132;j++){
    03406 2766      CLR	R22
    03407 2777      CLR	R23
    03408 C01D      RJMP	0x3426
(0436) 	   send_data_cache[j+1]= temps[t].temp_data[j];
    03409 E404      LDI	R16,0x44
    0340A E011      LDI	R17,1
    0340B 0195      MOVW	R18,R10
    0340C 940E 39E7 CALL	empy16s
    0340E 0118      MOVW	R2,R16
    0340F E48A      LDI	R24,0x4A
    03410 E092      LDI	R25,2
    03411 0E28      ADD	R2,R24
    03412 1E39      ADC	R3,R25
    03413 01FB      MOVW	R30,R22
    03414 0FEE      LSL	R30
    03415 1FFF      ROL	R31
    03416 0DE2      ADD	R30,R2
    03417 1DF3      ADC	R31,R3
    03418 8020      LD	R2,Z
    03419 8031      LDD	R3,Z+1
    0341A E180      LDI	R24,0x10
    0341B E091      LDI	R25,1
    0341C 01FB      MOVW	R30,R22
    0341D 9631      ADIW	R30,1
    0341E 0FEE      LSL	R30
    0341F 1FFF      ROL	R31
    03420 0FE8      ADD	R30,R24
    03421 1FF9      ADC	R31,R25
    03422 8231      STD	Z+1,R3
    03423 8220      ST	Z,R2
    03424 5F6F      SUBI	R22,0xFF
    03425 4F7F      SBCI	R23,0xFF
    03426 3864      CPI	R22,0x84
    03427 E0E0      LDI	R30,0
    03428 077E      CPC	R23,R30
    03429 F2F8      BCS	0x3409
(0437) 	}
(0438) 	send_data_cache[133]=head;
    0342A 9350 021B STS	send_data_cache+267,R21
    0342C 9340 021A STS	send_data_cache+266,R20
(0439) 	UCSR0B |=(1<<UDRIE0); //发送使中断能。
    0342E 9A55      SBI	0x0A,5
(0440) 	delay_us(10);
    0342F E00A      LDI	R16,0xA
    03430 E010      LDI	R17,0
    03431 940E 04DA CALL	_delay_us
(0441) 	TCCR3B=0x05;//打开计时器
    03433 E085      LDI	R24,5
    03434 9380 008A STS	0x8A,R24
(0442) 	return;
    03436 940C 3A34 JMP	pop_xgsetF00C
_reset_temp_data:
  j                    --> R22
  t                    --> R20
    03438 940E 3A23 CALL	push_xgsetF000
    0343A 01A8      MOVW	R20,R16
    0343B 9722      SBIW	R28,2
(0443) }
(0444) 
(0445) //重置指定的数据,保存相关标志位
(0446) void reset_temp_data(uint t){
(0447)     uint j;
(0448) 	temps[t].flag=0;
    0343C E404      LDI	R16,0x44
    0343D E011      LDI	R17,1
    0343E 019A      MOVW	R18,R20
    0343F 940E 39E7 CALL	empy16s
    03441 E488      LDI	R24,0x48
    03442 E092      LDI	R25,2
    03443 01F8      MOVW	R30,R16
    03444 0FE8      ADD	R30,R24
    03445 1FF9      ADC	R31,R25
    03446 2422      CLR	R2
    03447 2433      CLR	R3
    03448 8231      STD	Z+1,R3
    03449 8220      ST	Z,R2
(0449) 	temps[t].status=0;
    0344A E404      LDI	R16,0x44
    0344B E011      LDI	R17,1
    0344C 019A      MOVW	R18,R20
    0344D 940E 39E7 CALL	empy16s
    0344F E582      LDI	R24,0x52
    03450 E093      LDI	R25,3
    03451 01F8      MOVW	R30,R16
    03452 0FE8      ADD	R30,R24
    03453 1FF9      ADC	R31,R25
    03454 2422      CLR	R2
    03455 2433      CLR	R3
    03456 8231      STD	Z+1,R3
    03457 8220      ST	Z,R2
(0450) 	temps[t].statusflag=1;//是否第一次进入当前状态,1、第一次；0、不是第一次
    03458 E404      LDI	R16,0x44
    03459 E011      LDI	R17,1
    0345A 019A      MOVW	R18,R20
    0345B 940E 39E7 CALL	empy16s
    0345D E58C      LDI	R24,0x5C
    0345E E093      LDI	R25,3
    0345F 01F8      MOVW	R30,R16
    03460 0FE8      ADD	R30,R24
    03461 1FF9      ADC	R31,R25
    03462 E081      LDI	R24,1
    03463 E090      LDI	R25,0
    03464 8391      STD	Z+1,R25
    03465 8380      ST	Z,R24
(0451) 		//控制相关
(0452) 	temps[t].p_settemp=0;//升温时候的小阶段需要温度
    03466 E404      LDI	R16,0x44
    03467 E011      LDI	R17,1
    03468 019A      MOVW	R18,R20
    03469 940E 39E7 CALL	empy16s
    0346B E58E      LDI	R24,0x5E
    0346C E093      LDI	R25,3
    0346D 01F8      MOVW	R30,R16
    0346E 0FE8      ADD	R30,R24
    0346F 1FF9      ADC	R31,R25
    03470 2422      CLR	R2
    03471 2433      CLR	R3
    03472 8231      STD	Z+1,R3
    03473 8220      ST	Z,R2
(0453) 	temps[t].p_err_next=0;//升温阶段控制使用
    03474 E404      LDI	R16,0x44
    03475 E011      LDI	R17,1
    03476 019A      MOVW	R18,R20
    03477 940E 39E7 CALL	empy16s
    03479 E680      LDI	R24,0x60
    0347A E093      LDI	R25,3
    0347B 01F8      MOVW	R30,R16
    0347C 0FE8      ADD	R30,R24
    0347D 1FF9      ADC	R31,R25
    0347E 2422      CLR	R2
    0347F 2433      CLR	R3
    03480 8231      STD	Z+1,R3
    03481 8220      ST	Z,R2
(0454)     temps[t].p_err_last=0;
    03482 E404      LDI	R16,0x44
    03483 E011      LDI	R17,1
    03484 019A      MOVW	R18,R20
    03485 940E 39E7 CALL	empy16s
    03487 E686      LDI	R24,0x66
    03488 E093      LDI	R25,3
    03489 01F8      MOVW	R30,R16
    0348A 0FE8      ADD	R30,R24
    0348B 1FF9      ADC	R31,R25
    0348C 2422      CLR	R2
    0348D 2433      CLR	R3
    0348E 8231      STD	Z+1,R3
    0348F 8220      ST	Z,R2
(0455) 	 temps[t].err_last=0;
    03490 E404      LDI	R16,0x44
    03491 E011      LDI	R17,1
    03492 019A      MOVW	R18,R20
    03493 940E 39E7 CALL	empy16s
    03495 E784      LDI	R24,0x74
    03496 E093      LDI	R25,3
    03497 01F8      MOVW	R30,R16
    03498 0FE8      ADD	R30,R24
    03499 1FF9      ADC	R31,R25
    0349A E904      LDI	R16,0x94
    0349B E010      LDI	R17,0
    0349C 940E 39D3 CALL	elpm32
    0349E 8300      ST	Z,R16
    0349F 8311      STD	Z+1,R17
    034A0 8322      STD	Z+2,R18
    034A1 8333      STD	Z+3,R19
(0456) 	 temps[t].err_next=0;
    034A2 E404      LDI	R16,0x44
    034A3 E011      LDI	R17,1
    034A4 019A      MOVW	R18,R20
    034A5 940E 39E7 CALL	empy16s
    034A7 E788      LDI	R24,0x78
    034A8 E093      LDI	R25,3
    034A9 01F8      MOVW	R30,R16
    034AA 0FE8      ADD	R30,R24
    034AB 1FF9      ADC	R31,R25
    034AC E904      LDI	R16,0x94
    034AD E010      LDI	R17,0
    034AE 940E 39D3 CALL	elpm32
    034B0 8300      ST	Z,R16
    034B1 8311      STD	Z+1,R17
    034B2 8322      STD	Z+2,R18
    034B3 8333      STD	Z+3,R19
(0457) 	
(0458) 	EEPROM_write(t+1,0,0x00);
    034B4 2422      CLR	R2
    034B5 2433      CLR	R3
    034B6 8239      STD	Y+1,R3
    034B7 8228      ST	Y,R2
    034B8 2722      CLR	R18
    034B9 2733      CLR	R19
    034BA 018A      MOVW	R16,R20
    034BB 5F0F      SUBI	R16,0xFF
    034BC 4F1F      SBCI	R17,0xFF
    034BD 940E 10F9 CALL	_EEPROM_write
(0459) 	EEPROM_write(t+1,133,0x00);
    034BF 2422      CLR	R2
    034C0 2433      CLR	R3
    034C1 8239      STD	Y+1,R3
    034C2 8228      ST	Y,R2
    034C3 E825      LDI	R18,0x85
    034C4 E030      LDI	R19,0
    034C5 018A      MOVW	R16,R20
    034C6 5F0F      SUBI	R16,0xFF
    034C7 4F1F      SBCI	R17,0xFF
    034C8 940E 10F9 CALL	_EEPROM_write
(0460)     for(j=0;j<132;j++){
    034CA 2766      CLR	R22
    034CB 2777      CLR	R23
    034CC C01F      RJMP	0x34EC
(0461) 	   temps[t].temp_data[j]=0;
    034CD E404      LDI	R16,0x44
    034CE E011      LDI	R17,1
    034CF 019A      MOVW	R18,R20
    034D0 940E 39E7 CALL	empy16s
    034D2 0118      MOVW	R2,R16
    034D3 E48A      LDI	R24,0x4A
    034D4 E092      LDI	R25,2
    034D5 0E28      ADD	R2,R24
    034D6 1E39      ADC	R3,R25
    034D7 01FB      MOVW	R30,R22
    034D8 0FEE      LSL	R30
    034D9 1FFF      ROL	R31
    034DA 0DE2      ADD	R30,R2
    034DB 1DF3      ADC	R31,R3
    034DC 2422      CLR	R2
    034DD 2433      CLR	R3
    034DE 8231      STD	Z+1,R3
    034DF 8220      ST	Z,R2
(0462) 	   EEPROM_write(t+1,j+1,0);//这里要保存的
    034E0 8239      STD	Y+1,R3
    034E1 8228      ST	Y,R2
    034E2 019B      MOVW	R18,R22
    034E3 5F2F      SUBI	R18,0xFF
    034E4 4F3F      SBCI	R19,0xFF
    034E5 018A      MOVW	R16,R20
    034E6 5F0F      SUBI	R16,0xFF
    034E7 4F1F      SBCI	R17,0xFF
    034E8 940E 10F9 CALL	_EEPROM_write
    034EA 5F6F      SUBI	R22,0xFF
    034EB 4F7F      SBCI	R23,0xFF
    034EC 3864      CPI	R22,0x84
    034ED E0E0      LDI	R30,0
    034EE 077E      CPC	R23,R30
    034EF F2E8      BCS	0x34CD
(0463) 	}
(0464) 	 EEPROM_write(t+1,134,0);
    034F0 2422      CLR	R2
    034F1 2433      CLR	R3
    034F2 8239      STD	Y+1,R3
    034F3 8228      ST	Y,R2
    034F4 E826      LDI	R18,0x86
    034F5 E030      LDI	R19,0
    034F6 018A      MOVW	R16,R20
    034F7 5F0F      SUBI	R16,0xFF
    034F8 4F1F      SBCI	R17,0xFF
    034F9 940E 10F9 CALL	_EEPROM_write
(0465) 	 EEPROM_write(t+1,135,0);
    034FB 2422      CLR	R2
    034FC 2433      CLR	R3
    034FD 8239      STD	Y+1,R3
    034FE 8228      ST	Y,R2
    034FF E827      LDI	R18,0x87
    03500 E030      LDI	R19,0
    03501 018A      MOVW	R16,R20
    03502 5F0F      SUBI	R16,0xFF
    03503 4F1F      SBCI	R17,0xFF
    03504 940E 10F9 CALL	_EEPROM_write
(0466) 	 EEPROM_write(t+1,136,0);
    03506 2422      CLR	R2
    03507 2433      CLR	R3
    03508 8239      STD	Y+1,R3
    03509 8228      ST	Y,R2
    0350A E828      LDI	R18,0x88
    0350B E030      LDI	R19,0
    0350C 018A      MOVW	R16,R20
    0350D 5F0F      SUBI	R16,0xFF
    0350E 4F1F      SBCI	R17,0xFF
    0350F 940E 10F9 CALL	_EEPROM_write
(0467) 	 EEPROM_write(t+1,137,0);
    03511 2422      CLR	R2
    03512 2433      CLR	R3
    03513 8239      STD	Y+1,R3
    03514 8228      ST	Y,R2
    03515 E829      LDI	R18,0x89
    03516 E030      LDI	R19,0
    03517 018A      MOVW	R16,R20
    03518 5F0F      SUBI	R16,0xFF
    03519 4F1F      SBCI	R17,0xFF
    0351A 940E 10F9 CALL	_EEPROM_write
(0468) 	 EEPROM_write(t+1,138,0);
    0351C 2422      CLR	R2
    0351D 2433      CLR	R3
    0351E 8239      STD	Y+1,R3
    0351F 8228      ST	Y,R2
    03520 E82A      LDI	R18,0x8A
    03521 E030      LDI	R19,0
    03522 018A      MOVW	R16,R20
    03523 5F0F      SUBI	R16,0xFF
    03524 4F1F      SBCI	R17,0xFF
    03525 940E 10F9 CALL	_EEPROM_write
(0469) 	 EEPROM_write(t+1,139,0);
    03527 2422      CLR	R2
    03528 2433      CLR	R3
    03529 8239      STD	Y+1,R3
    0352A 8228      ST	Y,R2
    0352B E82B      LDI	R18,0x8B
    0352C E030      LDI	R19,0
    0352D 018A      MOVW	R16,R20
    0352E 5F0F      SUBI	R16,0xFF
    0352F 4F1F      SBCI	R17,0xFF
    03530 940E 10F9 CALL	_EEPROM_write
(0470) 	 EEPROM_write(t+1,140,0);
    03532 2422      CLR	R2
    03533 2433      CLR	R3
    03534 8239      STD	Y+1,R3
    03535 8228      ST	Y,R2
    03536 E82C      LDI	R18,0x8C
    03537 E030      LDI	R19,0
    03538 018A      MOVW	R16,R20
    03539 5F0F      SUBI	R16,0xFF
    0353A 4F1F      SBCI	R17,0xFF
    0353B 940E 10F9 CALL	_EEPROM_write
(0471) 	 EEPROM_write(t+1,141,0);
    0353D 2422      CLR	R2
    0353E 2433      CLR	R3
    0353F 8239      STD	Y+1,R3
    03540 8228      ST	Y,R2
    03541 E82D      LDI	R18,0x8D
    03542 E030      LDI	R19,0
    03543 018A      MOVW	R16,R20
    03544 5F0F      SUBI	R16,0xFF
    03545 4F1F      SBCI	R17,0xFF
    03546 940E 10F9 CALL	_EEPROM_write
(0472) 	 EEPROM_write(t+1,142,0);
    03548 2422      CLR	R2
    03549 2433      CLR	R3
    0354A 8239      STD	Y+1,R3
    0354B 8228      ST	Y,R2
    0354C E82E      LDI	R18,0x8E
    0354D E030      LDI	R19,0
    0354E 018A      MOVW	R16,R20
    0354F 5F0F      SUBI	R16,0xFF
    03550 4F1F      SBCI	R17,0xFF
    03551 940E 10F9 CALL	_EEPROM_write
(0473) 	 EEPROM_write(t+1,143,0);
    03553 2422      CLR	R2
    03554 2433      CLR	R3
    03555 8239      STD	Y+1,R3
    03556 8228      ST	Y,R2
    03557 E82F      LDI	R18,0x8F
    03558 E030      LDI	R19,0
    03559 018A      MOVW	R16,R20
    0355A 5F0F      SUBI	R16,0xFF
    0355B 4F1F      SBCI	R17,0xFF
    0355C 940E 10F9 CALL	_EEPROM_write
(0474) 	 EEPROM_write(t+1,144,0);
    0355E 2422      CLR	R2
    0355F 2433      CLR	R3
    03560 8239      STD	Y+1,R3
    03561 8228      ST	Y,R2
    03562 E920      LDI	R18,0x90
    03563 E030      LDI	R19,0
    03564 018A      MOVW	R16,R20
    03565 5F0F      SUBI	R16,0xFF
    03566 4F1F      SBCI	R17,0xFF
    03567 940E 10F9 CALL	_EEPROM_write
(0475) 	 EEPROM_write(t+1,145,0);
    03569 2422      CLR	R2
    0356A 2433      CLR	R3
    0356B 8239      STD	Y+1,R3
    0356C 8228      ST	Y,R2
    0356D E921      LDI	R18,0x91
    0356E E030      LDI	R19,0
    0356F 018A      MOVW	R16,R20
    03570 5F0F      SUBI	R16,0xFF
    03571 4F1F      SBCI	R17,0xFF
    03572 940E 10F9 CALL	_EEPROM_write
    03574 9622      ADIW	R28,2
    03575 940C 3A28 JMP	pop_xgsetF000
_set_all_start:
  j                    --> R20
    03577 934A      ST	-Y,R20
    03578 935A      ST	-Y,R21
(0476) }
(0477) //温度全部开始工作。状态为停止和刚重置数据的可以开始
(0478) void set_all_start(void){
(0479)     uint j;
(0480) 	
(0481)     for(j=0;j<4;j++){
    03579 2744      CLR	R20
    0357A 2755      CLR	R21
    0357B C03F      RJMP	0x35BB
(0482) 	    if(temps[j].flag==3){
    0357C E404      LDI	R16,0x44
    0357D E011      LDI	R17,1
    0357E 019A      MOVW	R18,R20
    0357F 940E 39E7 CALL	empy16s
    03581 E488      LDI	R24,0x48
    03582 E092      LDI	R25,2
    03583 01F8      MOVW	R30,R16
    03584 0FE8      ADD	R30,R24
    03585 1FF9      ADC	R31,R25
    03586 8180      LD	R24,Z
    03587 8191      LDD	R25,Z+1
    03588 3083      CPI	R24,3
    03589 E0E0      LDI	R30,0
    0358A 079E      CPC	R25,R30
    0358B F479      BNE	0x359B
(0483) 	           temps[j].flag=1;
    0358C E404      LDI	R16,0x44
    0358D E011      LDI	R17,1
    0358E 019A      MOVW	R18,R20
    0358F 940E 39E7 CALL	empy16s
    03591 E488      LDI	R24,0x48
    03592 E092      LDI	R25,2
    03593 01F8      MOVW	R30,R16
    03594 0FE8      ADD	R30,R24
    03595 1FF9      ADC	R31,R25
    03596 E081      LDI	R24,1
    03597 E090      LDI	R25,0
    03598 8391      STD	Z+1,R25
    03599 8380      ST	Z,R24
(0484) 	      }else if(temps[j].flag==6){
    0359A C01E      RJMP	0x35B9
    0359B E404      LDI	R16,0x44
    0359C E011      LDI	R17,1
    0359D 019A      MOVW	R18,R20
    0359E 940E 39E7 CALL	empy16s
    035A0 E488      LDI	R24,0x48
    035A1 E092      LDI	R25,2
    035A2 01F8      MOVW	R30,R16
    035A3 0FE8      ADD	R30,R24
    035A4 1FF9      ADC	R31,R25
    035A5 8180      LD	R24,Z
    035A6 8191      LDD	R25,Z+1
    035A7 3086      CPI	R24,6
    035A8 E0E0      LDI	R30,0
    035A9 079E      CPC	R25,R30
    035AA F471      BNE	0x35B9
(0485) 	             temps[j].flag=5;
    035AB E404      LDI	R16,0x44
    035AC E011      LDI	R17,1
    035AD 019A      MOVW	R18,R20
    035AE 940E 39E7 CALL	empy16s
    035B0 E488      LDI	R24,0x48
    035B1 E092      LDI	R25,2
    035B2 01F8      MOVW	R30,R16
    035B3 0FE8      ADD	R30,R24
    035B4 1FF9      ADC	R31,R25
    035B5 E085      LDI	R24,5
    035B6 E090      LDI	R25,0
    035B7 8391      STD	Z+1,R25
    035B8 8380      ST	Z,R24
    035B9 5F4F      SUBI	R20,0xFF
    035BA 4F5F      SBCI	R21,0xFF
    035BB 3044      CPI	R20,4
    035BC E0E0      LDI	R30,0
    035BD 075E      CPC	R21,R30
    035BE F408      BCC	0x35C0
    035BF CFBC      RJMP	0x357C
    035C0 9159      LD	R21,Y+
    035C1 9149      LD	R20,Y+
    035C2 9508      RET
_set_all_stop:
  j                    --> R20
    035C3 934A      ST	-Y,R20
    035C4 935A      ST	-Y,R21
(0486) 
(0487) 	      }
(0488) 	}
(0489) }
(0490) //温度全部暂停.要运行的才会暂停。。关闭输出
(0491) void set_all_stop(void){
(0492)     uint j;
(0493) 	
(0494)     for(j=0;j<4;j++){
    035C5 2744      CLR	R20
    035C6 2755      CLR	R21
    035C7 C025      RJMP	0x35ED
(0495) 	  if(temps[j].flag==1 || temps[j].flag==5){
    035C8 E404      LDI	R16,0x44
    035C9 E011      LDI	R17,1
    035CA 019A      MOVW	R18,R20
    035CB 940E 39E7 CALL	empy16s
    035CD E488      LDI	R24,0x48
    035CE E092      LDI	R25,2
    035CF 01F8      MOVW	R30,R16
    035D0 0FE8      ADD	R30,R24
    035D1 1FF9      ADC	R31,R25
    035D2 8020      LD	R2,Z
    035D3 8031      LDD	R3,Z+1
    035D4 01C1      MOVW	R24,R2
    035D5 3081      CPI	R24,1
    035D6 E0E0      LDI	R30,0
    035D7 079E      CPC	R25,R30
    035D8 F021      BEQ	0x35DD
    035D9 3085      CPI	R24,5
    035DA E0E0      LDI	R30,0
    035DB 079E      CPC	R25,R30
    035DC F471      BNE	0x35EB
(0496) 	     temps[j].flag=3;
    035DD E404      LDI	R16,0x44
    035DE E011      LDI	R17,1
    035DF 019A      MOVW	R18,R20
    035E0 940E 39E7 CALL	empy16s
    035E2 E488      LDI	R24,0x48
    035E3 E092      LDI	R25,2
    035E4 01F8      MOVW	R30,R16
    035E5 0FE8      ADD	R30,R24
    035E6 1FF9      ADC	R31,R25
    035E7 E083      LDI	R24,3
    035E8 E090      LDI	R25,0
    035E9 8391      STD	Z+1,R25
    035EA 8380      ST	Z,R24
    035EB 5F4F      SUBI	R20,0xFF
    035EC 4F5F      SBCI	R21,0xFF
    035ED 3044      CPI	R20,4
    035EE E0E0      LDI	R30,0
    035EF 075E      CPC	R21,R30
    035F0 F2B8      BCS	0x35C8
    035F1 9159      LD	R21,Y+
    035F2 9149      LD	R20,Y+
    035F3 9508      RET
_set_start:
  t                    --> R10
    035F4 92AA      ST	-Y,R10
    035F5 92BA      ST	-Y,R11
    035F6 0158      MOVW	R10,R16
(0497) 		//  EEPROM_write(j+1,133,3);
(0498) 	   }
(0499) 	}
(0500) }
(0501) //指定温度开始,预备
(0502) void set_start(uint t){
(0503)   if(temps[t].flag==3){
    035F7 E404      LDI	R16,0x44
    035F8 E011      LDI	R17,1
    035F9 0195      MOVW	R18,R10
    035FA 940E 39E7 CALL	empy16s
    035FC E488      LDI	R24,0x48
    035FD E092      LDI	R25,2
    035FE 01F8      MOVW	R30,R16
    035FF 0FE8      ADD	R30,R24
    03600 1FF9      ADC	R31,R25
    03601 8180      LD	R24,Z
    03602 8191      LDD	R25,Z+1
    03603 3083      CPI	R24,3
    03604 E0E0      LDI	R30,0
    03605 079E      CPC	R25,R30
    03606 F479      BNE	0x3616
(0504) 	     temps[t].flag=1;
    03607 E404      LDI	R16,0x44
    03608 E011      LDI	R17,1
    03609 0195      MOVW	R18,R10
    0360A 940E 39E7 CALL	empy16s
    0360C E488      LDI	R24,0x48
    0360D E092      LDI	R25,2
    0360E 01F8      MOVW	R30,R16
    0360F 0FE8      ADD	R30,R24
    03610 1FF9      ADC	R31,R25
    03611 E081      LDI	R24,1
    03612 E090      LDI	R25,0
    03613 8391      STD	Z+1,R25
    03614 8380      ST	Z,R24
(0505) 		///  EEPROM_write(t+1,133,5);
(0506) 	}else if(temps[t].flag==6){
    03615 C03D      RJMP	0x3653
    03616 E404      LDI	R16,0x44
    03617 E011      LDI	R17,1
    03618 0195      MOVW	R18,R10
    03619 940E 39E7 CALL	empy16s
    0361B E488      LDI	R24,0x48
    0361C E092      LDI	R25,2
    0361D 01F8      MOVW	R30,R16
    0361E 0FE8      ADD	R30,R24
    0361F 1FF9      ADC	R31,R25
    03620 8180      LD	R24,Z
    03621 8191      LDD	R25,Z+1
    03622 3086      CPI	R24,6
    03623 E0E0      LDI	R30,0
    03624 079E      CPC	R25,R30
    03625 F479      BNE	0x3635
(0507) 	     temps[t].flag=5;
    03626 E404      LDI	R16,0x44
    03627 E011      LDI	R17,1
    03628 0195      MOVW	R18,R10
    03629 940E 39E7 CALL	empy16s
    0362B E488      LDI	R24,0x48
    0362C E092      LDI	R25,2
    0362D 01F8      MOVW	R30,R16
    0362E 0FE8      ADD	R30,R24
    0362F 1FF9      ADC	R31,R25
    03630 E085      LDI	R24,5
    03631 E090      LDI	R25,0
    03632 8391      STD	Z+1,R25
    03633 8380      ST	Z,R24
(0508) 		///  EEPROM_write(t+1,133,5);
(0509) 	}else if(temps[t].flag==4){
    03634 C01E      RJMP	0x3653
    03635 E404      LDI	R16,0x44
    03636 E011      LDI	R17,1
    03637 0195      MOVW	R18,R10
    03638 940E 39E7 CALL	empy16s
    0363A E488      LDI	R24,0x48
    0363B E092      LDI	R25,2
    0363C 01F8      MOVW	R30,R16
    0363D 0FE8      ADD	R30,R24
    0363E 1FF9      ADC	R31,R25
    0363F 8180      LD	R24,Z
    03640 8191      LDD	R25,Z+1
    03641 3084      CPI	R24,4
    03642 E0E0      LDI	R30,0
    03643 079E      CPC	R25,R30
    03644 F471      BNE	0x3653
(0510) 	     temps[t].flag=5;
    03645 E404      LDI	R16,0x44
    03646 E011      LDI	R17,1
    03647 0195      MOVW	R18,R10
    03648 940E 39E7 CALL	empy16s
    0364A E488      LDI	R24,0x48
    0364B E092      LDI	R25,2
    0364C 01F8      MOVW	R30,R16
    0364D 0FE8      ADD	R30,R24
    0364E 1FF9      ADC	R31,R25
    0364F E085      LDI	R24,5
    03650 E090      LDI	R25,0
    03651 8391      STD	Z+1,R25
    03652 8380      ST	Z,R24
(0511) 		///  EEPROM_write(t+1,133,5);
(0512) 	}
    03653 90B9      LD	R11,Y+
    03654 90A9      LD	R10,Y+
    03655 9508      RET
_set_stop:
  t                    --> R10
    03656 92AA      ST	-Y,R10
    03657 92BA      ST	-Y,R11
    03658 0158      MOVW	R10,R16
(0513) }
(0514) 
(0515) //指定温度暂停。关闭输出
(0516) void set_stop(uint t){
(0517)  if(temps[t].flag==1 || temps[t].flag==5){
    03659 E404      LDI	R16,0x44
    0365A E011      LDI	R17,1
    0365B 0195      MOVW	R18,R10
    0365C 940E 39E7 CALL	empy16s
    0365E E488      LDI	R24,0x48
    0365F E092      LDI	R25,2
    03660 01F8      MOVW	R30,R16
    03661 0FE8      ADD	R30,R24
    03662 1FF9      ADC	R31,R25
    03663 8020      LD	R2,Z
    03664 8031      LDD	R3,Z+1
    03665 01C1      MOVW	R24,R2
    03666 3081      CPI	R24,1
    03667 E0E0      LDI	R30,0
    03668 079E      CPC	R25,R30
    03669 F021      BEQ	0x366E
    0366A 3085      CPI	R24,5
    0366B E0E0      LDI	R30,0
    0366C 079E      CPC	R25,R30
    0366D F471      BNE	0x367C
(0518) 	     temps[t].flag=3;
    0366E E404      LDI	R16,0x44
    0366F E011      LDI	R17,1
    03670 0195      MOVW	R18,R10
    03671 940E 39E7 CALL	empy16s
    03673 E488      LDI	R24,0x48
    03674 E092      LDI	R25,2
    03675 01F8      MOVW	R30,R16
    03676 0FE8      ADD	R30,R24
    03677 1FF9      ADC	R31,R25
    03678 E083      LDI	R24,3
    03679 E090      LDI	R25,0
    0367A 8391      STD	Z+1,R25
    0367B 8380      ST	Z,R24
(0519) 		// EEPROM_write(t+1,133,3);
(0520) 	   }
    0367C 90B9      LD	R11,Y+
    0367D 90A9      LD	R10,Y+
    0367E 9508      RET
_PID_realize:
  temp_n               --> R10
    0367F 940E 3A49 CALL	push_xgsetF03C
    03681 0158      MOVW	R10,R16
(0521) }
(0522) /***********************************************************************
(0523) * 函数功能：	PID计算
(0524) * 参      数：	读入的温度
(0525) * 返 回  值：	无	改变incrementtemp的值，输出函数获得这个值然后输出
(0526) * 备	   注：	
(0527) **1
(0528) **********************************************************************/
(0529) void PID_realize(uint temp_n)
(0530) {
(0531)    temps[temp_n].err=temps[temp_n].settemp-temps[temp_n].actualtemp;//这两个都在结构体中
    03682 E404      LDI	R16,0x44
    03683 E011      LDI	R17,1
    03684 0195      MOVW	R18,R10
    03685 940E 39E7 CALL	empy16s
    03687 0128      MOVW	R4,R16
    03688 E688      LDI	R24,0x68
    03689 E093      LDI	R25,3
    0368A 01F2      MOVW	R30,R4
    0368B 0FE8      ADD	R30,R24
    0368C 1FF9      ADC	R31,R25
    0368D 8100      LD	R16,Z
    0368E 8111      LDD	R17,Z+1
    0368F 8122      LDD	R18,Z+2
    03690 8133      LDD	R19,Z+3
    03691 E68C      LDI	R24,0x6C
    03692 E093      LDI	R25,3
    03693 0112      MOVW	R2,R4
    03694 0E28      ADD	R2,R24
    03695 1E39      ADC	R3,R25
    03696 923A      ST	-Y,R3
    03697 922A      ST	-Y,R2
    03698 940E 3B04 CALL	fpsub1
    0369A E780      LDI	R24,0x70
    0369B E093      LDI	R25,3
    0369C 01F2      MOVW	R30,R4
    0369D 0FE8      ADD	R30,R24
    0369E 1FF9      ADC	R31,R25
    0369F 8300      ST	Z,R16
    036A0 8311      STD	Z+1,R17
    036A1 8322      STD	Z+2,R18
    036A2 8333      STD	Z+3,R19
(0532)    temps[temp_n].incrementtemp=temps[temp_n].Kp*(temps[temp_n].err-temps[temp_n].err_next)+temps[temp_n].Ki*temps[temp_n].err+temps[temp_n].Kd*(temps[temp_n].err-2*temps[temp_n].err_next+temps[temp_n].err_last);
    036A3 E404      LDI	R16,0x44
    036A4 E011      LDI	R17,1
    036A5 0195      MOVW	R18,R10
    036A6 940E 39E7 CALL	empy16s
    036A8 01D8      MOVW	R26,R16
    036A9 E78C      LDI	R24,0x7C
    036AA E093      LDI	R25,3
    036AB 01FD      MOVW	R30,R26
    036AC 0FE8      ADD	R30,R24
    036AD 1FF9      ADC	R31,R25
    036AE 8020      LD	R2,Z
    036AF 8031      LDD	R3,Z+1
    036B0 8042      LDD	R4,Z+2
    036B1 8053      LDD	R5,Z+3
    036B2 E780      LDI	R24,0x70
    036B3 E093      LDI	R25,3
    036B4 01FD      MOVW	R30,R26
    036B5 0FE8      ADD	R30,R24
    036B6 1FF9      ADC	R31,R25
    036B7 8100      LD	R16,Z
    036B8 8111      LDD	R17,Z+1
    036B9 8122      LDD	R18,Z+2
    036BA 8133      LDD	R19,Z+3
    036BB E788      LDI	R24,0x78
    036BC E093      LDI	R25,3
    036BD 013D      MOVW	R6,R26
    036BE 0E68      ADD	R6,R24
    036BF 1E79      ADC	R7,R25
    036C0 927A      ST	-Y,R7
    036C1 926A      ST	-Y,R6
    036C2 940E 3B19 CALL	fpsub1x
    036C4 0181      MOVW	R16,R2
    036C5 0192      MOVW	R18,R4
    036C6 940E 3D03 CALL	fpmule2
    036C8 0118      MOVW	R2,R16
    036C9 0129      MOVW	R4,R18
    036CA E880      LDI	R24,0x80
    036CB E093      LDI	R25,3
    036CC 01FD      MOVW	R30,R26
    036CD 0FE8      ADD	R30,R24
    036CE 1FF9      ADC	R31,R25
    036CF 8100      LD	R16,Z
    036D0 8111      LDD	R17,Z+1
    036D1 8122      LDD	R18,Z+2
    036D2 8133      LDD	R19,Z+3
    036D3 E780      LDI	R24,0x70
    036D4 E093      LDI	R25,3
    036D5 013D      MOVW	R6,R26
    036D6 0E68      ADD	R6,R24
    036D7 1E79      ADC	R7,R25
    036D8 927A      ST	-Y,R7
    036D9 926A      ST	-Y,R6
    036DA 940E 3D0E CALL	fpmule1x
    036DC 0181      MOVW	R16,R2
    036DD 0192      MOVW	R18,R4
    036DE 940E 3AF9 CALL	fpadd2
    036E0 0118      MOVW	R2,R16
    036E1 0129      MOVW	R4,R18
    036E2 E884      LDI	R24,0x84
    036E3 E093      LDI	R25,3
    036E4 01FD      MOVW	R30,R26
    036E5 0FE8      ADD	R30,R24
    036E6 1FF9      ADC	R31,R25
    036E7 8060      LD	R6,Z
    036E8 8071      LDD	R7,Z+1
    036E9 8082      LDD	R8,Z+2
    036EA 8093      LDD	R9,Z+3
    036EB E780      LDI	R24,0x70
    036EC E093      LDI	R25,3
    036ED 01FD      MOVW	R30,R26
    036EE 0FE8      ADD	R30,R24
    036EF 1FF9      ADC	R31,R25
    036F0 8140      LD	R20,Z
    036F1 8151      LDD	R21,Z+1
    036F2 8162      LDD	R22,Z+2
    036F3 8173      LDD	R23,Z+3
    036F4 E80C      LDI	R16,0x8C
    036F5 E010      LDI	R17,0
    036F6 940E 39D3 CALL	elpm32
    036F8 E788      LDI	R24,0x78
    036F9 E093      LDI	R25,3
    036FA 01FD      MOVW	R30,R26
    036FB 0FE8      ADD	R30,R24
    036FC 1FF9      ADC	R31,R25
    036FD 93FA      ST	-Y,R31
    036FE 93EA      ST	-Y,R30
    036FF 940E 3D0E CALL	fpmule1x
    03701 018A      MOVW	R16,R20
    03702 019B      MOVW	R18,R22
    03703 940E 3B0E CALL	fpsub2
    03705 E784      LDI	R24,0x74
    03706 E093      LDI	R25,3
    03707 01FD      MOVW	R30,R26
    03708 0FE8      ADD	R30,R24
    03709 1FF9      ADC	R31,R25
    0370A 93FA      ST	-Y,R31
    0370B 93EA      ST	-Y,R30
    0370C 940E 3AEC CALL	fpadd1x
    0370E 0183      MOVW	R16,R6
    0370F 0194      MOVW	R18,R8
    03710 940E 3D1B CALL	fpmule2x
    03712 0181      MOVW	R16,R2
    03713 0192      MOVW	R18,R4
    03714 940E 3AF9 CALL	fpadd2
    03716 E888      LDI	R24,0x88
    03717 E093      LDI	R25,3
    03718 01FD      MOVW	R30,R26
    03719 0FE8      ADD	R30,R24
    0371A 1FF9      ADC	R31,R25
    0371B 8300      ST	Z,R16
    0371C 8311      STD	Z+1,R17
    0371D 8322      STD	Z+2,R18
    0371E 8333      STD	Z+3,R19
(0533)    temps[temp_n].err_last=temps[temp_n].err_next;
    0371F E404      LDI	R16,0x44
    03720 E011      LDI	R17,1
    03721 0195      MOVW	R18,R10
    03722 940E 39E7 CALL	empy16s
    03724 0168      MOVW	R12,R16
    03725 E788      LDI	R24,0x78
    03726 E093      LDI	R25,3
    03727 01F6      MOVW	R30,R12
    03728 0FE8      ADD	R30,R24
    03729 1FF9      ADC	R31,R25
    0372A 8020      LD	R2,Z
    0372B 8031      LDD	R3,Z+1
    0372C 8042      LDD	R4,Z+2
    0372D 8053      LDD	R5,Z+3
    0372E E784      LDI	R24,0x74
    0372F E093      LDI	R25,3
    03730 01F6      MOVW	R30,R12
    03731 0FE8      ADD	R30,R24
    03732 1FF9      ADC	R31,R25
    03733 8220      ST	Z,R2
    03734 8231      STD	Z+1,R3
    03735 8242      STD	Z+2,R4
    03736 8253      STD	Z+3,R5
(0534)    temps[temp_n].err_next=temps[temp_n].err;
    03737 E404      LDI	R16,0x44
    03738 E011      LDI	R17,1
    03739 0195      MOVW	R18,R10
    0373A 940E 39E7 CALL	empy16s
    0373C 0168      MOVW	R12,R16
    0373D E780      LDI	R24,0x70
    0373E E093      LDI	R25,3
    0373F 01F6      MOVW	R30,R12
    03740 0FE8      ADD	R30,R24
    03741 1FF9      ADC	R31,R25
    03742 8020      LD	R2,Z
    03743 8031      LDD	R3,Z+1
    03744 8042      LDD	R4,Z+2
    03745 8053      LDD	R5,Z+3
    03746 E788      LDI	R24,0x78
    03747 E093      LDI	R25,3
    03748 01F6      MOVW	R30,R12
    03749 0FE8      ADD	R30,R24
    0374A 1FF9      ADC	R31,R25
    0374B 8220      ST	Z,R2
    0374C 8231      STD	Z+1,R3
    0374D 8242      STD	Z+2,R4
    0374E 8253      STD	Z+3,R5
(0535)    temps[temp_n].incrementtemp=temps[temp_n].incrementtemp/2;
    0374F E404      LDI	R16,0x44
    03750 E011      LDI	R17,1
    03751 0195      MOVW	R18,R10
    03752 940E 39E7 CALL	empy16s
    03754 0158      MOVW	R10,R16
    03755 E888      LDI	R24,0x88
    03756 E093      LDI	R25,3
    03757 01F5      MOVW	R30,R10
    03758 0FE8      ADD	R30,R24
    03759 1FF9      ADC	R31,R25
    0375A 8020      LD	R2,Z
    0375B 8031      LDD	R3,Z+1
    0375C 8042      LDD	R4,Z+2
    0375D 8053      LDD	R5,Z+3
    0375E E80C      LDI	R16,0x8C
    0375F E010      LDI	R17,0
    03760 940E 39D3 CALL	elpm32
    03762 933A      ST	-Y,R19
    03763 932A      ST	-Y,R18
    03764 931A      ST	-Y,R17
    03765 930A      ST	-Y,R16
    03766 0181      MOVW	R16,R2
    03767 0192      MOVW	R18,R4
    03768 940E 3B93 CALL	fpdiv2
    0376A E888      LDI	R24,0x88
    0376B E093      LDI	R25,3
    0376C 01F5      MOVW	R30,R10
    0376D 0FE8      ADD	R30,R24
    0376E 1FF9      ADC	R31,R25
    0376F 8300      ST	Z,R16
    03770 8311      STD	Z+1,R17
    03771 8322      STD	Z+2,R18
    03772 8333      STD	Z+3,R19
    03773 940C 3A52 JMP	pop_xgsetF03C
_PI_realize:
  temp_n               --> R10
    03775 940E 3A14 CALL	push_xgset003C
    03777 0158      MOVW	R10,R16
(0536) }
(0537) void PI_realize(uint temp_n)
(0538) {
(0539)    temps[temp_n].err=temps[temp_n].p_settemp-temps[temp_n].actualtemp;//这两个都在结构体中
    03778 E404      LDI	R16,0x44
    03779 E011      LDI	R17,1
    0377A 0195      MOVW	R18,R10
    0377B 940E 39E7 CALL	empy16s
    0377D 0128      MOVW	R4,R16
    0377E E58E      LDI	R24,0x5E
    0377F E093      LDI	R25,3
    03780 01F2      MOVW	R30,R4
    03781 0FE8      ADD	R30,R24
    03782 1FF9      ADC	R31,R25
    03783 8100      LD	R16,Z
    03784 8111      LDD	R17,Z+1
    03785 940E 3B66 CALL	uint2fp
    03787 E68C      LDI	R24,0x6C
    03788 E093      LDI	R25,3
    03789 0112      MOVW	R2,R4
    0378A 0E28      ADD	R2,R24
    0378B 1E39      ADC	R3,R25
    0378C 923A      ST	-Y,R3
    0378D 922A      ST	-Y,R2
    0378E 940E 3B04 CALL	fpsub1
    03790 E780      LDI	R24,0x70
    03791 E093      LDI	R25,3
    03792 01F2      MOVW	R30,R4
    03793 0FE8      ADD	R30,R24
    03794 1FF9      ADC	R31,R25
    03795 8300      ST	Z,R16
    03796 8311      STD	Z+1,R17
    03797 8322      STD	Z+2,R18
    03798 8333      STD	Z+3,R19
(0540)    temps[temp_n].incrementtemp=temps[temp_n].p_Kp*(temps[temp_n].err-temps[temp_n].p_err_next)+temps[temp_n].p_Ki*temps[temp_n].err;
    03799 E404      LDI	R16,0x44
    0379A E011      LDI	R17,1
    0379B 0195      MOVW	R18,R10
    0379C 940E 39E7 CALL	empy16s
    0379E 01D8      MOVW	R26,R16
    0379F E682      LDI	R24,0x62
    037A0 E093      LDI	R25,3
    037A1 01FD      MOVW	R30,R26
    037A2 0FE8      ADD	R30,R24
    037A3 1FF9      ADC	R31,R25
    037A4 8100      LD	R16,Z
    037A5 8111      LDD	R17,Z+1
    037A6 940E 3B66 CALL	uint2fp
    037A8 0118      MOVW	R2,R16
    037A9 0129      MOVW	R4,R18
    037AA E780      LDI	R24,0x70
    037AB E093      LDI	R25,3
    037AC 01FD      MOVW	R30,R26
    037AD 0FE8      ADD	R30,R24
    037AE 1FF9      ADC	R31,R25
    037AF 8060      LD	R6,Z
    037B0 8071      LDD	R7,Z+1
    037B1 8082      LDD	R8,Z+2
    037B2 8093      LDD	R9,Z+3
    037B3 E680      LDI	R24,0x60
    037B4 E093      LDI	R25,3
    037B5 01FD      MOVW	R30,R26
    037B6 0FE8      ADD	R30,R24
    037B7 1FF9      ADC	R31,R25
    037B8 8100      LD	R16,Z
    037B9 8111      LDD	R17,Z+1
    037BA 940E 3B66 CALL	uint2fp
    037BC 933A      ST	-Y,R19
    037BD 932A      ST	-Y,R18
    037BE 931A      ST	-Y,R17
    037BF 930A      ST	-Y,R16
    037C0 0183      MOVW	R16,R6
    037C1 0194      MOVW	R18,R8
    037C2 940E 3B26 CALL	fpsub2x
    037C4 0181      MOVW	R16,R2
    037C5 0192      MOVW	R18,R4
    037C6 940E 3D03 CALL	fpmule2
    037C8 0118      MOVW	R2,R16
    037C9 0129      MOVW	R4,R18
    037CA E684      LDI	R24,0x64
    037CB E093      LDI	R25,3
    037CC 01FD      MOVW	R30,R26
    037CD 0FE8      ADD	R30,R24
    037CE 1FF9      ADC	R31,R25
    037CF 8100      LD	R16,Z
    037D0 8111      LDD	R17,Z+1
    037D1 940E 3B66 CALL	uint2fp
    037D3 E780      LDI	R24,0x70
    037D4 E093      LDI	R25,3
    037D5 013D      MOVW	R6,R26
    037D6 0E68      ADD	R6,R24
    037D7 1E79      ADC	R7,R25
    037D8 927A      ST	-Y,R7
    037D9 926A      ST	-Y,R6
    037DA 940E 3D0E CALL	fpmule1x
    037DC 0181      MOVW	R16,R2
    037DD 0192      MOVW	R18,R4
    037DE 940E 3AF9 CALL	fpadd2
    037E0 E888      LDI	R24,0x88
    037E1 E093      LDI	R25,3
    037E2 01FD      MOVW	R30,R26
    037E3 0FE8      ADD	R30,R24
    037E4 1FF9      ADC	R31,R25
    037E5 8300      ST	Z,R16
    037E6 8311      STD	Z+1,R17
    037E7 8322      STD	Z+2,R18
    037E8 8333      STD	Z+3,R19
(0541)    temps[temp_n].p_err_last=temps[temp_n].p_err_next;
    037E9 E404      LDI	R16,0x44
    037EA E011      LDI	R17,1
    037EB 0195      MOVW	R18,R10
    037EC 940E 39E7 CALL	empy16s
    037EE 0168      MOVW	R12,R16
    037EF E680      LDI	R24,0x60
    037F0 E093      LDI	R25,3
    037F1 01F6      MOVW	R30,R12
    037F2 0FE8      ADD	R30,R24
    037F3 1FF9      ADC	R31,R25
    037F4 8020      LD	R2,Z
    037F5 8031      LDD	R3,Z+1
    037F6 E686      LDI	R24,0x66
    037F7 E093      LDI	R25,3
    037F8 01F6      MOVW	R30,R12
    037F9 0FE8      ADD	R30,R24
    037FA 1FF9      ADC	R31,R25
    037FB 8231      STD	Z+1,R3
    037FC 8220      ST	Z,R2
(0542)    temps[temp_n].p_err_next=temps[temp_n].err;
    037FD E404      LDI	R16,0x44
    037FE E011      LDI	R17,1
    037FF 0195      MOVW	R18,R10
    03800 940E 39E7 CALL	empy16s
    03802 0168      MOVW	R12,R16
    03803 E780      LDI	R24,0x70
    03804 E093      LDI	R25,3
    03805 01F6      MOVW	R30,R12
    03806 0FE8      ADD	R30,R24
    03807 1FF9      ADC	R31,R25
    03808 8100      LD	R16,Z
    03809 8111      LDD	R17,Z+1
    0380A 8122      LDD	R18,Z+2
    0380B 8133      LDD	R19,Z+3
    0380C 940E 3B34 CALL	fpint
    0380E E680      LDI	R24,0x60
    0380F E093      LDI	R25,3
    03810 01F6      MOVW	R30,R12
    03811 0FE8      ADD	R30,R24
    03812 1FF9      ADC	R31,R25
    03813 8311      STD	Z+1,R17
    03814 8300      ST	Z,R16
(0543)    temps[temp_n].incrementtemp=temps[temp_n].incrementtemp/2;
    03815 E404      LDI	R16,0x44
    03816 E011      LDI	R17,1
    03817 0195      MOVW	R18,R10
    03818 940E 39E7 CALL	empy16s
    0381A 0158      MOVW	R10,R16
    0381B E888      LDI	R24,0x88
    0381C E093      LDI	R25,3
    0381D 01F5      MOVW	R30,R10
    0381E 0FE8      ADD	R30,R24
    0381F 1FF9      ADC	R31,R25
    03820 8020      LD	R2,Z
    03821 8031      LDD	R3,Z+1
    03822 8042      LDD	R4,Z+2
    03823 8053      LDD	R5,Z+3
    03824 E80C      LDI	R16,0x8C
    03825 E010      LDI	R17,0
    03826 940E 39D3 CALL	elpm32
    03828 933A      ST	-Y,R19
    03829 932A      ST	-Y,R18
    0382A 931A      ST	-Y,R17
    0382B 930A      ST	-Y,R16
    0382C 0181      MOVW	R16,R2
    0382D 0192      MOVW	R18,R4
    0382E 940E 3B93 CALL	fpdiv2
    03830 E888      LDI	R24,0x88
    03831 E093      LDI	R25,3
    03832 01F5      MOVW	R30,R10
    03833 0FE8      ADD	R30,R24
    03834 1FF9      ADC	R31,R25
    03835 8300      ST	Z,R16
    03836 8311      STD	Z+1,R17
    03837 8322      STD	Z+2,R18
    03838 8333      STD	Z+3,R19
    03839 940C 39F7 JMP	pop_xgset003C
FILE: E:\ICCDemo\Temp_Control\temp_control\time1307.c
(0001) #include<iom128v.h>
(0002) #include "time1307.h"
(0003) #include "delay.h"
(0004) #include "lcd.h"
(0005) #include "main.h"
(0006) //寄存器宏定义
(0007) #define SECOND 0x00
(0008) #define MINUTE 0x01 
(0009) #define HOUR 0x02
(0010) #define DAY 0x04
(0011) #define MONTH 0x05 
(0012) #define WEEK 0x03
(0013) #define YEAE 0x06
(0014) #define CIBTPOL 0x07 
(0015) #define  WRITEDS1307    0xD0
(0016) #define     READDS1307    0xD1
(0017) 
(0018) 
(0019) #define  SCL_H  PORTD|=1<<PD0 //
(0020) #define  SCL_L  PORTD&=~(1<<PD0) //
(0021) #define  SDA_H   PORTD|=1<<PD1 //
(0022) #define  SDA_L  PORTD&=~(1<<PD1)  //
(0023) /* unsigned char set_rtc_code[7];
(0024) unsigned char rtc_address[7]={0x00,0x01,0x02,0x03,0x04,0x05,0x06};
(0025) unsigned char read_rtc_code[7];
(0026) unsigned char wr_j1j3_code[7];
(0027) unsigned char jk[7]={0,0,0,2,0,0,9};//设置时钟初始值*/
(0028) 
(0029) unsigned  char BP;
(0030) 
(0031) 
(0032) void I2C_start(void){//启动IIC总线
(0033)    SDA_H;
_I2C_start:
    0383B 9A91      SBI	0x12,1
(0034)    SCL_H;
    0383C 9A90      SBI	0x12,0
(0035)    delay_us(8);
    0383D E008      LDI	R16,0x8
    0383E E010      LDI	R17,0
    0383F 940E 04DA CALL	_delay_us
(0036)    SDA_L;
    03841 9891      CBI	0x12,1
(0037)    delay_us(8);
    03842 E008      LDI	R16,0x8
    03843 E010      LDI	R17,0
    03844 940E 04DA CALL	_delay_us
(0038)    SCL_L;
    03846 9890      CBI	0x12,0
    03847 9508      RET
(0039)    
(0040) }
(0041) void I2C_stop(void){//启动IIC总线
(0042)    SDA_L;
_I2C_stop:
    03848 9891      CBI	0x12,1
(0043)    SCL_H;
    03849 9A90      SBI	0x12,0
(0044)    delay_us(8);
    0384A E008      LDI	R16,0x8
    0384B E010      LDI	R17,0
    0384C 940E 04DA CALL	_delay_us
(0045)    SDA_H;
    0384E 9A91      SBI	0x12,1
(0046)    delay_us(8);
    0384F E008      LDI	R16,0x8
    03850 E010      LDI	R17,0
    03851 940E 04DA CALL	_delay_us
(0047)    SCL_L;
    03853 9890      CBI	0x12,0
    03854 9508      RET
(0048)    
(0049) }
(0050) void I2C_send_ack(void){//应答ack
(0051)   SDA_L;
_I2C_send_ack:
    03855 9891      CBI	0x12,1
(0052)   SCL_H;
    03856 9A90      SBI	0x12,0
(0053)   delay_us(8);
    03857 E008      LDI	R16,0x8
    03858 E010      LDI	R17,0
    03859 940E 04DA CALL	_delay_us
(0054)   SCL_L;
    0385B 9890      CBI	0x12,0
    0385C 9508      RET
(0055) } 
(0056) void I2C_send_noack(void){
(0057)   SDA_H;
_I2C_send_noack:
    0385D 9A91      SBI	0x12,1
(0058)   SCL_H;
    0385E 9A90      SBI	0x12,0
(0059)    delay_us(8);
    0385F E008      LDI	R16,0x8
    03860 E010      LDI	R17,0
    03861 940E 04DA CALL	_delay_us
(0060)    SCL_L;
    03863 9890      CBI	0x12,0
    03864 9508      RET
_I2C_write_byte:
  i                    --> R20
  IIC_data             --> R10
    03865 92AA      ST	-Y,R10
    03866 934A      ST	-Y,R20
    03867 2EA0      MOV	R10,R16
(0061) }
(0062) void I2C_write_byte(unsigned char IIC_data){
(0063)    unsigned char i;
(0064)   // BP=0;
(0065)    for(i=0;i<8;i++){//循环输出数据
    03868 2744      CLR	R20
    03869 C016      RJMP	0x3880
(0066)       SCL_L;
    0386A 9890      CBI	0x12,0
(0067) 	   if(((IIC_data<<i)&0x80)){
    0386B 2D0A      MOV	R16,R10
    0386C 2F14      MOV	R17,R20
    0386D 940E 3A64 CALL	lsl8
    0386F 2F80      MOV	R24,R16
    03870 7880      ANDI	R24,0x80
    03871 F011      BEQ	0x3874
(0068) 	      SDA_H;
    03872 9A91      SBI	0x12,1
(0069) 	   }else{
    03873 C001      RJMP	0x3875
(0070) 	   	  SDA_L;
    03874 9891      CBI	0x12,1
(0071) 	   }
(0072) 	   delay_us(4);
    03875 E004      LDI	R16,4
    03876 E010      LDI	R17,0
    03877 940E 04DA CALL	_delay_us
(0073) 	   SCL_H;
    03879 9A90      SBI	0x12,0
(0074) 	   delay_us(4);
    0387A E004      LDI	R16,4
    0387B E010      LDI	R17,0
    0387C 940E 04DA CALL	_delay_us
(0075) 	   SCL_L;
    0387E 9890      CBI	0x12,0
    0387F 9543      INC	R20
    03880 3048      CPI	R20,0x8
    03881 F340      BCS	0x386A
(0076)    }
(0077)    //读取ACK
(0078)    delay_us(4);
    03882 E004      LDI	R16,4
    03883 E010      LDI	R17,0
    03884 940E 04DA CALL	_delay_us
(0079)    DDRD &=~(0x02);//发送完，等待输入信号
    03886 9889      CBI	0x11,1
(0080)    delay_us(4);
    03887 E004      LDI	R16,4
    03888 E010      LDI	R17,0
    03889 940E 04DA CALL	_delay_us
(0081)    if((PIND&(1<<PD1))){
    0388B 9B81      SBIS	0x10,1
    0388C C000      RJMP	0x388D
(0082)     //正常
(0083)    }//读取，如果发送的是noack，
(0084)    SCL_H;
    0388D 9A90      SBI	0x12,0
(0085)    delay_us(4);
    0388E E004      LDI	R16,4
    0388F E010      LDI	R17,0
    03890 940E 04DA CALL	_delay_us
(0086)    SCL_L;
    03892 9890      CBI	0x12,0
(0087)    DDRD |=0x02;
    03893 9A89      SBI	0x11,1
    03894 9149      LD	R20,Y+
    03895 90A9      LD	R10,Y+
    03896 9508      RET
_I2C_read_byte:
  i                    --> R20
  dat                  --> R10
    03897 92AA      ST	-Y,R10
    03898 934A      ST	-Y,R20
(0088) }
(0089) unsigned char I2C_read_byte(void){
(0090)   unsigned char i,dat;
(0091)   DDRD &=~(0x02);
    03899 9889      CBI	0x11,1
(0092)   dat=0;
    0389A 24AA      CLR	R10
(0093)   for (i=0;i<8;i++)
    0389B 2744      CLR	R20
    0389C C00B      RJMP	0x38A8
(0094)     {
(0095)       dat=dat<<1;
    0389D 0CAA      LSL	R10
(0096)       SCL_H;
    0389E 9A90      SBI	0x12,0
(0097)       delay_us(4);
    0389F E004      LDI	R16,4
    038A0 E010      LDI	R17,0
    038A1 940E 04DA CALL	_delay_us
(0098)      if((PIND&(1<<PD1)))
    038A3 9B81      SBIS	0x10,1
    038A4 C001      RJMP	0x38A6
(0099)      {
(0100)        dat++;
    038A5 94A3      INC	R10
(0101) 	  // PORTE=~PORTE;
(0102)      }
(0103)        SCL_L;  
    038A6 9890      CBI	0x12,0
    038A7 9543      INC	R20
    038A8 3048      CPI	R20,0x8
    038A9 F398      BCS	0x389D
(0104)     }  
(0105)   DDRD |=0x02;
    038AA 9A89      SBI	0x11,1
(0106)   return dat;
    038AB 2D0A      MOV	R16,R10
    038AC 9149      LD	R20,Y+
    038AD 90A9      LD	R10,Y+
    038AE 9508      RET
_Write1307:
  dat                  --> R10
  add                  --> R12
    038AF 92AA      ST	-Y,R10
    038B0 92CA      ST	-Y,R12
    038B1 2EA2      MOV	R10,R18
    038B2 2EC0      MOV	R12,R16
(0107) }
(0108) /***********************************************************************/
(0109) /******************************** DS1307 写数据  ****************/
(0110) void Write1307(unsigned char add,unsigned char dat)
(0111) {
(0112)   I2C_start();
    038B3 DF87      RCALL	_I2C_start
(0113)   I2C_write_byte(WRITEDS1307);
    038B4 ED00      LDI	R16,0xD0
    038B5 DFAF      RCALL	_I2C_write_byte
(0114)   I2C_write_byte(add);
    038B6 2D0C      MOV	R16,R12
    038B7 DFAD      RCALL	_I2C_write_byte
(0115)   I2C_write_byte(dat);
    038B8 2D0A      MOV	R16,R10
    038B9 DFAB      RCALL	_I2C_write_byte
(0116)   I2C_stop();
    038BA DF8D      RCALL	_I2C_stop
    038BB 90C9      LD	R12,Y+
    038BC 90A9      LD	R10,Y+
    038BD 9508      RET
_Read1307:
  dat                  --> R10
  add                  --> R10
    038BE 92AA      ST	-Y,R10
    038BF 92BA      ST	-Y,R11
    038C0 2EA0      MOV	R10,R16
(0117) }
(0118) /***********************************************************************/
(0119) unsigned int Read1307(unsigned char add)
(0120) {
(0121)   
(0122)   unsigned int dat;
(0123)   I2C_start();
    038C1 DF79      RCALL	_I2C_start
(0124)   I2C_write_byte(WRITEDS1307);
    038C2 ED00      LDI	R16,0xD0
    038C3 DFA1      RCALL	_I2C_write_byte
(0125)   I2C_write_byte(add);
    038C4 2D0A      MOV	R16,R10
    038C5 DF9F      RCALL	_I2C_write_byte
(0126)   I2C_start();
    038C6 DF74      RCALL	_I2C_start
(0127)   I2C_write_byte(READDS1307);
    038C7 ED01      LDI	R16,0xD1
    038C8 DF9C      RCALL	_I2C_write_byte
(0128)   dat=I2C_read_byte(); 
    038C9 DFCD      RCALL	_I2C_read_byte
    038CA 2EA0      MOV	R10,R16
    038CB 24BB      CLR	R11
(0129)   I2C_send_noack();
    038CC DF90      RCALL	_I2C_send_noack
(0130)   I2C_stop();      
    038CD DF7A      RCALL	_I2C_stop
(0131)   return (dat);
    038CE 0185      MOVW	R16,R10
    038CF 90B9      LD	R11,Y+
    038D0 90A9      LD	R10,Y+
    038D1 9508      RET
_setTime:
  second               --> R10
  minute               --> R22
  hour                 --> R20
  day                  --> R14
  month                --> R12
  year                 --> Y,+10
    038D2 940E 398D CALL	push_arg4
    038D4 940E 3A0E CALL	push_xgsetF0FC
    038D6 0169      MOVW	R12,R18
    038D7 84EE      LDD	R14,Y+14
    038D8 84FF      LDD	R15,Y+15
    038D9 8948      LDD	R20,Y+16
    038DA 8959      LDD	R21,Y+17
    038DB 896A      LDD	R22,Y+18
    038DC 897B      LDD	R23,Y+19
    038DD 88AC      LDD	R10,Y+20
    038DE 88BD      LDD	R11,Y+21
(0132)  }
(0133) //年、月、日、星期、时、分、秒。星期没有写入
(0134) void setTime(uint year,uint month,uint day,uint hour,uint minute,uint second){
(0135)    Write1307(0x00,second);//
    038DF 2D2A      MOV	R18,R10
    038E0 2700      CLR	R16
    038E1 DFCD      RCALL	_Write1307
(0136)    Write1307(0x01,minute);//
    038E2 2F26      MOV	R18,R22
    038E3 E001      LDI	R16,1
    038E4 DFCA      RCALL	_Write1307
(0137)    Write1307(0x02,hour);//
    038E5 2F24      MOV	R18,R20
    038E6 E002      LDI	R16,2
    038E7 DFC7      RCALL	_Write1307
(0138)    //Write1307(0x03,0X01);//
(0139)    Write1307(0x04,day);//
    038E8 2D2E      MOV	R18,R14
    038E9 E004      LDI	R16,4
    038EA DFC4      RCALL	_Write1307
(0140)    Write1307(0x05,month);//
    038EB 2D2C      MOV	R18,R12
    038EC E005      LDI	R16,5
    038ED DFC1      RCALL	_Write1307
(0141)    Write1307(0x06,year);
    038EE 852A      LDD	R18,Y+10
    038EF 853B      LDD	R19,Y+11
    038F0 E006      LDI	R16,6
    038F1 DFBD      RCALL	_Write1307
    038F2 940E 3A03 CALL	pop_xgsetF0FC
    038F4 9624      ADIW	R28,4
    038F5 9508      RET
(0142) }
(0143) void Initial_time(void){//初始化输出、方波、中断
(0144)    DDRD|=0x07;
_Initial_time:
    038F6 B381      IN	R24,0x11
    038F7 6087      ORI	R24,7
    038F8 BB81      OUT	0x11,R24
(0145)    PORTD=0x00;
    038F9 2422      CLR	R2
    038FA BA22      OUT	0x12,R2
(0146)   /* Write1307(0x00,0X00);//
(0147)    Write1307(0x01,0X00);//
(0148)    Write1307(0x02,0X12);//
(0149)    Write1307(0x03,0X01);//
(0150)    Write1307(0x04,0X21);//
(0151)    Write1307(0x05,0X05);//
(0152)    Write1307(0x06,0X15);//*/
(0153)     Write1307(0x07,0x10);
    038FB E120      LDI	R18,0x10
    038FC E007      LDI	R16,7
    038FD DFB1      RCALL	_Write1307
(0154)    
(0155)    EIMSK |= 0x04;//开中断2
    038FE B789      IN	R24,0x39
    038FF 6084      ORI	R24,4
    03900 BF89      OUT	0x39,R24
(0156)    EICRA |=0x30;
    03901 9180 006A LDS	R24,0x6A
    03903 6380      ORI	R24,0x30
    03904 9380 006A STS	0x6A,R24
    03906 9508      RET
_showTime_page:
  time_cacah           --> R20
  y                    --> R10
    03907 940E 3A3B CALL	push_xgset303C
    03909 0158      MOVW	R10,R16
(0157)    
(0158) }
(0159) //显示时间，年月日时分秒，用于page调用。没有改变AC，会接着写
(0160) void showTime_page(uint y){
(0161)    //PORTE=~Read1302(0x81);
(0162)    uchar time_cacah;
(0163)  //年
(0164)     time_cacah=Read1307(0x06);
    0390A E006      LDI	R16,6
    0390B DFB2      RCALL	_Read1307
    0390C 2F40      MOV	R20,R16
(0165)     lcd_write_str_con(y, "20");
    0390D EC2F      LDI	R18,0xCF
    0390E E039      LDI	R19,0x9
    0390F 2D0A      MOV	R16,R10
    03910 940E 077E CALL	_lcd_write_str_con
(0166)     lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x0F));
    03912 2F24      MOV	R18,R20
    03913 9522      SWAP	R18
    03914 702F      ANDI	R18,0xF
    03915 702F      ANDI	R18,0xF
    03916 6320      ORI	R18,0x30
    03917 2D0A      MOV	R16,R10
    03918 940E 06DC CALL	_lcd_write_char_con
(0167)     lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    0391A 2F24      MOV	R18,R20
    0391B 702F      ANDI	R18,0xF
    0391C 6320      ORI	R18,0x30
    0391D 2D0A      MOV	R16,R10
    0391E 940E 06DC CALL	_lcd_write_char_con
(0168) 	lcd_write_char_con(y,'-');
    03920 E22D      LDI	R18,0x2D
    03921 2D0A      MOV	R16,R10
    03922 940E 06DC CALL	_lcd_write_char_con
(0169) 	 //月
(0170) 	 time_cacah=Read1307(0x05);
    03924 E005      LDI	R16,5
    03925 DF98      RCALL	_Read1307
    03926 2F40      MOV	R20,R16
(0171) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x01));
    03927 2F24      MOV	R18,R20
    03928 9522      SWAP	R18
    03929 702F      ANDI	R18,0xF
    0392A 7021      ANDI	R18,1
    0392B 6320      ORI	R18,0x30
    0392C 2D0A      MOV	R16,R10
    0392D 940E 06DC CALL	_lcd_write_char_con
(0172)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    0392F 2F24      MOV	R18,R20
    03930 702F      ANDI	R18,0xF
    03931 6320      ORI	R18,0x30
    03932 2D0A      MOV	R16,R10
    03933 940E 06DC CALL	_lcd_write_char_con
(0173) 	 lcd_write_char_con(y,'-');
    03935 E22D      LDI	R18,0x2D
    03936 2D0A      MOV	R16,R10
    03937 940E 06DC CALL	_lcd_write_char_con
(0174) 	 //日
(0175) 	 time_cacah=Read1307(0x04);
    03939 E004      LDI	R16,4
    0393A DF83      RCALL	_Read1307
    0393B 0168      MOVW	R12,R16
    0393C 2D4C      MOV	R20,R12
(0176) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    0393D 2F24      MOV	R18,R20
    0393E 9522      SWAP	R18
    0393F 702F      ANDI	R18,0xF
    03940 7023      ANDI	R18,3
    03941 6320      ORI	R18,0x30
    03942 2D0A      MOV	R16,R10
    03943 940E 06DC CALL	_lcd_write_char_con
(0177)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    03945 2F24      MOV	R18,R20
    03946 702F      ANDI	R18,0xF
    03947 6320      ORI	R18,0x30
    03948 2D0A      MOV	R16,R10
    03949 940E 06DC CALL	_lcd_write_char_con
(0178) 	 lcd_write_char_con(y,' ');
    0394B E220      LDI	R18,0x20
    0394C 2D0A      MOV	R16,R10
    0394D 940E 06DC CALL	_lcd_write_char_con
(0179) 	//时
(0180) 	time_cacah=Read1307(0x02);
    0394F E002      LDI	R16,2
    03950 DF6D      RCALL	_Read1307
    03951 0168      MOVW	R12,R16
    03952 2D4C      MOV	R20,R12
(0181) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    03953 2F24      MOV	R18,R20
    03954 9522      SWAP	R18
    03955 702F      ANDI	R18,0xF
    03956 7023      ANDI	R18,3
    03957 6320      ORI	R18,0x30
    03958 2D0A      MOV	R16,R10
    03959 940E 06DC CALL	_lcd_write_char_con
(0182) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    0395B 2F24      MOV	R18,R20
    0395C 702F      ANDI	R18,0xF
    0395D 6320      ORI	R18,0x30
    0395E 2D0A      MOV	R16,R10
    0395F 940E 06DC CALL	_lcd_write_char_con
(0183) 	 lcd_write_char_con(y,':');
    03961 E32A      LDI	R18,0x3A
    03962 2D0A      MOV	R16,R10
    03963 940E 06DC CALL	_lcd_write_char_con
(0184) 	//分
(0185) 	time_cacah=Read1307(0x01);
    03965 E001      LDI	R16,1
    03966 DF57      RCALL	_Read1307
    03967 0168      MOVW	R12,R16
    03968 2D4C      MOV	R20,R12
(0186) 	 lcd_write_char_con(y, 0x30|time_cacah>>4);
    03969 2F24      MOV	R18,R20
    0396A 9522      SWAP	R18
    0396B 702F      ANDI	R18,0xF
    0396C 6320      ORI	R18,0x30
    0396D 2D0A      MOV	R16,R10
    0396E 940E 06DC CALL	_lcd_write_char_con
(0187) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F));
    03970 2F24      MOV	R18,R20
    03971 702F      ANDI	R18,0xF
    03972 6320      ORI	R18,0x30
    03973 2D0A      MOV	R16,R10
    03974 940E 06DC CALL	_lcd_write_char_con
(0188) 	 lcd_write_char_con(y,':');
    03976 E32A      LDI	R18,0x3A
    03977 2D0A      MOV	R16,R10
    03978 940E 06DC CALL	_lcd_write_char_con
(0189) 	//秒
(0190) 	time_cacah=Read1307(0x00);
    0397A 2700      CLR	R16
    0397B DF42      RCALL	_Read1307
    0397C 0168      MOVW	R12,R16
    0397D 2D4C      MOV	R20,R12
(0191) 	 lcd_write_char_con(y, 0x30|(time_cacah>>4));
    0397E 2F24      MOV	R18,R20
    0397F 9522      SWAP	R18
    03980 702F      ANDI	R18,0xF
    03981 6320      ORI	R18,0x30
    03982 2D0A      MOV	R16,R10
    03983 940E 06DC CALL	_lcd_write_char_con
(0192) 	 lcd_write_char_con(y,0x30|(time_cacah &0x0F));
FILE: <library>
    03985 2F24      MOV	R18,R20
    03986 702F      ANDI	R18,0xF
    03987 6320      ORI	R18,0x30
    03988 2D0A      MOV	R16,R10
    03989 940E 06DC CALL	_lcd_write_char_con
    0398B 940C 3A42 JMP	pop_xgset303C
push_arg4:
    0398D 933A      ST	-Y,R19
    0398E 932A      ST	-Y,R18
push_arg2:
    0398F 931A      ST	-Y,R17
    03990 930A      ST	-Y,R16
    03991 9508      RET
asr16:
    03992 2322      TST	R18
    03993 F021      BEQ	0x3998
    03994 9515      ASR	R17
    03995 9507      ROR	R16
    03996 952A      DEC	R18
    03997 CFFA      RJMP	asr16
    03998 9508      RET
mod16s:
    03999 9468      BSET	6
    0399A 92DA      ST	-Y,R13
    0399B 2ED1      MOV	R13,R17
    0399C C004      RJMP	0x39A1
div16s:
    0399D 94E8      BCLR	6
    0399E 92DA      ST	-Y,R13
    0399F 2ED1      MOV	R13,R17
    039A0 26D3      EOR	R13,R19
    039A1 FF17      SBRS	R17,7
    039A2 C004      RJMP	0x39A7
    039A3 9510      COM	R17
    039A4 9500      COM	R16
    039A5 5F0F      SUBI	R16,0xFF
    039A6 4F1F      SBCI	R17,0xFF
    039A7 FF37      SBRS	R19,7
    039A8 C004      RJMP	0x39AD
    039A9 9530      COM	R19
    039AA 9520      COM	R18
    039AB 5F2F      SUBI	R18,0xFF
    039AC 4F3F      SBCI	R19,0xFF
    039AD 940E 39BA CALL	xdiv16u
    039AF FED7      SBRS	R13,7
    039B0 C004      RJMP	0x39B5
    039B1 9510      COM	R17
    039B2 9500      COM	R16
    039B3 5F0F      SUBI	R16,0xFF
    039B4 4F1F      SBCI	R17,0xFF
    039B5 90D9      LD	R13,Y+
    039B6 9508      RET
mod16u:
    039B7 9468      BSET	6
    039B8 C001      RJMP	xdiv16u
div16u:
    039B9 94E8      BCLR	6
xdiv16u:
    039BA 92EA      ST	-Y,R14
    039BB 92FA      ST	-Y,R15
    039BC 938A      ST	-Y,R24
    039BD 24EE      CLR	R14
    039BE 24FF      CLR	R15
    039BF E180      LDI	R24,0x10
    039C0 0F00      LSL	R16
    039C1 1F11      ROL	R17
    039C2 1CEE      ROL	R14
    039C3 1CFF      ROL	R15
    039C4 16E2      CP	R14,R18
    039C5 06F3      CPC	R15,R19
    039C6 F018      BCS	0x39CA
    039C7 1AE2      SUB	R14,R18
    039C8 0AF3      SBC	R15,R19
    039C9 9503      INC	R16
    039CA 958A      DEC	R24
    039CB F7A1      BNE	0x39C0
    039CC F416      BRTC	0x39CF
    039CD 2D0E      MOV	R16,R14
    039CE 2D1F      MOV	R17,R15
    039CF 9189      LD	R24,Y+
    039D0 90F9      LD	R15,Y+
    039D1 90E9      LD	R14,Y+
    039D2 9508      RET
elpm32:
    039D3 93EA      ST	-Y,R30
    039D4 93FA      ST	-Y,R31
    039D5 920A      ST	-Y,R0
    039D6 2FE0      MOV	R30,R16
    039D7 2FF1      MOV	R31,R17
    039D8 95D8      ELPM
    039D9 2D00      MOV	R16,R0
    039DA 9631      ADIW	R30,1
    039DB 95D8      ELPM
    039DC 2D10      MOV	R17,R0
    039DD 9631      ADIW	R30,1
    039DE 95D8      ELPM
    039DF 2D20      MOV	R18,R0
    039E0 9631      ADIW	R30,1
    039E1 95D8      ELPM
    039E2 2D30      MOV	R19,R0
    039E3 9009      LD	R0,Y+
    039E4 91F9      LD	R31,Y+
    039E5 91E9      LD	R30,Y+
    039E6 9508      RET
empy16s:
    039E7 920A      ST	-Y,R0
    039E8 921A      ST	-Y,R1
    039E9 938A      ST	-Y,R24
    039EA 939A      ST	-Y,R25
    039EB 9F02      MUL	R16,R18
    039EC 01C0      MOVW	R24,R0
    039ED 9F12      MUL	R17,R18
    039EE 0D90      ADD	R25,R0
    039EF 9F03      MUL	R16,R19
    039F0 0D90      ADD	R25,R0
    039F1 018C      MOVW	R16,R24
    039F2 9199      LD	R25,Y+
    039F3 9189      LD	R24,Y+
    039F4 9019      LD	R1,Y+
    039F5 9009      LD	R0,Y+
    039F6 9508      RET
pop_xgset003C:
    039F7 90A9      LD	R10,Y+
    039F8 90B9      LD	R11,Y+
    039F9 90C9      LD	R12,Y+
    039FA 90D9      LD	R13,Y+
    039FB 9508      RET
pop_xgset00FC:
    039FC 90A9      LD	R10,Y+
    039FD 90B9      LD	R11,Y+
    039FE 90C9      LD	R12,Y+
    039FF 90D9      LD	R13,Y+
    03A00 90E9      LD	R14,Y+
    03A01 90F9      LD	R15,Y+
    03A02 9508      RET
pop_xgsetF0FC:
    03A03 90A9      LD	R10,Y+
    03A04 90B9      LD	R11,Y+
    03A05 90C9      LD	R12,Y+
    03A06 90D9      LD	R13,Y+
    03A07 90E9      LD	R14,Y+
    03A08 90F9      LD	R15,Y+
    03A09 9149      LD	R20,Y+
    03A0A 9159      LD	R21,Y+
    03A0B 9169      LD	R22,Y+
    03A0C 9179      LD	R23,Y+
    03A0D 9508      RET
push_xgsetF0FC:
    03A0E 937A      ST	-Y,R23
    03A0F 936A      ST	-Y,R22
push_xgset30FC:
    03A10 935A      ST	-Y,R21
    03A11 934A      ST	-Y,R20
push_xgset00FC:
    03A12 92FA      ST	-Y,R15
    03A13 92EA      ST	-Y,R14
push_xgset003C:
    03A14 92DA      ST	-Y,R13
    03A15 92CA      ST	-Y,R12
    03A16 92BA      ST	-Y,R11
    03A17 92AA      ST	-Y,R10
    03A18 9508      RET
push_xgset300C:
    03A19 935A      ST	-Y,R21
    03A1A 934A      ST	-Y,R20
    03A1B 92BA      ST	-Y,R11
    03A1C 92AA      ST	-Y,R10
    03A1D 9508      RET
pop_xgset300C:
    03A1E 90A9      LD	R10,Y+
    03A1F 90B9      LD	R11,Y+
    03A20 9149      LD	R20,Y+
    03A21 9159      LD	R21,Y+
    03A22 9508      RET
push_xgsetF000:
    03A23 937A      ST	-Y,R23
    03A24 936A      ST	-Y,R22
    03A25 935A      ST	-Y,R21
    03A26 934A      ST	-Y,R20
    03A27 9508      RET
pop_xgsetF000:
    03A28 9149      LD	R20,Y+
    03A29 9159      LD	R21,Y+
    03A2A 9169      LD	R22,Y+
    03A2B 9179      LD	R23,Y+
    03A2C 9508      RET
push_xgsetF00C:
    03A2D 937A      ST	-Y,R23
    03A2E 936A      ST	-Y,R22
    03A2F 935A      ST	-Y,R21
    03A30 934A      ST	-Y,R20
    03A31 92BA      ST	-Y,R11
    03A32 92AA      ST	-Y,R10
    03A33 9508      RET
pop_xgsetF00C:
    03A34 90A9      LD	R10,Y+
    03A35 90B9      LD	R11,Y+
    03A36 9149      LD	R20,Y+
    03A37 9159      LD	R21,Y+
    03A38 9169      LD	R22,Y+
    03A39 9179      LD	R23,Y+
    03A3A 9508      RET
push_xgset303C:
    03A3B 935A      ST	-Y,R21
    03A3C 934A      ST	-Y,R20
    03A3D 92DA      ST	-Y,R13
    03A3E 92CA      ST	-Y,R12
    03A3F 92BA      ST	-Y,R11
    03A40 92AA      ST	-Y,R10
    03A41 9508      RET
pop_xgset303C:
    03A42 90A9      LD	R10,Y+
    03A43 90B9      LD	R11,Y+
    03A44 90C9      LD	R12,Y+
    03A45 90D9      LD	R13,Y+
    03A46 9149      LD	R20,Y+
    03A47 9159      LD	R21,Y+
    03A48 9508      RET
push_xgsetF03C:
    03A49 937A      ST	-Y,R23
    03A4A 936A      ST	-Y,R22
    03A4B 935A      ST	-Y,R21
    03A4C 934A      ST	-Y,R20
    03A4D 92DA      ST	-Y,R13
    03A4E 92CA      ST	-Y,R12
    03A4F 92BA      ST	-Y,R11
    03A50 92AA      ST	-Y,R10
    03A51 9508      RET
pop_xgsetF03C:
    03A52 90A9      LD	R10,Y+
    03A53 90B9      LD	R11,Y+
    03A54 90C9      LD	R12,Y+
    03A55 90D9      LD	R13,Y+
    03A56 9149      LD	R20,Y+
    03A57 9159      LD	R21,Y+
    03A58 9169      LD	R22,Y+
    03A59 9179      LD	R23,Y+
    03A5A 9508      RET
neg32:
    03A5B 9500      COM	R16
    03A5C 9510      COM	R17
    03A5D 9520      COM	R18
    03A5E 9530      COM	R19
    03A5F 5F0F      SUBI	R16,0xFF
    03A60 4F1F      SBCI	R17,0xFF
    03A61 4F2F      SBCI	R18,0xFF
    03A62 4F3F      SBCI	R19,0xFF
    03A63 9508      RET
lsl8:
    03A64 2311      TST	R17
    03A65 F019      BEQ	0x3A69
    03A66 0F00      LSL	R16
    03A67 951A      DEC	R17
    03A68 CFFB      RJMP	lsl8
    03A69 9508      RET
asgnblk:
    03A6A 93AA      ST	-Y,R26
    03A6B 93BA      ST	-Y,R27
    03A6C 93EA      ST	-Y,R30
    03A6D 93FA      ST	-Y,R31
    03A6E 920A      ST	-Y,R0
    03A6F 81AF      LDD	R26,Y+7
    03A70 85B8      LDD	R27,Y+8
    03A71 81ED      LDD	R30,Y+5
    03A72 81FE      LDD	R31,Y+6
    03A73 3000      CPI	R16,0
    03A74 0701      CPC	R16,R17
    03A75 F029      BEQ	0x3A7B
    03A76 9001      LD	R0,Z+
    03A77 920D      ST	X+,R0
    03A78 5001      SUBI	R16,1
    03A79 4010      SBCI	R17,0
    03A7A CFF8      RJMP	0x3A73
    03A7B 9009      LD	R0,Y+
    03A7C 91F9      LD	R31,Y+
    03A7D 91E9      LD	R30,Y+
    03A7E 91B9      LD	R27,Y+
    03A7F 91A9      LD	R26,Y+
    03A80 9624      ADIW	R28,4
    03A81 9508      RET
fpsub:
    03A82 9468      BSET	6
    03A83 C001      RJMP	fpadd_alt
fpadd:
    03A84 94E8      BCLR	6
fpadd_alt:
    03A85 940E 3C92 CALL	saveFPRegs
    03A87 940E 3C24 CALL	unpacks
    03A89 F409      BNE	0x3A8B
    03A8A C048      RJMP	0x3AD3
    03A8B 2CE6      MOV	R14,R6
    03A8C 2CD5      MOV	R13,R5
    03A8D 2CC4      MOV	R12,R4
    03A8E 2EB3      MOV	R11,R19
    03A8F 2EA2      MOV	R10,R18
    03A90 2E91      MOV	R9,R17
    03A91 2E80      MOV	R8,R16
    03A92 8100      LD	R16,Z
    03A93 8111      LDD	R17,Z+1
    03A94 8122      LDD	R18,Z+2
    03A95 8133      LDD	R19,Z+3
    03A96 940E 3C24 CALL	unpacks
    03A98 F409      BNE	0x3A9A
    03A99 C044      RJMP	0x3ADE
    03A9A 2D84      MOV	R24,R4
    03A9B 2D95      MOV	R25,R5
    03A9C 198C      SUB	R24,R12
    03A9D 099D      SBC	R25,R13
    03A9E F0B9      BEQ	0x3AB6
    03A9F F472      BPL	0x3AAE
    03AA0 9590      COM	R25
    03AA1 9580      COM	R24
    03AA2 9601      ADIW	R24,1
    03AA3 2C4C      MOV	R4,R12
    03AA4 2C5D      MOV	R5,R13
    03AA5 3188      CPI	R24,0x18
    03AA6 F5B8      BCC	0x3ADE
    03AA7 9535      ASR	R19
    03AA8 9527      ROR	R18
    03AA9 9517      ROR	R17
    03AAA 9507      ROR	R16
    03AAB 9701      SBIW	R24,1
    03AAC F7D1      BNE	0x3AA7
    03AAD C008      RJMP	0x3AB6
    03AAE 3188      CPI	R24,0x18
    03AAF F518      BCC	0x3AD3
    03AB0 94B5      ASR	R11
    03AB1 94A7      ROR	R10
    03AB2 9497      ROR	R9
    03AB3 9487      ROR	R8
    03AB4 9701      SBIW	R24,1
    03AB5 F7D1      BNE	0x3AB0
    03AB6 2466      CLR	R6
    03AB7 F02E      BRTS	0x3ABD
    03AB8 0D08      ADD	R16,R8
    03AB9 1D19      ADC	R17,R9
    03ABA 1D2A      ADC	R18,R10
    03ABB 1D3B      ADC	R19,R11
    03ABC C009      RJMP	0x3AC6
    03ABD 1A80      SUB	R8,R16
    03ABE 0A91      SBC	R9,R17
    03ABF 0AA2      SBC	R10,R18
    03AC0 0AB3      SBC	R11,R19
    03AC1 2D08      MOV	R16,R8
    03AC2 2D19      MOV	R17,R9
    03AC3 2D2A      MOV	R18,R10
    03AC4 2D3B      MOV	R19,R11
    03AC5 2333      TST	R19
    03AC6 F422      BPL	0x3ACB
    03AC7 940E 3A5B CALL	neg32
    03AC9 E880      LDI	R24,0x80
    03ACA 2E68      MOV	R6,R24
    03ACB 940E 3C4D CALL	normalize_and_pack
    03ACD C002      RJMP	0x3AD0
    03ACE 940E 3C82 CALL	pack
    03AD0 940E 3CA1 CALL	restoreFPRegs
    03AD2 9508      RET
    03AD3 8100      LD	R16,Z
    03AD4 8111      LDD	R17,Z+1
    03AD5 8122      LDD	R18,Z+2
    03AD6 8133      LDD	R19,Z+3
    03AD7 F7C6      BRTC	0x3AD0
    03AD8 940E 3C2C CALL	tstR16_R19
    03ADA F3A9      BEQ	0x3AD0
    03ADB E880      LDI	R24,0x80
    03ADC 2738      EOR	R19,R24
    03ADD CFF2      RJMP	0x3AD0
    03ADE 2D08      MOV	R16,R8
    03ADF 2D19      MOV	R17,R9
    03AE0 2D2A      MOV	R18,R10
    03AE1 2D3B      MOV	R19,R11
    03AE2 2C4C      MOV	R4,R12
    03AE3 2C5D      MOV	R5,R13
    03AE4 2C6E      MOV	R6,R14
    03AE5 2333      TST	R19
    03AE6 F73A      BPL	0x3ACE
    03AE7 940E 3A5B CALL	neg32
    03AE9 E880      LDI	R24,0x80
    03AEA 2E68      MOV	R6,R24
    03AEB CFE2      RJMP	0x3ACE
fpadd1x:
    03AEC 93FA      ST	-Y,R31
    03AED 93EA      ST	-Y,R30
    03AEE 81EA      LDD	R30,Y+2
    03AEF 81FB      LDD	R31,Y+3
    03AF0 940E 3A84 CALL	fpadd
    03AF2 91E9      LD	R30,Y+
    03AF3 91F9      LD	R31,Y+
    03AF4 8339      STD	Y+1,R19
    03AF5 8328      ST	Y,R18
    03AF6 931A      ST	-Y,R17
    03AF7 930A      ST	-Y,R16
    03AF8 9508      RET
fpadd2:
    03AF9 93FA      ST	-Y,R31
    03AFA 93EA      ST	-Y,R30
    03AFB 2FEC      MOV	R30,R28
    03AFC 2FFD      MOV	R31,R29
    03AFD 9632      ADIW	R30,2
    03AFE 940E 3A84 CALL	fpadd
    03B00 91E9      LD	R30,Y+
    03B01 91F9      LD	R31,Y+
    03B02 9624      ADIW	R28,4
    03B03 9508      RET
fpsub1:
    03B04 93FA      ST	-Y,R31
    03B05 93EA      ST	-Y,R30
    03B06 81EA      LDD	R30,Y+2
    03B07 81FB      LDD	R31,Y+3
    03B08 940E 3A82 CALL	fpsub
    03B0A 91E9      LD	R30,Y+
    03B0B 91F9      LD	R31,Y+
    03B0C 9622      ADIW	R28,2
    03B0D 9508      RET
fpsub2:
    03B0E 93FA      ST	-Y,R31
    03B0F 93EA      ST	-Y,R30
    03B10 2FEC      MOV	R30,R28
    03B11 2FFD      MOV	R31,R29
    03B12 9632      ADIW	R30,2
    03B13 940E 3A82 CALL	fpsub
    03B15 91E9      LD	R30,Y+
    03B16 91F9      LD	R31,Y+
    03B17 9624      ADIW	R28,4
    03B18 9508      RET
fpsub1x:
    03B19 93FA      ST	-Y,R31
    03B1A 93EA      ST	-Y,R30
    03B1B 81EA      LDD	R30,Y+2
    03B1C 81FB      LDD	R31,Y+3
    03B1D 940E 3A82 CALL	fpsub
    03B1F 91E9      LD	R30,Y+
    03B20 91F9      LD	R31,Y+
    03B21 8339      STD	Y+1,R19
    03B22 8328      ST	Y,R18
    03B23 931A      ST	-Y,R17
    03B24 930A      ST	-Y,R16
    03B25 9508      RET
fpsub2x:
    03B26 93FA      ST	-Y,R31
    03B27 93EA      ST	-Y,R30
    03B28 2FEC      MOV	R30,R28
    03B29 2FFD      MOV	R31,R29
    03B2A 9632      ADIW	R30,2
    03B2B 940E 3A82 CALL	fpsub
    03B2D 91E9      LD	R30,Y+
    03B2E 91F9      LD	R31,Y+
    03B2F 833B      STD	Y+3,R19
    03B30 832A      STD	Y+2,R18
    03B31 8319      STD	Y+1,R17
    03B32 8308      ST	Y,R16
    03B33 9508      RET
fpint:
    03B34 924A      ST	-Y,R4
    03B35 925A      ST	-Y,R5
    03B36 926A      ST	-Y,R6
    03B37 938A      ST	-Y,R24
    03B38 940E 3C34 CALL	unpacku
    03B3A F111      BEQ	0x3B5D
    03B3B 2055      TST	R5
    03B3C F0E2      BMI	0x3B59
    03B3D E18F      LDI	R24,0x1F
    03B3E 1648      CP	R4,R24
    03B3F F4C0      BCC	0x3B58
    03B40 E187      LDI	R24,0x17
    03B41 1648      CP	R4,R24
    03B42 F0D1      BEQ	0x3B5D
    03B43 F458      BCC	0x3B4F
    03B44 9441      NEG	R4
    03B45 EE89      LDI	R24,0xE9
    03B46 1A48      SUB	R4,R24
    03B47 C005      RJMP	0x3B4D
    03B48 9535      ASR	R19
    03B49 9527      ROR	R18
    03B4A 9517      ROR	R17
    03B4B 9507      ROR	R16
    03B4C 944A      DEC	R4
    03B4D F7D1      BNE	0x3B48
    03B4E C00E      RJMP	0x3B5D
    03B4F E187      LDI	R24,0x17
    03B50 1A48      SUB	R4,R24
    03B51 0F00      LSL	R16
    03B52 1F11      ROL	R17
    03B53 1F22      ROL	R18
    03B54 1F33      ROL	R19
    03B55 944A      DEC	R4
    03B56 F7D1      BNE	0x3B51
    03B57 C005      RJMP	0x3B5D
    03B58 E73F      LDI	R19,0x7F
    03B59 2F23      MOV	R18,R19
    03B5A 2F13      MOV	R17,R19
    03B5B 2F03      MOV	R16,R19
    03B5C C004      RJMP	0x3B61
    03B5D 2066      TST	R6
    03B5E F011      BEQ	0x3B61
    03B5F 940E 3A5B CALL	neg32
    03B61 9189      LD	R24,Y+
    03B62 9069      LD	R6,Y+
    03B63 9059      LD	R5,Y+
    03B64 9049      LD	R4,Y+
    03B65 9508      RET
uint2fp:
    03B66 9468      BSET	6
    03B67 C001      RJMP	0x3B69
int2fp:
    03B68 94E8      BCLR	6
    03B69 2722      CLR	R18
    03B6A 2733      CLR	R19
    03B6B F046      BRTS	0x3B74
    03B6C FD17      SBRC	R17,7
    03B6D 9520      COM	R18
    03B6E FD17      SBRC	R17,7
    03B6F 9530      COM	R19
    03B70 C003      RJMP	0x3B74
ulong2fp:
    03B71 9468      BSET	6
    03B72 C001      RJMP	0x3B74
long2fp:
    03B73 94E8      BCLR	6
    03B74 924A      ST	-Y,R4
    03B75 925A      ST	-Y,R5
    03B76 926A      ST	-Y,R6
    03B77 938A      ST	-Y,R24
    03B78 E187      LDI	R24,0x17
    03B79 2E48      MOV	R4,R24
    03B7A 2455      CLR	R5
    03B7B 2466      CLR	R6
    03B7C F036      BRTS	0x3B83
    03B7D 2333      TST	R19
    03B7E F422      BPL	0x3B83
    03B7F 940E 3A5B CALL	neg32
    03B81 E880      LDI	R24,0x80
    03B82 2E68      MOV	R6,R24
    03B83 940E 3C4D CALL	normalize_and_pack
    03B85 9189      LD	R24,Y+
    03B86 9069      LD	R6,Y+
    03B87 9059      LD	R5,Y+
    03B88 9049      LD	R4,Y+
    03B89 9508      RET
fpdiv1:
    03B8A 93FA      ST	-Y,R31
    03B8B 93EA      ST	-Y,R30
    03B8C 81EA      LDD	R30,Y+2
    03B8D 81FB      LDD	R31,Y+3
    03B8E D027      RCALL	0x3BB6
    03B8F 91E9      LD	R30,Y+
    03B90 91F9      LD	R31,Y+
    03B91 9622      ADIW	R28,2
    03B92 9508      RET
fpdiv2:
    03B93 93FA      ST	-Y,R31
    03B94 93EA      ST	-Y,R30
    03B95 2FEC      MOV	R30,R28
    03B96 2FFD      MOV	R31,R29
    03B97 9632      ADIW	R30,2
    03B98 D01D      RCALL	0x3BB6
    03B99 91E9      LD	R30,Y+
    03B9A 91F9      LD	R31,Y+
    03B9B 9624      ADIW	R28,4
    03B9C 9508      RET
fpdiv1x:
    03B9D 93FA      ST	-Y,R31
    03B9E 93EA      ST	-Y,R30
    03B9F 81EA      LDD	R30,Y+2
    03BA0 81FB      LDD	R31,Y+3
    03BA1 D014      RCALL	0x3BB6
    03BA2 91E9      LD	R30,Y+
    03BA3 91F9      LD	R31,Y+
    03BA4 8339      STD	Y+1,R19
    03BA5 8328      ST	Y,R18
    03BA6 931A      ST	-Y,R17
    03BA7 930A      ST	-Y,R16
    03BA8 9508      RET
fpdiv2x:
    03BA9 93FA      ST	-Y,R31
    03BAA 93EA      ST	-Y,R30
    03BAB 2FEC      MOV	R30,R28
    03BAC 2FFD      MOV	R31,R29
    03BAD 9632      ADIW	R30,2
    03BAE D007      RCALL	0x3BB6
    03BAF 91E9      LD	R30,Y+
    03BB0 91F9      LD	R31,Y+
    03BB1 833B      STD	Y+3,R19
    03BB2 832A      STD	Y+2,R18
    03BB3 8319      STD	Y+1,R17
    03BB4 8308      ST	Y,R16
    03BB5 9508      RET
    03BB6 920A      ST	-Y,R0
    03BB7 921A      ST	-Y,R1
    03BB8 922A      ST	-Y,R2
    03BB9 923A      ST	-Y,R3
    03BBA 940E 3C92 CALL	saveFPRegs
    03BBC 933A      ST	-Y,R19
    03BBD 932A      ST	-Y,R18
    03BBE 931A      ST	-Y,R17
    03BBF 930A      ST	-Y,R16
    03BC0 8100      LD	R16,Z
    03BC1 8111      LDD	R17,Z+1
    03BC2 8122      LDD	R18,Z+2
    03BC3 8133      LDD	R19,Z+3
    03BC4 940E 3C34 CALL	unpacku
    03BC6 F409      BNE	0x3BC8
    03BC7 C057      RJMP	0x3C1F
    03BC8 2CE6      MOV	R14,R6
    03BC9 2CD5      MOV	R13,R5
    03BCA 2CC4      MOV	R12,R4
    03BCB 2EB3      MOV	R11,R19
    03BCC 2EA2      MOV	R10,R18
    03BCD 2E91      MOV	R9,R17
    03BCE 2E80      MOV	R8,R16
    03BCF 9109      LD	R16,Y+
    03BD0 9119      LD	R17,Y+
    03BD1 9129      LD	R18,Y+
    03BD2 9139      LD	R19,Y+
    03BD3 940E 3C34 CALL	unpacku
    03BD5 F1A1      BEQ	0x3C0A
    03BD6 246E      EOR	R6,R14
    03BD7 184C      SUB	R4,R12
    03BD8 085D      SBC	R5,R13
    03BD9 E880      LDI	R24,0x80
    03BDA 1648      CP	R4,R24
    03BDB 0653      CPC	R5,R19
    03BDC F00C      BLT	0x3BDE
    03BDD C033      RJMP	0x3C11
    03BDE E881      LDI	R24,0x81
    03BDF 1648      CP	R4,R24
    03BE0 EF8F      LDI	R24,0xFF
    03BE1 0658      CPC	R5,R24
    03BE2 F40C      BGE	0x3BE4
    03BE3 C036      RJMP	0x3C1A
    03BE4 E280      LDI	R24,0x20
    03BE5 2433      CLR	R3
    03BE6 2E23      MOV	R2,R19
    03BE7 2E12      MOV	R1,R18
    03BE8 2E01      MOV	R0,R17
    03BE9 2F30      MOV	R19,R16
    03BEA 2722      CLR	R18
    03BEB 2711      CLR	R17
    03BEC 2700      CLR	R16
    03BED 9426      LSR	R2
    03BEE 9417      ROR	R1
    03BEF 9407      ROR	R0
    03BF0 9537      ROR	R19
    03BF1 9527      ROR	R18
    03BF2 0F00      LSL	R16
    03BF3 1F11      ROL	R17
    03BF4 1F22      ROL	R18
    03BF5 1F33      ROL	R19
    03BF6 1C00      ROL	R0
    03BF7 1C11      ROL	R1
    03BF8 1C22      ROL	R2
    03BF9 1C33      ROL	R3
    03BFA F028      BCS	0x3C00
    03BFB 1808      SUB	R0,R8
    03BFC 0819      SBC	R1,R9
    03BFD 082A      SBC	R2,R10
    03BFE 083B      SBC	R3,R11
    03BFF C004      RJMP	0x3C04
    03C00 0C08      ADD	R0,R8
    03C01 1C19      ADC	R1,R9
    03C02 1C2A      ADC	R2,R10
    03C03 1C3B      ADC	R3,R11
    03C04 F00A      BMI	0x3C06
    03C05 6001      ORI	R16,1
    03C06 958A      DEC	R24
    03C07 F751      BNE	0x3BF2
    03C08 940E 3C4D CALL	normalize_and_pack
    03C0A 940E 3CA1 CALL	restoreFPRegs
    03C0C 9039      LD	R3,Y+
    03C0D 9029      LD	R2,Y+
    03C0E 9019      LD	R1,Y+
    03C0F 9009      LD	R0,Y+
    03C10 9508      RET
    03C11 EF0F      LDI	R16,0xFF
    03C12 2F10      MOV	R17,R16
    03C13 E72F      LDI	R18,0x7F
    03C14 E73F      LDI	R19,0x7F
    03C15 2066      TST	R6
    03C16 F399      BEQ	0x3C0A
    03C17 940E 3A5B CALL	neg32
    03C19 CFF0      RJMP	0x3C0A
    03C1A 2700      CLR	R16
    03C1B 2F10      MOV	R17,R16
    03C1C 2F20      MOV	R18,R16
    03C1D 2F30      MOV	R19,R16
    03C1E CFEB      RJMP	0x3C0A
    03C1F 9109      LD	R16,Y+
    03C20 9119      LD	R17,Y+
    03C21 9129      LD	R18,Y+
    03C22 9139      LD	R19,Y+
    03C23 CFED      RJMP	0x3C11
unpacks:
    03C24 D00F      RCALL	unpacku
    03C25 F029      BEQ	0x3C2B
    03C26 2066      TST	R6
    03C27 F011      BEQ	0x3C2A
    03C28 940E 3A5B CALL	neg32
    03C2A 9498      BCLR	1
    03C2B 9508      RET
tstR16_R19:
    03C2C 2300      TST	R16
    03C2D F429      BNE	0x3C33
    03C2E 2311      TST	R17
    03C2F F419      BNE	0x3C33
    03C30 2322      TST	R18
    03C31 F409      BNE	0x3C33
    03C32 2333      TST	R19
    03C33 9508      RET
unpacku:
    03C34 DFF7      RCALL	tstR16_R19
    03C35 F099      BEQ	0x3C49
    03C36 938A      ST	-Y,R24
    03C37 2E63      MOV	R6,R19
    03C38 E880      LDI	R24,0x80
    03C39 2268      AND	R6,R24
    03C3A 0F22      LSL	R18
    03C3B 1F33      ROL	R19
    03C3C 2E43      MOV	R4,R19
    03C3D E78F      LDI	R24,0x7F
    03C3E 1A48      SUB	R4,R24
    03C3F 2455      CLR	R5
    03C40 2788      CLR	R24
    03C41 0A58      SBC	R5,R24
    03C42 9526      LSR	R18
    03C43 E830      LDI	R19,0x80
    03C44 2B23      OR	R18,R19
    03C45 2733      CLR	R19
    03C46 9189      LD	R24,Y+
    03C47 9498      BCLR	1
    03C48 9508      RET
    03C49 2444      CLR	R4
    03C4A 2455      CLR	R5
    03C4B 2466      CLR	R6
    03C4C 9508      RET
normalize_and_pack:
    03C4D DFDE      RCALL	tstR16_R19
    03C4E F409      BNE	0x3C50
    03C4F 9508      RET
    03C50 93AA      ST	-Y,R26
    03C51 93BA      ST	-Y,R27
    03C52 01D2      MOVW	R26,R4
    03C53 939A      ST	-Y,R25
    03C54 938A      ST	-Y,R24
    03C55 E78E      LDI	R24,0x7E
    03C56 E090      LDI	R25,0
    03C57 2333      TST	R19
    03C58 F049      BEQ	0x3C62
    03C59 9536      LSR	R19
    03C5A 9527      ROR	R18
    03C5B 9517      ROR	R17
    03C5C 9507      ROR	R16
    03C5D 17A8      CP	R26,R24
    03C5E 07B9      CPC	R27,R25
    03C5F F4CC      BGE	0x3C79
    03C60 9611      ADIW	R26,1
    03C61 CFF5      RJMP	0x3C57
    03C62 9580      COM	R24
    03C63 9590      COM	R25
    03C64 9601      ADIW	R24,1
    03C65 2322      TST	R18
    03C66 F0BA      BMI	0x3C7E
    03C67 0F00      LSL	R16
    03C68 1F11      ROL	R17
    03C69 1F22      ROL	R18
    03C6A 17A8      CP	R26,R24
    03C6B 07B9      CPC	R27,R25
    03C6C F014      BLT	0x3C6F
    03C6D 9711      SBIW	R26,1
    03C6E CFF6      RJMP	0x3C65
    03C6F 2700      CLR	R16
    03C70 2711      CLR	R17
    03C71 2722      CLR	R18
    03C72 2733      CLR	R19
    03C73 9189      LD	R24,Y+
    03C74 9199      LD	R25,Y+
    03C75 012D      MOVW	R4,R26
    03C76 91B9      LD	R27,Y+
    03C77 91A9      LD	R26,Y+
    03C78 9508      RET
    03C79 2733      CLR	R19
    03C7A EF0F      LDI	R16,0xFF
    03C7B 2F10      MOV	R17,R16
    03C7C E72F      LDI	R18,0x7F
    03C7D 2F32      MOV	R19,R18
    03C7E 9189      LD	R24,Y+
    03C7F 9199      LD	R25,Y+
    03C80 012D      MOVW	R4,R26
    03C81 C002      RJMP	0x3C84
pack:
    03C82 93AA      ST	-Y,R26
    03C83 93BA      ST	-Y,R27
    03C84 DFA7      RCALL	tstR16_R19
    03C85 F049      BEQ	0x3C8F
    03C86 01D2      MOVW	R26,R4
    03C87 58A1      SUBI	R26,0x81
    03C88 4FBF      SBCI	R27,0xFF
    03C89 012D      MOVW	R4,R26
    03C8A 2D34      MOV	R19,R4
    03C8B 0F22      LSL	R18
    03C8C 9536      LSR	R19
    03C8D 9527      ROR	R18
    03C8E 2936      OR	R19,R6
    03C8F 91B9      LD	R27,Y+
    03C90 91A9      LD	R26,Y+
    03C91 9508      RET
saveFPRegs:
    03C92 924A      ST	-Y,R4
    03C93 925A      ST	-Y,R5
    03C94 926A      ST	-Y,R6
    03C95 927A      ST	-Y,R7
    03C96 928A      ST	-Y,R8
    03C97 929A      ST	-Y,R9
    03C98 92AA      ST	-Y,R10
    03C99 92BA      ST	-Y,R11
    03C9A 92CA      ST	-Y,R12
    03C9B 92DA      ST	-Y,R13
    03C9C 92EA      ST	-Y,R14
    03C9D 92FA      ST	-Y,R15
    03C9E 938A      ST	-Y,R24
    03C9F 939A      ST	-Y,R25
    03CA0 9508      RET
restoreFPRegs:
    03CA1 9199      LD	R25,Y+
    03CA2 9189      LD	R24,Y+
    03CA3 90F9      LD	R15,Y+
    03CA4 90E9      LD	R14,Y+
    03CA5 90D9      LD	R13,Y+
    03CA6 90C9      LD	R12,Y+
    03CA7 90B9      LD	R11,Y+
    03CA8 90A9      LD	R10,Y+
    03CA9 9099      LD	R9,Y+
    03CAA 9089      LD	R8,Y+
    03CAB 9079      LD	R7,Y+
    03CAC 9069      LD	R6,Y+
    03CAD 9059      LD	R5,Y+
    03CAE 9049      LD	R4,Y+
    03CAF 9508      RET
fpmule:
    03CB0 940E 3C92 CALL	saveFPRegs
    03CB2 93AA      ST	-Y,R26
    03CB3 93BA      ST	-Y,R27
    03CB4 940E 3C34 CALL	unpacku
    03CB6 F1E1      BEQ	0x3CF3
    03CB7 2CE6      MOV	R14,R6
    03CB8 2CD5      MOV	R13,R5
    03CB9 2CC4      MOV	R12,R4
    03CBA 2EB3      MOV	R11,R19
    03CBB 2EA2      MOV	R10,R18
    03CBC 2E91      MOV	R9,R17
    03CBD 2E80      MOV	R8,R16
    03CBE 8100      LD	R16,Z
    03CBF 8111      LDD	R17,Z+1
    03CC0 8122      LDD	R18,Z+2
    03CC1 8133      LDD	R19,Z+3
    03CC2 940E 3C34 CALL	unpacku
    03CC4 F171      BEQ	0x3CF3
    03CC5 246E      EOR	R6,R14
    03CC6 0C4C      ADD	R4,R12
    03CC7 1C5D      ADC	R5,R13
    03CC8 E880      LDI	R24,0x80
    03CC9 1648      CP	R4,R24
    03CCA 0653      CPC	R5,R19
    03CCB F564      BGE	0x3CF8
    03CCC E881      LDI	R24,0x81
    03CCD 1648      CP	R4,R24
    03CCE EF8F      LDI	R24,0xFF
    03CCF 0658      CPC	R5,R24
    03CD0 F16C      BLT	0x3CFE
    03CD1 9EA2      MUL	R10,R18
    03CD2 2DB1      MOV	R27,R1
    03CD3 2DA0      MOV	R26,R0
    03CD4 9E91      MUL	R9,R17
    03CD5 2D91      MOV	R25,R1
    03CD6 2D80      MOV	R24,R0
    03CD7 9EA0      MUL	R10,R16
    03CD8 0D80      ADD	R24,R0
    03CD9 1D91      ADC	R25,R1
    03CDA 1FA3      ADC	R26,R19
    03CDB 1FB3      ADC	R27,R19
    03CDC 9E82      MUL	R8,R18
    03CDD 0D80      ADD	R24,R0
    03CDE 1D91      ADC	R25,R1
    03CDF 1FA3      ADC	R26,R19
    03CE0 1FB3      ADC	R27,R19
    03CE1 9E92      MUL	R9,R18
    03CE2 0D90      ADD	R25,R0
    03CE3 1DA1      ADC	R26,R1
    03CE4 1FB3      ADC	R27,R19
    03CE5 9EA1      MUL	R10,R17
    03CE6 0D90      ADD	R25,R0
    03CE7 1DA1      ADC	R26,R1
    03CE8 1FB3      ADC	R27,R19
    03CE9 2F2B      MOV	R18,R27
    03CEA 2F1A      MOV	R17,R26
    03CEB 2F09      MOV	R16,R25
    03CEC 0F88      LSL	R24
    03CED 1F00      ROL	R16
    03CEE 1F11      ROL	R17
    03CEF 1F22      ROL	R18
    03CF0 1F33      ROL	R19
    03CF1 940E 3C4D CALL	normalize_and_pack
    03CF3 91B9      LD	R27,Y+
    03CF4 91A9      LD	R26,Y+
    03CF5 940E 3CA1 CALL	restoreFPRegs
    03CF7 9508      RET
    03CF8 EF0F      LDI	R16,0xFF
    03CF9 2F10      MOV	R17,R16
    03CFA E72F      LDI	R18,0x7F
    03CFB E78F      LDI	R24,0x7F
    03CFC 2E48      MOV	R4,R24
    03CFD CFF5      RJMP	0x3CF3
    03CFE 2700      CLR	R16
    03CFF 2F10      MOV	R17,R16
    03D00 2F20      MOV	R18,R16
    03D01 2F30      MOV	R19,R16
    03D02 CFF0      RJMP	0x3CF3
fpmule2:
    03D03 93FA      ST	-Y,R31
    03D04 93EA      ST	-Y,R30
    03D05 2FEC      MOV	R30,R28
    03D06 2FFD      MOV	R31,R29
    03D07 9632      ADIW	R30,2
    03D08 940E 3CB0 CALL	fpmule
    03D0A 91E9      LD	R30,Y+
    03D0B 91F9      LD	R31,Y+
    03D0C 9624      ADIW	R28,4
    03D0D 9508      RET
fpmule1x:
    03D0E 93FA      ST	-Y,R31
    03D0F 93EA      ST	-Y,R30
    03D10 81EA      LDD	R30,Y+2
    03D11 81FB      LDD	R31,Y+3
    03D12 940E 3CB0 CALL	fpmule
    03D14 91E9      LD	R30,Y+
    03D15 91F9      LD	R31,Y+
    03D16 8339      STD	Y+1,R19
    03D17 8328      ST	Y,R18
    03D18 931A      ST	-Y,R17
    03D19 930A      ST	-Y,R16
    03D1A 9508      RET
fpmule2x:
    03D1B 93FA      ST	-Y,R31
    03D1C 93EA      ST	-Y,R30
    03D1D 2FEC      MOV	R30,R28
    03D1E 2FFD      MOV	R31,R29
    03D1F 9632      ADIW	R30,2
    03D20 940E 3CB0 CALL	fpmule
    03D22 91E9      LD	R30,Y+
    03D23 91F9      LD	R31,Y+
    03D24 833B      STD	Y+3,R19
    03D25 832A      STD	Y+2,R18
    03D26 8319      STD	Y+1,R17
    03D27 8308      ST	Y,R16
    03D28 9508      RET
fpcmp:
    03D29 940E 3A82 CALL	fpsub
    03D2B 2333      TST	R19
    03D2C F03A      BMI	0x3D34
    03D2D 940E 3C2C CALL	tstR16_R19
    03D2F F011      BEQ	0x3D32
    03D30 E001      LDI	R16,1
    03D31 9508      RET
    03D32 2700      CLR	R16
    03D33 9508      RET
    03D34 EF0F      LDI	R16,0xFF
    03D35 9508      RET
fpcmp2:
    03D36 93FA      ST	-Y,R31
    03D37 93EA      ST	-Y,R30
    03D38 2FEC      MOV	R30,R28
    03D39 2FFD      MOV	R31,R29
    03D3A 9632      ADIW	R30,2
    03D3B 940E 3D29 CALL	fpcmp
    03D3D 91E9      LD	R30,Y+
    03D3E 91F9      LD	R31,Y+
    03D3F 9624      ADIW	R28,4
    03D40 2300      TST	R16
    03D41 9508      RET
