Interrupt Vectors
    00000 940C 0506 JMP	__text_start|__start
    00006 940C 26C2 JMP	_int_int2
    00014 940C 0BD2 JMP	_int_timer2
    0001C 940C 0B99 JMP	_int_timer1
    00020 940C 0B1E JMP	_int_timer0
    00024 940C 106C JMP	_int_ruart0
    00026 940C 1101 JMP	_int_suart0
    0003A 940C 0C1F JMP	_int_timer3

Program Code (text area)
__text_start|__start:
    00506 EFCF      LDI	R28,0xFF
    00507 E1D0      LDI	R29,0x10
    00508 BFCD      OUT	0x3D,R28
    00509 BFDE      OUT	0x3E,R29
    0050A 51CE      SUBI	R28,0x1E
    0050B 40D0      SBCI	R29,0
    0050C EA0A      LDI	R16,0xAA
    0050D 8308      ST	Y,R16
    0050E 2400      CLR	R0
    0050F E7EF      LDI	R30,0x7F
    00510 E0FA      LDI	R31,0xA
    00511 E01A      LDI	R17,0xA
    00512 39E7      CPI	R30,0x97
    00513 07F1      CPC	R31,R17
    00514 F011      BEQ	0x0517
    00515 9201      ST	Z+,R0
    00516 CFFB      RJMP	0x0512
    00517 8300      ST	Z,R16
    00518 E8EC      LDI	R30,0x8C
    00519 E0F0      LDI	R31,0
    0051A E0A0      LDI	R26,0
    0051B E0B1      LDI	R27,1
    0051C E01A      LDI	R17,0xA
    0051D E000      LDI	R16,0
    0051E BF0B      OUT	0x3B,R16
    0051F 30EB      CPI	R30,0xB
    00520 07F1      CPC	R31,R17
    00521 F021      BEQ	0x0526
    00522 95C8      LPM
    00523 9631      ADIW	R30,1
    00524 920D      ST	X+,R0
    00525 CFF9      RJMP	0x051F
    00526 940E 0A9B CALL	_main
_exit:
    00528 CFFF      RJMP	_exit
FILE: E:\ICCDemo\Temp_Control\temp_control\delay.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) 
(0004) 
(0005) void delay_us(uint n)//延时us
(0006) {
(0007)   n=2*n;
_delay_us:
  n                    --> R16
    00529 0F00      LSL	R16
    0052A 1F11      ROL	R17
(0008)   do{ n--;
    0052B 5001      SUBI	R16,1
    0052C 4010      SBCI	R17,0
(0009)   }while(n>1);
    0052D E081      LDI	R24,1
    0052E E090      LDI	R25,0
    0052F 1780      CP	R24,R16
    00530 0791      CPC	R25,R17
    00531 F3C8      BCS	0x052B
    00532 9508      RET
_delay_ms:
  j                    --> R20
    00533 934A      ST	-Y,R20
    00534 935A      ST	-Y,R21
    00535 01A8      MOVW	R20,R16
(0010) }
(0011) void delay_ms(uint j)//延时ms
(0012) {
(0013)    do{j--;
    00536 5041      SUBI	R20,1
    00537 4050      SBCI	R21,0
(0014)      delay_us(1141);
    00538 E705      LDI	R16,0x75
    00539 E014      LDI	R17,4
    0053A DFEE      RCALL	_delay_us
(0015)    }while(j>1);
    0053B E081      LDI	R24,1
    0053C E090      LDI	R25,0
    0053D 1784      CP	R24,R20
    0053E 0795      CPC	R25,R21
    0053F F3B0      BCS	0x0536
    00540 9159      LD	R21,Y+
    00541 9149      LD	R20,Y+
    00542 9508      RET
_delay_s:
  i                    --> R20
    00543 934A      ST	-Y,R20
    00544 935A      ST	-Y,R21
    00545 01A8      MOVW	R20,R16
(0016) }
(0017) void delay_s(uint i)
(0018) {
(0019)    do{
(0020)    i--;
    00546 5041      SUBI	R20,1
    00547 4050      SBCI	R21,0
(0021)    delay_ms(1000);
    00548 EE08      LDI	R16,0xE8
    00549 E013      LDI	R17,3
    0054A DFE8      RCALL	_delay_ms
(0022)    }while(i>1);
    0054B E081      LDI	R24,1
    0054C E090      LDI	R25,0
    0054D 1784      CP	R24,R20
    0054E 0795      CPC	R25,R21
    0054F F3B0      BCS	0x0546
    00550 9159      LD	R21,Y+
    00551 9149      LD	R20,Y+
    00552 9508      RET
_KeyScan:
    00553 934A      ST	-Y,R20
    00554 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\key.c
(0001) #include<iom128v.h>
(0002) #include "delay.h"
(0003) #include "lcd.h"
(0004) /*
(0005)   按键未正确修改。但是应该不影响正常使用
(0006) */
(0007) uchar key_value='n';
(0008) 
(0009) uchar KeyScan(void){
(0010)   //初始化端口
(0011)    DDRC=0xE0;
    00555 EE80      LDI	R24,0xE0
    00556 BB84      OUT	0x14,R24
(0012)    DDRG|=0x10;
    00557 9180 0064 LDS	R24,0x64
    00559 6180      ORI	R24,0x10
    0055A 9380 0064 STS	0x64,R24
(0013)    
(0014)    //第一次扫描
(0015)    PORTC=0xDF;
    0055C ED8F      LDI	R24,0xDF
    0055D BB85      OUT	0x15,R24
(0016)    PORTG|=0x10;
    0055E 9180 0065 LDS	R24,0x65
    00560 6180      ORI	R24,0x10
    00561 9380 0065 STS	0x65,R24
(0017)    delay_us(1);
    00563 E001      LDI	R16,1
    00564 E010      LDI	R17,0
    00565 940E 0529 CALL	_delay_us
(0018)    switch(PINC)
    00567 B343      IN	R20,0x13
    00568 2755      CLR	R21
    00569 3C4F      CPI	R20,0xCF
    0056A E0E0      LDI	R30,0
    0056B 075E      CPC	R21,R30
    0056C F0E9      BEQ	0x058A
    0056D 3C4F      CPI	R20,0xCF
    0056E E0E0      LDI	R30,0
    0056F 075E      CPC	R21,R30
    00570 F0DC      BLT	0x058C
    00571 3D47      CPI	R20,0xD7
    00572 E0E0      LDI	R30,0
    00573 075E      CPC	R21,R30
    00574 F099      BEQ	0x0588
    00575 3D4B      CPI	R20,0xDB
    00576 E0E0      LDI	R30,0
    00577 075E      CPC	R21,R30
    00578 F069      BEQ	0x0586
    00579 3D4D      CPI	R20,0xDD
    0057A E0E0      LDI	R30,0
    0057B 075E      CPC	R21,R30
    0057C F039      BEQ	0x0584
    0057D 3D4E      CPI	R20,0xDE
    0057E E0E0      LDI	R30,0
    0057F 075E      CPC	R21,R30
    00580 F009      BEQ	0x0582
    00581 C00A      RJMP	0x058C
(0019)    {
(0020)    		case 0xDE:return  'e';//'esc';
    00582 E605      LDI	R16,0x65
    00583 C099      RJMP	0x061D
(0021) 		case 0xdd:return  'a';//'alm';
    00584 E601      LDI	R16,0x61
    00585 C097      RJMP	0x061D
(0022) 		case 0xdb:return  'd';//'down';  
    00586 E604      LDI	R16,0x64
    00587 C095      RJMP	0x061D
(0023) 		case 0xd7:return  'u';//'up';
    00588 E705      LDI	R16,0x75
    00589 C093      RJMP	0x061D
(0024) 		case 0xcf:return  'l';//'left';
    0058A E60C      LDI	R16,0x6C
    0058B C091      RJMP	0x061D
(0025) 		default:break;	   
(0026)    } 
(0027)     //第二次扫描
(0028)    PORTC=0xBF;
    0058C EB8F      LDI	R24,0xBF
    0058D BB85      OUT	0x15,R24
(0029)    PORTG|=0x10;
    0058E 9180 0065 LDS	R24,0x65
    00590 6180      ORI	R24,0x10
    00591 9380 0065 STS	0x65,R24
(0030)    delay_us(1);
    00593 E001      LDI	R16,1
    00594 E010      LDI	R17,0
    00595 940E 0529 CALL	_delay_us
(0031)    switch(PINC)
    00597 B343      IN	R20,0x13
    00598 2755      CLR	R21
    00599 3A4F      CPI	R20,0xAF
    0059A E0E0      LDI	R30,0
    0059B 075E      CPC	R21,R30
    0059C F0E9      BEQ	0x05BA
    0059D 3A4F      CPI	R20,0xAF
    0059E E0E0      LDI	R30,0
    0059F 075E      CPC	R21,R30
    005A0 F0DC      BLT	0x05BC
    005A1 3B47      CPI	R20,0xB7
    005A2 E0E0      LDI	R30,0
    005A3 075E      CPC	R21,R30
    005A4 F099      BEQ	0x05B8
    005A5 3B4B      CPI	R20,0xBB
    005A6 E0E0      LDI	R30,0
    005A7 075E      CPC	R21,R30
    005A8 F069      BEQ	0x05B6
    005A9 3B4D      CPI	R20,0xBD
    005AA E0E0      LDI	R30,0
    005AB 075E      CPC	R21,R30
    005AC F039      BEQ	0x05B4
    005AD 3B4E      CPI	R20,0xBE
    005AE E0E0      LDI	R30,0
    005AF 075E      CPC	R21,R30
    005B0 F009      BEQ	0x05B2
    005B1 C00A      RJMP	0x05BC
(0032)    {
(0033)    		case 0xbE:return 's';//'set';
    005B2 E703      LDI	R16,0x73
    005B3 C069      RJMP	0x061D
(0034) 		case 0xbd:return 'r';//'right';
    005B4 E702      LDI	R16,0x72
    005B5 C067      RJMP	0x061D
(0035) 		case 0xbb:return 't';//'ent';  
    005B6 E704      LDI	R16,0x74
    005B7 C065      RJMP	0x061D
(0036) 		case 0xb7:return 'c';//'clr';
    005B8 E603      LDI	R16,0x63
    005B9 C063      RJMP	0x061D
(0037) 		case 0xaf:return '+';//'+/-';
    005BA E20B      LDI	R16,0x2B
    005BB C061      RJMP	0x061D
(0038) 		default:break;	   
(0039)    } 
(0040)     //第三次扫描
(0041)    PORTC=0x7F;
    005BC E78F      LDI	R24,0x7F
    005BD BB85      OUT	0x15,R24
(0042)    PORTG|=0x10;
    005BE 9180 0065 LDS	R24,0x65
    005C0 6180      ORI	R24,0x10
    005C1 9380 0065 STS	0x65,R24
(0043)    delay_us(1);
    005C3 E001      LDI	R16,1
    005C4 E010      LDI	R17,0
    005C5 940E 0529 CALL	_delay_us
(0044)    switch(PINC)
    005C7 B343      IN	R20,0x13
    005C8 2755      CLR	R21
    005C9 364F      CPI	R20,0x6F
    005CA E0E0      LDI	R30,0
    005CB 075E      CPC	R21,R30
    005CC F0E9      BEQ	0x05EA
    005CD 364F      CPI	R20,0x6F
    005CE E0E0      LDI	R30,0
    005CF 075E      CPC	R21,R30
    005D0 F0DC      BLT	0x05EC
    005D1 3747      CPI	R20,0x77
    005D2 E0E0      LDI	R30,0
    005D3 075E      CPC	R21,R30
    005D4 F099      BEQ	0x05E8
    005D5 374B      CPI	R20,0x7B
    005D6 E0E0      LDI	R30,0
    005D7 075E      CPC	R21,R30
    005D8 F069      BEQ	0x05E6
    005D9 374D      CPI	R20,0x7D
    005DA E0E0      LDI	R30,0
    005DB 075E      CPC	R21,R30
    005DC F039      BEQ	0x05E4
    005DD 374E      CPI	R20,0x7E
    005DE E0E0      LDI	R30,0
    005DF 075E      CPC	R21,R30
    005E0 F009      BEQ	0x05E2
    005E1 C00A      RJMP	0x05EC
(0045)    {
(0046)    		case 0x7E:return '0';
    005E2 E300      LDI	R16,0x30
    005E3 C039      RJMP	0x061D
(0047) 		case 0x7d:return '3';
    005E4 E303      LDI	R16,0x33
    005E5 C037      RJMP	0x061D
(0048) 		case 0x7b:return '2';  
    005E6 E302      LDI	R16,0x32
    005E7 C035      RJMP	0x061D
(0049) 		case 0x77:return '1';
    005E8 E301      LDI	R16,0x31
    005E9 C033      RJMP	0x061D
(0050) 		case 0x6f:return '6';
    005EA E306      LDI	R16,0x36
    005EB C031      RJMP	0x061D
(0051) 		default:break;	   
(0052)    } 
(0053)       //第四次扫描
(0054)    PORTC=0xFF;
    005EC EF8F      LDI	R24,0xFF
    005ED BB85      OUT	0x15,R24
(0055)    PORTG&=0x0F;
    005EE 9180 0065 LDS	R24,0x65
    005F0 708F      ANDI	R24,0xF
    005F1 9380 0065 STS	0x65,R24
(0056)    delay_us(1);
    005F3 E001      LDI	R16,1
    005F4 E010      LDI	R17,0
    005F5 940E 0529 CALL	_delay_us
(0057)    switch(PINC)
    005F7 B343      IN	R20,0x13
    005F8 2755      CLR	R21
    005F9 3E4F      CPI	R20,0xEF
    005FA E0E0      LDI	R30,0
    005FB 075E      CPC	R21,R30
    005FC F0E9      BEQ	0x061A
    005FD 3E4F      CPI	R20,0xEF
    005FE E0E0      LDI	R30,0
    005FF 075E      CPC	R21,R30
    00600 F0DC      BLT	0x061C
    00601 3F47      CPI	R20,0xF7
    00602 E0E0      LDI	R30,0
    00603 075E      CPC	R21,R30
    00604 F099      BEQ	0x0618
    00605 3F4B      CPI	R20,0xFB
    00606 E0E0      LDI	R30,0
    00607 075E      CPC	R21,R30
    00608 F069      BEQ	0x0616
    00609 3F4D      CPI	R20,0xFD
    0060A E0E0      LDI	R30,0
    0060B 075E      CPC	R21,R30
    0060C F039      BEQ	0x0614
    0060D 3F4E      CPI	R20,0xFE
    0060E E0E0      LDI	R30,0
    0060F 075E      CPC	R21,R30
    00610 F009      BEQ	0x0612
    00611 C00A      RJMP	0x061C
(0058)    {
(0059)    		case 0xFE:return '7';
    00612 E307      LDI	R16,0x37
    00613 C009      RJMP	0x061D
(0060) 		case 0xFd:return '8';
    00614 E308      LDI	R16,0x38
    00615 C007      RJMP	0x061D
(0061) 		case 0xFb:return '9';  
    00616 E309      LDI	R16,0x39
    00617 C005      RJMP	0x061D
(0062) 		case 0xF7:return '4';
    00618 E304      LDI	R16,0x34
    00619 C003      RJMP	0x061D
(0063) 		case 0xEf:return '5';
    0061A E305      LDI	R16,0x35
    0061B C001      RJMP	0x061D
(0064) 		default:break;	   
(0065)    }
(0066)  return 'n';
    0061C E60E      LDI	R16,0x6E
    0061D 9159      LD	R21,Y+
    0061E 9149      LD	R20,Y+
    0061F 9508      RET
_KeyScan_once:
  keyValue2            --> R10
  keyValue             --> R20
    00620 92AA      ST	-Y,R10
    00621 934A      ST	-Y,R20
(0067)    
(0068) }
(0069) //********************************
(0070) //		加上延时抖动的读取，一次读取一个
(0071) //********************************
(0072) uchar KeyScan_once(void){
(0073) 	  uchar keyValue,keyValue2;
(0074) 	  keyValue=KeyScan();
    00622 DF30      RCALL	_KeyScan
    00623 2F40      MOV	R20,R16
(0075) 	  delay_ms(2);
    00624 E002      LDI	R16,2
    00625 E010      LDI	R17,0
    00626 940E 0533 CALL	_delay_ms
(0076) 	  keyValue2=KeyScan();
    00628 DF2A      RCALL	_KeyScan
    00629 2EA0      MOV	R10,R16
(0077) 	 if(keyValue==keyValue2 && keyValue!='n'){//两次扫描，消除抖动
    0062A 1740      CP	R20,R16
    0062B F461      BNE	0x0638
    0062C 364E      CPI	R20,0x6E
    0062D F051      BEQ	0x0638
(0078) 	 	if(key_value==keyValue){//如果还是上一次保存的值则代表一直按着，返回‘n’
    0062E 9020 0100 LDS	R2,key_value
    00630 1624      CP	R2,R20
    00631 F411      BNE	0x0634
(0079) 		    return 'n';  
    00632 E60E      LDI	R16,0x6E
    00633 C008      RJMP	0x063C
(0080) 	    }else{                  //松开后第一次按下，返回该键的值
(0081) 		 key_value=keyValue;
    00634 9340 0100 STS	key_value,R20
(0082) 		  return keyValue;
    00636 2F04      MOV	R16,R20
    00637 C004      RJMP	0x063C
(0083) 		}
(0084) 	 }else{                     //因为读取键盘的值会多次刷新，所以在松开按键时key_value重置
(0085) 	   key_value='n';
    00638 E68E      LDI	R24,0x6E
    00639 9380 0100 STS	key_value,R24
(0086) 	   return 'n';
    0063B E60E      LDI	R16,0x6E
    0063C 9149      LD	R20,Y+
    0063D 90A9      LD	R10,Y+
    0063E 9508      RET
_lcd_bz_1:
  result               --> R20
    0063F 934A      ST	-Y,R20
    00640 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\lcd.c
(0001) #include<iom128v.h>
(0002) #include "lcd.h"
(0003) #include "delay.h" 
(0004) #define rs_l PORTG&=~(1<<PG1)
(0005) #define rs_h PORTG|=1<<PG1
(0006) #define rw_l PORTG&=~(1<<PG0)
(0007) #define rw_h PORTG|=1<<PG0
(0008) #define ep1_l PORTG&=~(1<<PG3)
(0009) #define ep1_h PORTG|=1<<PG3
(0010) #define ep2_l PORTF&=~(1<<PF0)
(0011) #define ep2_h PORTF|=1<<PF0
(0012) //***********************************
(0013) //上半屏幕
(0014) //**********************************
(0015) /*
(0016)  读忙程序。命令后，读入BF
(0017) */
(0018) uint lcd_bz_1(void){
(0019) 	uint result;
(0020) 	DDRA=0x00;
    00641 2422      CLR	R2
    00642 BA2A      OUT	0x1A,R2
(0021) 	rs_l;
    00643 9180 0065 LDS	R24,0x65
    00645 7F8D      ANDI	R24,0xFD
    00646 9380 0065 STS	0x65,R24
(0022) 	rw_h;
    00648 9180 0065 LDS	R24,0x65
    0064A 6081      ORI	R24,1
    0064B 9380 0065 STS	0x65,R24
(0023) 	ep1_h;
    0064D 9180 0065 LDS	R24,0x65
    0064F 6088      ORI	R24,0x8
    00650 9380 0065 STS	0x65,R24
(0024) 	delay_us(1);
    00652 E001      LDI	R16,1
    00653 E010      LDI	R17,0
    00654 940E 0529 CALL	_delay_us
(0025) 	result=PINA&(1<<PINA7);
    00656 B349      IN	R20,0x19
    00657 2755      CLR	R21
    00658 7840      ANDI	R20,0x80
    00659 7050      ANDI	R21,0
(0026) 	DDRA=0xFF;
    0065A EF8F      LDI	R24,0xFF
    0065B BB8A      OUT	0x1A,R24
(0027) 	ep1_l;
    0065C 9180 0065 LDS	R24,0x65
    0065E 7F87      ANDI	R24,0xF7
    0065F 9380 0065 STS	0x65,R24
(0028) 	return result;
    00661 018A      MOVW	R16,R20
    00662 9159      LD	R21,Y+
    00663 9149      LD	R20,Y+
    00664 9508      RET
_lcd_wcmd_1:
  cmd                  --> R10
    00665 92AA      ST	-Y,R10
    00666 2EA0      MOV	R10,R16
(0029) }
(0030) //***********************************
(0031) //上半屏幕写命令
(0032) //**********************************
(0033) void lcd_wcmd_1(uchar cmd){
(0034) 	 while(lcd_bz_1());
    00667 DFD7      RCALL	_lcd_bz_1
    00668 3000      CPI	R16,0
    00669 0701      CPC	R16,R17
    0066A F7E1      BNE	0x0667
(0035) 	 rs_l;
    0066B 9180 0065 LDS	R24,0x65
    0066D 7F8D      ANDI	R24,0xFD
    0066E 9380 0065 STS	0x65,R24
(0036) 	 rw_l;
    00670 9180 0065 LDS	R24,0x65
    00672 7F8E      ANDI	R24,0xFE
    00673 9380 0065 STS	0x65,R24
(0037) 	 ep1_l;
    00675 9180 0065 LDS	R24,0x65
    00677 7F87      ANDI	R24,0xF7
    00678 9380 0065 STS	0x65,R24
(0038) 	 PORTA=cmd;
    0067A BAAB      OUT	0x1B,R10
(0039) 	 ep1_h;
    0067B 9180 0065 LDS	R24,0x65
    0067D 6088      ORI	R24,0x8
    0067E 9380 0065 STS	0x65,R24
(0040) 	 delay_us(1);
    00680 E001      LDI	R16,1
    00681 E010      LDI	R17,0
    00682 940E 0529 CALL	_delay_us
(0041) 	 ep1_l;
    00684 9180 0065 LDS	R24,0x65
    00686 7F87      ANDI	R24,0xF7
    00687 9380 0065 STS	0x65,R24
(0042) 	 return;
    00689 90A9      LD	R10,Y+
    0068A 9508      RET
_lcd_wdat_1:
  dat                  --> R10
    0068B 92AA      ST	-Y,R10
    0068C 2EA0      MOV	R10,R16
(0043) }
(0044) /*
(0045) 写输出数据,char
(0046) */
(0047) void lcd_wdat_1(uchar dat){
(0048) 	 while(lcd_bz_1());
    0068D DFB1      RCALL	_lcd_bz_1
    0068E 3000      CPI	R16,0
    0068F 0701      CPC	R16,R17
    00690 F7E1      BNE	0x068D
(0049) 	 rs_h;
    00691 9180 0065 LDS	R24,0x65
    00693 6082      ORI	R24,2
    00694 9380 0065 STS	0x65,R24
(0050) 	 rw_l;
    00696 9180 0065 LDS	R24,0x65
    00698 7F8E      ANDI	R24,0xFE
    00699 9380 0065 STS	0x65,R24
(0051) 	 ep1_l;
    0069B 9180 0065 LDS	R24,0x65
    0069D 7F87      ANDI	R24,0xF7
    0069E 9380 0065 STS	0x65,R24
(0052) 	 PORTA=dat;
    006A0 BAAB      OUT	0x1B,R10
(0053) 	 ep1_h;
    006A1 9180 0065 LDS	R24,0x65
    006A3 6088      ORI	R24,0x8
    006A4 9380 0065 STS	0x65,R24
(0054) 	 delay_us(1);
    006A6 E001      LDI	R16,1
    006A7 E010      LDI	R17,0
    006A8 940E 0529 CALL	_delay_us
(0055) 	 ep1_l;
    006AA 9180 0065 LDS	R24,0x65
    006AC 7F87      ANDI	R24,0xF7
    006AD 9380 0065 STS	0x65,R24
    006AF 90A9      LD	R10,Y+
    006B0 9508      RET
(0056) }
(0057) 
(0058) /*清显示*/
(0059) void lcd_clear_1(void) 
(0060) {
(0061) 	lcd_wcmd_1(0x01);
_lcd_clear_1:
    006B1 E001      LDI	R16,1
    006B2 DFB2      RCALL	_lcd_wcmd_1
(0062) 	delay_ms(1);
    006B3 E001      LDI	R16,1
    006B4 E010      LDI	R17,0
    006B5 940C 0533 JMP	_delay_ms
_lcd_bz_2:
  result               --> R20
    006B7 934A      ST	-Y,R20
    006B8 935A      ST	-Y,R21
(0063) }
(0064) //***********************************
(0065) //    下半屏幕
(0066) //***********************************
(0067) uint lcd_bz_2(void){
(0068) 	uint result;
(0069) 	DDRA=0x00;
    006B9 2422      CLR	R2
    006BA BA2A      OUT	0x1A,R2
(0070) 	rs_l;
    006BB 9180 0065 LDS	R24,0x65
    006BD 7F8D      ANDI	R24,0xFD
    006BE 9380 0065 STS	0x65,R24
(0071) 	rw_h;
    006C0 9180 0065 LDS	R24,0x65
    006C2 6081      ORI	R24,1
    006C3 9380 0065 STS	0x65,R24
(0072) 	ep2_h;
    006C5 9180 0062 LDS	R24,0x62
    006C7 6081      ORI	R24,1
    006C8 9380 0062 STS	0x62,R24
(0073) 	delay_us(1);
    006CA E001      LDI	R16,1
    006CB E010      LDI	R17,0
    006CC 940E 0529 CALL	_delay_us
(0074) 	result=PINA&(1<<PINA7);
    006CE B349      IN	R20,0x19
    006CF 2755      CLR	R21
    006D0 7840      ANDI	R20,0x80
    006D1 7050      ANDI	R21,0
(0075) 	DDRA=0xFF;
    006D2 EF8F      LDI	R24,0xFF
    006D3 BB8A      OUT	0x1A,R24
(0076) 	ep2_l;
    006D4 9180 0062 LDS	R24,0x62
    006D6 7F8E      ANDI	R24,0xFE
    006D7 9380 0062 STS	0x62,R24
(0077) 	return result;
    006D9 018A      MOVW	R16,R20
    006DA 9159      LD	R21,Y+
    006DB 9149      LD	R20,Y+
    006DC 9508      RET
_lcd_wcmd_2:
  cmd                  --> R10
    006DD 92AA      ST	-Y,R10
    006DE 2EA0      MOV	R10,R16
(0078) }
(0079) void lcd_wcmd_2(uchar cmd){
(0080) 	 while(lcd_bz_2());
    006DF DFD7      RCALL	_lcd_bz_2
    006E0 3000      CPI	R16,0
    006E1 0701      CPC	R16,R17
    006E2 F7E1      BNE	0x06DF
(0081) 	 rs_l;
    006E3 9180 0065 LDS	R24,0x65
    006E5 7F8D      ANDI	R24,0xFD
    006E6 9380 0065 STS	0x65,R24
(0082) 	 rw_l;
    006E8 9180 0065 LDS	R24,0x65
    006EA 7F8E      ANDI	R24,0xFE
    006EB 9380 0065 STS	0x65,R24
(0083) 	 ep2_l;
    006ED 9180 0062 LDS	R24,0x62
    006EF 7F8E      ANDI	R24,0xFE
    006F0 9380 0062 STS	0x62,R24
(0084) 	 PORTA=cmd;
    006F2 BAAB      OUT	0x1B,R10
(0085) 	 ep2_h;
    006F3 9180 0062 LDS	R24,0x62
    006F5 6081      ORI	R24,1
    006F6 9380 0062 STS	0x62,R24
(0086) 	delay_us(1);
    006F8 E001      LDI	R16,1
    006F9 E010      LDI	R17,0
    006FA 940E 0529 CALL	_delay_us
(0087) 	 ep2_l;
    006FC 9180 0062 LDS	R24,0x62
    006FE 7F8E      ANDI	R24,0xFE
    006FF 9380 0062 STS	0x62,R24
    00701 90A9      LD	R10,Y+
    00702 9508      RET
_lcd_wdat_2:
  dat                  --> R10
    00703 92AA      ST	-Y,R10
    00704 2EA0      MOV	R10,R16
(0088) }
(0089) //  写输出数据,char
(0090) void lcd_wdat_2(uchar dat){
(0091) 	 while(lcd_bz_2());
    00705 DFB1      RCALL	_lcd_bz_2
    00706 3000      CPI	R16,0
    00707 0701      CPC	R16,R17
    00708 F7E1      BNE	0x0705
(0092) 	 rs_h;
    00709 9180 0065 LDS	R24,0x65
    0070B 6082      ORI	R24,2
    0070C 9380 0065 STS	0x65,R24
(0093) 	 rw_l;
    0070E 9180 0065 LDS	R24,0x65
    00710 7F8E      ANDI	R24,0xFE
    00711 9380 0065 STS	0x65,R24
(0094) 	 ep2_l;
    00713 9180 0062 LDS	R24,0x62
    00715 7F8E      ANDI	R24,0xFE
    00716 9380 0062 STS	0x62,R24
(0095) 	 PORTA=dat;
    00718 BAAB      OUT	0x1B,R10
(0096) 	 ep2_h;
    00719 9180 0062 LDS	R24,0x62
    0071B 6081      ORI	R24,1
    0071C 9380 0062 STS	0x62,R24
(0097) 	delay_us(1);
    0071E E001      LDI	R16,1
    0071F E010      LDI	R17,0
    00720 940E 0529 CALL	_delay_us
(0098) 	 ep2_l;
    00722 9180 0062 LDS	R24,0x62
    00724 7F8E      ANDI	R24,0xFE
    00725 9380 0062 STS	0x62,R24
    00727 90A9      LD	R10,Y+
    00728 9508      RET
(0099) }
(0100) /*清显示*/
(0101) void lcd_clear_2(void) 
(0102) {
(0103) 	lcd_wcmd_2(0x01);
_lcd_clear_2:
    00729 E001      LDI	R16,1
    0072A CFB2      RJMP	_lcd_wcmd_2
_lcd_write_char_con:
  data                 --> R10
  y                    --> R20
    0072B 92AA      ST	-Y,R10
    0072C 934A      ST	-Y,R20
    0072D 2EA2      MOV	R10,R18
    0072E 2F40      MOV	R20,R16
(0104) }
(0105) 
(0106) //*************************************************
(0107) //					写字符
(0108) //***************************************************
(0109) /*
(0110)   附带y。调用 lcd_wdat（）方法。传入时转换为char。直接连续写入使用
(0111) */
(0112) void lcd_write_char_con(unsigned char y,unsigned char data) 
(0113) {
(0114) 	
(0115)     if (y == 0 || y==1) 
    0072F 2344      TST	R20
    00730 F011      BEQ	0x0733
    00731 3041      CPI	R20,1
    00732 F419      BNE	0x0736
(0116)     {
(0117)     	
(0118) 		 lcd_wdat_1( data);
    00733 2D0A      MOV	R16,R10
    00734 DF56      RCALL	_lcd_wdat_1
(0119)     }else  if(y==2 || y==3 )
    00735 C006      RJMP	0x073C
    00736 3042      CPI	R20,2
    00737 F011      BEQ	0x073A
    00738 3043      CPI	R20,3
    00739 F411      BNE	0x073C
(0120)     {
(0121)     	
(0122) 		 lcd_wdat_2( data);
    0073A 2D0A      MOV	R16,R10
    0073B DFC7      RCALL	_lcd_wdat_2
(0123)     }
(0124)    return; 
    0073C 9149      LD	R20,Y+
    0073D 90A9      LD	R10,Y+
    0073E 9508      RET
_lcd_write_pos:
  y                    --> R22
  x                    --> R20
    0073F 934A      ST	-Y,R20
    00740 936A      ST	-Y,R22
    00741 2F62      MOV	R22,R18
    00742 2F40      MOV	R20,R16
(0125) }
(0126) /*
(0127)   附带x,y。写光标位置
(0128) */
(0129) void lcd_write_pos(unsigned char x,unsigned char y) 
(0130) {
(0131) 	
(0132)     if (y == 0) 
    00743 2366      TST	R22
    00744 F421      BNE	0x0749
(0133)     {
(0134)     	lcd_wcmd_1(0x80 + x);
    00745 2F04      MOV	R16,R20
    00746 5800      SUBI	R16,0x80
    00747 DF1D      RCALL	_lcd_wcmd_1
(0135)     }
    00748 C011      RJMP	0x075A
(0136)     else  if(y==1)
    00749 3061      CPI	R22,1
    0074A F421      BNE	0x074F
(0137)     {
(0138)     	lcd_wcmd_1(0x90 + x);
    0074B 2F04      MOV	R16,R20
    0074C 5700      SUBI	R16,0x70
    0074D DF17      RCALL	_lcd_wcmd_1
(0139)     }else  if(y==2)
    0074E C00B      RJMP	0x075A
    0074F 3062      CPI	R22,2
    00750 F421      BNE	0x0755
(0140)     {
(0141)     	lcd_wcmd_2(0x80 + x);
    00751 2F04      MOV	R16,R20
    00752 5800      SUBI	R16,0x80
    00753 DF89      RCALL	_lcd_wcmd_2
(0142)     }else  if(y==3)
    00754 C005      RJMP	0x075A
    00755 3063      CPI	R22,3
    00756 F419      BNE	0x075A
(0143)     {
(0144)     	lcd_wcmd_2(0x90 + x);
    00757 2F04      MOV	R16,R20
    00758 5700      SUBI	R16,0x70
    00759 DF83      RCALL	_lcd_wcmd_2
(0145)     }
(0146)    return; 
    0075A 9169      LD	R22,Y+
    0075B 9149      LD	R20,Y+
    0075C 9508      RET
_lcd_write_char:
  data                 --> R10
  y                    --> R22
  x                    --> R20
    0075D 940E 39E6 CALL	push_xgsetF00C
    0075F 2F62      MOV	R22,R18
    00760 2F40      MOV	R20,R16
    00761 80AE      LDD	R10,Y+6
(0147) }
(0148) /*
(0149)   附带x,y。调用 lcd_wdat（）方法。传入时转换为char
(0150) */
(0151) void lcd_write_char(unsigned char x,unsigned char y,unsigned char data) 
(0152) {
(0153) 	
(0154)     if (y == 0) 
    00762 2366      TST	R22
    00763 F431      BNE	0x076A
(0155)     {
(0156)     	lcd_wcmd_1(0x80 + x);
    00764 2F04      MOV	R16,R20
    00765 5800      SUBI	R16,0x80
    00766 DEFE      RCALL	_lcd_wcmd_1
(0157) 		 lcd_wdat_1( data);
    00767 2D0A      MOV	R16,R10
    00768 DF22      RCALL	_lcd_wdat_1
(0158)     }
    00769 C017      RJMP	0x0781
(0159)     else  if(y==1)
    0076A 3061      CPI	R22,1
    0076B F431      BNE	0x0772
(0160)     {
(0161)     	lcd_wcmd_1(0x90 + x);
    0076C 2F04      MOV	R16,R20
    0076D 5700      SUBI	R16,0x70
    0076E DEF6      RCALL	_lcd_wcmd_1
(0162) 		 lcd_wdat_1( data);
    0076F 2D0A      MOV	R16,R10
    00770 DF1A      RCALL	_lcd_wdat_1
(0163)     }else  if(y==2)
    00771 C00F      RJMP	0x0781
    00772 3062      CPI	R22,2
    00773 F431      BNE	0x077A
(0164)     {
(0165)     	lcd_wcmd_2(0x80 + x);
    00774 2F04      MOV	R16,R20
    00775 5800      SUBI	R16,0x80
    00776 DF66      RCALL	_lcd_wcmd_2
(0166) 		 lcd_wdat_2( data);
    00777 2D0A      MOV	R16,R10
    00778 DF8A      RCALL	_lcd_wdat_2
(0167)     }else  if(y==3)
    00779 C007      RJMP	0x0781
    0077A 3063      CPI	R22,3
    0077B F429      BNE	0x0781
(0168)     {
(0169)     	lcd_wcmd_2(0x90 + x);
    0077C 2F04      MOV	R16,R20
    0077D 5700      SUBI	R16,0x70
    0077E DF5E      RCALL	_lcd_wcmd_2
(0170) 		 lcd_wdat_2( data);
    0077F 2D0A      MOV	R16,R10
    00780 DF82      RCALL	_lcd_wdat_2
(0171)     }
(0172)    return; 
    00781 940C 39ED JMP	pop_xgsetF00C
_lcd_write_str:
  s                    --> R20
  y                    --> R10
  x                    --> R22
    00783 940E 39E6 CALL	push_xgsetF00C
    00785 2EA2      MOV	R10,R18
    00786 2F60      MOV	R22,R16
    00787 814E      LDD	R20,Y+6
    00788 815F      LDD	R21,Y+7
(0173) }
(0174) /*
(0175)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0176) */
(0177) void lcd_write_str(unsigned char x,unsigned char y,unsigned char *s) 
(0178) {
(0179) 	
(0180)     if (y == 0) 
    00789 20AA      TST	R10
    0078A F471      BNE	0x0799
(0181)     {
(0182)     	lcd_wcmd_1(0x80 + x);
    0078B 2F06      MOV	R16,R22
    0078C 5800      SUBI	R16,0x80
    0078D DED7      RCALL	_lcd_wcmd_1
    0078E C005      RJMP	0x0794
(0183) 		 while (*s) 
(0184)        {
(0185)     	lcd_wdat_1( *s);
    0078F 01FA      MOVW	R30,R20
    00790 8100      LD	R16,Z
    00791 DEF9      RCALL	_lcd_wdat_1
(0186)     	s ++;
    00792 5F4F      SUBI	R20,0xFF
    00793 4F5F      SBCI	R21,0xFF
    00794 01FA      MOVW	R30,R20
    00795 8020      LD	R2,Z
    00796 2022      TST	R2
    00797 F7B9      BNE	0x078F
(0187)         }
(0188)     }
    00798 C032      RJMP	0x07CB
(0189)     else  if(y==1)
    00799 2D8A      MOV	R24,R10
    0079A 3081      CPI	R24,1
    0079B F471      BNE	0x07AA
(0190)     {
(0191)     	lcd_wcmd_1(0x90 + x);
    0079C 2F06      MOV	R16,R22
    0079D 5700      SUBI	R16,0x70
    0079E DEC6      RCALL	_lcd_wcmd_1
    0079F C005      RJMP	0x07A5
(0192) 		 while (*s) 
(0193)         {
(0194)     	lcd_wdat_1( *s);
    007A0 01FA      MOVW	R30,R20
    007A1 8100      LD	R16,Z
    007A2 DEE8      RCALL	_lcd_wdat_1
(0195)     	s ++;
    007A3 5F4F      SUBI	R20,0xFF
    007A4 4F5F      SBCI	R21,0xFF
    007A5 01FA      MOVW	R30,R20
    007A6 8020      LD	R2,Z
    007A7 2022      TST	R2
    007A8 F7B9      BNE	0x07A0
(0196)        }
(0197)     }else  if(y==2)
    007A9 C021      RJMP	0x07CB
    007AA 2D8A      MOV	R24,R10
    007AB 3082      CPI	R24,2
    007AC F471      BNE	0x07BB
(0198)     {
(0199)     	lcd_wcmd_2(0x80 + x);
    007AD 2F06      MOV	R16,R22
    007AE 5800      SUBI	R16,0x80
    007AF DF2D      RCALL	_lcd_wcmd_2
    007B0 C005      RJMP	0x07B6
(0200) 		  while (*s) 
(0201)        {
(0202)     	lcd_wdat_2( *s);
    007B1 01FA      MOVW	R30,R20
    007B2 8100      LD	R16,Z
    007B3 DF4F      RCALL	_lcd_wdat_2
(0203)     	s ++;
    007B4 5F4F      SUBI	R20,0xFF
    007B5 4F5F      SBCI	R21,0xFF
    007B6 01FA      MOVW	R30,R20
    007B7 8020      LD	R2,Z
    007B8 2022      TST	R2
    007B9 F7B9      BNE	0x07B1
(0204)        }
(0205)     }else  if(y==3)
    007BA C010      RJMP	0x07CB
    007BB 2D8A      MOV	R24,R10
    007BC 3083      CPI	R24,3
    007BD F469      BNE	0x07CB
(0206)     {
(0207)     	lcd_wcmd_2(0x90 + x);
    007BE 2F06      MOV	R16,R22
    007BF 5700      SUBI	R16,0x70
    007C0 DF1C      RCALL	_lcd_wcmd_2
    007C1 C005      RJMP	0x07C7
(0208) 		  while (*s) 
(0209)        {
(0210)     	lcd_wdat_2( *s);
    007C2 01FA      MOVW	R30,R20
    007C3 8100      LD	R16,Z
    007C4 DF3E      RCALL	_lcd_wdat_2
(0211)     	s ++;
    007C5 5F4F      SUBI	R20,0xFF
    007C6 4F5F      SBCI	R21,0xFF
    007C7 01FA      MOVW	R30,R20
    007C8 8020      LD	R2,Z
    007C9 2022      TST	R2
    007CA F7B9      BNE	0x07C2
(0212)        }
(0213)     }
    007CB 940C 39ED JMP	pop_xgsetF00C
_lcd_write_str_con:
  s                    --> R20
  y                    --> R22
    007CD 940E 39DC CALL	push_xgsetF000
    007CF 01A9      MOVW	R20,R18
    007D0 2F60      MOV	R22,R16
(0214)    
(0215) }
(0216) /*
(0217)   附带x,y。调用 lcd_wdat（）方法，会通过指针遍历字符串。不太好，还是自己循环遍历
(0218) */
(0219) void lcd_write_str_con(unsigned char y,unsigned char *s) 
(0220) {
(0221) 	
(0222)     if (y == 0 || y==1) 
    007D1 2366      TST	R22
    007D2 F011      BEQ	0x07D5
    007D3 3061      CPI	R22,1
    007D4 F459      BNE	0x07E0
(0223)     {
    007D5 C005      RJMP	0x07DB
(0224)     	
(0225) 		 while (*s) 
(0226)        {
(0227)     	lcd_wdat_1( *s);
    007D6 01FA      MOVW	R30,R20
    007D7 8100      LD	R16,Z
    007D8 DEB2      RCALL	_lcd_wdat_1
(0228)     	s ++;
    007D9 5F4F      SUBI	R20,0xFF
    007DA 4F5F      SBCI	R21,0xFF
    007DB 01FA      MOVW	R30,R20
    007DC 8020      LD	R2,Z
    007DD 2022      TST	R2
    007DE F7B9      BNE	0x07D6
(0229)         }
(0230)     }
    007DF C00E      RJMP	0x07EE
(0231)     else  if(y==2 || y==3)
    007E0 3062      CPI	R22,2
    007E1 F011      BEQ	0x07E4
    007E2 3063      CPI	R22,3
    007E3 F451      BNE	0x07EE
(0232)     {
    007E4 C005      RJMP	0x07EA
(0233)     	
(0234) 		  while (*s) 
(0235)        {
(0236)     	lcd_wdat_2( *s);
    007E5 01FA      MOVW	R30,R20
    007E6 8100      LD	R16,Z
    007E7 DF1B      RCALL	_lcd_wdat_2
(0237)     	s ++;
    007E8 5F4F      SUBI	R20,0xFF
    007E9 4F5F      SBCI	R21,0xFF
    007EA 01FA      MOVW	R30,R20
    007EB 8020      LD	R2,Z
    007EC 2022      TST	R2
    007ED F7B9      BNE	0x07E5
(0238)        }
(0239)     }
    007EE 940C 39E1 JMP	pop_xgsetF000
_read_ac_1:
  result               --> R20
    007F0 934A      ST	-Y,R20
    007F1 935A      ST	-Y,R21
(0240)    
(0241) }
(0242) //****************************
(0243) //  读出数据,.不知道有没有用，先放在这
(0244) //****************************
(0245) /**
(0246)  读程序。命令后，读AC地址
(0247) */
(0248) uchar read_ac_1(void){
(0249) 	uint result;
(0250) 	DDRA=0x00;
    007F2 2422      CLR	R2
    007F3 BA2A      OUT	0x1A,R2
(0251) 	rs_l;
    007F4 9180 0065 LDS	R24,0x65
    007F6 7F8D      ANDI	R24,0xFD
    007F7 9380 0065 STS	0x65,R24
(0252) 	rw_h;
    007F9 9180 0065 LDS	R24,0x65
    007FB 6081      ORI	R24,1
    007FC 9380 0065 STS	0x65,R24
(0253) 	ep1_h;
    007FE 9180 0065 LDS	R24,0x65
    00800 6088      ORI	R24,0x8
    00801 9380 0065 STS	0x65,R24
(0254) 	delay_ms(1);
    00803 E001      LDI	R16,1
    00804 E010      LDI	R17,0
    00805 940E 0533 CALL	_delay_ms
(0255) 	result=PINA&(~(1<<PINA7));
    00807 B349      IN	R20,0x19
    00808 2755      CLR	R21
    00809 774F      ANDI	R20,0x7F
(0256) 	DDRA=0xFF;
    0080A EF8F      LDI	R24,0xFF
    0080B BB8A      OUT	0x1A,R24
(0257) 	ep1_l;
    0080C 9180 0065 LDS	R24,0x65
    0080E 7F87      ANDI	R24,0xF7
    0080F 9380 0065 STS	0x65,R24
(0258) 	return result;
    00811 2F04      MOV	R16,R20
    00812 9159      LD	R21,Y+
    00813 9149      LD	R20,Y+
    00814 9508      RET
_read_ac_2:
  result               --> R20
    00815 934A      ST	-Y,R20
    00816 935A      ST	-Y,R21
(0259) }
(0260) uchar read_ac_2(void){
(0261) 	uint result;
(0262) 	DDRA=0x00;
    00817 2422      CLR	R2
    00818 BA2A      OUT	0x1A,R2
(0263) 	rs_l;
    00819 9180 0065 LDS	R24,0x65
    0081B 7F8D      ANDI	R24,0xFD
    0081C 9380 0065 STS	0x65,R24
(0264) 	rw_h;
    0081E 9180 0065 LDS	R24,0x65
    00820 6081      ORI	R24,1
    00821 9380 0065 STS	0x65,R24
(0265) 	ep2_h;
    00823 9180 0062 LDS	R24,0x62
    00825 6081      ORI	R24,1
    00826 9380 0062 STS	0x62,R24
(0266) 	delay_ms(1);
    00828 E001      LDI	R16,1
    00829 E010      LDI	R17,0
    0082A 940E 0533 CALL	_delay_ms
(0267) 	result=PINA&(~(1<<PINA7));
    0082C B349      IN	R20,0x19
    0082D 2755      CLR	R21
    0082E 774F      ANDI	R20,0x7F
(0268) 	DDRA=0xFF;
    0082F EF8F      LDI	R24,0xFF
    00830 BB8A      OUT	0x1A,R24
(0269) 	ep2_l;
    00831 9180 0062 LDS	R24,0x62
    00833 7F8E      ANDI	R24,0xFE
    00834 9380 0062 STS	0x62,R24
(0270) 	return result;
    00836 2F04      MOV	R16,R20
    00837 9159      LD	R21,Y+
    00838 9149      LD	R20,Y+
    00839 9508      RET
(0271) }
(0272) //***********************************
(0273) //清除屏幕内容
(0274) //**********************************
(0275) void lcd_clear(void){
(0276)    lcd_clear_1();
_lcd_clear:
    0083A DE76      RCALL	_lcd_clear_1
(0277)     lcd_clear_2();
    0083B CEED      RJMP	_lcd_clear_2
_date_cmd_1:
  result               --> R10
    0083C 92AA      ST	-Y,R10
    0083D 92BA      ST	-Y,R11
(0278) }
(0279) /*
(0280)  读数据程序。命令后，读入。使用read_data函数会是设定的值，再吃调用本函数会使ac
(0281)  移动一次，8读取位的数据
(0282) */
(0283) uchar date_cmd_1(void){
(0284) 	uint result;
(0285) 	DDRA=0x00;
    0083E 2422      CLR	R2
    0083F BA2A      OUT	0x1A,R2
(0286) 	rs_h;
    00840 9180 0065 LDS	R24,0x65
    00842 6082      ORI	R24,2
    00843 9380 0065 STS	0x65,R24
(0287) 	rw_h;
    00845 9180 0065 LDS	R24,0x65
    00847 6081      ORI	R24,1
    00848 9380 0065 STS	0x65,R24
(0288) 	ep1_h;
    0084A 9180 0065 LDS	R24,0x65
    0084C 6088      ORI	R24,0x8
    0084D 9380 0065 STS	0x65,R24
(0289) 	delay_ms(1);
    0084F E001      LDI	R16,1
    00850 E010      LDI	R17,0
    00851 940E 0533 CALL	_delay_ms
(0290) 	result=PINA;
    00853 B2A9      IN	R10,0x19
    00854 24BB      CLR	R11
(0291) 	DDRA=0xFF;
    00855 EF8F      LDI	R24,0xFF
    00856 BB8A      OUT	0x1A,R24
(0292) 	ep1_l;
    00857 9180 0065 LDS	R24,0x65
    00859 7F87      ANDI	R24,0xF7
    0085A 9380 0065 STS	0x65,R24
(0293) 	return result;
    0085C 2D0A      MOV	R16,R10
    0085D 90B9      LD	R11,Y+
    0085E 90A9      LD	R10,Y+
    0085F 9508      RET
_date_cmd_2:
  result               --> R10
    00860 92AA      ST	-Y,R10
    00861 92BA      ST	-Y,R11
(0294) }
(0295) uchar date_cmd_2(void){
(0296) 	uint result;
(0297) 	DDRA=0x00;
    00862 2422      CLR	R2
    00863 BA2A      OUT	0x1A,R2
(0298) 	rs_h;
    00864 9180 0065 LDS	R24,0x65
    00866 6082      ORI	R24,2
    00867 9380 0065 STS	0x65,R24
(0299) 	rw_h;
    00869 9180 0065 LDS	R24,0x65
    0086B 6081      ORI	R24,1
    0086C 9380 0065 STS	0x65,R24
(0300) 	ep2_h;
    0086E 9180 0062 LDS	R24,0x62
    00870 6081      ORI	R24,1
    00871 9380 0062 STS	0x62,R24
(0301) 	delay_ms(1);
    00873 E001      LDI	R16,1
    00874 E010      LDI	R17,0
    00875 940E 0533 CALL	_delay_ms
(0302) 	result=PINA;
    00877 B2A9      IN	R10,0x19
    00878 24BB      CLR	R11
(0303) 	DDRA=0xFF;
    00879 EF8F      LDI	R24,0xFF
    0087A BB8A      OUT	0x1A,R24
(0304) 	ep2_l;
    0087B 9180 0062 LDS	R24,0x62
    0087D 7F8E      ANDI	R24,0xFE
    0087E 9380 0062 STS	0x62,R24
(0305) 	return result;
    00880 2D0A      MOV	R16,R10
    00881 90B9      LD	R11,Y+
    00882 90A9      LD	R10,Y+
    00883 9508      RET
_read_data_xy:
  y                    --> R22
  x                    --> R20
    00884 940E 39E6 CALL	push_xgsetF00C
    00886 2F62      MOV	R22,R18
    00887 2F40      MOV	R20,R16
(0306) }
(0307) //**************************
(0308) //读取函数，注意会ac位置
(0309) //**************************
(0310) uchar read_data_xy(unsigned char x,unsigned char y){
(0311) 	if (y == 0) {
    00888 2366      TST	R22
    00889 F449      BNE	0x0893
(0312)     	lcd_wcmd_1(0x80 + x);
    0088A 2F04      MOV	R16,R20
    0088B 5800      SUBI	R16,0x80
    0088C DDD8      RCALL	_lcd_wcmd_1
(0313) 		delay_us(10);
    0088D E00A      LDI	R16,0xA
    0088E E010      LDI	R17,0
    0088F 940E 0529 CALL	_delay_us
(0314) 		return date_cmd_1();
    00891 DFAA      RCALL	_date_cmd_1
    00892 C024      RJMP	0x08B7
(0315) 		
(0316)     }else  if(y==1){
    00893 3061      CPI	R22,1
    00894 F449      BNE	0x089E
(0317)     	lcd_wcmd_1(0x90 + x);
    00895 2F04      MOV	R16,R20
    00896 5700      SUBI	R16,0x70
    00897 DDCD      RCALL	_lcd_wcmd_1
(0318) 		delay_us(10);
    00898 E00A      LDI	R16,0xA
    00899 E010      LDI	R17,0
    0089A 940E 0529 CALL	_delay_us
(0319) 		return date_cmd_1();
    0089C DF9F      RCALL	_date_cmd_1
    0089D C019      RJMP	0x08B7
(0320)     }else  if(y==2){
    0089E 3062      CPI	R22,2
    0089F F451      BNE	0x08AA
(0321)     	lcd_wcmd_2(0x80 + x);
    008A0 2F04      MOV	R16,R20
    008A1 5800      SUBI	R16,0x80
    008A2 DE3A      RCALL	_lcd_wcmd_2
(0322) 		delay_us(10);
    008A3 E00A      LDI	R16,0xA
    008A4 E010      LDI	R17,0
    008A5 940E 0529 CALL	_delay_us
(0323) 		return date_cmd_2();
    008A7 DFB8      RCALL	_date_cmd_2
    008A8 2EA0      MOV	R10,R16
    008A9 C00D      RJMP	0x08B7
(0324)     }else  if(y==3){
    008AA 3063      CPI	R22,3
    008AB F451      BNE	0x08B6
(0325)     	lcd_wcmd_2(0x90 + x);
    008AC 2F04      MOV	R16,R20
    008AD 5700      SUBI	R16,0x70
    008AE DE2E      RCALL	_lcd_wcmd_2
(0326) 		delay_us(10);
    008AF E00A      LDI	R16,0xA
    008B0 E010      LDI	R17,0
    008B1 940E 0529 CALL	_delay_us
(0327) 		return date_cmd_2();
    008B3 DFAC      RCALL	_date_cmd_2
    008B4 2EA0      MOV	R10,R16
    008B5 C001      RJMP	0x08B7
(0328)     }
(0329) 	
(0330) 	return 0x00;
    008B6 2700      CLR	R16
    008B7 940C 39ED JMP	pop_xgsetF00C
_read_data_1:
  addr                 --> R10
    008B9 92AA      ST	-Y,R10
    008BA 2EA0      MOV	R10,R16
(0331) }
(0332) uchar read_data_1(unsigned char addr){
(0333) 	
(0334)     	lcd_wcmd_1(addr);
    008BB 2D0A      MOV	R16,R10
    008BC DDA8      RCALL	_lcd_wcmd_1
(0335)     	return date_cmd_1();
    008BD DF7E      RCALL	_date_cmd_1
    008BE 90A9      LD	R10,Y+
    008BF 9508      RET
_read_data_2:
  addr                 --> R10
    008C0 92AA      ST	-Y,R10
    008C1 2EA0      MOV	R10,R16
(0336) }
(0337) uchar read_data_2(unsigned char addr){
(0338)     	lcd_wcmd_1(addr);
    008C2 2D0A      MOV	R16,R10
    008C3 DDA1      RCALL	_lcd_wcmd_1
(0339) 		return date_cmd_2();
    008C4 DF9B      RCALL	_date_cmd_2
    008C5 90A9      LD	R10,Y+
    008C6 9508      RET
(0340) }
(0341) 
(0342) 
(0343) /*初始化功能*/
(0344) void lcd_init(void){
(0345) 	 //初始化端口功能
(0346) 	 DDRA |=0xFF;
_lcd_init:
    008C7 B38A      IN	R24,0x1A
    008C8 6F8F      ORI	R24,0xFF
    008C9 BB8A      OUT	0x1A,R24
(0347) 	 PORTA=0xFF;
    008CA EF8F      LDI	R24,0xFF
    008CB BB8B      OUT	0x1B,R24
(0348) 	 DDRG |=0x0F;
    008CC 9180 0064 LDS	R24,0x64
    008CE 608F      ORI	R24,0xF
    008CF 9380 0064 STS	0x64,R24
(0349) 	 PORTG|=0x0F;
    008D1 9180 0065 LDS	R24,0x65
    008D3 608F      ORI	R24,0xF
    008D4 9380 0065 STS	0x65,R24
(0350) 	 DDRF|=0x01;
    008D6 9180 0061 LDS	R24,0x61
    008D8 6081      ORI	R24,1
    008D9 9380 0061 STS	0x61,R24
(0351) 	 PORTF|=0x01;
    008DB 9180 0062 LDS	R24,0x62
    008DD 6081      ORI	R24,1
    008DE 9380 0062 STS	0x62,R24
(0352) 	 //lcd_wcmd(0x38);//初始化功能,8位，基本指令
(0353) 	 lcd_wcmd_1(0x30);//初始化功能,8位，基本指令
    008E0 E300      LDI	R16,0x30
    008E1 DD83      RCALL	_lcd_wcmd_1
(0354) 	  lcd_wcmd_1(0x08);//关显示
    008E2 E008      LDI	R16,0x8
    008E3 DD81      RCALL	_lcd_wcmd_1
(0355) 	  lcd_wcmd_1(0x01);//清显示
    008E4 E001      LDI	R16,1
    008E5 DD7F      RCALL	_lcd_wcmd_1
(0356) 	  lcd_wcmd_1(0x06);//输入模式，右移
    008E6 E006      LDI	R16,6
    008E7 DD7D      RCALL	_lcd_wcmd_1
(0357) 	  lcd_wcmd_1(0x0c);//初始化光标,开显示
    008E8 E00C      LDI	R16,0xC
    008E9 DD7B      RCALL	_lcd_wcmd_1
(0358) 	
(0359) 	  lcd_wcmd_2(0x30);//初始化功能,8位，基本指令
    008EA E300      LDI	R16,0x30
    008EB DDF1      RCALL	_lcd_wcmd_2
(0360) 	 lcd_wcmd_2(0x08);//关显示
    008EC E008      LDI	R16,0x8
    008ED DDEF      RCALL	_lcd_wcmd_2
(0361) 	 lcd_wcmd_2(0x01);//清显示
    008EE E001      LDI	R16,1
    008EF DDED      RCALL	_lcd_wcmd_2
(0362) 	 lcd_wcmd_2(0x06);//输入模式，右移
    008F0 E006      LDI	R16,6
    008F1 DDEB      RCALL	_lcd_wcmd_2
(0363) 	 lcd_wcmd_2(0x0c);//初始化光标,开显示
    008F2 E00C      LDI	R16,0xC
    008F3 CDE9      RJMP	_lcd_wcmd_2
_cur_set:
  type                 --> R20
    008F4 934A      ST	-Y,R20
    008F5 935A      ST	-Y,R21
    008F6 01A8      MOVW	R20,R16
(0364) }
(0365) //************
(0366) // 光标显示操作,默认初始化都是关闭。上半屏 0:关闭,1：开游标,2：游标反白,3：开游标、反白
(0367) // 下半屏  4:关闭,5：开游标,6：游标反白,7：开游标、反白
(0368) //************
(0369) void cur_set(uint type){
(0370) 	 if(type==0){
    008F7 3040      CPI	R20,0
    008F8 0745      CPC	R20,R21
    008F9 F419      BNE	0x08FD
(0371) 	 	lcd_wcmd_1(0x0c);	 
    008FA E00C      LDI	R16,0xC
    008FB DD69      RCALL	_lcd_wcmd_1
(0372) 	 }else if(type==1){
    008FC C030      RJMP	0x092D
    008FD 3041      CPI	R20,1
    008FE E0E0      LDI	R30,0
    008FF 075E      CPC	R21,R30
    00900 F419      BNE	0x0904
(0373) 	     lcd_wcmd_1(0x0e);
    00901 E00E      LDI	R16,0xE
    00902 DD62      RCALL	_lcd_wcmd_1
(0374) 	 }else if(type==2){
    00903 C029      RJMP	0x092D
    00904 3042      CPI	R20,2
    00905 E0E0      LDI	R30,0
    00906 075E      CPC	R21,R30
    00907 F419      BNE	0x090B
(0375) 	    lcd_wcmd_1(0x0d);
    00908 E00D      LDI	R16,0xD
    00909 DD5B      RCALL	_lcd_wcmd_1
(0376) 	 }else if(type==3){
    0090A C022      RJMP	0x092D
    0090B 3043      CPI	R20,3
    0090C E0E0      LDI	R30,0
    0090D 075E      CPC	R21,R30
    0090E F419      BNE	0x0912
(0377) 	    lcd_wcmd_1(0x0f);
    0090F E00F      LDI	R16,0xF
    00910 DD54      RCALL	_lcd_wcmd_1
(0378) 	 }else if(type==4){
    00911 C01B      RJMP	0x092D
    00912 3044      CPI	R20,4
    00913 E0E0      LDI	R30,0
    00914 075E      CPC	R21,R30
    00915 F419      BNE	0x0919
(0379) 	    lcd_wcmd_2(0x0c);
    00916 E00C      LDI	R16,0xC
    00917 DDC5      RCALL	_lcd_wcmd_2
(0380) 	 }else if(type==5){
    00918 C014      RJMP	0x092D
    00919 3045      CPI	R20,5
    0091A E0E0      LDI	R30,0
    0091B 075E      CPC	R21,R30
    0091C F419      BNE	0x0920
(0381) 	    lcd_wcmd_2(0x0e);
    0091D E00E      LDI	R16,0xE
    0091E DDBE      RCALL	_lcd_wcmd_2
(0382) 	 }else if(type==6){
    0091F C00D      RJMP	0x092D
    00920 3046      CPI	R20,6
    00921 E0E0      LDI	R30,0
    00922 075E      CPC	R21,R30
    00923 F419      BNE	0x0927
(0383) 	    lcd_wcmd_2(0x0d);
    00924 E00D      LDI	R16,0xD
    00925 DDB7      RCALL	_lcd_wcmd_2
(0384) 	 }else if(type==7){
    00926 C006      RJMP	0x092D
    00927 3047      CPI	R20,7
    00928 E0E0      LDI	R30,0
    00929 075E      CPC	R21,R30
    0092A F411      BNE	0x092D
(0385) 	    lcd_wcmd_2(0x0f);
    0092B E00F      LDI	R16,0xF
    0092C DDB0      RCALL	_lcd_wcmd_2
(0386) 	 }
    0092D 9159      LD	R21,Y+
    0092E 9149      LD	R20,Y+
    0092F 9508      RET
(0387) }
(0388) //***************************************************
(0389) //   反白相关
(0390) //***************************************************
(0391) /********************************************************************  
(0392)     函 数 名：Set_Draw(  
(0393)     入口参数：无  
(0394)     出口参数：无  
(0395)     修改日期：  
(0396)     函数作用：  
(0397)     说    明：  
(0398)     ********************************************************************/   
(0399)     void Set_Draw(void)   
(0400)     {   
(0401)         //W_1byte(0,0,0x01);            //清屏    
(0402)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0403)         lcd_wcmd_1(0x36); 
_Set_Draw:
    00930 E306      LDI	R16,0x36
    00931 DD33      RCALL	_lcd_wcmd_1
(0404) 		lcd_wcmd_2(0x36);   
    00932 E306      LDI	R16,0x36
    00933 CDA9      RJMP	_lcd_wcmd_2
(0405)     }
(0406) 	void Set_UNDraw(void)   
(0407)     {   
(0408)         //W_1byte(0,0,0x01);            //清屏   
(0409)         //W_1byte(0,0,0x34);            //8BIT控制界面，扩充指令集,，绘图显示OFF   
(0410)         lcd_wcmd_1(0x30); 
_Set_UNDraw:
    00934 E300      LDI	R16,0x30
    00935 DD2F      RCALL	_lcd_wcmd_1
(0411) 		lcd_wcmd_2(0x30);   
    00936 E300      LDI	R16,0x30
    00937 CDA5      RJMP	_lcd_wcmd_2
_Set_White_off:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    00938 940E 395A CALL	push_arg4
    0093A 940E 39C7 CALL	push_xgsetF0FC
    0093C 2F62      MOV	R22,R18
    0093D 9721      SBIW	R28,1
    0093E 84AF      LDD	R10,Y+15
(0412)     }
(0413) /**************************************************  
(0414)     uchar x,起始位置
(0415) 	uchar y,对应y
(0416) 	uchar end_x, 反白结束位置
(0417) 	uchar clear 0：反白，1：不反白
(0418)  **************************************************/   
(0419)     void Set_White_off(uchar x,uchar y,uchar end_x)   
(0420)     {   
(0421)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0422)         white_end_x = (end_x-x+1);   
    0093F 2D8A      MOV	R24,R10
    00940 840B      LDD	R0,Y+11
    00941 1980      SUB	R24,R0
    00942 5F8F      SUBI	R24,0xFF
    00943 2EC8      MOV	R12,R24
(0423)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    00944 0CCC      LSL	R12
(0424) 		Set_Draw(); //开画图
    00945 DFEA      RCALL	_Set_Draw
(0425)         if(y==0)   
    00946 2366      TST	R22
    00947 F449      BNE	0x0951
(0426)         {   
(0427)             white_x = (0x80+x-1);   
    00948 858B      LDD	R24,Y+11
    00949 5880      SUBI	R24,0x80
    0094A 5081      SUBI	R24,1
    0094B 8388      ST	Y,R24
(0428)             white_y = 0x80;   
    0094C E840      LDI	R20,0x80
(0429)             clr_x = 0x80;   
    0094D E880      LDI	R24,0x80
    0094E 2EA8      MOV	R10,R24
(0430)             clr_y = 0x80;   
    0094F 2EE8      MOV	R14,R24
(0431)         }   
    00950 C022      RJMP	0x0973
(0432)         else if(y==1)   
    00951 3061      CPI	R22,1
    00952 F451      BNE	0x095D
(0433)         {   
(0434)             white_x = (0x80+x-1);   
    00953 858B      LDD	R24,Y+11
    00954 5880      SUBI	R24,0x80
    00955 5081      SUBI	R24,1
    00956 8388      ST	Y,R24
(0435)             white_y = 0x90;   
    00957 E940      LDI	R20,0x90
(0436)             clr_x = 0x80;   
    00958 E880      LDI	R24,0x80
    00959 2EA8      MOV	R10,R24
(0437)             clr_y = 0x90;   
    0095A E980      LDI	R24,0x90
    0095B 2EE8      MOV	R14,R24
(0438)         }   
    0095C C016      RJMP	0x0973
(0439)         else if(y==2)   
    0095D 3062      CPI	R22,2
    0095E F449      BNE	0x0968
(0440)         {   
(0441)             white_x = (0x80+x-1);   
    0095F 858B      LDD	R24,Y+11
    00960 5880      SUBI	R24,0x80
    00961 5081      SUBI	R24,1
    00962 8388      ST	Y,R24
(0442)             white_y = 0x80;   
    00963 E840      LDI	R20,0x80
(0443)             clr_x = 0x80;   
    00964 E880      LDI	R24,0x80
    00965 2EA8      MOV	R10,R24
(0444)             clr_y = 0x80;   
    00966 2EE8      MOV	R14,R24
(0445)         }   
    00967 C00B      RJMP	0x0973
(0446)         else if(y==3)   
    00968 3063      CPI	R22,3
    00969 F449      BNE	0x0973
(0447)         {   
(0448)             white_x = (0x80+x-1);   
    0096A 858B      LDD	R24,Y+11
    0096B 5880      SUBI	R24,0x80
    0096C 5081      SUBI	R24,1
    0096D 8388      ST	Y,R24
(0449)             white_y = 0x90;   
    0096E E940      LDI	R20,0x90
(0450)             clr_x = 0x80;   
    0096F E880      LDI	R24,0x80
    00970 2EA8      MOV	R10,R24
(0451)             clr_y = 0x90;   
    00971 E980      LDI	R24,0x90
    00972 2EE8      MOV	R14,R24
(0452)         }   
(0453) 		if(y==0 || y==1){    
    00973 2366      TST	R22
    00974 F011      BEQ	0x0977
    00975 3061      CPI	R22,1
    00976 F4A1      BNE	0x098B
(0454)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    00977 24AA      CLR	R10
    00978 C00E      RJMP	0x0987
(0455)           {   
(0456)              lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    00979 2E24      MOV	R2,R20
    0097A 5F4F      SUBI	R20,0xFF
    0097B 2D02      MOV	R16,R2
    0097C DCE8      RCALL	_lcd_wcmd_1
(0457)              lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    0097D 8108      LD	R16,Y
    0097E DCE6      RCALL	_lcd_wcmd_1
(0458)              for(j=0;j<white_end_x;j++)   //   
    0097F 24EE      CLR	R14
    00980 C003      RJMP	0x0984
(0459)              {     
(0460)                lcd_wdat_1(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    00981 2700      CLR	R16
    00982 DD08      RCALL	_lcd_wdat_1
    00983 94E3      INC	R14
    00984 14EC      CP	R14,R12
    00985 F3D8      BCS	0x0981
    00986 94A3      INC	R10
    00987 2D8A      MOV	R24,R10
    00988 3180      CPI	R24,0x10
    00989 F378      BCS	0x0979
(0461)              }   
(0462)           }
(0463) 		}else if(y==2 || y==3){
    0098A C017      RJMP	0x09A2
    0098B 3062      CPI	R22,2
    0098C F011      BEQ	0x098F
    0098D 3063      CPI	R22,3
    0098E F499      BNE	0x09A2
(0464) 		    for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    0098F 24AA      CLR	R10
    00990 C00E      RJMP	0x099F
(0465)           {   
(0466)              lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    00991 2E24      MOV	R2,R20
    00992 5F4F      SUBI	R20,0xFF
    00993 2D02      MOV	R16,R2
    00994 DD48      RCALL	_lcd_wcmd_2
(0467)              lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    00995 8108      LD	R16,Y
    00996 DD46      RCALL	_lcd_wcmd_2
(0468)              for(j=0;j<white_end_x;j++)   //   
    00997 24EE      CLR	R14
    00998 C003      RJMP	0x099C
(0469)              {     
(0470)                lcd_wdat_2(0x00); //取消这一行的8个点的反白，液晶地址自动加   
    00999 2700      CLR	R16
    0099A DD68      RCALL	_lcd_wdat_2
    0099B 94E3      INC	R14
    0099C 14EC      CP	R14,R12
    0099D F3D8      BCS	0x0999
    0099E 94A3      INC	R10
    0099F 2D8A      MOV	R24,R10
    009A0 3180      CPI	R24,0x10
    009A1 F378      BCS	0x0991
(0471)              }   
(0472)           }
(0473) 		}
(0474) 		  Set_UNDraw();//关画图  
    009A2 DF91      RCALL	_Set_UNDraw
    009A3 9621      ADIW	R28,1
    009A4 940E 39BC CALL	pop_xgsetF0FC
    009A6 9624      ADIW	R28,4
    009A7 9508      RET
_Set_White:
  clr_y                --> R14
  clr_x                --> R10
  white_y              --> R20
  white_x              --> Y,+0
  i                    --> R10
  white_end_x          --> R12
  j                    --> R14
  end_x                --> R10
  y                    --> R22
  x                    --> Y,+11
    009A8 940E 395A CALL	push_arg4
    009AA 940E 39C7 CALL	push_xgsetF0FC
    009AC 2F62      MOV	R22,R18
    009AD 9721      SBIW	R28,1
    009AE 84AF      LDD	R10,Y+15
(0475)     } 
(0476) 	void Set_White(uchar x,uchar y,uchar end_x)   
(0477)     {   
(0478)         uchar i, j, white_x, white_y,white_end_x,clr_x,clr_y;       //   
(0479)         white_end_x = (end_x-x+1);   
    009AF 2D8A      MOV	R24,R10
    009B0 840B      LDD	R0,Y+11
    009B1 1980      SUB	R24,R0
    009B2 5F8F      SUBI	R24,0xFF
    009B3 2EC8      MOV	R12,R24
(0480)         white_end_x <<= 1;   //16*16，一次写8个，所以乘2
    009B4 0CCC      LSL	R12
(0481) 		Set_Draw(); //开画图
    009B5 DF7A      RCALL	_Set_Draw
(0482)         if(y==0)   
    009B6 2366      TST	R22
    009B7 F449      BNE	0x09C1
(0483)         {   
(0484)             white_x = (0x80+x-1);   
    009B8 858B      LDD	R24,Y+11
    009B9 5880      SUBI	R24,0x80
    009BA 5081      SUBI	R24,1
    009BB 8388      ST	Y,R24
(0485)             white_y = 0x80;   
    009BC E840      LDI	R20,0x80
(0486)             clr_x = 0x80;   
    009BD E880      LDI	R24,0x80
    009BE 2EA8      MOV	R10,R24
(0487)             clr_y = 0x80;   
    009BF 2EE8      MOV	R14,R24
(0488)         }   
    009C0 C022      RJMP	0x09E3
(0489)         else if(y==1)   
    009C1 3061      CPI	R22,1
    009C2 F451      BNE	0x09CD
(0490)         {   
(0491)             white_x = (0x80+x-1);   
    009C3 858B      LDD	R24,Y+11
    009C4 5880      SUBI	R24,0x80
    009C5 5081      SUBI	R24,1
    009C6 8388      ST	Y,R24
(0492)             white_y = 0x90;   
    009C7 E940      LDI	R20,0x90
(0493)             clr_x = 0x80;   
    009C8 E880      LDI	R24,0x80
    009C9 2EA8      MOV	R10,R24
(0494)             clr_y = 0x90;   
    009CA E980      LDI	R24,0x90
    009CB 2EE8      MOV	R14,R24
(0495)         }   
    009CC C016      RJMP	0x09E3
(0496)         else if(y==2)   
    009CD 3062      CPI	R22,2
    009CE F449      BNE	0x09D8
(0497)         {   
(0498)             white_x = (0x80+x-1);   
    009CF 858B      LDD	R24,Y+11
    009D0 5880      SUBI	R24,0x80
    009D1 5081      SUBI	R24,1
    009D2 8388      ST	Y,R24
(0499)             white_y = 0x80;   
    009D3 E840      LDI	R20,0x80
(0500)             clr_x = 0x80;   
    009D4 E880      LDI	R24,0x80
    009D5 2EA8      MOV	R10,R24
(0501)             clr_y = 0x80;   
    009D6 2EE8      MOV	R14,R24
(0502)         }   
    009D7 C00B      RJMP	0x09E3
(0503)         else if(y==3)   
    009D8 3063      CPI	R22,3
    009D9 F449      BNE	0x09E3
(0504)         {   
(0505)             white_x = (0x80+x-1);   
    009DA 858B      LDD	R24,Y+11
    009DB 5880      SUBI	R24,0x80
    009DC 5081      SUBI	R24,1
    009DD 8388      ST	Y,R24
(0506)             white_y = 0x90;   
    009DE E940      LDI	R20,0x90
(0507)             clr_x = 0x80;   
    009DF E880      LDI	R24,0x80
    009E0 2EA8      MOV	R10,R24
(0508)             clr_y = 0x90;   
    009E1 E980      LDI	R24,0x90
    009E2 2EE8      MOV	R14,R24
(0509)         } 
(0510) 		if(y==0 || y==1){          
    009E3 2366      TST	R22
    009E4 F011      BEQ	0x09E7
    009E5 3061      CPI	R22,1
    009E6 F4A1      BNE	0x09FB
(0511)           for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    009E7 24AA      CLR	R10
    009E8 C00E      RJMP	0x09F7
(0512)           {   
(0513)               lcd_wcmd_1(white_y++);     //设置绘图区的Y地址坐标0   
    009E9 2E24      MOV	R2,R20
    009EA 5F4F      SUBI	R20,0xFF
    009EB 2D02      MOV	R16,R2
    009EC DC78      RCALL	_lcd_wcmd_1
(0514)               lcd_wcmd_1(white_x);       //设置绘图区的X地址坐标0   
    009ED 8108      LD	R16,Y
    009EE DC76      RCALL	_lcd_wcmd_1
(0515)               for(j=0;j<white_end_x;j++)   //   
    009EF 24EE      CLR	R14
    009F0 C003      RJMP	0x09F4
(0516)               {    
(0517)                     lcd_wdat_1(0xff); //反白这一行的8个点，液晶地址自动加1     
    009F1 EF0F      LDI	R16,0xFF
    009F2 DC98      RCALL	_lcd_wdat_1
    009F3 94E3      INC	R14
    009F4 14EC      CP	R14,R12
    009F5 F3D8      BCS	0x09F1
    009F6 94A3      INC	R10
    009F7 2D8A      MOV	R24,R10
    009F8 3180      CPI	R24,0x10
    009F9 F378      BCS	0x09E9
(0518)               }   
(0519)           }
(0520) 		}else if(y==2 || y==3){
    009FA C017      RJMP	0x0A12
    009FB 3062      CPI	R22,2
    009FC F011      BEQ	0x09FF
    009FD 3063      CPI	R22,3
    009FE F499      BNE	0x0A12
(0521) 		   for(i=0;i<16;i++ )               //16行，因为是16*16汉字   
    009FF 24AA      CLR	R10
    00A00 C00E      RJMP	0x0A0F
(0522)             {   
(0523)               lcd_wcmd_2(white_y++);     //设置绘图区的Y地址坐标0   
    00A01 2E24      MOV	R2,R20
    00A02 5F4F      SUBI	R20,0xFF
    00A03 2D02      MOV	R16,R2
    00A04 DCD8      RCALL	_lcd_wcmd_2
(0524)               lcd_wcmd_2(white_x);       //设置绘图区的X地址坐标0   
    00A05 8108      LD	R16,Y
    00A06 DCD6      RCALL	_lcd_wcmd_2
(0525)               for(j=0;j<white_end_x;j++)   //   
    00A07 24EE      CLR	R14
    00A08 C003      RJMP	0x0A0C
(0526)               {    
(0527)                     lcd_wdat_2(0xff); //反白这一行的8个点，液晶地址自动加1     
    00A09 EF0F      LDI	R16,0xFF
    00A0A DCF8      RCALL	_lcd_wdat_2
    00A0B 94E3      INC	R14
    00A0C 14EC      CP	R14,R12
    00A0D F3D8      BCS	0x0A09
    00A0E 94A3      INC	R10
    00A0F 2D8A      MOV	R24,R10
    00A10 3180      CPI	R24,0x10
    00A11 F378      BCS	0x0A01
(0528)               }   
(0529)             }
(0530) 		}
(0531) 		  Set_UNDraw();//关画图  
    00A12 DF21      RCALL	_Set_UNDraw
    00A13 9621      ADIW	R28,1
    00A14 940E 39BC CALL	pop_xgsetF0FC
    00A16 9624      ADIW	R28,4
    00A17 9508      RET
_Draw_Pic:
  temp_y               --> R20
  temp_x               --> R22
  i                    --> R10
  j                    --> R14
  Draw                 --> Y,+12
  y                    --> Y,+10
  x                    --> R12
    00A18 933A      ST	-Y,R19
    00A19 932A      ST	-Y,R18
    00A1A 940E 39C7 CALL	push_xgsetF0FC
    00A1C 2EC0      MOV	R12,R16
(0532)     } 
(0533) 	/********************************************************************  
(0534)     函 数 名：Draw_Pic  128*64  
(0535)     入口参数：x,y,*Draw  
(0536)     出口参数：无  
(0537)     建立日期：2007年8月26日  
(0538)     修改日期：  
(0539)     函数作用：  
(0540)     说    明：  
(0541)     ********************************************************************/   
(0542)     /*************************************************/   
(0543)        
(0544)     void Draw_Pic(uchar x, uchar y, const uchar *Draw)   
(0545)     {   
(0546)         uchar i, j, temp_x, temp_y;     //   
(0547) 		lcd_wcmd_1(0x34);
    00A1D E304      LDI	R16,0x34
    00A1E DC46      RCALL	_lcd_wcmd_1
(0548) 		lcd_wcmd_2(0x34);
    00A1F E304      LDI	R16,0x34
    00A20 DCBC      RCALL	_lcd_wcmd_2
(0549)         temp_x = x;                     //   
    00A21 2D6C      MOV	R22,R12
(0550)         temp_y = y;                     //   
    00A22 854A      LDD	R20,Y+10
(0551)         temp_x |= 0x80;                 //   
    00A23 6860      ORI	R22,0x80
(0552)         temp_y |= 0x80;                 //   
    00A24 6840      ORI	R20,0x80
(0553)         for(i=0;i<32;i++ )               //上半屏32行   
    00A25 24AA      CLR	R10
    00A26 C013      RJMP	0x0A3A
(0554)         {   
(0555)             lcd_wcmd_1(temp_y++);      //设置绘图区的Y地址坐标0   
    00A27 2E24      MOV	R2,R20
    00A28 5F4F      SUBI	R20,0xFF
    00A29 2D02      MOV	R16,R2
    00A2A DC3A      RCALL	_lcd_wcmd_1
(0556)             lcd_wcmd_1(temp_x);        //设置绘图区的X地址坐标0   
    00A2B 2F06      MOV	R16,R22
    00A2C DC38      RCALL	_lcd_wcmd_1
(0557)             for(j=0;j<24;j++)            //   
    00A2D 24EE      CLR	R14
    00A2E C007      RJMP	0x0A36
(0558)             {   
(0559)                  lcd_wdat_1(*Draw++);  //   
    00A2F 85EC      LDD	R30,Y+12
    00A30 85FD      LDD	R31,Y+13
    00A31 9101      LD	R16,Z+
    00A32 87FD      STD	Y+13,R31
    00A33 87EC      STD	Y+12,R30
    00A34 DC56      RCALL	_lcd_wdat_1
    00A35 94E3      INC	R14
    00A36 2D8E      MOV	R24,R14
    00A37 3188      CPI	R24,0x18
    00A38 F3B0      BCS	0x0A2F
    00A39 94A3      INC	R10
    00A3A 2D8A      MOV	R24,R10
    00A3B 3280      CPI	R24,0x20
    00A3C F350      BCS	0x0A27
(0560)             }   
(0561)         }   
(0562)            
(0563)         temp_x = x;                     //   
    00A3D 2D6C      MOV	R22,R12
(0564)         temp_y = y;                     //   
    00A3E 854A      LDD	R20,Y+10
(0565)         temp_x |= 0x80;                 //   
    00A3F 6860      ORI	R22,0x80
(0566)         temp_y |= 0x80;                   //   
    00A40 6840      ORI	R20,0x80
(0567)         j = 0;                          //   
    00A41 24EE      CLR	R14
(0568)         for(;i<64;i++ )   
    00A42 C013      RJMP	0x0A56
(0569)         {   
(0570)             lcd_wcmd_2(temp_y++);      //设置绘图区的Y地址坐标   
    00A43 2E24      MOV	R2,R20
    00A44 5F4F      SUBI	R20,0xFF
    00A45 2D02      MOV	R16,R2
    00A46 DC96      RCALL	_lcd_wcmd_2
(0571)             lcd_wcmd_2(temp_x);        //设置绘图区的X地址坐标   
    00A47 2F06      MOV	R16,R22
    00A48 DC94      RCALL	_lcd_wcmd_2
(0572)             for(j=0;j<24;j++)   
    00A49 24EE      CLR	R14
    00A4A C007      RJMP	0x0A52
(0573)             {   
(0574)                  lcd_wdat_2(*Draw++);  //   
    00A4B 85EC      LDD	R30,Y+12
    00A4C 85FD      LDD	R31,Y+13
    00A4D 9101      LD	R16,Z+
    00A4E 87FD      STD	Y+13,R31
    00A4F 87EC      STD	Y+12,R30
    00A50 DCB2      RCALL	_lcd_wdat_2
    00A51 94E3      INC	R14
    00A52 2D8E      MOV	R24,R14
    00A53 3188      CPI	R24,0x18
    00A54 F3B0      BCS	0x0A4B
    00A55 94A3      INC	R10
    00A56 2D8A      MOV	R24,R10
    00A57 3480      CPI	R24,0x40
    00A58 F350      BCS	0x0A43
(0575)             }   
(0576)         }   
(0577)        lcd_wcmd_1(0x36);
    00A59 E306      LDI	R16,0x36
    00A5A DC0A      RCALL	_lcd_wcmd_1
(0578) 	   lcd_wcmd_2(0x36);
    00A5B E306      LDI	R16,0x36
    00A5C DC80      RCALL	_lcd_wcmd_2
(0579) 	   delay_us(1);
    00A5D E001      LDI	R16,1
    00A5E E010      LDI	R17,0
    00A5F 940E 0529 CALL	_delay_us
(0580) 	   lcd_wcmd_1(0x30);
    00A61 E300      LDI	R16,0x30
    00A62 DC02      RCALL	_lcd_wcmd_1
(0581) 	   lcd_wcmd_2(0x30);
    00A63 E300      LDI	R16,0x30
    00A64 DC78      RCALL	_lcd_wcmd_2
    00A65 940E 39BC CALL	pop_xgsetF0FC
    00A67 9622      ADIW	R28,2
    00A68 9508      RET
_lcd_Desk:
    00A69 9722      SBIW	R28,2
(0582) 	        
(0583)     }  
(0584)     /*************************************************/  
(0585) //***********************************************************************
(0586) //      液晶显示界面初始化
(0587) //***********************************************************************
(0588) void lcd_Desk(void)
(0589) { 
(0590)   //uint i=0;   
(0591)  // lcd_clear();
(0592)   //lcd_write_str(0,0,"ADC0:");
(0593)   lcd_write_str(0,3,"反白测试第一次");
    00A6A E081      LDI	R24,1
    00A6B E091      LDI	R25,1
    00A6C 8399      STD	Y+1,R25
    00A6D 8388      ST	Y,R24
    00A6E E023      LDI	R18,3
    00A6F 2700      CLR	R16
    00A70 DD12      RCALL	_lcd_write_str
(0594)   lcd_write_str(0,0,"反白测试第一次");
    00A71 E081      LDI	R24,1
    00A72 E091      LDI	R25,1
    00A73 8399      STD	Y+1,R25
    00A74 8388      ST	Y,R24
    00A75 2722      CLR	R18
    00A76 2700      CLR	R16
    00A77 DD0B      RCALL	_lcd_write_str
(0595)   //delay_ms(100);
(0596)      
(0597)     Set_White(1,1,7); 
    00A78 E087      LDI	R24,7
    00A79 8388      ST	Y,R24
    00A7A E021      LDI	R18,1
    00A7B E001      LDI	R16,1
    00A7C DF2B      RCALL	_Set_White
(0598) 	   
(0599) 	 
(0600)     delay_ms(3000); 
    00A7D EB08      LDI	R16,0xB8
    00A7E E01B      LDI	R17,0xB
    00A7F 940E 0533 CALL	_delay_ms
(0601)      Set_White_off(1,1,7);
    00A81 E087      LDI	R24,7
    00A82 8388      ST	Y,R24
    00A83 E021      LDI	R18,1
    00A84 E001      LDI	R16,1
    00A85 DEB2      RCALL	_Set_White_off
(0602) 	Set_White(2,1,2); 
    00A86 E082      LDI	R24,2
    00A87 8388      ST	Y,R24
    00A88 E021      LDI	R18,1
    00A89 E002      LDI	R16,2
    00A8A DF1D      RCALL	_Set_White
(0603) 	 delay_ms(300); 
    00A8B E20C      LDI	R16,0x2C
    00A8C E011      LDI	R17,1
    00A8D 940E 0533 CALL	_delay_ms
(0604) 	 Set_White_off(2,2,7);
    00A8F E087      LDI	R24,7
    00A90 8388      ST	Y,R24
    00A91 E022      LDI	R18,2
    00A92 E002      LDI	R16,2
    00A93 DEA4      RCALL	_Set_White_off
(0605) 	 Set_White(3,1,5);   
    00A94 E085      LDI	R24,5
    00A95 8388      ST	Y,R24
    00A96 E021      LDI	R18,1
    00A97 E003      LDI	R16,3
    00A98 DF0F      RCALL	_Set_White
    00A99 9622      ADIW	R28,2
    00A9A 9508      RET
_main:
    00A9B 9721      SBIW	R28,1
FILE: E:\ICCDemo\Temp_Control\temp_control\main.c
(0001) #include<iom128v.h>
(0002) #include "main.h"
(0003) #include "lcd.h"
(0004) #include "time1307.h"
(0005) #include "key.h"
(0006) #include "delay.h"
(0007) #include "timertask.h"
(0008) #include "eeprom.h"
(0009) #include "pages.h"
(0010) #include "temp.h"
(0011) #include "uart.h"
(0012) //串口接收数据需要
(0013) unsigned int read_data_cache[132]={0};
(0014) unsigned int read_data_cur=0;
(0015) unsigned char read_data_cmd='z';//字母表示。如果是z表示空指令
(0016) //串口发送数据需要
(0017) unsigned int send_data_cache[139]={0x30};
(0018) unsigned int send_data_length=0;//数据长度
(0019) unsigned int send_data_cur=0;//当前发送到游标
(0020) //定时器0复用参数。t0_fla0=0，开机等待；t0_fla0=1，温度计时
(0021) unsigned int t0_flag =0;
(0022) //const unsigned char nihao[1536]={};
(0023) //确认恢复的等待标记，初始为1000，如果为0代表到时.在使用其当作温度计数的时候需要值为32
(0024) unsigned int waitflag=1000;
(0025) //下面两个继续使用。暂时保存数据使用
(0026)  unsigned int temp_h=0;
(0027)  unsigned int temp_l=0;
(0028)  //界面需要参数
(0029)  unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0030)  unsigned int pageParam[5];//传递参数。界面间参数暂存
(0031)  unsigned int prePageNum; //上一界面。应该在跳转前设置这个参数。但是用到这个参数的就Page3、4、8.所以可以直接在该界面用到在设置。不用理会规则
(0032)  //**************
(0033) struct temp temps[4]={{0},{0},{0},{0}};
(0034) 
(0035) 
(0036) //*************************************************************************
(0037) //			主程序
(0038) //*************************************************************************
(0039) void main(void)
(0040) { 
(0041)   //DDRE=0xFF;
(0042)   //PORTE=~0xaa;
(0043)   DDRC=0xFF;//输出端口
    00A9C EF8F      LDI	R24,0xFF
    00A9D BB84      OUT	0x14,R24
(0044)   PORTC=0x00;
    00A9E 2422      CLR	R2
    00A9F BA25      OUT	0x15,R2
(0045)   DDRE=0xDA;//读取温度端口初始化和端口定义
    00AA0 ED8A      LDI	R24,0xDA
    00AA1 B982      OUT	0x02,R24
(0046)   DDRF=0xF6;
    00AA2 EF86      LDI	R24,0xF6
    00AA3 9380 0061 STS	0x61,R24
(0047)   PORTE |=0xFC;
    00AA5 B183      IN	R24,0x03
    00AA6 6F8C      ORI	R24,0xFC
    00AA7 B983      OUT	0x03,R24
(0048)   PORTF |= 0xFF;
    00AA8 9180 0062 LDS	R24,0x62
    00AAA 6F8F      ORI	R24,0xFF
    00AAB 9380 0062 STS	0x62,R24
(0049)   
(0050)   SREG|=0x80;//开中断
    00AAD 9478      BSET	7
(0051)   lcd_init();
    00AAE 940E 08C7 CALL	_lcd_init
(0052)   lcd_clear();
    00AB0 940E 083A CALL	_lcd_clear
(0053)    //画欢迎界面
(0054)   //Draw_Pic( 0, 0, nihao);
(0055)    //delay_ms(1000);
(0056)      pageNum=2;
    00AB2 E082      LDI	R24,2
    00AB3 E090      LDI	R25,0
    00AB4 9390 0A8C STS	pageNum+1,R25
    00AB6 9380 0A8B STS	pageNum,R24
(0057)      Set_White_off(1,0,12);
    00AB8 E08C      LDI	R24,0xC
    00AB9 8388      ST	Y,R24
    00ABA 2722      CLR	R18
    00ABB E001      LDI	R16,1
    00ABC 940E 0938 CALL	_Set_White_off
(0058) 	 Set_White_off(1,1,12);
    00ABE E08C      LDI	R24,0xC
    00ABF 8388      ST	Y,R24
    00AC0 E021      LDI	R18,1
    00AC1 E001      LDI	R16,1
    00AC2 940E 0938 CALL	_Set_White_off
(0059) 	 Set_White_off(1,2,12);
    00AC4 E08C      LDI	R24,0xC
    00AC5 8388      ST	Y,R24
    00AC6 E022      LDI	R18,2
    00AC7 E001      LDI	R16,1
    00AC8 940E 0938 CALL	_Set_White_off
(0060) 	 Set_White_off(1,3,12);
    00ACA E08C      LDI	R24,0xC
    00ACB 8388      ST	Y,R24
    00ACC E023      LDI	R18,3
    00ACD E001      LDI	R16,1
    00ACE 940E 0938 CALL	_Set_White_off
(0061) 	 //测试使用
(0062) 	  //temp_l=0x50;
(0063)       //temp_h=0x12;
(0064) 	  tempdata_init();//数据初始化，清空
    00AD0 940E 3102 CALL	_tempdata_init
(0065)       Initial_time(); //初始化时间的
    00AD2 940E 38C3 CALL	_Initial_time
(0066) 	  uart0_init();//初始化串口
    00AD4 940E 1056 CALL	_uart0_init
(0067) 	  Timerinit_3(0xc0,0x00);//使用16位的定时器3。发送串口数据，刚开始为初始化的时候可能数据都为空
    00AD6 2722      CLR	R18
    00AD7 EC00      LDI	R16,0xC0
    00AD8 940E 0AF6 CALL	_Timerinit_3
(0068) 	  Timerinit_1(0xFe,0xb8);//使用16位的定时器1来输出
    00ADA EB28      LDI	R18,0xB8
    00ADB EF0E      LDI	R16,0xFE
    00ADC 940E 0AE7 CALL	_Timerinit_1
(0069) 	  Timerinit_2(0x00);//1s计时模块
    00ADE 2700      CLR	R16
    00ADF 940E 0B15 CALL	_Timerinit_2
    00AE1 C002      RJMP	0x0AE4
(0070) 	 while(1){
(0071)      dispatchPages();
    00AE2 940E 2662 CALL	_dispatchPages
    00AE4 CFFD      RJMP	0x0AE2
    00AE5 9621      ADIW	R28,1
    00AE6 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\timertask.c
(0001) #include<iom128v.h>
(0002) #include "timertask.h"
(0003) #include "time.h"
(0004) #include "main.h"
(0005) #include "lcd.h"
(0006) #include "delay.h"
(0007) #include "main.h"
(0008) #include "temp.h"
(0009) #include "out.h"
(0010) unsigned int secondflag=64;//8位定时器全计时64次为1s
(0011) unsigned char time_h_1, time_l_1,time_h_3, time_l_3,time_0, time_2,i;
(0012) //************************************************
(0013) //16位定时器，定时器1
(0014) //*************************************************
(0015) /*
(0016)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0017)   自行计算时间传入。传入高低八位
(0018) */
(0019) void Timerinit_1(uchar time_h,uchar time_l){
(0020)     time_h_1=time_h;
_Timerinit_1:
  time_l               --> R18
  time_h               --> R16
    00AE7 9300 0A93 STS	time_h_1,R16
(0021) 	time_l_1=time_l;
    00AE9 9320 0A92 STS	time_l_1,R18
(0022) 	 TCCR1B=0x00;
    00AEB 2422      CLR	R2
    00AEC BC2E      OUT	0x2E,R2
(0023) 	//写入初值
(0024)     TCNT1H=time_h;
    00AED BD0D      OUT	0x2D,R16
(0025)     TCNT1L=time_l;
    00AEE BD2C      OUT	0x2C,R18
(0026) 	//普通计数，1024分频
(0027)     TCCR1A=0x00;
    00AEF BC2F      OUT	0x2F,R2
(0028)     TCCR1B=0x05;
    00AF0 E085      LDI	R24,5
    00AF1 BD8E      OUT	0x2E,R24
(0029) 	 TIMSK|=0x04;//开定时器1溢出中断,16位的
    00AF2 B787      IN	R24,0x37
    00AF3 6084      ORI	R24,4
    00AF4 BF87      OUT	0x37,R24
    00AF5 9508      RET
(0030) }
(0031) //************************************************
(0032) //16位定时器，定时器3
(0033) //*************************************************
(0034) /*
(0035)   计数器1，16位的。普通计时，1024分频。在16M下约0.061ms计数一次。共4s钟,
(0036)   自行计算时间传入。传入高低八位
(0037) */
(0038) void Timerinit_3(uchar time_h,uchar time_l){
(0039)  	time_h_3=time_h;
_Timerinit_3:
  time_l               --> R18
  time_h               --> R16
    00AF6 9300 0A91 STS	time_h_3,R16
(0040) 	time_l_3=time_l;
    00AF8 9320 0A90 STS	time_l_3,R18
(0041) 	//写入初值
(0042) 	 TCCR3B=0x00;
    00AFA 2422      CLR	R2
    00AFB 9220 008A STS	0x8A,R2
(0043)     TCNT3H=time_h;
    00AFD 9300 0089 STS	0x89,R16
(0044)     TCNT3L=time_l;
    00AFF 9320 0088 STS	0x88,R18
(0045) 	//普通计数，1024分频
(0046)     TCCR3A=0x00;
    00B01 9220 008B STS	0x8B,R2
(0047)     TCCR3B=0x05;
    00B03 E085      LDI	R24,5
    00B04 9380 008A STS	0x8A,R24
(0048) 	ETIMSK |=0x04;//开外部中断
    00B06 9180 007D LDS	R24,0x7D
    00B08 6084      ORI	R24,4
    00B09 9380 007D STS	0x7D,R24
    00B0B 9508      RET
(0049) }
(0050) //************************************************
(0051) //8位定时器，定时器0
(0052) //*************************************************
(0053) 
(0054) /*
(0055)   计数器0，8位的。普通计时，1024分频。
(0056)   自行计算时间传入。
(0057) */
(0058) void Timerinit_0(uchar time){
(0059)     time_0=time;
_Timerinit_0:
  time                 --> R16
    00B0C 9300 0A8F STS	time_0,R16
(0060) 	//写入初值
(0061)     TCNT0=time;
    00B0E BF02      OUT	0x32,R16
(0062) 	TIMSK|=0x01;//开定时器0溢出中断,8位的
    00B0F B787      IN	R24,0x37
    00B10 6081      ORI	R24,1
    00B11 BF87      OUT	0x37,R24
(0063) 	 TCCR0=0x07;//普通计数，1024分频
    00B12 E087      LDI	R24,7
    00B13 BF83      OUT	0x33,R24
    00B14 9508      RET
(0064) 	 
(0065) }
(0066) //************************************************
(0067) //8位定时器，定时器2
(0068) //*************************************************
(0069) /*
(0070)   计数器0，8位的。普通计时，1024分频。
(0071)   自行计算时间传入。
(0072) */
(0073) void Timerinit_2(uchar time){
(0074)     time_2=time;
_Timerinit_2:
  time                 --> R16
    00B15 9300 0A8E STS	time_2,R16
(0075) 	//写入初值
(0076)     TCNT2=time;
    00B17 BD04      OUT	0x24,R16
(0077) 	TIMSK|=0x40;//开定时器2溢出中断,8位的
    00B18 B787      IN	R24,0x37
    00B19 6480      ORI	R24,0x40
    00B1A BF87      OUT	0x37,R24
(0078) 	//普通计数，1024分频
(0079)     TCCR2=0x05;
    00B1B E085      LDI	R24,5
    00B1C BD85      OUT	0x25,R24
    00B1D 9508      RET
_int_timer0:
    00B1E 920A      ST	-Y,R0
    00B1F 921A      ST	-Y,R1
    00B20 922A      ST	-Y,R2
    00B21 923A      ST	-Y,R3
    00B22 924A      ST	-Y,R4
    00B23 925A      ST	-Y,R5
    00B24 926A      ST	-Y,R6
    00B25 927A      ST	-Y,R7
    00B26 928A      ST	-Y,R8
    00B27 929A      ST	-Y,R9
    00B28 930A      ST	-Y,R16
    00B29 931A      ST	-Y,R17
    00B2A 932A      ST	-Y,R18
    00B2B 933A      ST	-Y,R19
    00B2C 938A      ST	-Y,R24
    00B2D 939A      ST	-Y,R25
    00B2E 93AA      ST	-Y,R26
    00B2F 93BA      ST	-Y,R27
    00B30 93EA      ST	-Y,R30
    00B31 93FA      ST	-Y,R31
    00B32 B60F      IN	R0,0x3F
    00B33 920A      ST	-Y,R0
    00B34 9721      SBIW	R28,1
(0080) }
(0081) #pragma interrupt_handler int_timer0:17
(0082) void int_timer0(void){ 
(0083) 		TCCR0=0x00;
    00B35 2422      CLR	R2
    00B36 BE23      OUT	0x33,R2
(0084)   if(t0_flag==0){
    00B37 9020 0335 LDS	R2,t0_flag
    00B39 9030 0336 LDS	R3,t0_flag+1
    00B3B 2022      TST	R2
    00B3C F559      BNE	0x0B68
    00B3D 2033      TST	R3
    00B3E F549      BNE	0x0B68
(0085) 		waitflag--;
    00B3F 9180 0337 LDS	R24,waitflag
    00B41 9190 0338 LDS	R25,waitflag+1
    00B43 9701      SBIW	R24,1
    00B44 9390 0338 STS	waitflag+1,R25
    00B46 9380 0337 STS	waitflag,R24
(0086) 	    lcd_write_char(10,0,0x30+(waitflag/100));
    00B48 E624      LDI	R18,0x64
    00B49 E030      LDI	R19,0
    00B4A 018C      MOVW	R16,R24
    00B4B 940E 3986 CALL	div16u
    00B4D 01C8      MOVW	R24,R16
    00B4E 96C0      ADIW	R24,0x30
    00B4F 8388      ST	Y,R24
    00B50 2722      CLR	R18
    00B51 E00A      LDI	R16,0xA
    00B52 940E 075D CALL	_lcd_write_char
(0087) 	    lcd_write_char(11,0,'s');	
    00B54 E783      LDI	R24,0x73
    00B55 8388      ST	Y,R24
    00B56 2722      CLR	R18
    00B57 E00B      LDI	R16,0xB
    00B58 940E 075D CALL	_lcd_write_char
(0088) 	    if(waitflag>1){
    00B5A E081      LDI	R24,1
    00B5B E090      LDI	R25,0
    00B5C 9020 0337 LDS	R2,waitflag
    00B5E 9030 0338 LDS	R3,waitflag+1
    00B60 1582      CP	R24,R2
    00B61 0593      CPC	R25,R3
    00B62 F4F0      BCC	0x0B81
(0089) 	      TCNT0=0x00;
    00B63 2422      CLR	R2
    00B64 BE22      OUT	0x32,R2
(0090) 	      TCCR0=0x07;
    00B65 E087      LDI	R24,7
    00B66 BF83      OUT	0x33,R24
(0091) 	    }
(0092) 	}else{
    00B67 C019      RJMP	0x0B81
(0093) 	  waitflag--;
    00B68 9180 0337 LDS	R24,waitflag
    00B6A 9190 0338 LDS	R25,waitflag+1
    00B6C 9701      SBIW	R24,1
    00B6D 9390 0338 STS	waitflag+1,R25
    00B6F 9380 0337 STS	waitflag,R24
(0094) 	    if(waitflag==1){
    00B71 3081      CPI	R24,1
    00B72 E0E0      LDI	R30,0
    00B73 079E      CPC	R25,R30
    00B74 F441      BNE	0x0B7D
(0095) 		  waitflag=32;
    00B75 E280      LDI	R24,0x20
    00B76 E090      LDI	R25,0
    00B77 9390 0338 STS	waitflag+1,R25
    00B79 9380 0337 STS	waitflag,R24
(0096) 	      tempcontrol();//执行温度调节
    00B7B 940E 2FA9 CALL	_tempcontrol
(0097) 	    }
(0098) 	   TCNT0=0x00;
    00B7D 2422      CLR	R2
    00B7E BE22      OUT	0x32,R2
(0099) 	   TCCR0=0x07;
    00B7F E087      LDI	R24,7
    00B80 BF83      OUT	0x33,R24
(0100) 	}
(0101) 		return;
    00B81 9621      ADIW	R28,1
    00B82 9009      LD	R0,Y+
    00B83 BE0F      OUT	0x3F,R0
    00B84 91F9      LD	R31,Y+
    00B85 91E9      LD	R30,Y+
    00B86 91B9      LD	R27,Y+
    00B87 91A9      LD	R26,Y+
    00B88 9199      LD	R25,Y+
    00B89 9189      LD	R24,Y+
    00B8A 9139      LD	R19,Y+
    00B8B 9129      LD	R18,Y+
    00B8C 9119      LD	R17,Y+
    00B8D 9109      LD	R16,Y+
    00B8E 9099      LD	R9,Y+
    00B8F 9089      LD	R8,Y+
    00B90 9079      LD	R7,Y+
    00B91 9069      LD	R6,Y+
    00B92 9059      LD	R5,Y+
    00B93 9049      LD	R4,Y+
    00B94 9039      LD	R3,Y+
    00B95 9029      LD	R2,Y+
    00B96 9019      LD	R1,Y+
    00B97 9009      LD	R0,Y+
    00B98 9518      RETI
_int_timer1:
    00B99 920A      ST	-Y,R0
    00B9A 921A      ST	-Y,R1
    00B9B 922A      ST	-Y,R2
    00B9C 923A      ST	-Y,R3
    00B9D 924A      ST	-Y,R4
    00B9E 925A      ST	-Y,R5
    00B9F 926A      ST	-Y,R6
    00BA0 927A      ST	-Y,R7
    00BA1 928A      ST	-Y,R8
    00BA2 929A      ST	-Y,R9
    00BA3 930A      ST	-Y,R16
    00BA4 931A      ST	-Y,R17
    00BA5 932A      ST	-Y,R18
    00BA6 933A      ST	-Y,R19
    00BA7 938A      ST	-Y,R24
    00BA8 939A      ST	-Y,R25
    00BA9 93AA      ST	-Y,R26
    00BAA 93BA      ST	-Y,R27
    00BAB 93EA      ST	-Y,R30
    00BAC 93FA      ST	-Y,R31
    00BAD B60F      IN	R0,0x3F
    00BAE 920A      ST	-Y,R0
(0102) }
(0103) //溢出中断。
(0104) #pragma interrupt_handler int_timer1:15
(0105) void int_timer1(void){
(0106) 		 TCCR1B=0x00;
    00BAF 2422      CLR	R2
    00BB0 BC2E      OUT	0x2E,R2
(0107) 		 out_port();
    00BB1 940E 0FCE CALL	_out_port
(0108) 		TCNT1H=time_h_1;
    00BB3 9020 0A93 LDS	R2,time_h_1
    00BB5 BC2D      OUT	0x2D,R2
(0109)          TCNT1L=time_l_1;
    00BB6 9020 0A92 LDS	R2,time_l_1
    00BB8 BC2C      OUT	0x2C,R2
(0110) 		 TCCR1B=0x05;
    00BB9 E085      LDI	R24,5
    00BBA BD8E      OUT	0x2E,R24
(0111) 		return;
    00BBB 9009      LD	R0,Y+
    00BBC BE0F      OUT	0x3F,R0
    00BBD 91F9      LD	R31,Y+
    00BBE 91E9      LD	R30,Y+
    00BBF 91B9      LD	R27,Y+
    00BC0 91A9      LD	R26,Y+
    00BC1 9199      LD	R25,Y+
    00BC2 9189      LD	R24,Y+
    00BC3 9139      LD	R19,Y+
    00BC4 9129      LD	R18,Y+
    00BC5 9119      LD	R17,Y+
    00BC6 9109      LD	R16,Y+
    00BC7 9099      LD	R9,Y+
    00BC8 9089      LD	R8,Y+
    00BC9 9079      LD	R7,Y+
    00BCA 9069      LD	R6,Y+
    00BCB 9059      LD	R5,Y+
    00BCC 9049      LD	R4,Y+
    00BCD 9039      LD	R3,Y+
    00BCE 9029      LD	R2,Y+
    00BCF 9019      LD	R1,Y+
    00BD0 9009      LD	R0,Y+
    00BD1 9518      RETI
_int_timer2:
    00BD2 920A      ST	-Y,R0
    00BD3 921A      ST	-Y,R1
    00BD4 922A      ST	-Y,R2
    00BD5 923A      ST	-Y,R3
    00BD6 924A      ST	-Y,R4
    00BD7 925A      ST	-Y,R5
    00BD8 926A      ST	-Y,R6
    00BD9 927A      ST	-Y,R7
    00BDA 928A      ST	-Y,R8
    00BDB 929A      ST	-Y,R9
    00BDC 930A      ST	-Y,R16
    00BDD 931A      ST	-Y,R17
    00BDE 932A      ST	-Y,R18
    00BDF 933A      ST	-Y,R19
    00BE0 938A      ST	-Y,R24
    00BE1 939A      ST	-Y,R25
    00BE2 93AA      ST	-Y,R26
    00BE3 93BA      ST	-Y,R27
    00BE4 93EA      ST	-Y,R30
    00BE5 93FA      ST	-Y,R31
    00BE6 B60F      IN	R0,0x3F
    00BE7 920A      ST	-Y,R0
(0112) }
(0113) #pragma interrupt_handler int_timer2:11
(0114) void int_timer2(void){
(0115)       //PORTE=~PORTE;
(0116) 		TCCR2=0x00;
    00BE8 2422      CLR	R2
    00BE9 BC25      OUT	0x25,R2
(0117) 		if(secondflag==0){
    00BEA 9020 0805 LDS	R2,secondflag
    00BEC 9030 0806 LDS	R3,secondflag+1
    00BEE 2022      TST	R2
    00BEF F451      BNE	0x0BFA
    00BF0 2033      TST	R3
    00BF1 F441      BNE	0x0BFA
(0118) 		  secondflag=64;
    00BF2 E480      LDI	R24,0x40
    00BF3 E090      LDI	R25,0
    00BF4 9390 0806 STS	secondflag+1,R25
    00BF6 9380 0805 STS	secondflag,R24
(0119) 		  int_int2();
    00BF8 940E 26C2 CALL	_int_int2
(0120) 		}
(0121) 		secondflag--;
    00BFA 9180 0805 LDS	R24,secondflag
    00BFC 9190 0806 LDS	R25,secondflag+1
    00BFE 9701      SBIW	R24,1
    00BFF 9390 0806 STS	secondflag+1,R25
    00C01 9380 0805 STS	secondflag,R24
(0122) 		TCNT2=time_2;
    00C03 9020 0A8E LDS	R2,time_2
    00C05 BC24      OUT	0x24,R2
(0123) 		TCCR2=0x05;
    00C06 E085      LDI	R24,5
    00C07 BD85      OUT	0x25,R24
(0124) 		return;
    00C08 9009      LD	R0,Y+
    00C09 BE0F      OUT	0x3F,R0
    00C0A 91F9      LD	R31,Y+
    00C0B 91E9      LD	R30,Y+
    00C0C 91B9      LD	R27,Y+
    00C0D 91A9      LD	R26,Y+
    00C0E 9199      LD	R25,Y+
    00C0F 9189      LD	R24,Y+
    00C10 9139      LD	R19,Y+
    00C11 9129      LD	R18,Y+
    00C12 9119      LD	R17,Y+
    00C13 9109      LD	R16,Y+
    00C14 9099      LD	R9,Y+
    00C15 9089      LD	R8,Y+
    00C16 9079      LD	R7,Y+
    00C17 9069      LD	R6,Y+
    00C18 9059      LD	R5,Y+
    00C19 9049      LD	R4,Y+
    00C1A 9039      LD	R3,Y+
    00C1B 9029      LD	R2,Y+
    00C1C 9019      LD	R1,Y+
    00C1D 9009      LD	R0,Y+
    00C1E 9518      RETI
_int_timer3:
    00C1F 922A      ST	-Y,R2
    00C20 923A      ST	-Y,R3
    00C21 938A      ST	-Y,R24
    00C22 939A      ST	-Y,R25
    00C23 B62F      IN	R2,0x3F
    00C24 922A      ST	-Y,R2
(0125) }
(0126) //16位定时器，定时器3溢出中断。
(0127) #pragma interrupt_handler int_timer3:30
(0128) void int_timer3(void){
(0129)      TCCR3B=0x00;
    00C25 2422      CLR	R2
    00C26 9220 008A STS	0x8A,R2
(0130) 	 send_data_cache[0]=0x00;
    00C28 2433      CLR	R3
    00C29 9230 021C STS	send_data_cache+1,R3
    00C2B 9220 021B STS	send_data_cache,R2
(0131)      send_data_cache[1]=0xFF;//A
    00C2D EF8F      LDI	R24,0xFF
    00C2E E090      LDI	R25,0
    00C2F 9390 021E STS	send_data_cache+3,R25
    00C31 9380 021D STS	send_data_cache+2,R24
(0132) 	 send_data_cache[2]=0xFF;//A
    00C33 9390 0220 STS	send_data_cache+5,R25
    00C35 9380 021F STS	send_data_cache+4,R24
(0133) 	 
(0134) 	 send_data_cache[3]=((int)temps[0].actualtemp)>>8;//温度
    00C37 9020 045F LDS	R2,temps+290
    00C39 9030 0460 LDS	R3,temps+291
    00C3B 2C23      MOV	R2,R3
    00C3C 2433      CLR	R3
    00C3D FC27      SBRC	R2,7
    00C3E 9430      COM	R3
    00C3F 9230 0222 STS	send_data_cache+7,R3
    00C41 9220 0221 STS	send_data_cache+6,R2
(0135) 	 send_data_cache[4]=((int)temps[0].actualtemp)&0xFF;
    00C43 9180 045F LDS	R24,temps+290
    00C45 9190 0460 LDS	R25,temps+291
    00C47 7090      ANDI	R25,0
    00C48 9390 0224 STS	send_data_cache+9,R25
    00C4A 9380 0223 STS	send_data_cache+8,R24
(0136) 	 send_data_cache[5]=temps[0].flag;//标志位
    00C4C 9020 033D LDS	R2,temps
    00C4E 9030 033E LDS	R3,temps+1
    00C50 9230 0226 STS	send_data_cache+11,R3
    00C52 9220 0225 STS	send_data_cache+10,R2
(0137) 	 send_data_cache[6]=temps[0].needtime>>8;//需要时间
    00C54 9020 0449 LDS	R2,temps+268
    00C56 9030 044A LDS	R3,temps+269
    00C58 2C23      MOV	R2,R3
    00C59 2433      CLR	R3
    00C5A 9230 0228 STS	send_data_cache+13,R3
    00C5C 9220 0227 STS	send_data_cache+12,R2
(0138) 	 send_data_cache[7]=temps[0].needtime&8;
    00C5E 9180 0449 LDS	R24,temps+268
    00C60 9190 044A LDS	R25,temps+269
    00C62 7088      ANDI	R24,0x8
    00C63 7090      ANDI	R25,0
    00C64 9390 022A STS	send_data_cache+15,R25
    00C66 9380 0229 STS	send_data_cache+14,R24
(0139) 	 send_data_cache[8]=temps[0].status;//状态
    00C68 9020 0447 LDS	R2,temps+266
    00C6A 9030 0448 LDS	R3,temps+267
    00C6C 9230 022C STS	send_data_cache+17,R3
    00C6E 9220 022B STS	send_data_cache+16,R2
(0140) 	 send_data_cache[9]=temps[0].nowtime>>8;//已运行时间
    00C70 9020 044B LDS	R2,temps+270
    00C72 9030 044C LDS	R3,temps+271
    00C74 2C23      MOV	R2,R3
    00C75 2433      CLR	R3
    00C76 9230 022E STS	send_data_cache+19,R3
    00C78 9220 022D STS	send_data_cache+18,R2
(0141) 	 send_data_cache[10]=temps[0].nowtime&0xFF;	 
    00C7A 9180 044B LDS	R24,temps+270
    00C7C 9190 044C LDS	R25,temps+271
    00C7E 7090      ANDI	R25,0
    00C7F 9390 0230 STS	send_data_cache+21,R25
    00C81 9380 022F STS	send_data_cache+20,R24
(0142)      
(0143) 	 
(0144) 	 send_data_cache[11]=((int)temps[1].actualtemp)>>8;//温度
    00C83 9020 0591 LDS	R2,temps+596
    00C85 9030 0592 LDS	R3,temps+597
    00C87 2C23      MOV	R2,R3
    00C88 2433      CLR	R3
    00C89 FC27      SBRC	R2,7
    00C8A 9430      COM	R3
    00C8B 9230 0232 STS	send_data_cache+23,R3
    00C8D 9220 0231 STS	send_data_cache+22,R2
(0145) 	 send_data_cache[12]=((int)temps[1].actualtemp)&0xFF;
    00C8F 9180 0591 LDS	R24,temps+596
    00C91 9190 0592 LDS	R25,temps+597
    00C93 7090      ANDI	R25,0
    00C94 9390 0234 STS	send_data_cache+25,R25
    00C96 9380 0233 STS	send_data_cache+24,R24
(0146) 	 send_data_cache[13]=temps[1].flag;//标志位
    00C98 9020 046F LDS	R2,temps+306
    00C9A 9030 0470 LDS	R3,temps+307
    00C9C 9230 0236 STS	send_data_cache+27,R3
    00C9E 9220 0235 STS	send_data_cache+26,R2
(0147) 	 send_data_cache[14]=temps[1].needtime>>8;//需要时间
    00CA0 9020 057B LDS	R2,temps+574
    00CA2 9030 057C LDS	R3,temps+575
    00CA4 2C23      MOV	R2,R3
    00CA5 2433      CLR	R3
    00CA6 9230 0238 STS	send_data_cache+29,R3
    00CA8 9220 0237 STS	send_data_cache+28,R2
(0148) 	 send_data_cache[15]=temps[1].needtime&8;
    00CAA 9180 057B LDS	R24,temps+574
    00CAC 9190 057C LDS	R25,temps+575
    00CAE 7088      ANDI	R24,0x8
    00CAF 7090      ANDI	R25,0
    00CB0 9390 023A STS	send_data_cache+31,R25
    00CB2 9380 0239 STS	send_data_cache+30,R24
(0149) 	 send_data_cache[16]=temps[1].status;//状态
    00CB4 9020 0579 LDS	R2,temps+572
    00CB6 9030 057A LDS	R3,temps+573
    00CB8 9230 023C STS	send_data_cache+33,R3
    00CBA 9220 023B STS	send_data_cache+32,R2
(0150) 	 send_data_cache[17]=temps[1].nowtime>>8;//已运行时间
    00CBC 9020 057D LDS	R2,temps+576
    00CBE 9030 057E LDS	R3,temps+577
    00CC0 2C23      MOV	R2,R3
    00CC1 2433      CLR	R3
    00CC2 9230 023E STS	send_data_cache+35,R3
    00CC4 9220 023D STS	send_data_cache+34,R2
(0151) 	 send_data_cache[18]=temps[1].nowtime&0xFF;	 
    00CC6 9180 057D LDS	R24,temps+576
    00CC8 9190 057E LDS	R25,temps+577
    00CCA 7090      ANDI	R25,0
    00CCB 9390 0240 STS	send_data_cache+37,R25
    00CCD 9380 023F STS	send_data_cache+36,R24
(0152)      
(0153) 
(0154) 	 send_data_cache[19]=((int)temps[2].actualtemp)>>8;//温度
    00CCF 9020 06C3 LDS	R2,temps+902
    00CD1 9030 06C4 LDS	R3,temps+903
    00CD3 2C23      MOV	R2,R3
    00CD4 2433      CLR	R3
    00CD5 FC27      SBRC	R2,7
    00CD6 9430      COM	R3
    00CD7 9230 0242 STS	send_data_cache+39,R3
    00CD9 9220 0241 STS	send_data_cache+38,R2
(0155) 	 send_data_cache[20]=((int)temps[2].actualtemp)&0xFF;
    00CDB 9180 06C3 LDS	R24,temps+902
    00CDD 9190 06C4 LDS	R25,temps+903
    00CDF 7090      ANDI	R25,0
    00CE0 9390 0244 STS	send_data_cache+41,R25
    00CE2 9380 0243 STS	send_data_cache+40,R24
(0156) 	 send_data_cache[21]=temps[2].flag;//标志位
    00CE4 9020 05A1 LDS	R2,temps+612
    00CE6 9030 05A2 LDS	R3,temps+613
    00CE8 9230 0246 STS	send_data_cache+43,R3
    00CEA 9220 0245 STS	send_data_cache+42,R2
(0157) 	 send_data_cache[22]=temps[2].needtime>>8;//需要时间
    00CEC 9020 06AD LDS	R2,temps+880
    00CEE 9030 06AE LDS	R3,temps+881
    00CF0 2C23      MOV	R2,R3
    00CF1 2433      CLR	R3
    00CF2 9230 0248 STS	send_data_cache+45,R3
    00CF4 9220 0247 STS	send_data_cache+44,R2
(0158) 	 send_data_cache[23]=temps[2].needtime&8;
    00CF6 9180 06AD LDS	R24,temps+880
    00CF8 9190 06AE LDS	R25,temps+881
    00CFA 7088      ANDI	R24,0x8
    00CFB 7090      ANDI	R25,0
    00CFC 9390 024A STS	send_data_cache+47,R25
    00CFE 9380 0249 STS	send_data_cache+46,R24
(0159) 	 send_data_cache[24]=temps[2].status;//状态
    00D00 9020 06AB LDS	R2,temps+878
    00D02 9030 06AC LDS	R3,temps+879
    00D04 9230 024C STS	send_data_cache+49,R3
    00D06 9220 024B STS	send_data_cache+48,R2
(0160) 	 send_data_cache[25]=temps[2].nowtime>>8;//已运行时间
    00D08 9020 06AF LDS	R2,temps+882
    00D0A 9030 06B0 LDS	R3,temps+883
    00D0C 2C23      MOV	R2,R3
    00D0D 2433      CLR	R3
    00D0E 9230 024E STS	send_data_cache+51,R3
    00D10 9220 024D STS	send_data_cache+50,R2
(0161) 	 send_data_cache[26]=temps[2].nowtime&0xFF;	 
    00D12 9180 06AF LDS	R24,temps+882
    00D14 9190 06B0 LDS	R25,temps+883
    00D16 7090      ANDI	R25,0
    00D17 9390 0250 STS	send_data_cache+53,R25
    00D19 9380 024F STS	send_data_cache+52,R24
(0162)      
(0163) 	
(0164) 	 send_data_cache[27]=((int)temps[3].actualtemp)>>8;//温度
    00D1B 9020 07F5 LDS	R2,temps+1208
    00D1D 9030 07F6 LDS	R3,temps+1209
    00D1F 2C23      MOV	R2,R3
    00D20 2433      CLR	R3
    00D21 FC27      SBRC	R2,7
    00D22 9430      COM	R3
    00D23 9230 0252 STS	send_data_cache+55,R3
    00D25 9220 0251 STS	send_data_cache+54,R2
(0165) 	 send_data_cache[28]=((int)temps[3].actualtemp)&0xFF;
    00D27 9180 07F5 LDS	R24,temps+1208
    00D29 9190 07F6 LDS	R25,temps+1209
    00D2B 7090      ANDI	R25,0
    00D2C 9390 0254 STS	send_data_cache+57,R25
    00D2E 9380 0253 STS	send_data_cache+56,R24
(0166) 	 send_data_cache[29]=temps[3].flag;//标志位
    00D30 9020 06D3 LDS	R2,temps+918
    00D32 9030 06D4 LDS	R3,temps+919
    00D34 9230 0256 STS	send_data_cache+59,R3
    00D36 9220 0255 STS	send_data_cache+58,R2
(0167) 	 send_data_cache[30]=temps[3].needtime>>8;//需要时间
    00D38 9020 07DF LDS	R2,temps+1186
    00D3A 9030 07E0 LDS	R3,temps+1187
    00D3C 2C23      MOV	R2,R3
    00D3D 2433      CLR	R3
    00D3E 9230 0258 STS	send_data_cache+61,R3
    00D40 9220 0257 STS	send_data_cache+60,R2
(0168) 	 send_data_cache[31]=temps[3].needtime&8;
    00D42 9180 07DF LDS	R24,temps+1186
    00D44 9190 07E0 LDS	R25,temps+1187
    00D46 7088      ANDI	R24,0x8
    00D47 7090      ANDI	R25,0
    00D48 9390 025A STS	send_data_cache+63,R25
    00D4A 9380 0259 STS	send_data_cache+62,R24
(0169) 	 send_data_cache[32]=temps[3].status;//状态
    00D4C 9020 07DD LDS	R2,temps+1184
    00D4E 9030 07DE LDS	R3,temps+1185
    00D50 9230 025C STS	send_data_cache+65,R3
    00D52 9220 025B STS	send_data_cache+64,R2
(0170) 	 send_data_cache[33]=temps[3].nowtime>>8;//已运行时间
    00D54 9020 07E1 LDS	R2,temps+1188
    00D56 9030 07E2 LDS	R3,temps+1189
    00D58 2C23      MOV	R2,R3
    00D59 2433      CLR	R3
    00D5A 9230 025E STS	send_data_cache+67,R3
    00D5C 9220 025D STS	send_data_cache+66,R2
(0171) 	 send_data_cache[34]=temps[3].nowtime&0xFF;	 
    00D5E 9180 07E1 LDS	R24,temps+1188
    00D60 9190 07E2 LDS	R25,temps+1189
    00D62 7090      ANDI	R25,0
    00D63 9390 0260 STS	send_data_cache+69,R25
    00D65 9380 025F STS	send_data_cache+68,R24
(0172)      
(0173) 	 send_data_cache[35]=0x00;//状态
    00D67 2422      CLR	R2
    00D68 2433      CLR	R3
    00D69 9230 0262 STS	send_data_cache+71,R3
    00D6B 9220 0261 STS	send_data_cache+70,R2
(0174) 	
(0175) 	 send_data_cache[36]=0xFE;//A
    00D6D EF8E      LDI	R24,0xFE
    00D6E E090      LDI	R25,0
    00D6F 9390 0264 STS	send_data_cache+73,R25
    00D71 9380 0263 STS	send_data_cache+72,R24
(0176) 	 send_data_cache[37]=0xFE;//A
    00D73 9390 0266 STS	send_data_cache+75,R25
    00D75 9380 0265 STS	send_data_cache+74,R24
(0177) 	 
(0178) 	 
(0179) 	 send_data_length=38;
    00D77 E286      LDI	R24,0x26
    00D78 9390 0332 STS	send_data_length+1,R25
    00D7A 9380 0331 STS	send_data_length,R24
(0180) 	 UCSR0B |=(1<<UDRIE0); //发送使能。测试使用
    00D7C 9A55      SBI	0x0A,5
(0181) 	  TCNT3H=time_h_3;
    00D7D 9020 0A91 LDS	R2,time_h_3
    00D7F 9220 0089 STS	0x89,R2
(0182)       TCNT3L=time_l_3;
    00D81 9020 0A90 LDS	R2,time_l_3
    00D83 9220 0088 STS	0x88,R2
(0183)       TCCR3B=0x05;
    00D85 E085      LDI	R24,5
    00D86 9380 008A STS	0x8A,R24
(0184) 	  return;                                
    00D88 9029      LD	R2,Y+
    00D89 BE2F      OUT	0x3F,R2
    00D8A 9199      LD	R25,Y+
    00D8B 9189      LD	R24,Y+
    00D8C 9039      LD	R3,Y+
    00D8D 9029      LD	R2,Y+
    00D8E 9518      RETI
_readTemp_1:
  i                    --> R20
    00D8F 934A      ST	-Y,R20
    00D90 935A      ST	-Y,R21
FILE: E:\ICCDemo\Temp_Control\temp_control\max6675.c
(0001) #include<iom128v.h>
(0002) #include "max6675.h"
(0003) #include "main.h"
(0004) #include "delay.h"
(0005) #define sck_h_1 PORTE|=(1<<PE3) 
(0006) #define sck_l_1 PORTE&=~(1<<PE3) 
(0007) #define cs_h_1 PORTE|=1<<PE4 
(0008) #define cs_l_1 PORTE&=~(1<<PE4) 
(0009) 
(0010) #define sck_h_2 PORTE|=(1<<PE6) 
(0011) #define sck_l_2 PORTE&=~(1<<PE6) 
(0012) #define cs_h_2 PORTE|=1<<PE7 
(0013) #define cs_l_2 PORTE&=~(1<<PE7) 
(0014) 
(0015) #define sck_h_3 PORTF|=(1<<PF1) 
(0016) #define sck_l_3 PORTF&=~(1<<PF1) 
(0017) #define cs_h_3 PORTF|=1<<PF2 
(0018) #define cs_l_3 PORTF&=~(1<<PF2) 
(0019) 
(0020) #define sck_h_4 PORTF|=(1<<PF4) 
(0021) #define sck_l_4 PORTF&=~(1<<PF4) 
(0022) #define cs_h_4 PORTF|=1<<PF5 
(0023) #define cs_l_4 PORTF&=~(1<<PF5) 
(0024) void readTemp_1(void){
(0025) 	   uint i;
(0026) 	   sck_h_1;
    00D91 9A1B      SBI	0x03,3
(0027) 	   cs_h_1;
    00D92 9A1C      SBI	0x03,4
(0028) 	   delay_us(1);
    00D93 E001      LDI	R16,1
    00D94 E010      LDI	R17,0
    00D95 940E 0529 CALL	_delay_us
(0029) 	   cs_l_1;
    00D97 981C      CBI	0x03,4
(0030) 	   delay_us(1);
    00D98 E001      LDI	R16,1
    00D99 E010      LDI	R17,0
    00D9A 940E 0529 CALL	_delay_us
(0031) 	   sck_l_1;
    00D9C 981B      CBI	0x03,3
(0032) 	   delay_us(1);
    00D9D E001      LDI	R16,1
    00D9E E010      LDI	R17,0
    00D9F 940E 0529 CALL	_delay_us
(0033) 	   sck_h_1;
    00DA1 9A1B      SBI	0x03,3
(0034) 	  for(i=0;i<8;i++){
    00DA2 2744      CLR	R20
    00DA3 2755      CLR	R21
    00DA4 C024      RJMP	0x0DC9
(0035) 			sck_l_1;
    00DA5 981B      CBI	0x03,3
(0036) 			delay_us(1);
    00DA6 E001      LDI	R16,1
    00DA7 E010      LDI	R17,0
    00DA8 940E 0529 CALL	_delay_us
(0037) 			temp_h=temp_h<<1;
    00DAA 9020 0339 LDS	R2,temp_h
    00DAC 9030 033A LDS	R3,temp_h+1
    00DAE 0C22      LSL	R2
    00DAF 1C33      ROL	R3
    00DB0 9230 033A STS	temp_h+1,R3
    00DB2 9220 0339 STS	temp_h,R2
(0038) 	    	temp_h=temp_h|((PINE&0x04)>>2);
    00DB4 B181      IN	R24,0x01
    00DB5 2799      CLR	R25
    00DB6 7084      ANDI	R24,4
    00DB7 7090      ANDI	R25,0
    00DB8 9595      ASR	R25
    00DB9 9587      ROR	R24
    00DBA 9595      ASR	R25
    00DBB 9587      ROR	R24
    00DBC 2A28      OR	R2,R24
    00DBD 2A39      OR	R3,R25
    00DBE 9230 033A STS	temp_h+1,R3
    00DC0 9220 0339 STS	temp_h,R2
(0039) 			sck_h_1;
    00DC2 9A1B      SBI	0x03,3
(0040) 			delay_us(1);
    00DC3 E001      LDI	R16,1
    00DC4 E010      LDI	R17,0
    00DC5 940E 0529 CALL	_delay_us
    00DC7 5F4F      SUBI	R20,0xFF
    00DC8 4F5F      SBCI	R21,0xFF
    00DC9 3048      CPI	R20,0x8
    00DCA E0E0      LDI	R30,0
    00DCB 075E      CPC	R21,R30
    00DCC F2C0      BCS	0x0DA5
(0041) 			
(0042) 	   }
(0043) 	   for(i=0;i<8;i++){
    00DCD 2744      CLR	R20
    00DCE 2755      CLR	R21
    00DCF C024      RJMP	0x0DF4
(0044) 			sck_l_1;
    00DD0 981B      CBI	0x03,3
(0045) 			delay_us(1);
    00DD1 E001      LDI	R16,1
    00DD2 E010      LDI	R17,0
    00DD3 940E 0529 CALL	_delay_us
(0046) 			temp_l<<=1;
    00DD5 9020 033B LDS	R2,temp_l
    00DD7 9030 033C LDS	R3,temp_l+1
    00DD9 0C22      LSL	R2
    00DDA 1C33      ROL	R3
    00DDB 9230 033C STS	temp_l+1,R3
    00DDD 9220 033B STS	temp_l,R2
(0047) 	    	temp_l=temp_l|((PINE&0x04)>>2);
    00DDF B181      IN	R24,0x01
    00DE0 2799      CLR	R25
    00DE1 7084      ANDI	R24,4
    00DE2 7090      ANDI	R25,0
    00DE3 9595      ASR	R25
    00DE4 9587      ROR	R24
    00DE5 9595      ASR	R25
    00DE6 9587      ROR	R24
    00DE7 2A28      OR	R2,R24
    00DE8 2A39      OR	R3,R25
    00DE9 9230 033C STS	temp_l+1,R3
    00DEB 9220 033B STS	temp_l,R2
(0048) 			sck_h_1;
    00DED 9A1B      SBI	0x03,3
(0049) 			delay_us(1);
    00DEE E001      LDI	R16,1
    00DEF E010      LDI	R17,0
    00DF0 940E 0529 CALL	_delay_us
    00DF2 5F4F      SUBI	R20,0xFF
    00DF3 4F5F      SBCI	R21,0xFF
    00DF4 3048      CPI	R20,0x8
    00DF5 E0E0      LDI	R30,0
    00DF6 075E      CPC	R21,R30
    00DF7 F2C0      BCS	0x0DD0
(0050) 	   }
(0051) 	    cs_h_1;
    00DF8 9A1C      SBI	0x03,4
(0052) 	   delay_us(10);
    00DF9 E00A      LDI	R16,0xA
    00DFA E010      LDI	R17,0
    00DFB 940E 0529 CALL	_delay_us
(0053) 	  // temp_l=0x55;
(0054) 	   return ;
    00DFD 9159      LD	R21,Y+
    00DFE 9149      LD	R20,Y+
    00DFF 9508      RET
_readTemp_2:
  i                    --> R20
    00E00 934A      ST	-Y,R20
    00E01 935A      ST	-Y,R21
(0055) }
(0056) void readTemp_2(void){
(0057) 	   uint i;
(0058) 	   sck_h_2;
    00E02 9A1E      SBI	0x03,6
(0059) 	   cs_h_2;
    00E03 9A1F      SBI	0x03,7
(0060) 	   delay_us(1);
    00E04 E001      LDI	R16,1
    00E05 E010      LDI	R17,0
    00E06 940E 0529 CALL	_delay_us
(0061) 	   cs_l_2;
    00E08 981F      CBI	0x03,7
(0062) 	   delay_us(1);
    00E09 E001      LDI	R16,1
    00E0A E010      LDI	R17,0
    00E0B 940E 0529 CALL	_delay_us
(0063) 	   sck_l_2;
    00E0D 981E      CBI	0x03,6
(0064) 	   delay_us(1);
    00E0E E001      LDI	R16,1
    00E0F E010      LDI	R17,0
    00E10 940E 0529 CALL	_delay_us
(0065) 	   sck_h_2;
    00E12 9A1E      SBI	0x03,6
(0066) 	  for(i=0;i<8;i++){
    00E13 2744      CLR	R20
    00E14 2755      CLR	R21
    00E15 C028      RJMP	0x0E3E
(0067) 			sck_l_2;
    00E16 981E      CBI	0x03,6
(0068) 			delay_us(1);
    00E17 E001      LDI	R16,1
    00E18 E010      LDI	R17,0
    00E19 940E 0529 CALL	_delay_us
(0069) 			temp_h=temp_h<<1;
    00E1B 9020 0339 LDS	R2,temp_h
    00E1D 9030 033A LDS	R3,temp_h+1
    00E1F 0C22      LSL	R2
    00E20 1C33      ROL	R3
    00E21 9230 033A STS	temp_h+1,R3
    00E23 9220 0339 STS	temp_h,R2
(0070) 	    	temp_h=temp_h|((PINE&0x20)>>5);
    00E25 E025      LDI	R18,5
    00E26 E030      LDI	R19,0
    00E27 B101      IN	R16,0x01
    00E28 2711      CLR	R17
    00E29 7200      ANDI	R16,0x20
    00E2A 7010      ANDI	R17,0
    00E2B 940E 395F CALL	asr16
    00E2D 9020 0339 LDS	R2,temp_h
    00E2F 9030 033A LDS	R3,temp_h+1
    00E31 2A20      OR	R2,R16
    00E32 2A31      OR	R3,R17
    00E33 9230 033A STS	temp_h+1,R3
    00E35 9220 0339 STS	temp_h,R2
(0071) 			sck_h_2;
    00E37 9A1E      SBI	0x03,6
(0072) 			delay_us(1);
    00E38 E001      LDI	R16,1
    00E39 E010      LDI	R17,0
    00E3A 940E 0529 CALL	_delay_us
    00E3C 5F4F      SUBI	R20,0xFF
    00E3D 4F5F      SBCI	R21,0xFF
    00E3E 3048      CPI	R20,0x8
    00E3F E0E0      LDI	R30,0
    00E40 075E      CPC	R21,R30
    00E41 F2A0      BCS	0x0E16
(0073) 			
(0074) 	   }
(0075) 	   for(i=0;i<8;i++){
    00E42 2744      CLR	R20
    00E43 2755      CLR	R21
    00E44 C028      RJMP	0x0E6D
(0076) 			sck_l_2;
    00E45 981E      CBI	0x03,6
(0077) 			delay_us(1);
    00E46 E001      LDI	R16,1
    00E47 E010      LDI	R17,0
    00E48 940E 0529 CALL	_delay_us
(0078) 			temp_l<<=1;
    00E4A 9020 033B LDS	R2,temp_l
    00E4C 9030 033C LDS	R3,temp_l+1
    00E4E 0C22      LSL	R2
    00E4F 1C33      ROL	R3
    00E50 9230 033C STS	temp_l+1,R3
    00E52 9220 033B STS	temp_l,R2
(0079) 	    	temp_l=temp_l|((PINE&0x20)>>5);
    00E54 E025      LDI	R18,5
    00E55 E030      LDI	R19,0
    00E56 B101      IN	R16,0x01
    00E57 2711      CLR	R17
    00E58 7200      ANDI	R16,0x20
    00E59 7010      ANDI	R17,0
    00E5A 940E 395F CALL	asr16
    00E5C 9020 033B LDS	R2,temp_l
    00E5E 9030 033C LDS	R3,temp_l+1
    00E60 2A20      OR	R2,R16
    00E61 2A31      OR	R3,R17
    00E62 9230 033C STS	temp_l+1,R3
    00E64 9220 033B STS	temp_l,R2
(0080) 			sck_h_2;
    00E66 9A1E      SBI	0x03,6
(0081) 			delay_us(1);
    00E67 E001      LDI	R16,1
    00E68 E010      LDI	R17,0
    00E69 940E 0529 CALL	_delay_us
    00E6B 5F4F      SUBI	R20,0xFF
    00E6C 4F5F      SBCI	R21,0xFF
    00E6D 3048      CPI	R20,0x8
    00E6E E0E0      LDI	R30,0
    00E6F 075E      CPC	R21,R30
    00E70 F2A0      BCS	0x0E45
(0082) 	   }
(0083) 	    cs_h_2;
    00E71 9A1F      SBI	0x03,7
(0084) 	   delay_us(10);
    00E72 E00A      LDI	R16,0xA
    00E73 E010      LDI	R17,0
    00E74 940E 0529 CALL	_delay_us
(0085) 	  // temp_l=0x55;
(0086) 	   return ;
    00E76 9159      LD	R21,Y+
    00E77 9149      LD	R20,Y+
    00E78 9508      RET
_readTemp_3:
  i                    --> R20
    00E79 934A      ST	-Y,R20
    00E7A 935A      ST	-Y,R21
(0087) }
(0088) void readTemp_3(void){
(0089) 	   uint i;
(0090) 	   sck_h_3;
    00E7B 9180 0062 LDS	R24,0x62
    00E7D 6082      ORI	R24,2
    00E7E 9380 0062 STS	0x62,R24
(0091) 	   cs_h_3;
    00E80 9180 0062 LDS	R24,0x62
    00E82 6084      ORI	R24,4
    00E83 9380 0062 STS	0x62,R24
(0092) 	   delay_us(1);
    00E85 E001      LDI	R16,1
    00E86 E010      LDI	R17,0
    00E87 940E 0529 CALL	_delay_us
(0093) 	   cs_l_3;
    00E89 9180 0062 LDS	R24,0x62
    00E8B 7F8B      ANDI	R24,0xFB
    00E8C 9380 0062 STS	0x62,R24
(0094) 	   delay_us(1);
    00E8E E001      LDI	R16,1
    00E8F E010      LDI	R17,0
    00E90 940E 0529 CALL	_delay_us
(0095) 	   sck_l_3;
    00E92 9180 0062 LDS	R24,0x62
    00E94 7F8D      ANDI	R24,0xFD
    00E95 9380 0062 STS	0x62,R24
(0096) 	   delay_us(1);
    00E97 E001      LDI	R16,1
    00E98 E010      LDI	R17,0
    00E99 940E 0529 CALL	_delay_us
(0097) 	   sck_h_3;
    00E9B 9180 0062 LDS	R24,0x62
    00E9D 6082      ORI	R24,2
    00E9E 9380 0062 STS	0x62,R24
(0098) 	  for(i=0;i<8;i++){
    00EA0 2744      CLR	R20
    00EA1 2755      CLR	R21
    00EA2 C028      RJMP	0x0ECB
(0099) 			sck_l_3;
    00EA3 9180 0062 LDS	R24,0x62
    00EA5 7F8D      ANDI	R24,0xFD
    00EA6 9380 0062 STS	0x62,R24
(0100) 			delay_us(1);
    00EA8 E001      LDI	R16,1
    00EA9 E010      LDI	R17,0
    00EAA 940E 0529 CALL	_delay_us
(0101) 			temp_h=temp_h<<1;
    00EAC 9020 0339 LDS	R2,temp_h
    00EAE 9030 033A LDS	R3,temp_h+1
    00EB0 0C22      LSL	R2
    00EB1 1C33      ROL	R3
    00EB2 9230 033A STS	temp_h+1,R3
    00EB4 9220 0339 STS	temp_h,R2
(0102) 	    	temp_h=temp_h|(PINF&0x01);
    00EB6 B180      IN	R24,0x00
    00EB7 2799      CLR	R25
    00EB8 7081      ANDI	R24,1
    00EB9 7090      ANDI	R25,0
    00EBA 2A28      OR	R2,R24
    00EBB 2A39      OR	R3,R25
    00EBC 9230 033A STS	temp_h+1,R3
    00EBE 9220 0339 STS	temp_h,R2
(0103) 			sck_h_3;
    00EC0 9180 0062 LDS	R24,0x62
    00EC2 6082      ORI	R24,2
    00EC3 9380 0062 STS	0x62,R24
(0104) 			delay_us(1);
    00EC5 E001      LDI	R16,1
    00EC6 E010      LDI	R17,0
    00EC7 940E 0529 CALL	_delay_us
    00EC9 5F4F      SUBI	R20,0xFF
    00ECA 4F5F      SBCI	R21,0xFF
    00ECB 3048      CPI	R20,0x8
    00ECC E0E0      LDI	R30,0
    00ECD 075E      CPC	R21,R30
    00ECE F2A0      BCS	0x0EA3
(0105) 			
(0106) 	   }
(0107) 	   for(i=0;i<8;i++){
    00ECF 2744      CLR	R20
    00ED0 2755      CLR	R21
    00ED1 C028      RJMP	0x0EFA
(0108) 			sck_l_3;
    00ED2 9180 0062 LDS	R24,0x62
    00ED4 7F8D      ANDI	R24,0xFD
    00ED5 9380 0062 STS	0x62,R24
(0109) 			delay_us(1);
    00ED7 E001      LDI	R16,1
    00ED8 E010      LDI	R17,0
    00ED9 940E 0529 CALL	_delay_us
(0110) 			temp_l<<=1;
    00EDB 9020 033B LDS	R2,temp_l
    00EDD 9030 033C LDS	R3,temp_l+1
    00EDF 0C22      LSL	R2
    00EE0 1C33      ROL	R3
    00EE1 9230 033C STS	temp_l+1,R3
    00EE3 9220 033B STS	temp_l,R2
(0111) 	    	temp_l=temp_l|(PINF&0x01);
    00EE5 B180      IN	R24,0x00
    00EE6 2799      CLR	R25
    00EE7 7081      ANDI	R24,1
    00EE8 7090      ANDI	R25,0
    00EE9 2A28      OR	R2,R24
    00EEA 2A39      OR	R3,R25
    00EEB 9230 033C STS	temp_l+1,R3
    00EED 9220 033B STS	temp_l,R2
(0112) 			sck_h_3;
    00EEF 9180 0062 LDS	R24,0x62
    00EF1 6082      ORI	R24,2
    00EF2 9380 0062 STS	0x62,R24
(0113) 			delay_us(1);
    00EF4 E001      LDI	R16,1
    00EF5 E010      LDI	R17,0
    00EF6 940E 0529 CALL	_delay_us
    00EF8 5F4F      SUBI	R20,0xFF
    00EF9 4F5F      SBCI	R21,0xFF
    00EFA 3048      CPI	R20,0x8
    00EFB E0E0      LDI	R30,0
    00EFC 075E      CPC	R21,R30
    00EFD F2A0      BCS	0x0ED2
(0114) 	   }
(0115) 	    cs_h_3;
    00EFE 9180 0062 LDS	R24,0x62
    00F00 6084      ORI	R24,4
    00F01 9380 0062 STS	0x62,R24
(0116) 	   delay_us(10);
    00F03 E00A      LDI	R16,0xA
    00F04 E010      LDI	R17,0
    00F05 940E 0529 CALL	_delay_us
(0117) 	  // temp_l=0x55;
(0118) 	   return ;
    00F07 9159      LD	R21,Y+
    00F08 9149      LD	R20,Y+
    00F09 9508      RET
_readTemp_4:
  i                    --> R20
    00F0A 934A      ST	-Y,R20
    00F0B 935A      ST	-Y,R21
(0119) }
(0120) void readTemp_4(void){
(0121) 	  uint i;
(0122) 	   sck_h_4;
    00F0C 9180 0062 LDS	R24,0x62
    00F0E 6180      ORI	R24,0x10
    00F0F 9380 0062 STS	0x62,R24
(0123) 	   cs_h_4;
    00F11 9180 0062 LDS	R24,0x62
    00F13 6280      ORI	R24,0x20
    00F14 9380 0062 STS	0x62,R24
(0124) 	   delay_us(1);
    00F16 E001      LDI	R16,1
    00F17 E010      LDI	R17,0
    00F18 940E 0529 CALL	_delay_us
(0125) 	   cs_l_4;
    00F1A 9180 0062 LDS	R24,0x62
    00F1C 7D8F      ANDI	R24,0xDF
    00F1D 9380 0062 STS	0x62,R24
(0126) 	   delay_us(1);
    00F1F E001      LDI	R16,1
    00F20 E010      LDI	R17,0
    00F21 940E 0529 CALL	_delay_us
(0127) 	   sck_l_4;
    00F23 9180 0062 LDS	R24,0x62
    00F25 7E8F      ANDI	R24,0xEF
    00F26 9380 0062 STS	0x62,R24
(0128) 	   delay_us(1);
    00F28 E001      LDI	R16,1
    00F29 E010      LDI	R17,0
    00F2A 940E 0529 CALL	_delay_us
(0129) 	   sck_h_4;
    00F2C 9180 0062 LDS	R24,0x62
    00F2E 6180      ORI	R24,0x10
    00F2F 9380 0062 STS	0x62,R24
(0130) 	  for(i=0;i<8;i++){
    00F31 2744      CLR	R20
    00F32 2755      CLR	R21
    00F33 C033      RJMP	0x0F67
(0131) 			sck_l_4;
    00F34 9180 0062 LDS	R24,0x62
    00F36 7E8F      ANDI	R24,0xEF
    00F37 9380 0062 STS	0x62,R24
(0132) 			delay_us(1);
    00F39 E001      LDI	R16,1
    00F3A E010      LDI	R17,0
    00F3B 940E 0529 CALL	_delay_us
(0133) 			temp_h=temp_h<<1;
    00F3D 9020 0339 LDS	R2,temp_h
    00F3F 9030 033A LDS	R3,temp_h+1
    00F41 0C22      LSL	R2
    00F42 1C33      ROL	R3
    00F43 9230 033A STS	temp_h+1,R3
    00F45 9220 0339 STS	temp_h,R2
(0134) 	    	temp_h=temp_h|((PINE&0x08)>>3);
    00F47 B181      IN	R24,0x01
    00F48 2799      CLR	R25
    00F49 7088      ANDI	R24,0x8
    00F4A 7090      ANDI	R25,0
    00F4B 011C      MOVW	R2,R24
    00F4C 9435      ASR	R3
    00F4D 9427      ROR	R2
    00F4E 9435      ASR	R3
    00F4F 9427      ROR	R2
    00F50 9435      ASR	R3
    00F51 9427      ROR	R2
    00F52 9040 0339 LDS	R4,temp_h
    00F54 9050 033A LDS	R5,temp_h+1
    00F56 2842      OR	R4,R2
    00F57 2853      OR	R5,R3
    00F58 9250 033A STS	temp_h+1,R5
    00F5A 9240 0339 STS	temp_h,R4
(0135) 			sck_h_4;
    00F5C 9180 0062 LDS	R24,0x62
    00F5E 6180      ORI	R24,0x10
    00F5F 9380 0062 STS	0x62,R24
(0136) 			delay_us(1);
    00F61 E001      LDI	R16,1
    00F62 E010      LDI	R17,0
    00F63 940E 0529 CALL	_delay_us
    00F65 5F4F      SUBI	R20,0xFF
    00F66 4F5F      SBCI	R21,0xFF
    00F67 3048      CPI	R20,0x8
    00F68 E0E0      LDI	R30,0
    00F69 075E      CPC	R21,R30
    00F6A F248      BCS	0x0F34
(0137) 			
(0138) 	   }
(0139) 	   for(i=0;i<8;i++){
    00F6B 2744      CLR	R20
    00F6C 2755      CLR	R21
    00F6D C033      RJMP	0x0FA1
(0140) 			sck_l_4;
    00F6E 9180 0062 LDS	R24,0x62
    00F70 7E8F      ANDI	R24,0xEF
    00F71 9380 0062 STS	0x62,R24
(0141) 			delay_us(1);
    00F73 E001      LDI	R16,1
    00F74 E010      LDI	R17,0
    00F75 940E 0529 CALL	_delay_us
(0142) 			temp_l<<=1;
    00F77 9020 033B LDS	R2,temp_l
    00F79 9030 033C LDS	R3,temp_l+1
    00F7B 0C22      LSL	R2
    00F7C 1C33      ROL	R3
    00F7D 9230 033C STS	temp_l+1,R3
    00F7F 9220 033B STS	temp_l,R2
(0143) 	    	temp_l=temp_l|((PINE&0x08)>>3);
    00F81 B181      IN	R24,0x01
    00F82 2799      CLR	R25
    00F83 7088      ANDI	R24,0x8
    00F84 7090      ANDI	R25,0
    00F85 011C      MOVW	R2,R24
    00F86 9435      ASR	R3
    00F87 9427      ROR	R2
    00F88 9435      ASR	R3
    00F89 9427      ROR	R2
    00F8A 9435      ASR	R3
    00F8B 9427      ROR	R2
    00F8C 9040 033B LDS	R4,temp_l
    00F8E 9050 033C LDS	R5,temp_l+1
    00F90 2842      OR	R4,R2
    00F91 2853      OR	R5,R3
    00F92 9250 033C STS	temp_l+1,R5
    00F94 9240 033B STS	temp_l,R4
(0144) 			sck_h_4;
    00F96 9180 0062 LDS	R24,0x62
    00F98 6180      ORI	R24,0x10
    00F99 9380 0062 STS	0x62,R24
(0145) 			delay_us(1);
    00F9B E001      LDI	R16,1
    00F9C E010      LDI	R17,0
    00F9D 940E 0529 CALL	_delay_us
    00F9F 5F4F      SUBI	R20,0xFF
    00FA0 4F5F      SBCI	R21,0xFF
    00FA1 3048      CPI	R20,0x8
    00FA2 E0E0      LDI	R30,0
    00FA3 075E      CPC	R21,R30
    00FA4 F248      BCS	0x0F6E
(0146) 	   }
(0147) 	    cs_h_4;
    00FA5 9180 0062 LDS	R24,0x62
    00FA7 6280      ORI	R24,0x20
    00FA8 9380 0062 STS	0x62,R24
(0148) 	   delay_us(10);
    00FAA E00A      LDI	R16,0xA
    00FAB E010      LDI	R17,0
    00FAC 940E 0529 CALL	_delay_us
(0149) 	  // temp_l=0x55;
(0150) 	   return ;
    00FAE 9159      LD	R21,Y+
    00FAF 9149      LD	R20,Y+
    00FB0 9508      RET
_readTemp:
  n                    --> R20
    00FB1 934A      ST	-Y,R20
    00FB2 935A      ST	-Y,R21
    00FB3 01A8      MOVW	R20,R16
(0151) }
(0152) //传入的int：0、1、2、3对应温度的读取
(0153) void readTemp(uint n){
(0154)    switch(n){
    00FB4 3040      CPI	R20,0
    00FB5 0745      CPC	R20,R21
    00FB6 F069      BEQ	0x0FC4
    00FB7 3041      CPI	R20,1
    00FB8 E0E0      LDI	R30,0
    00FB9 075E      CPC	R21,R30
    00FBA F059      BEQ	0x0FC6
    00FBB 3042      CPI	R20,2
    00FBC E0E0      LDI	R30,0
    00FBD 075E      CPC	R21,R30
    00FBE F049      BEQ	0x0FC8
    00FBF 3043      CPI	R20,3
    00FC0 E0E0      LDI	R30,0
    00FC1 075E      CPC	R21,R30
    00FC2 F039      BEQ	0x0FCA
    00FC3 C007      RJMP	0x0FCB
(0155)     case 0:
(0156) 	  readTemp_1();
    00FC4 DDCA      RCALL	_readTemp_1
(0157) 	  break;
    00FC5 C005      RJMP	0x0FCB
(0158) 	case 1:
(0159) 	  readTemp_2();
    00FC6 DE39      RCALL	_readTemp_2
(0160) 	  break;
    00FC7 C003      RJMP	0x0FCB
(0161) 	case 2:
(0162) 	  readTemp_3();
    00FC8 DEB0      RCALL	_readTemp_3
(0163) 	  break;
    00FC9 C001      RJMP	0x0FCB
(0164) 	case 3:
(0165) 	  readTemp_4();
    00FCA DF3F      RCALL	_readTemp_4
(0166) 	  break;
    00FCB 9159      LD	R21,Y+
    00FCC 9149      LD	R20,Y+
    00FCD 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\out.c
(0001) #include<iom128v.h>
(0002) #include "out.h"
(0003) #include "lcd.h"
(0004) #include "main.h"
(0005) //*********************
(0006) // 1秒钟50周期，控制功率是50周期输出量
(0007) //*********************
(0008) uint hz=1;//1~50表示周期
(0009) 
(0010) //0、1的传入。port由0~7
(0011) void out_port(void){
(0012)    if(hz==51){
_out_port:
    00FCE 9180 0807 LDS	R24,hz
    00FD0 9190 0808 LDS	R25,hz+1
    00FD2 3383      CPI	R24,0x33
    00FD3 E0E0      LDI	R30,0
    00FD4 079E      CPC	R25,R30
    00FD5 F431      BNE	0x0FDC
(0013)      hz=1;
    00FD6 E081      LDI	R24,1
    00FD7 E090      LDI	R25,0
    00FD8 9390 0808 STS	hz+1,R25
    00FDA 9380 0807 STS	hz,R24
(0014)    }
(0015)    if(temps[0].flag==1){
    00FDC 9180 033D LDS	R24,temps
    00FDE 9190 033E LDS	R25,temps+1
    00FE0 3081      CPI	R24,1
    00FE1 E0E0      LDI	R30,0
    00FE2 079E      CPC	R25,R30
    00FE3 F489      BNE	0x0FF5
(0016) 	  if(temps[0].incrementtemp>=hz){
    00FE4 9020 0807 LDS	R2,hz
    00FE6 9030 0808 LDS	R3,hz+1
    00FE8 9040 046D LDS	R4,temps+304
    00FEA 9050 046E LDS	R5,temps+305
    00FEC 1442      CP	R4,R2
    00FED 0453      CPC	R5,R3
    00FEE F010      BCS	0x0FF1
(0017) 	    PORTC |=0x01;
    00FEF 9AA8      SBI	0x15,0
(0018) 	  }else {
    00FF0 C007      RJMP	0x0FF8
(0019) 	    PORTC &=0xFE;
    00FF1 B385      IN	R24,0x15
    00FF2 7F8E      ANDI	R24,0xFE
    00FF3 BB85      OUT	0x15,R24
(0020) 	  }
(0021)    }else{
    00FF4 C003      RJMP	0x0FF8
(0022)       PORTC &=0xFE;
    00FF5 B385      IN	R24,0x15
    00FF6 7F8E      ANDI	R24,0xFE
    00FF7 BB85      OUT	0x15,R24
(0023)    }
(0024)     if(temps[1].flag==1){
    00FF8 9180 046F LDS	R24,temps+306
    00FFA 9190 0470 LDS	R25,temps+307
    00FFC 3081      CPI	R24,1
    00FFD E0E0      LDI	R30,0
    00FFE 079E      CPC	R25,R30
    00FFF F489      BNE	0x1011
(0025) 	  if(temps[0].incrementtemp>=hz){
    01000 9020 0807 LDS	R2,hz
    01002 9030 0808 LDS	R3,hz+1
    01004 9040 046D LDS	R4,temps+304
    01006 9050 046E LDS	R5,temps+305
    01008 1442      CP	R4,R2
    01009 0453      CPC	R5,R3
    0100A F010      BCS	0x100D
(0026) 	      PORTC |=0x02;
    0100B 9AA9      SBI	0x15,1
(0027) 	    }else {
    0100C C007      RJMP	0x1014
(0028) 	      PORTC &=0xFD;
    0100D B385      IN	R24,0x15
    0100E 7F8D      ANDI	R24,0xFD
    0100F BB85      OUT	0x15,R24
(0029) 	    }
(0030)    }else{
    01010 C003      RJMP	0x1014
(0031)       PORTC &=0xFD;
    01011 B385      IN	R24,0x15
    01012 7F8D      ANDI	R24,0xFD
    01013 BB85      OUT	0x15,R24
(0032)    }
(0033)     if(temps[2].flag==1){
    01014 9180 05A1 LDS	R24,temps+612
    01016 9190 05A2 LDS	R25,temps+613
    01018 3081      CPI	R24,1
    01019 E0E0      LDI	R30,0
    0101A 079E      CPC	R25,R30
    0101B F489      BNE	0x102D
(0034) 	  if(temps[0].incrementtemp>=hz){
    0101C 9020 0807 LDS	R2,hz
    0101E 9030 0808 LDS	R3,hz+1
    01020 9040 046D LDS	R4,temps+304
    01022 9050 046E LDS	R5,temps+305
    01024 1442      CP	R4,R2
    01025 0453      CPC	R5,R3
    01026 F010      BCS	0x1029
(0035) 	      PORTC |=0x04;
    01027 9AAA      SBI	0x15,2
(0036) 	    }else {
    01028 C007      RJMP	0x1030
(0037) 	      PORTC &=0xFB;
    01029 B385      IN	R24,0x15
    0102A 7F8B      ANDI	R24,0xFB
    0102B BB85      OUT	0x15,R24
(0038) 	    }
(0039)    }else{
    0102C C003      RJMP	0x1030
(0040)       PORTC &=0xFB;
    0102D B385      IN	R24,0x15
    0102E 7F8B      ANDI	R24,0xFB
    0102F BB85      OUT	0x15,R24
(0041)    }
(0042)     if(temps[3].flag==1){
    01030 9180 06D3 LDS	R24,temps+918
    01032 9190 06D4 LDS	R25,temps+919
    01034 3081      CPI	R24,1
    01035 E0E0      LDI	R30,0
    01036 079E      CPC	R25,R30
    01037 F489      BNE	0x1049
(0043) 	  if(temps[0].incrementtemp>=hz){
    01038 9020 0807 LDS	R2,hz
    0103A 9030 0808 LDS	R3,hz+1
    0103C 9040 046D LDS	R4,temps+304
    0103E 9050 046E LDS	R5,temps+305
    01040 1442      CP	R4,R2
    01041 0453      CPC	R5,R3
    01042 F010      BCS	0x1045
(0044) 	      PORTC |=0x08;
    01043 9AAB      SBI	0x15,3
(0045) 	    }else {
    01044 C007      RJMP	0x104C
(0046) 	      PORTC &=0xF7;
    01045 B385      IN	R24,0x15
    01046 7F87      ANDI	R24,0xF7
    01047 BB85      OUT	0x15,R24
(0047) 	    }
(0048)    }else{
    01048 C003      RJMP	0x104C
(0049)      PORTC &=0xF7;
    01049 B385      IN	R24,0x15
    0104A 7F87      ANDI	R24,0xF7
    0104B BB85      OUT	0x15,R24
(0050)    }
(0051)     hz++;
    0104C 9180 0807 LDS	R24,hz
    0104E 9190 0808 LDS	R25,hz+1
    01050 9601      ADIW	R24,1
    01051 9390 0808 STS	hz+1,R25
    01053 9380 0807 STS	hz,R24
    01055 9508      RET
FILE: E:\ICCDemo\Temp_Control\temp_control\uart.c
(0001) #include <iom128v.h>
(0002) #include "uart.h"
(0003) #include "temp.h"
(0004) #include "main.h"
(0005) #define fosc  800000  //晶振8MHZ
(0006) #define baud 9600  //波特率
(0007) void read_cmd(void);
(0008) 
(0009) void uart0_init(void)
(0010) {
(0011) UCSR0B = 0x00; //关闭UART00
_uart0_init:
    01056 2422      CLR	R2
    01057 B82A      OUT	0x0A,R2
(0012) UCSR0A = 0x00; //不使用倍速发送（异步）
    01058 B82B      OUT	0x0B,R2
(0013) UCSR0C =(1<<UCSZ01)|(1<<UCSZ00); //数据位为8位
    01059 E086      LDI	R24,6
    0105A 9380 0095 STS	0x95,R24
(0014) //UBRR0L=(fosc/16/(baud+1))%6; //异步正常情况下的计算公式
(0015) //UBRR0H=(fosc/16/(baud+1))/256;
(0016) UBRR0L=103; //异步正常情况下的计算公式.9600
    0105C E687      LDI	R24,0x67
    0105D B989      OUT	0x09,R24
(0017) UBRR0H=0x00;
    0105E 9220 0090 STS	0x90,R2
(0018) UCSR0B |=(1<<RXEN0)|(1<<TXEN0)|(1<<RXCIE0); //接收使能和发送使能.接收终端打开
    01060 B18A      IN	R24,0x0A
    01061 6988      ORI	R24,0x98
    01062 B98A      OUT	0x0A,R24
    01063 9508      RET
(0019) 
(0020) }
(0021) 
(0022) void putchar0(unsigned char c)
(0023) {
(0024) while (!(UCSR0A&(1<<UDRE0)));//表明发送器已经准备就绪
_putchar0:
  c                    --> R16
    01064 9B5D      SBIS	0x0B,5
    01065 CFFE      RJMP	_putchar0
(0025) UDR0=c; //将要发送的数据装入UDR0寄存器
    01066 B90C      OUT	0x0C,R16
    01067 9508      RET
(0026) }
(0027) 
(0028) 
(0029) unsigned char getchar0(void)
(0030) {
(0031)   while(!(UCSR0A& (1<<RXC0)));//表明已经接收完毕
_getchar0:
    01068 9B5F      SBIS	0x0B,7
    01069 CFFE      RJMP	_getchar0
(0032)   return UDR0;
    0106A B10C      IN	R16,0x0C
    0106B 9508      RET
_int_ruart0:
  data                 --> R20
    0106C 920A      ST	-Y,R0
    0106D 921A      ST	-Y,R1
    0106E 922A      ST	-Y,R2
    0106F 923A      ST	-Y,R3
    01070 924A      ST	-Y,R4
    01071 925A      ST	-Y,R5
    01072 926A      ST	-Y,R6
    01073 927A      ST	-Y,R7
    01074 928A      ST	-Y,R8
    01075 929A      ST	-Y,R9
    01076 930A      ST	-Y,R16
    01077 931A      ST	-Y,R17
    01078 932A      ST	-Y,R18
    01079 933A      ST	-Y,R19
    0107A 938A      ST	-Y,R24
    0107B 939A      ST	-Y,R25
    0107C 93AA      ST	-Y,R26
    0107D 93BA      ST	-Y,R27
    0107E 93EA      ST	-Y,R30
    0107F 93FA      ST	-Y,R31
    01080 B60F      IN	R0,0x3F
    01081 920A      ST	-Y,R0
    01082 934A      ST	-Y,R20
(0033) }
(0034) //读取中断
(0035) #pragma interrupt_handler int_ruart0:19
(0036) void int_ruart0(void){
(0037)    uchar data;
(0038)    UCSR0B &=~(1<<RXCIE0); //关中断
    01083 9857      CBI	0x0A,7
(0039)    data=UDR0;
    01084 B14C      IN	R20,0x0C
(0040)    if(read_data_cmd=='z'){//空指令
    01085 9180 021A LDS	R24,read_data_cmd
    01087 378A      CPI	R24,0x7A
    01088 F451      BNE	0x1093
(0041)      if(data>='a' && data<='i'){//指令，记录指令
    01089 3641      CPI	R20,0x61
    0108A F408      BCC	0x108C
    0108B C05C      RJMP	0x10E8
    0108C E689      LDI	R24,0x69
    0108D 1784      CP	R24,R20
    0108E F408      BCC	0x1090
    0108F C058      RJMP	0x10E8
(0042) 	   read_data_cmd=data;
    01090 9340 021A STS	read_data_cmd,R20
(0043) 	 }//其他不处理，丢弃
(0044) 	 
(0045)    }else{
    01092 C055      RJMP	0x10E8
(0046)       if(data==read_data_cmd){//指令，当前指令内容发送完毕
    01093 9020 021A LDS	R2,read_data_cmd
    01095 1542      CP	R20,R2
    01096 F459      BNE	0x10A2
(0047) 	    read_cmd();//执行获得数据的方法
    01097 D0E1      RCALL	_read_cmd
(0048) 		read_data_cur=0;
    01098 2422      CLR	R2
    01099 2433      CLR	R3
    0109A 9230 0219 STS	read_data_cur+1,R3
    0109C 9220 0218 STS	read_data_cur,R2
(0049) 	   read_data_cmd='z';
    0109E E78A      LDI	R24,0x7A
    0109F 9380 021A STS	read_data_cmd,R24
(0050) 	 }else if(data>=0 && data<=9){//数字参数，接收。使用串口工具，
    010A1 C046      RJMP	0x10E8
    010A2 3040      CPI	R20,0
    010A3 F168      BCS	0x10D1
    010A4 E089      LDI	R24,0x9
    010A5 1784      CP	R24,R20
    010A6 F150      BCS	0x10D1
(0051) 	    read_data_cache[read_data_cur]=data;
    010A7 E180      LDI	R24,0x10
    010A8 E091      LDI	R25,1
    010A9 91E0 0218 LDS	R30,read_data_cur
    010AB 91F0 0219 LDS	R31,read_data_cur+1
    010AD 0FEE      LSL	R30
    010AE 1FFF      ROL	R31
    010AF 0FE8      ADD	R30,R24
    010B0 1FF9      ADC	R31,R25
    010B1 2E24      MOV	R2,R20
    010B2 2433      CLR	R3
    010B3 8231      STD	Z+1,R3
    010B4 8220      ST	Z,R2
(0052) 		read_data_cur++;
    010B5 9180 0218 LDS	R24,read_data_cur
    010B7 9190 0219 LDS	R25,read_data_cur+1
    010B9 9601      ADIW	R24,1
    010BA 9390 0219 STS	read_data_cur+1,R25
    010BC 9380 0218 STS	read_data_cur,R24
(0053) 		if(read_data_cur>131){//发送数据缓存溢出。上位机发送数据不对。丢弃所有
    010BE E883      LDI	R24,0x83
    010BF E090      LDI	R25,0
    010C0 9020 0218 LDS	R2,read_data_cur
    010C2 9030 0219 LDS	R3,read_data_cur+1
    010C4 1582      CP	R24,R2
    010C5 0593      CPC	R25,R3
    010C6 F508      BCC	0x10E8
(0054) 		  read_data_cur=0;
    010C7 2422      CLR	R2
    010C8 2433      CLR	R3
    010C9 9230 0219 STS	read_data_cur+1,R3
    010CB 9220 0218 STS	read_data_cur,R2
(0055) 	      read_data_cmd='z';
    010CD E78A      LDI	R24,0x7A
    010CE 9380 021A STS	read_data_cmd,R24
(0056) 		}
(0057) 	 }else if(data>='a' && data<='i'){
    010D0 C017      RJMP	0x10E8
    010D1 3641      CPI	R20,0x61
    010D2 F060      BCS	0x10DF
    010D3 E689      LDI	R24,0x69
    010D4 1784      CP	R24,R20
    010D5 F048      BCS	0x10DF
(0058) 	  //为其他命令字，记录。上位机符合规范发送不会出现此情况。
(0059) 	  //预防硬件发送数据跑偏，丢弃上一命令字，按新命令字运行
(0060) 	   read_data_cur=0;
    010D6 2422      CLR	R2
    010D7 2433      CLR	R3
    010D8 9230 0219 STS	read_data_cur+1,R3
    010DA 9220 0218 STS	read_data_cur,R2
(0061) 	   read_data_cmd=data;
    010DC 9340 021A STS	read_data_cmd,R20
(0062) 	 }else{//接收出错，更改指令字为空，抛弃当前数据 
    010DE C009      RJMP	0x10E8
(0063) 	   read_data_cur=0;
    010DF 2422      CLR	R2
    010E0 2433      CLR	R3
    010E1 9230 0219 STS	read_data_cur+1,R3
    010E3 9220 0218 STS	read_data_cur,R2
(0064) 	   read_data_cmd='z';
    010E5 E78A      LDI	R24,0x7A
    010E6 9380 021A STS	read_data_cmd,R24
(0065) 	 }
(0066)    }
(0067)    UCSR0B |=1<<RXCIE0; //开中断
    010E8 9A57      SBI	0x0A,7
    010E9 9149      LD	R20,Y+
    010EA 9009      LD	R0,Y+
    010EB BE0F      OUT	0x3F,R0
    010EC 91F9      LD	R31,Y+
    010ED 91E9      LD	R30,Y+
    010EE 91B9      LD	R27,Y+
    010EF 91A9      LD	R26,Y+
    010F0 9199      LD	R25,Y+
    010F1 9189      LD	R24,Y+
    010F2 9139      LD	R19,Y+
    010F3 9129      LD	R18,Y+
    010F4 9119      LD	R17,Y+
    010F5 9109      LD	R16,Y+
    010F6 9099      LD	R9,Y+
    010F7 9089      LD	R8,Y+
    010F8 9079      LD	R7,Y+
    010F9 9069      LD	R6,Y+
    010FA 9059      LD	R5,Y+
    010FB 9049      LD	R4,Y+
    010FC 9039      LD	R3,Y+
    010FD 9029      LD	R2,Y+
    010FE 9019      LD	R1,Y+
    010FF 9009      LD	R0,Y+
    01100 9518      RETI
_int_suart0:
    01101 921A      ST	-Y,R1
    01102 922A      ST	-Y,R2
    01103 923A      ST	-Y,R3
    01104 924A      ST	-Y,R4
    01105 925A      ST	-Y,R5
    01106 938A      ST	-Y,R24
    01107 939A      ST	-Y,R25
    01108 93EA      ST	-Y,R30
    01109 93FA      ST	-Y,R31
    0110A B61F      IN	R1,0x3F
    0110B 921A      ST	-Y,R1
(0068) }
(0069) //发送中断
(0070) #pragma interrupt_handler int_suart0:20
(0071) void int_suart0(void){
(0072)    UCSR0B &=~(1<<UDRIE0); //关中断
    0110C 9855      CBI	0x0A,5
(0073)    if(send_data_cur<send_data_length){//还有数据存在，继续发送
    0110D 9020 0331 LDS	R2,send_data_length
    0110F 9030 0332 LDS	R3,send_data_length+1
    01111 9040 0333 LDS	R4,send_data_cur
    01113 9050 0334 LDS	R5,send_data_cur+1
    01115 1442      CP	R4,R2
    01116 0453      CPC	R5,R3
    01117 F490      BCC	0x112A
(0074)       UDR0=send_data_cache[send_data_cur];
    01118 E18B      LDI	R24,0x1B
    01119 E092      LDI	R25,2
    0111A 01F2      MOVW	R30,R4
    0111B 0FEE      LSL	R30
    0111C 1FFF      ROL	R31
    0111D 0FE8      ADD	R30,R24
    0111E 1FF9      ADC	R31,R25
    0111F 8020      LD	R2,Z
    01120 8031      LDD	R3,Z+1
    01121 B82C      OUT	0x0C,R2
(0075) 	  send_data_cur++;
    01122 01C2      MOVW	R24,R4
    01123 9601      ADIW	R24,1
    01124 9390 0334 STS	send_data_cur+1,R25
    01126 9380 0333 STS	send_data_cur,R24
(0076) 	  UCSR0B |=(1<<UDRIE0); //开中断
    01128 9A55      SBI	0x0A,5
(0077)    }else{//没有数据啦，清空游标。关中断
    01129 C00A      RJMP	0x1134
(0078)     send_data_length=0;
    0112A 2422      CLR	R2
    0112B 2433      CLR	R3
    0112C 9230 0332 STS	send_data_length+1,R3
    0112E 9220 0331 STS	send_data_length,R2
(0079)     send_data_cur=0;
    01130 9230 0334 STS	send_data_cur+1,R3
    01132 9220 0333 STS	send_data_cur,R2
(0080)    } 
    01134 9019      LD	R1,Y+
    01135 BE1F      OUT	0x3F,R1
    01136 91F9      LD	R31,Y+
    01137 91E9      LD	R30,Y+
    01138 9199      LD	R25,Y+
    01139 9189      LD	R24,Y+
    0113A 9059      LD	R5,Y+
    0113B 9049      LD	R4,Y+
    0113C 9039      LD	R3,Y+
    0113D 9029      LD	R2,Y+
    0113E 9019      LD	R1,Y+
    0113F 9518      RETI
_puts0:
  s                    --> R20
    01140 934A      ST	-Y,R20
    01141 935A      ST	-Y,R21
    01142 01A8      MOVW	R20,R16
(0081)   
(0082) }
(0083) 
(0084) void puts0(char *s)
(0085) {
    01143 C005      RJMP	0x1149
(0086)   while (*s)
(0087)   {
(0088)     putchar0(*s);
    01144 01FA      MOVW	R30,R20
    01145 8100      LD	R16,Z
    01146 DF1D      RCALL	_putchar0
(0089)     s++;
    01147 5F4F      SUBI	R20,0xFF
    01148 4F5F      SBCI	R21,0xFF
    01149 01FA      MOVW	R30,R20
    0114A 8020      LD	R2,Z
    0114B 2022      TST	R2
    0114C F7B9      BNE	0x1144
(0090)   }
(0091)   putchar0(0x0a);//回车换行
    0114D E00A      LDI	R16,0xA
    0114E DF15      RCALL	_putchar0
    0114F 9159      LD	R21,Y+
    01150 9149      LD	R20,Y+
    01151 9508      RET
_cmd_oper:
  t                    --> R10
    01152 940E 39D2 CALL	push_xgset300C
    01154 0158      MOVW	R10,R16
(0092) //putchar0(0x0d);
(0093) }
(0094) void cmd_oper(uint t){
(0095)    switch(read_data_cache[0]){
    01155 9140 0110 LDS	R20,read_data_cache
    01157 9150 0111 LDS	R21,read_data_cache+1
    01159 3040      CPI	R20,0
    0115A 0745      CPC	R20,R21
    0115B F069      BEQ	0x1169
    0115C 3041      CPI	R20,1
    0115D E0E0      LDI	R30,0
    0115E 075E      CPC	R21,R30
    0115F F069      BEQ	0x116D
    01160 3042      CPI	R20,2
    01161 E0E0      LDI	R30,0
    01162 075E      CPC	R21,R30
    01163 F069      BEQ	0x1171
    01164 3043      CPI	R20,3
    01165 E0E0      LDI	R30,0
    01166 075E      CPC	R21,R30
    01167 F061      BEQ	0x1174
    01168 C00E      RJMP	0x1177
(0096) 	  case 0://开始
(0097) 	    set_start(t);
    01169 0185      MOVW	R16,R10
    0116A 940E 3623 CALL	_set_start
(0098) 	    break;
    0116C C00A      RJMP	0x1177
(0099) 	  case 1://停止
(0100) 	    set_stop(t);
    0116D 0185      MOVW	R16,R10
    0116E 940E 3685 CALL	_set_stop
(0101) 	    break;
    01170 C006      RJMP	0x1177
(0102) 	  case 2://重置
(0103) 	    reset_temp_data(t);
    01171 0185      MOVW	R16,R10
    01172 940E 3471 CALL	_reset_temp_data
(0104) 	  case 3://发送温度参数到串口
(0105) 	    send_temp_data(t);
    01174 0185      MOVW	R16,R10
    01175 940E 33EF CALL	_send_temp_data
(0106) 	    break;
    01177 940C 39D7 JMP	pop_xgset300C
_read_cmd:
    01179 934A      ST	-Y,R20
    0117A 935A      ST	-Y,R21
(0107) 	}
(0108) 	
(0109) }
(0110) void read_cmd(void){
(0111)    
(0112)     switch(read_data_cmd){
    0117B 9140 021A LDS	R20,read_data_cmd
    0117D 2755      CLR	R21
    0117E 3641      CPI	R20,0x61
    0117F E0E0      LDI	R30,0
    01180 075E      CPC	R21,R30
    01181 F109      BEQ	0x11A3
    01182 3642      CPI	R20,0x62
    01183 E0E0      LDI	R30,0
    01184 075E      CPC	R21,R30
    01185 F109      BEQ	0x11A7
    01186 3643      CPI	R20,0x63
    01187 E0E0      LDI	R30,0
    01188 075E      CPC	R21,R30
    01189 F109      BEQ	0x11AB
    0118A 3644      CPI	R20,0x64
    0118B E0E0      LDI	R30,0
    0118C 075E      CPC	R21,R30
    0118D F109      BEQ	0x11AF
    0118E 3645      CPI	R20,0x65
    0118F E0E0      LDI	R30,0
    01190 075E      CPC	R21,R30
    01191 F109      BEQ	0x11B3
    01192 3646      CPI	R20,0x66
    01193 E0E0      LDI	R30,0
    01194 075E      CPC	R21,R30
    01195 F121      BEQ	0x11BA
    01196 3647      CPI	R20,0x67
    01197 E0E0      LDI	R30,0
    01198 075E      CPC	R21,R30
    01199 F139      BEQ	0x11C1
    0119A 3648      CPI	R20,0x68
    0119B E0E0      LDI	R30,0
    0119C 075E      CPC	R21,R30
    0119D F151      BEQ	0x11C8
    0119E 3649      CPI	R20,0x69
    0119F E0E0      LDI	R30,0
    011A0 075E      CPC	R21,R30
    011A1 F169      BEQ	0x11CF
    011A2 C052      RJMP	0x11F5
(0113) 	  case 'a':
(0114) 	    cmd_oper(0);
    011A3 2700      CLR	R16
    011A4 2711      CLR	R17
    011A5 DFAC      RCALL	_cmd_oper
(0115) 	    break;
    011A6 C04E      RJMP	0x11F5
(0116) 	  case 'b':
(0117) 	    cmd_oper(1);
    011A7 E001      LDI	R16,1
    011A8 E010      LDI	R17,0
    011A9 DFA8      RCALL	_cmd_oper
(0118) 	    break;
    011AA C04A      RJMP	0x11F5
(0119) 	 case 'c':
(0120) 	    cmd_oper(2);
    011AB E002      LDI	R16,2
    011AC E010      LDI	R17,0
    011AD DFA4      RCALL	_cmd_oper
(0121) 	    break;
    011AE C046      RJMP	0x11F5
(0122) 	 case 'd':
(0123) 	    cmd_oper(3);
    011AF E003      LDI	R16,3
    011B0 E010      LDI	R17,0
    011B1 DFA0      RCALL	_cmd_oper
(0124) 	    break;
    011B2 C042      RJMP	0x11F5
(0125)      case 'e':
(0126) 	    set_temp_data(0,read_data_cache);
    011B3 E120      LDI	R18,0x10
    011B4 E031      LDI	R19,1
    011B5 2700      CLR	R16
    011B6 2711      CLR	R17
    011B7 940E 3386 CALL	_set_temp_data
(0127) 	    break;
    011B9 C03B      RJMP	0x11F5
(0128) 	 case 'f':
(0129) 	    set_temp_data(1,read_data_cache);
    011BA E120      LDI	R18,0x10
    011BB E031      LDI	R19,1
    011BC E001      LDI	R16,1
    011BD E010      LDI	R17,0
    011BE 940E 3386 CALL	_set_temp_data
(0130) 	    break;
    011C0 C034      RJMP	0x11F5
(0131) 	 case 'g':
(0132) 	    set_temp_data(2,read_data_cache);
    011C1 E120      LDI	R18,0x10
    011C2 E031      LDI	R19,1
    011C3 E002      LDI	R16,2
    011C4 E010      LDI	R17,0
    011C5 940E 3386 CALL	_set_temp_data
(0133) 	    break;
    011C7 C02D      RJMP	0x11F5
(0134) 	 case 'h':
(0135) 	    set_temp_data(3,read_data_cache);
    011C8 E120      LDI	R18,0x10
    011C9 E031      LDI	R19,1
    011CA E003      LDI	R16,3
    011CB E010      LDI	R17,0
    011CC 940E 3386 CALL	_set_temp_data
(0136) 	    break;
    011CE C026      RJMP	0x11F5
(0137) 	 case 'i':
(0138) 	 switch(read_data_cache[0]){
    011CF 9140 0110 LDS	R20,read_data_cache
    011D1 9150 0111 LDS	R21,read_data_cache+1
    011D3 3040      CPI	R20,0
    011D4 0745      CPC	R20,R21
    011D5 F049      BEQ	0x11DF
    011D6 3041      CPI	R20,1
    011D7 E0E0      LDI	R30,0
    011D8 075E      CPC	R21,R30
    011D9 F041      BEQ	0x11E2
    011DA 3042      CPI	R20,2
    011DB E0E0      LDI	R30,0
    011DC 075E      CPC	R21,R30
    011DD F039      BEQ	0x11E5
    011DE C016      RJMP	0x11F5
(0139) 	  case 0://全部开始
(0140) 	     set_all_start();
    011DF 940E 35A6 CALL	_set_all_start
(0141) 	     break;
    011E1 C013      RJMP	0x11F5
(0142) 	   case 1://全部停止
(0143) 	     set_all_stop();
    011E2 940E 35F2 CALL	_set_all_stop
(0144) 	     break;
    011E4 C010      RJMP	0x11F5
(0145) 	   case 2://全部重置
(0146) 	     reset_temp_data(0);
    011E5 2700      CLR	R16
    011E6 2711      CLR	R17
    011E7 940E 3471 CALL	_reset_temp_data
(0147) 		 reset_temp_data(1);
    011E9 E001      LDI	R16,1
    011EA E010      LDI	R17,0
    011EB 940E 3471 CALL	_reset_temp_data
(0148) 		 reset_temp_data(2);
    011ED E002      LDI	R16,2
    011EE E010      LDI	R17,0
    011EF 940E 3471 CALL	_reset_temp_data
(0149) 		 reset_temp_data(3);
    011F1 E003      LDI	R16,3
    011F2 E010      LDI	R17,0
    011F3 940E 3471 CALL	_reset_temp_data
(0150) 	     break;
(0151) 	  }
(0152) 	    break;
(0153) 	 default :
(0154) 	  break;
    011F5 9159      LD	R21,Y+
    011F6 9149      LD	R20,Y+
    011F7 9508      RET
_EEPROM_write:
  data                 --> R10
  addr_l               --> R14
  addr_h               --> R12
    011F8 940E 39CB CALL	push_xgset00FC
    011FA 0179      MOVW	R14,R18
    011FB 0168      MOVW	R12,R16
    011FC 80AE      LDD	R10,Y+6
    011FD 80BF      LDD	R11,Y+7
FILE: E:\ICCDemo\Temp_Control\temp_control\eeprom.c
(0001) #include<iom128v.h>
(0002) #include "eeprom.h"
(0003) #include "delay.h"
(0004) 
(0005) //使用全非中断方式读写。温控数据在保存时候一次性写入。状态数据执行时写入，写入量小不会影响速度
(0006) void EEPROM_write(uint addr_h,uint addr_l,uint data){
(0007)    SREG&=0x7F;//关中断
    011FE B78F      IN	R24,0x3F
    011FF 778F      ANDI	R24,0x7F
    01200 BF8F      OUT	0x3F,R24
(0008)     while(EECR & (1<<EEWE)){
    01201 99E1      SBIC	0x1C,1
    01202 CFFE      RJMP	0x1201
(0009) 	 			 
(0010) 	 } 
(0011) 	  EEARL=addr_l;
    01203 BAEE      OUT	0x1E,R14
(0012) 	 EEARH=addr_h;
    01204 BACF      OUT	0x1F,R12
(0013) 	 EEDR=data;
    01205 BAAD      OUT	0x1D,R10
(0014) 	 EECR|=(1<<EEMWE);
    01206 9AE2      SBI	0x1C,2
(0015) 	 EECR|=(1<<EEWE);
    01207 9AE1      SBI	0x1C,1
(0016) 	  delay_us(1);
    01208 E001      LDI	R16,1
    01209 E010      LDI	R17,0
    0120A 940E 0529 CALL	_delay_us
(0017) 	 SREG|=0x80;//开中断
    0120C 9478      BSET	7
(0018) 	 return;
    0120D 940C 39B5 JMP	pop_xgset00FC
_EEPROM_read:
  data                 --> R10
  addr_l               --> R12
  addr_h               --> R10
    0120F 940E 39CD CALL	push_xgset003C
    01211 0169      MOVW	R12,R18
    01212 0158      MOVW	R10,R16
(0019) }
(0020) uint EEPROM_read(uint addr_h,uint addr_l){
(0021)    uint data;
(0022)    SREG&=0x7F;//关中断
    01213 B78F      IN	R24,0x3F
    01214 778F      ANDI	R24,0x7F
    01215 BF8F      OUT	0x3F,R24
(0023)     while(EECR & (1<<EEWE)){ 			 
    01216 99E1      SBIC	0x1C,1
    01217 CFFE      RJMP	0x1216
(0024) 	 }
(0025) 	EEARL=addr_l;
    01218 BACE      OUT	0x1E,R12
(0026) 	 EEARH=addr_h;
    01219 BAAF      OUT	0x1F,R10
(0027) 	 
(0028) 	 EECR|=(1<<EERE);
    0121A 9AE0      SBI	0x1C,0
(0029) 	 delay_us(1);
    0121B E001      LDI	R16,1
    0121C E010      LDI	R17,0
    0121D 940E 0529 CALL	_delay_us
(0030) 	 data=EEDR;
    0121F B2AD      IN	R10,0x1D
    01220 24BB      CLR	R11
(0031) 	 SREG|=0x80;//开中断
    01221 9478      BSET	7
(0032) 	 return data;
    01222 0185      MOVW	R16,R10
    01223 940C 39B0 JMP	pop_xgset003C
_pageTime:
  y                    --> R10
    01225 92AA      ST	-Y,R10
    01226 92BA      ST	-Y,R11
    01227 0158      MOVW	R10,R16
    01228 9722      SBIW	R28,2
FILE: E:\ICCDemo\Temp_Control\temp_control\pages.c
(0001) #include<iom128v.h>
(0002) #include "main.h"
(0003) #include "lcd.h"
(0004) #include "time1307.h"
(0005) #include "timertask.h"
(0006) #include "key.h"
(0007) #include "delay.h"
(0008) #include "temp.h"
(0009) #include "eeprom.h"
(0010) //下面这个头文件里包含WDR();喂狗的方法
(0011) //#include <AVRdef.h>
(0012) 
(0013) //************************
(0014) // 所有界面信息在这里,用到全局变量， 
(0015) // unsigned int pageNum;//当前页面，如需跳转改变这个值就行
(0016) // unsigned int pageParam[5];//传递参数。界面间参数暂存
(0017) // unsigned int prePageNum;
(0018) //************************
(0019) 
(0020) //用于显第一行日期信息，其中Page1、Page3 、Page8使用，
(0021) //由定时器触发该函数，进入这三个界面是启动定时器，退出时关闭
(0022) void pageTime(uint y){
(0023)                 //关定时器
(0024)    lcd_write_str(0,y,"时间:");
    01229 E786      LDI	R24,0x76
    0122A E09A      LDI	R25,0xA
    0122B 8399      STD	Y+1,R25
    0122C 8388      ST	Y,R24
    0122D 2D2A      MOV	R18,R10
    0122E 2700      CLR	R16
    0122F 940E 0783 CALL	_lcd_write_str
(0025)    showTime_page(y);
    01231 0185      MOVW	R16,R10
    01232 940E 38D4 CALL	_showTime_page
    01234 9622      ADIW	R28,2
    01235 90B9      LD	R11,Y+
    01236 90A9      LD	R10,Y+
    01237 9508      RET
_pageTime2:
  y                    --> R10
    01238 92AA      ST	-Y,R10
    01239 92BA      ST	-Y,R11
    0123A 0158      MOVW	R10,R16
(0026)                  //开定时器 
(0027) }
(0028) void pageTime2(uint y){
(0029)                 //关定时器
(0030)    //lcd_write_str(0,y,"时间:");
(0031)    showTime_page(y);
    0123B 0185      MOVW	R16,R10
    0123C 940E 38D4 CALL	_showTime_page
    0123E 90B9      LD	R11,Y+
    0123F 90A9      LD	R10,Y+
    01240 9508      RET
_page1:
  cur                  --> R20
  keyV                 --> R10
  y                    --> R22
  i                    --> R10
    01241 940E 3A02 CALL	push_xgsetF03C
    01243 9722      SBIW	R28,2
(0032)                  //开定时器 
(0033) }
(0034) //page1,首页的界面
(0035) void page1(void){
(0036)    uint cur=0;
(0037)    uchar keyV;
(0038)    uint i;//用于循环
(0039)    uint y;//确定是那个半屏幕
(0040)    prePageNum=1;//首页不会再有上一界面，这里设置。虽然违反规则
    01244 E081      LDI	R24,1
    01245 E090      LDI	R25,0
    01246 9390 0A80 STS	prePageNum+1,R25
    01248 9380 0A7F STS	prePageNum,R24
(0041)    //初始化起始选择
(0042)     lcd_write_str(1,1," T1:");
    0124A E781      LDI	R24,0x71
    0124B E09A      LDI	R25,0xA
    0124C 8399      STD	Y+1,R25
    0124D 8388      ST	Y,R24
    0124E E021      LDI	R18,1
    0124F E001      LDI	R16,1
    01250 940E 0783 CALL	_lcd_write_str
(0043)     lcd_write_str(6,1," T2:");
    01252 E68C      LDI	R24,0x6C
    01253 E09A      LDI	R25,0xA
    01254 8399      STD	Y+1,R25
    01255 8388      ST	Y,R24
    01256 E021      LDI	R18,1
    01257 E006      LDI	R16,6
    01258 940E 0783 CALL	_lcd_write_str
(0044)     lcd_write_str(1,2," T3:");
    0125A E687      LDI	R24,0x67
    0125B E09A      LDI	R25,0xA
    0125C 8399      STD	Y+1,R25
    0125D 8388      ST	Y,R24
    0125E E022      LDI	R18,2
    0125F E001      LDI	R16,1
    01260 940E 0783 CALL	_lcd_write_str
(0045)     lcd_write_str(6,2," T4:");
    01262 E682      LDI	R24,0x62
    01263 E09A      LDI	R25,0xA
    01264 8399      STD	Y+1,R25
    01265 8388      ST	Y,R24
    01266 E022      LDI	R18,2
    01267 E006      LDI	R16,6
    01268 940E 0783 CALL	_lcd_write_str
(0046) 
(0047) 	
(0048) 	lcd_write_str(1,3,"开始    ");
    0126A E589      LDI	R24,0x59
    0126B E09A      LDI	R25,0xA
    0126C 8399      STD	Y+1,R25
    0126D 8388      ST	Y,R24
    0126E E023      LDI	R18,3
    0126F E001      LDI	R16,1
    01270 940E 0783 CALL	_lcd_write_str
(0049)     lcd_write_str_con(3,"停止    ");
    01272 E520      LDI	R18,0x50
    01273 E03A      LDI	R19,0xA
    01274 E003      LDI	R16,3
    01275 940E 07CD CALL	_lcd_write_str_con
(0050) 	lcd_write_str_con(3,"设置");
    01277 E42B      LDI	R18,0x4B
    01278 E03A      LDI	R19,0xA
    01279 E003      LDI	R16,3
    0127A 940E 07CD CALL	_lcd_write_str_con
(0051) 	lcd_write_str(1,3,"开始    ");
    0127C E589      LDI	R24,0x59
    0127D E09A      LDI	R25,0xA
    0127E 8399      STD	Y+1,R25
    0127F 8388      ST	Y,R24
    01280 E023      LDI	R18,3
    01281 E001      LDI	R16,1
    01282 940E 0783 CALL	_lcd_write_str
(0052)     lcd_write_str_con(3,"停止    ");
    01284 E520      LDI	R18,0x50
    01285 E03A      LDI	R19,0xA
    01286 E003      LDI	R16,3
    01287 940E 07CD CALL	_lcd_write_str_con
(0053) 	lcd_write_str_con(3,"设置"); 
    01289 E42B      LDI	R18,0x4B
    0128A E03A      LDI	R19,0xA
    0128B E003      LDI	R16,3
    0128C 940E 07CD CALL	_lcd_write_str_con
(0054) 	cur=0;
    0128E 2744      CLR	R20
    0128F 2755      CLR	R21
(0055) 	Set_White(2,1,3);
    01290 E083      LDI	R24,3
    01291 8388      ST	Y,R24
    01292 E021      LDI	R18,1
    01293 E002      LDI	R16,2
    01294 940E 09A8 CALL	_Set_White
    01296 C37D      RJMP	0x1614
(0056) 	while(1){
(0057) 	 pageTime(0);
    01297 2700      CLR	R16
    01298 2711      CLR	R17
    01299 DF8B      RCALL	_pageTime
(0058) 	for(i=0;i<4;i++){
    0129A 24AA      CLR	R10
    0129B 24BB      CLR	R11
    0129C C0D3      RJMP	0x1370
(0059) 	  if(i==0){
    0129D 20AA      TST	R10
    0129E F449      BNE	0x12A8
    0129F 20BB      TST	R11
    012A0 F439      BNE	0x12A8
(0060) 	    y=1;
    012A1 E061      LDI	R22,1
    012A2 E070      LDI	R23,0
(0061) 	    lcd_write_pos(3,1);
    012A3 E021      LDI	R18,1
    012A4 E003      LDI	R16,3
    012A5 940E 073F CALL	_lcd_write_pos
(0062) 	  }else if(i==1){
    012A7 C023      RJMP	0x12CB
    012A8 01C5      MOVW	R24,R10
    012A9 3081      CPI	R24,1
    012AA E0E0      LDI	R30,0
    012AB 079E      CPC	R25,R30
    012AC F439      BNE	0x12B4
(0063) 	    y=1;
    012AD E061      LDI	R22,1
    012AE E070      LDI	R23,0
(0064) 	    lcd_write_pos(8,1);
    012AF E021      LDI	R18,1
    012B0 E008      LDI	R16,0x8
    012B1 940E 073F CALL	_lcd_write_pos
(0065) 	  }else if(i==2){
    012B3 C017      RJMP	0x12CB
    012B4 01C5      MOVW	R24,R10
    012B5 3082      CPI	R24,2
    012B6 E0E0      LDI	R30,0
    012B7 079E      CPC	R25,R30
    012B8 F439      BNE	0x12C0
(0066) 	    y=2;
    012B9 E062      LDI	R22,2
    012BA E070      LDI	R23,0
(0067) 	    lcd_write_pos(3,2);
    012BB E022      LDI	R18,2
    012BC E003      LDI	R16,3
    012BD 940E 073F CALL	_lcd_write_pos
(0068) 	  }else if(i==3){
    012BF C00B      RJMP	0x12CB
    012C0 01C5      MOVW	R24,R10
    012C1 3083      CPI	R24,3
    012C2 E0E0      LDI	R30,0
    012C3 079E      CPC	R25,R30
    012C4 F431      BNE	0x12CB
(0069) 	    y=2;
    012C5 E062      LDI	R22,2
    012C6 E070      LDI	R23,0
(0070) 	    lcd_write_pos(8,2);
    012C7 E022      LDI	R18,2
    012C8 E008      LDI	R16,0x8
    012C9 940E 073F CALL	_lcd_write_pos
(0071) 	  }
(0072) 	   switch(temps[i].flag){
    012CB E302      LDI	R16,0x32
    012CC E011      LDI	R17,1
    012CD 0195      MOVW	R18,R10
    012CE 940E 39A0 CALL	empy16s
    012D0 E38D      LDI	R24,0x3D
    012D1 E093      LDI	R25,3
    012D2 01F8      MOVW	R30,R16
    012D3 0FE8      ADD	R30,R24
    012D4 1FF9      ADC	R31,R25
    012D5 80C0      LD	R12,Z
    012D6 80D1      LDD	R13,Z+1
    012D7 20CC      TST	R12
    012D8 F411      BNE	0x12DB
    012D9 20DD      TST	R13
    012DA F0F9      BEQ	0x12FA
    012DB 01C6      MOVW	R24,R12
    012DC 3081      CPI	R24,1
    012DD E0E0      LDI	R30,0
    012DE 079E      CPC	R25,R30
    012DF F101      BEQ	0x1300
    012E0 3082      CPI	R24,2
    012E1 E0E0      LDI	R30,0
    012E2 079E      CPC	R25,R30
    012E3 F409      BNE	0x12E5
    012E4 C06B      RJMP	0x1350
    012E5 3083      CPI	R24,3
    012E6 E0E0      LDI	R30,0
    012E7 079E      CPC	R25,R30
    012E8 F409      BNE	0x12EA
    012E9 C06C      RJMP	0x1356
    012EA 3084      CPI	R24,4
    012EB E0E0      LDI	R30,0
    012EC 079E      CPC	R25,R30
    012ED F409      BNE	0x12EF
    012EE C06D      RJMP	0x135C
    012EF 3085      CPI	R24,5
    012F0 E0E0      LDI	R30,0
    012F1 079E      CPC	R25,R30
    012F2 F409      BNE	0x12F4
    012F3 C06E      RJMP	0x1362
    012F4 3086      CPI	R24,6
    012F5 E0E0      LDI	R30,0
    012F6 079E      CPC	R25,R30
    012F7 F409      BNE	0x12F9
    012F8 C06F      RJMP	0x1368
    012F9 C073      RJMP	0x136D
(0073) 	     case 0:
(0074) 		   lcd_write_str_con(y,"停止");
    012FA E426      LDI	R18,0x46
    012FB E03A      LDI	R19,0xA
    012FC 2F06      MOV	R16,R22
    012FD 940E 07CD CALL	_lcd_write_str_con
(0075) 		   break;
    012FF C06D      RJMP	0x136D
(0076) 		 case 1:
(0077) 		   lcd_write_char_con(y,0x30 | (int)temps[i].actualtemp/100);
    01300 E302      LDI	R16,0x32
    01301 E011      LDI	R17,1
    01302 0195      MOVW	R18,R10
    01303 940E 39A0 CALL	empy16s
    01305 E58F      LDI	R24,0x5F
    01306 E094      LDI	R25,4
    01307 01F8      MOVW	R30,R16
    01308 0FE8      ADD	R30,R24
    01309 1FF9      ADC	R31,R25
    0130A 8100      LD	R16,Z
    0130B 8111      LDD	R17,Z+1
    0130C E624      LDI	R18,0x64
    0130D E030      LDI	R19,0
    0130E 940E 396A CALL	div16s
    01310 0198      MOVW	R18,R16
    01311 6320      ORI	R18,0x30
    01312 2F06      MOV	R16,R22
    01313 940E 072B CALL	_lcd_write_char_con
(0078) 		   lcd_write_char_con(y,0x30 | ((int)temps[i].actualtemp/10)%10);
    01315 E302      LDI	R16,0x32
    01316 E011      LDI	R17,1
    01317 0195      MOVW	R18,R10
    01318 940E 39A0 CALL	empy16s
    0131A E58F      LDI	R24,0x5F
    0131B E094      LDI	R25,4
    0131C 01F8      MOVW	R30,R16
    0131D 0FE8      ADD	R30,R24
    0131E 1FF9      ADC	R31,R25
    0131F 8100      LD	R16,Z
    01320 8111      LDD	R17,Z+1
    01321 E02A      LDI	R18,0xA
    01322 E030      LDI	R19,0
    01323 940E 396A CALL	div16s
    01325 E02A      LDI	R18,0xA
    01326 E030      LDI	R19,0
    01327 940E 3966 CALL	mod16s
    01329 0198      MOVW	R18,R16
    0132A 6320      ORI	R18,0x30
    0132B 2F06      MOV	R16,R22
    0132C 940E 072B CALL	_lcd_write_char_con
(0079) 		   lcd_write_char_con(y,0x30 | (int)temps[i].actualtemp%10);
    0132E E302      LDI	R16,0x32
    0132F E011      LDI	R17,1
    01330 0195      MOVW	R18,R10
    01331 940E 39A0 CALL	empy16s
    01333 E58F      LDI	R24,0x5F
    01334 E094      LDI	R25,4
    01335 01F8      MOVW	R30,R16
    01336 0FE8      ADD	R30,R24
    01337 1FF9      ADC	R31,R25
    01338 8100      LD	R16,Z
    01339 8111      LDD	R17,Z+1
    0133A E02A      LDI	R18,0xA
    0133B E030      LDI	R19,0
    0133C 940E 3966 CALL	mod16s
    0133E 0198      MOVW	R18,R16
    0133F 6320      ORI	R18,0x30
    01340 2F06      MOV	R16,R22
    01341 940E 072B CALL	_lcd_write_char_con
(0080) 		   lcd_write_char_con(y,' ');
    01343 E220      LDI	R18,0x20
    01344 2F06      MOV	R16,R22
    01345 940E 072B CALL	_lcd_write_char_con
(0081) 		   lcd_write_char_con(y,0xA1);
    01347 EA21      LDI	R18,0xA1
    01348 2F06      MOV	R16,R22
    01349 940E 072B CALL	_lcd_write_char_con
(0082)           lcd_write_char_con(y,0xE6);
    0134B EE26      LDI	R18,0xE6
    0134C 2F06      MOV	R16,R22
    0134D 940E 072B CALL	_lcd_write_char_con
(0083) 		   break;
    0134F C01D      RJMP	0x136D
(0084) 		 case 2:
(0085) 		   lcd_write_str_con(y,"故障");
    01350 E421      LDI	R18,0x41
    01351 E03A      LDI	R19,0xA
    01352 2F06      MOV	R16,R22
    01353 940E 07CD CALL	_lcd_write_str_con
(0086) 		   break;
    01355 C017      RJMP	0x136D
(0087) 		 case 3:
(0088) 		   lcd_write_str_con(y,"暂停");
    01356 E32C      LDI	R18,0x3C
    01357 E03A      LDI	R19,0xA
    01358 2F06      MOV	R16,R22
    01359 940E 07CD CALL	_lcd_write_str_con
(0089) 		   break;
    0135B C011      RJMP	0x136D
(0090) 		 case 4:
(0091) 		   lcd_write_str_con(y,"结束");
    0135C E327      LDI	R18,0x37
    0135D E03A      LDI	R19,0xA
    0135E 2F06      MOV	R16,R22
    0135F 940E 07CD CALL	_lcd_write_str_con
(0092) 		   break;
    01361 C00B      RJMP	0x136D
(0093) 		 case 5:
(0094) 		   lcd_write_str_con(y,"等待");
    01362 E322      LDI	R18,0x32
    01363 E03A      LDI	R19,0xA
    01364 2F06      MOV	R16,R22
    01365 940E 07CD CALL	_lcd_write_str_con
(0095) 		   break;
    01367 C005      RJMP	0x136D
(0096) 		 case 6:
(0097) 		   lcd_write_str_con(y,"暂停");
    01368 E32C      LDI	R18,0x3C
    01369 E03A      LDI	R19,0xA
    0136A 2F06      MOV	R16,R22
    0136B 940E 07CD CALL	_lcd_write_str_con
    0136D 01C5      MOVW	R24,R10
    0136E 9601      ADIW	R24,1
    0136F 015C      MOVW	R10,R24
    01370 01C5      MOVW	R24,R10
    01371 3084      CPI	R24,4
    01372 E0E0      LDI	R30,0
    01373 079E      CPC	R25,R30
    01374 F408      BCC	0x1376
    01375 CF27      RJMP	0x129D
(0098) 		   break;
(0099) 		   break;
(0100) 		 default:
(0101) 		   break;
(0102) 	   }
(0103) 	}
(0104) 	 keyV=KeyScan_once();
    01376 940E 0620 CALL	_KeyScan_once
    01378 2EA0      MOV	R10,R16
(0105) 	 if(keyV=='a'){
    01379 3601      CPI	R16,0x61
    0137A F009      BEQ	0x137C
    0137B C053      RJMP	0x13CF
(0106) 	      //pageNum=8;//跳转到设置时间的界面
(0107) 		   pageNum=8;
    0137C E088      LDI	R24,0x8
    0137D E090      LDI	R25,0
    0137E 9390 0A8C STS	pageNum+1,R25
    01380 9380 0A8B STS	pageNum,R24
(0108) 	   switch(cur){
    01382 3040      CPI	R20,0
    01383 0745      CPC	R20,R21
    01384 F0C9      BEQ	0x139E
    01385 3041      CPI	R20,1
    01386 E0E0      LDI	R30,0
    01387 075E      CPC	R21,R30
    01388 F0E1      BEQ	0x13A5
    01389 3042      CPI	R20,2
    0138A E0E0      LDI	R30,0
    0138B 075E      CPC	R21,R30
    0138C F0F9      BEQ	0x13AC
    0138D 3043      CPI	R20,3
    0138E E0E0      LDI	R30,0
    0138F 075E      CPC	R21,R30
    01390 F111      BEQ	0x13B3
    01391 3044      CPI	R20,4
    01392 E0E0      LDI	R30,0
    01393 075E      CPC	R21,R30
    01394 F129      BEQ	0x13BA
    01395 3045      CPI	R20,5
    01396 E0E0      LDI	R30,0
    01397 075E      CPC	R21,R30
    01398 F141      BEQ	0x13C1
    01399 3046      CPI	R20,6
    0139A E0E0      LDI	R30,0
    0139B 075E      CPC	R21,R30
    0139C F159      BEQ	0x13C8
    0139D C277      RJMP	0x1615
(0109) 		 case 0: 
(0110) 		    Set_White_off(2,1,3);
    0139E E083      LDI	R24,3
    0139F 8388      ST	Y,R24
    013A0 E021      LDI	R18,1
    013A1 E002      LDI	R16,2
    013A2 940E 0938 CALL	_Set_White_off
(0111) 		    break;
    013A4 C270      RJMP	0x1615
(0112) 		 case 1:
(0113) 		   Set_White_off(7,1,8);
    013A5 E088      LDI	R24,0x8
    013A6 8388      ST	Y,R24
    013A7 E021      LDI	R18,1
    013A8 E007      LDI	R16,7
    013A9 940E 0938 CALL	_Set_White_off
(0114) 		   break;
    013AB C269      RJMP	0x1615
(0115) 		 case 2:
(0116) 		  Set_White_off(2,2,3);
    013AC E083      LDI	R24,3
    013AD 8388      ST	Y,R24
    013AE E022      LDI	R18,2
    013AF E002      LDI	R16,2
    013B0 940E 0938 CALL	_Set_White_off
(0117) 		  break;
    013B2 C262      RJMP	0x1615
(0118) 		 case 3:
(0119) 		   Set_White_off(7,2,8);
    013B3 E088      LDI	R24,0x8
    013B4 8388      ST	Y,R24
    013B5 E022      LDI	R18,2
    013B6 E007      LDI	R16,7
    013B7 940E 0938 CALL	_Set_White_off
(0120) 		    break;
    013B9 C25B      RJMP	0x1615
(0121) 		case 4:
(0122) 		    Set_White_off(2,3,3);
    013BA E083      LDI	R24,3
    013BB 8388      ST	Y,R24
    013BC E023      LDI	R18,3
    013BD E002      LDI	R16,2
    013BE 940E 0938 CALL	_Set_White_off
(0123) 		    break;
    013C0 C254      RJMP	0x1615
(0124) 		case 5:
(0125) 		    Set_White_off(6,3,7);
    013C1 E087      LDI	R24,7
    013C2 8388      ST	Y,R24
    013C3 E023      LDI	R18,3
    013C4 E006      LDI	R16,6
    013C5 940E 0938 CALL	_Set_White_off
(0126) 		    break;
    013C7 C24D      RJMP	0x1615
(0127) 		 case 6:
(0128) 		   Set_White_off(10,3,11);
    013C8 E08B      LDI	R24,0xB
    013C9 8388      ST	Y,R24
    013CA E023      LDI	R18,3
    013CB E00A      LDI	R16,0xA
    013CC 940E 0938 CALL	_Set_White_off
(0129) 		    break;
(0130) 		  default:
(0131) 		   break;
(0132) 		 }
(0133) 	   return ;
    013CE C246      RJMP	0x1615
(0134) 	}else if(keyV=='d'){
    013CF 2D8A      MOV	R24,R10
    013D0 3684      CPI	R24,0x64
    013D1 F009      BEQ	0x13D3
    013D2 C04C      RJMP	0x141F
(0135) 	     switch(cur){
    013D3 3040      CPI	R20,0
    013D4 0745      CPC	R20,R21
    013D5 F069      BEQ	0x13E3
    013D6 3041      CPI	R20,1
    013D7 E0E0      LDI	R30,0
    013D8 075E      CPC	R21,R30
    013D9 F0C1      BEQ	0x13F2
    013DA 3042      CPI	R20,2
    013DB E0E0      LDI	R30,0
    013DC 075E      CPC	R21,R30
    013DD F119      BEQ	0x1401
    013DE 3043      CPI	R20,3
    013DF E0E0      LDI	R30,0
    013E0 075E      CPC	R21,R30
    013E1 F171      BEQ	0x1410
    013E2 C231      RJMP	0x1614
(0136) 		  case 0:
(0137) 		   Set_White_off(2,1,3);
    013E3 E083      LDI	R24,3
    013E4 8388      ST	Y,R24
    013E5 E021      LDI	R18,1
    013E6 E002      LDI	R16,2
    013E7 940E 0938 CALL	_Set_White_off
(0138) 		   Set_White(2,2,3);
    013E9 E083      LDI	R24,3
    013EA 8388      ST	Y,R24
    013EB E022      LDI	R18,2
    013EC E002      LDI	R16,2
    013ED 940E 09A8 CALL	_Set_White
(0139) 		   cur=2;
    013EF E042      LDI	R20,2
    013F0 E050      LDI	R21,0
(0140) 		   break;
    013F1 C222      RJMP	0x1614
(0141) 		  case 1:
(0142) 		   Set_White_off(7,1,8);
    013F2 E088      LDI	R24,0x8
    013F3 8388      ST	Y,R24
    013F4 E021      LDI	R18,1
    013F5 E007      LDI	R16,7
    013F6 940E 0938 CALL	_Set_White_off
(0143) 		   Set_White(7,2,8);
    013F8 E088      LDI	R24,0x8
    013F9 8388      ST	Y,R24
    013FA E022      LDI	R18,2
    013FB E007      LDI	R16,7
    013FC 940E 09A8 CALL	_Set_White
(0144) 		   cur=3;
    013FE E043      LDI	R20,3
    013FF E050      LDI	R21,0
(0145) 		   break;
    01400 C213      RJMP	0x1614
(0146) 		  case 2:
(0147) 		   Set_White_off(2,2,3);
    01401 E083      LDI	R24,3
    01402 8388      ST	Y,R24
    01403 E022      LDI	R18,2
    01404 E002      LDI	R16,2
    01405 940E 0938 CALL	_Set_White_off
(0148) 		   Set_White(2,3,3);
    01407 E083      LDI	R24,3
    01408 8388      ST	Y,R24
    01409 E023      LDI	R18,3
    0140A E002      LDI	R16,2
    0140B 940E 09A8 CALL	_Set_White
(0149) 		   cur=4;
    0140D E044      LDI	R20,4
    0140E E050      LDI	R21,0
(0150) 		   break;
    0140F C204      RJMP	0x1614
(0151) 		  case 3:
(0152) 		   Set_White_off(7,2,8);
    01410 E088      LDI	R24,0x8
    01411 8388      ST	Y,R24
    01412 E022      LDI	R18,2
    01413 E007      LDI	R16,7
    01414 940E 0938 CALL	_Set_White_off
(0153) 		   Set_White(6,3,7);
    01416 E087      LDI	R24,7
    01417 8388      ST	Y,R24
    01418 E023      LDI	R18,3
    01419 E006      LDI	R16,6
    0141A 940E 09A8 CALL	_Set_White
(0154) 		   cur=5;
    0141C E045      LDI	R20,5
    0141D E050      LDI	R21,0
(0155) 		   break;
(0156) 		  default:
(0157) 		   break;
(0158) 		 }
(0159) 	}else if(keyV=='u'){switch(cur){
    0141E C1F5      RJMP	0x1614
    0141F 2D8A      MOV	R24,R10
    01420 3785      CPI	R24,0x75
    01421 F009      BEQ	0x1423
    01422 C061      RJMP	0x1484
    01423 3042      CPI	R20,2
    01424 E0E0      LDI	R30,0
    01425 075E      CPC	R21,R30
    01426 F091      BEQ	0x1439
    01427 3043      CPI	R20,3
    01428 E0E0      LDI	R30,0
    01429 075E      CPC	R21,R30
    0142A F0E9      BEQ	0x1448
    0142B 3044      CPI	R20,4
    0142C E0E0      LDI	R30,0
    0142D 075E      CPC	R21,R30
    0142E F141      BEQ	0x1457
    0142F 3045      CPI	R20,5
    01430 E0E0      LDI	R30,0
    01431 075E      CPC	R21,R30
    01432 F199      BEQ	0x1466
    01433 3046      CPI	R20,6
    01434 E0E0      LDI	R30,0
    01435 075E      CPC	R21,R30
    01436 F409      BNE	0x1438
    01437 C03D      RJMP	0x1475
    01438 C1DB      RJMP	0x1614
(0160) 		  case 2:
(0161) 		   Set_White_off(2,2,3);
    01439 E083      LDI	R24,3
    0143A 8388      ST	Y,R24
    0143B E022      LDI	R18,2
    0143C E002      LDI	R16,2
    0143D 940E 0938 CALL	_Set_White_off
(0162) 		   Set_White(2,1,3);
    0143F E083      LDI	R24,3
    01440 8388      ST	Y,R24
    01441 E021      LDI	R18,1
    01442 E002      LDI	R16,2
    01443 940E 09A8 CALL	_Set_White
(0163) 		   cur=0;
    01445 2744      CLR	R20
    01446 2755      CLR	R21
(0164) 		   break;
    01447 C1CC      RJMP	0x1614
(0165) 		  case 3:
(0166) 		   Set_White_off(7,2,8);
    01448 E088      LDI	R24,0x8
    01449 8388      ST	Y,R24
    0144A E022      LDI	R18,2
    0144B E007      LDI	R16,7
    0144C 940E 0938 CALL	_Set_White_off
(0167) 		   Set_White(7,1,8);
    0144E E088      LDI	R24,0x8
    0144F 8388      ST	Y,R24
    01450 E021      LDI	R18,1
    01451 E007      LDI	R16,7
    01452 940E 09A8 CALL	_Set_White
(0168) 		   cur=1;
    01454 E041      LDI	R20,1
    01455 E050      LDI	R21,0
(0169) 		   break;
    01456 C1BD      RJMP	0x1614
(0170) 		  case 4:
(0171) 		   Set_White_off(2,3,5);
    01457 E085      LDI	R24,5
    01458 8388      ST	Y,R24
    01459 E023      LDI	R18,3
    0145A E002      LDI	R16,2
    0145B 940E 0938 CALL	_Set_White_off
(0172) 		   Set_White(2,2,3);
    0145D E083      LDI	R24,3
    0145E 8388      ST	Y,R24
    0145F E022      LDI	R18,2
    01460 E002      LDI	R16,2
    01461 940E 09A8 CALL	_Set_White
(0173) 		   cur=2;
    01463 E042      LDI	R20,2
    01464 E050      LDI	R21,0
(0174) 		   break;
    01465 C1AE      RJMP	0x1614
(0175) 		  case 5:
(0176) 		   Set_White_off(6,3,7);
    01466 E087      LDI	R24,7
    01467 8388      ST	Y,R24
    01468 E023      LDI	R18,3
    01469 E006      LDI	R16,6
    0146A 940E 0938 CALL	_Set_White_off
(0177) 		   Set_White(7,2,8);
    0146C E088      LDI	R24,0x8
    0146D 8388      ST	Y,R24
    0146E E022      LDI	R18,2
    0146F E007      LDI	R16,7
    01470 940E 09A8 CALL	_Set_White
(0178) 		   cur=3;
    01472 E043      LDI	R20,3
    01473 E050      LDI	R21,0
(0179) 		   break;
    01474 C19F      RJMP	0x1614
(0180) 		  case 6:
(0181) 		   Set_White_off(10,3,11);
    01475 E08B      LDI	R24,0xB
    01476 8388      ST	Y,R24
    01477 E023      LDI	R18,3
    01478 E00A      LDI	R16,0xA
    01479 940E 0938 CALL	_Set_White_off
(0182) 		   Set_White(7,2,8);
    0147B E088      LDI	R24,0x8
    0147C 8388      ST	Y,R24
    0147D E022      LDI	R18,2
    0147E E007      LDI	R16,7
    0147F 940E 09A8 CALL	_Set_White
(0183) 		   cur=3;
    01481 E043      LDI	R20,3
    01482 E050      LDI	R21,0
(0184) 		   break;
(0185) 		  default:
(0186) 		   break;
(0187) 		 }
(0188) 	}else if(keyV=='l'){switch(cur){
    01483 C190      RJMP	0x1614
    01484 2D8A      MOV	R24,R10
    01485 368C      CPI	R24,0x6C
    01486 F009      BEQ	0x1488
    01487 C04D      RJMP	0x14D5
    01488 3041      CPI	R20,1
    01489 E0E0      LDI	R30,0
    0148A 075E      CPC	R21,R30
    0148B F069      BEQ	0x1499
    0148C 3043      CPI	R20,3
    0148D E0E0      LDI	R30,0
    0148E 075E      CPC	R21,R30
    0148F F0C1      BEQ	0x14A8
    01490 3045      CPI	R20,5
    01491 E0E0      LDI	R30,0
    01492 075E      CPC	R21,R30
    01493 F119      BEQ	0x14B7
    01494 3046      CPI	R20,6
    01495 E0E0      LDI	R30,0
    01496 075E      CPC	R21,R30
    01497 F171      BEQ	0x14C6
    01498 C17B      RJMP	0x1614
(0189) 		  case 1:
(0190) 		   Set_White_off(7,1,8);
    01499 E088      LDI	R24,0x8
    0149A 8388      ST	Y,R24
    0149B E021      LDI	R18,1
    0149C E007      LDI	R16,7
    0149D 940E 0938 CALL	_Set_White_off
(0191) 		   Set_White(2,1,3);
    0149F E083      LDI	R24,3
    014A0 8388      ST	Y,R24
    014A1 E021      LDI	R18,1
    014A2 E002      LDI	R16,2
    014A3 940E 09A8 CALL	_Set_White
(0192) 		   cur=0;
    014A5 2744      CLR	R20
    014A6 2755      CLR	R21
(0193) 		   break;
    014A7 C16C      RJMP	0x1614
(0194) 		  case 3:
(0195) 		   Set_White_off(7,2,8);
    014A8 E088      LDI	R24,0x8
    014A9 8388      ST	Y,R24
    014AA E022      LDI	R18,2
    014AB E007      LDI	R16,7
    014AC 940E 0938 CALL	_Set_White_off
(0196) 		   Set_White(2,2,3);
    014AE E083      LDI	R24,3
    014AF 8388      ST	Y,R24
    014B0 E022      LDI	R18,2
    014B1 E002      LDI	R16,2
    014B2 940E 09A8 CALL	_Set_White
(0197) 		   cur=2;
    014B4 E042      LDI	R20,2
    014B5 E050      LDI	R21,0
(0198) 		   break;
    014B6 C15D      RJMP	0x1614
(0199) 		  case 5:
(0200) 		   Set_White_off(6,3,7);
    014B7 E087      LDI	R24,7
    014B8 8388      ST	Y,R24
    014B9 E023      LDI	R18,3
    014BA E006      LDI	R16,6
    014BB 940E 0938 CALL	_Set_White_off
(0201) 		   Set_White(2,3,3);
    014BD E083      LDI	R24,3
    014BE 8388      ST	Y,R24
    014BF E023      LDI	R18,3
    014C0 E002      LDI	R16,2
    014C1 940E 09A8 CALL	_Set_White
(0202) 		   cur=4;
    014C3 E044      LDI	R20,4
    014C4 E050      LDI	R21,0
(0203) 		   break;
    014C5 C14E      RJMP	0x1614
(0204) 		  case 6:
(0205) 		   Set_White_off(10,3,11);
    014C6 E08B      LDI	R24,0xB
    014C7 8388      ST	Y,R24
    014C8 E023      LDI	R18,3
    014C9 E00A      LDI	R16,0xA
    014CA 940E 0938 CALL	_Set_White_off
(0206) 		   Set_White(6,3,7);
    014CC E087      LDI	R24,7
    014CD 8388      ST	Y,R24
    014CE E023      LDI	R18,3
    014CF E006      LDI	R16,6
    014D0 940E 09A8 CALL	_Set_White
(0207) 		   cur=5;
    014D2 E045      LDI	R20,5
    014D3 E050      LDI	R21,0
(0208) 		   break;
(0209) 		  default:
(0210) 		   break;
(0211) 		 }
(0212) 	}else if(keyV=='r'){
    014D4 C13F      RJMP	0x1614
    014D5 2D8A      MOV	R24,R10
    014D6 3782      CPI	R24,0x72
    014D7 F009      BEQ	0x14D9
    014D8 C04C      RJMP	0x1525
(0213) 	switch(cur){
    014D9 3040      CPI	R20,0
    014DA 0745      CPC	R20,R21
    014DB F069      BEQ	0x14E9
    014DC 3042      CPI	R20,2
    014DD E0E0      LDI	R30,0
    014DE 075E      CPC	R21,R30
    014DF F0C1      BEQ	0x14F8
    014E0 3044      CPI	R20,4
    014E1 E0E0      LDI	R30,0
    014E2 075E      CPC	R21,R30
    014E3 F119      BEQ	0x1507
    014E4 3045      CPI	R20,5
    014E5 E0E0      LDI	R30,0
    014E6 075E      CPC	R21,R30
    014E7 F171      BEQ	0x1516
    014E8 C12B      RJMP	0x1614
(0214) 		  case 0:
(0215) 		   Set_White_off(2,1,3);
    014E9 E083      LDI	R24,3
    014EA 8388      ST	Y,R24
    014EB E021      LDI	R18,1
    014EC E002      LDI	R16,2
    014ED 940E 0938 CALL	_Set_White_off
(0216) 		   Set_White(7,1,8);
    014EF E088      LDI	R24,0x8
    014F0 8388      ST	Y,R24
    014F1 E021      LDI	R18,1
    014F2 E007      LDI	R16,7
    014F3 940E 09A8 CALL	_Set_White
(0217) 		   cur=1;
    014F5 E041      LDI	R20,1
    014F6 E050      LDI	R21,0
(0218) 		   break;
    014F7 C11C      RJMP	0x1614
(0219) 		  case 2:
(0220) 		   Set_White_off(2,2,3);
    014F8 E083      LDI	R24,3
    014F9 8388      ST	Y,R24
    014FA E022      LDI	R18,2
    014FB E002      LDI	R16,2
    014FC 940E 0938 CALL	_Set_White_off
(0221) 		   Set_White(7,2,8);
    014FE E088      LDI	R24,0x8
    014FF 8388      ST	Y,R24
    01500 E022      LDI	R18,2
    01501 E007      LDI	R16,7
    01502 940E 09A8 CALL	_Set_White
(0222) 		   cur=3;
    01504 E043      LDI	R20,3
    01505 E050      LDI	R21,0
(0223) 		   break;
    01506 C10D      RJMP	0x1614
(0224) 		  case 4:
(0225) 		   Set_White_off(2,3,3);
    01507 E083      LDI	R24,3
    01508 8388      ST	Y,R24
    01509 E023      LDI	R18,3
    0150A E002      LDI	R16,2
    0150B 940E 0938 CALL	_Set_White_off
(0226) 		   Set_White(6,3,7);
    0150D E087      LDI	R24,7
    0150E 8388      ST	Y,R24
    0150F E023      LDI	R18,3
    01510 E006      LDI	R16,6
    01511 940E 09A8 CALL	_Set_White
(0227) 		   cur=5;
    01513 E045      LDI	R20,5
    01514 E050      LDI	R21,0
(0228) 		   break;
    01515 C0FE      RJMP	0x1614
(0229) 		  case 5:
(0230) 		   Set_White_off(6,3,7);
    01516 E087      LDI	R24,7
    01517 8388      ST	Y,R24
    01518 E023      LDI	R18,3
    01519 E006      LDI	R16,6
    0151A 940E 0938 CALL	_Set_White_off
(0231) 		   Set_White(10,3,11);
    0151C E08B      LDI	R24,0xB
    0151D 8388      ST	Y,R24
    0151E E023      LDI	R18,3
    0151F E00A      LDI	R16,0xA
    01520 940E 09A8 CALL	_Set_White
(0232) 		   cur=6;
    01522 E046      LDI	R20,6
    01523 E050      LDI	R21,0
(0233) 		   break;
(0234) 		  default:
(0235) 		   break;
(0236) 		 }
(0237) 	}else if(keyV=='s'){
    01524 C0EF      RJMP	0x1614
    01525 2D8A      MOV	R24,R10
    01526 3783      CPI	R24,0x73
    01527 F009      BEQ	0x1529
    01528 C053      RJMP	0x157C
(0238) 	   pageNum=5;
    01529 E085      LDI	R24,5
    0152A E090      LDI	R25,0
    0152B 9390 0A8C STS	pageNum+1,R25
    0152D 9380 0A8B STS	pageNum,R24
(0239) 	   switch(cur){
    0152F 3040      CPI	R20,0
    01530 0745      CPC	R20,R21
    01531 F0C9      BEQ	0x154B
    01532 3041      CPI	R20,1
    01533 E0E0      LDI	R30,0
    01534 075E      CPC	R21,R30
    01535 F0E1      BEQ	0x1552
    01536 3042      CPI	R20,2
    01537 E0E0      LDI	R30,0
    01538 075E      CPC	R21,R30
    01539 F0F9      BEQ	0x1559
    0153A 3043      CPI	R20,3
    0153B E0E0      LDI	R30,0
    0153C 075E      CPC	R21,R30
    0153D F111      BEQ	0x1560
    0153E 3044      CPI	R20,4
    0153F E0E0      LDI	R30,0
    01540 075E      CPC	R21,R30
    01541 F129      BEQ	0x1567
    01542 3045      CPI	R20,5
    01543 E0E0      LDI	R30,0
    01544 075E      CPC	R21,R30
    01545 F141      BEQ	0x156E
    01546 3046      CPI	R20,6
    01547 E0E0      LDI	R30,0
    01548 075E      CPC	R21,R30
    01549 F159      BEQ	0x1575
    0154A C0CA      RJMP	0x1615
(0240) 		 case 0: 
(0241) 		    Set_White_off(2,1,3);
    0154B E083      LDI	R24,3
    0154C 8388      ST	Y,R24
    0154D E021      LDI	R18,1
    0154E E002      LDI	R16,2
    0154F 940E 0938 CALL	_Set_White_off
(0242) 		    break;
    01551 C0C3      RJMP	0x1615
(0243) 		 case 1:
(0244) 		   Set_White_off(7,1,8);
    01552 E088      LDI	R24,0x8
    01553 8388      ST	Y,R24
    01554 E021      LDI	R18,1
    01555 E007      LDI	R16,7
    01556 940E 0938 CALL	_Set_White_off
(0245) 		   break;
    01558 C0BC      RJMP	0x1615
(0246) 		 case 2:
(0247) 		  Set_White_off(2,2,3);
    01559 E083      LDI	R24,3
    0155A 8388      ST	Y,R24
    0155B E022      LDI	R18,2
    0155C E002      LDI	R16,2
    0155D 940E 0938 CALL	_Set_White_off
(0248) 		  break;
    0155F C0B5      RJMP	0x1615
(0249) 		 case 3:
(0250) 		   Set_White_off(7,2,8);
    01560 E088      LDI	R24,0x8
    01561 8388      ST	Y,R24
    01562 E022      LDI	R18,2
    01563 E007      LDI	R16,7
    01564 940E 0938 CALL	_Set_White_off
(0251) 		    break;
    01566 C0AE      RJMP	0x1615
(0252) 		 case 4:
(0253) 		    Set_White_off(2,3,3);
    01567 E083      LDI	R24,3
    01568 8388      ST	Y,R24
    01569 E023      LDI	R18,3
    0156A E002      LDI	R16,2
    0156B 940E 0938 CALL	_Set_White_off
(0254) 		    break;
    0156D C0A7      RJMP	0x1615
(0255) 		case 5:
(0256) 		    Set_White_off(6,3,7);
    0156E E087      LDI	R24,7
    0156F 8388      ST	Y,R24
    01570 E023      LDI	R18,3
    01571 E006      LDI	R16,6
    01572 940E 0938 CALL	_Set_White_off
(0257) 		    break;
    01574 C0A0      RJMP	0x1615
(0258) 		 case 6:
(0259) 		   Set_White_off(10,3,11);
    01575 E08B      LDI	R24,0xB
    01576 8388      ST	Y,R24
    01577 E023      LDI	R18,3
    01578 E00A      LDI	R16,0xA
    01579 940E 0938 CALL	_Set_White_off
(0260) 		    break;
(0261) 		  default:
(0262) 		   break;
(0263) 		 }
(0264) 	   return ;
    0157B C099      RJMP	0x1615
(0265) 	}else if(keyV=='t'){
    0157C 2D8A      MOV	R24,R10
    0157D 3784      CPI	R24,0x74
    0157E F009      BEQ	0x1580
    0157F C094      RJMP	0x1614
(0266) 	   switch(cur){
    01580 3040      CPI	R20,0
    01581 0745      CPC	R20,R21
    01582 F0F1      BEQ	0x15A1
    01583 3041      CPI	R20,1
    01584 E0E0      LDI	R30,0
    01585 075E      CPC	R21,R30
    01586 F191      BEQ	0x15B9
    01587 3042      CPI	R20,2
    01588 E0E0      LDI	R30,0
    01589 075E      CPC	R21,R30
    0158A F409      BNE	0x158C
    0158B C043      RJMP	0x15CF
    0158C 3043      CPI	R20,3
    0158D E0E0      LDI	R30,0
    0158E 075E      CPC	R21,R30
    0158F F409      BNE	0x1591
    01590 C055      RJMP	0x15E6
    01591 3044      CPI	R20,4
    01592 E0E0      LDI	R30,0
    01593 075E      CPC	R21,R30
    01594 F409      BNE	0x1596
    01595 C066      RJMP	0x15FC
    01596 3045      CPI	R20,5
    01597 E0E0      LDI	R30,0
    01598 075E      CPC	R21,R30
    01599 F409      BNE	0x159B
    0159A C064      RJMP	0x15FF
    0159B 3046      CPI	R20,6
    0159C E0E0      LDI	R30,0
    0159D 075E      CPC	R21,R30
    0159E F409      BNE	0x15A0
    0159F C062      RJMP	0x1602
    015A0 C073      RJMP	0x1614
(0267) 		 case 0: 
(0268) 		    Set_White_off(2,1,3);
    015A1 E083      LDI	R24,3
    015A2 8388      ST	Y,R24
    015A3 E021      LDI	R18,1
    015A4 E002      LDI	R16,2
    015A5 940E 0938 CALL	_Set_White_off
(0269) 		    prePageNum=1;
    015A7 E081      LDI	R24,1
    015A8 E090      LDI	R25,0
    015A9 9390 0A80 STS	prePageNum+1,R25
    015AB 9380 0A7F STS	prePageNum,R24
(0270) 		    pageParam[0]=0;//传递使用第一个，对应不同的温度
    015AD 2422      CLR	R2
    015AE 2433      CLR	R3
    015AF 9230 0A82 STS	pageParam+1,R3
    015B1 9220 0A81 STS	pageParam,R2
(0271) 		    pageNum=3;
    015B3 E083      LDI	R24,3
    015B4 9390 0A8C STS	pageNum+1,R25
    015B6 9380 0A8B STS	pageNum,R24
(0272) 		    return;
    015B8 C05C      RJMP	0x1615
(0273) 		 case 1:
(0274) 		   Set_White_off(7,1,8);
    015B9 E088      LDI	R24,0x8
    015BA 8388      ST	Y,R24
    015BB E021      LDI	R18,1
    015BC E007      LDI	R16,7
    015BD 940E 0938 CALL	_Set_White_off
(0275) 		    prePageNum=1;
    015BF E081      LDI	R24,1
    015C0 E090      LDI	R25,0
    015C1 9390 0A80 STS	prePageNum+1,R25
    015C3 9380 0A7F STS	prePageNum,R24
(0276) 		   pageParam[0]=1;//传递使用第一个，对应不同的温度
    015C5 9390 0A82 STS	pageParam+1,R25
    015C7 9380 0A81 STS	pageParam,R24
(0277) 		    pageNum=3;
    015C9 E083      LDI	R24,3
    015CA 9390 0A8C STS	pageNum+1,R25
    015CC 9380 0A8B STS	pageNum,R24
(0278) 		    return;
    015CE C046      RJMP	0x1615
(0279) 		 case 2:
(0280) 		  Set_White_off(2,2,3);
    015CF E083      LDI	R24,3
    015D0 8388      ST	Y,R24
    015D1 E022      LDI	R18,2
    015D2 E002      LDI	R16,2
    015D3 940E 0938 CALL	_Set_White_off
(0281) 		    prePageNum=1;
    015D5 E081      LDI	R24,1
    015D6 E090      LDI	R25,0
    015D7 9390 0A80 STS	prePageNum+1,R25
    015D9 9380 0A7F STS	prePageNum,R24
(0282) 		    pageParam[0]=2;//传递使用第一个，对应不同的温度
    015DB E082      LDI	R24,2
    015DC 9390 0A82 STS	pageParam+1,R25
    015DE 9380 0A81 STS	pageParam,R24
(0283) 		   pageNum=3;
    015E0 E083      LDI	R24,3
    015E1 9390 0A8C STS	pageNum+1,R25
    015E3 9380 0A8B STS	pageNum,R24
(0284) 		   return;
    015E5 C02F      RJMP	0x1615
(0285) 		 case 3:
(0286) 		   Set_White_off(7,2,8);
    015E6 E088      LDI	R24,0x8
    015E7 8388      ST	Y,R24
    015E8 E022      LDI	R18,2
    015E9 E007      LDI	R16,7
    015EA 940E 0938 CALL	_Set_White_off
(0287) 		     prePageNum=1;
    015EC E081      LDI	R24,1
    015ED E090      LDI	R25,0
    015EE 9390 0A80 STS	prePageNum+1,R25
    015F0 9380 0A7F STS	prePageNum,R24
(0288) 		    pageParam[0]=3;//传递使用第一个，对应不同的温度
    015F2 E083      LDI	R24,3
    015F3 9390 0A82 STS	pageParam+1,R25
    015F5 9380 0A81 STS	pageParam,R24
(0289) 		    pageNum=3;
    015F7 9390 0A8C STS	pageNum+1,R25
    015F9 9380 0A8B STS	pageNum,R24
(0290) 		    return;
    015FB C019      RJMP	0x1615
(0291) 		 case 4:
(0292) 		    //调用函数全部开始，参数正确的
(0293) 			set_all_start();
    015FC 940E 35A6 CALL	_set_all_start
(0294) 		   break;
    015FE C015      RJMP	0x1614
(0295) 		 case 5:
(0296) 		    //全部停止
(0297) 			set_all_stop();
    015FF 940E 35F2 CALL	_set_all_stop
(0298) 		   break;
    01601 C012      RJMP	0x1614
(0299) 		 case 6://设置
(0300) 		   Set_White_off(10,3,11);
    01602 E08B      LDI	R24,0xB
    01603 8388      ST	Y,R24
    01604 E023      LDI	R18,3
    01605 E00A      LDI	R16,0xA
    01606 940E 0938 CALL	_Set_White_off
(0301) 		   prePageNum=1;
    01608 E081      LDI	R24,1
    01609 E090      LDI	R25,0
    0160A 9390 0A80 STS	prePageNum+1,R25
    0160C 9380 0A7F STS	prePageNum,R24
(0302) 		   pageNum=5;
    0160E E085      LDI	R24,5
    0160F 9390 0A8C STS	pageNum+1,R25
    01611 9380 0A8B STS	pageNum,R24
(0303) 		    return;
    01613 C001      RJMP	0x1615
    01614 CC82      RJMP	0x1297
    01615 9622      ADIW	R28,2
    01616 940C 3A0B JMP	pop_xgsetF03C
_page2:
  ft2                  --> R10
  ft1                  --> R12
  ft0                  --> R14
  ft3                  --> R22
  cur                  --> R20
  keyV                 --> R10
    01618 940E 39C7 CALL	push_xgsetF0FC
    0161A 9722      SBIW	R28,2
(0304) 		  default:
(0305) 		   break;
(0306) 		 }
(0307) 	
(0308) 	}
(0309)   }
(0310)    return;
(0311) }
(0312)  void page2(void){
(0313)    uint cur=0;
    0161B 2744      CLR	R20
    0161C 2755      CLR	R21
(0314)    uchar keyV;
(0315)    uint ft0,ft1,ft2,ft3;
(0316)    ft0=EEPROM_read(1,0);
    0161D 2722      CLR	R18
    0161E 2733      CLR	R19
    0161F E001      LDI	R16,1
    01620 E010      LDI	R17,0
    01621 940E 120F CALL	_EEPROM_read
    01623 0178      MOVW	R14,R16
(0317)    ft1=EEPROM_read(2,0);
    01624 2722      CLR	R18
    01625 2733      CLR	R19
    01626 E002      LDI	R16,2
    01627 E010      LDI	R17,0
    01628 940E 120F CALL	_EEPROM_read
    0162A 0168      MOVW	R12,R16
(0318)    ft2=EEPROM_read(3,0);
    0162B 2722      CLR	R18
    0162C 2733      CLR	R19
    0162D E003      LDI	R16,3
    0162E E010      LDI	R17,0
    0162F 940E 120F CALL	_EEPROM_read
    01631 0158      MOVW	R10,R16
(0319)    ft3=EEPROM_read(4,0);
    01632 2722      CLR	R18
    01633 2733      CLR	R19
    01634 E004      LDI	R16,4
    01635 E010      LDI	R17,0
    01636 940E 120F CALL	_EEPROM_read
    01638 01B8      MOVW	R22,R16
(0320)  if(!(ft0==0 && ft1==0 && ft2==0 && ft3==0)){//判断是否有数据，任何一个有数据就询问是否恢复
    01639 20EE      TST	R14
    0163A F471      BNE	0x1649
    0163B 20FF      TST	R15
    0163C F461      BNE	0x1649
    0163D 20CC      TST	R12
    0163E F451      BNE	0x1649
    0163F 20DD      TST	R13
    01640 F441      BNE	0x1649
    01641 20AA      TST	R10
    01642 F431      BNE	0x1649
    01643 20BB      TST	R11
    01644 F421      BNE	0x1649
    01645 3000      CPI	R16,0
    01646 0701      CPC	R16,R17
    01647 F409      BNE	0x1649
    01648 C103      RJMP	0x174C
(0321)    //初始画面，会有读取EEPROM的判断默认操作，本次只是画界面
(0322)    lcd_write_str(2,0,"是否恢复上次工作");
    01649 E281      LDI	R24,0x21
    0164A E09A      LDI	R25,0xA
    0164B 8399      STD	Y+1,R25
    0164C 8388      ST	Y,R24
    0164D 2722      CLR	R18
    0164E E002      LDI	R16,2
    0164F 940E 0783 CALL	_lcd_write_str
(0323)    lcd_write_str(2,2,"恢复");
    01651 E18C      LDI	R24,0x1C
    01652 E09A      LDI	R25,0xA
    01653 8399      STD	Y+1,R25
    01654 8388      ST	Y,R24
    01655 E022      LDI	R18,2
    01656 E002      LDI	R16,2
    01657 940E 0783 CALL	_lcd_write_str
(0324)    lcd_write_str(8,2,"取消");
    01659 E187      LDI	R24,0x17
    0165A E09A      LDI	R25,0xA
    0165B 8399      STD	Y+1,R25
    0165C 8388      ST	Y,R24
    0165D E022      LDI	R18,2
    0165E E008      LDI	R16,0x8
    0165F 940E 0783 CALL	_lcd_write_str
(0325)    ft3=EEPROM_read(0,0);//复用读取首选项
    01661 2722      CLR	R18
    01662 2733      CLR	R19
    01663 2700      CLR	R16
    01664 2711      CLR	R17
    01665 940E 120F CALL	_EEPROM_read
    01667 0158      MOVW	R10,R16
    01668 01B5      MOVW	R22,R10
(0326)    if(ft3==1){//默认恢复
    01669 3001      CPI	R16,1
    0166A E0E0      LDI	R30,0
    0166B 071E      CPC	R17,R30
    0166C F449      BNE	0x1676
(0327)      cur=0;
    0166D 2744      CLR	R20
    0166E 2755      CLR	R21
(0328)      Set_White(3,2,4);
    0166F E084      LDI	R24,4
    01670 8388      ST	Y,R24
    01671 E022      LDI	R18,2
    01672 E003      LDI	R16,3
    01673 940E 09A8 CALL	_Set_White
(0329)    }else{
    01675 C008      RJMP	0x167E
(0330)      cur=1;
    01676 E041      LDI	R20,1
    01677 E050      LDI	R21,0
(0331)      Set_White(9,2,10);
    01678 E08A      LDI	R24,0xA
    01679 8388      ST	Y,R24
    0167A E022      LDI	R18,2
    0167B E009      LDI	R16,0x9
    0167C 940E 09A8 CALL	_Set_White
(0332)    }
(0333)    Timerinit_0(0x00); //使用定时器，定时一段时间更改标记，while中读取这个标记确定是否结束while
    0167E 2700      CLR	R16
    0167F 940E 0B0C CALL	_Timerinit_0
    01681 C0C9      RJMP	0x174B
(0334)     while(1){
(0335) 	if(waitflag==1){
    01682 9180 0337 LDS	R24,waitflag
    01684 9190 0338 LDS	R25,waitflag+1
    01686 3081      CPI	R24,1
    01687 E0E0      LDI	R30,0
    01688 079E      CPC	R25,R30
    01689 F591      BNE	0x16BC
(0336) 	  //执行相关操作
(0337) 		   Set_White_off(9,2,10);
    0168A E08A      LDI	R24,0xA
    0168B 8388      ST	Y,R24
    0168C E022      LDI	R18,2
    0168D E009      LDI	R16,0x9
    0168E 940E 0938 CALL	_Set_White_off
(0338) 		    Set_White_off(3,2,4);
    01690 E084      LDI	R24,4
    01691 8388      ST	Y,R24
    01692 E022      LDI	R18,2
    01693 E003      LDI	R16,3
    01694 940E 0938 CALL	_Set_White_off
(0339) 			if(cur==0){
    01696 3040      CPI	R20,0
    01697 0745      CPC	R20,R21
    01698 F481      BNE	0x16A9
(0340) 			  lcd_clear();
    01699 940E 083A CALL	_lcd_clear
(0341) 			  lcd_write_str(5,2,"恢复中. . .");
    0169B E08B      LDI	R24,0xB
    0169C E09A      LDI	R25,0xA
    0169D 8399      STD	Y+1,R25
    0169E 8388      ST	Y,R24
    0169F E022      LDI	R18,2
    016A0 E005      LDI	R16,5
    016A1 940E 0783 CALL	_lcd_write_str
(0342) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    016A3 940E 3252 CALL	_data_recover
(0343) 			  delay_ms(200);
    016A5 EC08      LDI	R16,0xC8
    016A6 E010      LDI	R17,0
    016A7 940E 0533 CALL	_delay_ms
(0344) 			}
(0345) 		  pageNum=1;
    016A9 E081      LDI	R24,1
    016AA E090      LDI	R25,0
    016AB 9390 0A8C STS	pageNum+1,R25
    016AD 9380 0A8B STS	pageNum,R24
(0346) 		  t0_flag=1;
    016AF 9390 0336 STS	t0_flag+1,R25
    016B1 9380 0335 STS	t0_flag,R24
(0347) 		  waitflag=32;
    016B3 E280      LDI	R24,0x20
    016B4 9390 0338 STS	waitflag+1,R25
    016B6 9380 0337 STS	waitflag,R24
(0348) 		  Timerinit_0(0x00);//计时器功能改变，用作读取温度使用.32次计数完成0.5s
    016B8 2700      CLR	R16
    016B9 940E 0B0C CALL	_Timerinit_0
(0349) 		  return;
    016BB C0A2      RJMP	0x175E
(0350) 	  }
(0351)       keyV=KeyScan_once();
    016BC 940E 0620 CALL	_KeyScan_once
    016BE 2EA0      MOV	R10,R16
(0352) 	  switch(keyV){
    016BF 2D6A      MOV	R22,R10
    016C0 2777      CLR	R23
    016C1 366C      CPI	R22,0x6C
    016C2 E0E0      LDI	R30,0
    016C3 077E      CPC	R23,R30
    016C4 F079      BEQ	0x16D4
    016C5 366C      CPI	R22,0x6C
    016C6 E0E0      LDI	R30,0
    016C7 077E      CPC	R23,R30
    016C8 F40C      BGE	0x16CA
    016C9 C081      RJMP	0x174B
    016CA 3762      CPI	R22,0x72
    016CB E0E0      LDI	R30,0
    016CC 077E      CPC	R23,R30
    016CD F141      BEQ	0x16F6
    016CE 3764      CPI	R22,0x74
    016CF E0E0      LDI	R30,0
    016D0 077E      CPC	R23,R30
    016D1 F409      BNE	0x16D3
    016D2 C044      RJMP	0x1717
    016D3 C077      RJMP	0x174B
(0353) 	    case 'l':
(0354) 		   TCCR0=0x00;//定时器停止
    016D4 2422      CLR	R2
    016D5 BE23      OUT	0x33,R2
(0355) 		   lcd_write_char(10,0,' ');
    016D6 E280      LDI	R24,0x20
    016D7 8388      ST	Y,R24
    016D8 2722      CLR	R18
    016D9 E00A      LDI	R16,0xA
    016DA 940E 075D CALL	_lcd_write_char
(0356) 	       lcd_write_char(11,0,' ');	
    016DC E280      LDI	R24,0x20
    016DD 8388      ST	Y,R24
    016DE 2722      CLR	R18
    016DF E00B      LDI	R16,0xB
    016E0 940E 075D CALL	_lcd_write_char
(0357) 		   if(cur==1){
    016E2 3041      CPI	R20,1
    016E3 E0E0      LDI	R30,0
    016E4 075E      CPC	R21,R30
    016E5 F009      BEQ	0x16E7
    016E6 C064      RJMP	0x174B
(0358) 		      Set_White_off(9,2,10);
    016E7 E08A      LDI	R24,0xA
    016E8 8388      ST	Y,R24
    016E9 E022      LDI	R18,2
    016EA E009      LDI	R16,0x9
    016EB 940E 0938 CALL	_Set_White_off
(0359) 		      Set_White(3,2,4);
    016ED E084      LDI	R24,4
    016EE 8388      ST	Y,R24
    016EF E022      LDI	R18,2
    016F0 E003      LDI	R16,3
    016F1 940E 09A8 CALL	_Set_White
(0360) 			  cur=0;
    016F3 2744      CLR	R20
    016F4 2755      CLR	R21
(0361) 		   }
(0362) 		   break;
    016F5 C055      RJMP	0x174B
(0363) 		case 'r':
(0364) 		   TCCR0=0x00;//定时器停止
    016F6 2422      CLR	R2
    016F7 BE23      OUT	0x33,R2
(0365) 		   lcd_write_char(10,0,' ');
    016F8 E280      LDI	R24,0x20
    016F9 8388      ST	Y,R24
    016FA 2722      CLR	R18
    016FB E00A      LDI	R16,0xA
    016FC 940E 075D CALL	_lcd_write_char
(0366) 	       lcd_write_char(11,0,' ');	
    016FE E280      LDI	R24,0x20
    016FF 8388      ST	Y,R24
    01700 2722      CLR	R18
    01701 E00B      LDI	R16,0xB
    01702 940E 075D CALL	_lcd_write_char
(0367) 		   if(cur==0){
    01704 3040      CPI	R20,0
    01705 0745      CPC	R20,R21
    01706 F009      BEQ	0x1708
    01707 C043      RJMP	0x174B
(0368) 		      Set_White_off(3,2,4);
    01708 E084      LDI	R24,4
    01709 8388      ST	Y,R24
    0170A E022      LDI	R18,2
    0170B E003      LDI	R16,3
    0170C 940E 0938 CALL	_Set_White_off
(0369) 		      Set_White(9,2,10);
    0170E E08A      LDI	R24,0xA
    0170F 8388      ST	Y,R24
    01710 E022      LDI	R18,2
    01711 E009      LDI	R16,0x9
    01712 940E 09A8 CALL	_Set_White
(0370) 			  cur=1;
    01714 E041      LDI	R20,1
    01715 E050      LDI	R21,0
(0371) 		   }
(0372) 		   
(0373) 		  break;
    01716 C034      RJMP	0x174B
(0374) 		case 't':
(0375) 		  //执行相关操作
(0376) 		   TCCR0=0x00;//定时器停止
    01717 2422      CLR	R2
    01718 BE23      OUT	0x33,R2
(0377) 		   Set_White_off(9,2,10);
    01719 E08A      LDI	R24,0xA
    0171A 8388      ST	Y,R24
    0171B E022      LDI	R18,2
    0171C E009      LDI	R16,0x9
    0171D 940E 0938 CALL	_Set_White_off
(0378) 		    Set_White_off(3,2,4);
    0171F E084      LDI	R24,4
    01720 8388      ST	Y,R24
    01721 E022      LDI	R18,2
    01722 E003      LDI	R16,3
    01723 940E 0938 CALL	_Set_White_off
(0379) 			if(cur==0){
    01725 3040      CPI	R20,0
    01726 0745      CPC	R20,R21
    01727 F481      BNE	0x1738
(0380) 			  lcd_clear();
    01728 940E 083A CALL	_lcd_clear
(0381) 			  lcd_write_str(5,2,"恢复中. . .");
    0172A E08B      LDI	R24,0xB
    0172B E09A      LDI	R25,0xA
    0172C 8399      STD	Y+1,R25
    0172D 8388      ST	Y,R24
    0172E E022      LDI	R18,2
    0172F E005      LDI	R16,5
    01730 940E 0783 CALL	_lcd_write_str
(0382) 			  data_recover();//恢复数据，可以跳转到界面后操作。暂时放在这
    01732 940E 3252 CALL	_data_recover
(0383) 			  delay_ms(200);
    01734 EC08      LDI	R16,0xC8
    01735 E010      LDI	R17,0
    01736 940E 0533 CALL	_delay_ms
(0384) 			}
(0385) 		  pageNum=1;
    01738 E081      LDI	R24,1
    01739 E090      LDI	R25,0
    0173A 9390 0A8C STS	pageNum+1,R25
    0173C 9380 0A8B STS	pageNum,R24
(0386) 		  t0_flag=1;
    0173E 9390 0336 STS	t0_flag+1,R25
    01740 9380 0335 STS	t0_flag,R24
(0387) 		  waitflag=32;
    01742 E280      LDI	R24,0x20
    01743 9390 0338 STS	waitflag+1,R25
    01745 9380 0337 STS	waitflag,R24
(0388) 		  Timerinit_0(0x00);//计时器功能改变，用作读取温度使用.32次计数完成0.5s
    01747 2700      CLR	R16
    01748 940E 0B0C CALL	_Timerinit_0
(0389) 		  return;
    0174A C013      RJMP	0x175E
    0174B CF36      RJMP	0x1682
(0390) 	  }
(0391) 	}
(0392)   }else{
(0393)      pageNum=1;
    0174C E081      LDI	R24,1
    0174D E090      LDI	R25,0
    0174E 9390 0A8C STS	pageNum+1,R25
    01750 9380 0A8B STS	pageNum,R24
(0394) 	 t0_flag=1;
    01752 9390 0336 STS	t0_flag+1,R25
    01754 9380 0335 STS	t0_flag,R24
(0395) 	 waitflag=32;
    01756 E280      LDI	R24,0x20
    01757 9390 0338 STS	waitflag+1,R25
    01759 9380 0337 STS	waitflag,R24
(0396) 	 Timerinit_0(0x00);//计时器功能改变，用作读取温度使用.32次计数完成0.5s
    0175B 2700      CLR	R16
    0175C 940E 0B0C CALL	_Timerinit_0
(0397)      return;
    0175E 9622      ADIW	R28,2
    0175F 940C 39BC JMP	pop_xgsetF0FC
_page3:
  cur                  --> R20
  timecache            --> R22
  keyV                 --> R22
    01761 940E 39DC CALL	push_xgsetF000
    01763 9722      SBIW	R28,2
(0398)   }
(0399)  }
(0400)  void page3(void){
(0401)   uint cur=0;
    01764 2744      CLR	R20
    01765 2755      CLR	R21
(0402)    uchar keyV;
(0403)    uint timecache;
(0404)    lcd_write_str(0,0,"T");
    01766 E089      LDI	R24,0x9
    01767 E09A      LDI	R25,0xA
    01768 8399      STD	Y+1,R25
    01769 8388      ST	Y,R24
    0176A 2722      CLR	R18
    0176B 2700      CLR	R16
    0176C 940E 0783 CALL	_lcd_write_str
(0405)     lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    0176E 9120 0A81 LDS	R18,pageParam
    01770 9130 0A82 LDS	R19,pageParam+1
    01772 5F2F      SUBI	R18,0xFF
    01773 4F3F      SBCI	R19,0xFF
    01774 6320      ORI	R18,0x30
    01775 2700      CLR	R16
    01776 940E 072B CALL	_lcd_write_char_con
(0406) 	lcd_write_char_con(0,':');
    01778 E32A      LDI	R18,0x3A
    01779 2700      CLR	R16
    0177A 940E 072B CALL	_lcd_write_char_con
(0407)    lcd_write_str(1,1,"温度:");
    0177C E083      LDI	R24,3
    0177D E09A      LDI	R25,0xA
    0177E 8399      STD	Y+1,R25
    0177F 8388      ST	Y,R24
    01780 E021      LDI	R18,1
    01781 E001      LDI	R16,1
    01782 940E 0783 CALL	_lcd_write_str
(0408)    lcd_write_str(7,1,"目标:");
    01784 EF8D      LDI	R24,0xFD
    01785 E099      LDI	R25,0x9
    01786 8399      STD	Y+1,R25
    01787 8388      ST	Y,R24
    01788 E021      LDI	R18,1
    01789 E007      LDI	R16,7
    0178A 940E 0783 CALL	_lcd_write_str
(0409)    lcd_write_str(1,2,"状态:");
    0178C EF87      LDI	R24,0xF7
    0178D E099      LDI	R25,0x9
    0178E 8399      STD	Y+1,R25
    0178F 8388      ST	Y,R24
    01790 E022      LDI	R18,2
    01791 E001      LDI	R16,1
    01792 940E 0783 CALL	_lcd_write_str
(0410)    lcd_write_str(0,3,"编辑");
    01794 EF82      LDI	R24,0xF2
    01795 E099      LDI	R25,0x9
    01796 8399      STD	Y+1,R25
    01797 8388      ST	Y,R24
    01798 E023      LDI	R18,3
    01799 2700      CLR	R16
    0179A 940E 0783 CALL	_lcd_write_str
(0411)    lcd_write_str(3,3,"运行");
    0179C EE8D      LDI	R24,0xED
    0179D E099      LDI	R25,0x9
    0179E 8399      STD	Y+1,R25
    0179F 8388      ST	Y,R24
    017A0 E023      LDI	R18,3
    017A1 E003      LDI	R16,3
    017A2 940E 0783 CALL	_lcd_write_str
(0412)    lcd_write_str(7,3,"暂停");
    017A4 E38C      LDI	R24,0x3C
    017A5 E09A      LDI	R25,0xA
    017A6 8399      STD	Y+1,R25
    017A7 8388      ST	Y,R24
    017A8 E023      LDI	R18,3
    017A9 E007      LDI	R16,7
    017AA 940E 0783 CALL	_lcd_write_str
(0413)    lcd_write_str(10,3,"重置");
    017AC EE88      LDI	R24,0xE8
    017AD E099      LDI	R25,0x9
    017AE 8399      STD	Y+1,R25
    017AF 8388      ST	Y,R24
    017B0 E023      LDI	R18,3
    017B1 E00A      LDI	R16,0xA
    017B2 940E 0783 CALL	_lcd_write_str
(0414)    Set_White(1,3,2);
    017B4 E082      LDI	R24,2
    017B5 8388      ST	Y,R24
    017B6 E023      LDI	R18,3
    017B7 E001      LDI	R16,1
    017B8 940E 09A8 CALL	_Set_White
    017BA C381      RJMP	0x1B3C
(0415)    //Set_White(9,2,10);
(0416)     while(1){
(0417) 	lcd_write_pos(2,0);
    017BB 2722      CLR	R18
    017BC E002      LDI	R16,2
    017BD 940E 073F CALL	_lcd_write_pos
(0418) 	pageTime2(0);
    017BF 2700      CLR	R16
    017C0 2711      CLR	R17
    017C1 DA76      RCALL	_pageTime2
(0419) 	//写温度
(0420) 	if(temps[pageParam[0]].flag!=2){
    017C2 9120 0A81 LDS	R18,pageParam
    017C4 9130 0A82 LDS	R19,pageParam+1
    017C6 E302      LDI	R16,0x32
    017C7 E011      LDI	R17,1
    017C8 940E 39A0 CALL	empy16s
    017CA E38D      LDI	R24,0x3D
    017CB E093      LDI	R25,3
    017CC 01F8      MOVW	R30,R16
    017CD 0FE8      ADD	R30,R24
    017CE 1FF9      ADC	R31,R25
    017CF 8180      LD	R24,Z
    017D0 8191      LDD	R25,Z+1
    017D1 3082      CPI	R24,2
    017D2 E0E0      LDI	R30,0
    017D3 079E      CPC	R25,R30
    017D4 F409      BNE	0x17D6
    017D5 C05C      RJMP	0x1832
(0421) 	  lcd_write_pos(4,1);
    017D6 E021      LDI	R18,1
    017D7 E004      LDI	R16,4
    017D8 940E 073F CALL	_lcd_write_pos
(0422) 	  lcd_write_char_con(1,0x30 | ((int)temps[pageParam[0]].actualtemp)/100);
    017DA 9120 0A81 LDS	R18,pageParam
    017DC 9130 0A82 LDS	R19,pageParam+1
    017DE E302      LDI	R16,0x32
    017DF E011      LDI	R17,1
    017E0 940E 39A0 CALL	empy16s
    017E2 E58F      LDI	R24,0x5F
    017E3 E094      LDI	R25,4
    017E4 01F8      MOVW	R30,R16
    017E5 0FE8      ADD	R30,R24
    017E6 1FF9      ADC	R31,R25
    017E7 8100      LD	R16,Z
    017E8 8111      LDD	R17,Z+1
    017E9 E624      LDI	R18,0x64
    017EA E030      LDI	R19,0
    017EB 940E 396A CALL	div16s
    017ED 0198      MOVW	R18,R16
    017EE 6320      ORI	R18,0x30
    017EF E001      LDI	R16,1
    017F0 940E 072B CALL	_lcd_write_char_con
(0423) 	  lcd_write_char_con(1,0x30 | (((int)temps[pageParam[0]].actualtemp)/10)%10);
    017F2 9120 0A81 LDS	R18,pageParam
    017F4 9130 0A82 LDS	R19,pageParam+1
    017F6 E302      LDI	R16,0x32
    017F7 E011      LDI	R17,1
    017F8 940E 39A0 CALL	empy16s
    017FA E58F      LDI	R24,0x5F
    017FB E094      LDI	R25,4
    017FC 01F8      MOVW	R30,R16
    017FD 0FE8      ADD	R30,R24
    017FE 1FF9      ADC	R31,R25
    017FF 8100      LD	R16,Z
    01800 8111      LDD	R17,Z+1
    01801 E02A      LDI	R18,0xA
    01802 E030      LDI	R19,0
    01803 940E 396A CALL	div16s
    01805 E02A      LDI	R18,0xA
    01806 E030      LDI	R19,0
    01807 940E 3966 CALL	mod16s
    01809 0198      MOVW	R18,R16
    0180A 6320      ORI	R18,0x30
    0180B E001      LDI	R16,1
    0180C 940E 072B CALL	_lcd_write_char_con
(0424) 	  lcd_write_char_con(1,0x30 | ((int)temps[pageParam[0]].actualtemp)%10);
    0180E 9120 0A81 LDS	R18,pageParam
    01810 9130 0A82 LDS	R19,pageParam+1
    01812 E302      LDI	R16,0x32
    01813 E011      LDI	R17,1
    01814 940E 39A0 CALL	empy16s
    01816 E58F      LDI	R24,0x5F
    01817 E094      LDI	R25,4
    01818 01F8      MOVW	R30,R16
    01819 0FE8      ADD	R30,R24
    0181A 1FF9      ADC	R31,R25
    0181B 8100      LD	R16,Z
    0181C 8111      LDD	R17,Z+1
    0181D E02A      LDI	R18,0xA
    0181E E030      LDI	R19,0
    0181F 940E 3966 CALL	mod16s
    01821 0198      MOVW	R18,R16
    01822 6320      ORI	R18,0x30
    01823 E001      LDI	R16,1
    01824 940E 072B CALL	_lcd_write_char_con
(0425) 	  lcd_write_char_con(1,' ');
    01826 E220      LDI	R18,0x20
    01827 E001      LDI	R16,1
    01828 940E 072B CALL	_lcd_write_char_con
(0426) 	  lcd_write_char_con(1,0xA1);
    0182A EA21      LDI	R18,0xA1
    0182B E001      LDI	R16,1
    0182C 940E 072B CALL	_lcd_write_char_con
(0427)       lcd_write_char_con(1,0xE6);
    0182E EE26      LDI	R18,0xE6
    0182F E001      LDI	R16,1
    01830 940E 072B CALL	_lcd_write_char_con
(0428) 	}
(0429) 	//数据需要读入
(0430) 	lcd_write_pos(4,2);
    01832 E022      LDI	R18,2
    01833 E004      LDI	R16,4
    01834 940E 073F CALL	_lcd_write_pos
(0431) 	switch(temps[pageParam[0]].flag){
    01836 9120 0A81 LDS	R18,pageParam
    01838 9130 0A82 LDS	R19,pageParam+1
    0183A E302      LDI	R16,0x32
    0183B E011      LDI	R17,1
    0183C 940E 39A0 CALL	empy16s
    0183E E38D      LDI	R24,0x3D
    0183F E093      LDI	R25,3
    01840 01F8      MOVW	R30,R16
    01841 0FE8      ADD	R30,R24
    01842 1FF9      ADC	R31,R25
    01843 8160      LD	R22,Z
    01844 8171      LDD	R23,Z+1
    01845 3060      CPI	R22,0
    01846 0767      CPC	R22,R23
    01847 F0F1      BEQ	0x1866
    01848 3061      CPI	R22,1
    01849 E0E0      LDI	R30,0
    0184A 077E      CPC	R23,R30
    0184B F199      BEQ	0x187F
    0184C 3062      CPI	R22,2
    0184D E0E0      LDI	R30,0
    0184E 077E      CPC	R23,R30
    0184F F409      BNE	0x1851
    01850 C16E      RJMP	0x19BF
    01851 3063      CPI	R22,3
    01852 E0E0      LDI	R30,0
    01853 077E      CPC	R23,R30
    01854 F409      BNE	0x1856
    01855 C182      RJMP	0x19D8
    01856 3064      CPI	R22,4
    01857 E0E0      LDI	R30,0
    01858 077E      CPC	R23,R30
    01859 F409      BNE	0x185B
    0185A C18E      RJMP	0x19E9
    0185B 3065      CPI	R22,5
    0185C E0E0      LDI	R30,0
    0185D 077E      CPC	R23,R30
    0185E F409      BNE	0x1860
    0185F C1A2      RJMP	0x1A02
    01860 3066      CPI	R22,6
    01861 E0E0      LDI	R30,0
    01862 077E      CPC	R23,R30
    01863 F409      BNE	0x1865
    01864 C1B6      RJMP	0x1A1B
    01865 C1CD      RJMP	0x1A33
(0432) 	     case 0: 
(0433) 		   lcd_write_str(9,1,"      ");
    01866 EE81      LDI	R24,0xE1
    01867 E099      LDI	R25,0x9
    01868 8399      STD	Y+1,R25
    01869 8388      ST	Y,R24
    0186A E021      LDI	R18,1
    0186B E009      LDI	R16,0x9
    0186C 940E 0783 CALL	_lcd_write_str
(0434) 		   lcd_write_str(4,2,"                ");
    0186E ED80      LDI	R24,0xD0
    0186F E099      LDI	R25,0x9
    01870 8399      STD	Y+1,R25
    01871 8388      ST	Y,R24
    01872 E022      LDI	R18,2
    01873 E004      LDI	R16,4
    01874 940E 0783 CALL	_lcd_write_str
(0435) 		   lcd_write_str(4,2,"停止");
    01876 E486      LDI	R24,0x46
    01877 E09A      LDI	R25,0xA
    01878 8399      STD	Y+1,R25
    01879 8388      ST	Y,R24
    0187A E022      LDI	R18,2
    0187B E004      LDI	R16,4
    0187C 940E 0783 CALL	_lcd_write_str
(0436) 		   break;
    0187E C1B4      RJMP	0x1A33
(0437) 		 case 1:
(0438) 		   //写状态
(0439) 		   lcd_write_str(9,1,"");
    0187F EC8F      LDI	R24,0xCF
    01880 E099      LDI	R25,0x9
    01881 8399      STD	Y+1,R25
    01882 8388      ST	Y,R24
    01883 E021      LDI	R18,1
    01884 E009      LDI	R16,0x9
    01885 940E 0783 CALL	_lcd_write_str
(0440) 		   lcd_write_char_con(1,0xA1);
    01887 EA21      LDI	R18,0xA1
    01888 E001      LDI	R16,1
    01889 940E 072B CALL	_lcd_write_char_con
(0441)            lcd_write_char_con(1,0xE6);
    0188B EE26      LDI	R18,0xE6
    0188C E001      LDI	R16,1
    0188D 940E 072B CALL	_lcd_write_char_con
(0442) 		   timecache=temps[pageParam[0]].status;
    0188F 9120 0A81 LDS	R18,pageParam
    01891 9130 0A82 LDS	R19,pageParam+1
    01893 E302      LDI	R16,0x32
    01894 E011      LDI	R17,1
    01895 940E 39A0 CALL	empy16s
    01897 E487      LDI	R24,0x47
    01898 E094      LDI	R25,4
    01899 01F8      MOVW	R30,R16
    0189A 0FE8      ADD	R30,R24
    0189B 1FF9      ADC	R31,R25
    0189C 8160      LD	R22,Z
    0189D 8171      LDD	R23,Z+1
(0443) 		   if(timecache>18){
    0189E E182      LDI	R24,0x12
    0189F E090      LDI	R25,0
    018A0 1786      CP	R24,R22
    018A1 0797      CPC	R25,R23
    018A2 F508      BCC	0x18C4
(0444) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1)/10);
    018A3 E02A      LDI	R18,0xA
    018A4 E030      LDI	R19,0
    018A5 018B      MOVW	R16,R22
    018A6 5001      SUBI	R16,1
    018A7 4010      SBCI	R17,0
    018A8 9516      LSR	R17
    018A9 9507      ROR	R16
    018AA 5F0F      SUBI	R16,0xFF
    018AB 4F1F      SBCI	R17,0xFF
    018AC 940E 3986 CALL	div16u
    018AE 0198      MOVW	R18,R16
    018AF 6320      ORI	R18,0x30
    018B0 E002      LDI	R16,2
    018B1 940E 072B CALL	_lcd_write_char_con
(0445) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1)%10);
    018B3 E02A      LDI	R18,0xA
    018B4 E030      LDI	R19,0
    018B5 018B      MOVW	R16,R22
    018B6 5001      SUBI	R16,1
    018B7 4010      SBCI	R17,0
    018B8 9516      LSR	R17
    018B9 9507      ROR	R16
    018BA 5F0F      SUBI	R16,0xFF
    018BB 4F1F      SBCI	R17,0xFF
    018BC 940E 3984 CALL	mod16u
    018BE 0198      MOVW	R18,R16
    018BF 6320      ORI	R18,0x30
    018C0 E002      LDI	R16,2
    018C1 940E 072B CALL	_lcd_write_char_con
(0446) 		      }else{
    018C3 C00F      RJMP	0x18D3
(0447) 		         lcd_write_char_con(2,0x30 | (((timecache-1)>>1)+1));
    018C4 019B      MOVW	R18,R22
    018C5 5021      SUBI	R18,1
    018C6 4030      SBCI	R19,0
    018C7 9536      LSR	R19
    018C8 9527      ROR	R18
    018C9 5F2F      SUBI	R18,0xFF
    018CA 4F3F      SBCI	R19,0xFF
    018CB 6320      ORI	R18,0x30
    018CC E002      LDI	R16,2
    018CD 940E 072B CALL	_lcd_write_char_con
(0448) 				  lcd_write_char_con(2,' ');
    018CF E220      LDI	R18,0x20
    018D0 E002      LDI	R16,2
    018D1 940E 072B CALL	_lcd_write_char_con
(0449) 		    }
(0450) 			 lcd_write_char_con(2,':');
    018D3 E32A      LDI	R18,0x3A
    018D4 E002      LDI	R16,2
    018D5 940E 072B CALL	_lcd_write_char_con
(0451) 			 lcd_write_char_con(2,' ');
    018D7 E220      LDI	R18,0x20
    018D8 E002      LDI	R16,2
    018D9 940E 072B CALL	_lcd_write_char_con
(0452) 		   if(timecache & 0x01){
    018DB FF60      SBRS	R22,0
    018DC C015      RJMP	0x18F2
(0453) 		       lcd_write_str_con(2,"升温");
    018DD EC2A      LDI	R18,0xCA
    018DE E039      LDI	R19,0x9
    018DF E002      LDI	R16,2
    018E0 940E 07CD CALL	_lcd_write_str_con
(0454)                 timecache=temps[pageParam[0]].p_settemp;
    018E2 9120 0A81 LDS	R18,pageParam
    018E4 9130 0A82 LDS	R19,pageParam+1
    018E6 E302      LDI	R16,0x32
    018E7 E011      LDI	R17,1
    018E8 940E 39A0 CALL	empy16s
    018EA E583      LDI	R24,0x53
    018EB E094      LDI	R25,4
    018EC 01F8      MOVW	R30,R16
    018ED 0FE8      ADD	R30,R24
    018EE 1FF9      ADC	R31,R25
    018EF 8160      LD	R22,Z
    018F0 8171      LDD	R23,Z+1
(0455) 		   }else{
    018F1 C014      RJMP	0x1906
(0456) 		       lcd_write_str_con(2,"恒温");
    018F2 EC25      LDI	R18,0xC5
    018F3 E039      LDI	R19,0x9
    018F4 E002      LDI	R16,2
    018F5 940E 07CD CALL	_lcd_write_str_con
(0457)                timecache=temps[pageParam[0]].settemp;
    018F7 9120 0A81 LDS	R18,pageParam
    018F9 9130 0A82 LDS	R19,pageParam+1
    018FB E302      LDI	R16,0x32
    018FC E011      LDI	R17,1
    018FD 940E 39A0 CALL	empy16s
    018FF E58D      LDI	R24,0x5D
    01900 E094      LDI	R25,4
    01901 01F8      MOVW	R30,R16
    01902 0FE8      ADD	R30,R24
    01903 1FF9      ADC	R31,R25
    01904 8160      LD	R22,Z
    01905 8171      LDD	R23,Z+1
(0458) 		   }
(0459) 		   lcd_write_char(9,1,0x30 | timecache/100);
    01906 E624      LDI	R18,0x64
    01907 E030      LDI	R19,0
    01908 018B      MOVW	R16,R22
    01909 940E 3986 CALL	div16u
    0190B 01C8      MOVW	R24,R16
    0190C 6380      ORI	R24,0x30
    0190D 8388      ST	Y,R24
    0190E E021      LDI	R18,1
    0190F E009      LDI	R16,0x9
    01910 940E 075D CALL	_lcd_write_char
(0460) 		   lcd_write_char_con(1,0x30 | (timecache/10)%10);
    01912 E02A      LDI	R18,0xA
    01913 E030      LDI	R19,0
    01914 018B      MOVW	R16,R22
    01915 940E 3986 CALL	div16u
    01917 E02A      LDI	R18,0xA
    01918 E030      LDI	R19,0
    01919 940E 3984 CALL	mod16u
    0191B 0198      MOVW	R18,R16
    0191C 6320      ORI	R18,0x30
    0191D E001      LDI	R16,1
    0191E 940E 072B CALL	_lcd_write_char_con
(0461) 		   lcd_write_char_con(1,0x30 | timecache%10);
    01920 E02A      LDI	R18,0xA
    01921 E030      LDI	R19,0
    01922 018B      MOVW	R16,R22
    01923 940E 3984 CALL	mod16u
    01925 0198      MOVW	R18,R16
    01926 6320      ORI	R18,0x30
    01927 E001      LDI	R16,1
    01928 940E 072B CALL	_lcd_write_char_con
(0462) 		   lcd_write_char_con(1,' ');
    0192A E220      LDI	R18,0x20
    0192B E001      LDI	R16,1
    0192C 940E 072B CALL	_lcd_write_char_con
(0463) 		   lcd_write_char_con(1,0xA1);
    0192E EA21      LDI	R18,0xA1
    0192F E001      LDI	R16,1
    01930 940E 072B CALL	_lcd_write_char_con
(0464)            lcd_write_char_con(1,0xE6);
    01932 EE26      LDI	R18,0xE6
    01933 E001      LDI	R16,1
    01934 940E 072B CALL	_lcd_write_char_con
(0465) 		   lcd_write_pos(8,2);
    01936 E022      LDI	R18,2
    01937 E008      LDI	R16,0x8
    01938 940E 073F CALL	_lcd_write_pos
(0466) 		   timecache=temps[pageParam[0]].nowtime;
    0193A 9120 0A81 LDS	R18,pageParam
    0193C 9130 0A82 LDS	R19,pageParam+1
    0193E E302      LDI	R16,0x32
    0193F E011      LDI	R17,1
    01940 940E 39A0 CALL	empy16s
    01942 E48B      LDI	R24,0x4B
    01943 E094      LDI	R25,4
    01944 01F8      MOVW	R30,R16
    01945 0FE8      ADD	R30,R24
    01946 1FF9      ADC	R31,R25
    01947 8160      LD	R22,Z
    01948 8171      LDD	R23,Z+1
(0467) 		   timecache/=3600;
    01949 E120      LDI	R18,0x10
    0194A E03E      LDI	R19,0xE
    0194B 018B      MOVW	R16,R22
    0194C 940E 3986 CALL	div16u
    0194E 01B8      MOVW	R22,R16
(0468) 		    lcd_write_char_con(2,0x30 | timecache/10);
    0194F E02A      LDI	R18,0xA
    01950 E030      LDI	R19,0
    01951 940E 3986 CALL	div16u
    01953 0198      MOVW	R18,R16
    01954 6320      ORI	R18,0x30
    01955 E002      LDI	R16,2
    01956 940E 072B CALL	_lcd_write_char_con
(0469) 			lcd_write_char_con(2,0x30 | timecache%10);
    01958 E02A      LDI	R18,0xA
    01959 E030      LDI	R19,0
    0195A 018B      MOVW	R16,R22
    0195B 940E 3984 CALL	mod16u
    0195D 0198      MOVW	R18,R16
    0195E 6320      ORI	R18,0x30
    0195F E002      LDI	R16,2
    01960 940E 072B CALL	_lcd_write_char_con
(0470) 			lcd_write_char_con(2,':');
    01962 E32A      LDI	R18,0x3A
    01963 E002      LDI	R16,2
    01964 940E 072B CALL	_lcd_write_char_con
(0471) 			timecache=temps[pageParam[0]].nowtime;
    01966 9120 0A81 LDS	R18,pageParam
    01968 9130 0A82 LDS	R19,pageParam+1
    0196A E302      LDI	R16,0x32
    0196B E011      LDI	R17,1
    0196C 940E 39A0 CALL	empy16s
    0196E E48B      LDI	R24,0x4B
    0196F E094      LDI	R25,4
    01970 01F8      MOVW	R30,R16
    01971 0FE8      ADD	R30,R24
    01972 1FF9      ADC	R31,R25
    01973 8160      LD	R22,Z
    01974 8171      LDD	R23,Z+1
(0472) 		    timecache/=60;
    01975 E32C      LDI	R18,0x3C
    01976 E030      LDI	R19,0
    01977 018B      MOVW	R16,R22
    01978 940E 3986 CALL	div16u
(0473) 			timecache%=60;
    0197A E32C      LDI	R18,0x3C
    0197B E030      LDI	R19,0
    0197C 940E 3984 CALL	mod16u
    0197E 01B8      MOVW	R22,R16
(0474) 			lcd_write_char_con(2,0x30 | timecache/10);
    0197F E02A      LDI	R18,0xA
    01980 E030      LDI	R19,0
    01981 940E 3986 CALL	div16u
    01983 0198      MOVW	R18,R16
    01984 6320      ORI	R18,0x30
    01985 E002      LDI	R16,2
    01986 940E 072B CALL	_lcd_write_char_con
(0475) 			lcd_write_char_con(2,0x30 | timecache%10);
    01988 E02A      LDI	R18,0xA
    01989 E030      LDI	R19,0
    0198A 018B      MOVW	R16,R22
    0198B 940E 3984 CALL	mod16u
    0198D 0198      MOVW	R18,R16
    0198E 6320      ORI	R18,0x30
    0198F E002      LDI	R16,2
    01990 940E 072B CALL	_lcd_write_char_con
(0476) 		    lcd_write_char_con(2,':');
    01992 E32A      LDI	R18,0x3A
    01993 E002      LDI	R16,2
    01994 940E 072B CALL	_lcd_write_char_con
(0477) 			timecache=temps[pageParam[0]].nowtime;
    01996 9120 0A81 LDS	R18,pageParam
    01998 9130 0A82 LDS	R19,pageParam+1
    0199A E302      LDI	R16,0x32
    0199B E011      LDI	R17,1
    0199C 940E 39A0 CALL	empy16s
    0199E E48B      LDI	R24,0x4B
    0199F E094      LDI	R25,4
    019A0 01F8      MOVW	R30,R16
    019A1 0FE8      ADD	R30,R24
    019A2 1FF9      ADC	R31,R25
    019A3 8160      LD	R22,Z
    019A4 8171      LDD	R23,Z+1
(0478) 		    timecache%=60;
    019A5 E32C      LDI	R18,0x3C
    019A6 E030      LDI	R19,0
    019A7 018B      MOVW	R16,R22
    019A8 940E 3984 CALL	mod16u
    019AA 01B8      MOVW	R22,R16
(0479) 			lcd_write_char_con(2,0x30 |  timecache/10);
    019AB E02A      LDI	R18,0xA
    019AC E030      LDI	R19,0
    019AD 940E 3986 CALL	div16u
    019AF 0198      MOVW	R18,R16
    019B0 6320      ORI	R18,0x30
    019B1 E002      LDI	R16,2
    019B2 940E 072B CALL	_lcd_write_char_con
(0480) 			lcd_write_char_con(2,0x30 |  timecache%10);
    019B4 E02A      LDI	R18,0xA
    019B5 E030      LDI	R19,0
    019B6 018B      MOVW	R16,R22
    019B7 940E 3984 CALL	mod16u
    019B9 0198      MOVW	R18,R16
    019BA 6320      ORI	R18,0x30
    019BB E002      LDI	R16,2
    019BC 940E 072B CALL	_lcd_write_char_con
(0481) 		   break;
    019BE C074      RJMP	0x1A33
(0482) 		 case 2:
(0483) 		   lcd_write_str(9,1,"      ");
    019BF EE81      LDI	R24,0xE1
    019C0 E099      LDI	R25,0x9
    019C1 8399      STD	Y+1,R25
    019C2 8388      ST	Y,R24
    019C3 E021      LDI	R18,1
    019C4 E009      LDI	R16,0x9
    019C5 940E 0783 CALL	_lcd_write_str
(0484) 		   lcd_write_str(4,2,"                ");
    019C7 ED80      LDI	R24,0xD0
    019C8 E099      LDI	R25,0x9
    019C9 8399      STD	Y+1,R25
    019CA 8388      ST	Y,R24
    019CB E022      LDI	R18,2
    019CC E004      LDI	R16,4
    019CD 940E 0783 CALL	_lcd_write_str
(0485) 		   lcd_write_str(4,2,"故障");
    019CF E481      LDI	R24,0x41
    019D0 E09A      LDI	R25,0xA
    019D1 8399      STD	Y+1,R25
    019D2 8388      ST	Y,R24
    019D3 E022      LDI	R18,2
    019D4 E004      LDI	R16,4
    019D5 940E 0783 CALL	_lcd_write_str
(0486) 		   break;
    019D7 C05B      RJMP	0x1A33
(0487) 		 case 3:
(0488) 		   lcd_write_str(4,2,"                ");
    019D8 ED80      LDI	R24,0xD0
    019D9 E099      LDI	R25,0x9
    019DA 8399      STD	Y+1,R25
    019DB 8388      ST	Y,R24
    019DC E022      LDI	R18,2
    019DD E004      LDI	R16,4
    019DE 940E 0783 CALL	_lcd_write_str
(0489) 		   lcd_write_str(4,2,"暂停");
    019E0 E38C      LDI	R24,0x3C
    019E1 E09A      LDI	R25,0xA
    019E2 8399      STD	Y+1,R25
    019E3 8388      ST	Y,R24
    019E4 E022      LDI	R18,2
    019E5 E004      LDI	R16,4
    019E6 940E 0783 CALL	_lcd_write_str
(0490) 		   break;
    019E8 C04A      RJMP	0x1A33
(0491) 		 case 4:
(0492) 		   lcd_write_str(9,1,"      ");
    019E9 EE81      LDI	R24,0xE1
    019EA E099      LDI	R25,0x9
    019EB 8399      STD	Y+1,R25
    019EC 8388      ST	Y,R24
    019ED E021      LDI	R18,1
    019EE E009      LDI	R16,0x9
    019EF 940E 0783 CALL	_lcd_write_str
(0493) 		   lcd_write_str(4,2,"                ");
    019F1 ED80      LDI	R24,0xD0
    019F2 E099      LDI	R25,0x9
    019F3 8399      STD	Y+1,R25
    019F4 8388      ST	Y,R24
    019F5 E022      LDI	R18,2
    019F6 E004      LDI	R16,4
    019F7 940E 0783 CALL	_lcd_write_str
(0494) 		   lcd_write_str(4,2,"结束");
    019F9 E387      LDI	R24,0x37
    019FA E09A      LDI	R25,0xA
    019FB 8399      STD	Y+1,R25
    019FC 8388      ST	Y,R24
    019FD E022      LDI	R18,2
    019FE E004      LDI	R16,4
    019FF 940E 0783 CALL	_lcd_write_str
(0495) 		   break;
    01A01 C031      RJMP	0x1A33
(0496) 		 case 5:
(0497) 		   lcd_write_str(9,1,"      ");
    01A02 EE81      LDI	R24,0xE1
    01A03 E099      LDI	R25,0x9
    01A04 8399      STD	Y+1,R25
    01A05 8388      ST	Y,R24
    01A06 E021      LDI	R18,1
    01A07 E009      LDI	R16,0x9
    01A08 940E 0783 CALL	_lcd_write_str
(0498) 		   lcd_write_str(4,2,"                ");
    01A0A ED80      LDI	R24,0xD0
    01A0B E099      LDI	R25,0x9
    01A0C 8399      STD	Y+1,R25
    01A0D 8388      ST	Y,R24
    01A0E E022      LDI	R18,2
    01A0F E004      LDI	R16,4
    01A10 940E 0783 CALL	_lcd_write_str
(0499) 		   lcd_write_str(4,2,"等待");
    01A12 E382      LDI	R24,0x32
    01A13 E09A      LDI	R25,0xA
    01A14 8399      STD	Y+1,R25
    01A15 8388      ST	Y,R24
    01A16 E022      LDI	R18,2
    01A17 E004      LDI	R16,4
    01A18 940E 0783 CALL	_lcd_write_str
(0500) 		   break;
    01A1A C018      RJMP	0x1A33
(0501) 		 case 6:
(0502) 		   lcd_write_str(9,1,"      ");
    01A1B EE81      LDI	R24,0xE1
    01A1C E099      LDI	R25,0x9
    01A1D 8399      STD	Y+1,R25
    01A1E 8388      ST	Y,R24
    01A1F E021      LDI	R18,1
    01A20 E009      LDI	R16,0x9
    01A21 940E 0783 CALL	_lcd_write_str
(0503) 		   lcd_write_str(4,2,"                ");
    01A23 ED80      LDI	R24,0xD0
    01A24 E099      LDI	R25,0x9
    01A25 8399      STD	Y+1,R25
    01A26 8388      ST	Y,R24
    01A27 E022      LDI	R18,2
    01A28 E004      LDI	R16,4
    01A29 940E 0783 CALL	_lcd_write_str
(0504) 		   lcd_write_str(4,2,"暂停");
    01A2B E38C      LDI	R24,0x3C
    01A2C E09A      LDI	R25,0xA
    01A2D 8399      STD	Y+1,R25
    01A2E 8388      ST	Y,R24
    01A2F E022      LDI	R18,2
    01A30 E004      LDI	R16,4
    01A31 940E 0783 CALL	_lcd_write_str
(0505) 		   break;
(0506) 		   break;
(0507) 		 default:
(0508) 		   break;
(0509) 	   }
(0510) 	
(0511)       keyV=KeyScan_once();  
    01A33 940E 0620 CALL	_KeyScan_once
    01A35 2F60      MOV	R22,R16
(0512) 	  if(keyV=='e'){
    01A36 3605      CPI	R16,0x65
    01A37 F4F9      BNE	0x1A57
(0513) 	      Set_White_off(1,3,2);
    01A38 E082      LDI	R24,2
    01A39 8388      ST	Y,R24
    01A3A E023      LDI	R18,3
    01A3B E001      LDI	R16,1
    01A3C 940E 0938 CALL	_Set_White_off
(0514) 		  Set_White_off(4,3,5);
    01A3E E085      LDI	R24,5
    01A3F 8388      ST	Y,R24
    01A40 E023      LDI	R18,3
    01A41 E004      LDI	R16,4
    01A42 940E 0938 CALL	_Set_White_off
(0515) 		  Set_White_off(8,3,9);
    01A44 E089      LDI	R24,0x9
    01A45 8388      ST	Y,R24
    01A46 E023      LDI	R18,3
    01A47 E008      LDI	R16,0x8
    01A48 940E 0938 CALL	_Set_White_off
(0516) 		  Set_White_off(11,3,12);
    01A4A E08C      LDI	R24,0xC
    01A4B 8388      ST	Y,R24
    01A4C E023      LDI	R18,3
    01A4D E00B      LDI	R16,0xB
    01A4E 940E 0938 CALL	_Set_White_off
(0517) 		  pageNum=1;
    01A50 E081      LDI	R24,1
    01A51 E090      LDI	R25,0
    01A52 9390 0A8C STS	pageNum+1,R25
    01A54 9380 0A8B STS	pageNum,R24
(0518) 		  return;
    01A56 C0E6      RJMP	0x1B3D
(0519) 	  }else if(keyV=='l'){
    01A57 366C      CPI	R22,0x6C
    01A58 F5D1      BNE	0x1A93
(0520) 	     switch(cur){
    01A59 3041      CPI	R20,1
    01A5A E0E0      LDI	R30,0
    01A5B 075E      CPC	R21,R30
    01A5C F049      BEQ	0x1A66
    01A5D 3042      CPI	R20,2
    01A5E E0E0      LDI	R30,0
    01A5F 075E      CPC	R21,R30
    01A60 F0A1      BEQ	0x1A75
    01A61 3043      CPI	R20,3
    01A62 E0E0      LDI	R30,0
    01A63 075E      CPC	R21,R30
    01A64 F0F9      BEQ	0x1A84
    01A65 C0D6      RJMP	0x1B3C
(0521) 		   case 1:
(0522) 		     Set_White_off(4,3,5);
    01A66 E085      LDI	R24,5
    01A67 8388      ST	Y,R24
    01A68 E023      LDI	R18,3
    01A69 E004      LDI	R16,4
    01A6A 940E 0938 CALL	_Set_White_off
(0523) 		     Set_White(1,3,2);
    01A6C E082      LDI	R24,2
    01A6D 8388      ST	Y,R24
    01A6E E023      LDI	R18,3
    01A6F E001      LDI	R16,1
    01A70 940E 09A8 CALL	_Set_White
(0524) 			 cur=0;
    01A72 2744      CLR	R20
    01A73 2755      CLR	R21
(0525) 		     break;
    01A74 C0C7      RJMP	0x1B3C
(0526) 		   case 2:
(0527) 		     Set_White_off(8,3,9);
    01A75 E089      LDI	R24,0x9
    01A76 8388      ST	Y,R24
    01A77 E023      LDI	R18,3
    01A78 E008      LDI	R16,0x8
    01A79 940E 0938 CALL	_Set_White_off
(0528) 		     Set_White(4,3,5);
    01A7B E085      LDI	R24,5
    01A7C 8388      ST	Y,R24
    01A7D E023      LDI	R18,3
    01A7E E004      LDI	R16,4
    01A7F 940E 09A8 CALL	_Set_White
(0529) 		     cur=1;
    01A81 E041      LDI	R20,1
    01A82 E050      LDI	R21,0
(0530) 		     break;
    01A83 C0B8      RJMP	0x1B3C
(0531) 		   case 3:
(0532) 		     Set_White_off(11,3,12);
    01A84 E08C      LDI	R24,0xC
    01A85 8388      ST	Y,R24
    01A86 E023      LDI	R18,3
    01A87 E00B      LDI	R16,0xB
    01A88 940E 0938 CALL	_Set_White_off
(0533) 		     Set_White(8,3,9);
    01A8A E089      LDI	R24,0x9
    01A8B 8388      ST	Y,R24
    01A8C E023      LDI	R18,3
    01A8D E008      LDI	R16,0x8
    01A8E 940E 09A8 CALL	_Set_White
(0534) 		     cur=2;
    01A90 E042      LDI	R20,2
    01A91 E050      LDI	R21,0
(0535) 		     break;
(0536) 		 }
(0537) 	  }else if(keyV=='r'){
    01A92 C0A9      RJMP	0x1B3C
    01A93 3762      CPI	R22,0x72
    01A94 F5C9      BNE	0x1ACE
(0538) 	       switch(cur){
    01A95 3040      CPI	R20,0
    01A96 0745      CPC	R20,R21
    01A97 F049      BEQ	0x1AA1
    01A98 3041      CPI	R20,1
    01A99 E0E0      LDI	R30,0
    01A9A 075E      CPC	R21,R30
    01A9B F0A1      BEQ	0x1AB0
    01A9C 3042      CPI	R20,2
    01A9D E0E0      LDI	R30,0
    01A9E 075E      CPC	R21,R30
    01A9F F0F9      BEQ	0x1ABF
    01AA0 C09B      RJMP	0x1B3C
(0539) 		   case 0:
(0540) 		     Set_White(4,3,5);
    01AA1 E085      LDI	R24,5
    01AA2 8388      ST	Y,R24
    01AA3 E023      LDI	R18,3
    01AA4 E004      LDI	R16,4
    01AA5 940E 09A8 CALL	_Set_White
(0541) 		     Set_White_off(1,3,2);
    01AA7 E082      LDI	R24,2
    01AA8 8388      ST	Y,R24
    01AA9 E023      LDI	R18,3
    01AAA E001      LDI	R16,1
    01AAB 940E 0938 CALL	_Set_White_off
(0542) 			 cur=1;
    01AAD E041      LDI	R20,1
    01AAE E050      LDI	R21,0
(0543) 		     break;
    01AAF C08C      RJMP	0x1B3C
(0544) 		   case 1:
(0545) 		     Set_White(8,3,9);
    01AB0 E089      LDI	R24,0x9
    01AB1 8388      ST	Y,R24
    01AB2 E023      LDI	R18,3
    01AB3 E008      LDI	R16,0x8
    01AB4 940E 09A8 CALL	_Set_White
(0546) 		     Set_White_off(4,3,5);
    01AB6 E085      LDI	R24,5
    01AB7 8388      ST	Y,R24
    01AB8 E023      LDI	R18,3
    01AB9 E004      LDI	R16,4
    01ABA 940E 0938 CALL	_Set_White_off
(0547) 		     cur=2;
    01ABC E042      LDI	R20,2
    01ABD E050      LDI	R21,0
(0548) 		     break;
    01ABE C07D      RJMP	0x1B3C
(0549) 		   case 2:
(0550) 		     Set_White(11,3,12);
    01ABF E08C      LDI	R24,0xC
    01AC0 8388      ST	Y,R24
    01AC1 E023      LDI	R18,3
    01AC2 E00B      LDI	R16,0xB
    01AC3 940E 09A8 CALL	_Set_White
(0551) 		     Set_White_off(8,3,9);
    01AC5 E089      LDI	R24,0x9
    01AC6 8388      ST	Y,R24
    01AC7 E023      LDI	R18,3
    01AC8 E008      LDI	R16,0x8
    01AC9 940E 0938 CALL	_Set_White_off
(0552) 		     cur=3;
    01ACB E043      LDI	R20,3
    01ACC E050      LDI	R21,0
(0553) 		     break;
(0554) 		 }
(0555) 	  }else if(keyV=='t'){
    01ACD C06E      RJMP	0x1B3C
    01ACE 3764      CPI	R22,0x74
    01ACF F009      BEQ	0x1AD1
    01AD0 C04A      RJMP	0x1B1B
(0556) 	       switch(cur){
    01AD1 3040      CPI	R20,0
    01AD2 0745      CPC	R20,R21
    01AD3 F069      BEQ	0x1AE1
    01AD4 3041      CPI	R20,1
    01AD5 E0E0      LDI	R30,0
    01AD6 075E      CPC	R21,R30
    01AD7 F0B1      BEQ	0x1AEE
    01AD8 3042      CPI	R20,2
    01AD9 E0E0      LDI	R30,0
    01ADA 075E      CPC	R21,R30
    01ADB F0C9      BEQ	0x1AF5
    01ADC 3043      CPI	R20,3
    01ADD E0E0      LDI	R30,0
    01ADE 075E      CPC	R21,R30
    01ADF F121      BEQ	0x1B04
    01AE0 C05B      RJMP	0x1B3C
(0557) 		   case 0:
(0558) 		     Set_White_off(1,3,2);
    01AE1 E082      LDI	R24,2
    01AE2 8388      ST	Y,R24
    01AE3 E023      LDI	R18,3
    01AE4 E001      LDI	R16,1
    01AE5 940E 0938 CALL	_Set_White_off
(0559) 			 pageNum=4;
    01AE7 E084      LDI	R24,4
    01AE8 E090      LDI	R25,0
    01AE9 9390 0A8C STS	pageNum+1,R25
    01AEB 9380 0A8B STS	pageNum,R24
(0560) 		     return;
    01AED C04F      RJMP	0x1B3D
(0561) 		   case 1:
(0562) 		     //运行操作
(0563) 			 set_start(pageParam[0]);
    01AEE 9100 0A81 LDS	R16,pageParam
    01AF0 9110 0A82 LDS	R17,pageParam+1
    01AF2 940E 3623 CALL	_set_start
(0564) 		     break;
    01AF4 C047      RJMP	0x1B3C
(0565) 		   case 2:
(0566) 		     //暂停操作
(0567) 			  lcd_write_str(4,2,"                ");
    01AF5 ED80      LDI	R24,0xD0
    01AF6 E099      LDI	R25,0x9
    01AF7 8399      STD	Y+1,R25
    01AF8 8388      ST	Y,R24
    01AF9 E022      LDI	R18,2
    01AFA E004      LDI	R16,4
    01AFB 940E 0783 CALL	_lcd_write_str
(0568) 			 set_stop(pageParam[0]);
    01AFD 9100 0A81 LDS	R16,pageParam
    01AFF 9110 0A82 LDS	R17,pageParam+1
    01B01 940E 3685 CALL	_set_stop
(0569) 		     break;
    01B03 C038      RJMP	0x1B3C
(0570) 		  case 3:
(0571) 		     //重置操作
(0572) 			 Set_White_off(11,3,12);
    01B04 E08C      LDI	R24,0xC
    01B05 8388      ST	Y,R24
    01B06 E023      LDI	R18,3
    01B07 E00B      LDI	R16,0xB
    01B08 940E 0938 CALL	_Set_White_off
(0573) 			 pageParam[2]=1;//表示重置是温度数据的
    01B0A E081      LDI	R24,1
    01B0B E090      LDI	R25,0
    01B0C 9390 0A86 STS	pageParam+5,R25
    01B0E 9380 0A85 STS	pageParam+4,R24
(0574) 			 prePageNum=3;
    01B10 E083      LDI	R24,3
    01B11 9390 0A80 STS	prePageNum+1,R25
    01B13 9380 0A7F STS	prePageNum,R24
(0575) 		     pageNum=7;
    01B15 E087      LDI	R24,7
    01B16 9390 0A8C STS	pageNum+1,R25
    01B18 9380 0A8B STS	pageNum,R24
(0576) 		     return;
    01B1A C022      RJMP	0x1B3D
(0577) 		 }
(0578) 	  }else if(keyV=='s'){
    01B1B 3763      CPI	R22,0x73
    01B1C F4F9      BNE	0x1B3C
(0579) 	       Set_White_off(1,3,2);
    01B1D E082      LDI	R24,2
    01B1E 8388      ST	Y,R24
    01B1F E023      LDI	R18,3
    01B20 E001      LDI	R16,1
    01B21 940E 0938 CALL	_Set_White_off
(0580) 		   Set_White_off(4,3,5);
    01B23 E085      LDI	R24,5
    01B24 8388      ST	Y,R24
    01B25 E023      LDI	R18,3
    01B26 E004      LDI	R16,4
    01B27 940E 0938 CALL	_Set_White_off
(0581) 		   Set_White_off(8,3,9);
    01B29 E089      LDI	R24,0x9
    01B2A 8388      ST	Y,R24
    01B2B E023      LDI	R18,3
    01B2C E008      LDI	R16,0x8
    01B2D 940E 0938 CALL	_Set_White_off
(0582) 		   Set_White_off(11,3,12);
    01B2F E08C      LDI	R24,0xC
    01B30 8388      ST	Y,R24
    01B31 E023      LDI	R18,3
    01B32 E00B      LDI	R16,0xB
    01B33 940E 0938 CALL	_Set_White_off
(0583) 			pageNum=4;
    01B35 E084      LDI	R24,4
    01B36 E090      LDI	R25,0
    01B37 9390 0A8C STS	pageNum+1,R25
    01B39 9380 0A8B STS	pageNum,R24
(0584) 		     return;
    01B3B C001      RJMP	0x1B3D
    01B3C CC7E      RJMP	0x17BB
    01B3D 9622      ADIW	R28,2
    01B3E 940C 39E1 JMP	pop_xgsetF000
_page4_data:
  numL                 --> R14
  numH                 --> R12
  beginCur             --> R20
  i                    --> R22
  dataCach             --> R10
  y                    --> Y,+12
    01B40 940E 395A CALL	push_arg4
    01B42 940E 39C7 CALL	push_xgsetF0FC
    01B44 0159      MOVW	R10,R18
    01B45 9722      SBIW	R28,2
(0585) 	  }
(0586) 	}
(0587)  }
(0588)  //等下调用page_ac()函数改变ac写数据
(0589)  void page4_data(uint y,uint* dataCach){
(0590)       uint numH=0xA2;
    01B46 EA82      LDI	R24,0xA2
    01B47 E090      LDI	R25,0
    01B48 016C      MOVW	R12,R24
(0591)       uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
    01B49 EC84      LDI	R24,0xC4
    01B4A 017C      MOVW	R14,R24
(0592) 	  uint i=0;
    01B4B 2766      CLR	R22
    01B4C 2777      CLR	R23
(0593) 	  uint beginCur=0;
    01B4D 2744      CLR	R20
    01B4E 2755      CLR	R21
(0594)     //这个判断需要些到读取值函数中去
(0595) 	 if(y<3){
    01B4F 858C      LDD	R24,Y+12
    01B50 859D      LDD	R25,Y+13
    01B51 3083      CPI	R24,3
    01B52 E0E0      LDI	R30,0
    01B53 079E      CPC	R25,R30
    01B54 F530      BCC	0x1B7B
(0596) 	   lcd_write_char(2,1,numH);
    01B55 82C8      ST	Y,R12
    01B56 E021      LDI	R18,1
    01B57 E002      LDI	R16,2
    01B58 940E 075D CALL	_lcd_write_char
(0597)        lcd_write_char_con(1,numL+1);
    01B5A 0197      MOVW	R18,R14
    01B5B 5F2F      SUBI	R18,0xFF
    01B5C 4F3F      SBCI	R19,0xFF
    01B5D E001      LDI	R16,1
    01B5E 940E 072B CALL	_lcd_write_char_con
(0598) 	   lcd_write_char(2,2,numH);
    01B60 82C8      ST	Y,R12
    01B61 E022      LDI	R18,2
    01B62 E002      LDI	R16,2
    01B63 940E 075D CALL	_lcd_write_char
(0599)        lcd_write_char_con(2,numL+2);
    01B65 0197      MOVW	R18,R14
    01B66 5F2E      SUBI	R18,0xFE
    01B67 4F3F      SBCI	R19,0xFF
    01B68 E002      LDI	R16,2
    01B69 940E 072B CALL	_lcd_write_char_con
(0600)        lcd_write_char(2,3,numH);
    01B6B 82C8      ST	Y,R12
    01B6C E023      LDI	R18,3
    01B6D E002      LDI	R16,2
    01B6E 940E 075D CALL	_lcd_write_char
(0601)        lcd_write_char_con(3,numL+3);
    01B70 0197      MOVW	R18,R14
    01B71 5F2D      SUBI	R18,0xFD
    01B72 4F3F      SBCI	R19,0xFF
    01B73 E003      LDI	R16,3
    01B74 940E 072B CALL	_lcd_write_char_con
(0602) 	   y=0;
    01B76 2400      CLR	R0
    01B77 2411      CLR	R1
    01B78 861D      STD	Y+13,R1
    01B79 860C      STD	Y+12,R0
(0603) 	  }else if(y>=3 && y<6){
    01B7A C08F      RJMP	0x1C0A
    01B7B 858C      LDD	R24,Y+12
    01B7C 859D      LDD	R25,Y+13
    01B7D 3083      CPI	R24,3
    01B7E E0E0      LDI	R30,0
    01B7F 079E      CPC	R25,R30
    01B80 F150      BCS	0x1BAB
    01B81 3086      CPI	R24,6
    01B82 E0E0      LDI	R30,0
    01B83 079E      CPC	R25,R30
    01B84 F530      BCC	0x1BAB
(0604) 	   lcd_write_char(2,1,numH);
    01B85 82C8      ST	Y,R12
    01B86 E021      LDI	R18,1
    01B87 E002      LDI	R16,2
    01B88 940E 075D CALL	_lcd_write_char
(0605)        lcd_write_char_con(1,numL+4);
    01B8A 0197      MOVW	R18,R14
    01B8B 5F2C      SUBI	R18,0xFC
    01B8C 4F3F      SBCI	R19,0xFF
    01B8D E001      LDI	R16,1
    01B8E 940E 072B CALL	_lcd_write_char_con
(0606) 	   lcd_write_char(2,2,numH);
    01B90 82C8      ST	Y,R12
    01B91 E022      LDI	R18,2
    01B92 E002      LDI	R16,2
    01B93 940E 075D CALL	_lcd_write_char
(0607)        lcd_write_char_con(2,numL+5);
    01B95 0197      MOVW	R18,R14
    01B96 5F2B      SUBI	R18,0xFB
    01B97 4F3F      SBCI	R19,0xFF
    01B98 E002      LDI	R16,2
    01B99 940E 072B CALL	_lcd_write_char_con
(0608)        lcd_write_char(2,3,numH);
    01B9B 82C8      ST	Y,R12
    01B9C E023      LDI	R18,3
    01B9D E002      LDI	R16,2
    01B9E 940E 075D CALL	_lcd_write_char
(0609)        lcd_write_char_con(3,numL+6);
    01BA0 0197      MOVW	R18,R14
    01BA1 5F2A      SUBI	R18,0xFA
    01BA2 4F3F      SBCI	R19,0xFF
    01BA3 E003      LDI	R16,3
    01BA4 940E 072B CALL	_lcd_write_char_con
(0610) 	   y=1;
    01BA6 E081      LDI	R24,1
    01BA7 E090      LDI	R25,0
    01BA8 879D      STD	Y+13,R25
    01BA9 878C      STD	Y+12,R24
(0611) 	  }else if(y>=6 && y<9){
    01BAA C05F      RJMP	0x1C0A
    01BAB 858C      LDD	R24,Y+12
    01BAC 859D      LDD	R25,Y+13
    01BAD 3086      CPI	R24,6
    01BAE E0E0      LDI	R30,0
    01BAF 079E      CPC	R25,R30
    01BB0 F150      BCS	0x1BDB
    01BB1 3089      CPI	R24,0x9
    01BB2 E0E0      LDI	R30,0
    01BB3 079E      CPC	R25,R30
    01BB4 F530      BCC	0x1BDB
(0612) 	   lcd_write_char(2,1,numH);
    01BB5 82C8      ST	Y,R12
    01BB6 E021      LDI	R18,1
    01BB7 E002      LDI	R16,2
    01BB8 940E 075D CALL	_lcd_write_char
(0613)        lcd_write_char_con(1,numL+7);
    01BBA 0197      MOVW	R18,R14
    01BBB 5F29      SUBI	R18,0xF9
    01BBC 4F3F      SBCI	R19,0xFF
    01BBD E001      LDI	R16,1
    01BBE 940E 072B CALL	_lcd_write_char_con
(0614) 	   lcd_write_char(2,2,numH);
    01BC0 82C8      ST	Y,R12
    01BC1 E022      LDI	R18,2
    01BC2 E002      LDI	R16,2
    01BC3 940E 075D CALL	_lcd_write_char
(0615)        lcd_write_char_con(2,numL+8);
    01BC5 0197      MOVW	R18,R14
    01BC6 5F28      SUBI	R18,0xF8
    01BC7 4F3F      SBCI	R19,0xFF
    01BC8 E002      LDI	R16,2
    01BC9 940E 072B CALL	_lcd_write_char_con
(0616)        lcd_write_char(2,3,numH);
    01BCB 82C8      ST	Y,R12
    01BCC E023      LDI	R18,3
    01BCD E002      LDI	R16,2
    01BCE 940E 075D CALL	_lcd_write_char
(0617)        lcd_write_char_con(3,numL+9);
    01BD0 0197      MOVW	R18,R14
    01BD1 5F27      SUBI	R18,0xF7
    01BD2 4F3F      SBCI	R19,0xFF
    01BD3 E003      LDI	R16,3
    01BD4 940E 072B CALL	_lcd_write_char_con
(0618) 	   y=2;
    01BD6 E082      LDI	R24,2
    01BD7 E090      LDI	R25,0
    01BD8 879D      STD	Y+13,R25
    01BD9 878C      STD	Y+12,R24
(0619) 	  }else if(y>=9 && y<12){
    01BDA C02F      RJMP	0x1C0A
    01BDB 858C      LDD	R24,Y+12
    01BDC 859D      LDD	R25,Y+13
    01BDD 3089      CPI	R24,0x9
    01BDE E0E0      LDI	R30,0
    01BDF 079E      CPC	R25,R30
    01BE0 F148      BCS	0x1C0A
    01BE1 308C      CPI	R24,0xC
    01BE2 E0E0      LDI	R30,0
    01BE3 079E      CPC	R25,R30
    01BE4 F528      BCC	0x1C0A
(0620) 	   lcd_write_char(2,1,numH);
    01BE5 82C8      ST	Y,R12
    01BE6 E021      LDI	R18,1
    01BE7 E002      LDI	R16,2
    01BE8 940E 075D CALL	_lcd_write_char
(0621)        lcd_write_char_con(1,numL+10);
    01BEA 0197      MOVW	R18,R14
    01BEB 5F26      SUBI	R18,0xF6
    01BEC 4F3F      SBCI	R19,0xFF
    01BED E001      LDI	R16,1
    01BEE 940E 072B CALL	_lcd_write_char_con
(0622) 	   lcd_write_char(2,2,numH);
    01BF0 82C8      ST	Y,R12
    01BF1 E022      LDI	R18,2
    01BF2 E002      LDI	R16,2
    01BF3 940E 075D CALL	_lcd_write_char
(0623)        lcd_write_char_con(2,numL+11);
    01BF5 0197      MOVW	R18,R14
    01BF6 5F25      SUBI	R18,0xF5
    01BF7 4F3F      SBCI	R19,0xFF
    01BF8 E002      LDI	R16,2
    01BF9 940E 072B CALL	_lcd_write_char_con
(0624)        lcd_write_char(2,3,numH);
    01BFB 82C8      ST	Y,R12
    01BFC E023      LDI	R18,3
    01BFD E002      LDI	R16,2
    01BFE 940E 075D CALL	_lcd_write_char
(0625)        lcd_write_char_con(3,numL+12);
    01C00 0197      MOVW	R18,R14
    01C01 5F24      SUBI	R18,0xF4
    01C02 4F3F      SBCI	R19,0xFF
    01C03 E003      LDI	R16,3
    01C04 940E 072B CALL	_lcd_write_char_con
(0626) 	   y=3;
    01C06 E083      LDI	R24,3
    01C07 E090      LDI	R25,0
    01C08 879D      STD	Y+13,R25
    01C09 878C      STD	Y+12,R24
(0627) 	  }
(0628) 	  //还要做数据读取操作
(0629) 	  beginCur=y*33;//获得首个数据
    01C0A E201      LDI	R16,0x21
    01C0B E010      LDI	R17,0
    01C0C 852C      LDD	R18,Y+12
    01C0D 853D      LDD	R19,Y+13
    01C0E 940E 39A0 CALL	empy16s
    01C10 01A8      MOVW	R20,R16
(0630) 	  for(i=1;i<=3;i++){
    01C11 E061      LDI	R22,1
    01C12 E070      LDI	R23,0
    01C13 C0C5      RJMP	0x1CD9
(0631) 	    if(i==1){//第一次进入需要判断，首位写不许用++
    01C14 3061      CPI	R22,1
    01C15 E0E0      LDI	R30,0
    01C16 077E      CPC	R23,R30
    01C17 F471      BNE	0x1C26
(0632) 		 lcd_write_char(3,i,0x30 | *(dataCach+beginCur));
    01C18 01FA      MOVW	R30,R20
    01C19 0FEE      LSL	R30
    01C1A 1FFF      ROL	R31
    01C1B 0DEA      ADD	R30,R10
    01C1C 1DFB      ADC	R31,R11
    01C1D 8180      LD	R24,Z
    01C1E 8191      LDD	R25,Z+1
    01C1F 6380      ORI	R24,0x30
    01C20 8388      ST	Y,R24
    01C21 2F26      MOV	R18,R22
    01C22 E003      LDI	R16,3
    01C23 940E 075D CALL	_lcd_write_char
(0633) 		}else{
    01C25 C010      RJMP	0x1C36
(0634) 		 lcd_write_char(3,i,0x30 | *(dataCach+(++beginCur)));
    01C26 01CA      MOVW	R24,R20
    01C27 9601      ADIW	R24,1
    01C28 01AC      MOVW	R20,R24
    01C29 01FC      MOVW	R30,R24
    01C2A 0FEE      LSL	R30
    01C2B 1FFF      ROL	R31
    01C2C 0DEA      ADD	R30,R10
    01C2D 1DFB      ADC	R31,R11
    01C2E 8180      LD	R24,Z
    01C2F 8191      LDD	R25,Z+1
    01C30 6380      ORI	R24,0x30
    01C31 8388      ST	Y,R24
    01C32 2F26      MOV	R18,R22
    01C33 E003      LDI	R16,3
    01C34 940E 075D CALL	_lcd_write_char
(0635) 		}
(0636)         lcd_write_char_con(i, 0x30 | *(dataCach+(++beginCur)));
    01C36 01CA      MOVW	R24,R20
    01C37 9601      ADIW	R24,1
    01C38 01AC      MOVW	R20,R24
    01C39 01FC      MOVW	R30,R24
    01C3A 0FEE      LSL	R30
    01C3B 1FFF      ROL	R31
    01C3C 0DEA      ADD	R30,R10
    01C3D 1DFB      ADC	R31,R11
    01C3E 8120      LD	R18,Z
    01C3F 8131      LDD	R19,Z+1
    01C40 6320      ORI	R18,0x30
    01C41 2F06      MOV	R16,R22
    01C42 940E 072B CALL	_lcd_write_char_con
(0637) 		 lcd_write_str_con(i,": ");
    01C44 EC22      LDI	R18,0xC2
    01C45 E039      LDI	R19,0x9
    01C46 2F06      MOV	R16,R22
    01C47 940E 07CD CALL	_lcd_write_str_con
(0638) 	     lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    01C49 01CA      MOVW	R24,R20
    01C4A 9601      ADIW	R24,1
    01C4B 01AC      MOVW	R20,R24
    01C4C 01FC      MOVW	R30,R24
    01C4D 0FEE      LSL	R30
    01C4E 1FFF      ROL	R31
    01C4F 0DEA      ADD	R30,R10
    01C50 1DFB      ADC	R31,R11
    01C51 8120      LD	R18,Z
    01C52 8131      LDD	R19,Z+1
    01C53 6320      ORI	R18,0x30
    01C54 2F06      MOV	R16,R22
    01C55 940E 072B CALL	_lcd_write_char_con
(0639) 		 lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    01C57 01CA      MOVW	R24,R20
    01C58 9601      ADIW	R24,1
    01C59 01AC      MOVW	R20,R24
    01C5A 01FC      MOVW	R30,R24
    01C5B 0FEE      LSL	R30
    01C5C 1FFF      ROL	R31
    01C5D 0DEA      ADD	R30,R10
    01C5E 1DFB      ADC	R31,R11
    01C5F 8120      LD	R18,Z
    01C60 8131      LDD	R19,Z+1
    01C61 6320      ORI	R18,0x30
    01C62 2F06      MOV	R16,R22
    01C63 940E 072B CALL	_lcd_write_char_con
(0640) 		 
(0641) 		 lcd_write_char(7,i, 0x30 | *(dataCach+(++beginCur)));
    01C65 01CA      MOVW	R24,R20
    01C66 9601      ADIW	R24,1
    01C67 01AC      MOVW	R20,R24
    01C68 01FC      MOVW	R30,R24
    01C69 0FEE      LSL	R30
    01C6A 1FFF      ROL	R31
    01C6B 0DEA      ADD	R30,R10
    01C6C 1DFB      ADC	R31,R11
    01C6D 8180      LD	R24,Z
    01C6E 8191      LDD	R25,Z+1
    01C6F 6380      ORI	R24,0x30
    01C70 8388      ST	Y,R24
    01C71 2F26      MOV	R18,R22
    01C72 E007      LDI	R16,7
    01C73 940E 075D CALL	_lcd_write_char
(0642) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01C75 01CA      MOVW	R24,R20
    01C76 9601      ADIW	R24,1
    01C77 01AC      MOVW	R20,R24
    01C78 01FC      MOVW	R30,R24
    01C79 0FEE      LSL	R30
    01C7A 1FFF      ROL	R31
    01C7B 0DEA      ADD	R30,R10
    01C7C 1DFB      ADC	R31,R11
    01C7D 8120      LD	R18,Z
    01C7E 8131      LDD	R19,Z+1
    01C7F 6320      ORI	R18,0x30
    01C80 2F06      MOV	R16,R22
    01C81 940E 072B CALL	_lcd_write_char_con
(0643) 		  lcd_write_str_con(i,": ");
    01C83 EC22      LDI	R18,0xC2
    01C84 E039      LDI	R19,0x9
    01C85 2F06      MOV	R16,R22
    01C86 940E 07CD CALL	_lcd_write_str_con
(0644) 		 lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    01C88 01CA      MOVW	R24,R20
    01C89 9601      ADIW	R24,1
    01C8A 01AC      MOVW	R20,R24
    01C8B 01FC      MOVW	R30,R24
    01C8C 0FEE      LSL	R30
    01C8D 1FFF      ROL	R31
    01C8E 0DEA      ADD	R30,R10
    01C8F 1DFB      ADC	R31,R11
    01C90 8120      LD	R18,Z
    01C91 8131      LDD	R19,Z+1
    01C92 6320      ORI	R18,0x30
    01C93 2F06      MOV	R16,R22
    01C94 940E 072B CALL	_lcd_write_char_con
(0645) 		 lcd_write_char_con(i, 0x30 | *(dataCach+(++beginCur)));
    01C96 01CA      MOVW	R24,R20
    01C97 9601      ADIW	R24,1
    01C98 01AC      MOVW	R20,R24
    01C99 01FC      MOVW	R30,R24
    01C9A 0FEE      LSL	R30
    01C9B 1FFF      ROL	R31
    01C9C 0DEA      ADD	R30,R10
    01C9D 1DFB      ADC	R31,R11
    01C9E 8120      LD	R18,Z
    01C9F 8131      LDD	R19,Z+1
    01CA0 6320      ORI	R18,0x30
    01CA1 2F06      MOV	R16,R22
    01CA2 940E 072B CALL	_lcd_write_char_con
(0646) 		 
(0647) 		 lcd_write_str(10,i," ");
    01CA4 EC80      LDI	R24,0xC0
    01CA5 E099      LDI	R25,0x9
    01CA6 8399      STD	Y+1,R25
    01CA7 8388      ST	Y,R24
    01CA8 2F26      MOV	R18,R22
    01CA9 E00A      LDI	R16,0xA
    01CAA 940E 0783 CALL	_lcd_write_str
(0648) 		 lcd_write_char_con(i,0x30 |  *(dataCach+(++beginCur)));
    01CAC 01CA      MOVW	R24,R20
    01CAD 9601      ADIW	R24,1
    01CAE 01AC      MOVW	R20,R24
    01CAF 01FC      MOVW	R30,R24
    01CB0 0FEE      LSL	R30
    01CB1 1FFF      ROL	R31
    01CB2 0DEA      ADD	R30,R10
    01CB3 1DFB      ADC	R31,R11
    01CB4 8120      LD	R18,Z
    01CB5 8131      LDD	R19,Z+1
    01CB6 6320      ORI	R18,0x30
    01CB7 2F06      MOV	R16,R22
    01CB8 940E 072B CALL	_lcd_write_char_con
(0649) 		 lcd_write_char_con(i,0x30 | *(dataCach+(++beginCur)));
    01CBA 01CA      MOVW	R24,R20
    01CBB 9601      ADIW	R24,1
    01CBC 01AC      MOVW	R20,R24
    01CBD 01FC      MOVW	R30,R24
    01CBE 0FEE      LSL	R30
    01CBF 1FFF      ROL	R31
    01CC0 0DEA      ADD	R30,R10
    01CC1 1DFB      ADC	R31,R11
    01CC2 8120      LD	R18,Z
    01CC3 8131      LDD	R19,Z+1
    01CC4 6320      ORI	R18,0x30
    01CC5 2F06      MOV	R16,R22
    01CC6 940E 072B CALL	_lcd_write_char_con
(0650) 		 lcd_write_char_con(i, 0x30 | *(dataCach+(++beginCur)));
    01CC8 01CA      MOVW	R24,R20
    01CC9 9601      ADIW	R24,1
    01CCA 016C      MOVW	R12,R24
    01CCB 01AC      MOVW	R20,R24
    01CCC 01FC      MOVW	R30,R24
    01CCD 0FEE      LSL	R30
    01CCE 1FFF      ROL	R31
    01CCF 0DEA      ADD	R30,R10
    01CD0 1DFB      ADC	R31,R11
    01CD1 8120      LD	R18,Z
    01CD2 8131      LDD	R19,Z+1
    01CD3 6320      ORI	R18,0x30
    01CD4 2F06      MOV	R16,R22
    01CD5 940E 072B CALL	_lcd_write_char_con
    01CD7 5F6F      SUBI	R22,0xFF
    01CD8 4F7F      SBCI	R23,0xFF
    01CD9 E083      LDI	R24,3
    01CDA E090      LDI	R25,0
    01CDB 1786      CP	R24,R22
    01CDC 0797      CPC	R25,R23
    01CDD F008      BCS	0x1CDF
    01CDE CF35      RJMP	0x1C14
    01CDF 9622      ADIW	R28,2
    01CE0 940E 39BC CALL	pop_xgsetF0FC
    01CE2 9624      ADIW	R28,4
    01CE3 9508      RET
_page4_ac:
  y                    --> R10
  x                    --> R22
  lcd_y                --> R20
  dataCach             --> R12
  oldcur               --> Y,+12
  cur                  --> Y,+10
    01CE4 940E 395A CALL	push_arg4
    01CE6 940E 39C7 CALL	push_xgsetF0FC
    01CE8 84CE      LDD	R12,Y+14
    01CE9 84DF      LDD	R13,Y+15
(0651) 	  }
(0652) 	  
(0653)  }
(0654)  //传入cur做ac位置操作,判断是否翻页
(0655)  void page4_ac(uint cur,uint oldcur,uint* dataCach){
(0656)       uint y=cur/11;//逻辑y.从0开始
    01CEA E02B      LDI	R18,0xB
    01CEB E030      LDI	R19,0
    01CEC 850A      LDD	R16,Y+10
    01CED 851B      LDD	R17,Y+11
    01CEE 940E 3986 CALL	div16u
    01CF0 0158      MOVW	R10,R16
(0657) 	  uint lcd_y;//显示y
(0658) 	  uint x=cur%11;//x轴
    01CF1 E02B      LDI	R18,0xB
    01CF2 E030      LDI	R19,0
    01CF3 850A      LDD	R16,Y+10
    01CF4 851B      LDD	R17,Y+11
    01CF5 940E 3984 CALL	mod16u
    01CF7 01B8      MOVW	R22,R16
(0659) 	  switch(y%3){
    01CF8 E023      LDI	R18,3
    01CF9 E030      LDI	R19,0
    01CFA 0185      MOVW	R16,R10
    01CFB 940E 3984 CALL	mod16u
    01CFD 0178      MOVW	R14,R16
    01CFE 3000      CPI	R16,0
    01CFF 0701      CPC	R16,R17
    01D00 F051      BEQ	0x1D0B
    01D01 01C7      MOVW	R24,R14
    01D02 3001      CPI	R16,1
    01D03 E0E0      LDI	R30,0
    01D04 071E      CPC	R17,R30
    01D05 F041      BEQ	0x1D0E
    01D06 3002      CPI	R16,2
    01D07 E0E0      LDI	R30,0
    01D08 071E      CPC	R17,R30
    01D09 F039      BEQ	0x1D11
    01D0A C008      RJMP	0x1D13
(0660) 	   case 0://1行
(0661) 	     lcd_y=1;
    01D0B E041      LDI	R20,1
    01D0C E050      LDI	R21,0
(0662) 	     break;
    01D0D C005      RJMP	0x1D13
(0663) 	   case 1://2行
(0664) 	     lcd_y=2;
    01D0E E042      LDI	R20,2
    01D0F E050      LDI	R21,0
(0665) 		 break;
    01D10 C002      RJMP	0x1D13
(0666) 	   case 2://3行
(0667) 	     lcd_y=3;
    01D11 E043      LDI	R20,3
    01D12 E050      LDI	R21,0
(0668) 	     break;
(0669) 	  }
(0670) 	  switch((oldcur/11)/3){
    01D13 E02B      LDI	R18,0xB
    01D14 E030      LDI	R19,0
    01D15 850C      LDD	R16,Y+12
    01D16 851D      LDD	R17,Y+13
    01D17 940E 3986 CALL	div16u
    01D19 E023      LDI	R18,3
    01D1A E030      LDI	R19,0
    01D1B 940E 3986 CALL	div16u
    01D1D 0178      MOVW	R14,R16
    01D1E 3000      CPI	R16,0
    01D1F 0701      CPC	R16,R17
    01D20 F071      BEQ	0x1D2F
    01D21 01C7      MOVW	R24,R14
    01D22 3001      CPI	R16,1
    01D23 E0E0      LDI	R30,0
    01D24 071E      CPC	R17,R30
    01D25 F0A1      BEQ	0x1D3A
    01D26 3002      CPI	R16,2
    01D27 E0E0      LDI	R30,0
    01D28 071E      CPC	R17,R30
    01D29 F101      BEQ	0x1D4A
    01D2A 3003      CPI	R16,3
    01D2B E0E0      LDI	R30,0
    01D2C 071E      CPC	R17,R30
    01D2D F169      BEQ	0x1D5B
    01D2E C035      RJMP	0x1D64
(0671) 	    case 0:
(0672) 		 if(cur>32){
    01D2F E280      LDI	R24,0x20
    01D30 E090      LDI	R25,0
    01D31 840A      LDD	R0,Y+10
    01D32 841B      LDD	R1,Y+11
    01D33 1580      CP	R24,R0
    01D34 0591      CPC	R25,R1
    01D35 F570      BCC	0x1D64
(0673) 		   page4_data(y,dataCach);
    01D36 0196      MOVW	R18,R12
    01D37 0185      MOVW	R16,R10
    01D38 DE07      RCALL	_page4_data
(0674) 		 }
(0675) 		 break;
    01D39 C02A      RJMP	0x1D64
(0676) 		case 1:
(0677) 		  if(cur>65 || cur<33){
    01D3A E481      LDI	R24,0x41
    01D3B E090      LDI	R25,0
    01D3C 840A      LDD	R0,Y+10
    01D3D 841B      LDD	R1,Y+11
    01D3E 1580      CP	R24,R0
    01D3F 0591      CPC	R25,R1
    01D40 F028      BCS	0x1D46
    01D41 01C0      MOVW	R24,R0
    01D42 3281      CPI	R24,0x21
    01D43 E0E0      LDI	R30,0
    01D44 079E      CPC	R25,R30
    01D45 F4F0      BCC	0x1D64
(0678) 		   page4_data(y,dataCach);
    01D46 0196      MOVW	R18,R12
    01D47 0185      MOVW	R16,R10
    01D48 DDF7      RCALL	_page4_data
(0679) 		 }
(0680) 		 break;
    01D49 C01A      RJMP	0x1D64
(0681) 		case 2:
(0682) 		if(cur<66 || cur>98){
    01D4A 858A      LDD	R24,Y+10
    01D4B 859B      LDD	R25,Y+11
    01D4C 3482      CPI	R24,0x42
    01D4D E0E0      LDI	R30,0
    01D4E 079E      CPC	R25,R30
    01D4F F038      BCS	0x1D57
    01D50 E682      LDI	R24,0x62
    01D51 E090      LDI	R25,0
    01D52 840A      LDD	R0,Y+10
    01D53 841B      LDD	R1,Y+11
    01D54 1580      CP	R24,R0
    01D55 0591      CPC	R25,R1
    01D56 F468      BCC	0x1D64
(0683) 		   page4_data(y,dataCach);
    01D57 0196      MOVW	R18,R12
    01D58 0185      MOVW	R16,R10
    01D59 DDE6      RCALL	_page4_data
(0684) 		 }
(0685) 		 break;
    01D5A C009      RJMP	0x1D64
(0686) 		case 3:
(0687) 		if(cur<99){
    01D5B 858A      LDD	R24,Y+10
    01D5C 859B      LDD	R25,Y+11
    01D5D 3683      CPI	R24,0x63
    01D5E E0E0      LDI	R30,0
    01D5F 079E      CPC	R25,R30
    01D60 F418      BCC	0x1D64
(0688) 		   page4_data(y,dataCach);
    01D61 0196      MOVW	R18,R12
    01D62 0185      MOVW	R16,R10
    01D63 DDDC      RCALL	_page4_data
(0689) 		 }
(0690) 		 break;
(0691) 	  }
(0692) 	  if(lcd_y==1){
    01D64 3041      CPI	R20,1
    01D65 E0E0      LDI	R30,0
    01D66 075E      CPC	R21,R30
    01D67 F449      BNE	0x1D71
(0693) 	     cur_set(3);
    01D68 E003      LDI	R16,3
    01D69 E010      LDI	R17,0
    01D6A 940E 08F4 CALL	_cur_set
(0694) 		 cur_set(4);
    01D6C E004      LDI	R16,4
    01D6D E010      LDI	R17,0
    01D6E 940E 08F4 CALL	_cur_set
(0695) 	  }else if(lcd_y==2 || lcd_y==3){
    01D70 C010      RJMP	0x1D81
    01D71 3042      CPI	R20,2
    01D72 E0E0      LDI	R30,0
    01D73 075E      CPC	R21,R30
    01D74 F021      BEQ	0x1D79
    01D75 3043      CPI	R20,3
    01D76 E0E0      LDI	R30,0
    01D77 075E      CPC	R21,R30
    01D78 F441      BNE	0x1D81
(0696) 	     cur_set(0);
    01D79 2700      CLR	R16
    01D7A 2711      CLR	R17
    01D7B 940E 08F4 CALL	_cur_set
(0697) 		 cur_set(7);
    01D7D E007      LDI	R16,7
    01D7E E010      LDI	R17,0
    01D7F 940E 08F4 CALL	_cur_set
(0698) 	  }
(0699) 	  if(x==0){
    01D81 3060      CPI	R22,0
    01D82 0767      CPC	R22,R23
    01D83 F429      BNE	0x1D89
(0700) 	      lcd_write_pos(3,lcd_y);
    01D84 2F24      MOV	R18,R20
    01D85 E003      LDI	R16,3
    01D86 940E 073F CALL	_lcd_write_pos
(0701) 	  }else if(x==2){
    01D88 C031      RJMP	0x1DBA
    01D89 3062      CPI	R22,2
    01D8A E0E0      LDI	R30,0
    01D8B 077E      CPC	R23,R30
    01D8C F429      BNE	0x1D92
(0702) 	       lcd_write_pos(5,lcd_y);
    01D8D 2F24      MOV	R18,R20
    01D8E E005      LDI	R16,5
    01D8F 940E 073F CALL	_lcd_write_pos
(0703) 	  }else if(x==4){
    01D91 C028      RJMP	0x1DBA
    01D92 3064      CPI	R22,4
    01D93 E0E0      LDI	R30,0
    01D94 077E      CPC	R23,R30
    01D95 F429      BNE	0x1D9B
(0704) 	        lcd_write_pos(7,lcd_y);
    01D96 2F24      MOV	R18,R20
    01D97 E007      LDI	R16,7
    01D98 940E 073F CALL	_lcd_write_pos
(0705) 	  }else if(x==6){
    01D9A C01F      RJMP	0x1DBA
    01D9B 3066      CPI	R22,6
    01D9C E0E0      LDI	R30,0
    01D9D 077E      CPC	R23,R30
    01D9E F429      BNE	0x1DA4
(0706) 	        lcd_write_pos(9,lcd_y);
    01D9F 2F24      MOV	R18,R20
    01DA0 E009      LDI	R16,0x9
    01DA1 940E 073F CALL	_lcd_write_pos
(0707) 	  }else if(x==8){
    01DA3 C016      RJMP	0x1DBA
    01DA4 3068      CPI	R22,0x8
    01DA5 E0E0      LDI	R30,0
    01DA6 077E      CPC	R23,R30
    01DA7 F451      BNE	0x1DB2
(0708) 	        lcd_write_pos(10,lcd_y);
    01DA8 2F24      MOV	R18,R20
    01DA9 E00A      LDI	R16,0xA
    01DAA 940E 073F CALL	_lcd_write_pos
(0709) 			lcd_write_str_con(lcd_y," ");
    01DAC EC20      LDI	R18,0xC0
    01DAD E039      LDI	R19,0x9
    01DAE 2F04      MOV	R16,R20
    01DAF 940E 07CD CALL	_lcd_write_str_con
(0710) 	  }else if(x==9){
    01DB1 C008      RJMP	0x1DBA
    01DB2 3069      CPI	R22,0x9
    01DB3 E0E0      LDI	R30,0
    01DB4 077E      CPC	R23,R30
    01DB5 F421      BNE	0x1DBA
(0711) 	        lcd_write_pos(11,lcd_y);
    01DB6 2F24      MOV	R18,R20
    01DB7 E00B      LDI	R16,0xB
    01DB8 940E 073F CALL	_lcd_write_pos
(0712) 	  }
(0713) 	  return;
    01DBA 940E 39BC CALL	pop_xgsetF0FC
    01DBC 9624      ADIW	R28,4
    01DBD 9508      RET
_page4:
  numL                 --> R20
  numH                 --> R20
  oldcur               --> R22
  dataCach             --> Y,+2
  cur                  --> R20
  keyV                 --> R10
  i                    --> R10
    01DBE 940E 3A02 CALL	push_xgsetF03C
    01DC0 97EF      SBIW	R28,0x3F
    01DC1 97EF      SBIW	R28,0x3F
    01DC2 97EF      SBIW	R28,0x3F
    01DC3 97EF      SBIW	R28,0x3F
    01DC4 972C      SBIW	R28,0xC
(0714)  }
(0715)   void page4(void){
(0716)     //定义一个局部的结构体，从对呀温度中获得数据。暂时未写
(0717)   uint numH=0xA2;
(0718)   uint numL=0xC4;//带括号的123，低位加1是1、方便操作，需要加上即可
(0719)   uint cur=0;
    01DC5 2744      CLR	R20
    01DC6 2755      CLR	R21
(0720)   uint oldcur=0;
    01DC7 2766      CLR	R22
    01DC8 2777      CLR	R23
(0721)   uint dataCach[131]={0};
    01DC9 E089      LDI	R24,0x9
    01DCA E098      LDI	R25,0x8
    01DCB 01FE      MOVW	R30,R28
    01DCC 9632      ADIW	R30,2
    01DCD E006      LDI	R16,6
    01DCE E011      LDI	R17,1
    01DCF 93FA      ST	-Y,R31
    01DD0 93EA      ST	-Y,R30
    01DD1 939A      ST	-Y,R25
    01DD2 938A      ST	-Y,R24
    01DD3 940E 3A1A CALL	asgnblk
(0722)   uint i=0;
(0723)    uchar keyV;
(0724)    lcd_write_str(0,0,"T");
    01DD5 E089      LDI	R24,0x9
    01DD6 E09A      LDI	R25,0xA
    01DD7 8399      STD	Y+1,R25
    01DD8 8388      ST	Y,R24
    01DD9 2722      CLR	R18
    01DDA 2700      CLR	R16
    01DDB 940E 0783 CALL	_lcd_write_str
(0725)    lcd_write_char_con(0,0x30 | (pageParam[0]+1));
    01DDD 9120 0A81 LDS	R18,pageParam
    01DDF 9130 0A82 LDS	R19,pageParam+1
    01DE1 5F2F      SUBI	R18,0xFF
    01DE2 4F3F      SBCI	R19,0xFF
    01DE3 6320      ORI	R18,0x30
    01DE4 2700      CLR	R16
    01DE5 940E 072B CALL	_lcd_write_char_con
(0726)    lcd_write_char_con(0,':');
    01DE7 E32A      LDI	R18,0x3A
    01DE8 2700      CLR	R16
    01DE9 940E 072B CALL	_lcd_write_char_con
(0727)    
(0728)    lcd_write_str(4,0,"升温");
    01DEB EC8A      LDI	R24,0xCA
    01DEC E099      LDI	R25,0x9
    01DED 8399      STD	Y+1,R25
    01DEE 8388      ST	Y,R24
    01DEF 2722      CLR	R18
    01DF0 E004      LDI	R16,4
    01DF1 940E 0783 CALL	_lcd_write_str
(0729)    lcd_write_str(7,0,"恒温");
    01DF3 EC85      LDI	R24,0xC5
    01DF4 E099      LDI	R25,0x9
    01DF5 8399      STD	Y+1,R25
    01DF6 8388      ST	Y,R24
    01DF7 2722      CLR	R18
    01DF8 E007      LDI	R16,7
    01DF9 940E 0783 CALL	_lcd_write_str
(0730)    lcd_write_str(10,0,"温度");
    01DFB EB8B      LDI	R24,0xBB
    01DFC E099      LDI	R25,0x9
    01DFD 8399      STD	Y+1,R25
    01DFE 8388      ST	Y,R24
    01DFF 2722      CLR	R18
    01E00 E00A      LDI	R16,0xA
    01E01 940E 0783 CALL	_lcd_write_str
(0731)    lcd_write_str(0,1,"保存");
    01E03 EB86      LDI	R24,0xB6
    01E04 E099      LDI	R25,0x9
    01E05 8399      STD	Y+1,R25
    01E06 8388      ST	Y,R24
    01E07 E021      LDI	R18,1
    01E08 2700      CLR	R16
    01E09 940E 0783 CALL	_lcd_write_str
(0732)    lcd_write_str(0,2,"取消");
    01E0B E187      LDI	R24,0x17
    01E0C E09A      LDI	R25,0xA
    01E0D 8399      STD	Y+1,R25
    01E0E 8388      ST	Y,R24
    01E0F E022      LDI	R18,2
    01E10 2700      CLR	R16
    01E11 940E 0783 CALL	_lcd_write_str
(0733)    lcd_write_str(0,3,"重置");
    01E13 EE88      LDI	R24,0xE8
    01E14 E099      LDI	R25,0x9
    01E15 8399      STD	Y+1,R25
    01E16 8388      ST	Y,R24
    01E17 E023      LDI	R18,3
    01E18 2700      CLR	R16
    01E19 940E 0783 CALL	_lcd_write_str
(0734)   
(0735)   for(i=0;i<132;i++){
    01E1B 24AA      CLR	R10
    01E1C 24BB      CLR	R11
    01E1D C020      RJMP	0x1E3E
(0736)     dataCach[i]=temps[pageParam[0]].temp_data[i];
    01E1E 0115      MOVW	R2,R10
    01E1F 0C22      LSL	R2
    01E20 1C33      ROL	R3
    01E21 0121      MOVW	R4,R2
    01E22 9120 0A81 LDS	R18,pageParam
    01E24 9130 0A82 LDS	R19,pageParam+1
    01E26 E302      LDI	R16,0x32
    01E27 E011      LDI	R17,1
    01E28 940E 39A0 CALL	empy16s
    01E2A E38F      LDI	R24,0x3F
    01E2B E093      LDI	R25,3
    01E2C 0118      MOVW	R2,R16
    01E2D 0E28      ADD	R2,R24
    01E2E 1E39      ADC	R3,R25
    01E2F 01F2      MOVW	R30,R4
    01E30 0DE2      ADD	R30,R2
    01E31 1DF3      ADC	R31,R3
    01E32 8020      LD	R2,Z
    01E33 8031      LDD	R3,Z+1
    01E34 01CE      MOVW	R24,R28
    01E35 9602      ADIW	R24,2
    01E36 01F2      MOVW	R30,R4
    01E37 0FE8      ADD	R30,R24
    01E38 1FF9      ADC	R31,R25
    01E39 8231      STD	Z+1,R3
    01E3A 8220      ST	Z,R2
    01E3B 01C5      MOVW	R24,R10
    01E3C 9601      ADIW	R24,1
    01E3D 015C      MOVW	R10,R24
    01E3E 01C5      MOVW	R24,R10
    01E3F 3884      CPI	R24,0x84
    01E40 E0E0      LDI	R30,0
    01E41 079E      CPC	R25,R30
    01E42 F2D8      BCS	0x1E1E
(0737)   }
(0738)     page4_data(0,dataCach);//调用函数填充
    01E43 019E      MOVW	R18,R28
    01E44 5F2E      SUBI	R18,0xFE
    01E45 4F3F      SBCI	R19,0xFF
    01E46 2700      CLR	R16
    01E47 2711      CLR	R17
    01E48 DCF7      RCALL	_page4_data
(0739)    cur=0;
    01E49 2744      CLR	R20
    01E4A 2755      CLR	R21
(0740)    lcd_write_pos(3,1);
    01E4B E021      LDI	R18,1
    01E4C E003      LDI	R16,3
    01E4D 940E 073F CALL	_lcd_write_pos
(0741)    cur_set(3);
    01E4F E003      LDI	R16,3
    01E50 E010      LDI	R17,0
    01E51 940E 08F4 CALL	_cur_set
    01E53 C22B      RJMP	0x207F
(0742)    
(0743)    //Set_White(9,2,10);
(0744)     while(1){
(0745)       keyV=KeyScan_once();
    01E54 940E 0620 CALL	_KeyScan_once
    01E56 2EA0      MOV	R10,R16
(0746) 	  if(keyV=='e'){
    01E57 3605      CPI	R16,0x65
    01E58 F509      BNE	0x1E7A
(0747) 	        Set_White_off(1,1,2);
    01E59 E082      LDI	R24,2
    01E5A 8388      ST	Y,R24
    01E5B E021      LDI	R18,1
    01E5C E001      LDI	R16,1
    01E5D 940E 0938 CALL	_Set_White_off
(0748) 			Set_White_off(1,2,2);
    01E5F E082      LDI	R24,2
    01E60 8388      ST	Y,R24
    01E61 E022      LDI	R18,2
    01E62 E001      LDI	R16,1
    01E63 940E 0938 CALL	_Set_White_off
(0749) 			Set_White_off(1,3,2);
    01E65 E082      LDI	R24,2
    01E66 8388      ST	Y,R24
    01E67 E023      LDI	R18,3
    01E68 E001      LDI	R16,1
    01E69 940E 0938 CALL	_Set_White_off
(0750) 			cur_set(0);
    01E6B 2700      CLR	R16
    01E6C 2711      CLR	R17
    01E6D 940E 08F4 CALL	_cur_set
(0751) 			cur_set(4);
    01E6F E004      LDI	R16,4
    01E70 E010      LDI	R17,0
    01E71 940E 08F4 CALL	_cur_set
(0752) 		    pageNum=3;
    01E73 E083      LDI	R24,3
    01E74 E090      LDI	R25,0
    01E75 9390 0A8C STS	pageNum+1,R25
    01E77 9380 0A8B STS	pageNum,R24
(0753) 		    return;
    01E79 C206      RJMP	0x2080
(0754) 	  }else if(keyV=='u'){
    01E7A 2D8A      MOV	R24,R10
    01E7B 3785      CPI	R24,0x75
    01E7C F009      BEQ	0x1E7E
    01E7D C046      RJMP	0x1EC4
(0755) 	     if(cur==133){
    01E7E 3845      CPI	R20,0x85
    01E7F E0E0      LDI	R30,0
    01E80 075E      CPC	R21,R30
    01E81 F479      BNE	0x1E91
(0756) 		    Set_White(1,1,2);
    01E82 E082      LDI	R24,2
    01E83 8388      ST	Y,R24
    01E84 E021      LDI	R18,1
    01E85 E001      LDI	R16,1
    01E86 940E 09A8 CALL	_Set_White
(0757) 			Set_White_off(1,2,2);
    01E88 E082      LDI	R24,2
    01E89 8388      ST	Y,R24
    01E8A E022      LDI	R18,2
    01E8B E001      LDI	R16,1
    01E8C 940E 0938 CALL	_Set_White_off
(0758) 			cur=132;
    01E8E E844      LDI	R20,0x84
    01E8F E050      LDI	R21,0
(0759) 		 }else if(cur==134){
    01E90 C1EE      RJMP	0x207F
    01E91 3846      CPI	R20,0x86
    01E92 E0E0      LDI	R30,0
    01E93 075E      CPC	R21,R30
    01E94 F479      BNE	0x1EA4
(0760) 		    Set_White(1,2,2);
    01E95 E082      LDI	R24,2
    01E96 8388      ST	Y,R24
    01E97 E022      LDI	R18,2
    01E98 E001      LDI	R16,1
    01E99 940E 09A8 CALL	_Set_White
(0761) 			Set_White_off(1,3,2);
    01E9B E082      LDI	R24,2
    01E9C 8388      ST	Y,R24
    01E9D E023      LDI	R18,3
    01E9E E001      LDI	R16,1
    01E9F 940E 0938 CALL	_Set_White_off
(0762) 			cur=133;
    01EA1 E845      LDI	R20,0x85
    01EA2 E050      LDI	R21,0
(0763) 		 }else if(cur>10 && cur<=131){
    01EA3 C1DB      RJMP	0x207F
    01EA4 E08A      LDI	R24,0xA
    01EA5 E090      LDI	R25,0
    01EA6 1784      CP	R24,R20
    01EA7 0795      CPC	R25,R21
    01EA8 F008      BCS	0x1EAA
    01EA9 C1D5      RJMP	0x207F
    01EAA E883      LDI	R24,0x83
    01EAB 1784      CP	R24,R20
    01EAC 0795      CPC	R25,R21
    01EAD F408      BCC	0x1EAF
    01EAE C1D0      RJMP	0x207F
(0764) 		   oldcur=cur;
    01EAF 01BA      MOVW	R22,R20
(0765) 	       cur=(cur/11-1)*11;
    01EB0 E02B      LDI	R18,0xB
    01EB1 E030      LDI	R19,0
    01EB2 018A      MOVW	R16,R20
    01EB3 940E 3986 CALL	div16u
    01EB5 0198      MOVW	R18,R16
    01EB6 5021      SUBI	R18,1
    01EB7 4030      SBCI	R19,0
    01EB8 E00B      LDI	R16,0xB
    01EB9 E010      LDI	R17,0
    01EBA 940E 39A0 CALL	empy16s
    01EBC 01A8      MOVW	R20,R16
(0766) 		   page4_ac(cur,oldcur,dataCach);
    01EBD 01CE      MOVW	R24,R28
    01EBE 9602      ADIW	R24,2
    01EBF 8399      STD	Y+1,R25
    01EC0 8388      ST	Y,R24
    01EC1 019B      MOVW	R18,R22
    01EC2 DE21      RCALL	_page4_ac
(0767) 		 }
(0768) 	  }else if(keyV=='d'){
    01EC3 C1BB      RJMP	0x207F
    01EC4 2D8A      MOV	R24,R10
    01EC5 3684      CPI	R24,0x64
    01EC6 F009      BEQ	0x1EC8
    01EC7 C040      RJMP	0x1F08
(0769) 	     if(cur==132){
    01EC8 3844      CPI	R20,0x84
    01EC9 E0E0      LDI	R30,0
    01ECA 075E      CPC	R21,R30
    01ECB F479      BNE	0x1EDB
(0770) 		    Set_White_off(1,1,2);
    01ECC E082      LDI	R24,2
    01ECD 8388      ST	Y,R24
    01ECE E021      LDI	R18,1
    01ECF E001      LDI	R16,1
    01ED0 940E 0938 CALL	_Set_White_off
(0771) 			Set_White(1,2,2);
    01ED2 E082      LDI	R24,2
    01ED3 8388      ST	Y,R24
    01ED4 E022      LDI	R18,2
    01ED5 E001      LDI	R16,1
    01ED6 940E 09A8 CALL	_Set_White
(0772) 			cur=133;
    01ED8 E845      LDI	R20,0x85
    01ED9 E050      LDI	R21,0
(0773) 		 }else if(cur==133){
    01EDA C1A4      RJMP	0x207F
    01EDB 3845      CPI	R20,0x85
    01EDC E0E0      LDI	R30,0
    01EDD 075E      CPC	R21,R30
    01EDE F479      BNE	0x1EEE
(0774) 		    Set_White_off(1,2,2);
    01EDF E082      LDI	R24,2
    01EE0 8388      ST	Y,R24
    01EE1 E022      LDI	R18,2
    01EE2 E001      LDI	R16,1
    01EE3 940E 0938 CALL	_Set_White_off
(0775) 			Set_White(1,3,2);
    01EE5 E082      LDI	R24,2
    01EE6 8388      ST	Y,R24
    01EE7 E023      LDI	R18,3
    01EE8 E001      LDI	R16,1
    01EE9 940E 09A8 CALL	_Set_White
(0776) 			cur=134;
    01EEB E846      LDI	R20,0x86
    01EEC E050      LDI	R21,0
(0777) 		 }else if(cur<121){
    01EED C191      RJMP	0x207F
    01EEE 3749      CPI	R20,0x79
    01EEF E0E0      LDI	R30,0
    01EF0 075E      CPC	R21,R30
    01EF1 F008      BCS	0x1EF3
    01EF2 C18C      RJMP	0x207F
(0778) 	      oldcur=cur;
    01EF3 01BA      MOVW	R22,R20
(0779) 	      cur=(cur/11+1)*11;
    01EF4 E02B      LDI	R18,0xB
    01EF5 E030      LDI	R19,0
    01EF6 018A      MOVW	R16,R20
    01EF7 940E 3986 CALL	div16u
    01EF9 0198      MOVW	R18,R16
    01EFA 5F2F      SUBI	R18,0xFF
    01EFB 4F3F      SBCI	R19,0xFF
    01EFC E00B      LDI	R16,0xB
    01EFD E010      LDI	R17,0
    01EFE 940E 39A0 CALL	empy16s
    01F00 01A8      MOVW	R20,R16
(0780) 		  page4_ac(cur,oldcur,dataCach);
    01F01 01CE      MOVW	R24,R28
    01F02 9602      ADIW	R24,2
    01F03 8399      STD	Y+1,R25
    01F04 8388      ST	Y,R24
    01F05 019B      MOVW	R18,R22
    01F06 DDDD      RCALL	_page4_ac
(0781) 		}
(0782) 		
(0783) 	  }else if(keyV=='l'){
    01F07 C177      RJMP	0x207F
    01F08 2D8A      MOV	R24,R10
    01F09 368C      CPI	R24,0x6C
    01F0A F009      BEQ	0x1F0C
    01F0B C049      RJMP	0x1F55
(0784) 	   oldcur=cur;
    01F0C 01BA      MOVW	R22,R20
(0785) 	  if(cur%11==0){
    01F0D E02B      LDI	R18,0xB
    01F0E E030      LDI	R19,0
    01F0F 018A      MOVW	R16,R20
    01F10 940E 3984 CALL	mod16u
    01F12 3000      CPI	R16,0
    01F13 0701      CPC	R16,R17
    01F14 F489      BNE	0x1F26
(0786) 	        Set_White(1,1,2);
    01F15 E082      LDI	R24,2
    01F16 8388      ST	Y,R24
    01F17 E021      LDI	R18,1
    01F18 E001      LDI	R16,1
    01F19 940E 09A8 CALL	_Set_White
(0787) 			cur_set(0);
    01F1B 2700      CLR	R16
    01F1C 2711      CLR	R17
    01F1D 940E 08F4 CALL	_cur_set
(0788) 			cur_set(4);
    01F1F E004      LDI	R16,4
    01F20 E010      LDI	R17,0
    01F21 940E 08F4 CALL	_cur_set
(0789) 			cur=132;
    01F23 E844      LDI	R20,0x84
    01F24 E050      LDI	R21,0
(0790) 	   }else if(cur%11==2 || cur%11==4 || cur%11==6 || cur%11==8){
    01F25 C159      RJMP	0x207F
    01F26 E02B      LDI	R18,0xB
    01F27 E030      LDI	R19,0
    01F28 018A      MOVW	R16,R20
    01F29 940E 3984 CALL	mod16u
    01F2B 0168      MOVW	R12,R16
    01F2C 01C6      MOVW	R24,R12
    01F2D 3002      CPI	R16,2
    01F2E E0E0      LDI	R30,0
    01F2F 071E      CPC	R17,R30
    01F30 F061      BEQ	0x1F3D
    01F31 3004      CPI	R16,4
    01F32 E0E0      LDI	R30,0
    01F33 071E      CPC	R17,R30
    01F34 F041      BEQ	0x1F3D
    01F35 3006      CPI	R16,6
    01F36 E0E0      LDI	R30,0
    01F37 071E      CPC	R17,R30
    01F38 F021      BEQ	0x1F3D
    01F39 3008      CPI	R16,0x8
    01F3A E0E0      LDI	R30,0
    01F3B 071E      CPC	R17,R30
    01F3C F451      BNE	0x1F47
(0791) 	      cur-=2;
    01F3D 5042      SUBI	R20,2
    01F3E 4050      SBCI	R21,0
(0792) 		   page4_ac(cur,oldcur,dataCach);
    01F3F 01CE      MOVW	R24,R28
    01F40 9602      ADIW	R24,2
    01F41 8399      STD	Y+1,R25
    01F42 8388      ST	Y,R24
    01F43 019B      MOVW	R18,R22
    01F44 018A      MOVW	R16,R20
    01F45 DD9E      RCALL	_page4_ac
(0793) 		}else if(cur>0){
    01F46 C138      RJMP	0x207F
    01F47 3040      CPI	R20,0
    01F48 0745      CPC	R20,R21
    01F49 F409      BNE	0x1F4B
    01F4A C134      RJMP	0x207F
(0794) 	      cur--;
    01F4B 5041      SUBI	R20,1
    01F4C 4050      SBCI	R21,0
(0795) 		   page4_ac(cur,oldcur,dataCach);
    01F4D 01CE      MOVW	R24,R28
    01F4E 9602      ADIW	R24,2
    01F4F 8399      STD	Y+1,R25
    01F50 8388      ST	Y,R24
    01F51 019B      MOVW	R18,R22
    01F52 018A      MOVW	R16,R20
    01F53 DD90      RCALL	_page4_ac
(0796) 		}
(0797) 	  
(0798) 	  }else if(keyV=='r'){
    01F54 C12A      RJMP	0x207F
    01F55 2D8A      MOV	R24,R10
    01F56 3782      CPI	R24,0x72
    01F57 F541      BNE	0x1F80
(0799) 	  if(cur>131){
    01F58 E883      LDI	R24,0x83
    01F59 E090      LDI	R25,0
    01F5A 1784      CP	R24,R20
    01F5B 0795      CPC	R25,R21
    01F5C F4A0      BCC	0x1F71
(0800) 	      Set_White_off(1,1,2);
    01F5D E082      LDI	R24,2
    01F5E 8388      ST	Y,R24
    01F5F E021      LDI	R18,1
    01F60 E001      LDI	R16,1
    01F61 940E 0938 CALL	_Set_White_off
(0801) 	      Set_White_off(1,2,2);
    01F63 E082      LDI	R24,2
    01F64 8388      ST	Y,R24
    01F65 E022      LDI	R18,2
    01F66 E001      LDI	R16,1
    01F67 940E 0938 CALL	_Set_White_off
(0802) 		  Set_White_off(1,3,2);
    01F69 E082      LDI	R24,2
    01F6A 8388      ST	Y,R24
    01F6B E023      LDI	R18,3
    01F6C E001      LDI	R16,1
    01F6D 940E 0938 CALL	_Set_White_off
(0803) 		  cur=oldcur;
    01F6F 01AB      MOVW	R20,R22
(0804) 	  }else  if(cur<131){
    01F70 C007      RJMP	0x1F78
    01F71 3843      CPI	R20,0x83
    01F72 E0E0      LDI	R30,0
    01F73 075E      CPC	R21,R30
    01F74 F418      BCC	0x1F78
(0805) 		 oldcur=cur;
    01F75 01BA      MOVW	R22,R20
(0806) 	     cur++;
    01F76 5F4F      SUBI	R20,0xFF
    01F77 4F5F      SBCI	R21,0xFF
(0807) 		 }
(0808) 	    page4_ac(cur,oldcur,dataCach);
    01F78 01CE      MOVW	R24,R28
    01F79 9602      ADIW	R24,2
    01F7A 8399      STD	Y+1,R25
    01F7B 8388      ST	Y,R24
    01F7C 019B      MOVW	R18,R22
    01F7D 018A      MOVW	R16,R20
    01F7E DD65      RCALL	_page4_ac
(0809) 	  }else if(keyV=='t'){	    
    01F7F C0FF      RJMP	0x207F
    01F80 2D8A      MOV	R24,R10
    01F81 3784      CPI	R24,0x74
    01F82 F009      BEQ	0x1F84
    01F83 C098      RJMP	0x201C
(0810) 	     if(cur==132){
    01F84 3844      CPI	R20,0x84
    01F85 E0E0      LDI	R30,0
    01F86 075E      CPC	R21,R30
    01F87 F009      BEQ	0x1F89
    01F88 C03E      RJMP	0x1FC7
(0811) 		   Set_White_off(1,1,2);
    01F89 E082      LDI	R24,2
    01F8A 8388      ST	Y,R24
    01F8B E021      LDI	R18,1
    01F8C E001      LDI	R16,1
    01F8D 940E 0938 CALL	_Set_White_off
(0812) 			Set_White_off(1,2,2);
    01F8F E082      LDI	R24,2
    01F90 8388      ST	Y,R24
    01F91 E022      LDI	R18,2
    01F92 E001      LDI	R16,1
    01F93 940E 0938 CALL	_Set_White_off
(0813) 			Set_White_off(1,3,2);
    01F95 E082      LDI	R24,2
    01F96 8388      ST	Y,R24
    01F97 E023      LDI	R18,3
    01F98 E001      LDI	R16,1
    01F99 940E 0938 CALL	_Set_White_off
(0814) 		   cur_set(0);
    01F9B 2700      CLR	R16
    01F9C 2711      CLR	R17
    01F9D 940E 08F4 CALL	_cur_set
(0815) 			cur_set(4);
    01F9F E004      LDI	R16,4
    01FA0 E010      LDI	R17,0
    01FA1 940E 08F4 CALL	_cur_set
(0816) 			lcd_clear();
    01FA3 940E 083A CALL	_lcd_clear
(0817) 			lcd_write_str(5,2,"保存中. . .");
    01FA5 EA8A      LDI	R24,0xAA
    01FA6 E099      LDI	R25,0x9
    01FA7 8399      STD	Y+1,R25
    01FA8 8388      ST	Y,R24
    01FA9 E022      LDI	R18,2
    01FAA E005      LDI	R16,5
    01FAB 940E 0783 CALL	_lcd_write_str
(0818) 		    pageParam[1]=1;//表示是温度数据的，这里处理保存的方法，因为数据在这里。只是跳转过去，参数如果是1表示成功。2表示失败
    01FAD E081      LDI	R24,1
    01FAE E090      LDI	R25,0
    01FAF 9390 0A84 STS	pageParam+3,R25
    01FB1 9380 0A83 STS	pageParam+2,R24
(0819) 		    prePageNum=4;
    01FB3 E084      LDI	R24,4
    01FB4 9390 0A80 STS	prePageNum+1,R25
    01FB6 9380 0A7F STS	prePageNum,R24
(0820) 		    pageNum=6;
    01FB8 E086      LDI	R24,6
    01FB9 9390 0A8C STS	pageNum+1,R25
    01FBB 9380 0A8B STS	pageNum,R24
(0821) 			set_temp_data(pageParam[0],dataCach);//保存数据
    01FBD 019E      MOVW	R18,R28
    01FBE 5F2E      SUBI	R18,0xFE
    01FBF 4F3F      SBCI	R19,0xFF
    01FC0 9100 0A81 LDS	R16,pageParam
    01FC2 9110 0A82 LDS	R17,pageParam+1
    01FC4 940E 3386 CALL	_set_temp_data
(0822) 		    return;
    01FC6 C0B9      RJMP	0x2080
(0823) 		 }else if(cur==133){
    01FC7 3845      CPI	R20,0x85
    01FC8 E0E0      LDI	R30,0
    01FC9 075E      CPC	R21,R30
    01FCA F509      BNE	0x1FEC
(0824) 		    Set_White_off(1,1,2);
    01FCB E082      LDI	R24,2
    01FCC 8388      ST	Y,R24
    01FCD E021      LDI	R18,1
    01FCE E001      LDI	R16,1
    01FCF 940E 0938 CALL	_Set_White_off
(0825) 			Set_White_off(1,2,2);
    01FD1 E082      LDI	R24,2
    01FD2 8388      ST	Y,R24
    01FD3 E022      LDI	R18,2
    01FD4 E001      LDI	R16,1
    01FD5 940E 0938 CALL	_Set_White_off
(0826) 			Set_White_off(1,3,2);
    01FD7 E082      LDI	R24,2
    01FD8 8388      ST	Y,R24
    01FD9 E023      LDI	R18,3
    01FDA E001      LDI	R16,1
    01FDB 940E 0938 CALL	_Set_White_off
(0827) 		    cur_set(0);
    01FDD 2700      CLR	R16
    01FDE 2711      CLR	R17
    01FDF 940E 08F4 CALL	_cur_set
(0828) 			cur_set(4);
    01FE1 E004      LDI	R16,4
    01FE2 E010      LDI	R17,0
    01FE3 940E 08F4 CALL	_cur_set
(0829) 		    pageNum=3;
    01FE5 E083      LDI	R24,3
    01FE6 E090      LDI	R25,0
    01FE7 9390 0A8C STS	pageNum+1,R25
    01FE9 9380 0A8B STS	pageNum,R24
(0830) 		    return;
    01FEB C094      RJMP	0x2080
(0831) 		 }else if(cur==134){
    01FEC 3846      CPI	R20,0x86
    01FED E0E0      LDI	R30,0
    01FEE 075E      CPC	R21,R30
    01FEF F009      BEQ	0x1FF1
    01FF0 C08E      RJMP	0x207F
(0832) 		    Set_White_off(1,1,2);
    01FF1 E082      LDI	R24,2
    01FF2 8388      ST	Y,R24
    01FF3 E021      LDI	R18,1
    01FF4 E001      LDI	R16,1
    01FF5 940E 0938 CALL	_Set_White_off
(0833) 			Set_White_off(1,2,2);
    01FF7 E082      LDI	R24,2
    01FF8 8388      ST	Y,R24
    01FF9 E022      LDI	R18,2
    01FFA E001      LDI	R16,1
    01FFB 940E 0938 CALL	_Set_White_off
(0834) 			Set_White_off(1,3,2);
    01FFD E082      LDI	R24,2
    01FFE 8388      ST	Y,R24
    01FFF E023      LDI	R18,3
    02000 E001      LDI	R16,1
    02001 940E 0938 CALL	_Set_White_off
(0835) 		   cur_set(0);
    02003 2700      CLR	R16
    02004 2711      CLR	R17
    02005 940E 08F4 CALL	_cur_set
(0836) 			cur_set(4);
    02007 E004      LDI	R16,4
    02008 E010      LDI	R17,0
    02009 940E 08F4 CALL	_cur_set
(0837) 		   //重置。有提示
(0838) 			pageParam[2]=1;//表示重置是温度数据的
    0200B E081      LDI	R24,1
    0200C E090      LDI	R25,0
    0200D 9390 0A86 STS	pageParam+5,R25
    0200F 9380 0A85 STS	pageParam+4,R24
(0839) 			prePageNum=4;
    02011 E084      LDI	R24,4
    02012 9390 0A80 STS	prePageNum+1,R25
    02014 9380 0A7F STS	prePageNum,R24
(0840) 		    pageNum=7;
    02016 E087      LDI	R24,7
    02017 9390 0A8C STS	pageNum+1,R25
    02019 9380 0A8B STS	pageNum,R24
(0841) 		    return;
    0201B C064      RJMP	0x2080
(0842) 		 }
(0843) 	     
(0844) 	  }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    0201C 2D8A      MOV	R24,R10
    0201D 3380      CPI	R24,0x30
    0201E F099      BEQ	0x2032
    0201F 3381      CPI	R24,0x31
    02020 F089      BEQ	0x2032
    02021 3382      CPI	R24,0x32
    02022 F079      BEQ	0x2032
    02023 3383      CPI	R24,0x33
    02024 F069      BEQ	0x2032
    02025 3384      CPI	R24,0x34
    02026 F059      BEQ	0x2032
    02027 3385      CPI	R24,0x35
    02028 F049      BEQ	0x2032
    02029 3386      CPI	R24,0x36
    0202A F039      BEQ	0x2032
    0202B 3387      CPI	R24,0x37
    0202C F029      BEQ	0x2032
    0202D 3388      CPI	R24,0x38
    0202E F019      BEQ	0x2032
    0202F 3389      CPI	R24,0x39
    02030 F009      BEQ	0x2032
    02031 C04D      RJMP	0x207F
(0845) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(0846) 			  if(cur <132){//判断还在输入域
    02032 3844      CPI	R20,0x84
    02033 E0E0      LDI	R30,0
    02034 075E      CPC	R21,R30
    02035 F008      BCS	0x2037
    02036 C048      RJMP	0x207F
(0847) 			   if((cur/11)%3==0){
    02037 E02B      LDI	R18,0xB
    02038 E030      LDI	R19,0
    02039 018A      MOVW	R16,R20
    0203A 940E 3986 CALL	div16u
    0203C E023      LDI	R18,3
    0203D E030      LDI	R19,0
    0203E 940E 3984 CALL	mod16u
    02040 3000      CPI	R16,0
    02041 0701      CPC	R16,R17
    02042 F431      BNE	0x2049
(0848) 			      lcd_write_char_con(1,0x30 | keyV);
    02043 2D2A      MOV	R18,R10
    02044 6320      ORI	R18,0x30
    02045 E001      LDI	R16,1
    02046 940E 072B CALL	_lcd_write_char_con
(0849) 				}else{
    02048 C005      RJMP	0x204E
(0850) 				  lcd_write_char_con(2,0x30 | keyV);
    02049 2D2A      MOV	R18,R10
    0204A 6320      ORI	R18,0x30
    0204B E002      LDI	R16,2
    0204C 940E 072B CALL	_lcd_write_char_con
(0851) 				}
(0852) 				dataCach[cur]=keyV-48;
    0204E 01CE      MOVW	R24,R28
    0204F 9602      ADIW	R24,2
    02050 01FA      MOVW	R30,R20
    02051 0FEE      LSL	R30
    02052 1FFF      ROL	R31
    02053 0FE8      ADD	R30,R24
    02054 1FF9      ADC	R31,R25
    02055 2D8A      MOV	R24,R10
    02056 2799      CLR	R25
    02057 97C0      SBIW	R24,0x30
    02058 8391      STD	Z+1,R25
    02059 8380      ST	Z,R24
(0853) 				oldcur=cur;
    0205A 01BA      MOVW	R22,R20
(0854) 				if(cur<131)
    0205B 3863      CPI	R22,0x83
    0205C E0E0      LDI	R30,0
    0205D 077E      CPC	R23,R30
    0205E F450      BCC	0x2069
(0855) 				{
(0856) 				  cur++;
    0205F 5F4F      SUBI	R20,0xFF
    02060 4F5F      SBCI	R21,0xFF
(0857) 				  page4_ac(cur,oldcur,dataCach);
    02061 01CE      MOVW	R24,R28
    02062 9602      ADIW	R24,2
    02063 8399      STD	Y+1,R25
    02064 8388      ST	Y,R24
    02065 019B      MOVW	R18,R22
    02066 018A      MOVW	R16,R20
    02067 DC7C      RCALL	_page4_ac
(0858) 				}else if(cur==131){//最后一个131会在上面处理，最后一次进入这里。跳到保存
    02068 C016      RJMP	0x207F
    02069 3843      CPI	R20,0x83
    0206A E0E0      LDI	R30,0
    0206B 075E      CPC	R21,R30
    0206C F491      BNE	0x207F
(0859) 				  Set_White(1,1,2);
    0206D E082      LDI	R24,2
    0206E 8388      ST	Y,R24
    0206F E021      LDI	R18,1
    02070 E001      LDI	R16,1
    02071 940E 09A8 CALL	_Set_White
(0860) 			       cur_set(0);
    02073 2700      CLR	R16
    02074 2711      CLR	R17
    02075 940E 08F4 CALL	_cur_set
(0861) 			       cur_set(4);
    02077 E004      LDI	R16,4
    02078 E010      LDI	R17,0
    02079 940E 08F4 CALL	_cur_set
(0862) 			       cur=132;
    0207B E844      LDI	R20,0x84
    0207C E050      LDI	R21,0
(0863) 				   oldcur=99;
    0207D E663      LDI	R22,0x63
    0207E E070      LDI	R23,0
    0207F CDD4      RJMP	0x1E54
    02080 96EF      ADIW	R28,0x3F
    02081 96EF      ADIW	R28,0x3F
    02082 96EF      ADIW	R28,0x3F
    02083 96EF      ADIW	R28,0x3F
    02084 962C      ADIW	R28,0xC
    02085 940C 3A0B JMP	pop_xgsetF03C
_page5:
  ddflag               --> R22
  cur                  --> R20
  keyV                 --> R10
    02087 940E 39E6 CALL	push_xgsetF00C
    02089 9722      SBIW	R28,2
(0864) 				}
(0865) 				
(0866) 			  }
(0867) 		}
(0868) 	}
(0869)  }
(0870)  
(0871)  void page5(void){
(0872)   uint cur=0;
    0208A 2744      CLR	R20
    0208B 2755      CLR	R21
(0873)    uchar keyV;
(0874)    uint ddflag;
(0875)    lcd_write_str(4,0,"断电自动恢复");
    0208C E98D      LDI	R24,0x9D
    0208D E099      LDI	R25,0x9
    0208E 8399      STD	Y+1,R25
    0208F 8388      ST	Y,R24
    02090 2722      CLR	R18
    02091 E004      LDI	R16,4
    02092 940E 0783 CALL	_lcd_write_str
(0876)    lcd_write_str(4,1,"设置时间");
    02094 E984      LDI	R24,0x94
    02095 E099      LDI	R25,0x9
    02096 8399      STD	Y+1,R25
    02097 8388      ST	Y,R24
    02098 E021      LDI	R18,1
    02099 E004      LDI	R16,4
    0209A 940E 0783 CALL	_lcd_write_str
(0877)    lcd_write_str(4,2,"重置系统");
    0209C E88B      LDI	R24,0x8B
    0209D E099      LDI	R25,0x9
    0209E 8399      STD	Y+1,R25
    0209F 8388      ST	Y,R24
    020A0 E022      LDI	R18,2
    020A1 E004      LDI	R16,4
    020A2 940E 0783 CALL	_lcd_write_str
(0878)     ddflag=EEPROM_read(0,0);
    020A4 2722      CLR	R18
    020A5 2733      CLR	R19
    020A6 2700      CLR	R16
    020A7 2711      CLR	R17
    020A8 940E 120F CALL	_EEPROM_read
    020AA 01B8      MOVW	R22,R16
(0879) 	if(ddflag==0){
    020AB 3000      CPI	R16,0
    020AC 0701      CPC	R16,R17
    020AD F459      BNE	0x20B9
(0880)       lcd_write_char(3,0,0xA1);
    020AE EA81      LDI	R24,0xA1
    020AF 8388      ST	Y,R24
    020B0 2722      CLR	R18
    020B1 E003      LDI	R16,3
    020B2 940E 075D CALL	_lcd_write_char
(0881)       lcd_write_char_con(0,0xC1);
    020B4 EC21      LDI	R18,0xC1
    020B5 2700      CLR	R16
    020B6 940E 072B CALL	_lcd_write_char_con
(0882)    }else {
    020B8 C00A      RJMP	0x20C3
(0883)       lcd_write_char(3,0,0xA1);
    020B9 EA81      LDI	R24,0xA1
    020BA 8388      ST	Y,R24
    020BB 2722      CLR	R18
    020BC E003      LDI	R16,3
    020BD 940E 075D CALL	_lcd_write_char
(0884)       lcd_write_char_con(0,0xCC);
    020BF EC2C      LDI	R18,0xCC
    020C0 2700      CLR	R16
    020C1 940E 072B CALL	_lcd_write_char_con
(0885)    }
(0886)    cur=0;
    020C3 2744      CLR	R20
    020C4 2755      CLR	R21
(0887)    Set_White(5,0,10);
    020C5 E08A      LDI	R24,0xA
    020C6 8388      ST	Y,R24
    020C7 2722      CLR	R18
    020C8 E005      LDI	R16,5
    020C9 940E 09A8 CALL	_Set_White
    020CB C0DC      RJMP	0x21A8
(0888)    while(1){
(0889)       keyV=KeyScan_once();
    020CC 940E 0620 CALL	_KeyScan_once
    020CE 2EA0      MOV	R10,R16
(0890) 	  if(keyV=='u'){
    020CF 3705      CPI	R16,0x75
    020D0 F539      BNE	0x20F8
(0891) 	    switch(cur){
    020D1 3041      CPI	R20,1
    020D2 E0E0      LDI	R30,0
    020D3 075E      CPC	R21,R30
    020D4 F029      BEQ	0x20DA
    020D5 3042      CPI	R20,2
    020D6 E0E0      LDI	R30,0
    020D7 075E      CPC	R21,R30
    020D8 F081      BEQ	0x20E9
    020D9 C0CE      RJMP	0x21A8
(0892) 		  case 1:
(0893) 		   Set_White_off(5,1,8);
    020DA E088      LDI	R24,0x8
    020DB 8388      ST	Y,R24
    020DC E021      LDI	R18,1
    020DD E005      LDI	R16,5
    020DE 940E 0938 CALL	_Set_White_off
(0894) 		   Set_White(5,0,10);
    020E0 E08A      LDI	R24,0xA
    020E1 8388      ST	Y,R24
    020E2 2722      CLR	R18
    020E3 E005      LDI	R16,5
    020E4 940E 09A8 CALL	_Set_White
(0895) 		   cur=0;
    020E6 2744      CLR	R20
    020E7 2755      CLR	R21
(0896) 		   break;
    020E8 C0BF      RJMP	0x21A8
(0897) 		  case 2: 
(0898) 		   Set_White_off(5,2,8);
    020E9 E088      LDI	R24,0x8
    020EA 8388      ST	Y,R24
    020EB E022      LDI	R18,2
    020EC E005      LDI	R16,5
    020ED 940E 0938 CALL	_Set_White_off
(0899) 		   Set_White(5,1,8);
    020EF E088      LDI	R24,0x8
    020F0 8388      ST	Y,R24
    020F1 E021      LDI	R18,1
    020F2 E005      LDI	R16,5
    020F3 940E 09A8 CALL	_Set_White
(0900) 		   cur=1;
    020F5 E041      LDI	R20,1
    020F6 E050      LDI	R21,0
(0901) 		   break;
(0902) 		}
(0903) 	  }else if(keyV=='d'){
    020F7 C0B0      RJMP	0x21A8
    020F8 2D8A      MOV	R24,R10
    020F9 3684      CPI	R24,0x64
    020FA F531      BNE	0x2121
(0904) 	      switch(cur){
    020FB 3040      CPI	R20,0
    020FC 0745      CPC	R20,R21
    020FD F029      BEQ	0x2103
    020FE 3041      CPI	R20,1
    020FF E0E0      LDI	R30,0
    02100 075E      CPC	R21,R30
    02101 F081      BEQ	0x2112
    02102 C0A5      RJMP	0x21A8
(0905) 		  case 0:
(0906) 		   Set_White_off(5,0,10);
    02103 E08A      LDI	R24,0xA
    02104 8388      ST	Y,R24
    02105 2722      CLR	R18
    02106 E005      LDI	R16,5
    02107 940E 0938 CALL	_Set_White_off
(0907) 		   Set_White(5,1,8);
    02109 E088      LDI	R24,0x8
    0210A 8388      ST	Y,R24
    0210B E021      LDI	R18,1
    0210C E005      LDI	R16,5
    0210D 940E 09A8 CALL	_Set_White
(0908) 		   cur=1;
    0210F E041      LDI	R20,1
    02110 E050      LDI	R21,0
(0909) 		   break;
    02111 C096      RJMP	0x21A8
(0910) 		  case 1: 
(0911) 		   Set_White_off(5,1,8);
    02112 E088      LDI	R24,0x8
    02113 8388      ST	Y,R24
    02114 E021      LDI	R18,1
    02115 E005      LDI	R16,5
    02116 940E 0938 CALL	_Set_White_off
(0912) 		   Set_White(5,2,8);
    02118 E088      LDI	R24,0x8
    02119 8388      ST	Y,R24
    0211A E022      LDI	R18,2
    0211B E005      LDI	R16,5
    0211C 940E 09A8 CALL	_Set_White
(0913) 		   cur=2;
    0211E E042      LDI	R20,2
    0211F E050      LDI	R21,0
(0914) 		   break;
(0915) 		}
(0916) 	  }else if(keyV=='e'){
    02120 C087      RJMP	0x21A8
    02121 2D8A      MOV	R24,R10
    02122 3685      CPI	R24,0x65
    02123 F539      BNE	0x214B
(0917) 	     switch(cur){
    02124 3040      CPI	R20,0
    02125 0745      CPC	R20,R21
    02126 F049      BEQ	0x2130
    02127 3041      CPI	R20,1
    02128 E0E0      LDI	R30,0
    02129 075E      CPC	R21,R30
    0212A F061      BEQ	0x2137
    0212B 3042      CPI	R20,2
    0212C E0E0      LDI	R30,0
    0212D 075E      CPC	R21,R30
    0212E F079      BEQ	0x213E
    0212F C014      RJMP	0x2144
(0918) 		 case 0: 
(0919) 		   Set_White_off(5,0,10);
    02130 E08A      LDI	R24,0xA
    02131 8388      ST	Y,R24
    02132 2722      CLR	R18
    02133 E005      LDI	R16,5
    02134 940E 0938 CALL	_Set_White_off
(0920) 		    break;
    02136 C00D      RJMP	0x2144
(0921) 		 case 1:
(0922) 		   Set_White_off(5,1,8);
    02137 E088      LDI	R24,0x8
    02138 8388      ST	Y,R24
    02139 E021      LDI	R18,1
    0213A E005      LDI	R16,5
    0213B 940E 0938 CALL	_Set_White_off
(0923) 		   break;
    0213D C006      RJMP	0x2144
(0924) 		 case 2:
(0925) 		  Set_White_off(5,2,8);
    0213E E088      LDI	R24,0x8
    0213F 8388      ST	Y,R24
    02140 E022      LDI	R18,2
    02141 E005      LDI	R16,5
    02142 940E 0938 CALL	_Set_White_off
(0926) 		  break;
(0927) 	
(0928) 		  default:
(0929) 		   break;
(0930) 		 }
(0931) 	    pageNum=1;
    02144 E081      LDI	R24,1
    02145 E090      LDI	R25,0
    02146 9390 0A8C STS	pageNum+1,R25
    02148 9380 0A8B STS	pageNum,R24
(0932) 		return;
    0214A C05E      RJMP	0x21A9
(0933) 	  }else if(keyV=='t'){
    0214B 2D8A      MOV	R24,R10
    0214C 3784      CPI	R24,0x74
    0214D F009      BEQ	0x214F
    0214E C059      RJMP	0x21A8
(0934) 	    switch(cur){
    0214F 3040      CPI	R20,0
    02150 0745      CPC	R20,R21
    02151 F049      BEQ	0x215B
    02152 3041      CPI	R20,1
    02153 E0E0      LDI	R30,0
    02154 075E      CPC	R21,R30
    02155 F171      BEQ	0x2184
    02156 3042      CPI	R20,2
    02157 E0E0      LDI	R30,0
    02158 075E      CPC	R21,R30
    02159 F1B1      BEQ	0x2190
    0215A C04D      RJMP	0x21A8
(0935) 		  case 0:
(0936) 		     //执行EEPROM操作
(0937) 			 if(ddflag==0){
    0215B 3060      CPI	R22,0
    0215C 0767      CPC	R22,R23
    0215D F419      BNE	0x2161
(0938) 			   ddflag=1;
    0215E E061      LDI	R22,1
    0215F E070      LDI	R23,0
(0939) 			 }else{
    02160 C002      RJMP	0x2163
(0940) 			   ddflag=0;
    02161 2766      CLR	R22
    02162 2777      CLR	R23
(0941) 			 }
(0942) 			 EEPROM_write(0,0,ddflag);//写入到EEPROM
    02163 8379      STD	Y+1,R23
    02164 8368      ST	Y,R22
    02165 2722      CLR	R18
    02166 2733      CLR	R19
    02167 2700      CLR	R16
    02168 2711      CLR	R17
    02169 940E 11F8 CALL	_EEPROM_write
(0943) 			if(ddflag==0){
    0216B 3060      CPI	R22,0
    0216C 0767      CPC	R22,R23
    0216D F459      BNE	0x2179
(0944)                lcd_write_char(3,0,0xA1);
    0216E EA81      LDI	R24,0xA1
    0216F 8388      ST	Y,R24
    02170 2722      CLR	R18
    02171 E003      LDI	R16,3
    02172 940E 075D CALL	_lcd_write_char
(0945)                lcd_write_char_con(0,0xC1);
    02174 EC21      LDI	R18,0xC1
    02175 2700      CLR	R16
    02176 940E 072B CALL	_lcd_write_char_con
(0946)             }else{
    02178 C02F      RJMP	0x21A8
(0947)               lcd_write_char(3,0,0xA1);
    02179 EA81      LDI	R24,0xA1
    0217A 8388      ST	Y,R24
    0217B 2722      CLR	R18
    0217C E003      LDI	R16,3
    0217D 940E 075D CALL	_lcd_write_char
(0948)               lcd_write_char_con(0,0xCC);
    0217F EC2C      LDI	R18,0xCC
    02180 2700      CLR	R16
    02181 940E 072B CALL	_lcd_write_char_con
(0949)             }
(0950) 		    break;
    02183 C024      RJMP	0x21A8
(0951) 		  case 1:
(0952) 		   pageNum=8;
    02184 E088      LDI	R24,0x8
    02185 E090      LDI	R25,0
    02186 9390 0A8C STS	pageNum+1,R25
    02188 9380 0A8B STS	pageNum,R24
(0953) 		   Set_White_off(5,1,8);
    0218A 8388      ST	Y,R24
    0218B E021      LDI	R18,1
    0218C E005      LDI	R16,5
    0218D 940E 0938 CALL	_Set_White_off
(0954) 		   return;
    0218F C019      RJMP	0x21A9
(0955) 		  
(0956) 		  case 2://重置系统
(0957) 		    prePageNum=5;
    02190 E085      LDI	R24,5
    02191 E090      LDI	R25,0
    02192 9390 0A80 STS	prePageNum+1,R25
    02194 9380 0A7F STS	prePageNum,R24
(0958) 		    pageNum=7;
    02196 E087      LDI	R24,7
    02197 9390 0A8C STS	pageNum+1,R25
    02199 9380 0A8B STS	pageNum,R24
(0959) 			pageParam[2]=0;
    0219B 2422      CLR	R2
    0219C 2433      CLR	R3
    0219D 9230 0A86 STS	pageParam+5,R3
    0219F 9220 0A85 STS	pageParam+4,R2
(0960) 		    Set_White_off(5,2,8);
    021A1 E088      LDI	R24,0x8
    021A2 8388      ST	Y,R24
    021A3 E022      LDI	R18,2
    021A4 E005      LDI	R16,5
    021A5 940E 0938 CALL	_Set_White_off
(0961) 		   return;
    021A7 C001      RJMP	0x21A9
    021A8 CF23      RJMP	0x20CC
    021A9 9622      ADIW	R28,2
    021AA 940C 39ED JMP	pop_xgsetF00C
_page6:
    021AC 9722      SBIW	R28,2
(0962) 		}
(0963) 	    
(0964) 	  }
(0965)    }
(0966)    
(0967)  }
(0968)  void page6(void){//复用的方法
(0969)  if(pageParam[1]==0){
    021AD 9020 0A83 LDS	R2,pageParam+2
    021AF 9030 0A84 LDS	R3,pageParam+3
    021B1 2022      TST	R2
    021B2 F459      BNE	0x21BE
    021B3 2033      TST	R3
    021B4 F449      BNE	0x21BE
(0970)      lcd_write_str(4,1,"时间保存成功！");
    021B5 E78C      LDI	R24,0x7C
    021B6 E099      LDI	R25,0x9
    021B7 8399      STD	Y+1,R25
    021B8 8388      ST	Y,R24
    021B9 E021      LDI	R18,1
    021BA E004      LDI	R16,4
    021BB 940E 0783 CALL	_lcd_write_str
(0971)    }else if(pageParam[1]==1){
    021BD C021      RJMP	0x21DF
    021BE 9180 0A83 LDS	R24,pageParam+2
    021C0 9190 0A84 LDS	R25,pageParam+3
    021C2 3081      CPI	R24,1
    021C3 E0E0      LDI	R30,0
    021C4 079E      CPC	R25,R30
    021C5 F449      BNE	0x21CF
(0972)      lcd_write_str(4,1,"温度保存成功！");
    021C6 E68D      LDI	R24,0x6D
    021C7 E099      LDI	R25,0x9
    021C8 8399      STD	Y+1,R25
    021C9 8388      ST	Y,R24
    021CA E021      LDI	R18,1
    021CB E004      LDI	R16,4
    021CC 940E 0783 CALL	_lcd_write_str
(0973)    }else if(pageParam[1]==2){
    021CE C010      RJMP	0x21DF
    021CF 9180 0A83 LDS	R24,pageParam+2
    021D1 9190 0A84 LDS	R25,pageParam+3
    021D3 3082      CPI	R24,2
    021D4 E0E0      LDI	R30,0
    021D5 079E      CPC	R25,R30
    021D6 F441      BNE	0x21DF
(0974)      lcd_write_str(4,1,"温度保存失败！");
    021D7 E58E      LDI	R24,0x5E
    021D8 E099      LDI	R25,0x9
    021D9 8399      STD	Y+1,R25
    021DA 8388      ST	Y,R24
    021DB E021      LDI	R18,1
    021DC E004      LDI	R16,4
    021DD 940E 0783 CALL	_lcd_write_str
(0975)    }
(0976)    delay_ms(100);
    021DF E604      LDI	R16,0x64
    021E0 E010      LDI	R17,0
    021E1 940E 0533 CALL	_delay_ms
(0977)    pageNum=prePageNum;
    021E3 9020 0A7F LDS	R2,prePageNum
    021E5 9030 0A80 LDS	R3,prePageNum+1
    021E7 9230 0A8C STS	pageNum+1,R3
    021E9 9220 0A8B STS	pageNum,R2
    021EB 9622      ADIW	R28,2
    021EC 9508      RET
_page7:
  cur                  --> R20
  keyV                 --> R10
    021ED 940E 39E6 CALL	push_xgsetF00C
    021EF 9722      SBIW	R28,2
(0978)  }
(0979)  void page7(void){
(0980)    uint cur=1;
    021F0 E041      LDI	R20,1
    021F1 E050      LDI	R21,0
(0981)    uchar keyV;
(0982)    lcd_write_str(2,0,"是否重置");
    021F2 E585      LDI	R24,0x55
    021F3 E099      LDI	R25,0x9
    021F4 8399      STD	Y+1,R25
    021F5 8388      ST	Y,R24
    021F6 2722      CLR	R18
    021F7 E002      LDI	R16,2
    021F8 940E 0783 CALL	_lcd_write_str
(0983)    lcd_write_str(2,2,"确认");
    021FA E580      LDI	R24,0x50
    021FB E099      LDI	R25,0x9
    021FC 8399      STD	Y+1,R25
    021FD 8388      ST	Y,R24
    021FE E022      LDI	R18,2
    021FF E002      LDI	R16,2
    02200 940E 0783 CALL	_lcd_write_str
(0984)    lcd_write_str(8,2,"取消");
    02202 E187      LDI	R24,0x17
    02203 E09A      LDI	R25,0xA
    02204 8399      STD	Y+1,R25
    02205 8388      ST	Y,R24
    02206 E022      LDI	R18,2
    02207 E008      LDI	R16,0x8
    02208 940E 0783 CALL	_lcd_write_str
(0985)    Set_White(9,2,10);
    0220A E08A      LDI	R24,0xA
    0220B 8388      ST	Y,R24
    0220C E022      LDI	R18,2
    0220D E009      LDI	R16,0x9
    0220E 940E 09A8 CALL	_Set_White
    02210 C078      RJMP	0x2289
(0986)     while(1){
(0987)       keyV=KeyScan_once();
    02211 940E 0620 CALL	_KeyScan_once
    02213 2EA0      MOV	R10,R16
(0988) 	  switch(keyV){
    02214 2D6A      MOV	R22,R10
    02215 2777      CLR	R23
    02216 366C      CPI	R22,0x6C
    02217 E0E0      LDI	R30,0
    02218 077E      CPC	R23,R30
    02219 F0A1      BEQ	0x222E
    0221A E68C      LDI	R24,0x6C
    0221B E090      LDI	R25,0
    0221C 1786      CP	R24,R22
    0221D 0797      CPC	R25,R23
    0221E F034      BLT	0x2225
    0221F 3665      CPI	R22,0x65
    02220 E0E0      LDI	R30,0
    02221 077E      CPC	R23,R30
    02222 F409      BNE	0x2224
    02223 C050      RJMP	0x2274
    02224 C064      RJMP	0x2289
    02225 3762      CPI	R22,0x72
    02226 E0E0      LDI	R30,0
    02227 077E      CPC	R23,R30
    02228 F0C9      BEQ	0x2242
    02229 3764      CPI	R22,0x74
    0222A E0E0      LDI	R30,0
    0222B 077E      CPC	R23,R30
    0222C F141      BEQ	0x2255
    0222D C05B      RJMP	0x2289
(0989) 	    case 'l':
(0990) 		   if(cur==1){
    0222E 3041      CPI	R20,1
    0222F E0E0      LDI	R30,0
    02230 075E      CPC	R21,R30
    02231 F009      BEQ	0x2233
    02232 C056      RJMP	0x2289
(0991) 		      Set_White_off(9,2,10);
    02233 E08A      LDI	R24,0xA
    02234 8388      ST	Y,R24
    02235 E022      LDI	R18,2
    02236 E009      LDI	R16,0x9
    02237 940E 0938 CALL	_Set_White_off
(0992) 		      Set_White(3,2,4);
    02239 E084      LDI	R24,4
    0223A 8388      ST	Y,R24
    0223B E022      LDI	R18,2
    0223C E003      LDI	R16,3
    0223D 940E 09A8 CALL	_Set_White
(0993) 			  cur=0;
    0223F 2744      CLR	R20
    02240 2755      CLR	R21
(0994) 		   }
(0995) 		   break;
    02241 C047      RJMP	0x2289
(0996) 		case 'r':
(0997) 		   if(cur==0){
    02242 3040      CPI	R20,0
    02243 0745      CPC	R20,R21
    02244 F009      BEQ	0x2246
    02245 C043      RJMP	0x2289
(0998) 		      Set_White_off(3,2,4);
    02246 E084      LDI	R24,4
    02247 8388      ST	Y,R24
    02248 E022      LDI	R18,2
    02249 E003      LDI	R16,3
    0224A 940E 0938 CALL	_Set_White_off
(0999) 		      Set_White(9,2,10);
    0224C E08A      LDI	R24,0xA
    0224D 8388      ST	Y,R24
    0224E E022      LDI	R18,2
    0224F E009      LDI	R16,0x9
    02250 940E 09A8 CALL	_Set_White
(1000) 			  cur=1;
    02252 E041      LDI	R20,1
    02253 E050      LDI	R21,0
(1001) 		   }
(1002) 		  break;
    02254 C034      RJMP	0x2289
(1003) 		case 't':
(1004) 		  //执行相关操作	  
(1005) 		  if(cur==0){
    02255 3040      CPI	R20,0
    02256 0745      CPC	R20,R21
    02257 F469      BNE	0x2265
(1006) 		     Set_White_off(3,2,4);
    02258 E084      LDI	R24,4
    02259 8388      ST	Y,R24
    0225A E022      LDI	R18,2
    0225B E003      LDI	R16,3
    0225C 940E 0938 CALL	_Set_White_off
(1007) 		       //进入重置画面。在Page9启动看门狗重置系统、不喂狗。数据重置对呀操作不同
(1008) 		       pageNum=9;
    0225E E089      LDI	R24,0x9
    0225F E090      LDI	R25,0
    02260 9390 0A8C STS	pageNum+1,R25
    02262 9380 0A8B STS	pageNum,R24
(1009) 		  }else {
    02264 C025      RJMP	0x228A
(1010) 		      Set_White_off(9,2,10);
    02265 E08A      LDI	R24,0xA
    02266 8388      ST	Y,R24
    02267 E022      LDI	R18,2
    02268 E009      LDI	R16,0x9
    02269 940E 0938 CALL	_Set_White_off
(1011) 		       pageNum=prePageNum;
    0226B 9020 0A7F LDS	R2,prePageNum
    0226D 9030 0A80 LDS	R3,prePageNum+1
    0226F 9230 0A8C STS	pageNum+1,R3
    02271 9220 0A8B STS	pageNum,R2
(1012) 		  }
(1013) 		  return;
    02273 C016      RJMP	0x228A
(1014) 		 case 'e':
(1015) 		    Set_White_off(3,2,4);
    02274 E084      LDI	R24,4
    02275 8388      ST	Y,R24
    02276 E022      LDI	R18,2
    02277 E003      LDI	R16,3
    02278 940E 0938 CALL	_Set_White_off
(1016) 		    Set_White_off(9,2,10);
    0227A E08A      LDI	R24,0xA
    0227B 8388      ST	Y,R24
    0227C E022      LDI	R18,2
    0227D E009      LDI	R16,0x9
    0227E 940E 0938 CALL	_Set_White_off
(1017) 		    pageNum=prePageNum;
    02280 9020 0A7F LDS	R2,prePageNum
    02282 9030 0A80 LDS	R3,prePageNum+1
    02284 9230 0A8C STS	pageNum+1,R3
    02286 9220 0A8B STS	pageNum,R2
(1018) 		    return;
    02288 C001      RJMP	0x228A
    02289 CF87      RJMP	0x2211
    0228A 9622      ADIW	R28,2
    0228B 940C 39ED JMP	pop_xgsetF00C
_page8:
  dateAc               --> Y,+38
  time_cacah           --> R22
  keyV                 --> R22
  cur                  --> R20
  date                 --> Y,+8
  i                    --> R22
    0228D 940E 39E6 CALL	push_xgsetF00C
    0228F 97EF      SBIW	R28,0x3F
    02290 9723      SBIW	R28,3
(1019) 	  }
(1020) 	}
(1021)  }
(1022)  void page8(void){
(1023)    uint cur=0;
    02291 2744      CLR	R20
    02292 2755      CLR	R21
(1024)    uchar keyV;
(1025)    uint date[15];
(1026)    uint i;
(1027)    uint time_cacah;
(1028)     uint dateAc[14]={1,2,3,4,6,7,9,10,2,3,5,6,8,9};
    02293 E08F      LDI	R24,0xF
    02294 E099      LDI	R25,0x9
    02295 01FE      MOVW	R30,R28
    02296 96B6      ADIW	R30,0x26
    02297 E10C      LDI	R16,0x1C
    02298 E010      LDI	R17,0
    02299 93FA      ST	-Y,R31
    0229A 93EA      ST	-Y,R30
    0229B 939A      ST	-Y,R25
    0229C 938A      ST	-Y,R24
    0229D 940E 3A1A CALL	asgnblk
(1029)    time_cacah=Read1307(0x06);
    0229F E006      LDI	R16,6
    022A0 940E 388B CALL	_Read1307
    022A2 01B8      MOVW	R22,R16
(1030)    date[0]=2;
    022A3 E082      LDI	R24,2
    022A4 E090      LDI	R25,0
    022A5 8799      STD	Y+9,R25
    022A6 8788      STD	Y+8,R24
(1031)    date[1]=0;
    022A7 2422      CLR	R2
    022A8 2433      CLR	R3
    022A9 863B      STD	Y+11,R3
    022AA 862A      STD	Y+10,R2
(1032)    date[2]=time_cacah>>4;
    022AB 011B      MOVW	R2,R22
    022AC 9436      LSR	R3
    022AD 9427      ROR	R2
    022AE 9436      LSR	R3
    022AF 9427      ROR	R2
    022B0 9436      LSR	R3
    022B1 9427      ROR	R2
    022B2 9436      LSR	R3
    022B3 9427      ROR	R2
    022B4 863D      STD	Y+13,R3
    022B5 862C      STD	Y+12,R2
(1033)    date[3]=time_cacah&0x0F;
    022B6 01CB      MOVW	R24,R22
    022B7 708F      ANDI	R24,0xF
    022B8 7090      ANDI	R25,0
    022B9 879F      STD	Y+15,R25
    022BA 878E      STD	Y+14,R24
(1034)    time_cacah=Read1307(0x05);
    022BB E005      LDI	R16,5
    022BC 940E 388B CALL	_Read1307
    022BE 01B8      MOVW	R22,R16
(1035)    date[4]=(time_cacah>>4)&0x01;
    022BF 01CB      MOVW	R24,R22
    022C0 9596      LSR	R25
    022C1 9587      ROR	R24
    022C2 9596      LSR	R25
    022C3 9587      ROR	R24
    022C4 9596      LSR	R25
    022C5 9587      ROR	R24
    022C6 9596      LSR	R25
    022C7 9587      ROR	R24
    022C8 7081      ANDI	R24,1
    022C9 7090      ANDI	R25,0
    022CA 8B99      STD	Y+17,R25
    022CB 8B88      STD	Y+16,R24
(1036)    date[5]=time_cacah&0x0F;
    022CC 01CB      MOVW	R24,R22
    022CD 708F      ANDI	R24,0xF
    022CE 7090      ANDI	R25,0
    022CF 8B9B      STD	Y+19,R25
    022D0 8B8A      STD	Y+18,R24
(1037)     time_cacah=Read1307(0x04);
    022D1 E004      LDI	R16,4
    022D2 940E 388B CALL	_Read1307
    022D4 0158      MOVW	R10,R16
    022D5 01B5      MOVW	R22,R10
(1038)    date[6]=0x03&(time_cacah>>4);
    022D6 01CB      MOVW	R24,R22
    022D7 9596      LSR	R25
    022D8 9587      ROR	R24
    022D9 9596      LSR	R25
    022DA 9587      ROR	R24
    022DB 9596      LSR	R25
    022DC 9587      ROR	R24
    022DD 9596      LSR	R25
    022DE 9587      ROR	R24
    022DF 7083      ANDI	R24,3
    022E0 7090      ANDI	R25,0
    022E1 8B9D      STD	Y+21,R25
    022E2 8B8C      STD	Y+20,R24
(1039)    date[7]=time_cacah&0x0F;
    022E3 01CB      MOVW	R24,R22
    022E4 708F      ANDI	R24,0xF
    022E5 7090      ANDI	R25,0
    022E6 8B9F      STD	Y+23,R25
    022E7 8B8E      STD	Y+22,R24
(1040)    time_cacah=Read1307(0x02);
    022E8 E002      LDI	R16,2
    022E9 940E 388B CALL	_Read1307
    022EB 0158      MOVW	R10,R16
    022EC 01B5      MOVW	R22,R10
(1041)    date[8]=0x03&(time_cacah>>4);
    022ED 01CB      MOVW	R24,R22
    022EE 9596      LSR	R25
    022EF 9587      ROR	R24
    022F0 9596      LSR	R25
    022F1 9587      ROR	R24
    022F2 9596      LSR	R25
    022F3 9587      ROR	R24
    022F4 9596      LSR	R25
    022F5 9587      ROR	R24
    022F6 7083      ANDI	R24,3
    022F7 7090      ANDI	R25,0
    022F8 8F99      STD	Y+25,R25
    022F9 8F88      STD	Y+24,R24
(1042)    date[9]=time_cacah&0x0F;
    022FA 01CB      MOVW	R24,R22
    022FB 708F      ANDI	R24,0xF
    022FC 7090      ANDI	R25,0
    022FD 8F9B      STD	Y+27,R25
    022FE 8F8A      STD	Y+26,R24
(1043)    time_cacah=Read1307(0x01);
    022FF E001      LDI	R16,1
    02300 940E 388B CALL	_Read1307
    02302 0158      MOVW	R10,R16
    02303 01B5      MOVW	R22,R10
(1044)    date[10]=0x07&(time_cacah>>4);
    02304 01CB      MOVW	R24,R22
    02305 9596      LSR	R25
    02306 9587      ROR	R24
    02307 9596      LSR	R25
    02308 9587      ROR	R24
    02309 9596      LSR	R25
    0230A 9587      ROR	R24
    0230B 9596      LSR	R25
    0230C 9587      ROR	R24
    0230D 7087      ANDI	R24,7
    0230E 7090      ANDI	R25,0
    0230F 8F9D      STD	Y+29,R25
    02310 8F8C      STD	Y+28,R24
(1045)    date[11]=time_cacah&0x0f;
    02311 01CB      MOVW	R24,R22
    02312 708F      ANDI	R24,0xF
    02313 7090      ANDI	R25,0
    02314 8F9F      STD	Y+31,R25
    02315 8F8E      STD	Y+30,R24
(1046)    time_cacah=Read1307(0x00);
    02316 2700      CLR	R16
    02317 940E 388B CALL	_Read1307
    02319 0158      MOVW	R10,R16
    0231A 01B5      MOVW	R22,R10
(1047)    date[12]=0x07&(time_cacah>>4);
    0231B 01CB      MOVW	R24,R22
    0231C 9596      LSR	R25
    0231D 9587      ROR	R24
    0231E 9596      LSR	R25
    0231F 9587      ROR	R24
    02320 9596      LSR	R25
    02321 9587      ROR	R24
    02322 9596      LSR	R25
    02323 9587      ROR	R24
    02324 7087      ANDI	R24,7
    02325 7090      ANDI	R25,0
    02326 A399      STD	Y+33,R25
    02327 A388      STD	Y+32,R24
(1048)    date[13]=time_cacah&0x0F;
    02328 01CB      MOVW	R24,R22
    02329 708F      ANDI	R24,0xF
    0232A 7090      ANDI	R25,0
    0232B A39B      STD	Y+35,R25
    0232C A38A      STD	Y+34,R24
(1049)     lcd_write_pos(1,0);
    0232D 2722      CLR	R18
    0232E E001      LDI	R16,1
    0232F 940E 073F CALL	_lcd_write_pos
(1050)   for(i=0;i<8;i++){
    02331 2766      CLR	R22
    02332 2777      CLR	R23
    02333 C020      RJMP	0x2354
(1051)    lcd_write_char_con(0,0x30 | date[i]);
    02334 01CE      MOVW	R24,R28
    02335 9608      ADIW	R24,0x8
    02336 01FB      MOVW	R30,R22
    02337 0FEE      LSL	R30
    02338 1FFF      ROL	R31
    02339 0FE8      ADD	R30,R24
    0233A 1FF9      ADC	R31,R25
    0233B 8120      LD	R18,Z
    0233C 8131      LDD	R19,Z+1
    0233D 6320      ORI	R18,0x30
    0233E 2700      CLR	R16
    0233F 940E 072B CALL	_lcd_write_char_con
(1052)     lcd_write_char_con(0,' ');
    02341 E220      LDI	R18,0x20
    02342 2700      CLR	R16
    02343 940E 072B CALL	_lcd_write_char_con
(1053) 	if(i==3 || i==5){
    02345 3063      CPI	R22,3
    02346 E0E0      LDI	R30,0
    02347 077E      CPC	R23,R30
    02348 F021      BEQ	0x234D
    02349 3065      CPI	R22,5
    0234A E0E0      LDI	R30,0
    0234B 077E      CPC	R23,R30
    0234C F429      BNE	0x2352
(1054) 	  lcd_write_str_con(0,"- ");
    0234D E42D      LDI	R18,0x4D
    0234E E039      LDI	R19,0x9
    0234F 2700      CLR	R16
    02350 940E 07CD CALL	_lcd_write_str_con
    02352 5F6F      SUBI	R22,0xFF
    02353 4F7F      SBCI	R23,0xFF
    02354 3068      CPI	R22,0x8
    02355 E0E0      LDI	R30,0
    02356 077E      CPC	R23,R30
    02357 F2E0      BCS	0x2334
(1055) 	}
(1056)   }
(1057)    lcd_write_pos(2,1);
    02358 E021      LDI	R18,1
    02359 E002      LDI	R16,2
    0235A 940E 073F CALL	_lcd_write_pos
(1058)    for(i=8;i<14;i++){
    0235C E068      LDI	R22,0x8
    0235D E070      LDI	R23,0
    0235E C020      RJMP	0x237F
(1059)    lcd_write_char_con(1,0x30 | date[i]);
    0235F 01CE      MOVW	R24,R28
    02360 9608      ADIW	R24,0x8
    02361 01FB      MOVW	R30,R22
    02362 0FEE      LSL	R30
    02363 1FFF      ROL	R31
    02364 0FE8      ADD	R30,R24
    02365 1FF9      ADC	R31,R25
    02366 8120      LD	R18,Z
    02367 8131      LDD	R19,Z+1
    02368 6320      ORI	R18,0x30
    02369 E001      LDI	R16,1
    0236A 940E 072B CALL	_lcd_write_char_con
(1060)    lcd_write_char_con(0,' ');
    0236C E220      LDI	R18,0x20
    0236D 2700      CLR	R16
    0236E 940E 072B CALL	_lcd_write_char_con
(1061)    if(i==9 || i==11){
    02370 3069      CPI	R22,0x9
    02371 E0E0      LDI	R30,0
    02372 077E      CPC	R23,R30
    02373 F021      BEQ	0x2378
    02374 306B      CPI	R22,0xB
    02375 E0E0      LDI	R30,0
    02376 077E      CPC	R23,R30
    02377 F429      BNE	0x237D
(1062) 	 lcd_write_str_con(0,": ");
    02378 EC22      LDI	R18,0xC2
    02379 E039      LDI	R19,0x9
    0237A 2700      CLR	R16
    0237B 940E 07CD CALL	_lcd_write_str_con
    0237D 5F6F      SUBI	R22,0xFF
    0237E 4F7F      SBCI	R23,0xFF
    0237F 306E      CPI	R22,0xE
    02380 E0E0      LDI	R30,0
    02381 077E      CPC	R23,R30
    02382 F2E0      BCS	0x235F
(1063)    }
(1064)   } 
(1065)    lcd_write_str(3,2,"保存");
    02383 EB86      LDI	R24,0xB6
    02384 E099      LDI	R25,0x9
    02385 8399      STD	Y+1,R25
    02386 8388      ST	Y,R24
    02387 E022      LDI	R18,2
    02388 E003      LDI	R16,3
    02389 940E 0783 CALL	_lcd_write_str
(1066)    lcd_write_str(8,2,"取消");
    0238B E187      LDI	R24,0x17
    0238C E09A      LDI	R25,0xA
    0238D 8399      STD	Y+1,R25
    0238E 8388      ST	Y,R24
    0238F E022      LDI	R18,2
    02390 E008      LDI	R16,0x8
    02391 940E 0783 CALL	_lcd_write_str
(1067)    //初始化date
(1068)   
(1069)    cur=0;
    02393 2744      CLR	R20
    02394 2755      CLR	R21
(1070)    lcd_write_pos(1,0);//初始游标位置
    02395 2722      CLR	R18
    02396 E001      LDI	R16,1
    02397 940E 073F CALL	_lcd_write_pos
(1071)    cur_set(3);//上半屏幕游标设置
    02399 E003      LDI	R16,3
    0239A E010      LDI	R17,0
    0239B 940E 08F4 CALL	_cur_set
    0239D C284      RJMP	0x2622
(1072)    while(1){
(1073)      pageTime(3);//
    0239E E003      LDI	R16,3
    0239F E010      LDI	R17,0
    023A0 940E 1225 CALL	_pageTime
(1074) 	 keyV=KeyScan_once();
    023A2 940E 0620 CALL	_KeyScan_once
    023A4 2EA0      MOV	R10,R16
    023A5 2D6A      MOV	R22,R10
(1075) 	 if(keyV=='u'){
    023A6 3705      CPI	R16,0x75
    023A7 F571      BNE	0x23D6
(1076) 	   if(cur>13){//调到时间第一个
    023A8 E08D      LDI	R24,0xD
    023A9 E090      LDI	R25,0
    023AA 1784      CP	R24,R20
    023AB 0795      CPC	R25,R21
    023AC F4B8      BCC	0x23C4
(1077) 	        Set_White_off(4,2,5);
    023AD E085      LDI	R24,5
    023AE 8388      ST	Y,R24
    023AF E022      LDI	R18,2
    023B0 E004      LDI	R16,4
    023B1 940E 0938 CALL	_Set_White_off
(1078) 			Set_White_off(9,2,10);
    023B3 E08A      LDI	R24,0xA
    023B4 8388      ST	Y,R24
    023B5 E022      LDI	R18,2
    023B6 E009      LDI	R16,0x9
    023B7 940E 0938 CALL	_Set_White_off
(1079) 	        lcd_write_pos(2,1);
    023B9 E021      LDI	R18,1
    023BA E002      LDI	R16,2
    023BB 940E 073F CALL	_lcd_write_pos
(1080) 		    cur_set(3);
    023BD E003      LDI	R16,3
    023BE E010      LDI	R17,0
    023BF 940E 08F4 CALL	_cur_set
(1081) 			cur=8; 
    023C1 E048      LDI	R20,0x8
    023C2 E050      LDI	R21,0
(1082) 		   }else if(cur>7 && cur <14){//调到日期第一个
    023C3 C25E      RJMP	0x2622
    023C4 E087      LDI	R24,7
    023C5 E090      LDI	R25,0
    023C6 1784      CP	R24,R20
    023C7 0795      CPC	R25,R21
    023C8 F008      BCS	0x23CA
    023C9 C258      RJMP	0x2622
    023CA 304E      CPI	R20,0xE
    023CB E0E0      LDI	R30,0
    023CC 075E      CPC	R21,R30
    023CD F008      BCS	0x23CF
    023CE C253      RJMP	0x2622
(1083) 		    lcd_write_pos(1,0);
    023CF 2722      CLR	R18
    023D0 E001      LDI	R16,1
    023D1 940E 073F CALL	_lcd_write_pos
(1084) 			cur=0; 
    023D3 2744      CLR	R20
    023D4 2755      CLR	R21
(1085) 		   }
(1086) 	 }else if(keyV=='d'){
    023D5 C24C      RJMP	0x2622
    023D6 3664      CPI	R22,0x64
    023D7 F519      BNE	0x23FB
(1087) 	     if(cur>7 && cur <14){//在时间上，第三行，默认要保存，所以调到保存上
    023D8 E087      LDI	R24,7
    023D9 E090      LDI	R25,0
    023DA 1784      CP	R24,R20
    023DB 0795      CPC	R25,R21
    023DC F488      BCC	0x23EE
    023DD 304E      CPI	R20,0xE
    023DE E0E0      LDI	R30,0
    023DF 075E      CPC	R21,R30
    023E0 F468      BCC	0x23EE
(1088) 		      cur_set(0);//关下半屏幕游标
    023E1 2700      CLR	R16
    023E2 2711      CLR	R17
    023E3 940E 08F4 CALL	_cur_set
(1089) 			  Set_White(4,2,5);
    023E5 E085      LDI	R24,5
    023E6 8388      ST	Y,R24
    023E7 E022      LDI	R18,2
    023E8 E004      LDI	R16,4
    023E9 940E 09A8 CALL	_Set_White
(1090) 			  cur=14;
    023EB E04E      LDI	R20,0xE
    023EC E050      LDI	R21,0
(1091) 		 }else if(cur<=7){ //调到时间第一个
    023ED C234      RJMP	0x2622
    023EE E087      LDI	R24,7
    023EF E090      LDI	R25,0
    023F0 1784      CP	R24,R20
    023F1 0795      CPC	R25,R21
    023F2 F408      BCC	0x23F4
    023F3 C22E      RJMP	0x2622
(1092) 		    lcd_write_pos(2,1);
    023F4 E021      LDI	R18,1
    023F5 E002      LDI	R16,2
    023F6 940E 073F CALL	_lcd_write_pos
(1093) 			cur=8; 
    023F8 E048      LDI	R20,0x8
    023F9 E050      LDI	R21,0
(1094) 		 }
(1095) 	 }else if(keyV=='l'){
    023FA C227      RJMP	0x2622
    023FB 366C      CPI	R22,0x6C
    023FC F009      BEQ	0x23FE
    023FD C043      RJMP	0x2441
(1096) 			if(cur<=8 && cur>0){
    023FE E088      LDI	R24,0x8
    023FF E090      LDI	R25,0
    02400 1784      CP	R24,R20
    02401 0795      CPC	R25,R21
    02402 F090      BCS	0x2415
    02403 3040      CPI	R20,0
    02404 0745      CPC	R20,R21
    02405 F079      BEQ	0x2415
(1097) 			 cur--;
    02406 5041      SUBI	R20,1
    02407 4050      SBCI	R21,0
(1098) 			 lcd_write_pos(dateAc[cur],0);
    02408 2722      CLR	R18
    02409 01CE      MOVW	R24,R28
    0240A 9686      ADIW	R24,0x26
    0240B 01FA      MOVW	R30,R20
    0240C 0FEE      LSL	R30
    0240D 1FFF      ROL	R31
    0240E 0FE8      ADD	R30,R24
    0240F 1FF9      ADC	R31,R25
    02410 8100      LD	R16,Z
    02411 8111      LDD	R17,Z+1
    02412 940E 073F CALL	_lcd_write_pos
(1099) 			}else if (cur>8 && cur<14){
    02414 C20D      RJMP	0x2622
    02415 E088      LDI	R24,0x8
    02416 E090      LDI	R25,0
    02417 1784      CP	R24,R20
    02418 0795      CPC	R25,R21
    02419 F498      BCC	0x242D
    0241A 304E      CPI	R20,0xE
    0241B E0E0      LDI	R30,0
    0241C 075E      CPC	R21,R30
    0241D F478      BCC	0x242D
(1100) 			 cur--;
    0241E 5041      SUBI	R20,1
    0241F 4050      SBCI	R21,0
(1101) 			 lcd_write_pos(dateAc[cur],1);
    02420 E021      LDI	R18,1
    02421 01CE      MOVW	R24,R28
    02422 9686      ADIW	R24,0x26
    02423 01FA      MOVW	R30,R20
    02424 0FEE      LSL	R30
    02425 1FFF      ROL	R31
    02426 0FE8      ADD	R30,R24
    02427 1FF9      ADC	R31,R25
    02428 8100      LD	R16,Z
    02429 8111      LDD	R17,Z+1
    0242A 940E 073F CALL	_lcd_write_pos
(1102) 			}else if (cur==15){
    0242C C1F5      RJMP	0x2622
    0242D 304F      CPI	R20,0xF
    0242E E0E0      LDI	R30,0
    0242F 075E      CPC	R21,R30
    02430 F009      BEQ	0x2432
    02431 C1F0      RJMP	0x2622
(1103) 			    Set_White_off(9,2,10);
    02432 E08A      LDI	R24,0xA
    02433 8388      ST	Y,R24
    02434 E022      LDI	R18,2
    02435 E009      LDI	R16,0x9
    02436 940E 0938 CALL	_Set_White_off
(1104) 			    Set_White(4,2,5);
    02438 E085      LDI	R24,5
    02439 8388      ST	Y,R24
    0243A E022      LDI	R18,2
    0243B E004      LDI	R16,4
    0243C 940E 09A8 CALL	_Set_White
(1105) 				cur=14;
    0243E E04E      LDI	R20,0xE
    0243F E050      LDI	R21,0
(1106) 			}
(1107) 			
(1108) 		
(1109) 	 }else if(keyV=='r'){
    02440 C1E1      RJMP	0x2622
    02441 3762      CPI	R22,0x72
    02442 F009      BEQ	0x2444
    02443 C03A      RJMP	0x247E
(1110) 	       if(cur<7){
    02444 3047      CPI	R20,7
    02445 E0E0      LDI	R30,0
    02446 075E      CPC	R21,R30
    02447 F478      BCC	0x2457
(1111) 			   cur++;
    02448 5F4F      SUBI	R20,0xFF
    02449 4F5F      SBCI	R21,0xFF
(1112) 			   lcd_write_pos(dateAc[cur],0);
    0244A 2722      CLR	R18
    0244B 01CE      MOVW	R24,R28
    0244C 9686      ADIW	R24,0x26
    0244D 01FA      MOVW	R30,R20
    0244E 0FEE      LSL	R30
    0244F 1FFF      ROL	R31
    02450 0FE8      ADD	R30,R24
    02451 1FF9      ADC	R31,R25
    02452 8100      LD	R16,Z
    02453 8111      LDD	R17,Z+1
    02454 940E 073F CALL	_lcd_write_pos
(1113) 			}else if (cur<13){
    02456 C1CB      RJMP	0x2622
    02457 304D      CPI	R20,0xD
    02458 E0E0      LDI	R30,0
    02459 075E      CPC	R21,R30
    0245A F478      BCC	0x246A
(1114) 			   cur++;
    0245B 5F4F      SUBI	R20,0xFF
    0245C 4F5F      SBCI	R21,0xFF
(1115) 			   lcd_write_pos(dateAc[cur],1);
    0245D E021      LDI	R18,1
    0245E 01CE      MOVW	R24,R28
    0245F 9686      ADIW	R24,0x26
    02460 01FA      MOVW	R30,R20
    02461 0FEE      LSL	R30
    02462 1FFF      ROL	R31
    02463 0FE8      ADD	R30,R24
    02464 1FF9      ADC	R31,R25
    02465 8100      LD	R16,Z
    02466 8111      LDD	R17,Z+1
    02467 940E 073F CALL	_lcd_write_pos
(1116) 			}else if (cur==14){
    02469 C1B8      RJMP	0x2622
    0246A 304E      CPI	R20,0xE
    0246B E0E0      LDI	R30,0
    0246C 075E      CPC	R21,R30
    0246D F009      BEQ	0x246F
    0246E C1B3      RJMP	0x2622
(1117) 			    Set_White_off(4,2,5);
    0246F E085      LDI	R24,5
    02470 8388      ST	Y,R24
    02471 E022      LDI	R18,2
    02472 E004      LDI	R16,4
    02473 940E 0938 CALL	_Set_White_off
(1118) 				Set_White(9,2,10);
    02475 E08A      LDI	R24,0xA
    02476 8388      ST	Y,R24
    02477 E022      LDI	R18,2
    02478 E009      LDI	R16,0x9
    02479 940E 09A8 CALL	_Set_White
(1119) 				cur=15;
    0247B E04F      LDI	R20,0xF
    0247C E050      LDI	R21,0
(1120) 			}
(1121) 	 }else if(keyV=='e'){
    0247D C1A4      RJMP	0x2622
    0247E 3665      CPI	R22,0x65
    0247F F4B9      BNE	0x2497
(1122) 	     cur_set(0);//关上半屏幕游标
    02480 2700      CLR	R16
    02481 2711      CLR	R17
    02482 940E 08F4 CALL	_cur_set
(1123) 		  Set_White_off(4,2,5);
    02484 E085      LDI	R24,5
    02485 8388      ST	Y,R24
    02486 E022      LDI	R18,2
    02487 E004      LDI	R16,4
    02488 940E 0938 CALL	_Set_White_off
(1124) 		  Set_White_off(9,2,10);
    0248A E08A      LDI	R24,0xA
    0248B 8388      ST	Y,R24
    0248C E022      LDI	R18,2
    0248D E009      LDI	R16,0x9
    0248E 940E 0938 CALL	_Set_White_off
(1125) 		 pageNum=1;
    02490 E081      LDI	R24,1
    02491 E090      LDI	R25,0
    02492 9390 0A8C STS	pageNum+1,R25
    02494 9380 0A8B STS	pageNum,R24
(1126) 		 return;
    02496 C18C      RJMP	0x2623
(1127) 	     //退出界面
(1128) 	 }else if(keyV=='t'){
    02497 3764      CPI	R22,0x74
    02498 F009      BEQ	0x249A
    02499 C085      RJMP	0x251F
(1129) 	      if(cur==14){
    0249A 304E      CPI	R20,0xE
    0249B E0E0      LDI	R30,0
    0249C 075E      CPC	R21,R30
    0249D F009      BEQ	0x249F
    0249E C064      RJMP	0x2503
(1130) 		      setTime((date[2]*16)+date[3],(date[4]*16)+date[5],(date[6]*16)+date[7],(date[8]*16)+date[9],(date[10]*16)+date[11],(date[12]*16)+date[13]);
    0249F A128      LDD	R18,Y+32
    024A0 A139      LDD	R19,Y+33
    024A1 E100      LDI	R16,0x10
    024A2 E010      LDI	R17,0
    024A3 940E 39A0 CALL	empy16s
    024A5 0118      MOVW	R2,R16
    024A6 A04A      LDD	R4,Y+34
    024A7 A05B      LDD	R5,Y+35
    024A8 0C24      ADD	R2,R4
    024A9 1C35      ADC	R3,R5
    024AA 823F      STD	Y+7,R3
    024AB 822E      STD	Y+6,R2
    024AC 8D2C      LDD	R18,Y+28
    024AD 8D3D      LDD	R19,Y+29
    024AE E100      LDI	R16,0x10
    024AF E010      LDI	R17,0
    024B0 940E 39A0 CALL	empy16s
    024B2 0118      MOVW	R2,R16
    024B3 8C4E      LDD	R4,Y+30
    024B4 8C5F      LDD	R5,Y+31
    024B5 0C24      ADD	R2,R4
    024B6 1C35      ADC	R3,R5
    024B7 823D      STD	Y+5,R3
    024B8 822C      STD	Y+4,R2
    024B9 8D28      LDD	R18,Y+24
    024BA 8D39      LDD	R19,Y+25
    024BB E100      LDI	R16,0x10
    024BC E010      LDI	R17,0
    024BD 940E 39A0 CALL	empy16s
    024BF 0118      MOVW	R2,R16
    024C0 8C4A      LDD	R4,Y+26
    024C1 8C5B      LDD	R5,Y+27
    024C2 0C24      ADD	R2,R4
    024C3 1C35      ADC	R3,R5
    024C4 823B      STD	Y+3,R3
    024C5 822A      STD	Y+2,R2
    024C6 892C      LDD	R18,Y+20
    024C7 893D      LDD	R19,Y+21
    024C8 E100      LDI	R16,0x10
    024C9 E010      LDI	R17,0
    024CA 940E 39A0 CALL	empy16s
    024CC 0118      MOVW	R2,R16
    024CD 884E      LDD	R4,Y+22
    024CE 885F      LDD	R5,Y+23
    024CF 0C24      ADD	R2,R4
    024D0 1C35      ADC	R3,R5
    024D1 8239      STD	Y+1,R3
    024D2 8228      ST	Y,R2
    024D3 8928      LDD	R18,Y+16
    024D4 8939      LDD	R19,Y+17
    024D5 E100      LDI	R16,0x10
    024D6 E010      LDI	R17,0
    024D7 940E 39A0 CALL	empy16s
    024D9 0198      MOVW	R18,R16
    024DA 882A      LDD	R2,Y+18
    024DB 883B      LDD	R3,Y+19
    024DC 0D22      ADD	R18,R2
    024DD 1D33      ADC	R19,R3
    024DE 842C      LDD	R2,Y+12
    024DF 843D      LDD	R3,Y+13
    024E0 E100      LDI	R16,0x10
    024E1 E010      LDI	R17,0
    024E2 932F      PUSH	R18
    024E3 933F      PUSH	R19
    024E4 0191      MOVW	R18,R2
    024E5 940E 39A0 CALL	empy16s
    024E7 0118      MOVW	R2,R16
    024E8 913F      POP	R19
    024E9 912F      POP	R18
    024EA 844E      LDD	R4,Y+14
    024EB 845F      LDD	R5,Y+15
    024EC 0C24      ADD	R2,R4
    024ED 1C35      ADC	R3,R5
    024EE 0181      MOVW	R16,R2
    024EF 940E 389F CALL	_setTime
(1131) 		        //setTime(1*16+2,1<<4+2+0x00,2*16+2,1<<4+2+0x00,5+0x00,5<<4+1+0x00);
(1132) 				//保存操作
(1133) 				pageParam[1]=0;//标记是时间的保存
    024F1 2422      CLR	R2
    024F2 2433      CLR	R3
    024F3 9230 0A84 STS	pageParam+3,R3
    024F5 9220 0A83 STS	pageParam+2,R2
(1134) 				prePageNum=8;
    024F7 E088      LDI	R24,0x8
    024F8 E090      LDI	R25,0
    024F9 9390 0A80 STS	prePageNum+1,R25
    024FB 9380 0A7F STS	prePageNum,R24
(1135) 				pageNum=6;
    024FD E086      LDI	R24,6
    024FE 9390 0A8C STS	pageNum+1,R25
    02500 9380 0A8B STS	pageNum,R24
(1136) 				return;
    02502 C120      RJMP	0x2623
(1137) 		 }else if(cur==15){
    02503 304F      CPI	R20,0xF
    02504 E0E0      LDI	R30,0
    02505 075E      CPC	R21,R30
    02506 F009      BEQ	0x2508
    02507 C11A      RJMP	0x2622
(1138) 		        //取消操作
(1139) 			 cur_set(0);//关上半屏幕游标
    02508 2700      CLR	R16
    02509 2711      CLR	R17
    0250A 940E 08F4 CALL	_cur_set
(1140) 		  Set_White_off(4,2,5);
    0250C E085      LDI	R24,5
    0250D 8388      ST	Y,R24
    0250E E022      LDI	R18,2
    0250F E004      LDI	R16,4
    02510 940E 0938 CALL	_Set_White_off
(1141) 		  Set_White_off(9,2,10);
    02512 E08A      LDI	R24,0xA
    02513 8388      ST	Y,R24
    02514 E022      LDI	R18,2
    02515 E009      LDI	R16,0x9
    02516 940E 0938 CALL	_Set_White_off
(1142) 		 pageNum=1;
    02518 E081      LDI	R24,1
    02519 E090      LDI	R25,0
    0251A 9390 0A8C STS	pageNum+1,R25
    0251C 9380 0A8B STS	pageNum,R24
(1143) 		 return;
    0251E C104      RJMP	0x2623
(1144) 		 }
(1145) 	 }else if(keyV=='0' || keyV=='1' || keyV=='2' || keyV=='3' || keyV=='4' || keyV=='5' 
    0251F 3360      CPI	R22,0x30
    02520 F099      BEQ	0x2534
    02521 3361      CPI	R22,0x31
    02522 F089      BEQ	0x2534
    02523 3362      CPI	R22,0x32
    02524 F079      BEQ	0x2534
    02525 3363      CPI	R22,0x33
    02526 F069      BEQ	0x2534
    02527 3364      CPI	R22,0x34
    02528 F059      BEQ	0x2534
    02529 3365      CPI	R22,0x35
    0252A F049      BEQ	0x2534
    0252B 3366      CPI	R22,0x36
    0252C F039      BEQ	0x2534
    0252D 3367      CPI	R22,0x37
    0252E F029      BEQ	0x2534
    0252F 3368      CPI	R22,0x38
    02530 F019      BEQ	0x2534
    02531 3369      CPI	R22,0x39
    02532 F009      BEQ	0x2534
    02533 C0EE      RJMP	0x2622
(1146) 	           || keyV=='6'  || keyV=='7' || keyV=='8' || keyV=='9'){
(1147) 			if(cur<14){
    02534 304E      CPI	R20,0xE
    02535 E0E0      LDI	R30,0
    02536 075E      CPC	R21,R30
    02537 F008      BCS	0x2539
    02538 C0E9      RJMP	0x2622
(1148) 			 lcd_write_char_con(0,0x30 | keyV);
    02539 2F26      MOV	R18,R22
    0253A 6320      ORI	R18,0x30
    0253B 2700      CLR	R16
    0253C 940E 072B CALL	_lcd_write_char_con
(1149) 			 lcd_write_char_con(0,' ');
    0253E E220      LDI	R18,0x20
    0253F 2700      CLR	R16
    02540 940E 072B CALL	_lcd_write_char_con
(1150) 			 switch(keyV){
    02542 2777      CLR	R23
    02543 3360      CPI	R22,0x30
    02544 E0E0      LDI	R30,0
    02545 077E      CPC	R23,R30
    02546 F409      BNE	0x2548
    02547 C02E      RJMP	0x2576
    02548 3361      CPI	R22,0x31
    02549 E0E0      LDI	R30,0
    0254A 077E      CPC	R23,R30
    0254B F409      BNE	0x254D
    0254C C035      RJMP	0x2582
    0254D 3362      CPI	R22,0x32
    0254E E0E0      LDI	R30,0
    0254F 077E      CPC	R23,R30
    02550 F409      BNE	0x2552
    02551 C03C      RJMP	0x258E
    02552 3363      CPI	R22,0x33
    02553 E0E0      LDI	R30,0
    02554 077E      CPC	R23,R30
    02555 F409      BNE	0x2557
    02556 C043      RJMP	0x259A
    02557 3364      CPI	R22,0x34
    02558 E0E0      LDI	R30,0
    02559 077E      CPC	R23,R30
    0255A F409      BNE	0x255C
    0255B C04A      RJMP	0x25A6
    0255C 3365      CPI	R22,0x35
    0255D E0E0      LDI	R30,0
    0255E 077E      CPC	R23,R30
    0255F F409      BNE	0x2561
    02560 C051      RJMP	0x25B2
    02561 3366      CPI	R22,0x36
    02562 E0E0      LDI	R30,0
    02563 077E      CPC	R23,R30
    02564 F409      BNE	0x2566
    02565 C058      RJMP	0x25BE
    02566 3367      CPI	R22,0x37
    02567 E0E0      LDI	R30,0
    02568 077E      CPC	R23,R30
    02569 F409      BNE	0x256B
    0256A C05F      RJMP	0x25CA
    0256B 3368      CPI	R22,0x38
    0256C E0E0      LDI	R30,0
    0256D 077E      CPC	R23,R30
    0256E F409      BNE	0x2570
    0256F C066      RJMP	0x25D6
    02570 3369      CPI	R22,0x39
    02571 E0E0      LDI	R30,0
    02572 077E      CPC	R23,R30
    02573 F409      BNE	0x2575
    02574 C06D      RJMP	0x25E2
    02575 C077      RJMP	0x25ED
(1151) 			  case '0':
(1152) 			    date[cur]=0;
    02576 01CE      MOVW	R24,R28
    02577 9608      ADIW	R24,0x8
    02578 01FA      MOVW	R30,R20
    02579 0FEE      LSL	R30
    0257A 1FFF      ROL	R31
    0257B 0FE8      ADD	R30,R24
    0257C 1FF9      ADC	R31,R25
    0257D 2422      CLR	R2
    0257E 2433      CLR	R3
    0257F 8231      STD	Z+1,R3
    02580 8220      ST	Z,R2
(1153) 			    break;
    02581 C06B      RJMP	0x25ED
(1154) 			  case '1':
(1155) 			    date[cur]=1;
    02582 01CE      MOVW	R24,R28
    02583 9608      ADIW	R24,0x8
    02584 01FA      MOVW	R30,R20
    02585 0FEE      LSL	R30
    02586 1FFF      ROL	R31
    02587 0FE8      ADD	R30,R24
    02588 1FF9      ADC	R31,R25
    02589 E081      LDI	R24,1
    0258A E090      LDI	R25,0
    0258B 8391      STD	Z+1,R25
    0258C 8380      ST	Z,R24
(1156) 			    break;
    0258D C05F      RJMP	0x25ED
(1157) 			  case '2':
(1158) 			    date[cur]=2;
    0258E 01CE      MOVW	R24,R28
    0258F 9608      ADIW	R24,0x8
    02590 01FA      MOVW	R30,R20
    02591 0FEE      LSL	R30
    02592 1FFF      ROL	R31
    02593 0FE8      ADD	R30,R24
    02594 1FF9      ADC	R31,R25
    02595 E082      LDI	R24,2
    02596 E090      LDI	R25,0
    02597 8391      STD	Z+1,R25
    02598 8380      ST	Z,R24
(1159) 			    break;
    02599 C053      RJMP	0x25ED
(1160) 			  case '3':
(1161) 			    date[cur]=3;
    0259A 01CE      MOVW	R24,R28
    0259B 9608      ADIW	R24,0x8
    0259C 01FA      MOVW	R30,R20
    0259D 0FEE      LSL	R30
    0259E 1FFF      ROL	R31
    0259F 0FE8      ADD	R30,R24
    025A0 1FF9      ADC	R31,R25
    025A1 E083      LDI	R24,3
    025A2 E090      LDI	R25,0
    025A3 8391      STD	Z+1,R25
    025A4 8380      ST	Z,R24
(1162) 			    break;
    025A5 C047      RJMP	0x25ED
(1163) 			  case '4':
(1164) 			    date[cur]=4;
    025A6 01CE      MOVW	R24,R28
    025A7 9608      ADIW	R24,0x8
    025A8 01FA      MOVW	R30,R20
    025A9 0FEE      LSL	R30
    025AA 1FFF      ROL	R31
    025AB 0FE8      ADD	R30,R24
    025AC 1FF9      ADC	R31,R25
    025AD E084      LDI	R24,4
    025AE E090      LDI	R25,0
    025AF 8391      STD	Z+1,R25
    025B0 8380      ST	Z,R24
(1165) 			    break;
    025B1 C03B      RJMP	0x25ED
(1166) 			  case '5':
(1167) 			    date[cur]=5;
    025B2 01CE      MOVW	R24,R28
    025B3 9608      ADIW	R24,0x8
    025B4 01FA      MOVW	R30,R20
    025B5 0FEE      LSL	R30
    025B6 1FFF      ROL	R31
    025B7 0FE8      ADD	R30,R24
    025B8 1FF9      ADC	R31,R25
    025B9 E085      LDI	R24,5
    025BA E090      LDI	R25,0
    025BB 8391      STD	Z+1,R25
    025BC 8380      ST	Z,R24
(1168) 			    break;
    025BD C02F      RJMP	0x25ED
(1169) 			  case '6':
(1170) 			    date[cur]=6;
    025BE 01CE      MOVW	R24,R28
    025BF 9608      ADIW	R24,0x8
    025C0 01FA      MOVW	R30,R20
    025C1 0FEE      LSL	R30
    025C2 1FFF      ROL	R31
    025C3 0FE8      ADD	R30,R24
    025C4 1FF9      ADC	R31,R25
    025C5 E086      LDI	R24,6
    025C6 E090      LDI	R25,0
    025C7 8391      STD	Z+1,R25
    025C8 8380      ST	Z,R24
(1171) 			    break;
    025C9 C023      RJMP	0x25ED
(1172) 			  case '7':
(1173) 			    date[cur]=7;
    025CA 01CE      MOVW	R24,R28
    025CB 9608      ADIW	R24,0x8
    025CC 01FA      MOVW	R30,R20
    025CD 0FEE      LSL	R30
    025CE 1FFF      ROL	R31
    025CF 0FE8      ADD	R30,R24
    025D0 1FF9      ADC	R31,R25
    025D1 E087      LDI	R24,7
    025D2 E090      LDI	R25,0
    025D3 8391      STD	Z+1,R25
    025D4 8380      ST	Z,R24
(1174) 			    break;
    025D5 C017      RJMP	0x25ED
(1175) 		      case '8':
(1176) 			    date[cur]=8;
    025D6 01CE      MOVW	R24,R28
    025D7 9608      ADIW	R24,0x8
    025D8 01FA      MOVW	R30,R20
    025D9 0FEE      LSL	R30
    025DA 1FFF      ROL	R31
    025DB 0FE8      ADD	R30,R24
    025DC 1FF9      ADC	R31,R25
    025DD E088      LDI	R24,0x8
    025DE E090      LDI	R25,0
    025DF 8391      STD	Z+1,R25
    025E0 8380      ST	Z,R24
(1177) 			    break;
    025E1 C00B      RJMP	0x25ED
(1178) 			  case '9':
(1179) 			    date[cur]=9;
    025E2 01CE      MOVW	R24,R28
    025E3 9608      ADIW	R24,0x8
    025E4 01FA      MOVW	R30,R20
    025E5 0FEE      LSL	R30
    025E6 1FFF      ROL	R31
    025E7 0FE8      ADD	R30,R24
    025E8 1FF9      ADC	R31,R25
    025E9 E089      LDI	R24,0x9
    025EA E090      LDI	R25,0
    025EB 8391      STD	Z+1,R25
    025EC 8380      ST	Z,R24
(1180) 			    break;
(1181) 			  
(1182) 			 }
(1183) 			  if(cur==3 || cur==5){
    025ED 3043      CPI	R20,3
    025EE E0E0      LDI	R30,0
    025EF 075E      CPC	R21,R30
    025F0 F021      BEQ	0x25F5
    025F1 3045      CPI	R20,5
    025F2 E0E0      LDI	R30,0
    025F3 075E      CPC	R21,R30
    025F4 F431      BNE	0x25FB
(1184) 			    lcd_write_str_con(0,"- ");
    025F5 E42D      LDI	R18,0x4D
    025F6 E039      LDI	R19,0x9
    025F7 2700      CLR	R16
    025F8 940E 07CD CALL	_lcd_write_str_con
(1185) 			 }else if(cur==9 || cur==11){
    025FA C00D      RJMP	0x2608
    025FB 3049      CPI	R20,0x9
    025FC E0E0      LDI	R30,0
    025FD 075E      CPC	R21,R30
    025FE F021      BEQ	0x2603
    025FF 304B      CPI	R20,0xB
    02600 E0E0      LDI	R30,0
    02601 075E      CPC	R21,R30
    02602 F429      BNE	0x2608
(1186) 			    lcd_write_str_con(0,": ");
    02603 EC22      LDI	R18,0xC2
    02604 E039      LDI	R19,0x9
    02605 2700      CLR	R16
    02606 940E 07CD CALL	_lcd_write_str_con
(1187) 			 }
(1188) 			 cur++;
    02608 5F4F      SUBI	R20,0xFF
    02609 4F5F      SBCI	R21,0xFF
(1189) 			 if(cur==8){
    0260A 3048      CPI	R20,0x8
    0260B E0E0      LDI	R30,0
    0260C 075E      CPC	R21,R30
    0260D F431      BNE	0x2614
(1190) 			    lcd_write_pos(dateAc[8],1);
    0260E E021      LDI	R18,1
    0260F A90E      LDD	R16,Y+54
    02610 A91F      LDD	R17,Y+55
    02611 940E 073F CALL	_lcd_write_pos
(1191) 			 }else if(cur==14){
    02613 C00E      RJMP	0x2622
    02614 304E      CPI	R20,0xE
    02615 E0E0      LDI	R30,0
    02616 075E      CPC	R21,R30
    02617 F451      BNE	0x2622
(1192) 			  cur_set(0);//关下半屏幕游标
    02618 2700      CLR	R16
    02619 2711      CLR	R17
    0261A 940E 08F4 CALL	_cur_set
(1193) 			  Set_White(4,2,5);
    0261C E085      LDI	R24,5
    0261D 8388      ST	Y,R24
    0261E E022      LDI	R18,2
    0261F E004      LDI	R16,4
    02620 940E 09A8 CALL	_Set_White
    02622 CD7B      RJMP	0x239E
    02623 96EF      ADIW	R28,0x3F
    02624 9623      ADIW	R28,3
    02625 940C 39ED JMP	pop_xgsetF00C
_page9:
    02627 9722      SBIW	R28,2
(1194) 			 }
(1195) 			}
(1196) 	 }
(1197)    }
(1198)  }
(1199) void page9(void){//复用的方法
(1200)   if(pageParam[2]==0){
    02628 9020 0A85 LDS	R2,pageParam+4
    0262A 9030 0A86 LDS	R3,pageParam+5
    0262C 2022      TST	R2
    0262D F481      BNE	0x263E
    0262E 2033      TST	R3
    0262F F471      BNE	0x263E
(1201)      lcd_write_str(4,1,"系统重置中。。。");
    02630 E38C      LDI	R24,0x3C
    02631 E099      LDI	R25,0x9
    02632 8399      STD	Y+1,R25
    02633 8388      ST	Y,R24
    02634 E021      LDI	R18,1
    02635 E004      LDI	R16,4
    02636 940E 0783 CALL	_lcd_write_str
(1202) 	 //是否需要清除数据，考虑中
(1203) 	 WDTCR|=(1<<WDCE)|(1<<WDE); /* 置位 WDTOE 和 WDE(在设置看门狗定时器的预置分频器参数时需要将其写1)*/
    02638 B581      IN	R24,0x21
    02639 6188      ORI	R24,0x18
    0263A BD81      OUT	0x21,R24
(1204)      WDTCR=(1<<WDE)|(1<<WDP2)|(1<<WDP1); /*设定周期为1S*/
    0263B E08E      LDI	R24,0xE
    0263C BD81      OUT	0x21,R24
(1205) 	 while(1){
    0263D CFFF      RJMP	0x263D
(1206) 	 }
(1207)    }else if(pageParam[2]==1){
    0263E 9180 0A85 LDS	R24,pageParam+4
    02640 9190 0A86 LDS	R25,pageParam+5
    02642 3081      CPI	R24,1
    02643 E0E0      LDI	R30,0
    02644 079E      CPC	R25,R30
    02645 F471      BNE	0x2654
(1208)      lcd_write_str(4,1,"数据重置中。。。");
    02646 E28B      LDI	R24,0x2B
    02647 E099      LDI	R25,0x9
    02648 8399      STD	Y+1,R25
    02649 8388      ST	Y,R24
    0264A E021      LDI	R18,1
    0264B E004      LDI	R16,4
    0264C 940E 0783 CALL	_lcd_write_str
(1209) 	 reset_temp_data(pageParam[0]);
    0264E 9100 0A81 LDS	R16,pageParam
    02650 9110 0A82 LDS	R17,pageParam+1
    02652 940E 3471 CALL	_reset_temp_data
(1210)    }
(1211)    delay_ms(50);
    02654 E302      LDI	R16,0x32
    02655 E010      LDI	R17,0
    02656 940E 0533 CALL	_delay_ms
(1212)    pageNum=prePageNum;
    02658 9020 0A7F LDS	R2,prePageNum
    0265A 9030 0A80 LDS	R3,prePageNum+1
    0265C 9230 0A8C STS	pageNum+1,R3
    0265E 9220 0A8B STS	pageNum,R2
    02660 9622      ADIW	R28,2
    02661 9508      RET
(1213)  }
(1214) //分发Pages
(1215) void dispatchPages(void){
(1216)       lcd_clear();//清屏幕
_dispatchPages:
    02662 940E 083A CALL	_lcd_clear
(1217)       if(pageNum==1){
    02664 9180 0A8B LDS	R24,pageNum
    02666 9190 0A8C LDS	R25,pageNum+1
    02668 3081      CPI	R24,1
    02669 E0E0      LDI	R30,0
    0266A 079E      CPC	R25,R30
    0266B F419      BNE	0x266F
(1218) 	    page1();
    0266C 940E 1241 CALL	_page1
(1219) 	  }else if(pageNum==2){
    0266E C052      RJMP	0x26C1
    0266F 9180 0A8B LDS	R24,pageNum
    02671 9190 0A8C LDS	R25,pageNum+1
    02673 3082      CPI	R24,2
    02674 E0E0      LDI	R30,0
    02675 079E      CPC	R25,R30
    02676 F419      BNE	0x267A
(1220) 	    page2();
    02677 940E 1618 CALL	_page2
(1221) 	  }else if(pageNum==3){
    02679 C047      RJMP	0x26C1
    0267A 9180 0A8B LDS	R24,pageNum
    0267C 9190 0A8C LDS	R25,pageNum+1
    0267E 3083      CPI	R24,3
    0267F E0E0      LDI	R30,0
    02680 079E      CPC	R25,R30
    02681 F419      BNE	0x2685
(1222) 	    page3();
    02682 940E 1761 CALL	_page3
(1223) 	  }else if(pageNum==4){
    02684 C03C      RJMP	0x26C1
    02685 9180 0A8B LDS	R24,pageNum
    02687 9190 0A8C LDS	R25,pageNum+1
    02689 3084      CPI	R24,4
    0268A E0E0      LDI	R30,0
    0268B 079E      CPC	R25,R30
    0268C F419      BNE	0x2690
(1224) 	    page4();
    0268D 940E 1DBE CALL	_page4
(1225) 	  }else if(pageNum==5){
    0268F C031      RJMP	0x26C1
    02690 9180 0A8B LDS	R24,pageNum
    02692 9190 0A8C LDS	R25,pageNum+1
    02694 3085      CPI	R24,5
    02695 E0E0      LDI	R30,0
    02696 079E      CPC	R25,R30
    02697 F411      BNE	0x269A
(1226) 	    page5();
    02698 D9EE      RCALL	_page5
(1227) 	  }else if(pageNum==6){
    02699 C027      RJMP	0x26C1
    0269A 9180 0A8B LDS	R24,pageNum
    0269C 9190 0A8C LDS	R25,pageNum+1
    0269E 3086      CPI	R24,6
    0269F E0E0      LDI	R30,0
    026A0 079E      CPC	R25,R30
    026A1 F411      BNE	0x26A4
(1228) 	    page6();
    026A2 DB09      RCALL	_page6
(1229) 	  }else if(pageNum==7){
    026A3 C01D      RJMP	0x26C1
    026A4 9180 0A8B LDS	R24,pageNum
    026A6 9190 0A8C LDS	R25,pageNum+1
    026A8 3087      CPI	R24,7
    026A9 E0E0      LDI	R30,0
    026AA 079E      CPC	R25,R30
    026AB F411      BNE	0x26AE
(1230) 	    page7();
    026AC DB40      RCALL	_page7
(1231) 	  }else if(pageNum==8){
    026AD C013      RJMP	0x26C1
    026AE 9180 0A8B LDS	R24,pageNum
    026B0 9190 0A8C LDS	R25,pageNum+1
    026B2 3088      CPI	R24,0x8
    026B3 E0E0      LDI	R30,0
    026B4 079E      CPC	R25,R30
    026B5 F411      BNE	0x26B8
(1232) 	    page8();
    026B6 DBD6      RCALL	_page8
(1233) 	  }else if(pageNum==9){
    026B7 C009      RJMP	0x26C1
    026B8 9180 0A8B LDS	R24,pageNum
    026BA 9190 0A8C LDS	R25,pageNum+1
    026BC 3089      CPI	R24,0x9
    026BD E0E0      LDI	R30,0
    026BE 079E      CPC	R25,R30
    026BF F409      BNE	0x26C1
(1234) 	    page9();
    026C0 DF66      RCALL	_page9
(1235) 	  }
    026C1 9508      RET
_int_int2:
  cache                --> R20
    026C2 920A      ST	-Y,R0
    026C3 921A      ST	-Y,R1
    026C4 922A      ST	-Y,R2
    026C5 923A      ST	-Y,R3
    026C6 924A      ST	-Y,R4
    026C7 925A      ST	-Y,R5
    026C8 926A      ST	-Y,R6
    026C9 927A      ST	-Y,R7
    026CA 928A      ST	-Y,R8
    026CB 929A      ST	-Y,R9
    026CC 930A      ST	-Y,R16
    026CD 931A      ST	-Y,R17
    026CE 932A      ST	-Y,R18
    026CF 933A      ST	-Y,R19
    026D0 938A      ST	-Y,R24
    026D1 939A      ST	-Y,R25
    026D2 93AA      ST	-Y,R26
    026D3 93BA      ST	-Y,R27
    026D4 93EA      ST	-Y,R30
    026D5 93FA      ST	-Y,R31
    026D6 B60F      IN	R0,0x3F
    026D7 920A      ST	-Y,R0
    026D8 934A      ST	-Y,R20
    026D9 935A      ST	-Y,R21
    026DA 9722      SBIW	R28,2
FILE: E:\ICCDemo\Temp_Control\temp_control\temp.c
(0001) #include<iom128v.h>
(0002) #include "temp.h"
(0003) #include "main.h"
(0004) #include "eeprom.h"
(0005) #include "lcd.h"
(0006) #include "max6675.h"
(0007) #include "delay.h"
(0008) uint second;
(0009) void PID_realize(uint temp_n);
(0010) void PI_realize(uint temp_n);
(0011) void set_start_real(uint t);
(0012) 
(0013) //中断1s进入，使用int2。可以使用，但是买的这个DS1307，硬件电路问题不可以使用
(0014) //  进行状态变换和参数调整,
(0015) /*升温：没1C变化温度更改参数，状态计算
(0016) /*恒温：只计算状态
(0017) /*****************************/
(0018) #pragma interrupt_handler int_int2:4
(0019) void int_int2(void){//做温度数据时间增加操作。不能做耗时的操作.中断优先级较高
(0020)   uint cache=0;//保存多次使用的数据，局部变量更快
    026DB 2744      CLR	R20
    026DC 2755      CLR	R21
(0021)   EIMSK &= 0xFB;//关中断2
    026DD B789      IN	R24,0x39
    026DE 7F8B      ANDI	R24,0xFB
    026DF BF89      OUT	0x39,R24
(0022)   TIMSK&=0xBF;//关定时器2溢出中断,8位的
    026E0 B787      IN	R24,0x37
    026E1 7B8F      ANDI	R24,0xBF
    026E2 BF87      OUT	0x37,R24
(0023)   //10分钟计时
(0024)   second++;
    026E3 9180 0A94 LDS	R24,second
    026E5 9190 0A95 LDS	R25,second+1
    026E7 9601      ADIW	R24,1
    026E8 9390 0A95 STS	second+1,R25
    026EA 9380 0A94 STS	second,R24
(0025)   if(second>600){
    026EC E588      LDI	R24,0x58
    026ED E092      LDI	R25,2
    026EE 9020 0A94 LDS	R2,second
    026F0 9030 0A95 LDS	R3,second+1
    026F2 1582      CP	R24,R2
    026F3 0593      CPC	R25,R3
    026F4 F008      BCS	0x26F6
    026F5 C2EF      RJMP	0x29E5
(0026)      //保存状态。保存flag、status、nowtime就行，下面需加上判断
(0027) 	 second=0;
    026F6 2422      CLR	R2
    026F7 2433      CLR	R3
    026F8 9230 0A95 STS	second+1,R3
    026FA 9220 0A94 STS	second,R2
(0028) 	  EEPROM_write(1,133,temps[0].flag);
    026FC 9020 033D LDS	R2,temps
    026FE 9030 033E LDS	R3,temps+1
    02700 8239      STD	Y+1,R3
    02701 8228      ST	Y,R2
    02702 E825      LDI	R18,0x85
    02703 E030      LDI	R19,0
    02704 E001      LDI	R16,1
    02705 E010      LDI	R17,0
    02706 940E 11F8 CALL	_EEPROM_write
(0029) 	  if(temps[0].flag==1 || temps[0].flag==3){
    02708 9020 033D LDS	R2,temps
    0270A 9030 033E LDS	R3,temps+1
    0270C 01C1      MOVW	R24,R2
    0270D 3081      CPI	R24,1
    0270E E0E0      LDI	R30,0
    0270F 079E      CPC	R25,R30
    02710 F029      BEQ	0x2716
    02711 3083      CPI	R24,3
    02712 E0E0      LDI	R30,0
    02713 079E      CPC	R25,R30
    02714 F009      BEQ	0x2716
    02715 C0A1      RJMP	0x27B7
(0030) 	    EEPROM_write(1,134,temps[0].status);
    02716 9020 0447 LDS	R2,temps+266
    02718 9030 0448 LDS	R3,temps+267
    0271A 8239      STD	Y+1,R3
    0271B 8228      ST	Y,R2
    0271C E826      LDI	R18,0x86
    0271D E030      LDI	R19,0
    0271E E001      LDI	R16,1
    0271F E010      LDI	R17,0
    02720 940E 11F8 CALL	_EEPROM_write
(0031) 	    EEPROM_write(1,135,temps[0].needtime>>8);
    02722 9020 0449 LDS	R2,temps+268
    02724 9030 044A LDS	R3,temps+269
    02726 2C23      MOV	R2,R3
    02727 2433      CLR	R3
    02728 8239      STD	Y+1,R3
    02729 8228      ST	Y,R2
    0272A E827      LDI	R18,0x87
    0272B E030      LDI	R19,0
    0272C E001      LDI	R16,1
    0272D E010      LDI	R17,0
    0272E 940E 11F8 CALL	_EEPROM_write
(0032) 		EEPROM_write(1,136,temps[0].needtime & 0xFF);
    02730 9180 0449 LDS	R24,temps+268
    02732 9190 044A LDS	R25,temps+269
    02734 7090      ANDI	R25,0
    02735 8399      STD	Y+1,R25
    02736 8388      ST	Y,R24
    02737 E828      LDI	R18,0x88
    02738 E030      LDI	R19,0
    02739 E001      LDI	R16,1
    0273A E010      LDI	R17,0
    0273B 940E 11F8 CALL	_EEPROM_write
(0033) 		EEPROM_write(1,137,temps[0].nowtime>>8);
    0273D 9020 044B LDS	R2,temps+270
    0273F 9030 044C LDS	R3,temps+271
    02741 2C23      MOV	R2,R3
    02742 2433      CLR	R3
    02743 8239      STD	Y+1,R3
    02744 8228      ST	Y,R2
    02745 E829      LDI	R18,0x89
    02746 E030      LDI	R19,0
    02747 E001      LDI	R16,1
    02748 E010      LDI	R17,0
    02749 940E 11F8 CALL	_EEPROM_write
(0034) 		EEPROM_write(1,138,temps[0].nowtime & 0xFF);
    0274B 9180 044B LDS	R24,temps+270
    0274D 9190 044C LDS	R25,temps+271
    0274F 7090      ANDI	R25,0
    02750 8399      STD	Y+1,R25
    02751 8388      ST	Y,R24
    02752 E82A      LDI	R18,0x8A
    02753 E030      LDI	R19,0
    02754 E001      LDI	R16,1
    02755 E010      LDI	R17,0
    02756 940E 11F8 CALL	_EEPROM_write
(0035) 	    EEPROM_write(1,139,temps[0].pertime>>8);
    02758 9020 044D LDS	R2,temps+272
    0275A 9030 044E LDS	R3,temps+273
    0275C 2C23      MOV	R2,R3
    0275D 2433      CLR	R3
    0275E 8239      STD	Y+1,R3
    0275F 8228      ST	Y,R2
    02760 E82B      LDI	R18,0x8B
    02761 E030      LDI	R19,0
    02762 E001      LDI	R16,1
    02763 E010      LDI	R17,0
    02764 940E 11F8 CALL	_EEPROM_write
(0036) 		EEPROM_write(1,140,temps[0].pertime & 0xff);
    02766 9180 044D LDS	R24,temps+272
    02768 9190 044E LDS	R25,temps+273
    0276A 7090      ANDI	R25,0
    0276B 8399      STD	Y+1,R25
    0276C 8388      ST	Y,R24
    0276D E82C      LDI	R18,0x8C
    0276E E030      LDI	R19,0
    0276F E001      LDI	R16,1
    02770 E010      LDI	R17,0
    02771 940E 11F8 CALL	_EEPROM_write
(0037) 		
(0038) 	    EEPROM_write(1,141,temps[0].statusflag);
    02773 9020 0451 LDS	R2,temps+276
    02775 9030 0452 LDS	R3,temps+277
    02777 8239      STD	Y+1,R3
    02778 8228      ST	Y,R2
    02779 E82D      LDI	R18,0x8D
    0277A E030      LDI	R19,0
    0277B E001      LDI	R16,1
    0277C E010      LDI	R17,0
    0277D 940E 11F8 CALL	_EEPROM_write
(0039) 	    EEPROM_write(1,142,temps[0].p_settemp>>8 );
    0277F 9020 0453 LDS	R2,temps+278
    02781 9030 0454 LDS	R3,temps+279
    02783 2C23      MOV	R2,R3
    02784 2433      CLR	R3
    02785 8239      STD	Y+1,R3
    02786 8228      ST	Y,R2
    02787 E82E      LDI	R18,0x8E
    02788 E030      LDI	R19,0
    02789 E001      LDI	R16,1
    0278A E010      LDI	R17,0
    0278B 940E 11F8 CALL	_EEPROM_write
(0040) 		EEPROM_write(1,143,temps[0].p_settemp&0xff);
    0278D 9180 0453 LDS	R24,temps+278
    0278F 9190 0454 LDS	R25,temps+279
    02791 7090      ANDI	R25,0
    02792 8399      STD	Y+1,R25
    02793 8388      ST	Y,R24
    02794 E82F      LDI	R18,0x8F
    02795 E030      LDI	R19,0
    02796 E001      LDI	R16,1
    02797 E010      LDI	R17,0
    02798 940E 11F8 CALL	_EEPROM_write
(0041) 		EEPROM_write(1,144,((int)temps[0].settemp)>>8);
    0279A 9020 045D LDS	R2,temps+288
    0279C 9030 045E LDS	R3,temps+289
    0279E 2C23      MOV	R2,R3
    0279F 2433      CLR	R3
    027A0 FC27      SBRC	R2,7
    027A1 9430      COM	R3
    027A2 8239      STD	Y+1,R3
    027A3 8228      ST	Y,R2
    027A4 E920      LDI	R18,0x90
    027A5 E030      LDI	R19,0
    027A6 E001      LDI	R16,1
    027A7 E010      LDI	R17,0
    027A8 940E 11F8 CALL	_EEPROM_write
(0042) 	    EEPROM_write(1,145,((int)temps[0].settemp)&0xff);
    027AA 9180 045D LDS	R24,temps+288
    027AC 9190 045E LDS	R25,temps+289
    027AE 7090      ANDI	R25,0
    027AF 8399      STD	Y+1,R25
    027B0 8388      ST	Y,R24
    027B1 E921      LDI	R18,0x91
    027B2 E030      LDI	R19,0
    027B3 E001      LDI	R16,1
    027B4 E010      LDI	R17,0
    027B5 940E 11F8 CALL	_EEPROM_write
(0043) 	 }
(0044) 	 EEPROM_write(2,133,temps[1].flag);
    027B7 9020 046F LDS	R2,temps+306
    027B9 9030 0470 LDS	R3,temps+307
    027BB 8239      STD	Y+1,R3
    027BC 8228      ST	Y,R2
    027BD E825      LDI	R18,0x85
    027BE E030      LDI	R19,0
    027BF E002      LDI	R16,2
    027C0 E010      LDI	R17,0
    027C1 940E 11F8 CALL	_EEPROM_write
(0045) 	  if(temps[1].flag==1 || temps[1].flag==3){
    027C3 9180 046F LDS	R24,temps+306
    027C5 9190 0470 LDS	R25,temps+307
    027C7 3081      CPI	R24,1
    027C8 E0E0      LDI	R30,0
    027C9 079E      CPC	R25,R30
    027CA F029      BEQ	0x27D0
    027CB 3083      CPI	R24,3
    027CC E0E0      LDI	R30,0
    027CD 079E      CPC	R25,R30
    027CE F009      BEQ	0x27D0
    027CF C0A1      RJMP	0x2871
(0046) 	    EEPROM_write(2,134,temps[1].status);
    027D0 9020 0579 LDS	R2,temps+572
    027D2 9030 057A LDS	R3,temps+573
    027D4 8239      STD	Y+1,R3
    027D5 8228      ST	Y,R2
    027D6 E826      LDI	R18,0x86
    027D7 E030      LDI	R19,0
    027D8 E002      LDI	R16,2
    027D9 E010      LDI	R17,0
    027DA 940E 11F8 CALL	_EEPROM_write
(0047) 	    EEPROM_write(2,135,temps[1].needtime>>8);
    027DC 9020 057B LDS	R2,temps+574
    027DE 9030 057C LDS	R3,temps+575
    027E0 2C23      MOV	R2,R3
    027E1 2433      CLR	R3
    027E2 8239      STD	Y+1,R3
    027E3 8228      ST	Y,R2
    027E4 E827      LDI	R18,0x87
    027E5 E030      LDI	R19,0
    027E6 E002      LDI	R16,2
    027E7 E010      LDI	R17,0
    027E8 940E 11F8 CALL	_EEPROM_write
(0048) 		EEPROM_write(2,136,temps[1].needtime & 0xFF);
    027EA 9180 057B LDS	R24,temps+574
    027EC 9190 057C LDS	R25,temps+575
    027EE 7090      ANDI	R25,0
    027EF 8399      STD	Y+1,R25
    027F0 8388      ST	Y,R24
    027F1 E828      LDI	R18,0x88
    027F2 E030      LDI	R19,0
    027F3 E002      LDI	R16,2
    027F4 E010      LDI	R17,0
    027F5 940E 11F8 CALL	_EEPROM_write
(0049) 		EEPROM_write(2,137,temps[1].nowtime>>8);
    027F7 9020 057D LDS	R2,temps+576
    027F9 9030 057E LDS	R3,temps+577
    027FB 2C23      MOV	R2,R3
    027FC 2433      CLR	R3
    027FD 8239      STD	Y+1,R3
    027FE 8228      ST	Y,R2
    027FF E829      LDI	R18,0x89
    02800 E030      LDI	R19,0
    02801 E002      LDI	R16,2
    02802 E010      LDI	R17,0
    02803 940E 11F8 CALL	_EEPROM_write
(0050) 		EEPROM_write(2,138,temps[1].nowtime & 0xFF);
    02805 9180 057D LDS	R24,temps+576
    02807 9190 057E LDS	R25,temps+577
    02809 7090      ANDI	R25,0
    0280A 8399      STD	Y+1,R25
    0280B 8388      ST	Y,R24
    0280C E82A      LDI	R18,0x8A
    0280D E030      LDI	R19,0
    0280E E002      LDI	R16,2
    0280F E010      LDI	R17,0
    02810 940E 11F8 CALL	_EEPROM_write
(0051) 	    EEPROM_write(2,139,temps[1].pertime>>8);
    02812 9020 057F LDS	R2,temps+578
    02814 9030 0580 LDS	R3,temps+579
    02816 2C23      MOV	R2,R3
    02817 2433      CLR	R3
    02818 8239      STD	Y+1,R3
    02819 8228      ST	Y,R2
    0281A E82B      LDI	R18,0x8B
    0281B E030      LDI	R19,0
    0281C E002      LDI	R16,2
    0281D E010      LDI	R17,0
    0281E 940E 11F8 CALL	_EEPROM_write
(0052) 		EEPROM_write(2,140,temps[1].pertime & 0xff);
    02820 9180 057F LDS	R24,temps+578
    02822 9190 0580 LDS	R25,temps+579
    02824 7090      ANDI	R25,0
    02825 8399      STD	Y+1,R25
    02826 8388      ST	Y,R24
    02827 E82C      LDI	R18,0x8C
    02828 E030      LDI	R19,0
    02829 E002      LDI	R16,2
    0282A E010      LDI	R17,0
    0282B 940E 11F8 CALL	_EEPROM_write
(0053) 		
(0054) 	    EEPROM_write(2,141,temps[1].statusflag);
    0282D 9020 0583 LDS	R2,temps+582
    0282F 9030 0584 LDS	R3,temps+583
    02831 8239      STD	Y+1,R3
    02832 8228      ST	Y,R2
    02833 E82D      LDI	R18,0x8D
    02834 E030      LDI	R19,0
    02835 E002      LDI	R16,2
    02836 E010      LDI	R17,0
    02837 940E 11F8 CALL	_EEPROM_write
(0055) 	   EEPROM_write(2,142,temps[1].p_settemp>>8 );
    02839 9020 0585 LDS	R2,temps+584
    0283B 9030 0586 LDS	R3,temps+585
    0283D 2C23      MOV	R2,R3
    0283E 2433      CLR	R3
    0283F 8239      STD	Y+1,R3
    02840 8228      ST	Y,R2
    02841 E82E      LDI	R18,0x8E
    02842 E030      LDI	R19,0
    02843 E002      LDI	R16,2
    02844 E010      LDI	R17,0
    02845 940E 11F8 CALL	_EEPROM_write
(0056) 		EEPROM_write(2,143,temps[1].p_settemp&0xff);
    02847 9180 0585 LDS	R24,temps+584
    02849 9190 0586 LDS	R25,temps+585
    0284B 7090      ANDI	R25,0
    0284C 8399      STD	Y+1,R25
    0284D 8388      ST	Y,R24
    0284E E82F      LDI	R18,0x8F
    0284F E030      LDI	R19,0
    02850 E002      LDI	R16,2
    02851 E010      LDI	R17,0
    02852 940E 11F8 CALL	_EEPROM_write
(0057) 		EEPROM_write(2,144,((int)temps[1].settemp)>>8);
    02854 9020 058F LDS	R2,temps+594
    02856 9030 0590 LDS	R3,temps+595
    02858 2C23      MOV	R2,R3
    02859 2433      CLR	R3
    0285A FC27      SBRC	R2,7
    0285B 9430      COM	R3
    0285C 8239      STD	Y+1,R3
    0285D 8228      ST	Y,R2
    0285E E920      LDI	R18,0x90
    0285F E030      LDI	R19,0
    02860 E002      LDI	R16,2
    02861 E010      LDI	R17,0
    02862 940E 11F8 CALL	_EEPROM_write
(0058) 	    EEPROM_write(2,145,((int)temps[1].settemp)&0xff);
    02864 9180 058F LDS	R24,temps+594
    02866 9190 0590 LDS	R25,temps+595
    02868 7090      ANDI	R25,0
    02869 8399      STD	Y+1,R25
    0286A 8388      ST	Y,R24
    0286B E921      LDI	R18,0x91
    0286C E030      LDI	R19,0
    0286D E002      LDI	R16,2
    0286E E010      LDI	R17,0
    0286F 940E 11F8 CALL	_EEPROM_write
(0059) 	 }
(0060) 	 EEPROM_write(3,133,temps[2].flag);
    02871 9020 05A1 LDS	R2,temps+612
    02873 9030 05A2 LDS	R3,temps+613
    02875 8239      STD	Y+1,R3
    02876 8228      ST	Y,R2
    02877 E825      LDI	R18,0x85
    02878 E030      LDI	R19,0
    02879 E003      LDI	R16,3
    0287A E010      LDI	R17,0
    0287B 940E 11F8 CALL	_EEPROM_write
(0061) 	  if(temps[2].flag==1 || temps[2].flag==3){
    0287D 9180 05A1 LDS	R24,temps+612
    0287F 9190 05A2 LDS	R25,temps+613
    02881 3081      CPI	R24,1
    02882 E0E0      LDI	R30,0
    02883 079E      CPC	R25,R30
    02884 F029      BEQ	0x288A
    02885 3083      CPI	R24,3
    02886 E0E0      LDI	R30,0
    02887 079E      CPC	R25,R30
    02888 F009      BEQ	0x288A
    02889 C0A1      RJMP	0x292B
(0062) 	    EEPROM_write(3,134,temps[2].status);
    0288A 9020 06AB LDS	R2,temps+878
    0288C 9030 06AC LDS	R3,temps+879
    0288E 8239      STD	Y+1,R3
    0288F 8228      ST	Y,R2
    02890 E826      LDI	R18,0x86
    02891 E030      LDI	R19,0
    02892 E003      LDI	R16,3
    02893 E010      LDI	R17,0
    02894 940E 11F8 CALL	_EEPROM_write
(0063) 	    EEPROM_write(3,135,temps[2].needtime>>8);
    02896 9020 06AD LDS	R2,temps+880
    02898 9030 06AE LDS	R3,temps+881
    0289A 2C23      MOV	R2,R3
    0289B 2433      CLR	R3
    0289C 8239      STD	Y+1,R3
    0289D 8228      ST	Y,R2
    0289E E827      LDI	R18,0x87
    0289F E030      LDI	R19,0
    028A0 E003      LDI	R16,3
    028A1 E010      LDI	R17,0
    028A2 940E 11F8 CALL	_EEPROM_write
(0064) 		EEPROM_write(3,136,temps[2].needtime & 0xFF);
    028A4 9180 06AD LDS	R24,temps+880
    028A6 9190 06AE LDS	R25,temps+881
    028A8 7090      ANDI	R25,0
    028A9 8399      STD	Y+1,R25
    028AA 8388      ST	Y,R24
    028AB E828      LDI	R18,0x88
    028AC E030      LDI	R19,0
    028AD E003      LDI	R16,3
    028AE E010      LDI	R17,0
    028AF 940E 11F8 CALL	_EEPROM_write
(0065) 		EEPROM_write(3,137,temps[2].nowtime>>8);
    028B1 9020 06AF LDS	R2,temps+882
    028B3 9030 06B0 LDS	R3,temps+883
    028B5 2C23      MOV	R2,R3
    028B6 2433      CLR	R3
    028B7 8239      STD	Y+1,R3
    028B8 8228      ST	Y,R2
    028B9 E829      LDI	R18,0x89
    028BA E030      LDI	R19,0
    028BB E003      LDI	R16,3
    028BC E010      LDI	R17,0
    028BD 940E 11F8 CALL	_EEPROM_write
(0066) 		EEPROM_write(3,138,temps[2].nowtime & 0xFF);
    028BF 9180 06AF LDS	R24,temps+882
    028C1 9190 06B0 LDS	R25,temps+883
    028C3 7090      ANDI	R25,0
    028C4 8399      STD	Y+1,R25
    028C5 8388      ST	Y,R24
    028C6 E82A      LDI	R18,0x8A
    028C7 E030      LDI	R19,0
    028C8 E003      LDI	R16,3
    028C9 E010      LDI	R17,0
    028CA 940E 11F8 CALL	_EEPROM_write
(0067) 	    EEPROM_write(3,139,temps[2].pertime>>8);
    028CC 9020 06B1 LDS	R2,temps+884
    028CE 9030 06B2 LDS	R3,temps+885
    028D0 2C23      MOV	R2,R3
    028D1 2433      CLR	R3
    028D2 8239      STD	Y+1,R3
    028D3 8228      ST	Y,R2
    028D4 E82B      LDI	R18,0x8B
    028D5 E030      LDI	R19,0
    028D6 E003      LDI	R16,3
    028D7 E010      LDI	R17,0
    028D8 940E 11F8 CALL	_EEPROM_write
(0068) 		EEPROM_write(3,140,temps[2].pertime & 0xff);
    028DA 9180 06B1 LDS	R24,temps+884
    028DC 9190 06B2 LDS	R25,temps+885
    028DE 7090      ANDI	R25,0
    028DF 8399      STD	Y+1,R25
    028E0 8388      ST	Y,R24
    028E1 E82C      LDI	R18,0x8C
    028E2 E030      LDI	R19,0
    028E3 E003      LDI	R16,3
    028E4 E010      LDI	R17,0
    028E5 940E 11F8 CALL	_EEPROM_write
(0069) 	    EEPROM_write(3,141,temps[2].statusflag);
    028E7 9020 06B5 LDS	R2,temps+888
    028E9 9030 06B6 LDS	R3,temps+889
    028EB 8239      STD	Y+1,R3
    028EC 8228      ST	Y,R2
    028ED E82D      LDI	R18,0x8D
    028EE E030      LDI	R19,0
    028EF E003      LDI	R16,3
    028F0 E010      LDI	R17,0
    028F1 940E 11F8 CALL	_EEPROM_write
(0070) 	    EEPROM_write(3,142,temps[2].p_settemp>>8 );
    028F3 9020 06B7 LDS	R2,temps+890
    028F5 9030 06B8 LDS	R3,temps+891
    028F7 2C23      MOV	R2,R3
    028F8 2433      CLR	R3
    028F9 8239      STD	Y+1,R3
    028FA 8228      ST	Y,R2
    028FB E82E      LDI	R18,0x8E
    028FC E030      LDI	R19,0
    028FD E003      LDI	R16,3
    028FE E010      LDI	R17,0
    028FF 940E 11F8 CALL	_EEPROM_write
(0071) 		EEPROM_write(3,143,temps[2].p_settemp&0xff);
    02901 9180 06B7 LDS	R24,temps+890
    02903 9190 06B8 LDS	R25,temps+891
    02905 7090      ANDI	R25,0
    02906 8399      STD	Y+1,R25
    02907 8388      ST	Y,R24
    02908 E82F      LDI	R18,0x8F
    02909 E030      LDI	R19,0
    0290A E003      LDI	R16,3
    0290B E010      LDI	R17,0
    0290C 940E 11F8 CALL	_EEPROM_write
(0072) 		EEPROM_write(3,144,((int)temps[2].settemp)>>8);
    0290E 9020 06C1 LDS	R2,temps+900
    02910 9030 06C2 LDS	R3,temps+901
    02912 2C23      MOV	R2,R3
    02913 2433      CLR	R3
    02914 FC27      SBRC	R2,7
    02915 9430      COM	R3
    02916 8239      STD	Y+1,R3
    02917 8228      ST	Y,R2
    02918 E920      LDI	R18,0x90
    02919 E030      LDI	R19,0
    0291A E003      LDI	R16,3
    0291B E010      LDI	R17,0
    0291C 940E 11F8 CALL	_EEPROM_write
(0073) 	    EEPROM_write(3,145,((int)temps[2].settemp)&0xff);
    0291E 9180 06C1 LDS	R24,temps+900
    02920 9190 06C2 LDS	R25,temps+901
    02922 7090      ANDI	R25,0
    02923 8399      STD	Y+1,R25
    02924 8388      ST	Y,R24
    02925 E921      LDI	R18,0x91
    02926 E030      LDI	R19,0
    02927 E003      LDI	R16,3
    02928 E010      LDI	R17,0
    02929 940E 11F8 CALL	_EEPROM_write
(0074) 	 }
(0075) 	 EEPROM_write(4,133,temps[3].flag);
    0292B 9020 06D3 LDS	R2,temps+918
    0292D 9030 06D4 LDS	R3,temps+919
    0292F 8239      STD	Y+1,R3
    02930 8228      ST	Y,R2
    02931 E825      LDI	R18,0x85
    02932 E030      LDI	R19,0
    02933 E004      LDI	R16,4
    02934 E010      LDI	R17,0
    02935 940E 11F8 CALL	_EEPROM_write
(0076) 	  if(temps[3].flag==1 || temps[3].flag==3){
    02937 9180 06D3 LDS	R24,temps+918
    02939 9190 06D4 LDS	R25,temps+919
    0293B 3081      CPI	R24,1
    0293C E0E0      LDI	R30,0
    0293D 079E      CPC	R25,R30
    0293E F029      BEQ	0x2944
    0293F 3083      CPI	R24,3
    02940 E0E0      LDI	R30,0
    02941 079E      CPC	R25,R30
    02942 F009      BEQ	0x2944
    02943 C0A1      RJMP	0x29E5
(0077) 	    EEPROM_write(4,134,temps[3].status);
    02944 9020 07DD LDS	R2,temps+1184
    02946 9030 07DE LDS	R3,temps+1185
    02948 8239      STD	Y+1,R3
    02949 8228      ST	Y,R2
    0294A E826      LDI	R18,0x86
    0294B E030      LDI	R19,0
    0294C E004      LDI	R16,4
    0294D E010      LDI	R17,0
    0294E 940E 11F8 CALL	_EEPROM_write
(0078) 	    EEPROM_write(4,135,temps[3].needtime>>8);
    02950 9020 07DF LDS	R2,temps+1186
    02952 9030 07E0 LDS	R3,temps+1187
    02954 2C23      MOV	R2,R3
    02955 2433      CLR	R3
    02956 8239      STD	Y+1,R3
    02957 8228      ST	Y,R2
    02958 E827      LDI	R18,0x87
    02959 E030      LDI	R19,0
    0295A E004      LDI	R16,4
    0295B E010      LDI	R17,0
    0295C 940E 11F8 CALL	_EEPROM_write
(0079) 		EEPROM_write(4,136,temps[3].needtime & 0xFF);
    0295E 9180 07DF LDS	R24,temps+1186
    02960 9190 07E0 LDS	R25,temps+1187
    02962 7090      ANDI	R25,0
    02963 8399      STD	Y+1,R25
    02964 8388      ST	Y,R24
    02965 E828      LDI	R18,0x88
    02966 E030      LDI	R19,0
    02967 E004      LDI	R16,4
    02968 E010      LDI	R17,0
    02969 940E 11F8 CALL	_EEPROM_write
(0080) 		EEPROM_write(4,137,temps[3].nowtime>>8);
    0296B 9020 07E1 LDS	R2,temps+1188
    0296D 9030 07E2 LDS	R3,temps+1189
    0296F 2C23      MOV	R2,R3
    02970 2433      CLR	R3
    02971 8239      STD	Y+1,R3
    02972 8228      ST	Y,R2
    02973 E829      LDI	R18,0x89
    02974 E030      LDI	R19,0
    02975 E004      LDI	R16,4
    02976 E010      LDI	R17,0
    02977 940E 11F8 CALL	_EEPROM_write
(0081) 		EEPROM_write(4,138,temps[3].nowtime & 0xFF);
    02979 9180 07E1 LDS	R24,temps+1188
    0297B 9190 07E2 LDS	R25,temps+1189
    0297D 7090      ANDI	R25,0
    0297E 8399      STD	Y+1,R25
    0297F 8388      ST	Y,R24
    02980 E82A      LDI	R18,0x8A
    02981 E030      LDI	R19,0
    02982 E004      LDI	R16,4
    02983 E010      LDI	R17,0
    02984 940E 11F8 CALL	_EEPROM_write
(0082) 	    EEPROM_write(4,139,temps[3].pertime>>8);
    02986 9020 07E3 LDS	R2,temps+1190
    02988 9030 07E4 LDS	R3,temps+1191
    0298A 2C23      MOV	R2,R3
    0298B 2433      CLR	R3
    0298C 8239      STD	Y+1,R3
    0298D 8228      ST	Y,R2
    0298E E82B      LDI	R18,0x8B
    0298F E030      LDI	R19,0
    02990 E004      LDI	R16,4
    02991 E010      LDI	R17,0
    02992 940E 11F8 CALL	_EEPROM_write
(0083) 		EEPROM_write(4,140,temps[3].pertime & 0xff);
    02994 9180 07E3 LDS	R24,temps+1190
    02996 9190 07E4 LDS	R25,temps+1191
    02998 7090      ANDI	R25,0
    02999 8399      STD	Y+1,R25
    0299A 8388      ST	Y,R24
    0299B E82C      LDI	R18,0x8C
    0299C E030      LDI	R19,0
    0299D E004      LDI	R16,4
    0299E E010      LDI	R17,0
    0299F 940E 11F8 CALL	_EEPROM_write
(0084) 	    EEPROM_write(4,141,temps[3].statusflag);
    029A1 9020 07E7 LDS	R2,temps+1194
    029A3 9030 07E8 LDS	R3,temps+1195
    029A5 8239      STD	Y+1,R3
    029A6 8228      ST	Y,R2
    029A7 E82D      LDI	R18,0x8D
    029A8 E030      LDI	R19,0
    029A9 E004      LDI	R16,4
    029AA E010      LDI	R17,0
    029AB 940E 11F8 CALL	_EEPROM_write
(0085) 	    EEPROM_write(4,142,temps[3].p_settemp>>8 );
    029AD 9020 07E9 LDS	R2,temps+1196
    029AF 9030 07EA LDS	R3,temps+1197
    029B1 2C23      MOV	R2,R3
    029B2 2433      CLR	R3
    029B3 8239      STD	Y+1,R3
    029B4 8228      ST	Y,R2
    029B5 E82E      LDI	R18,0x8E
    029B6 E030      LDI	R19,0
    029B7 E004      LDI	R16,4
    029B8 E010      LDI	R17,0
    029B9 940E 11F8 CALL	_EEPROM_write
(0086) 		EEPROM_write(4,143,temps[3].p_settemp&0xff);
    029BB 9180 07E9 LDS	R24,temps+1196
    029BD 9190 07EA LDS	R25,temps+1197
    029BF 7090      ANDI	R25,0
    029C0 8399      STD	Y+1,R25
    029C1 8388      ST	Y,R24
    029C2 E82F      LDI	R18,0x8F
    029C3 E030      LDI	R19,0
    029C4 E004      LDI	R16,4
    029C5 E010      LDI	R17,0
    029C6 940E 11F8 CALL	_EEPROM_write
(0087) 		EEPROM_write(4,144,((int)temps[3].settemp)>>8);
    029C8 9020 07F3 LDS	R2,temps+1206
    029CA 9030 07F4 LDS	R3,temps+1207
    029CC 2C23      MOV	R2,R3
    029CD 2433      CLR	R3
    029CE FC27      SBRC	R2,7
    029CF 9430      COM	R3
    029D0 8239      STD	Y+1,R3
    029D1 8228      ST	Y,R2
    029D2 E920      LDI	R18,0x90
    029D3 E030      LDI	R19,0
    029D4 E004      LDI	R16,4
    029D5 E010      LDI	R17,0
    029D6 940E 11F8 CALL	_EEPROM_write
(0088) 	    EEPROM_write(4,145,((int)temps[3].settemp)&0xff);
    029D8 9180 07F3 LDS	R24,temps+1206
    029DA 9190 07F4 LDS	R25,temps+1207
    029DC 7090      ANDI	R25,0
    029DD 8399      STD	Y+1,R25
    029DE 8388      ST	Y,R24
    029DF E921      LDI	R18,0x91
    029E0 E030      LDI	R19,0
    029E1 E004      LDI	R16,4
    029E2 E010      LDI	R17,0
    029E3 940E 11F8 CALL	_EEPROM_write
(0089) 	 }
(0090) 	 
(0091)   }
(0092)   //第一个
(0093)   if(temps[0].flag==1){//运行中
    029E5 9180 033D LDS	R24,temps
    029E7 9190 033E LDS	R25,temps+1
    029E9 3081      CPI	R24,1
    029EA E0E0      LDI	R30,0
    029EB 079E      CPC	R25,R30
    029EC F009      BEQ	0x29EE
    029ED C160      RJMP	0x2B4E
(0094)      cache=temps[0].status;//暂存当前状态
    029EE 9140 0447 LDS	R20,temps+266
    029F0 9150 0448 LDS	R21,temps+267
(0095)      if(temps[0].statusflag==0){//不是第一次进入当前状态
    029F2 9020 0451 LDS	R2,temps+276
    029F4 9030 0452 LDS	R3,temps+277
    029F6 2022      TST	R2
    029F7 F009      BEQ	0x29F9
    029F8 C044      RJMP	0x2A3D
    029F9 2033      TST	R3
    029FA F009      BEQ	0x29FC
    029FB C041      RJMP	0x2A3D
(0096) 	     temps[0].nowtime++;//当前阶段运行时间
    029FC 9180 044B LDS	R24,temps+270
    029FE 9190 044C LDS	R25,temps+271
    02A00 9601      ADIW	R24,1
    02A01 9390 044C STS	temps+271,R25
    02A03 9380 044B STS	temps+270,R24
(0097) 		if(temps[0].nowtime>=temps[0].needtime){//当前阶段运行结束进入下一阶段
    02A05 9020 0449 LDS	R2,temps+268
    02A07 9030 044A LDS	R3,temps+269
    02A09 1582      CP	R24,R2
    02A0A 0593      CPC	R25,R3
    02A0B F068      BCS	0x2A19
(0098) 		    temps[0].status++;
    02A0C 01CA      MOVW	R24,R20
    02A0D 9601      ADIW	R24,1
    02A0E 9390 0448 STS	temps+267,R25
    02A10 9380 0447 STS	temps+266,R24
(0099) 		    temps[0].statusflag=1;
    02A12 E081      LDI	R24,1
    02A13 E090      LDI	R25,0
    02A14 9390 0452 STS	temps+277,R25
    02A16 9380 0451 STS	temps+276,R24
(0100) 			//PORTE=0xFF;
(0101) 		}else{//还在当前阶段
    02A18 C135      RJMP	0x2B4E
(0102) 		     if(cache & 0x01){//恒温阶段,
    02A19 FF40      SBRS	R20,0
    02A1A C001      RJMP	0x2A1C
(0103) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0104) 		      }else{ //升温阶段
    02A1B C132      RJMP	0x2B4E
(0105) 		            temps[0].pertimecnt++;
    02A1C 9180 044F LDS	R24,temps+274
    02A1E 9190 0450 LDS	R25,temps+275
    02A20 9601      ADIW	R24,1
    02A21 9390 0450 STS	temps+275,R25
    02A23 9380 044F STS	temps+274,R24
(0106) 		            if(temps[0].pertimecnt>temps[0].pertime){
    02A25 9020 044D LDS	R2,temps+272
    02A27 9030 044E LDS	R3,temps+273
    02A29 1628      CP	R2,R24
    02A2A 0639      CPC	R3,R25
    02A2B F008      BCS	0x2A2D
    02A2C C121      RJMP	0x2B4E
(0107) 		                    temps[0].p_settemp++;//1C需要时间到达，增加温度。
    02A2D 9180 0453 LDS	R24,temps+278
    02A2F 9190 0454 LDS	R25,temps+279
    02A31 9601      ADIW	R24,1
    02A32 9390 0454 STS	temps+279,R25
    02A34 9380 0453 STS	temps+278,R24
(0108) 			                temps[0].pertimecnt=0;
    02A36 2422      CLR	R2
    02A37 2433      CLR	R3
    02A38 9230 0450 STS	temps+275,R3
    02A3A 9220 044F STS	temps+274,R2
(0109) 		              } 
(0110) 			  }
(0111) 		 }
(0112) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    02A3C C111      RJMP	0x2B4E
(0113) 	        temps[0].statusflag=0;
    02A3D 2422      CLR	R2
    02A3E 2433      CLR	R3
    02A3F 9230 0452 STS	temps+277,R3
    02A41 9220 0451 STS	temps+276,R2
(0114) 		    temps[0].nowtime=0;
    02A43 9230 044C STS	temps+271,R3
    02A45 9220 044B STS	temps+270,R2
(0115) 	       if(cache & 0x01){//升温阶段
    02A47 FF40      SBRS	R20,0
    02A48 C0AA      RJMP	0x2AF3
(0116) 		      cache=((cache-1)>>1)*11;
    02A49 019A      MOVW	R18,R20
    02A4A 5021      SUBI	R18,1
    02A4B 4030      SBCI	R19,0
    02A4C 9536      LSR	R19
    02A4D 9527      ROR	R18
    02A4E E00B      LDI	R16,0xB
    02A4F E010      LDI	R17,0
    02A50 940E 39A0 CALL	empy16s
    02A52 01A8      MOVW	R20,R16
(0117) 		      temps[0].needtime=(temps[0].temp_data[cache]*10+temps[0].temp_data[cache+1])*3600+(temps[0].temp_data[cache+2]*10+temps[0].temp_data[cache+3])*60;
    02A53 E38F      LDI	R24,0x3F
    02A54 E093      LDI	R25,3
    02A55 01FA      MOVW	R30,R20
    02A56 9632      ADIW	R30,2
    02A57 0FEE      LSL	R30
    02A58 1FFF      ROL	R31
    02A59 0FE8      ADD	R30,R24
    02A5A 1FF9      ADC	R31,R25
    02A5B 8120      LD	R18,Z
    02A5C 8131      LDD	R19,Z+1
    02A5D E00A      LDI	R16,0xA
    02A5E E010      LDI	R17,0
    02A5F 940E 39A0 CALL	empy16s
    02A61 0198      MOVW	R18,R16
    02A62 E38F      LDI	R24,0x3F
    02A63 E093      LDI	R25,3
    02A64 01FA      MOVW	R30,R20
    02A65 9633      ADIW	R30,3
    02A66 0FEE      LSL	R30
    02A67 1FFF      ROL	R31
    02A68 0FE8      ADD	R30,R24
    02A69 1FF9      ADC	R31,R25
    02A6A 8020      LD	R2,Z
    02A6B 8031      LDD	R3,Z+1
    02A6C 0D22      ADD	R18,R2
    02A6D 1D33      ADC	R19,R3
    02A6E E30C      LDI	R16,0x3C
    02A6F E010      LDI	R17,0
    02A70 940E 39A0 CALL	empy16s
    02A72 0118      MOVW	R2,R16
    02A73 E38F      LDI	R24,0x3F
    02A74 E093      LDI	R25,3
    02A75 01FA      MOVW	R30,R20
    02A76 0FEE      LSL	R30
    02A77 1FFF      ROL	R31
    02A78 0FE8      ADD	R30,R24
    02A79 1FF9      ADC	R31,R25
    02A7A 8120      LD	R18,Z
    02A7B 8131      LDD	R19,Z+1
    02A7C E00A      LDI	R16,0xA
    02A7D E010      LDI	R17,0
    02A7E 940E 39A0 CALL	empy16s
    02A80 0198      MOVW	R18,R16
    02A81 E38F      LDI	R24,0x3F
    02A82 E093      LDI	R25,3
    02A83 01FA      MOVW	R30,R20
    02A84 9631      ADIW	R30,1
    02A85 0FEE      LSL	R30
    02A86 1FFF      ROL	R31
    02A87 0FE8      ADD	R30,R24
    02A88 1FF9      ADC	R31,R25
    02A89 8040      LD	R4,Z
    02A8A 8051      LDD	R5,Z+1
    02A8B 0D24      ADD	R18,R4
    02A8C 1D35      ADC	R19,R5
    02A8D E100      LDI	R16,0x10
    02A8E E01E      LDI	R17,0xE
    02A8F 940E 39A0 CALL	empy16s
    02A91 0128      MOVW	R4,R16
    02A92 0C42      ADD	R4,R2
    02A93 1C53      ADC	R5,R3
    02A94 9250 044A STS	temps+269,R5
    02A96 9240 0449 STS	temps+268,R4
(0118) 			  //temps[0].needtime=3;
(0119) 			  if(temps[0].needtime==0){
    02A98 2044      TST	R4
    02A99 F449      BNE	0x2AA3
    02A9A 2055      TST	R5
    02A9B F439      BNE	0x2AA3
(0120) 			     //当前阶段时间为0，表示已经结束更改标记
(0121) 				  temps[0].flag=4;
    02A9C E084      LDI	R24,4
    02A9D E090      LDI	R25,0
    02A9E 9390 033E STS	temps+1,R25
    02AA0 9380 033D STS	temps,R24
(0122) 			  }else{
    02AA2 C0AB      RJMP	0x2B4E
(0123) 			     temps[0].p_settemp=temps[0].temp_data[cache+8]*100+temps[0].temp_data[cache+9]*10+temps[0].temp_data[cache+10];
    02AA3 E38F      LDI	R24,0x3F
    02AA4 E093      LDI	R25,3
    02AA5 01FA      MOVW	R30,R20
    02AA6 9639      ADIW	R30,0x9
    02AA7 0FEE      LSL	R30
    02AA8 1FFF      ROL	R31
    02AA9 0FE8      ADD	R30,R24
    02AAA 1FF9      ADC	R31,R25
    02AAB 8120      LD	R18,Z
    02AAC 8131      LDD	R19,Z+1
    02AAD E00A      LDI	R16,0xA
    02AAE E010      LDI	R17,0
    02AAF 940E 39A0 CALL	empy16s
    02AB1 0118      MOVW	R2,R16
    02AB2 E38F      LDI	R24,0x3F
    02AB3 E093      LDI	R25,3
    02AB4 01FA      MOVW	R30,R20
    02AB5 9638      ADIW	R30,0x8
    02AB6 0FEE      LSL	R30
    02AB7 1FFF      ROL	R31
    02AB8 0FE8      ADD	R30,R24
    02AB9 1FF9      ADC	R31,R25
    02ABA 8120      LD	R18,Z
    02ABB 8131      LDD	R19,Z+1
    02ABC E604      LDI	R16,0x64
    02ABD E010      LDI	R17,0
    02ABE 940E 39A0 CALL	empy16s
    02AC0 0128      MOVW	R4,R16
    02AC1 0C42      ADD	R4,R2
    02AC2 1C53      ADC	R5,R3
    02AC3 E38F      LDI	R24,0x3F
    02AC4 E093      LDI	R25,3
    02AC5 01FA      MOVW	R30,R20
    02AC6 963A      ADIW	R30,0xA
    02AC7 0FEE      LSL	R30
    02AC8 1FFF      ROL	R31
    02AC9 0FE8      ADD	R30,R24
    02ACA 1FF9      ADC	R31,R25
    02ACB 8020      LD	R2,Z
    02ACC 8031      LDD	R3,Z+1
    02ACD 0C42      ADD	R4,R2
    02ACE 1C53      ADC	R5,R3
    02ACF 9250 0454 STS	temps+279,R5
    02AD1 9240 0453 STS	temps+278,R4
(0124) 			     temps[0].pertime=temps[0].needtime/(temps[0].p_settemp-temps[0].actualtemp);
    02AD3 9020 045F LDS	R2,temps+290
    02AD5 9030 0460 LDS	R3,temps+291
    02AD7 0192      MOVW	R18,R4
    02AD8 1922      SUB	R18,R2
    02AD9 0933      SBC	R19,R3
    02ADA 9100 0449 LDS	R16,temps+268
    02ADC 9110 044A LDS	R17,temps+269
    02ADE 940E 3986 CALL	div16u
    02AE0 9310 044E STS	temps+273,R17
    02AE2 9300 044D STS	temps+272,R16
(0125) 			     temps[0].pertimecnt=0;
    02AE4 2422      CLR	R2
    02AE5 2433      CLR	R3
    02AE6 9230 0450 STS	temps+275,R3
    02AE8 9220 044F STS	temps+274,R2
(0126) 				 temps[0].settemp=temps[0].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02AEA 9020 0453 LDS	R2,temps+278
    02AEC 9030 0454 LDS	R3,temps+279
    02AEE 9230 045E STS	temps+289,R3
    02AF0 9220 045D STS	temps+288,R2
(0127) 			  }
(0128) 		     
(0129) 		    }else{//恒温阶段
    02AF2 C05B      RJMP	0x2B4E
(0130) 			   cache=((cache-1)>>1)*11+4;
    02AF3 019A      MOVW	R18,R20
    02AF4 5021      SUBI	R18,1
    02AF5 4030      SBCI	R19,0
    02AF6 9536      LSR	R19
    02AF7 9527      ROR	R18
    02AF8 E00B      LDI	R16,0xB
    02AF9 E010      LDI	R17,0
    02AFA 940E 39A0 CALL	empy16s
    02AFC 01A8      MOVW	R20,R16
    02AFD 5F4C      SUBI	R20,0xFC
    02AFE 4F5F      SBCI	R21,0xFF
(0131) 		      temps[0].needtime=(temps[0].temp_data[cache]*10+temps[0].temp_data[cache+1])*3600+(temps[0].temp_data[cache+2]*10+temps[0].temp_data[cache+3])*60;
    02AFF E38F      LDI	R24,0x3F
    02B00 E093      LDI	R25,3
    02B01 01FA      MOVW	R30,R20
    02B02 9632      ADIW	R30,2
    02B03 0FEE      LSL	R30
    02B04 1FFF      ROL	R31
    02B05 0FE8      ADD	R30,R24
    02B06 1FF9      ADC	R31,R25
    02B07 8120      LD	R18,Z
    02B08 8131      LDD	R19,Z+1
    02B09 E00A      LDI	R16,0xA
    02B0A E010      LDI	R17,0
    02B0B 940E 39A0 CALL	empy16s
    02B0D 0198      MOVW	R18,R16
    02B0E E38F      LDI	R24,0x3F
    02B0F E093      LDI	R25,3
    02B10 01FA      MOVW	R30,R20
    02B11 9633      ADIW	R30,3
    02B12 0FEE      LSL	R30
    02B13 1FFF      ROL	R31
    02B14 0FE8      ADD	R30,R24
    02B15 1FF9      ADC	R31,R25
    02B16 8020      LD	R2,Z
    02B17 8031      LDD	R3,Z+1
    02B18 0D22      ADD	R18,R2
    02B19 1D33      ADC	R19,R3
    02B1A E30C      LDI	R16,0x3C
    02B1B E010      LDI	R17,0
    02B1C 940E 39A0 CALL	empy16s
    02B1E 0118      MOVW	R2,R16
    02B1F E38F      LDI	R24,0x3F
    02B20 E093      LDI	R25,3
    02B21 01FA      MOVW	R30,R20
    02B22 0FEE      LSL	R30
    02B23 1FFF      ROL	R31
    02B24 0FE8      ADD	R30,R24
    02B25 1FF9      ADC	R31,R25
    02B26 8120      LD	R18,Z
    02B27 8131      LDD	R19,Z+1
    02B28 E00A      LDI	R16,0xA
    02B29 E010      LDI	R17,0
    02B2A 940E 39A0 CALL	empy16s
    02B2C 0198      MOVW	R18,R16
    02B2D E38F      LDI	R24,0x3F
    02B2E E093      LDI	R25,3
    02B2F 01FA      MOVW	R30,R20
    02B30 9631      ADIW	R30,1
    02B31 0FEE      LSL	R30
    02B32 1FFF      ROL	R31
    02B33 0FE8      ADD	R30,R24
    02B34 1FF9      ADC	R31,R25
    02B35 8040      LD	R4,Z
    02B36 8051      LDD	R5,Z+1
    02B37 0D24      ADD	R18,R4
    02B38 1D35      ADC	R19,R5
    02B39 E100      LDI	R16,0x10
    02B3A E01E      LDI	R17,0xE
    02B3B 940E 39A0 CALL	empy16s
    02B3D 0128      MOVW	R4,R16
    02B3E 0C42      ADD	R4,R2
    02B3F 1C53      ADC	R5,R3
    02B40 9250 044A STS	temps+269,R5
    02B42 9240 0449 STS	temps+268,R4
(0132) 			  //temps[0].needtime=3;
(0133) 			  if(temps[0].needtime==0){
    02B44 2044      TST	R4
    02B45 F441      BNE	0x2B4E
    02B46 2055      TST	R5
    02B47 F431      BNE	0x2B4E
(0134) 			     //当前阶段时间为0，表示已经结束更改标记
(0135) 				  temps[0].flag=4;
    02B48 E084      LDI	R24,4
    02B49 E090      LDI	R25,0
    02B4A 9390 033E STS	temps+1,R25
    02B4C 9380 033D STS	temps,R24
(0136) 			  }
(0137) 			 // temps[0].settemp，在上一场升温时候赋值过
(0138) 			}
(0139) 	  }
(0140)   }
(0141)   //第二个
(0142)   if(temps[1].flag==1){//运行中
    02B4E 9180 046F LDS	R24,temps+306
    02B50 9190 0470 LDS	R25,temps+307
    02B52 3081      CPI	R24,1
    02B53 E0E0      LDI	R30,0
    02B54 079E      CPC	R25,R30
    02B55 F009      BEQ	0x2B57
    02B56 C160      RJMP	0x2CB7
(0143)      cache=temps[1].status;//暂存当前状态
    02B57 9140 0579 LDS	R20,temps+572
    02B59 9150 057A LDS	R21,temps+573
(0144)      if(temps[1].statusflag==0){//不是第一次进入当前状态
    02B5B 9020 0583 LDS	R2,temps+582
    02B5D 9030 0584 LDS	R3,temps+583
    02B5F 2022      TST	R2
    02B60 F009      BEQ	0x2B62
    02B61 C044      RJMP	0x2BA6
    02B62 2033      TST	R3
    02B63 F009      BEQ	0x2B65
    02B64 C041      RJMP	0x2BA6
(0145) 	     temps[1].nowtime++;//当前阶段运行时间
    02B65 9180 057D LDS	R24,temps+576
    02B67 9190 057E LDS	R25,temps+577
    02B69 9601      ADIW	R24,1
    02B6A 9390 057E STS	temps+577,R25
    02B6C 9380 057D STS	temps+576,R24
(0146) 		if(temps[1].nowtime>=temps[1].needtime){//当前阶段运行结束进入下一阶段
    02B6E 9020 057B LDS	R2,temps+574
    02B70 9030 057C LDS	R3,temps+575
    02B72 1582      CP	R24,R2
    02B73 0593      CPC	R25,R3
    02B74 F068      BCS	0x2B82
(0147) 		    temps[1].status++;
    02B75 01CA      MOVW	R24,R20
    02B76 9601      ADIW	R24,1
    02B77 9390 057A STS	temps+573,R25
    02B79 9380 0579 STS	temps+572,R24
(0148) 		    temps[1].statusflag=1;
    02B7B E081      LDI	R24,1
    02B7C E090      LDI	R25,0
    02B7D 9390 0584 STS	temps+583,R25
    02B7F 9380 0583 STS	temps+582,R24
(0149) 			//PORTE=0xFF;
(0150) 		}else{//还在当前阶段
    02B81 C135      RJMP	0x2CB7
(0151) 		     if(cache & 0x01){//恒温阶段,
    02B82 FF40      SBRS	R20,0
    02B83 C001      RJMP	0x2B85
(0152) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0153) 		      }else{ //升温阶段
    02B84 C132      RJMP	0x2CB7
(0154) 		            temps[1].pertimecnt++;
    02B85 9180 0581 LDS	R24,temps+580
    02B87 9190 0582 LDS	R25,temps+581
    02B89 9601      ADIW	R24,1
    02B8A 9390 0582 STS	temps+581,R25
    02B8C 9380 0581 STS	temps+580,R24
(0155) 		            if(temps[1].pertimecnt>temps[1].pertime){
    02B8E 9020 057F LDS	R2,temps+578
    02B90 9030 0580 LDS	R3,temps+579
    02B92 1628      CP	R2,R24
    02B93 0639      CPC	R3,R25
    02B94 F008      BCS	0x2B96
    02B95 C121      RJMP	0x2CB7
(0156) 		                    temps[1].p_settemp++;//1C需要时间到达，增加温度。
    02B96 9180 0585 LDS	R24,temps+584
    02B98 9190 0586 LDS	R25,temps+585
    02B9A 9601      ADIW	R24,1
    02B9B 9390 0586 STS	temps+585,R25
    02B9D 9380 0585 STS	temps+584,R24
(0157) 			                temps[1].pertimecnt=0;
    02B9F 2422      CLR	R2
    02BA0 2433      CLR	R3
    02BA1 9230 0582 STS	temps+581,R3
    02BA3 9220 0581 STS	temps+580,R2
(0158) 		              } 
(0159) 			  }
(0160) 		 }
(0161) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    02BA5 C111      RJMP	0x2CB7
(0162) 	        temps[1].statusflag=0;
    02BA6 2422      CLR	R2
    02BA7 2433      CLR	R3
    02BA8 9230 0584 STS	temps+583,R3
    02BAA 9220 0583 STS	temps+582,R2
(0163) 		    temps[1].nowtime=0;
    02BAC 9230 057E STS	temps+577,R3
    02BAE 9220 057D STS	temps+576,R2
(0164) 	       if(cache & 0x01){//升温阶段
    02BB0 FF40      SBRS	R20,0
    02BB1 C0AA      RJMP	0x2C5C
(0165) 		      cache=((cache-1)>>1)*11;
    02BB2 019A      MOVW	R18,R20
    02BB3 5021      SUBI	R18,1
    02BB4 4030      SBCI	R19,0
    02BB5 9536      LSR	R19
    02BB6 9527      ROR	R18
    02BB7 E00B      LDI	R16,0xB
    02BB8 E010      LDI	R17,0
    02BB9 940E 39A0 CALL	empy16s
    02BBB 01A8      MOVW	R20,R16
(0166) 		      temps[1].needtime=(temps[1].temp_data[cache]*10+temps[1].temp_data[cache+1])*3600+(temps[1].temp_data[cache+2]*10+temps[1].temp_data[cache+3])*60;
    02BBC E781      LDI	R24,0x71
    02BBD E094      LDI	R25,4
    02BBE 01FA      MOVW	R30,R20
    02BBF 9632      ADIW	R30,2
    02BC0 0FEE      LSL	R30
    02BC1 1FFF      ROL	R31
    02BC2 0FE8      ADD	R30,R24
    02BC3 1FF9      ADC	R31,R25
    02BC4 8120      LD	R18,Z
    02BC5 8131      LDD	R19,Z+1
    02BC6 E00A      LDI	R16,0xA
    02BC7 E010      LDI	R17,0
    02BC8 940E 39A0 CALL	empy16s
    02BCA 0198      MOVW	R18,R16
    02BCB E781      LDI	R24,0x71
    02BCC E094      LDI	R25,4
    02BCD 01FA      MOVW	R30,R20
    02BCE 9633      ADIW	R30,3
    02BCF 0FEE      LSL	R30
    02BD0 1FFF      ROL	R31
    02BD1 0FE8      ADD	R30,R24
    02BD2 1FF9      ADC	R31,R25
    02BD3 8020      LD	R2,Z
    02BD4 8031      LDD	R3,Z+1
    02BD5 0D22      ADD	R18,R2
    02BD6 1D33      ADC	R19,R3
    02BD7 E30C      LDI	R16,0x3C
    02BD8 E010      LDI	R17,0
    02BD9 940E 39A0 CALL	empy16s
    02BDB 0118      MOVW	R2,R16
    02BDC E781      LDI	R24,0x71
    02BDD E094      LDI	R25,4
    02BDE 01FA      MOVW	R30,R20
    02BDF 0FEE      LSL	R30
    02BE0 1FFF      ROL	R31
    02BE1 0FE8      ADD	R30,R24
    02BE2 1FF9      ADC	R31,R25
    02BE3 8120      LD	R18,Z
    02BE4 8131      LDD	R19,Z+1
    02BE5 E00A      LDI	R16,0xA
    02BE6 E010      LDI	R17,0
    02BE7 940E 39A0 CALL	empy16s
    02BE9 0198      MOVW	R18,R16
    02BEA E781      LDI	R24,0x71
    02BEB E094      LDI	R25,4
    02BEC 01FA      MOVW	R30,R20
    02BED 9631      ADIW	R30,1
    02BEE 0FEE      LSL	R30
    02BEF 1FFF      ROL	R31
    02BF0 0FE8      ADD	R30,R24
    02BF1 1FF9      ADC	R31,R25
    02BF2 8040      LD	R4,Z
    02BF3 8051      LDD	R5,Z+1
    02BF4 0D24      ADD	R18,R4
    02BF5 1D35      ADC	R19,R5
    02BF6 E100      LDI	R16,0x10
    02BF7 E01E      LDI	R17,0xE
    02BF8 940E 39A0 CALL	empy16s
    02BFA 0128      MOVW	R4,R16
    02BFB 0C42      ADD	R4,R2
    02BFC 1C53      ADC	R5,R3
    02BFD 9250 057C STS	temps+575,R5
    02BFF 9240 057B STS	temps+574,R4
(0167) 			  //temps[0].needtime=3;
(0168) 			  if(temps[1].needtime==0){
    02C01 2044      TST	R4
    02C02 F449      BNE	0x2C0C
    02C03 2055      TST	R5
    02C04 F439      BNE	0x2C0C
(0169) 			     //当前阶段时间为0，表示已经结束更改标记
(0170) 				  temps[1].flag=4;
    02C05 E084      LDI	R24,4
    02C06 E090      LDI	R25,0
    02C07 9390 0470 STS	temps+307,R25
    02C09 9380 046F STS	temps+306,R24
(0171) 			  }else{
    02C0B C0AB      RJMP	0x2CB7
(0172) 			     temps[1].p_settemp=temps[1].temp_data[cache+8]*100+temps[1].temp_data[cache+9]*10+temps[1].temp_data[cache+10];
    02C0C E781      LDI	R24,0x71
    02C0D E094      LDI	R25,4
    02C0E 01FA      MOVW	R30,R20
    02C0F 9639      ADIW	R30,0x9
    02C10 0FEE      LSL	R30
    02C11 1FFF      ROL	R31
    02C12 0FE8      ADD	R30,R24
    02C13 1FF9      ADC	R31,R25
    02C14 8120      LD	R18,Z
    02C15 8131      LDD	R19,Z+1
    02C16 E00A      LDI	R16,0xA
    02C17 E010      LDI	R17,0
    02C18 940E 39A0 CALL	empy16s
    02C1A 0118      MOVW	R2,R16
    02C1B E781      LDI	R24,0x71
    02C1C E094      LDI	R25,4
    02C1D 01FA      MOVW	R30,R20
    02C1E 9638      ADIW	R30,0x8
    02C1F 0FEE      LSL	R30
    02C20 1FFF      ROL	R31
    02C21 0FE8      ADD	R30,R24
    02C22 1FF9      ADC	R31,R25
    02C23 8120      LD	R18,Z
    02C24 8131      LDD	R19,Z+1
    02C25 E604      LDI	R16,0x64
    02C26 E010      LDI	R17,0
    02C27 940E 39A0 CALL	empy16s
    02C29 0128      MOVW	R4,R16
    02C2A 0C42      ADD	R4,R2
    02C2B 1C53      ADC	R5,R3
    02C2C E781      LDI	R24,0x71
    02C2D E094      LDI	R25,4
    02C2E 01FA      MOVW	R30,R20
    02C2F 963A      ADIW	R30,0xA
    02C30 0FEE      LSL	R30
    02C31 1FFF      ROL	R31
    02C32 0FE8      ADD	R30,R24
    02C33 1FF9      ADC	R31,R25
    02C34 8020      LD	R2,Z
    02C35 8031      LDD	R3,Z+1
    02C36 0C42      ADD	R4,R2
    02C37 1C53      ADC	R5,R3
    02C38 9250 0586 STS	temps+585,R5
    02C3A 9240 0585 STS	temps+584,R4
(0173) 			     temps[1].pertime=temps[1].needtime/(temps[1].p_settemp-temps[1].actualtemp);
    02C3C 9020 0591 LDS	R2,temps+596
    02C3E 9030 0592 LDS	R3,temps+597
    02C40 0192      MOVW	R18,R4
    02C41 1922      SUB	R18,R2
    02C42 0933      SBC	R19,R3
    02C43 9100 057B LDS	R16,temps+574
    02C45 9110 057C LDS	R17,temps+575
    02C47 940E 3986 CALL	div16u
    02C49 9310 0580 STS	temps+579,R17
    02C4B 9300 057F STS	temps+578,R16
(0174) 			     temps[1].pertimecnt=0;
    02C4D 2422      CLR	R2
    02C4E 2433      CLR	R3
    02C4F 9230 0582 STS	temps+581,R3
    02C51 9220 0581 STS	temps+580,R2
(0175) 				 temps[1].settemp=temps[1].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02C53 9020 0585 LDS	R2,temps+584
    02C55 9030 0586 LDS	R3,temps+585
    02C57 9230 0590 STS	temps+595,R3
    02C59 9220 058F STS	temps+594,R2
(0176) 			  }
(0177) 		     
(0178) 		    }else{//恒温阶段
    02C5B C05B      RJMP	0x2CB7
(0179) 			   cache=((cache-1)>>1)*11+4;
    02C5C 019A      MOVW	R18,R20
    02C5D 5021      SUBI	R18,1
    02C5E 4030      SBCI	R19,0
    02C5F 9536      LSR	R19
    02C60 9527      ROR	R18
    02C61 E00B      LDI	R16,0xB
    02C62 E010      LDI	R17,0
    02C63 940E 39A0 CALL	empy16s
    02C65 01A8      MOVW	R20,R16
    02C66 5F4C      SUBI	R20,0xFC
    02C67 4F5F      SBCI	R21,0xFF
(0180) 		      temps[1].needtime=(temps[1].temp_data[cache]*10+temps[1].temp_data[cache+1])*3600+(temps[1].temp_data[cache+2]*10+temps[1].temp_data[cache+3])*60;
    02C68 E781      LDI	R24,0x71
    02C69 E094      LDI	R25,4
    02C6A 01FA      MOVW	R30,R20
    02C6B 9632      ADIW	R30,2
    02C6C 0FEE      LSL	R30
    02C6D 1FFF      ROL	R31
    02C6E 0FE8      ADD	R30,R24
    02C6F 1FF9      ADC	R31,R25
    02C70 8120      LD	R18,Z
    02C71 8131      LDD	R19,Z+1
    02C72 E00A      LDI	R16,0xA
    02C73 E010      LDI	R17,0
    02C74 940E 39A0 CALL	empy16s
    02C76 0198      MOVW	R18,R16
    02C77 E781      LDI	R24,0x71
    02C78 E094      LDI	R25,4
    02C79 01FA      MOVW	R30,R20
    02C7A 9633      ADIW	R30,3
    02C7B 0FEE      LSL	R30
    02C7C 1FFF      ROL	R31
    02C7D 0FE8      ADD	R30,R24
    02C7E 1FF9      ADC	R31,R25
    02C7F 8020      LD	R2,Z
    02C80 8031      LDD	R3,Z+1
    02C81 0D22      ADD	R18,R2
    02C82 1D33      ADC	R19,R3
    02C83 E30C      LDI	R16,0x3C
    02C84 E010      LDI	R17,0
    02C85 940E 39A0 CALL	empy16s
    02C87 0118      MOVW	R2,R16
    02C88 E781      LDI	R24,0x71
    02C89 E094      LDI	R25,4
    02C8A 01FA      MOVW	R30,R20
    02C8B 0FEE      LSL	R30
    02C8C 1FFF      ROL	R31
    02C8D 0FE8      ADD	R30,R24
    02C8E 1FF9      ADC	R31,R25
    02C8F 8120      LD	R18,Z
    02C90 8131      LDD	R19,Z+1
    02C91 E00A      LDI	R16,0xA
    02C92 E010      LDI	R17,0
    02C93 940E 39A0 CALL	empy16s
    02C95 0198      MOVW	R18,R16
    02C96 E781      LDI	R24,0x71
    02C97 E094      LDI	R25,4
    02C98 01FA      MOVW	R30,R20
    02C99 9631      ADIW	R30,1
    02C9A 0FEE      LSL	R30
    02C9B 1FFF      ROL	R31
    02C9C 0FE8      ADD	R30,R24
    02C9D 1FF9      ADC	R31,R25
    02C9E 8040      LD	R4,Z
    02C9F 8051      LDD	R5,Z+1
    02CA0 0D24      ADD	R18,R4
    02CA1 1D35      ADC	R19,R5
    02CA2 E100      LDI	R16,0x10
    02CA3 E01E      LDI	R17,0xE
    02CA4 940E 39A0 CALL	empy16s
    02CA6 0128      MOVW	R4,R16
    02CA7 0C42      ADD	R4,R2
    02CA8 1C53      ADC	R5,R3
    02CA9 9250 057C STS	temps+575,R5
    02CAB 9240 057B STS	temps+574,R4
(0181) 			  //temps[1].needtime=3;
(0182) 			  if(temps[1].needtime==0){
    02CAD 2044      TST	R4
    02CAE F441      BNE	0x2CB7
    02CAF 2055      TST	R5
    02CB0 F431      BNE	0x2CB7
(0183) 			     //当前阶段时间为0，表示已经结束更改标记
(0184) 				  temps[1].flag=4;
    02CB1 E084      LDI	R24,4
    02CB2 E090      LDI	R25,0
    02CB3 9390 0470 STS	temps+307,R25
    02CB5 9380 046F STS	temps+306,R24
(0185) 			  }
(0186) 			 // temps[1].settemp，在上一场升温时候赋值过
(0187) 			}
(0188) 	  }
(0189)   }
(0190)   //第三个
(0191)   if(temps[2].flag==1){//运行中
    02CB7 9180 05A1 LDS	R24,temps+612
    02CB9 9190 05A2 LDS	R25,temps+613
    02CBB 3081      CPI	R24,1
    02CBC E0E0      LDI	R30,0
    02CBD 079E      CPC	R25,R30
    02CBE F009      BEQ	0x2CC0
    02CBF C160      RJMP	0x2E20
(0192)      cache=temps[2].status;//暂存当前状态
    02CC0 9140 06AB LDS	R20,temps+878
    02CC2 9150 06AC LDS	R21,temps+879
(0193)      if(temps[2].statusflag==0){//不是第一次进入当前状态
    02CC4 9020 06B5 LDS	R2,temps+888
    02CC6 9030 06B6 LDS	R3,temps+889
    02CC8 2022      TST	R2
    02CC9 F009      BEQ	0x2CCB
    02CCA C044      RJMP	0x2D0F
    02CCB 2033      TST	R3
    02CCC F009      BEQ	0x2CCE
    02CCD C041      RJMP	0x2D0F
(0194) 	     temps[2].nowtime++;//当前阶段运行时间
    02CCE 9180 06AF LDS	R24,temps+882
    02CD0 9190 06B0 LDS	R25,temps+883
    02CD2 9601      ADIW	R24,1
    02CD3 9390 06B0 STS	temps+883,R25
    02CD5 9380 06AF STS	temps+882,R24
(0195) 		if(temps[2].nowtime>=temps[2].needtime){//当前阶段运行结束进入下一阶段
    02CD7 9020 06AD LDS	R2,temps+880
    02CD9 9030 06AE LDS	R3,temps+881
    02CDB 1582      CP	R24,R2
    02CDC 0593      CPC	R25,R3
    02CDD F068      BCS	0x2CEB
(0196) 		    temps[2].status++;
    02CDE 01CA      MOVW	R24,R20
    02CDF 9601      ADIW	R24,1
    02CE0 9390 06AC STS	temps+879,R25
    02CE2 9380 06AB STS	temps+878,R24
(0197) 		    temps[2].statusflag=1;
    02CE4 E081      LDI	R24,1
    02CE5 E090      LDI	R25,0
    02CE6 9390 06B6 STS	temps+889,R25
    02CE8 9380 06B5 STS	temps+888,R24
(0198) 			//PORTE=0xFF;
(0199) 		}else{//还在当前阶段
    02CEA C135      RJMP	0x2E20
(0200) 		     if(cache & 0x01){//恒温阶段,
    02CEB FF40      SBRS	R20,0
    02CEC C001      RJMP	0x2CEE
(0201) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0202) 		      }else{ //升温阶段
    02CED C132      RJMP	0x2E20
(0203) 		            temps[2].pertimecnt++;
    02CEE 9180 06B3 LDS	R24,temps+886
    02CF0 9190 06B4 LDS	R25,temps+887
    02CF2 9601      ADIW	R24,1
    02CF3 9390 06B4 STS	temps+887,R25
    02CF5 9380 06B3 STS	temps+886,R24
(0204) 		            if(temps[2].pertimecnt>temps[2].pertime){
    02CF7 9020 06B1 LDS	R2,temps+884
    02CF9 9030 06B2 LDS	R3,temps+885
    02CFB 1628      CP	R2,R24
    02CFC 0639      CPC	R3,R25
    02CFD F008      BCS	0x2CFF
    02CFE C121      RJMP	0x2E20
(0205) 		                    temps[2].p_settemp++;//1C需要时间到达，增加温度。
    02CFF 9180 06B7 LDS	R24,temps+890
    02D01 9190 06B8 LDS	R25,temps+891
    02D03 9601      ADIW	R24,1
    02D04 9390 06B8 STS	temps+891,R25
    02D06 9380 06B7 STS	temps+890,R24
(0206) 			                temps[2].pertimecnt=0;
    02D08 2422      CLR	R2
    02D09 2433      CLR	R3
    02D0A 9230 06B4 STS	temps+887,R3
    02D0C 9220 06B3 STS	temps+886,R2
(0207) 		              } 
(0208) 			  }
(0209) 		 }
(0210) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    02D0E C111      RJMP	0x2E20
(0211) 	        temps[2].statusflag=0;
    02D0F 2422      CLR	R2
    02D10 2433      CLR	R3
    02D11 9230 06B6 STS	temps+889,R3
    02D13 9220 06B5 STS	temps+888,R2
(0212) 		    temps[2].nowtime=0;
    02D15 9230 06B0 STS	temps+883,R3
    02D17 9220 06AF STS	temps+882,R2
(0213) 	       if(cache & 0x01){//升温阶段
    02D19 FF40      SBRS	R20,0
    02D1A C0AA      RJMP	0x2DC5
(0214) 		      cache=((cache-1)>>1)*11;
    02D1B 019A      MOVW	R18,R20
    02D1C 5021      SUBI	R18,1
    02D1D 4030      SBCI	R19,0
    02D1E 9536      LSR	R19
    02D1F 9527      ROR	R18
    02D20 E00B      LDI	R16,0xB
    02D21 E010      LDI	R17,0
    02D22 940E 39A0 CALL	empy16s
    02D24 01A8      MOVW	R20,R16
(0215) 		      temps[2].needtime=(temps[2].temp_data[cache]*10+temps[2].temp_data[cache+1])*3600+(temps[2].temp_data[cache+2]*10+temps[2].temp_data[cache+3])*60;
    02D25 EA83      LDI	R24,0xA3
    02D26 E095      LDI	R25,5
    02D27 01FA      MOVW	R30,R20
    02D28 9632      ADIW	R30,2
    02D29 0FEE      LSL	R30
    02D2A 1FFF      ROL	R31
    02D2B 0FE8      ADD	R30,R24
    02D2C 1FF9      ADC	R31,R25
    02D2D 8120      LD	R18,Z
    02D2E 8131      LDD	R19,Z+1
    02D2F E00A      LDI	R16,0xA
    02D30 E010      LDI	R17,0
    02D31 940E 39A0 CALL	empy16s
    02D33 0198      MOVW	R18,R16
    02D34 EA83      LDI	R24,0xA3
    02D35 E095      LDI	R25,5
    02D36 01FA      MOVW	R30,R20
    02D37 9633      ADIW	R30,3
    02D38 0FEE      LSL	R30
    02D39 1FFF      ROL	R31
    02D3A 0FE8      ADD	R30,R24
    02D3B 1FF9      ADC	R31,R25
    02D3C 8020      LD	R2,Z
    02D3D 8031      LDD	R3,Z+1
    02D3E 0D22      ADD	R18,R2
    02D3F 1D33      ADC	R19,R3
    02D40 E30C      LDI	R16,0x3C
    02D41 E010      LDI	R17,0
    02D42 940E 39A0 CALL	empy16s
    02D44 0118      MOVW	R2,R16
    02D45 EA83      LDI	R24,0xA3
    02D46 E095      LDI	R25,5
    02D47 01FA      MOVW	R30,R20
    02D48 0FEE      LSL	R30
    02D49 1FFF      ROL	R31
    02D4A 0FE8      ADD	R30,R24
    02D4B 1FF9      ADC	R31,R25
    02D4C 8120      LD	R18,Z
    02D4D 8131      LDD	R19,Z+1
    02D4E E00A      LDI	R16,0xA
    02D4F E010      LDI	R17,0
    02D50 940E 39A0 CALL	empy16s
    02D52 0198      MOVW	R18,R16
    02D53 EA83      LDI	R24,0xA3
    02D54 E095      LDI	R25,5
    02D55 01FA      MOVW	R30,R20
    02D56 9631      ADIW	R30,1
    02D57 0FEE      LSL	R30
    02D58 1FFF      ROL	R31
    02D59 0FE8      ADD	R30,R24
    02D5A 1FF9      ADC	R31,R25
    02D5B 8040      LD	R4,Z
    02D5C 8051      LDD	R5,Z+1
    02D5D 0D24      ADD	R18,R4
    02D5E 1D35      ADC	R19,R5
    02D5F E100      LDI	R16,0x10
    02D60 E01E      LDI	R17,0xE
    02D61 940E 39A0 CALL	empy16s
    02D63 0128      MOVW	R4,R16
    02D64 0C42      ADD	R4,R2
    02D65 1C53      ADC	R5,R3
    02D66 9250 06AE STS	temps+881,R5
    02D68 9240 06AD STS	temps+880,R4
(0216) 			  //temps[0].needtime=3;
(0217) 			  if(temps[2].needtime==0){
    02D6A 2044      TST	R4
    02D6B F449      BNE	0x2D75
    02D6C 2055      TST	R5
    02D6D F439      BNE	0x2D75
(0218) 			     //当前阶段时间为0，表示已经结束更改标记
(0219) 				  temps[2].flag=4;
    02D6E E084      LDI	R24,4
    02D6F E090      LDI	R25,0
    02D70 9390 05A2 STS	temps+613,R25
    02D72 9380 05A1 STS	temps+612,R24
(0220) 			  }else{
    02D74 C0AB      RJMP	0x2E20
(0221) 			     temps[2].p_settemp=temps[2].temp_data[cache+8]*100+temps[2].temp_data[cache+9]*10+temps[2].temp_data[cache+10];
    02D75 EA83      LDI	R24,0xA3
    02D76 E095      LDI	R25,5
    02D77 01FA      MOVW	R30,R20
    02D78 9639      ADIW	R30,0x9
    02D79 0FEE      LSL	R30
    02D7A 1FFF      ROL	R31
    02D7B 0FE8      ADD	R30,R24
    02D7C 1FF9      ADC	R31,R25
    02D7D 8120      LD	R18,Z
    02D7E 8131      LDD	R19,Z+1
    02D7F E00A      LDI	R16,0xA
    02D80 E010      LDI	R17,0
    02D81 940E 39A0 CALL	empy16s
    02D83 0118      MOVW	R2,R16
    02D84 EA83      LDI	R24,0xA3
    02D85 E095      LDI	R25,5
    02D86 01FA      MOVW	R30,R20
    02D87 9638      ADIW	R30,0x8
    02D88 0FEE      LSL	R30
    02D89 1FFF      ROL	R31
    02D8A 0FE8      ADD	R30,R24
    02D8B 1FF9      ADC	R31,R25
    02D8C 8120      LD	R18,Z
    02D8D 8131      LDD	R19,Z+1
    02D8E E604      LDI	R16,0x64
    02D8F E010      LDI	R17,0
    02D90 940E 39A0 CALL	empy16s
    02D92 0128      MOVW	R4,R16
    02D93 0C42      ADD	R4,R2
    02D94 1C53      ADC	R5,R3
    02D95 EA83      LDI	R24,0xA3
    02D96 E095      LDI	R25,5
    02D97 01FA      MOVW	R30,R20
    02D98 963A      ADIW	R30,0xA
    02D99 0FEE      LSL	R30
    02D9A 1FFF      ROL	R31
    02D9B 0FE8      ADD	R30,R24
    02D9C 1FF9      ADC	R31,R25
    02D9D 8020      LD	R2,Z
    02D9E 8031      LDD	R3,Z+1
    02D9F 0C42      ADD	R4,R2
    02DA0 1C53      ADC	R5,R3
    02DA1 9250 06B8 STS	temps+891,R5
    02DA3 9240 06B7 STS	temps+890,R4
(0222) 			     temps[2].pertime=temps[2].needtime/(temps[2].p_settemp-temps[2].actualtemp);
    02DA5 9020 06C3 LDS	R2,temps+902
    02DA7 9030 06C4 LDS	R3,temps+903
    02DA9 0192      MOVW	R18,R4
    02DAA 1922      SUB	R18,R2
    02DAB 0933      SBC	R19,R3
    02DAC 9100 06AD LDS	R16,temps+880
    02DAE 9110 06AE LDS	R17,temps+881
    02DB0 940E 3986 CALL	div16u
    02DB2 9310 06B2 STS	temps+885,R17
    02DB4 9300 06B1 STS	temps+884,R16
(0223) 			     temps[2].pertimecnt=0;
    02DB6 2422      CLR	R2
    02DB7 2433      CLR	R3
    02DB8 9230 06B4 STS	temps+887,R3
    02DBA 9220 06B3 STS	temps+886,R2
(0224) 				 temps[2].settemp=temps[2].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02DBC 9020 06B7 LDS	R2,temps+890
    02DBE 9030 06B8 LDS	R3,temps+891
    02DC0 9230 06C2 STS	temps+901,R3
    02DC2 9220 06C1 STS	temps+900,R2
(0225) 			  }
(0226) 		     
(0227) 		    }else{//恒温阶段
    02DC4 C05B      RJMP	0x2E20
(0228) 			   cache=((cache-1)>>1)*11+4;
    02DC5 019A      MOVW	R18,R20
    02DC6 5021      SUBI	R18,1
    02DC7 4030      SBCI	R19,0
    02DC8 9536      LSR	R19
    02DC9 9527      ROR	R18
    02DCA E00B      LDI	R16,0xB
    02DCB E010      LDI	R17,0
    02DCC 940E 39A0 CALL	empy16s
    02DCE 01A8      MOVW	R20,R16
    02DCF 5F4C      SUBI	R20,0xFC
    02DD0 4F5F      SBCI	R21,0xFF
(0229) 		      temps[2].needtime=(temps[2].temp_data[cache]*10+temps[2].temp_data[cache+1])*3600+(temps[2].temp_data[cache+2]*10+temps[2].temp_data[cache+3])*60;
    02DD1 EA83      LDI	R24,0xA3
    02DD2 E095      LDI	R25,5
    02DD3 01FA      MOVW	R30,R20
    02DD4 9632      ADIW	R30,2
    02DD5 0FEE      LSL	R30
    02DD6 1FFF      ROL	R31
    02DD7 0FE8      ADD	R30,R24
    02DD8 1FF9      ADC	R31,R25
    02DD9 8120      LD	R18,Z
    02DDA 8131      LDD	R19,Z+1
    02DDB E00A      LDI	R16,0xA
    02DDC E010      LDI	R17,0
    02DDD 940E 39A0 CALL	empy16s
    02DDF 0198      MOVW	R18,R16
    02DE0 EA83      LDI	R24,0xA3
    02DE1 E095      LDI	R25,5
    02DE2 01FA      MOVW	R30,R20
    02DE3 9633      ADIW	R30,3
    02DE4 0FEE      LSL	R30
    02DE5 1FFF      ROL	R31
    02DE6 0FE8      ADD	R30,R24
    02DE7 1FF9      ADC	R31,R25
    02DE8 8020      LD	R2,Z
    02DE9 8031      LDD	R3,Z+1
    02DEA 0D22      ADD	R18,R2
    02DEB 1D33      ADC	R19,R3
    02DEC E30C      LDI	R16,0x3C
    02DED E010      LDI	R17,0
    02DEE 940E 39A0 CALL	empy16s
    02DF0 0118      MOVW	R2,R16
    02DF1 EA83      LDI	R24,0xA3
    02DF2 E095      LDI	R25,5
    02DF3 01FA      MOVW	R30,R20
    02DF4 0FEE      LSL	R30
    02DF5 1FFF      ROL	R31
    02DF6 0FE8      ADD	R30,R24
    02DF7 1FF9      ADC	R31,R25
    02DF8 8120      LD	R18,Z
    02DF9 8131      LDD	R19,Z+1
    02DFA E00A      LDI	R16,0xA
    02DFB E010      LDI	R17,0
    02DFC 940E 39A0 CALL	empy16s
    02DFE 0198      MOVW	R18,R16
    02DFF EA83      LDI	R24,0xA3
    02E00 E095      LDI	R25,5
    02E01 01FA      MOVW	R30,R20
    02E02 9631      ADIW	R30,1
    02E03 0FEE      LSL	R30
    02E04 1FFF      ROL	R31
    02E05 0FE8      ADD	R30,R24
    02E06 1FF9      ADC	R31,R25
    02E07 8040      LD	R4,Z
    02E08 8051      LDD	R5,Z+1
    02E09 0D24      ADD	R18,R4
    02E0A 1D35      ADC	R19,R5
    02E0B E100      LDI	R16,0x10
    02E0C E01E      LDI	R17,0xE
    02E0D 940E 39A0 CALL	empy16s
    02E0F 0128      MOVW	R4,R16
    02E10 0C42      ADD	R4,R2
    02E11 1C53      ADC	R5,R3
    02E12 9250 06AE STS	temps+881,R5
    02E14 9240 06AD STS	temps+880,R4
(0230) 			  //temps[0].needtime=3;
(0231) 			  if(temps[2].needtime==0){
    02E16 2044      TST	R4
    02E17 F441      BNE	0x2E20
    02E18 2055      TST	R5
    02E19 F431      BNE	0x2E20
(0232) 			     //当前阶段时间为0，表示已经结束更改标记
(0233) 				  temps[2].flag=4;
    02E1A E084      LDI	R24,4
    02E1B E090      LDI	R25,0
    02E1C 9390 05A2 STS	temps+613,R25
    02E1E 9380 05A1 STS	temps+612,R24
(0234) 			  }
(0235) 			 // temps[0].settemp，在上一场升温时候赋值过
(0236) 			}
(0237) 	  }
(0238)   }
(0239)   //第一个
(0240)   if(temps[3].flag==1){//运行中
    02E20 9180 06D3 LDS	R24,temps+918
    02E22 9190 06D4 LDS	R25,temps+919
    02E24 3081      CPI	R24,1
    02E25 E0E0      LDI	R30,0
    02E26 079E      CPC	R25,R30
    02E27 F009      BEQ	0x2E29
    02E28 C160      RJMP	0x2F89
(0241)      cache=temps[3].status;//暂存当前状态
    02E29 9140 07DD LDS	R20,temps+1184
    02E2B 9150 07DE LDS	R21,temps+1185
(0242)      if(temps[3].statusflag==0){//不是第一次进入当前状态
    02E2D 9020 07E7 LDS	R2,temps+1194
    02E2F 9030 07E8 LDS	R3,temps+1195
    02E31 2022      TST	R2
    02E32 F009      BEQ	0x2E34
    02E33 C044      RJMP	0x2E78
    02E34 2033      TST	R3
    02E35 F009      BEQ	0x2E37
    02E36 C041      RJMP	0x2E78
(0243) 	     temps[3].nowtime++;//当前阶段运行时间
    02E37 9180 07E1 LDS	R24,temps+1188
    02E39 9190 07E2 LDS	R25,temps+1189
    02E3B 9601      ADIW	R24,1
    02E3C 9390 07E2 STS	temps+1189,R25
    02E3E 9380 07E1 STS	temps+1188,R24
(0244) 		if(temps[3].nowtime>=temps[3].needtime){//当前阶段运行结束进入下一阶段
    02E40 9020 07DF LDS	R2,temps+1186
    02E42 9030 07E0 LDS	R3,temps+1187
    02E44 1582      CP	R24,R2
    02E45 0593      CPC	R25,R3
    02E46 F068      BCS	0x2E54
(0245) 		    temps[3].status++;
    02E47 01CA      MOVW	R24,R20
    02E48 9601      ADIW	R24,1
    02E49 9390 07DE STS	temps+1185,R25
    02E4B 9380 07DD STS	temps+1184,R24
(0246) 		    temps[3].statusflag=1;
    02E4D E081      LDI	R24,1
    02E4E E090      LDI	R25,0
    02E4F 9390 07E8 STS	temps+1195,R25
    02E51 9380 07E7 STS	temps+1194,R24
(0247) 			//PORTE=0xFF;
(0248) 		}else{//还在当前阶段
    02E53 C135      RJMP	0x2F89
(0249) 		     if(cache & 0x01){//恒温阶段,
    02E54 FF40      SBRS	R20,0
    02E55 C001      RJMP	0x2E57
(0250) 		         //执行pid算法控制温度就行,上面判断状态是否就行
(0251) 		      }else{ //升温阶段
    02E56 C132      RJMP	0x2F89
(0252) 		            temps[3].pertimecnt++;
    02E57 9180 07E5 LDS	R24,temps+1192
    02E59 9190 07E6 LDS	R25,temps+1193
    02E5B 9601      ADIW	R24,1
    02E5C 9390 07E6 STS	temps+1193,R25
    02E5E 9380 07E5 STS	temps+1192,R24
(0253) 		            if(temps[3].pertimecnt>temps[3].pertime){
    02E60 9020 07E3 LDS	R2,temps+1190
    02E62 9030 07E4 LDS	R3,temps+1191
    02E64 1628      CP	R2,R24
    02E65 0639      CPC	R3,R25
    02E66 F008      BCS	0x2E68
    02E67 C121      RJMP	0x2F89
(0254) 		                    temps[3].p_settemp++;//1C需要时间到达，增加温度。
    02E68 9180 07E9 LDS	R24,temps+1196
    02E6A 9190 07EA LDS	R25,temps+1197
    02E6C 9601      ADIW	R24,1
    02E6D 9390 07EA STS	temps+1197,R25
    02E6F 9380 07E9 STS	temps+1196,R24
(0255) 			                temps[3].pertimecnt=0;
    02E71 2422      CLR	R2
    02E72 2433      CLR	R3
    02E73 9230 07E6 STS	temps+1193,R3
    02E75 9220 07E5 STS	temps+1192,R2
(0256) 		              } 
(0257) 			  }
(0258) 		 }
(0259) 	  }else{//第一次进入该状态。初始化当前状态.因为不是一直初始化，所以不必太担心耗时
    02E77 C111      RJMP	0x2F89
(0260) 	        temps[3].statusflag=0;
    02E78 2422      CLR	R2
    02E79 2433      CLR	R3
    02E7A 9230 07E8 STS	temps+1195,R3
    02E7C 9220 07E7 STS	temps+1194,R2
(0261) 		    temps[3].nowtime=0;
    02E7E 9230 07E2 STS	temps+1189,R3
    02E80 9220 07E1 STS	temps+1188,R2
(0262) 	       if(cache & 0x01){//升温阶段
    02E82 FF40      SBRS	R20,0
    02E83 C0AA      RJMP	0x2F2E
(0263) 		      cache=((cache-1)>>1)*11;
    02E84 019A      MOVW	R18,R20
    02E85 5021      SUBI	R18,1
    02E86 4030      SBCI	R19,0
    02E87 9536      LSR	R19
    02E88 9527      ROR	R18
    02E89 E00B      LDI	R16,0xB
    02E8A E010      LDI	R17,0
    02E8B 940E 39A0 CALL	empy16s
    02E8D 01A8      MOVW	R20,R16
(0264) 		      temps[3].needtime=(temps[3].temp_data[cache]*10+temps[3].temp_data[cache+1])*3600+(temps[3].temp_data[cache+2]*10+temps[3].temp_data[cache+3])*60;
    02E8E ED85      LDI	R24,0xD5
    02E8F E096      LDI	R25,6
    02E90 01FA      MOVW	R30,R20
    02E91 9632      ADIW	R30,2
    02E92 0FEE      LSL	R30
    02E93 1FFF      ROL	R31
    02E94 0FE8      ADD	R30,R24
    02E95 1FF9      ADC	R31,R25
    02E96 8120      LD	R18,Z
    02E97 8131      LDD	R19,Z+1
    02E98 E00A      LDI	R16,0xA
    02E99 E010      LDI	R17,0
    02E9A 940E 39A0 CALL	empy16s
    02E9C 0198      MOVW	R18,R16
    02E9D ED85      LDI	R24,0xD5
    02E9E E096      LDI	R25,6
    02E9F 01FA      MOVW	R30,R20
    02EA0 9633      ADIW	R30,3
    02EA1 0FEE      LSL	R30
    02EA2 1FFF      ROL	R31
    02EA3 0FE8      ADD	R30,R24
    02EA4 1FF9      ADC	R31,R25
    02EA5 8020      LD	R2,Z
    02EA6 8031      LDD	R3,Z+1
    02EA7 0D22      ADD	R18,R2
    02EA8 1D33      ADC	R19,R3
    02EA9 E30C      LDI	R16,0x3C
    02EAA E010      LDI	R17,0
    02EAB 940E 39A0 CALL	empy16s
    02EAD 0118      MOVW	R2,R16
    02EAE ED85      LDI	R24,0xD5
    02EAF E096      LDI	R25,6
    02EB0 01FA      MOVW	R30,R20
    02EB1 0FEE      LSL	R30
    02EB2 1FFF      ROL	R31
    02EB3 0FE8      ADD	R30,R24
    02EB4 1FF9      ADC	R31,R25
    02EB5 8120      LD	R18,Z
    02EB6 8131      LDD	R19,Z+1
    02EB7 E00A      LDI	R16,0xA
    02EB8 E010      LDI	R17,0
    02EB9 940E 39A0 CALL	empy16s
    02EBB 0198      MOVW	R18,R16
    02EBC ED85      LDI	R24,0xD5
    02EBD E096      LDI	R25,6
    02EBE 01FA      MOVW	R30,R20
    02EBF 9631      ADIW	R30,1
    02EC0 0FEE      LSL	R30
    02EC1 1FFF      ROL	R31
    02EC2 0FE8      ADD	R30,R24
    02EC3 1FF9      ADC	R31,R25
    02EC4 8040      LD	R4,Z
    02EC5 8051      LDD	R5,Z+1
    02EC6 0D24      ADD	R18,R4
    02EC7 1D35      ADC	R19,R5
    02EC8 E100      LDI	R16,0x10
    02EC9 E01E      LDI	R17,0xE
    02ECA 940E 39A0 CALL	empy16s
    02ECC 0128      MOVW	R4,R16
    02ECD 0C42      ADD	R4,R2
    02ECE 1C53      ADC	R5,R3
    02ECF 9250 07E0 STS	temps+1187,R5
    02ED1 9240 07DF STS	temps+1186,R4
(0265) 			  //temps[0].needtime=3;
(0266) 			  if(temps[3].needtime==0){
    02ED3 2044      TST	R4
    02ED4 F449      BNE	0x2EDE
    02ED5 2055      TST	R5
    02ED6 F439      BNE	0x2EDE
(0267) 			     //当前阶段时间为0，表示已经结束更改标记
(0268) 				  temps[3].flag=4;
    02ED7 E084      LDI	R24,4
    02ED8 E090      LDI	R25,0
    02ED9 9390 06D4 STS	temps+919,R25
    02EDB 9380 06D3 STS	temps+918,R24
(0269) 			  }else{
    02EDD C0AB      RJMP	0x2F89
(0270) 			     temps[3].p_settemp=temps[3].temp_data[cache+8]*100+temps[3].temp_data[cache+9]*10+temps[3].temp_data[cache+10];
    02EDE ED85      LDI	R24,0xD5
    02EDF E096      LDI	R25,6
    02EE0 01FA      MOVW	R30,R20
    02EE1 9639      ADIW	R30,0x9
    02EE2 0FEE      LSL	R30
    02EE3 1FFF      ROL	R31
    02EE4 0FE8      ADD	R30,R24
    02EE5 1FF9      ADC	R31,R25
    02EE6 8120      LD	R18,Z
    02EE7 8131      LDD	R19,Z+1
    02EE8 E00A      LDI	R16,0xA
    02EE9 E010      LDI	R17,0
    02EEA 940E 39A0 CALL	empy16s
    02EEC 0118      MOVW	R2,R16
    02EED ED85      LDI	R24,0xD5
    02EEE E096      LDI	R25,6
    02EEF 01FA      MOVW	R30,R20
    02EF0 9638      ADIW	R30,0x8
    02EF1 0FEE      LSL	R30
    02EF2 1FFF      ROL	R31
    02EF3 0FE8      ADD	R30,R24
    02EF4 1FF9      ADC	R31,R25
    02EF5 8120      LD	R18,Z
    02EF6 8131      LDD	R19,Z+1
    02EF7 E604      LDI	R16,0x64
    02EF8 E010      LDI	R17,0
    02EF9 940E 39A0 CALL	empy16s
    02EFB 0128      MOVW	R4,R16
    02EFC 0C42      ADD	R4,R2
    02EFD 1C53      ADC	R5,R3
    02EFE ED85      LDI	R24,0xD5
    02EFF E096      LDI	R25,6
    02F00 01FA      MOVW	R30,R20
    02F01 963A      ADIW	R30,0xA
    02F02 0FEE      LSL	R30
    02F03 1FFF      ROL	R31
    02F04 0FE8      ADD	R30,R24
    02F05 1FF9      ADC	R31,R25
    02F06 8020      LD	R2,Z
    02F07 8031      LDD	R3,Z+1
    02F08 0C42      ADD	R4,R2
    02F09 1C53      ADC	R5,R3
    02F0A 9250 07EA STS	temps+1197,R5
    02F0C 9240 07E9 STS	temps+1196,R4
(0271) 			     temps[3].pertime=temps[3].needtime/(temps[3].p_settemp-temps[3].actualtemp);
    02F0E 9020 07F5 LDS	R2,temps+1208
    02F10 9030 07F6 LDS	R3,temps+1209
    02F12 0192      MOVW	R18,R4
    02F13 1922      SUB	R18,R2
    02F14 0933      SBC	R19,R3
    02F15 9100 07DF LDS	R16,temps+1186
    02F17 9110 07E0 LDS	R17,temps+1187
    02F19 940E 3986 CALL	div16u
    02F1B 9310 07E4 STS	temps+1191,R17
    02F1D 9300 07E3 STS	temps+1190,R16
(0272) 			     temps[3].pertimecnt=0;
    02F1F 2422      CLR	R2
    02F20 2433      CLR	R3
    02F21 9230 07E6 STS	temps+1193,R3
    02F23 9220 07E5 STS	temps+1192,R2
(0273) 				 temps[3].settemp=temps[3].p_settemp;//当接近恒温温度时候使用pid需要此温度
    02F25 9020 07E9 LDS	R2,temps+1196
    02F27 9030 07EA LDS	R3,temps+1197
    02F29 9230 07F4 STS	temps+1207,R3
    02F2B 9220 07F3 STS	temps+1206,R2
(0274) 			  }
(0275) 		     
(0276) 		    }else{//恒温阶段
    02F2D C05B      RJMP	0x2F89
(0277) 			   cache=((cache-1)>>1)*11+4;
    02F2E 019A      MOVW	R18,R20
    02F2F 5021      SUBI	R18,1
    02F30 4030      SBCI	R19,0
    02F31 9536      LSR	R19
    02F32 9527      ROR	R18
    02F33 E00B      LDI	R16,0xB
    02F34 E010      LDI	R17,0
    02F35 940E 39A0 CALL	empy16s
    02F37 01A8      MOVW	R20,R16
    02F38 5F4C      SUBI	R20,0xFC
    02F39 4F5F      SBCI	R21,0xFF
(0278) 		      temps[3].needtime=(temps[3].temp_data[cache]*10+temps[3].temp_data[cache+1])*3600+(temps[3].temp_data[cache+2]*10+temps[3].temp_data[cache+3])*60;
    02F3A ED85      LDI	R24,0xD5
    02F3B E096      LDI	R25,6
    02F3C 01FA      MOVW	R30,R20
    02F3D 9632      ADIW	R30,2
    02F3E 0FEE      LSL	R30
    02F3F 1FFF      ROL	R31
    02F40 0FE8      ADD	R30,R24
    02F41 1FF9      ADC	R31,R25
    02F42 8120      LD	R18,Z
    02F43 8131      LDD	R19,Z+1
    02F44 E00A      LDI	R16,0xA
    02F45 E010      LDI	R17,0
    02F46 940E 39A0 CALL	empy16s
    02F48 0198      MOVW	R18,R16
    02F49 ED85      LDI	R24,0xD5
    02F4A E096      LDI	R25,6
    02F4B 01FA      MOVW	R30,R20
    02F4C 9633      ADIW	R30,3
    02F4D 0FEE      LSL	R30
    02F4E 1FFF      ROL	R31
    02F4F 0FE8      ADD	R30,R24
    02F50 1FF9      ADC	R31,R25
    02F51 8020      LD	R2,Z
    02F52 8031      LDD	R3,Z+1
    02F53 0D22      ADD	R18,R2
    02F54 1D33      ADC	R19,R3
    02F55 E30C      LDI	R16,0x3C
    02F56 E010      LDI	R17,0
    02F57 940E 39A0 CALL	empy16s
    02F59 0118      MOVW	R2,R16
    02F5A ED85      LDI	R24,0xD5
    02F5B E096      LDI	R25,6
    02F5C 01FA      MOVW	R30,R20
    02F5D 0FEE      LSL	R30
    02F5E 1FFF      ROL	R31
    02F5F 0FE8      ADD	R30,R24
    02F60 1FF9      ADC	R31,R25
    02F61 8120      LD	R18,Z
    02F62 8131      LDD	R19,Z+1
    02F63 E00A      LDI	R16,0xA
    02F64 E010      LDI	R17,0
    02F65 940E 39A0 CALL	empy16s
    02F67 0198      MOVW	R18,R16
    02F68 ED85      LDI	R24,0xD5
    02F69 E096      LDI	R25,6
    02F6A 01FA      MOVW	R30,R20
    02F6B 9631      ADIW	R30,1
    02F6C 0FEE      LSL	R30
    02F6D 1FFF      ROL	R31
    02F6E 0FE8      ADD	R30,R24
    02F6F 1FF9      ADC	R31,R25
    02F70 8040      LD	R4,Z
    02F71 8051      LDD	R5,Z+1
    02F72 0D24      ADD	R18,R4
    02F73 1D35      ADC	R19,R5
    02F74 E100      LDI	R16,0x10
    02F75 E01E      LDI	R17,0xE
    02F76 940E 39A0 CALL	empy16s
    02F78 0128      MOVW	R4,R16
    02F79 0C42      ADD	R4,R2
    02F7A 1C53      ADC	R5,R3
    02F7B 9250 07E0 STS	temps+1187,R5
    02F7D 9240 07DF STS	temps+1186,R4
(0279) 			  //temps[0].needtime=3;
(0280) 			  if(temps[3].needtime==0){
    02F7F 2044      TST	R4
    02F80 F441      BNE	0x2F89
    02F81 2055      TST	R5
    02F82 F431      BNE	0x2F89
(0281) 			     //当前阶段时间为0，表示已经结束更改标记
(0282) 				  temps[3].flag=4;
    02F83 E084      LDI	R24,4
    02F84 E090      LDI	R25,0
    02F85 9390 06D4 STS	temps+919,R25
    02F87 9380 06D3 STS	temps+918,R24
(0283) 			  }
(0284) 			 // temps[0].settemp，在上一场升温时候赋值过
(0285) 			}
(0286) 	  }
(0287)   }
(0288)   TIMSK|=0x40;//开定时器2溢出中断,8位的
    02F89 B787      IN	R24,0x37
    02F8A 6480      ORI	R24,0x40
    02F8B BF87      OUT	0x37,R24
(0289)   EIMSK |= 0x04;//开中断2  
    02F8C B789      IN	R24,0x39
    02F8D 6084      ORI	R24,4
    02F8E BF89      OUT	0x39,R24
    02F8F 9622      ADIW	R28,2
    02F90 9159      LD	R21,Y+
    02F91 9149      LD	R20,Y+
    02F92 9009      LD	R0,Y+
    02F93 BE0F      OUT	0x3F,R0
    02F94 91F9      LD	R31,Y+
    02F95 91E9      LD	R30,Y+
    02F96 91B9      LD	R27,Y+
    02F97 91A9      LD	R26,Y+
    02F98 9199      LD	R25,Y+
    02F99 9189      LD	R24,Y+
    02F9A 9139      LD	R19,Y+
    02F9B 9129      LD	R18,Y+
    02F9C 9119      LD	R17,Y+
    02F9D 9109      LD	R16,Y+
    02F9E 9099      LD	R9,Y+
    02F9F 9089      LD	R8,Y+
    02FA0 9079      LD	R7,Y+
    02FA1 9069      LD	R6,Y+
    02FA2 9059      LD	R5,Y+
    02FA3 9049      LD	R4,Y+
    02FA4 9039      LD	R3,Y+
    02FA5 9029      LD	R2,Y+
    02FA6 9019      LD	R1,Y+
    02FA7 9009      LD	R0,Y+
    02FA8 9518      RETI
_tempcontrol:
  j                    --> R22
  i                    --> R20
    02FA9 940E 39E6 CALL	push_xgsetF00C
    02FAB 9722      SBIW	R28,2
(0290) }
(0291)  //执行温度控制数据更新操作，读取温度更新输出参数.会对温度数据故障更新
(0292)  //定时器控制，0.5s进入一次
(0293)  //在这里发送串口数据，上位机读取。和读取温度同步
(0294) void tempcontrol(void){
(0295)    uint i,j;
(0296)    for(i=0;i<4;i++){
    02FAC 2744      CLR	R20
    02FAD 2755      CLR	R21
    02FAE C14B      RJMP	0x30FA
(0297)          readTemp(i);//读取温度，一次验证有效性
    02FAF 018A      MOVW	R16,R20
    02FB0 940E 0FB1 CALL	_readTemp
(0298) 	 if(temp_l&0x04){//当前故障，下面就不用再运行啦
    02FB2 9020 033B LDS	R2,temp_l
    02FB4 9030 033C LDS	R3,temp_l+1
    02FB6 FE22      SBRS	R2,2
    02FB7 C00F      RJMP	0x2FC7
(0299) 		     temps[i].flag=2;
    02FB8 E302      LDI	R16,0x32
    02FB9 E011      LDI	R17,1
    02FBA 019A      MOVW	R18,R20
    02FBB 940E 39A0 CALL	empy16s
    02FBD E38D      LDI	R24,0x3D
    02FBE E093      LDI	R25,3
    02FBF 01F8      MOVW	R30,R16
    02FC0 0FE8      ADD	R30,R24
    02FC1 1FF9      ADC	R31,R25
    02FC2 E082      LDI	R24,2
    02FC3 E090      LDI	R25,0
    02FC4 8391      STD	Z+1,R25
    02FC5 8380      ST	Z,R24
(0300) 	 }else{
    02FC6 C131      RJMP	0x30F8
(0301) 	      temps[i].actualtemp=0x55<<2;
    02FC7 E302      LDI	R16,0x32
    02FC8 E011      LDI	R17,1
    02FC9 019A      MOVW	R18,R20
    02FCA 940E 39A0 CALL	empy16s
    02FCC E58F      LDI	R24,0x5F
    02FCD E094      LDI	R25,4
    02FCE 01F8      MOVW	R30,R16
    02FCF 0FE8      ADD	R30,R24
    02FD0 1FF9      ADC	R31,R25
    02FD1 E584      LDI	R24,0x54
    02FD2 E091      LDI	R25,1
    02FD3 8391      STD	Z+1,R25
    02FD4 8380      ST	Z,R24
(0302) 		  temps[i].actualtemp=(temp_h&0x3F)<<4|(temp_l&0xF0)>>4;
    02FD5 E302      LDI	R16,0x32
    02FD6 E011      LDI	R17,1
    02FD7 019A      MOVW	R18,R20
    02FD8 940E 39A0 CALL	empy16s
    02FDA E58F      LDI	R24,0x5F
    02FDB E094      LDI	R25,4
    02FDC 01F8      MOVW	R30,R16
    02FDD 0FE8      ADD	R30,R24
    02FDE 1FF9      ADC	R31,R25
    02FDF 9180 033B LDS	R24,temp_l
    02FE1 9190 033C LDS	R25,temp_l+1
    02FE3 7F80      ANDI	R24,0xF0
    02FE4 7090      ANDI	R25,0
    02FE5 011C      MOVW	R2,R24
    02FE6 9436      LSR	R3
    02FE7 9427      ROR	R2
    02FE8 9436      LSR	R3
    02FE9 9427      ROR	R2
    02FEA 9436      LSR	R3
    02FEB 9427      ROR	R2
    02FEC 9436      LSR	R3
    02FED 9427      ROR	R2
    02FEE 9180 0339 LDS	R24,temp_h
    02FF0 9190 033A LDS	R25,temp_h+1
    02FF2 738F      ANDI	R24,0x3F
    02FF3 7090      ANDI	R25,0
    02FF4 0F88      LSL	R24
    02FF5 1F99      ROL	R25
    02FF6 0F88      LSL	R24
    02FF7 1F99      ROL	R25
    02FF8 0F88      LSL	R24
    02FF9 1F99      ROL	R25
    02FFA 0F88      LSL	R24
    02FFB 1F99      ROL	R25
    02FFC 2982      OR	R24,R2
    02FFD 2993      OR	R25,R3
    02FFE 8391      STD	Z+1,R25
    02FFF 8380      ST	Z,R24
(0303)          if(temps[i].flag==1)//运行中的
    03000 E302      LDI	R16,0x32
    03001 E011      LDI	R17,1
    03002 019A      MOVW	R18,R20
    03003 940E 39A0 CALL	empy16s
    03005 E38D      LDI	R24,0x3D
    03006 E093      LDI	R25,3
    03007 01F8      MOVW	R30,R16
    03008 0FE8      ADD	R30,R24
    03009 1FF9      ADC	R31,R25
    0300A 8180      LD	R24,Z
    0300B 8191      LDD	R25,Z+1
    0300C 3081      CPI	R24,1
    0300D E0E0      LDI	R30,0
    0300E 079E      CPC	R25,R30
    0300F F009      BEQ	0x3011
    03010 C083      RJMP	0x3094
(0304) 	      {   
(0305) 		      for(j=0;j<9;j++){
    03011 2766      CLR	R22
    03012 2777      CLR	R23
    03013 C036      RJMP	0x304A
(0306) 			    readTemp(i);//读取温度，需要读取10次左右
    03014 018A      MOVW	R16,R20
    03015 940E 0FB1 CALL	_readTemp
(0307) 			    temps[i].actualtemp+=(temp_h&0x3F)<<4|(temp_l&0xF0)>>4;
    03017 E302      LDI	R16,0x32
    03018 E011      LDI	R17,1
    03019 019A      MOVW	R18,R20
    0301A 940E 39A0 CALL	empy16s
    0301C 0118      MOVW	R2,R16
    0301D E58F      LDI	R24,0x5F
    0301E E094      LDI	R25,4
    0301F 0E28      ADD	R2,R24
    03020 1E39      ADC	R3,R25
    03021 0121      MOVW	R4,R2
    03022 9180 033B LDS	R24,temp_l
    03024 9190 033C LDS	R25,temp_l+1
    03026 7F80      ANDI	R24,0xF0
    03027 7090      ANDI	R25,0
    03028 011C      MOVW	R2,R24
    03029 9436      LSR	R3
    0302A 9427      ROR	R2
    0302B 9436      LSR	R3
    0302C 9427      ROR	R2
    0302D 9436      LSR	R3
    0302E 9427      ROR	R2
    0302F 9436      LSR	R3
    03030 9427      ROR	R2
    03031 9180 0339 LDS	R24,temp_h
    03033 9190 033A LDS	R25,temp_h+1
    03035 738F      ANDI	R24,0x3F
    03036 7090      ANDI	R25,0
    03037 0F88      LSL	R24
    03038 1F99      ROL	R25
    03039 0F88      LSL	R24
    0303A 1F99      ROL	R25
    0303B 0F88      LSL	R24
    0303C 1F99      ROL	R25
    0303D 0F88      LSL	R24
    0303E 1F99      ROL	R25
    0303F 2982      OR	R24,R2
    03040 2993      OR	R25,R3
    03041 01F2      MOVW	R30,R4
    03042 8020      LD	R2,Z
    03043 8031      LDD	R3,Z+1
    03044 0E28      ADD	R2,R24
    03045 1E39      ADC	R3,R25
    03046 8231      STD	Z+1,R3
    03047 8220      ST	Z,R2
    03048 5F6F      SUBI	R22,0xFF
    03049 4F7F      SBCI	R23,0xFF
    0304A 3069      CPI	R22,0x9
    0304B E0E0      LDI	R30,0
    0304C 077E      CPC	R23,R30
    0304D F408      BCC	0x304F
    0304E CFC5      RJMP	0x3014
(0308) 			  }
(0309) 			    temps[i].actualtemp/=10;
    0304F E302      LDI	R16,0x32
    03050 E011      LDI	R17,1
    03051 019A      MOVW	R18,R20
    03052 940E 39A0 CALL	empy16s
    03054 0118      MOVW	R2,R16
    03055 E58F      LDI	R24,0x5F
    03056 E094      LDI	R25,4
    03057 0E28      ADD	R2,R24
    03058 1E39      ADC	R3,R25
    03059 E02A      LDI	R18,0xA
    0305A E030      LDI	R19,0
    0305B 01F1      MOVW	R30,R2
    0305C 8100      LD	R16,Z
    0305D 8111      LDD	R17,Z+1
    0305E 940E 396A CALL	div16s
    03060 01F1      MOVW	R30,R2
    03061 8311      STD	Z+1,R17
    03062 8300      ST	Z,R16
(0310) 		        if(temps[i].status & 0x01){//恒温阶段，使用pid算法。temps[i].status & 0x01如果是1代表是奇数，0代表是偶数
    03063 E302      LDI	R16,0x32
    03064 E011      LDI	R17,1
    03065 019A      MOVW	R18,R20
    03066 940E 39A0 CALL	empy16s
    03068 E487      LDI	R24,0x47
    03069 E094      LDI	R25,4
    0306A 01F8      MOVW	R30,R16
    0306B 0FE8      ADD	R30,R24
    0306C 1FF9      ADC	R31,R25
    0306D 8020      LD	R2,Z
    0306E 8031      LDD	R3,Z+1
    0306F FE20      SBRS	R2,0
    03070 C003      RJMP	0x3074
(0311) 				   PID_realize(i);//启用pid算法
    03071 018A      MOVW	R16,R20
    03072 D63B      RCALL	_PID_realize
(0312)                 }else if(temps[i].settemp-temps[i].actualtemp<10){
    03073 C084      RJMP	0x30F8
    03074 E302      LDI	R16,0x32
    03075 E011      LDI	R17,1
    03076 019A      MOVW	R18,R20
    03077 940E 39A0 CALL	empy16s
    03079 0158      MOVW	R10,R16
    0307A E58F      LDI	R24,0x5F
    0307B E094      LDI	R25,4
    0307C 01F5      MOVW	R30,R10
    0307D 0FE8      ADD	R30,R24
    0307E 1FF9      ADC	R31,R25
    0307F 8020      LD	R2,Z
    03080 8031      LDD	R3,Z+1
    03081 E58D      LDI	R24,0x5D
    03082 E094      LDI	R25,4
    03083 01F5      MOVW	R30,R10
    03084 0FE8      ADD	R30,R24
    03085 1FF9      ADC	R31,R25
    03086 8180      LD	R24,Z
    03087 8191      LDD	R25,Z+1
    03088 1982      SUB	R24,R2
    03089 0993      SBC	R25,R3
    0308A 308A      CPI	R24,0xA
    0308B E0E0      LDI	R30,0
    0308C 079E      CPC	R25,R30
    0308D F41C      BGE	0x3091
(0313) 		           //升温或阶段，如果温度接近某个温度则开始使用PID算法。这个值要重新考虑
(0314) 				   PID_realize(i);//启用pid算法
    0308E 018A      MOVW	R16,R20
    0308F D61E      RCALL	_PID_realize
(0315) 		         }else {//升温使用pi算法
    03090 C067      RJMP	0x30F8
(0316) 		            PI_realize(i);//启用pi算法
    03091 018A      MOVW	R16,R20
    03092 D6DB      RCALL	_PI_realize
(0317) 		         }
(0318) 	      }else if(temps[i].flag==5){//初始化参数
    03093 C064      RJMP	0x30F8
    03094 E302      LDI	R16,0x32
    03095 E011      LDI	R17,1
    03096 019A      MOVW	R18,R20
    03097 940E 39A0 CALL	empy16s
    03099 E38D      LDI	R24,0x3D
    0309A E093      LDI	R25,3
    0309B 01F8      MOVW	R30,R16
    0309C 0FE8      ADD	R30,R24
    0309D 1FF9      ADC	R31,R25
    0309E 8180      LD	R24,Z
    0309F 8191      LDD	R25,Z+1
    030A0 3085      CPI	R24,5
    030A1 E0E0      LDI	R30,0
    030A2 079E      CPC	R25,R30
    030A3 F009      BEQ	0x30A5
    030A4 C035      RJMP	0x30DA
(0319) 	             temps[i].flag=1;
    030A5 E302      LDI	R16,0x32
    030A6 E011      LDI	R17,1
    030A7 019A      MOVW	R18,R20
    030A8 940E 39A0 CALL	empy16s
    030AA E38D      LDI	R24,0x3D
    030AB E093      LDI	R25,3
    030AC 01F8      MOVW	R30,R16
    030AD 0FE8      ADD	R30,R24
    030AE 1FF9      ADC	R31,R25
    030AF E081      LDI	R24,1
    030B0 E090      LDI	R25,0
    030B1 8391      STD	Z+1,R25
    030B2 8380      ST	Z,R24
(0320) 				 temps[i].status=1;
    030B3 E302      LDI	R16,0x32
    030B4 E011      LDI	R17,1
    030B5 019A      MOVW	R18,R20
    030B6 940E 39A0 CALL	empy16s
    030B8 E487      LDI	R24,0x47
    030B9 E094      LDI	R25,4
    030BA 01F8      MOVW	R30,R16
    030BB 0FE8      ADD	R30,R24
    030BC 1FF9      ADC	R31,R25
    030BD E081      LDI	R24,1
    030BE E090      LDI	R25,0
    030BF 8391      STD	Z+1,R25
    030C0 8380      ST	Z,R24
(0321) 				 temps[i].statusflag=1;
    030C1 E302      LDI	R16,0x32
    030C2 E011      LDI	R17,1
    030C3 019A      MOVW	R18,R20
    030C4 940E 39A0 CALL	empy16s
    030C6 E581      LDI	R24,0x51
    030C7 E094      LDI	R25,4
    030C8 01F8      MOVW	R30,R16
    030C9 0FE8      ADD	R30,R24
    030CA 1FF9      ADC	R31,R25
    030CB E081      LDI	R24,1
    030CC E090      LDI	R25,0
    030CD 8391      STD	Z+1,R25
    030CE 8380      ST	Z,R24
(0322) 				  EEPROM_write(i+1,133,5);//先写状态为5，预防在刚开始还未记录状态时候发生断电。
    030CF E085      LDI	R24,5
    030D0 8399      STD	Y+1,R25
    030D1 8388      ST	Y,R24
    030D2 E825      LDI	R18,0x85
    030D3 E030      LDI	R19,0
    030D4 018A      MOVW	R16,R20
    030D5 5F0F      SUBI	R16,0xFF
    030D6 4F1F      SBCI	R17,0xFF
    030D7 940E 11F8 CALL	_EEPROM_write
(0323) 	      }else if(temps[i].flag==2){//故障的,设置标志位位未初始化，但是状态和温度数据可能存在、所以可以直接恢复
    030D9 C01E      RJMP	0x30F8
    030DA E302      LDI	R16,0x32
    030DB E011      LDI	R17,1
    030DC 019A      MOVW	R18,R20
    030DD 940E 39A0 CALL	empy16s
    030DF E38D      LDI	R24,0x3D
    030E0 E093      LDI	R25,3
    030E1 01F8      MOVW	R30,R16
    030E2 0FE8      ADD	R30,R24
    030E3 1FF9      ADC	R31,R25
    030E4 8180      LD	R24,Z
    030E5 8191      LDD	R25,Z+1
    030E6 3082      CPI	R24,2
    030E7 E0E0      LDI	R30,0
    030E8 079E      CPC	R25,R30
    030E9 F471      BNE	0x30F8
(0324) 		       temps[i].flag=0;
    030EA E302      LDI	R16,0x32
    030EB E011      LDI	R17,1
    030EC 019A      MOVW	R18,R20
    030ED 940E 39A0 CALL	empy16s
    030EF E38D      LDI	R24,0x3D
    030F0 E093      LDI	R25,3
    030F1 01F8      MOVW	R30,R16
    030F2 0FE8      ADD	R30,R24
    030F3 1FF9      ADC	R31,R25
    030F4 2422      CLR	R2
    030F5 2433      CLR	R3
    030F6 8231      STD	Z+1,R3
    030F7 8220      ST	Z,R2
    030F8 5F4F      SUBI	R20,0xFF
    030F9 4F5F      SBCI	R21,0xFF
    030FA 3044      CPI	R20,4
    030FB E0E0      LDI	R30,0
    030FC 075E      CPC	R21,R30
    030FD F408      BCC	0x30FF
    030FE CEB0      RJMP	0x2FAF
    030FF 9622      ADIW	R28,2
    03100 940C 39ED JMP	pop_xgsetF00C
_tempdata_init:
  j                    --> R22
  i                    --> R20
    03102 940E 39DC CALL	push_xgsetF000
(0325) 	      }
(0326) 	  }
(0327)    }
(0328) }
(0329) 
(0330) //开机初始化空间。全部置0,不初始化数据，等用户或EEPROM数据回填
(0331) void tempdata_init(void){
(0332)  uint i,j;
(0333)  for(i=0;i<4;i++){
    03104 2744      CLR	R20
    03105 2755      CLR	R21
    03106 C144      RJMP	0x324B
(0334)     temps[i].flag=0;
    03107 E302      LDI	R16,0x32
    03108 E011      LDI	R17,1
    03109 019A      MOVW	R18,R20
    0310A 940E 39A0 CALL	empy16s
    0310C E38D      LDI	R24,0x3D
    0310D E093      LDI	R25,3
    0310E 01F8      MOVW	R30,R16
    0310F 0FE8      ADD	R30,R24
    03110 1FF9      ADC	R31,R25
    03111 2422      CLR	R2
    03112 2433      CLR	R3
    03113 8231      STD	Z+1,R3
    03114 8220      ST	Z,R2
(0335) 	for(j=0;j<132;j++){
    03115 2766      CLR	R22
    03116 2777      CLR	R23
    03117 C015      RJMP	0x312D
(0336) 	 temps[i].temp_data[j]=0;
    03118 E302      LDI	R16,0x32
    03119 E011      LDI	R17,1
    0311A 019A      MOVW	R18,R20
    0311B 940E 39A0 CALL	empy16s
    0311D 0118      MOVW	R2,R16
    0311E E38F      LDI	R24,0x3F
    0311F E093      LDI	R25,3
    03120 0E28      ADD	R2,R24
    03121 1E39      ADC	R3,R25
    03122 01FB      MOVW	R30,R22
    03123 0FEE      LSL	R30
    03124 1FFF      ROL	R31
    03125 0DE2      ADD	R30,R2
    03126 1DF3      ADC	R31,R3
    03127 2422      CLR	R2
    03128 2433      CLR	R3
    03129 8231      STD	Z+1,R3
    0312A 8220      ST	Z,R2
    0312B 5F6F      SUBI	R22,0xFF
    0312C 4F7F      SBCI	R23,0xFF
    0312D 3864      CPI	R22,0x84
    0312E E0E0      LDI	R30,0
    0312F 077E      CPC	R23,R30
    03130 F338      BCS	0x3118
(0337) 	}
(0338) 	temps[i].status=0;
    03131 E302      LDI	R16,0x32
    03132 E011      LDI	R17,1
    03133 019A      MOVW	R18,R20
    03134 940E 39A0 CALL	empy16s
    03136 E487      LDI	R24,0x47
    03137 E094      LDI	R25,4
    03138 01F8      MOVW	R30,R16
    03139 0FE8      ADD	R30,R24
    0313A 1FF9      ADC	R31,R25
    0313B 2422      CLR	R2
    0313C 2433      CLR	R3
    0313D 8231      STD	Z+1,R3
    0313E 8220      ST	Z,R2
(0339) 	temps[i].needtime=0;
    0313F E302      LDI	R16,0x32
    03140 E011      LDI	R17,1
    03141 019A      MOVW	R18,R20
    03142 940E 39A0 CALL	empy16s
    03144 E489      LDI	R24,0x49
    03145 E094      LDI	R25,4
    03146 01F8      MOVW	R30,R16
    03147 0FE8      ADD	R30,R24
    03148 1FF9      ADC	R31,R25
    03149 2422      CLR	R2
    0314A 2433      CLR	R3
    0314B 8231      STD	Z+1,R3
    0314C 8220      ST	Z,R2
(0340) 	temps[i].nowtime=0;
    0314D E302      LDI	R16,0x32
    0314E E011      LDI	R17,1
    0314F 019A      MOVW	R18,R20
    03150 940E 39A0 CALL	empy16s
    03152 E48B      LDI	R24,0x4B
    03153 E094      LDI	R25,4
    03154 01F8      MOVW	R30,R16
    03155 0FE8      ADD	R30,R24
    03156 1FF9      ADC	R31,R25
    03157 2422      CLR	R2
    03158 2433      CLR	R3
    03159 8231      STD	Z+1,R3
    0315A 8220      ST	Z,R2
(0341) 	temps[i].pertime=0;//每1C需要时间，计时
    0315B E302      LDI	R16,0x32
    0315C E011      LDI	R17,1
    0315D 019A      MOVW	R18,R20
    0315E 940E 39A0 CALL	empy16s
    03160 E48D      LDI	R24,0x4D
    03161 E094      LDI	R25,4
    03162 01F8      MOVW	R30,R16
    03163 0FE8      ADD	R30,R24
    03164 1FF9      ADC	R31,R25
    03165 2422      CLR	R2
    03166 2433      CLR	R3
    03167 8231      STD	Z+1,R3
    03168 8220      ST	Z,R2
(0342) 	temps[i].pertimecnt=0;//每1C需要时间，计时器
    03169 E302      LDI	R16,0x32
    0316A E011      LDI	R17,1
    0316B 019A      MOVW	R18,R20
    0316C 940E 39A0 CALL	empy16s
    0316E E48F      LDI	R24,0x4F
    0316F E094      LDI	R25,4
    03170 01F8      MOVW	R30,R16
    03171 0FE8      ADD	R30,R24
    03172 1FF9      ADC	R31,R25
    03173 2422      CLR	R2
    03174 2433      CLR	R3
    03175 8231      STD	Z+1,R3
    03176 8220      ST	Z,R2
(0343) 	temps[i].statusflag=1;//是否第一次进入当前状态,1、第一次；0、不是第一次
    03177 E302      LDI	R16,0x32
    03178 E011      LDI	R17,1
    03179 019A      MOVW	R18,R20
    0317A 940E 39A0 CALL	empy16s
    0317C E581      LDI	R24,0x51
    0317D E094      LDI	R25,4
    0317E 01F8      MOVW	R30,R16
    0317F 0FE8      ADD	R30,R24
    03180 1FF9      ADC	R31,R25
    03181 E081      LDI	R24,1
    03182 E090      LDI	R25,0
    03183 8391      STD	Z+1,R25
    03184 8380      ST	Z,R24
(0344) 		//控制相关
(0345) 	temps[i].p_settemp=0;//升温时候的小阶段需要温度
    03185 E302      LDI	R16,0x32
    03186 E011      LDI	R17,1
    03187 019A      MOVW	R18,R20
    03188 940E 39A0 CALL	empy16s
    0318A E583      LDI	R24,0x53
    0318B E094      LDI	R25,4
    0318C 01F8      MOVW	R30,R16
    0318D 0FE8      ADD	R30,R24
    0318E 1FF9      ADC	R31,R25
    0318F 2422      CLR	R2
    03190 2433      CLR	R3
    03191 8231      STD	Z+1,R3
    03192 8220      ST	Z,R2
(0346) 	temps[i].p_err_next=0;//升温阶段控制使用
    03193 E302      LDI	R16,0x32
    03194 E011      LDI	R17,1
    03195 019A      MOVW	R18,R20
    03196 940E 39A0 CALL	empy16s
    03198 E585      LDI	R24,0x55
    03199 E094      LDI	R25,4
    0319A 01F8      MOVW	R30,R16
    0319B 0FE8      ADD	R30,R24
    0319C 1FF9      ADC	R31,R25
    0319D 2422      CLR	R2
    0319E 2433      CLR	R3
    0319F 8231      STD	Z+1,R3
    031A0 8220      ST	Z,R2
(0347) 	temps[i].p_Kp=0;//升温阶段控制使用
    031A1 E302      LDI	R16,0x32
    031A2 E011      LDI	R17,1
    031A3 019A      MOVW	R18,R20
    031A4 940E 39A0 CALL	empy16s
    031A6 E587      LDI	R24,0x57
    031A7 E094      LDI	R25,4
    031A8 01F8      MOVW	R30,R16
    031A9 0FE8      ADD	R30,R24
    031AA 1FF9      ADC	R31,R25
    031AB 2422      CLR	R2
    031AC 2433      CLR	R3
    031AD 8231      STD	Z+1,R3
    031AE 8220      ST	Z,R2
(0348) 	temps[i].p_Ki=0;//升温阶段控制使用
    031AF E302      LDI	R16,0x32
    031B0 E011      LDI	R17,1
    031B1 019A      MOVW	R18,R20
    031B2 940E 39A0 CALL	empy16s
    031B4 E589      LDI	R24,0x59
    031B5 E094      LDI	R25,4
    031B6 01F8      MOVW	R30,R16
    031B7 0FE8      ADD	R30,R24
    031B8 1FF9      ADC	R31,R25
    031B9 2422      CLR	R2
    031BA 2433      CLR	R3
    031BB 8231      STD	Z+1,R3
    031BC 8220      ST	Z,R2
(0349)     temps[i].p_err_last=0;
    031BD E302      LDI	R16,0x32
    031BE E011      LDI	R17,1
    031BF 019A      MOVW	R18,R20
    031C0 940E 39A0 CALL	empy16s
    031C2 E58B      LDI	R24,0x5B
    031C3 E094      LDI	R25,4
    031C4 01F8      MOVW	R30,R16
    031C5 0FE8      ADD	R30,R24
    031C6 1FF9      ADC	R31,R25
    031C7 2422      CLR	R2
    031C8 2433      CLR	R3
    031C9 8231      STD	Z+1,R3
    031CA 8220      ST	Z,R2
(0350) 	temps[i].settemp=0;
    031CB E302      LDI	R16,0x32
    031CC E011      LDI	R17,1
    031CD 019A      MOVW	R18,R20
    031CE 940E 39A0 CALL	empy16s
    031D0 E58D      LDI	R24,0x5D
    031D1 E094      LDI	R25,4
    031D2 01F8      MOVW	R30,R16
    031D3 0FE8      ADD	R30,R24
    031D4 1FF9      ADC	R31,R25
    031D5 2422      CLR	R2
    031D6 2433      CLR	R3
    031D7 8231      STD	Z+1,R3
    031D8 8220      ST	Z,R2
(0351) 	temps[i].actualtemp=0.0;
    031D9 E302      LDI	R16,0x32
    031DA E011      LDI	R17,1
    031DB 019A      MOVW	R18,R20
    031DC 940E 39A0 CALL	empy16s
    031DE E58F      LDI	R24,0x5F
    031DF E094      LDI	R25,4
    031E0 01F8      MOVW	R30,R16
    031E1 0FE8      ADD	R30,R24
    031E2 1FF9      ADC	R31,R25
    031E3 2422      CLR	R2
    031E4 2433      CLR	R3
    031E5 8231      STD	Z+1,R3
    031E6 8220      ST	Z,R2
(0352) 	temps[i].err=0;
    031E7 E302      LDI	R16,0x32
    031E8 E011      LDI	R17,1
    031E9 019A      MOVW	R18,R20
    031EA 940E 39A0 CALL	empy16s
    031EC E681      LDI	R24,0x61
    031ED E094      LDI	R25,4
    031EE 01F8      MOVW	R30,R16
    031EF 0FE8      ADD	R30,R24
    031F0 1FF9      ADC	R31,R25
    031F1 2422      CLR	R2
    031F2 2433      CLR	R3
    031F3 8231      STD	Z+1,R3
    031F4 8220      ST	Z,R2
(0353) 	 temps[i].err_last=0;
    031F5 E302      LDI	R16,0x32
    031F6 E011      LDI	R17,1
    031F7 019A      MOVW	R18,R20
    031F8 940E 39A0 CALL	empy16s
    031FA E683      LDI	R24,0x63
    031FB E094      LDI	R25,4
    031FC 01F8      MOVW	R30,R16
    031FD 0FE8      ADD	R30,R24
    031FE 1FF9      ADC	R31,R25
    031FF 2422      CLR	R2
    03200 2433      CLR	R3
    03201 8231      STD	Z+1,R3
    03202 8220      ST	Z,R2
(0354) 	 temps[i].err_next=0;
    03203 E302      LDI	R16,0x32
    03204 E011      LDI	R17,1
    03205 019A      MOVW	R18,R20
    03206 940E 39A0 CALL	empy16s
    03208 E685      LDI	R24,0x65
    03209 E094      LDI	R25,4
    0320A 01F8      MOVW	R30,R16
    0320B 0FE8      ADD	R30,R24
    0320C 1FF9      ADC	R31,R25
    0320D 2422      CLR	R2
    0320E 2433      CLR	R3
    0320F 8231      STD	Z+1,R3
    03210 8220      ST	Z,R2
(0355) 	 temps[i].Kp=5;
    03211 E302      LDI	R16,0x32
    03212 E011      LDI	R17,1
    03213 019A      MOVW	R18,R20
    03214 940E 39A0 CALL	empy16s
    03216 E687      LDI	R24,0x67
    03217 E094      LDI	R25,4
    03218 01F8      MOVW	R30,R16
    03219 0FE8      ADD	R30,R24
    0321A 1FF9      ADC	R31,R25
    0321B E085      LDI	R24,5
    0321C E090      LDI	R25,0
    0321D 8391      STD	Z+1,R25
    0321E 8380      ST	Z,R24
(0356) 	 temps[i].Ki=1;
    0321F E302      LDI	R16,0x32
    03220 E011      LDI	R17,1
    03221 019A      MOVW	R18,R20
    03222 940E 39A0 CALL	empy16s
    03224 E689      LDI	R24,0x69
    03225 E094      LDI	R25,4
    03226 01F8      MOVW	R30,R16
    03227 0FE8      ADD	R30,R24
    03228 1FF9      ADC	R31,R25
    03229 E081      LDI	R24,1
    0322A E090      LDI	R25,0
    0322B 8391      STD	Z+1,R25
    0322C 8380      ST	Z,R24
(0357) 	 temps[i].Kd=1;
    0322D E302      LDI	R16,0x32
    0322E E011      LDI	R17,1
    0322F 019A      MOVW	R18,R20
    03230 940E 39A0 CALL	empy16s
    03232 E68B      LDI	R24,0x6B
    03233 E094      LDI	R25,4
    03234 01F8      MOVW	R30,R16
    03235 0FE8      ADD	R30,R24
    03236 1FF9      ADC	R31,R25
    03237 E081      LDI	R24,1
    03238 E090      LDI	R25,0
    03239 8391      STD	Z+1,R25
    0323A 8380      ST	Z,R24
(0358) 	 temps[i].incrementtemp=0;
    0323B E302      LDI	R16,0x32
    0323C E011      LDI	R17,1
    0323D 019A      MOVW	R18,R20
    0323E 940E 39A0 CALL	empy16s
    03240 E68D      LDI	R24,0x6D
    03241 E094      LDI	R25,4
    03242 01F8      MOVW	R30,R16
    03243 0FE8      ADD	R30,R24
    03244 1FF9      ADC	R31,R25
    03245 2422      CLR	R2
    03246 2433      CLR	R3
    03247 8231      STD	Z+1,R3
    03248 8220      ST	Z,R2
    03249 5F4F      SUBI	R20,0xFF
    0324A 4F5F      SBCI	R21,0xFF
    0324B 3044      CPI	R20,4
    0324C E0E0      LDI	R30,0
    0324D 075E      CPC	R21,R30
    0324E F408      BCC	0x3250
    0324F CEB7      RJMP	0x3107
    03250 940C 39E1 JMP	pop_xgsetF000
_data_recover:
  dataC                --> R22
  i                    --> R20
  j                    --> R22
    03252 940E 3A02 CALL	push_xgsetF03C
(0359)  } 
(0360) }
(0361) void data_recover(void){
(0362)  uint i,j;
(0363)  uint dataC;
(0364)  for(i=0;i<4;i++){
    03254 2744      CLR	R20
    03255 2755      CLR	R21
    03256 C128      RJMP	0x337F
(0365)    dataC=EEPROM_read(i+1,0);//读取标记位
    03257 2722      CLR	R18
    03258 2733      CLR	R19
    03259 018A      MOVW	R16,R20
    0325A 5F0F      SUBI	R16,0xFF
    0325B 4F1F      SBCI	R17,0xFF
    0325C 940E 120F CALL	_EEPROM_read
    0325E 01B8      MOVW	R22,R16
(0366)    if(dataC==1){
    0325F 3001      CPI	R16,1
    03260 E0E0      LDI	R30,0
    03261 071E      CPC	R17,R30
    03262 F009      BEQ	0x3264
    03263 C119      RJMP	0x337D
(0367)       temps[i].flag=EEPROM_read(i+1,133);
    03264 E825      LDI	R18,0x85
    03265 E030      LDI	R19,0
    03266 018A      MOVW	R16,R20
    03267 5F0F      SUBI	R16,0xFF
    03268 4F1F      SBCI	R17,0xFF
    03269 940E 120F CALL	_EEPROM_read
    0326B 0118      MOVW	R2,R16
    0326C E302      LDI	R16,0x32
    0326D E011      LDI	R17,1
    0326E 019A      MOVW	R18,R20
    0326F 940E 39A0 CALL	empy16s
    03271 E38D      LDI	R24,0x3D
    03272 E093      LDI	R25,3
    03273 01F8      MOVW	R30,R16
    03274 0FE8      ADD	R30,R24
    03275 1FF9      ADC	R31,R25
    03276 8231      STD	Z+1,R3
    03277 8220      ST	Z,R2
(0368) 	  if(temps[i].flag==1 || temps[i].flag==3){
    03278 E302      LDI	R16,0x32
    03279 E011      LDI	R17,1
    0327A 019A      MOVW	R18,R20
    0327B 940E 39A0 CALL	empy16s
    0327D E38D      LDI	R24,0x3D
    0327E E093      LDI	R25,3
    0327F 01F8      MOVW	R30,R16
    03280 0FE8      ADD	R30,R24
    03281 1FF9      ADC	R31,R25
    03282 8160      LD	R22,Z
    03283 8171      LDD	R23,Z+1
    03284 3061      CPI	R22,1
    03285 E0E0      LDI	R30,0
    03286 077E      CPC	R23,R30
    03287 F029      BEQ	0x328D
    03288 3063      CPI	R22,3
    03289 E0E0      LDI	R30,0
    0328A 077E      CPC	R23,R30
    0328B F009      BEQ	0x328D
    0328C C0CD      RJMP	0x335A
(0369) 	    temps[i].status=EEPROM_read(i+1,134);
    0328D E826      LDI	R18,0x86
    0328E E030      LDI	R19,0
    0328F 018A      MOVW	R16,R20
    03290 5F0F      SUBI	R16,0xFF
    03291 4F1F      SBCI	R17,0xFF
    03292 940E 120F CALL	_EEPROM_read
    03294 0158      MOVW	R10,R16
    03295 E302      LDI	R16,0x32
    03296 E011      LDI	R17,1
    03297 019A      MOVW	R18,R20
    03298 940E 39A0 CALL	empy16s
    0329A E487      LDI	R24,0x47
    0329B E094      LDI	R25,4
    0329C 01F8      MOVW	R30,R16
    0329D 0FE8      ADD	R30,R24
    0329E 1FF9      ADC	R31,R25
    0329F 82B1      STD	Z+1,R11
    032A0 82A0      ST	Z,R10
(0370) 	    temps[i].needtime =EEPROM_read(i+1,135)<<8 | EEPROM_read(i+1,136);
    032A1 E827      LDI	R18,0x87
    032A2 E030      LDI	R19,0
    032A3 018A      MOVW	R16,R20
    032A4 5F0F      SUBI	R16,0xFF
    032A5 4F1F      SBCI	R17,0xFF
    032A6 940E 120F CALL	_EEPROM_read
    032A8 0168      MOVW	R12,R16
    032A9 E828      LDI	R18,0x88
    032AA E030      LDI	R19,0
    032AB 018A      MOVW	R16,R20
    032AC 5F0F      SUBI	R16,0xFF
    032AD 4F1F      SBCI	R17,0xFF
    032AE 940E 120F CALL	_EEPROM_read
    032B0 0158      MOVW	R10,R16
    032B1 E302      LDI	R16,0x32
    032B2 E011      LDI	R17,1
    032B3 019A      MOVW	R18,R20
    032B4 940E 39A0 CALL	empy16s
    032B6 E489      LDI	R24,0x49
    032B7 E094      LDI	R25,4
    032B8 01F8      MOVW	R30,R16
    032B9 0FE8      ADD	R30,R24
    032BA 1FF9      ADC	R31,R25
    032BB 0116      MOVW	R2,R12
    032BC 2C32      MOV	R3,R2
    032BD 2422      CLR	R2
    032BE 282A      OR	R2,R10
    032BF 283B      OR	R3,R11
    032C0 8231      STD	Z+1,R3
    032C1 8220      ST	Z,R2
(0371) 		temps[i].nowtime=EEPROM_read(i+1,137)<<8  | EEPROM_read(i+1,138);
    032C2 E829      LDI	R18,0x89
    032C3 E030      LDI	R19,0
    032C4 018A      MOVW	R16,R20
    032C5 5F0F      SUBI	R16,0xFF
    032C6 4F1F      SBCI	R17,0xFF
    032C7 940E 120F CALL	_EEPROM_read
    032C9 0168      MOVW	R12,R16
    032CA E82A      LDI	R18,0x8A
    032CB E030      LDI	R19,0
    032CC 018A      MOVW	R16,R20
    032CD 5F0F      SUBI	R16,0xFF
    032CE 4F1F      SBCI	R17,0xFF
    032CF 940E 120F CALL	_EEPROM_read
    032D1 0158      MOVW	R10,R16
    032D2 E302      LDI	R16,0x32
    032D3 E011      LDI	R17,1
    032D4 019A      MOVW	R18,R20
    032D5 940E 39A0 CALL	empy16s
    032D7 E48B      LDI	R24,0x4B
    032D8 E094      LDI	R25,4
    032D9 01F8      MOVW	R30,R16
    032DA 0FE8      ADD	R30,R24
    032DB 1FF9      ADC	R31,R25
    032DC 0116      MOVW	R2,R12
    032DD 2C32      MOV	R3,R2
    032DE 2422      CLR	R2
    032DF 282A      OR	R2,R10
    032E0 283B      OR	R3,R11
    032E1 8231      STD	Z+1,R3
    032E2 8220      ST	Z,R2
(0372) 	    temps[i].pertime=EEPROM_read(i+1,139)<<8 | EEPROM_read(i+1,140);
    032E3 E82B      LDI	R18,0x8B
    032E4 E030      LDI	R19,0
    032E5 018A      MOVW	R16,R20
    032E6 5F0F      SUBI	R16,0xFF
    032E7 4F1F      SBCI	R17,0xFF
    032E8 940E 120F CALL	_EEPROM_read
    032EA 0168      MOVW	R12,R16
    032EB E82C      LDI	R18,0x8C
    032EC E030      LDI	R19,0
    032ED 018A      MOVW	R16,R20
    032EE 5F0F      SUBI	R16,0xFF
    032EF 4F1F      SBCI	R17,0xFF
    032F0 940E 120F CALL	_EEPROM_read
    032F2 0158      MOVW	R10,R16
    032F3 E302      LDI	R16,0x32
    032F4 E011      LDI	R17,1
    032F5 019A      MOVW	R18,R20
    032F6 940E 39A0 CALL	empy16s
    032F8 E48D      LDI	R24,0x4D
    032F9 E094      LDI	R25,4
    032FA 01F8      MOVW	R30,R16
    032FB 0FE8      ADD	R30,R24
    032FC 1FF9      ADC	R31,R25
    032FD 0116      MOVW	R2,R12
    032FE 2C32      MOV	R3,R2
    032FF 2422      CLR	R2
    03300 282A      OR	R2,R10
    03301 283B      OR	R3,R11
    03302 8231      STD	Z+1,R3
    03303 8220      ST	Z,R2
(0373) 	    temps[i].statusflag=EEPROM_read(i+1,141);
    03304 E82D      LDI	R18,0x8D
    03305 E030      LDI	R19,0
    03306 018A      MOVW	R16,R20
    03307 5F0F      SUBI	R16,0xFF
    03308 4F1F      SBCI	R17,0xFF
    03309 940E 120F CALL	_EEPROM_read
    0330B 0158      MOVW	R10,R16
    0330C E302      LDI	R16,0x32
    0330D E011      LDI	R17,1
    0330E 019A      MOVW	R18,R20
    0330F 940E 39A0 CALL	empy16s
    03311 E581      LDI	R24,0x51
    03312 E094      LDI	R25,4
    03313 01F8      MOVW	R30,R16
    03314 0FE8      ADD	R30,R24
    03315 1FF9      ADC	R31,R25
    03316 82B1      STD	Z+1,R11
    03317 82A0      ST	Z,R10
(0374) 	    temps[i].p_settemp=EEPROM_read(i+1,142)<<8  | EEPROM_read(i+1,143);
    03318 E82E      LDI	R18,0x8E
    03319 E030      LDI	R19,0
    0331A 018A      MOVW	R16,R20
    0331B 5F0F      SUBI	R16,0xFF
    0331C 4F1F      SBCI	R17,0xFF
    0331D 940E 120F CALL	_EEPROM_read
    0331F 0168      MOVW	R12,R16
    03320 E82F      LDI	R18,0x8F
    03321 E030      LDI	R19,0
    03322 018A      MOVW	R16,R20
    03323 5F0F      SUBI	R16,0xFF
    03324 4F1F      SBCI	R17,0xFF
    03325 940E 120F CALL	_EEPROM_read
    03327 0158      MOVW	R10,R16
    03328 E302      LDI	R16,0x32
    03329 E011      LDI	R17,1
    0332A 019A      MOVW	R18,R20
    0332B 940E 39A0 CALL	empy16s
    0332D E583      LDI	R24,0x53
    0332E E094      LDI	R25,4
    0332F 01F8      MOVW	R30,R16
    03330 0FE8      ADD	R30,R24
    03331 1FF9      ADC	R31,R25
    03332 0116      MOVW	R2,R12
    03333 2C32      MOV	R3,R2
    03334 2422      CLR	R2
    03335 282A      OR	R2,R10
    03336 283B      OR	R3,R11
    03337 8231      STD	Z+1,R3
    03338 8220      ST	Z,R2
(0375) 	    temps[i].settemp=EEPROM_read(i+1,144)<<8 | EEPROM_read(i+1,145);
    03339 E920      LDI	R18,0x90
    0333A E030      LDI	R19,0
    0333B 018A      MOVW	R16,R20
    0333C 5F0F      SUBI	R16,0xFF
    0333D 4F1F      SBCI	R17,0xFF
    0333E 940E 120F CALL	_EEPROM_read
    03340 0168      MOVW	R12,R16
    03341 E921      LDI	R18,0x91
    03342 E030      LDI	R19,0
    03343 018A      MOVW	R16,R20
    03344 5F0F      SUBI	R16,0xFF
    03345 4F1F      SBCI	R17,0xFF
    03346 940E 120F CALL	_EEPROM_read
    03348 0158      MOVW	R10,R16
    03349 E302      LDI	R16,0x32
    0334A E011      LDI	R17,1
    0334B 019A      MOVW	R18,R20
    0334C 940E 39A0 CALL	empy16s
    0334E E58D      LDI	R24,0x5D
    0334F E094      LDI	R25,4
    03350 01F8      MOVW	R30,R16
    03351 0FE8      ADD	R30,R24
    03352 1FF9      ADC	R31,R25
    03353 0116      MOVW	R2,R12
    03354 2C32      MOV	R3,R2
    03355 2422      CLR	R2
    03356 282A      OR	R2,R10
    03357 283B      OR	R3,R11
    03358 8231      STD	Z+1,R3
    03359 8220      ST	Z,R2
(0376) 	  }
(0377) 	  for(j=0;j<132;j++){
    0335A 2766      CLR	R22
    0335B 2777      CLR	R23
    0335C C01C      RJMP	0x3379
(0378) 	    temps[i].temp_data[j]=EEPROM_read(i+1,j+1);
    0335D 019B      MOVW	R18,R22
    0335E 5F2F      SUBI	R18,0xFF
    0335F 4F3F      SBCI	R19,0xFF
    03360 018A      MOVW	R16,R20
    03361 5F0F      SUBI	R16,0xFF
    03362 4F1F      SBCI	R17,0xFF
    03363 940E 120F CALL	_EEPROM_read
    03365 0158      MOVW	R10,R16
    03366 E302      LDI	R16,0x32
    03367 E011      LDI	R17,1
    03368 019A      MOVW	R18,R20
    03369 940E 39A0 CALL	empy16s
    0336B 0118      MOVW	R2,R16
    0336C E38F      LDI	R24,0x3F
    0336D E093      LDI	R25,3
    0336E 0E28      ADD	R2,R24
    0336F 1E39      ADC	R3,R25
    03370 01FB      MOVW	R30,R22
    03371 0FEE      LSL	R30
    03372 1FFF      ROL	R31
    03373 0DE2      ADD	R30,R2
    03374 1DF3      ADC	R31,R3
    03375 82B1      STD	Z+1,R11
    03376 82A0      ST	Z,R10
    03377 5F6F      SUBI	R22,0xFF
    03378 4F7F      SBCI	R23,0xFF
    03379 3864      CPI	R22,0x84
    0337A E0E0      LDI	R30,0
    0337B 077E      CPC	R23,R30
    0337C F300      BCS	0x335D
    0337D 5F4F      SUBI	R20,0xFF
    0337E 4F5F      SBCI	R21,0xFF
    0337F 3044      CPI	R20,4
    03380 E0E0      LDI	R30,0
    03381 075E      CPC	R21,R30
    03382 F408      BCC	0x3384
    03383 CED3      RJMP	0x3257
    03384 940C 3A0B JMP	pop_xgsetF03C
_set_temp_data:
  head                 --> Y,+3
  j                    --> R20
  dataCach             --> R10
  t                    --> R22
    03386 940E 39E6 CALL	push_xgsetF00C
    03388 0159      MOVW	R10,R18
    03389 01B8      MOVW	R22,R16
    0338A 9722      SBIW	R28,2
(0379) 	   }
(0380) 	}
(0381)  } 
(0382) }
(0383) 
(0384) //设置指定的数据,保存相关标志位。会将设置的我温度参数发送到串口
(0385) void set_temp_data(uint t,uint* dataCach){
(0386)     uint j;
(0387) 	uint  head;
(0388) 	UCSR0B &=~(1<<UDRIE0);//关中断
    0338B 9855      CBI	0x0A,5
(0389) 	temps[t].flag=6;
    0338C E302      LDI	R16,0x32
    0338D E011      LDI	R17,1
    0338E 019B      MOVW	R18,R22
    0338F 940E 39A0 CALL	empy16s
    03391 E38D      LDI	R24,0x3D
    03392 E093      LDI	R25,3
    03393 01F8      MOVW	R30,R16
    03394 0FE8      ADD	R30,R24
    03395 1FF9      ADC	R31,R25
    03396 E086      LDI	R24,6
    03397 E090      LDI	R25,0
    03398 8391      STD	Z+1,R25
    03399 8380      ST	Z,R24
(0390) 	EEPROM_write(t+1,0,0x01);
    0339A E081      LDI	R24,1
    0339B 8399      STD	Y+1,R25
    0339C 8388      ST	Y,R24
    0339D 2722      CLR	R18
    0339E 2733      CLR	R19
    0339F 018B      MOVW	R16,R22
    033A0 5F0F      SUBI	R16,0xFF
    033A1 4F1F      SBCI	R17,0xFF
    033A2 940E 11F8 CALL	_EEPROM_write
(0391) 	EEPROM_write(t+1,133,6);
    033A4 E086      LDI	R24,6
    033A5 E090      LDI	R25,0
    033A6 8399      STD	Y+1,R25
    033A7 8388      ST	Y,R24
    033A8 E825      LDI	R18,0x85
    033A9 E030      LDI	R19,0
    033AA 018B      MOVW	R16,R22
    033AB 5F0F      SUBI	R16,0xFF
    033AC 4F1F      SBCI	R17,0xFF
    033AD 940E 11F8 CALL	_EEPROM_write
(0392)     for(j=0;j<132;j++){
    033AF 2744      CLR	R20
    033B0 2755      CLR	R21
    033B1 C035      RJMP	0x33E7
(0393) 	   temps[t].temp_data[j]=*(dataCach+j);
    033B2 011A      MOVW	R2,R20
    033B3 0C22      LSL	R2
    033B4 1C33      ROL	R3
    033B5 0121      MOVW	R4,R2
    033B6 E302      LDI	R16,0x32
    033B7 E011      LDI	R17,1
    033B8 019B      MOVW	R18,R22
    033B9 940E 39A0 CALL	empy16s
    033BB 0118      MOVW	R2,R16
    033BC E38F      LDI	R24,0x3F
    033BD E093      LDI	R25,3
    033BE 0E28      ADD	R2,R24
    033BF 1E39      ADC	R3,R25
    033C0 01F2      MOVW	R30,R4
    033C1 0DE2      ADD	R30,R2
    033C2 1DF3      ADC	R31,R3
    033C3 01D2      MOVW	R26,R4
    033C4 0DAA      ADD	R26,R10
    033C5 1DBB      ADC	R27,R11
    033C6 902D      LD	R2,X+
    033C7 903C      LD	R3,X
    033C8 8231      STD	Z+1,R3
    033C9 8220      ST	Z,R2
(0394) 	   EEPROM_write(t+1,j+1,temps[t].temp_data[j]);//这里要保存的
    033CA E302      LDI	R16,0x32
    033CB E011      LDI	R17,1
    033CC 019B      MOVW	R18,R22
    033CD 940E 39A0 CALL	empy16s
    033CF 0118      MOVW	R2,R16
    033D0 E38F      LDI	R24,0x3F
    033D1 E093      LDI	R25,3
    033D2 0E28      ADD	R2,R24
    033D3 1E39      ADC	R3,R25
    033D4 01FA      MOVW	R30,R20
    033D5 0FEE      LSL	R30
    033D6 1FFF      ROL	R31
    033D7 0DE2      ADD	R30,R2
    033D8 1DF3      ADC	R31,R3
    033D9 8020      LD	R2,Z
    033DA 8031      LDD	R3,Z+1
    033DB 8239      STD	Y+1,R3
    033DC 8228      ST	Y,R2
    033DD 019A      MOVW	R18,R20
    033DE 5F2F      SUBI	R18,0xFF
    033DF 4F3F      SBCI	R19,0xFF
    033E0 018B      MOVW	R16,R22
    033E1 5F0F      SUBI	R16,0xFF
    033E2 4F1F      SBCI	R17,0xFF
    033E3 940E 11F8 CALL	_EEPROM_write
    033E5 5F4F      SUBI	R20,0xFF
    033E6 4F5F      SBCI	R21,0xFF
    033E7 3844      CPI	R20,0x84
    033E8 E0E0      LDI	R30,0
    033E9 075E      CPC	R21,R30
    033EA F408      BCC	0x33EC
    033EB CFC6      RJMP	0x33B2
(0395) 	}
(0396) 	return;
    033EC 9622      ADIW	R28,2
    033ED 940C 39ED JMP	pop_xgsetF00C
_send_temp_data:
  head                 --> R20
  j                    --> R22
  t                    --> R10
    033EF 940E 39E6 CALL	push_xgsetF00C
    033F1 0158      MOVW	R10,R16
(0397) }
(0398) //发送指定温度参数到串口。由上位机请求发送
(0399) void send_temp_data(uint t){
(0400)    uint j;
(0401) 	uint  head;
(0402) 	TCCR3B=0x00;//关闭计时器
    033F2 2422      CLR	R2
    033F3 9220 008A STS	0x8A,R2
(0403) 	UCSR0B &=~(1<<UDRIE0);//关中断
    033F5 9855      CBI	0x0A,5
(0404) 	send_data_length=139;
    033F6 E88B      LDI	R24,0x8B
    033F7 E090      LDI	R25,0
    033F8 9390 0332 STS	send_data_length+1,R25
    033FA 9380 0331 STS	send_data_length,R24
(0405) 	send_data_cur=0;
    033FC 2433      CLR	R3
    033FD 9230 0334 STS	send_data_cur+1,R3
    033FF 9220 0333 STS	send_data_cur,R2
(0406) 	if(t==0){
    03401 20AA      TST	R10
    03402 F429      BNE	0x3408
    03403 20BB      TST	R11
    03404 F419      BNE	0x3408
(0407) 	  head=0x45;//E
    03405 E445      LDI	R20,0x45
    03406 E050      LDI	R21,0
(0408) 	}else if(t==1){
    03407 C017      RJMP	0x341F
    03408 01C5      MOVW	R24,R10
    03409 3081      CPI	R24,1
    0340A E0E0      LDI	R30,0
    0340B 079E      CPC	R25,R30
    0340C F419      BNE	0x3410
(0409) 	  head=0x46;//F
    0340D E446      LDI	R20,0x46
    0340E E050      LDI	R21,0
(0410) 	}else if(t==2){
    0340F C00F      RJMP	0x341F
    03410 01C5      MOVW	R24,R10
    03411 3082      CPI	R24,2
    03412 E0E0      LDI	R30,0
    03413 079E      CPC	R25,R30
    03414 F419      BNE	0x3418
(0411) 	  head=0x47;//G
    03415 E447      LDI	R20,0x47
    03416 E050      LDI	R21,0
(0412) 	}else if(t==3){
    03417 C007      RJMP	0x341F
    03418 01C5      MOVW	R24,R10
    03419 3083      CPI	R24,3
    0341A E0E0      LDI	R30,0
    0341B 079E      CPC	R25,R30
    0341C F411      BNE	0x341F
(0413) 	  head=0x48;//H 
    0341D E448      LDI	R20,0x48
    0341E E050      LDI	R21,0
(0414) 	}
(0415) 	send_data_cache[0]=0x00;
    0341F 2422      CLR	R2
    03420 2433      CLR	R3
    03421 9230 021C STS	send_data_cache+1,R3
    03423 9220 021B STS	send_data_cache,R2
(0416) 	send_data_cache[1]=0xFE;
    03425 EF8E      LDI	R24,0xFE
    03426 E090      LDI	R25,0
    03427 9390 021E STS	send_data_cache+3,R25
    03429 9380 021D STS	send_data_cache+2,R24
(0417) 	send_data_cache[2]=0xFF;
    0342B EF8F      LDI	R24,0xFF
    0342C 9390 0220 STS	send_data_cache+5,R25
    0342E 9380 021F STS	send_data_cache+4,R24
(0418) 	send_data_cache[3]=head;
    03430 9350 0222 STS	send_data_cache+7,R21
    03432 9340 0221 STS	send_data_cache+6,R20
(0419)     for(j=0;j<132;j++){
    03434 2766      CLR	R22
    03435 2777      CLR	R23
    03436 C01D      RJMP	0x3454
(0420) 	   send_data_cache[j+4]=temps[t].temp_data[j];
    03437 E302      LDI	R16,0x32
    03438 E011      LDI	R17,1
    03439 0195      MOVW	R18,R10
    0343A 940E 39A0 CALL	empy16s
    0343C 0118      MOVW	R2,R16
    0343D E38F      LDI	R24,0x3F
    0343E E093      LDI	R25,3
    0343F 0E28      ADD	R2,R24
    03440 1E39      ADC	R3,R25
    03441 01FB      MOVW	R30,R22
    03442 0FEE      LSL	R30
    03443 1FFF      ROL	R31
    03444 0DE2      ADD	R30,R2
    03445 1DF3      ADC	R31,R3
    03446 8020      LD	R2,Z
    03447 8031      LDD	R3,Z+1
    03448 E18B      LDI	R24,0x1B
    03449 E092      LDI	R25,2
    0344A 01FB      MOVW	R30,R22
    0344B 9634      ADIW	R30,4
    0344C 0FEE      LSL	R30
    0344D 1FFF      ROL	R31
    0344E 0FE8      ADD	R30,R24
    0344F 1FF9      ADC	R31,R25
    03450 8231      STD	Z+1,R3
    03451 8220      ST	Z,R2
    03452 5F6F      SUBI	R22,0xFF
    03453 4F7F      SBCI	R23,0xFF
    03454 3864      CPI	R22,0x84
    03455 E0E0      LDI	R30,0
    03456 077E      CPC	R23,R30
    03457 F2F8      BCS	0x3437
(0421) 	}
(0422) 	send_data_cache[136]=head;
    03458 9350 032C STS	send_data_cache+273,R21
    0345A 9340 032B STS	send_data_cache+272,R20
(0423) 	send_data_cache[137]=0xFF;
    0345C EF8F      LDI	R24,0xFF
    0345D E090      LDI	R25,0
    0345E 9390 032E STS	send_data_cache+275,R25
    03460 9380 032D STS	send_data_cache+274,R24
(0424) 	send_data_cache[138]=0xFE;
    03462 EF8E      LDI	R24,0xFE
    03463 9390 0330 STS	send_data_cache+277,R25
    03465 9380 032F STS	send_data_cache+276,R24
(0425) 	
(0426) 	UCSR0B |=(1<<UDRIE0); //发送使中断能。
    03467 9A55      SBI	0x0A,5
(0427) 	delay_us(10);
    03468 E00A      LDI	R16,0xA
    03469 E010      LDI	R17,0
    0346A 940E 0529 CALL	_delay_us
(0428) 	TCCR3B=0x05;//打开计时器
    0346C E085      LDI	R24,5
    0346D 9380 008A STS	0x8A,R24
(0429) 	return;
    0346F 940C 39ED JMP	pop_xgsetF00C
_reset_temp_data:
  j                    --> R22
  t                    --> R20
    03471 940E 39DC CALL	push_xgsetF000
    03473 01A8      MOVW	R20,R16
    03474 9722      SBIW	R28,2
(0430) }
(0431) 
(0432) //重置指定的数据,保存相关标志位
(0433) void reset_temp_data(uint t){
(0434)     uint j;
(0435) 	temps[t].flag=0;
    03475 E302      LDI	R16,0x32
    03476 E011      LDI	R17,1
    03477 019A      MOVW	R18,R20
    03478 940E 39A0 CALL	empy16s
    0347A E38D      LDI	R24,0x3D
    0347B E093      LDI	R25,3
    0347C 01F8      MOVW	R30,R16
    0347D 0FE8      ADD	R30,R24
    0347E 1FF9      ADC	R31,R25
    0347F 2422      CLR	R2
    03480 2433      CLR	R3
    03481 8231      STD	Z+1,R3
    03482 8220      ST	Z,R2
(0436) 	temps[t].status=0;
    03483 E302      LDI	R16,0x32
    03484 E011      LDI	R17,1
    03485 019A      MOVW	R18,R20
    03486 940E 39A0 CALL	empy16s
    03488 E487      LDI	R24,0x47
    03489 E094      LDI	R25,4
    0348A 01F8      MOVW	R30,R16
    0348B 0FE8      ADD	R30,R24
    0348C 1FF9      ADC	R31,R25
    0348D 2422      CLR	R2
    0348E 2433      CLR	R3
    0348F 8231      STD	Z+1,R3
    03490 8220      ST	Z,R2
(0437) 	temps[t].statusflag=1;//是否第一次进入当前状态,1、第一次；0、不是第一次
    03491 E302      LDI	R16,0x32
    03492 E011      LDI	R17,1
    03493 019A      MOVW	R18,R20
    03494 940E 39A0 CALL	empy16s
    03496 E581      LDI	R24,0x51
    03497 E094      LDI	R25,4
    03498 01F8      MOVW	R30,R16
    03499 0FE8      ADD	R30,R24
    0349A 1FF9      ADC	R31,R25
    0349B E081      LDI	R24,1
    0349C E090      LDI	R25,0
    0349D 8391      STD	Z+1,R25
    0349E 8380      ST	Z,R24
(0438) 		//控制相关
(0439) 	temps[t].p_settemp=0;//升温时候的小阶段需要温度
    0349F E302      LDI	R16,0x32
    034A0 E011      LDI	R17,1
    034A1 019A      MOVW	R18,R20
    034A2 940E 39A0 CALL	empy16s
    034A4 E583      LDI	R24,0x53
    034A5 E094      LDI	R25,4
    034A6 01F8      MOVW	R30,R16
    034A7 0FE8      ADD	R30,R24
    034A8 1FF9      ADC	R31,R25
    034A9 2422      CLR	R2
    034AA 2433      CLR	R3
    034AB 8231      STD	Z+1,R3
    034AC 8220      ST	Z,R2
(0440) 	temps[t].p_err_next=0;//升温阶段控制使用
    034AD E302      LDI	R16,0x32
    034AE E011      LDI	R17,1
    034AF 019A      MOVW	R18,R20
    034B0 940E 39A0 CALL	empy16s
    034B2 E585      LDI	R24,0x55
    034B3 E094      LDI	R25,4
    034B4 01F8      MOVW	R30,R16
    034B5 0FE8      ADD	R30,R24
    034B6 1FF9      ADC	R31,R25
    034B7 2422      CLR	R2
    034B8 2433      CLR	R3
    034B9 8231      STD	Z+1,R3
    034BA 8220      ST	Z,R2
(0441)     temps[t].p_err_last=0;
    034BB E302      LDI	R16,0x32
    034BC E011      LDI	R17,1
    034BD 019A      MOVW	R18,R20
    034BE 940E 39A0 CALL	empy16s
    034C0 E58B      LDI	R24,0x5B
    034C1 E094      LDI	R25,4
    034C2 01F8      MOVW	R30,R16
    034C3 0FE8      ADD	R30,R24
    034C4 1FF9      ADC	R31,R25
    034C5 2422      CLR	R2
    034C6 2433      CLR	R3
    034C7 8231      STD	Z+1,R3
    034C8 8220      ST	Z,R2
(0442) 	 temps[t].err_last=0;
    034C9 E302      LDI	R16,0x32
    034CA E011      LDI	R17,1
    034CB 019A      MOVW	R18,R20
    034CC 940E 39A0 CALL	empy16s
    034CE E683      LDI	R24,0x63
    034CF E094      LDI	R25,4
    034D0 01F8      MOVW	R30,R16
    034D1 0FE8      ADD	R30,R24
    034D2 1FF9      ADC	R31,R25
    034D3 2422      CLR	R2
    034D4 2433      CLR	R3
    034D5 8231      STD	Z+1,R3
    034D6 8220      ST	Z,R2
(0443) 	 temps[t].err_next=0;
    034D7 E302      LDI	R16,0x32
    034D8 E011      LDI	R17,1
    034D9 019A      MOVW	R18,R20
    034DA 940E 39A0 CALL	empy16s
    034DC E685      LDI	R24,0x65
    034DD E094      LDI	R25,4
    034DE 01F8      MOVW	R30,R16
    034DF 0FE8      ADD	R30,R24
    034E0 1FF9      ADC	R31,R25
    034E1 2422      CLR	R2
    034E2 2433      CLR	R3
    034E3 8231      STD	Z+1,R3
    034E4 8220      ST	Z,R2
(0444) 	
(0445) 	EEPROM_write(t+1,0,0x00);
    034E5 8239      STD	Y+1,R3
    034E6 8228      ST	Y,R2
    034E7 2722      CLR	R18
    034E8 2733      CLR	R19
    034E9 018A      MOVW	R16,R20
    034EA 5F0F      SUBI	R16,0xFF
    034EB 4F1F      SBCI	R17,0xFF
    034EC 940E 11F8 CALL	_EEPROM_write
(0446) 	EEPROM_write(t+1,133,0x00);
    034EE 2422      CLR	R2
    034EF 2433      CLR	R3
    034F0 8239      STD	Y+1,R3
    034F1 8228      ST	Y,R2
    034F2 E825      LDI	R18,0x85
    034F3 E030      LDI	R19,0
    034F4 018A      MOVW	R16,R20
    034F5 5F0F      SUBI	R16,0xFF
    034F6 4F1F      SBCI	R17,0xFF
    034F7 940E 11F8 CALL	_EEPROM_write
(0447)     for(j=0;j<132;j++){
    034F9 2766      CLR	R22
    034FA 2777      CLR	R23
    034FB C01F      RJMP	0x351B
(0448) 	   temps[t].temp_data[j]=0;
    034FC E302      LDI	R16,0x32
    034FD E011      LDI	R17,1
    034FE 019A      MOVW	R18,R20
    034FF 940E 39A0 CALL	empy16s
    03501 0118      MOVW	R2,R16
    03502 E38F      LDI	R24,0x3F
    03503 E093      LDI	R25,3
    03504 0E28      ADD	R2,R24
    03505 1E39      ADC	R3,R25
    03506 01FB      MOVW	R30,R22
    03507 0FEE      LSL	R30
    03508 1FFF      ROL	R31
    03509 0DE2      ADD	R30,R2
    0350A 1DF3      ADC	R31,R3
    0350B 2422      CLR	R2
    0350C 2433      CLR	R3
    0350D 8231      STD	Z+1,R3
    0350E 8220      ST	Z,R2
(0449) 	   EEPROM_write(t+1,j+1,0);//这里要保存的
    0350F 8239      STD	Y+1,R3
    03510 8228      ST	Y,R2
    03511 019B      MOVW	R18,R22
    03512 5F2F      SUBI	R18,0xFF
    03513 4F3F      SBCI	R19,0xFF
    03514 018A      MOVW	R16,R20
    03515 5F0F      SUBI	R16,0xFF
    03516 4F1F      SBCI	R17,0xFF
    03517 940E 11F8 CALL	_EEPROM_write
    03519 5F6F      SUBI	R22,0xFF
    0351A 4F7F      SBCI	R23,0xFF
    0351B 3864      CPI	R22,0x84
    0351C E0E0      LDI	R30,0
    0351D 077E      CPC	R23,R30
    0351E F2E8      BCS	0x34FC
(0450) 	}
(0451) 	 EEPROM_write(t+1,134,0);
    0351F 2422      CLR	R2
    03520 2433      CLR	R3
    03521 8239      STD	Y+1,R3
    03522 8228      ST	Y,R2
    03523 E826      LDI	R18,0x86
    03524 E030      LDI	R19,0
    03525 018A      MOVW	R16,R20
    03526 5F0F      SUBI	R16,0xFF
    03527 4F1F      SBCI	R17,0xFF
    03528 940E 11F8 CALL	_EEPROM_write
(0452) 	 EEPROM_write(t+1,135,0);
    0352A 2422      CLR	R2
    0352B 2433      CLR	R3
    0352C 8239      STD	Y+1,R3
    0352D 8228      ST	Y,R2
    0352E E827      LDI	R18,0x87
    0352F E030      LDI	R19,0
    03530 018A      MOVW	R16,R20
    03531 5F0F      SUBI	R16,0xFF
    03532 4F1F      SBCI	R17,0xFF
    03533 940E 11F8 CALL	_EEPROM_write
(0453) 	 EEPROM_write(t+1,136,0);
    03535 2422      CLR	R2
    03536 2433      CLR	R3
    03537 8239      STD	Y+1,R3
    03538 8228      ST	Y,R2
    03539 E828      LDI	R18,0x88
    0353A E030      LDI	R19,0
    0353B 018A      MOVW	R16,R20
    0353C 5F0F      SUBI	R16,0xFF
    0353D 4F1F      SBCI	R17,0xFF
    0353E 940E 11F8 CALL	_EEPROM_write
(0454) 	 EEPROM_write(t+1,137,0);
    03540 2422      CLR	R2
    03541 2433      CLR	R3
    03542 8239      STD	Y+1,R3
    03543 8228      ST	Y,R2
    03544 E829      LDI	R18,0x89
    03545 E030      LDI	R19,0
    03546 018A      MOVW	R16,R20
    03547 5F0F      SUBI	R16,0xFF
    03548 4F1F      SBCI	R17,0xFF
    03549 940E 11F8 CALL	_EEPROM_write
(0455) 	 EEPROM_write(t+1,138,0);
    0354B 2422      CLR	R2
    0354C 2433      CLR	R3
    0354D 8239      STD	Y+1,R3
    0354E 8228      ST	Y,R2
    0354F E82A      LDI	R18,0x8A
    03550 E030      LDI	R19,0
    03551 018A      MOVW	R16,R20
    03552 5F0F      SUBI	R16,0xFF
    03553 4F1F      SBCI	R17,0xFF
    03554 940E 11F8 CALL	_EEPROM_write
(0456) 	 EEPROM_write(t+1,139,0);
    03556 2422      CLR	R2
    03557 2433      CLR	R3
    03558 8239      STD	Y+1,R3
    03559 8228      ST	Y,R2
    0355A E82B      LDI	R18,0x8B
    0355B E030      LDI	R19,0
    0355C 018A      MOVW	R16,R20
    0355D 5F0F      SUBI	R16,0xFF
    0355E 4F1F      SBCI	R17,0xFF
    0355F 940E 11F8 CALL	_EEPROM_write
(0457) 	 EEPROM_write(t+1,140,0);
    03561 2422      CLR	R2
    03562 2433      CLR	R3
    03563 8239      STD	Y+1,R3
    03564 8228      ST	Y,R2
    03565 E82C      LDI	R18,0x8C
    03566 E030      LDI	R19,0
    03567 018A      MOVW	R16,R20
    03568 5F0F      SUBI	R16,0xFF
    03569 4F1F      SBCI	R17,0xFF
    0356A 940E 11F8 CALL	_EEPROM_write
(0458) 	 EEPROM_write(t+1,141,0);
    0356C 2422      CLR	R2
    0356D 2433      CLR	R3
    0356E 8239      STD	Y+1,R3
    0356F 8228      ST	Y,R2
    03570 E82D      LDI	R18,0x8D
    03571 E030      LDI	R19,0
    03572 018A      MOVW	R16,R20
    03573 5F0F      SUBI	R16,0xFF
    03574 4F1F      SBCI	R17,0xFF
    03575 940E 11F8 CALL	_EEPROM_write
(0459) 	 EEPROM_write(t+1,142,0);
    03577 2422      CLR	R2
    03578 2433      CLR	R3
    03579 8239      STD	Y+1,R3
    0357A 8228      ST	Y,R2
    0357B E82E      LDI	R18,0x8E
    0357C E030      LDI	R19,0
    0357D 018A      MOVW	R16,R20
    0357E 5F0F      SUBI	R16,0xFF
    0357F 4F1F      SBCI	R17,0xFF
    03580 940E 11F8 CALL	_EEPROM_write
(0460) 	 EEPROM_write(t+1,143,0);
    03582 2422      CLR	R2
    03583 2433      CLR	R3
    03584 8239      STD	Y+1,R3
    03585 8228      ST	Y,R2
    03586 E82F      LDI	R18,0x8F
    03587 E030      LDI	R19,0
    03588 018A      MOVW	R16,R20
    03589 5F0F      SUBI	R16,0xFF
    0358A 4F1F      SBCI	R17,0xFF
    0358B 940E 11F8 CALL	_EEPROM_write
(0461) 	 EEPROM_write(t+1,144,0);
    0358D 2422      CLR	R2
    0358E 2433      CLR	R3
    0358F 8239      STD	Y+1,R3
    03590 8228      ST	Y,R2
    03591 E920      LDI	R18,0x90
    03592 E030      LDI	R19,0
    03593 018A      MOVW	R16,R20
    03594 5F0F      SUBI	R16,0xFF
    03595 4F1F      SBCI	R17,0xFF
    03596 940E 11F8 CALL	_EEPROM_write
(0462) 	 EEPROM_write(t+1,145,0);
    03598 2422      CLR	R2
    03599 2433      CLR	R3
    0359A 8239      STD	Y+1,R3
    0359B 8228      ST	Y,R2
    0359C E921      LDI	R18,0x91
    0359D E030      LDI	R19,0
    0359E 018A      MOVW	R16,R20
    0359F 5F0F      SUBI	R16,0xFF
    035A0 4F1F      SBCI	R17,0xFF
    035A1 940E 11F8 CALL	_EEPROM_write
    035A3 9622      ADIW	R28,2
    035A4 940C 39E1 JMP	pop_xgsetF000
_set_all_start:
  j                    --> R20
    035A6 934A      ST	-Y,R20
    035A7 935A      ST	-Y,R21
(0463) }
(0464) //温度全部开始工作。状态为停止和刚重置数据的可以开始
(0465) void set_all_start(void){
(0466)     uint j;
(0467) 	
(0468)     for(j=0;j<4;j++){
    035A8 2744      CLR	R20
    035A9 2755      CLR	R21
    035AA C03F      RJMP	0x35EA
(0469) 	    if(temps[j].flag==3){
    035AB E302      LDI	R16,0x32
    035AC E011      LDI	R17,1
    035AD 019A      MOVW	R18,R20
    035AE 940E 39A0 CALL	empy16s
    035B0 E38D      LDI	R24,0x3D
    035B1 E093      LDI	R25,3
    035B2 01F8      MOVW	R30,R16
    035B3 0FE8      ADD	R30,R24
    035B4 1FF9      ADC	R31,R25
    035B5 8180      LD	R24,Z
    035B6 8191      LDD	R25,Z+1
    035B7 3083      CPI	R24,3
    035B8 E0E0      LDI	R30,0
    035B9 079E      CPC	R25,R30
    035BA F479      BNE	0x35CA
(0470) 	           temps[j].flag=1;
    035BB E302      LDI	R16,0x32
    035BC E011      LDI	R17,1
    035BD 019A      MOVW	R18,R20
    035BE 940E 39A0 CALL	empy16s
    035C0 E38D      LDI	R24,0x3D
    035C1 E093      LDI	R25,3
    035C2 01F8      MOVW	R30,R16
    035C3 0FE8      ADD	R30,R24
    035C4 1FF9      ADC	R31,R25
    035C5 E081      LDI	R24,1
    035C6 E090      LDI	R25,0
    035C7 8391      STD	Z+1,R25
    035C8 8380      ST	Z,R24
(0471) 	      }else if(temps[j].flag==6){
    035C9 C01E      RJMP	0x35E8
    035CA E302      LDI	R16,0x32
    035CB E011      LDI	R17,1
    035CC 019A      MOVW	R18,R20
    035CD 940E 39A0 CALL	empy16s
    035CF E38D      LDI	R24,0x3D
    035D0 E093      LDI	R25,3
    035D1 01F8      MOVW	R30,R16
    035D2 0FE8      ADD	R30,R24
    035D3 1FF9      ADC	R31,R25
    035D4 8180      LD	R24,Z
    035D5 8191      LDD	R25,Z+1
    035D6 3086      CPI	R24,6
    035D7 E0E0      LDI	R30,0
    035D8 079E      CPC	R25,R30
    035D9 F471      BNE	0x35E8
(0472) 	             temps[j].flag=5;
    035DA E302      LDI	R16,0x32
    035DB E011      LDI	R17,1
    035DC 019A      MOVW	R18,R20
    035DD 940E 39A0 CALL	empy16s
    035DF E38D      LDI	R24,0x3D
    035E0 E093      LDI	R25,3
    035E1 01F8      MOVW	R30,R16
    035E2 0FE8      ADD	R30,R24
    035E3 1FF9      ADC	R31,R25
    035E4 E085      LDI	R24,5
    035E5 E090      LDI	R25,0
    035E6 8391      STD	Z+1,R25
    035E7 8380      ST	Z,R24
    035E8 5F4F      SUBI	R20,0xFF
    035E9 4F5F      SBCI	R21,0xFF
    035EA 3044      CPI	R20,4
    035EB E0E0      LDI	R30,0
    035EC 075E      CPC	R21,R30
    035ED F408      BCC	0x35EF
    035EE CFBC      RJMP	0x35AB
    035EF 9159      LD	R21,Y+
    035F0 9149      LD	R20,Y+
    035F1 9508      RET
_set_all_stop:
  j                    --> R20
    035F2 934A      ST	-Y,R20
    035F3 935A      ST	-Y,R21
(0473) 
(0474) 	      }
(0475) 	}
(0476) }
(0477) //温度全部暂停.要运行的才会暂停。。关闭输出
(0478) void set_all_stop(void){
(0479)     uint j;
(0480) 	
(0481)     for(j=0;j<4;j++){
    035F4 2744      CLR	R20
    035F5 2755      CLR	R21
    035F6 C025      RJMP	0x361C
(0482) 	  if(temps[j].flag==1 || temps[j].flag==5){
    035F7 E302      LDI	R16,0x32
    035F8 E011      LDI	R17,1
    035F9 019A      MOVW	R18,R20
    035FA 940E 39A0 CALL	empy16s
    035FC E38D      LDI	R24,0x3D
    035FD E093      LDI	R25,3
    035FE 01F8      MOVW	R30,R16
    035FF 0FE8      ADD	R30,R24
    03600 1FF9      ADC	R31,R25
    03601 8020      LD	R2,Z
    03602 8031      LDD	R3,Z+1
    03603 01C1      MOVW	R24,R2
    03604 3081      CPI	R24,1
    03605 E0E0      LDI	R30,0
    03606 079E      CPC	R25,R30
    03607 F021      BEQ	0x360C
    03608 3085      CPI	R24,5
    03609 E0E0      LDI	R30,0
    0360A 079E      CPC	R25,R30
    0360B F471      BNE	0x361A
(0483) 	     temps[j].flag=3;
    0360C E302      LDI	R16,0x32
    0360D E011      LDI	R17,1
    0360E 019A      MOVW	R18,R20
    0360F 940E 39A0 CALL	empy16s
    03611 E38D      LDI	R24,0x3D
    03612 E093      LDI	R25,3
    03613 01F8      MOVW	R30,R16
    03614 0FE8      ADD	R30,R24
    03615 1FF9      ADC	R31,R25
    03616 E083      LDI	R24,3
    03617 E090      LDI	R25,0
    03618 8391      STD	Z+1,R25
    03619 8380      ST	Z,R24
    0361A 5F4F      SUBI	R20,0xFF
    0361B 4F5F      SBCI	R21,0xFF
    0361C 3044      CPI	R20,4
    0361D E0E0      LDI	R30,0
    0361E 075E      CPC	R21,R30
    0361F F2B8      BCS	0x35F7
    03620 9159      LD	R21,Y+
    03621 9149      LD	R20,Y+
    03622 9508      RET
_set_start:
  t                    --> R10
    03623 92AA      ST	-Y,R10
    03624 92BA      ST	-Y,R11
    03625 0158      MOVW	R10,R16
(0484) 		//  EEPROM_write(j+1,133,3);
(0485) 	   }
(0486) 	}
(0487) }
(0488) //指定温度开始,预备
(0489) void set_start(uint t){
(0490)   if(temps[t].flag==3){
    03626 E302      LDI	R16,0x32
    03627 E011      LDI	R17,1
    03628 0195      MOVW	R18,R10
    03629 940E 39A0 CALL	empy16s
    0362B E38D      LDI	R24,0x3D
    0362C E093      LDI	R25,3
    0362D 01F8      MOVW	R30,R16
    0362E 0FE8      ADD	R30,R24
    0362F 1FF9      ADC	R31,R25
    03630 8180      LD	R24,Z
    03631 8191      LDD	R25,Z+1
    03632 3083      CPI	R24,3
    03633 E0E0      LDI	R30,0
    03634 079E      CPC	R25,R30
    03635 F479      BNE	0x3645
(0491) 	     temps[t].flag=1;
    03636 E302      LDI	R16,0x32
    03637 E011      LDI	R17,1
    03638 0195      MOVW	R18,R10
    03639 940E 39A0 CALL	empy16s
    0363B E38D      LDI	R24,0x3D
    0363C E093      LDI	R25,3
    0363D 01F8      MOVW	R30,R16
    0363E 0FE8      ADD	R30,R24
    0363F 1FF9      ADC	R31,R25
    03640 E081      LDI	R24,1
    03641 E090      LDI	R25,0
    03642 8391      STD	Z+1,R25
    03643 8380      ST	Z,R24
(0492) 		///  EEPROM_write(t+1,133,5);
(0493) 	}else if(temps[t].flag==6){
    03644 C03D      RJMP	0x3682
    03645 E302      LDI	R16,0x32
    03646 E011      LDI	R17,1
    03647 0195      MOVW	R18,R10
    03648 940E 39A0 CALL	empy16s
    0364A E38D      LDI	R24,0x3D
    0364B E093      LDI	R25,3
    0364C 01F8      MOVW	R30,R16
    0364D 0FE8      ADD	R30,R24
    0364E 1FF9      ADC	R31,R25
    0364F 8180      LD	R24,Z
    03650 8191      LDD	R25,Z+1
    03651 3086      CPI	R24,6
    03652 E0E0      LDI	R30,0
    03653 079E      CPC	R25,R30
    03654 F479      BNE	0x3664
(0494) 	     temps[t].flag=5;
    03655 E302      LDI	R16,0x32
    03656 E011      LDI	R17,1
    03657 0195      MOVW	R18,R10
    03658 940E 39A0 CALL	empy16s
    0365A E38D      LDI	R24,0x3D
    0365B E093      LDI	R25,3
    0365C 01F8      MOVW	R30,R16
    0365D 0FE8      ADD	R30,R24
    0365E 1FF9      ADC	R31,R25
    0365F E085      LDI	R24,5
    03660 E090      LDI	R25,0
    03661 8391      STD	Z+1,R25
    03662 8380      ST	Z,R24
(0495) 		///  EEPROM_write(t+1,133,5);
(0496) 	}else if(temps[t].flag==4){
    03663 C01E      RJMP	0x3682
    03664 E302      LDI	R16,0x32
    03665 E011      LDI	R17,1
    03666 0195      MOVW	R18,R10
    03667 940E 39A0 CALL	empy16s
    03669 E38D      LDI	R24,0x3D
    0366A E093      LDI	R25,3
    0366B 01F8      MOVW	R30,R16
    0366C 0FE8      ADD	R30,R24
    0366D 1FF9      ADC	R31,R25
    0366E 8180      LD	R24,Z
    0366F 8191      LDD	R25,Z+1
    03670 3084      CPI	R24,4
    03671 E0E0      LDI	R30,0
    03672 079E      CPC	R25,R30
    03673 F471      BNE	0x3682
(0497) 	     temps[t].flag=5;
    03674 E302      LDI	R16,0x32
    03675 E011      LDI	R17,1
    03676 0195      MOVW	R18,R10
    03677 940E 39A0 CALL	empy16s
    03679 E38D      LDI	R24,0x3D
    0367A E093      LDI	R25,3
    0367B 01F8      MOVW	R30,R16
    0367C 0FE8      ADD	R30,R24
    0367D 1FF9      ADC	R31,R25
    0367E E085      LDI	R24,5
    0367F E090      LDI	R25,0
    03680 8391      STD	Z+1,R25
    03681 8380      ST	Z,R24
(0498) 		///  EEPROM_write(t+1,133,5);
(0499) 	}
    03682 90B9      LD	R11,Y+
    03683 90A9      LD	R10,Y+
    03684 9508      RET
_set_stop:
  t                    --> R10
    03685 92AA      ST	-Y,R10
    03686 92BA      ST	-Y,R11
    03687 0158      MOVW	R10,R16
(0500) }
(0501) 
(0502) //指定温度暂停。关闭输出
(0503) void set_stop(uint t){
(0504)  if(temps[t].flag==1 || temps[t].flag==5){
    03688 E302      LDI	R16,0x32
    03689 E011      LDI	R17,1
    0368A 0195      MOVW	R18,R10
    0368B 940E 39A0 CALL	empy16s
    0368D E38D      LDI	R24,0x3D
    0368E E093      LDI	R25,3
    0368F 01F8      MOVW	R30,R16
    03690 0FE8      ADD	R30,R24
    03691 1FF9      ADC	R31,R25
    03692 8020      LD	R2,Z
    03693 8031      LDD	R3,Z+1
    03694 01C1      MOVW	R24,R2
    03695 3081      CPI	R24,1
    03696 E0E0      LDI	R30,0
    03697 079E      CPC	R25,R30
    03698 F021      BEQ	0x369D
    03699 3085      CPI	R24,5
    0369A E0E0      LDI	R30,0
    0369B 079E      CPC	R25,R30
    0369C F471      BNE	0x36AB
(0505) 	     temps[t].flag=3;
    0369D E302      LDI	R16,0x32
    0369E E011      LDI	R17,1
    0369F 0195      MOVW	R18,R10
    036A0 940E 39A0 CALL	empy16s
    036A2 E38D      LDI	R24,0x3D
    036A3 E093      LDI	R25,3
    036A4 01F8      MOVW	R30,R16
    036A5 0FE8      ADD	R30,R24
    036A6 1FF9      ADC	R31,R25
    036A7 E083      LDI	R24,3
    036A8 E090      LDI	R25,0
    036A9 8391      STD	Z+1,R25
    036AA 8380      ST	Z,R24
(0506) 		// EEPROM_write(t+1,133,3);
(0507) 	   }
    036AB 90B9      LD	R11,Y+
    036AC 90A9      LD	R10,Y+
    036AD 9508      RET
_PID_realize:
  temp_n               --> R10
    036AE 940E 39CD CALL	push_xgset003C
    036B0 0158      MOVW	R10,R16
(0508) }
(0509) /***********************************************************************
(0510) * 函数功能：	PID计算
(0511) * 参      数：	读入的温度
(0512) * 返 回  值：	无	改变incrementtemp的值，输出函数获得这个值然后输出
(0513) * 备	   注：	
(0514) **1
(0515) **********************************************************************/
(0516) void PID_realize(uint temp_n)
(0517) {
(0518)    temps[temp_n].err=temps[temp_n].settemp-temps[temp_n].actualtemp;//这两个都在结构体中
    036B1 E302      LDI	R16,0x32
    036B2 E011      LDI	R17,1
    036B3 0195      MOVW	R18,R10
    036B4 940E 39A0 CALL	empy16s
    036B6 E58F      LDI	R24,0x5F
    036B7 E094      LDI	R25,4
    036B8 01F8      MOVW	R30,R16
    036B9 0FE8      ADD	R30,R24
    036BA 1FF9      ADC	R31,R25
    036BB 8020      LD	R2,Z
    036BC 8031      LDD	R3,Z+1
    036BD E58D      LDI	R24,0x5D
    036BE E094      LDI	R25,4
    036BF 01F8      MOVW	R30,R16
    036C0 0FE8      ADD	R30,R24
    036C1 1FF9      ADC	R31,R25
    036C2 8040      LD	R4,Z
    036C3 8051      LDD	R5,Z+1
    036C4 1842      SUB	R4,R2
    036C5 0853      SBC	R5,R3
    036C6 E681      LDI	R24,0x61
    036C7 E094      LDI	R25,4
    036C8 01F8      MOVW	R30,R16
    036C9 0FE8      ADD	R30,R24
    036CA 1FF9      ADC	R31,R25
    036CB 8251      STD	Z+1,R5
    036CC 8240      ST	Z,R4
(0519)    temps[temp_n].incrementtemp=temps[temp_n].Kp*(temps[temp_n].err-temps[temp_n].err_next)+temps[temp_n].Ki*temps[temp_n].err+temps[temp_n].Kd*(temps[temp_n].err-2*temps[temp_n].err_next+temps[temp_n].err_last);
    036CD E302      LDI	R16,0x32
    036CE E011      LDI	R17,1
    036CF 0195      MOVW	R18,R10
    036D0 940E 39A0 CALL	empy16s
    036D2 0138      MOVW	R6,R16
    036D3 E685      LDI	R24,0x65
    036D4 E094      LDI	R25,4
    036D5 01F3      MOVW	R30,R6
    036D6 0FE8      ADD	R30,R24
    036D7 1FF9      ADC	R31,R25
    036D8 8020      LD	R2,Z
    036D9 8031      LDD	R3,Z+1
    036DA E681      LDI	R24,0x61
    036DB E094      LDI	R25,4
    036DC 01F3      MOVW	R30,R6
    036DD 0FE8      ADD	R30,R24
    036DE 1FF9      ADC	R31,R25
    036DF 8120      LD	R18,Z
    036E0 8131      LDD	R19,Z+1
    036E1 1922      SUB	R18,R2
    036E2 0933      SBC	R19,R3
    036E3 E687      LDI	R24,0x67
    036E4 E094      LDI	R25,4
    036E5 01F3      MOVW	R30,R6
    036E6 0FE8      ADD	R30,R24
    036E7 1FF9      ADC	R31,R25
    036E8 8100      LD	R16,Z
    036E9 8111      LDD	R17,Z+1
    036EA 940E 39A0 CALL	empy16s
    036EC 0118      MOVW	R2,R16
    036ED E681      LDI	R24,0x61
    036EE E094      LDI	R25,4
    036EF 01F3      MOVW	R30,R6
    036F0 0FE8      ADD	R30,R24
    036F1 1FF9      ADC	R31,R25
    036F2 8120      LD	R18,Z
    036F3 8131      LDD	R19,Z+1
    036F4 E689      LDI	R24,0x69
    036F5 E094      LDI	R25,4
    036F6 01F3      MOVW	R30,R6
    036F7 0FE8      ADD	R30,R24
    036F8 1FF9      ADC	R31,R25
    036F9 8100      LD	R16,Z
    036FA 8111      LDD	R17,Z+1
    036FB 940E 39A0 CALL	empy16s
    036FD 0E20      ADD	R2,R16
    036FE 1E31      ADC	R3,R17
    036FF E685      LDI	R24,0x65
    03700 E094      LDI	R25,4
    03701 01F3      MOVW	R30,R6
    03702 0FE8      ADD	R30,R24
    03703 1FF9      ADC	R31,R25
    03704 8040      LD	R4,Z
    03705 8051      LDD	R5,Z+1
    03706 0C44      LSL	R4
    03707 1C55      ROL	R5
    03708 E681      LDI	R24,0x61
    03709 E094      LDI	R25,4
    0370A 01F3      MOVW	R30,R6
    0370B 0FE8      ADD	R30,R24
    0370C 1FF9      ADC	R31,R25
    0370D 8120      LD	R18,Z
    0370E 8131      LDD	R19,Z+1
    0370F 1924      SUB	R18,R4
    03710 0935      SBC	R19,R5
    03711 E683      LDI	R24,0x63
    03712 E094      LDI	R25,4
    03713 01F3      MOVW	R30,R6
    03714 0FE8      ADD	R30,R24
    03715 1FF9      ADC	R31,R25
    03716 8040      LD	R4,Z
    03717 8051      LDD	R5,Z+1
    03718 0D24      ADD	R18,R4
    03719 1D35      ADC	R19,R5
    0371A E68B      LDI	R24,0x6B
    0371B E094      LDI	R25,4
    0371C 01F3      MOVW	R30,R6
    0371D 0FE8      ADD	R30,R24
    0371E 1FF9      ADC	R31,R25
    0371F 8100      LD	R16,Z
    03720 8111      LDD	R17,Z+1
    03721 940E 39A0 CALL	empy16s
    03723 0E20      ADD	R2,R16
    03724 1E31      ADC	R3,R17
    03725 E68D      LDI	R24,0x6D
    03726 E094      LDI	R25,4
    03727 01F3      MOVW	R30,R6
    03728 0FE8      ADD	R30,R24
    03729 1FF9      ADC	R31,R25
    0372A 8231      STD	Z+1,R3
    0372B 8220      ST	Z,R2
(0520)    temps[temp_n].err_last=temps[temp_n].err_next;
    0372C E302      LDI	R16,0x32
    0372D E011      LDI	R17,1
    0372E 0195      MOVW	R18,R10
    0372F 940E 39A0 CALL	empy16s
    03731 0168      MOVW	R12,R16
    03732 E685      LDI	R24,0x65
    03733 E094      LDI	R25,4
    03734 01F6      MOVW	R30,R12
    03735 0FE8      ADD	R30,R24
    03736 1FF9      ADC	R31,R25
    03737 8020      LD	R2,Z
    03738 8031      LDD	R3,Z+1
    03739 E683      LDI	R24,0x63
    0373A E094      LDI	R25,4
    0373B 01F6      MOVW	R30,R12
    0373C 0FE8      ADD	R30,R24
    0373D 1FF9      ADC	R31,R25
    0373E 8231      STD	Z+1,R3
    0373F 8220      ST	Z,R2
(0521)    temps[temp_n].err_next=temps[temp_n].err;
    03740 E302      LDI	R16,0x32
    03741 E011      LDI	R17,1
    03742 0195      MOVW	R18,R10
    03743 940E 39A0 CALL	empy16s
    03745 0168      MOVW	R12,R16
    03746 E681      LDI	R24,0x61
    03747 E094      LDI	R25,4
    03748 01F6      MOVW	R30,R12
    03749 0FE8      ADD	R30,R24
    0374A 1FF9      ADC	R31,R25
    0374B 8020      LD	R2,Z
    0374C 8031      LDD	R3,Z+1
    0374D E685      LDI	R24,0x65
    0374E E094      LDI	R25,4
    0374F 01F6      MOVW	R30,R12
    03750 0FE8      ADD	R30,R24
    03751 1FF9      ADC	R31,R25
    03752 8231      STD	Z+1,R3
    03753 8220      ST	Z,R2
(0522)    temps[temp_n].incrementtemp=temps[temp_n].incrementtemp/2;
    03754 E302      LDI	R16,0x32
    03755 E011      LDI	R17,1
    03756 0195      MOVW	R18,R10
    03757 940E 39A0 CALL	empy16s
    03759 0158      MOVW	R10,R16
    0375A E68D      LDI	R24,0x6D
    0375B E094      LDI	R25,4
    0375C 01F5      MOVW	R30,R10
    0375D 0FE8      ADD	R30,R24
    0375E 1FF9      ADC	R31,R25
    0375F 8100      LD	R16,Z
    03760 8111      LDD	R17,Z+1
    03761 E022      LDI	R18,2
    03762 E030      LDI	R19,0
    03763 940E 396A CALL	div16s
    03765 E68D      LDI	R24,0x6D
    03766 E094      LDI	R25,4
    03767 01F5      MOVW	R30,R10
    03768 0FE8      ADD	R30,R24
    03769 1FF9      ADC	R31,R25
    0376A 8311      STD	Z+1,R17
    0376B 8300      ST	Z,R16
    0376C 940C 39B0 JMP	pop_xgset003C
_PI_realize:
  temp_n               --> R10
    0376E 940E 39CD CALL	push_xgset003C
    03770 0158      MOVW	R10,R16
(0523) }
(0524) void PI_realize(uint temp_n)
(0525) {
(0526)    temps[temp_n].err=temps[temp_n].p_settemp-temps[temp_n].actualtemp;//这两个都在结构体中
    03771 E302      LDI	R16,0x32
    03772 E011      LDI	R17,1
    03773 0195      MOVW	R18,R10
    03774 940E 39A0 CALL	empy16s
    03776 E58F      LDI	R24,0x5F
    03777 E094      LDI	R25,4
    03778 01F8      MOVW	R30,R16
    03779 0FE8      ADD	R30,R24
    0377A 1FF9      ADC	R31,R25
    0377B 8020      LD	R2,Z
    0377C 8031      LDD	R3,Z+1
    0377D E583      LDI	R24,0x53
    0377E E094      LDI	R25,4
    0377F 01F8      MOVW	R30,R16
    03780 0FE8      ADD	R30,R24
    03781 1FF9      ADC	R31,R25
    03782 8040      LD	R4,Z
    03783 8051      LDD	R5,Z+1
    03784 1842      SUB	R4,R2
    03785 0853      SBC	R5,R3
    03786 E681      LDI	R24,0x61
    03787 E094      LDI	R25,4
    03788 01F8      MOVW	R30,R16
    03789 0FE8      ADD	R30,R24
    0378A 1FF9      ADC	R31,R25
    0378B 8251      STD	Z+1,R5
    0378C 8240      ST	Z,R4
(0527)    temps[temp_n].incrementtemp=temps[temp_n].p_Kp*(temps[temp_n].err-temps[temp_n].p_err_next)+temps[temp_n].p_Ki*temps[temp_n].err;
    0378D E302      LDI	R16,0x32
    0378E E011      LDI	R17,1
    0378F 0195      MOVW	R18,R10
    03790 940E 39A0 CALL	empy16s
    03792 0128      MOVW	R4,R16
    03793 E585      LDI	R24,0x55
    03794 E094      LDI	R25,4
    03795 01F2      MOVW	R30,R4
    03796 0FE8      ADD	R30,R24
    03797 1FF9      ADC	R31,R25
    03798 8020      LD	R2,Z
    03799 8031      LDD	R3,Z+1
    0379A E681      LDI	R24,0x61
    0379B E094      LDI	R25,4
    0379C 01F2      MOVW	R30,R4
    0379D 0FE8      ADD	R30,R24
    0379E 1FF9      ADC	R31,R25
    0379F 8120      LD	R18,Z
    037A0 8131      LDD	R19,Z+1
    037A1 1922      SUB	R18,R2
    037A2 0933      SBC	R19,R3
    037A3 E587      LDI	R24,0x57
    037A4 E094      LDI	R25,4
    037A5 01F2      MOVW	R30,R4
    037A6 0FE8      ADD	R30,R24
    037A7 1FF9      ADC	R31,R25
    037A8 8100      LD	R16,Z
    037A9 8111      LDD	R17,Z+1
    037AA 940E 39A0 CALL	empy16s
    037AC 0118      MOVW	R2,R16
    037AD E681      LDI	R24,0x61
    037AE E094      LDI	R25,4
    037AF 01F2      MOVW	R30,R4
    037B0 0FE8      ADD	R30,R24
    037B1 1FF9      ADC	R31,R25
    037B2 8120      LD	R18,Z
    037B3 8131      LDD	R19,Z+1
    037B4 E589      LDI	R24,0x59
    037B5 E094      LDI	R25,4
    037B6 01F2      MOVW	R30,R4
    037B7 0FE8      ADD	R30,R24
    037B8 1FF9      ADC	R31,R25
    037B9 8100      LD	R16,Z
    037BA 8111      LDD	R17,Z+1
    037BB 940E 39A0 CALL	empy16s
    037BD 0E20      ADD	R2,R16
    037BE 1E31      ADC	R3,R17
    037BF E68D      LDI	R24,0x6D
    037C0 E094      LDI	R25,4
    037C1 01F2      MOVW	R30,R4
    037C2 0FE8      ADD	R30,R24
    037C3 1FF9      ADC	R31,R25
    037C4 8231      STD	Z+1,R3
    037C5 8220      ST	Z,R2
(0528)    temps[temp_n].p_err_last=temps[temp_n].p_err_next;
    037C6 E302      LDI	R16,0x32
    037C7 E011      LDI	R17,1
    037C8 0195      MOVW	R18,R10
    037C9 940E 39A0 CALL	empy16s
    037CB 0168      MOVW	R12,R16
    037CC E585      LDI	R24,0x55
    037CD E094      LDI	R25,4
    037CE 01F6      MOVW	R30,R12
    037CF 0FE8      ADD	R30,R24
    037D0 1FF9      ADC	R31,R25
    037D1 8020      LD	R2,Z
    037D2 8031      LDD	R3,Z+1
    037D3 E58B      LDI	R24,0x5B
    037D4 E094      LDI	R25,4
    037D5 01F6      MOVW	R30,R12
    037D6 0FE8      ADD	R30,R24
    037D7 1FF9      ADC	R31,R25
    037D8 8231      STD	Z+1,R3
    037D9 8220      ST	Z,R2
(0529)    temps[temp_n].p_err_next=temps[temp_n].err;
    037DA E302      LDI	R16,0x32
    037DB E011      LDI	R17,1
    037DC 0195      MOVW	R18,R10
    037DD 940E 39A0 CALL	empy16s
    037DF 0168      MOVW	R12,R16
    037E0 E681      LDI	R24,0x61
    037E1 E094      LDI	R25,4
    037E2 01F6      MOVW	R30,R12
    037E3 0FE8      ADD	R30,R24
    037E4 1FF9      ADC	R31,R25
    037E5 8020      LD	R2,Z
    037E6 8031      LDD	R3,Z+1
    037E7 E585      LDI	R24,0x55
    037E8 E094      LDI	R25,4
    037E9 01F6      MOVW	R30,R12
    037EA 0FE8      ADD	R30,R24
    037EB 1FF9      ADC	R31,R25
    037EC 8231      STD	Z+1,R3
    037ED 8220      ST	Z,R2
(0530)    temps[temp_n].incrementtemp=temps[temp_n].incrementtemp/2;
    037EE E302      LDI	R16,0x32
    037EF E011      LDI	R17,1
    037F0 0195      MOVW	R18,R10
    037F1 940E 39A0 CALL	empy16s
    037F3 0158      MOVW	R10,R16
    037F4 E68D      LDI	R24,0x6D
    037F5 E094      LDI	R25,4
    037F6 01F5      MOVW	R30,R10
    037F7 0FE8      ADD	R30,R24
    037F8 1FF9      ADC	R31,R25
    037F9 8100      LD	R16,Z
    037FA 8111      LDD	R17,Z+1
    037FB E022      LDI	R18,2
    037FC E030      LDI	R19,0
    037FD 940E 396A CALL	div16s
    037FF E68D      LDI	R24,0x6D
    03800 E094      LDI	R25,4
    03801 01F5      MOVW	R30,R10
    03802 0FE8      ADD	R30,R24
    03803 1FF9      ADC	R31,R25
    03804 8311      STD	Z+1,R17
    03805 8300      ST	Z,R16
    03806 940C 39B0 JMP	pop_xgset003C
FILE: E:\ICCDemo\Temp_Control\temp_control\time1307.c
(0001) #include<iom128v.h>
(0002) #include "time1307.h"
(0003) #include "delay.h"
(0004) #include "lcd.h"
(0005) #include "main.h"
(0006) //寄存器宏定义
(0007) #define SECOND 0x00
(0008) #define MINUTE 0x01 
(0009) #define HOUR 0x02
(0010) #define DAY 0x04
(0011) #define MONTH 0x05 
(0012) #define WEEK 0x03
(0013) #define YEAE 0x06
(0014) #define CIBTPOL 0x07 
(0015) #define  WRITEDS1307    0xD0
(0016) #define     READDS1307    0xD1
(0017) 
(0018) 
(0019) #define  SCL_H  PORTD|=1<<PD0 //
(0020) #define  SCL_L  PORTD&=~(1<<PD0) //
(0021) #define  SDA_H   PORTD|=1<<PD1 //
(0022) #define  SDA_L  PORTD&=~(1<<PD1)  //
(0023) /* unsigned char set_rtc_code[7];
(0024) unsigned char rtc_address[7]={0x00,0x01,0x02,0x03,0x04,0x05,0x06};
(0025) unsigned char read_rtc_code[7];
(0026) unsigned char wr_j1j3_code[7];
(0027) unsigned char jk[7]={0,0,0,2,0,0,9};//设置时钟初始值*/
(0028) 
(0029) unsigned  char BP;
(0030) 
(0031) 
(0032) void I2C_start(void){//启动IIC总线
(0033)    SDA_H;
_I2C_start:
    03808 9A91      SBI	0x12,1
(0034)    SCL_H;
    03809 9A90      SBI	0x12,0
(0035)    delay_us(8);
    0380A E008      LDI	R16,0x8
    0380B E010      LDI	R17,0
    0380C 940E 0529 CALL	_delay_us
(0036)    SDA_L;
    0380E 9891      CBI	0x12,1
(0037)    delay_us(8);
    0380F E008      LDI	R16,0x8
    03810 E010      LDI	R17,0
    03811 940E 0529 CALL	_delay_us
(0038)    SCL_L;
    03813 9890      CBI	0x12,0
    03814 9508      RET
(0039)    
(0040) }
(0041) void I2C_stop(void){//启动IIC总线
(0042)    SDA_L;
_I2C_stop:
    03815 9891      CBI	0x12,1
(0043)    SCL_H;
    03816 9A90      SBI	0x12,0
(0044)    delay_us(8);
    03817 E008      LDI	R16,0x8
    03818 E010      LDI	R17,0
    03819 940E 0529 CALL	_delay_us
(0045)    SDA_H;
    0381B 9A91      SBI	0x12,1
(0046)    delay_us(8);
    0381C E008      LDI	R16,0x8
    0381D E010      LDI	R17,0
    0381E 940E 0529 CALL	_delay_us
(0047)    SCL_L;
    03820 9890      CBI	0x12,0
    03821 9508      RET
(0048)    
(0049) }
(0050) void I2C_send_ack(void){//应答ack
(0051)   SDA_L;
_I2C_send_ack:
    03822 9891      CBI	0x12,1
(0052)   SCL_H;
    03823 9A90      SBI	0x12,0
(0053)   delay_us(8);
    03824 E008      LDI	R16,0x8
    03825 E010      LDI	R17,0
    03826 940E 0529 CALL	_delay_us
(0054)   SCL_L;
    03828 9890      CBI	0x12,0
    03829 9508      RET
(0055) } 
(0056) void I2C_send_noack(void){
(0057)   SDA_H;
_I2C_send_noack:
    0382A 9A91      SBI	0x12,1
(0058)   SCL_H;
    0382B 9A90      SBI	0x12,0
(0059)    delay_us(8);
    0382C E008      LDI	R16,0x8
    0382D E010      LDI	R17,0
    0382E 940E 0529 CALL	_delay_us
(0060)    SCL_L;
    03830 9890      CBI	0x12,0
    03831 9508      RET
_I2C_write_byte:
  i                    --> R20
  IIC_data             --> R10
    03832 92AA      ST	-Y,R10
    03833 934A      ST	-Y,R20
    03834 2EA0      MOV	R10,R16
(0061) }
(0062) void I2C_write_byte(unsigned char IIC_data){
(0063)    unsigned char i;
(0064)   // BP=0;
(0065)    for(i=0;i<8;i++){//循环输出数据
    03835 2744      CLR	R20
    03836 C016      RJMP	0x384D
(0066)       SCL_L;
    03837 9890      CBI	0x12,0
(0067) 	   if(((IIC_data<<i)&0x80)){
    03838 2D0A      MOV	R16,R10
    03839 2F14      MOV	R17,R20
    0383A 940E 3A14 CALL	lsl8
    0383C 2F80      MOV	R24,R16
    0383D 7880      ANDI	R24,0x80
    0383E F011      BEQ	0x3841
(0068) 	      SDA_H;
    0383F 9A91      SBI	0x12,1
(0069) 	   }else{
    03840 C001      RJMP	0x3842
(0070) 	   	  SDA_L;
    03841 9891      CBI	0x12,1
(0071) 	   }
(0072) 	   delay_us(4);
    03842 E004      LDI	R16,4
    03843 E010      LDI	R17,0
    03844 940E 0529 CALL	_delay_us
(0073) 	   SCL_H;
    03846 9A90      SBI	0x12,0
(0074) 	   delay_us(4);
    03847 E004      LDI	R16,4
    03848 E010      LDI	R17,0
    03849 940E 0529 CALL	_delay_us
(0075) 	   SCL_L;
    0384B 9890      CBI	0x12,0
    0384C 9543      INC	R20
    0384D 3048      CPI	R20,0x8
    0384E F340      BCS	0x3837
(0076)    }
(0077)    //读取ACK
(0078)    delay_us(4);
    0384F E004      LDI	R16,4
    03850 E010      LDI	R17,0
    03851 940E 0529 CALL	_delay_us
(0079)    DDRD &=~(0x02);//发送完，等待输入信号
    03853 9889      CBI	0x11,1
(0080)    delay_us(4);
    03854 E004      LDI	R16,4
    03855 E010      LDI	R17,0
    03856 940E 0529 CALL	_delay_us
(0081)    if((PIND&(1<<PD1))){
    03858 9B81      SBIS	0x10,1
    03859 C000      RJMP	0x385A
(0082)     //正常
(0083)    }//读取，如果发送的是noack，
(0084)    SCL_H;
    0385A 9A90      SBI	0x12,0
(0085)    delay_us(4);
    0385B E004      LDI	R16,4
    0385C E010      LDI	R17,0
    0385D 940E 0529 CALL	_delay_us
(0086)    SCL_L;
    0385F 9890      CBI	0x12,0
(0087)    DDRD |=0x02;
    03860 9A89      SBI	0x11,1
    03861 9149      LD	R20,Y+
    03862 90A9      LD	R10,Y+
    03863 9508      RET
_I2C_read_byte:
  i                    --> R20
  dat                  --> R10
    03864 92AA      ST	-Y,R10
    03865 934A      ST	-Y,R20
(0088) }
(0089) unsigned char I2C_read_byte(void){
(0090)   unsigned char i,dat;
(0091)   DDRD &=~(0x02);
    03866 9889      CBI	0x11,1
(0092)   dat=0;
    03867 24AA      CLR	R10
(0093)   for (i=0;i<8;i++)
    03868 2744      CLR	R20
    03869 C00B      RJMP	0x3875
(0094)     {
(0095)       dat=dat<<1;
    0386A 0CAA      LSL	R10
(0096)       SCL_H;
    0386B 9A90      SBI	0x12,0
(0097)       delay_us(4);
    0386C E004      LDI	R16,4
    0386D E010      LDI	R17,0
    0386E 940E 0529 CALL	_delay_us
(0098)      if((PIND&(1<<PD1)))
    03870 9B81      SBIS	0x10,1
    03871 C001      RJMP	0x3873
(0099)      {
(0100)        dat++;
    03872 94A3      INC	R10
(0101) 	  // PORTE=~PORTE;
(0102)      }
(0103)        SCL_L;  
    03873 9890      CBI	0x12,0
    03874 9543      INC	R20
    03875 3048      CPI	R20,0x8
    03876 F398      BCS	0x386A
(0104)     }  
(0105)   DDRD |=0x02;
    03877 9A89      SBI	0x11,1
(0106)   return dat;
    03878 2D0A      MOV	R16,R10
    03879 9149      LD	R20,Y+
    0387A 90A9      LD	R10,Y+
    0387B 9508      RET
_Write1307:
  dat                  --> R10
  add                  --> R12
    0387C 92AA      ST	-Y,R10
    0387D 92CA      ST	-Y,R12
    0387E 2EA2      MOV	R10,R18
    0387F 2EC0      MOV	R12,R16
(0107) }
(0108) /***********************************************************************/
(0109) /******************************** DS1307 写数据  ****************/
(0110) void Write1307(unsigned char add,unsigned char dat)
(0111) {
(0112)   I2C_start();
    03880 DF87      RCALL	_I2C_start
(0113)   I2C_write_byte(WRITEDS1307);
    03881 ED00      LDI	R16,0xD0
    03882 DFAF      RCALL	_I2C_write_byte
(0114)   I2C_write_byte(add);
    03883 2D0C      MOV	R16,R12
    03884 DFAD      RCALL	_I2C_write_byte
(0115)   I2C_write_byte(dat);
    03885 2D0A      MOV	R16,R10
    03886 DFAB      RCALL	_I2C_write_byte
(0116)   I2C_stop();
    03887 DF8D      RCALL	_I2C_stop
    03888 90C9      LD	R12,Y+
    03889 90A9      LD	R10,Y+
    0388A 9508      RET
_Read1307:
  dat                  --> R10
  add                  --> R10
    0388B 92AA      ST	-Y,R10
    0388C 92BA      ST	-Y,R11
    0388D 2EA0      MOV	R10,R16
(0117) }
(0118) /***********************************************************************/
(0119) unsigned int Read1307(unsigned char add)
(0120) {
(0121)   
(0122)   unsigned int dat;
(0123)   I2C_start();
    0388E DF79      RCALL	_I2C_start
(0124)   I2C_write_byte(WRITEDS1307);
    0388F ED00      LDI	R16,0xD0
    03890 DFA1      RCALL	_I2C_write_byte
(0125)   I2C_write_byte(add);
    03891 2D0A      MOV	R16,R10
    03892 DF9F      RCALL	_I2C_write_byte
(0126)   I2C_start();
    03893 DF74      RCALL	_I2C_start
(0127)   I2C_write_byte(READDS1307);
    03894 ED01      LDI	R16,0xD1
    03895 DF9C      RCALL	_I2C_write_byte
(0128)   dat=I2C_read_byte(); 
    03896 DFCD      RCALL	_I2C_read_byte
    03897 2EA0      MOV	R10,R16
    03898 24BB      CLR	R11
(0129)   I2C_send_noack();
    03899 DF90      RCALL	_I2C_send_noack
(0130)   I2C_stop();      
    0389A DF7A      RCALL	_I2C_stop
(0131)   return (dat);
    0389B 0185      MOVW	R16,R10
    0389C 90B9      LD	R11,Y+
    0389D 90A9      LD	R10,Y+
    0389E 9508      RET
_setTime:
  second               --> R10
  minute               --> R22
  hour                 --> R20
  day                  --> R14
  month                --> R12
  year                 --> Y,+10
    0389F 940E 395A CALL	push_arg4
    038A1 940E 39C7 CALL	push_xgsetF0FC
    038A3 0169      MOVW	R12,R18
    038A4 84EE      LDD	R14,Y+14
    038A5 84FF      LDD	R15,Y+15
    038A6 8948      LDD	R20,Y+16
    038A7 8959      LDD	R21,Y+17
    038A8 896A      LDD	R22,Y+18
    038A9 897B      LDD	R23,Y+19
    038AA 88AC      LDD	R10,Y+20
    038AB 88BD      LDD	R11,Y+21
(0132)  }
(0133) //年、月、日、星期、时、分、秒。星期没有写入
(0134) void setTime(uint year,uint month,uint day,uint hour,uint minute,uint second){
(0135)    Write1307(0x00,second);//
    038AC 2D2A      MOV	R18,R10
    038AD 2700      CLR	R16
    038AE DFCD      RCALL	_Write1307
(0136)    Write1307(0x01,minute);//
    038AF 2F26      MOV	R18,R22
    038B0 E001      LDI	R16,1
    038B1 DFCA      RCALL	_Write1307
(0137)    Write1307(0x02,hour);//
    038B2 2F24      MOV	R18,R20
    038B3 E002      LDI	R16,2
    038B4 DFC7      RCALL	_Write1307
(0138)    //Write1307(0x03,0X01);//
(0139)    Write1307(0x04,day);//
    038B5 2D2E      MOV	R18,R14
    038B6 E004      LDI	R16,4
    038B7 DFC4      RCALL	_Write1307
(0140)    Write1307(0x05,month);//
    038B8 2D2C      MOV	R18,R12
    038B9 E005      LDI	R16,5
    038BA DFC1      RCALL	_Write1307
(0141)    Write1307(0x06,year);
    038BB 852A      LDD	R18,Y+10
    038BC 853B      LDD	R19,Y+11
    038BD E006      LDI	R16,6
    038BE DFBD      RCALL	_Write1307
    038BF 940E 39BC CALL	pop_xgsetF0FC
    038C1 9624      ADIW	R28,4
    038C2 9508      RET
(0142) }
(0143) void Initial_time(void){//初始化输出、方波、中断
(0144)    DDRD|=0x07;
_Initial_time:
    038C3 B381      IN	R24,0x11
    038C4 6087      ORI	R24,7
    038C5 BB81      OUT	0x11,R24
(0145)    PORTD=0x00;
    038C6 2422      CLR	R2
    038C7 BA22      OUT	0x12,R2
(0146)   /* Write1307(0x00,0X00);//
(0147)    Write1307(0x01,0X00);//
(0148)    Write1307(0x02,0X12);//
(0149)    Write1307(0x03,0X01);//
(0150)    Write1307(0x04,0X21);//
(0151)    Write1307(0x05,0X05);//
(0152)    Write1307(0x06,0X15);//*/
(0153)     Write1307(0x07,0x10);
    038C8 E120      LDI	R18,0x10
    038C9 E007      LDI	R16,7
    038CA DFB1      RCALL	_Write1307
(0154)    
(0155)    EIMSK |= 0x04;//开中断2
    038CB B789      IN	R24,0x39
    038CC 6084      ORI	R24,4
    038CD BF89      OUT	0x39,R24
(0156)    EICRA |=0x30;
    038CE 9180 006A LDS	R24,0x6A
    038D0 6380      ORI	R24,0x30
    038D1 9380 006A STS	0x6A,R24
    038D3 9508      RET
_showTime_page:
  time_cacah           --> R20
  y                    --> R10
    038D4 940E 39F4 CALL	push_xgset303C
    038D6 0158      MOVW	R10,R16
(0157)    
(0158) }
(0159) //显示时间，年月日时分秒，用于page调用。没有改变AC，会接着写
(0160) void showTime_page(uint y){
(0161)    //PORTE=~Read1302(0x81);
(0162)    uchar time_cacah;
(0163)  //年
(0164)     time_cacah=Read1307(0x06);
    038D7 E006      LDI	R16,6
    038D8 DFB2      RCALL	_Read1307
    038D9 2F40      MOV	R20,R16
(0165)     lcd_write_str_con(y, "20");
    038DA E72C      LDI	R18,0x7C
    038DB E03A      LDI	R19,0xA
    038DC 2D0A      MOV	R16,R10
    038DD 940E 07CD CALL	_lcd_write_str_con
(0166)     lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x0F));
    038DF 2F24      MOV	R18,R20
    038E0 9522      SWAP	R18
    038E1 702F      ANDI	R18,0xF
    038E2 702F      ANDI	R18,0xF
    038E3 6320      ORI	R18,0x30
    038E4 2D0A      MOV	R16,R10
    038E5 940E 072B CALL	_lcd_write_char_con
(0167)     lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    038E7 2F24      MOV	R18,R20
    038E8 702F      ANDI	R18,0xF
    038E9 6320      ORI	R18,0x30
    038EA 2D0A      MOV	R16,R10
    038EB 940E 072B CALL	_lcd_write_char_con
(0168) 	lcd_write_char_con(y,'-');
    038ED E22D      LDI	R18,0x2D
    038EE 2D0A      MOV	R16,R10
    038EF 940E 072B CALL	_lcd_write_char_con
(0169) 	 //月
(0170) 	 time_cacah=Read1307(0x05);
    038F1 E005      LDI	R16,5
    038F2 DF98      RCALL	_Read1307
    038F3 2F40      MOV	R20,R16
(0171) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x01));
    038F4 2F24      MOV	R18,R20
    038F5 9522      SWAP	R18
    038F6 702F      ANDI	R18,0xF
    038F7 7021      ANDI	R18,1
    038F8 6320      ORI	R18,0x30
    038F9 2D0A      MOV	R16,R10
    038FA 940E 072B CALL	_lcd_write_char_con
(0172)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    038FC 2F24      MOV	R18,R20
    038FD 702F      ANDI	R18,0xF
    038FE 6320      ORI	R18,0x30
    038FF 2D0A      MOV	R16,R10
    03900 940E 072B CALL	_lcd_write_char_con
(0173) 	 lcd_write_char_con(y,'-');
    03902 E22D      LDI	R18,0x2D
    03903 2D0A      MOV	R16,R10
    03904 940E 072B CALL	_lcd_write_char_con
(0174) 	 //日
(0175) 	 time_cacah=Read1307(0x04);
    03906 E004      LDI	R16,4
    03907 DF83      RCALL	_Read1307
    03908 0168      MOVW	R12,R16
    03909 2D4C      MOV	R20,R12
(0176) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    0390A 2F24      MOV	R18,R20
    0390B 9522      SWAP	R18
    0390C 702F      ANDI	R18,0xF
    0390D 7023      ANDI	R18,3
    0390E 6320      ORI	R18,0x30
    0390F 2D0A      MOV	R16,R10
    03910 940E 072B CALL	_lcd_write_char_con
(0177)      lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    03912 2F24      MOV	R18,R20
    03913 702F      ANDI	R18,0xF
    03914 6320      ORI	R18,0x30
    03915 2D0A      MOV	R16,R10
    03916 940E 072B CALL	_lcd_write_char_con
(0178) 	 lcd_write_char_con(y,' ');
    03918 E220      LDI	R18,0x20
    03919 2D0A      MOV	R16,R10
    0391A 940E 072B CALL	_lcd_write_char_con
(0179) 	//时
(0180) 	time_cacah=Read1307(0x02);
    0391C E002      LDI	R16,2
    0391D DF6D      RCALL	_Read1307
    0391E 0168      MOVW	R12,R16
    0391F 2D4C      MOV	R20,R12
(0181) 	 lcd_write_char_con(y, 0x30|((time_cacah>>4)&0x03));
    03920 2F24      MOV	R18,R20
    03921 9522      SWAP	R18
    03922 702F      ANDI	R18,0xF
    03923 7023      ANDI	R18,3
    03924 6320      ORI	R18,0x30
    03925 2D0A      MOV	R16,R10
    03926 940E 072B CALL	_lcd_write_char_con
(0182) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F)); 
    03928 2F24      MOV	R18,R20
    03929 702F      ANDI	R18,0xF
    0392A 6320      ORI	R18,0x30
    0392B 2D0A      MOV	R16,R10
    0392C 940E 072B CALL	_lcd_write_char_con
(0183) 	 lcd_write_char_con(y,':');
    0392E E32A      LDI	R18,0x3A
    0392F 2D0A      MOV	R16,R10
    03930 940E 072B CALL	_lcd_write_char_con
(0184) 	//分
(0185) 	time_cacah=Read1307(0x01);
    03932 E001      LDI	R16,1
    03933 DF57      RCALL	_Read1307
    03934 0168      MOVW	R12,R16
    03935 2D4C      MOV	R20,R12
(0186) 	 lcd_write_char_con(y, 0x30|time_cacah>>4);
    03936 2F24      MOV	R18,R20
    03937 9522      SWAP	R18
    03938 702F      ANDI	R18,0xF
    03939 6320      ORI	R18,0x30
    0393A 2D0A      MOV	R16,R10
    0393B 940E 072B CALL	_lcd_write_char_con
(0187) 	 lcd_write_char_con(y,0x30|(time_cacah&0x0F));
    0393D 2F24      MOV	R18,R20
    0393E 702F      ANDI	R18,0xF
    0393F 6320      ORI	R18,0x30
    03940 2D0A      MOV	R16,R10
    03941 940E 072B CALL	_lcd_write_char_con
(0188) 	 lcd_write_char_con(y,':');
    03943 E32A      LDI	R18,0x3A
    03944 2D0A      MOV	R16,R10
    03945 940E 072B CALL	_lcd_write_char_con
(0189) 	//秒
(0190) 	time_cacah=Read1307(0x00);
    03947 2700      CLR	R16
    03948 DF42      RCALL	_Read1307
    03949 0168      MOVW	R12,R16
    0394A 2D4C      MOV	R20,R12
(0191) 	 lcd_write_char_con(y, 0x30|(time_cacah>>4));
    0394B 2F24      MOV	R18,R20
    0394C 9522      SWAP	R18
    0394D 702F      ANDI	R18,0xF
    0394E 6320      ORI	R18,0x30
    0394F 2D0A      MOV	R16,R10
    03950 940E 072B CALL	_lcd_write_char_con
(0192) 	 lcd_write_char_con(y,0x30|(time_cacah &0x0F));
FILE: <library>
    03952 2F24      MOV	R18,R20
    03953 702F      ANDI	R18,0xF
    03954 6320      ORI	R18,0x30
    03955 2D0A      MOV	R16,R10
    03956 940E 072B CALL	_lcd_write_char_con
    03958 940C 39FB JMP	pop_xgset303C
push_arg4:
    0395A 933A      ST	-Y,R19
    0395B 932A      ST	-Y,R18
push_arg2:
    0395C 931A      ST	-Y,R17
    0395D 930A      ST	-Y,R16
    0395E 9508      RET
asr16:
    0395F 2322      TST	R18
    03960 F021      BEQ	0x3965
    03961 9515      ASR	R17
    03962 9507      ROR	R16
    03963 952A      DEC	R18
    03964 CFFA      RJMP	asr16
    03965 9508      RET
mod16s:
    03966 9468      BSET	6
    03967 92DA      ST	-Y,R13
    03968 2ED1      MOV	R13,R17
    03969 C004      RJMP	0x396E
div16s:
    0396A 94E8      BCLR	6
    0396B 92DA      ST	-Y,R13
    0396C 2ED1      MOV	R13,R17
    0396D 26D3      EOR	R13,R19
    0396E FF17      SBRS	R17,7
    0396F C004      RJMP	0x3974
    03970 9510      COM	R17
    03971 9500      COM	R16
    03972 5F0F      SUBI	R16,0xFF
    03973 4F1F      SBCI	R17,0xFF
    03974 FF37      SBRS	R19,7
    03975 C004      RJMP	0x397A
    03976 9530      COM	R19
    03977 9520      COM	R18
    03978 5F2F      SUBI	R18,0xFF
    03979 4F3F      SBCI	R19,0xFF
    0397A 940E 3987 CALL	xdiv16u
    0397C FED7      SBRS	R13,7
    0397D C004      RJMP	0x3982
    0397E 9510      COM	R17
    0397F 9500      COM	R16
    03980 5F0F      SUBI	R16,0xFF
    03981 4F1F      SBCI	R17,0xFF
    03982 90D9      LD	R13,Y+
    03983 9508      RET
mod16u:
    03984 9468      BSET	6
    03985 C001      RJMP	xdiv16u
div16u:
    03986 94E8      BCLR	6
xdiv16u:
    03987 92EA      ST	-Y,R14
    03988 92FA      ST	-Y,R15
    03989 938A      ST	-Y,R24
    0398A 24EE      CLR	R14
    0398B 24FF      CLR	R15
    0398C E180      LDI	R24,0x10
    0398D 0F00      LSL	R16
    0398E 1F11      ROL	R17
    0398F 1CEE      ROL	R14
    03990 1CFF      ROL	R15
    03991 16E2      CP	R14,R18
    03992 06F3      CPC	R15,R19
    03993 F018      BCS	0x3997
    03994 1AE2      SUB	R14,R18
    03995 0AF3      SBC	R15,R19
    03996 9503      INC	R16
    03997 958A      DEC	R24
    03998 F7A1      BNE	0x398D
    03999 F416      BRTC	0x399C
    0399A 2D0E      MOV	R16,R14
    0399B 2D1F      MOV	R17,R15
    0399C 9189      LD	R24,Y+
    0399D 90F9      LD	R15,Y+
    0399E 90E9      LD	R14,Y+
    0399F 9508      RET
empy16s:
    039A0 920A      ST	-Y,R0
    039A1 921A      ST	-Y,R1
    039A2 938A      ST	-Y,R24
    039A3 939A      ST	-Y,R25
    039A4 9F02      MUL	R16,R18
    039A5 01C0      MOVW	R24,R0
    039A6 9F12      MUL	R17,R18
    039A7 0D90      ADD	R25,R0
    039A8 9F03      MUL	R16,R19
    039A9 0D90      ADD	R25,R0
    039AA 018C      MOVW	R16,R24
    039AB 9199      LD	R25,Y+
    039AC 9189      LD	R24,Y+
    039AD 9019      LD	R1,Y+
    039AE 9009      LD	R0,Y+
    039AF 9508      RET
pop_xgset003C:
    039B0 90A9      LD	R10,Y+
    039B1 90B9      LD	R11,Y+
    039B2 90C9      LD	R12,Y+
    039B3 90D9      LD	R13,Y+
    039B4 9508      RET
pop_xgset00FC:
    039B5 90A9      LD	R10,Y+
    039B6 90B9      LD	R11,Y+
    039B7 90C9      LD	R12,Y+
    039B8 90D9      LD	R13,Y+
    039B9 90E9      LD	R14,Y+
    039BA 90F9      LD	R15,Y+
    039BB 9508      RET
pop_xgsetF0FC:
    039BC 90A9      LD	R10,Y+
    039BD 90B9      LD	R11,Y+
    039BE 90C9      LD	R12,Y+
    039BF 90D9      LD	R13,Y+
    039C0 90E9      LD	R14,Y+
    039C1 90F9      LD	R15,Y+
    039C2 9149      LD	R20,Y+
    039C3 9159      LD	R21,Y+
    039C4 9169      LD	R22,Y+
    039C5 9179      LD	R23,Y+
    039C6 9508      RET
push_xgsetF0FC:
    039C7 937A      ST	-Y,R23
    039C8 936A      ST	-Y,R22
push_xgset30FC:
    039C9 935A      ST	-Y,R21
    039CA 934A      ST	-Y,R20
push_xgset00FC:
    039CB 92FA      ST	-Y,R15
    039CC 92EA      ST	-Y,R14
push_xgset003C:
    039CD 92DA      ST	-Y,R13
    039CE 92CA      ST	-Y,R12
    039CF 92BA      ST	-Y,R11
    039D0 92AA      ST	-Y,R10
    039D1 9508      RET
push_xgset300C:
    039D2 935A      ST	-Y,R21
    039D3 934A      ST	-Y,R20
    039D4 92BA      ST	-Y,R11
    039D5 92AA      ST	-Y,R10
    039D6 9508      RET
pop_xgset300C:
    039D7 90A9      LD	R10,Y+
    039D8 90B9      LD	R11,Y+
    039D9 9149      LD	R20,Y+
    039DA 9159      LD	R21,Y+
    039DB 9508      RET
push_xgsetF000:
    039DC 937A      ST	-Y,R23
    039DD 936A      ST	-Y,R22
    039DE 935A      ST	-Y,R21
    039DF 934A      ST	-Y,R20
    039E0 9508      RET
pop_xgsetF000:
    039E1 9149      LD	R20,Y+
    039E2 9159      LD	R21,Y+
    039E3 9169      LD	R22,Y+
    039E4 9179      LD	R23,Y+
    039E5 9508      RET
push_xgsetF00C:
    039E6 937A      ST	-Y,R23
    039E7 936A      ST	-Y,R22
    039E8 935A      ST	-Y,R21
    039E9 934A      ST	-Y,R20
    039EA 92BA      ST	-Y,R11
    039EB 92AA      ST	-Y,R10
    039EC 9508      RET
pop_xgsetF00C:
    039ED 90A9      LD	R10,Y+
    039EE 90B9      LD	R11,Y+
    039EF 9149      LD	R20,Y+
    039F0 9159      LD	R21,Y+
    039F1 9169      LD	R22,Y+
    039F2 9179      LD	R23,Y+
    039F3 9508      RET
push_xgset303C:
    039F4 935A      ST	-Y,R21
    039F5 934A      ST	-Y,R20
    039F6 92DA      ST	-Y,R13
    039F7 92CA      ST	-Y,R12
    039F8 92BA      ST	-Y,R11
    039F9 92AA      ST	-Y,R10
    039FA 9508      RET
pop_xgset303C:
    039FB 90A9      LD	R10,Y+
    039FC 90B9      LD	R11,Y+
    039FD 90C9      LD	R12,Y+
    039FE 90D9      LD	R13,Y+
    039FF 9149      LD	R20,Y+
    03A00 9159      LD	R21,Y+
    03A01 9508      RET
push_xgsetF03C:
    03A02 937A      ST	-Y,R23
    03A03 936A      ST	-Y,R22
    03A04 935A      ST	-Y,R21
    03A05 934A      ST	-Y,R20
    03A06 92DA      ST	-Y,R13
    03A07 92CA      ST	-Y,R12
    03A08 92BA      ST	-Y,R11
    03A09 92AA      ST	-Y,R10
    03A0A 9508      RET
pop_xgsetF03C:
    03A0B 90A9      LD	R10,Y+
    03A0C 90B9      LD	R11,Y+
    03A0D 90C9      LD	R12,Y+
    03A0E 90D9      LD	R13,Y+
    03A0F 9149      LD	R20,Y+
    03A10 9159      LD	R21,Y+
    03A11 9169      LD	R22,Y+
    03A12 9179      LD	R23,Y+
    03A13 9508      RET
lsl8:
    03A14 2311      TST	R17
    03A15 F019      BEQ	0x3A19
    03A16 0F00      LSL	R16
    03A17 951A      DEC	R17
    03A18 CFFB      RJMP	lsl8
    03A19 9508      RET
asgnblk:
    03A1A 93AA      ST	-Y,R26
    03A1B 93BA      ST	-Y,R27
    03A1C 93EA      ST	-Y,R30
    03A1D 93FA      ST	-Y,R31
    03A1E 920A      ST	-Y,R0
    03A1F 81AF      LDD	R26,Y+7
    03A20 85B8      LDD	R27,Y+8
    03A21 81ED      LDD	R30,Y+5
    03A22 81FE      LDD	R31,Y+6
    03A23 3000      CPI	R16,0
    03A24 0701      CPC	R16,R17
    03A25 F029      BEQ	0x3A2B
    03A26 9001      LD	R0,Z+
    03A27 920D      ST	X+,R0
    03A28 5001      SUBI	R16,1
    03A29 4010      SBCI	R17,0
    03A2A CFF8      RJMP	0x3A23
    03A2B 9009      LD	R0,Y+
    03A2C 91F9      LD	R31,Y+
    03A2D 91E9      LD	R30,Y+
    03A2E 91B9      LD	R27,Y+
    03A2F 91A9      LD	R26,Y+
    03A30 9624      ADIW	R28,4
    03A31 9508      RET
